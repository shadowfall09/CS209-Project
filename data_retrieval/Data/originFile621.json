{"items":[{"tags":["java","testing","jar"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1677252823,"post_id":75556799,"comment_id":133307037,"body_markdown":"You are probably using git ? Create a new branch for this feature and at a later state you can merge the feature into the main artefact.","body":"You are probably using git ? Create a new branch for this feature and at a later state you can merge the feature into the main artefact."},{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1677600489,"post_id":75556799,"comment_id":133368180,"body_markdown":"@PeterMmm I will create another package that contains this class, but I need to update the existing jar with this class I posted a new question for this","body":"@PeterMmm I will create another package that contains this class, but I need to update the existing jar with this class I posted a new question for this"}],"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677243181,"creation_date":1677243181,"question_id":75556799,"body_markdown":"Probleme :\r\n\r\nI have an PLM integration code which means that I have client/server classes. So recently I have done a customization in a class (server classes) to send a message to my application (client). This customization is just a JSON object that contains a String message and ArrayList which can be added or not (its up to the client to choose). So I need to test this customization in futur versions but those changes are not in the class meaning can&#39;t be in other version (has to be added manually if client wants to).\r\n\r\n\r\n My question is : is it possible to create a test using a Jar that simplify for me the task without having to add the code manually ? Or can I have a copy of this class to test it but without doing any modification ?\r\n","title":"A method to create a test using a Jar","body":"<p>Probleme :</p>\n<p>I have an PLM integration code which means that I have client/server classes. So recently I have done a customization in a class (server classes) to send a message to my application (client). This customization is just a JSON object that contains a String message and ArrayList which can be added or not (its up to the client to choose). So I need to test this customization in futur versions but those changes are not in the class meaning can't be in other version (has to be added manually if client wants to).</p>\n<p>My question is : is it possible to create a test using a Jar that simplify for me the task without having to add the code manually ? Or can I have a copy of this class to test it but without doing any modification ?</p>\n"},{"tags":["java","authentication","jwt","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1677224873,"post_id":75548516,"comment_id":133299287,"body_markdown":"Quarkus offers some guides about security and RBAC using JWT, read them before all; this question is too generic and most probably will be closed is short time","body":"Quarkus offers some guides about security and RBAC using JWT, read them before all; this question is too generic and most probably will be closed is short time"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677187052,"creation_date":1677187052,"answer_id":75550407,"question_id":75548516,"body_markdown":"As for `Spring` or `Java Security API`, you can get the user through the `Principal` object. In the case of `Quarkus` or `Spring`, you will get it from the `SecurityContext`.\r\n\r\nBelow is the example from Quarkus [documentation][1]:\r\n\r\n&gt; Finally, implement the /api/users/me endpoint. As you can see from the\r\n&gt; source code example below, we are trusting only users with the user\r\n&gt; role. We are also using SecurityContext to get access to the currently\r\n&gt; authenticated Principal, and we return the user name, all of which is\r\n&gt; loaded from the database.\r\n\r\n    package org.acme.security.jpa;\r\n    \r\n    import javax.annotation.security.RolesAllowed;\r\n    import javax.inject.Inject;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.core.SecurityContext;\r\n    \r\n    @Path(&quot;/api/users&quot;)\r\n    public class UserResource {\r\n    \r\n        @GET\r\n        @RolesAllowed(&quot;user&quot;)\r\n        @Path(&quot;/me&quot;)\r\n        public String me(@Context SecurityContext securityContext) {\r\n            return securityContext.getUserPrincipal().getName();\r\n        }\r\n    }\r\n\r\n  [1]: https://quarkus.io/guides/security-basic-authentication-tutorial\r\n","title":"JWT with Quarkus","body":"<p>As for <code>Spring</code> or <code>Java Security API</code>, you can get the user through the <code>Principal</code> object. In the case of <code>Quarkus</code> or <code>Spring</code>, you will get it from the <code>SecurityContext</code>.</p>\n<p>Below is the example from Quarkus <a href=\"https://quarkus.io/guides/security-basic-authentication-tutorial\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Finally, implement the /api/users/me endpoint. As you can see from the\nsource code example below, we are trusting only users with the user\nrole. We are also using SecurityContext to get access to the currently\nauthenticated Principal, and we return the user name, all of which is\nloaded from the database.</p>\n</blockquote>\n<pre><code>package org.acme.security.jpa;\n\nimport javax.annotation.security.RolesAllowed;\nimport javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.SecurityContext;\n\n@Path(&quot;/api/users&quot;)\npublic class UserResource {\n\n    @GET\n    @RolesAllowed(&quot;user&quot;)\n    @Path(&quot;/me&quot;)\n    public String me(@Context SecurityContext securityContext) {\n        return securityContext.getUserPrincipal().getName();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677242714,"creation_date":1677242714,"answer_id":75556730,"question_id":75548516,"body_markdown":"If I understand correctly, Quarkus relies on the `groups` claim to assign the user a role. In your JWT you don&#39;t have the `groups` claim, but the namespaced role claim: `http://schemas.microsoft.com/ws/2008/06/identity/claims/role`\r\n\r\nIt seems that you need to set this configuration property: `smallrye.jwt.path.groups`, this should point to the claim that contains the user&#39;s groups.\r\n\r\nThis should work in your case:\r\n\r\n```yml\r\nsmallrye.jwt.path.groups: &quot;http://schemas.microsoft.com/ws/2008/06/identity/claims/role&quot;\r\n```\r\n\r\nHave a look also at this documentation page: https://quarkus.io/guides/security-jwt It describes in detail how Quarkus works with JWTs.","title":"JWT with Quarkus","body":"<p>If I understand correctly, Quarkus relies on the <code>groups</code> claim to assign the user a role. In your JWT you don't have the <code>groups</code> claim, but the namespaced role claim: <code>http://schemas.microsoft.com/ws/2008/06/identity/claims/role</code></p>\n<p>It seems that you need to set this configuration property: <code>smallrye.jwt.path.groups</code>, this should point to the claim that contains the user's groups.</p>\n<p>This should work in your case:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>smallrye.jwt.path.groups: &quot;http://schemas.microsoft.com/ws/2008/06/identity/claims/role&quot;\n</code></pre>\n<p>Have a look also at this documentation page: <a href=\"https://quarkus.io/guides/security-jwt\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/security-jwt</a> It describes in detail how Quarkus works with JWTs.</p>\n"}],"owner":{"account_id":14803975,"reputation":75,"user_id":10691496,"display_name":"Section"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677242714,"creation_date":1677174535,"question_id":75548516,"body_markdown":"I got the following jwt\r\n\r\n```\r\n{\r\n alg: &quot;http://www.w3.org/2001/04/xmldsig-more#hmac-sha256&quot;,\r\n typ: &quot;JWT&quot;\r\n}.\r\n{\r\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: &quot;username&quot;,\r\n http://schemas.microsoft.com/ws/2008/06/identity/claims/userdata: &quot;data&quot;,\r\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname: &quot;Jon&quot;,\r\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname: &quot;Doe&quot;,\r\n http://schemas.microsoft.com/ws/2008/06/identity/claims/role: [\r\n  &quot;Admin&quot;,\r\n  &quot;Developer&quot;,\r\n ],\r\n exp: 1677257784,\r\n iss: &quot;IMS.company.com&quot;\r\n}.\r\n```\r\n\r\nHow do I check if the user has a specific role when making a request?\r\n\r\n\r\n```\r\n @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;/getAllOverview&quot;)\r\n    @RolesAllowed({&quot;Admin&quot;})\r\n    public String getAllOverview() {\r\n        return &quot;Do Stuff&quot;;\r\n    }\r\n```\r\n\r\nBut this blocks every request to the endpoint.\r\n\r\nI&#39;m obviously pretty new to quarkus and jwt so maybe someone can help me.","title":"JWT with Quarkus","body":"<p>I got the following jwt</p>\n<pre><code>{\n alg: &quot;http://www.w3.org/2001/04/xmldsig-more#hmac-sha256&quot;,\n typ: &quot;JWT&quot;\n}.\n{\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: &quot;username&quot;,\n http://schemas.microsoft.com/ws/2008/06/identity/claims/userdata: &quot;data&quot;,\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname: &quot;Jon&quot;,\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname: &quot;Doe&quot;,\n http://schemas.microsoft.com/ws/2008/06/identity/claims/role: [\n  &quot;Admin&quot;,\n  &quot;Developer&quot;,\n ],\n exp: 1677257784,\n iss: &quot;IMS.company.com&quot;\n}.\n</code></pre>\n<p>How do I check if the user has a specific role when making a request?</p>\n<pre><code> @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;/getAllOverview&quot;)\n    @RolesAllowed({&quot;Admin&quot;})\n    public String getAllOverview() {\n        return &quot;Do Stuff&quot;;\n    }\n</code></pre>\n<p>But this blocks every request to the endpoint.</p>\n<p>I'm obviously pretty new to quarkus and jwt so maybe someone can help me.</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400189230,"creation_date":1400189230,"answer_id":23688982,"question_id":23688889,"body_markdown":"For some reason, intellij didn&#39;t recognize my directories as packages.  If I created something directly from the java directory, it would give me the correct options.  I fixed this by deleting everything under java/ and recreating it.  This may be an intellij bug.  ","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>For some reason, intellij didn't recognize my directories as packages.  If I created something directly from the java directory, it would give me the correct options.  I fixed this by deleting everything under java/ and recreating it.  This may be an intellij bug.  </p>\n"},{"tags":[],"owner":{"account_id":9344795,"reputation":31,"user_id":6936337,"display_name":"Bindiya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475831532,"creation_date":1475831532,"answer_id":39913604,"question_id":23688889,"body_markdown":"The directory or one of the parent directories must be marked as Source Root (In this case, it appears in blue).\r\n\r\nIf this is not the case, right click your root source directory -&gt; Mark As -&gt; Source Root.","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>The directory or one of the parent directories must be marked as Source Root (In this case, it appears in blue).</p>\n\n<p>If this is not the case, right click your root source directory -> Mark As -> Source Root.</p>\n"},{"tags":[],"owner":{"account_id":18987482,"reputation":31,"user_id":13857436,"display_name":"Pranavi Chaturvedula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623905600,"creation_date":1623905600,"answer_id":68013122,"question_id":23688889,"body_markdown":"This happened when I was trying to add classes to a generated package using xjc plugin. \r\n\r\nIntellij allows to add classes only to packages which are correctly names and have the &quot;source root&quot; status. \r\n\r\nCan be fixed as-&gt; right click on the directory where you&#39;re not able to add classes:\r\n\r\n[Mark sources root][1] \r\nrefer image for clarity\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J7OSl.png","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>This happened when I was trying to add classes to a generated package using xjc plugin.</p>\n<p>Intellij allows to add classes only to packages which are correctly names and have the &quot;source root&quot; status.</p>\n<p>Can be fixed as-&gt; right click on the directory where you're not able to add classes:</p>\n<p><a href=\"https://i.stack.imgur.com/J7OSl.png\" rel=\"nofollow noreferrer\">Mark sources root</a>\nrefer image for clarity</p>\n"},{"tags":[],"owner":{"account_id":2319339,"reputation":610,"user_id":2035841,"accept_rate":100,"display_name":"Jay Teli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677242419,"creation_date":1677241576,"answer_id":75556564,"question_id":23688889,"body_markdown":"This worked for me : \r\n1. Right click the java folder (myproject/src/main/java)\r\n2. Click &quot;Mark Directory as&quot;\r\n3. Click &quot;Source Root&quot;\r\n4. Right click the myproject folder (myproject/src/main/java)\r\n5. Click &quot;Mark Directory as&quot;\r\n6. Click &quot;Source Root&quot;\r\n\r\nSo basically had to mark some inner folder as Source project and alter mark parent project again as Source project.. \r\nHacky way but this worked for me.\r\n","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>This worked for me :</p>\n<ol>\n<li>Right click the java folder (myproject/src/main/java)</li>\n<li>Click &quot;Mark Directory as&quot;</li>\n<li>Click &quot;Source Root&quot;</li>\n<li>Right click the myproject folder (myproject/src/main/java)</li>\n<li>Click &quot;Mark Directory as&quot;</li>\n<li>Click &quot;Source Root&quot;</li>\n</ol>\n<p>So basically had to mark some inner folder as Source project and alter mark parent project again as Source project..\nHacky way but this worked for me.</p>\n"}],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3264,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1677242419,"creation_date":1400188879,"question_id":23688889,"body_markdown":"Here&#39;s what I&#39;m seeing:\r\n\r\n![enter image description here][1]\r\n\r\nNormally I can choose &quot;New Java Class&quot; but for some reason I&#39;m not getting this option.  I created this project by opening an empty directory and building it out from there.  [I&#39;ve seen this question,][2] but that answer didn&#39;t help me.  Here&#39;s my module settings:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nEven if I open my pom.xml directly as a project, it still has this problem.  How do I fix this?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/iIDvs.png\r\n  [2]: https://stackoverflow.com/questions/19384319/intellij-idea-dont-offer-new-class-for-creating\r\n  [3]: http://i.stack.imgur.com/XDVFW.png","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>Here's what I'm seeing:</p>\n\n<p><img src=\"https://i.stack.imgur.com/iIDvs.png\" alt=\"enter image description here\"></p>\n\n<p>Normally I can choose \"New Java Class\" but for some reason I'm not getting this option.  I created this project by opening an empty directory and building it out from there.  <a href=\"https://stackoverflow.com/questions/19384319/intellij-idea-dont-offer-new-class-for-creating\">I've seen this question,</a> but that answer didn't help me.  Here's my module settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XDVFW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDVFW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Even if I open my pom.xml directly as a project, it still has this problem.  How do I fix this?</p>\n"},{"tags":["java","html","css","reactjs"],"comments":[{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1677177391,"post_id":75521273,"comment_id":133291425,"body_markdown":"Hi! Could you please edit your post to add a question? Right now it&#39;s not clear what you&#39;re really asking :)","body":"Hi! Could you please edit your post to add a question? Right now it&#39;s not clear what you&#39;re really asking :)"}],"owner":{"account_id":21783696,"reputation":21,"user_id":16085071,"display_name":"Nitin Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677242337,"creation_date":1676986601,"question_id":75521273,"body_markdown":"I am creating a carousel with an auto-sliding feature but whenever I am clicking on my button to move to a specific slide, its speed increases.\r\nSo, to move my slides I am using setTimeout function to increase slideindex after every 3500ms. \r\nI have tried hard coding the delay values in my setTimeout function but it didn&#39;t work. I have attached a video link you can check it out and see the issue.\r\n\r\n```\r\nimport React, { useEffect, useState } from &quot;react&quot;;\r\nimport { BsChevronCompactLeft, BsChevronCompactRight } from &quot;react-icons/bs&quot;;\r\nimport { RxDotFilled } from &quot;react-icons/rx&quot;;\r\n\r\nfunction HeroBanner() {\r\n  const slides = [\r\n    {\r\n      url: &quot;https://www.theindiaforum.in/sites/default/files/field/image/2022/06/21/ramkumar-radhakrishnan-wikimedia-1622193304-1622193304.jpeg&quot;,\r\n      text: &quot;Turn your farm into a success with the right labor&quot;,\r\n    },\r\n\r\n    {\r\n      url: &quot;https://images.livemint.com/img/2021/12/02/1600x900/farmers_1638463257211_1638463257385.jpg&quot;,\r\n      text: &quot;The best farmhands are just a click away!&quot;,\r\n    },\r\n\r\n    {\r\n      url: &quot;https://mb.com.ph/wp-content/uploads/2021/11/Main-photo-scaled.jpg&quot;,\r\n      text: &quot;The best farmhands are just a click away!&quot;,\r\n    },\r\n  ];\r\n  const delay = 3500;\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const prevSlide = () =&gt; {\r\n    const isFirstIndex = currentIndex === 0;\r\n    const newIndex = isFirstIndex ? slides.length - 1 : currentIndex - 1;\r\n\r\n    setCurrentIndex(newIndex);\r\n  };\r\n  const nextSlide = () =&gt; {\r\n    const isLastIndex = currentIndex === slides.length - 1;\r\n    const newIndex = isLastIndex ? 0 : currentIndex + 1;\r\n\r\n    setCurrentIndex(newIndex);\r\n  };\r\n\r\n  const goToSlide = (slideIndex) =&gt; {\r\n    setCurrentIndex(slideIndex);\r\n  };\r\n\r\n  useEffect(() =&gt; {\r\n    setTimeout(\r\n      () =&gt;\r\n        setCurrentIndex((prevIndex) =&gt;\r\n          prevIndex === slides.length - 1 ? 0 : prevIndex + 1\r\n        ),\r\n      delay\r\n    );\r\n  }, [currentIndex]);\r\n\r\n  return (\r\n    &lt;div className=&quot;max-w-[1200px] h-[600px] w-full mx-auto py-16 px-4 relative group&quot;&gt;\r\n      &lt;div\r\n        className=&quot;w-full h-full rounded-2xl bg-center bg-cover duration-500&quot;\r\n        style={{ backgroundImage: `url(${slides[currentIndex].url})` }}\r\n      &gt;\r\n        &lt;div className=&quot;mx-auto bg-black/50 w-full h-full rounded-2xl relative&quot;&gt;\r\n          &lt;h1 className=&quot;text-white text-3xl absolute bottom-0 text-center  mb-4&quot;&gt;\r\n            {slides[currentIndex].text}\r\n           &lt;/h1&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n\r\n      {/* Left Arrow */}\r\n      &lt;div className=&quot;absolute top-[50%] -translate-x-0 translate-y-[-50%] left-5 text-2xl rounded-full p-2 group-hover:bg-black/20 text-white cursor-pointer&quot;&gt;\r\n        &lt;BsChevronCompactLeft size={30} onClick={prevSlide} /&gt;\r\n      &lt;/div&gt;\r\n      {/* Right Arrow */}\r\n      &lt;div className=&quot;absolute top-[50%] -translate-x-0 translate-y-[-50%] right-5 text-2xl rounded-full p-2 group-hover:bg-black/20 text-white cursor-pointer&quot;&gt;\r\n        &lt;BsChevronCompactRight size={30} onClick={nextSlide} /&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div className=&quot;flex top-4 justify-center py-2&quot;&gt;\r\n        {slides.map((slide, slideIndex) =&gt; (\r\n          &lt;div\r\n            className=&quot;text-2xl cursor-pointer&quot;\r\n            key={slideIndex}\r\n            onClick={() =&gt; goToSlide(slideIndex)}\r\n          &gt;\r\n            &lt;RxDotFilled /&gt;\r\n          &lt;/div&gt;\r\n        ))}\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n\r\nexport default HeroBanner;\r\n\r\n```\r\n\r\nI have tried setting delay as a const variable but it didn&#39;t help\r\n\r\nYou can check the output in this video- https://drive.google.com/file/d/1ESpgafXTI58FTcE_r1hPvIanjLwsSfr3/view?usp=sharing\r\nIn this video, you can see after clicking on the buttons slides&#39; speed got increased. \r\n\r\nThanks for helping me out!","title":"The slides speed of my carousel is increasing whenever i click on my buttons to move to a specific slide in my react component","body":"<p>I am creating a carousel with an auto-sliding feature but whenever I am clicking on my button to move to a specific slide, its speed increases.\nSo, to move my slides I am using setTimeout function to increase slideindex after every 3500ms.\nI have tried hard coding the delay values in my setTimeout function but it didn't work. I have attached a video link you can check it out and see the issue.</p>\n<pre><code>import React, { useEffect, useState } from &quot;react&quot;;\nimport { BsChevronCompactLeft, BsChevronCompactRight } from &quot;react-icons/bs&quot;;\nimport { RxDotFilled } from &quot;react-icons/rx&quot;;\n\nfunction HeroBanner() {\n  const slides = [\n    {\n      url: &quot;https://www.theindiaforum.in/sites/default/files/field/image/2022/06/21/ramkumar-radhakrishnan-wikimedia-1622193304-1622193304.jpeg&quot;,\n      text: &quot;Turn your farm into a success with the right labor&quot;,\n    },\n\n    {\n      url: &quot;https://images.livemint.com/img/2021/12/02/1600x900/farmers_1638463257211_1638463257385.jpg&quot;,\n      text: &quot;The best farmhands are just a click away!&quot;,\n    },\n\n    {\n      url: &quot;https://mb.com.ph/wp-content/uploads/2021/11/Main-photo-scaled.jpg&quot;,\n      text: &quot;The best farmhands are just a click away!&quot;,\n    },\n  ];\n  const delay = 3500;\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const prevSlide = () =&gt; {\n    const isFirstIndex = currentIndex === 0;\n    const newIndex = isFirstIndex ? slides.length - 1 : currentIndex - 1;\n\n    setCurrentIndex(newIndex);\n  };\n  const nextSlide = () =&gt; {\n    const isLastIndex = currentIndex === slides.length - 1;\n    const newIndex = isLastIndex ? 0 : currentIndex + 1;\n\n    setCurrentIndex(newIndex);\n  };\n\n  const goToSlide = (slideIndex) =&gt; {\n    setCurrentIndex(slideIndex);\n  };\n\n  useEffect(() =&gt; {\n    setTimeout(\n      () =&gt;\n        setCurrentIndex((prevIndex) =&gt;\n          prevIndex === slides.length - 1 ? 0 : prevIndex + 1\n        ),\n      delay\n    );\n  }, [currentIndex]);\n\n  return (\n    &lt;div className=&quot;max-w-[1200px] h-[600px] w-full mx-auto py-16 px-4 relative group&quot;&gt;\n      &lt;div\n        className=&quot;w-full h-full rounded-2xl bg-center bg-cover duration-500&quot;\n        style={{ backgroundImage: `url(${slides[currentIndex].url})` }}\n      &gt;\n        &lt;div className=&quot;mx-auto bg-black/50 w-full h-full rounded-2xl relative&quot;&gt;\n          &lt;h1 className=&quot;text-white text-3xl absolute bottom-0 text-center  mb-4&quot;&gt;\n            {slides[currentIndex].text}\n           &lt;/h1&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      {/* Left Arrow */}\n      &lt;div className=&quot;absolute top-[50%] -translate-x-0 translate-y-[-50%] left-5 text-2xl rounded-full p-2 group-hover:bg-black/20 text-white cursor-pointer&quot;&gt;\n        &lt;BsChevronCompactLeft size={30} onClick={prevSlide} /&gt;\n      &lt;/div&gt;\n      {/* Right Arrow */}\n      &lt;div className=&quot;absolute top-[50%] -translate-x-0 translate-y-[-50%] right-5 text-2xl rounded-full p-2 group-hover:bg-black/20 text-white cursor-pointer&quot;&gt;\n        &lt;BsChevronCompactRight size={30} onClick={nextSlide} /&gt;\n      &lt;/div&gt;\n\n      &lt;div className=&quot;flex top-4 justify-center py-2&quot;&gt;\n        {slides.map((slide, slideIndex) =&gt; (\n          &lt;div\n            className=&quot;text-2xl cursor-pointer&quot;\n            key={slideIndex}\n            onClick={() =&gt; goToSlide(slideIndex)}\n          &gt;\n            &lt;RxDotFilled /&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default HeroBanner;\n\n</code></pre>\n<p>I have tried setting delay as a const variable but it didn't help</p>\n<p>You can check the output in this video- <a href=\"https://drive.google.com/file/d/1ESpgafXTI58FTcE_r1hPvIanjLwsSfr3/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1ESpgafXTI58FTcE_r1hPvIanjLwsSfr3/view?usp=sharing</a>\nIn this video, you can see after clicking on the buttons slides' speed got increased.</p>\n<p>Thanks for helping me out!</p>\n"},{"tags":["java","android","kotlin","mobile","android-recyclerview"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1677253964,"post_id":75556634,"comment_id":133307380,"body_markdown":"Can you show the code for your `viewModel.getAllWebs()` function, and if it calls something in your repo and then your DAO, show those, too?","body":"Can you show the code for your <code>viewModel.getAllWebs()</code> function, and if it calls something in your repo and then your DAO, show those, too?"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1677263976,"post_id":75556634,"comment_id":133310016,"body_markdown":"You don&#39;t actually delete the item from your adapter&#39;s data set, so when you call `notifyItemRemoved` it&#39;s still there. So you&#39;re relying on the `long click callback -&gt; viewModel.deleteWeb` event to generate an update to some data that you&#39;re observing, so the adapter is given a new set of data to display (i.e. the list, but with the deleted item removed). Since it&#39;s working for everything *except the last item*, the problem is probably that your observer checks if the list is empty, and *doesn&#39;t update the adapter* if that&#39;s true. You&#39;d be better pushing the current data every time","body":"You don&#39;t actually delete the item from your adapter&#39;s data set, so when you call <code>notifyItemRemoved</code> it&#39;s still there. So you&#39;re relying on the <code>long click callback -&gt; viewModel.deleteWeb</code> event to generate an update to some data that you&#39;re observing, so the adapter is given a new set of data to display (i.e. the list, but with the deleted item removed). Since it&#39;s working for everything <i>except the last item</i>, the problem is probably that your observer checks if the list is empty, and <i>doesn&#39;t update the adapter</i> if that&#39;s true. You&#39;d be better pushing the current data every time"},{"owner":{"account_id":27869215,"reputation":11,"user_id":21280120,"display_name":"Ridhwanafzn"},"score":0,"creation_date":1677296806,"post_id":75556634,"comment_id":133315075,"body_markdown":"@Tenfour04 , `fun getAllWebs(): LiveData&lt;List&lt;Web&gt;&gt; = mWebRepository.getAllWebs()`","body":"@Tenfour04 , <code>fun getAllWebs(): LiveData&lt;List&lt;Web&gt;&gt; = mWebRepository.getAllWebs()</code>"},{"owner":{"account_id":27869215,"reputation":11,"user_id":21280120,"display_name":"Ridhwanafzn"},"score":0,"creation_date":1677296930,"post_id":75556634,"comment_id":133315089,"body_markdown":"@cactustictacs , Thank you for your help. I solved that now with your advice","body":"@cactustictacs , Thank you for your help. I solved that now with your advice"}],"owner":{"account_id":27869215,"reputation":11,"user_id":21280120,"display_name":"Ridhwanafzn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677242090,"creation_date":1677242090,"question_id":75556634,"body_markdown":"im new here and i also begginer in android development.\r\nEverything is work exepct this one. Technically delete item is also works. but when i deleted the last one item, it removed on the database but still shown in the activity(it&#39;s gone when i restart the app after deleting it)\r\n\r\nHere is my code:\r\n**Here is the problem**\r\n[Before i delete the last item on the list](https://i.stack.imgur.com/ynS5Z.png)\r\n[After I delete the last item](https://i.stack.imgur.com/6Fp2I.png)\r\n\r\n**Here is my repository**\r\n\r\n```\r\nprivate val mWebsDao: WebDao\r\n    private val executorService: ExecutorService = Executors.newSingleThreadExecutor()\r\n\r\ninit {\r\n        val db = WebRoomDatabase.getDatabase(application)\r\n        mWebsDao = db.webDao()\r\n    }\r\n\r\nfun deleteWeb(web: Web) {\r\n        executorService.execute { mWebsDao.deleteWebById(web) }\r\n    }\r\n```\r\n\r\n\r\n**Here is my ViewModel**\r\n\r\n```\r\nprivate val mWebRepository: WebRepository = WebRepository(application)\r\n\r\nfun deleteWeb(web: Web) {\r\n        mWebRepository.deleteWeb(web)\r\n    }\r\n```\r\n\r\n\r\n**Here is MyAdapter**\r\n\r\n```\r\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val (_, webName, webUrl, webImgColor) = listWeb[position]\r\n\r\n        holder.binding.imgColorWeb.background = ColorDrawable(android.graphics.Color.rgb(webImgColor.r, webImgColor.g, webImgColor.b))\r\n        holder.binding.tvWebName.text = webName\r\n        holder.binding.tvWebLink.text = webUrl\r\n        holder.binding.tvCharWebName.text = webName\r\n\r\n        holder.itemView.setOnClickListener {\r\n            onItemClickCallback.onItemClicked(listWeb[holder.adapterPosition])\r\n        }\r\n\r\n        holder.itemView.setOnLongClickListener {\r\n            val popUpMenu = PopupMenu(holder.itemView.context, holder.itemView)\r\n            popUpMenu.inflate(R.menu.menu_popup_item_pressed)\r\n\r\n            popUpMenu.setOnMenuItemClickListener { menuItem -&gt;\r\n                when (menuItem.itemId) {\r\n                    R.id.action_edit -&gt; {\r\n                        onItemLongClickCallback.onItemLongClickedEdit(listWeb[holder.adapterPosition])\r\n                        true\r\n                    }\r\n                    R.id.action_delete -&gt; {\r\n                        onItemLongClickCallback.onItemLongClickedDelete(listWeb[holder.adapterPosition])\r\n                        notifyItemRemoved(holder.adapterPosition)\r\n                        true\r\n                    }\r\n                    else -&gt; false\r\n                }\r\n            }\r\n\r\n            popUpMenu.show()\r\n            true\r\n        }\r\n    }\r\n\r\n    override fun getItemCount() = listWeb.size\r\n\r\n    interface OnItemClickCallback {\r\n        fun onItemClicked(web: Web)\r\n    }\r\n\r\n    interface OnItemLongClickCallback {\r\n        fun onItemLongClickedEdit(web: Web)\r\n        fun onItemLongClickedDelete(web: Web)\r\n    }\r\n```\r\n\r\n\r\n**Here is MyActivity**\r\n```\r\noverride fun onItemLongClickedDelete(web: Web) {\r\n                        mainViewModel.deleteWeb(web)\r\n\r\n                        Snackbar.make(binding.root, getString(R.string.deleted_web_message), Snackbar.LENGTH_LONG)\r\n                            .setAction(getString(R.string.undo)) {\r\n                                mainViewModel.insertWeb(web)\r\n                            }\r\n                            .show()\r\n                    }\r\n```\r\nshow the list ini activity\r\n\r\n```\r\n mainViewModel.getAllWebs().observe(this) {\r\n            if (it.isNullOrEmpty()) {\r\n                binding.emptyListInfo.alpha = 1f\r\n            } else {\r\n                binding.emptyListInfo.alpha = 0f\r\n                val webs = webList(it)\r\n                val rvWeb = binding.rvListWeb\r\n                rvWeb.layoutManager = LinearLayoutManager(this@MainActivity)\r\n                webAdapter = WebAdapter(webs)\r\n                rvWeb.adapter = webAdapter\r\n```\r\n\r\n\r\n\r\n[want this without restart the app after deleteing the item](https://i.stack.imgur.com/ZLwyl.png)","title":"There is still shown 1 item left after i deleted all the list of items. How to fix this?","body":"<p>im new here and i also begginer in android development.\nEverything is work exepct this one. Technically delete item is also works. but when i deleted the last one item, it removed on the database but still shown in the activity(it's gone when i restart the app after deleting it)</p>\n<p>Here is my code:\n<strong>Here is the problem</strong>\n<a href=\"https://i.stack.imgur.com/ynS5Z.png\" rel=\"nofollow noreferrer\">Before i delete the last item on the list</a>\n<a href=\"https://i.stack.imgur.com/6Fp2I.png\" rel=\"nofollow noreferrer\">After I delete the last item</a></p>\n<p><strong>Here is my repository</strong></p>\n<pre><code>private val mWebsDao: WebDao\n    private val executorService: ExecutorService = Executors.newSingleThreadExecutor()\n\ninit {\n        val db = WebRoomDatabase.getDatabase(application)\n        mWebsDao = db.webDao()\n    }\n\nfun deleteWeb(web: Web) {\n        executorService.execute { mWebsDao.deleteWebById(web) }\n    }\n</code></pre>\n<p><strong>Here is my ViewModel</strong></p>\n<pre><code>private val mWebRepository: WebRepository = WebRepository(application)\n\nfun deleteWeb(web: Web) {\n        mWebRepository.deleteWeb(web)\n    }\n</code></pre>\n<p><strong>Here is MyAdapter</strong></p>\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val (_, webName, webUrl, webImgColor) = listWeb[position]\n\n        holder.binding.imgColorWeb.background = ColorDrawable(android.graphics.Color.rgb(webImgColor.r, webImgColor.g, webImgColor.b))\n        holder.binding.tvWebName.text = webName\n        holder.binding.tvWebLink.text = webUrl\n        holder.binding.tvCharWebName.text = webName\n\n        holder.itemView.setOnClickListener {\n            onItemClickCallback.onItemClicked(listWeb[holder.adapterPosition])\n        }\n\n        holder.itemView.setOnLongClickListener {\n            val popUpMenu = PopupMenu(holder.itemView.context, holder.itemView)\n            popUpMenu.inflate(R.menu.menu_popup_item_pressed)\n\n            popUpMenu.setOnMenuItemClickListener { menuItem -&gt;\n                when (menuItem.itemId) {\n                    R.id.action_edit -&gt; {\n                        onItemLongClickCallback.onItemLongClickedEdit(listWeb[holder.adapterPosition])\n                        true\n                    }\n                    R.id.action_delete -&gt; {\n                        onItemLongClickCallback.onItemLongClickedDelete(listWeb[holder.adapterPosition])\n                        notifyItemRemoved(holder.adapterPosition)\n                        true\n                    }\n                    else -&gt; false\n                }\n            }\n\n            popUpMenu.show()\n            true\n        }\n    }\n\n    override fun getItemCount() = listWeb.size\n\n    interface OnItemClickCallback {\n        fun onItemClicked(web: Web)\n    }\n\n    interface OnItemLongClickCallback {\n        fun onItemLongClickedEdit(web: Web)\n        fun onItemLongClickedDelete(web: Web)\n    }\n</code></pre>\n<p><strong>Here is MyActivity</strong></p>\n<pre><code>override fun onItemLongClickedDelete(web: Web) {\n                        mainViewModel.deleteWeb(web)\n\n                        Snackbar.make(binding.root, getString(R.string.deleted_web_message), Snackbar.LENGTH_LONG)\n                            .setAction(getString(R.string.undo)) {\n                                mainViewModel.insertWeb(web)\n                            }\n                            .show()\n                    }\n</code></pre>\n<p>show the list ini activity</p>\n<pre><code> mainViewModel.getAllWebs().observe(this) {\n            if (it.isNullOrEmpty()) {\n                binding.emptyListInfo.alpha = 1f\n            } else {\n                binding.emptyListInfo.alpha = 0f\n                val webs = webList(it)\n                val rvWeb = binding.rvListWeb\n                rvWeb.layoutManager = LinearLayoutManager(this@MainActivity)\n                webAdapter = WebAdapter(webs)\n                rvWeb.adapter = webAdapter\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZLwyl.png\" rel=\"nofollow noreferrer\">want this without restart the app after deleteing the item</a></p>\n"},{"tags":["java","eclipse","noclassdeffounderror","jsonrpc4j"],"comments":[{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1653654029,"post_id":71457065,"comment_id":127908969,"body_markdown":"Does this answer your question? [What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?](https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn\">What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?</a>"}],"answers":[{"tags":[],"owner":{"account_id":16349174,"reputation":1,"user_id":11808182,"display_name":"The Vikk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677242032,"creation_date":1677242032,"answer_id":75556622,"question_id":71457065,"body_markdown":"I had the exact same issue. Managed to resolve it by adding these 2 dependencies to gradle:\r\n\r\n     // https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api\r\n    implementation(&quot;javax.servlet:javax.servlet-api:4.0.1&quot;)\r\n\r\n    // https://mvnrepository.com/artifact/javax.portlet/portlet-api\r\n    compileOnly(&quot;javax.portlet:portlet-api:3.0.1&quot;)\r\n","title":"Java jsonrpc4j jsonRpcServer NoClassDefFoundError (Eclipse)","body":"<p>I had the exact same issue. Managed to resolve it by adding these 2 dependencies to gradle:</p>\n<pre><code> // https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api\nimplementation(&quot;javax.servlet:javax.servlet-api:4.0.1&quot;)\n\n// https://mvnrepository.com/artifact/javax.portlet/portlet-api\ncompileOnly(&quot;javax.portlet:portlet-api:3.0.1&quot;)\n</code></pre>\n"}],"owner":{"account_id":8400869,"reputation":11,"user_id":11004800,"display_name":"davidvb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677242032,"creation_date":1647177034,"question_id":71457065,"body_markdown":"I want to create a basic JSON-RPC server over TCP. To do this I found the project &lt;https://github.com/briandilley/jsonrpc4j&gt;. When I tried to create in Eclipse a basic Maven project using the jsonRpcServer (see App.java), the exception java.lang.NoClassDefFoundError pops-up. Any hints?\r\n\r\nApp.java\r\n\r\n    package com.sxtlcfi.maven;\r\n    import com.googlecode.jsonrpc4j.JsonRpcServer;\r\n    \r\n    public class App {\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\t\r\n    \t\t// create the jsonRpcServer\r\n    \t\tUserServiceImpl userService = new UserServiceImpl();\r\n    \t\t\r\n    \t\t// actual runtime\r\n    \t\tString[] arrOfClassPath = System.getProperty(&quot;java.class.path&quot;).split(&quot;;&quot;);\r\n    \t\tfor (String a : arrOfClassPath) System.out.println(a);\r\n    \t\t\r\n    \t\t//Issue: https://code.google.com/archive/p/jsonrpc4j/issues/64\r\n    \t\tJsonRpcServer jsonRpcServer1 = new JsonRpcServer(userService);\r\n    \t\t//Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/ServletOutputStream\r\n    \t\t//at com.sxtlcfi.maven.App.main(App.java:60)\r\n    \t\t//Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletOutputStream\r\n    \t\t//\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \t\t//\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \t\t//\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t\t//\t... 1 more\r\n    \t\t\r\n    \t\t//System.out.println(UserService.class.getMethods()[0].getName());\r\n    \t\t//JsonRpcServer jsonRpcServer2 = new JsonRpcServer(userService, UserService.class);\r\n    \t}\r\n    }\r\n\r\nUserService.java\r\n\r\n    package com.sxtlcfi.maven;\r\n    public interface UserService {\r\n        User createUser(String userName, String firstName, String password);\r\n        User createUser(String userName, String password);\r\n        User findUserByUserName(String userName);\r\n        int getUserCount();\r\n    }\r\n\r\nUserServiceImpl.java\r\n\r\n    package com.sxtlcfi.maven;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class UserServiceImpl\r\n    \timplements UserService {\r\n    \r\n    \tArrayList&lt;User&gt; database = new ArrayList&lt;User&gt;();\r\n    \t\r\n        public User createUser(String userName, String firstName, String password) {\r\n            User user = new User();\r\n            user.setUserName(userName);\r\n            user.setFirstName(firstName);\r\n            user.setPassword(password);\r\n            \r\n            database.add(user);\r\n            return user;\r\n        }\r\n    \r\n        public User createUser(String userName, String password) {\r\n            return this.createUser(userName, null, password);\r\n        }\r\n    \r\n        public User findUserByUserName(String userName) {\r\n            //return database.findUserByUserName(userName);\r\n        \tfor (int i = 0; i &lt; database.size(); i++) {\r\n    \t\t\tif(database.get(i).getUserName() == userName) {\r\n    \t\t\t\treturn database.get(i);\r\n    \t\t\t}\r\n    \t\t}\r\n        \treturn null;\r\n        }\r\n    \r\n        public int getUserCount() {\r\n            //return database.getUserCount();\r\n        \treturn database.size();\r\n        }\r\n    \r\n    }\r\n\r\nUser.java\r\n\r\n    package com.sxtlcfi.maven;\r\n    \r\n    public class User {\r\n    \r\n    \tprivate String userName;\r\n    \tprivate String firstName;\r\n    \tprivate String password;\r\n    \t\r\n        public void setUserName(String userName) {\r\n        \tthis.userName = userName;\r\n        }\r\n        \r\n        public void setFirstName(String firstName) {\r\n        \tthis.firstName = firstName;\r\n        }\r\n        \r\n        public void setPassword(String password) {\r\n        \tthis.password = password;\r\n        }\r\n        \r\n        public String getUserName() {\r\n        \treturn userName;\r\n        }\r\n        \r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.sxtlcfi.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.13.2&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/com.github.briandilley.jsonrpc4j/jsonrpc4j --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;com.github.briandilley.jsonrpc4j&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;jsonrpc4j&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;1.6&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Java jsonrpc4j jsonRpcServer NoClassDefFoundError (Eclipse)","body":"<p>I want to create a basic JSON-RPC server over TCP. To do this I found the project <a href=\"https://github.com/briandilley/jsonrpc4j\" rel=\"nofollow noreferrer\">https://github.com/briandilley/jsonrpc4j</a>. When I tried to create in Eclipse a basic Maven project using the jsonRpcServer (see App.java), the exception java.lang.NoClassDefFoundError pops-up. Any hints?</p>\n<p>App.java</p>\n<pre><code>package com.sxtlcfi.maven;\nimport com.googlecode.jsonrpc4j.JsonRpcServer;\n\npublic class App {\n    \n    public static void main(String args[]){\n        \n        // create the jsonRpcServer\n        UserServiceImpl userService = new UserServiceImpl();\n        \n        // actual runtime\n        String[] arrOfClassPath = System.getProperty(&quot;java.class.path&quot;).split(&quot;;&quot;);\n        for (String a : arrOfClassPath) System.out.println(a);\n        \n        //Issue: https://code.google.com/archive/p/jsonrpc4j/issues/64\n        JsonRpcServer jsonRpcServer1 = new JsonRpcServer(userService);\n        //Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/ServletOutputStream\n        //at com.sxtlcfi.maven.App.main(App.java:60)\n        //Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletOutputStream\n        //  at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        //  at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        //  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        //  ... 1 more\n        \n        //System.out.println(UserService.class.getMethods()[0].getName());\n        //JsonRpcServer jsonRpcServer2 = new JsonRpcServer(userService, UserService.class);\n    }\n}\n</code></pre>\n<p>UserService.java</p>\n<pre><code>package com.sxtlcfi.maven;\npublic interface UserService {\n    User createUser(String userName, String firstName, String password);\n    User createUser(String userName, String password);\n    User findUserByUserName(String userName);\n    int getUserCount();\n}\n</code></pre>\n<p>UserServiceImpl.java</p>\n<pre><code>package com.sxtlcfi.maven;\n\nimport java.util.ArrayList;\n\npublic class UserServiceImpl\n    implements UserService {\n\n    ArrayList&lt;User&gt; database = new ArrayList&lt;User&gt;();\n    \n    public User createUser(String userName, String firstName, String password) {\n        User user = new User();\n        user.setUserName(userName);\n        user.setFirstName(firstName);\n        user.setPassword(password);\n        \n        database.add(user);\n        return user;\n    }\n\n    public User createUser(String userName, String password) {\n        return this.createUser(userName, null, password);\n    }\n\n    public User findUserByUserName(String userName) {\n        //return database.findUserByUserName(userName);\n        for (int i = 0; i &lt; database.size(); i++) {\n            if(database.get(i).getUserName() == userName) {\n                return database.get(i);\n            }\n        }\n        return null;\n    }\n\n    public int getUserCount() {\n        //return database.getUserCount();\n        return database.size();\n    }\n\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>package com.sxtlcfi.maven;\n\npublic class User {\n\n    private String userName;\n    private String firstName;\n    private String password;\n    \n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n    \n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    \n    public void setPassword(String password) {\n        this.password = password;\n    }\n    \n    public String getUserName() {\n        return userName;\n    }\n    \n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.sxtlcfi.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.github.briandilley.jsonrpc4j/jsonrpc4j --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.briandilley.jsonrpc4j&lt;/groupId&gt;\n      &lt;artifactId&gt;jsonrpc4j&lt;/artifactId&gt;\n      &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241670,"creation_date":1677241670,"answer_id":75556573,"question_id":75555711,"body_markdown":"You can implement a kind of post-check monitor:\r\n```\r\npublic class Monitor implements ApplicationContextAware, InitializingBean {\r\n    private ApplicationContext ctx;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext ctx) throws BeansException {\r\n        this.ctx = ctx;\r\n    }\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        System.out.println(Arrays.toString(ctx.getBeanDefinitionNames()));\r\n        // run any checks you need\r\n    }\r\n}\r\n```\r\n\r\nWith `org.springframework.beans.factory.config.BeanFactoryPostProcessor` you can gain even more details and controls before beans actual initialisation.","title":"Is it possible to implement some pre-process or something to check if it bean name present in Enum","body":"<p>You can implement a kind of post-check monitor:</p>\n<pre><code>public class Monitor implements ApplicationContextAware, InitializingBean {\n    private ApplicationContext ctx;\n\n    @Override\n    public void setApplicationContext(ApplicationContext ctx) throws BeansException {\n        this.ctx = ctx;\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        System.out.println(Arrays.toString(ctx.getBeanDefinitionNames()));\n        // run any checks you need\n    }\n}\n</code></pre>\n<p>With <code>org.springframework.beans.factory.config.BeanFactoryPostProcessor</code> you can gain even more details and controls before beans actual initialisation.</p>\n"}],"owner":{"account_id":5771883,"reputation":3854,"user_id":4555102,"accept_rate":35,"display_name":"shuba.ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677241670,"creation_date":1677236290,"question_id":75555711,"body_markdown":"Is it possible to check bean name by Enum name which was delivered from resources? There is Eanum where declared all available bean names which were configured in the project\r\n\r\n    public enum ClientBeanNames {\r\n        DIRECT(&quot;direct-http-client&quot;),\r\n        STATISTIC(&quot;statistic-http-client&quot;);\r\n    }\r\n\r\nand application resource \r\n\r\n\r\n    app:\r\n      clients:\r\n        direct:\r\n          http-client: direct-http-client\r\n        statistic:\r\n          http-client: statistic-http-client\r\n\r\nand my service where I want to inject some of the implementations by bean name\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class Statistic {\r\n    \r\n        @Resource(name = &quot;${app.clients.statistic.http-client}&quot;)\r\n        private Client httpClient;\r\n\r\nand finally configuration class\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class HttpClientConfiguration {\r\n\r\n    @Bean(name = &quot;direct-http-client&quot;)\r\n    public SplitSdkHttpClient direct() {\r\n        return new DirectHttpClient();\r\n    }\r\n\r\n    @Bean(name = &quot;statistic-http-client&quot;)\r\n    @Profile(&quot;statistic&quot;)\r\n    public HttpClient statistic() throws Exception {\r\n        return new StatisticHttpClient();\r\n    }\r\n\r\n\r\nIs it possible to implement some pre-process or something to check if it bean name present in eanum ? ","title":"Is it possible to implement some pre-process or something to check if it bean name present in Enum","body":"<p>Is it possible to check bean name by Enum name which was delivered from resources? There is Eanum where declared all available bean names which were configured in the project</p>\n<pre><code>public enum ClientBeanNames {\n    DIRECT(&quot;direct-http-client&quot;),\n    STATISTIC(&quot;statistic-http-client&quot;);\n}\n</code></pre>\n<p>and application resource</p>\n<pre><code>app:\n  clients:\n    direct:\n      http-client: direct-http-client\n    statistic:\n      http-client: statistic-http-client\n</code></pre>\n<p>and my service where I want to inject some of the implementations by bean name</p>\n<pre><code>@Component\n@Slf4j\npublic class Statistic {\n\n    @Resource(name = &quot;${app.clients.statistic.http-client}&quot;)\n    private Client httpClient;\n</code></pre>\n<p>and finally configuration class</p>\n<pre><code>@Configuration\n@Slf4j\npublic class HttpClientConfiguration {\n\n@Bean(name = &quot;direct-http-client&quot;)\npublic SplitSdkHttpClient direct() {\n    return new DirectHttpClient();\n}\n\n@Bean(name = &quot;statistic-http-client&quot;)\n@Profile(&quot;statistic&quot;)\npublic HttpClient statistic() throws Exception {\n    return new StatisticHttpClient();\n}\n</code></pre>\n<p>Is it possible to implement some pre-process or something to check if it bean name present in eanum ?</p>\n"},{"tags":["java","grails","mariadb","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":15817305,"reputation":55,"user_id":13603288,"display_name":"MKOCH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241505,"creation_date":1677241505,"answer_id":75556551,"question_id":75449440,"body_markdown":"Did this just started to occur? How were you keeping the connection alive before? One way to do that is the following:\r\n\r\n    dataSource {\r\n    \tpooled = true\r\n    \tdriverClassName = &quot;com.mysql.jdbc.Driver&quot;\r\n    \tusername = &quot;myuser&quot;\r\n    \tpassword = &quot;mypassword&quot;\r\n    \turl = &quot;jdbc:mysql://localhost/mydatabase&quot;\r\n    \tproperties {\r\n    \t\t// Set validation query to keep connection alive\r\n    \t\tvalidationQuery = &quot;SELECT 1&quot;\r\n    \t\ttestOnBorrow = true\r\n    \t\ttestWhileIdle = true\r\n    \t\ttestOnReturn = false\r\n    \t\tvalidationInterval = 30000\r\n    \t\ttimeBetweenEvictionRunsMillis = 5000\r\n    \t}\r\n    }\r\n\r\nIn this example, the validationQuery is set to &quot;SELECT 1&quot;, which is a simple query that will always return a result. This query will be executed every 30 seconds (as specified by validationInterval) to ensure that the connection is still alive.","title":"SQL Error: -1, SQLState: 08000 not flushing record","body":"<p>Did this just started to occur? How were you keeping the connection alive before? One way to do that is the following:</p>\n<pre><code>dataSource {\n    pooled = true\n    driverClassName = &quot;com.mysql.jdbc.Driver&quot;\n    username = &quot;myuser&quot;\n    password = &quot;mypassword&quot;\n    url = &quot;jdbc:mysql://localhost/mydatabase&quot;\n    properties {\n        // Set validation query to keep connection alive\n        validationQuery = &quot;SELECT 1&quot;\n        testOnBorrow = true\n        testWhileIdle = true\n        testOnReturn = false\n        validationInterval = 30000\n        timeBetweenEvictionRunsMillis = 5000\n    }\n}\n</code></pre>\n<p>In this example, the validationQuery is set to &quot;SELECT 1&quot;, which is a simple query that will always return a result. This query will be executed every 30 seconds (as specified by validationInterval) to ensure that the connection is still alive.</p>\n"}],"owner":{"account_id":19297942,"reputation":1,"user_id":14106520,"display_name":"KeisGSmit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677241505,"creation_date":1676385803,"question_id":75449440,"body_markdown":"Technical background: Groovy 2.5.6 using Java 8. MariaDb database.\r\n\r\nBackground: I have a report system in place. Different Reports are added to a database table. A job executes every 15 minutes and puts a report into a &quot;In progress&quot; state from a &quot;New&quot; state. Then once the job successfully executes the report is updated to a &quot;Done&quot; state. If any exceptions occur the report will put into a &quot;Error&quot; state.\r\n\r\nThe problem is that once the job executes the report fails to save. In the logs I can see I get a `SQL Error: -1, SQLState: 08000` and `(conn=64796) Socket error`. This indicated to me that there is a connection issue with the database. This is followed with `SQL Error: 1220, SQLState: 08000`. \r\n\r\nThere is a problem with the database connection, which has already been closed. The application is failing to generate a report and update a record.\r\n\r\nI put the report again in a &quot;New&quot; state and let the job re-run. The same issue occured again. So I was able to replicate it. I do not really have a clear method to follow to troubleshoot.\r\n\r\nHow do I resolve this error? Is this related to Java 8?","title":"SQL Error: -1, SQLState: 08000 not flushing record","body":"<p>Technical background: Groovy 2.5.6 using Java 8. MariaDb database.</p>\n<p>Background: I have a report system in place. Different Reports are added to a database table. A job executes every 15 minutes and puts a report into a &quot;In progress&quot; state from a &quot;New&quot; state. Then once the job successfully executes the report is updated to a &quot;Done&quot; state. If any exceptions occur the report will put into a &quot;Error&quot; state.</p>\n<p>The problem is that once the job executes the report fails to save. In the logs I can see I get a <code>SQL Error: -1, SQLState: 08000</code> and <code>(conn=64796) Socket error</code>. This indicated to me that there is a connection issue with the database. This is followed with <code>SQL Error: 1220, SQLState: 08000</code>.</p>\n<p>There is a problem with the database connection, which has already been closed. The application is failing to generate a report and update a record.</p>\n<p>I put the report again in a &quot;New&quot; state and let the job re-run. The same issue occured again. So I was able to replicate it. I do not really have a clear method to follow to troubleshoot.</p>\n<p>How do I resolve this error? Is this related to Java 8?</p>\n"},{"tags":["java","android","gson","android-source"],"owner":{"account_id":15993297,"reputation":223,"user_id":11541876,"display_name":"Majedul Islam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677241468,"creation_date":1676460050,"question_id":75459036,"body_markdown":"I added these lines in `Android.mk` file but AOSP source is not build \r\n\r\nLOCAL_PATH := $(call my-dir)\r\n\r\nGSON_PATH := /path/to/gson/library\r\n\r\ninclude $(CLEAR_VARS)\r\n\r\nLOCAL_MODULE := gson\r\n\r\nLOCAL_SRC_FILES := $(GSON_PATH)/gson-2.10.1.jar\r\n\r\ninclude $(PREBUILT_JAR)\r\n\r\nLOCAL_STATIC_JAVA_LIBRARIES := gson\r\n\r\n\r\nThen build the AOSP source and failed build\r\nHow to resolve it? ","title":"How to add GSON dependency in Android.mk file","body":"<p>I added these lines in <code>Android.mk</code> file but AOSP source is not build</p>\n<p>LOCAL_PATH := $(call my-dir)</p>\n<p>GSON_PATH := /path/to/gson/library</p>\n<p>include $(CLEAR_VARS)</p>\n<p>LOCAL_MODULE := gson</p>\n<p>LOCAL_SRC_FILES := $(GSON_PATH)/gson-2.10.1.jar</p>\n<p>include $(PREBUILT_JAR)</p>\n<p>LOCAL_STATIC_JAVA_LIBRARIES := gson</p>\n<p>Then build the AOSP source and failed build\nHow to resolve it?</p>\n"},{"tags":["java","collections","iteration"],"comments":[{"owner":{"account_id":420494,"reputation":1386,"user_id":798223,"display_name":"GKFX"},"score":1,"creation_date":1493973487,"post_id":223918,"comment_id":74640207,"body_markdown":"Note to readers: do have a read of http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html, it may have an easier way to achieve what you want to do.","body":"Note to readers: do have a read of <a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/interfaces/&hellip;</a>, it may have an easier way to achieve what you want to do."}],"answers":[{"tags":[],"owner":{"account_id":8372,"reputation":225282,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"down_vote_count":1,"up_vote_count":360,"is_accepted":false,"score":359,"last_activity_date":1546511818,"creation_date":1224631591,"answer_id":223927,"question_id":223918,"body_markdown":"This works:\r\n\r\n    Iterator&lt;Integer&gt; iter = l.iterator();\r\n    while (iter.hasNext()) {\r\n        if (iter.next() == 5) {\r\n            iter.remove();\r\n        }\r\n    }\r\n\r\nI assumed that since a foreach loop is syntactic sugar for iterating, using an iterator wouldn&#39;t help... but it gives you this `.remove()` functionality.\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>This works:</p>\n\n<pre><code>Iterator&lt;Integer&gt; iter = l.iterator();\nwhile (iter.hasNext()) {\n    if (iter.next() == 5) {\n        iter.remove();\n    }\n}\n</code></pre>\n\n<p>I assumed that since a foreach loop is syntactic sugar for iterating, using an iterator wouldn't help... but it gives you this <code>.remove()</code> functionality.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":2,"up_vote_count":1674,"is_accepted":true,"score":1672,"last_activity_date":1539764812,"creation_date":1224631635,"answer_id":223929,"question_id":223918,"body_markdown":"[`Iterator.remove()`][1] is safe, you can use it like this:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    // This is a clever way to create the iterator and call iterator.hasNext() like\r\n    // you would do in a while-loop. It would be the same as doing:\r\n    //     Iterator&lt;String&gt; iterator = list.iterator();\r\n    //     while (iterator.hasNext()) {\r\n    for (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext();) {\r\n        String string = iterator.next();\r\n        if (string.isEmpty()) {\r\n            // Remove the current element from the iterator and the list.\r\n            iterator.remove();\r\n        }\r\n    }\r\n\r\n\r\nNote that [`Iterator.remove()`][1] is the only safe way to modify a collection during iteration; the behavior is unspecified if the underlying collection is modified **in any other way** while the iteration is in progress.\r\n\r\nSource:[ docs.oracle &gt; The Collection Interface][2]\r\n\r\n\r\n----\r\n\r\nAnd similarly, if you have a `ListIterator` and want to *add* items, you can use [`ListIterator#add`][3], for the same reason you can use `Iterator#remove`&amp;nbsp;&amp;mdash; it&#39;s designed to allow it.\r\n\r\n---\r\n\r\nIn your case you tried to remove from a list, but the same restriction applies if trying to `put` into a `Map` while iterating its content. \r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--\r\n  [2]: http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#add-E-","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--\" rel=\"noreferrer\"><code>Iterator.remove()</code></a> is safe, you can use it like this:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n// This is a clever way to create the iterator and call iterator.hasNext() like\n// you would do in a while-loop. It would be the same as doing:\n//     Iterator&lt;String&gt; iterator = list.iterator();\n//     while (iterator.hasNext()) {\nfor (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext();) {\n    String string = iterator.next();\n    if (string.isEmpty()) {\n        // Remove the current element from the iterator and the list.\n        iterator.remove();\n    }\n}\n</code></pre>\n\n<p>Note that <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--\" rel=\"noreferrer\"><code>Iterator.remove()</code></a> is the only safe way to modify a collection during iteration; the behavior is unspecified if the underlying collection is modified <strong>in any other way</strong> while the iteration is in progress.</p>\n\n<p>Source:<a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html\" rel=\"noreferrer\"> docs.oracle > The Collection Interface</a></p>\n\n<hr>\n\n<p>And similarly, if you have a <code>ListIterator</code> and want to <em>add</em> items, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#add-E-\" rel=\"noreferrer\"><code>ListIterator#add</code></a>, for the same reason you can use <code>Iterator#remove</code>&nbsp;&mdash; it's designed to allow it.</p>\n\n<hr>\n\n<p>In your case you tried to remove from a list, but the same restriction applies if trying to <code>put</code> into a <code>Map</code> while iterating its content. </p>\n"},{"tags":[],"owner":{"account_id":721,"reputation":13438,"user_id":943,"accept_rate":81,"display_name":"RodeoClown"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1579892719,"creation_date":1224631937,"answer_id":223942,"question_id":223918,"body_markdown":"You can either use the iterator directly like you mentioned, or else keep a second collection and add each item you want to remove to the new collection, then removeAll at the end. This allows you to keep using the type-safety of the for-each loop at the cost of increased memory use and cpu time (shouldn&#39;t be a huge problem unless you have really, really big lists or a really old computer)\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Collection&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\r\n        Collection&lt;Integer&gt; itemsToRemove = new ArrayList&lt;&gt;();\r\n        for (int i=0; i &lt; 10; i++) {\r\n            l.add(Integer.of(4));\r\n            l.add(Integer.of(5));\r\n            l.add(Integer.of(6));\r\n        }\r\n        for (Integer i : l)\r\n        {\r\n            if (i.intValue() == 5) {\r\n                itemsToRemove.add(i);\r\n            }\r\n        }\r\n\r\n        l.removeAll(itemsToRemove);\r\n        System.out.println(l);\r\n    }\r\n\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>You can either use the iterator directly like you mentioned, or else keep a second collection and add each item you want to remove to the new collection, then removeAll at the end. This allows you to keep using the type-safety of the for-each loop at the cost of increased memory use and cpu time (shouldn't be a huge problem unless you have really, really big lists or a really old computer)</p>\n\n<pre><code>public static void main(String[] args)\n{\n    Collection&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\n    Collection&lt;Integer&gt; itemsToRemove = new ArrayList&lt;&gt;();\n    for (int i=0; i &lt; 10; i++) {\n        l.add(Integer.of(4));\n        l.add(Integer.of(5));\n        l.add(Integer.of(6));\n    }\n    for (Integer i : l)\n    {\n        if (i.intValue() == 5) {\n            itemsToRemove.add(i);\n        }\n    }\n\n    l.removeAll(itemsToRemove);\n    System.out.println(l);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102574,"reputation":3028,"user_id":275264,"accept_rate":79,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1434709352,"creation_date":1273953476,"answer_id":2841570,"question_id":223918,"body_markdown":"Since the question has been already answered i.e. the best way is to use the remove method of the iterator object, I would go into the specifics of the place where the error `&quot;java.util.ConcurrentModificationException&quot;` is thrown.\r\n\r\nEvery collection class has a private class which implements the Iterator interface and provides methods like `next()`, `remove()` and `hasNext()`.\r\n\r\nThe code for next looks something like this...\r\n\r\n    public E next() {\r\n        checkForComodification();\r\n        try {\r\n        \tE next = get(cursor);\r\n    \t\tlastRet = cursor++;\r\n    \t\treturn next;\r\n        } catch(IndexOutOfBoundsException e) {\r\n    \t\tcheckForComodification();\r\n    \t\tthrow new NoSuchElementException();\r\n        }\r\n    }\r\n\r\nHere the method `checkForComodification` is implemented as \r\n\r\n    final void checkForComodification() {\r\n        if (modCount != expectedModCount)\r\n    \t    throw new ConcurrentModificationException();\r\n    }\r\n\r\nSo, as you can see, if you explicitly try to remove an element from the collection. It results in `modCount` getting different from `expectedModCount`, resulting in the exception `ConcurrentModificationException`.\r\n\r\n\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Since the question has been already answered i.e. the best way is to use the remove method of the iterator object, I would go into the specifics of the place where the error <code>\"java.util.ConcurrentModificationException\"</code> is thrown.</p>\n\n<p>Every collection class has a private class which implements the Iterator interface and provides methods like <code>next()</code>, <code>remove()</code> and <code>hasNext()</code>.</p>\n\n<p>The code for next looks something like this...</p>\n\n<pre><code>public E next() {\n    checkForComodification();\n    try {\n        E next = get(cursor);\n        lastRet = cursor++;\n        return next;\n    } catch(IndexOutOfBoundsException e) {\n        checkForComodification();\n        throw new NoSuchElementException();\n    }\n}\n</code></pre>\n\n<p>Here the method <code>checkForComodification</code> is implemented as </p>\n\n<pre><code>final void checkForComodification() {\n    if (modCount != expectedModCount)\n        throw new ConcurrentModificationException();\n}\n</code></pre>\n\n<p>So, as you can see, if you explicitly try to remove an element from the collection. It results in <code>modCount</code> getting different from <code>expectedModCount</code>, resulting in the exception <code>ConcurrentModificationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1484409,"reputation":12963,"user_id":1392956,"accept_rate":62,"display_name":"Priyank Doshi"},"down_vote_count":8,"up_vote_count":19,"is_accepted":false,"score":11,"last_activity_date":1340688515,"creation_date":1340688515,"answer_id":11201224,"question_id":223918,"body_markdown":"Make a copy of existing list and iterate over new copy.\r\n\r\n\r\n    for (String str : new ArrayList&lt;String&gt;(listOfStr))     \r\n    {\r\n        listOfStr.remove(/* object reference or index */);\r\n    }\r\n\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Make a copy of existing list and iterate over new copy.</p>\n\n<pre><code>for (String str : new ArrayList&lt;String&gt;(listOfStr))     \n{\n    listOfStr.remove(/* object reference or index */);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1573344192,"creation_date":1355872126,"answer_id":13943008,"question_id":223918,"body_markdown":"With [Eclipse Collections][1], the method `removeIf` defined on [MutableCollection][3] will work:\r\n\r\n    MutableList&lt;Integer&gt; list = Lists.mutable.of(1, 2, 3, 4, 5);\r\n    list.removeIf(Predicates.lessThan(3));\r\n    Assert.assertEquals(Lists.mutable.of(3, 4, 5), list);\r\n\r\nWith Java 8 Lambda syntax this can be written as follows:\r\n\r\n    MutableList&lt;Integer&gt; list = Lists.mutable.of(1, 2, 3, 4, 5);\r\n    list.removeIf(Predicates.cast(integer -&gt; integer &lt; 3));\r\n    Assert.assertEquals(Lists.mutable.of(3, 4, 5), list);\r\n\r\nThe call to `Predicates.cast()` is necessary here because a default `removeIf` method was added on the `java.util.Collection` interface in Java 8. \r\n \r\n**Note:** I am a committer for [Eclipse Collections][1].\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://github.com/goldmansachs/gs-collections\r\n  [3]: https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/collection/MutableCollection.java#L236","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>With <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, the method <code>removeIf</code> defined on <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/collection/MutableCollection.java#L236\" rel=\"nofollow noreferrer\">MutableCollection</a> will work:</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = Lists.mutable.of(1, 2, 3, 4, 5);\nlist.removeIf(Predicates.lessThan(3));\nAssert.assertEquals(Lists.mutable.of(3, 4, 5), list);\n</code></pre>\n\n<p>With Java 8 Lambda syntax this can be written as follows:</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = Lists.mutable.of(1, 2, 3, 4, 5);\nlist.removeIf(Predicates.cast(integer -&gt; integer &lt; 3));\nAssert.assertEquals(Lists.mutable.of(3, 4, 5), list);\n</code></pre>\n\n<p>The call to <code>Predicates.cast()</code> is necessary here because a default <code>removeIf</code> method was added on the <code>java.util.Collection</code> interface in Java 8. </p>\n\n<p><strong>Note:</strong> I am a committer for <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.</p>\n"},{"tags":[],"owner":{"account_id":1604963,"reputation":12906,"user_id":1485230,"accept_rate":68,"display_name":"Antzi"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1409305393,"creation_date":1377088785,"answer_id":18357676,"question_id":223918,"body_markdown":"Same answer as [Claudius][1] with a for loop:\r\n\r\n    for (Iterator&lt;Object&gt; it = objects.iterator(); it.hasNext();) {\r\n        Object object = it.next();\r\n        if (test) {\r\n            it.remove();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/223927/1433392","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Same answer as <a href=\"https://stackoverflow.com/a/223927/1433392\">Claudius</a> with a for loop:</p>\n\n<pre><code>for (Iterator&lt;Object&gt; it = objects.iterator(); it.hasNext();) {\n    Object object = it.next();\n    if (test) {\n        it.remove();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":540621,"reputation":11506,"user_id":908879,"accept_rate":95,"display_name":"ajax333221"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1381553872,"creation_date":1381553872,"answer_id":19330700,"question_id":223918,"body_markdown":"this might not be the best way, but for most of the small cases this should acceptable:\r\n\r\n&gt; *&quot;create a second empty-array and add only the ones you want to keep&quot;*\r\n\r\n&lt;sub&gt;I don&#39;t remeber where I read this from... for justiness I will make this wiki in hope someone finds it or just to don&#39;t earn rep I don&#39;t deserve.&lt;/sub&gt;","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>this might not be the best way, but for most of the small cases this should acceptable:</p>\n\n<blockquote>\n  <p><em>\"create a second empty-array and add only the ones you want to keep\"</em></p>\n</blockquote>\n\n<p><sub>I don't remeber where I read this from... for justiness I will make this wiki in hope someone finds it or just to don't earn rep I don't deserve.</sub></p>\n"},{"tags":[],"owner":{"account_id":1894228,"reputation":370,"user_id":1711555,"display_name":"Nandhan Thiravia"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1418323285,"creation_date":1384852725,"answer_id":20067507,"question_id":223918,"body_markdown":"I have a suggestion for the problem above. No need of secondary list or any extra time. Please find an example which would do the same stuff but in a different way.\r\n\r\n    //&quot;list&quot; is ArrayList&lt;Object&gt;\r\n    //&quot;state&quot; is some boolean variable, which when set to true, Object will be removed from the list\r\n    int index = 0;\r\n    while(index &lt; list.size()) {\r\n    \tObject r = list.get(index);\r\n    \tif( state ) {\r\n    \t\tlist.remove(index);\r\n    \t\tindex = 0;\r\n    \t\tcontinue;\r\n    \t}\r\n    \tindex += 1;\r\n    }\r\n\r\n&lt;code&gt;\r\nThis would avoid the Concurrency Exception.\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>I have a suggestion for the problem above. No need of secondary list or any extra time. Please find an example which would do the same stuff but in a different way.</p>\n\n<pre><code>//\"list\" is ArrayList&lt;Object&gt;\n//\"state\" is some boolean variable, which when set to true, Object will be removed from the list\nint index = 0;\nwhile(index &lt; list.size()) {\n    Object r = list.get(index);\n    if( state ) {\n        list.remove(index);\n        index = 0;\n        continue;\n    }\n    index += 1;\n}\n</code></pre>\n\n<p>\nThis would avoid the Concurrency Exception.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":242,"is_accepted":false,"score":242,"last_activity_date":1677241343,"creation_date":1401271904,"answer_id":23908758,"question_id":223918,"body_markdown":"With Java 8 you can use [the new `removeIf` method][1]. Applied to your example:\r\n\r\n    Collection&lt;Integer&gt; coll = new ArrayList&lt;&gt;();\r\n    //populate\r\n\r\n    coll.removeIf(i -&gt; i == 5);\r\n\r\n [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\r\n\r\nA simple test as example: \r\n\r\n```java\r\n    @Test\r\n    public void testRemoveIfOneList() {\r\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\r\n        outer.add(&quot;one&quot;);\r\n        outer.add(&quot;two&quot;);\r\n        outer.add(&quot;three&quot;);\r\n\r\n        outer.removeIf(o -&gt; o.length() == 3);\r\n\r\n        assertEquals(1, outer.size());\r\n    }\r\n````\r\n\r\nIt even works when you compare two lists and want to remove from both. \r\n\r\n```java\r\n    @Test\r\n    public void testRemoveIfTwoLists() {\r\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\r\n        outer.add(&quot;one&quot;);\r\n        outer.add(&quot;two&quot;);\r\n        outer.add(&quot;three&quot;);\r\n        List&lt;String&gt; inner = new ArrayList&lt;&gt;();\r\n        inner.addAll(outer);\r\n\r\n        // first, it removes from inner, and if anything is removed, then removeIf() returns true,\r\n        // leading to removing from outer\r\n        outer.removeIf(o -&gt; inner.removeIf(i -&gt; i.equals(o)));\r\n\r\n        assertEquals(0, outer.size());\r\n        assertEquals(0, inner.size());\r\n    }\r\n```\r\n\r\n**However, if one of the list has duplicates, make sure it&#39;s iterated in the inner loop**, because for inner list, it will remove **all** elements meeting the criteria, but for outer list, when **any element** is removed, it will return immediately and stops checking. \r\n\r\nThis test will fail:\r\n\r\n```java\r\n    @Test\r\n    public void testRemoveIfTwoListsInnerHasDuplicates() {\r\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\r\n        outer.add(&quot;one&quot;);\r\n        outer.add(&quot;one&quot;);\r\n        outer.add(&quot;two&quot;);\r\n        outer.add(&quot;two&quot;);\r\n        outer.add(&quot;three&quot;);\r\n        outer.add(&quot;three&quot;);\r\n        List&lt;String&gt; inner = new ArrayList&lt;&gt;();\r\n        inner.addAll(outer); // both have duplicates\r\n\r\n        // remove all elements from inner(executed twice), then remove from outer\r\n        // but only once! if anything is removed, it will return immediately!!\r\n        outer.removeIf(o -&gt; inner.removeIf(i -&gt; i.equals(o)));\r\n\r\n        assertEquals(0, inner.size()); // pass, inner all removed\r\n        assertEquals(0, outer.size()); // will fail, outer has size = 3\r\n    }\r\n```\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>With Java 8 you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">the new <code>removeIf</code> method</a>. Applied to your example:</p>\n<pre><code>Collection&lt;Integer&gt; coll = new ArrayList&lt;&gt;();\n//populate\n\ncoll.removeIf(i -&gt; i == 5);\n</code></pre>\n<p>A simple test as example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testRemoveIfOneList() {\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\n        outer.add(&quot;one&quot;);\n        outer.add(&quot;two&quot;);\n        outer.add(&quot;three&quot;);\n\n        outer.removeIf(o -&gt; o.length() == 3);\n\n        assertEquals(1, outer.size());\n    }\n</code></pre>\n<p>It even works when you compare two lists and want to remove from both.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testRemoveIfTwoLists() {\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\n        outer.add(&quot;one&quot;);\n        outer.add(&quot;two&quot;);\n        outer.add(&quot;three&quot;);\n        List&lt;String&gt; inner = new ArrayList&lt;&gt;();\n        inner.addAll(outer);\n\n        // first, it removes from inner, and if anything is removed, then removeIf() returns true,\n        // leading to removing from outer\n        outer.removeIf(o -&gt; inner.removeIf(i -&gt; i.equals(o)));\n\n        assertEquals(0, outer.size());\n        assertEquals(0, inner.size());\n    }\n</code></pre>\n<p><strong>However, if one of the list has duplicates, make sure it's iterated in the inner loop</strong>, because for inner list, it will remove <strong>all</strong> elements meeting the criteria, but for outer list, when <strong>any element</strong> is removed, it will return immediately and stops checking.</p>\n<p>This test will fail:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testRemoveIfTwoListsInnerHasDuplicates() {\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\n        outer.add(&quot;one&quot;);\n        outer.add(&quot;one&quot;);\n        outer.add(&quot;two&quot;);\n        outer.add(&quot;two&quot;);\n        outer.add(&quot;three&quot;);\n        outer.add(&quot;three&quot;);\n        List&lt;String&gt; inner = new ArrayList&lt;&gt;();\n        inner.addAll(outer); // both have duplicates\n\n        // remove all elements from inner(executed twice), then remove from outer\n        // but only once! if anything is removed, it will return immediately!!\n        outer.removeIf(o -&gt; inner.removeIf(i -&gt; i.equals(o)));\n\n        assertEquals(0, inner.size()); // pass, inner all removed\n        assertEquals(0, outer.size()); // will fail, outer has size = 3\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":157346,"reputation":54254,"user_id":375232,"accept_rate":100,"display_name":"Landei"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1409306175,"creation_date":1409306175,"answer_id":25565900,"question_id":223918,"body_markdown":"In such cases a common trick is (was?) to go backwards:\r\n\r\n    for(int i = l.size() - 1; i &gt;= 0; i --) {\r\n      if (l.get(i) == 5) {\r\n        l.remove(i);\r\n      }\r\n    }\r\n\r\nThat said, I&#39;m more than happy that you have better ways in Java 8, e.g. `removeIf` or `filter` on streams.","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>In such cases a common trick is (was?) to go backwards:</p>\n\n<pre><code>for(int i = l.size() - 1; i &gt;= 0; i --) {\n  if (l.get(i) == 5) {\n    l.remove(i);\n  }\n}\n</code></pre>\n\n<p>That said, I'm more than happy that you have better ways in Java 8, e.g. <code>removeIf</code> or <code>filter</code> on streams.</p>\n"},{"tags":[],"owner":{"account_id":3340710,"reputation":727,"user_id":2807072,"display_name":"Nurlan"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1454606728,"creation_date":1454606728,"answer_id":35207600,"question_id":223918,"body_markdown":"In case **ArrayList:remove(int index)**- if(index is last element&#39;s position) it avoids without `System.arraycopy()` and takes not time for this.\r\n\r\narraycopy time increases if(index decreases), by the way elements of list also decreases!\r\n   \r\n\r\n  the best effective remove way is- removing its elements in descending order:\r\n`while(list.size()&gt;0)list.remove(list.size()-1);`//takes O(1)\r\n`while(list.size()&gt;0)list.remove(0);`//takes O(factorial(n))\r\n\r\n            \r\n\r\n    //region prepare data\r\n    ArrayList&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\n    ArrayList&lt;Integer&gt; toRemove = new ArrayList&lt;Integer&gt;();\r\n    Random rdm = new Random();\r\n    long millis;\r\n    for (int i = 0; i &lt; 100000; i++) {\r\n        Integer integer = rdm.nextInt();\r\n        ints.add(integer);\r\n    }\r\n    ArrayList&lt;Integer&gt; intsForIndex = new ArrayList&lt;Integer&gt;(ints);\r\n    ArrayList&lt;Integer&gt; intsDescIndex = new ArrayList&lt;Integer&gt;(ints);\r\n    ArrayList&lt;Integer&gt; intsIterator = new ArrayList&lt;Integer&gt;(ints);\r\n    //endregion\r\n    \r\n    // region for index\r\n    millis = System.currentTimeMillis();\r\n    for (int i = 0; i &lt; intsForIndex.size(); i++) \r\n       if (intsForIndex.get(i) % 2 == 0) intsForIndex.remove(i--);\r\n    System.out.println(System.currentTimeMillis() - millis);\r\n    // endregion\r\n    \r\n    // region for index desc\r\n    millis = System.currentTimeMillis();\r\n    for (int i = intsDescIndex.size() - 1; i &gt;= 0; i--) \r\n       if (intsDescIndex.get(i) % 2 == 0) intsDescIndex.remove(i);\r\n    System.out.println(System.currentTimeMillis() - millis);\r\n    //endregion\r\n    \r\n    // region iterator\r\n    millis = System.currentTimeMillis();\r\n    for (Iterator&lt;Integer&gt; iterator = intsIterator.iterator(); iterator.hasNext(); )\r\n        if (iterator.next() % 2 == 0) iterator.remove();\r\n    System.out.println(System.currentTimeMillis() - millis);\r\n    //endregion\r\n\r\n - for index loop: 1090 msec\r\n - for desc index: **519** msec---the best\r\n - for iterator: 1043 msec","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>In case <strong>ArrayList:remove(int index)</strong>- if(index is last element's position) it avoids without <code>System.arraycopy()</code> and takes not time for this.</p>\n\n<p>arraycopy time increases if(index decreases), by the way elements of list also decreases!</p>\n\n<p>the best effective remove way is- removing its elements in descending order:\n<code>while(list.size()&gt;0)list.remove(list.size()-1);</code>//takes O(1)\n<code>while(list.size()&gt;0)list.remove(0);</code>//takes O(factorial(n))</p>\n\n<pre><code>//region prepare data\nArrayList&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\nArrayList&lt;Integer&gt; toRemove = new ArrayList&lt;Integer&gt;();\nRandom rdm = new Random();\nlong millis;\nfor (int i = 0; i &lt; 100000; i++) {\n    Integer integer = rdm.nextInt();\n    ints.add(integer);\n}\nArrayList&lt;Integer&gt; intsForIndex = new ArrayList&lt;Integer&gt;(ints);\nArrayList&lt;Integer&gt; intsDescIndex = new ArrayList&lt;Integer&gt;(ints);\nArrayList&lt;Integer&gt; intsIterator = new ArrayList&lt;Integer&gt;(ints);\n//endregion\n\n// region for index\nmillis = System.currentTimeMillis();\nfor (int i = 0; i &lt; intsForIndex.size(); i++) \n   if (intsForIndex.get(i) % 2 == 0) intsForIndex.remove(i--);\nSystem.out.println(System.currentTimeMillis() - millis);\n// endregion\n\n// region for index desc\nmillis = System.currentTimeMillis();\nfor (int i = intsDescIndex.size() - 1; i &gt;= 0; i--) \n   if (intsDescIndex.get(i) % 2 == 0) intsDescIndex.remove(i);\nSystem.out.println(System.currentTimeMillis() - millis);\n//endregion\n\n// region iterator\nmillis = System.currentTimeMillis();\nfor (Iterator&lt;Integer&gt; iterator = intsIterator.iterator(); iterator.hasNext(); )\n    if (iterator.next() % 2 == 0) iterator.remove();\nSystem.out.println(System.currentTimeMillis() - millis);\n//endregion\n</code></pre>\n\n<ul>\n<li>for index loop: 1090 msec</li>\n<li>for desc index: <strong>519</strong> msec---the best</li>\n<li>for iterator: 1043 msec</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466680738,"creation_date":1466680738,"answer_id":37990142,"question_id":223918,"body_markdown":"[ConcurrentHashMap][1] or [ConcurrentLinkedQueue][2] or [ConcurrentSkipListMap][3] may be another option, because they will never throw any ConcurrentModificationException, even if you remove or add item.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"noreferrer\">ConcurrentLinkedQueue</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\">ConcurrentSkipListMap</a> may be another option, because they will never throw any ConcurrentModificationException, even if you remove or add item.</p>\n"},{"tags":[],"owner":{"account_id":6383638,"reputation":63,"user_id":4952219,"display_name":"Srinivasan Thoyyeti"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1467271834,"creation_date":1467271489,"answer_id":38116468,"question_id":223918,"body_markdown":"    for (Integer i : l)\r\n    {\r\n        if (i.intValue() == 5){\r\n                itemsToRemove.add(i);\r\n                break;\r\n        }\r\n    }\r\n\r\nThe catch is the after removing the element from the list if you skip the internal iterator.next() call. it still works! Though I dont propose to write code like this it helps to understand the concept behind it :-)\r\n\r\nCheers!\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<pre><code>for (Integer i : l)\n{\n    if (i.intValue() == 5){\n            itemsToRemove.add(i);\n            break;\n    }\n}\n</code></pre>\n\n<p>The catch is the after removing the element from the list if you skip the internal iterator.next() call. it still works! Though I dont propose to write code like this it helps to understand the concept behind it :-)</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":10430372,"reputation":4017,"user_id":7690376,"display_name":"from56"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579991372,"creation_date":1492374546,"answer_id":43441822,"question_id":223918,"body_markdown":"With a traditional for loop\r\n```java\r\nArrayList&lt;String&gt; myArray = new ArrayList&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; myArray.size(); ) {\r\n    String text = myArray.get(i);\r\n    if (someCondition(text))\r\n        myArray.remove(i);\r\n    else\r\n        i++;   \r\n}\r\n```","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>With a traditional for loop</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; myArray = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; myArray.size(); ) {\n    String text = myArray.get(i);\n    if (someCondition(text))\n        myArray.remove(i);\n    else\n        i++;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507907780,"creation_date":1507907780,"answer_id":46733073,"question_id":223918,"body_markdown":"A `ListIterator` allows you to add or remove items in the list.  Suppose you have a list of `Car` objects:\r\n\r\n    List&lt;Car&gt; cars = ArrayList&lt;&gt;();\r\n    // add cars here...\r\n        \r\n    for (ListIterator&lt;Car&gt; carIterator = cars.listIterator();  carIterator.hasNext(); )\r\n    {\r\n       if (&lt;some-condition&gt;)\r\n       { \r\n          carIterator().remove()\r\n       }\r\n       else if (&lt;some-other-condition&gt;)\r\n       { \r\n          carIterator().add(aNewCar);\r\n       }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>A <code>ListIterator</code> allows you to add or remove items in the list.  Suppose you have a list of <code>Car</code> objects:</p>\n\n<pre><code>List&lt;Car&gt; cars = ArrayList&lt;&gt;();\n// add cars here...\n\nfor (ListIterator&lt;Car&gt; carIterator = cars.listIterator();  carIterator.hasNext(); )\n{\n   if (&lt;some-condition&gt;)\n   { \n      carIterator().remove()\n   }\n   else if (&lt;some-other-condition&gt;)\n   { \n      carIterator().add(aNewCar);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579619395,"creation_date":1521284550,"answer_id":49335224,"question_id":223918,"body_markdown":"People are asserting one **can&#39;t** remove from a Collection being iterated by a foreach loop. I just wanted to point out that is *technically* incorrect and describe exactly (I know the OP&#39;s question is so advanced as to obviate knowing this) the code behind that assumption:\r\n```java\r\nfor (TouchableObj obj : untouchedSet) {  // &lt;--- This is where ConcurrentModificationException strikes\r\n    if (obj.isTouched()) {\r\n        untouchedSet.remove(obj);\r\n        touchedSt.add(obj);\r\n        break;  // this is key to avoiding returning to the foreach\r\n    }\r\n}\r\n```\r\nIt isn&#39;t that you can&#39;t remove from the iterated `Colletion` rather that you can&#39;t then continue iteration once you do. Hence the `break` in the code above.\r\n\r\nApologies if this answer is a somewhat specialist use-case and more suited to the original [thread][1] I arrived here from, that one is marked as a duplicate (despite this thread appearing more nuanced) of this and locked.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1110404/remove-elements-from-a-hashset-while-iterating","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>People are asserting one <strong>can't</strong> remove from a Collection being iterated by a foreach loop. I just wanted to point out that is <em>technically</em> incorrect and describe exactly (I know the OP's question is so advanced as to obviate knowing this) the code behind that assumption:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (TouchableObj obj : untouchedSet) {  // &lt;--- This is where ConcurrentModificationException strikes\n    if (obj.isTouched()) {\n        untouchedSet.remove(obj);\n        touchedSt.add(obj);\n        break;  // this is key to avoiding returning to the foreach\n    }\n}\n</code></pre>\n\n<p>It isn't that you can't remove from the iterated <code>Colletion</code> rather that you can't then continue iteration once you do. Hence the <code>break</code> in the code above.</p>\n\n<p>Apologies if this answer is a somewhat specialist use-case and more suited to the original <a href=\"https://stackoverflow.com/questions/1110404/remove-elements-from-a-hashset-while-iterating\">thread</a> I arrived here from, that one is marked as a duplicate (despite this thread appearing more nuanced) of this and locked.</p>\n"},{"tags":[],"owner":{"account_id":9010688,"reputation":1381,"user_id":6715431,"display_name":"jagdish khetre"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1648793863,"creation_date":1525370375,"answer_id":50161275,"question_id":223918,"body_markdown":"The best way (recommended) is use of `java.util.concurrent` package. By\r\nusing this package you can easily avoid this exception. Refer\r\nModified Code:\r\n```java\r\npublic static void main(String[] args) {\r\n    Collection&lt;Integer&gt; l = new CopyOnWriteArrayList&lt;Integer&gt;();\r\n    \r\n    for (int i=0; i &lt; 10; ++i) {\r\n        l.add(new Integer(4));\r\n    \tl.add(new Integer(5));\r\n    \tl.add(new Integer(6));\r\n    }\r\n    \r\n    for (Integer i : l) {\r\n        if (i.intValue() == 5) {\r\n    \t    l.remove(i);\r\n    \t}\r\n    }\r\n    \r\n    System.out.println(l);\r\n}\r\n```","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>The best way (recommended) is use of <code>java.util.concurrent</code> package. By\nusing this package you can easily avoid this exception. Refer\nModified Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Collection&lt;Integer&gt; l = new CopyOnWriteArrayList&lt;Integer&gt;();\n    \n    for (int i=0; i &lt; 10; ++i) {\n        l.add(new Integer(4));\n        l.add(new Integer(5));\n        l.add(new Integer(6));\n    }\n    \n    for (Integer i : l) {\n        if (i.intValue() == 5) {\n            l.remove(i);\n        }\n    }\n    \n    System.out.println(l);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3014757,"reputation":3692,"user_id":2557258,"display_name":"Yazon2006"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537174982,"creation_date":1537174982,"answer_id":52364161,"question_id":223918,"body_markdown":"Example of thread safe collection modification:\r\n\r\n    public class Example {\r\n        private final List&lt;String&gt; queue = Collections.synchronizedList(new ArrayList&lt;String&gt;());\r\n    \r\n        public void removeFromQueue() {\r\n            synchronized (queue) {\r\n                Iterator&lt;String&gt; iterator = queue.iterator();\r\n                String string = iterator.next();\r\n                if (string.isEmpty()) {\r\n                    iterator.remove();\r\n                }\r\n            }\r\n        }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Example of thread safe collection modification:</p>\n\n<pre><code>public class Example {\n    private final List&lt;String&gt; queue = Collections.synchronizedList(new ArrayList&lt;String&gt;());\n\n    public void removeFromQueue() {\n        synchronized (queue) {\n            Iterator&lt;String&gt; iterator = queue.iterator();\n            String string = iterator.next();\n            if (string.isEmpty()) {\n                iterator.remove();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3190994,"reputation":1286,"user_id":2695227,"display_name":"pedram bashiri"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1537992921,"creation_date":1537992921,"answer_id":52525447,"question_id":223918,"body_markdown":"I know this question is too old to be about Java 8, but for those using Java 8 you can easily use removeIf():\r\n\r\n    Collection&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\r\n\r\n    for (int i=0; i &lt; 10; ++i) {\r\n        l.add(new Integer(4));\r\n        l.add(new Integer(5));\r\n        l.add(new Integer(6));\r\n    }\r\n\r\n    l.removeIf(i -&gt; i.intValue() == 5);","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>I know this question is too old to be about Java 8, but for those using Java 8 you can easily use removeIf():</p>\n\n<pre><code>Collection&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\n\nfor (int i=0; i &lt; 10; ++i) {\n    l.add(new Integer(4));\n    l.add(new Integer(5));\n    l.add(new Integer(6));\n}\n\nl.removeIf(i -&gt; i.intValue() == 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1545266958,"creation_date":1545262853,"answer_id":53860666,"question_id":223918,"body_markdown":"I know this question assumes just a `Collection`, and not more specifically any `List`.  But **for those reading this question who are indeed working with a `List` reference, you can avoid `ConcurrentModificationException` with a `while`-loop (while modifying within it) instead if you want to avoid `Iterator`** (either if you want to avoid it in general, or avoid it specifically to achieve a looping order different from start-to-end stopping at each element [which I believe is the only order `Iterator` itself can do]):\r\n\r\n***Update: See comments below that clarify the analogous is also achievable with the _traditional_-for-loop.**\r\n\r\n    final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; 10; ++i){\r\n        list.add(i);\r\n    }\r\n        \r\n    int i = 1;\r\n    while(i &lt; list.size()){\r\n        if(list.get(i) % 2 == 0){\r\n            list.remove(i++);\r\n\r\n        } else {\r\n            i += 2;\r\n        }\r\n    }\r\n\r\n*No ConcurrentModificationException from that code.*\r\n\r\nThere we see looping not start at the beginning, and not stop at *every* element (which I believe `Iterator` itself can&#39;t do).\r\n\r\nFWIW we also see `get` being called on `list`, which could not be done if its reference was just `Collection` (instead of the more specific `List`-type of `Collection`) - `List` interface includes `get`, but `Collection` interface does not.  If not for that difference, then the `list` reference could instead be a `Collection` [and therefore technically this Answer would then be a direct Answer, instead of a tangential Answer].\r\n\r\nFWIWW same code still works after modified to start at beginning at stop at every element (just like `Iterator` order):\r\n\r\n    final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; 10; ++i){\r\n        list.add(i);\r\n    }\r\n\r\n    int i = 0;\r\n    while(i &lt; list.size()){\r\n        if(list.get(i) % 2 == 0){\r\n            list.remove(i);\r\n\r\n        } else {\r\n            ++i;\r\n        }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>I know this question assumes just a <code>Collection</code>, and not more specifically any <code>List</code>.  But <strong>for those reading this question who are indeed working with a <code>List</code> reference, you can avoid <code>ConcurrentModificationException</code> with a <code>while</code>-loop (while modifying within it) instead if you want to avoid <code>Iterator</code></strong> (either if you want to avoid it in general, or avoid it specifically to achieve a looping order different from start-to-end stopping at each element [which I believe is the only order <code>Iterator</code> itself can do]):</p>\n\n<p><strong>*Update: See comments below that clarify the analogous is also achievable with the <em>traditional</em>-for-loop.</strong></p>\n\n<pre><code>final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; 10; ++i){\n    list.add(i);\n}\n\nint i = 1;\nwhile(i &lt; list.size()){\n    if(list.get(i) % 2 == 0){\n        list.remove(i++);\n\n    } else {\n        i += 2;\n    }\n}\n</code></pre>\n\n<p><em>No ConcurrentModificationException from that code.</em></p>\n\n<p>There we see looping not start at the beginning, and not stop at <em>every</em> element (which I believe <code>Iterator</code> itself can't do).</p>\n\n<p>FWIW we also see <code>get</code> being called on <code>list</code>, which could not be done if its reference was just <code>Collection</code> (instead of the more specific <code>List</code>-type of <code>Collection</code>) - <code>List</code> interface includes <code>get</code>, but <code>Collection</code> interface does not.  If not for that difference, then the <code>list</code> reference could instead be a <code>Collection</code> [and therefore technically this Answer would then be a direct Answer, instead of a tangential Answer].</p>\n\n<p>FWIWW same code still works after modified to start at beginning at stop at every element (just like <code>Iterator</code> order):</p>\n\n<pre><code>final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; 10; ++i){\n    list.add(i);\n}\n\nint i = 0;\nwhile(i &lt; list.size()){\n    if(list.get(i) % 2 == 0){\n        list.remove(i);\n\n    } else {\n        ++i;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605112816,"creation_date":1552562296,"answer_id":55161143,"question_id":223918,"body_markdown":"Another way is to use a copy of your arrayList just for iteration:\r\n```java\r\nList&lt;Object&gt; l = ...\r\n    \r\nList&lt;Object&gt; iterationList = ImmutableList.copyOf(l);\r\n    \r\nfor (Object curr : iterationList) {\r\n    if (condition(curr)) {\r\n        l.remove(curr);\r\n    }\r\n}\r\n```","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Another way is to use a copy of your arrayList just for iteration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object&gt; l = ...\n    \nList&lt;Object&gt; iterationList = ImmutableList.copyOf(l);\n    \nfor (Object curr : iterationList) {\n    if (condition(curr)) {\n        l.remove(curr);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10277734,"reputation":695,"user_id":7584019,"display_name":"Rahul Vala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564604173,"creation_date":1564604173,"answer_id":57298240,"question_id":223918,"body_markdown":"One solution could be to rotate the list and remove the first element to avoid the ConcurrentModificationException or IndexOutOfBoundsException\r\n\r\n    int n = list.size();\r\n    for(int j=0;j&lt;n;j++){\r\n        //you can also put a condition before remove\r\n        list.remove(0);\r\n        Collections.rotate(list, 1);\r\n    }\r\n    Collections.rotate(list, -1);\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>One solution could be to rotate the list and remove the first element to avoid the ConcurrentModificationException or IndexOutOfBoundsException</p>\n\n<pre><code>int n = list.size();\nfor(int j=0;j&lt;n;j++){\n    //you can also put a condition before remove\n    list.remove(0);\n    Collections.rotate(list, 1);\n}\nCollections.rotate(list, -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9372358,"reputation":111,"user_id":8483269,"display_name":"Oleg Tatarchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573672538,"creation_date":1573672538,"answer_id":58844056,"question_id":223918,"body_markdown":"Try this one (removes all elements in the list that equal `i`):\r\n\r\n    for (Object i : l) {\r\n        if (condition(i)) {\r\n            l = (l.stream().filter((a) -&gt; a != i)).collect(Collectors.toList());\r\n        }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Try this one (removes all elements in the list that equal <code>i</code>):</p>\n\n<pre><code>for (Object i : l) {\n    if (condition(i)) {\n        l = (l.stream().filter((a) -&gt; a != i)).collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7820615,"reputation":415,"user_id":5913870,"accept_rate":44,"display_name":"Firas Chebbah"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1591277016,"creation_date":1591277016,"answer_id":62195755,"question_id":223918,"body_markdown":"you can also use **Recursion**\r\n\r\nRecursion in java is a process in which a method calls itself continuously. A method in java that calls itself is called recursive method.","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>you can also use <strong>Recursion</strong></p>\n\n<p>Recursion in java is a process in which a method calls itself continuously. A method in java that calls itself is called recursive method.</p>\n"},{"tags":[],"owner":{"account_id":362620,"reputation":216,"user_id":705908,"display_name":"Adil Kara&#246;z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600784547,"creation_date":1600784547,"answer_id":64011786,"question_id":223918,"body_markdown":"Now, You can remove with the following code\r\n\r\n    l.removeIf(current -&gt; current == 5);","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Now, You can remove with the following code</p>\n<pre><code>l.removeIf(current -&gt; current == 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1609152017,"creation_date":1609152017,"answer_id":65476338,"question_id":223918,"body_markdown":"You can use a while loop.\r\n\r\n    Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator();\r\n    while(iterator.hasNext()){\r\n        Map.Entry&lt;String, String&gt; entry = iterator.next();\r\n        if(entry.getKey().equals(&quot;test&quot;)) {\r\n            iterator.remove();\r\n        } \r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>You can use a while loop.</p>\n<pre><code>Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator();\nwhile(iterator.hasNext()){\n    Map.Entry&lt;String, String&gt; entry = iterator.next();\n    if(entry.getKey().equals(&quot;test&quot;)) {\n        iterator.remove();\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644318918,"creation_date":1617199276,"answer_id":66889350,"question_id":223918,"body_markdown":"**Java Concurrent Modification Exception** \r\n\r\n1. Single thread \r\n```\r\nIterator&lt;String&gt; iterator = list.iterator();\r\nwhile (iterator.hasNext()) {\r\n    String value = iter.next()\r\n    if (value == &quot;A&quot;) {\r\n        list.remove(it.next()); //throws ConcurrentModificationException\r\n    }\r\n}\r\n```\r\n\r\nSolution: iterator `remove()` method\r\n```\r\nIterator&lt;String&gt; iterator = list.iterator();\r\nwhile (iterator.hasNext()) {\r\n    String value = iter.next()\r\n    if (value == &quot;A&quot;) {\r\n        it.remove()\r\n    }\r\n}\r\n```\r\n\r\n2. Multi thread \r\n\r\n - copy/convert and iterate over another one collection. For small collections\r\n - `synchronize`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][1] \r\n - thread safe collection[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59500618/4770877\r\n  [2]: https://stackoverflow.com/a/65410514/4770877","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p><strong>Java Concurrent Modification Exception</strong></p>\n<ol>\n<li>Single thread</li>\n</ol>\n<pre><code>Iterator&lt;String&gt; iterator = list.iterator();\nwhile (iterator.hasNext()) {\n    String value = iter.next()\n    if (value == &quot;A&quot;) {\n        list.remove(it.next()); //throws ConcurrentModificationException\n    }\n}\n</code></pre>\n<p>Solution: iterator <code>remove()</code> method</p>\n<pre><code>Iterator&lt;String&gt; iterator = list.iterator();\nwhile (iterator.hasNext()) {\n    String value = iter.next()\n    if (value == &quot;A&quot;) {\n        it.remove()\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Multi thread</li>\n</ol>\n<ul>\n<li>copy/convert and iterate over another one collection. For small collections</li>\n<li><code>synchronize</code><a href=\"https://stackoverflow.com/a/59500618/4770877\"><sup>[About]</sup></a></li>\n<li>thread safe collection<a href=\"https://stackoverflow.com/a/65410514/4770877\"><sup>[About]</sup></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625339467,"creation_date":1625339467,"answer_id":68239250,"question_id":223918,"body_markdown":"I ended up with this `ConcurrentModificationException`, while iterating the list using `stream().map()` method. However the `for(:)` did not throw the exception while iterating and modifying the the list.\r\n\r\nHere is code snippet , if its of help to anyone: \r\nhere I&#39;m iterating on a `ArrayList&lt;BuildEntity&gt;` , and modifying it using the list.remove(obj)\r\n\r\n     for(BuildEntity build : uniqueBuildEntities){\r\n                if(build!=null){\r\n                    if(isBuildCrashedWithErrors(build)){\r\n                        log.info(&quot;The following build crashed with errors ,  will not be persisted -&gt; \\n{}&quot;\r\n                                ,build.getBuildUrl());\r\n                        uniqueBuildEntities.remove(build);\r\n                        if (uniqueBuildEntities.isEmpty()) return  EMPTY_LIST;\r\n                    }\r\n                }\r\n            }\r\n            if(uniqueBuildEntities.size()&gt;0) {\r\n                dbEntries.addAll(uniqueBuildEntities);\r\n            }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>I ended up with this <code>ConcurrentModificationException</code>, while iterating the list using <code>stream().map()</code> method. However the <code>for(:)</code> did not throw the exception while iterating and modifying the the list.</p>\n<p>Here is code snippet , if its of help to anyone:\nhere I'm iterating on a <code>ArrayList&lt;BuildEntity&gt;</code> , and modifying it using the list.remove(obj)</p>\n<pre><code> for(BuildEntity build : uniqueBuildEntities){\n            if(build!=null){\n                if(isBuildCrashedWithErrors(build)){\n                    log.info(&quot;The following build crashed with errors ,  will not be persisted -&gt; \\n{}&quot;\n                            ,build.getBuildUrl());\n                    uniqueBuildEntities.remove(build);\n                    if (uniqueBuildEntities.isEmpty()) return  EMPTY_LIST;\n                }\n            }\n        }\n        if(uniqueBuildEntities.size()&gt;0) {\n            dbEntries.addAll(uniqueBuildEntities);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638091025,"creation_date":1638091025,"answer_id":70142023,"question_id":223918,"body_markdown":" If using HashMap, in newer versions of Java (8+) you can select each of 3 options:\r\n\r\n    public class UserProfileEntity {\r\n        private String Code;\r\n        private String mobileNumber;\r\n        private LocalDateTime inputDT;\r\n    \t// getters and setters here\r\n    }\r\n    HashMap&lt;String, UserProfileEntity&gt; upMap = new HashMap&lt;&gt;();\r\n\r\n\r\n    // remove by value\r\n    upMap.values().removeIf(value -&gt; !value.getCode().contains(&quot;0005&quot;));\r\n\r\n    // remove by key\r\n    upMap.keySet().removeIf(key -&gt; key.contentEquals(&quot;testUser&quot;));\r\n\r\n    // remove by entry / key + value\r\n    upMap.entrySet().removeIf(entry -&gt; (entry.getKey().endsWith(&quot;admin&quot;) || entry.getValue().getInputDT().isBefore(LocalDateTime.now().minusMinutes(3)));\r\n\r\n\r\n\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>If using HashMap, in newer versions of Java (8+) you can select each of 3 options:</p>\n<pre><code>public class UserProfileEntity {\n    private String Code;\n    private String mobileNumber;\n    private LocalDateTime inputDT;\n    // getters and setters here\n}\nHashMap&lt;String, UserProfileEntity&gt; upMap = new HashMap&lt;&gt;();\n\n\n// remove by value\nupMap.values().removeIf(value -&gt; !value.getCode().contains(&quot;0005&quot;));\n\n// remove by key\nupMap.keySet().removeIf(key -&gt; key.contentEquals(&quot;testUser&quot;));\n\n// remove by entry / key + value\nupMap.entrySet().removeIf(entry -&gt; (entry.getKey().endsWith(&quot;admin&quot;) || entry.getValue().getInputDT().isBefore(LocalDateTime.now().minusMinutes(3)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1461733,"reputation":2094,"user_id":1375876,"display_name":"Saeed Ir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669186830,"creation_date":1669185976,"answer_id":74542733,"question_id":223918,"body_markdown":"***Iterators*** are not always helpful when another thread also modifies the collection. I had tried many ways but then realized traversing the collection manually is much safer (backward for removal):\r\n\r\n    for (i in myList.size-1 downTo 0) {\r\n        myList.getOrNull(i)?.also {\r\n           if (it == 5)\r\n              myList.remove(it)\r\n        }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p><em><strong>Iterators</strong></em> are not always helpful when another thread also modifies the collection. I had tried many ways but then realized traversing the collection manually is much safer (backward for removal):</p>\n<pre><code>for (i in myList.size-1 downTo 0) {\n    myList.getOrNull(i)?.also {\n       if (it == 5)\n          myList.remove(it)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8372,"reputation":225282,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1298,"accepted_answer_id":223929,"answer_count":31,"score":1298,"last_activity_date":1677241343,"creation_date":1224631413,"question_id":223918,"body_markdown":"We all know you can&#39;t do the following because of `ConcurrentModificationException`:\r\n\r\n    for (Object i : l) {\r\n        if (condition(i)) {\r\n            l.remove(i);\r\n        }\r\n    }\r\n\r\nBut this apparently works sometimes, but not always. Here&#39;s some specific code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        Collection&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            l.add(4);\r\n            l.add(5);\r\n            l.add(6);\r\n        }\r\n\r\n        for (int i : l) {\r\n            if (i == 5) {\r\n                l.remove(i);\r\n            }\r\n        }\r\n\r\n        System.out.println(l);\r\n    }\r\n\r\nThis, of course, results in:\r\n\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n\r\nEven though multiple threads aren&#39;t doing it. Anyway.\r\n\r\nWhat&#39;s the best solution to this problem? How can I remove an item from the collection in a loop without throwing this exception?\r\n\r\nI&#39;m also using an arbitrary `Collection` here, not necessarily an `ArrayList`, so you can&#39;t rely on `get`.","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>We all know you can't do the following because of <code>ConcurrentModificationException</code>:</p>\n\n<pre><code>for (Object i : l) {\n    if (condition(i)) {\n        l.remove(i);\n    }\n}\n</code></pre>\n\n<p>But this apparently works sometimes, but not always. Here's some specific code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Collection&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; 10; ++i) {\n        l.add(4);\n        l.add(5);\n        l.add(6);\n    }\n\n    for (int i : l) {\n        if (i == 5) {\n            l.remove(i);\n        }\n    }\n\n    System.out.println(l);\n}\n</code></pre>\n\n<p>This, of course, results in:</p>\n\n<pre><code>Exception in thread \"main\" java.util.ConcurrentModificationException\n</code></pre>\n\n<p>Even though multiple threads aren't doing it. Anyway.</p>\n\n<p>What's the best solution to this problem? How can I remove an item from the collection in a loop without throwing this exception?</p>\n\n<p>I'm also using an arbitrary <code>Collection</code> here, not necessarily an <code>ArrayList</code>, so you can't rely on <code>get</code>.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":516334,"reputation":4808,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677241083,"creation_date":1677232452,"answer_id":75555048,"question_id":75549888,"body_markdown":"How about this:\r\n\r\n    dataset.withColumn(&quot;CountDiff&quot;, dataset.col(&quot;Numfizz&quot;).minus(dataset.col(&quot;Numbuzz&quot;)));\r\n\r\n[The `Column.minus` docs](https://spark.apache.org/docs/3.3.2/api/java/org/apache/spark/sql/Column.html#minus-java.lang.Object-) show examples of both Scala and Java usage, where scala applies it&#39;s magic operator conversion, and Java needs explicit function calls:\r\n\r\n    // Scala: The following selects the difference between people&#39;s height and their weight.\r\n    people.select( people(&quot;height&quot;) - people(&quot;weight&quot;) )\r\n    \r\n    // Java:\r\n    people.select( people.col(&quot;height&quot;).minus(people.col(&quot;weight&quot;)) );\r\n\r\n \r\n## alternatively use SQL \r\n\r\nYou can also use SQL to perform express all the transformations you need:\r\n\r\n    dataset.createOrReplaceTempView(&quot;my_sheet&quot;)\r\n\r\n    session.sql(&quot;\r\n    SELECT\r\n    *, \r\n    Numfizz - Numbuzz as CountDiff,\r\n    ... -- other calculations you may need\r\n    FROM my_sheet \r\n    &quot;).show();\r\n\r\n\r\nWhen working with SQL you will may find the [docs for SQL functions available in spark](https://spark.apache.org/docs/latest/api/sql/index.html) useful.","title":"Java Spark withColumn algebra by example","body":"<p>How about this:</p>\n<pre><code>dataset.withColumn(&quot;CountDiff&quot;, dataset.col(&quot;Numfizz&quot;).minus(dataset.col(&quot;Numbuzz&quot;)));\n</code></pre>\n<p><a href=\"https://spark.apache.org/docs/3.3.2/api/java/org/apache/spark/sql/Column.html#minus-java.lang.Object-\" rel=\"nofollow noreferrer\">The <code>Column.minus</code> docs</a> show examples of both Scala and Java usage, where scala applies it's magic operator conversion, and Java needs explicit function calls:</p>\n<pre><code>// Scala: The following selects the difference between people's height and their weight.\npeople.select( people(&quot;height&quot;) - people(&quot;weight&quot;) )\n\n// Java:\npeople.select( people.col(&quot;height&quot;).minus(people.col(&quot;weight&quot;)) );\n</code></pre>\n<h2>alternatively use SQL</h2>\n<p>You can also use SQL to perform express all the transformations you need:</p>\n<pre><code>dataset.createOrReplaceTempView(&quot;my_sheet&quot;)\n\nsession.sql(&quot;\nSELECT\n*, \nNumfizz - Numbuzz as CountDiff,\n... -- other calculations you may need\nFROM my_sheet \n&quot;).show();\n</code></pre>\n<p>When working with SQL you will may find the <a href=\"https://spark.apache.org/docs/latest/api/sql/index.html\" rel=\"nofollow noreferrer\">docs for SQL functions available in spark</a> useful.</p>\n"}],"owner":{"account_id":21044045,"reputation":39,"user_id":16234460,"display_name":"IamYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75555048,"answer_count":1,"score":0,"last_activity_date":1677241083,"creation_date":1677183334,"question_id":75549888,"body_markdown":"Spark (`spark-core_2.13:3.3.2`) and **Java 11** here (very important, I need Java solutions please, _not_ Scala!).\r\n\r\nI am reading an Excel spreadsheet into a `Dataset` like so:\r\n```\r\npublic void runSpark(MyDataJob dataJob, JavaSparkContext sparkContext) {\r\n\r\n    SparkSession session = SparkSession.builder().sparkContext(sparkContext.sc()).getOrCreate();\r\n\r\n    Dataset&lt;Row&gt; dataset = session.read()\r\n        .format(&quot;com.crealytics.spark.excel&quot;)\r\n        .option(&quot;dataAddress&quot;, &quot;&#39;My Sheet&#39;!B3:C35&quot;)\r\n        .option(&quot;header&quot;, &quot;true&quot;)\r\n        .option(&quot;treatEmptyValuesAsNulls&quot;, &quot;true&quot;)\r\n        .option(&quot;setErrorCellsToFallbackValues&quot;, &quot;true&quot;)\r\n        .option(&quot;usePlainNumberFormat&quot;, &quot;false&quot;)\r\n        .option(&quot;inferSchema&quot;, &quot;true&quot;)\r\n        .option(&quot;addColorColumns&quot;, &quot;true&quot;)\r\n        .option(&quot;timestampFormat&quot;, &quot;MM-dd-yyyy HH:mm:ss&quot;)\r\n        .option(&quot;maxRowsInMemory&quot;, 100)\r\n        .option(&quot;maxByteArraySize&quot;, 2147483647)\r\n        .option(&quot;tempFileThreshold&quot;, 10000000)\r\n        .option(&quot;excerptSize&quot;, 10)\r\n        .load(dataJob.getFileName());\r\n\r\n    dataset.withColumn(&quot;CountDiff&quot;, ???);\r\n\r\n}\r\n```\r\n\r\nThe spreadsheet has 2 columns in it, `NumFizz` and `NumBuzz`, and hence, I&#39;m guessing the `Dataset` has these columns as well. I need to add a new column that is the difference of these values in each row, meaning if a row&#39;s `NumFizz` value is 17, and its `NumBuzz` is 10, then its value in the new column should be 7. Unfortunately, since literally **all** the `withColumn` examples appear to be in Scala, I can&#39;t figure out how to do this in Java. I am also open to using Spark SQL if there&#39;s a simple solution using that as well. I just need a new `CountDiff` column added to my Dataset that has the difference of these two columns.\r\n\r\n**Can anyone nudge me in the right direction?**\r\n\r\nI tried to import the `col` functions and pass them in as args but the lack of viable Java examples is blocking me from making headway.","title":"Java Spark withColumn algebra by example","body":"<p>Spark (<code>spark-core_2.13:3.3.2</code>) and <strong>Java 11</strong> here (very important, I need Java solutions please, <em>not</em> Scala!).</p>\n<p>I am reading an Excel spreadsheet into a <code>Dataset</code> like so:</p>\n<pre><code>public void runSpark(MyDataJob dataJob, JavaSparkContext sparkContext) {\n\n    SparkSession session = SparkSession.builder().sparkContext(sparkContext.sc()).getOrCreate();\n\n    Dataset&lt;Row&gt; dataset = session.read()\n        .format(&quot;com.crealytics.spark.excel&quot;)\n        .option(&quot;dataAddress&quot;, &quot;'My Sheet'!B3:C35&quot;)\n        .option(&quot;header&quot;, &quot;true&quot;)\n        .option(&quot;treatEmptyValuesAsNulls&quot;, &quot;true&quot;)\n        .option(&quot;setErrorCellsToFallbackValues&quot;, &quot;true&quot;)\n        .option(&quot;usePlainNumberFormat&quot;, &quot;false&quot;)\n        .option(&quot;inferSchema&quot;, &quot;true&quot;)\n        .option(&quot;addColorColumns&quot;, &quot;true&quot;)\n        .option(&quot;timestampFormat&quot;, &quot;MM-dd-yyyy HH:mm:ss&quot;)\n        .option(&quot;maxRowsInMemory&quot;, 100)\n        .option(&quot;maxByteArraySize&quot;, 2147483647)\n        .option(&quot;tempFileThreshold&quot;, 10000000)\n        .option(&quot;excerptSize&quot;, 10)\n        .load(dataJob.getFileName());\n\n    dataset.withColumn(&quot;CountDiff&quot;, ???);\n\n}\n</code></pre>\n<p>The spreadsheet has 2 columns in it, <code>NumFizz</code> and <code>NumBuzz</code>, and hence, I'm guessing the <code>Dataset</code> has these columns as well. I need to add a new column that is the difference of these values in each row, meaning if a row's <code>NumFizz</code> value is 17, and its <code>NumBuzz</code> is 10, then its value in the new column should be 7. Unfortunately, since literally <strong>all</strong> the <code>withColumn</code> examples appear to be in Scala, I can't figure out how to do this in Java. I am also open to using Spark SQL if there's a simple solution using that as well. I just need a new <code>CountDiff</code> column added to my Dataset that has the difference of these two columns.</p>\n<p><strong>Can anyone nudge me in the right direction?</strong></p>\n<p>I tried to import the <code>col</code> functions and pass them in as args but the lack of viable Java examples is blocking me from making headway.</p>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks","microsoft-graph-mail"],"answers":[{"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671711444,"creation_date":1671711444,"answer_id":74888424,"question_id":74887894,"body_markdown":"You need to use [FileAttachment][1] which extends `Attachment` and has property `contentBytes`.\r\n\r\n\r\n  [1]: https://github.com/microsoftgraph/msgraph-sdk-java/blob/4139f70beba18877fbb2dc307700df006d303edb/src/main/java/com/microsoft/graph/models/FileAttachment.java","title":"How to create com.microsoft.graph.models.Message with attachment?","body":"<p>You need to use <a href=\"https://github.com/microsoftgraph/msgraph-sdk-java/blob/4139f70beba18877fbb2dc307700df006d303edb/src/main/java/com/microsoft/graph/models/FileAttachment.java\" rel=\"nofollow noreferrer\">FileAttachment</a> which extends <code>Attachment</code> and has property <code>contentBytes</code>.</p>\n"},{"tags":[],"owner":{"account_id":24134719,"reputation":694,"user_id":18101820,"display_name":"Ivan Gechev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241016,"creation_date":1677241016,"answer_id":75556474,"question_id":74887894,"body_markdown":"You can do the below in C# to add an inline attachment/s (I know it&#39;s not Java but you should be able to reproduce the same result):\r\n```CSharp\r\nvar message = new Message\r\n{\r\n    Subject = seq.Subject,\r\n    Body = new ItemBody\r\n    {\r\n        ContentType = BodyType.Html,\r\n        Content = &quot;your email body&quot;\r\n    },\r\n    ToRecipients = new List&lt;Recipient&gt;()\r\n    {\r\n        new Recipient\r\n        {\r\n            EmailAddress = new EmailAddress\r\n            {\r\n                Address = &quot;email@address.com&quot;\r\n            }\r\n        }\r\n    },\r\n\tHasAttachments = true,\r\n\tAttachments = new MessageAttachmentsCollectionPage()\r\n\t{\r\n\t\tnew FileAttachment\r\n\t\t{\r\n\t\t\tName = &quot;someImage.png&quot;,\r\n\t\t\tContentId = &quot;someImage.png&quot;,\r\n\t\t\tContentBytes = System.IO.File.ReadAllBytes(&quot;path to someImage.png&quot;),\r\n\t\t\tIsInline = true,\r\n\t\t\tContentType = &quot;image&quot;,\r\n\t\t},\r\n\t\tnew FileAttachment\r\n\t\t{\r\n\t\t\tName = &quot;anotherImage.jpg&quot;,\r\n\t\t\tContentId = &quot;anotherImage.jpg&quot;,\r\n\t\t\tContentBytes = System.IO.File.ReadAllBytes(&quot;path to anotherImage.jpg&quot;),\r\n\t\t\tContentType = &quot;image&quot;,\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to create com.microsoft.graph.models.Message with attachment?","body":"<p>You can do the below in C# to add an inline attachment/s (I know it's not Java but you should be able to reproduce the same result):</p>\n<pre><code>var message = new Message\n{\n    Subject = seq.Subject,\n    Body = new ItemBody\n    {\n        ContentType = BodyType.Html,\n        Content = &quot;your email body&quot;\n    },\n    ToRecipients = new List&lt;Recipient&gt;()\n    {\n        new Recipient\n        {\n            EmailAddress = new EmailAddress\n            {\n                Address = &quot;email@address.com&quot;\n            }\n        }\n    },\n    HasAttachments = true,\n    Attachments = new MessageAttachmentsCollectionPage()\n    {\n        new FileAttachment\n        {\n            Name = &quot;someImage.png&quot;,\n            ContentId = &quot;someImage.png&quot;,\n            ContentBytes = System.IO.File.ReadAllBytes(&quot;path to someImage.png&quot;),\n            IsInline = true,\n            ContentType = &quot;image&quot;,\n        },\n        new FileAttachment\n        {\n            Name = &quot;anotherImage.jpg&quot;,\n            ContentId = &quot;anotherImage.jpg&quot;,\n            ContentBytes = System.IO.File.ReadAllBytes(&quot;path to anotherImage.jpg&quot;),\n            ContentType = &quot;image&quot;,\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12876524,"reputation":13,"user_id":9313046,"display_name":"gregof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677241016,"creation_date":1671708554,"question_id":74887894,"body_markdown":"I&#39;m trying to send email with inline attachment using MS Graph. I know how to send email without attachment but when I&#39;m trying to send message with attachment I don&#39;t know how can I add this attachment to the message.\r\nHere is my code:\r\n\r\n```\r\n// recipients\r\nRecipient recipient = new Recipient();\r\nEmailAddress emailAddress = new EmailAddress();\r\nemailAddress.address = &quot;tom@mail.com&quot;;\r\nrecipient.emailAddress = emailAddress;\r\nList&lt;Recipient&gt; recipients = List.of(recipient);\r\n\r\n// body\r\nItemBody body = new ItemBody();\r\nbody.contentType = BodyType.HTML;\r\nbody.content = &quot;&lt;html&gt;&lt;body&gt;my image:&lt;br&gt;&lt;img src=&#39;cid:my_image_CID&#39;&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n// inline image\r\nAttachment attachment = new Attachment();\r\nattachment.isInline = true;\r\nattachment.contentType = &quot;.png&quot;;\r\nattachment.id = &quot;my_image_CID&quot;;\r\n//attachment.contentBytes                  - I DON&#39;T SEE THIS FIELD...\r\n\r\n// message\r\nMessage message = new Message();\r\nmessage.subject = &quot;my subject&quot;;\r\nmessage.body = body;\r\nmessage.toRecipients = recipients;\r\n//message.attachments =                    ??? - how to create this object?\r\n```\r\nthere are examples in the internet that I can set attachment.contentBytes but I don&#39;t see this attribute.\r\nFor the message I can set attachments object which is of type \r\n```\r\nAttachmentCollectionPage\r\n```\r\nbut I don&#39;t know how can I create this object.\r\n\r\nI&#39;m using the following versions:\r\n```\r\nMicrosoft Graph Java SDK &#187; 5.42.0\r\nMicrosoft Graph Java Core SDK &#187; 2.0.14\r\n```","title":"How to create com.microsoft.graph.models.Message with attachment?","body":"<p>I'm trying to send email with inline attachment using MS Graph. I know how to send email without attachment but when I'm trying to send message with attachment I don't know how can I add this attachment to the message.\nHere is my code:</p>\n<pre><code>// recipients\nRecipient recipient = new Recipient();\nEmailAddress emailAddress = new EmailAddress();\nemailAddress.address = &quot;tom@mail.com&quot;;\nrecipient.emailAddress = emailAddress;\nList&lt;Recipient&gt; recipients = List.of(recipient);\n\n// body\nItemBody body = new ItemBody();\nbody.contentType = BodyType.HTML;\nbody.content = &quot;&lt;html&gt;&lt;body&gt;my image:&lt;br&gt;&lt;img src='cid:my_image_CID'&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n// inline image\nAttachment attachment = new Attachment();\nattachment.isInline = true;\nattachment.contentType = &quot;.png&quot;;\nattachment.id = &quot;my_image_CID&quot;;\n//attachment.contentBytes                  - I DON'T SEE THIS FIELD...\n\n// message\nMessage message = new Message();\nmessage.subject = &quot;my subject&quot;;\nmessage.body = body;\nmessage.toRecipients = recipients;\n//message.attachments =                    ??? - how to create this object?\n</code></pre>\n<p>there are examples in the internet that I can set attachment.contentBytes but I don't see this attribute.\nFor the message I can set attachments object which is of type</p>\n<pre><code>AttachmentCollectionPage\n</code></pre>\n<p>but I don't know how can I create this object.</p>\n<p>I'm using the following versions:</p>\n<pre><code>Microsoft Graph Java SDK  5.42.0\nMicrosoft Graph Java Core SDK  2.0.14\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","keycloak"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":4,"creation_date":1677245693,"post_id":75554353,"comment_id":133304908,"body_markdown":"Keycloak adapters for spring where deprecated in early 2022 and are not compatible with Spring Boot 3. Refer to this other answer for solution (it works with boot 2.6 too with almost no change) : https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732","body":"Keycloak adapters for spring where deprecated in early 2022 and are not compatible with Spring Boot 3. Refer to this other answer for solution (it works with boot 2.6 too with almost no change) : <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\" title=\"use keycloak spring adapter with spring boot 3\">stackoverflow.com/questions/74571191/&hellip;</a>"}],"owner":{"account_id":12519280,"reputation":29,"user_id":9111244,"display_name":"Philipp2706"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677240996,"creation_date":1677228275,"question_id":75554353,"body_markdown":"I have a Spring Boot service that is secured via a Keycloak server. I get the status code &quot;404 Not Found&quot; for every request with no log entries in the Spring Boot Server. So my guess was that the controller classes are not found. I added @ComponentScan annotation and since then I get the error message *&quot;Caused by: java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json&quot;*. No matter if the file exists or not.\r\nI want to read all properties from the application.properties file and I don&#39;t need the keycloack.json file.\r\n\r\n\r\nI am grateful for any tip.\r\n\r\n**main:**\r\n\r\n    @Import({ WebSecurityConfiguration.class})\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.company.xy.controller&quot;,&quot;com.company.xy.client&quot;})\r\n    public class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n**application.properties**\r\n\r\n    spring.datasource.url=jdbc:postgresql://database:5432/db\r\n    spring.datasource.username=db\r\n    spring.datasource.password=db\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=false\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\r\n    \r\n    \r\n    server.port=8585\r\n    \r\n    keycloak.realm=realm\r\n    keycloak.auth-server-url=http://localhost:8180\r\n    keycloak.resource=resource\r\n    keycloak.credentials.secret=abc\r\n    keycloak.credentials.username=adm\r\n    keycloak.credentials.password=password\r\n    keycloak.credentials.provider=secret\r\n\r\n    keycloak.public-client=true\r\n    keycloak.bearer-only=true\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n       &lt;parent&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n          &lt;version&gt;2.6.1&lt;/version&gt;\r\n          &lt;relativePath /&gt;\r\n          &lt;!-- lookup parent from repository --&gt;\r\n       &lt;/parent&gt;\r\n       &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-keycloak&lt;/artifactId&gt;\r\n       &lt;version&gt;1.0.0&lt;/version&gt;\r\n       &lt;name&gt;spring-boot-keycloak&lt;/name&gt;\r\n       &lt;description&gt;Demo project for Spring Boot with Keycloak&lt;/description&gt;\r\n       &lt;properties&gt;\r\n          &lt;java.version&gt;11&lt;/java.version&gt;\r\n          &lt;keycloak.version&gt;17.0.0&lt;/keycloak.version&gt;\r\n       &lt;/properties&gt;\r\n       &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n             &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n             &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n             &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n             &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n             &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n             &lt;version&gt;19.0.3&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n       &lt;build&gt;\r\n          &lt;plugins&gt;\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n             &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n       &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**error message**\r\n\r\n    2023-02-24 09:31:56.249 ERROR 8052 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.13.jar:5.3.13]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at com.company.xy.Application.Application.main(Application.java:16) ~[classes/:na]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            ... 8 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;keycloakAuthenticationProcessingFilter&#39; defined in com.company.xy.security.WebSecurityConfiguration: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;adapterDeploymentContext&#39; defined in com.company.xy.security.WebSecurityConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method &#39;adapterDeploymentContext&#39; threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:175) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:170) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:155) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            ... 13 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;adapterDeploymentContext&#39; defined in com.company.xy.security.WebSecurityConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method &#39;adapterDeploymentContext&#39; threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1273) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172) ~[spring-context-5.3.13.jar:5.3.13]\r\n            at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.afterPropertiesSet(KeycloakAuthenticationProcessingFilter.java:134) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            ... 51 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method &#39;adapterDeploymentContext&#39; threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            ... 69 common frames omitted\r\n    Caused by: java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\r\n            at org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean.loadKeycloakDeployment(AdapterDeploymentContextFactoryBean.java:83) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\r\n            at org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean.afterPropertiesSet(AdapterDeploymentContextFactoryBean.java:76) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\r\n            at org.keycloak.adapters.springsecurity.config.KeycloakWebSecurityConfigurerAdapter.adapterDeploymentContext(KeycloakWebSecurityConfigurerAdapter.java:72) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\r\n            at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df.CGLIB$adapterDeploymentContext$10(&lt;generated&gt;) ~[classes/:na]\r\n            at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df$$FastClassBySpringCGLIB$$45b88d07.invoke(&lt;generated&gt;) ~[classes/:na]\r\n            at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.13.jar:5.3.13]\r\n            at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.13.jar:5.3.13]\r\n            at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df.adapterDeploymentContext(&lt;generated&gt;) ~[classes/:na]\r\n            at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            ... 70 common frames omitted\r\n\r\n**I have already implemented the following class so that only the Spring Boot application.properties are used.:**\r\n\r\n    @Configuration\r\n    public class KeycloakConfig {\r\n    \r\n        @Bean\r\n        public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\r\n            return new KeycloakSpringBootConfigResolver();\r\n        }\r\n    }","title":"Unable to locate Keycloak configuration file: keycloak.json","body":"<p>I have a Spring Boot service that is secured via a Keycloak server. I get the status code &quot;404 Not Found&quot; for every request with no log entries in the Spring Boot Server. So my guess was that the controller classes are not found. I added @ComponentScan annotation and since then I get the error message <em>&quot;Caused by: java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json&quot;</em>. No matter if the file exists or not.\nI want to read all properties from the application.properties file and I don't need the keycloack.json file.</p>\n<p>I am grateful for any tip.</p>\n<p><strong>main:</strong></p>\n<pre><code>@Import({ WebSecurityConfiguration.class})\n@SpringBootApplication\n@ComponentScan({&quot;com.company.xy.controller&quot;,&quot;com.company.xy.client&quot;})\npublic class Application {\n\npublic static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://database:5432/db\nspring.datasource.username=db\nspring.datasource.password=db\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=false\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\n\n\nserver.port=8585\n\nkeycloak.realm=realm\nkeycloak.auth-server-url=http://localhost:8180\nkeycloak.resource=resource\nkeycloak.credentials.secret=abc\nkeycloak.credentials.username=adm\nkeycloak.credentials.password=password\nkeycloak.credentials.provider=secret\n\nkeycloak.public-client=true\nkeycloak.bearer-only=true\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.6.1&lt;/version&gt;\n      &lt;relativePath /&gt;\n      &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-keycloak&lt;/artifactId&gt;\n   &lt;version&gt;1.0.0&lt;/version&gt;\n   &lt;name&gt;spring-boot-keycloak&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot with Keycloak&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;11&lt;/java.version&gt;\n      &lt;keycloak.version&gt;17.0.0&lt;/keycloak.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n         &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n         &lt;version&gt;${keycloak.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n         &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n         &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n         &lt;version&gt;19.0.3&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>error message</strong></p>\n<pre><code>2023-02-24 09:31:56.249 ERROR 8052 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.13.jar:5.3.13]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\n        at com.company.xy.Application.Application.main(Application.java:16) ~[classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.1.jar:2.6.1]\n        ... 8 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'keycloakAuthenticationProcessingFilter' defined in com.company.xy.security.WebSecurityConfiguration: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'adapterDeploymentContext' defined in com.company.xy.security.WebSecurityConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method 'adapterDeploymentContext' threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:175) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:170) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:155) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.1.jar:2.6.1]\n        ... 13 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'adapterDeploymentContext' defined in com.company.xy.security.WebSecurityConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method 'adapterDeploymentContext' threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1273) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172) ~[spring-context-5.3.13.jar:5.3.13]\n        at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.afterPropertiesSet(KeycloakAuthenticationProcessingFilter.java:134) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 51 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method 'adapterDeploymentContext' threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 69 common frames omitted\nCaused by: java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\n        at org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean.loadKeycloakDeployment(AdapterDeploymentContextFactoryBean.java:83) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\n        at org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean.afterPropertiesSet(AdapterDeploymentContextFactoryBean.java:76) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\n        at org.keycloak.adapters.springsecurity.config.KeycloakWebSecurityConfigurerAdapter.adapterDeploymentContext(KeycloakWebSecurityConfigurerAdapter.java:72) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\n        at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df.CGLIB$adapterDeploymentContext$10(&lt;generated&gt;) ~[classes/:na]\n        at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df$$FastClassBySpringCGLIB$$45b88d07.invoke(&lt;generated&gt;) ~[classes/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.13.jar:5.3.13]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.13.jar:5.3.13]\n        at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df.adapterDeploymentContext(&lt;generated&gt;) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 70 common frames omitted\n</code></pre>\n<p><strong>I have already implemented the following class so that only the Spring Boot application.properties are used.:</strong></p>\n<pre><code>@Configuration\npublic class KeycloakConfig {\n\n    @Bean\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":1583005,"reputation":5739,"user_id":1467926,"accept_rate":76,"display_name":"Fermat&#39;s Little Student"},"score":12,"creation_date":1381972774,"post_id":19416644,"comment_id":28783701,"body_markdown":"I believe there should be more restriction, otherwise it is too open.","body":"I believe there should be more restriction, otherwise it is too open."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1382036144,"post_id":19416644,"comment_id":28814293,"body_markdown":"Which parts of the code may you change, if any?","body":"Which parts of the code may you change, if any?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1382516509,"post_id":19416644,"comment_id":28985197,"body_markdown":"possible duplicate of [How can &quot;while (i == i) ;&quot; be a non-infinite loop in a single threaded application?](http://stackoverflow.com/questions/471296/how-can-while-i-i-be-a-non-infinite-loop-in-a-single-threaded-applicati)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/471296/how-can-while-i-i-be-a-non-infinite-loop-in-a-single-threaded-applicati\">How can &quot;while (i == i) ;&quot; be a non-infinite loop in a single threaded application?</a>"},{"owner":{"account_id":1542737,"reputation":4319,"user_id":1436981,"accept_rate":45,"display_name":"stuXnet"},"score":52,"creation_date":1386158748,"post_id":19416644,"comment_id":30419260,"body_markdown":"Is it as simple as `System.out.println(&quot;Gotcha!&quot;);` instead of the comment? :)","body":"Is it as simple as <code>System.out.println(&quot;Gotcha!&quot;);</code> instead of the comment? :)"},{"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":2,"creation_date":1386158892,"post_id":19416644,"comment_id":30419344,"body_markdown":"What type is a? String Object double?","body":"What type is a? String Object double?"},{"owner":{"account_id":99481,"reputation":5660,"user_id":268673,"accept_rate":52,"display_name":"AndreDurao"},"score":0,"creation_date":1386159358,"post_id":19416644,"comment_id":30419621,"body_markdown":"Whatever type you want;","body":"Whatever type you want;"},{"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":7,"creation_date":1386159462,"post_id":19416644,"comment_id":30419687,"body_markdown":"Good, then is double a= Double.NaN the shortest answer and my &quot;hack is just a cheat ;)","body":"Good, then is double a= Double.NaN the shortest answer and my &quot;hack is just a cheat ;)"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":50,"creation_date":1386159561,"post_id":19416644,"comment_id":30419753,"body_markdown":"This is cute Java trivia, but I hope no one will consider making it an interview question.  People considering candidates for employment should be doing the best they can to figure out if the candidate understands programming, not how much trivia he&#39;s accumulated.  I&#39;ve barely used floating point numbers in 17 years of programming in Java, much less the NaN construct, MUCH less knowing how it behaves with the == operator...","body":"This is cute Java trivia, but I hope no one will consider making it an interview question.  People considering candidates for employment should be doing the best they can to figure out if the candidate understands programming, not how much trivia he&#39;s accumulated.  I&#39;ve barely used floating point numbers in 17 years of programming in Java, much less the NaN construct, MUCH less knowing how it behaves with the == operator..."},{"owner":{"account_id":924076,"reputation":12260,"user_id":1386111,"accept_rate":88,"display_name":"Alvin Wong"},"score":1,"creation_date":1386161210,"post_id":19416644,"comment_id":30420791,"body_markdown":"http://stackoverflow.com/questions/471296/how-can-while-i-i-be-a-non-infinite-loop-in-a-single-threaded-applicati and http://stackoverflow.com/questions/18460416/in-which-case-could-a-a-return-true","body":"<a href=\"http://stackoverflow.com/questions/471296/how-can-while-i-i-be-a-non-infinite-loop-in-a-single-threaded-applicati\" title=\"how can while i i be a non infinite loop in a single threaded applicati\">stackoverflow.com/questions/471296/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/18460416/in-which-case-could-a-a-return-true\" title=\"in which case could a a return true\">stackoverflow.com/questions/18460416/&hellip;</a>"},{"owner":{"account_id":1184416,"reputation":1778,"user_id":1158692,"display_name":"Grimm The Opiner"},"score":0,"creation_date":1386168233,"post_id":19416644,"comment_id":30425100,"body_markdown":"A bit over the top would be to define a class that overrides the `==` operator and always returns false, then instaniate that class as `a`","body":"A bit over the top would be to define a class that overrides the <code>==</code> operator and always returns false, then instaniate that class as <code>a</code>"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":3,"creation_date":1386168508,"post_id":19416644,"comment_id":30425309,"body_markdown":"@user1158692 Within java you can&#39;t override basic operators like `==`","body":"@user1158692 Within java you can&#39;t override basic operators like <code>==</code>"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1386169827,"post_id":19416644,"comment_id":30426225,"body_markdown":"@user1158692 Take it to slashdot.","body":"@user1158692 Take it to slashdot."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":8,"creation_date":1386169829,"post_id":19416644,"comment_id":30426230,"body_markdown":"@user1158692 Matter of opinion, I personally hate any programs where the basic operators have been overridden and am glad that any code I recieve in java hasn&#39;t been messed with (I have seen * overridden as the [vector cross product](http://en.wikipedia.org/wiki/Cross_product) and the [dot product](http://en.wikipedia.org/wiki/Dot_product) because both are kinds of vector multiplication; infuriating! Whereas in java one is called `.cross()` and the other is `.dot()` and there is no confusion. Also the fact that &quot;override the == operator and always return false&quot; can&#39;t happen seems pro java","body":"@user1158692 Matter of opinion, I personally hate any programs where the basic operators have been overridden and am glad that any code I recieve in java hasn&#39;t been messed with (I have seen * overridden as the <a href=\"http://en.wikipedia.org/wiki/Cross_product\" rel=\"nofollow noreferrer\">vector cross product</a> and the <a href=\"http://en.wikipedia.org/wiki/Dot_product\" rel=\"nofollow noreferrer\">dot product</a> because both are kinds of vector multiplication; infuriating! Whereas in java one is called <code>.cross()</code> and the other is <code>.dot()</code> and there is no confusion. Also the fact that &quot;override the == operator and always return false&quot; can&#39;t happen seems pro java"},{"owner":{"account_id":99481,"reputation":5660,"user_id":268673,"accept_rate":52,"display_name":"AndreDurao"},"score":0,"creation_date":1386175114,"post_id":19416644,"comment_id":30429787,"body_markdown":"it may be confusing sometimes, but reading myObj == yourObj it&#39;s a bit more clear than myObj.equals(yourObj).","body":"it may be confusing sometimes, but reading myObj == yourObj it&#39;s a bit more clear than myObj.equals(yourObj)."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1386175306,"post_id":19416644,"comment_id":30429912,"body_markdown":"@AndreDurao Ah but in java `myObj == yourObj`  means **truly and faithfully the same object** whereas `.equals()` means &quot;looks the same&quot;, they are seperate concepts and we need both of them","body":"@AndreDurao Ah but in java <code>myObj == yourObj</code>  means <b>truly and faithfully the same object</b> whereas <code>.equals()</code> means &quot;looks the same&quot;, they are seperate concepts and we need both of them"},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":3,"creation_date":1386179499,"post_id":19416644,"comment_id":30432458,"body_markdown":"@rcook knowing about NaN, where it comes from, and how it behaves is pretty important. Almost every major language has it (and it behaves in the same way in all) and doing it wrong is liable to add very tricky bugs to any code that does non-integer maths.","body":"@rcook knowing about NaN, where it comes from, and how it behaves is pretty important. Almost every major language has it (and it behaves in the same way in all) and doing it wrong is liable to add very tricky bugs to any code that does non-integer maths."},{"owner":{"account_id":3225384,"reputation":9550,"user_id":2721883,"display_name":"clcto"},"score":0,"creation_date":1386179635,"post_id":19416644,"comment_id":30432534,"body_markdown":"@RichardTingle you can just as easily override the `.equals()` method to always `return false;`","body":"@RichardTingle you can just as easily override the <code>.equals()</code> method to always <code>return false;</code>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1386179696,"post_id":19416644,"comment_id":30432567,"body_markdown":"in addition to answers given, there&#39;s [this](http://stackoverflow.com/a/19434552/365237)","body":"in addition to answers given, there&#39;s <a href=\"http://stackoverflow.com/a/19434552/365237\">this</a>"},{"owner":{"account_id":405638,"reputation":12454,"user_id":774651,"accept_rate":100,"display_name":"Lol4t0"},"score":0,"creation_date":1386709120,"post_id":19416644,"comment_id":30651752,"body_markdown":"And after questions merged nobody can understand what gotcha everybody is talking about in this post.","body":"And after questions merged nobody can understand what gotcha everybody is talking about in this post."},{"owner":{"account_id":2243577,"reputation":980,"user_id":1977509,"display_name":"Magnus"},"score":0,"creation_date":1386743009,"post_id":19416644,"comment_id":30664317,"body_markdown":"@RichardTingle there&#39;s absolutely no confusion when it comes to overloaded vector cross and dot multiplication, even if you were to throw in matrix multiplication into the mix: the signatures are quite different enough so it&#39;s always obvious which form of multiplication is being applied. That said, what kind of language allows that sort of overloading, anyway? It kinda sounded like a stab at C++, but in C++ you can&#39;t have two overloads with the same argument and different result types...","body":"@RichardTingle there&#39;s absolutely no confusion when it comes to overloaded vector cross and dot multiplication, even if you were to throw in matrix multiplication into the mix: the signatures are quite different enough so it&#39;s always obvious which form of multiplication is being applied. That said, what kind of language allows that sort of overloading, anyway? It kinda sounded like a stab at C++, but in C++ you can&#39;t have two overloads with the same argument and different result types..."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1386747549,"post_id":19416644,"comment_id":30666194,"body_markdown":"@Magnus I mean one library overloading one way and a **different** library overloading the other way, and I am talking about C++. And it&#39;s just an example;  the point is I like to know what my functions do just from the name; the docs should support that, not be essential","body":"@Magnus I mean one library overloading one way and a <b>different</b> library overloading the other way, and I am talking about C++. And it&#39;s just an example;  the point is I like to know what my functions do just from the name; the docs should support that, not be essential"},{"owner":{"account_id":2243577,"reputation":980,"user_id":1977509,"display_name":"Magnus"},"score":0,"creation_date":1386751143,"post_id":19416644,"comment_id":30667803,"body_markdown":"@RichardTingle I see... well, mathematically speaking it&#39;s perfectly sensible to use the * operator for a dot product because that&#39;s how vector spaces are defined in pretty much any linear algebra textbook, and I was arguing that the types involved tend to make it very clear what an operation does. I know it&#39;s just an example, but I honestly can&#39;t see the confusion because I really do think it&#39;s very clear in that context and it makes the code a lot easier to read. Can&#39;t even think of a really atrocious example either.","body":"@RichardTingle I see... well, mathematically speaking it&#39;s perfectly sensible to use the * operator for a dot product because that&#39;s how vector spaces are defined in pretty much any linear algebra textbook, and I was arguing that the types involved tend to make it very clear what an operation does. I know it&#39;s just an example, but I honestly can&#39;t see the confusion because I really do think it&#39;s very clear in that context and it makes the code a lot easier to read. Can&#39;t even think of a really atrocious example either."},{"owner":{"account_id":906214,"reputation":3979,"user_id":941058,"accept_rate":81,"display_name":"kingdango"},"score":0,"creation_date":1386798869,"post_id":19416644,"comment_id":30697819,"body_markdown":"I&#39;m glad I came across this so I can know how not to ask an absurd &quot;look how smRT&quot; I am question as an instructor. I would strongly question the productivity of the person who designed this question -- oh wait, its a teacher...","body":"I&#39;m glad I came across this so I can know how not to ask an absurd &quot;look how smRT&quot; I am question as an instructor. I would strongly question the productivity of the person who designed this question -- oh wait, its a teacher..."}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":177,"is_accepted":true,"score":177,"last_activity_date":1386865158,"creation_date":1381972642,"answer_id":19416665,"question_id":19416644,"body_markdown":"One simple way is to use [`Float.NaN`][1]:\n\n    float x = Float.NaN;  // &lt;--\n\n    if (x == x) {\n        System.out.println(&quot;Ok&quot;);\n    } else {\n        System.out.println(&quot;Not ok&quot;);\n    }\n\n&lt;pre&gt;\nNot ok\n&lt;/pre&gt;\n\nYou can do the same with [`Double.NaN`][2].\n\n---\n\nFrom [**JLS &#167;15.21.1.** Numerical Equality Operators `==` and `!=`][3]:\n\n&gt;Floating-point equality testing is performed in accordance with the rules of the IEEE 754 standard:\n&gt;\n&gt;- If either operand is NaN, then the result of `==` is `false` but the result of `!=` is `true`.  \n&gt;\n&gt;   Indeed, the test `x!=x` is `true` if and only if the value of `x` is NaN.\n&gt;\n&gt;...\n\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#NaN\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#NaN\n  [3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.21.1","title":"How can a Java variable be different from itself?","body":"<p>One simple way is to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#NaN\" rel=\"noreferrer\"><code>Float.NaN</code></a>:</p>\n<pre><code>float x = Float.NaN;  // &lt;--\n\nif (x == x) {\n    System.out.println(&quot;Ok&quot;);\n} else {\n    System.out.println(&quot;Not ok&quot;);\n}\n</code></pre>\n<pre>\nNot ok\n</pre>\n<p>You can do the same with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#NaN\" rel=\"noreferrer\"><code>Double.NaN</code></a>.</p>\n<hr />\n<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.21.1\" rel=\"noreferrer\"><strong>JLS 15.21.1.</strong> Numerical Equality Operators <code>==</code> and <code>!=</code></a>:</p>\n<blockquote>\n<p>Floating-point equality testing is performed in accordance with the rules of the IEEE 754 standard:</p>\n<ul>\n<li><p>If either operand is NaN, then the result of <code>==</code> is <code>false</code> but the result of <code>!=</code> is <code>true</code>.</p>\n<p>Indeed, the test <code>x!=x</code> is <code>true</code> if and only if the value of <code>x</code> is NaN.</p>\n</li>\n</ul>\n<p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"down_vote_count":7,"up_vote_count":167,"is_accepted":false,"score":160,"last_activity_date":1381972710,"creation_date":1381972710,"answer_id":19416674,"question_id":19416644,"body_markdown":"    int x = 0;\r\n    if (x == x) {\r\n        System.out.println(&quot;Not ok&quot;);\r\n    } else {\r\n        System.out.println(&quot;Ok&quot;);\r\n    }","title":"How can a Java variable be different from itself?","body":"<pre><code>int x = 0;\nif (x == x) {\n    System.out.println(\"Not ok\");\n} else {\n    System.out.println(\"Ok\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1420723913,"creation_date":1381974339,"answer_id":19416907,"question_id":19416644,"body_markdown":"Not sure if this is an option but changing `x` from local variable to a field would allow other thread to change its value between the reading left and right side in `if` statement.\r\n\r\nHere is short demo:\r\n\r\n    class Test {\r\n    \r\n    \tstatic int x = 0;\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n    \t\tThread t = new Thread(new Change());\r\n    \t\tt.setDaemon(true);\r\n    \t\tt.start();\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\tif (x == x) {\r\n    \t\t\t\tSystem.out.println(&quot;Ok&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Not ok&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class Change implements Runnable {\r\n    \tpublic void run() {\r\n    \t\twhile (true)\r\n    \t\t\tTest.x++;\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    \r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Not ok\r\n","title":"How can a Java variable be different from itself?","body":"<p>Not sure if this is an option but changing <code>x</code> from local variable to a field would allow other thread to change its value between the reading left and right side in <code>if</code> statement.</p>\n\n<p>Here is short demo:</p>\n\n<pre><code>class Test {\n\n    static int x = 0;\n\n    public static void main(String[] args) throws Exception {\n\n        Thread t = new Thread(new Change());\n        t.setDaemon(true);\n        t.start();\n\n        while (true) {\n            if (x == x) {\n                System.out.println(\"Ok\");\n            } else {\n                System.out.println(\"Not ok\");\n                break;\n            }\n        }\n    }\n}\n\nclass Change implements Runnable {\n    public void run() {\n        while (true)\n            Test.x++;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\nOk\nOk\nOk\nOk\nOk\nOk\nOk\nOk\nNot ok\n</code></pre>\n"},{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1611852845,"creation_date":1382034931,"answer_id":19434552,"question_id":19416644,"body_markdown":"There are so many solutions:\r\n\r\n    import java.io.PrintStream;\r\n    \r\n    class A extends PrintStream {\r\n    \tpublic A(PrintStream x) {\r\n    \t\tsuper(x);\r\n    \t}\r\n    \r\n    \tpublic void println(String x) {\r\n    \t\tsuper.println(&quot;Not ok&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setOut(new A(System.out));\r\n    \t\tint x = 0;\r\n    \t\tif (x == x) {\r\n    \t\t\tSystem.out.println(&quot;Ok&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Not ok&quot;);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How can a Java variable be different from itself?","body":"<p>There are so many solutions:</p>\n<pre><code>import java.io.PrintStream;\n\nclass A extends PrintStream {\n    public A(PrintStream x) {\n        super(x);\n    }\n\n    public void println(String x) {\n        super.println(&quot;Not ok&quot;);\n    }\n\n    public static void main(String[] args) {\n        System.setOut(new A(System.out));\n        int x = 0;\n        if (x == x) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1382480540,"creation_date":1382480540,"answer_id":19529457,"question_id":19416644,"body_markdown":"Using the same skip/change output approach from another answers:\r\n\r\n    class Condition {\r\n        public static void main(String[] args) {\r\n            try {\r\n                int x = 1 / 0;\r\n                if (x == x) {\r\n                    System.out.println(&quot;Ok&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Not ok&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Not ok&quot;);\r\n            }\r\n        }\r\n    }","title":"How can a Java variable be different from itself?","body":"<p>Using the same skip/change output approach from another answers:</p>\n\n<pre><code>class Condition {\n    public static void main(String[] args) {\n        try {\n            int x = 1 / 0;\n            if (x == x) {\n                System.out.println(\"Ok\");\n            } else {\n                System.out.println(\"Not ok\");\n            }\n        } catch (Exception e) {\n            System.out.println(\"Not ok\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1386227899,"creation_date":1383594725,"answer_id":19775881,"question_id":19416644,"body_markdown":"Create your own class `System` in tha same package with `Condition`.  \r\nIn this case your `System` class will hide `java.lang.System` class\r\n\r\n    class Condition\r\n    {\r\n    \tstatic class System\r\n    \t{\r\n    \t\tstatic class out\r\n    \t\t{\r\n    \t\t\tstatic void println(String ignored)\r\n    \t\t\t{\r\n    \t\t\t\tjava.lang.System.out.println(&quot;Not ok&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tint x = 0;\r\n    \t\tif (x == x) \r\n    \t\t{\r\n               System.out.println(&quot;Not ok&quot;);\r\n            } \r\n            else \r\n            {\r\n               System.out.println(&quot;Ok&quot;);\r\n            }\r\n        }\r\n    }  \r\n[**Ideone DEMO**][1]\r\n\r\n\r\n  [1]: http://ideone.com/F039qY","title":"How can a Java variable be different from itself?","body":"<p>Create your own class <code>System</code> in tha same package with <code>Condition</code>.<br>\nIn this case your <code>System</code> class will hide <code>java.lang.System</code> class</p>\n\n<pre><code>class Condition\n{\n    static class System\n    {\n        static class out\n        {\n            static void println(String ignored)\n            {\n                java.lang.System.out.println(\"Not ok\");\n            }\n        }\n    }\n\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        int x = 0;\n        if (x == x) \n        {\n           System.out.println(\"Not ok\");\n        } \n        else \n        {\n           System.out.println(\"Ok\");\n        }\n    }\n}  \n</code></pre>\n\n<p><a href=\"http://ideone.com/F039qY\" rel=\"noreferrer\"><strong>Ideone DEMO</strong></a></p>\n"},{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1392716655,"creation_date":1386158545,"answer_id":20374855,"question_id":19416644,"body_markdown":"By the [Java Language Specifications][1] `NaN` is not equal to `NaN`.\r\n\r\nTherefore any line that caused `x` to be equal to `NaN` would cause this, such as\r\n\r\n    double x=Math.sqrt(-1);\r\n\r\nFrom the Java Language Specifications:\r\n\r\n&gt; Floating-point operators produce no exceptions (&#167;11). An operation\r\n&gt; that overflows produces a signed infinity, an operation that\r\n&gt; underflows produces a denormalized value or a signed zero, and an\r\n&gt; operation that has no mathematically definite result produces NaN. All\r\n&gt; numeric operations with NaN as an operand produce NaN as a result. As\r\n&gt; has already been described, NaN is unordered, so **a numeric comparison\r\n&gt; operation involving one or two NaNs returns false** and any !=\r\n&gt; comparison involving NaN returns true, including x!=x when x is NaN.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/","title":"How can a Java variable be different from itself?","body":"<p>By the <a href=\"http://docs.oracle.com/javase/specs/\" rel=\"noreferrer\">Java Language Specifications</a> <code>NaN</code> is not equal to <code>NaN</code>.</p>\n\n<p>Therefore any line that caused <code>x</code> to be equal to <code>NaN</code> would cause this, such as</p>\n\n<pre><code>double x=Math.sqrt(-1);\n</code></pre>\n\n<p>From the Java Language Specifications:</p>\n\n<blockquote>\n  <p>Floating-point operators produce no exceptions (11). An operation\n  that overflows produces a signed infinity, an operation that\n  underflows produces a denormalized value or a signed zero, and an\n  operation that has no mathematically definite result produces NaN. All\n  numeric operations with NaN as an operand produce NaN as a result. As\n  has already been described, NaN is unordered, so <strong>a numeric comparison\n  operation involving one or two NaNs returns false</strong> and any !=\n  comparison involving NaN returns true, including x!=x when x is NaN.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":108288,"reputation":508,"user_id":287503,"display_name":"Mex"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1386716540,"creation_date":1386158810,"answer_id":20374944,"question_id":19416644,"body_markdown":"The replaced line could read.\r\n\r\n    double x = Double.NaN;\r\n\r\nThis would cause the gotcha to be printed.\r\n\r\nJava Language Specification (JLS) says:\r\n\r\n&gt; Floating-point operators produce no exceptions (&#167;11). An operation that overflows produces a signed infinity, an operation that underflows produces a denormalized value or a signed zero, and an operation that has no mathematically definite result produces NaN. All numeric operations with NaN as an operand produce NaN as a result. As has already been described, NaN is unordered, so a numeric comparison operation involving one or two NaNs returns false and any != comparison involving NaN returns true, including x!=x when x is NaN.","title":"How can a Java variable be different from itself?","body":"<p>The replaced line could read.</p>\n\n<pre><code>double x = Double.NaN;\n</code></pre>\n\n<p>This would cause the gotcha to be printed.</p>\n\n<p>Java Language Specification (JLS) says:</p>\n\n<blockquote>\n  <p>Floating-point operators produce no exceptions (11). An operation that overflows produces a signed infinity, an operation that underflows produces a denormalized value or a signed zero, and an operation that has no mathematically definite result produces NaN. All numeric operations with NaN as an operand produce NaN as a result. As has already been described, NaN is unordered, so a numeric comparison operation involving one or two NaNs returns false and any != comparison involving NaN returns true, including x!=x when x is NaN.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":3,"up_vote_count":29,"is_accepted":false,"score":26,"last_activity_date":1386160037,"creation_date":1386158966,"answer_id":20374997,"question_id":19416644,"body_markdown":"One easy solution is:\r\n\r\n    System.out.println(&quot;Gotcha!&quot;);if(false)\r\n    if( a == a ){\r\n      System.out.println(&quot;Not yet...&quot;);\r\n    } else {\r\n      System.out.println(&quot;Gotcha!&quot;);\r\n    }\r\n\r\nBut I don&#39;t know all the rules to this riddle...\r\n\r\n**:)**\r\nI know that this is a cheat, but without knowing all rules, is this the easiest solution to the question :)","title":"How can a Java variable be different from itself?","body":"<p>One easy solution is:</p>\n\n<pre><code>System.out.println(\"Gotcha!\");if(false)\nif( a == a ){\n  System.out.println(\"Not yet...\");\n} else {\n  System.out.println(\"Gotcha!\");\n}\n</code></pre>\n\n<p>But I don't know all the rules to this riddle...</p>\n\n<p><strong>:)</strong>\nI know that this is a cheat, but without knowing all rules, is this the easiest solution to the question :)</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1386161040,"creation_date":1386159704,"answer_id":20375252,"question_id":19416644,"body_markdown":"I managed to get a `Gotcha!` from this:\r\n\r\n    volatile Object a = new Object();\r\n\r\n    class Flipper implements Runnable {\r\n      Object b = new Object();\r\n\r\n      public void run() {\r\n        while (true)  {\r\n          Object olda = a;\r\n          a = b;\r\n          a = olda;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    public void test() {\r\n      new Thread(new Flipper()).start();\r\n\r\n      boolean gotcha = false;\r\n      while (!gotcha) {\r\n        // I&#39;ve added everything above this - I would therefore say still legal.\r\n        if (a == a) {\r\n          System.out.println(&quot;Not yet...&quot;);\r\n        } else {\r\n          System.out.println(&quot;Gotcha!&quot;);\r\n          // Uncomment this line when testing or you&#39;ll never terminate.\r\n          //gotcha = true;\r\n        }\r\n      }\r\n    }\r\n","title":"How can a Java variable be different from itself?","body":"<p>I managed to get a <code>Gotcha!</code> from this:</p>\n\n<pre><code>volatile Object a = new Object();\n\nclass Flipper implements Runnable {\n  Object b = new Object();\n\n  public void run() {\n    while (true)  {\n      Object olda = a;\n      a = b;\n      a = olda;\n    }\n  }\n\n}\n\npublic void test() {\n  new Thread(new Flipper()).start();\n\n  boolean gotcha = false;\n  while (!gotcha) {\n    // I've added everything above this - I would therefore say still legal.\n    if (a == a) {\n      System.out.println(\"Not yet...\");\n    } else {\n      System.out.println(\"Gotcha!\");\n      // Uncomment this line when testing or you'll never terminate.\n      //gotcha = true;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677240841,"creation_date":1677239425,"answer_id":75556250,"question_id":19416644,"body_markdown":"&gt; How can you **skip the first case** without modifying the condition itself?\r\n\r\n&quot;E.g.&quot; part in such questions should NOT mislead you. More ideas from my side:\r\n\r\n```\r\nclass Condition1 {\r\n    // you can change in the main\r\n    public static void main(String[] args) { \r\n        int x = 0;\r\n        if (x == x) /*{\r\n            // the most popular method in actual debug, don&#39;t you think?\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else */{\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nclass Condition2 {\r\n    // you can change in the main\r\n    public static void main(String[] args) { \r\n        int x = 0;\r\n        if (x == x); if (false) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nclass Condition3 {\r\n    // you can change in the main\r\n    public static void main(String[] args) { \r\n        System.out.println(&quot;Not ok&quot;);\r\n    }\r\n\r\n    private void ignored() {\r\n        int x = 0;\r\n        if (x == x) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nclass Condition4 {\r\n    // you can change in the main\r\n    public static void main(String[] args) { \r\n        int x = 0;\r\n        if (false) {\r\n            return; // this becomes &quot;the first case&quot; and it&#39;s skipped\r\n        } else {\r\n            System.out.println(&quot;Not ok&quot;);\r\n            return;\r\n        }\r\n        if (x == x) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nimport static Condition5.Container.x;\r\n\r\nclass Condition5 {\r\n\r\n    static class Container {\r\n        static int x = new Inner().hashCode();\r\n    }\r\n\r\n    private static class Inner {\r\n        public Inner() {\r\n            throw new IllegalStateException();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            {\r\n                int x = 0;\r\n            }\r\n            if (x == x) {\r\n                System.out.println(&quot;Ok&quot;);\r\n            } else {\r\n                System.out.println(&quot;Not ok&quot;);\r\n            }\r\n        } catch (Error e) {\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How can a Java variable be different from itself?","body":"<blockquote>\n<p>How can you <strong>skip the first case</strong> without modifying the condition itself?</p>\n</blockquote>\n<p>&quot;E.g.&quot; part in such questions should NOT mislead you. More ideas from my side:</p>\n<pre><code>class Condition1 {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (x == x) /*{\n            // the most popular method in actual debug, don't you think?\n            System.out.println(&quot;Ok&quot;);\n        } else */{\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\nclass Condition2 {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (x == x); if (false) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\nclass Condition3 {\n    // you can change in the main\n    public static void main(String[] args) { \n        System.out.println(&quot;Not ok&quot;);\n    }\n\n    private void ignored() {\n        int x = 0;\n        if (x == x) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\nclass Condition4 {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (false) {\n            return; // this becomes &quot;the first case&quot; and it's skipped\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n            return;\n        }\n        if (x == x) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\n\nimport static Condition5.Container.x;\n\nclass Condition5 {\n\n    static class Container {\n        static int x = new Inner().hashCode();\n    }\n\n    private static class Inner {\n        public Inner() {\n            throw new IllegalStateException();\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            {\n                int x = 0;\n            }\n            if (x == x) {\n                System.out.println(&quot;Ok&quot;);\n            } else {\n                System.out.println(&quot;Not ok&quot;);\n            }\n        } catch (Error e) {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1221239,"reputation":2069,"user_id":1187855,"accept_rate":83,"display_name":"Husam"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10466,"favorite_count":0,"down_vote_count":2,"up_vote_count":111,"accepted_answer_id":19416665,"answer_count":11,"score":109,"last_activity_date":1677240841,"creation_date":1381972523,"question_id":19416644,"body_markdown":"I am wondering if this question can be solved in Java (I&#39;m new to the language). This is the code:\r\n\r\n    class Condition {\r\n        // you can change in the main\r\n        public static void main(String[] args) { \r\n            int x = 0;\r\n            if (x == x) {\r\n                System.out.println(&quot;Ok&quot;);\r\n            } else {\r\n                System.out.println(&quot;Not ok&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI received the following question in my lab:\r\n\r\n*How can you print &quot;Not ok&quot; without modifying the condition?*\r\n\r\n**Edit**\r\n\r\n*How can you skip the first case (i.e. make the `x == x` condition false) without modifying the condition itself?*","title":"How can a Java variable be different from itself?","body":"<p>I am wondering if this question can be solved in Java (I'm new to the language). This is the code:</p>\n<pre><code>class Condition {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (x == x) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I received the following question in my lab:</p>\n<p><em>How can you print &quot;Not ok&quot; without modifying the condition?</em></p>\n<p><strong>Edit</strong></p>\n<p><em>How can you skip the first case (i.e. make the <code>x == x</code> condition false) without modifying the condition itself?</em></p>\n"},{"tags":["c#","java","php","reflection","junit"],"comments":[{"owner":{"account_id":72299,"reputation":313668,"user_id":208809,"accept_rate":100,"display_name":"Gordon"},"score":19,"creation_date":1279725622,"post_id":3300680,"comment_id":3419176,"body_markdown":"Reflection doesnt break encapsulation. Developers do ;)","body":"Reflection doesnt break encapsulation. Developers do ;)"},{"owner":{"account_id":805058,"reputation":756,"user_id":308816,"display_name":"Ken"},"score":2,"creation_date":1279726128,"post_id":3300680,"comment_id":3419251,"body_markdown":"Likewise, casting breaks the idea of static typing, right?","body":"Likewise, casting breaks the idea of static typing, right?"},{"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"score":0,"creation_date":1279726351,"post_id":3300680,"comment_id":3419294,"body_markdown":"@Ken: Only if it&#39;s C-style casting, without limits.","body":"@Ken: Only if it&#39;s C-style casting, without limits."},{"owner":{"account_id":805058,"reputation":756,"user_id":308816,"display_name":"Ken"},"score":0,"creation_date":1279728762,"post_id":3300680,"comment_id":3419782,"body_markdown":"What about downcasting?  It forces the runtime to do a type check, which defeats the purpose of static typing, i.e., compile-time type checking.","body":"What about downcasting?  It forces the runtime to do a type check, which defeats the purpose of static typing, i.e., compile-time type checking."},{"owner":{"account_id":48878,"reputation":9985,"user_id":145357,"accept_rate":79,"display_name":"Valentin Golev"},"score":0,"creation_date":1279731841,"post_id":3300680,"comment_id":3420380,"body_markdown":"@Steven Sudit, how can it? since then C-style casting converts object to another type in some reasonable way?","body":"@Steven Sudit, how can it? since then C-style casting converts object to another type in some reasonable way?"},{"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"score":0,"creation_date":1279732813,"post_id":3300680,"comment_id":3420572,"body_markdown":"@Ken: Using C-style casting lets you cast anything to anything, at great peril.  If you feel like it, you can take the address and cast it to a `char*`, allowing you to modify the values byte by byte.","body":"@Ken: Using C-style casting lets you cast anything to anything, at great peril.  If you feel like it, you can take the address and cast it to a <code>char*</code>, allowing you to modify the values byte by byte."},{"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"score":0,"creation_date":1279732860,"post_id":3300680,"comment_id":3420579,"body_markdown":"@valya: The whole point is that C-style casting is not obligated to be reasonable.  In contrast, a C++ `dynamic_cast&lt;&gt;` does do a runtime type check (using RTTI), so long as certain constraints are met (such as the existence of a vtable).","body":"@valya: The whole point is that C-style casting is not obligated to be reasonable.  In contrast, a C++ <code>dynamic_cast&lt;&gt;</code> does do a runtime type check (using RTTI), so long as certain constraints are met (such as the existence of a vtable)."},{"owner":{"account_id":48878,"reputation":9985,"user_id":145357,"accept_rate":79,"display_name":"Valentin Golev"},"score":0,"creation_date":1279733347,"post_id":3300680,"comment_id":3420662,"body_markdown":"@Steven Sudit, I mean that if you do something like (int)&quot;123&quot;, it&#39;s not going to work so C-style casting break type system like Hulk breaks your relationship - together with your house","body":"@Steven Sudit, I mean that if you do something like (int)&quot;123&quot;, it&#39;s not going to work so C-style casting break type system like Hulk breaks your relationship - together with your house"},{"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"score":0,"creation_date":1279733491,"post_id":3300680,"comment_id":3420691,"body_markdown":"@valya: If you&#39;re saying that C-style casting breaks whatever it wants to break (much like &quot;Hulk smash&quot;), then yes.","body":"@valya: If you&#39;re saying that C-style casting breaks whatever it wants to break (much like &quot;Hulk smash&quot;), then yes."},{"owner":{"account_id":335069,"reputation":70755,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":0,"creation_date":1382346844,"post_id":3300680,"comment_id":28908408,"body_markdown":".NET specific [why-can-reflection-access-protected-private-member-of-class-in-c](http://stackoverflow.com/questions/2084353/why-can-reflection-access-protected-private-member-of-class-in-c?rq=1)","body":".NET specific <a href=\"http://stackoverflow.com/questions/2084353/why-can-reflection-access-protected-private-member-of-class-in-c?rq=1\">why-can-reflection-access-protected-private-member-of-class-&zwnj;&#8203;in-c</a>"}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279724679,"creation_date":1279724679,"answer_id":3300725,"question_id":3300680,"body_markdown":"I think this is a matter of opinion, but if you are using reflection to get around the encapsulation put in place by a developer on a class, then you are defeating the purpose.\r\n\r\nSo, to answer your question, it breaks the idea of encapsulation (or information hiding), which simply states that private properties/methods are private so they cant be mucked with outside the class.\r\n\r\n","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>I think this is a matter of opinion, but if you are using reflection to get around the encapsulation put in place by a developer on a class, then you are defeating the purpose.</p>\n\n<p>So, to answer your question, it breaks the idea of encapsulation (or information hiding), which simply states that private properties/methods are private so they cant be mucked with outside the class.</p>\n"},{"tags":[],"owner":{"account_id":104474,"reputation":42579,"user_id":279313,"accept_rate":91,"display_name":"Alex F"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1279724781,"creation_date":1279724781,"answer_id":3300750,"question_id":3300680,"body_markdown":"Yes, reflection breaks this idea. Native languages also have some tricks to break OOP rules, for example, in C++ it is possible to change private class members using pointer tricks. However, by using these tricks, we get the code which can be incompatible with future class versions - this is the price we pay for breaking OOP rules.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes, reflection breaks this idea. Native languages also have some tricks to break OOP rules, for example, in C++ it is possible to change private class members using pointer tricks. However, by using these tricks, we get the code which can be incompatible with future class versions - this is the price we pay for breaking OOP rules.</p>\n"},{"tags":[],"owner":{"account_id":144102,"reputation":7261,"user_id":352898,"accept_rate":100,"display_name":"Arseny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279725204,"creation_date":1279724798,"answer_id":3300755,"question_id":3300680,"body_markdown":"Yes. Reflection breaks encapsulation principle. That&#39;s not only to get access to private members but rather expose whole structure of a class.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes. Reflection breaks encapsulation principle. That's not only to get access to private members but rather expose whole structure of a class.</p>\n"},{"tags":[],"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279724864,"creation_date":1279724864,"answer_id":3300773,"question_id":3300680,"body_markdown":"Yes, Reflection *could* be used to violate encapsulation and even cause incorrect behavior.  Keep in mind that the assembly needs to be trusted to perform reflection, so there are still some protections in place.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes, Reflection <em>could</em> be used to violate encapsulation and even cause incorrect behavior.  Keep in mind that the assembly needs to be trusted to perform reflection, so there are still some protections in place.</p>\n"},{"tags":[],"owner":{"account_id":2164,"reputation":25680,"user_id":2979,"display_name":"Tendayi Mawushe"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1279748796,"creation_date":1279724904,"answer_id":3300779,"question_id":3300680,"body_markdown":"Reflection does provide a way to circumvent Java&#39;s Access Protection Modifiers and therefore **violates strict encapsulation** as it realised in C++ and Java. However this does not matter as much as you might think. \r\n\r\nAccess Protection Modifiers are intended to assist programmers to develop modular well factored systems, not to be uncompromising gate keepers. There are sometimes very good reasons to break strict encapsulation such as **[Unit Testing][1] and framework development**.\r\n\r\nWhile it may initially be difficult to stomach the idea that Access Protection Modifiers are easily circumventable, try to remember that there are many languages ([Python][2], [Ruby][3] etc.) that do not have them at all. These languages are used to build large and complex systems just like languages which do provide access protection.\r\n\r\nThere is some debate on whether Access Protection Modifiers are a help or a hindrance. Even if you do value access protection treat it like a helping hand, not the making or breaking of your project.\r\n\r\n\r\n  [1]: http://www.junit.org/node/60\r\n  [2]: http://www.python.org/\r\n  [3]: http://ruby-lang.org/","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Reflection does provide a way to circumvent Java's Access Protection Modifiers and therefore <strong>violates strict encapsulation</strong> as it realised in C++ and Java. However this does not matter as much as you might think. </p>\n\n<p>Access Protection Modifiers are intended to assist programmers to develop modular well factored systems, not to be uncompromising gate keepers. There are sometimes very good reasons to break strict encapsulation such as <strong><a href=\"http://www.junit.org/node/60\" rel=\"noreferrer\">Unit Testing</a> and framework development</strong>.</p>\n\n<p>While it may initially be difficult to stomach the idea that Access Protection Modifiers are easily circumventable, try to remember that there are many languages (<a href=\"http://www.python.org/\" rel=\"noreferrer\">Python</a>, <a href=\"http://ruby-lang.org/\" rel=\"noreferrer\">Ruby</a> etc.) that do not have them at all. These languages are used to build large and complex systems just like languages which do provide access protection.</p>\n\n<p>There is some debate on whether Access Protection Modifiers are a help or a hindrance. Even if you do value access protection treat it like a helping hand, not the making or breaking of your project.</p>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1279724976,"creation_date":1279724976,"answer_id":3300794,"question_id":3300680,"body_markdown":"It&#39;s like your house. Locks only keep out honest people, or people who aren&#39;t willing to pick your lock.\r\n\r\nData is data, if someone is determined enough, they can do anything with your code. Literally anything.\r\n\r\nSo yes, reflection will allow people to do things you don&#39;t want them to do with your code, for example access private fields and methods. However, the important thing is that people will not accidentally do this. If they&#39;re using reflection, they know they&#39;re doing something they probably aren&#39;t intended to do, just like no one accidentally picks the lock on your front door.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>It's like your house. Locks only keep out honest people, or people who aren't willing to pick your lock.</p>\n\n<p>Data is data, if someone is determined enough, they can do anything with your code. Literally anything.</p>\n\n<p>So yes, reflection will allow people to do things you don't want them to do with your code, for example access private fields and methods. However, the important thing is that people will not accidentally do this. If they're using reflection, they know they're doing something they probably aren't intended to do, just like no one accidentally picks the lock on your front door.</p>\n"},{"tags":[],"owner":{"account_id":165022,"reputation":5631,"user_id":388155,"accept_rate":80,"display_name":"samitgaur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279736881,"creation_date":1279725219,"answer_id":3300833,"question_id":3300680,"body_markdown":"Yes it breaks the encapsulation, if you want it to. However, it can be put to good use - like writing unit tests for private methods, or sometimes - as I have learned from my own experience - getting around bugs in third party APIs :)\r\n\r\nNote that encapsulation != security. Encapsulation is an object oriented design concept and is only meant for improving the design. For security, there is [SecurityManager][1] in java.\r\n\r\n\r\n  [1]: http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/SecurityManager.html","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes it breaks the encapsulation, if you want it to. However, it can be put to good use - like writing unit tests for private methods, or sometimes - as I have learned from my own experience - getting around bugs in third party APIs :)</p>\n\n<p>Note that encapsulation != security. Encapsulation is an object oriented design concept and is only meant for improving the design. For security, there is <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">SecurityManager</a> in java.</p>\n"},{"tags":[],"owner":{"account_id":142897,"reputation":3963,"user_id":350891,"accept_rate":100,"display_name":"xor_eq"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1279725339,"creation_date":1279725339,"answer_id":3300849,"question_id":3300680,"body_markdown":"It does, as other already stated. \r\n\r\nHowever, I remember that in Java there can be a security manager active, that could prevent you from accessing any private methods, even with reflection, if you don&#39;t have the rights to do so. If you run your local JVM, such a manager is usually not active.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>It does, as other already stated. </p>\n\n<p>However, I remember that in Java there can be a security manager active, that could prevent you from accessing any private methods, even with reflection, if you don't have the rights to do so. If you run your local JVM, such a manager is usually not active.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279725370,"creation_date":1279725370,"answer_id":3300855,"question_id":3300680,"body_markdown":"Reflection makes it possible for any CLR class to examine and manipulate properties and fields of other CLR classes, but not necessarily to do so sensibly.  It&#39;s possible for a class to obscure the meaning of properties and fields or protect them against tampering by having them depend in non-obvious fashion upon each other, static fields, underlying OS info, etc.\r\n\r\nFor example, a class could keep in some variable an encrypted version of the OS handle for its main window.  Using reflection, another class could see that variable, but without knowing the encryption method it could not identify the window to which it belonged or make the variable refer to another window.\r\n\r\nI&#39;ve seen classes that claim to act as &quot;universal serializers&quot;; they can be very useful if applied to something like a data-storage-container class which is missing a &quot;serializable&quot; attribute but is otherwise entirely straightforward.  They will produce gobbledygook if applied to any class whose creator has endeavored to obscure things.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Reflection makes it possible for any CLR class to examine and manipulate properties and fields of other CLR classes, but not necessarily to do so sensibly.  It's possible for a class to obscure the meaning of properties and fields or protect them against tampering by having them depend in non-obvious fashion upon each other, static fields, underlying OS info, etc.</p>\n\n<p>For example, a class could keep in some variable an encrypted version of the OS handle for its main window.  Using reflection, another class could see that variable, but without knowing the encryption method it could not identify the window to which it belonged or make the variable refer to another window.</p>\n\n<p>I've seen classes that claim to act as \"universal serializers\"; they can be very useful if applied to something like a data-storage-container class which is missing a \"serializable\" attribute but is otherwise entirely straightforward.  They will produce gobbledygook if applied to any class whose creator has endeavored to obscure things.</p>\n"},{"tags":[],"owner":{"account_id":24018,"reputation":265558,"user_id":60761,"accept_rate":91,"display_name":" "},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1375823179,"creation_date":1279725704,"answer_id":3300913,"question_id":3300680,"body_markdown":"Yes, but it is not a problem.\r\n\r\nEncapsulation is not about security or secrets, just about organizing things. \r\n\r\nReflection is not part of &#39;normal&#39; programming. If you want to use it to break encapsulation, you accept the risks (versioning problems etc) \r\n\r\nReflection should only be used when there are no better (less invasive) ways to accomplish something. \r\n\r\nReflection is for system-level &#39;tooling&#39; like persistence mapping and should be tucked away in well tested libraries. I would find any use of reflection in normal application code suspect.\r\n \r\nI started with &quot;it is not a problem&quot;. I meant: as long as you use reflection as intended. And careful.\r\n\r\n\r\n","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes, but it is not a problem.</p>\n\n<p>Encapsulation is not about security or secrets, just about organizing things. </p>\n\n<p>Reflection is not part of 'normal' programming. If you want to use it to break encapsulation, you accept the risks (versioning problems etc) </p>\n\n<p>Reflection should only be used when there are no better (less invasive) ways to accomplish something. </p>\n\n<p>Reflection is for system-level 'tooling' like persistence mapping and should be tucked away in well tested libraries. I would find any use of reflection in normal application code suspect.</p>\n\n<p>I started with \"it is not a problem\". I meant: as long as you use reflection as intended. And careful.</p>\n"},{"tags":[],"owner":{"account_id":62733,"reputation":17506,"user_id":186133,"accept_rate":87,"display_name":"Carlos Mu&#241;oz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279725752,"creation_date":1279725752,"answer_id":3300923,"question_id":3300680,"body_markdown":"Yes, it does break encapsulation. But there are many good reasons to use it in some situations.\r\n\r\nFor example:\r\n\r\nI use [MSCaptcha][1] in some websites, but it renders a &lt; div&gt; around the &lt; img &gt; tag that messes with my HTML. Then i can use a standard &lt; img&gt; tag and use reflection to get the value of the captcha&#39;s image id to construct a URL.\r\n\r\nThe image id is a private Property but using reflection i can get that value.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.mondor.org/captcha.aspx","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes, it does break encapsulation. But there are many good reasons to use it in some situations.</p>\n\n<p>For example:</p>\n\n<p>I use <a href=\"http://www.mondor.org/captcha.aspx\" rel=\"nofollow noreferrer\">MSCaptcha</a> in some websites, but it renders a &lt; div> around the &lt; img > tag that messes with my HTML. Then i can use a standard &lt; img> tag and use reflection to get the value of the captcha's image id to construct a URL.</p>\n\n<p>The image id is a private Property but using reflection i can get that value.</p>\n"},{"tags":[],"owner":{"account_id":2172,"reputation":364880,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1279735299,"creation_date":1279734913,"answer_id":3302259,"question_id":3300680,"body_markdown":"No, reflection doesn&#39;t break the idea of private methods. At least not per se. There is nothing that says that reflection can&#39;t obey access restrictions.\n\n*Badly designed* reflection breaks the idea of private methods, but that doesn&#39;t have anything to do with reflection per se: *anything* which is badly designed can break the idea of private methods. In particular, a bad design of private methods can also obviously break the idea of private methods.\n\nWhat do I mean by *badly designed*? Well, as I said above, there is nothing stopping you from having a language in which reflection obeys access restrictions. The problem with this is that e.g. debuggers, profilers, coverage tools, IntelliSense, IDEs, tools in general *need* to be able to violate access restrictions. Since there is no way to present different different versions of reflection to different clients, most languages opt for tools over safety. (E is the counterexample, which has absolutely no reflective capabilities whatsoever, as a conscious design choice.)\n\nBut, who says that you cannot present different versions of reflection to different clients? Well, the problem is simply that in the classical implementation of reflection, all objects are reponsible for reflecting on themselves, and since there is only one of every object, there can be only version of reflection.\n\nSo, where does the idea of *bad design* come in? Well, note the word &quot;responsible&quot; in the above paragraph. Every object is responsible for reflecting on itself. Also, every object is responsible for whatever it is that it was written for in the first place. In other words: every object has at least *two* responsibilities. This violates one of the basic principles of object-oriented design: the Single Responsibility Principle.\n\nThe solution is rather simple: break up the object. The original object is simply responsible for whatever it was originally written for. And there is another object (called a *Mirror* because it is an object that reflects other objects) which is responsible for reflection. And now that the responsibility for reflection is broken out into a separate object, what&#39;s stopping us from having not one, but two, three, *many* Mirror Objects? One that respects access restrictions, one that only allows an object to reflect upon itself but not any other objects, one that only allows introspection (i.e. is read-only), one that only allows to reflect on read-only callsite information (i.e. for a profiler), one that gives full access to the entire system including violating access restrictions (for a debugger), one that only gives read-only access to the method names and signatures and respects access restrictions (for IntelliSense) and so on &amp;hellip;\n\nAs a nice bonus, this means that Mirrors are essentially Capabilities (in the capability-security sense of the word) for reflection. IOW: Mirrors are the Holy Grail on the decade-long quest to reconcile security and runtime dynamic metaprogramming.\n\nThe concept of Mirrors was originally invented in [Self][1] from where it carried over into [Animorphic Smalltalk/Strongtalk][2] and then [Newspeak][3]. Interestingly, the Java Debugging Interface is based on Mirrors, so the designers of Java (or rather the JVM) clearly knew about them, but Java&#39;s reflection is broken.\n\n  [1]: http://SelfLanguage.Org/\n  [2]: http://Strongtalk.Org/\n  [3]: http://NewspeakLanguage.Org/","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>No, reflection doesn't break the idea of private methods. At least not per se. There is nothing that says that reflection can't obey access restrictions.</p>\n<p><em>Badly designed</em> reflection breaks the idea of private methods, but that doesn't have anything to do with reflection per se: <em>anything</em> which is badly designed can break the idea of private methods. In particular, a bad design of private methods can also obviously break the idea of private methods.</p>\n<p>What do I mean by <em>badly designed</em>? Well, as I said above, there is nothing stopping you from having a language in which reflection obeys access restrictions. The problem with this is that e.g. debuggers, profilers, coverage tools, IntelliSense, IDEs, tools in general <em>need</em> to be able to violate access restrictions. Since there is no way to present different different versions of reflection to different clients, most languages opt for tools over safety. (E is the counterexample, which has absolutely no reflective capabilities whatsoever, as a conscious design choice.)</p>\n<p>But, who says that you cannot present different versions of reflection to different clients? Well, the problem is simply that in the classical implementation of reflection, all objects are reponsible for reflecting on themselves, and since there is only one of every object, there can be only version of reflection.</p>\n<p>So, where does the idea of <em>bad design</em> come in? Well, note the word &quot;responsible&quot; in the above paragraph. Every object is responsible for reflecting on itself. Also, every object is responsible for whatever it is that it was written for in the first place. In other words: every object has at least <em>two</em> responsibilities. This violates one of the basic principles of object-oriented design: the Single Responsibility Principle.</p>\n<p>The solution is rather simple: break up the object. The original object is simply responsible for whatever it was originally written for. And there is another object (called a <em>Mirror</em> because it is an object that reflects other objects) which is responsible for reflection. And now that the responsibility for reflection is broken out into a separate object, what's stopping us from having not one, but two, three, <em>many</em> Mirror Objects? One that respects access restrictions, one that only allows an object to reflect upon itself but not any other objects, one that only allows introspection (i.e. is read-only), one that only allows to reflect on read-only callsite information (i.e. for a profiler), one that gives full access to the entire system including violating access restrictions (for a debugger), one that only gives read-only access to the method names and signatures and respects access restrictions (for IntelliSense) and so on </p>\n<p>As a nice bonus, this means that Mirrors are essentially Capabilities (in the capability-security sense of the word) for reflection. IOW: Mirrors are the Holy Grail on the decade-long quest to reconcile security and runtime dynamic metaprogramming.</p>\n<p>The concept of Mirrors was originally invented in <a href=\"http://SelfLanguage.Org/\" rel=\"noreferrer\">Self</a> from where it carried over into <a href=\"http://Strongtalk.Org/\" rel=\"noreferrer\">Animorphic Smalltalk/Strongtalk</a> and then <a href=\"http://NewspeakLanguage.Org/\" rel=\"noreferrer\">Newspeak</a>. Interestingly, the Java Debugging Interface is based on Mirrors, so the designers of Java (or rather the JVM) clearly knew about them, but Java's reflection is broken.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279743131,"creation_date":1279743131,"answer_id":3303407,"question_id":3300680,"body_markdown":"access control through private/protected/package/public is not primarily meant for security.\r\n\r\nit helps good guys to do the right thing, but doesn&#39;t prevent bad guys from doing wrong things.\r\n\r\ngenerally we assume others are good guys, and we include their code into our application without though.\r\n\r\nif you can&#39;t trust the guy of a library you are including, you are screwed.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>access control through private/protected/package/public is not primarily meant for security.</p>\n\n<p>it helps good guys to do the right thing, but doesn't prevent bad guys from doing wrong things.</p>\n\n<p>generally we assume others are good guys, and we include their code into our application without though.</p>\n\n<p>if you can't trust the guy of a library you are including, you are screwed.</p>\n"},{"tags":[],"owner":{"account_id":32093,"reputation":650733,"user_id":88656,"display_name":"Eric Lippert"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1677240508,"creation_date":1279750799,"answer_id":3304350,"question_id":3300680,"body_markdown":"&gt; do we use private methods only for program logic and not for program security?\r\n\r\nIt is not clear what you mean by &quot;program security&quot;. Security cannot be discussed in a vacuum; what resources are you thinking of protecting against what threats? \r\n\r\nThe CLR code access security system is intended to protect resources of *user data* from the threat of *hostile partially trusted code running on the user&#39;s machine*.  \r\n\r\nThe relationship between reflection, access control and security in the CLR is therefore complicated. Briefly and not entirely accurately, the rules are these:\r\n\r\n* full trust means full trust. **Fully trusted code can access every single bit of memory in the process.** That includes private fields.\r\n\r\n* The ability to reflect on privates in partial trust is controlled by a permission; if it is not granted then partial trust code may not do reflection on privates.\r\n\r\nSee [Link](https://learn.microsoft.com/en-us/archive/blogs/shawnfa/restrictedmemberaccess) for details.\r\n\r\n* The desktop CLR supports a mode called &quot;restricted skip visibility&quot; in which the rules for how reflection and the security system interact are slightly different. Basically,\r\npartially trusted code that has the right to use private reflection may access a private field via reflection if the partially trusted code is accessing a private field from a type that comes from an assembly with *equal* or *less* trust.\r\n\r\nSee\r\n\r\n[Link](https://learn.microsoft.com/en-us/archive/blogs/shawnfa/using-lightweight-codegen-from-partial-trust)\r\n\r\nfor details\r\n \r\nThe executive summary is: you *can* lock partially trusted code down sufficiently that it is not able to use reflection to look at private stuff. You *cannot* lock down full trust code; that&#39;s why it&#39;s called &quot;full trust&quot;. If you want to restrict it then *don&#39;t trust it*.\r\n\r\nSo: does making a field private protect it from the threat of low trust code attempting to read it, and thereby steal user&#39;s data? *Yes*. Does it protect it from the threat of *high trust* code reading it? *No*. If the code is both trusted by the user and hostile to the user *then the user has a big problem*.  They should not have trusted that code. \r\n\r\nNote that for example, making a field private does not protect *a secret in your code* from *a user who has your code and is hostile to you*. The security system protects *good users* from *evil code*. It doesn&#39;t protect *good code* from *evil users*. If you want to make something private to keep it from a *user* then you are on a fool&#39;s errand. If you want to make it private to keep a secret from *evil hackers who have lured the user into running hostile low-trust code* then that is a good technique.\r","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<blockquote>\n<p>do we use private methods only for program logic and not for program security?</p>\n</blockquote>\n<p>It is not clear what you mean by &quot;program security&quot;. Security cannot be discussed in a vacuum; what resources are you thinking of protecting against what threats?</p>\n<p>The CLR code access security system is intended to protect resources of <em>user data</em> from the threat of <em>hostile partially trusted code running on the user's machine</em>.</p>\n<p>The relationship between reflection, access control and security in the CLR is therefore complicated. Briefly and not entirely accurately, the rules are these:</p>\n<ul>\n<li><p>full trust means full trust. <strong>Fully trusted code can access every single bit of memory in the process.</strong> That includes private fields.</p>\n</li>\n<li><p>The ability to reflect on privates in partial trust is controlled by a permission; if it is not granted then partial trust code may not do reflection on privates.</p>\n</li>\n</ul>\n<p>See <a href=\"https://learn.microsoft.com/en-us/archive/blogs/shawnfa/restrictedmemberaccess\" rel=\"nofollow noreferrer\">Link</a> for details.</p>\n<ul>\n<li>The desktop CLR supports a mode called &quot;restricted skip visibility&quot; in which the rules for how reflection and the security system interact are slightly different. Basically,\npartially trusted code that has the right to use private reflection may access a private field via reflection if the partially trusted code is accessing a private field from a type that comes from an assembly with <em>equal</em> or <em>less</em> trust.</li>\n</ul>\n<p>See</p>\n<p><a href=\"https://learn.microsoft.com/en-us/archive/blogs/shawnfa/using-lightweight-codegen-from-partial-trust\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>for details</p>\n<p>The executive summary is: you <em>can</em> lock partially trusted code down sufficiently that it is not able to use reflection to look at private stuff. You <em>cannot</em> lock down full trust code; that's why it's called &quot;full trust&quot;. If you want to restrict it then <em>don't trust it</em>.</p>\n<p>So: does making a field private protect it from the threat of low trust code attempting to read it, and thereby steal user's data? <em>Yes</em>. Does it protect it from the threat of <em>high trust</em> code reading it? <em>No</em>. If the code is both trusted by the user and hostile to the user <em>then the user has a big problem</em>.  They should not have trusted that code.</p>\n<p>Note that for example, making a field private does not protect <em>a secret in your code</em> from <em>a user who has your code and is hostile to you</em>. The security system protects <em>good users</em> from <em>evil code</em>. It doesn't protect <em>good code</em> from <em>evil users</em>. If you want to make something private to keep it from a <em>user</em> then you are on a fool's errand. If you want to make it private to keep a secret from <em>evil hackers who have lured the user into running hostile low-trust code</em> then that is a good technique.</p>\n"}],"owner":{"account_id":138207,"reputation":25529,"user_id":342984,"accept_rate":76,"display_name":"Ben"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6217,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":3304350,"answer_count":14,"score":30,"last_activity_date":1677240508,"creation_date":1279724453,"question_id":3300680,"body_markdown":"Does reflection break the idea of private methods? Because private methods can be accessed from outside of the class? (Maybe I don&#39;t understand the meaning of reflection or miss something else, please tell me)\r\n[http://en.wikipedia.org/wiki/Reflection_%28computer_science%29][1]\r\n\r\n**Edit:**\r\nIf relection breaks the idea of private methods - do we use private methods only for program logic and not for program security?\r\n\r\nThanks\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reflection_%28computer_science%29","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Does reflection break the idea of private methods? Because private methods can be accessed from outside of the class? (Maybe I don't understand the meaning of reflection or miss something else, please tell me)\n<a href=\"http://en.wikipedia.org/wiki/Reflection_%28computer_science%29\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Reflection_%28computer_science%29</a></p>\n\n<p><strong>Edit:</strong>\nIf relection breaks the idea of private methods - do we use private methods only for program logic and not for program security?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","saxon","schematron"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677231602,"post_id":75546128,"comment_id":133301020,"body_markdown":"It is hard to tell without more details whether this is a bug in the Schematron library you use, its interaction with the Saxon HE library it seems to rely on or a bug in Saxon itself. I would suggest to file a bug or support report on the library producer. If you want to experiment on your own, it seems the 7.1.0 version uses Saxon 12, while 7.0.1 uses Saxon 11 (stable branch), so for testing you could check whether your code runs through with 7.0.1. As an alternative, of course with e.g. Schxslt there are other Schematron implementations for Java https://github.com/schxslt/schxslt","body":"It is hard to tell without more details whether this is a bug in the Schematron library you use, its interaction with the Saxon HE library it seems to rely on or a bug in Saxon itself. I would suggest to file a bug or support report on the library producer. If you want to experiment on your own, it seems the 7.1.0 version uses Saxon 12, while 7.0.1 uses Saxon 11 (stable branch), so for testing you could check whether your code runs through with 7.0.1. As an alternative, of course with e.g. Schxslt there are other Schematron implementations for Java <a href=\"https://github.com/schxslt/schxslt\" rel=\"nofollow noreferrer\">github.com/schxslt/schxslt</a>"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677232707,"post_id":75546128,"comment_id":133301336,"body_markdown":"Perhaps @PhilipHelger can tell you more.","body":"Perhaps @PhilipHelger can tell you more."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677233329,"post_id":75546128,"comment_id":133301511,"body_markdown":"His repository seems to be at https://github.com/phax/ph-schematron so perhaps raise an issue there with all the details allowing him tell whether it is a bug in his implementation or some other problem he could fix or just a problem with your schematron schema or instance document.","body":"His repository seems to be at <a href=\"https://github.com/phax/ph-schematron\" rel=\"nofollow noreferrer\">github.com/phax/ph-schematron</a> so perhaps raise an issue there with all the details allowing him tell whether it is a bug in his implementation or some other problem he could fix or just a problem with your schematron schema or instance document."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677234913,"post_id":75546128,"comment_id":133301928,"body_markdown":"The relevant Saxon code is at https://saxonica.plan.io/projects/saxonmirrorhe/repository/he/revisions/he_mirror_saxon_12_0/entry/src/main/java/net/sf/saxon/expr/sort/GenericAtomicComparer.java#L248, I think, creating a lambda `return (a, b, context) -&gt; a.equals(b);`, the error suggests `a` is null. Hard to tell why that occurs without the sample data triggering the error.","body":"The relevant Saxon code is at <a href=\"https://saxonica.plan.io/projects/saxonmirrorhe/repository/he/revisions/he_mirror_saxon_12_0/entry/src/main/java/net/sf/saxon/expr/sort/GenericAtomicComparer.java#L248\" rel=\"nofollow noreferrer\">saxonica.plan.io/projects/saxonmirrorhe/repository/he/revisi&zwnj;&#8203;ons/&hellip;</a>, I think, creating a lambda <code>return (a, b, context) -&gt; a.equals(b);</code>, the error suggests <code>a</code> is null. Hard to tell why that occurs without the sample data triggering the error."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677235471,"post_id":75546128,"comment_id":133302066,"body_markdown":"The Saxon code seems to be used from https://github.com/phax/ph-schematron/blob/ph-schematron-parent-pom-7.1.0/ph-schematron-pure/src/main/java/com/helger/schematron/pure/xpath/XPathEvaluationHelper.java#L49.","body":"The Saxon code seems to be used from <a href=\"https://github.com/phax/ph-schematron/blob/ph-schematron-parent-pom-7.1.0/ph-schematron-pure/src/main/java/com/helger/schematron/pure/xpath/XPathEvaluationHelper.java#L49\" rel=\"nofollow noreferrer\">github.com/phax/ph-schematron/blob/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677240499,"creation_date":1677240499,"answer_id":75556388,"question_id":75546128,"body_markdown":"A NullPointerException deep in Saxon code is *prima facie* a bug: even if the caller did something wrong, we should have detected it earlier and produced better diagnostics.\r\n\r\nThe most likely explanation for an NPE at this place in the code is that some expression evaluated to an empty sequence, and Saxon didn&#39;t check for this because its static analysis suggested that an empty result wasn&#39;t possible at that point.\r\n\r\nHappy to look at it if you can construct a repro and submit it at saxonica.plan.io.","title":"Schematron Peppol validation","body":"<p>A NullPointerException deep in Saxon code is <em>prima facie</em> a bug: even if the caller did something wrong, we should have detected it earlier and produced better diagnostics.</p>\n<p>The most likely explanation for an NPE at this place in the code is that some expression evaluated to an empty sequence, and Saxon didn't check for this because its static analysis suggested that an empty result wasn't possible at that point.</p>\n<p>Happy to look at it if you can construct a repro and submit it at saxonica.plan.io.</p>\n"}],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677240499,"creation_date":1677162320,"question_id":75546128,"body_markdown":"I&#39;m using &#39;com.helger.schematron:ph-schematron-pure:7.1.0&#39; and I&#39;m trying to valid my peppol xml agains the schematron file &#39;CEN-EN16931-UBL.sch&#39;\r\n\r\nHere my code to valid and outpout the errors:\r\n\r\n\r\n            final var res = SchematronResourcePure.fromFile(new File(&quot;CEN-EN16931-UBL.sch&quot;));\r\n            //if (!res.isValidSchematron())\r\n            //    throw new IllegalArgumentException(&quot;Invalid Schematron!&quot;);\r\n            res.setErrorHandler(new IPSErrorHandler() {\r\n                @Override\r\n                public void handleError(@Nonnull final IError aError) {\r\n    \r\n                    System.out.println(aError.toString());\r\n                }\r\n            });            \r\n            final SchematronOutputType schematronOutputType = res.applySchematronValidationToSVRL(new StreamSource(new StringReader(xml)));\r\n            SVRLHelper.getAllFailedAssertions(schematronOutputType);\r\n\r\n\r\n\r\nBut I get an NullPointerException. Any idea from where this &quot;null&quot; is coming ?\r\n\r\n\r\n    15:17:00.219 [main] DEBUG com.helger.commons.lang.ServiceLoaderHelper - Finished retrieving all 1 SPI implementations of interface com.helger.commons.hashcode.IHashCodeImplementationRegistrarSPI\r\n    15:17:00.235 [main] DEBUG com.helger.commons.hashcode.HashCodeImplementationRegistry - Reinitialized com.helger.commons.hashcode.HashCodeImplementationRegistry\r\n    15:17:00.793 [main] DEBUG com.helger.schematron.pure.preprocess.PSPreprocessor - Schematron does not need any preprocessing. Returning Schema as-is.\r\n    15:17:00.805 [main] DEBUG com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema - Binding pure Schematron\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;net.sf.saxon.value.AtomicValue.equals(Object)&quot; because &quot;a&quot; is null\r\n    \tat net.sf.saxon.expr.sort.GenericAtomicComparer.lambda$makeAtomicComparisonFunction$6(GenericAtomicComparer.java:248)\r\n    \tat net.sf.saxon.expr.ValueComparison$ValueComparisonElaborator.lambda$elaborateForBoolean$4(ValueComparison.java:620)\r\n    \tat net.sf.saxon.expr.FilterExpression$FilterExprElaborator$SimpleFilteredIterator.next(FilterExpression.java:1391)\r\n    \tat net.sf.saxon.om.SequenceTool.supply(SequenceTool.java:145)\r\n    \tat net.sf.saxon.expr.sort.DocumentOrderIterator.&lt;init&gt;(DocumentOrderIterator.java:41)\r\n    \tat net.sf.saxon.expr.sort.DocumentSorter$DocumentSorterElaborator.lambda$elaborateForPull$0(DocumentSorter.java:331)\r\n    \tat net.sf.saxon.functions.Count$CountFnElaborator.lambda$elaborateForItem$0(Count.java:135)\r\n    \tat net.sf.saxon.expr.ValueComparison$ValueComparisonElaborator.lambda$elaborateForBoolean$4(ValueComparison.java:620)\r\n    \tat net.sf.saxon.xpath.XPathExpressionImpl.evaluate(XPathExpressionImpl.java:181)\r\n    \tat com.helger.schematron.pure.xpath.XPathEvaluationHelper.evaluate(XPathEvaluationHelper.java:63)\r\n    \tat com.helger.schematron.pure.xpath.XPathEvaluationHelper.evaluateAsBoolean(XPathEvaluationHelper.java:70)\r\n    \tat com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema._validateSerial(PSXPathBoundSchema.java:739)\r\n    \tat com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema.validate(PSXPathBoundSchema.java:807)\r\n    \tat com.helger.schematron.pure.bound.AbstractPSBoundSchema.validateComplete(AbstractPSBoundSchema.java:259)\r\n    \tat com.helger.schematron.pure.SchematronResourcePure.applySchematronValidationToSVRL(SchematronResourcePure.java:394)\r\n    \tat com.helger.schematron.AbstractSchematronResource.applySchematronValidationToSVRL(AbstractSchematronResource.java:286)\r\n\r\n\r\n\r\n","title":"Schematron Peppol validation","body":"<p>I'm using 'com.helger.schematron:ph-schematron-pure:7.1.0' and I'm trying to valid my peppol xml agains the schematron file 'CEN-EN16931-UBL.sch'</p>\n<p>Here my code to valid and outpout the errors:</p>\n<pre><code>        final var res = SchematronResourcePure.fromFile(new File(&quot;CEN-EN16931-UBL.sch&quot;));\n        //if (!res.isValidSchematron())\n        //    throw new IllegalArgumentException(&quot;Invalid Schematron!&quot;);\n        res.setErrorHandler(new IPSErrorHandler() {\n            @Override\n            public void handleError(@Nonnull final IError aError) {\n\n                System.out.println(aError.toString());\n            }\n        });            \n        final SchematronOutputType schematronOutputType = res.applySchematronValidationToSVRL(new StreamSource(new StringReader(xml)));\n        SVRLHelper.getAllFailedAssertions(schematronOutputType);\n</code></pre>\n<p>But I get an NullPointerException. Any idea from where this &quot;null&quot; is coming ?</p>\n<pre><code>15:17:00.219 [main] DEBUG com.helger.commons.lang.ServiceLoaderHelper - Finished retrieving all 1 SPI implementations of interface com.helger.commons.hashcode.IHashCodeImplementationRegistrarSPI\n15:17:00.235 [main] DEBUG com.helger.commons.hashcode.HashCodeImplementationRegistry - Reinitialized com.helger.commons.hashcode.HashCodeImplementationRegistry\n15:17:00.793 [main] DEBUG com.helger.schematron.pure.preprocess.PSPreprocessor - Schematron does not need any preprocessing. Returning Schema as-is.\n15:17:00.805 [main] DEBUG com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema - Binding pure Schematron\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;net.sf.saxon.value.AtomicValue.equals(Object)&quot; because &quot;a&quot; is null\n    at net.sf.saxon.expr.sort.GenericAtomicComparer.lambda$makeAtomicComparisonFunction$6(GenericAtomicComparer.java:248)\n    at net.sf.saxon.expr.ValueComparison$ValueComparisonElaborator.lambda$elaborateForBoolean$4(ValueComparison.java:620)\n    at net.sf.saxon.expr.FilterExpression$FilterExprElaborator$SimpleFilteredIterator.next(FilterExpression.java:1391)\n    at net.sf.saxon.om.SequenceTool.supply(SequenceTool.java:145)\n    at net.sf.saxon.expr.sort.DocumentOrderIterator.&lt;init&gt;(DocumentOrderIterator.java:41)\n    at net.sf.saxon.expr.sort.DocumentSorter$DocumentSorterElaborator.lambda$elaborateForPull$0(DocumentSorter.java:331)\n    at net.sf.saxon.functions.Count$CountFnElaborator.lambda$elaborateForItem$0(Count.java:135)\n    at net.sf.saxon.expr.ValueComparison$ValueComparisonElaborator.lambda$elaborateForBoolean$4(ValueComparison.java:620)\n    at net.sf.saxon.xpath.XPathExpressionImpl.evaluate(XPathExpressionImpl.java:181)\n    at com.helger.schematron.pure.xpath.XPathEvaluationHelper.evaluate(XPathEvaluationHelper.java:63)\n    at com.helger.schematron.pure.xpath.XPathEvaluationHelper.evaluateAsBoolean(XPathEvaluationHelper.java:70)\n    at com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema._validateSerial(PSXPathBoundSchema.java:739)\n    at com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema.validate(PSXPathBoundSchema.java:807)\n    at com.helger.schematron.pure.bound.AbstractPSBoundSchema.validateComplete(AbstractPSBoundSchema.java:259)\n    at com.helger.schematron.pure.SchematronResourcePure.applySchematronValidationToSVRL(SchematronResourcePure.java:394)\n    at com.helger.schematron.AbstractSchematronResource.applySchematronValidationToSVRL(AbstractSchematronResource.java:286)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1677237945,"post_id":75555963,"comment_id":133302767,"body_markdown":"I can comment here that `Lob` and `TEXT` do _not_ do the same thing in Postgres.","body":"I can comment here that <code>Lob</code> and <code>TEXT</code> do <i>not</i> do the same thing in Postgres."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677238502,"post_id":75555963,"comment_id":133302906,"body_markdown":"@Tim Could you explain a little bit more and share your opinion about the most proper one for this scenario?","body":"@Tim Could you explain a little bit more and share your opinion about the most proper one for this scenario?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677240287,"post_id":75555963,"comment_id":133303366,"body_markdown":"@TimBiegeleisen And should I also use `columnDefinition` with `@Lob`? If so, should its value be &quot;TEXT&quot; or &quot;CLOB&quot;?","body":"@TimBiegeleisen And should I also use <code>columnDefinition</code> with <code>@Lob</code>? If so, should its value be &quot;TEXT&quot; or &quot;CLOB&quot;?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677240909,"post_id":75555963,"comment_id":133303540,"body_markdown":"@TimBiegeleisen What would you suggest chico?","body":"@TimBiegeleisen What would you suggest chico?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1677240956,"post_id":75555963,"comment_id":133303550,"body_markdown":"The behavior is different on each database.  If you want an answer here, you should specify your actual database.","body":"The behavior is different on each database.  If you want an answer here, you should specify your actual database."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677241367,"post_id":75555963,"comment_id":133303664,"body_markdown":"PostgreSQL or MySQL.","body":"PostgreSQL or MySQL."}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677240269,"creation_date":1677237774,"question_id":75555963,"body_markdown":"In my Spring Boot app, I want to keep some text fields e.g. `comment` and as far as I know, I can use `@Lob` or `columnDefinition = &quot;TEXT&quot;` feature in the related Entity column. There are some pros and cons, but I am not sure which one is suitable for using PostgreSQL, MySQL and SQL Server. \r\n\r\nSo, should I use `@Lob` or `columnDefinition = &quot;TEXT&quot;` ? And is the following usage a proper usage for each of these? \r\n\r\n```\r\n@Lob\r\n@org.hibernate.annotations.Type(type = &quot;org.hibernate.type.TextType&quot;)\r\nprivate String instructions;\r\n```\r\n\r\n\r\n\r\nor \r\n\r\n```\r\n@Column(name = &quot;body&quot;, columnDefinition = &quot;TEXT&quot;)\r\nprivate String body;\r\n```\r\n\r\nAnd should I also use `columnDefinition` with `@Lob`? If so, should its value be &quot;TEXT&quot; or &quot;CLOB&quot;?","title":"Mapping LOB Data in Hibernate","body":"<p>In my Spring Boot app, I want to keep some text fields e.g. <code>comment</code> and as far as I know, I can use <code>@Lob</code> or <code>columnDefinition = &quot;TEXT&quot;</code> feature in the related Entity column. There are some pros and cons, but I am not sure which one is suitable for using PostgreSQL, MySQL and SQL Server.</p>\n<p>So, should I use <code>@Lob</code> or <code>columnDefinition = &quot;TEXT&quot;</code> ? And is the following usage a proper usage for each of these?</p>\n<pre><code>@Lob\n@org.hibernate.annotations.Type(type = &quot;org.hibernate.type.TextType&quot;)\nprivate String instructions;\n</code></pre>\n<p>or</p>\n<pre><code>@Column(name = &quot;body&quot;, columnDefinition = &quot;TEXT&quot;)\nprivate String body;\n</code></pre>\n<p>And should I also use <code>columnDefinition</code> with <code>@Lob</code>? If so, should its value be &quot;TEXT&quot; or &quot;CLOB&quot;?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677240130,"creation_date":1677240130,"answer_id":75556349,"question_id":75556233,"body_markdown":"Annotation values has to be known at compilation time, i.e. you can&#39;t set them dynamically. But in Spring you can use EL expressions to circumvent this, so the value will come from configuration instead. For example see Chapter 8 here: https://www.baeldung.com/spring-scheduled-tasks\r\n\r\nIn this particular case you could use\r\n```\r\n@Scheduled(cron=&quot;${my.cron.expression}&quot;)\r\n```\r\n\r\nthen you should set the property value in XML.\r\n","title":"How to Pass Variable in Annotation attribute","body":"<p>Annotation values has to be known at compilation time, i.e. you can't set them dynamically. But in Spring you can use EL expressions to circumvent this, so the value will come from configuration instead. For example see Chapter 8 here: <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n<p>In this particular case you could use</p>\n<pre><code>@Scheduled(cron=&quot;${my.cron.expression}&quot;)\n</code></pre>\n<p>then you should set the property value in XML.</p>\n"}],"owner":{"account_id":25252657,"reputation":31,"user_id":19084912,"display_name":"Mustafa_Dahodwala 19_13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677240907,"accepted_answer_id":75556349,"answer_count":1,"score":0,"last_activity_date":1677240227,"creation_date":1677239373,"question_id":75556233,"body_markdown":"How to pass the annotation attribute.\r\nI wanted to add my variable String(ans) in the Cron annotation but i am getting exception can you please suggest me how can i do it.\r\n\r\nI wanted to get the corn pattern from the database and store it to the ans variable which is creating issue.\r\n\r\n        @Service\r\n    public class CronService {\r\n    \t\r\n    \t@Autowired\r\n    \tUserDao userdao;\r\n    \t\r\n    \tString ans=&quot;* * * * * *&quot;;\r\n    \t\r\n    \t@Scheduled(cron=&quot;{ans}&quot;)\r\n    \tpublic void add() {\r\n    \t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t}\r\n    \r\n    }","title":"How to Pass Variable in Annotation attribute","body":"<p>How to pass the annotation attribute.\nI wanted to add my variable String(ans) in the Cron annotation but i am getting exception can you please suggest me how can i do it.</p>\n<p>I wanted to get the corn pattern from the database and store it to the ans variable which is creating issue.</p>\n<pre><code>    @Service\npublic class CronService {\n    \n    @Autowired\n    UserDao userdao;\n    \n    String ans=&quot;* * * * * *&quot;;\n    \n    @Scheduled(cron=&quot;{ans}&quot;)\n    public void add() {\n        System.out.println(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","csv"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1421928833,"post_id":28088211,"comment_id":44553710,"body_markdown":"You should avoid reading the empty lines at all. That means, the returned List of String arrays should not contain empty entries. Therefore, update your `readCSVFile` method.","body":"You should avoid reading the empty lines at all. That means, the returned List of String arrays should not contain empty entries. Therefore, update your <code>readCSVFile</code> method."}],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1421928729,"creation_date":1421928729,"answer_id":28088465,"question_id":28088211,"body_markdown":"You could check the length and the first element. If the line contains only a field separator then the lenght &gt; 1. If the line contains a single `space` character then the first element is not empty.\r\n\r\n    if (rowItemsArray.length == 1 &amp;&amp; rowItemsArray[0].isEmpty()) {\r\n        continue;\r\n    }\r\n","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>You could check the length and the first element. If the line contains only a field separator then the lenght > 1. If the line contains a single <code>space</code> character then the first element is not empty.</p>\n\n<pre><code>if (rowItemsArray.length == 1 &amp;&amp; rowItemsArray[0].isEmpty()) {\n    continue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3696024,"reputation":1695,"user_id":3077349,"accept_rate":91,"display_name":"chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421929388,"creation_date":1421929388,"answer_id":28088689,"question_id":28088211,"body_markdown":"You could summarize all string values per row after trimming them. If the resulting string is empty, there are no values in any cell. In that case ignore the line.&lt;br&gt;\r\nSomething like this:&lt;br&gt;\r\n\r\n    private boolean onlyEmptyCells(ArrayList&lt;String&gt; check) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (String s : check) {\r\n            sb.append(s.trim());\r\n        }\r\n        return sb.toString().isEmpty(); //&lt;- ignore &#39;check&#39; if this returns true\r\n    }","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>You could summarize all string values per row after trimming them. If the resulting string is empty, there are no values in any cell. In that case ignore the line.<br>\nSomething like this:<br></p>\n\n<pre><code>private boolean onlyEmptyCells(ArrayList&lt;String&gt; check) {\n    StringBuilder sb = new StringBuilder();\n    for (String s : check) {\n        sb.append(s.trim());\n    }\n    return sb.toString().isEmpty(); //&lt;- ignore 'check' if this returns true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16097177,"reputation":146,"user_id":11649143,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1580717972,"creation_date":1578413504,"answer_id":59632090,"question_id":28088211,"body_markdown":"For opencsv 5.0 there is an API-option to read CSV lines directly into a Bean.\r\n\r\nFor people who prefer using the &quot;CsvToBean&quot; feature, the following solution is using the (sadly deprecated) #withFilter(..) method on CsvToBeanBuilder to skip blank lines in the Inputstream:\r\n\r\n```\r\nInputStream inputStream; // provided\r\nList&lt;MyBean&gt; data = new CsvToBeanBuilder(new BufferedReader(new InputStreamReader(inputStream)))\r\n\t.withType(MyBean.class)\r\n\t.withFilter(new CsvToBeanFilter() {\r\n\t\t/*\r\n\t\t * This filter ignores empty lines from the input\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic boolean allowLine(String[] strings) {\r\n\t\t\tfor (String one : strings) {\r\n\t\t\t\tif (one != null &amp;&amp; one.length() &gt; 0) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}).build().parse();\r\n```\r\n\r\n**Update**: With opencsv Release 5.1 (dated 2/2/2020), CsvToBeanFilter got undeprecated as per feature request [#120][1].\r\n\r\n\r\n  [1]: https://sourceforge.net/p/opencsv/feature-requests/120/","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>For opencsv 5.0 there is an API-option to read CSV lines directly into a Bean.</p>\n\n<p>For people who prefer using the \"CsvToBean\" feature, the following solution is using the (sadly deprecated) #withFilter(..) method on CsvToBeanBuilder to skip blank lines in the Inputstream:</p>\n\n<pre><code>InputStream inputStream; // provided\nList&lt;MyBean&gt; data = new CsvToBeanBuilder(new BufferedReader(new InputStreamReader(inputStream)))\n    .withType(MyBean.class)\n    .withFilter(new CsvToBeanFilter() {\n        /*\n         * This filter ignores empty lines from the input\n         */\n        @Override\n        public boolean allowLine(String[] strings) {\n            for (String one : strings) {\n                if (one != null &amp;&amp; one.length() &gt; 0) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }).build().parse();\n</code></pre>\n\n<p><strong>Update</strong>: With opencsv Release 5.1 (dated 2/2/2020), CsvToBeanFilter got undeprecated as per feature request <a href=\"https://sourceforge.net/p/opencsv/feature-requests/120/\" rel=\"noreferrer\">#120</a>.</p>\n"},{"tags":[],"owner":{"account_id":14202653,"reputation":77,"user_id":10260158,"display_name":"Patrik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634212753,"creation_date":1634197476,"answer_id":69566863,"question_id":28088211,"body_markdown":"Here is an updated solution with lambdas based on [@Martin][1]&#39;s [solution][2]:\r\n```\r\nInputStream inputStream; // provided\r\nList&lt;MyBean&gt; data = new CsvToBeanBuilder(new BufferedReader(new InputStreamReader(inputStream)))\r\n    .withType(MyBean.class)\r\n    // This filter ignores empty lines from the input\r\n    .withFilter(stringValues -&gt; Arrays.stream(stringValues)\r\n        .anyMatch(value -&gt; value != null &amp;&amp; value.length() &gt; 0))\r\n    .build()\r\n    .parse();\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/11649143/martin\r\n  [2]: https://stackoverflow.com/a/59632090/6045800","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>Here is an updated solution with lambdas based on <a href=\"https://stackoverflow.com/users/11649143/martin\">@Martin</a>'s <a href=\"https://stackoverflow.com/a/59632090/6045800\">solution</a>:</p>\n<pre><code>InputStream inputStream; // provided\nList&lt;MyBean&gt; data = new CsvToBeanBuilder(new BufferedReader(new InputStreamReader(inputStream)))\n    .withType(MyBean.class)\n    // This filter ignores empty lines from the input\n    .withFilter(stringValues -&gt; Arrays.stream(stringValues)\n        .anyMatch(value -&gt; value != null &amp;&amp; value.length() &gt; 0))\n    .build()\n    .parse();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115173,"reputation":3150,"user_id":302517,"display_name":"JiP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635508303,"creation_date":1635508303,"answer_id":69768401,"question_id":28088211,"body_markdown":"If you do not parse into a Bean, you can use Java Streams API to help you with filtering of invalid CSV rows. My approach is like this (where &lt;code&gt;is&lt;/code&gt; is &lt;code&gt;java.io.InputStream&lt;/code&gt; instance with CSV data and &lt;code&gt;YourBean map(String[] row)&lt;/code&gt; is your mapping method that maps a CSV row to a your Java object:\r\n\r\n&lt;pre&gt;\r\nCSVParser csvp = new CSVParserBuilder()\r\n    .withSeparator(&#39;;&#39;)\r\n    .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n    .build();\r\nCSVReader csvr = new CSVReaderBuilder(new InputStreamReader(is))\r\n    .withCSVParser(csvp)\r\n    .build();\r\nList&amp;lt;YourBean&gt; result = StreamSupport.stream(csvr.spliterator(), false)\r\n    .filter(Objects::nonNull)\r\n    .filter(row -&gt; row.length &gt; 0)\r\n    .map(row -&gt; map(row))\r\n    .collect(Collectors.toList());\r\n&lt;/pre&gt;","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>If you do not parse into a Bean, you can use Java Streams API to help you with filtering of invalid CSV rows. My approach is like this (where <code>is</code> is <code>java.io.InputStream</code> instance with CSV data and <code>YourBean map(String[] row)</code> is your mapping method that maps a CSV row to a your Java object:</p>\n<pre>\nCSVParser csvp = new CSVParserBuilder()\n    .withSeparator(';')\n    .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n    .build();\nCSVReader csvr = new CSVReaderBuilder(new InputStreamReader(is))\n    .withCSVParser(csvp)\n    .build();\nList&lt;YourBean> result = StreamSupport.stream(csvr.spliterator(), false)\n    .filter(Objects::nonNull)\n    .filter(row -> row.length > 0)\n    .map(row -> map(row))\n    .collect(Collectors.toList());\n</pre>\n"},{"tags":[],"owner":{"account_id":1336332,"reputation":3448,"user_id":1279002,"accept_rate":44,"display_name":"theINtoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641977941,"creation_date":1641977941,"answer_id":70678732,"question_id":28088211,"body_markdown":"The JavaDoc for [CsvToBeanFilter][1] states &quot;Here&#39;s an example showing how to use CsvToBean that removes empty lines. Since the parser returns an array with a single empty string for a blank line that is what it is checking.&quot; and lists an example of how to do this:\r\n\r\n```\r\nprivate class EmptyLineFilter implements CsvToBeanFilter {\r\n\r\n \tprivate final MappingStrategy strategy;\r\n\r\n \tpublic EmptyLineFilter(MappingStrategy strategy) {\r\n \t\tthis.strategy = strategy;\r\n    }\r\n\r\n \tpublic boolean allowLine(String[] line) {\r\n \t\tboolean blankLine = line.length == 1 &amp;&amp; line[0].isEmpty();\r\n \t\treturn !blankLine;\r\n    }\r\n\r\n }\r\n\r\n public List&lt;Feature&gt; parseCsv(InputStreamReader streamReader) {\r\n \tHeaderColumnNameTranslateMappingStrategy&lt;Feature&gt; strategy = new HeaderColumnNameTranslateMappingStrategy();\r\n \tMap&lt;String, String&gt; columnMap = new HashMap();\r\n \tcolumnMap.put(&quot;FEATURE_NAME&quot;, &quot;name&quot;);\r\n \tcolumnMap.put(&quot;STATE&quot;, &quot;state&quot;);\r\n \tstrategy.setColumnMapping(columnMap);\r\n \tstrategy.setType(Feature.class);\r\n \tCSVReader reader = new CSVReader(streamReader);\r\n \tCsvToBeanFilter filter = new EmptyLineFilter(strategy);\r\n \treturn new CsvToBean().parse(strategy, reader, filter);\r\n }\r\n```\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/apidocs/index.html?com/opencsv/bean/CsvToBeanFilter.html","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>The JavaDoc for <a href=\"http://opencsv.sourceforge.net/apidocs/index.html?com/opencsv/bean/CsvToBeanFilter.html\" rel=\"nofollow noreferrer\">CsvToBeanFilter</a> states &quot;Here's an example showing how to use CsvToBean that removes empty lines. Since the parser returns an array with a single empty string for a blank line that is what it is checking.&quot; and lists an example of how to do this:</p>\n<pre><code>private class EmptyLineFilter implements CsvToBeanFilter {\n\n    private final MappingStrategy strategy;\n\n    public EmptyLineFilter(MappingStrategy strategy) {\n        this.strategy = strategy;\n    }\n\n    public boolean allowLine(String[] line) {\n        boolean blankLine = line.length == 1 &amp;&amp; line[0].isEmpty();\n        return !blankLine;\n    }\n\n }\n\n public List&lt;Feature&gt; parseCsv(InputStreamReader streamReader) {\n    HeaderColumnNameTranslateMappingStrategy&lt;Feature&gt; strategy = new HeaderColumnNameTranslateMappingStrategy();\n    Map&lt;String, String&gt; columnMap = new HashMap();\n    columnMap.put(&quot;FEATURE_NAME&quot;, &quot;name&quot;);\n    columnMap.put(&quot;STATE&quot;, &quot;state&quot;);\n    strategy.setColumnMapping(columnMap);\n    strategy.setType(Feature.class);\n    CSVReader reader = new CSVReader(streamReader);\n    CsvToBeanFilter filter = new EmptyLineFilter(strategy);\n    return new CsvToBean().parse(strategy, reader, filter);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10182669,"reputation":4457,"user_id":7518849,"display_name":"i.karayel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645724553,"creation_date":1645724553,"answer_id":71256097,"question_id":28088211,"body_markdown":"You can use a filter with lambda: like below: \r\n\r\n \r\n    CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(new StringReader(CSV_HEADER + &quot;\\n&quot; + lines))\r\n        .withType(clazz)\r\n        .withFieldAsNull(CSVReaderNullFieldIndicator.EMPTY_SEPARATORS)\r\n        .withSeparator(delimiter)\r\n        .withSkipLines(skipLines)\r\n        .withIgnoreLeadingWhiteSpace(true).withFilter(strings -&gt; {\r\n          for (String r : strings) {\r\n            if (r != null &amp;&amp; r.length() &gt; 0) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        }).build();\r\n\r\n\r\nYour lambda filter: \r\n\r\n    .withFilter(strings -&gt; {\r\n          for (String r : strings) {\r\n            if (r != null &amp;&amp; r.length() &gt; 0) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        })\r\n\r\n\r\n\r\n","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>You can use a filter with lambda: like below:</p>\n<pre><code>CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(new StringReader(CSV_HEADER + &quot;\\n&quot; + lines))\n    .withType(clazz)\n    .withFieldAsNull(CSVReaderNullFieldIndicator.EMPTY_SEPARATORS)\n    .withSeparator(delimiter)\n    .withSkipLines(skipLines)\n    .withIgnoreLeadingWhiteSpace(true).withFilter(strings -&gt; {\n      for (String r : strings) {\n        if (r != null &amp;&amp; r.length() &gt; 0) {\n          return true;\n        }\n      }\n      return false;\n    }).build();\n</code></pre>\n<p>Your lambda filter:</p>\n<pre><code>.withFilter(strings -&gt; {\n      for (String r : strings) {\n        if (r != null &amp;&amp; r.length() &gt; 0) {\n          return true;\n        }\n      }\n      return false;\n    })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10480901,"reputation":230,"user_id":7725929,"accept_rate":87,"display_name":"Muchtar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677238971,"creation_date":1677238971,"answer_id":75556166,"question_id":28088211,"body_markdown":"Another way to do it, is to override the `allowLine()` method of the Class `CsvToBeanFilter` and pass it to `.withFilter()` when building the bean (example in Kotlin, should also work for Java):\r\n\r\n    import com.opencsv.bean.CsvToBeanFilter\r\n    import com.opencsv.bean.CsvToBeanBuilder\r\n    import java.io.FileReader\r\n    \r\n    class NonBlankLinesFilter : CsvToBeanFilter {\r\n        override fun allowLine(line: Array&lt;String?&gt;?): Boolean {\r\n            if (line == null) {\r\n                return false\r\n            }\r\n            for (value in line) {\r\n                if (!value.isNullOrBlank()) {\r\n                    return true\r\n            }\r\n        }\r\n        return false\r\n      }\r\n    }\r\n    \r\n    fun main() {\r\n      val reader = FileReader(&quot;path/to/csv/file.csv&quot;)\r\n    \r\n      val csvToBean = CsvToBeanBuilder&lt;MyBean&gt;(reader)\r\n            .withType(MyBean::class.java)\r\n            .withSeparator(&#39;,&#39;)\r\n            .withFilter(NonBlankLinesFilter())\r\n            .build()\r\n    \r\n      val uploadList = csvToBean.parse()\r\n    \r\n      println(uploadList)\r\n    }\r\n\r\n","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>Another way to do it, is to override the <code>allowLine()</code> method of the Class <code>CsvToBeanFilter</code> and pass it to <code>.withFilter()</code> when building the bean (example in Kotlin, should also work for Java):</p>\n<pre><code>import com.opencsv.bean.CsvToBeanFilter\nimport com.opencsv.bean.CsvToBeanBuilder\nimport java.io.FileReader\n\nclass NonBlankLinesFilter : CsvToBeanFilter {\n    override fun allowLine(line: Array&lt;String?&gt;?): Boolean {\n        if (line == null) {\n            return false\n        }\n        for (value in line) {\n            if (!value.isNullOrBlank()) {\n                return true\n        }\n    }\n    return false\n  }\n}\n\nfun main() {\n  val reader = FileReader(&quot;path/to/csv/file.csv&quot;)\n\n  val csvToBean = CsvToBeanBuilder&lt;MyBean&gt;(reader)\n        .withType(MyBean::class.java)\n        .withSeparator(',')\n        .withFilter(NonBlankLinesFilter())\n        .build()\n\n  val uploadList = csvToBean.parse()\n\n  println(uploadList)\n}\n</code></pre>\n"}],"owner":{"account_id":3623522,"reputation":1510,"user_id":4636482,"accept_rate":76,"display_name":"Sasha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18742,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":28088465,"answer_count":8,"score":8,"last_activity_date":1677238971,"creation_date":1421927880,"question_id":28088211,"body_markdown":"Good day everyone! \r\nMy target is to make csv reader to skip the blank lines while parsing a file, do nothing basically, only get me the rows with at least one value.\r\nAt the moment I have two methods -&gt; 1st is just reading all rows as List of Strings array and returns it, 2nd converts the result into List of Lists of Strings, both are bellow: \r\n\r\n    private List&lt;String[]&gt; readCSVFile(File filename) throws IOException {\r\n    \r\n        CSVReader reader = new CSVReader(new FileReader(filename));\r\n    \tList&lt;String[]&gt; allRows = reader.readAll();\r\n    \t\t\r\n    \treturn allRows;\r\n    \r\n    }\r\n\r\n    public List&lt;List&lt;String&gt;&gt; readFile(File filename) throws IOException {\r\n    \t\t\r\n    \t\tList&lt;String[]&gt; allRows = readCSVFile(filename);\t\t\r\n    \t\tList&lt;List&lt;String&gt;&gt; allRowsAsLists = new ArrayList&lt;List&lt;String&gt;&gt;();\t\t\r\n    \t\tfor (String[] rowItemsArray :  allRows) {\r\n    \t\t\tList&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\r\n    \t\t\trowItems.addAll(Arrays.asList(rowItemsArray));\r\n    \t\t\tallRowsAsLists.add(rowItems);\r\n    \t\t\t\r\n    \t\t}\r\n    \treturn allRowsAsLists;\r\n    \t\r\n    }\r\n\r\nMy first thought was to check (in the 2&#39;nd method) the length of an array if its 0 just to ignore it - which would be something like this: \r\n\r\n    for (String[] rowItemsArray :  allRows) {\r\n                **if(rowItemArray.length == 0) continue;**\r\n    \t\t\tList&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\r\n    \t\t\trowItems.addAll(Arrays.asList(rowItemsArray));\r\n    \t\t\tallRowsAsLists.add(rowItems);\r\n    \t\t\t\r\n    }  \r\n\r\nUnfortunately that didn&#39;t work for the reason that even if the row is blank it still returns an array of elements - empty Strings in fact. Checking an individual String is not an option as there are 100+ columns and this is variable. \r\nPlease suggest whats the best way to achieve this.\r\nThanks.\r\n\r\n\r\n\r\nSorted it out this way:\r\n\r\n        public List&lt;List&lt;String&gt;&gt; readFile(File filename) throws IOException {\r\n        \t\t\r\n        \t\tList&lt;String[]&gt; allRows = readCSVFile(filename, includeHeaders, trimWhitespacesInFieldValues);\t\t\r\n        \t\tList&lt;List&lt;String&gt;&gt; allRowsAsLists = new ArrayList&lt;List&lt;String&gt;&gt;();\t\t\r\n        \t\tfor (String[] rowItemsArray :  allRows) {\r\n        \t\t\t**if(allValuesInRowAreEmpty(rowItemsArray)) continue;**\r\n        \t\t\tList&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\r\n        \t\t\trowItems.addAll(Arrays.asList(rowItemsArray));\r\n        \t\t\tallRowsAsLists.add(rowItems);\r\n        \t\t\t\r\n        \t\t}\r\n        \t\treturn allRowsAsLists;\r\n        \t\t\r\n        \t}\r\n    \r\n        private boolean allValuesInRowAreEmpty(String[] row) {\r\n    \t\tboolean returnValue = true;\r\n    \t\tfor (String s : row) {\r\n    \t\t\tif (s.length() != 0) {\r\n    \t\t\t\treturnValue = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn returnValue;\r\n    \t}","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>Good day everyone! \nMy target is to make csv reader to skip the blank lines while parsing a file, do nothing basically, only get me the rows with at least one value.\nAt the moment I have two methods -> 1st is just reading all rows as List of Strings array and returns it, 2nd converts the result into List of Lists of Strings, both are bellow: </p>\n\n<pre><code>private List&lt;String[]&gt; readCSVFile(File filename) throws IOException {\n\n    CSVReader reader = new CSVReader(new FileReader(filename));\n    List&lt;String[]&gt; allRows = reader.readAll();\n\n    return allRows;\n\n}\n\npublic List&lt;List&lt;String&gt;&gt; readFile(File filename) throws IOException {\n\n        List&lt;String[]&gt; allRows = readCSVFile(filename);     \n        List&lt;List&lt;String&gt;&gt; allRowsAsLists = new ArrayList&lt;List&lt;String&gt;&gt;();      \n        for (String[] rowItemsArray :  allRows) {\n            List&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\n            rowItems.addAll(Arrays.asList(rowItemsArray));\n            allRowsAsLists.add(rowItems);\n\n        }\n    return allRowsAsLists;\n\n}\n</code></pre>\n\n<p>My first thought was to check (in the 2'nd method) the length of an array if its 0 just to ignore it - which would be something like this: </p>\n\n<pre><code>for (String[] rowItemsArray :  allRows) {\n            **if(rowItemArray.length == 0) continue;**\n            List&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\n            rowItems.addAll(Arrays.asList(rowItemsArray));\n            allRowsAsLists.add(rowItems);\n\n}  \n</code></pre>\n\n<p>Unfortunately that didn't work for the reason that even if the row is blank it still returns an array of elements - empty Strings in fact. Checking an individual String is not an option as there are 100+ columns and this is variable. \nPlease suggest whats the best way to achieve this.\nThanks.</p>\n\n<p>Sorted it out this way:</p>\n\n<pre><code>    public List&lt;List&lt;String&gt;&gt; readFile(File filename) throws IOException {\n\n            List&lt;String[]&gt; allRows = readCSVFile(filename, includeHeaders, trimWhitespacesInFieldValues);       \n            List&lt;List&lt;String&gt;&gt; allRowsAsLists = new ArrayList&lt;List&lt;String&gt;&gt;();      \n            for (String[] rowItemsArray :  allRows) {\n                **if(allValuesInRowAreEmpty(rowItemsArray)) continue;**\n                List&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\n                rowItems.addAll(Arrays.asList(rowItemsArray));\n                allRowsAsLists.add(rowItems);\n\n            }\n            return allRowsAsLists;\n\n        }\n\n    private boolean allValuesInRowAreEmpty(String[] row) {\n        boolean returnValue = true;\n        for (String s : row) {\n            if (s.length() != 0) {\n                returnValue = false;\n            }\n        }\n        return returnValue;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":1,"creation_date":1677239310,"post_id":75556150,"comment_id":133303105,"body_markdown":"Does this answer your question? [How to view the SQL queries issued by JPA?](https://stackoverflow.com/questions/4362876/how-to-view-the-sql-queries-issued-by-jpa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4362876/how-to-view-the-sql-queries-issued-by-jpa\">How to view the SQL queries issued by JPA?</a>"},{"owner":{"account_id":1028947,"reputation":150,"user_id":1037652,"display_name":"Pete North"},"score":0,"creation_date":1677240502,"post_id":75556150,"comment_id":133303424,"body_markdown":"Sadly not. This is in a bespoke environment, not Java.","body":"Sadly not. This is in a bespoke environment, not Java."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":1,"creation_date":1677244204,"post_id":75556150,"comment_id":133304482,"body_markdown":"Then I would suggest to add more details here in your question.","body":"Then I would suggest to add more details here in your question."}],"owner":{"account_id":1028947,"reputation":150,"user_id":1037652,"display_name":"Pete North"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677238852,"creation_date":1677238852,"question_id":75556150,"body_markdown":"We have a system built in Java and we can create custom javascript &quot;macros&quot; in it. It uses Java entities but I have zero exposure to Java. I&#39;m trying to debug the following because the sql doesn&#39;t seem to work. In PHP I would use something like var_dump to see what the sql statement actually looks like. \r\n\r\nIs there a way to see what &quot; getEntityManager().createNativeQuery(sqlStr)&quot; is actually sending? \r\n\r\n```\r\nfunction insertTempHeaderRecord(filereadid, lineArray){\r\n\ttry{\r\n\t\tvar sqlStr=&quot;INSERT INTO vl_edisalesorder (filereadid, edifilename, customerid, deladdressid, contactid, &quot;\r\n\t\t&quot;pricelistid, customerref, orderdate, delivercontact, delivertelephone, taillift, bookdelivery, deliveryins, orderid &quot;+\r\n\t\t&quot; VALUES (:param0, :param1, :param2, :param3, :param4, :param5, :param6, :param7, :param8, :param9, :param10, :param11, :param12, :param13) &quot;;\r\n\t\tgetEntityManager().createNativeQuery(sqlStr)\r\n\t\t\t.setParameter(&quot;param0&quot;, filereadid)\t\t\t\r\n\t\t\t.setParameter(&quot;param1&quot;, filereadid)\r\n\t\t\t.setParameter(&quot;param2&quot;, trimTo(lineArray[3],10))  //traderid\r\n\t\t\t.setParameter(&quot;param3&quot;, trimTo(lineArray[4], 10))  //deladd\r\n\t\t\t.setParameter(&quot;param4&quot;, trimTo(lineArray[5],10))   //contactid\r\n\t\t\t.setParameter(&quot;param5&quot;, &quot;0536&quot;)\r\n\t\t\t.setParameter(&quot;param6&quot;, trimTo(lineArray[2],25))   //custref\r\n\t\t\t.setParameter(&quot;param7&quot;, Packages.java.sql.Date(orderdate.getTime()))\r\n\t\t\t.setParameter(&quot;param8&quot;, trimTo(lineArray[8],25))  //delcontact\r\n\t\t\t.setParameter(&quot;param9&quot;, trimTo(lineArray[6],20)) //deltel  \r\n\t\t\t.setParameter(&quot;param10&quot;, importer.Boolean.valueOf(lineArray[9]))  //tlrq\r\n\t\t\t.setParameter(&quot;param11&quot;, importer.Boolean.valueOf(lineArray[10])) //delbook\r\n\t\t\t.setParameter(&quot;param12&quot;, trimTo(lineArray[7],30))    //delinstr \r\n\t\t\t.setParameter(&quot;param13&quot;, importer.Boolean.valueOf(lineArray[10]))   //delivery book in\r\n\t\t\t.executeUpdate();\r\n\t}catch(err){\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\nlogger.info(&quot;Petestestworkflow.xml - this worked ok&quot;);\r\n}\r\n\r\n\r\n ``` ","title":"Debugging createNativeQuery calls in Java based app","body":"<p>We have a system built in Java and we can create custom javascript &quot;macros&quot; in it. It uses Java entities but I have zero exposure to Java. I'm trying to debug the following because the sql doesn't seem to work. In PHP I would use something like var_dump to see what the sql statement actually looks like.</p>\n<p>Is there a way to see what &quot; getEntityManager().createNativeQuery(sqlStr)&quot; is actually sending?</p>\n<pre><code>function insertTempHeaderRecord(filereadid, lineArray){\n    try{\n        var sqlStr=&quot;INSERT INTO vl_edisalesorder (filereadid, edifilename, customerid, deladdressid, contactid, &quot;\n        &quot;pricelistid, customerref, orderdate, delivercontact, delivertelephone, taillift, bookdelivery, deliveryins, orderid &quot;+\n        &quot; VALUES (:param0, :param1, :param2, :param3, :param4, :param5, :param6, :param7, :param8, :param9, :param10, :param11, :param12, :param13) &quot;;\n        getEntityManager().createNativeQuery(sqlStr)\n            .setParameter(&quot;param0&quot;, filereadid)         \n            .setParameter(&quot;param1&quot;, filereadid)\n            .setParameter(&quot;param2&quot;, trimTo(lineArray[3],10))  //traderid\n            .setParameter(&quot;param3&quot;, trimTo(lineArray[4], 10))  //deladd\n            .setParameter(&quot;param4&quot;, trimTo(lineArray[5],10))   //contactid\n            .setParameter(&quot;param5&quot;, &quot;0536&quot;)\n            .setParameter(&quot;param6&quot;, trimTo(lineArray[2],25))   //custref\n            .setParameter(&quot;param7&quot;, Packages.java.sql.Date(orderdate.getTime()))\n            .setParameter(&quot;param8&quot;, trimTo(lineArray[8],25))  //delcontact\n            .setParameter(&quot;param9&quot;, trimTo(lineArray[6],20)) //deltel  \n            .setParameter(&quot;param10&quot;, importer.Boolean.valueOf(lineArray[9]))  //tlrq\n            .setParameter(&quot;param11&quot;, importer.Boolean.valueOf(lineArray[10])) //delbook\n            .setParameter(&quot;param12&quot;, trimTo(lineArray[7],30))    //delinstr \n            .setParameter(&quot;param13&quot;, importer.Boolean.valueOf(lineArray[10]))   //delivery book in\n            .executeUpdate();\n    }catch(err){\n        return false;\n    }\n    return true;\nlogger.info(&quot;Petestestworkflow.xml - this worked ok&quot;);\n}\n\n\n</code></pre>\n"},{"tags":["java","arrays","variables"],"answers":[{"tags":[],"owner":{"account_id":44450,"reputation":39683,"user_id":130515,"display_name":"Mohamed Mansour"},"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1298700482,"creation_date":1298700482,"answer_id":5125390,"question_id":5125322,"body_markdown":"According to the Cassandra API http://wiki.apache.org/cassandra/API An empty byte array is \r\n\r\n    byte[] emptyArray = new byte[0];","title":"Representing empty byte array through an Int variable?","body":"<p>According to the Cassandra API <a href=\"http://wiki.apache.org/cassandra/API\">http://wiki.apache.org/cassandra/API</a> An empty byte array is </p>\n\n<pre><code>byte[] emptyArray = new byte[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1677218009,"creation_date":1298703201,"answer_id":5125524,"question_id":5125322,"body_markdown":"In general Java terminology, an empty byte array is a byte array with length zero, and can be created with the Java expression `new byte[0]`.  The Casandra API uses the standard terminology.\r\n\r\nWhile is is technically possible (see [this Q&amp;A][1]) to represent a byte array using an integer typed variable, it wouldn&#39;t work here because the Casandra API doesn&#39;t support that kind of thing.  (And neither should it ...)\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/5125390/139985) explains how you *should* represent an empty byte array when using the Casandra APIs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68750734/could-we-save-space-by-representing-small-byte-arrays-as-integers","title":"Representing empty byte array through an Int variable?","body":"<p>In general Java terminology, an empty byte array is a byte array with length zero, and can be created with the Java expression <code>new byte[0]</code>.  The Casandra API uses the standard terminology.</p>\n<p>While is is technically possible (see <a href=\"https://stackoverflow.com/questions/68750734/could-we-save-space-by-representing-small-byte-arrays-as-integers\">this Q&amp;A</a>) to represent a byte array using an integer typed variable, it wouldn't work here because the Casandra API doesn't support that kind of thing.  (And neither should it ...)</p>\n<p>The <a href=\"https://stackoverflow.com/a/5125390/139985\">accepted answer</a> explains how you <em>should</em> represent an empty byte array when using the Casandra APIs.</p>\n"},{"tags":[],"owner":{"account_id":2288711,"reputation":5650,"user_id":2012163,"accept_rate":69,"display_name":"Abhijeet Ahuja"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1498863545,"creation_date":1498863340,"answer_id":44855772,"question_id":5125322,"body_markdown":"In java, you can create a new array by providing just the length of the desired array \r\n\r\n&gt; `new type[length]`\r\n\r\n   \r\n \r\n\r\n    private byte[] getByteResponse() {\r\n        return new byte[0];\r\n    }\r\n\r\nThis should do.","title":"Representing empty byte array through an Int variable?","body":"<p>In java, you can create a new array by providing just the length of the desired array </p>\n\n<blockquote>\n  <p><code>new type[length]</code></p>\n</blockquote>\n\n<pre><code>private byte[] getByteResponse() {\n    return new byte[0];\n}\n</code></pre>\n\n<p>This should do.</p>\n"}],"owner":{"account_id":252236,"reputation":26021,"user_id":530153,"accept_rate":66,"display_name":"Rajat Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118490,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":5125390,"answer_count":3,"score":53,"last_activity_date":1677238824,"creation_date":1298699101,"question_id":5125322,"body_markdown":"What value should be assigned to an integer type variable, to represent an empty byte array?  I need this to store an empty byte array in the database, to represent valueless column in Cassandra.","title":"Representing empty byte array through an Int variable?","body":"<p>What value should be assigned to an integer type variable, to represent an empty byte array?  I need this to store an empty byte array in the database, to represent valueless column in Cassandra.</p>\n"},{"tags":["java","final"],"comments":[{"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"score":3,"creation_date":1265804586,"post_id":2236599,"comment_id":2192572,"body_markdown":"@Joachim - actually it&#39;s the same as `const` in C! The difference is that in Java a &quot;pointer&quot; to an object doesn&#39;t carry any special `*` syntax. Hence the confusion here. The variable is const/final, the object it points to is not.","body":"@Joachim - actually it&#39;s the same as <code>const</code> in C! The difference is that in Java a &quot;pointer&quot; to an object doesn&#39;t carry any special <code>*</code> syntax. Hence the confusion here. The variable is const/final, the object it points to is not."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":0,"creation_date":1265805122,"post_id":2236599,"comment_id":2192633,"body_markdown":"@Earwicker I think I take your point, but I think Joachim&#39;s is much more accurate in saying a &#39;final&#39; method param has no implication for the caller, which is true, but not really what &#39;const&#39; means in general.","body":"@Earwicker I think I take your point, but I think Joachim&#39;s is much more accurate in saying a &#39;final&#39; method param has no implication for the caller, which is true, but not really what &#39;const&#39; means in general."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":0,"creation_date":1265805176,"post_id":2236599,"comment_id":2192639,"body_markdown":"As an aside, I think you often see methods declared this way by people who believe, rightly, that it&#39;s clearer and less error-prone to not treat method params as local variables that can change. &#39;final&#39; merely enforces this.","body":"As an aside, I think you often see methods declared this way by people who believe, rightly, that it&#39;s clearer and less error-prone to not treat method params as local variables that can change. &#39;final&#39; merely enforces this."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1265805875,"post_id":2236599,"comment_id":2192723,"body_markdown":"@Earwicker: My C is weak. I thought I remembered that a `const` parameter forced every value that&#39;s passed in to come from a `const` variable as well. It seems that&#39;s wrong. Sorry.","body":"@Earwicker: My C is weak. I thought I remembered that a <code>const</code> parameter forced every value that&#39;s passed in to come from a <code>const</code> variable as well. It seems that&#39;s wrong. Sorry."},{"owner":{"account_id":65605,"reputation":2500,"user_id":192958,"accept_rate":76,"display_name":"Asaf"},"score":1,"creation_date":1265808887,"post_id":2236599,"comment_id":2193085,"body_markdown":"@Sean: _i_ often see it, because our eclipse formatter is set up to do so. it&#39;s an artifact of a whole concept which promotes coding in the most restricted way (w.r.t access modifiers and in general), so when you remove the restriction you need to do so explicitly. my 2 cents.","body":"@Sean: <i>i</i> often see it, because our eclipse formatter is set up to do so. it&#39;s an artifact of a whole concept which promotes coding in the most restricted way (w.r.t access modifiers and in general), so when you remove the restriction you need to do so explicitly. my 2 cents."},{"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"score":0,"creation_date":1265813121,"post_id":2236599,"comment_id":2193673,"body_markdown":"@Joachim - the issue is whether the variable is self-contained or is a reference/pointer to something else. This is always explicit in C, but depends on the type in Java. In C, you decide if a pointer variable should be const, or the object it points to, or both. You can put `const` in various places to get the combination you want. `const Obj *p` makes the `Obj` immutable but lets you change `p` to point to a different `Obj`, whereas `Obj * const p` leaves the `Obj` mutable and locks down `p`. Lastly `const Obj * const p` makes both the pointer and the object immutable.","body":"@Joachim - the issue is whether the variable is self-contained or is a reference/pointer to something else. This is always explicit in C, but depends on the type in Java. In C, you decide if a pointer variable should be const, or the object it points to, or both. You can put <code>const</code> in various places to get the combination you want. <code>const Obj *p</code> makes the <code>Obj</code> immutable but lets you change <code>p</code> to point to a different <code>Obj</code>, whereas <code>Obj * const p</code> leaves the <code>Obj</code> mutable and locks down <code>p</code>. Lastly <code>const Obj * const p</code> makes both the pointer and the object immutable."},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1376089255,"post_id":2236599,"comment_id":26596503,"body_markdown":"@DanielEarwicker: I believe it is more correct to say that `const` in C is similar to `final` in Java, but the semantics of the two keywords are not identical between languages.","body":"@DanielEarwicker: I believe it is more correct to say that <code>const</code> in C is similar to <code>final</code> in Java, but the semantics of the two keywords are not identical between languages."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":67,"is_accepted":false,"score":65,"last_activity_date":1265804010,"creation_date":1265803681,"answer_id":2236616,"question_id":2236599,"body_markdown":"Java is only pass-by-value. (or better - pass-reference-by-value)\r\n\r\nSo the passed argument and the argument within the method are _two different_ handlers pointing to the same object (value). \r\n\r\nTherefore if you change _the state_ of the object, it is reflected to every other variable that&#39;s referencing it. But if you re-assign a new object (value) to the argument, then other variables pointing to this object (value) do not get re-assigned.","title":"final keyword in method parameters","body":"<p>Java is only pass-by-value. (or better - pass-reference-by-value)</p>\n\n<p>So the passed argument and the argument within the method are <em>two different</em> handlers pointing to the same object (value). </p>\n\n<p>Therefore if you change <em>the state</em> of the object, it is reflected to every other variable that's referencing it. But if you re-assign a new object (value) to the argument, then other variables pointing to this object (value) do not get re-assigned.</p>\n"},{"tags":[],"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"down_vote_count":13,"up_vote_count":266,"is_accepted":true,"score":253,"last_activity_date":1614324407,"creation_date":1265803708,"answer_id":2236620,"question_id":2236599,"body_markdown":"Java always makes a copy of parameters before sending them to methods. This means the final doesn&#39;t mean any difference for the calling code. This only means that inside the method the variables can not be reassigned. \r\n\r\nNote that if you have a final object, you can still change the attributes of the object. This is because objects in Java really are pointers to objects. And only the pointer is copied (and will be final in your method), not the actual object. ","title":"final keyword in method parameters","body":"<p>Java always makes a copy of parameters before sending them to methods. This means the final doesn't mean any difference for the calling code. This only means that inside the method the variables can not be reassigned.</p>\n<p>Note that if you have a final object, you can still change the attributes of the object. This is because objects in Java really are pointers to objects. And only the pointer is copied (and will be final in your method), not the actual object.</p>\n"},{"tags":[],"owner":{"account_id":23037,"reputation":6947,"user_id":57448,"accept_rate":71,"display_name":"Rahel L&#252;thy"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1265804061,"creation_date":1265804061,"answer_id":2236646,"question_id":2236599,"body_markdown":"Consider this implementation of foo():\r\n\r\n    public void foo(final String a) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                System.out.print(a);\r\n            }\r\n        }); \r\n    }\r\n\r\nBecause the `Runnable` instance would outlive the method, this wouldn&#39;t compile without the `final` keyword -- `final` tells the compiler that it&#39;s safe to take a copy of the reference (to refer to it later). Thus, it&#39;s the **reference** that&#39;s considered final, not the **value**. In other words: As a caller, you can&#39;t mess anything up...","title":"final keyword in method parameters","body":"<p>Consider this implementation of foo():</p>\n\n<pre><code>public void foo(final String a) {\n    SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            System.out.print(a);\n        }\n    }); \n}\n</code></pre>\n\n<p>Because the <code>Runnable</code> instance would outlive the method, this wouldn't compile without the <code>final</code> keyword -- <code>final</code> tells the compiler that it's safe to take a copy of the reference (to refer to it later). Thus, it's the <strong>reference</strong> that's considered final, not the <strong>value</strong>. In other words: As a caller, you can't mess anything up...</p>\n"},{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1265804111,"creation_date":1265804111,"answer_id":2236652,"question_id":2236599,"body_markdown":"Strings are immutable, so actully you can&#39;t change the String afterwards (you can only make the variable that held the String object point to a different String object).\r\n\r\nHowever, that is not the reason why you can bind any variable to a `final` parameter. All the compiler checks is that the parameter is not reassigned *within* the method. This is good for documentation purposes, arguably good style, and may even help optimize the byte code for speed (although this seems not to do very much in practice). \r\n\r\nBut even if you do reassign a parameter within a method, the caller doesn&#39;t notice that, because java does all parameter passing by value. After the sequence\r\n\r\n      a = someObject();\r\n      process(a);\r\n\r\nthe fields of a may have changed, but a is still the same object it was before. In pass-by-reference languages this may not be true.\r\n  \r\n","title":"final keyword in method parameters","body":"<p>Strings are immutable, so actully you can't change the String afterwards (you can only make the variable that held the String object point to a different String object).</p>\n\n<p>However, that is not the reason why you can bind any variable to a <code>final</code> parameter. All the compiler checks is that the parameter is not reassigned <em>within</em> the method. This is good for documentation purposes, arguably good style, and may even help optimize the byte code for speed (although this seems not to do very much in practice). </p>\n\n<p>But even if you do reassign a parameter within a method, the caller doesn't notice that, because java does all parameter passing by value. After the sequence</p>\n\n<pre><code>  a = someObject();\n  process(a);\n</code></pre>\n\n<p>the fields of a may have changed, but a is still the same object it was before. In pass-by-reference languages this may not be true.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1677238682,"creation_date":1265804205,"answer_id":2236657,"question_id":2236599,"body_markdown":"There is a circumstance where you&#39;re **required** to declare it final otherwise it will result in compile error, namely passing them through into an anonymous class or a lambda. Here&#39;s a basic example using an anonymous class:\r\n\r\n    public FileFilter createFileExtensionFilter(final String extension) {\r\n        FileFilter fileFilter = new FileFilter() {\r\n            public boolean accept(File file) {\r\n                return file.getName().endsWith(extension);\r\n            }\r\n        };\r\n\r\n        // Imagine what would happen when we&#39;re allowed to change extension here?\r\n        // extension = &quot;foo&quot;;\r\n\r\n        return fileFilter;\r\n    }\r\n\r\nAnd here&#39;s the exact same example in lambda flavor:\r\n\r\n    public FileFilter createFileExtensionFilter(final String extension) {\r\n        FileFilter fileFilter = file -&gt; file.getName().endsWith(extension);\r\n\r\n        // Imagine what would happen when we&#39;re allowed to change extension here?\r\n        // extension = &quot;foo&quot;;\r\n\r\n        return fileFilter;\r\n    }\r\n\r\nRemoving the `final` modifier would result in compile error, because it isn&#39;t guaranteed anymore that the value is a runtime constant. Changing the value after creation of the anonymous class or lambda would namely cause the instance of the anonymous class or lambda to behave different after the moment of creation.","title":"final keyword in method parameters","body":"<p>There is a circumstance where you're <strong>required</strong> to declare it final otherwise it will result in compile error, namely passing them through into an anonymous class or a lambda. Here's a basic example using an anonymous class:</p>\n<pre><code>public FileFilter createFileExtensionFilter(final String extension) {\n    FileFilter fileFilter = new FileFilter() {\n        public boolean accept(File file) {\n            return file.getName().endsWith(extension);\n        }\n    };\n\n    // Imagine what would happen when we're allowed to change extension here?\n    // extension = &quot;foo&quot;;\n\n    return fileFilter;\n}\n</code></pre>\n<p>And here's the exact same example in lambda flavor:</p>\n<pre><code>public FileFilter createFileExtensionFilter(final String extension) {\n    FileFilter fileFilter = file -&gt; file.getName().endsWith(extension);\n\n    // Imagine what would happen when we're allowed to change extension here?\n    // extension = &quot;foo&quot;;\n\n    return fileFilter;\n}\n</code></pre>\n<p>Removing the <code>final</code> modifier would result in compile error, because it isn't guaranteed anymore that the value is a runtime constant. Changing the value after creation of the anonymous class or lambda would namely cause the instance of the anonymous class or lambda to behave different after the moment of creation.</p>\n"},{"tags":[],"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"down_vote_count":2,"up_vote_count":61,"is_accepted":false,"score":59,"last_activity_date":1376088640,"creation_date":1376088640,"answer_id":18156816,"question_id":2236599,"body_markdown":"The `final` keyword on a method parameter means absolutely nothing to the caller. It also means absolutely nothing to the running program, since its presence or absence doesn&#39;t change the bytecode. It only ensures that the compiler will complain if the parameter variable is reassigned within the method. That&#39;s all. But that&#39;s enough.\r\n\r\nSome programmers (like me) think that&#39;s a very good thing and use `final` on almost every parameter. It makes it easier to understand a long or complex method (though one could argue that long and complex methods should be refactored.) It also shines a spotlight on method parameters that **aren&#39;t** marked with `final`.","title":"final keyword in method parameters","body":"<p>The <code>final</code> keyword on a method parameter means absolutely nothing to the caller. It also means absolutely nothing to the running program, since its presence or absence doesn't change the bytecode. It only ensures that the compiler will complain if the parameter variable is reassigned within the method. That's all. But that's enough.</p>\n\n<p>Some programmers (like me) think that's a very good thing and use <code>final</code> on almost every parameter. It makes it easier to understand a long or complex method (though one could argue that long and complex methods should be refactored.) It also shines a spotlight on method parameters that <strong>aren't</strong> marked with <code>final</code>.</p>\n"},{"tags":[],"owner":{"account_id":5555763,"reputation":13811,"user_id":4407176,"accept_rate":76,"display_name":"SilentKnight"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1426650320,"creation_date":1426650320,"answer_id":29113793,"question_id":2236599,"body_markdown":"**final** means you can&#39;t change the value of that variable once it was assigned.\r\n\r\nMeanwhile, the use of **final** for the arguments in those methods means *it won&#39;t allow the programmer to change their value during the execution of the method*.\r\nThis only means that inside the method the **final** variables can not be reassigned.","title":"final keyword in method parameters","body":"<p><strong>final</strong> means you can't change the value of that variable once it was assigned.</p>\n\n<p>Meanwhile, the use of <strong>final</strong> for the arguments in those methods means <em>it won't allow the programmer to change their value during the execution of the method</em>.\nThis only means that inside the method the <strong>final</strong> variables can not be reassigned.</p>\n"},{"tags":[],"owner":{"account_id":4321836,"reputation":270,"user_id":3529776,"accept_rate":25,"display_name":"Roopam"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1533311277,"creation_date":1428255469,"answer_id":29460215,"question_id":2236599,"body_markdown":"If you declare any parameter as final, you cannot change the value of it.&lt;br&gt;\r\n\r\n    class Bike11 {  \r\n        int cube(final int n) {  \r\n            n=n+2;//can&#39;t be changed as n is final  \r\n            n*n*n;  \r\n         }  \r\n        public static void main(String args[]) {  \r\n            Bike11 b=new Bike11();  \r\n            b.cube(5);  \r\n        }  \r\n    }   \r\n\r\nOutput: Compile Time Error\r\n\r\nFor more details, please visit my blog: http://javabyroopam.blogspot.com","title":"final keyword in method parameters","body":"<p>If you declare any parameter as final, you cannot change the value of it.<br></p>\n\n<pre><code>class Bike11 {  \n    int cube(final int n) {  \n        n=n+2;//can't be changed as n is final  \n        n*n*n;  \n     }  \n    public static void main(String args[]) {  \n        Bike11 b=new Bike11();  \n        b.cube(5);  \n    }  \n}   \n</code></pre>\n\n<p>Output: Compile Time Error</p>\n\n<p>For more details, please visit my blog: <a href=\"http://javabyroopam.blogspot.com\" rel=\"nofollow noreferrer\">http://javabyroopam.blogspot.com</a></p>\n"},{"tags":[],"owner":{"account_id":2780904,"reputation":417,"user_id":2393477,"accept_rate":0,"display_name":"ttati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447260058,"creation_date":1447260058,"answer_id":33655383,"question_id":2236599,"body_markdown":"final keyword in the method input parameter is not needed. Java creates a copy of the reference to the object, so putting final on it doesn&#39;t make the object final but just the reference, which doesn&#39;t make sense","title":"final keyword in method parameters","body":"<p>final keyword in the method input parameter is not needed. Java creates a copy of the reference to the object, so putting final on it doesn't make the object final but just the reference, which doesn't make sense</p>\n"}],"owner":{"account_id":79704,"reputation":15955,"user_id":225814,"accept_rate":76,"display_name":"Aly"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209852,"favorite_count":0,"down_vote_count":1,"up_vote_count":187,"closed_date":1449227423,"accepted_answer_id":2236620,"answer_count":9,"score":186,"last_activity_date":1677238682,"creation_date":1265803521,"question_id":2236599,"body_markdown":"I often encounter methods which look like the following:\r\n\r\n    public void foo(final String a, final int[] b, final Object1 c){\r\n    }\r\n\r\nWhat happens if this method is called without passing it final parameters. i.e. an Object1 that is later changed (so is not declared as final) can be passed to this method just fine","title":"final keyword in method parameters","body":"<p>I often encounter methods which look like the following:</p>\n\n<pre><code>public void foo(final String a, final int[] b, final Object1 c){\n}\n</code></pre>\n\n<p>What happens if this method is called without passing it final parameters. i.e. an Object1 that is later changed (so is not declared as final) can be passed to this method just fine</p>\n"},{"tags":["java","c#","selenium","android-studio","appium-android"],"comments":[{"owner":{"account_id":1029918,"reputation":1404,"user_id":1038447,"accept_rate":31,"display_name":"&#193;rp&#225;d Magos&#225;nyi"},"score":0,"creation_date":1677180712,"post_id":65820780,"comment_id":133292311,"body_markdown":"Have the same problem in my CI environment, where the emulator runs reeeaaal slooow.\nCould the problem be that the settings app does not reach some ready state within 5 sec, and concludes it is dead? I see deviceReadyTimeout with 5sec as default in the capabilities: https://appium.io/docs/en/writing-running-appium/caps/","body":"Have the same problem in my CI environment, where the emulator runs reeeaaal slooow. Could the problem be that the settings app does not reach some ready state within 5 sec, and concludes it is dead? I see deviceReadyTimeout with 5sec as default in the capabilities: <a href=\"https://appium.io/docs/en/writing-running-appium/caps/\" rel=\"nofollow noreferrer\">appium.io/docs/en/writing-running-appium/caps</a>"},{"owner":{"account_id":1029918,"reputation":1404,"user_id":1038447,"accept_rate":31,"display_name":"&#193;rp&#225;d Magos&#225;nyi"},"score":0,"creation_date":1677191419,"post_id":65820780,"comment_id":133294858,"body_markdown":"The problem persists with the same message referring to 5000ms after I have increased al timeouts to 1 min.","body":"The problem persists with the same message referring to 5000ms after I have increased al timeouts to 1 min."},{"owner":{"account_id":1029918,"reputation":1404,"user_id":1038447,"accept_rate":31,"display_name":"&#193;rp&#225;d Magos&#225;nyi"},"score":0,"creation_date":1677224221,"post_id":65820780,"comment_id":133299165,"body_markdown":"The timeout is defined in the appium-adb package. With the current code I see no way to configure it.","body":"The timeout is defined in the appium-adb package. With the current code I see no way to configure it."}],"answers":[{"tags":[],"owner":{"account_id":1029918,"reputation":1404,"user_id":1038447,"accept_rate":31,"display_name":"&#193;rp&#225;d Magos&#225;nyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677238315,"creation_date":1677238315,"answer_id":75556050,"question_id":65820780,"body_markdown":"This due to the appium settings app is not reacting within 5000ms, probably due to slow machine. The timeout is hardcoded into appium-adb.\r\nA fix is underway: https://github.com/appium/appium-adb/pull/635\r\n","title":"Appium Settings starting up but not connecting properly with Appium/Visual Studio?","body":"<p>This due to the appium settings app is not reacting within 5000ms, probably due to slow machine. The timeout is hardcoded into appium-adb.\nA fix is underway: <a href=\"https://github.com/appium/appium-adb/pull/635\" rel=\"nofollow noreferrer\">https://github.com/appium/appium-adb/pull/635</a></p>\n"}],"owner":{"account_id":6024972,"reputation":99,"user_id":4730973,"display_name":"Jeremias R&#246;&#223;ner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677238315,"creation_date":1611199888,"question_id":65820780,"body_markdown":"So Im not quite sure what is happening here. I have installed Appium and Android Studio (using Android Studio only for the emulator). I have also installed jdk is installed and `JAVA_HOME: C:\\Program Files\\Java\\jdk-12` and `ANDROID_HOME: C:\\Android` are both set. My example code looks as such:\r\n\r\n    AndroidDriver&lt;AndroidElement&gt; driver;\r\n    AppiumOptions options = new AppiumOptions();\r\n    options.PlatformName = &quot;Android&quot;;\r\n    options.AddAdditionalCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\r\n    options.AddAdditionalCapability(&quot;platformVersion&quot;, &quot;10&quot;);\r\n    options.AddAdditionalCapability(&quot;deviceName&quot;, &quot;Pixel_3a_API_30_x86_v10&quot;);\r\n    options.AddAdditionalCapability(&quot;app&quot;, @&quot;C:\\Users\\*********\\Desktop\\***********.apk&quot;);\r\n    Uri url = new Uri(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n    driver = new AndroidDriver&lt;AndroidElement&gt;(url, options);\r\n    driver.Manage().Timeouts().ImplicitWait = TimeSpan.FromSeconds(10);\r\n    // Some example selectors\r\n    List&lt;AndroidElement&gt; elements = driver.FindElementsByClassName(&quot;android.widget.EditText&quot;).ToList();\r\n    foreach (AndroidElement element in elements)\r\n    {\r\n           element.Clear();\r\n           element.SendKeys(&quot;Testing Successful&quot;);\r\n    }\r\n\r\nI can install the .apk file by just dragging it onto the emulator. I can delete files from the emulator using the adb shell once appium is running. When I run the above code I get the error:\r\n\r\n    OpenQA.Selenium.WebDriverException: &#39;An unknown server-side error occurred while processing the command. Original error: Appium Settings app is not running after 5000ms&#39;\r\n\r\nHowever I can physically see Appium Settings app opening for a second before closing on the emulator when the above code gets run, and then the error gets thrown. I have tried deleting the io.appium.settings using the adb shell and rerunning the code with no avail (It does seem to reinstall io.appium.settings again properly). Weirdly enough io.appium.uiautomator2.server never gets installed on the emulator (not sure if it should be?). My log for the appium server is as follows:\r\n\r\n    [HTTP] Waiting until the server is closed\r\n    [HTTP] Received server close event\r\n    [Appium] Welcome to Appium v1.19.1\r\n    [Appium] Non-default server args:\r\n    [Appium]   relaxedSecurityEnabled: true\r\n    [Appium]   allowInsecure: {\r\n    [Appium]   }\r\n    [Appium]   denyInsecure: {\r\n    [Appium]   }\r\n    [Appium] Appium REST http interface listener started on 0.0.0.0:4723\r\n    [HTTP] --&gt; POST /wd/hub/session\r\n    [HTTP] {&quot;desiredCapabilities&quot;:{&quot;automationName&quot;:&quot;UiAutomator2&quot;,&quot;platformVersion&quot;:&quot;10&quot;,&quot;deviceName&quot;:&quot;Pixel_3a_API_30_x86_v10&quot;,&quot;app&quot;:&quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********&quot;,&quot;platformName&quot;:&quot;Android&quot;},&quot;capabilities&quot;:{&quot;firstMatch&quot;:[{&quot;platformName&quot;:&quot;Android&quot;}]}}\r\n    [W3C] Calling AppiumDriver.createSession() with args: [{&quot;automationName&quot;:&quot;UiAutomator2&quot;,&quot;platformVersion&quot;:&quot;10&quot;,&quot;deviceName&quot;:&quot;Pixel_3a_API_30_x86_v10&quot;,&quot;app&quot;:&quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********.apk&quot;,&quot;platformName&quot;:&quot;Android&quot;},null,{&quot;firstMatch&quot;:[{&quot;platformName&quot;:&quot;Android&quot;}]}]\r\n    [BaseDriver] Event &#39;newSessionRequested&#39; logged at 1611198627724 (16:10:27 GMT+1300 (New Zealand Daylight Time))\r\n    [Appium] The following capabilities were provided in the JSONWP desired capabilities that are missing in W3C capabilities: [&quot;automationName&quot;,&quot;platformVersion&quot;,&quot;deviceName&quot;,&quot;app&quot;]\r\n    [Appium] Trying to fix W3C capabilities by merging them with JSONWP caps\r\n    [BaseDriver] The following capabilities are not standard capabilities and should have an extension prefix:\r\n    [BaseDriver]   automationName\r\n    [BaseDriver]   platformVersion\r\n    [BaseDriver]   deviceName\r\n    [BaseDriver]   app\r\n    [Appium] Appium v1.19.1 creating new AndroidUiautomator2Driver (v1.59.0) session\r\n    [Appium] Applying relaxed security to &#39;AndroidUiautomator2Driver&#39; as per server command line argument. All insecure features will be enabled unless explicitly disabled by --deny-insecure\r\n    [BaseDriver] W3C capabilities and MJSONWP desired capabilities were provided\r\n    [BaseDriver] Creating session with W3C capabilities: {\r\n    [BaseDriver]   &quot;alwaysMatch&quot;: {\r\n    [BaseDriver]     &quot;appium:automationName&quot;: &quot;UiAutomator2&quot;,\r\n    [BaseDriver]     &quot;appium:platformVersion&quot;: &quot;10&quot;,\r\n    [BaseDriver]     &quot;appium:deviceName&quot;: &quot;Pixel_3a_API_30_x86_v10&quot;,\r\n    [BaseDriver]     &quot;appium:app&quot;: &quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********.apk&quot;,\r\n    [BaseDriver]     &quot;platformName&quot;: &quot;Android&quot;\r\n    [BaseDriver]   },\r\n    [BaseDriver]   &quot;firstMatch&quot;: [\r\n    [BaseDriver]     {}\r\n    [BaseDriver]   ]\r\n    [BaseDriver] }\r\n    [BaseDriver] Session created with session id: b9c4d8f7-fa3c-48f9-91b3-3d4ef4080f9c\r\n    [BaseDriver] Using local app &#39;C:\\Users\\*********\\Desktop\\*********.apk&#39;\r\n    [UiAutomator2] Checking whether app is actually present\r\n    [ADB] Using &#39;adb.exe&#39; from &#39;C:\\Android\\adb.exe&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 start-server&#39;\r\n    [AndroidDriver] Retrieving device list\r\n    [ADB] Trying to find a connected android device\r\n    [ADB] Getting connected devices\r\n    [ADB] Connected devices: [{&quot;udid&quot;:&quot;emulator-5554&quot;,&quot;state&quot;:&quot;device&quot;}]\r\n    [AndroidDriver] Looking for a device with Android &#39;10.0.0&#39;\r\n    [ADB] Setting device id to emulator-5554\r\n    [ADB] Getting device platform version\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.release&#39;\r\n    [ADB] Current device property &#39;ro.build.version.release&#39;: 10\r\n    [AndroidDriver] Using device: emulator-5554\r\n    [ADB] Using &#39;adb.exe&#39; from &#39;C:\\Android\\adb.exe&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 start-server&#39;\r\n    [ADB] Setting device id to emulator-5554\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39;\r\n    [ADB] Current device property &#39;ro.build.version.sdk&#39;: 29\r\n    [ADB] Getting device platform version\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.release&#39;\r\n    [ADB] Current device property &#39;ro.build.version.release&#39;: 10\r\n    [ADB] Device API level: 29\r\n    [UiAutomator2] Relaxing hidden api policy\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell &#39;settings put global hidden_api_policy_pre_p_apps 1;settings put global hidden_api_policy_p_apps 1;settings put global hidden_api_policy 1&#39;&#39;\r\n    [AndroidDriver] Parsing package and activity from app manifest\r\n    [ADB] Package name: &#39;*********&#39;\r\n    [ADB] Main activity name: &#39;crc64fb453ee64b5fe1ef.MainActivity&#39;\r\n    [AndroidDriver] Parsed package and activity are: *********/crc64fb453ee64b5fe1ef.MainActivity\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 wait-for-device&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell echo ping&#39;\r\n    [AndroidDriver] Pushing settings apk to device...\r\n    [ADB] Getting install status for io.appium.settings\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings&#39;\r\n    [ADB] &#39;io.appium.settings&#39; is installed\r\n    [ADB] Getting package info for &#39;io.appium.settings&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings&#39;\r\n    [ADB] The version name of the installed &#39;io.appium.settings&#39; is greater or equal to the application version name (&#39;3.2.1&#39; &gt;= &#39;3.2.1&#39;)\r\n    [ADB] There is no need to install/upgrade &#39;C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\io.appium.settings\\apks\\settings_apk-debug.apk&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell &#39;pgrep --help; echo $?&#39;&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Starting Appium Settings app\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell am start -n io.appium.settings/.Settings -a android.intent.action.MAIN -c android.intent.category.LAUNCHER&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [AndroidDriver] Error: Appium Settings app is not running after 5000ms\r\n    [AndroidDriver]     at ADB.requireRunningSettingsApp (C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\settings-client-commands.js:70:11)\r\n    [UiAutomator2] Deleting UiAutomator2 session\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell am force-stop *********&#39;\r\n    [UiAutomator2] Restoring hidden api policy to the device default configuration\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell &#39;settings delete global hidden_api_policy_pre_p_apps;settings delete global hidden_api_policy_p_apps;settings delete global hidden_api_policy&#39;&#39;\r\n    [BaseDriver] Event &#39;newSessionStarted&#39; logged at 1611198633596 (16:10:33 GMT+1300 (New Zealand Daylight Time))\r\n    [W3C] Encountered internal error running command: Error: Appium Settings app is not running after 5000ms\r\n    [W3C]     at ADB.requireRunningSettingsApp (C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\settings-client-commands.js:70:11)\r\n    [W3C] Destroying socket connection\r\n    [HTTP] &lt;-- POST /wd/hub/session 500 5874 ms - 659\r\n    [HTTP]\r\n\r\n\r\nFurthermore, running the command `pgrep -f io\\\\.appium\\\\.settings` in the adb shell returns the number `4281`\r\n\r\nPS. I replaced the user and the application name with *********, these are however all correct in the original log and commands","title":"Appium Settings starting up but not connecting properly with Appium/Visual Studio?","body":"<p>So Im not quite sure what is happening here. I have installed Appium and Android Studio (using Android Studio only for the emulator). I have also installed jdk is installed and <code>JAVA_HOME: C:\\Program Files\\Java\\jdk-12</code> and <code>ANDROID_HOME: C:\\Android</code> are both set. My example code looks as such:</p>\n<pre><code>AndroidDriver&lt;AndroidElement&gt; driver;\nAppiumOptions options = new AppiumOptions();\noptions.PlatformName = &quot;Android&quot;;\noptions.AddAdditionalCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\noptions.AddAdditionalCapability(&quot;platformVersion&quot;, &quot;10&quot;);\noptions.AddAdditionalCapability(&quot;deviceName&quot;, &quot;Pixel_3a_API_30_x86_v10&quot;);\noptions.AddAdditionalCapability(&quot;app&quot;, @&quot;C:\\Users\\*********\\Desktop\\***********.apk&quot;);\nUri url = new Uri(&quot;http://127.0.0.1:4723/wd/hub&quot;);\ndriver = new AndroidDriver&lt;AndroidElement&gt;(url, options);\ndriver.Manage().Timeouts().ImplicitWait = TimeSpan.FromSeconds(10);\n// Some example selectors\nList&lt;AndroidElement&gt; elements = driver.FindElementsByClassName(&quot;android.widget.EditText&quot;).ToList();\nforeach (AndroidElement element in elements)\n{\n       element.Clear();\n       element.SendKeys(&quot;Testing Successful&quot;);\n}\n</code></pre>\n<p>I can install the .apk file by just dragging it onto the emulator. I can delete files from the emulator using the adb shell once appium is running. When I run the above code I get the error:</p>\n<pre><code>OpenQA.Selenium.WebDriverException: 'An unknown server-side error occurred while processing the command. Original error: Appium Settings app is not running after 5000ms'\n</code></pre>\n<p>However I can physically see Appium Settings app opening for a second before closing on the emulator when the above code gets run, and then the error gets thrown. I have tried deleting the io.appium.settings using the adb shell and rerunning the code with no avail (It does seem to reinstall io.appium.settings again properly). Weirdly enough io.appium.uiautomator2.server never gets installed on the emulator (not sure if it should be?). My log for the appium server is as follows:</p>\n<pre><code>[HTTP] Waiting until the server is closed\n[HTTP] Received server close event\n[Appium] Welcome to Appium v1.19.1\n[Appium] Non-default server args:\n[Appium]   relaxedSecurityEnabled: true\n[Appium]   allowInsecure: {\n[Appium]   }\n[Appium]   denyInsecure: {\n[Appium]   }\n[Appium] Appium REST http interface listener started on 0.0.0.0:4723\n[HTTP] --&gt; POST /wd/hub/session\n[HTTP] {&quot;desiredCapabilities&quot;:{&quot;automationName&quot;:&quot;UiAutomator2&quot;,&quot;platformVersion&quot;:&quot;10&quot;,&quot;deviceName&quot;:&quot;Pixel_3a_API_30_x86_v10&quot;,&quot;app&quot;:&quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********&quot;,&quot;platformName&quot;:&quot;Android&quot;},&quot;capabilities&quot;:{&quot;firstMatch&quot;:[{&quot;platformName&quot;:&quot;Android&quot;}]}}\n[W3C] Calling AppiumDriver.createSession() with args: [{&quot;automationName&quot;:&quot;UiAutomator2&quot;,&quot;platformVersion&quot;:&quot;10&quot;,&quot;deviceName&quot;:&quot;Pixel_3a_API_30_x86_v10&quot;,&quot;app&quot;:&quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********.apk&quot;,&quot;platformName&quot;:&quot;Android&quot;},null,{&quot;firstMatch&quot;:[{&quot;platformName&quot;:&quot;Android&quot;}]}]\n[BaseDriver] Event 'newSessionRequested' logged at 1611198627724 (16:10:27 GMT+1300 (New Zealand Daylight Time))\n[Appium] The following capabilities were provided in the JSONWP desired capabilities that are missing in W3C capabilities: [&quot;automationName&quot;,&quot;platformVersion&quot;,&quot;deviceName&quot;,&quot;app&quot;]\n[Appium] Trying to fix W3C capabilities by merging them with JSONWP caps\n[BaseDriver] The following capabilities are not standard capabilities and should have an extension prefix:\n[BaseDriver]   automationName\n[BaseDriver]   platformVersion\n[BaseDriver]   deviceName\n[BaseDriver]   app\n[Appium] Appium v1.19.1 creating new AndroidUiautomator2Driver (v1.59.0) session\n[Appium] Applying relaxed security to 'AndroidUiautomator2Driver' as per server command line argument. All insecure features will be enabled unless explicitly disabled by --deny-insecure\n[BaseDriver] W3C capabilities and MJSONWP desired capabilities were provided\n[BaseDriver] Creating session with W3C capabilities: {\n[BaseDriver]   &quot;alwaysMatch&quot;: {\n[BaseDriver]     &quot;appium:automationName&quot;: &quot;UiAutomator2&quot;,\n[BaseDriver]     &quot;appium:platformVersion&quot;: &quot;10&quot;,\n[BaseDriver]     &quot;appium:deviceName&quot;: &quot;Pixel_3a_API_30_x86_v10&quot;,\n[BaseDriver]     &quot;appium:app&quot;: &quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********.apk&quot;,\n[BaseDriver]     &quot;platformName&quot;: &quot;Android&quot;\n[BaseDriver]   },\n[BaseDriver]   &quot;firstMatch&quot;: [\n[BaseDriver]     {}\n[BaseDriver]   ]\n[BaseDriver] }\n[BaseDriver] Session created with session id: b9c4d8f7-fa3c-48f9-91b3-3d4ef4080f9c\n[BaseDriver] Using local app 'C:\\Users\\*********\\Desktop\\*********.apk'\n[UiAutomator2] Checking whether app is actually present\n[ADB] Using 'adb.exe' from 'C:\\Android\\adb.exe'\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 start-server'\n[AndroidDriver] Retrieving device list\n[ADB] Trying to find a connected android device\n[ADB] Getting connected devices\n[ADB] Connected devices: [{&quot;udid&quot;:&quot;emulator-5554&quot;,&quot;state&quot;:&quot;device&quot;}]\n[AndroidDriver] Looking for a device with Android '10.0.0'\n[ADB] Setting device id to emulator-5554\n[ADB] Getting device platform version\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.release'\n[ADB] Current device property 'ro.build.version.release': 10\n[AndroidDriver] Using device: emulator-5554\n[ADB] Using 'adb.exe' from 'C:\\Android\\adb.exe'\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 start-server'\n[ADB] Setting device id to emulator-5554\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk'\n[ADB] Current device property 'ro.build.version.sdk': 29\n[ADB] Getting device platform version\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.release'\n[ADB] Current device property 'ro.build.version.release': 10\n[ADB] Device API level: 29\n[UiAutomator2] Relaxing hidden api policy\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell 'settings put global hidden_api_policy_pre_p_apps 1;settings put global hidden_api_policy_p_apps 1;settings put global hidden_api_policy 1''\n[AndroidDriver] Parsing package and activity from app manifest\n[ADB] Package name: '*********'\n[ADB] Main activity name: 'crc64fb453ee64b5fe1ef.MainActivity'\n[AndroidDriver] Parsed package and activity are: *********/crc64fb453ee64b5fe1ef.MainActivity\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 wait-for-device'\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell echo ping'\n[AndroidDriver] Pushing settings apk to device...\n[ADB] Getting install status for io.appium.settings\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings'\n[ADB] 'io.appium.settings' is installed\n[ADB] Getting package info for 'io.appium.settings'\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings'\n[ADB] The version name of the installed 'io.appium.settings' is greater or equal to the application version name ('3.2.1' &gt;= '3.2.1')\n[ADB] There is no need to install/upgrade 'C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\io.appium.settings\\apks\\settings_apk-debug.apk'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell 'pgrep --help; echo $?''\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Starting Appium Settings app\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell am start -n io.appium.settings/.Settings -a android.intent.action.MAIN -c android.intent.category.LAUNCHER'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[AndroidDriver] Error: Appium Settings app is not running after 5000ms\n[AndroidDriver]     at ADB.requireRunningSettingsApp (C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\settings-client-commands.js:70:11)\n[UiAutomator2] Deleting UiAutomator2 session\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell am force-stop *********'\n[UiAutomator2] Restoring hidden api policy to the device default configuration\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell 'settings delete global hidden_api_policy_pre_p_apps;settings delete global hidden_api_policy_p_apps;settings delete global hidden_api_policy''\n[BaseDriver] Event 'newSessionStarted' logged at 1611198633596 (16:10:33 GMT+1300 (New Zealand Daylight Time))\n[W3C] Encountered internal error running command: Error: Appium Settings app is not running after 5000ms\n[W3C]     at ADB.requireRunningSettingsApp (C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\settings-client-commands.js:70:11)\n[W3C] Destroying socket connection\n[HTTP] &lt;-- POST /wd/hub/session 500 5874 ms - 659\n[HTTP]\n</code></pre>\n<p>Furthermore, running the command <code>pgrep -f io\\\\.appium\\\\.settings</code> in the adb shell returns the number <code>4281</code></p>\n<p>PS. I replaced the user and the application name with *********, these are however all correct in the original log and commands</p>\n"},{"tags":["java","arrays","indexing"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1677240569,"post_id":75555768,"comment_id":133303449,"body_markdown":"I assume that `days` is your array since you use its length for the loop condition.  You never access it outside of that loop condition.  I have no idea what you are trying to do. There is an array - array of what?  trying to get best series - what is a series in this context?  highest quantity of steps - what are steps in this context?  bigger than standard value - what is a standard value in this context?","body":"I assume that <code>days</code> is your array since you use its length for the loop condition.  You never access it outside of that loop condition.  I have no idea what you are trying to do. There is an array - array of what?  trying to get best series - what is a series in this context?  highest quantity of steps - what are steps in this context?  bigger than standard value - what is a standard value in this context?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1677242650,"post_id":75555768,"comment_id":133304058,"body_markdown":"Perhaps [edit] your question and post a [mcve]. Post code that creates and populates the `days` array. Then post code that calls method `bestSeries`. Then post the expected value for `finalSeries` for the sample value of `goalByStepsPerDay`.","body":"Perhaps <a href=\"https://stackoverflow.com/posts/75555768/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Post code that creates and populates the <code>days</code> array. Then post code that calls method <code>bestSeries</code>. Then post the expected value for <code>finalSeries</code> for the sample value of <code>goalByStepsPerDay</code>."}],"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677237930,"creation_date":1677236652,"question_id":75555768,"body_markdown":"There is an array I&#39;ve got and I&#39;m trying to get best Serie from it (some highest quantity of steps that are bigger than the standart value)\r\n\r\nI tried this code, but it doesn&#39;t work properly. It just shows me days in the month I chose\r\n```\r\n    void bestSeries(int goalByStepsPerDay) {\r\n        int currentSeries = 0;\r\n        int finalSeries = 0;\r\n        for (int i = 0; i &lt; days.length; i++) {\r\n            if (goalByStepsPerDay &gt;= i) {\r\n                if (currentSeries++ &gt; finalSeries) {\r\n                    finalSeries = currentSeries;\r\n                }\r\n                } else {\r\n                    currentSeries = 0;\r\n                }\r\n            }\r\n        System.out.println(&quot;Best Series are:&quot;);\r\n        System.out.println(finalSeries);\r\n    }\r\n```\r\n","title":"Get best Serie from an Array using for","body":"<p>There is an array I've got and I'm trying to get best Serie from it (some highest quantity of steps that are bigger than the standart value)</p>\n<p>I tried this code, but it doesn't work properly. It just shows me days in the month I chose</p>\n<pre><code>    void bestSeries(int goalByStepsPerDay) {\n        int currentSeries = 0;\n        int finalSeries = 0;\n        for (int i = 0; i &lt; days.length; i++) {\n            if (goalByStepsPerDay &gt;= i) {\n                if (currentSeries++ &gt; finalSeries) {\n                    finalSeries = currentSeries;\n                }\n                } else {\n                    currentSeries = 0;\n                }\n            }\n        System.out.println(&quot;Best Series are:&quot;);\n        System.out.println(finalSeries);\n    }\n</code></pre>\n"},{"tags":["java","urlconnection"],"comments":[{"owner":{"account_id":29016,"reputation":5672,"user_id":78054,"accept_rate":93,"display_name":"n00b"},"score":0,"creation_date":1299662094,"post_id":5243505,"comment_id":5902544,"body_markdown":"how are you reading it ? i dont think thats the response :O","body":"how are you reading it ? i dont think thats the response :O"},{"owner":{"account_id":77615,"reputation":9083,"user_id":221397,"accept_rate":79,"display_name":"madd0"},"score":2,"creation_date":1299662951,"post_id":5243505,"comment_id":5902714,"body_markdown":"you need to provide more detail: what technology are you using to access the URL and retrieve the server&#39;s response? what kind of reply are you expecting from the server?","body":"you need to provide more detail: what technology are you using to access the URL and retrieve the server&#39;s response? what kind of reply are you expecting from the server?"},{"owner":{"account_id":183096,"reputation":1351,"user_id":418271,"accept_rate":35,"display_name":"AutoMEta"},"score":0,"creation_date":1299663505,"post_id":5243505,"comment_id":5902842,"body_markdown":"@madd0 BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream())); String line; while ((line = reader.readLine()) != null) { response=response+line; } This is how i am reading a response","body":"@madd0 BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream())); String line; while ((line = reader.readLine()) != null) { response=response+line; } This is how i am reading a response"},{"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"score":1,"creation_date":1299932375,"post_id":5243505,"comment_id":5952910,"body_markdown":"As an extra hint, I would like to suggest not doing string concatenation is a loop. This can be highly inefficient for non trivial input sizes.","body":"As an extra hint, I would like to suggest not doing string concatenation is a loop. This can be highly inefficient for non trivial input sizes."}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299932344,"creation_date":1299932344,"answer_id":5282431,"question_id":5243505,"body_markdown":"You mention that the MIME type of the output data is `application/x-protobuffer`.  In that case, the output you&#39;re getting is probably a &lt;a href=&quot;http://code.google.com/apis/protocolbuffers/&quot;&gt;protocol buffer&lt;/a&gt;.  Protocol buffers are a binary format, and the response you&#39;ve got looks like garbage because you attempted to decode binary data as if it were text.\r\n\r\nYou may need to use Google&#39;s &lt;a href=&quot;http://code.google.com/apis/protocolbuffers/&quot;&gt;Protocol Buffers&lt;/a&gt; code to read this data.","title":"Response from a URL","body":"<p>You mention that the MIME type of the output data is <code>application/x-protobuffer</code>.  In that case, the output you're getting is probably a <a href=\"http://code.google.com/apis/protocolbuffers/\" rel=\"nofollow\">protocol buffer</a>.  Protocol buffers are a binary format, and the response you've got looks like garbage because you attempted to decode binary data as if it were text.</p>\n\n<p>You may need to use Google's <a href=\"http://code.google.com/apis/protocolbuffers/\" rel=\"nofollow\">Protocol Buffers</a> code to read this data.</p>\n"}],"owner":{"account_id":183096,"reputation":1351,"user_id":418271,"accept_rate":35,"display_name":"AutoMEta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1677237772,"creation_date":1299661950,"question_id":5243505,"body_markdown":"I am getting a response from a URL and I am printing on the console.\r\n\r\nThe response is `&#232;&#244;;\tfRE&#239;p\\&#244;&#173;`.\r\n\r\nCan anyone tell me how to read this response?\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n       response = response + line;\r\n    }\r\n\r\n\r\nThis is how I am reading a response \r\nand the output of ``System.out.println(conn.getContentType());``\r\nis application/x-protobuffer\r\n","title":"Response from a URL","body":"<p>I am getting a response from a URL and I am printing on the console.</p>\n<p>The response is <code>;   fREp\\</code>.</p>\n<p>Can anyone tell me how to read this response?</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\nString line;\nwhile ((line = reader.readLine()) != null) {\n   response = response + line;\n}\n</code></pre>\n<p>This is how I am reading a response\nand the output of <code>System.out.println(conn.getContentType());</code>\nis application/x-protobuffer</p>\n"},{"tags":["java","reflection","dynamic-loading"],"comments":[{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1589109915,"post_id":2946338,"comment_id":109156884,"body_markdown":"You can do it but you need to use JDK, not JRE . https://medium.com/@davutgrbz/the-need-history-c91c9d38ec9","body":"You can do it but you need to use JDK, not JRE . <a href=\"https://medium.com/@davutgrbz/the-need-history-c91c9d38ec9\" rel=\"nofollow noreferrer\">medium.com/@davutgrbz/the-need-history-c91c9d38ec9</a>"}],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1275347013,"creation_date":1275347013,"answer_id":2946374,"question_id":2946338,"body_markdown":"Your commented code is correct if you know that the class has a public no-arg constructor. You just have to cast the result, as the compiler can&#39;t know that the class will in fact implement `IDynamicLoad`. So:\r\n\r\n       IDynamicLoad newClass = (IDynamicLoad) Class.forName(class_name).newInstance();\r\n\r\nOf course the class has to be compiled and on the classpath for that to work.\r\n\r\nIf you are looking to dynamically compile a class from source code, that is a whole other kettle of fish.","title":"How do I programmatically compile and instantiate a Java class?","body":"<p>Your commented code is correct if you know that the class has a public no-arg constructor. You just have to cast the result, as the compiler can't know that the class will in fact implement <code>IDynamicLoad</code>. So:</p>\n\n<pre><code>   IDynamicLoad newClass = (IDynamicLoad) Class.forName(class_name).newInstance();\n</code></pre>\n\n<p>Of course the class has to be compiled and on the classpath for that to work.</p>\n\n<p>If you are looking to dynamically compile a class from source code, that is a whole other kettle of fish.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":157,"is_accepted":true,"score":157,"last_activity_date":1677237629,"creation_date":1275347463,"answer_id":2946402,"question_id":2946338,"body_markdown":"&gt; *How do I load a Java Class that is not compiled?*\r\n\r\nYou need to compile it first. This can be done programmatically with the [`javax.tools` API][1]. This only requires the [JDK][2] being installed at the local machine on top of JRE. \r\n\r\nHere&#39;s a basic kickoff example (leaving obvious exception handling aside):\r\n\r\n    // Prepare source somehow.\r\n    String source = &quot;package test; public class Test { static { System.out.println(\\&quot;hello\\&quot;); } public Test() { System.out.println(\\&quot;world\\&quot;); } }&quot;;\r\n\r\n    // Save source in .java file.\r\n    File root = Files.createTempDirectory(&quot;java&quot;).toFile();\r\n    File sourceFile = new File(root, &quot;test/Test.java&quot;);\r\n    sourceFile.getParentFile().mkdirs();\r\n    Files.write(sourceFile.toPath(), source.getBytes(StandardCharsets.UTF_8));\r\n\r\n    // Compile source file.\r\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    compiler.run(null, null, null, sourceFile.getPath());\r\n\r\n    // Load and instantiate compiled class.\r\n    URLClassLoader classLoader = URLClassLoader.newInstance(new URL[] { root.toURI().toURL() });\r\n    Class&lt;?&gt; cls = Class.forName(&quot;test.Test&quot;, true, classLoader); // Should print &quot;hello&quot;.\r\n    Object instance = cls.getDeclaredConstructor().newInstance(); // Should print &quot;world&quot;.\r\n    System.out.println(instance); // Should print &quot;test.Test@hashcode&quot;.\r\n\r\nWhich yields like\r\n\r\n    hello\r\n    world\r\n    test.Test@cafebabe\r\n\r\nFurther use would be more easy if those classes `implements` a certain interface which is already in the classpath. \r\n\r\n    SomeInterface instance = (SomeInterface) cls.getDeclaredConstructor().newInstance();\r\n\r\nOtherwise you need to involve the [Reflection API][3] to access and invoke the (unknown) methods/fields.\r\n\r\n---\r\n\r\nThat said and unrelated to the actual problem:\r\n\r\n    properties.load(new FileInputStream(new File(&quot;ClassName.properties&quot;)));\r\n\r\nLetting `java.io.File` rely on current working directory is recipe for portability trouble. Don&#39;t do that. Put that file in classpath and use [`ClassLoader#getResourceAsStream()`][4]  with a classpath-relative path. \r\n\r\n    properties.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;ClassName.properties&quot;));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.compiler/javax/tools/package-summary.html\r\n  [2]: https://www.oracle.com/java/technologies/downloads/\r\n  [3]: https://docs.oracle.com/javase/tutorial/reflect/\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)","title":"How do I programmatically compile and instantiate a Java class?","body":"<blockquote>\n<p><em>How do I load a Java Class that is not compiled?</em></p>\n</blockquote>\n<p>You need to compile it first. This can be done programmatically with the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.compiler/javax/tools/package-summary.html\" rel=\"noreferrer\"><code>javax.tools</code> API</a>. This only requires the <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"noreferrer\">JDK</a> being installed at the local machine on top of JRE.</p>\n<p>Here's a basic kickoff example (leaving obvious exception handling aside):</p>\n<pre><code>// Prepare source somehow.\nString source = &quot;package test; public class Test { static { System.out.println(\\&quot;hello\\&quot;); } public Test() { System.out.println(\\&quot;world\\&quot;); } }&quot;;\n\n// Save source in .java file.\nFile root = Files.createTempDirectory(&quot;java&quot;).toFile();\nFile sourceFile = new File(root, &quot;test/Test.java&quot;);\nsourceFile.getParentFile().mkdirs();\nFiles.write(sourceFile.toPath(), source.getBytes(StandardCharsets.UTF_8));\n\n// Compile source file.\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\ncompiler.run(null, null, null, sourceFile.getPath());\n\n// Load and instantiate compiled class.\nURLClassLoader classLoader = URLClassLoader.newInstance(new URL[] { root.toURI().toURL() });\nClass&lt;?&gt; cls = Class.forName(&quot;test.Test&quot;, true, classLoader); // Should print &quot;hello&quot;.\nObject instance = cls.getDeclaredConstructor().newInstance(); // Should print &quot;world&quot;.\nSystem.out.println(instance); // Should print &quot;test.Test@hashcode&quot;.\n</code></pre>\n<p>Which yields like</p>\n<pre><code>hello\nworld\ntest.Test@cafebabe\n</code></pre>\n<p>Further use would be more easy if those classes <code>implements</code> a certain interface which is already in the classpath.</p>\n<pre><code>SomeInterface instance = (SomeInterface) cls.getDeclaredConstructor().newInstance();\n</code></pre>\n<p>Otherwise you need to involve the <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">Reflection API</a> to access and invoke the (unknown) methods/fields.</p>\n<hr />\n<p>That said and unrelated to the actual problem:</p>\n<pre><code>properties.load(new FileInputStream(new File(&quot;ClassName.properties&quot;)));\n</code></pre>\n<p>Letting <code>java.io.File</code> rely on current working directory is recipe for portability trouble. Don't do that. Put that file in classpath and use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\" rel=\"noreferrer\"><code>ClassLoader#getResourceAsStream()</code></a>  with a classpath-relative path.</p>\n<pre><code>properties.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;ClassName.properties&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343252,"reputation":1265,"user_id":674855,"display_name":"Sriram Srinivasan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1317957257,"creation_date":1317957257,"answer_id":7682692,"question_id":2946338,"body_markdown":"In the same vein as BalusC&#39;s answer, but a bit more automatic wrapper is here in this piece of code from my kilim distribution.\r\n[https://github.com/kilim/kilim/blob/master/src/kilim/tools/Javac.java][1]\r\n\r\nIt takes a list of strings containing Java source, extracts the package and public class/interface names and creates the corresponding directory/file hierarchy in a tmp directory. It then runs the java compiler on it, and returns a list of name,classfile pairs (the ClassInfo structure). \r\n\r\nHelp yourself to the code. It is MIT licensed.\r\n\r\n  [1]: https://github.com/kilim/kilim/blob/master/src/kilim/tools/Javac.java","title":"How do I programmatically compile and instantiate a Java class?","body":"<p>In the same vein as BalusC's answer, but a bit more automatic wrapper is here in this piece of code from my kilim distribution.\n<a href=\"https://github.com/kilim/kilim/blob/master/src/kilim/tools/Javac.java\" rel=\"noreferrer\">https://github.com/kilim/kilim/blob/master/src/kilim/tools/Javac.java</a></p>\n\n<p>It takes a list of strings containing Java source, extracts the package and public class/interface names and creates the corresponding directory/file hierarchy in a tmp directory. It then runs the java compiler on it, and returns a list of name,classfile pairs (the ClassInfo structure). </p>\n\n<p>Help yourself to the code. It is MIT licensed.</p>\n"}],"owner":{"account_id":30252,"reputation":52431,"user_id":82368,"accept_rate":71,"display_name":"unj2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68449,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":2946402,"answer_count":3,"score":78,"last_activity_date":1677237629,"creation_date":1275346391,"question_id":2946338,"body_markdown":"I have the class name stored in a property file. I know that the classes store will implement IDynamicLoad. How do I instantiate the class dynamically?\r\n\r\nRight now I have\r\n\r\n         Properties foo = new Properties();\r\n        foo.load(new FileInputStream(new File(&quot;ClassName.properties&quot;)));\r\n        String class_name = foo.getProperty(&quot;class&quot;,&quot;DefaultClass&quot;);\r\n        //IDynamicLoad newClass = Class.forName(class_name).newInstance();\r\n\r\n\r\nDoes the newInstance only load compiled .class files? How do I load a Java Class that is not compiled?","title":"How do I programmatically compile and instantiate a Java class?","body":"<p>I have the class name stored in a property file. I know that the classes store will implement IDynamicLoad. How do I instantiate the class dynamically?</p>\n\n<p>Right now I have</p>\n\n<pre><code>     Properties foo = new Properties();\n    foo.load(new FileInputStream(new File(\"ClassName.properties\")));\n    String class_name = foo.getProperty(\"class\",\"DefaultClass\");\n    //IDynamicLoad newClass = Class.forName(class_name).newInstance();\n</code></pre>\n\n<p>Does the newInstance only load compiled .class files? How do I load a Java Class that is not compiled?</p>\n"},{"tags":["java","spring-boot","hibernate","multi-tenant"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1677238843,"post_id":75555939,"comment_id":133302992,"body_markdown":"You should re-test with a build of Hibernate from current git main branch. If it doesn&#39;t work, comment on this issue https://hibernate.atlassian.net/browse/HHH-16167","body":"You should re-test with a build of Hibernate from current git main branch. If it doesn&#39;t work, comment on this issue <a href=\"https://hibernate.atlassian.net/browse/HHH-16167\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-16167</a>"}],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677237609,"creation_date":1677237609,"question_id":75555939,"body_markdown":"I have a composite key for my class which includes TenantId. Upon starting the application I get an exception:\r\n\r\nCaused by: org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\r\n\r\n```\r\n&lt;hibernate.version&gt;6.1.7.Final&lt;/hibernate.version&gt;\r\n```\r\n\r\n```\r\n@Entity\r\n@IdClass(NodeId.class)\r\npublic class Node {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private long id;\r\n\r\n    @TenantId\r\n    @Id\r\n    @Column(name = &quot;tenant_id&quot;)\r\n    private String tenantId;\r\n\r\n// other code removed for brevity.\r\n\r\n```\r\n```\r\n@Getter\r\n@Setter\r\npublic class NodeId implements Serializable {\r\n    private long id;\r\n    private String tenantId;\r\n\r\n    private NodeId() {\r\n    }\r\n\r\n    public NodeId(long id, String tenantId) {\r\n        this.id = id;\r\n        this.tenantId = tenantId;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof NodeId)) return false;\r\n        NodeId that = (NodeId) o;\r\n        return Objects.equals(getId(), that.getId()) &amp;&amp;\r\n            Objects.equals(getTenantId(), that.getTenantId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId(), getTenantId());\r\n    }\r\n}\r\n\r\n```\r\n```\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ddc817f testClass = org.inventory.TagGrpcItTest, locations = [], classes = [org.inventory.InventoryApplication], contextInitializerClasses = [org.inventory.SpringContextTestInitializer], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a7288a3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@68b6f0d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@afd9cfa1, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@65b3a85a, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72cf2de5, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@df521845, org.springframework.boot.test.context.SpringBootTestAnnotation@1e62ce95], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n\t... 72 more\r\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n\t... 93 more\r\nCaused by: org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\r\n\tat org.hibernate.tuple.entity.EntityMetamodel$CompositeGenerationStrategyPairBuilder.buildPair(EntityMetamodel.java:601)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.buildGenerationStrategyPair(EntityMetamodel.java:460)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:296)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:728)\r\n\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:152)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:92)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:75)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.processBootEntities(MappingMetamodelImpl.java:278)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:211)\r\n\tat org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 97 more\r\n```\r\n\r\nThere is a very similar question here: https://stackoverflow.com/questions/75232660/hibernate-tenantid-annotation-doesnt-work-with-embedded-class\r\n(This is different though, as it uses Embedded class)\r\n\r\nI read elsewhere that GeneratedValue cannot work with an Embedded key, and that I must use IdClass. Also, commenting out @TenantId moves past my error.","title":"Hibernate not working for @TenantId, and @IdClass","body":"<p>I have a composite key for my class which includes TenantId. Upon starting the application I get an exception:</p>\n<p>Caused by: org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation</p>\n<pre><code>&lt;hibernate.version&gt;6.1.7.Final&lt;/hibernate.version&gt;\n</code></pre>\n<pre><code>@Entity\n@IdClass(NodeId.class)\npublic class Node {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n\n    @TenantId\n    @Id\n    @Column(name = &quot;tenant_id&quot;)\n    private String tenantId;\n\n// other code removed for brevity.\n\n</code></pre>\n<pre><code>@Getter\n@Setter\npublic class NodeId implements Serializable {\n    private long id;\n    private String tenantId;\n\n    private NodeId() {\n    }\n\n    public NodeId(long id, String tenantId) {\n        this.id = id;\n        this.tenantId = tenantId;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof NodeId)) return false;\n        NodeId that = (NodeId) o;\n        return Objects.equals(getId(), that.getId()) &amp;&amp;\n            Objects.equals(getTenantId(), that.getTenantId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId(), getTenantId());\n    }\n}\n\n</code></pre>\n<pre><code>\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ddc817f testClass = org.inventory.TagGrpcItTest, locations = [], classes = [org.inventory.InventoryApplication], contextInitializerClasses = [org.inventory.SpringContextTestInitializer], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a7288a3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@68b6f0d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@afd9cfa1, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@65b3a85a, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72cf2de5, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@df521845, org.springframework.boot.test.context.SpringBootTestAnnotation@1e62ce95], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    ... 72 more\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n    ... 93 more\nCaused by: org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\n    at org.hibernate.tuple.entity.EntityMetamodel$CompositeGenerationStrategyPairBuilder.buildPair(EntityMetamodel.java:601)\n    at org.hibernate.tuple.entity.EntityMetamodel.buildGenerationStrategyPair(EntityMetamodel.java:460)\n    at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:296)\n    at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:728)\n    at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:152)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:92)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:75)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.processBootEntities(MappingMetamodelImpl.java:278)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:211)\n    at org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 97 more\n</code></pre>\n<p>There is a very similar question here: <a href=\"https://stackoverflow.com/questions/75232660/hibernate-tenantid-annotation-doesnt-work-with-embedded-class\">Hibernate @TenantId annotation doesn&#39;t work with @Embedded class</a>\n(This is different though, as it uses Embedded class)</p>\n<p>I read elsewhere that GeneratedValue cannot work with an Embedded key, and that I must use IdClass. Also, commenting out @TenantId moves past my error.</p>\n"},{"tags":["java","unit-testing","concurrency","spock"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1677131775,"post_id":75539518,"comment_id":133278231,"body_markdown":"I think you will need a constructor that lets you _inject_ a ScheduledExecutorService. Then your unit test can inject a _mock_ that lets the test verify that `refresh` calls the right methods in the right order, etc.","body":"I think you will need a constructor that lets you <i>inject</i> a ScheduledExecutorService. Then your unit test can inject a <i>mock</i> that lets the test verify that <code>refresh</code> calls the right methods in the right order, etc."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677225692,"post_id":75539518,"comment_id":133299463,"body_markdown":"Actually, I support the idea of making dependencies injectable when they are needed for testing. In this case, it would however be possible to inject a supplier counting calls. That is a workaround, but Solomon&#39;s suggestion is fine, too.","body":"Actually, I support the idea of making dependencies injectable when they are needed for testing. In this case, it would however be possible to inject a supplier counting calls. That is a workaround, but Solomon&#39;s suggestion is fine, too."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677237035,"creation_date":1677225905,"answer_id":75553982,"question_id":75539518,"body_markdown":"You can inject supplier which not only returns a string but also counts how often it was actually called. Make sure the test calls `refresh` multiple times within the 500 ms window, then make the test wait for more than 500 ms, say 700 ms. Finally, check that the supplier was called only a single time. That indirectly proves that all but one scheduled calls have actually been executed.\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q75539518\r\n\r\nimport spock.lang.Specification\r\n\r\nclass RefresherTest extends Specification {\r\n  def &quot;quick subsequent refresh calls are cancelled except for the last one&quot;() {\r\n    given:\r\n    def refresher = new Refresher()\r\n    int countCalled = 0\r\n    def supplier = {\r\n      countCalled++\r\n      &quot;supplied value&quot;\r\n    }\r\n\r\n    when:\r\n    refresher.refresh supplier\r\n    refresher.refresh supplier\r\n    refresher.refresh supplier\r\n    sleep 700\r\n\r\n    then:\r\n    countCalled == 1\r\n\r\n    cleanup:\r\n    refresher.shutdown()\r\n  }\r\n\r\n  def &quot;slow subsequent refresh calls are executed one by one&quot;() {\r\n    given:\r\n    def refresher = new Refresher()\r\n    int countCalled = 0\r\n    def supplier = {\r\n      countCalled++\r\n      &quot;supplied value&quot;\r\n    }\r\n\r\n    when:\r\n    refresher.refresh supplier\r\n    sleep 700\r\n    refresher.refresh supplier\r\n    sleep 700\r\n    refresher.refresh supplier\r\n    sleep 700\r\n\r\n    then:\r\n    countCalled == 3\r\n\r\n    cleanup:\r\n    refresher.shutdown()\r\n  }\r\n}\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_3_0&amp;codez=eJzdVE1vEzEQve-vGHLaqMVNVUWFpCmHUqRKBSQ2nJHjnc2aOPbGH5sW1P-O411vmlACCLiQS1aeN_PezBu7omxB5wg5EsO0W35aUmNRE2N9QNWoC6HWZHU-HJ69HJ6-SBK-rJS2YCrFFkRQOSdZhYwXnFHLlUwSJqgx8AELjaZEPUVjAe8sytzADhS-JuB5C-itHGcLMG5mcOVQWtBNNjAqhAGq0X9JhkJg7msxrCwUSoMtETybBSWxl_ZDQYA5r1GOwuemuo5KYAIS11tlaT9guOdjykl7RUP9CQy6XOOqSvCQ2tSGx9Cjo_as1-JyqKlw2AvHD0n4W5dRTCeExPZi-b8QNgKxgvPBoGG1HetOaxM4beJMIJWu2hdmSmdztZZhNKGB4I_xO3DYHrxD5qyn8E7A7P6_MGQ70n8HPmzW2e-Y5ds7OYHnf_DrLvdnWlPiLBeEKcmc1t50ch0sVtqMD8IyVmLufAMRn6GuOcNfzHrjrNM_AU_5Ej9Kbp9AFU6yzdtCsnbe4ySp3ExwBnvvUtifSvOaWoSCSyrgR9Lb7VabreumQPzqZlzOBU5LjTT_Ljntjx8x7DV48eoSzO7R5jY4IcYbz1vJteJ5NDyNHV1kVnvey26l4jUz95KVWkn-xW9Paktu-t0l4QWk-3zPGsJ-C4F9QaR5c1OrHYZensB40XE4JIbSKGw0mqM9huFgcAzRM_L25vb2Jru-ev_uddZWfYiPzeO2t9vdNrHl6SLjdvG_AeOAMVs).\r\n\r\n---\r\n\r\n**Update:** Added a second feature method for the opposite test case.","title":"How to unit test code with ScheduledExecutorService and ScheduledFuture","body":"<p>You can inject supplier which not only returns a string but also counts how often it was actually called. Make sure the test calls <code>refresh</code> multiple times within the 500 ms window, then make the test wait for more than 500 ms, say 700 ms. Finally, check that the supplier was called only a single time. That indirectly proves that all but one scheduled calls have actually been executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q75539518\n\nimport spock.lang.Specification\n\nclass RefresherTest extends Specification {\n  def &quot;quick subsequent refresh calls are cancelled except for the last one&quot;() {\n    given:\n    def refresher = new Refresher()\n    int countCalled = 0\n    def supplier = {\n      countCalled++\n      &quot;supplied value&quot;\n    }\n\n    when:\n    refresher.refresh supplier\n    refresher.refresh supplier\n    refresher.refresh supplier\n    sleep 700\n\n    then:\n    countCalled == 1\n\n    cleanup:\n    refresher.shutdown()\n  }\n\n  def &quot;slow subsequent refresh calls are executed one by one&quot;() {\n    given:\n    def refresher = new Refresher()\n    int countCalled = 0\n    def supplier = {\n      countCalled++\n      &quot;supplied value&quot;\n    }\n\n    when:\n    refresher.refresh supplier\n    sleep 700\n    refresher.refresh supplier\n    sleep 700\n    refresher.refresh supplier\n    sleep 700\n\n    then:\n    countCalled == 3\n\n    cleanup:\n    refresher.shutdown()\n  }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_3_0&amp;codez=eJzdVE1vEzEQve-vGHLaqMVNVUWFpCmHUqRKBSQ2nJHjnc2aOPbGH5sW1P-O411vmlACCLiQS1aeN_PezBu7omxB5wg5EsO0W35aUmNRE2N9QNWoC6HWZHU-HJ69HJ6-SBK-rJS2YCrFFkRQOSdZhYwXnFHLlUwSJqgx8AELjaZEPUVjAe8sytzADhS-JuB5C-itHGcLMG5mcOVQWtBNNjAqhAGq0X9JhkJg7msxrCwUSoMtETybBSWxl_ZDQYA5r1GOwuemuo5KYAIS11tlaT9guOdjykl7RUP9CQy6XOOqSvCQ2tSGx9Cjo_as1-JyqKlw2AvHD0n4W5dRTCeExPZi-b8QNgKxgvPBoGG1HetOaxM4beJMIJWu2hdmSmdztZZhNKGB4I_xO3DYHrxD5qyn8E7A7P6_MGQ70n8HPmzW2e-Y5ds7OYHnf_DrLvdnWlPiLBeEKcmc1t50ch0sVtqMD8IyVmLufAMRn6GuOcNfzHrjrNM_AU_5Ej9Kbp9AFU6yzdtCsnbe4ySp3ExwBnvvUtifSvOaWoSCSyrgR9Lb7VabreumQPzqZlzOBU5LjTT_Ljntjx8x7DV48eoSzO7R5jY4IcYbz1vJteJ5NDyNHV1kVnvey26l4jUz95KVWkn-xW9Paktu-t0l4QWk-3zPGsJ-C4F9QaR5c1OrHYZensB40XE4JIbSKGw0mqM9huFgcAzRM_L25vb2Jru-ev_uddZWfYiPzeO2t9vdNrHl6SLjdvG_AeOAMVs\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<hr />\n<p><strong>Update:</strong> Added a second feature method for the opposite test case.</p>\n"}],"owner":{"account_id":1463180,"reputation":571,"user_id":1376887,"accept_rate":29,"display_name":"Paris Karagiannopoulos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677237035,"creation_date":1677112291,"question_id":75539518,"body_markdown":"I have this Java class:\r\n\r\n    public class Refresher {\r\n    \r\n        private final ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n        private ScheduledFuture&lt;?&gt; scheduledFuture = null;\r\n    \r\n        public void refresh(Supplier&lt;String&gt; supplier) {\r\n            synchronized (this) {\r\n                if (scheduledFuture != null) {\r\n                    scheduledFuture.cancel(true);\r\n                }\r\n    \r\n                scheduledFuture = executor.schedule(supplier::get, 500, TimeUnit.MILLISECONDS);\r\n            }\r\n        }\r\n    \r\n        public void shutdown() {\r\n            executor.shutdown();\r\n        }\r\n    }\r\n\r\nI want to create a unit test that tests when subsequent calls of refresh are made, they get cancelled except for the last one that executes.\r\n\r\nI run the code and this is how it behaves in practice but I need to have the unit test and I do not know how to do it.\r\n\r\nMy tests are written in Spock, I experimented with several things but none was successful.\r\n\r\nA testable alternative that achieves the same is also welcome.\r\n\r\nPlease help, thanks in advance","title":"How to unit test code with ScheduledExecutorService and ScheduledFuture","body":"<p>I have this Java class:</p>\n<pre><code>public class Refresher {\n\n    private final ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\n    private ScheduledFuture&lt;?&gt; scheduledFuture = null;\n\n    public void refresh(Supplier&lt;String&gt; supplier) {\n        synchronized (this) {\n            if (scheduledFuture != null) {\n                scheduledFuture.cancel(true);\n            }\n\n            scheduledFuture = executor.schedule(supplier::get, 500, TimeUnit.MILLISECONDS);\n        }\n    }\n\n    public void shutdown() {\n        executor.shutdown();\n    }\n}\n</code></pre>\n<p>I want to create a unit test that tests when subsequent calls of refresh are made, they get cancelled except for the last one that executes.</p>\n<p>I run the code and this is how it behaves in practice but I need to have the unit test and I do not know how to do it.</p>\n<p>My tests are written in Spock, I experimented with several things but none was successful.</p>\n<p>A testable alternative that achieves the same is also welcome.</p>\n<p>Please help, thanks in advance</p>\n"},{"tags":["java","maven","maven-2","nexus","nexus3"],"owner":{"account_id":1583483,"reputation":1043,"user_id":1468328,"accept_rate":33,"display_name":"Ankit Ostwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677236736,"creation_date":1677234865,"question_id":75555480,"body_markdown":"I am able to successfully upload my jar to custom nexus repository. Now when i try to use this jar as dependency in another project, i see its downloaded but not able to import classes from it. As i type the name of class, it gives suggestion but as soon as it auto populates it gives error in red as below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCurrencyExchange entity class which is downloaded, i can see it in maven jars. Attaching screenshot below for reference.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nBelow is my pom.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n                                 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;TestIstio&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.intelliswift&lt;/groupId&gt;\r\n                &lt;artifactId&gt;currency-exchange-service&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;nexus-deployment-repo&lt;/id&gt;\r\n                &lt;url&gt;http://localhost:8081/repository/currency-exchange-release/&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n                &lt;releases&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/releases&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nBelow is my settings.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    \r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.2.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd&quot;&gt;\r\n      \r\n      &lt;proxies&gt;\r\n       \r\n      &lt;/proxies&gt;\r\n    \r\n      &lt;servers&gt;    \r\n    \t&lt;server&gt;\r\n          &lt;id&gt;nexus-deployment-repo&lt;/id&gt;\r\n          &lt;username&gt;admin&lt;/username&gt;\r\n          &lt;password&gt;admin&lt;/password&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    \r\n    \r\n      &lt;mirrors&gt;\r\n       \r\n      &lt;/mirrors&gt;\r\n    \r\n      &lt;profiles&gt;\r\n       \r\n    \t&lt;profile&gt;\r\n    \t&lt;id&gt;currency-exchange-release&lt;/id&gt;\r\n    \t&lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t\t&lt;id&gt;nexus-deployment-repo&lt;/id&gt;\r\n    \t\t&lt;url&gt;http://localhost:8081/repository/currency-exchange-release/&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;/profile&gt;\r\n    \r\n      &lt;/profiles&gt;\r\n    \r\n    &lt;/settings&gt;\r\n\r\nI am new to nexus and not able to understand what am i doing wrong here. Can anyone please help in resolving this error. Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TzNAF.png\r\n  [2]: https://i.stack.imgur.com/WZiou.png\r\n  [3]: https://i.stack.imgur.com/oEcv3.png","title":"Not able to import classes from jar (already downloaded) using custom maven nexus repository","body":"<p>I am able to successfully upload my jar to custom nexus repository. Now when i try to use this jar as dependency in another project, i see its downloaded but not able to import classes from it. As i type the name of class, it gives suggestion but as soon as it auto populates it gives error in red as below.</p>\n<p><a href=\"https://i.stack.imgur.com/TzNAF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TzNAF.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WZiou.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WZiou.png\" alt=\"enter image description here\" /></a></p>\n<p>CurrencyExchange entity class which is downloaded, i can see it in maven jars. Attaching screenshot below for reference.</p>\n<p><a href=\"https://i.stack.imgur.com/oEcv3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oEcv3.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestIstio&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intelliswift&lt;/groupId&gt;\n            &lt;artifactId&gt;currency-exchange-service&lt;/artifactId&gt;\n            &lt;version&gt;1.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;nexus-deployment-repo&lt;/id&gt;\n            &lt;url&gt;http://localhost:8081/repository/currency-exchange-release/&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Below is my settings.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.2.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd&quot;&gt;\n  \n  &lt;proxies&gt;\n   \n  &lt;/proxies&gt;\n\n  &lt;servers&gt;    \n    &lt;server&gt;\n      &lt;id&gt;nexus-deployment-repo&lt;/id&gt;\n      &lt;username&gt;admin&lt;/username&gt;\n      &lt;password&gt;admin&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n\n\n  &lt;mirrors&gt;\n   \n  &lt;/mirrors&gt;\n\n  &lt;profiles&gt;\n   \n    &lt;profile&gt;\n    &lt;id&gt;currency-exchange-release&lt;/id&gt;\n    &lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;nexus-deployment-repo&lt;/id&gt;\n        &lt;url&gt;http://localhost:8081/repository/currency-exchange-release/&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;/profile&gt;\n\n  &lt;/profiles&gt;\n\n&lt;/settings&gt;\n</code></pre>\n<p>I am new to nexus and not able to understand what am i doing wrong here. Can anyone please help in resolving this error. Thank you.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","lucene"],"answers":[{"tags":[],"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Krek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677236733,"creation_date":1677236733,"answer_id":75555781,"question_id":75530999,"body_markdown":"I did find a solution. A solution is to use [nested indexing][1]. \r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-nested","title":"Hibernate lucene search in one OneToMany object only","body":"<p>I did find a solution. A solution is to use <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-nested\" rel=\"nofollow noreferrer\">nested indexing</a>.</p>\n"}],"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Krek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75555781,"answer_count":1,"score":0,"last_activity_date":1677236733,"creation_date":1677059778,"question_id":75530999,"body_markdown":"I have object Document with bidirectional OneToMany mapping to Metadata. I would like to search with Hibernate search with Licene for multiple wildcard queries, but matching only in Documents, where at least one Metadata object in metadataSet.value contains all wildcard queries. In example it should work like this. I have two documents:\r\nDocument1\r\n```\r\n{\r\n&quot;metadataSet&quot;: [\r\n   {&quot;value&quot;: &quot;my value&quot;},\r\n   {&quot;value&quot;: &quot;new value&quot;}\r\n   ]\r\n}\r\n```\r\nDocument2\r\n```\r\n{\r\n&quot;metadataSet&quot;: [\r\n   {&quot;value&quot;: &quot;my&quot;},\r\n   {&quot;value&quot;: &quot;value&quot;}\r\n   ]\r\n}\r\n```\r\nFor keywords &quot;*my*&quot; and &quot;*val*&quot; it should find match only in Document1, because it has at least one metadataSet.value containing both wildcards.\r\n\r\nThe problem is, that now I am matching both documents. Because Document2 has values matching both wildcards. My incorrectly working query is this:\r\n```\r\n// keywords = List.of(&quot;*my*&quot;, &quot;*val*&quot;)\r\nsearchSession.search(Document.class)\r\n  .where(f -&gt; f.bool(b -&gt; {\r\n      for(String keyword : keywords){\r\n         b.should(f.wildcard().field(&quot;metadataSet.value&quot;).matching(keyword));}}));\r\n```\r\n\r\nMy lucene config:\r\n```\r\npublic class LuceneSearchConfiguration implements LuceneAnalysisConfigurer {\r\n  @Override\r\n  public void configure(LuceneAnalysisConfigurationContext context) {\r\n    context.analyzer(&quot;autocomplete_indexing&quot;).custom()\r\n        .tokenizer(WhitespaceTokenizerFactory.class)\r\n        .tokenFilter(LowerCaseFilterFactory.class);\r\n    context.analyzer(&quot;autocomplete_search&quot;).custom()\r\n        .tokenizer(WhitespaceTokenizerFactory.class)\r\n        .tokenFilter(LowerCaseFilterFactory.class);\r\n  }\r\n}\r\n```\r\n\r\nMy objects:\r\n```\r\n@Entity\r\n@Indexed\r\n@Table(name = &quot;documents&quot;)\r\npublic class Document{\r\n\r\n  @IndexedEmbedded\r\n  @OneToMany(mappedBy = &quot;document&quot;)\r\n  private Set&lt;Metadata&gt; metadataSet = new HashSet&lt;&gt;();\r\n...\r\n}\r\n\r\n@Entity\r\n@Indexed\r\n@Table(name = &quot;metadata&quot;)\r\npublic class Metadata{\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;document_id&quot;)\r\n  private Document document;\r\n\r\n  @FullTextField(analyzer = &quot;autocomplete_indexing&quot;, searchAnalyzer = &quot;autocomplete_search&quot;)\r\n  @Column(name = &quot;value&quot;)\r\n  private String value;\r\n...\r\n}\r\n```\r\n\r\n","title":"Hibernate lucene search in one OneToMany object only","body":"<p>I have object Document with bidirectional OneToMany mapping to Metadata. I would like to search with Hibernate search with Licene for multiple wildcard queries, but matching only in Documents, where at least one Metadata object in metadataSet.value contains all wildcard queries. In example it should work like this. I have two documents:\nDocument1</p>\n<pre><code>{\n&quot;metadataSet&quot;: [\n   {&quot;value&quot;: &quot;my value&quot;},\n   {&quot;value&quot;: &quot;new value&quot;}\n   ]\n}\n</code></pre>\n<p>Document2</p>\n<pre><code>{\n&quot;metadataSet&quot;: [\n   {&quot;value&quot;: &quot;my&quot;},\n   {&quot;value&quot;: &quot;value&quot;}\n   ]\n}\n</code></pre>\n<p>For keywords &quot;<em>my</em>&quot; and &quot;<em>val</em>&quot; it should find match only in Document1, because it has at least one metadataSet.value containing both wildcards.</p>\n<p>The problem is, that now I am matching both documents. Because Document2 has values matching both wildcards. My incorrectly working query is this:</p>\n<pre><code>// keywords = List.of(&quot;*my*&quot;, &quot;*val*&quot;)\nsearchSession.search(Document.class)\n  .where(f -&gt; f.bool(b -&gt; {\n      for(String keyword : keywords){\n         b.should(f.wildcard().field(&quot;metadataSet.value&quot;).matching(keyword));}}));\n</code></pre>\n<p>My lucene config:</p>\n<pre><code>public class LuceneSearchConfiguration implements LuceneAnalysisConfigurer {\n  @Override\n  public void configure(LuceneAnalysisConfigurationContext context) {\n    context.analyzer(&quot;autocomplete_indexing&quot;).custom()\n        .tokenizer(WhitespaceTokenizerFactory.class)\n        .tokenFilter(LowerCaseFilterFactory.class);\n    context.analyzer(&quot;autocomplete_search&quot;).custom()\n        .tokenizer(WhitespaceTokenizerFactory.class)\n        .tokenFilter(LowerCaseFilterFactory.class);\n  }\n}\n</code></pre>\n<p>My objects:</p>\n<pre><code>@Entity\n@Indexed\n@Table(name = &quot;documents&quot;)\npublic class Document{\n\n  @IndexedEmbedded\n  @OneToMany(mappedBy = &quot;document&quot;)\n  private Set&lt;Metadata&gt; metadataSet = new HashSet&lt;&gt;();\n...\n}\n\n@Entity\n@Indexed\n@Table(name = &quot;metadata&quot;)\npublic class Metadata{\n\n  @ManyToOne\n  @JoinColumn(name = &quot;document_id&quot;)\n  private Document document;\n\n  @FullTextField(analyzer = &quot;autocomplete_indexing&quot;, searchAnalyzer = &quot;autocomplete_search&quot;)\n  @Column(name = &quot;value&quot;)\n  private String value;\n...\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1011143,"reputation":397,"user_id":1023693,"display_name":"Dai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676858167,"creation_date":1676858167,"answer_id":75504620,"question_id":75500183,"body_markdown":"Try with [multicast][1]\r\n\r\n  [1]: https://camel.apache.org/components/3.20.x/eips/multicast-eip.html\r\n\r\nExample code:\r\n```\r\nfrom(&quot;direct:input&quot;)\r\n    .choice()\r\n        .when(header(&quot;myHeader&quot;).isEqualTo(&quot;duplicate&quot;))\r\n            .to(&quot;direct:duplicate&quot;)\r\n        .end()\r\n    .to(&quot;someOtherEndpoint&quot;);\r\n\r\nfrom(&quot;direct:duplicate&quot;)\r\n    .multicast()\r\n        .to(&quot;direct:output1&quot;)\r\n        .to(&quot;direct:output2&quot;)\r\n    .end();\r\n```","title":"Duplication of Apache Camel messages","body":"<p>Try with <a href=\"https://camel.apache.org/components/3.20.x/eips/multicast-eip.html\" rel=\"nofollow noreferrer\">multicast</a></p>\n<p>Example code:</p>\n<pre><code>from(&quot;direct:input&quot;)\n    .choice()\n        .when(header(&quot;myHeader&quot;).isEqualTo(&quot;duplicate&quot;))\n            .to(&quot;direct:duplicate&quot;)\n        .end()\n    .to(&quot;someOtherEndpoint&quot;);\n\nfrom(&quot;direct:duplicate&quot;)\n    .multicast()\n        .to(&quot;direct:output1&quot;)\n        .to(&quot;direct:output2&quot;)\n    .end();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677236654,"creation_date":1677236654,"answer_id":75555769,"question_id":75500183,"body_markdown":"You are using the split component of camel, then it&#39;s working.\r\n\r\n    from(&quot;input:queue&quot;)\r\n        .split().method(SplitClass.class, &quot;splitHeaders&quot;)\r\n            .to(&quot;output:queue&quot;);\r\n    \r\n    public class SplitClass{\r\n        public List&lt;String&gt; splitHeaders(@Header(&quot;key&quot;) String key) {\r\n            List&lt;String&gt; values = Arrays.asList(key.split(&quot;,&quot;));\r\n            List&lt;String&gt; messages = new ArrayList&lt;&gt;();\r\n            for (String value : values) {\r\n                String message = ExchangeHelper.convertToType(exchange, String.class, exchange.getIn());\r\n                exchange.getIn().setHeader(&quot;key&quot;, value);\r\n                messages.add(message);\r\n            }\r\n            return messages;\r\n        }\r\n    }","title":"Duplication of Apache Camel messages","body":"<p>You are using the split component of camel, then it's working.</p>\n<pre><code>from(&quot;input:queue&quot;)\n    .split().method(SplitClass.class, &quot;splitHeaders&quot;)\n        .to(&quot;output:queue&quot;);\n\npublic class SplitClass{\n    public List&lt;String&gt; splitHeaders(@Header(&quot;key&quot;) String key) {\n        List&lt;String&gt; values = Arrays.asList(key.split(&quot;,&quot;));\n        List&lt;String&gt; messages = new ArrayList&lt;&gt;();\n        for (String value : values) {\n            String message = ExchangeHelper.convertToType(exchange, String.class, exchange.getIn());\n            exchange.getIn().setHeader(&quot;key&quot;, value);\n            messages.add(message);\n        }\n        return messages;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19306347,"reputation":13,"user_id":14113070,"display_name":"alguein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75555769,"answer_count":2,"score":1,"last_activity_date":1677236654,"creation_date":1676810199,"question_id":75500183,"body_markdown":"How can I create duplicates of some Camel messages by some header condition? For example, I have a message with header `key=value1,value2,value3`, and I want to have three copies of the same messages with keys `key=value1`, `key=value2`, `key=value3`.\r\n\r\nI tried to find some components here https://camel.apache.org/components/3.20.x/, but haven&#39;t found any suitable example. ","title":"Duplication of Apache Camel messages","body":"<p>How can I create duplicates of some Camel messages by some header condition? For example, I have a message with header <code>key=value1,value2,value3</code>, and I want to have three copies of the same messages with keys <code>key=value1</code>, <code>key=value2</code>, <code>key=value3</code>.</p>\n<p>I tried to find some components here <a href=\"https://camel.apache.org/components/3.20.x/\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/</a>, but haven't found any suitable example.</p>\n"},{"tags":["java","mysql","sql","hibernate"],"comments":[{"owner":{"account_id":396845,"reputation":424,"user_id":760642,"accept_rate":67,"display_name":"theFriedC"},"score":0,"creation_date":1305793585,"post_id":6055790,"comment_id":7008613,"body_markdown":"ps: please don&#39;t get confused by the table and column names. :D","body":"ps: please don&#39;t get confused by the table and column names. :D"},{"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"score":0,"creation_date":1305794081,"post_id":6055790,"comment_id":7008740,"body_markdown":"can you print the actual value of queryString after the assignment","body":"can you print the actual value of queryString after the assignment"},{"owner":{"account_id":396845,"reputation":424,"user_id":760642,"accept_rate":67,"display_name":"theFriedC"},"score":0,"creation_date":1305794766,"post_id":6055790,"comment_id":7008900,"body_markdown":"2011-05-19 10:42:50,143 DEBUG SQL:111 - select site.name as constructionSiteName, site.id as constructionSiteId, sum(pos.sum_checked_brutto) as sumCheckedBrutto, sum(pos.sum_checked_netto) as sumCheckedNetto from constructionsite site inner join costunit cu on site.id = cu.constructionsite inner join costunit_position pos on pos.costunit_id = cu.id inner join company com on pos.company_id = com.id where com.id = ? group by site.id\n2011-05-19 10:42:50,159  INFO StringType:203 - could not read column value from result set: name; Column &#39;name&#39; not found.","body":"2011-05-19 10:42:50,143 DEBUG SQL:111 - select site.name as constructionSiteName, site.id as constructionSiteId, sum(pos.sum_checked_brutto) as sumCheckedBrutto, sum(pos.sum_checked_netto) as sumCheckedNetto from constructionsite site inner join costunit cu on site.id = cu.constructionsite inner join costunit_position pos on pos.costunit_id = cu.id inner join company com on pos.company_id = com.id where com.id = ? group by site.id 2011-05-19 10:42:50,159  INFO StringType:203 - could not read column value from result set: name; Column &#39;name&#39; not found."},{"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"score":1,"creation_date":1305795144,"post_id":6055790,"comment_id":7008987,"body_markdown":"The query you executed includes &quot;com.name&quot;, but not the query you executed via java.I ma not sure whether that is the problem though","body":"The query you executed includes &quot;com.name&quot;, but not the query you executed via java.I ma not sure whether that is the problem though"},{"owner":{"account_id":178640,"reputation":9194,"user_id":410747,"accept_rate":85,"display_name":"netbrain"},"score":0,"creation_date":1305795547,"post_id":6055790,"comment_id":7009099,"body_markdown":"why are you prefixing site.* to all parameters?","body":"why are you prefixing site.* to all parameters?"},{"owner":{"account_id":396845,"reputation":424,"user_id":760642,"accept_rate":67,"display_name":"theFriedC"},"score":0,"creation_date":1305796678,"post_id":6055790,"comment_id":7009390,"body_markdown":"the table company has a column &quot;name&quot; as well. if i leave the prefix i get an &quot;ambiguous&quot;-error: `.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column &#39;name&#39; in field list is ambiguous`","body":"the table company has a column &quot;name&quot; as well. if i leave the prefix i get an &quot;ambiguous&quot;-error: <code>.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationExce&zwnj;&#8203;ption: Column &#39;name&#39; in field list is ambiguous</code>"}],"answers":[{"tags":[],"owner":{"account_id":226469,"reputation":12047,"user_id":487534,"accept_rate":90,"display_name":"jabal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305795826,"creation_date":1305795826,"answer_id":6056193,"question_id":6055790,"body_markdown":"Please double check that table `site` has a column named `name`. (Be careful: MySQL table names can be case-sensitive depending on configuration and the underlying OS.)\r\n\r\nDouble check that your application is using the very same database where you execute your query from the SQL client. Maybe you have a testing and production environment with two different versions of table `site`.","title":"hibernate native SQL query error","body":"<p>Please double check that table <code>site</code> has a column named <code>name</code>. (Be careful: MySQL table names can be case-sensitive depending on configuration and the underlying OS.)</p>\n\n<p>Double check that your application is using the very same database where you execute your query from the SQL client. Maybe you have a testing and production environment with two different versions of table <code>site</code>.</p>\n"},{"tags":[],"owner":{"account_id":1988917,"reputation":1,"user_id":1783435,"display_name":"user1783435"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393956280,"creation_date":1393955739,"answer_id":22179401,"question_id":6055790,"body_markdown":"Try removing the column alias names from the SQL. I faced a similar problem earlier and that fixed it for me. Some how native SQL queries when run on hibernate overlook the column alias names. I am not sure why this happens. \r\n\r\nYour Query would be `select site.name , site.id  , com.name,\r\n        sum(pos.sum_checked_brutto) , \r\n        sum(pos.sum_checked_netto) \r\n    from constructionsite site\r\n    inner join costunit cu on site.id = cu.constructionsite\r\n    inner join costunit_position pos on pos.costunit_id = cu.id\r\n    inner join company com on pos.company_id = com.id\r\n    where com.id = 57\r\n    group by site.id;`","title":"hibernate native SQL query error","body":"<p>Try removing the column alias names from the SQL. I faced a similar problem earlier and that fixed it for me. Some how native SQL queries when run on hibernate overlook the column alias names. I am not sure why this happens. </p>\n\n<p>Your Query would be <code>select site.name , site.id  , com.name,\n        sum(pos.sum_checked_brutto) , \n        sum(pos.sum_checked_netto) \n    from constructionsite site\n    inner join costunit cu on site.id = cu.constructionsite\n    inner join costunit_position pos on pos.costunit_id = cu.id\n    inner join company com on pos.company_id = com.id\n    where com.id = 57\n    group by site.id;</code></p>\n"},{"tags":[],"owner":{"account_id":1795695,"reputation":828,"user_id":1635133,"display_name":"jasxir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394767806,"creation_date":1394767806,"answer_id":22395591,"question_id":6055790,"body_markdown":"It&#39;s related to MySQL-JDBC.\r\nAdd [useOldAliasMetadataBehavior=true] to the JDBC url in the configuration file.\r\nSource: http://bugs.mysql.com/bug.php?id=31499","title":"hibernate native SQL query error","body":"<p>It's related to MySQL-JDBC.\nAdd [useOldAliasMetadataBehavior=true] to the JDBC url in the configuration file.\nSource: <a href=\"http://bugs.mysql.com/bug.php?id=31499\" rel=\"nofollow\">http://bugs.mysql.com/bug.php?id=31499</a></p>\n"},{"tags":[],"owner":{"account_id":143450,"reputation":1,"user_id":2439611,"display_name":"Firoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470902995,"creation_date":1470897902,"answer_id":38889097,"question_id":6055790,"body_markdown":"yes, removing the alias worked but is a problem if you have 2 tables, each with a column called name.\r\n\r\nHowever if I put a `ifnull(site.name)`, this seemed to work. No idea why.","title":"hibernate native SQL query error","body":"<p>yes, removing the alias worked but is a problem if you have 2 tables, each with a column called name.</p>\n\n<p>However if I put a <code>ifnull(site.name)</code>, this seemed to work. No idea why.</p>\n"}],"owner":{"account_id":396845,"reputation":424,"user_id":760642,"accept_rate":67,"display_name":"theFriedC"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7841,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1677236545,"creation_date":1305793448,"question_id":6055790,"body_markdown":"i want to execute a native sql query in hibernate 3.5.\r\n\r\ni&#39;m using mysql 5 as dbms, tested the query at the mysqlworkbench and i get the data i want.\r\n\r\nso i created a SQLQuery object in my java code, set the query string and the needed parameter.\r\n\r\nafter executing the query i get an exception saying:\r\n\r\n\r\n    org.hibernate.exception.SQLGrammarException: could not execute query\r\n    ....\r\n    Caused by: java.sql.SQLException: Column &#39;name&#39; not found.\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1075)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:984)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:929)\r\n\tat com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1145)\r\n\tat com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5617)\r\n\tat org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:225)\r\n\tat org.hibernate.type.StringType.get(StringType.java:41)\r\n\tat org.hibernate.type.NullableType.nullSafeGet(NullableType.java:184)\r\n\tat org.hibernate.type.NullableType.nullSafeGet(NullableType.java:210)\r\n\r\nmy query (which works fine when directly executing at the server):\r\n\r\n    select site.name as constructionSiteName, site.id as constructionSiteId, com.name,\r\n            sum(pos.sum_checked_brutto) as sumCheckedBrutto, \r\n            sum(pos.sum_checked_netto) as sumCheckedNetto\r\n        from constructionsite site\r\n        inner join costunit cu on site.id = cu.constructionsite\r\n        inner join costunit_position pos on pos.costunit_id = cu.id\r\n        inner join company com on pos.company_id = com.id\r\n        where com.id = 57\r\n        group by site.id;\r\n\r\nhere&#39;s how i create the query string in my java code:\r\n\r\n    String queryString = &quot;select site.name as constructionSiteName, site.id as constructionSiteId, &quot; +\r\n        &quot;sum(pos.sum_checked_brutto) as sumCheckedBrutto, sum(pos.sum_checked_netto) as sumCheckedNetto &quot; + \r\n        &quot;from constructionsite site &quot; +\r\n        &quot;inner join costunit cu on site.id = cu.constructionsite &quot; +\r\n        &quot;inner join costunit_position pos on pos.costunit_id = cu.id &quot; +\r\n        &quot;inner join company com on pos.company_id = com.id &quot; +\r\n        &quot;where com.id = ? &quot; +\r\n        &quot;group by site.id &quot;;\r\n\r\nthen i set it to the the SQLQuery object and set the param:\r\n\r\n    SQLQuery query = getSession().createSQLQuery(queryString);\r\n    query.setLong(0, companyId);\r\n\r\nThe last step is to &quot;execute&quot; the query with:\r\n\r\n    List result = query.list();\r\n\r\ni really don&#39;t know what i&#39;m doing wrong and would really appreciate some help.\r\n\r\ntnx in advance\r\n\r\nEDIT:\r\n\r\nthe generated sql statement executed by hibernate:\r\n\r\n    2011-05-19 10:42:50,143 DEBUG SQL:111 - select site.name as constructionSiteName,\r\n    site.id as constructionSiteId, sum(pos.sum_checked_brutto) as sumCheckedBrutto,\r\n    sum(pos.sum_checked_netto) as sumCheckedNetto \r\n    from constructionsite site \r\n    inner join costunit cu on site.id = cu.constructionsite \r\n    inner join costunit_position pos on pos.costunit_id = cu.id \r\n    inner join company com on pos.company_id = com.id where com.id = ? \r\n    group by site.id\r\n\r\ni also found this one in the server output:\r\n\r\n    2011-05-19 10:42:50,159  INFO StringType:203 - could not read column value from result set: name; Column &#39;name&#39; not found.","title":"hibernate native SQL query error","body":"<p>i want to execute a native sql query in hibernate 3.5.</p>\n\n<p>i'm using mysql 5 as dbms, tested the query at the mysqlworkbench and i get the data i want.</p>\n\n<p>so i created a SQLQuery object in my java code, set the query string and the needed parameter.</p>\n\n<p>after executing the query i get an exception saying:</p>\n\n<pre><code>org.hibernate.exception.SQLGrammarException: could not execute query\n....\nCaused by: java.sql.SQLException: Column 'name' not found.\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1075)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:984)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:929)\nat com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1145)\nat com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5617)\nat org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:225)\nat org.hibernate.type.StringType.get(StringType.java:41)\nat org.hibernate.type.NullableType.nullSafeGet(NullableType.java:184)\nat org.hibernate.type.NullableType.nullSafeGet(NullableType.java:210)\n</code></pre>\n\n<p>my query (which works fine when directly executing at the server):</p>\n\n<pre><code>select site.name as constructionSiteName, site.id as constructionSiteId, com.name,\n        sum(pos.sum_checked_brutto) as sumCheckedBrutto, \n        sum(pos.sum_checked_netto) as sumCheckedNetto\n    from constructionsite site\n    inner join costunit cu on site.id = cu.constructionsite\n    inner join costunit_position pos on pos.costunit_id = cu.id\n    inner join company com on pos.company_id = com.id\n    where com.id = 57\n    group by site.id;\n</code></pre>\n\n<p>here's how i create the query string in my java code:</p>\n\n<pre><code>String queryString = \"select site.name as constructionSiteName, site.id as constructionSiteId, \" +\n    \"sum(pos.sum_checked_brutto) as sumCheckedBrutto, sum(pos.sum_checked_netto) as sumCheckedNetto \" + \n    \"from constructionsite site \" +\n    \"inner join costunit cu on site.id = cu.constructionsite \" +\n    \"inner join costunit_position pos on pos.costunit_id = cu.id \" +\n    \"inner join company com on pos.company_id = com.id \" +\n    \"where com.id = ? \" +\n    \"group by site.id \";\n</code></pre>\n\n<p>then i set it to the the SQLQuery object and set the param:</p>\n\n<pre><code>SQLQuery query = getSession().createSQLQuery(queryString);\nquery.setLong(0, companyId);\n</code></pre>\n\n<p>The last step is to \"execute\" the query with:</p>\n\n<pre><code>List result = query.list();\n</code></pre>\n\n<p>i really don't know what i'm doing wrong and would really appreciate some help.</p>\n\n<p>tnx in advance</p>\n\n<p>EDIT:</p>\n\n<p>the generated sql statement executed by hibernate:</p>\n\n<pre><code>2011-05-19 10:42:50,143 DEBUG SQL:111 - select site.name as constructionSiteName,\nsite.id as constructionSiteId, sum(pos.sum_checked_brutto) as sumCheckedBrutto,\nsum(pos.sum_checked_netto) as sumCheckedNetto \nfrom constructionsite site \ninner join costunit cu on site.id = cu.constructionsite \ninner join costunit_position pos on pos.costunit_id = cu.id \ninner join company com on pos.company_id = com.id where com.id = ? \ngroup by site.id\n</code></pre>\n\n<p>i also found this one in the server output:</p>\n\n<pre><code>2011-05-19 10:42:50,159  INFO StringType:203 - could not read column value from result set: name; Column 'name' not found.\n</code></pre>\n"},{"tags":["java","dl4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677236439,"creation_date":1677102504,"answer_id":75538481,"question_id":75536668,"body_markdown":"It looks like you&#39;re trying to use a confusion matrix for evaluation. Dl4j doesn&#39;t know what your objective is so you have to specify it. In this case you&#39;re doing regression. \r\n\r\nConfusion matrices are not used with regression just classification.\r\nUse the RegressionEvaluation class  for your data instead and you should be fine.\r\n\r\nhttps://github.com/deeplearning4j/deeplearning4j/blob/4766032444de8e0c2c3389270576bb6e7c466211/nd4j/nd4j-backends/nd4j-api-parent/nd4j-api/src/main/java/org/nd4j/evaluation/regression/RegressionEvaluation.java#L47-L46\r\n\r\nPlease consider looking at our examples: https://github.com/deeplearning4j/deeplearning4j-examples - this covers a lot of use cases.","title":"DeepLearning4j - occurrences cannot be negative","body":"<p>It looks like you're trying to use a confusion matrix for evaluation. Dl4j doesn't know what your objective is so you have to specify it. In this case you're doing regression.</p>\n<p>Confusion matrices are not used with regression just classification.\nUse the RegressionEvaluation class  for your data instead and you should be fine.</p>\n<p><a href=\"https://github.com/deeplearning4j/deeplearning4j/blob/4766032444de8e0c2c3389270576bb6e7c466211/nd4j/nd4j-backends/nd4j-api-parent/nd4j-api/src/main/java/org/nd4j/evaluation/regression/RegressionEvaluation.java#L47-L46\" rel=\"nofollow noreferrer\">https://github.com/deeplearning4j/deeplearning4j/blob/4766032444de8e0c2c3389270576bb6e7c466211/nd4j/nd4j-backends/nd4j-api-parent/nd4j-api/src/main/java/org/nd4j/evaluation/regression/RegressionEvaluation.java#L47-L46</a></p>\n<p>Please consider looking at our examples: <a href=\"https://github.com/deeplearning4j/deeplearning4j-examples\" rel=\"nofollow noreferrer\">https://github.com/deeplearning4j/deeplearning4j-examples</a> - this covers a lot of use cases.</p>\n"}],"owner":{"account_id":24089116,"reputation":15,"user_id":18062643,"display_name":"Rus Kuzmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75538481,"answer_count":1,"score":0,"last_activity_date":1677236439,"creation_date":1677089832,"question_id":75536668,"body_markdown":"I&#39;m new to dL4J and keep running across this issue;\r\n`java.lang.IllegalArgumentException: occurrences cannot be negative: -11668`\r\nAnd I really can&#39;t seem to workout why. I&#39;ve checked my testData labels and the model output and there are definitely no negative numbers.\r\n\r\nI can provide the model output and testdata output if need be but it&#39;s pretty long.\r\n\r\nThis is the Evaluate method.\r\n```\r\n    private Evaluation evaluate (MultiLayerNetwork model, DataSet testData){;\r\n        INDArray output = model.output(testData.getFeatures());\r\n\r\n        System.out.println(&quot;Labels: &quot; + testData.getLabels());\r\n        System.out.println(&quot;Output: &quot; + output);\r\n\r\n\r\n        Evaluation eval = new Evaluation();\r\n        eval.eval(testData.getLabels(), output); // &lt;-- Issue here, flipping the two around gives diff results.\r\n        return eval;\r\n    }\r\n```\r\n\r\nModel:\r\n\r\n```\r\n    public MultiLayerConfiguration getMultiLayerConfiguration() {\r\n        return new NeuralNetConfiguration.Builder()\r\n                .seed(123)\r\n                .updater(new Adam())\r\n                .list()\r\n                .layer(new DenseLayer.Builder()\r\n                        .nIn(3)\r\n                        .nOut(50)\r\n                        .activation(Activation.RELU)\r\n                        .build())\r\n                .layer(new DenseLayer.Builder()\r\n                        .nIn(50)\r\n                        .nOut(100)\r\n                        .activation(Activation.RELU)\r\n                        .build())\r\n                .layer(new DenseLayer.Builder()\r\n                        .nIn(100)\r\n                        .nOut(50)\r\n                        .activation(Activation.RELU)\r\n                        .build())\r\n                .layer(new OutputLayer.Builder()\r\n                        .nIn(50)\r\n                        .nOut(1)\r\n                        .lossFunction(LossFunctions.LossFunction.MSE)\r\n                        .activation(Activation.IDENTITY)\r\n                        .build())\r\n                .build();\r\n    }\r\n```\r\n\r\n\r\nAs a last ditch attempt, I&#39;ve tried to flip the output and testData.getLabels() but this is just giving me a different negative result. I&#39;ve also amended my model multiple times but this exception is persisting.\r\n\r\nAny help will be much appreciated.\r\n","title":"DeepLearning4j - occurrences cannot be negative","body":"<p>I'm new to dL4J and keep running across this issue;\n<code>java.lang.IllegalArgumentException: occurrences cannot be negative: -11668</code>\nAnd I really can't seem to workout why. I've checked my testData labels and the model output and there are definitely no negative numbers.</p>\n<p>I can provide the model output and testdata output if need be but it's pretty long.</p>\n<p>This is the Evaluate method.</p>\n<pre><code>    private Evaluation evaluate (MultiLayerNetwork model, DataSet testData){;\n        INDArray output = model.output(testData.getFeatures());\n\n        System.out.println(&quot;Labels: &quot; + testData.getLabels());\n        System.out.println(&quot;Output: &quot; + output);\n\n\n        Evaluation eval = new Evaluation();\n        eval.eval(testData.getLabels(), output); // &lt;-- Issue here, flipping the two around gives diff results.\n        return eval;\n    }\n</code></pre>\n<p>Model:</p>\n<pre><code>    public MultiLayerConfiguration getMultiLayerConfiguration() {\n        return new NeuralNetConfiguration.Builder()\n                .seed(123)\n                .updater(new Adam())\n                .list()\n                .layer(new DenseLayer.Builder()\n                        .nIn(3)\n                        .nOut(50)\n                        .activation(Activation.RELU)\n                        .build())\n                .layer(new DenseLayer.Builder()\n                        .nIn(50)\n                        .nOut(100)\n                        .activation(Activation.RELU)\n                        .build())\n                .layer(new DenseLayer.Builder()\n                        .nIn(100)\n                        .nOut(50)\n                        .activation(Activation.RELU)\n                        .build())\n                .layer(new OutputLayer.Builder()\n                        .nIn(50)\n                        .nOut(1)\n                        .lossFunction(LossFunctions.LossFunction.MSE)\n                        .activation(Activation.IDENTITY)\n                        .build())\n                .build();\n    }\n</code></pre>\n<p>As a last ditch attempt, I've tried to flip the output and testData.getLabels() but this is just giving me a different negative result. I've also amended my model multiple times but this exception is persisting.</p>\n<p>Any help will be much appreciated.</p>\n"},{"tags":["java","google-oauth","cas","multi-factor-authentication"],"owner":{"account_id":4312127,"reputation":513,"user_id":3522933,"accept_rate":100,"display_name":"MinionAttack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677236432,"creation_date":1676379441,"question_id":75448166,"body_markdown":"I am working on a project that uses `Apereo CAS 5.x.x` to handle user authentication and users can activate MFA. When logging in, the user can use their Active Directory credentials or log in via Google OAuth (which it is supported as shown in the [documentation](https://apereo.github.io/cas/6.6.x/mfa/GoogleAuthenticator-Authentication.html)). Unfortunately, we have found that when the user logs in via Google OAuth, the MFA flow is broken.\r\n\r\nIf the user logs in with the AD credentials and tries to activate MFA, the operation works as expected. The user gets the page to activate MFA and after that the user is sent to the page to copy the codes, finish binding the authenticator application and is shown the success message at the end.\r\n\r\nBut if the user logs in with their Google account, the user is able to go to the initial page of the MFA activation process and when the Activate button is clicked, the user is stuck in that view.\r\n\r\nResearching how Apereo CAS works in their [documentation](https://apereo.github.io/cas/6.6.x/protocol/CAS-Protocol.html#web-flow-diagram), I have discovered that the process gets stuck here as in the browser the URL looks like that:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ZaUVY.png)](https://i.stack.imgur.com/ZaUVY.png)\r\n\r\nAlso, in the application logs I have observed that when the AD credentials are used CAS says:\r\n\r\n`Bypass rules determined MFA should execute for user [XXXXX] for provider [mfa-gauth]`\r\n\r\nBut if the Google credentials are used CAS says:\r\n\r\n`Bypass rules determined MFA should NOT execute for user [XXXXX] for provider [mfa-gauth]`\r\n\r\nAnd because of that, CAS issues a new session ticket:\r\n\r\n```\r\nFinalizing authentication transactions and issuing ticket-granting ticket\r\nFinalizing authentication event...\r\nCreating ticket-granting ticket, potentially based on [********************************************************]\r\nLocated ticket-granting ticket in the context. Retrieving associated authentication\r\nResulting authentication is different from the context\r\nAttempting to issue a new ticket-granting ticket...\r\n```\r\n\r\nI guess the crux of the matter is in this sentence:\r\n\r\n`Resulting authentication is different from the context`\r\n\r\nBecause the application does the redirection as how it should be done with something like:\r\n\r\n`https://server/cas/login?renew=true&amp;service=http%3A%2F%2Fwww.service.com/mfa&amp;authn_method=mfa-gauth`\r\n\r\nAs it is explained [here in the documentation](https://apereo.github.io/cas/6.6.x/protocol/CAS-Protocol-V2-Specification.html#212-url-examples-of-login) with the third example.\r\n\r\nEDIT 1:\r\n\r\nAfter a bit more research I have discovered the scenario and the cause of the problem but I am not sure how to fix it despite going through the documentation.\r\n\r\nLogging in with Google OAuth works if MFA is disabled, I can log in and enable MFA correctly. The problem is when after enabling MFA you log out and try to log in again, in that scenario CAS gives an error because in the template that is generated to put the MFA code (`casGoogleAuthenticatorLoginView.html`) it expects an instance of `OneTimeTokenCredential(token=null)` but it is getting an instance of `ClientCredential` that does not have a token attribute:\r\n\r\n    Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;token&#39; cannot be found on object of type &#39;org.apereo.cas.authentication.principal.ClientCredential&#39; - maybe not public or not valid?\r\n\r\nSo my question is, why does the `ClientCredential` instance becomes `OneTimeTokenCredential` when MFA is not enabled and I can enable it, but after enabling MFA and trying to log in again it fails because the `ClientCredential` does not become a `OneTimeTokenCredential` instance?\r\n\r\nI have been debugging the `resolveInternal` method of the `CustomWebflowEventResolver` I have (which extends `AbstractCasWebflowEventResolver`) and I am not able to see the difference between the scenario of activating MFA and logging in after activating MFA to see what is happening. In both scenarios if I debug:\r\n\r\n    Authentication authentication = WebUtils.getAuthentication(context);\r\n\r\nIn the credentials attribute I see an object `BasicCredentialMetaData` with and ID `NotYetAuthenticated-XXXXXXXX` and a `credentialClass` attribute of type `org.apereo.cas.authentication.principal.ClientCredential`. Before activating MFA the values are the same, so I don&#39;t understand why in one case it works and converts to an `OneTimeTokenCredential` instance and in the case where MFA is activated it does not.\r\n\r\nWhat is being done wrong? I am quite lost and have not been able to make any progress.","title":"CAS Google OAuth MFA activation flow does not work as expected","body":"<p>I am working on a project that uses <code>Apereo CAS 5.x.x</code> to handle user authentication and users can activate MFA. When logging in, the user can use their Active Directory credentials or log in via Google OAuth (which it is supported as shown in the <a href=\"https://apereo.github.io/cas/6.6.x/mfa/GoogleAuthenticator-Authentication.html\" rel=\"nofollow noreferrer\">documentation</a>). Unfortunately, we have found that when the user logs in via Google OAuth, the MFA flow is broken.</p>\n<p>If the user logs in with the AD credentials and tries to activate MFA, the operation works as expected. The user gets the page to activate MFA and after that the user is sent to the page to copy the codes, finish binding the authenticator application and is shown the success message at the end.</p>\n<p>But if the user logs in with their Google account, the user is able to go to the initial page of the MFA activation process and when the Activate button is clicked, the user is stuck in that view.</p>\n<p>Researching how Apereo CAS works in their <a href=\"https://apereo.github.io/cas/6.6.x/protocol/CAS-Protocol.html#web-flow-diagram\" rel=\"nofollow noreferrer\">documentation</a>, I have discovered that the process gets stuck here as in the browser the URL looks like that:</p>\n<p><a href=\"https://i.stack.imgur.com/ZaUVY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZaUVY.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, in the application logs I have observed that when the AD credentials are used CAS says:</p>\n<p><code>Bypass rules determined MFA should execute for user [XXXXX] for provider [mfa-gauth]</code></p>\n<p>But if the Google credentials are used CAS says:</p>\n<p><code>Bypass rules determined MFA should NOT execute for user [XXXXX] for provider [mfa-gauth]</code></p>\n<p>And because of that, CAS issues a new session ticket:</p>\n<pre><code>Finalizing authentication transactions and issuing ticket-granting ticket\nFinalizing authentication event...\nCreating ticket-granting ticket, potentially based on [********************************************************]\nLocated ticket-granting ticket in the context. Retrieving associated authentication\nResulting authentication is different from the context\nAttempting to issue a new ticket-granting ticket...\n</code></pre>\n<p>I guess the crux of the matter is in this sentence:</p>\n<p><code>Resulting authentication is different from the context</code></p>\n<p>Because the application does the redirection as how it should be done with something like:</p>\n<p><code>https://server/cas/login?renew=true&amp;service=http%3A%2F%2Fwww.service.com/mfa&amp;authn_method=mfa-gauth</code></p>\n<p>As it is explained <a href=\"https://apereo.github.io/cas/6.6.x/protocol/CAS-Protocol-V2-Specification.html#212-url-examples-of-login\" rel=\"nofollow noreferrer\">here in the documentation</a> with the third example.</p>\n<p>EDIT 1:</p>\n<p>After a bit more research I have discovered the scenario and the cause of the problem but I am not sure how to fix it despite going through the documentation.</p>\n<p>Logging in with Google OAuth works if MFA is disabled, I can log in and enable MFA correctly. The problem is when after enabling MFA you log out and try to log in again, in that scenario CAS gives an error because in the template that is generated to put the MFA code (<code>casGoogleAuthenticatorLoginView.html</code>) it expects an instance of <code>OneTimeTokenCredential(token=null)</code> but it is getting an instance of <code>ClientCredential</code> that does not have a token attribute:</p>\n<pre><code>Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'token' cannot be found on object of type 'org.apereo.cas.authentication.principal.ClientCredential' - maybe not public or not valid?\n</code></pre>\n<p>So my question is, why does the <code>ClientCredential</code> instance becomes <code>OneTimeTokenCredential</code> when MFA is not enabled and I can enable it, but after enabling MFA and trying to log in again it fails because the <code>ClientCredential</code> does not become a <code>OneTimeTokenCredential</code> instance?</p>\n<p>I have been debugging the <code>resolveInternal</code> method of the <code>CustomWebflowEventResolver</code> I have (which extends <code>AbstractCasWebflowEventResolver</code>) and I am not able to see the difference between the scenario of activating MFA and logging in after activating MFA to see what is happening. In both scenarios if I debug:</p>\n<pre><code>Authentication authentication = WebUtils.getAuthentication(context);\n</code></pre>\n<p>In the credentials attribute I see an object <code>BasicCredentialMetaData</code> with and ID <code>NotYetAuthenticated-XXXXXXXX</code> and a <code>credentialClass</code> attribute of type <code>org.apereo.cas.authentication.principal.ClientCredential</code>. Before activating MFA the values are the same, so I don't understand why in one case it works and converts to an <code>OneTimeTokenCredential</code> instance and in the case where MFA is activated it does not.</p>\n<p>What is being done wrong? I am quite lost and have not been able to make any progress.</p>\n"},{"tags":["java","intellij-idea","constructor","autocomplete"],"answers":[{"tags":[],"owner":{"account_id":181944,"reputation":5719,"user_id":416300,"accept_rate":61,"display_name":"summerbulb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1450936101,"creation_date":1427620903,"answer_id":29327495,"question_id":29210919,"body_markdown":"According to JetBrains support, this feature is not supported (current latest version of IntelliJ is 14.1).\r\n\r\n","title":"Auto fill stub parameters for constructors in Intellij","body":"<p>According to JetBrains support, this feature is not supported (current latest version of IntelliJ is 14.1).</p>\n"},{"tags":[],"owner":{"account_id":4641132,"reputation":823,"user_id":3760954,"accept_rate":56,"display_name":"Lili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443214195,"creation_date":1443214195,"answer_id":32790456,"question_id":29210919,"body_markdown":"I&#39;m an Eclipse user recently migrated into IntelliJ and that was one of the features I really missed, esp. when there are calls with many parameters (not just constructors). As long as there are matching variables in scope, ctrl-shift-space is somewhat similar. It&#39;s not quite as good as in Eclipse because if the variables are not there it will not create &quot;stubs&quot;, and I don&#39;t think it works if the parameter names don&#39;t match, but works as a crutch in at least some cases...","title":"Auto fill stub parameters for constructors in Intellij","body":"<p>I'm an Eclipse user recently migrated into IntelliJ and that was one of the features I really missed, esp. when there are calls with many parameters (not just constructors). As long as there are matching variables in scope, ctrl-shift-space is somewhat similar. It's not quite as good as in Eclipse because if the variables are not there it will not create \"stubs\", and I don't think it works if the parameter names don't match, but works as a crutch in at least some cases...</p>\n"},{"tags":[],"owner":{"account_id":3647615,"reputation":23076,"user_id":3040446,"accept_rate":35,"display_name":"Ted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600848741,"creation_date":1600848741,"answer_id":64023676,"question_id":29210919,"body_markdown":"In intellij, I cannot autogenerate but the shortcut in mac is\r\n&lt;kbd&gt;OPTION&lt;/kbd&gt; + &lt;kbd&gt;ENTER&lt;/kbd&gt;+ &lt;kbd&gt;ENTER&lt;/kbd&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ddL4N.gif","title":"Auto fill stub parameters for constructors in Intellij","body":"<p>In intellij, I cannot autogenerate but the shortcut in mac is\n<kbd>OPTION</kbd> + <kbd>ENTER</kbd>+ <kbd>ENTER</kbd></p>\n<p><a href=\"https://i.stack.imgur.com/ddL4N.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ddL4N.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5192826,"reputation":3493,"user_id":6007104,"accept_rate":25,"display_name":"Luke Needham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677235984,"creation_date":1677235984,"answer_id":75555664,"question_id":29210919,"body_markdown":"This still isn&#39;t possible just using IntelliJ, but there is a plugin that adds this feature for Kotlin: https://github.com/suusan2go/kotlin-fill-class","title":"Auto fill stub parameters for constructors in Intellij","body":"<p>This still isn't possible just using IntelliJ, but there is a plugin that adds this feature for Kotlin: <a href=\"https://github.com/suusan2go/kotlin-fill-class\" rel=\"nofollow noreferrer\">https://github.com/suusan2go/kotlin-fill-class</a></p>\n"}],"owner":{"account_id":181944,"reputation":5719,"user_id":416300,"accept_rate":61,"display_name":"summerbulb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1697,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29327495,"answer_count":4,"score":8,"last_activity_date":1677235984,"creation_date":1427115636,"question_id":29210919,"body_markdown":"Does Intellij have any way of auto-creating constructor calls, based on the parameters from the constructor&#39;s signature?\r\n\r\nThe idea is that I type the name of class (constructor name), hit &lt;kbd&gt;Magic&lt;/kbd&gt;+&lt;kbd&gt;Key&lt;/kbd&gt;+&lt;kbd&gt;Combination&lt;/kbd&gt;, choose the relevant constructor, and IntelliJ types in all the parameters, based on the names in the constructor&#39;s signature. Obviously, in most cases, that wouldn&#39;t compile but that&#39;s OK, as I will create the required parameters with the appropriate names.\r\n\r\nAn even better idea would be for the feature to also create the parameter definitions for me, right above the constructor call.\r\n\r\nAny Idea?","title":"Auto fill stub parameters for constructors in Intellij","body":"<p>Does Intellij have any way of auto-creating constructor calls, based on the parameters from the constructor's signature?</p>\n\n<p>The idea is that I type the name of class (constructor name), hit <kbd>Magic</kbd>+<kbd>Key</kbd>+<kbd>Combination</kbd>, choose the relevant constructor, and IntelliJ types in all the parameters, based on the names in the constructor's signature. Obviously, in most cases, that wouldn't compile but that's OK, as I will create the required parameters with the appropriate names.</p>\n\n<p>An even better idea would be for the feature to also create the parameter definitions for me, right above the constructor call.</p>\n\n<p>Any Idea?</p>\n"},{"tags":["java","telegram-bot","speech-to-text"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":2,"creation_date":1677206484,"post_id":75552091,"comment_id":133296901,"body_markdown":"Does this answer your question? [Java ogg to wav conversion](https://stackoverflow.com/questions/15387380/java-ogg-to-wav-conversion)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15387380/java-ogg-to-wav-conversion\">Java ogg to wav conversion</a>"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1677208177,"post_id":75552091,"comment_id":133297066,"body_markdown":"that thread seems suggesting using old utils\nhttps://github.com/bramp/ffmpeg-cli-wrapper I am going to try this.","body":"that thread seems suggesting using old utils <a href=\"https://github.com/bramp/ffmpeg-cli-wrapper\" rel=\"nofollow noreferrer\">github.com/bramp/ffmpeg-cli-wrapper</a> I am going to try this."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677210345,"post_id":75552091,"comment_id":133297279,"body_markdown":"When looking for an answer on Stackoverflow, I choose the answer that has more votes and is marked as the answer.","body":"When looking for an answer on Stackoverflow, I choose the answer that has more votes and is marked as the answer."}],"answers":[{"tags":[],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677235737,"creation_date":1677235737,"answer_id":75555620,"question_id":75552091,"body_markdown":"finally, I used ffmpeg https://www.ffmpeg.org/ to transform first, it works. Installation of ffmpeg required to run this code\r\n\r\n```\r\n            String fileName = file.getName();\r\n            String wavFileName = fileName + &quot;.wav&quot;;\r\n            String cmd = &quot;ffmpeg -i &quot; + fileName + &quot; ./&quot; + wavFileName;\r\n            try {\r\n                Process p = Runtime.getRuntime().exec(cmd);\r\n                p.waitFor();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n```","title":"How to convert ogg file to wav using Java?","body":"<p>finally, I used ffmpeg <a href=\"https://www.ffmpeg.org/\" rel=\"nofollow noreferrer\">https://www.ffmpeg.org/</a> to transform first, it works. Installation of ffmpeg required to run this code</p>\n<pre><code>            String fileName = file.getName();\n            String wavFileName = fileName + &quot;.wav&quot;;\n            String cmd = &quot;ffmpeg -i &quot; + fileName + &quot; ./&quot; + wavFileName;\n            try {\n                Process p = Runtime.getRuntime().exec(cmd);\n                p.waitFor();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n</code></pre>\n"}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1677266347,"accepted_answer_id":75555620,"answer_count":1,"score":-3,"last_activity_date":1677235737,"creation_date":1677205310,"question_id":75552091,"body_markdown":"I search through Github and Google, but not found a good solution.\r\n\r\nbackground:\r\nI&#39;m writing a Telegram bot and want to transcript user&#39;s voice message to text using Microsoft&#39;s speech-to-text java sdk, the sdk only accept wav files, so I need to first transform ogg files to wav files.\r\n\r\n\r\nI want to find a solution to convert ogg file to wav using Java.","title":"How to convert ogg file to wav using Java?","body":"<p>I search through Github and Google, but not found a good solution.</p>\n<p>background:\nI'm writing a Telegram bot and want to transcript user's voice message to text using Microsoft's speech-to-text java sdk, the sdk only accept wav files, so I need to first transform ogg files to wav files.</p>\n<p>I want to find a solution to convert ogg file to wav using Java.</p>\n"},{"tags":["java","hibernate","quarkus","metamodel","jpamodelgen"],"answers":[{"tags":[],"owner":{"account_id":1724086,"reputation":218,"user_id":1579176,"display_name":"Tomasz Knyziak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677235708,"creation_date":1677235708,"answer_id":75555612,"question_id":75529648,"body_markdown":"Assuming you&#39;re on Quarkus 2.x, please observe it still uses Hibernate 5.6 under the hood, so the metamodel generator will work when you align the version. Try using `org.hibernate:hibernate-jpamodelgen:5.6.15.Final`.","title":"quarkus project not generating classes with hibernate-jpamodelgen","body":"<p>Assuming you're on Quarkus 2.x, please observe it still uses Hibernate 5.6 under the hood, so the metamodel generator will work when you align the version. Try using <code>org.hibernate:hibernate-jpamodelgen:5.6.15.Final</code>.</p>\n"}],"owner":{"account_id":22130669,"reputation":1,"user_id":16382256,"display_name":"beneken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677235708,"creation_date":1677052445,"question_id":75529648,"body_markdown":"I&#39;m having troubles generating metamodel classes with hibernate-jpamodelgen to use with Criterta. \r\n\r\nTo reproduce, generate a quarkus project on quarkus.io with Hibernate ORM and add the following dependency to the pom:\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n      &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nIn this demo project, there is a class MyEntity:\r\n\r\n```\r\n@Entity\r\npublic class MyEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    public String field;\r\n}\r\n```\r\n\r\nI expect hibernate-jpamodelgen to generate a class MyEntity_, as it does with all my @Entities in other Spring Boot projects.\r\n\r\nOn Spring Boot, I have to add `jaxb-api` and `jaxb-runtime` as well. But then its working flawlessly. On quarkus I&#39;ve added those and tried quarkus-jaxb. It&#39;s still not working.\r\n\r\nI&#39;ve enabled annotation processors in IntelliJ and set the Maven output to DEBUG. There were no Errors.","title":"quarkus project not generating classes with hibernate-jpamodelgen","body":"<p>I'm having troubles generating metamodel classes with hibernate-jpamodelgen to use with Criterta.</p>\n<p>To reproduce, generate a quarkus project on quarkus.io with Hibernate ORM and add the following dependency to the pom:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n      &lt;version&gt;6.1.7.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In this demo project, there is a class MyEntity:</p>\n<pre><code>@Entity\npublic class MyEntity {\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    public String field;\n}\n</code></pre>\n<p>I expect hibernate-jpamodelgen to generate a class MyEntity_, as it does with all my @Entities in other Spring Boot projects.</p>\n<p>On Spring Boot, I have to add <code>jaxb-api</code> and <code>jaxb-runtime</code> as well. But then its working flawlessly. On quarkus I've added those and tried quarkus-jaxb. It's still not working.</p>\n<p>I've enabled annotation processors in IntelliJ and set the Maven output to DEBUG. There were no Errors.</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":10961971,"reputation":5515,"user_id":8054998,"display_name":"Bench Vue"},"score":0,"creation_date":1677249259,"post_id":75555551,"comment_id":133306008,"body_markdown":"Client can&#39;t subscribe, have to call Event APIs. Similar question in [here](https://stackoverflow.com/questions/74889050/get-notification-from-keycloak-via-api-when-a-new-user-disabled/74891563#74891563)","body":"Client can&#39;t subscribe, have to call Event APIs. Similar question in <a href=\"https://stackoverflow.com/questions/74889050/get-notification-from-keycloak-via-api-when-a-new-user-disabled/74891563#74891563\">here</a>"},{"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":" "},"score":0,"creation_date":1677616103,"post_id":75555551,"comment_id":133372487,"body_markdown":"i have new question :-) https://stackoverflow.com/questions/75596973/disable-users-account-after-a-configurable-period-of-inactivity","body":"i have new question :-) <a href=\"https://stackoverflow.com/questions/75596973/disable-users-account-after-a-configurable-period-of-inactivity\" title=\"disable users account after a configurable period of inactivity\">stackoverflow.com/questions/75596973/&hellip;</a>"},{"owner":{"account_id":10961971,"reputation":5515,"user_id":8054998,"display_name":"Bench Vue"},"score":0,"creation_date":1677617238,"post_id":75555551,"comment_id":133372749,"body_markdown":"I think there are no solution for automatically block if user has not login last 50 days. I just know time expired policy is possible to deny to access client&#39;s resource. [Here](https://stackoverflow.com/questions/75468760/how-to-get-the-password-expired-date-of-a-user-in-keycloak/75552224#75552224) is my answer. It shows how to handle user limited access a resource by time period.","body":"I think there are no solution for automatically block if user has not login last 50 days. I just know time expired policy is possible to deny to access client&#39;s resource. <a href=\"https://stackoverflow.com/questions/75468760/how-to-get-the-password-expired-date-of-a-user-in-keycloak/75552224#75552224\">Here</a> is my answer. It shows how to handle user limited access a resource by time period."},{"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":" "},"score":0,"creation_date":1677759260,"post_id":75555551,"comment_id":133403285,"body_markdown":"I ran into using an event listener. Is it possible to add an attribute and then get the users by filtering on the last_login(configurable) attribute?\n\nhttps://github.com/ThoreKr/keycloak-last-login-event-listener","body":"I ran into using an event listener. Is it possible to add an attribute and then get the users by filtering on the last_login(configurable) attribute?  <a href=\"https://github.com/ThoreKr/keycloak-last-login-event-listener\" rel=\"nofollow noreferrer\">github.com/ThoreKr/keycloak-last-login-event-listener</a>"},{"owner":{"account_id":10961971,"reputation":5515,"user_id":8054998,"display_name":"Bench Vue"},"score":0,"creation_date":1677763599,"post_id":75555551,"comment_id":133404502,"body_markdown":"It seems SPI method as .jar. It is not API call method. I don&#39;t how a `last_login` of attribute in that listener. In the [`GET /{realm}/events`](https://www.keycloak.org/docs-api/18.0/rest-api/index.html) API, can filter by user id, ream name, client name, data from, date to, event types and ip address. I have no experience SPI method.","body":"It seems SPI method as .jar. It is not API call method. I don&#39;t how a <code>last_login</code> of attribute in that listener. In the <a href=\"https://www.keycloak.org/docs-api/18.0/rest-api/index.html\" rel=\"nofollow noreferrer\"><code>GET &#47;{realm}&#47;events</code></a> API, can filter by user id, ream name, client name, data from, date to, event types and ip address. I have no experience SPI method."},{"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":" "},"score":0,"creation_date":1678647873,"post_id":75555551,"comment_id":133570051,"body_markdown":"Hii, https://stackoverflow.com/questions/75715668/user-enabled-after-permanent-disabling-in-keycloak","body":"Hii, <a href=\"https://stackoverflow.com/questions/75715668/user-enabled-after-permanent-disabling-in-keycloak\" title=\"user enabled after permanent disabling in keycloak\">stackoverflow.com/questions/75715668/&hellip;</a>"}],"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":" "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677235344,"creation_date":1677235344,"question_id":75555551,"body_markdown":"I should implement user_temporarily_disabled handling in my local service. For example, a user entered the password incorrectly 10 times, in keycloak, this user becomes DISABLED. In this case, I need to do some logic on the side of our service. Is it possible to subscribe to notifications from Keycloak and process them? I dont want to make a request to keycloak every 20 minutes (for example) to receive events. I want to receive events from keycloak as soon as they arise. could you provide example in java please? thanks in advance","title":"How to subscribe to keycloak events?","body":"<p>I should implement user_temporarily_disabled handling in my local service. For example, a user entered the password incorrectly 10 times, in keycloak, this user becomes DISABLED. In this case, I need to do some logic on the side of our service. Is it possible to subscribe to notifications from Keycloak and process them? I dont want to make a request to keycloak every 20 minutes (for example) to receive events. I want to receive events from keycloak as soon as they arise. could you provide example in java please? thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1682520198,"post_id":75555488,"comment_id":134229583,"body_markdown":"For reference, you do not need to make your parameter Optional if you declared them as not required (RequestParam::required = false) or vise versa (remove RequestParam::required = false and make them Optional).","body":"For reference, you do not need to make your parameter Optional if you declared them as not required (RequestParam::required = false) or vise versa (remove RequestParam::required = false and make them Optional)."}],"owner":{"account_id":16500264,"reputation":289,"user_id":11921751,"display_name":"Abdullah Imran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677234929,"creation_date":1677234929,"question_id":75555488,"body_markdown":"App consist of spring webflux. I was trying to write global exception handler for it using @RestControllerAdvice, @ExceptionHandler and @ResponseStatus. Please find the below class\r\n\r\nShopController\r\n```\r\n@RequestMapping(&quot;/detail&quot;)\r\npublic class ShopController{\r\n\r\n@GetMapping\r\n    public Flux&lt;ShopResponse&gt; getShop(\r\n        @RequestHeader(value = &quot;Authorization&quot;,required = false) Optional&lt;String&gt; aToken,\r\n        @RequestParam(value = &quot;id&quot;, required = false) Optional&lt;String&gt; optId \r\n        ){\r\n           if (aToken.isEmpty() || aToken.get().isBlank()) {\r\n            return Flux.error(new BadRequestException(&quot;Authentication token missing.&quot;));\r\n\r\n        }\r\n       }\r\n      }\r\n```\r\nIn controller whenever **aToken** is not provided Bad Request Exception occurs.\r\n\r\nBadRequestException.java\r\n```\r\npublic class BadRequestException extends RuntimeException {\r\n  private final transient ApiError apiError;\r\n\r\n  public BadRequestException(String e) {\r\n    super(e);\r\n    this.apiError = null;\r\n  }\r\n}\r\n```\r\n\r\n\r\nThere is global exception handler GlobalExceptionHandlers.java\r\n```\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandlers {\r\n  private static final Logger log = LoggerFactory.getLogger(GlobalExceptionHandlers.class);\r\n\r\n  public GlobalExceptionHandlers() {\r\n  }\r\n\r\n  private ResponseEntity&lt;ApiError&gt; buildResponseEntity(ApiError apiError) {\r\n    return ResponseEntity.status(apiError.getStatus()).contentType(MediaType.APPLICATION_JSON_UTF8).body(apiError);\r\n  }\r\n\r\n@ExceptionHandler({BadRequestException.class})\r\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n  public ResponseEntity&lt;ApiError&gt; handleBadRequestException(BadRequestException badRequestException, ServerHttpRequest serverHttpRequest) {\r\n    ApiError apiError;\r\n    if (null == badRequestException.getApiError()) {\r\n      apiError = new ApiError(serverHttpRequest.getMethod(), serverHttpRequest.getPath().value(), HttpStatus.BAD_REQUEST, &quot;Bad Request&quot;, badRequestException);\r\n    } else {\r\n      apiError = badRequestException.getApiError();\r\n    }\r\n    return this.buildResponseEntity(apiError);\r\n  }\r\n}\r\n```\r\nIn above controller whenever token is missing, ResponseEntity&lt;ApiError&gt; is constructed correctly. ResponseEntity&lt;ApiError&gt; is the information we need in final exception. Below is snapshot of it\r\n\r\n```\r\n{ \\&quot;errorDetails\\&quot; : \\&quot;ApiError(method=GET, requestUri=/shop, status=400, timestamp=24-02-2023 15:27:36, message=Bad Request, debugMessage=Authentication token missing.)\\&quot; }\r\n```\r\n\r\n\r\nThe problem is In the controller at Flux.error(new BadRequestException(&quot;Authentication token missing.&quot;)).\r\n\r\n**new BadRequestException(&quot;Authentication token missing.&quot;)**  construct the exception correctly but finally **Flux.error(new BadRequestException(&quot;Authentication token missing.&quot;))** gives different exception itself with different value. Please find it below\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-02-24T09:57:36.692+00:00&quot;,\r\n    &quot;path&quot;: &quot;/shops&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;requestId&quot;: &quot;79a4c47e-2&quot;\r\n}\r\n\r\n```\r\ninstead below format exception is required which is constructed correctly in GlobalExceptionHandlers.java\r\n```\r\n{\r\nmethod=GET, \r\nrequestUri=/shop, \r\nstatus=400, \r\ntimestamp=24-02-2023 15:27:36, \r\nmessage=Bad Request, \r\ndebugMessage=Authentication token missing.\r\n}\r\n\r\n\r\n```\r\n","title":"Global Exception in Spring webflux using @RestControllerAdvice, @ExceptionHandler and @ResponseStatus","body":"<p>App consist of spring webflux. I was trying to write global exception handler for it using @RestControllerAdvice, @ExceptionHandler and @ResponseStatus. Please find the below class</p>\n<p>ShopController</p>\n<pre><code>@RequestMapping(&quot;/detail&quot;)\npublic class ShopController{\n\n@GetMapping\n    public Flux&lt;ShopResponse&gt; getShop(\n        @RequestHeader(value = &quot;Authorization&quot;,required = false) Optional&lt;String&gt; aToken,\n        @RequestParam(value = &quot;id&quot;, required = false) Optional&lt;String&gt; optId \n        ){\n           if (aToken.isEmpty() || aToken.get().isBlank()) {\n            return Flux.error(new BadRequestException(&quot;Authentication token missing.&quot;));\n\n        }\n       }\n      }\n</code></pre>\n<p>In controller whenever <strong>aToken</strong> is not provided Bad Request Exception occurs.</p>\n<p>BadRequestException.java</p>\n<pre><code>public class BadRequestException extends RuntimeException {\n  private final transient ApiError apiError;\n\n  public BadRequestException(String e) {\n    super(e);\n    this.apiError = null;\n  }\n}\n</code></pre>\n<p>There is global exception handler GlobalExceptionHandlers.java</p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandlers {\n  private static final Logger log = LoggerFactory.getLogger(GlobalExceptionHandlers.class);\n\n  public GlobalExceptionHandlers() {\n  }\n\n  private ResponseEntity&lt;ApiError&gt; buildResponseEntity(ApiError apiError) {\n    return ResponseEntity.status(apiError.getStatus()).contentType(MediaType.APPLICATION_JSON_UTF8).body(apiError);\n  }\n\n@ExceptionHandler({BadRequestException.class})\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\n  public ResponseEntity&lt;ApiError&gt; handleBadRequestException(BadRequestException badRequestException, ServerHttpRequest serverHttpRequest) {\n    ApiError apiError;\n    if (null == badRequestException.getApiError()) {\n      apiError = new ApiError(serverHttpRequest.getMethod(), serverHttpRequest.getPath().value(), HttpStatus.BAD_REQUEST, &quot;Bad Request&quot;, badRequestException);\n    } else {\n      apiError = badRequestException.getApiError();\n    }\n    return this.buildResponseEntity(apiError);\n  }\n}\n</code></pre>\n<p>In above controller whenever token is missing, ResponseEntity is constructed correctly. ResponseEntity is the information we need in final exception. Below is snapshot of it</p>\n<pre><code>{ \\&quot;errorDetails\\&quot; : \\&quot;ApiError(method=GET, requestUri=/shop, status=400, timestamp=24-02-2023 15:27:36, message=Bad Request, debugMessage=Authentication token missing.)\\&quot; }\n</code></pre>\n<p>The problem is In the controller at Flux.error(new BadRequestException(&quot;Authentication token missing.&quot;)).</p>\n<p><strong>new BadRequestException(&quot;Authentication token missing.&quot;)</strong>  construct the exception correctly but finally <strong>Flux.error(new BadRequestException(&quot;Authentication token missing.&quot;))</strong> gives different exception itself with different value. Please find it below</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-02-24T09:57:36.692+00:00&quot;,\n    &quot;path&quot;: &quot;/shops&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;requestId&quot;: &quot;79a4c47e-2&quot;\n}\n\n</code></pre>\n<p>instead below format exception is required which is constructed correctly in GlobalExceptionHandlers.java</p>\n<pre><code>{\nmethod=GET, \nrequestUri=/shop, \nstatus=400, \ntimestamp=24-02-2023 15:27:36, \nmessage=Bad Request, \ndebugMessage=Authentication token missing.\n}\n\n\n</code></pre>\n"},{"tags":["java","jpa"],"owner":{"account_id":11064648,"reputation":1,"user_id":8124819,"display_name":"Fabio Pelliccia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677234915,"creation_date":1677234915,"question_id":75555486,"body_markdown":"I defined the ACCOUNT table with three key fields.\r\nI created the Account class and the AccountKey class like this:\r\n\r\n```\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;ACCOUNT&quot;)\r\n@IdClass(AccountKey.class)\r\npublic class Account {\r\n    @Id\r\n    @Column(name = &quot;ACCOUNT_CODE&quot;, unique = true, nullable = false, length = 50)\r\n    @PortableProperty(FieldsOrder.AccountFields.ACCOUNT_CODE)\r\n    @NotNull(message = &quot;accountCode can&#39;t be null&quot;)\r\n    @Size(max = 50, message = &quot;accountCode max size is {max} &quot;)\r\n    private String accountCode;\r\n\r\n    @Id\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;CHANNEL_TYPE&quot;, nullable = false, length = 50)\r\n    @PortableProperty(FieldsOrder.AccountFields.CHANNEL_TYPE)\r\n    @NotNull(message = &quot;channelType can&#39;t be null&quot;)\r\n    private ChannelTypeEnum channelType;\r\n\r\n    @Id\r\n    @Valid\r\n    @Column(name = &quot;BRAND_ID&quot;, nullable = false)\r\n    @PortableProperty(FieldsOrder.AccountFields.BRAND_ID)\r\n    private Integer brandId;\r\n\r\n    ...\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\npublic class AccountKey implements Serializable {\r\n    private static final long serialVersionUID = -4248025736591566366L;\r\n    private String accountCode;\r\n    private ChannelTypeEnum channelType;\r\n    private Integer brandId;\r\n}\r\n```\r\n\r\nI need to retrieve the list of keys but I can&#39;t create a jpa query that can do this. Can you help me?\r\n\r\nI have a generic method that retrieves all the keys for all the tables that have the key on a single column. The query is as follows:\r\n\r\n```\r\nTypedQuery&lt;K&gt; selectIdQuery = em.createQuery(String.format(&quot;select t.%s from %s t order by t.%s asc&quot;, columnName, classValue.getSimpleName(), columnName), keyClass);\r\n```\r\nwhere classValue.getSimpleName() is the jpa class\r\n","title":"JPA: How do you retrieve a list of composite keys?","body":"<p>I defined the ACCOUNT table with three key fields.\nI created the Account class and the AccountKey class like this:</p>\n<pre><code>@Getter\n@AllArgsConstructor\n@NoArgsConstructor\n@Setter\n@Entity\n@Table(name = &quot;ACCOUNT&quot;)\n@IdClass(AccountKey.class)\npublic class Account {\n    @Id\n    @Column(name = &quot;ACCOUNT_CODE&quot;, unique = true, nullable = false, length = 50)\n    @PortableProperty(FieldsOrder.AccountFields.ACCOUNT_CODE)\n    @NotNull(message = &quot;accountCode can't be null&quot;)\n    @Size(max = 50, message = &quot;accountCode max size is {max} &quot;)\n    private String accountCode;\n\n    @Id\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;CHANNEL_TYPE&quot;, nullable = false, length = 50)\n    @PortableProperty(FieldsOrder.AccountFields.CHANNEL_TYPE)\n    @NotNull(message = &quot;channelType can't be null&quot;)\n    private ChannelTypeEnum channelType;\n\n    @Id\n    @Valid\n    @Column(name = &quot;BRAND_ID&quot;, nullable = false)\n    @PortableProperty(FieldsOrder.AccountFields.BRAND_ID)\n    private Integer brandId;\n\n    ...\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\npublic class AccountKey implements Serializable {\n    private static final long serialVersionUID = -4248025736591566366L;\n    private String accountCode;\n    private ChannelTypeEnum channelType;\n    private Integer brandId;\n}\n</code></pre>\n<p>I need to retrieve the list of keys but I can't create a jpa query that can do this. Can you help me?</p>\n<p>I have a generic method that retrieves all the keys for all the tables that have the key on a single column. The query is as follows:</p>\n<pre><code>TypedQuery&lt;K&gt; selectIdQuery = em.createQuery(String.format(&quot;select t.%s from %s t order by t.%s asc&quot;, columnName, classValue.getSimpleName(), columnName), keyClass);\n</code></pre>\n<p>where classValue.getSimpleName() is the jpa class</p>\n"},{"tags":["java","jenkins","groovy","jenkins-pipeline","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":19050144,"reputation":1162,"user_id":13908508,"display_name":"Dmitriy Tarasevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677176717,"creation_date":1677176717,"answer_id":75548860,"question_id":75547677,"body_markdown":"I can provide official docs here:\r\n\r\n 1. [trigger a remote parameterized job][1]\r\n 2. [parameterized remote trigger plugin][2]\r\n\r\n  [1]: https://www.jenkins.io/doc/pipeline/steps/Parameterized-Remote-Trigger/#stepclass-remotebuildconfiguration-trigger-a-remote-parameterized-job\r\n  [2]: https://github.com/jenkinsci/parameterized-remote-trigger-plugin/blob/master/README_PipelineConfiguration.md\r\n\r\nI would suggest to use the step `triggerRemoteJob` instead of `properties([pipelineTriggers([...`","title":"Jenkins Trigger Builds remotely in Pipeline","body":"<p>I can provide official docs here:</p>\n<ol>\n<li><a href=\"https://www.jenkins.io/doc/pipeline/steps/Parameterized-Remote-Trigger/#stepclass-remotebuildconfiguration-trigger-a-remote-parameterized-job\" rel=\"nofollow noreferrer\">trigger a remote parameterized job</a></li>\n<li><a href=\"https://github.com/jenkinsci/parameterized-remote-trigger-plugin/blob/master/README_PipelineConfiguration.md\" rel=\"nofollow noreferrer\">parameterized remote trigger plugin</a></li>\n</ol>\n<p>I would suggest to use the step <code>triggerRemoteJob</code> instead of <code>properties([pipelineTriggers([...</code></p>\n"},{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677200508,"creation_date":1677200508,"answer_id":75551754,"question_id":75547677,"body_markdown":"Try the following syntax.\r\n\r\n```\r\nproperties([pipelineTriggers([[$class: &#39;RemoteBuildTrigger&#39;, remoteBuildToken : &#39;521456&#39;]])])\r\n```","title":"Jenkins Trigger Builds remotely in Pipeline","body":"<p>Try the following syntax.</p>\n<pre><code>properties([pipelineTriggers([[$class: 'RemoteBuildTrigger', remoteBuildToken : '521456']])])\n</code></pre>\n"}],"owner":{"account_id":3029508,"reputation":1270,"user_id":3313232,"accept_rate":100,"display_name":"aRTURIUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677234823,"creation_date":1677169915,"question_id":75547677,"body_markdown":"I want to add to the Jenkins pipeline following configuration from the freestyle job:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sgLzw.png\r\n\r\nin Pipeline I&#39;m trying to use:\r\n\r\n    node {\r\n        properties([pipelineTriggers([[$class: &#39;RemoteBuildConfiguration&#39;, remoteBuildToken: &#39;w6d7e8f4s&#39;]])])\r\n    }\r\nbut getting different errors like:\r\n\r\n    no known implementation of interface java.util.List is using symbol pipelineTriggers","title":"Jenkins Trigger Builds remotely in Pipeline","body":"<p>I want to add to the Jenkins pipeline following configuration from the freestyle job:\n<a href=\"https://i.stack.imgur.com/sgLzw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sgLzw.png\" alt=\"enter image description here\" /></a></p>\n<p>in Pipeline I'm trying to use:</p>\n<pre><code>node {\n    properties([pipelineTriggers([[$class: 'RemoteBuildConfiguration', remoteBuildToken: 'w6d7e8f4s']])])\n}\n</code></pre>\n<p>but getting different errors like:</p>\n<pre><code>no known implementation of interface java.util.List is using symbol pipelineTriggers\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1446547876,"post_id":33497198,"comment_id":54778158,"body_markdown":"The error is clear: &quot;The plugin com.github.eirslett:frontend-maven-plugin:0.0.26 requires Maven version 3.1.0&quot;. Are you using Maven 3.1.0?","body":"The error is clear: &quot;The plugin com.github.eirslett:frontend-maven-plugin:0.0.26 requires Maven version 3.1.0&quot;. Are you using Maven 3.1.0?"},{"owner":{"account_id":2628323,"reputation":1761,"user_id":2274900,"accept_rate":33,"display_name":"chinds"},"score":0,"creation_date":1446548204,"post_id":33497198,"comment_id":54778387,"body_markdown":"hmmm I kind of assumed it work with version 3.1.1","body":"hmmm I kind of assumed it work with version 3.1.1"},{"owner":{"account_id":1103414,"reputation":1182,"user_id":1095318,"display_name":"Michael Koch"},"score":0,"creation_date":1446551778,"post_id":33497198,"comment_id":54780655,"body_markdown":"Does the same happen if you run Maven on the command-line? Could you add --debug to the Maven options and post the output?","body":"Does the same happen if you run Maven on the command-line? Could you add --debug to the Maven options and post the output?"},{"owner":{"account_id":2628323,"reputation":1761,"user_id":2274900,"accept_rate":33,"display_name":"chinds"},"score":0,"creation_date":1446558334,"post_id":33497198,"comment_id":54784897,"body_markdown":"Hi @MichaelKoch Please see my edited question","body":"Hi @MichaelKoch Please see my edited question"},{"owner":{"account_id":1103414,"reputation":1182,"user_id":1095318,"display_name":"Michael Koch"},"score":0,"creation_date":1446558566,"post_id":33497198,"comment_id":54785047,"body_markdown":"Looks like you habe a network Problem. Perhaps you need to configure a proxy? You can do this in the .m2/settings.XML in your home directory.","body":"Looks like you habe a network Problem. Perhaps you need to configure a proxy? You can do this in the .m2/settings.XML in your home directory."}],"answers":[{"tags":[],"owner":{"account_id":4671261,"reputation":1080,"user_id":3783006,"accept_rate":73,"display_name":"Avi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475144624,"creation_date":1475144624,"answer_id":39767694,"question_id":33497198,"body_markdown":"User version 0.0.22 of the frontend-maven-plugin. That one does not require Maven 3.1.1. It works with lower version of Maven as well.","title":"error building maven project due to frontent-maven-plugin","body":"<p>User version 0.0.22 of the frontend-maven-plugin. That one does not require Maven 3.1.1. It works with lower version of Maven as well.</p>\n"},{"tags":[],"owner":{"account_id":13067809,"reputation":407,"user_id":9442500,"display_name":"Tomas Zubrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615916942,"creation_date":1615916942,"answer_id":66660623,"question_id":33497198,"body_markdown":"For newer versions (I use 20.04) of IntelliJ, enable the use plugin registry option within the Maven settings:\r\n\r\n 1. Click **File** -&gt; **Settings**. \r\n 2. Expand **Build, Execution, Deployment** -&gt; **Build Tools** -&gt; **Maven** \r\n 3. Check **Use plugin registry**. \r\n 4. Click **Apply** and OK.\r\n\r\nI expect it would be something similar in Eclipse and other IDEs.","title":"error building maven project due to frontent-maven-plugin","body":"<p>For newer versions (I use 20.04) of IntelliJ, enable the use plugin registry option within the Maven settings:</p>\n<ol>\n<li>Click <strong>File</strong> -&gt; <strong>Settings</strong>.</li>\n<li>Expand <strong>Build, Execution, Deployment</strong> -&gt; <strong>Build Tools</strong> -&gt; <strong>Maven</strong></li>\n<li>Check <strong>Use plugin registry</strong>.</li>\n<li>Click <strong>Apply</strong> and OK.</li>\n</ol>\n<p>I expect it would be something similar in Eclipse and other IDEs.</p>\n"},{"tags":[],"owner":{"account_id":2923387,"reputation":393,"user_id":2505213,"accept_rate":88,"display_name":"Saurabh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677234498,"creation_date":1677234498,"answer_id":75555410,"question_id":33497198,"body_markdown":"Anyone facing the issue on version 1.9.1, can try and upgrade the version 1.12.1. Which fixed the issue for me.","title":"error building maven project due to frontent-maven-plugin","body":"<p>Anyone facing the issue on version 1.9.1, can try and upgrade the version 1.12.1. Which fixed the issue for me.</p>\n"}],"owner":{"account_id":2628323,"reputation":1761,"user_id":2274900,"accept_rate":33,"display_name":"chinds"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6222,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677234498,"creation_date":1446547760,"question_id":33497198,"body_markdown":"I am trying to build/complie a maven project that uses the front-end-maven plugin. However when compelling the project I get this error within IntelliJ IDEA:\r\n\r\n    Failed to execute goal com.github.eirslett:frontend-maven-plugin:0.0.26:install-node-and-npm (install node and npm) on project PROJECT-NAME: The plugin com.github.eirslett:frontend-maven-plugin:0.0.26 requires Maven version 3.1.0\r\n\r\nI had Maven 3.3.3 installed so have downgraded it too 3.1.1 however I still receive the same error.\r\n\r\nThis is the section in my POM.xml file which details the plugin:\r\n\r\n     &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.26&lt;/version&gt;\r\n    \r\n                    &lt;configuration&gt;\r\n                        &lt;workingDirectory&gt;src/web&lt;/workingDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n    \r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;install node and npm&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;nodeVersion&gt;v0.12.7&lt;/nodeVersion&gt;\r\n                                &lt;npmVersion&gt;2.11.3&lt;/npmVersion&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n    \r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;npm install&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;npm&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;install&lt;/arguments&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n    \r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;gulp dev build&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;gulp&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;dev-once&lt;/arguments&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\nWhen running `mvn clean install --debug` in the terminal I get the error;\r\n\r\n       [DEBUG] -- end configuration --\r\n    [INFO] Found proxies: []\r\n    [INFO] Installing node version v0.12.7\r\n    [INFO] Creating temporary directory /Users/folder/Development/BSD/eng-bsd-bigted-server-ice-tea/src/web/node_tmp\r\n    [INFO] Downloading Node.js from http://nodejs.org/dist/v0.12.7/node-v0.12.7-darwin-x64.tar.gz to /Users/folder/Development/BSD/eng-bsd-bigted-server-ice-tea/src/web/node_tmp/node.tar.gz\r\n    [INFO] No proxies configured\r\n    [INFO] No proxy was configured, downloading directly\r\n    Nov 03, 2015 1:41:30 PM org.apache.http.impl.execchain.RetryExec execute\r\n    INFO: I/O exception (java.net.NoRouteToHostException) caught when processing request: No route to host\r\n    Nov 03, 2015 1:41:30 PM org.apache.http.impl.execchain.RetryExec execute\r\n    INFO: Retrying request\r\n\r\n","title":"error building maven project due to frontent-maven-plugin","body":"<p>I am trying to build/complie a maven project that uses the front-end-maven plugin. However when compelling the project I get this error within IntelliJ IDEA:</p>\n\n<pre><code>Failed to execute goal com.github.eirslett:frontend-maven-plugin:0.0.26:install-node-and-npm (install node and npm) on project PROJECT-NAME: The plugin com.github.eirslett:frontend-maven-plugin:0.0.26 requires Maven version 3.1.0\n</code></pre>\n\n<p>I had Maven 3.3.3 installed so have downgraded it too 3.1.1 however I still receive the same error.</p>\n\n<p>This is the section in my POM.xml file which details the plugin:</p>\n\n<pre><code> &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.26&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;src/web&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v0.12.7&lt;/nodeVersion&gt;\n                            &lt;npmVersion&gt;2.11.3&lt;/npmVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;install&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;execution&gt;\n                        &lt;id&gt;gulp dev build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;gulp&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;dev-once&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>When running <code>mvn clean install --debug</code> in the terminal I get the error;</p>\n\n<pre><code>   [DEBUG] -- end configuration --\n[INFO] Found proxies: []\n[INFO] Installing node version v0.12.7\n[INFO] Creating temporary directory /Users/folder/Development/BSD/eng-bsd-bigted-server-ice-tea/src/web/node_tmp\n[INFO] Downloading Node.js from http://nodejs.org/dist/v0.12.7/node-v0.12.7-darwin-x64.tar.gz to /Users/folder/Development/BSD/eng-bsd-bigted-server-ice-tea/src/web/node_tmp/node.tar.gz\n[INFO] No proxies configured\n[INFO] No proxy was configured, downloading directly\nNov 03, 2015 1:41:30 PM org.apache.http.impl.execchain.RetryExec execute\nINFO: I/O exception (java.net.NoRouteToHostException) caught when processing request: No route to host\nNov 03, 2015 1:41:30 PM org.apache.http.impl.execchain.RetryExec execute\nINFO: Retrying request\n</code></pre>\n"},{"tags":["java","android","android-studio","android-notifications","notification-channel"],"comments":[{"owner":{"account_id":1751301,"reputation":3156,"user_id":1600332,"display_name":"Elletlar"},"score":0,"creation_date":1595622564,"post_id":63078084,"comment_id":111549607,"body_markdown":"Hi Mike. I compiled and installed the Github project. It posted 2 &quot;Hello I&#39;m a notification!&quot; notices on my Android One device running Android 10. Does the original project work for you? Regards.","body":"Hi Mike. I compiled and installed the Github project. It posted 2 &quot;Hello I&#39;m a notification!&quot; notices on my Android One device running Android 10. Does the original project work for you? Regards."},{"owner":{"account_id":1751301,"reputation":3156,"user_id":1600332,"display_name":"Elletlar"},"score":0,"creation_date":1595623152,"post_id":63078084,"comment_id":111549806,"body_markdown":"Also, can you put a break point on createNotificationChannel() and tell me if that is called? Are there any errors in logcat after it is called? Thanks.","body":"Also, can you put a break point on createNotificationChannel() and tell me if that is called? Are there any errors in logcat after it is called? Thanks."},{"owner":{"account_id":13309938,"reputation":67,"user_id":9608534,"display_name":"Mike"},"score":0,"creation_date":1595668012,"post_id":63078084,"comment_id":111558744,"body_markdown":"I am still getting the toast while debugging, but the breakpoint doesn&#39;t seem to be hit. Nothing appearing in Logcat","body":"I am still getting the toast while debugging, but the breakpoint doesn&#39;t seem to be hit. Nothing appearing in Logcat"},{"owner":{"account_id":1751301,"reputation":3156,"user_id":1600332,"display_name":"Elletlar"},"score":0,"creation_date":1595669767,"post_id":63078084,"comment_id":111559105,"body_markdown":"I have moved the discussion below to the answer for more room. Cheers.","body":"I have moved the discussion below to the answer for more room. Cheers."}],"answers":[{"tags":[],"owner":{"account_id":1751301,"reputation":3156,"user_id":1600332,"display_name":"Elletlar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595669848,"creation_date":1595669464,"answer_id":63086685,"question_id":63078084,"body_markdown":"In the sample app, in NotificationSchedulerApplication:\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        createNotificationChannel();\r\n    }\r\n    \r\n    private void createNotificationChannel() {\r\n        // Create the NotificationChannel, but only on API 26+ because\r\n        // the NotificationChannel class is new and not in the support library\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = getString(R.string.channel_name);\r\n            String description = getString(R.string.channel_description);\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            channel.setDescription(description);\r\n            // Register the channel with the system; you can&#39;t change the importance\r\n            // or other notification behaviors after this\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\nThe bit in the AndroidManifest.xml that causes onCreate to be called in the Application followed by createNotificationChannel is this:\r\n\r\n    &lt;application\r\n        android:name=&quot;.NotificationSchedulerApplication&quot;\r\n        .../&gt;\r\n    &lt;/application&gt;\r\n\r\nonCreate in the Application should be called every time you do:\r\nRun -&gt; Debug \r\n\r\nJust click on the left of createNotificationChannel() to set a breakpoint.","title":"Getting a failed to post notification on channel &quot;channel_id_here&quot; error","body":"<p>In the sample app, in NotificationSchedulerApplication:</p>\n<pre><code>@Override\npublic void onCreate() {\n    super.onCreate();\n    createNotificationChannel();\n}\n\nprivate void createNotificationChannel() {\n    // Create the NotificationChannel, but only on API 26+ because\n    // the NotificationChannel class is new and not in the support library\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        CharSequence name = getString(R.string.channel_name);\n        String description = getString(R.string.channel_description);\n        int importance = NotificationManager.IMPORTANCE_DEFAULT;\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n        channel.setDescription(description);\n        // Register the channel with the system; you can't change the importance\n        // or other notification behaviors after this\n        NotificationManager notificationManager = getSystemService(NotificationManager.class);\n        notificationManager.createNotificationChannel(channel);\n    }\n}\n</code></pre>\n<p>The bit in the AndroidManifest.xml that causes onCreate to be called in the Application followed by createNotificationChannel is this:</p>\n<pre><code>&lt;application\n    android:name=&quot;.NotificationSchedulerApplication&quot;\n    .../&gt;\n&lt;/application&gt;\n</code></pre>\n<p>onCreate in the Application should be called every time you do:\nRun -&gt; Debug</p>\n<p>Just click on the left of createNotificationChannel() to set a breakpoint.</p>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677234497,"creation_date":1677234497,"answer_id":75555408,"question_id":63078084,"body_markdown":"I faced this problem when didn&#39;t create channel id\r\n\r\n    import PushNotification, {Importance} from &#39;react-native-push-notification&#39;;\r\n    ...\r\n    PushNotification.createChannel(\r\n    {\r\n      channelId: &quot;channel-id&quot;, // (required)\r\n      channelName: &quot;My channel&quot;, // (required)\r\n      channelDescription: &quot;A channel to categorise your notifications&quot;, // (optional) default: undefined.\r\n      playSound: false, // (optional) default: true\r\n      soundName: &quot;default&quot;, // (optional) See `soundName` parameter of `localNotification` function\r\n      importance: Importance.HIGH, // (optional) default: Importance.HIGH. Int value of the Android notification importance\r\n      vibrate: true, // (optional) default: true. Creates the default vibration pattern if true.\r\n    },\r\n    (created) =&gt; console.log(`createChannel returned &#39;${created}&#39;`) // (optional) callback returns whether the channel was created, false means it already existed.\r\n    );","title":"Getting a failed to post notification on channel &quot;channel_id_here&quot; error","body":"<p>I faced this problem when didn't create channel id</p>\n<pre><code>import PushNotification, {Importance} from 'react-native-push-notification';\n...\nPushNotification.createChannel(\n{\n  channelId: &quot;channel-id&quot;, // (required)\n  channelName: &quot;My channel&quot;, // (required)\n  channelDescription: &quot;A channel to categorise your notifications&quot;, // (optional) default: undefined.\n  playSound: false, // (optional) default: true\n  soundName: &quot;default&quot;, // (optional) See `soundName` parameter of `localNotification` function\n  importance: Importance.HIGH, // (optional) default: Importance.HIGH. Int value of the Android notification importance\n  vibrate: true, // (optional) default: true. Creates the default vibration pattern if true.\n},\n(created) =&gt; console.log(`createChannel returned '${created}'`) // (optional) callback returns whether the channel was created, false means it already existed.\n);\n</code></pre>\n"}],"owner":{"account_id":13309938,"reputation":67,"user_id":9608534,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5129,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63086685,"answer_count":2,"score":4,"last_activity_date":1677234497,"creation_date":1595609630,"question_id":63078084,"body_markdown":"I have been struggling for days now to get local notifications to display on an Android device. Notifications simply do not show up and I&#39;m getting a developer warning:\r\n\r\n    package Failed to post notification on channel &quot;channel_id_here&quot; error.\r\n\r\nI went through many tutorials and StackOverflow posts to see if there&#39;s anything I missed, but I simply can&#39;t find it. Can someone please take a look if I did something wrong here or if there&#39;s something I&#39;m missing. I would appreciate some assistance in sorting this out.\r\n\r\n\r\nMy app is targeting API 29 and I used code from this [git][1] \r\n\r\n\r\n  [1]: https://github.com/mtraver/android-notifications\r\n\r\nHere is the relevant code from my app:\r\n\r\nAppCompatPreferenceActivity.java\r\n\r\n    \r\n    public abstract class AppCompatPreferenceActivity extends PreferenceActivity {\r\n    \r\n        private AppCompatDelegate mDelegate;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            getDelegate().installViewFactory();\r\n            getDelegate().onCreate(savedInstanceState);\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostCreate(Bundle savedInstanceState) {\r\n            super.onPostCreate(savedInstanceState);\r\n            getDelegate().onPostCreate(savedInstanceState);\r\n        }\r\n    \r\n        public ActionBar getSupportActionBar() {\r\n            return getDelegate().getSupportActionBar();\r\n        }\r\n    \r\n        public void setSupportActionBar(@Nullable Toolbar toolbar) {\r\n            getDelegate().setSupportActionBar(toolbar);\r\n        }\r\n    \r\n        @Override\r\n        public MenuInflater getMenuInflater() {\r\n            return getDelegate().getMenuInflater();\r\n        }\r\n    \r\n        @Override\r\n        public void setContentView(@LayoutRes int layoutResID) {\r\n            getDelegate().setContentView(layoutResID);\r\n        }\r\n    \r\n        @Override\r\n        public void setContentView(View view) {\r\n            getDelegate().setContentView(view);\r\n        }\r\n    \r\n        @Override\r\n        public void setContentView(View view, ViewGroup.LayoutParams params) {\r\n            getDelegate().setContentView(view, params);\r\n        }\r\n    \r\n        @Override\r\n        public void addContentView(View view, ViewGroup.LayoutParams params) {\r\n            getDelegate().addContentView(view, params);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostResume() {\r\n            super.onPostResume();\r\n            getDelegate().onPostResume();\r\n        }\r\n    \r\n        @Override\r\n        protected void onTitleChanged(CharSequence title, int color) {\r\n            super.onTitleChanged(title, color);\r\n            getDelegate().setTitle(title);\r\n        }\r\n    \r\n        @Override\r\n        public void onConfigurationChanged(Configuration newConfig) {\r\n            super.onConfigurationChanged(newConfig);\r\n            getDelegate().onConfigurationChanged(newConfig);\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n            getDelegate().onStop();\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            getDelegate().onDestroy();\r\n        }\r\n    \r\n        public void invalidateOptionsMenu() {\r\n            getDelegate().invalidateOptionsMenu();\r\n        }\r\n    \r\n        private AppCompatDelegate getDelegate() {\r\n            if (mDelegate == null) {\r\n                mDelegate = AppCompatDelegate.create(this, null);\r\n            }\r\n            return mDelegate;\r\n        }\r\n    }\r\n\r\n     \r\n\r\nNotificationPublisher.java\r\n    \r\n    public class NotificationPublisher extends BroadcastReceiver {\r\n        public static String NOTIFICATION = &quot;notification&quot;;\r\n    \r\n        @Override\r\n        public void onReceive(Context ctx, Intent intent) {\r\n            NotificationManager notificationManager = (NotificationManager)\r\n                    ctx.getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n            // The notification may come from the received intent (see SettingsActivity for how to build\r\n            // it and add it to the intent). If not then we&#39;ll build a notification here.\r\n            Notification notification;\r\n            if (intent.hasExtra(NOTIFICATION)) {\r\n                notification = intent.getParcelableExtra(NOTIFICATION);\r\n            } else {\r\n                notification = buildNotification(ctx);\r\n            }\r\n    \r\n            // notificationId is a unique int for each notification.\r\n            // TODO Is the current time good enough?\r\n            int notificationId = (int) System.currentTimeMillis();\r\n    \r\n            notificationManager.notify(notificationId, notification);\r\n        }\r\n    \r\n        private Notification buildNotification(Context ctx) {\r\n            Intent intent = new Intent(ctx, com.app.myapp.activity.MainActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(ctx, 0, intent, 0);\r\n    \r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(ctx, CHANNEL_ID)\r\n                    .setSmallIcon(R.drawable.ic_stat_notification)\r\n                    .setContentTitle(&quot;Hello I&#39;m a notification!&quot;)\r\n                    .setContentText(&quot;Well look at that, it&#39;s content&quot;)\r\n                    .setContentIntent(pendingIntent)\r\n                    .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                    .setAutoCancel(true);\r\n    \r\n            return builder.build();\r\n        }\r\n    }\r\n\r\nNotificationSchedulerApplication.java\r\n    \r\n    public class NotificationSchedulerApplication extends Application {\r\n    \r\n        public static final String CHANNEL_ID = &quot;1998882&quot;;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            createNotificationChannel();\r\n        }\r\n    \r\n        private void createNotificationChannel() {\r\n            // Create the NotificationChannel, but only on API 26+ because\r\n            // the NotificationChannel class is new and not in the support library\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                CharSequence name = getString(R.string.channel_name);\r\n                String description = getString(R.string.channel_description);\r\n                int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n                NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n                channel.enableLights(true);\r\n                channel.setLightColor(Color.RED);\r\n                channel.enableVibration(true);\r\n                channel.setVibrationPattern(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\r\n                channel.setDescription(description);\r\n                // Register the channel with the system; you can&#39;t change the importance\r\n                // or other notification behaviors after this\r\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n        }\r\n    }\r\n\r\nSettingsActivity.java\r\n    \r\n    public class SettingsActivity extends AppCompatPreferenceActivity implements SharedPreferences.OnSharedPreferenceChangeListener {\r\n    \r\n        private static final String ENABLE_NOTIFICATIONS_PREF_KEY = &quot;notifications_enable&quot;;\r\n        private static final String NOTIFICATION_TIME_PREF_KEY = &quot;notifications_time&quot;;\r\n    \r\n        // This request code is used for all PendingIntents so that PendingIntents previously submitted\r\n        // to the AlarmManager can be looked up for cancellation or modification.\r\n        private static final int REQUEST_CODE = 0;\r\n    \r\n        /**\r\n         * A preference value change listener that updates the preference&#39;s summary\r\n         * to reflect its new value.\r\n         */\r\n        private static Preference.OnPreferenceChangeListener sBindPreferenceSummaryToValueListener = new Preference.OnPreferenceChangeListener() {\r\n            @Override\r\n            public boolean onPreferenceChange(Preference preference, Object value) {\r\n                if (preference instanceof ListPreference) {\r\n                    // For list preferences, look up the correct display value in\r\n                    // the preference&#39;s &#39;entries&#39; list.\r\n                    ListPreference listPreference = (ListPreference) preference;\r\n                    int index = listPreference.findIndexOfValue(value.toString());\r\n    \r\n                    preference.setSummary(\r\n                            index &gt;= 0\r\n                                    ? listPreference.getEntries()[index]\r\n                                    : null);\r\n                } else if (preference instanceof TimePreference) {\r\n                    TimePreference timePreference = (TimePreference) preference;\r\n                    preference.setSummary(timePreference.valueToSummary((int) value));\r\n                } else {\r\n                    // For all other preferences, set the summary to the value&#39;s\r\n                    // simple string representation.\r\n                    preference.setSummary(value.toString());\r\n                }\r\n                return true;\r\n            }\r\n        };\r\n    \r\n        /**\r\n         * Helper method to determine if the device has an extra-large screen. For\r\n         * example, 10&quot; tablets are extra-large.\r\n         */\r\n        private static boolean isXLargeTablet(Context context) {\r\n            return (context.getResources().getConfiguration().screenLayout\r\n                    &amp; Configuration.SCREENLAYOUT_SIZE_MASK) &gt;= Configuration.SCREENLAYOUT_SIZE_XLARGE;\r\n        }\r\n    \r\n        /**\r\n         * Binds a preference&#39;s summary to its value. More specifically, when the\r\n         * preference&#39;s value is changed, its summary (line of text below the\r\n         * preference title) is updated to reflect the value. The summary is also\r\n         * immediately updated upon calling this method. The exact display format is\r\n         * dependent on the type of preference.\r\n         *\r\n         * @see #sBindPreferenceSummaryToValueListener\r\n         */\r\n        private static void bindPreferenceSummaryToValue(Preference preference) {\r\n            preference.setOnPreferenceChangeListener(sBindPreferenceSummaryToValueListener);\r\n    \r\n            // Trigger the listener immediately with the preference&#39;s current value.\r\n            SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(\r\n                    preference.getContext());\r\n            Object value;\r\n            if (preference instanceof TimePreference) {\r\n                value = sharedPrefs.getInt(preference.getKey(), 0);\r\n            } else {\r\n                value = sharedPrefs.getString(preference.getKey(), &quot;&quot;);\r\n            }\r\n            sBindPreferenceSummaryToValueListener.onPreferenceChange(preference, value);\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setupActionBar();\r\n    \r\n            // Listen for changes to any preferences.\r\n            SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n            prefs.registerOnSharedPreferenceChangeListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String s) {\r\n            // We only want to take action if these particular preferences change.\r\n            if (!s.equals(ENABLE_NOTIFICATIONS_PREF_KEY) &amp;&amp; !s.equals(NOTIFICATION_TIME_PREF_KEY)) {\r\n                return;\r\n            }\r\n    \r\n            // If the preference was changed to false then we should cancel any pending notifications.\r\n            if (s.equals(ENABLE_NOTIFICATIONS_PREF_KEY) &amp;&amp; !sharedPreferences.getBoolean(s, false)) {\r\n                cancelIntents();\r\n                return;\r\n            }\r\n    \r\n            // Get the time at which to schedule notifications.\r\n            Calendar startTime = TimePreference.valueToCalendar(\r\n                    sharedPreferences.getInt(NOTIFICATION_TIME_PREF_KEY, 0));\r\n    \r\n            // If the time has already passed today, start notifications tomorrow.\r\n            Calendar now = Calendar.getInstance();\r\n            if (now.after(startTime)) {\r\n                startTime.add(Calendar.DATE, 1);\r\n            }\r\n    \r\n            // Build a notification, add it to the intent we&#39;ll schedule, and schedule it.\r\n    //        Notification notification = buildNotification();\r\n    //        scheduleNotification(notification, startTime);\r\n    \r\n            // Schedule an intent, and build and publish the notification in the future whenever\r\n            // the intent is received.\r\n            scheduleNotification(startTime);\r\n        }\r\n    \r\n        private PendingIntent getNotificationPublisherIntent(Notification notification) {\r\n            Intent intent = new Intent(this, NotificationPublisher.class);\r\n            if (notification != null) {\r\n                intent.putExtra(NotificationPublisher.NOTIFICATION, notification);\r\n            }\r\n    \r\n            return PendingIntent.getBroadcast(\r\n                    this, REQUEST_CODE, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        }\r\n    \r\n        private Notification buildNotification() {\r\n            Intent intent = new Intent(this, com.app.myapp.activity.MainActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, 0);\r\n    \r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                    .setSmallIcon(R.drawable.ic_stat_notification)\r\n                    .setContentTitle(&quot;Hello I&#39;m a notification!&quot;)\r\n                    .setContentText(&quot;Well look at that, it&#39;s content 111&quot;)\r\n                    .setContentIntent(pendingIntent)\r\n                    .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                    .setAutoCancel(true);\r\n    \r\n            return builder.build();\r\n        }\r\n    \r\n        private void scheduleNotification(Notification notification, Calendar startTime) {\r\n            scheduleIntent(getNotificationPublisherIntent(notification), startTime);\r\n        }\r\n    \r\n        private void scheduleNotification(Calendar startTime) {\r\n            scheduleIntent(getNotificationPublisherIntent(null), startTime);\r\n        }\r\n    \r\n        private void scheduleIntent(PendingIntent intent, Calendar startTime) {\r\n            AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n            alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, startTime.getTimeInMillis(),\r\n                    AlarmManager.INTERVAL_DAY, intent);\r\n        }\r\n    \r\n        private void cancelIntents() {\r\n            AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n            alarmManager.cancel(getNotificationPublisherIntent(null));\r\n        }\r\n    \r\n        /**\r\n         * Set up the {@link android.app.ActionBar}, if the API is available.\r\n         */\r\n        private void setupActionBar() {\r\n            ActionBar actionBar = getSupportActionBar();\r\n            if (actionBar != null) {\r\n                // Show the Up button in the action bar.\r\n                actionBar.setDisplayHomeAsUpEnabled(true);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * {@inheritDoc}\r\n         */\r\n        @Override\r\n        public boolean onIsMultiPane() {\r\n            return isXLargeTablet(this);\r\n        }\r\n    \r\n        /**\r\n         * {@inheritDoc}\r\n         */\r\n        @Override\r\n        @TargetApi(Build.VERSION_CODES.HONEYCOMB)\r\n        public void onBuildHeaders(List&lt;Header&gt; target) {\r\n            loadHeadersFromResource(R.xml.pref_headers, target);\r\n        }\r\n    \r\n        /**\r\n         * This method stops fragment injection in malicious applications.\r\n         * Make sure to deny any unknown fragments here.\r\n         */\r\n        protected boolean isValidFragment(String fragmentName) {\r\n            return PreferenceFragment.class.getName().equals(fragmentName)\r\n                    || NotificationPreferenceFragment.class.getName().equals(fragmentName);\r\n        }\r\n    \r\n        /**\r\n         * This fragment shows notification preferences only. It is used when the\r\n         * activity is showing a two-pane settings UI.\r\n         */\r\n        @TargetApi(Build.VERSION_CODES.HONEYCOMB)\r\n        public static class NotificationPreferenceFragment extends PreferenceFragment {\r\n            @Override\r\n            public void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                addPreferencesFromResource(R.xml.pref_notification);\r\n                setHasOptionsMenu(true);\r\n    \r\n                // Bind the summary of the TimePreference to its value. When the value changes, the\r\n                // summary is updated to reflect the new value, per the Android Design guidelines.\r\n                bindPreferenceSummaryToValue(findPreference(&quot;notifications_time&quot;));\r\n            }\r\n    \r\n            @Override\r\n            public boolean onOptionsItemSelected(MenuItem item) {\r\n                int id = item.getItemId();\r\n                if (id == android.R.id.home) {\r\n                    startActivity(new Intent(getActivity(), SettingsActivity.class));\r\n                    return true;\r\n                }\r\n                return super.onOptionsItemSelected(item);\r\n            }\r\n        }\r\n    } \r\n\r\nTimePreference.java\r\n\r\n    public class TimePreference extends DialogPreference {\r\n    \r\n        // This is the same as the default value set in the XML. Keep them in sync.\r\n        private static final int DEFAULT_TIME = 7 * 60;  // 0700\r\n    \r\n        // The currently chosen time stored as the number of minutes after midnight.\r\n        private int time;\r\n    \r\n        private TimePicker picker;\r\n    \r\n        public TimePreference(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n            super(context, attrs, defStyleAttr, defStyleRes);\r\n        }\r\n    \r\n        public TimePreference(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        public TimePreference(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        public TimePreference(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        /**\r\n         * valueToSummary takes the raw value of the preference and converts it into a human-readable\r\n         * string fit for use in e.g. the preference&#39;s summary.\r\n         *\r\n         * @param value The raw value of the preference.\r\n         * @return The time formatted according to the current settings (locale, 12/24 hour clock)\r\n         */\r\n        public String valueToSummary(int value) {\r\n            return DateFormat.getTimeFormat(getContext()).format(valueToCalendar(value).getTime());\r\n        }\r\n    \r\n        public static Calendar valueToCalendar(int value) {\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.set(Calendar.HOUR_OF_DAY, getHours(value));\r\n            calendar.set(Calendar.MINUTE, getMinutes(value));\r\n            calendar.set(Calendar.SECOND, 0);\r\n    \r\n            return calendar;\r\n        }\r\n    \r\n        private void setTime(int minAfterMidnight) {\r\n            time = minAfterMidnight;\r\n            persistInt(time);\r\n            notifyChanged();\r\n        }\r\n    \r\n        private static int getHours(int minAfterMidnight) {\r\n            return minAfterMidnight / 60;\r\n        }\r\n    \r\n        private static int getMinutes(int minAfterMidnight) {\r\n            return minAfterMidnight % 60;\r\n        }\r\n    \r\n        @Override\r\n        protected View onCreateDialogView() {\r\n            picker = new TimePicker(getContext());\r\n            return picker;\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindDialogView(View view) {\r\n            super.onBindDialogView(view);\r\n    \r\n            picker.setIs24HourView(DateFormat.is24HourFormat(getContext()));\r\n            if (Build.VERSION.SDK_INT &gt;= 23) {\r\n                picker.setHour(getHours(time));\r\n                picker.setMinute(getMinutes(time));\r\n            } else {\r\n                picker.setCurrentHour(getHours(time));\r\n                picker.setCurrentMinute(getMinutes(time));\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onDialogClosed(boolean positiveResult) {\r\n            super.onDialogClosed(positiveResult);\r\n    \r\n            if (positiveResult) {\r\n                int hours, minutes;\r\n                if (Build.VERSION.SDK_INT &gt;= 23) {\r\n                    hours = picker.getHour();\r\n                    minutes = picker.getMinute();\r\n                } else {\r\n                    hours = picker.getCurrentHour();\r\n                    minutes = picker.getCurrentMinute();\r\n                }\r\n    \r\n                int newTime = hours * 60 + minutes;\r\n                if (callChangeListener(newTime)) {\r\n                    setTime(newTime);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected Object onGetDefaultValue(TypedArray a, int index) {\r\n            return a.getInt(index, DEFAULT_TIME);\r\n        }\r\n    \r\n        @Override\r\n        protected void onSetInitialValue(boolean restorePersistedValue, Object defaultValue) {\r\n            super.onSetInitialValue(restorePersistedValue, defaultValue);\r\n            setTime(restorePersistedValue ? getPersistedInt(time) : (int) defaultValue);\r\n        }\r\n    }\r\n\r\n     \r\nThe receiver in my AndroidManifest.xml:\r\n\r\n    &lt;receiver android:name=&quot;.activity.NotificationPublisher&quot; /&gt; \r\n\r\nI can set the time in my app and notifications are enabled for the app on the device. They simply don&#39;t display.\r\n\r\nNote: I am developing with Android API 29.","title":"Getting a failed to post notification on channel &quot;channel_id_here&quot; error","body":"<p>I have been struggling for days now to get local notifications to display on an Android device. Notifications simply do not show up and I'm getting a developer warning:</p>\n<pre><code>package Failed to post notification on channel &quot;channel_id_here&quot; error.\n</code></pre>\n<p>I went through many tutorials and StackOverflow posts to see if there's anything I missed, but I simply can't find it. Can someone please take a look if I did something wrong here or if there's something I'm missing. I would appreciate some assistance in sorting this out.</p>\n<p>My app is targeting API 29 and I used code from this <a href=\"https://github.com/mtraver/android-notifications\" rel=\"nofollow noreferrer\">git</a></p>\n<p>Here is the relevant code from my app:</p>\n<p>AppCompatPreferenceActivity.java</p>\n<pre><code>public abstract class AppCompatPreferenceActivity extends PreferenceActivity {\n\n    private AppCompatDelegate mDelegate;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        getDelegate().installViewFactory();\n        getDelegate().onCreate(savedInstanceState);\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    protected void onPostCreate(Bundle savedInstanceState) {\n        super.onPostCreate(savedInstanceState);\n        getDelegate().onPostCreate(savedInstanceState);\n    }\n\n    public ActionBar getSupportActionBar() {\n        return getDelegate().getSupportActionBar();\n    }\n\n    public void setSupportActionBar(@Nullable Toolbar toolbar) {\n        getDelegate().setSupportActionBar(toolbar);\n    }\n\n    @Override\n    public MenuInflater getMenuInflater() {\n        return getDelegate().getMenuInflater();\n    }\n\n    @Override\n    public void setContentView(@LayoutRes int layoutResID) {\n        getDelegate().setContentView(layoutResID);\n    }\n\n    @Override\n    public void setContentView(View view) {\n        getDelegate().setContentView(view);\n    }\n\n    @Override\n    public void setContentView(View view, ViewGroup.LayoutParams params) {\n        getDelegate().setContentView(view, params);\n    }\n\n    @Override\n    public void addContentView(View view, ViewGroup.LayoutParams params) {\n        getDelegate().addContentView(view, params);\n    }\n\n    @Override\n    protected void onPostResume() {\n        super.onPostResume();\n        getDelegate().onPostResume();\n    }\n\n    @Override\n    protected void onTitleChanged(CharSequence title, int color) {\n        super.onTitleChanged(title, color);\n        getDelegate().setTitle(title);\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n        getDelegate().onConfigurationChanged(newConfig);\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        getDelegate().onStop();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        getDelegate().onDestroy();\n    }\n\n    public void invalidateOptionsMenu() {\n        getDelegate().invalidateOptionsMenu();\n    }\n\n    private AppCompatDelegate getDelegate() {\n        if (mDelegate == null) {\n            mDelegate = AppCompatDelegate.create(this, null);\n        }\n        return mDelegate;\n    }\n}\n\n \n</code></pre>\n<p>NotificationPublisher.java</p>\n<pre><code>public class NotificationPublisher extends BroadcastReceiver {\n    public static String NOTIFICATION = &quot;notification&quot;;\n\n    @Override\n    public void onReceive(Context ctx, Intent intent) {\n        NotificationManager notificationManager = (NotificationManager)\n                ctx.getSystemService(Context.NOTIFICATION_SERVICE);\n\n        // The notification may come from the received intent (see SettingsActivity for how to build\n        // it and add it to the intent). If not then we'll build a notification here.\n        Notification notification;\n        if (intent.hasExtra(NOTIFICATION)) {\n            notification = intent.getParcelableExtra(NOTIFICATION);\n        } else {\n            notification = buildNotification(ctx);\n        }\n\n        // notificationId is a unique int for each notification.\n        // TODO Is the current time good enough?\n        int notificationId = (int) System.currentTimeMillis();\n\n        notificationManager.notify(notificationId, notification);\n    }\n\n    private Notification buildNotification(Context ctx) {\n        Intent intent = new Intent(ctx, com.app.myapp.activity.MainActivity.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(ctx, 0, intent, 0);\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(ctx, CHANNEL_ID)\n                .setSmallIcon(R.drawable.ic_stat_notification)\n                .setContentTitle(&quot;Hello I'm a notification!&quot;)\n                .setContentText(&quot;Well look at that, it's content&quot;)\n                .setContentIntent(pendingIntent)\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                .setAutoCancel(true);\n\n        return builder.build();\n    }\n}\n</code></pre>\n<p>NotificationSchedulerApplication.java</p>\n<pre><code>public class NotificationSchedulerApplication extends Application {\n\n    public static final String CHANNEL_ID = &quot;1998882&quot;;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        createNotificationChannel();\n    }\n\n    private void createNotificationChannel() {\n        // Create the NotificationChannel, but only on API 26+ because\n        // the NotificationChannel class is new and not in the support library\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            CharSequence name = getString(R.string.channel_name);\n            String description = getString(R.string.channel_description);\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n            channel.enableLights(true);\n            channel.setLightColor(Color.RED);\n            channel.enableVibration(true);\n            channel.setVibrationPattern(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\n            channel.setDescription(description);\n            // Register the channel with the system; you can't change the importance\n            // or other notification behaviors after this\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n}\n</code></pre>\n<p>SettingsActivity.java</p>\n<pre><code>public class SettingsActivity extends AppCompatPreferenceActivity implements SharedPreferences.OnSharedPreferenceChangeListener {\n\n    private static final String ENABLE_NOTIFICATIONS_PREF_KEY = &quot;notifications_enable&quot;;\n    private static final String NOTIFICATION_TIME_PREF_KEY = &quot;notifications_time&quot;;\n\n    // This request code is used for all PendingIntents so that PendingIntents previously submitted\n    // to the AlarmManager can be looked up for cancellation or modification.\n    private static final int REQUEST_CODE = 0;\n\n    /**\n     * A preference value change listener that updates the preference's summary\n     * to reflect its new value.\n     */\n    private static Preference.OnPreferenceChangeListener sBindPreferenceSummaryToValueListener = new Preference.OnPreferenceChangeListener() {\n        @Override\n        public boolean onPreferenceChange(Preference preference, Object value) {\n            if (preference instanceof ListPreference) {\n                // For list preferences, look up the correct display value in\n                // the preference's 'entries' list.\n                ListPreference listPreference = (ListPreference) preference;\n                int index = listPreference.findIndexOfValue(value.toString());\n\n                preference.setSummary(\n                        index &gt;= 0\n                                ? listPreference.getEntries()[index]\n                                : null);\n            } else if (preference instanceof TimePreference) {\n                TimePreference timePreference = (TimePreference) preference;\n                preference.setSummary(timePreference.valueToSummary((int) value));\n            } else {\n                // For all other preferences, set the summary to the value's\n                // simple string representation.\n                preference.setSummary(value.toString());\n            }\n            return true;\n        }\n    };\n\n    /**\n     * Helper method to determine if the device has an extra-large screen. For\n     * example, 10&quot; tablets are extra-large.\n     */\n    private static boolean isXLargeTablet(Context context) {\n        return (context.getResources().getConfiguration().screenLayout\n                &amp; Configuration.SCREENLAYOUT_SIZE_MASK) &gt;= Configuration.SCREENLAYOUT_SIZE_XLARGE;\n    }\n\n    /**\n     * Binds a preference's summary to its value. More specifically, when the\n     * preference's value is changed, its summary (line of text below the\n     * preference title) is updated to reflect the value. The summary is also\n     * immediately updated upon calling this method. The exact display format is\n     * dependent on the type of preference.\n     *\n     * @see #sBindPreferenceSummaryToValueListener\n     */\n    private static void bindPreferenceSummaryToValue(Preference preference) {\n        preference.setOnPreferenceChangeListener(sBindPreferenceSummaryToValueListener);\n\n        // Trigger the listener immediately with the preference's current value.\n        SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(\n                preference.getContext());\n        Object value;\n        if (preference instanceof TimePreference) {\n            value = sharedPrefs.getInt(preference.getKey(), 0);\n        } else {\n            value = sharedPrefs.getString(preference.getKey(), &quot;&quot;);\n        }\n        sBindPreferenceSummaryToValueListener.onPreferenceChange(preference, value);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setupActionBar();\n\n        // Listen for changes to any preferences.\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n        prefs.registerOnSharedPreferenceChangeListener(this);\n    }\n\n    @Override\n    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String s) {\n        // We only want to take action if these particular preferences change.\n        if (!s.equals(ENABLE_NOTIFICATIONS_PREF_KEY) &amp;&amp; !s.equals(NOTIFICATION_TIME_PREF_KEY)) {\n            return;\n        }\n\n        // If the preference was changed to false then we should cancel any pending notifications.\n        if (s.equals(ENABLE_NOTIFICATIONS_PREF_KEY) &amp;&amp; !sharedPreferences.getBoolean(s, false)) {\n            cancelIntents();\n            return;\n        }\n\n        // Get the time at which to schedule notifications.\n        Calendar startTime = TimePreference.valueToCalendar(\n                sharedPreferences.getInt(NOTIFICATION_TIME_PREF_KEY, 0));\n\n        // If the time has already passed today, start notifications tomorrow.\n        Calendar now = Calendar.getInstance();\n        if (now.after(startTime)) {\n            startTime.add(Calendar.DATE, 1);\n        }\n\n        // Build a notification, add it to the intent we'll schedule, and schedule it.\n//        Notification notification = buildNotification();\n//        scheduleNotification(notification, startTime);\n\n        // Schedule an intent, and build and publish the notification in the future whenever\n        // the intent is received.\n        scheduleNotification(startTime);\n    }\n\n    private PendingIntent getNotificationPublisherIntent(Notification notification) {\n        Intent intent = new Intent(this, NotificationPublisher.class);\n        if (notification != null) {\n            intent.putExtra(NotificationPublisher.NOTIFICATION, notification);\n        }\n\n        return PendingIntent.getBroadcast(\n                this, REQUEST_CODE, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n    }\n\n    private Notification buildNotification() {\n        Intent intent = new Intent(this, com.app.myapp.activity.MainActivity.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, 0);\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setSmallIcon(R.drawable.ic_stat_notification)\n                .setContentTitle(&quot;Hello I'm a notification!&quot;)\n                .setContentText(&quot;Well look at that, it's content 111&quot;)\n                .setContentIntent(pendingIntent)\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                .setAutoCancel(true);\n\n        return builder.build();\n    }\n\n    private void scheduleNotification(Notification notification, Calendar startTime) {\n        scheduleIntent(getNotificationPublisherIntent(notification), startTime);\n    }\n\n    private void scheduleNotification(Calendar startTime) {\n        scheduleIntent(getNotificationPublisherIntent(null), startTime);\n    }\n\n    private void scheduleIntent(PendingIntent intent, Calendar startTime) {\n        AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, startTime.getTimeInMillis(),\n                AlarmManager.INTERVAL_DAY, intent);\n    }\n\n    private void cancelIntents() {\n        AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n        alarmManager.cancel(getNotificationPublisherIntent(null));\n    }\n\n    /**\n     * Set up the {@link android.app.ActionBar}, if the API is available.\n     */\n    private void setupActionBar() {\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            // Show the Up button in the action bar.\n            actionBar.setDisplayHomeAsUpEnabled(true);\n        }\n    }\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public boolean onIsMultiPane() {\n        return isXLargeTablet(this);\n    }\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\n    public void onBuildHeaders(List&lt;Header&gt; target) {\n        loadHeadersFromResource(R.xml.pref_headers, target);\n    }\n\n    /**\n     * This method stops fragment injection in malicious applications.\n     * Make sure to deny any unknown fragments here.\n     */\n    protected boolean isValidFragment(String fragmentName) {\n        return PreferenceFragment.class.getName().equals(fragmentName)\n                || NotificationPreferenceFragment.class.getName().equals(fragmentName);\n    }\n\n    /**\n     * This fragment shows notification preferences only. It is used when the\n     * activity is showing a two-pane settings UI.\n     */\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\n    public static class NotificationPreferenceFragment extends PreferenceFragment {\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            addPreferencesFromResource(R.xml.pref_notification);\n            setHasOptionsMenu(true);\n\n            // Bind the summary of the TimePreference to its value. When the value changes, the\n            // summary is updated to reflect the new value, per the Android Design guidelines.\n            bindPreferenceSummaryToValue(findPreference(&quot;notifications_time&quot;));\n        }\n\n        @Override\n        public boolean onOptionsItemSelected(MenuItem item) {\n            int id = item.getItemId();\n            if (id == android.R.id.home) {\n                startActivity(new Intent(getActivity(), SettingsActivity.class));\n                return true;\n            }\n            return super.onOptionsItemSelected(item);\n        }\n    }\n} \n</code></pre>\n<p>TimePreference.java</p>\n<pre><code>public class TimePreference extends DialogPreference {\n\n    // This is the same as the default value set in the XML. Keep them in sync.\n    private static final int DEFAULT_TIME = 7 * 60;  // 0700\n\n    // The currently chosen time stored as the number of minutes after midnight.\n    private int time;\n\n    private TimePicker picker;\n\n    public TimePreference(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n    }\n\n    public TimePreference(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    public TimePreference(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public TimePreference(Context context) {\n        super(context);\n    }\n\n    /**\n     * valueToSummary takes the raw value of the preference and converts it into a human-readable\n     * string fit for use in e.g. the preference's summary.\n     *\n     * @param value The raw value of the preference.\n     * @return The time formatted according to the current settings (locale, 12/24 hour clock)\n     */\n    public String valueToSummary(int value) {\n        return DateFormat.getTimeFormat(getContext()).format(valueToCalendar(value).getTime());\n    }\n\n    public static Calendar valueToCalendar(int value) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.HOUR_OF_DAY, getHours(value));\n        calendar.set(Calendar.MINUTE, getMinutes(value));\n        calendar.set(Calendar.SECOND, 0);\n\n        return calendar;\n    }\n\n    private void setTime(int minAfterMidnight) {\n        time = minAfterMidnight;\n        persistInt(time);\n        notifyChanged();\n    }\n\n    private static int getHours(int minAfterMidnight) {\n        return minAfterMidnight / 60;\n    }\n\n    private static int getMinutes(int minAfterMidnight) {\n        return minAfterMidnight % 60;\n    }\n\n    @Override\n    protected View onCreateDialogView() {\n        picker = new TimePicker(getContext());\n        return picker;\n    }\n\n    @Override\n    protected void onBindDialogView(View view) {\n        super.onBindDialogView(view);\n\n        picker.setIs24HourView(DateFormat.is24HourFormat(getContext()));\n        if (Build.VERSION.SDK_INT &gt;= 23) {\n            picker.setHour(getHours(time));\n            picker.setMinute(getMinutes(time));\n        } else {\n            picker.setCurrentHour(getHours(time));\n            picker.setCurrentMinute(getMinutes(time));\n        }\n    }\n\n    @Override\n    protected void onDialogClosed(boolean positiveResult) {\n        super.onDialogClosed(positiveResult);\n\n        if (positiveResult) {\n            int hours, minutes;\n            if (Build.VERSION.SDK_INT &gt;= 23) {\n                hours = picker.getHour();\n                minutes = picker.getMinute();\n            } else {\n                hours = picker.getCurrentHour();\n                minutes = picker.getCurrentMinute();\n            }\n\n            int newTime = hours * 60 + minutes;\n            if (callChangeListener(newTime)) {\n                setTime(newTime);\n            }\n        }\n    }\n\n    @Override\n    protected Object onGetDefaultValue(TypedArray a, int index) {\n        return a.getInt(index, DEFAULT_TIME);\n    }\n\n    @Override\n    protected void onSetInitialValue(boolean restorePersistedValue, Object defaultValue) {\n        super.onSetInitialValue(restorePersistedValue, defaultValue);\n        setTime(restorePersistedValue ? getPersistedInt(time) : (int) defaultValue);\n    }\n}\n\n \n</code></pre>\n<p>The receiver in my AndroidManifest.xml:</p>\n<pre><code>&lt;receiver android:name=&quot;.activity.NotificationPublisher&quot; /&gt; \n</code></pre>\n<p>I can set the time in my app and notifications are enabled for the app on the device. They simply don't display.</p>\n<p>Note: I am developing with Android API 29.</p>\n"},{"tags":["java","maven","maven-plugin","maven-enforcer-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1677238701,"post_id":75555366,"comment_id":133302963,"body_markdown":"if you only execute enforcer by cli try to remove from child enforcer definition it contains nothing new - everything is in parent","body":"if you only execute enforcer by cli try to remove from child enforcer definition it contains nothing new - everything is in parent"}],"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677234284,"creation_date":1677234284,"question_id":75555366,"body_markdown":"I defined the enforcer plugin within my parent pom like so:\r\n\r\n```\r\n&lt;build&gt;\r\n &lt;pluginManagement&gt;\r\n  &lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;rules&gt;\r\n\t\t\t\t&lt;dependencyConvergence /&gt;\r\n\t\t\t&lt;/rules&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```\r\nin the child pom it is simply under \r\n\r\n```\r\n&lt;build&gt;\r\n &lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n  &lt;/plugin&gt;\r\n &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n``` \r\nrunning ```enforcer:enforce``` works in the parent pom itself (as expected). I clean installed the child pom and then ran the same command, but I was met with:\r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.2.1:enforce (default-cli) on project my-project: No rules are configured.\r\n```\r\n\r\nI can&#39;t figure out why the rule is being ignored or not inherited? The plugin seems to be inherited properly but not the rule?","title":"maven-enforcer rule not being inherited","body":"<p>I defined the enforcer plugin within my parent pom like so:</p>\n<pre><code>&lt;build&gt;\n &lt;pluginManagement&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;rules&gt;\n                &lt;dependencyConvergence /&gt;\n            &lt;/rules&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>in the child pom it is simply under</p>\n<pre><code>&lt;build&gt;\n &lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;inherited&gt;true&lt;/inherited&gt;\n  &lt;/plugin&gt;\n &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>running <code>enforcer:enforce</code> works in the parent pom itself (as expected). I clean installed the child pom and then ran the same command, but I was met with:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.2.1:enforce (default-cli) on project my-project: No rules are configured.\n</code></pre>\n<p>I can't figure out why the rule is being ignored or not inherited? The plugin seems to be inherited properly but not the rule?</p>\n"},{"tags":["java","spring-boot","hibernate","google-cloud-platform","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677233608,"creation_date":1677233608,"answer_id":75555250,"question_id":75538430,"body_markdown":"```The Application Default Credentials are not available.```\r\nThe above error occurs when you have not [set up Application Default Credential(ADC)][1]. To do that run the following command\r\n\r\n```gcloud auth application-default login```\r\n\r\nAlso add the following dependencies in `pom.xml`\r\n```\r\n&lt;!-- Add Spring Cloud GCP Dependency BOM --&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      ...\r\n      &lt;!-- Add CloudSQL Starter for MySQL --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nYou can follow this [tutorial][2] for connecting `cloud sql`.\r\n\r\nAlso make sure you have entered valid credentials in your `application.properties`.\r\n\r\n[1]: https://cloud.google.com/docs/authentication/provide-credentials-adc#local-user-cred \r\n[2]: https://codelabs.developers.google.com/codelabs/cloud-spring-petclinic-cloudsql#0 \r\n\r\n","title":"The Application Default Credentials are not available error When Connecting Spring Boot and Hibernate to google cloud SQL DB","body":"<p><code>The Application Default Credentials are not available.</code>\nThe above error occurs when you have not <a href=\"https://cloud.google.com/docs/authentication/provide-credentials-adc#local-user-cred\" rel=\"nofollow noreferrer\">set up Application Default Credential(ADC)</a>. To do that run the following command</p>\n<p><code>gcloud auth application-default login</code></p>\n<p>Also add the following dependencies in <code>pom.xml</code></p>\n<pre><code>&lt;!-- Add Spring Cloud GCP Dependency BOM --&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n          &lt;type&gt;pom&lt;/type&gt;\n          &lt;scope&gt;import&lt;/scope&gt;\n          &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n      ...\n      &lt;!-- Add CloudSQL Starter for MySQL --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      ...\n    &lt;/dependencies&gt;\n</code></pre>\n<p>You can follow this <a href=\"https://codelabs.developers.google.com/codelabs/cloud-spring-petclinic-cloudsql#0\" rel=\"nofollow noreferrer\">tutorial</a> for connecting <code>cloud sql</code>.</p>\n<p>Also make sure you have entered valid credentials in your <code>application.properties</code>.</p>\n"}],"owner":{"account_id":27854077,"reputation":13,"user_id":21267971,"display_name":"Peter Sabio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677233608,"creation_date":1677102053,"question_id":75538430,"body_markdown":"When I try to connect my hibernate and spring boot to the google DB i get this error\r\n\r\n```\r\njava.sql.SQLNonTransientConnectionException: Could not create connection to database server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:997) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.seniorproject.Backend.BackendApplication.main(BackendApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.RuntimeException: Unable to obtain credentials to communicate with the Cloud SQL API\r\n\tat com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:394) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.getInstance(CoreSocketFactory.java:140) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:258) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:215) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:57) ~[mysql-socket-factory-connector-j-8-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:43) ~[mysql-socket-factory-connector-j-8-1.10.0.jar:na]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\t... 48 common frames omitted\r\nCaused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n\tat com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:125) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\r\n\tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\r\n\tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\r\n\tat com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:392) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\t... 56 common frames omitted\r\n\r\n2023-02-22T16:30:09.121-05:00  WARN 11388 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\njava.sql.SQLNonTransientConnectionException: Could not create connection to database server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:997) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.seniorproject.Backend.BackendApplication.main(BackendApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.RuntimeException: Unable to obtain credentials to communicate with the Cloud SQL API\r\n\tat com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:394) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.getInstance(CoreSocketFactory.java:140) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:258) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:215) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:57) ~[mysql-socket-factory-connector-j-8-1.10.0.jar:na]\r\n\tat com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:43) ~[mysql-socket-factory-connector-j-8-1.10.0.jar:na]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\t... 48 common frames omitted\r\nCaused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n\tat com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:125) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\r\n\tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\r\n\tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\r\n\tat com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:392) ~[jdbc-socket-factory-core-1.10.0.jar:na]\r\n\t... 56 common frames omitted\r\n```\r\nhere is my application.properties file\r\n\r\n```\r\n#datasource configurations\r\nspring.datasource.url=jdbc:mysql:///seniorproject-db?cloudSqlInstance=seniorproject-376014:us-central1:seniorproject-db&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory\r\nspring.datasource.username= a username\r\nspring.datasource.password= a password\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nspring.cloud.gcp.project-id=seniorproject-376014\r\nspring.cloud.gcp.credentials.location=classpath:/src/main/resources/seniorprojectKey.json\r\n```\r\nhere is pom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.seniorproject&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Backend&lt;/name&gt;\r\n\t&lt;description&gt;backend for senior project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-socket-factory-connector-j-8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nI think the problem has to do with the connection to the DB itself. Reading over the error I think spring boot can not find the google credentials for some reason. I have the key json file in the resources found.\r\n\r\nIm just learning spring boot and hibernate so any help would be greatly appreciated ","title":"The Application Default Credentials are not available error When Connecting Spring Boot and Hibernate to google cloud SQL DB","body":"<p>When I try to connect my hibernate and spring boot to the google DB i get this error</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Could not create connection to database server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:997) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.seniorproject.Backend.BackendApplication.main(BackendApplication.java:10) ~[classes/:na]\nCaused by: java.lang.RuntimeException: Unable to obtain credentials to communicate with the Cloud SQL API\n    at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:394) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    at com.google.cloud.sql.core.CoreSocketFactory.getInstance(CoreSocketFactory.java:140) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:258) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:215) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:57) ~[mysql-socket-factory-connector-j-8-1.10.0.jar:na]\n    at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:43) ~[mysql-socket-factory-connector-j-8-1.10.0.jar:na]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    ... 48 common frames omitted\nCaused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n    at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:125) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\n    at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:392) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    ... 56 common frames omitted\n\n2023-02-22T16:30:09.121-05:00  WARN 11388 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\njava.sql.SQLNonTransientConnectionException: Could not create connection to database server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:997) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.seniorproject.Backend.BackendApplication.main(BackendApplication.java:10) ~[classes/:na]\nCaused by: java.lang.RuntimeException: Unable to obtain credentials to communicate with the Cloud SQL API\n    at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:394) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    at com.google.cloud.sql.core.CoreSocketFactory.getInstance(CoreSocketFactory.java:140) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:258) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:215) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:57) ~[mysql-socket-factory-connector-j-8-1.10.0.jar:na]\n    at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:43) ~[mysql-socket-factory-connector-j-8-1.10.0.jar:na]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    ... 48 common frames omitted\nCaused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n    at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:125) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97) ~[google-auth-library-oauth2-http-1.13.0.jar:na]\n    at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:392) ~[jdbc-socket-factory-core-1.10.0.jar:na]\n    ... 56 common frames omitted\n</code></pre>\n<p>here is my application.properties file</p>\n<pre><code>#datasource configurations\nspring.datasource.url=jdbc:mysql:///seniorproject-db?cloudSqlInstance=seniorproject-376014:us-central1:seniorproject-db&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory\nspring.datasource.username= a username\nspring.datasource.password= a password\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n\nspring.cloud.gcp.project-id=seniorproject-376014\nspring.cloud.gcp.credentials.location=classpath:/src/main/resources/seniorprojectKey.json\n</code></pre>\n<p>here is pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.seniorproject&lt;/groupId&gt;\n    &lt;artifactId&gt;Backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Backend&lt;/name&gt;\n    &lt;description&gt;backend for senior project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-socket-factory-connector-j-8&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I think the problem has to do with the connection to the DB itself. Reading over the error I think spring boot can not find the google credentials for some reason. I have the key json file in the resources found.</p>\n<p>Im just learning spring boot and hibernate so any help would be greatly appreciated</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":16730831,"reputation":820,"user_id":12093209,"display_name":"qwerty"},"score":5,"creation_date":1600823954,"post_id":64019647,"comment_id":113207683,"body_markdown":"Assuming this code is in a method (and if it isn&#39;t, it should be), you should be terminating the method using `return` rather than keeping it blank.","body":"Assuming this code is in a method (and if it isn&#39;t, it should be), you should be terminating the method using <code>return</code> rather than keeping it blank."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":27,"creation_date":1600824478,"post_id":64019647,"comment_id":113207796,"body_markdown":"I don&#39;t agree that a return should be used here. We&#39;re not looking at a complete function or method here. Who&#39;s to say there isn&#39;t more code after this?","body":"I don&#39;t agree that a return should be used here. We&#39;re not looking at a complete function or method here. Who&#39;s to say there isn&#39;t more code after this?"},{"owner":{"account_id":19359229,"reputation":1441,"user_id":14154817,"display_name":"J.Backus"},"score":2,"creation_date":1600859662,"post_id":64019647,"comment_id":113219599,"body_markdown":"Furthermore, sticking a return in one clause, but not all, makes a special case which then makes it more difficult to see the overall structure.","body":"Furthermore, sticking a return in one clause, but not all, makes a special case which then makes it more difficult to see the overall structure."},{"owner":{"account_id":104387,"reputation":4600,"user_id":279112,"accept_rate":82,"display_name":"Panzercrisis"},"score":34,"creation_date":1600874255,"post_id":64019647,"comment_id":113227695,"body_markdown":"Personally I feel like the semicolon after `(! seesWater(AHEAD))` is a little hard to spot.  Part of it is because `))` and `));` look similar, and part of it is because it&#39;s a little out of the ordinary to immediately follow an `if` clause with a semicolon.  Maybe `{ }` might be better suited for this case.","body":"Personally I feel like the semicolon after <code>(! seesWater(AHEAD))</code> is a little hard to spot.  Part of it is because <code>))</code> and <code>));</code> look similar, and part of it is because it&#39;s a little out of the ordinary to immediately follow an <code>if</code> clause with a semicolon.  Maybe <code>{ }</code> might be better suited for this case."},{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":15,"creation_date":1600874503,"post_id":64019647,"comment_id":113227807,"body_markdown":"Putting semicolon on the same line is often a typo; many style checkers will warn about that, and you need to use either an empty block `{}` or put the semicolon on the next line to silence them.","body":"Putting semicolon on the same line is often a typo; many style checkers will warn about that, and you need to use either an empty block <code>{}</code> or put the semicolon on the next line to silence them."},{"owner":{"account_id":5443895,"reputation":215,"user_id":4406754,"display_name":"jamesqf"},"score":6,"creation_date":1600879912,"post_id":64019647,"comment_id":113230433,"body_markdown":"@Panzercrisis: Not only is it a little hard to spot, it&#39;s also hard to understand what the author expects the code to be doing after you&#39;ve spotted it, since IMHO most people just wouldn&#39;t do that.","body":"@Panzercrisis: Not only is it a little hard to spot, it&#39;s also hard to understand what the author expects the code to be doing after you&#39;ve spotted it, since IMHO most people just wouldn&#39;t do that."},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":1,"creation_date":1600898178,"post_id":64019647,"comment_id":113238153,"body_markdown":"I like the suggestions about putting a comment in the AHEAD block. Right now on first glance I might take it as a fall-through case on a switch statement because of how it lines up with the condition below it.","body":"I like the suggestions about putting a comment in the AHEAD block. Right now on first glance I might take it as a fall-through case on a switch statement because of how it lines up with the condition below it."},{"owner":{"account_id":8898005,"reputation":675,"user_id":6642307,"display_name":"user"},"score":0,"creation_date":1600911501,"post_id":64019647,"comment_id":113241016,"body_markdown":"Related: https://stackoverflow.com/questions/445700/","body":"Related: <a href=\"https://stackoverflow.com/questions/445700/\">stackoverflow.com/questions/445700</a>"},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1600932224,"post_id":64019647,"comment_id":113246209,"body_markdown":"The problem with `if (...);` is that many people have written things like `if (...); { ... }` and have been confused about why the code in the `{ ... }` always executes instead of only when the condition in the if-statement is true.","body":"The problem with <code>if (...);</code> is that many people have written things like <code>if (...); { ... }</code> and have been confused about why the code in the <code>{ ... }</code> always executes instead of only when the condition in the if-statement is true."},{"owner":{"account_id":2253286,"reputation":159,"user_id":1985059,"display_name":"Glen Yates"},"score":2,"creation_date":1600959117,"post_id":64019647,"comment_id":113259664,"body_markdown":"Is anybody else bothered by the turn180 method? I mean we are mixing nomenclature in one case we use left and right, but in another we use degrees. We have a method that handles left and right turns based on a parameter, but we have to have a separate method to turn around? Why not turn(back)?","body":"Is anybody else bothered by the turn180 method? I mean we are mixing nomenclature in one case we use left and right, but in another we use degrees. We have a method that handles left and right turns based on a parameter, but we have to have a separate method to turn around? Why not turn(back)?"},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":1,"creation_date":1600984125,"post_id":64019647,"comment_id":113270335,"body_markdown":"Please unclutter your code and don&#39;t waste so many nearly empty lines; follow an accepted style like https://google.github.io/styleguide/javaguide.html","body":"Please unclutter your code and don&#39;t waste so many nearly empty lines; follow an accepted style like <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"nofollow noreferrer\">google.github.io/styleguide/javaguide.html</a>"},{"owner":{"account_id":3233438,"reputation":10331,"user_id":2728148,"accept_rate":50,"display_name":"Cort Ammon"},"score":0,"creation_date":1601143681,"post_id":64019647,"comment_id":113316351,"body_markdown":"I don&#39;t know what your specific auto-style checker is looking for specifically, but I&#39;ve worked on software where an empty if statement *must* have braces and it *must* have a comment stating that nothing should be done, to show that it wasn&#39;t an oversight on the developers part nor a copy/paste error.","body":"I don&#39;t know what your specific auto-style checker is looking for specifically, but I&#39;ve worked on software where an empty if statement <i>must</i> have braces and it <i>must</i> have a comment stating that nothing should be done, to show that it wasn&#39;t an oversight on the developers part nor a copy/paste error."},{"owner":{"account_id":7967868,"reputation":1613,"user_id":6013582,"display_name":"s89_"},"score":0,"creation_date":1601422494,"post_id":64019647,"comment_id":113401969,"body_markdown":"Is there a reason why you can&#39;t just... remove the empty else if entirely?  If it&#39;s not used, get rid of it, the code will still function the same way.  #YAGNI.","body":"Is there a reason why you can&#39;t just... remove the empty else if entirely?  If it&#39;s not used, get rid of it, the code will still function the same way.  #YAGNI."},{"owner":{"account_id":3057249,"reputation":1522,"user_id":2590615,"display_name":"de-jcup"},"score":0,"creation_date":1602743184,"post_id":64019647,"comment_id":113817558,"body_markdown":"Its a recommendation to use always braces - see https://www.oracle.com/java/technologies/javase/codeconventions-statements.html#449 also using a `;` alone as a statement is hard to understand and looks like a typo. It works - well, but for  other people it is hard to maintain/understand.","body":"Its a recommendation to use always braces - see <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-statements.html#449\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a> also using a <code>;</code> alone as a statement is hard to understand and looks like a typo. It works - well, but for  other people it is hard to maintain/understand."}],"answers":[{"tags":[],"owner":{"account_id":19063006,"reputation":142,"user_id":13918697,"display_name":"swift gaming"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1600823813,"creation_date":1600823813,"answer_id":64019667,"question_id":64019647,"body_markdown":"You don&#39;t do anything with the 2nd else if statement you should rewrite it like this \r\n```\r\n        else if(!seesWater(AHEAD)){return }\r\n```\r\n\r\nThis is so the program has a conditional operator to return a boolean statement hope this helps -SG","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>You don't do anything with the 2nd else if statement you should rewrite it like this</p>\n<pre><code>        else if(!seesWater(AHEAD)){return }\n</code></pre>\n<p>This is so the program has a conditional operator to return a boolean statement hope this helps -SG</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":5,"up_vote_count":31,"is_accepted":false,"score":26,"last_activity_date":1600824182,"creation_date":1600824182,"answer_id":64019708,"question_id":64019647,"body_markdown":"You can invert the `! seesWater(AHEAD)` condition. Then you can move the code in its `else` clause to its `if` clause:\r\n\r\n```\r\nif (! seesWater(LEFT))\r\n{\r\n    turn(LEFT);\r\n}\r\nelse if (seesWater(AHEAD)) \r\n{\r\n    if (! seesWater(RIGHT))\r\n    {\r\n        turn(RIGHT);\r\n    }\r\n    else\r\n    {\r\n        turn180();\r\n    }\r\n}\r\n```","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>You can invert the <code>! seesWater(AHEAD)</code> condition. Then you can move the code in its <code>else</code> clause to its <code>if</code> clause:</p>\n<pre><code>if (! seesWater(LEFT))\n{\n    turn(LEFT);\n}\nelse if (seesWater(AHEAD)) \n{\n    if (! seesWater(RIGHT))\n    {\n        turn(RIGHT);\n    }\n    else\n    {\n        turn180();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1600824817,"creation_date":1600824817,"answer_id":64019771,"question_id":64019647,"body_markdown":"I would argue that you can decide to not change the logic of your code at all.  I think there&#39;s no reason to avoid an empty `if` or `else if` block if that leads to your code being the most readable and the logic most understandable.  You can often rewrite your code to not include an empty code block and yet have it be just as understandable.  But if not, I say this is fine.\r\n\r\nOne thing though...I don&#39;t like the style of using a `;` to denote an empty code block.  That&#39;s really easy to miss and is not normally seen, so it can confuse the reader.  I&#39;d suggest replacing the `;` with an empty set of curly braces.  You could also put a comment inside the empty curlies to make it clear you mean for that code block to be empty, ie `// In this case, we don&#39;t want to do anything`.\r\n","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>I would argue that you can decide to not change the logic of your code at all.  I think there's no reason to avoid an empty <code>if</code> or <code>else if</code> block if that leads to your code being the most readable and the logic most understandable.  You can often rewrite your code to not include an empty code block and yet have it be just as understandable.  But if not, I say this is fine.</p>\n<p>One thing though...I don't like the style of using a <code>;</code> to denote an empty code block.  That's really easy to miss and is not normally seen, so it can confuse the reader.  I'd suggest replacing the <code>;</code> with an empty set of curly braces.  You could also put a comment inside the empty curlies to make it clear you mean for that code block to be empty, ie <code>// In this case, we don't want to do anything</code>.</p>\n"},{"tags":[],"owner":{"account_id":19359229,"reputation":1441,"user_id":14154817,"display_name":"J.Backus"},"down_vote_count":3,"up_vote_count":147,"is_accepted":true,"score":144,"last_activity_date":1600825316,"creation_date":1600825316,"answer_id":64019845,"question_id":64019647,"body_markdown":"Who says it&#39;s &quot;bad style&quot;?  \r\n\r\nThe relevant question to ask is, is this clearer than alternatives?  In your specific case, I&#39;d say it is.  The code clearly expresses a choice between 4 options, of which one is &quot;do nothing&quot;.\r\n\r\nThe only change I&#39;d make is to replace that rather insignificant semicolon by an empty pair of braces, possibly with a comment to make it clear it&#39;s not a mistake.\r\n\r\n    if (! seesWater(LEFT)) {\r\n        turn(LEFT);\r\n    }\r\n    else if (! seesWater(AHEAD)) {\r\n        // nothing required\r\n    }\r\n    else if (! seesWater(RIGHT)) {\r\n        turn(RIGHT);\r\n    }\r\n    else {\r\n        turn180();\r\n    }\r\n\r\nThis is not endorsing &#39;empty clauses&#39; as a generally-acceptable style; merely that cases should be argued on their merits, not on the basis of some Rule That Must Be Obeyed.  It is a matter of developing good taste, and the judgement of taste is for humans, not mindless automata.\r\n\r\n","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>Who says it's &quot;bad style&quot;?</p>\n<p>The relevant question to ask is, is this clearer than alternatives?  In your specific case, I'd say it is.  The code clearly expresses a choice between 4 options, of which one is &quot;do nothing&quot;.</p>\n<p>The only change I'd make is to replace that rather insignificant semicolon by an empty pair of braces, possibly with a comment to make it clear it's not a mistake.</p>\n<pre><code>if (! seesWater(LEFT)) {\n    turn(LEFT);\n}\nelse if (! seesWater(AHEAD)) {\n    // nothing required\n}\nelse if (! seesWater(RIGHT)) {\n    turn(RIGHT);\n}\nelse {\n    turn180();\n}\n</code></pre>\n<p>This is not endorsing 'empty clauses' as a generally-acceptable style; merely that cases should be argued on their merits, not on the basis of some Rule That Must Be Obeyed.  It is a matter of developing good taste, and the judgement of taste is for humans, not mindless automata.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1600904310,"creation_date":1600827170,"answer_id":64020062,"question_id":64019647,"body_markdown":"Well we don&#39;t really know the context of the entire question. We don&#39;t know if this is the only code in a method. I&#39;m not sure why you test for LEFT first. I would have thought you test for AHEAD first since I would think you continue in the same direction as the default if it is possible. If you keep going LEFT you will be walking in a circle. So given the lack of requirements it is hard to give a complete answer.\r\n\r\nHowever, I would tend to agree that I don&#39;t like the empty if statement. If you want to keep walking AHEAD you need to indicate that somehow.\r\n\r\nOther comments:\r\n\r\n1. I would rather have a positive method name like `noWater(...)`. Then the if statement becomes a positive test instead of a negative test.\r\n\r\n2. Why do you have multiple forms of the method that you invoke: turn(LEFT), turn(RIGHT), and turn180()? Why is turn180() different? I would create a method that would accept a parameter for any direction.\r\n\r\nUsing the above suggestions you would have something like:\r\n\r\n    if (noWater(FORWARD))\r\n        turn(0);\r\n    else if (noWater(LEFT))\r\n        turn(270);\r\n    else if (noWater(RIGHT))\r\n        turn(90);\r\n    else\r\n        turn(180);\r\n\r\nWith a structure like this you don&#39;t have an empty if statement and the movement becomes parameterized (and explicit) so you can have different values as required. ","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>Well we don't really know the context of the entire question. We don't know if this is the only code in a method. I'm not sure why you test for LEFT first. I would have thought you test for AHEAD first since I would think you continue in the same direction as the default if it is possible. If you keep going LEFT you will be walking in a circle. So given the lack of requirements it is hard to give a complete answer.</p>\n<p>However, I would tend to agree that I don't like the empty if statement. If you want to keep walking AHEAD you need to indicate that somehow.</p>\n<p>Other comments:</p>\n<ol>\n<li><p>I would rather have a positive method name like <code>noWater(...)</code>. Then the if statement becomes a positive test instead of a negative test.</p>\n</li>\n<li><p>Why do you have multiple forms of the method that you invoke: turn(LEFT), turn(RIGHT), and turn180()? Why is turn180() different? I would create a method that would accept a parameter for any direction.</p>\n</li>\n</ol>\n<p>Using the above suggestions you would have something like:</p>\n<pre><code>if (noWater(FORWARD))\n    turn(0);\nelse if (noWater(LEFT))\n    turn(270);\nelse if (noWater(RIGHT))\n    turn(90);\nelse\n    turn(180);\n</code></pre>\n<p>With a structure like this you don't have an empty if statement and the movement becomes parameterized (and explicit) so you can have different values as required.</p>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":4,"up_vote_count":49,"is_accepted":false,"score":45,"last_activity_date":1600831240,"creation_date":1600827490,"answer_id":64020089,"question_id":64019647,"body_markdown":"If this is the logic you want, there is nothing wrong with your code. In terms of code styling wise, I agree with the other users. Something like this would be clearer in my opinion:\r\n\r\n    if (! seesWater(LEFT))\r\n    {\r\n        turn(LEFT);\r\n    }\r\n    else if (! seesWater(AHEAD))\r\n    {\r\n        //Do nothing\r\n    }\r\n    else if (! seesWater(RIGHT))\r\n    {\r\n        turn(RIGHT);\r\n    }\r\n    else\r\n    {\r\n        turn180();\r\n    }\r\n\r\nBut by having priority of making a left turn over moving ahead (by doing nothing), the movement may end up in circles:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf you want the movement to &quot;do nothing&quot; but avoid moving into waters like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou may want to change your logic to something like this:\r\n\r\n\r\n    if (! seesWater(AHEAD))\r\n    {\r\n        //Do nothing. Keep moving\r\n    }\r\n    else if (! seesWater(LEFT))\r\n    {\r\n        turn(LEFT);\r\n    }\r\n    else if (! seesWater(RIGHT))\r\n    {\r\n        turn(RIGHT);\r\n    }\r\n    else\r\n    {\r\n        turn180();\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ba0Q9.png\r\n  [2]: https://i.stack.imgur.com/FRlLr.png","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>If this is the logic you want, there is nothing wrong with your code. In terms of code styling wise, I agree with the other users. Something like this would be clearer in my opinion:</p>\n<pre><code>if (! seesWater(LEFT))\n{\n    turn(LEFT);\n}\nelse if (! seesWater(AHEAD))\n{\n    //Do nothing\n}\nelse if (! seesWater(RIGHT))\n{\n    turn(RIGHT);\n}\nelse\n{\n    turn180();\n}\n</code></pre>\n<p>But by having priority of making a left turn over moving ahead (by doing nothing), the movement may end up in circles:</p>\n<p><a href=\"https://i.stack.imgur.com/Ba0Q9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ba0Q9.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want the movement to &quot;do nothing&quot; but avoid moving into waters like this:</p>\n<p><a href=\"https://i.stack.imgur.com/FRlLr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FRlLr.png\" alt=\"enter image description here\" /></a></p>\n<p>You may want to change your logic to something like this:</p>\n<pre><code>if (! seesWater(AHEAD))\n{\n    //Do nothing. Keep moving\n}\nelse if (! seesWater(LEFT))\n{\n    turn(LEFT);\n}\nelse if (! seesWater(RIGHT))\n{\n    turn(RIGHT);\n}\nelse\n{\n    turn180();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1600843915,"creation_date":1600843915,"answer_id":64022512,"question_id":64019647,"body_markdown":"The reason why a style checker reports something as poor style is that the people who implemented the style checker considered it poor style. \r\n\r\nYou&#39;d have to ask _them_ why, and their answer may, or may not, have merit.\r\n\r\nAutomated checkers of anything that require human intelligence should be treated with caution. Sometimes they produce useful output, and sometimes they don&#39;t. It&#39;s very unfortunate if such a checker is assessing the work of a human being, and extremely unfortunate if that assessment has consequences.\r\n","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>The reason why a style checker reports something as poor style is that the people who implemented the style checker considered it poor style.</p>\n<p>You'd have to ask <em>them</em> why, and their answer may, or may not, have merit.</p>\n<p>Automated checkers of anything that require human intelligence should be treated with caution. Sometimes they produce useful output, and sometimes they don't. It's very unfortunate if such a checker is assessing the work of a human being, and extremely unfortunate if that assessment has consequences.</p>\n"},{"tags":[],"owner":{"account_id":1856249,"reputation":2199,"user_id":1681760,"accept_rate":100,"display_name":"rtaft"},"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1600880756,"creation_date":1600879686,"answer_id":64032659,"question_id":64019647,"body_markdown":"For this particular code sample, I don&#39;t believe the logic is accurate and does not flow intuitively.  It looks like you want to turn if there is water ahead...but that left turn is in there that makes it confusing and potentially a bug.  Ultimately I see the empty logic as a double negative, &#39;if there is no water ahead, do nothing&#39;, and double negatives are also frowned upon.\r\n\r\n    if (seesWater(AHEAD))\r\n    {\r\n        if (! seesWater(LEFT))\r\n        {\r\n            turn(LEFT);\r\n        }\r\n        else if (! seesWater(RIGHT))\r\n        {\r\n            turn(RIGHT);\r\n        }\r\n        else\r\n        {\r\n            turn180();\r\n        }\r\n    }\r\n\r\nThis makes the most sense since the additional logic is based on whether there is water ahead.  It also makes it easier if you want to move the actions to another function if there is water ahead.","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>For this particular code sample, I don't believe the logic is accurate and does not flow intuitively.  It looks like you want to turn if there is water ahead...but that left turn is in there that makes it confusing and potentially a bug.  Ultimately I see the empty logic as a double negative, 'if there is no water ahead, do nothing', and double negatives are also frowned upon.</p>\n<pre><code>if (seesWater(AHEAD))\n{\n    if (! seesWater(LEFT))\n    {\n        turn(LEFT);\n    }\n    else if (! seesWater(RIGHT))\n    {\n        turn(RIGHT);\n    }\n    else\n    {\n        turn180();\n    }\n}\n</code></pre>\n<p>This makes the most sense since the additional logic is based on whether there is water ahead.  It also makes it easier if you want to move the actions to another function if there is water ahead.</p>\n"},{"tags":[],"owner":{"account_id":961014,"reputation":1634,"user_id":985366,"accept_rate":41,"display_name":"user985366"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1601030041,"creation_date":1600895470,"answer_id":64036277,"question_id":64019647,"body_markdown":"I find the negative logic in the `if(!condition)` statements hard to read and mind-twisting, even more so in combination with if-else-else-else. I would prefer a positive logic like `seesLand()` rather than `!seesWater`.\r\n\r\n\r\nYou could modify the turn() function, so that `turn(AHEAD)` does nothing and `turn(BACK)` does the 180 turn instead of needing a separate function for that.\r\n\r\nThen you could rewrite this into.\r\n\r\n    List&lt;Direction&gt; directions = new ArrayList(LEFT, FORWARD, RIGHT, BACK);\r\n    for (Direction d: directions) {\r\n        if(seesLand(d) {\r\n            turn(d);\r\n            return;\r\n    }\r\n        \r\n\r\n\r\nOne upside is that this generalises even more. You could create different movement strategies simply by defining another array where you order the directions as you wish, and feed them into this function to check and turn in the chosen order.","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>I find the negative logic in the <code>if(!condition)</code> statements hard to read and mind-twisting, even more so in combination with if-else-else-else. I would prefer a positive logic like <code>seesLand()</code> rather than <code>!seesWater</code>.</p>\n<p>You could modify the turn() function, so that <code>turn(AHEAD)</code> does nothing and <code>turn(BACK)</code> does the 180 turn instead of needing a separate function for that.</p>\n<p>Then you could rewrite this into.</p>\n<pre><code>List&lt;Direction&gt; directions = new ArrayList(LEFT, FORWARD, RIGHT, BACK);\nfor (Direction d: directions) {\n    if(seesLand(d) {\n        turn(d);\n        return;\n}\n    \n</code></pre>\n<p>One upside is that this generalises even more. You could create different movement strategies simply by defining another array where you order the directions as you wish, and feed them into this function to check and turn in the chosen order.</p>\n"},{"tags":[],"owner":{"account_id":10242804,"reputation":649,"user_id":8045100,"display_name":"Frank Hopkins"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1600909147,"creation_date":1600901070,"answer_id":64037237,"question_id":64019647,"body_markdown":"What you do with something like this is you turn it into a speaking method and preferably split it up.\r\n\r\nOption 1:\r\n\r\n    private turnTowardsGround(){\r\n      if(! seesWater(AHEAD){\r\n        return;\r\n      }\r\n      if (! seesWater(LEFT))\r\n      {\r\n         turn(LEFT);\r\n         return;\r\n      }\r\n      if (! seesWater(RIGHT))\r\n      {\r\n        turn(RIGHT);\r\n        return;\r\n      }\r\n      turn180();\r\n    }\r\n\r\nOption 2:\r\n\r\n    private determineMoveDirection(){\r\n      if(! seesWater(AHEAD){\r\n        return AHEAD;\r\n      }\r\n      if (! seesWater(LEFT))\r\n      {\r\n         return LEFT\r\n      }\r\n      if (! seesWater(RIGHT))\r\n      {\r\n        return RIGHT\r\n      }\r\n      return BACK;\r\n    }\r\n\r\nand then use Option 2 like:\r\n\r\n    Direction directionToMove = determineMoveDirection();\r\n    turn(directionToMove);\r\n\r\nWhy? Because the method names make the intend of the code clear. And the early return exits allow a quick read where we don&#39;t need to read the whole if-else code to make sure nothing else happens once one case applies. Plus in the option 2 case you have a clear separation of concerns (finding out where to move to vs actually turning), which is nice for modularity and in this case also allows one single place to log the final decision where you&#39;re going to turn, for example.\r\n\r\nAlso, preferably the checks would not be negated but there would be a &quot;seesLand&quot; or &quot;seesAccessibleFieldType&quot; method. It&#39;s psychologically easier/faster to parse non-negated statements and it makes it more clear what you are actually looking for (i.e. a land tile, a ice tile, ...).","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>What you do with something like this is you turn it into a speaking method and preferably split it up.</p>\n<p>Option 1:</p>\n<pre><code>private turnTowardsGround(){\n  if(! seesWater(AHEAD){\n    return;\n  }\n  if (! seesWater(LEFT))\n  {\n     turn(LEFT);\n     return;\n  }\n  if (! seesWater(RIGHT))\n  {\n    turn(RIGHT);\n    return;\n  }\n  turn180();\n}\n</code></pre>\n<p>Option 2:</p>\n<pre><code>private determineMoveDirection(){\n  if(! seesWater(AHEAD){\n    return AHEAD;\n  }\n  if (! seesWater(LEFT))\n  {\n     return LEFT\n  }\n  if (! seesWater(RIGHT))\n  {\n    return RIGHT\n  }\n  return BACK;\n}\n</code></pre>\n<p>and then use Option 2 like:</p>\n<pre><code>Direction directionToMove = determineMoveDirection();\nturn(directionToMove);\n</code></pre>\n<p>Why? Because the method names make the intend of the code clear. And the early return exits allow a quick read where we don't need to read the whole if-else code to make sure nothing else happens once one case applies. Plus in the option 2 case you have a clear separation of concerns (finding out where to move to vs actually turning), which is nice for modularity and in this case also allows one single place to log the final decision where you're going to turn, for example.</p>\n<p>Also, preferably the checks would not be negated but there would be a &quot;seesLand&quot; or &quot;seesAccessibleFieldType&quot; method. It's psychologically easier/faster to parse non-negated statements and it makes it more clear what you are actually looking for (i.e. a land tile, a ice tile, ...).</p>\n"},{"tags":[],"owner":{"account_id":5950588,"reputation":372,"user_id":4678699,"accept_rate":50,"display_name":"fpeelo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600946428,"creation_date":1600946428,"answer_id":64045385,"question_id":64019647,"body_markdown":"I&#39;m coming from C, and living with MISRA, but to me an &quot;if&quot; with a semicolon is bad style regardless of whether there is an &quot;else&quot;. Reason is that people don&#39;t normally put a semicolon there unless it&#39;s a typo. Consider this:\r\n\r\n    if (! seesWater(AHEAD));\r\n    {\r\n      stayDry();\r\n    }\r\n\r\nHere someone reading the code will think that you only stayDry() if you don&#39;t see water ahead -- you have to look hard to see that it will actually be called unconditionally. Much better, if you don&#39;t want to do anything in this case, is curly brackets and a comment:\r\n\r\n    if (! seesWater(AHEAD))\r\n    {\r\n      /* don&#39;t need to do anything here */\r\n    }\r\n\r\nIn fact putting the curly brackets around the body of the &quot;if&quot;, &quot;else&quot; etc. should *always* be done, and good on you for using the curly brackets even when the clause is a single turn() call! I sometimes find code like\r\n\r\n    if (! seesWater(AHEAD))\r\n      stayDry();\r\n\r\nthen someone will come along later and add something else:\r\n\r\n    if (! seesWater(AHEAD))\r\n      stayDry();\r\n      doSomethingElse();\r\n\r\nand of course the Something Else is done whether you see water or not, which was not the second coder&#39;s intention. You may think no-one would make a mistake that is so obvious but they do.","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>I'm coming from C, and living with MISRA, but to me an &quot;if&quot; with a semicolon is bad style regardless of whether there is an &quot;else&quot;. Reason is that people don't normally put a semicolon there unless it's a typo. Consider this:</p>\n<pre><code>if (! seesWater(AHEAD));\n{\n  stayDry();\n}\n</code></pre>\n<p>Here someone reading the code will think that you only stayDry() if you don't see water ahead -- you have to look hard to see that it will actually be called unconditionally. Much better, if you don't want to do anything in this case, is curly brackets and a comment:</p>\n<pre><code>if (! seesWater(AHEAD))\n{\n  /* don't need to do anything here */\n}\n</code></pre>\n<p>In fact putting the curly brackets around the body of the &quot;if&quot;, &quot;else&quot; etc. should <em>always</em> be done, and good on you for using the curly brackets even when the clause is a single turn() call! I sometimes find code like</p>\n<pre><code>if (! seesWater(AHEAD))\n  stayDry();\n</code></pre>\n<p>then someone will come along later and add something else:</p>\n<pre><code>if (! seesWater(AHEAD))\n  stayDry();\n  doSomethingElse();\n</code></pre>\n<p>and of course the Something Else is done whether you see water or not, which was not the second coder's intention. You may think no-one would make a mistake that is so obvious but they do.</p>\n"},{"tags":[],"owner":{"account_id":3054002,"reputation":697,"user_id":2588039,"accept_rate":29,"display_name":"David258"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1600964738,"creation_date":1600964738,"answer_id":64050550,"question_id":64019647,"body_markdown":"**Why would an empty-if clause be bad style?** Because it is a non-obvious way of &#39;exiting&#39; the if block. It skips over subsequent else-ifs and more importantly skips the final else, which in a multi-condition block ends up as the &#39;default&#39; action.    \r\n\r\nTo me there are two major problems here:\r\n\r\n 1. The if-statement order matters, but it&#39;s unclear why this order is chosen\r\n 2. The else-statement appears to have logic, which is skipped by `do_nothing` rather than being a catch-all\r\n\r\nThe first question I&#39;d ask looking at code like this is why is the do_nothing option `(! seesWater(AHEAD))` not the _first_ thing we check? What makes `! seesWater(LEFT)` the first thing we check? I&#39;d hope to see a comment as to why this order was important as the ifs don&#39;t seem to be obviously exclusive (could seeWater in multiple directions).   \r\n\r\nThe second question I&#39;d ask is in what cases we expect to end up in the catch-all `else` statement. At the moment `turn180()` is the &#39;default&#39;, but it doesn&#39;t feel like very default-y behaviour to me to go back the way you&#39;ve come if looking around fails for some reason. ","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p><strong>Why would an empty-if clause be bad style?</strong> Because it is a non-obvious way of 'exiting' the if block. It skips over subsequent else-ifs and more importantly skips the final else, which in a multi-condition block ends up as the 'default' action.</p>\n<p>To me there are two major problems here:</p>\n<ol>\n<li>The if-statement order matters, but it's unclear why this order is chosen</li>\n<li>The else-statement appears to have logic, which is skipped by <code>do_nothing</code> rather than being a catch-all</li>\n</ol>\n<p>The first question I'd ask looking at code like this is why is the do_nothing option <code>(! seesWater(AHEAD))</code> not the <em>first</em> thing we check? What makes <code>! seesWater(LEFT)</code> the first thing we check? I'd hope to see a comment as to why this order was important as the ifs don't seem to be obviously exclusive (could seeWater in multiple directions).</p>\n<p>The second question I'd ask is in what cases we expect to end up in the catch-all <code>else</code> statement. At the moment <code>turn180()</code> is the 'default', but it doesn't feel like very default-y behaviour to me to go back the way you've come if looking around fails for some reason.</p>\n"},{"tags":[],"owner":{"account_id":2746594,"reputation":104,"user_id":2366880,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677233492,"creation_date":1677233492,"answer_id":75555229,"question_id":64019647,"body_markdown":"For me it&#39;s a way to avoid forgetting a case later, especially if some of the options are different categories\r\n\r\n    // do nothing if ignoring\r\n    if(option==&quot;red&quot;){\r\n        sound = &quot;beep&quot;\r\n    }else if(option==&quot;blue&quot;){\r\n        sound = &quot;beep&quot;\r\n    }else if(option==&quot;green&quot;){\r\n        sound = &quot;long beep&quot;\r\n    }else if(option==&quot;ignore&quot;){\r\n        ; // do nothing\r\n    }\r\n\r\nIn that code case ignore is hard to forget however if you didn&#39;t have it, the outcome would be the same.\r\n\r\n    // do nothing if ignoring\r\n    if(option==&quot;red&quot;){\r\n        sound = &quot;beep&quot;\r\n    }else if(option==&quot;blue&quot;){\r\n        sound = &quot;beep&quot;\r\n    }else if(option==&quot;green&quot;){\r\n        sound = &quot;long beep&quot;\r\n    }\r\n\r\nthen later if you decide that you want a the same beep for all colours so to simplify the code you could have\r\n\r\n    // do nothing if ignoring\r\n    sound = &quot;beep&quot;\r\n\r\nwhich would work for the colors, but would also set sound to beep if ignoring, which we weren&#39;t doing previously. &quot;But the comment&quot;, I hear you cry, well in longer code you might miss a comment and forget the ignore case because you might have been only thinking about the category of colours [of course automated testing can help you out]\r\n\r\nSo if I start from my first version it&#39;s harder to miss it, and I already have an if statement for the ignore case so I can rearrange\r\n\r\n    if(option==&quot;ignore&quot;){\r\n        ; // do nothing\r\n    }else{\r\n        sound = &quot;beep&quot;\r\n    }\r\n\r\nOr\r\n\r\n    if(option!=&quot;ignore&quot;){ sound = &quot;beep&quot; }\r\n\r\n\r\n\r\n","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>For me it's a way to avoid forgetting a case later, especially if some of the options are different categories</p>\n<pre><code>// do nothing if ignoring\nif(option==&quot;red&quot;){\n    sound = &quot;beep&quot;\n}else if(option==&quot;blue&quot;){\n    sound = &quot;beep&quot;\n}else if(option==&quot;green&quot;){\n    sound = &quot;long beep&quot;\n}else if(option==&quot;ignore&quot;){\n    ; // do nothing\n}\n</code></pre>\n<p>In that code case ignore is hard to forget however if you didn't have it, the outcome would be the same.</p>\n<pre><code>// do nothing if ignoring\nif(option==&quot;red&quot;){\n    sound = &quot;beep&quot;\n}else if(option==&quot;blue&quot;){\n    sound = &quot;beep&quot;\n}else if(option==&quot;green&quot;){\n    sound = &quot;long beep&quot;\n}\n</code></pre>\n<p>then later if you decide that you want a the same beep for all colours so to simplify the code you could have</p>\n<pre><code>// do nothing if ignoring\nsound = &quot;beep&quot;\n</code></pre>\n<p>which would work for the colors, but would also set sound to beep if ignoring, which we weren't doing previously. &quot;But the comment&quot;, I hear you cry, well in longer code you might miss a comment and forget the ignore case because you might have been only thinking about the category of colours [of course automated testing can help you out]</p>\n<p>So if I start from my first version it's harder to miss it, and I already have an if statement for the ignore case so I can rearrange</p>\n<pre><code>if(option==&quot;ignore&quot;){\n    ; // do nothing\n}else{\n    sound = &quot;beep&quot;\n}\n</code></pre>\n<p>Or</p>\n<pre><code>if(option!=&quot;ignore&quot;){ sound = &quot;beep&quot; }\n</code></pre>\n"}],"owner":{"account_id":19573773,"reputation":739,"user_id":14324311,"display_name":"Henry Kozurek"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13681,"favorite_count":0,"down_vote_count":2,"up_vote_count":74,"accepted_answer_id":64019845,"answer_count":13,"score":72,"last_activity_date":1677233492,"creation_date":1600823611,"question_id":64019647,"body_markdown":"The program that automatically grades my code is docking me &quot;style-points&quot; for an else-if that doesn&#39;t execute any code. It says that it may cause an error, but I don&#39;t think it could.\r\n\r\nI&#39;m not sure how to change it so that it still works but doesn&#39;t break the rule. Why is doing this bad form? I think any other way I write it will be harder for a reader to understand. How should it be written instead?\r\n\r\n```\r\nif (! seesWater(LEFT))\r\n{\r\n    turn(LEFT);\r\n}\r\nelse if (! seesWater(AHEAD));\r\nelse if (! seesWater(RIGHT))\r\n{\r\n    turn(RIGHT);\r\n}\r\nelse\r\n{\r\n    turn180();\r\n}\r\n```\r\nThe reason the else-if is there but does nothing is because of the priority in which I want the code to act:\r\n\r\n`if (! seesWater(AHEAD))`, then I don&#39;t want the rest of the conditions to run at all because they don&#39;t matter.","title":"Why is an empty else-if statement bad style, and how should I rewrite it?","body":"<p>The program that automatically grades my code is docking me &quot;style-points&quot; for an else-if that doesn't execute any code. It says that it may cause an error, but I don't think it could.</p>\n<p>I'm not sure how to change it so that it still works but doesn't break the rule. Why is doing this bad form? I think any other way I write it will be harder for a reader to understand. How should it be written instead?</p>\n<pre><code>if (! seesWater(LEFT))\n{\n    turn(LEFT);\n}\nelse if (! seesWater(AHEAD));\nelse if (! seesWater(RIGHT))\n{\n    turn(RIGHT);\n}\nelse\n{\n    turn180();\n}\n</code></pre>\n<p>The reason the else-if is there but does nothing is because of the priority in which I want the code to act:</p>\n<p><code>if (! seesWater(AHEAD))</code>, then I don't want the rest of the conditions to run at all because they don't matter.</p>\n"},{"tags":["java","android","android-studio","kotlin","mvvm"],"owner":{"account_id":19183255,"reputation":1,"user_id":14014519,"display_name":"yashveer singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677233305,"creation_date":1677233305,"question_id":75555194,"body_markdown":"I am experiencing some issues with recording audio. I have created a widget with start and stop button that is supposed to initiate audio recording when clicked on start and stop recording when clicked on stop. However, We are getting the output but the output audio file doesn&#39;t seem to working properly as it do not contain any audio or sound.\r\n\r\n\r\n```\r\npackage com.speechtotext.voiceapp.widget\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.app.PendingIntent\r\nimport android.appwidget.AppWidgetManager\r\nimport android.appwidget.AppWidgetProvider\r\nimport android.content.ComponentName\r\nimport android.content.Context\r\nimport android.content.ContextWrapper\r\nimport android.content.Intent\r\nimport android.media.MediaPlayer\r\nimport android.media.MediaRecorder\r\nimport android.net.Uri\r\nimport android.os.Bundle\r\nimport android.os.Environment\r\nimport android.os.Handler\r\nimport android.speech.RecognitionListener\r\nimport android.speech.RecognizerIntent\r\nimport android.speech.SpeechRecognizer\r\nimport android.util.Log\r\nimport android.widget.RemoteViews\r\nimport android.widget.Toast\r\nimport com.speechtotext.voiceapp.MainActivity\r\nimport com.speechtotext.voiceapp.R\r\nimport kotlinx.coroutines.Dispatchers\r\nimport kotlinx.coroutines.GlobalScope\r\nimport kotlinx.coroutines.launch\r\nimport java.io.File\r\nimport java.io.FileInputStream\r\nimport java.io.IOException\r\nimport java.nio.ShortBuffer\r\nimport java.nio.channels.FileChannel\r\nimport java.util.*\r\nimport java.util.concurrent.Executors\r\n\r\n\r\nclass RecordWidget : AppWidgetProvider() {\r\n\r\n\r\n    var mediaRecorder :MediaRecorder?=null\r\n\r\n    @SuppressLint(&quot;RemoteViewLayout&quot;)\r\n    override fun onUpdate(\r\n        context: Context,\r\n        appWidgetManager: AppWidgetManager,\r\n        appWidgetIds: IntArray\r\n    ) {\r\n\r\n\r\n        for (widgetIDs in appWidgetIds) {\r\n\r\n            updateAppWidget(context, appWidgetManager, widgetIDs)\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private fun pendingIntent(\r\n        context: Context?,\r\n\r\n        action: String\r\n    ): PendingIntent? {\r\n        val intent = Intent(context, javaClass)\r\n        intent.action = action\r\n        return PendingIntent.getBroadcast(\r\n            context,\r\n            0,\r\n            intent,\r\n            PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_MUTABLE\r\n        )\r\n    }\r\n\r\n    private fun updateAppWidget(\r\n        context: Context,\r\n        appWidgetManager: AppWidgetManager,\r\n        appWidgetId: Int\r\n    ) {\r\n\r\n        val views = RemoteViews(context.packageName, R.layout.widget_layout)\r\n        views.setOnClickPendingIntent(R.id.record_button, pendingIntent(context, &quot;RECORD&quot;))\r\n        views.setOnClickPendingIntent(R.id.stopBtn, pendingIntent(context, &quot;STOP&quot;))\r\n\r\n        appWidgetManager.updateAppWidget(appWidgetId, views)\r\n\r\n    }\r\n\r\n    private fun updateWidgets(context: Context) {\r\n        val manager = AppWidgetManager.getInstance(context)\r\n        val ids = manager.getAppWidgetIds(ComponentName(context, javaClass))\r\n\r\n        ids.forEach { id -&gt;\r\n            updateAppWidget(context, manager, id)\r\n        }\r\n    }\r\n\r\n    override fun onReceive(context: Context?, intent: Intent?) {\r\n        super.onReceive(context, intent)\r\n\r\n        val action = intent?.action ?: &quot;&quot;\r\n\r\n\r\n        if (action == &quot;RECORD&quot;) {\r\n\r\n\r\n\r\n\r\n                    mediaRecorder= MediaRecorder()\r\n                    mediaRecorder?.reset()\r\n\r\n                    mediaRecorder?.setAudioSource(MediaRecorder.AudioSource.DEFAULT)\r\n                    mediaRecorder?.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)\r\n\r\n                    val contextWrapper = ContextWrapper(context?.applicationContext)\r\n                    val musicDirectory =\r\n                        contextWrapper.getExternalFilesDir(Environment.DIRECTORY_MUSIC)\r\n                    val file = File(musicDirectory, &quot;recording10&quot; + &quot;.mp3&quot;).path\r\n\r\n                    mediaRecorder?.setOutputFile(file)\r\n                    mediaRecorder?.setAudioEncoder(MediaRecorder.AudioEncoder.AAC)\r\n\r\n                    try {\r\n                        mediaRecorder?.prepare()\r\n                    } catch (e: Exception) {\r\n                        e.printStackTrace()\r\n                        Toast.makeText(context, e.message.toString(), Toast.LENGTH_SHORT).show()\r\n                    }\r\n\r\n\r\n                    mediaRecorder?.start()\r\n\r\n\r\n                        //Recroding Started\r\n\r\n\r\n\r\n            Toast.makeText(context, &quot;Recording Started&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n\r\n        } else if (action == &quot;STOP&quot;) {\r\n\r\n\r\n\r\n\r\n                // add this line to reset the mediaRecorder\r\n                mediaRecorder?.release()\r\n                mediaRecorder =null\r\n\r\n                Toast.makeText(context, &quot;Recording Stopped&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n                    //Recording Stopped\r\n\r\n          \r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nI have tried many ways of solving it. Like take the output in &quot;.3gp&quot; and tried differnt settings with media recorder but none of them worked out for me.","title":"Homescreen Widget Problem In Android - Android Studio","body":"<p>I am experiencing some issues with recording audio. I have created a widget with start and stop button that is supposed to initiate audio recording when clicked on start and stop recording when clicked on stop. However, We are getting the output but the output audio file doesn't seem to working properly as it do not contain any audio or sound.</p>\n<pre><code>package com.speechtotext.voiceapp.widget\n\nimport android.annotation.SuppressLint\nimport android.app.PendingIntent\nimport android.appwidget.AppWidgetManager\nimport android.appwidget.AppWidgetProvider\nimport android.content.ComponentName\nimport android.content.Context\nimport android.content.ContextWrapper\nimport android.content.Intent\nimport android.media.MediaPlayer\nimport android.media.MediaRecorder\nimport android.net.Uri\nimport android.os.Bundle\nimport android.os.Environment\nimport android.os.Handler\nimport android.speech.RecognitionListener\nimport android.speech.RecognizerIntent\nimport android.speech.SpeechRecognizer\nimport android.util.Log\nimport android.widget.RemoteViews\nimport android.widget.Toast\nimport com.speechtotext.voiceapp.MainActivity\nimport com.speechtotext.voiceapp.R\nimport kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.GlobalScope\nimport kotlinx.coroutines.launch\nimport java.io.File\nimport java.io.FileInputStream\nimport java.io.IOException\nimport java.nio.ShortBuffer\nimport java.nio.channels.FileChannel\nimport java.util.*\nimport java.util.concurrent.Executors\n\n\nclass RecordWidget : AppWidgetProvider() {\n\n\n    var mediaRecorder :MediaRecorder?=null\n\n    @SuppressLint(&quot;RemoteViewLayout&quot;)\n    override fun onUpdate(\n        context: Context,\n        appWidgetManager: AppWidgetManager,\n        appWidgetIds: IntArray\n    ) {\n\n\n        for (widgetIDs in appWidgetIds) {\n\n            updateAppWidget(context, appWidgetManager, widgetIDs)\n\n        }\n\n\n    }\n\n    private fun pendingIntent(\n        context: Context?,\n\n        action: String\n    ): PendingIntent? {\n        val intent = Intent(context, javaClass)\n        intent.action = action\n        return PendingIntent.getBroadcast(\n            context,\n            0,\n            intent,\n            PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_MUTABLE\n        )\n    }\n\n    private fun updateAppWidget(\n        context: Context,\n        appWidgetManager: AppWidgetManager,\n        appWidgetId: Int\n    ) {\n\n        val views = RemoteViews(context.packageName, R.layout.widget_layout)\n        views.setOnClickPendingIntent(R.id.record_button, pendingIntent(context, &quot;RECORD&quot;))\n        views.setOnClickPendingIntent(R.id.stopBtn, pendingIntent(context, &quot;STOP&quot;))\n\n        appWidgetManager.updateAppWidget(appWidgetId, views)\n\n    }\n\n    private fun updateWidgets(context: Context) {\n        val manager = AppWidgetManager.getInstance(context)\n        val ids = manager.getAppWidgetIds(ComponentName(context, javaClass))\n\n        ids.forEach { id -&gt;\n            updateAppWidget(context, manager, id)\n        }\n    }\n\n    override fun onReceive(context: Context?, intent: Intent?) {\n        super.onReceive(context, intent)\n\n        val action = intent?.action ?: &quot;&quot;\n\n\n        if (action == &quot;RECORD&quot;) {\n\n\n\n\n                    mediaRecorder= MediaRecorder()\n                    mediaRecorder?.reset()\n\n                    mediaRecorder?.setAudioSource(MediaRecorder.AudioSource.DEFAULT)\n                    mediaRecorder?.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)\n\n                    val contextWrapper = ContextWrapper(context?.applicationContext)\n                    val musicDirectory =\n                        contextWrapper.getExternalFilesDir(Environment.DIRECTORY_MUSIC)\n                    val file = File(musicDirectory, &quot;recording10&quot; + &quot;.mp3&quot;).path\n\n                    mediaRecorder?.setOutputFile(file)\n                    mediaRecorder?.setAudioEncoder(MediaRecorder.AudioEncoder.AAC)\n\n                    try {\n                        mediaRecorder?.prepare()\n                    } catch (e: Exception) {\n                        e.printStackTrace()\n                        Toast.makeText(context, e.message.toString(), Toast.LENGTH_SHORT).show()\n                    }\n\n\n                    mediaRecorder?.start()\n\n\n                        //Recroding Started\n\n\n\n            Toast.makeText(context, &quot;Recording Started&quot;, Toast.LENGTH_SHORT).show()\n\n\n        } else if (action == &quot;STOP&quot;) {\n\n\n\n\n                // add this line to reset the mediaRecorder\n                mediaRecorder?.release()\n                mediaRecorder =null\n\n                Toast.makeText(context, &quot;Recording Stopped&quot;, Toast.LENGTH_SHORT).show()\n\n                    //Recording Stopped\n\n          \n\n        }\n    }\n\n\n}\n</code></pre>\n<p>I have tried many ways of solving it. Like take the output in &quot;.3gp&quot; and tried differnt settings with media recorder but none of them worked out for me.</p>\n"},{"tags":["java","json","rest","jackson","bidirectional"],"owner":{"account_id":26322992,"reputation":1,"user_id":19984743,"display_name":"Aditya Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677232975,"creation_date":1677232975,"question_id":75555142,"body_markdown":"I&#39;m working on a problem with bidirectional relation ship, here I have created POC application to demonstrate the problem and removing extra code. I have three classes Foo, Bar and Baz. Foo has a `OneToMany` relation with both of them and Bar has a `OneToMany` relation with Baz.\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;foo&quot;, schema = &quot;TEST_JSON&quot;)\r\npublic class Foo {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;foo_id&quot;)\r\n    @JsonManagedReference(value = &quot;foobar&quot;)\r\n    private List&lt;Bar&gt; bars = new ArrayList&lt;&gt;();\r\n    @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;foo_id&quot;)\r\n    @JsonManagedReference(value = &quot;foobaz&quot;)\r\n    private List&lt;Baz&gt; bazs;\r\n\r\n    private String comment;\r\n\r\n//Constructors, Getters and setters are removed.\r\n}\r\n```\r\n\r\nThis is Bar.java\r\n\r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;bar&quot;, schema = &quot;TEST_JSON&quot;)\r\npublic class Bar {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;foo_id&quot;)\r\n    @JsonBackReference(value = &quot;foobar&quot;)\r\n    private Foo foo;\r\n    @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;bar_id&quot;)\r\n    @JsonManagedReference(value = &quot;barbaz&quot;)\r\n    private List&lt;Baz&gt; bazs;\r\n\r\n    private String comment;\r\n\r\n//Constructors, Getters and setters are removed.\r\n}\r\n```\r\n\r\nThis is Baz.java\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;baz&quot;, schema = &quot;TEST_JSON&quot;)\r\npublic class Baz {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;foo_id&quot;)\r\n    @JsonBackReference(value = &quot;foobaz&quot;)\r\n    private Foo foo;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;bar_id&quot;)\r\n    @JsonBackReference(value = &quot;barbaz&quot;)\r\n    private Bar bar;\r\n    private String comment;\r\n\r\n    @PrePersist\r\n    public void prePersist() {\r\n        if(foo == null)\r\n            foo = bar.getFoo();\r\n    } // Extra logic if I&#39;m just adding a baz to bar.\r\n\r\n\r\n//Constructors, Getters and setters are removed.\r\n}\r\n```\r\n\r\nThis is how it looks on the PostgreSQL side:\r\n\r\n\r\n```\r\nCREATE SCHEMA IF NOT EXISTS test_json;\r\n\r\nCREATE TABLE test_json.foo (\r\n  id SERIAL PRIMARY KEY,\r\n  comment TEXT\r\n);\r\n\r\nCREATE TABLE test_json.bar (\r\n  id SERIAL PRIMARY KEY,\r\n  comment TEXT,\r\n  foo_id INT,\r\n  CONSTRAINT fk_foo\r\n    FOREIGN KEY(foo_id)\r\n    REFERENCES test_json.foo(id)\r\n    ON UPDATE CASCADE\r\n    ON DELETE CASCADE\r\n);\r\n\r\nCREATE TABLE test_json.baz (\r\n  id SERIAL PRIMARY KEY,\r\n  comment TEXT,\r\n  foo_id INT REFERENCES test_json.foo(id) ON UPDATE CASCADE ON DELETE CASCADE,\r\n  bar_id INT REFERENCES test_json.bar(id) ON UPDATE CASCADE ON DELETE CASCADE\r\n);\r\n```\r\n\r\n\r\n\r\n\r\nThis is my current REST Endpoint:\r\n\r\n\r\n```\r\n@RestController\r\npublic class TestJsonEndpoint {\r\n\r\n// Constructors and members removed.\r\n\r\n    @PostMapping(value = &quot;/foo&quot;)\r\n    public ResponseEntity&lt;Foo&gt; newFoo(@Valid @RequestBody Foo input) {\r\n        final var saved = fooRepository.save(input);\r\n        final var location = ServletUriComponentsBuilder\r\n                .fromCurrentRequest()\r\n                .path(&quot;/{id}&quot;)\r\n                .buildAndExpand(saved.getId())\r\n                .toUri();\r\n        return ResponseEntity.created(location).body(saved);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is the sample JSON Request:\r\n\r\n\r\n```\r\n{\r\n\t&quot;comment&quot;: &quot;I&#39;m in foo&quot;,\r\n\t&quot;bazs&quot;: [\r\n\t\t{\r\n\t\t\t&quot;comment&quot;: &quot;I&#39;m in baz1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;comment&quot;: &quot;I&#39;m in baz2&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;bars&quot;: [\r\n\t\t{\r\n\t\t\t&quot;comment&quot;: &quot;I&#39;m in bar&quot;,\r\n\t\t\t&quot;bazs&quot;: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;comment&quot;: &quot;I&#39;m in baz1&quot;\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nWhat I want here is that instead of giving all the details about Baz again inside Bars can I refer to the Baz that I already declared in Foo? Maybe by using a Jackson Annotation. And how do I handle this cyclic dependencies so that only the Ids are deserialized. (I know `@JsonManagedReference` and `@JsonBackReference` doesn&#39;t allow deserialization.)\r\n\r\n","title":"Bidirectional relationships and referencing problem with JSON","body":"<p>I'm working on a problem with bidirectional relation ship, here I have created POC application to demonstrate the problem and removing extra code. I have three classes Foo, Bar and Baz. Foo has a <code>OneToMany</code> relation with both of them and Bar has a <code>OneToMany</code> relation with Baz.</p>\n<pre><code>@Entity\n@Table(name = &quot;foo&quot;, schema = &quot;TEST_JSON&quot;)\npublic class Foo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\n    @JoinColumn(name = &quot;foo_id&quot;)\n    @JsonManagedReference(value = &quot;foobar&quot;)\n    private List&lt;Bar&gt; bars = new ArrayList&lt;&gt;();\n    @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\n    @JoinColumn(name = &quot;foo_id&quot;)\n    @JsonManagedReference(value = &quot;foobaz&quot;)\n    private List&lt;Baz&gt; bazs;\n\n    private String comment;\n\n//Constructors, Getters and setters are removed.\n}\n</code></pre>\n<p>This is Bar.java</p>\n<pre><code>\n@Entity\n@Table(name = &quot;bar&quot;, schema = &quot;TEST_JSON&quot;)\npublic class Bar {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @ManyToOne\n    @JoinColumn(name = &quot;foo_id&quot;)\n    @JsonBackReference(value = &quot;foobar&quot;)\n    private Foo foo;\n    @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\n    @JoinColumn(name = &quot;bar_id&quot;)\n    @JsonManagedReference(value = &quot;barbaz&quot;)\n    private List&lt;Baz&gt; bazs;\n\n    private String comment;\n\n//Constructors, Getters and setters are removed.\n}\n</code></pre>\n<p>This is Baz.java</p>\n<pre><code>@Entity\n@Table(name = &quot;baz&quot;, schema = &quot;TEST_JSON&quot;)\npublic class Baz {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @ManyToOne\n    @JoinColumn(name = &quot;foo_id&quot;)\n    @JsonBackReference(value = &quot;foobaz&quot;)\n    private Foo foo;\n    @ManyToOne\n    @JoinColumn(name = &quot;bar_id&quot;)\n    @JsonBackReference(value = &quot;barbaz&quot;)\n    private Bar bar;\n    private String comment;\n\n    @PrePersist\n    public void prePersist() {\n        if(foo == null)\n            foo = bar.getFoo();\n    } // Extra logic if I'm just adding a baz to bar.\n\n\n//Constructors, Getters and setters are removed.\n}\n</code></pre>\n<p>This is how it looks on the PostgreSQL side:</p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS test_json;\n\nCREATE TABLE test_json.foo (\n  id SERIAL PRIMARY KEY,\n  comment TEXT\n);\n\nCREATE TABLE test_json.bar (\n  id SERIAL PRIMARY KEY,\n  comment TEXT,\n  foo_id INT,\n  CONSTRAINT fk_foo\n    FOREIGN KEY(foo_id)\n    REFERENCES test_json.foo(id)\n    ON UPDATE CASCADE\n    ON DELETE CASCADE\n);\n\nCREATE TABLE test_json.baz (\n  id SERIAL PRIMARY KEY,\n  comment TEXT,\n  foo_id INT REFERENCES test_json.foo(id) ON UPDATE CASCADE ON DELETE CASCADE,\n  bar_id INT REFERENCES test_json.bar(id) ON UPDATE CASCADE ON DELETE CASCADE\n);\n</code></pre>\n<p>This is my current REST Endpoint:</p>\n<pre><code>@RestController\npublic class TestJsonEndpoint {\n\n// Constructors and members removed.\n\n    @PostMapping(value = &quot;/foo&quot;)\n    public ResponseEntity&lt;Foo&gt; newFoo(@Valid @RequestBody Foo input) {\n        final var saved = fooRepository.save(input);\n        final var location = ServletUriComponentsBuilder\n                .fromCurrentRequest()\n                .path(&quot;/{id}&quot;)\n                .buildAndExpand(saved.getId())\n                .toUri();\n        return ResponseEntity.created(location).body(saved);\n    }\n}\n</code></pre>\n<p>This is the sample JSON Request:</p>\n<pre><code>{\n    &quot;comment&quot;: &quot;I'm in foo&quot;,\n    &quot;bazs&quot;: [\n        {\n            &quot;comment&quot;: &quot;I'm in baz1&quot;\n        },\n        {\n            &quot;comment&quot;: &quot;I'm in baz2&quot;\n        }\n    ],\n    &quot;bars&quot;: [\n        {\n            &quot;comment&quot;: &quot;I'm in bar&quot;,\n            &quot;bazs&quot;: [\n                {\n                    &quot;comment&quot;: &quot;I'm in baz1&quot;\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>What I want here is that instead of giving all the details about Baz again inside Bars can I refer to the Baz that I already declared in Foo? Maybe by using a Jackson Annotation. And how do I handle this cyclic dependencies so that only the Ids are deserialized. (I know <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> doesn't allow deserialization.)</p>\n"},{"tags":["java","spring","spring-boot","swagger","springdoc"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674234067,"post_id":75187134,"comment_id":132678204,"body_markdown":"*&quot;org.springframework.data.repository.query.Param.value()* looks like a paramter is not set","body":"<i>&quot;org.springframework.data.repository.query.Param.value()</i> looks like a paramter is not set"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1674238014,"post_id":75187134,"comment_id":132679491,"body_markdown":"Just sharing an exception and a gradle configuration doesn&#39;t help contributors to debug your code.  Please look at how to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) so that we can attempt to debug, either visually or by loading the code in our own IDEs and running it.","body":"Just sharing an exception and a gradle configuration doesn&#39;t help contributors to debug your code.  Please look at how to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that we can attempt to debug, either visually or by loading the code in our own IDEs and running it."},{"owner":{"account_id":27500135,"reputation":21,"user_id":20984017,"display_name":"Przemysaw Sosna"},"score":0,"creation_date":1674238339,"post_id":75187134,"comment_id":132679600,"body_markdown":"I&#39;ll try to provide a minimal reproducible example.","body":"I&#39;ll try to provide a minimal reproducible example."}],"answers":[{"tags":[],"owner":{"account_id":5594376,"reputation":51,"user_id":4432563,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674550609,"creation_date":1674549712,"answer_id":75219132,"question_id":75187134,"body_markdown":"I was able to fix (workaround) the error by adding @Param annotation to all repository methods implemented with JpaRepository, ex.:\r\n\r\n`Optional&lt;File&gt; findByFileType(@Param(&quot;fileType&quot;) String fileType);`\r\n\r\nWhen the method did not have any @Param I was getting the 500 error, when I added the annotation to all methods in all repositories now the Swagger loads correctly. \r\n\r\nEdit.\r\nAfter more testing it seems the issue is in my case only with the only 2 paramters method in my repositories, so I had only to add the @Param to one method in all my repositories:\r\n\r\n`Optional&lt;Dictionary&gt; findByDictionaryNameAndDictionaryValue(\r\n    \t\t@Param(&quot;dictionaryName&quot;) String dictionaryName, \r\n    \t\t@Param(&quot;dictionaryValue&quot;) String dictionaryValue);`\r\n\r\nThe second method in this repository and other repositories do not need @Param annotation in my case.","title":"How to fix http 500 error when accessing /v3/api-docs in Spring Boot with springdoc-openapi-starter-webmvc-ui:2.0.2?","body":"<p>I was able to fix (workaround) the error by adding @Param annotation to all repository methods implemented with JpaRepository, ex.:</p>\n<p><code>Optional&lt;File&gt; findByFileType(@Param(&quot;fileType&quot;) String fileType);</code></p>\n<p>When the method did not have any @Param I was getting the 500 error, when I added the annotation to all methods in all repositories now the Swagger loads correctly.</p>\n<p>Edit.\nAfter more testing it seems the issue is in my case only with the only 2 paramters method in my repositories, so I had only to add the @Param to one method in all my repositories:</p>\n<p><code>Optional&lt;Dictionary&gt; findByDictionaryNameAndDictionaryValue( @Param(&quot;dictionaryName&quot;) String dictionaryName,  @Param(&quot;dictionaryValue&quot;) String dictionaryValue);</code></p>\n<p>The second method in this repository and other repositories do not need @Param annotation in my case.</p>\n"},{"tags":[],"owner":{"account_id":10508038,"reputation":53,"user_id":7744621,"display_name":"Ernestorumo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677232720,"creation_date":1677232720,"answer_id":75555096,"question_id":75187134,"body_markdown":"Since you are using &quot;2.0.2&quot; version of springdoc, you put @Hidden annotation in repositories that produce the error. In this entry it&#180;s explained with more detail: [https://stackoverflow.com/a/74378329/7744621][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74378329/7744621","title":"How to fix http 500 error when accessing /v3/api-docs in Spring Boot with springdoc-openapi-starter-webmvc-ui:2.0.2?","body":"<p>Since you are using &quot;2.0.2&quot; version of springdoc, you put @Hidden annotation in repositories that produce the error. In this entry its explained with more detail: <a href=\"https://stackoverflow.com/a/74378329/7744621\">https://stackoverflow.com/a/74378329/7744621</a></p>\n"}],"owner":{"account_id":27500135,"reputation":21,"user_id":20984017,"display_name":"Przemysaw Sosna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7281,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677232720,"creation_date":1674233955,"question_id":75187134,"body_markdown":"I&#39;m trying to use swagger and springdoc in my little Spring Boot project. I don&#39;t know why, but each time I try to access http://localhost:8080/v3/api-docs, i get an internal server error. Here is my stack-trace: https://pastebin.com/y2W5t8He\r\n```\r\n2023-01-20T17:42:01.751+01:00 ERROR 13407 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null\r\n\tat org.springdoc.core.data.DataRestOperationService.getParameterType(DataRestOperationService.java:242) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestOperationService.buildSearchOperation(DataRestOperationService.java:209) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestOperationService.buildOperation(DataRestOperationService.java:136) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:289) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:228) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperationList(DataRestRouterOperationService.java:194) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildSearchRouterOperationList(DataRestRouterOperationService.java:149) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.lambda$findSearchControllers$13(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchControllers(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchResourceMappings(SpringRepositoryRestResourceProvider.java:362) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.getRouterOperations(SpringRepositoryRestResourceProvider.java:276) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$1(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:169) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:165) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:366) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:140) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:117) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:902) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.4.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.4.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat io.sentry.spring.jakarta.SentryUserFilter.doFilterInternal(SentryUserFilter.java:56) ~[sentry-spring-jakarta-6.12.1.jar:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat io.sentry.spring.jakarta.tracing.SentryTracingFilter.doFilterInternal(SentryTracingFilter.java:87) ~[sentry-spring-jakarta-6.12.1.jar:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat io.sentry.spring.jakarta.SentrySpringFilter.doFilterInternal(SentrySpringFilter.java:71) ~[sentry-spring-jakarta-6.12.1.jar:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n```\r\n\r\n\r\nMy build.gradle: https://pastebin.com/CqMJRcCz\r\n    \r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.1&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;19&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-groovy-templates&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n    implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n    implementation &#39;org.postgresql:postgresql:42.5.1&#39;\r\n    implementation &#39;io.sentry:sentry-spring-boot-starter:6.12.1&#39;\r\n    implementation &#39;io.sentry:sentry-spring-boot-starter-jakarta:6.12.1&#39;\r\n    implementation &#39;io.sentry:sentry-logback:6.12.1&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-starter-common:2.0.2&#39;\r\n\r\n\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.restdocs:spring-restdocs-mockmvc:2.0.6.RELEASE&#39;\r\n    implementation &#39;org.hibernate.validator:hibernate-validator:8.0.0.Final&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\napply plugin: &#39;java&#39;\r\n\r\n```\r\nCan you please help me?\r\n\r\nI&#39;ve tried restarting, reloading my dependencies and checking different dependencies.","title":"How to fix http 500 error when accessing /v3/api-docs in Spring Boot with springdoc-openapi-starter-webmvc-ui:2.0.2?","body":"<p>I'm trying to use swagger and springdoc in my little Spring Boot project. I don't know why, but each time I try to access http://localhost:8080/v3/api-docs, i get an internal server error. Here is my stack-trace: <a href=\"https://pastebin.com/y2W5t8He\" rel=\"nofollow noreferrer\">https://pastebin.com/y2W5t8He</a></p>\n<pre><code>2023-01-20T17:42:01.751+01:00 ERROR 13407 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null\n    at org.springdoc.core.data.DataRestOperationService.getParameterType(DataRestOperationService.java:242) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestOperationService.buildSearchOperation(DataRestOperationService.java:209) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestOperationService.buildOperation(DataRestOperationService.java:136) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:289) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:228) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperationList(DataRestRouterOperationService.java:194) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildSearchRouterOperationList(DataRestRouterOperationService.java:149) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.lambda$findSearchControllers$13(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchControllers(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchResourceMappings(SpringRepositoryRestResourceProvider.java:362) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.getRouterOperations(SpringRepositoryRestResourceProvider.java:276) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$1(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:169) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:165) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:366) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:140) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:117) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:902) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.4.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.4.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at io.sentry.spring.jakarta.SentryUserFilter.doFilterInternal(SentryUserFilter.java:56) ~[sentry-spring-jakarta-6.12.1.jar:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:116) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at io.sentry.spring.jakarta.tracing.SentryTracingFilter.doFilterInternal(SentryTracingFilter.java:87) ~[sentry-spring-jakarta-6.12.1.jar:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at io.sentry.spring.jakarta.SentrySpringFilter.doFilterInternal(SentrySpringFilter.java:71) ~[sentry-spring-jakarta-6.12.1.jar:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n<p>My build.gradle: <a href=\"https://pastebin.com/CqMJRcCz\" rel=\"nofollow noreferrer\">https://pastebin.com/CqMJRcCz</a></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '19'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-groovy-templates'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    implementation 'org.postgresql:postgresql:42.5.1'\n    implementation 'io.sentry:sentry-spring-boot-starter:6.12.1'\n    implementation 'io.sentry:sentry-spring-boot-starter-jakarta:6.12.1'\n    implementation 'io.sentry:sentry-logback:6.12.1'\n    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'\n    implementation 'org.springdoc:springdoc-openapi-starter-common:2.0.2'\n\n\n\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'javax.servlet:javax.servlet-api:4.0.1'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.restdocs:spring-restdocs-mockmvc:2.0.6.RELEASE'\n    implementation 'org.hibernate.validator:hibernate-validator:8.0.0.Final'\n\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\napply plugin: 'java'\n\n</code></pre>\n<p>Can you please help me?</p>\n<p>I've tried restarting, reloading my dependencies and checking different dependencies.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","web-scraping"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677232386,"creation_date":1677159912,"answer_id":75545671,"question_id":75545118,"body_markdown":"**Root Cause of Failure:** On click, the window opens in new tab. You are trying to perform `.sendKeys` in the parent tab. Hence exception `unable to locate element` \r\n\r\n**Solution:** You need to switch to the new tab and then perform `.sendKeys` action\r\nUse the below code to switch to new tab/window\r\n````\r\n\t\tString tab =driver.getWindowHandle(); // Store your parent tab\r\n\t\tString newTab = null;\r\n\t\tSet&lt;String&gt; handles = driver.getWindowHandles(); // get all tab handles\r\n\t\t            Iterator&lt;String&gt; iterator = handles.iterator();\r\n\t\t            while (iterator.hasNext()){\r\n\t\t            \tnewTab = iterator.next();\r\n\t\t            }\r\n\t\tdriver.switchTo().window(newTab); // switch to new tab\r\n````\r\n\r\n**Full working code:** Use the below code, it works as expected in my machine\r\n\r\n````\r\n\t\tString tab =driver.getWindowHandle(); // Store your parent tab\r\n\t\tString newTab = null;\r\n\t\tWebElement jetztBestellenButton = driver.findElement(\r\n\t\t\t\tBy.xpath(&quot;/html/body/main/div[8]/div/section/div/div[1]/div[2]/div[3]/div[1]/div/div[5]/a&quot;));\r\n\t\tJavascriptExecutor js = (JavascriptExecutor) driver;\r\n\t\tjs.executeScript(&quot;arguments[0].click();&quot;, jetztBestellenButton);\r\n\t\tThread.sleep(3000);\r\n\t\t\r\n\t\tSet&lt;String&gt; handles = driver.getWindowHandles(); // get all tab handles\r\n\t\t            Iterator&lt;String&gt; iterator = handles.iterator();\r\n\t\t            while (iterator.hasNext()){\r\n\t\t            \tnewTab = iterator.next();\r\n\t\t            }\r\n\t\tdriver.switchTo().window(newTab); // switch to new tab\r\n\t\tjs.executeScript(&quot;arguments[0].value=&#39;20095&#39;;&quot;, driver.findElement(By.name(&quot;deliveryAddress.zip&quot;)));\r\n````\r\n\r\n**Note:** In case you want to switch to parent tab, then just use below code\r\n````\r\ndriver.switchTo().window(tab);\r\n```` \r\n\r\n**Result output:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hdAre.png\r\n\r\n**UPDATE:** Add the below lines of code at the end, this will enable the &lt;kbd&gt;pr&#252;fen&lt;/kbd&gt; button\r\n\r\n````\r\njs.executeScript(&quot;arguments[0].value=&#39;20095&#39;;&quot;, driver.findElement(By.name(&quot;deliveryAddress.zip&quot;))); \r\n````\r\nAfter the above line, add the below 3 lines\r\n````\r\nThread.sleep(2000);\r\ndriver.findElement(By.name(&quot;deliveryAddress.zip&quot;)).clear();\r\ndriver.findElement(By.name(&quot;deliveryAddress.zip&quot;)).sendKeys(&quot;20095&quot;);\r\n````","title":"Java &amp; Selenium Web Scraping Field Input Text doesn&#39;t work","body":"<p><strong>Root Cause of Failure:</strong> On click, the window opens in new tab. You are trying to perform <code>.sendKeys</code> in the parent tab. Hence exception <code>unable to locate element</code></p>\n<p><strong>Solution:</strong> You need to switch to the new tab and then perform <code>.sendKeys</code> action\nUse the below code to switch to new tab/window</p>\n<pre><code>        String tab =driver.getWindowHandle(); // Store your parent tab\n        String newTab = null;\n        Set&lt;String&gt; handles = driver.getWindowHandles(); // get all tab handles\n                    Iterator&lt;String&gt; iterator = handles.iterator();\n                    while (iterator.hasNext()){\n                        newTab = iterator.next();\n                    }\n        driver.switchTo().window(newTab); // switch to new tab\n</code></pre>\n<p><strong>Full working code:</strong> Use the below code, it works as expected in my machine</p>\n<pre><code>        String tab =driver.getWindowHandle(); // Store your parent tab\n        String newTab = null;\n        WebElement jetztBestellenButton = driver.findElement(\n                By.xpath(&quot;/html/body/main/div[8]/div/section/div/div[1]/div[2]/div[3]/div[1]/div/div[5]/a&quot;));\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        js.executeScript(&quot;arguments[0].click();&quot;, jetztBestellenButton);\n        Thread.sleep(3000);\n        \n        Set&lt;String&gt; handles = driver.getWindowHandles(); // get all tab handles\n                    Iterator&lt;String&gt; iterator = handles.iterator();\n                    while (iterator.hasNext()){\n                        newTab = iterator.next();\n                    }\n        driver.switchTo().window(newTab); // switch to new tab\n        js.executeScript(&quot;arguments[0].value='20095';&quot;, driver.findElement(By.name(&quot;deliveryAddress.zip&quot;)));\n</code></pre>\n<p><strong>Note:</strong> In case you want to switch to parent tab, then just use below code</p>\n<pre><code>driver.switchTo().window(tab);\n</code></pre>\n<p><strong>Result output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/hdAre.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hdAre.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>UPDATE:</strong> Add the below lines of code at the end, this will enable the <kbd>prfen</kbd> button</p>\n<pre><code>js.executeScript(&quot;arguments[0].value='20095';&quot;, driver.findElement(By.name(&quot;deliveryAddress.zip&quot;))); \n</code></pre>\n<p>After the above line, add the below 3 lines</p>\n<pre><code>Thread.sleep(2000);\ndriver.findElement(By.name(&quot;deliveryAddress.zip&quot;)).clear();\ndriver.findElement(By.name(&quot;deliveryAddress.zip&quot;)).sendKeys(&quot;20095&quot;);\n</code></pre>\n"}],"owner":{"account_id":27179531,"reputation":1,"user_id":20714999,"display_name":"Okan Aydin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677232386,"creation_date":1677156843,"question_id":75545118,"body_markdown":"My Code:\r\n\r\n````\r\ndriver.manage().window().maximize();\r\n    \r\n    Duration pageLoadTimeout = Duration.ofMinutes(1);\r\n    driver.manage().timeouts().pageLoadTimeout(pageLoadTimeout);\r\n    \r\n    driver.get(&quot;https://deutsche-giganetz.de/&quot;);\r\n    WebDriverWait wait = new WebDriverWait(driver, pageLoadTimeout);\r\n    \r\n    wait.until(webDriver -&gt; ((JavascriptExecutor) webDriver)\r\n                    .executeScript(&quot;return document.readyState&quot;)\r\n                    .equals(&quot;complete&quot;));\r\n    \r\n    driver.findElement(By.xpath(&quot;/html/body/section/div/div[1]/div[2]/div[1]/button[1]&quot;)).click();\r\n    Thread.sleep(5000);\r\n    \r\n    driver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/div[1]/div[2]/ul/li[1]/a&quot;)).click();\r\n    Thread.sleep(5000);\r\n    \r\n    \r\n    assert driver.getWindowHandles().size() == 1;\r\n    \r\n        WebElement jetztBestellenButton = driver.findElement(By.xpath(&quot;/html/body/main/div[8]/div/section/div/div[1]/div[2]/div[3]/div[1]/div/div[5]/a&quot;));\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        js.executeScript(&quot;arguments[0].click();&quot;, jetztBestellenButton);\r\n        Thread.sleep(5000);\r\n        \r\n        \r\n        driver.findElement(By.name(&quot;deliveryAddress.zip&quot;)).sendKeys(&quot;20095&quot;);\r\n````\r\n\r\nThe element cannot be found on the page. As soon as the script clicks on a link and is redirected to a new page it is supposed to enter something on a field, but this does not work. I have tried everything.\r\n\r\nI have tried the path `findElement by.` with everything, with id, class, XPath and none of it worked. I switched from `geckodriver` to `chromedriver` thinking it was the browser, but it wasn&#39;t that either. I also wrote a code that loads the page so that the path can be found, but it didn&#39;t work either.\r\n\r\nThe error code each time is that item cannot be found, for example: `&quot;no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;deliveryAddress.zip&#39;]&quot;}&quot;`\r\n\r\n","title":"Java &amp; Selenium Web Scraping Field Input Text doesn&#39;t work","body":"<p>My Code:</p>\n<pre><code>driver.manage().window().maximize();\n    \n    Duration pageLoadTimeout = Duration.ofMinutes(1);\n    driver.manage().timeouts().pageLoadTimeout(pageLoadTimeout);\n    \n    driver.get(&quot;https://deutsche-giganetz.de/&quot;);\n    WebDriverWait wait = new WebDriverWait(driver, pageLoadTimeout);\n    \n    wait.until(webDriver -&gt; ((JavascriptExecutor) webDriver)\n                    .executeScript(&quot;return document.readyState&quot;)\n                    .equals(&quot;complete&quot;));\n    \n    driver.findElement(By.xpath(&quot;/html/body/section/div/div[1]/div[2]/div[1]/button[1]&quot;)).click();\n    Thread.sleep(5000);\n    \n    driver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/div[1]/div[2]/ul/li[1]/a&quot;)).click();\n    Thread.sleep(5000);\n    \n    \n    assert driver.getWindowHandles().size() == 1;\n    \n        WebElement jetztBestellenButton = driver.findElement(By.xpath(&quot;/html/body/main/div[8]/div/section/div/div[1]/div[2]/div[3]/div[1]/div/div[5]/a&quot;));\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        js.executeScript(&quot;arguments[0].click();&quot;, jetztBestellenButton);\n        Thread.sleep(5000);\n        \n        \n        driver.findElement(By.name(&quot;deliveryAddress.zip&quot;)).sendKeys(&quot;20095&quot;);\n</code></pre>\n<p>The element cannot be found on the page. As soon as the script clicks on a link and is redirected to a new page it is supposed to enter something on a field, but this does not work. I have tried everything.</p>\n<p>I have tried the path <code>findElement by.</code> with everything, with id, class, XPath and none of it worked. I switched from <code>geckodriver</code> to <code>chromedriver</code> thinking it was the browser, but it wasn't that either. I also wrote a code that loads the page so that the path can be found, but it didn't work either.</p>\n<p>The error code each time is that item cannot be found, for example: <code>&quot;no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name='deliveryAddress.zip']&quot;}&quot;</code></p>\n"},{"tags":["java","java.util.concurrent","atomic-long"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":5,"creation_date":1626109048,"post_id":68351201,"comment_id":120799873,"body_markdown":"The javadoc for LongAccumulator discusses the throughput in comparison with AtomicLong.","body":"The javadoc for LongAccumulator discusses the throughput in comparison with AtomicLong."},{"owner":{"account_id":3213965,"reputation":2185,"user_id":2713255,"accept_rate":29,"display_name":"Manas Saxena"},"score":1,"creation_date":1626109360,"post_id":68351201,"comment_id":120799985,"body_markdown":"Does it make any difference if I use primitive volative vs AtomicLong.set vs LongAccumulator ?","body":"Does it make any difference if I use primitive volative vs AtomicLong.set vs LongAccumulator ?"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626255529,"creation_date":1626255529,"answer_id":68375634,"question_id":68351201,"body_markdown":"Primitive volatile and atomic long will perform the same for a simple set because atomic long uses volatile long field internally. Doing few million concurrent updates per second on the same volatile will for typical apps not be a performance problem.\r\n\r\nAlso I would be careful optimizing code if you don&#39;t know if something is a performance problem at all.","title":"AtomicLong.set vs LongAccumulator.accumulate performance java?","body":"<p>Primitive volatile and atomic long will perform the same for a simple set because atomic long uses volatile long field internally. Doing few million concurrent updates per second on the same volatile will for typical apps not be a performance problem.</p>\n<p>Also I would be careful optimizing code if you don't know if something is a performance problem at all.</p>\n"},{"tags":[],"owner":{"account_id":3720263,"reputation":1076,"user_id":3095500,"display_name":"utrucceh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677232258,"creation_date":1677232258,"answer_id":75555010,"question_id":68351201,"body_markdown":"Simply, share `long` between `threads` safetly just neet `volatile` keyword like:\r\n\r\n    private volatile long value;\r\n\r\nSo, if you just use it like this, it will enought.\r\n&lt;br/&gt;&lt;br/&gt;\r\n\r\nBut for your question, if you examine source codes\r\n\r\n\r\n**AtomicLong source:**\r\n\r\n    public final void set(long newValue) {\r\n        value = newValue;\r\n    }\r\n\r\n\r\n**LongAccumulator source:**\r\n\r\n    public void accumulate(long x) {\r\n        Cell[] as; long b, v, r; int m; Cell a;\r\n        if ((as = cells) != null ||\r\n            (r = function.applyAsLong(b = base, x)) != b &amp;&amp; !casBase(b, r)) {\r\n            boolean uncontended = true;\r\n            if (as == null || (m = as.length - 1) &lt; 0 ||\r\n                (a = as[getProbe() &amp; m]) == null ||\r\n                !(uncontended =\r\n                  (r = function.applyAsLong(v = a.value, x)) == v ||\r\n                  a.cas(v, r)))\r\n                longAccumulate(x, function, uncontended);\r\n        }\r\n    }\r\n\r\n    final void longAccumulate(long x, LongBinaryOperator fn,\r\n                              boolean wasUncontended) {\r\n        //.... a lot of codes\r\n    }\r\n\r\n\r\nSo, `AtomicLong` is better for performance because of less code :)","title":"AtomicLong.set vs LongAccumulator.accumulate performance java?","body":"<p>Simply, share <code>long</code> between <code>threads</code> safetly just neet <code>volatile</code> keyword like:</p>\n<pre><code>private volatile long value;\n</code></pre>\n<p>So, if you just use it like this, it will enought.\n<br/><br/></p>\n<p>But for your question, if you examine source codes</p>\n<p><strong>AtomicLong source:</strong></p>\n<pre><code>public final void set(long newValue) {\n    value = newValue;\n}\n</code></pre>\n<p><strong>LongAccumulator source:</strong></p>\n<pre><code>public void accumulate(long x) {\n    Cell[] as; long b, v, r; int m; Cell a;\n    if ((as = cells) != null ||\n        (r = function.applyAsLong(b = base, x)) != b &amp;&amp; !casBase(b, r)) {\n        boolean uncontended = true;\n        if (as == null || (m = as.length - 1) &lt; 0 ||\n            (a = as[getProbe() &amp; m]) == null ||\n            !(uncontended =\n              (r = function.applyAsLong(v = a.value, x)) == v ||\n              a.cas(v, r)))\n            longAccumulate(x, function, uncontended);\n    }\n}\n\nfinal void longAccumulate(long x, LongBinaryOperator fn,\n                          boolean wasUncontended) {\n    //.... a lot of codes\n}\n</code></pre>\n<p>So, <code>AtomicLong</code> is better for performance because of less code :)</p>\n"}],"owner":{"account_id":3213965,"reputation":2185,"user_id":2713255,"accept_rate":29,"display_name":"Manas Saxena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1677232258,"creation_date":1626108837,"question_id":68351201,"body_markdown":"I have a use case for high concurrent writes to an AtomicLong variable. I just need to set current epoc time in this variable. What would be the fastest way to do so?\r\n\r\nIs `LongAccumulator.accumulate` a better alternative to `AtomicLong.set`, are there any stats out there which tell after how many concurrent requests/second which is better if I just want to set variable to some value without any addition or calculation?\r\n","title":"AtomicLong.set vs LongAccumulator.accumulate performance java?","body":"<p>I have a use case for high concurrent writes to an AtomicLong variable. I just need to set current epoc time in this variable. What would be the fastest way to do so?</p>\n<p>Is <code>LongAccumulator.accumulate</code> a better alternative to <code>AtomicLong.set</code>, are there any stats out there which tell after how many concurrent requests/second which is better if I just want to set variable to some value without any addition or calculation?</p>\n"},{"tags":["java","rest","jersey"],"answers":[{"tags":[],"owner":{"account_id":1145947,"reputation":1878,"user_id":1128712,"accept_rate":50,"display_name":"SourceVisor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1392593515,"creation_date":1392593515,"answer_id":21818295,"question_id":20578642,"body_markdown":"Your question seems to be a duplicate and has probably been appropriately addressed. I too had the same issue some time ago. [Click here to see the accepted answer that resolved it for me](https://stackoverflow.com/questions/17161285/exception-com-sun-jersey-spi-inject-errorserrormessagesexception)\r\n\r\nAnd in case you&#39;re reluctant to follow the link, first of all, try adding &lt;strong&gt;`jersey-multipart.jar`&lt;/strong&gt; and &lt;strong&gt;`mimepull.jar`&lt;/strong&gt; to your project libraries... And if your project is a Maven project, add the following dependencies to your `pom.xml`. The `mimepull` dependency should ship along with it. &lt;strong&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;/strong&gt;\r\n\r\n**Remember to ensure that the version of *`jersey-multipart`* that you use, is the same as the version of *`jersey`* that you&#39;re using in the project.**\r\n\r\nJust in case the above solution doesn&#39;t resolve your issue, you may want to see **[here](https://blogs.oracle.com/brunoborges/entry/issue_dev_ing_restful_json)** for more useful tips too. Cheers!","title":"Errors$ErrorMessagesException when using Jersey in Java","body":"<p>Your question seems to be a duplicate and has probably been appropriately addressed. I too had the same issue some time ago. <a href=\"https://stackoverflow.com/questions/17161285/exception-com-sun-jersey-spi-inject-errorserrormessagesexception\">Click here to see the accepted answer that resolved it for me</a></p>\n\n<p>And in case you're reluctant to follow the link, first of all, try adding <strong><code>jersey-multipart.jar</code></strong> and <strong><code>mimepull.jar</code></strong> to your project libraries... And if your project is a Maven project, add the following dependencies to your <code>pom.xml</code>. The <code>mimepull</code> dependency should ship along with it. <strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\n    &lt;version&gt;1.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p></strong></p>\n\n<p><strong>Remember to ensure that the version of <em><code>jersey-multipart</code></em> that you use, is the same as the version of <em><code>jersey</code></em> that you're using in the project.</strong></p>\n\n<p>Just in case the above solution doesn't resolve your issue, you may want to see <strong><a href=\"https://blogs.oracle.com/brunoborges/entry/issue_dev_ing_restful_json\" rel=\"nofollow noreferrer\">here</a></strong> for more useful tips too. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":1972216,"reputation":497,"user_id":2893421,"accept_rate":75,"display_name":"Aruljothi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399137674,"creation_date":1399137674,"answer_id":23447572,"question_id":20578642,"body_markdown":"Add dependency from the reference\r\n\r\n[Jersey Application Deployment and Runtime Environments][1]\r\n\r\n\r\n  [1]: https://jersey.java.net/documentation/latest/deployment.html\r\n\r\nin your web.xml\r\n\r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;com.rest.portal&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;jersey.config.server.provider.scanning.recursive&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;com.rest.portal.HelloWord&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\nIn Jersey 1.x only using the \r\n\r\n    &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\r\nIn 2.x series use\r\n\r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\r\nAnd add necessary jersy jar files\r\n\r\n    \r\n\r\n 1. asm-5.0.2.jar\r\n 2. jersey-common.jar\r\n 3. jersey-servlet-container-core.jar\r\n 4. jersey-servlet-container.jar\r\n 5. jersey-server.jar","title":"Errors$ErrorMessagesException when using Jersey in Java","body":"<p>Add dependency from the reference</p>\n\n<p><a href=\"https://jersey.java.net/documentation/latest/deployment.html\" rel=\"nofollow\">Jersey Application Deployment and Runtime Environments</a></p>\n\n<p>in your web.xml</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.rest.portal&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.scanning.recursive&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n        &lt;param-value&gt;com.rest.portal.HelloWord&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>In Jersey 1.x only using the </p>\n\n<pre><code>&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n</code></pre>\n\n<p>In 2.x series use</p>\n\n<pre><code>&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n</code></pre>\n\n<p>And add necessary jersy jar files</p>\n\n<ol>\n<li>asm-5.0.2.jar</li>\n<li>jersey-common.jar</li>\n<li>jersey-servlet-container-core.jar</li>\n<li>jersey-servlet-container.jar</li>\n<li>jersey-server.jar</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2890047,"reputation":534,"user_id":2479048,"display_name":"Tomasz O."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677231888,"creation_date":1415809378,"answer_id":26891665,"question_id":20578642,"body_markdown":"Check for clashing @Path annotations.\r\nThis will result with the same error. It&#39;s a weird error for communicating path issues, but you can easily test it by renaming the matching paths. \r\n\r\nExample of cashing paths in the code below\r\n\r\nSome class\r\n\r\n    @Path(&quot;/storage&quot;)\r\n    public class BookingRestService {\r\n\r\n\t@GET\r\n\t@Path(&quot;/bookings&quot;)\r\n\t@Produces(value = MediaType.APPLICATION_XML)\r\n\r\nand another class\r\n\r\n    @Path(&quot;/storage&quot;)\r\n    public class StorageRestService {\r\n\r\nBy renaming any of the `@Path(&quot;/storage&quot;)` the problem is remediated.","title":"Errors$ErrorMessagesException when using Jersey in Java","body":"<p>Check for clashing @Path annotations.\nThis will result with the same error. It's a weird error for communicating path issues, but you can easily test it by renaming the matching paths.</p>\n<p>Example of cashing paths in the code below</p>\n<p>Some class</p>\n<pre><code>@Path(&quot;/storage&quot;)\npublic class BookingRestService {\n\n@GET\n@Path(&quot;/bookings&quot;)\n@Produces(value = MediaType.APPLICATION_XML)\n</code></pre>\n<p>and another class</p>\n<pre><code>@Path(&quot;/storage&quot;)\npublic class StorageRestService {\n</code></pre>\n<p>By renaming any of the <code>@Path(&quot;/storage&quot;)</code> the problem is remediated.</p>\n"},{"tags":[],"owner":{"account_id":401874,"reputation":427,"user_id":768691,"accept_rate":98,"display_name":"ucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468690611,"creation_date":1468690611,"answer_id":38413840,"question_id":20578642,"body_markdown":"One more use-case, which causes the same exception, which broke my code.\r\nIf you were to write the resource like this:\r\n\r\n    public String getPOST(@QueryParam(&quot;type&quot;) Character type){}\r\n\r\nthe following data type, `Character`, will cause the exception.","title":"Errors$ErrorMessagesException when using Jersey in Java","body":"<p>One more use-case, which causes the same exception, which broke my code.\nIf you were to write the resource like this:</p>\n\n<pre><code>public String getPOST(@QueryParam(\"type\") Character type){}\n</code></pre>\n\n<p>the following data type, <code>Character</code>, will cause the exception.</p>\n"}],"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26330,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":21818295,"answer_count":4,"score":5,"last_activity_date":1677231888,"creation_date":1386984139,"question_id":20578642,"body_markdown":"I am using Jersy to develeop REST webservices, this is my simple code:\r\n\r\n    @GET\r\n\t@Path(&quot;/retrieveCustomerInformation/{jsonString}&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic String retrieveCustomerInformation(@PathParam(&quot;jsonString&quot;)JSONObject jsonObject) \r\n        throws Exception  {\r\n          //Other codes here\r\n\r\n        }\r\n\r\nBut when I ping the rest service url from browser, I am getting below exception:\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet jersey-serlvet threw exception\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n\r\nand the root cause is:\r\n\r\n    com.sun.jersey.spi.inject.Errors$ErrorMessagesException\r\n\tcom.sun.jersey.spi.inject.Errors.processErrorMessages(Errors.java:170)\r\n\tcom.sun.jersey.spi.inject.Errors.postProcess(Errors.java:136)\r\n\tcom.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:199)\r\n\r\nCan someone guide me, what causes this error? I am finding difficult to understand this error message as it doesn&#39;t provide any useful information to debug.\r\n\r\nThis is my web.xml\r\n\r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;\r\n                     com.sun.jersey.spi.container.servlet.ServletContainer\r\n                &lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t     &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n\t\t     &lt;param-value&gt;com.test/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\nI am using Jersey 1.8, JDK 1.7 and App is running on Tomcat 7.0. If required I can provide more information.","title":"Errors$ErrorMessagesException when using Jersey in Java","body":"<p>I am using Jersy to develeop REST webservices, this is my simple code:</p>\n\n<pre><code>@GET\n@Path(\"/retrieveCustomerInformation/{jsonString}\")\n@Produces(MediaType.APPLICATION_JSON)\npublic String retrieveCustomerInformation(@PathParam(\"jsonString\")JSONObject jsonObject) \n    throws Exception  {\n      //Other codes here\n\n    }\n</code></pre>\n\n<p>But when I ping the rest service url from browser, I am getting below exception:</p>\n\n<pre><code>javax.servlet.ServletException: Servlet.init() for servlet jersey-serlvet threw exception\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\norg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n</code></pre>\n\n<p>and the root cause is:</p>\n\n<pre><code>com.sun.jersey.spi.inject.Errors$ErrorMessagesException\ncom.sun.jersey.spi.inject.Errors.processErrorMessages(Errors.java:170)\ncom.sun.jersey.spi.inject.Errors.postProcess(Errors.java:136)\ncom.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:199)\n</code></pre>\n\n<p>Can someone guide me, what causes this error? I am finding difficult to understand this error message as it doesn't provide any useful information to debug.</p>\n\n<p>This is my web.xml</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;\n                 com.sun.jersey.spi.container.servlet.ServletContainer\n            &lt;/servlet-class&gt;\n    &lt;init-param&gt;\n         &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n         &lt;param-value&gt;com.test/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>I am using Jersey 1.8, JDK 1.7 and App is running on Tomcat 7.0. If required I can provide more information.</p>\n"},{"tags":["java","point","curve"],"comments":[{"owner":{"account_id":2129081,"reputation":433,"user_id":1890362,"accept_rate":60,"display_name":"Hennio"},"score":0,"creation_date":1481725644,"post_id":41144224,"comment_id":69492444,"body_markdown":"please add more information about what you have tried or what is not working in your code","body":"please add more information about what you have tried or what is not working in your code"}],"answers":[{"tags":[],"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1481726075,"creation_date":1481724896,"answer_id":41144762,"question_id":41144224,"body_markdown":"For the Menger Curvature, the formula is right [there][1] in the Wikipedia article :\r\n\r\n`curvature = 4*triangleArea/(sideLength1*sideLength2*sideLength3)`\r\n\r\nWhich code did you try exactly?\r\n\r\nIt shouldn&#39;t be too hard to calculate those 4 values given your 3 points.\r\n\r\n[Here][2] are some helpful methods : \r\n\r\n    /**\r\n     * Returns twice the signed area of the triangle a-b-c.\r\n     * @param a first point\r\n     * @param b second point\r\n     * @param c third point\r\n     * @return twice the signed area of the triangle a-b-c\r\n     */\r\n    public static double area2(Point2D a, Point2D b, Point2D c) {\r\n        return (b.x-a.x)*(c.y-a.y) - (b.y-a.y)*(c.x-a.x);\r\n    }\r\n\r\n    /**\r\n     * Returns the Euclidean distance between this point and that point.\r\n     * @param that the other point\r\n     * @return the Euclidean distance between this point and that point\r\n     */\r\n    public double distanceTo(Point2D that) {\r\n        double dx = this.x - that.x;\r\n        double dy = this.y - that.y;\r\n        return Math.sqrt(dx*dx + dy*dy);\r\n    }\r\n\r\nThere&#39;s not much more to do. Warning : `area2` returns a signed double, depending on the orientation of your points (clockwise or anticlockwise).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Menger_curvature#Definition\r\n  [2]: http://algs4.cs.princeton.edu/25applications/Point2D.java.html","title":"Calculate curvature for 3 Points (x,y)","body":"<p>For the Menger Curvature, the formula is right <a href=\"https://en.wikipedia.org/wiki/Menger_curvature#Definition\" rel=\"noreferrer\">there</a> in the Wikipedia article :</p>\n\n<p><code>curvature = 4*triangleArea/(sideLength1*sideLength2*sideLength3)</code></p>\n\n<p>Which code did you try exactly?</p>\n\n<p>It shouldn't be too hard to calculate those 4 values given your 3 points.</p>\n\n<p><a href=\"http://algs4.cs.princeton.edu/25applications/Point2D.java.html\" rel=\"noreferrer\">Here</a> are some helpful methods : </p>\n\n<pre><code>/**\n * Returns twice the signed area of the triangle a-b-c.\n * @param a first point\n * @param b second point\n * @param c third point\n * @return twice the signed area of the triangle a-b-c\n */\npublic static double area2(Point2D a, Point2D b, Point2D c) {\n    return (b.x-a.x)*(c.y-a.y) - (b.y-a.y)*(c.x-a.x);\n}\n\n/**\n * Returns the Euclidean distance between this point and that point.\n * @param that the other point\n * @return the Euclidean distance between this point and that point\n */\npublic double distanceTo(Point2D that) {\n    double dx = this.x - that.x;\n    double dy = this.y - that.y;\n    return Math.sqrt(dx*dx + dy*dy);\n}\n</code></pre>\n\n<p>There's not much more to do. Warning : <code>area2</code> returns a signed double, depending on the orientation of your points (clockwise or anticlockwise).</p>\n"},{"tags":[],"owner":{"account_id":2129081,"reputation":433,"user_id":1890362,"accept_rate":60,"display_name":"Hennio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481724941,"creation_date":1481724941,"answer_id":41144785,"question_id":41144224,"body_markdown":"From the [wiki][1] you referenced, the curvature is defined as \r\n[![Curvature][2]][2]\r\n\r\nwhere A is the area enclosed by the triangle formed by the three points, x, y and z (p1, p2, p3 in your case) and |x-y| is the distance between points x and y.\r\n\r\nTranslate the formula to code and you&#39;re done!\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Menger_curvature\r\n  [2]: https://i.stack.imgur.com/4YQeX.png","title":"Calculate curvature for 3 Points (x,y)","body":"<p>From the <a href=\"https://en.wikipedia.org/wiki/Menger_curvature\" rel=\"nofollow noreferrer\">wiki</a> you referenced, the curvature is defined as \n<a href=\"https://i.stack.imgur.com/4YQeX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4YQeX.png\" alt=\"Curvature\"></a></p>\n\n<p>where A is the area enclosed by the triangle formed by the three points, x, y and z (p1, p2, p3 in your case) and |x-y| is the distance between points x and y.</p>\n\n<p>Translate the formula to code and you're done!</p>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636724269,"creation_date":1481726964,"answer_id":41145486,"question_id":41144224,"body_markdown":"As already pointed out by [Eric Duminil in his answer](https://stackoverflow.com/a/41144762/3182664), the computation is\r\n\r\n    curvature = 4*triangleArea/(sideLength0*sideLength1*sideLength2)\r\n\r\nI wasted some time with creating this interactive example that contains a `computeCurvature` method that does the whole computation at once:\r\n\r\n[![Curvature][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Point2D;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class CurvatureFromThreePoints\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            SwingUtilities.invokeLater(new Runnable()\r\n            {\r\n                @Override\r\n                public void run()\r\n                {\r\n                    createAndShowGUI();\r\n                }\r\n            });\r\n        }\r\n        \r\n        private static void createAndShowGUI()\r\n        {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.getContentPane().add(new CurvatureFromThreePointsPanel());\r\n            f.setSize(800,800);\r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true);\r\n        }\r\n    \r\n    }\r\n    \r\n    class CurvatureFromThreePointsPanel extends JPanel \r\n        implements MouseListener, MouseMotionListener\r\n    {\r\n        private final List&lt;Point2D&gt; pointList;\r\n        private Point2D draggedPoint;\r\n        \r\n        public CurvatureFromThreePointsPanel()\r\n        {\r\n            this.pointList = new ArrayList&lt;Point2D&gt;();\r\n            \r\n            pointList.add(new Point2D.Double(132,532));\r\n            pointList.add(new Point2D.Double(275,258));\r\n            pointList.add(new Point2D.Double(395,267));\r\n    \r\n            addMouseListener(this);\r\n            addMouseMotionListener(this);\r\n        }\r\n        \r\n        private static double computeCurvature(Point2D p0, Point2D p1, Point2D p2)\r\n        {\r\n            double dx1 = p1.getX() - p0.getX();\r\n            double dy1 = p1.getY() - p0.getY();\r\n            double dx2 = p2.getX() - p0.getX();\r\n            double dy2 = p2.getY() - p0.getY();\r\n            double area = 0.5 * (dx1 * dy2 - dy1 * dx2;\r\n            double len0 = p0.distance(p1);\r\n            double len1 = p1.distance(p2);\r\n            double len2 = p2.distance(p0);\r\n            return 4 * area / (len0 * len1 * len2);\r\n        }\r\n        \r\n        // Adapted from https://stackoverflow.com/a/4103418\r\n        private static Point2D computeCircleCenter(\r\n            Point2D p0, Point2D p1, Point2D p2)\r\n        {\r\n            double x0 = p0.getX();\r\n            double y0 = p0.getY();\r\n            double x1 = p1.getX();\r\n            double y1 = p1.getY();\r\n            double x2 = p2.getX();\r\n            double y2 = p2.getY();\r\n            double offset = x1 * x1 + y1 * y1;\r\n            double bc = (x0 * x0 + y0 * y0 - offset) / 2.0;\r\n            double cd = (offset - x2 * x2 - y2 * y2) / 2.0;\r\n            double det = (x0 - x1) * (y1 - y2) - (x1 - x2) * (y0 - y1);\r\n            double invDet = 1 / det;\r\n            double cx = (bc * (y1 - y2) - cd * (y0 - y1)) * invDet;\r\n            double cy = (cd * (x0 - x1) - bc * (x1 - x2)) * invDet;\r\n            return new Point2D.Double(cx, cy);\r\n        }\r\n        \r\n        @Override\r\n        protected void paintComponent(Graphics gr)\r\n        {\r\n            super.paintComponent(gr);\r\n            Graphics2D g = (Graphics2D)gr;\r\n            \r\n            g.setColor(Color.RED);\r\n            for (Point2D p : pointList)\r\n            {\r\n                double r = 5;\r\n                g.draw(new Ellipse2D.Double(p.getX()-r, p.getY()-r, r+r, r+r));\r\n            }\r\n            \r\n            g.setColor(Color.BLACK);\r\n            //g.draw(Paths.fromPoints(spline.getInterpolatedPoints(), false));\r\n            \r\n            Point2D p0 = pointList.get(0);\r\n            Point2D p1 = pointList.get(1);\r\n            Point2D p2 = pointList.get(2);\r\n            double curvature = computeCurvature(p0, p1, p2);\r\n            g.drawString(&quot;Curvature: &quot;+curvature, 10,  20);\r\n            \r\n            Point2D center = computeCircleCenter(p0, p1, p2);\r\n            double radius = center.distance(p0);\r\n            g.draw(new Ellipse2D.Double(\r\n                center.getX() - radius, center.getY() - radius,\r\n                radius + radius, radius + radius));\r\n        }\r\n        \r\n        @Override\r\n        public void mouseDragged(MouseEvent e)\r\n        {\r\n            if (draggedPoint != null)\r\n            {\r\n                draggedPoint.setLocation(e.getX(), e.getY());\r\n                repaint();\r\n                \r\n                System.out.println(&quot;Points: &quot;);\r\n                for (Point2D p : pointList)\r\n                {\r\n                    System.out.println(&quot;    &quot;+p);\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent e)\r\n        {\r\n            final double thresholdSquared = 10 * 10;\r\n            Point2D p = e.getPoint();\r\n            Point2D closestPoint = null;\r\n            double minDistanceSquared = Double.MAX_VALUE;\r\n            for (Point2D point : pointList)\r\n            {\r\n                double dd = point.distanceSq(p);\r\n                if (dd &lt; thresholdSquared &amp;&amp; dd &lt; minDistanceSquared)\r\n                {\r\n                    minDistanceSquared = dd;\r\n                    closestPoint = point;\r\n                }\r\n            }\r\n            draggedPoint = closestPoint;\r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent e)\r\n        {\r\n            draggedPoint = null;\r\n        }\r\n    \r\n        @Override\r\n        public void mouseMoved(MouseEvent e)\r\n        {\r\n            // Nothing to do here\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent e)\r\n        {\r\n            // Nothing to do here\r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent e)\r\n        {\r\n            // Nothing to do here\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent e)\r\n        {\r\n            // Nothing to do here\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aTnXR.png","title":"Calculate curvature for 3 Points (x,y)","body":"<p>As already pointed out by <a href=\"https://stackoverflow.com/a/41144762/3182664\">Eric Duminil in his answer</a>, the computation is</p>\n<pre><code>curvature = 4*triangleArea/(sideLength0*sideLength1*sideLength2)\n</code></pre>\n<p>I wasted some time with creating this interactive example that contains a <code>computeCurvature</code> method that does the whole computation at once:</p>\n<p><a href=\"https://i.stack.imgur.com/aTnXR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aTnXR.png\" alt=\"Curvature\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Point2D;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class CurvatureFromThreePoints\n{\n    public static void main(String[] args)\n    {\n        SwingUtilities.invokeLater(new Runnable()\n        {\n            @Override\n            public void run()\n            {\n                createAndShowGUI();\n            }\n        });\n    }\n    \n    private static void createAndShowGUI()\n    {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.getContentPane().add(new CurvatureFromThreePointsPanel());\n        f.setSize(800,800);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n}\n\nclass CurvatureFromThreePointsPanel extends JPanel \n    implements MouseListener, MouseMotionListener\n{\n    private final List&lt;Point2D&gt; pointList;\n    private Point2D draggedPoint;\n    \n    public CurvatureFromThreePointsPanel()\n    {\n        this.pointList = new ArrayList&lt;Point2D&gt;();\n        \n        pointList.add(new Point2D.Double(132,532));\n        pointList.add(new Point2D.Double(275,258));\n        pointList.add(new Point2D.Double(395,267));\n\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n    \n    private static double computeCurvature(Point2D p0, Point2D p1, Point2D p2)\n    {\n        double dx1 = p1.getX() - p0.getX();\n        double dy1 = p1.getY() - p0.getY();\n        double dx2 = p2.getX() - p0.getX();\n        double dy2 = p2.getY() - p0.getY();\n        double area = 0.5 * (dx1 * dy2 - dy1 * dx2;\n        double len0 = p0.distance(p1);\n        double len1 = p1.distance(p2);\n        double len2 = p2.distance(p0);\n        return 4 * area / (len0 * len1 * len2);\n    }\n    \n    // Adapted from https://stackoverflow.com/a/4103418\n    private static Point2D computeCircleCenter(\n        Point2D p0, Point2D p1, Point2D p2)\n    {\n        double x0 = p0.getX();\n        double y0 = p0.getY();\n        double x1 = p1.getX();\n        double y1 = p1.getY();\n        double x2 = p2.getX();\n        double y2 = p2.getY();\n        double offset = x1 * x1 + y1 * y1;\n        double bc = (x0 * x0 + y0 * y0 - offset) / 2.0;\n        double cd = (offset - x2 * x2 - y2 * y2) / 2.0;\n        double det = (x0 - x1) * (y1 - y2) - (x1 - x2) * (y0 - y1);\n        double invDet = 1 / det;\n        double cx = (bc * (y1 - y2) - cd * (y0 - y1)) * invDet;\n        double cy = (cd * (x0 - x1) - bc * (x1 - x2)) * invDet;\n        return new Point2D.Double(cx, cy);\n    }\n    \n    @Override\n    protected void paintComponent(Graphics gr)\n    {\n        super.paintComponent(gr);\n        Graphics2D g = (Graphics2D)gr;\n        \n        g.setColor(Color.RED);\n        for (Point2D p : pointList)\n        {\n            double r = 5;\n            g.draw(new Ellipse2D.Double(p.getX()-r, p.getY()-r, r+r, r+r));\n        }\n        \n        g.setColor(Color.BLACK);\n        //g.draw(Paths.fromPoints(spline.getInterpolatedPoints(), false));\n        \n        Point2D p0 = pointList.get(0);\n        Point2D p1 = pointList.get(1);\n        Point2D p2 = pointList.get(2);\n        double curvature = computeCurvature(p0, p1, p2);\n        g.drawString(&quot;Curvature: &quot;+curvature, 10,  20);\n        \n        Point2D center = computeCircleCenter(p0, p1, p2);\n        double radius = center.distance(p0);\n        g.draw(new Ellipse2D.Double(\n            center.getX() - radius, center.getY() - radius,\n            radius + radius, radius + radius));\n    }\n    \n    @Override\n    public void mouseDragged(MouseEvent e)\n    {\n        if (draggedPoint != null)\n        {\n            draggedPoint.setLocation(e.getX(), e.getY());\n            repaint();\n            \n            System.out.println(&quot;Points: &quot;);\n            for (Point2D p : pointList)\n            {\n                System.out.println(&quot;    &quot;+p);\n            }\n        }\n    }\n\n\n    @Override\n    public void mousePressed(MouseEvent e)\n    {\n        final double thresholdSquared = 10 * 10;\n        Point2D p = e.getPoint();\n        Point2D closestPoint = null;\n        double minDistanceSquared = Double.MAX_VALUE;\n        for (Point2D point : pointList)\n        {\n            double dd = point.distanceSq(p);\n            if (dd &lt; thresholdSquared &amp;&amp; dd &lt; minDistanceSquared)\n            {\n                minDistanceSquared = dd;\n                closestPoint = point;\n            }\n        }\n        draggedPoint = closestPoint;\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e)\n    {\n        draggedPoint = null;\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e)\n    {\n        // Nothing to do here\n    }\n\n\n    @Override\n    public void mouseClicked(MouseEvent e)\n    {\n        // Nothing to do here\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e)\n    {\n        // Nothing to do here\n    }\n\n\n    @Override\n    public void mouseExited(MouseEvent e)\n    {\n        // Nothing to do here\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3304315,"reputation":51,"user_id":2779616,"display_name":"marikhu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568540898,"creation_date":1568540898,"answer_id":57942933,"question_id":41144224,"body_markdown":"C/C++\r\n\r\n    // https://www.mathopenref.com/coordtrianglearea.html\r\n    float getAreaOfTriangle(Point2f A, Point2f B, Point2f C)\r\n    {\r\n        return fabs(\r\n                (A.x * (B.y - C.y) + B.x * (C.y - A.y) + C.x * (A.y - B.y)) / 2);\r\n    }\r\n   \r\n    float getDistFromPtToPt(Point2f pt1, Point2f pt2)\r\n    {\r\n        return sqrt((pt2.x - pt1.x) * (pt2.x - pt1.x) +\r\n                    (pt2.y - pt1.y) * (pt2.y - pt1.y));\r\n    }\r\n\r\n \r\n    // https://en.wikipedia.org/wiki/Menger_curvature\r\n    float\r\n    getCurvatureUsingTriangle(Point2f pt1, Point2f pt2, Point2f pt3, bool bDebug)\r\n    {\r\n        float fAreaOfTriangle = getAreaOfTriangle(pt1, pt2, pt3);\r\n        float fDist12 = getDistFromPtToPt(pt1, pt2);\r\n        float fDist23 = getDistFromPtToPt(pt2, pt3);\r\n        float fDist13 = getDistFromPtToPt(pt1, pt3);\r\n        float fKappa = 4 * fAreaOfTriangle / (fDist12 * fDist23 * fDist13);\r\n        return fKappa;\r\n    }\r\n\r\n","title":"Calculate curvature for 3 Points (x,y)","body":"<p>C/C++</p>\n\n<pre><code>// https://www.mathopenref.com/coordtrianglearea.html\nfloat getAreaOfTriangle(Point2f A, Point2f B, Point2f C)\n{\n    return fabs(\n            (A.x * (B.y - C.y) + B.x * (C.y - A.y) + C.x * (A.y - B.y)) / 2);\n}\n\nfloat getDistFromPtToPt(Point2f pt1, Point2f pt2)\n{\n    return sqrt((pt2.x - pt1.x) * (pt2.x - pt1.x) +\n                (pt2.y - pt1.y) * (pt2.y - pt1.y));\n}\n\n\n// https://en.wikipedia.org/wiki/Menger_curvature\nfloat\ngetCurvatureUsingTriangle(Point2f pt1, Point2f pt2, Point2f pt3, bool bDebug)\n{\n    float fAreaOfTriangle = getAreaOfTriangle(pt1, pt2, pt3);\n    float fDist12 = getDistFromPtToPt(pt1, pt2);\n    float fDist23 = getDistFromPtToPt(pt2, pt3);\n    float fDist13 = getDistFromPtToPt(pt1, pt3);\n    float fKappa = 4 * fAreaOfTriangle / (fDist12 * fDist23 * fDist13);\n    return fKappa;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27674710,"reputation":11,"user_id":21124772,"display_name":"Mohit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677231529,"creation_date":1677231455,"answer_id":75554884,"question_id":41144224,"body_markdown":"If someone wants this in python:\r\n\r\n```\r\ndef getCurvature(x1, y1, x2, y2, x3, y3):\r\n    point1 = (x1, y1)\r\n    point2 = (x2, y2)\r\n    point3 = (x3, y3)\r\n\r\n    # Calculating length of all three sides\r\n    len_side_1 = round( math.dist(point1, point2), 2)\r\n    len_side_2 = round( math.dist(point2, point3), 2)\r\n    len_side_3 = round( math.dist(point1, point3), 2)\r\n\r\n    # sp is semi-perimeter\r\n    sp = (len_side_1 + len_side_2 + len_side_3) / 2\r\n\r\n    # Calculating area using Herons formula\r\n    area = math.sqrt(sp * (sp - len_side_1) * (sp - len_side_2) * (sp - len_side_3))\r\n\r\n    # Calculating curvature using Menger curvature formula\r\n    curvature = (4 * area) / (len_side_1 * len_side_2 * len_side_3)\r\n\r\n    return curvature\r\n```\r\n","title":"Calculate curvature for 3 Points (x,y)","body":"<p>If someone wants this in python:</p>\n<pre><code>def getCurvature(x1, y1, x2, y2, x3, y3):\n    point1 = (x1, y1)\n    point2 = (x2, y2)\n    point3 = (x3, y3)\n\n    # Calculating length of all three sides\n    len_side_1 = round( math.dist(point1, point2), 2)\n    len_side_2 = round( math.dist(point2, point3), 2)\n    len_side_3 = round( math.dist(point1, point3), 2)\n\n    # sp is semi-perimeter\n    sp = (len_side_1 + len_side_2 + len_side_3) / 2\n\n    # Calculating area using Herons formula\n    area = math.sqrt(sp * (sp - len_side_1) * (sp - len_side_2) * (sp - len_side_3))\n\n    # Calculating curvature using Menger curvature formula\n    curvature = (4 * area) / (len_side_1 * len_side_2 * len_side_3)\n\n    return curvature\n</code></pre>\n"}],"owner":{"account_id":2553736,"reputation":6683,"user_id":2230045,"accept_rate":85,"display_name":"Spenhouet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19042,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":41144762,"answer_count":5,"score":7,"last_activity_date":1677231529,"creation_date":1481723254,"question_id":41144224,"body_markdown":"I have a two dimensional euclidean space. Three points are given.\r\n\r\nFor example (p2 is the middle point):\r\n\r\n    Point2D p1 = new Point2D.Double(177, 289);\r\n    Point2D p2 = new Point2D.Double(178, 290);\r\n    Point2D p3 = new Point2D.Double(178, 291);\r\n\r\nNow i want to calculate the [curvature][1] for these three points.\r\n\r\n    double curvature = calculateCurvature(p1, p2, p3);\r\n\r\nHow to do this?\r\nIst there a existing method (no java external libraries)?\r\n\r\n - Curvature: https://en.wikipedia.org/wiki/Curvature \r\n - Menger Curvature:\r\n   https://en.wikipedia.org/wiki/Menger_curvature\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Menger_curvature","title":"Calculate curvature for 3 Points (x,y)","body":"<p>I have a two dimensional euclidean space. Three points are given.</p>\n\n<p>For example (p2 is the middle point):</p>\n\n<pre><code>Point2D p1 = new Point2D.Double(177, 289);\nPoint2D p2 = new Point2D.Double(178, 290);\nPoint2D p3 = new Point2D.Double(178, 291);\n</code></pre>\n\n<p>Now i want to calculate the <a href=\"https://en.wikipedia.org/wiki/Menger_curvature\" rel=\"noreferrer\">curvature</a> for these three points.</p>\n\n<pre><code>double curvature = calculateCurvature(p1, p2, p3);\n</code></pre>\n\n<p>How to do this?\nIst there a existing method (no java external libraries)?</p>\n\n<ul>\n<li>Curvature: <a href=\"https://en.wikipedia.org/wiki/Curvature\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Curvature</a> </li>\n<li>Menger Curvature:\n<a href=\"https://en.wikipedia.org/wiki/Menger_curvature\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Menger_curvature</a></li>\n</ul>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":18135565,"reputation":21,"user_id":13190150,"display_name":"Ahmed Eldeeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677156193,"creation_date":1677156193,"answer_id":75545004,"question_id":75544469,"body_markdown":"you can try to replace the header of api in backend by \r\nthis line.\r\n\r\n        @RequestMapping(value = &quot;/uploadFile&quot;, \r\n    method = RequestMethod.POST, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\r\n","title":"Spring Boot - Angular: Current request is not a multipart request","body":"<p>you can try to replace the header of api in backend by\nthis line.</p>\n<pre><code>    @RequestMapping(value = &quot;/uploadFile&quot;, \nmethod = RequestMethod.POST, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677169789,"creation_date":1677169789,"answer_id":75547648,"question_id":75544469,"body_markdown":"Try again on frontend, you need transfer request down with header has more:\r\n\r\n    &#39;Content-Type&#39;: &#39;multipart/form-data&#39;","title":"Spring Boot - Angular: Current request is not a multipart request","body":"<p>Try again on frontend, you need transfer request down with header has more:</p>\n<pre><code>'Content-Type': 'multipart/form-data'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27393615,"reputation":19,"user_id":20896201,"display_name":"Ciro Dolce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677231349,"creation_date":1677231349,"answer_id":75554860,"question_id":75544469,"body_markdown":"Resolved. My interceptor add &quot;&#39;Content-Type&#39;: &#39;application/json&#39;&quot; to any http request.","title":"Spring Boot - Angular: Current request is not a multipart request","body":"<p>Resolved. My interceptor add &quot;'Content-Type': 'application/json'&quot; to any http request.</p>\n"}],"owner":{"account_id":27393615,"reputation":19,"user_id":20896201,"display_name":"Ciro Dolce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677231349,"creation_date":1677153157,"question_id":75544469,"body_markdown":"I&#39;m trying to upload a file from Angular front-end to Spring Boot back-end.\r\n\r\n**HTML**:\r\n```\r\n&lt;button type=&quot;button&quot; (click)=&quot;fileInput.click()&quot;&gt;\r\n    &lt;span&gt;Upload&lt;/span&gt;\r\n    &lt;input #fileInput type=&quot;file&quot; (change)=&quot;onFileChange($event)&quot; style=&quot;display: none&quot; /&gt;\r\n&lt;/button&gt;\r\n\r\n&lt;button class=&quot;button&quot; (click)=&quot;uploadDocumento()&quot;&gt;Upload&lt;/button&gt;\r\n```\r\n**TS**:\r\n```\r\n  onFileChange(event: any) {\r\n        this.file = event.target.files[0];\r\n    }\r\n\r\nuploadDocumento() {\r\n        if (this.file) {\r\n            this.baseService.uploadfile(this.file, this.url).subscribe(resp =&gt; {});\r\n        }\r\n    }\r\n\r\n  public uploadfile(file: File, url: string) {\r\n        let formParams = new FormData();\r\n        formParams.append(&#39;file&#39;, file);\r\n        return this.httpClient.post(url, formParams);\r\n    }\r\n```\r\n**Spring Boot**:\r\n```\r\n  @PostMapping(&quot;/uploadFile&quot;)\r\n    public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        LOGGER.info(file);\r\n        return null;\r\n    }\r\n```\r\n\r\nI get the error: &quot;org.springframework.web.multipart.MultipartException: Current request is not a multipart request&quot;\r\n\r\nWhat am I doing wrong? Thanks in advance\r\n","title":"Spring Boot - Angular: Current request is not a multipart request","body":"<p>I'm trying to upload a file from Angular front-end to Spring Boot back-end.</p>\n<p><strong>HTML</strong>:</p>\n<pre><code>&lt;button type=&quot;button&quot; (click)=&quot;fileInput.click()&quot;&gt;\n    &lt;span&gt;Upload&lt;/span&gt;\n    &lt;input #fileInput type=&quot;file&quot; (change)=&quot;onFileChange($event)&quot; style=&quot;display: none&quot; /&gt;\n&lt;/button&gt;\n\n&lt;button class=&quot;button&quot; (click)=&quot;uploadDocumento()&quot;&gt;Upload&lt;/button&gt;\n</code></pre>\n<p><strong>TS</strong>:</p>\n<pre><code>  onFileChange(event: any) {\n        this.file = event.target.files[0];\n    }\n\nuploadDocumento() {\n        if (this.file) {\n            this.baseService.uploadfile(this.file, this.url).subscribe(resp =&gt; {});\n        }\n    }\n\n  public uploadfile(file: File, url: string) {\n        let formParams = new FormData();\n        formParams.append('file', file);\n        return this.httpClient.post(url, formParams);\n    }\n</code></pre>\n<p><strong>Spring Boot</strong>:</p>\n<pre><code>  @PostMapping(&quot;/uploadFile&quot;)\n    public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        LOGGER.info(file);\n        return null;\n    }\n</code></pre>\n<p>I get the error: &quot;org.springframework.web.multipart.MultipartException: Current request is not a multipart request&quot;</p>\n<p>What am I doing wrong? Thanks in advance</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677166171,"post_id":75546897,"comment_id":133287814,"body_markdown":"&quot;if it should reverse the collection post-sorting or not&quot; I don&#39;t understand what this means. Reversing isn&#39;t done after sorting, it&#39;s done on every comparison. Moreover, the entire chain of comparisons is applied on every comparison; it&#39;s not a case of applying &quot;first&quot;, &quot;second&quot;.","body":"&quot;if it should reverse the collection post-sorting or not&quot; I don&#39;t understand what this means. Reversing isn&#39;t done after sorting, it&#39;s done on every comparison. Moreover, the entire chain of comparisons is applied on every comparison; it&#39;s not a case of applying &quot;first&quot;, &quot;second&quot;."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677167390,"post_id":75546897,"comment_id":133288271,"body_markdown":"Note that `comparatorsMap::get` wouldn&#39;t work, because the input parameter to the `map` is `InputObject`, not `String`. You&#39;d need `in -&gt; comparatorsMap.get(in.inputName)`, or similar.","body":"Note that <code>comparatorsMap::get</code> wouldn&#39;t work, because the input parameter to the <code>map</code> is <code>InputObject</code>, not <code>String</code>. You&#39;d need <code>in -&gt; comparatorsMap.get(in.inputName)</code>, or similar."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1677193135,"post_id":75546897,"comment_id":133295209,"body_markdown":"Your `reduce` operation makes very little sense; I don&#39;t think it&#39;s doing what you want, but I have no idea what you really want.","body":"Your <code>reduce</code> operation makes very little sense; I don&#39;t think it&#39;s doing what you want, but I have no idea what you really want."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677231313,"creation_date":1677166484,"answer_id":75546986,"question_id":75546897,"body_markdown":"I think you&#39;re looking for something like this:\r\n\r\n```\r\nComparator&lt;OutputObject&gt; comparator = input.stream()\r\n        .map(in -&gt; {\r\n          Comparator&lt;OutputObject&gt; c = comparatorsMap.get(in.inputName);\r\n          return in.ascending ? c : c.reversed();\r\n        })\r\n        .reduce(Comparator::thenComparing)\r\n        .orElse((a, b) -&gt; 0);\r\n```\r\n\r\nThis conditionally reverses the comparator from `comparatorsMap`, based on the `ascending` flag.\r\n\r\n&gt; I thought about potentially saving a boolean field within the map lambda and leveraging that in a different lambda\r\n\r\nYou could do it like this:\r\n\r\n```\r\ninput.stream()\r\n    .map(in -&gt; new AbstractMap.SimpleEntry&lt;&gt;(comparatorsMap.get(in.inputName), in.ascending))\r\n    .map(e -&gt; e.getValue() ? e.getKey() : e.getKey().reversed())\r\n    ...\r\n```\r\n\r\nbut I think that&#39;s far less easy to understand.","title":"How to conditionally reverse the order of a stream where I&#39;m using comparators to sort initially?","body":"<p>I think you're looking for something like this:</p>\n<pre><code>Comparator&lt;OutputObject&gt; comparator = input.stream()\n        .map(in -&gt; {\n          Comparator&lt;OutputObject&gt; c = comparatorsMap.get(in.inputName);\n          return in.ascending ? c : c.reversed();\n        })\n        .reduce(Comparator::thenComparing)\n        .orElse((a, b) -&gt; 0);\n</code></pre>\n<p>This conditionally reverses the comparator from <code>comparatorsMap</code>, based on the <code>ascending</code> flag.</p>\n<blockquote>\n<p>I thought about potentially saving a boolean field within the map lambda and leveraging that in a different lambda</p>\n</blockquote>\n<p>You could do it like this:</p>\n<pre><code>input.stream()\n    .map(in -&gt; new AbstractMap.SimpleEntry&lt;&gt;(comparatorsMap.get(in.inputName), in.ascending))\n    .map(e -&gt; e.getValue() ? e.getKey() : e.getKey().reversed())\n    ...\n</code></pre>\n<p>but I think that's far less easy to understand.</p>\n"}],"owner":{"account_id":26209102,"reputation":27,"user_id":19888263,"display_name":"pleasedontbemeantome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75546986,"answer_count":1,"score":1,"last_activity_date":1677231313,"creation_date":1677166049,"question_id":75546897,"body_markdown":"I have code as such, which selects and chains comparators:\r\n\r\n```\r\nclass InputObject {  String inputName;  String ascending; }\r\n\r\nMap&lt;String, Comparator&gt; comparatorsMap = .... // Used to dynamically pull comparators for use\r\n\r\nList&lt;InputObject&gt; input = Arrays.asList(new InputObject(&quot;hello&quot;, true), new InputObject(&quot;goodbye&quot;, false));\r\n\r\nComparator&lt;OutputObject&gt; comparator = input.stream()\r\n        .map(comparatorsMap::get)\r\n        .reduce(Comparator::thenComparing)\r\n        .orElse((a, b) -&gt; 0);\r\n\r\nList&lt;OutputObject&gt; sorted = dataCollection.stream().sorted( comparator ).collect( Collectors.toList() );\r\n```\r\n\r\nI&#39;d like to use the `ascending` field from InputObject as a conditional to determine if it should reverse the collection, but I&#39;m not sure how to achieve that. Note that each input object has its own `ascending` field, so these would have to be intermediate actions.\r\n\r\nSo example:\r\n\r\nUnsorted (input stream is `[ {&quot;byName&quot;, false}, {&quot;byID&quot;, true} ]` ):\r\n\r\n```\r\nOutputObject=(&quot;Mike&quot;, 5)\r\nOutputObject=(&quot;Bob&quot;, 4)\r\nOutputObject=(&quot;Mike&quot;, 1)\r\n```\r\n\r\nAfter first sort (on name):\r\n```\r\nOutputObject=(&quot;Bob&quot;, 4)\r\nOutputObject=(&quot;Mike&quot;, 5)\r\nOutputObject=(&quot;Mike&quot;, 1)\r\n```\r\n\r\nThen reverse (since `ascending == false`)\r\n```\r\nOutputObject=(&quot;Mike&quot;, 5)\r\nOutputObject=(&quot;Mike&quot;, 1)\r\nOutputObject=(&quot;Bob&quot;, 4)\r\n```\r\n\r\nThen after applying the second sort (by ID if tie, and `ascending == true`)\r\n```\r\nOutputObject=(&quot;Mike&quot;, 1)\r\nOutputObject=(&quot;Mike&quot;, 5)\r\nOutputObject=(&quot;Bob&quot;, 4)\r\n```\r\n\r\nI thought about potentially saving a boolean field within the map lambda and leveraging that in a different lambda, but I&#39;m not sure how you can apply the action of reversing the stream / collection conditionally.","title":"How to conditionally reverse the order of a stream where I&#39;m using comparators to sort initially?","body":"<p>I have code as such, which selects and chains comparators:</p>\n<pre><code>class InputObject {  String inputName;  String ascending; }\n\nMap&lt;String, Comparator&gt; comparatorsMap = .... // Used to dynamically pull comparators for use\n\nList&lt;InputObject&gt; input = Arrays.asList(new InputObject(&quot;hello&quot;, true), new InputObject(&quot;goodbye&quot;, false));\n\nComparator&lt;OutputObject&gt; comparator = input.stream()\n        .map(comparatorsMap::get)\n        .reduce(Comparator::thenComparing)\n        .orElse((a, b) -&gt; 0);\n\nList&lt;OutputObject&gt; sorted = dataCollection.stream().sorted( comparator ).collect( Collectors.toList() );\n</code></pre>\n<p>I'd like to use the <code>ascending</code> field from InputObject as a conditional to determine if it should reverse the collection, but I'm not sure how to achieve that. Note that each input object has its own <code>ascending</code> field, so these would have to be intermediate actions.</p>\n<p>So example:</p>\n<p>Unsorted (input stream is <code>[ {&quot;byName&quot;, false}, {&quot;byID&quot;, true} ]</code> ):</p>\n<pre><code>OutputObject=(&quot;Mike&quot;, 5)\nOutputObject=(&quot;Bob&quot;, 4)\nOutputObject=(&quot;Mike&quot;, 1)\n</code></pre>\n<p>After first sort (on name):</p>\n<pre><code>OutputObject=(&quot;Bob&quot;, 4)\nOutputObject=(&quot;Mike&quot;, 5)\nOutputObject=(&quot;Mike&quot;, 1)\n</code></pre>\n<p>Then reverse (since <code>ascending == false</code>)</p>\n<pre><code>OutputObject=(&quot;Mike&quot;, 5)\nOutputObject=(&quot;Mike&quot;, 1)\nOutputObject=(&quot;Bob&quot;, 4)\n</code></pre>\n<p>Then after applying the second sort (by ID if tie, and <code>ascending == true</code>)</p>\n<pre><code>OutputObject=(&quot;Mike&quot;, 1)\nOutputObject=(&quot;Mike&quot;, 5)\nOutputObject=(&quot;Bob&quot;, 4)\n</code></pre>\n<p>I thought about potentially saving a boolean field within the map lambda and leveraging that in a different lambda, but I'm not sure how you can apply the action of reversing the stream / collection conditionally.</p>\n"},{"tags":["java","spring","upgrade","spring-framework-beans"],"owner":{"account_id":27524959,"reputation":21,"user_id":21004428,"display_name":"Eka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677231175,"creation_date":1677231031,"question_id":75554813,"body_markdown":"Now I&#39;m trying to upgrade Spring framework from 5.3.24 to 6.0.5, when I read the migration guideline about [upgrading to Spring Framework 6.x](https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x), there is a paragraph about setting **BeanInfoFactory**.\r\n\r\n\r\n&gt; The core container performs basic bean property determination without\r\n&gt; java.beans.Introspector by default. For full backwards compatibility\r\n&gt; with 5.3.x in case of sophisticated JavaBeans usage, specify the\r\n&gt; following content in a META-INF/spring.factories file which enables\r\n&gt; 5.3-style full java.beans.Introspector usage: org.springframework.beans.BeanInfoFactory=org.springframework.beans.ExtendedBeanInfoFactory\r\n\r\n\r\nBut how to define **sophisticated JavaBeans usage**, and what will happen when I need the **ExtendedBeanInfoFactory** but only use the default BeanInfoFactory? \r\n\r\nI&#39;m not sure if I should use **ExtendedBeanInfoFactory** directly or the default one.","title":"How to choose BeanInfoFactory when upgrading Spring framework from 5.3.24 to 6.0.5","body":"<p>Now I'm trying to upgrade Spring framework from 5.3.24 to 6.0.5, when I read the migration guideline about <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x\" rel=\"nofollow noreferrer\">upgrading to Spring Framework 6.x</a>, there is a paragraph about setting <strong>BeanInfoFactory</strong>.</p>\n<blockquote>\n<p>The core container performs basic bean property determination without\njava.beans.Introspector by default. For full backwards compatibility\nwith 5.3.x in case of sophisticated JavaBeans usage, specify the\nfollowing content in a META-INF/spring.factories file which enables\n5.3-style full java.beans.Introspector usage: org.springframework.beans.BeanInfoFactory=org.springframework.beans.ExtendedBeanInfoFactory</p>\n</blockquote>\n<p>But how to define <strong>sophisticated JavaBeans usage</strong>, and what will happen when I need the <strong>ExtendedBeanInfoFactory</strong> but only use the default BeanInfoFactory?</p>\n<p>I'm not sure if I should use <strong>ExtendedBeanInfoFactory</strong> directly or the default one.</p>\n"},{"tags":["java","string","truthiness"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1566333822,"post_id":57581148,"comment_id":101621996,"body_markdown":"How do you want your program to respond if a user enters something that isn&#39;t obviously true or false, for example &quot;foo&quot;  should that be treated as &quot;false&quot;? or throw an exception? One approach would be: read a string, then look sequentially for all variations of &quot;true&quot;: t, true, 1, yes, y, etc., and then treat every other input as &quot;false&quot;.","body":"How do you want your program to respond if a user enters something that isn&#39;t obviously true or false, for example &quot;foo&quot;  should that be treated as &quot;false&quot;? or throw an exception? One approach would be: read a string, then look sequentially for all variations of &quot;true&quot;: t, true, 1, yes, y, etc., and then treat every other input as &quot;false&quot;."},{"owner":{"account_id":5698951,"reputation":650,"user_id":4504607,"accept_rate":57,"display_name":"Ron Jensen"},"score":0,"creation_date":1566334165,"post_id":57581148,"comment_id":101622124,"body_markdown":"@kaan, I don&#39;t want to throw exceptions, as I want something self-contained. Everything that isn&#39;t explicitly true is false is definitely one way to do it.","body":"@kaan, I don&#39;t want to throw exceptions, as I want something self-contained. Everything that isn&#39;t explicitly true is false is definitely one way to do it."},{"owner":{"account_id":5698951,"reputation":650,"user_id":4504607,"accept_rate":57,"display_name":"Ron Jensen"},"score":0,"creation_date":1566334381,"post_id":57581148,"comment_id":101622193,"body_markdown":"@Nexevis, I re-phrased the question and Butiri Dan provided an answer that does not refer to a book, tool, software library, etc.","body":"@Nexevis, I re-phrased the question and Butiri Dan provided an answer that does not refer to a book, tool, software library, etc."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1566334567,"post_id":57581148,"comment_id":101622263,"body_markdown":"@Ron Jensen I have retracted my close flag since you no longer ask for a library, however typically you are required to include the code of what you have attempted and not just ask a general question or ask &quot;provide the solution of this for me&quot;.","body":"@Ron Jensen I have retracted my close flag since you no longer ask for a library, however typically you are required to include the code of what you have attempted and not just ask a general question or ask &quot;provide the solution of this for me&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566333292,"creation_date":1566333292,"answer_id":57581183,"question_id":57581148,"body_markdown":"Apache [BooleanUtils](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/BooleanUtils.html#toBoolean-java.lang.String-) have a method `toBoolean` working like this, however it does not parse `0/1` as far as I see in documentation\r\n\r\n&gt; &#39;true&#39;, &#39;on&#39;, &#39;y&#39;, &#39;t&#39; or &#39;yes&#39; (case insensitive) will return true. Otherwise, false is returned.","title":"Evaluate truthiness in Java","body":"<p>Apache <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/BooleanUtils.html#toBoolean-java.lang.String-\" rel=\"nofollow noreferrer\">BooleanUtils</a> have a method <code>toBoolean</code> working like this, however it does not parse <code>0/1</code> as far as I see in documentation</p>\n\n<blockquote>\n  <p>'true', 'on', 'y', 't' or 'yes' (case insensitive) will return true. Otherwise, false is returned.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11097510,"reputation":1759,"user_id":10515734,"display_name":"Butiri Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566334976,"creation_date":1566334149,"answer_id":57581351,"question_id":57581148,"body_markdown":"What about a custom implementation?\r\n\r\n 1. Use a map and define all the values for true and false \r\n 2. Use a list; true if the value is in the list, otherwise false\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    // Define true and false values\r\n    Map&lt;String, Boolean&gt; truthiness = new HashMap&lt;&gt;();\r\n\r\n    truthiness.put(&quot;yes&quot;, true);\r\n    truthiness.put(&quot;1&quot;, true);\r\n    truthiness.put(&quot;true&quot;, true);\r\n    truthiness.put(&quot;t&quot;, true);\r\n    truthiness.put(&quot;ya&quot;, true);\r\n    truthiness.put(&quot;nein&quot;, false);\r\n    //etc\r\n\r\n    // Define only the true values\r\n    List&lt;String&gt; trueValues = Arrays.asList(&quot;yes&quot;, &quot;1&quot;, &quot;true&quot;, &quot;t&quot;, &quot;ya&quot;);\r\n\r\n    for(int i = 0; i &lt; 5; ++i) {\r\n        String value = sc.nextLine().toLowerCase();\r\n\r\n        System.out.println(&quot;map: &quot; + truthiness.get(value));\r\n        System.out.println(&quot;list: &quot; + trueValues.contains(value));\r\n    }\r\n}\r\n```\r\n**Output**\r\n```\r\nyes\r\nmap: true\r\nlist: true\r\n1\r\nmap: true\r\nlist: true\r\nt\r\nmap: true\r\nlist: true\r\nya\r\nmap: true\r\nlist: true\r\nnein\r\nmap: false\r\nlist: false\r\n```","title":"Evaluate truthiness in Java","body":"<p>What about a custom implementation?</p>\n\n<ol>\n<li>Use a map and define all the values for true and false </li>\n<li>Use a list; true if the value is in the list, otherwise false</li>\n</ol>\n\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n    // Define true and false values\n    Map&lt;String, Boolean&gt; truthiness = new HashMap&lt;&gt;();\n\n    truthiness.put(\"yes\", true);\n    truthiness.put(\"1\", true);\n    truthiness.put(\"true\", true);\n    truthiness.put(\"t\", true);\n    truthiness.put(\"ya\", true);\n    truthiness.put(\"nein\", false);\n    //etc\n\n    // Define only the true values\n    List&lt;String&gt; trueValues = Arrays.asList(\"yes\", \"1\", \"true\", \"t\", \"ya\");\n\n    for(int i = 0; i &lt; 5; ++i) {\n        String value = sc.nextLine().toLowerCase();\n\n        System.out.println(\"map: \" + truthiness.get(value));\n        System.out.println(\"list: \" + trueValues.contains(value));\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>yes\nmap: true\nlist: true\n1\nmap: true\nlist: true\nt\nmap: true\nlist: true\nya\nmap: true\nlist: true\nnein\nmap: false\nlist: false\n</code></pre>\n"}],"owner":{"account_id":5698951,"reputation":650,"user_id":4504607,"accept_rate":57,"display_name":"Ron Jensen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57581351,"answer_count":2,"score":1,"last_activity_date":1677231028,"creation_date":1566333090,"question_id":57581148,"body_markdown":"I am writing an interactive console app in Java. I need to ask the user questions with **Boolean** responses, however, `Scanner.in.nextBoolean()` is rather brittle in that it throws exceptions on incorrect input, so wrapping it in a method seems like a good idea. I could just use a try/catch block and insist on the user typing &quot;true&quot; or &quot;false&quot; to answer and catch the typos. But then I thought I could use `Scanner.in.next()` or `Scanner.in.nextLine()` and evaluate the returned string for truthiness using something like `parseBoolean(String s)`.\r\n\r\nIs there a way to evaluate a string for &quot;truthiness&quot; beyond true/false? That is, &quot;0&quot;/&quot;1&quot; &quot;yes&quot;/&quot;no&quot; would also evaluate to true/false.\r\n","title":"Evaluate truthiness in Java","body":"<p>I am writing an interactive console app in Java. I need to ask the user questions with <strong>Boolean</strong> responses, however, <code>Scanner.in.nextBoolean()</code> is rather brittle in that it throws exceptions on incorrect input, so wrapping it in a method seems like a good idea. I could just use a try/catch block and insist on the user typing &quot;true&quot; or &quot;false&quot; to answer and catch the typos. But then I thought I could use <code>Scanner.in.next()</code> or <code>Scanner.in.nextLine()</code> and evaluate the returned string for truthiness using something like <code>parseBoolean(String s)</code>.</p>\n<p>Is there a way to evaluate a string for &quot;truthiness&quot; beyond true/false? That is, &quot;0&quot;/&quot;1&quot; &quot;yes&quot;/&quot;no&quot; would also evaluate to true/false.</p>\n"},{"tags":["javascript","java","reactjs","eclipse","filter"],"answers":[{"tags":[],"owner":{"account_id":22260587,"reputation":1,"user_id":16492062,"display_name":"Kawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677230790,"creation_date":1677230790,"answer_id":75554774,"question_id":75554670,"body_markdown":"You can make a new state that will store only Filtered data eg : filterData. and if there is no data in filterData you can return your productList.\r\n\r\n    &lt;form&gt;\r\n      &lt;label htmlFor=&quot;categorySelect&quot;&gt;Seleziona una categoria:&lt;/label&gt;\r\n      &lt;Dropdown value={category} options={filterData &amp;&amp; filterData.length?filterData:categoryList} placeholder=&quot;Seleziona una categoria&quot; onChange={handleCategoryChange} /&gt;\r\n    &lt;/form&gt;\r\n\r\nyou can try in this way,","title":"ProductList filter on react.js","body":"<p>You can make a new state that will store only Filtered data eg : filterData. and if there is no data in filterData you can return your productList.</p>\n<pre><code>&lt;form&gt;\n  &lt;label htmlFor=&quot;categorySelect&quot;&gt;Seleziona una categoria:&lt;/label&gt;\n  &lt;Dropdown value={category} options={filterData &amp;&amp; filterData.length?filterData:categoryList} placeholder=&quot;Seleziona una categoria&quot; onChange={handleCategoryChange} /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>you can try in this way,</p>\n"}],"owner":{"account_id":27571387,"reputation":1,"user_id":21042515,"display_name":"LexMustDie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677230790,"creation_date":1677230179,"question_id":75554670,"body_markdown":"I would like to create a function that allows you to filter products by category. I already tried to make this creating a query on Java but it dosen&#39;t work, so i thought it can be easier to do on the frontend. \r\n\r\nThis is my code at the moment: \r\n\r\n```\r\nimport React, { useState, useContext } from &#39;react&#39;;\r\nimport { ContextProductList } from &#39;../app&#39;;\r\nimport { Dropdown } from &#39;primereact/dropdown&#39;;\r\n\r\n\r\nfunction Filter() {\r\n    \r\n    const categoryList = [\r\n        { label: &#39;Tutto&#39;, value: &quot;All&quot; },\r\n        { label: &#39;Roll&#39;, value: &#39;Roll&#39; },\r\n        { label: &#39;Sashimi&#39;, value: &#39;Sashimi&#39; },\r\n        { label: &#39;Uramaki&#39;, value: &#39;Uramaki&#39; },\r\n        { label: &#39;Bevande&#39;, value: &#39;Bevande&#39; },\r\n        { label: &#39;Dessert&#39;, value: &#39;Dessert&#39; },\r\n        { label: &#39;Ramen&#39;, value: &#39;Ramen&#39; },\r\n        { label: &#39;Speciali&#39;, value: &#39;Special&#39; },\r\n        { label: &#39;Altro&#39;, value: &#39;Altro&#39; }\r\n    ];\r\n    const [category , setCategory] = useState(&#39;&#39;);\r\n    const [productList, setProductList] = useContext(ContextProductList);\r\n\r\n\r\n   const handleCategoryChange = (event) =&gt; {\r\n    const selectedCategory = event.target.value;\r\n    setCategory(selectedCategory);\r\n\r\n    // Filtra la lista di prodotti in base alla categoria selezionata\r\n    const filteredProductList = productList.filter(product =&gt; {\r\n      if (selectedCategory === &quot;All&quot;) {\r\n        // Se l&#39;utente ha selezionato &quot;Tutto&quot;, mostra tutti i prodotti\r\n        return true;\r\n      } else {\r\n        // Altrimenti, filtra i prodotti per la categoria selezionata\r\n        return product.category === selectedCategory;\r\n      }\r\n    });\r\n\r\n    // Aggiorna lo stato di productList con i prodotti filtrati\r\n    setProductList(filteredProductList);\r\n  };\r\n\r\n  return (\r\n    &lt;form&gt;\r\n      &lt;label htmlFor=&quot;categorySelect&quot;&gt;Seleziona una categoria:&lt;/label&gt;\r\n      &lt;Dropdown value={category} options={categoryList} placeholder=&quot;Seleziona una categoria&quot; onChange={handleCategoryChange} /&gt;\r\n    &lt;/form&gt;\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n\r\n```\r\n\r\nI also give you the backend code in case the filtering can be done from there, i specify the filtering has to be done by prodocuts inserted by userShop because in my programm there may be more userShop who can insert product:\r\n\r\nRepository\r\n```\r\nList&lt;Product&gt; findByCategoryAndUserShop(String id, String category);\r\n\tList&lt;Product&gt; findByUserShopId(String id);\r\n\r\n//String id refers to userShop, not the product\r\n```\r\nService: \r\n\r\n```\r\nList&lt;Product&gt; getAllProductsByCategoryForUserShop(String id, String category);\r\nList&lt;Product&gt; getProductsByUserShop(String id);\r\n```\r\nServiceImplements \r\n\r\n```\r\n@Override\r\n\t  public List&lt;Product&gt; getAllProductsByCategoryForUserShop(String id, String category) {\r\n\t    \r\n\t\tList&lt;Product&gt; products = null;\r\n\t    if (category.equalsIgnoreCase(&quot;all&quot;)) {\r\n\t        products = productRepository.findByUserShopId(id);\r\n\t        System.out.println(products.toString());\r\n\t    } else if (!category.equalsIgnoreCase(&quot;all&quot;)) {\r\n\t        products = productRepository.findByCategoryAndUserShop(id, category);\r\n\t        System.out.println(category);\r\n\t        System.out.println(products.toString());\r\n\t    }\r\n\t    return products;\r\n\r\n\t}\r\n```\r\nController: \r\n\r\n```\r\n @GetMapping(&quot;/products/{id}/{category}&quot;)\r\n     public List&lt;Product&gt; getProductsByCategory(@PathVariable String id, @PathVariable String category) {\r\n    \t System.out.println(id + category);\r\n    \t \r\n         return productService.getAllProductsByCategoryForUserShop(id, category);\r\n     }\r\n```\r\n\r\n\r\n\r\n\r\nOn the frontend it only works once, if i select another category the list empties, i think the problem is to be that, once the product list is filtered with the first filter, this filtered list is stored in the state of productList, and then when another filter is applied, the original product list is lost and replaced with the filtered list. So if a category is selected that doesn&#39;t exist in the filtered list, no products will be shown. \r\nInstead, on the backend, i tried this method on Postman, if i use &quot;all&quot; it gets all the products that usershop inserted, but if i select a category it returns NULL.\r\nHow can i solve this?","title":"ProductList filter on react.js","body":"<p>I would like to create a function that allows you to filter products by category. I already tried to make this creating a query on Java but it dosen't work, so i thought it can be easier to do on the frontend.</p>\n<p>This is my code at the moment:</p>\n<pre><code>import React, { useState, useContext } from 'react';\nimport { ContextProductList } from '../app';\nimport { Dropdown } from 'primereact/dropdown';\n\n\nfunction Filter() {\n    \n    const categoryList = [\n        { label: 'Tutto', value: &quot;All&quot; },\n        { label: 'Roll', value: 'Roll' },\n        { label: 'Sashimi', value: 'Sashimi' },\n        { label: 'Uramaki', value: 'Uramaki' },\n        { label: 'Bevande', value: 'Bevande' },\n        { label: 'Dessert', value: 'Dessert' },\n        { label: 'Ramen', value: 'Ramen' },\n        { label: 'Speciali', value: 'Special' },\n        { label: 'Altro', value: 'Altro' }\n    ];\n    const [category , setCategory] = useState('');\n    const [productList, setProductList] = useContext(ContextProductList);\n\n\n   const handleCategoryChange = (event) =&gt; {\n    const selectedCategory = event.target.value;\n    setCategory(selectedCategory);\n\n    // Filtra la lista di prodotti in base alla categoria selezionata\n    const filteredProductList = productList.filter(product =&gt; {\n      if (selectedCategory === &quot;All&quot;) {\n        // Se l'utente ha selezionato &quot;Tutto&quot;, mostra tutti i prodotti\n        return true;\n      } else {\n        // Altrimenti, filtra i prodotti per la categoria selezionata\n        return product.category === selectedCategory;\n      }\n    });\n\n    // Aggiorna lo stato di productList con i prodotti filtrati\n    setProductList(filteredProductList);\n  };\n\n  return (\n    &lt;form&gt;\n      &lt;label htmlFor=&quot;categorySelect&quot;&gt;Seleziona una categoria:&lt;/label&gt;\n      &lt;Dropdown value={category} options={categoryList} placeholder=&quot;Seleziona una categoria&quot; onChange={handleCategoryChange} /&gt;\n    &lt;/form&gt;\n  );\n}\n\nexport default Filter;\n\n</code></pre>\n<p>I also give you the backend code in case the filtering can be done from there, i specify the filtering has to be done by prodocuts inserted by userShop because in my programm there may be more userShop who can insert product:</p>\n<p>Repository</p>\n<pre><code>List&lt;Product&gt; findByCategoryAndUserShop(String id, String category);\n    List&lt;Product&gt; findByUserShopId(String id);\n\n//String id refers to userShop, not the product\n</code></pre>\n<p>Service:</p>\n<pre><code>List&lt;Product&gt; getAllProductsByCategoryForUserShop(String id, String category);\nList&lt;Product&gt; getProductsByUserShop(String id);\n</code></pre>\n<p>ServiceImplements</p>\n<pre><code>@Override\n      public List&lt;Product&gt; getAllProductsByCategoryForUserShop(String id, String category) {\n        \n        List&lt;Product&gt; products = null;\n        if (category.equalsIgnoreCase(&quot;all&quot;)) {\n            products = productRepository.findByUserShopId(id);\n            System.out.println(products.toString());\n        } else if (!category.equalsIgnoreCase(&quot;all&quot;)) {\n            products = productRepository.findByCategoryAndUserShop(id, category);\n            System.out.println(category);\n            System.out.println(products.toString());\n        }\n        return products;\n\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code> @GetMapping(&quot;/products/{id}/{category}&quot;)\n     public List&lt;Product&gt; getProductsByCategory(@PathVariable String id, @PathVariable String category) {\n         System.out.println(id + category);\n         \n         return productService.getAllProductsByCategoryForUserShop(id, category);\n     }\n</code></pre>\n<p>On the frontend it only works once, if i select another category the list empties, i think the problem is to be that, once the product list is filtered with the first filter, this filtered list is stored in the state of productList, and then when another filter is applied, the original product list is lost and replaced with the filtered list. So if a category is selected that doesn't exist in the filtered list, no products will be shown.\nInstead, on the backend, i tried this method on Postman, if i use &quot;all&quot; it gets all the products that usershop inserted, but if i select a category it returns NULL.\nHow can i solve this?</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"score":1,"creation_date":1677209677,"post_id":75552217,"comment_id":133297213,"body_markdown":"Can you provide the code of your runner class?","body":"Can you provide the code of your runner class?"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1677214241,"post_id":75552217,"comment_id":133297717,"body_markdown":"Make sure the project is properly build !! And your maven is configured properly. Update project &amp; then open the class having main method &amp; run the main method.","body":"Make sure the project is properly build !! And your maven is configured properly. Update project &amp; then open the class having main method &amp; run the main method."},{"owner":{"account_id":2538296,"reputation":2849,"user_id":2312605,"accept_rate":37,"display_name":"Ashish Ratan"},"score":0,"creation_date":1677224967,"post_id":75552217,"comment_id":133299312,"body_markdown":"The easiest way to go to your Main class, u will see a RUN green button, just click it and it will create a config for you. If u don&#39;t find your button on the main class, consider rebuilding/reimporting your project.","body":"The easiest way to go to your Main class, u will see a RUN green button, just click it and it will create a config for you. If u don&#39;t find your button on the main class, consider rebuilding/reimporting your project."}],"answers":[{"tags":[],"owner":{"account_id":26680163,"reputation":16,"user_id":20290233,"display_name":"Nithish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677230087,"creation_date":1677230087,"answer_id":75554651,"question_id":75552217,"body_markdown":"You can use this link to understand building and running of maven project.\r\n[Click here][1]. Or you can use the build option at the run button at the top right corner to make a build of the class.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#build_through_maven","title":"SpringBoot project does not load as SpringBootApplication in edit configurations in IntelliJ","body":"<p>You can use this link to understand building and running of maven project.\n<a href=\"https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#build_through_maven\" rel=\"nofollow noreferrer\">Click here</a>. Or you can use the build option at the run button at the top right corner to make a build of the class.</p>\n"}],"owner":{"account_id":27865640,"reputation":1,"user_id":21277182,"display_name":"Himanshu Mahajan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677230087,"creation_date":1677207135,"question_id":75552217,"body_markdown":"I am cloning a maven project and when I clone, I click on RUn-&gt; Edit configurations -&gt; +\r\n\r\nWhen I add it as a springBootApplication, it does not find the main class. \r\nWhen I add as simple &quot;Application&quot; it finds the main file. I want it to run as SpringBootApplication and not simple Application\r\n\r\nExpect SpringBootAppllication but was simple Application","title":"SpringBoot project does not load as SpringBootApplication in edit configurations in IntelliJ","body":"<p>I am cloning a maven project and when I clone, I click on RUn-&gt; Edit configurations -&gt; +</p>\n<p>When I add it as a springBootApplication, it does not find the main class.\nWhen I add as simple &quot;Application&quot; it finds the main file. I want it to run as SpringBootApplication and not simple Application</p>\n<p>Expect SpringBootAppllication but was simple Application</p>\n"},{"tags":["java","jpa","stored-procedures"],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677229788,"creation_date":1677198151,"question_id":75551588,"body_markdown":"I am meant to query a procedure with no explicit id column but my entity class requires an id because of the annotation @Entity. I have tried auto generating the ids but I am getting this:\r\n\r\n```\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The column name id is not valid.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:237)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerResultSet.findColumn(SQLServerResultSet.java:748)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerResultSet.getInt(SQLServerResultSet.java:2392)\r\n```\r\nMy Entity class:\r\n\r\n    @NamedStoredProcedureQueries({\r\n        @NamedStoredProcedureQuery(\r\n                name = &quot;name&quot;,\r\n                procedureName = &quot;schema.procedureNaem&quot;,\r\n                resultClasses = { ANSIRInventoryByMakeModelEntity.class}\r\n                )})\r\n    public class ANSIRInventoryByMakeModelEntity implements Serializable {\r\n    private static final long serialVersionUID = 3240992264453598714L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;chrome_make_name&quot;)\r\n    private String chromeMakeName;\r\n\r\n    @Column(name = &quot;chrome_model_name&quot;)\r\n    private String chromeModelName;\r\n\r\n    @Column(name = &quot;dms_make_code&quot;)\r\n    private String dmsMakeCode;\r\n\r\n    @Column(name = &quot;dms_make_name&quot;)\r\n    private String dmsMakeName;\r\n\r\n    @Column(name = &quot;dms_model_code&quot;)\r\n    private String dmsModelCode;\r\n\r\n    @Column(name = &quot;dms_model_name&quot;)\r\n    private String dmsModelName;\r\n\r\n    @Column(name = &quot;chrome_division_id&quot;)\r\n    private Integer chromeDivisionId;\r\n\r\n    @Column(name = &quot;franchise_id&quot;)\r\n    private Integer franchiseId;}\r\n\r\nmy repo:\r\n\r\n     public List&lt;ANSIRInventoryByMakeModelResponse&gt; getANSIRInventoryByMakeModel() throws ANSIRMarshalException {\r\n        try {\r\n            StoredProcedureQuery getANSIRInventoryByMakeAndModel = entityManager.createNamedStoredProcedureQuery(&quot;getANSIRInventoryByMakeAndModel&quot;);\r\n            List&lt;ANSIRInventoryByMakeModelEntity&gt; resultList = getANSIRInventoryByMakeAndModel.getResultList();\r\n            return resultList.stream().map(ANSIRInventoryByMakeModelResponse::fromEntity).collect(Collectors.toList());\r\n        } catch (ANSIRMarshalException e) {\r\n            log.warn(&quot;Failed to marshal row of ANSIR Query.&quot;, e);\r\n            throw new ANSIRMarshalException(&quot;Failed to marshal row of ANSIR Query.&quot;, e);\r\n        } catch (Exception e) {\r\n            log.warn(&quot;An unknown exception occurred querying ANSIR.&quot;, e);\r\n            throw new ANSIRQueryException(&quot;An unknown exception occurred querying ANSIR.&quot;, e);\r\n        }\r\n    }\r\n\r\n","title":"Unable to Auto generate id in @NamedStoredProcedureQuery Entity class","body":"<p>I am meant to query a procedure with no explicit id column but my entity class requires an id because of the annotation @Entity. I have tried auto generating the ids but I am getting this:</p>\n<pre><code>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The column name id is not valid.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:237)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.findColumn(SQLServerResultSet.java:748)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.getInt(SQLServerResultSet.java:2392)\n</code></pre>\n<p>My Entity class:</p>\n<pre><code>@NamedStoredProcedureQueries({\n    @NamedStoredProcedureQuery(\n            name = &quot;name&quot;,\n            procedureName = &quot;schema.procedureNaem&quot;,\n            resultClasses = { ANSIRInventoryByMakeModelEntity.class}\n            )})\npublic class ANSIRInventoryByMakeModelEntity implements Serializable {\nprivate static final long serialVersionUID = 3240992264453598714L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;id&quot;)\nprivate Integer id;\n\n@Column(name = &quot;chrome_make_name&quot;)\nprivate String chromeMakeName;\n\n@Column(name = &quot;chrome_model_name&quot;)\nprivate String chromeModelName;\n\n@Column(name = &quot;dms_make_code&quot;)\nprivate String dmsMakeCode;\n\n@Column(name = &quot;dms_make_name&quot;)\nprivate String dmsMakeName;\n\n@Column(name = &quot;dms_model_code&quot;)\nprivate String dmsModelCode;\n\n@Column(name = &quot;dms_model_name&quot;)\nprivate String dmsModelName;\n\n@Column(name = &quot;chrome_division_id&quot;)\nprivate Integer chromeDivisionId;\n\n@Column(name = &quot;franchise_id&quot;)\nprivate Integer franchiseId;}\n</code></pre>\n<p>my repo:</p>\n<pre><code> public List&lt;ANSIRInventoryByMakeModelResponse&gt; getANSIRInventoryByMakeModel() throws ANSIRMarshalException {\n    try {\n        StoredProcedureQuery getANSIRInventoryByMakeAndModel = entityManager.createNamedStoredProcedureQuery(&quot;getANSIRInventoryByMakeAndModel&quot;);\n        List&lt;ANSIRInventoryByMakeModelEntity&gt; resultList = getANSIRInventoryByMakeAndModel.getResultList();\n        return resultList.stream().map(ANSIRInventoryByMakeModelResponse::fromEntity).collect(Collectors.toList());\n    } catch (ANSIRMarshalException e) {\n        log.warn(&quot;Failed to marshal row of ANSIR Query.&quot;, e);\n        throw new ANSIRMarshalException(&quot;Failed to marshal row of ANSIR Query.&quot;, e);\n    } catch (Exception e) {\n        log.warn(&quot;An unknown exception occurred querying ANSIR.&quot;, e);\n        throw new ANSIRQueryException(&quot;An unknown exception occurred querying ANSIR.&quot;, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","android-layout","user-interface","ide"],"comments":[{"owner":{"account_id":18080432,"reputation":407,"user_id":13142723,"display_name":"Guilejfwe"},"score":0,"creation_date":1676910930,"post_id":75438084,"comment_id":133228078,"body_markdown":"i have the same problem but with the layout preview, any solution???","body":"i have the same problem but with the layout preview, any solution???"}],"answers":[{"tags":[],"owner":{"account_id":27829354,"reputation":176,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677229763,"creation_date":1677229763,"answer_id":75554587,"question_id":75438084,"body_markdown":"Try below points:\r\n 1. Invalidate caches/ Restart\r\n    - Go to the file which is present in the top menu bar in Android Studio and then click on the option Invalidate Caches/Restart present in the Dropdown.\r\n 2. Disable and then Enable android apk support\r\n    - Go to settings that are present in the file,On the left side of the settings, find an option named plugin, click on the plugin and go to Installed which will show you the installed plugins. Scroll down and check for Android APK Support and disable the option. After disabling, click on Apply button and then ok. It would disable the use of Android APK Support in Android Studio. Now go back to the same settings and Check/Enable the same option which you disabled earlier. After doing that click on Apply and then the OK button.\r\n 3.  After trying all the methods, and still not able to see the Layout, try to rebuild your project.\r\n\r\n \r\n\r\n","title":"xml window blank for no reason in android studio Electric Eel | 2022.1.1 Patch 1","body":"<p>Try below points:</p>\n<ol>\n<li>Invalidate caches/ Restart\n<ul>\n<li>Go to the file which is present in the top menu bar in Android Studio and then click on the option Invalidate Caches/Restart present in the Dropdown.</li>\n</ul>\n</li>\n<li>Disable and then Enable android apk support\n<ul>\n<li>Go to settings that are present in the file,On the left side of the settings, find an option named plugin, click on the plugin and go to Installed which will show you the installed plugins. Scroll down and check for Android APK Support and disable the option. After disabling, click on Apply button and then ok. It would disable the use of Android APK Support in Android Studio. Now go back to the same settings and Check/Enable the same option which you disabled earlier. After doing that click on Apply and then the OK button.</li>\n</ul>\n</li>\n<li>After trying all the methods, and still not able to see the Layout, try to rebuild your project.</li>\n</ol>\n"}],"owner":{"account_id":26507559,"reputation":69,"user_id":20143472,"display_name":"jackie Maik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677229763,"creation_date":1676302813,"question_id":75438084,"body_markdown":"I updated my android studio to Electric Eel | 2022.1.1 Patch 1. Unfortunately, my hompage .xml file is blank even I created a lot code on it from previos version. below is the problem happen with .xml file in my app. Can you help me how to overcome this issue. I don&#39;t know what error with it.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eE7o6.png","title":"xml window blank for no reason in android studio Electric Eel | 2022.1.1 Patch 1","body":"<p>I updated my android studio to Electric Eel | 2022.1.1 Patch 1. Unfortunately, my hompage .xml file is blank even I created a lot code on it from previos version. below is the problem happen with .xml file in my app. Can you help me how to overcome this issue. I don't know what error with it.\n<a href=\"https://i.stack.imgur.com/eE7o6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eE7o6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","compiler-construction","antlr","abstract-syntax-tree","antlr4"],"comments":[{"owner":{"account_id":1619576,"reputation":7485,"user_id":1496453,"accept_rate":97,"display_name":"Sandy Gifford"},"score":2,"creation_date":1430406716,"post_id":29971097,"comment_id":48062415,"body_markdown":"Could you share some of what you&#39;ve tried?","body":"Could you share some of what you&#39;ve tried?"},{"owner":{"account_id":3007035,"reputation":1134,"user_id":2551338,"accept_rate":83,"display_name":"Leandro"},"score":0,"creation_date":1430407464,"post_id":29971097,"comment_id":48062986,"body_markdown":"@SandyGifford I edited my post trying to explain... I don&#39;t have my code right now because I just deleted what I made. Right now I only have the generated codes from ATNLR4 (parser, lexer and base visitors and listeners)","body":"@SandyGifford I edited my post trying to explain... I don&#39;t have my code right now because I just deleted what I made. Right now I only have the generated codes from ATNLR4 (parser, lexer and base visitors and listeners)"},{"owner":{"account_id":1619576,"reputation":7485,"user_id":1496453,"accept_rate":97,"display_name":"Sandy Gifford"},"score":0,"creation_date":1430407893,"post_id":29971097,"comment_id":48063373,"body_markdown":"Unfortunately, I don&#39;t know anything about ANTLR (you came up in my queue) but you have raised the quality of the post!","body":"Unfortunately, I don&#39;t know anything about ANTLR (you came up in my queue) but you have raised the quality of the post!"},{"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"score":0,"creation_date":1430456856,"post_id":29971097,"comment_id":48083174,"body_markdown":"See this answer for a discussion of &quot;CST&quot; vs &quot;AST&quot;: http://stackoverflow.com/a/29456792/120163  The commentary at the end discusses how another actually gets an AST (essentially by walking the CST and manufacturing the AST he wants).","body":"See this answer for a discussion of &quot;CST&quot; vs &quot;AST&quot;: <a href=\"http://stackoverflow.com/a/29456792/120163\">stackoverflow.com/a/29456792/120163</a>  The commentary at the end discusses how another actually gets an AST (essentially by walking the CST and manufacturing the AST he wants)."},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1478595524,"post_id":29971097,"comment_id":68209218,"body_markdown":"I was in a similar situation like you, after I failed to find a super simple AST example using ANTLR I have created one myself  https://github.com/adamsiemion/antlr-java-ast","body":"I was in a similar situation like you, after I failed to find a super simple AST example using ANTLR I have created one myself  <a href=\"https://github.com/adamsiemion/antlr-java-ast\" rel=\"nofollow noreferrer\">github.com/adamsiemion/antlr-java-ast</a>"},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1517458422,"post_id":29971097,"comment_id":84106602,"body_markdown":"@AdamSiemion your example errors with cannot find symbol class Java8Lexer","body":"@AdamSiemion your example errors with cannot find symbol class Java8Lexer"}],"answers":[{"tags":[],"owner":{"account_id":4646779,"reputation":50512,"user_id":3764814,"display_name":"Lucas Trzesniewski"},"down_vote_count":0,"up_vote_count":218,"is_accepted":true,"score":218,"last_activity_date":1486926082,"creation_date":1430520092,"answer_id":29996191,"question_id":29971097,"body_markdown":"Ok, let&#39;s build a simple math example. Building an AST is totally overkill for such a task but it&#39;s a nice way to show the principle.\r\n\r\nI&#39;ll do it in C# but the Java version would be very similar.\r\n\r\n# The grammar\r\n\r\nFirst, let&#39;s write a very basic math grammar to work with:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    grammar Math;\r\n    \r\n    compileUnit\r\n    \t:\texpr EOF\r\n    \t;\r\n    \r\n    expr\r\n    \t:\t&#39;(&#39; expr &#39;)&#39;                         # parensExpr\r\n    \t|\top=(&#39;+&#39;|&#39;-&#39;) expr                    # unaryExpr\r\n    \t|\tleft=expr op=(&#39;*&#39;|&#39;/&#39;) right=expr    # infixExpr\r\n    \t|\tleft=expr op=(&#39;+&#39;|&#39;-&#39;) right=expr    # infixExpr\r\n    \t|\tfunc=ID &#39;(&#39; expr &#39;)&#39;                 # funcExpr\r\n    \t|\tvalue=NUM                            # numberExpr\r\n    \t;\r\n\r\n    OP_ADD: &#39;+&#39;;\r\n    OP_SUB: &#39;-&#39;;\r\n    OP_MUL: &#39;*&#39;;\r\n    OP_DIV: &#39;/&#39;;\r\n    \r\n    NUM\t:\t[0-9]+ (&#39;.&#39; [0-9]+)? ([eE] [+-]? [0-9]+)?;\r\n    ID\t:\t[a-zA-Z]+;\r\n    WS\t:\t[ \\t\\r\\n] -&gt; channel(HIDDEN);\r\n\r\nPretty basic stuff, we have a single `expr` rule that handles everything (precedence rules etc).\r\n\r\n# The AST nodes\r\n\r\nThen, let&#39;s define some AST nodes we&#39;ll use. These are totally custom and you can define them in the way you want to.\r\n\r\nHere are the nodes we&#39;ll be using for this example:\r\n\r\n&lt;!-- language-all: lang-csharp --&gt;\r\n\r\n    internal abstract class ExpressionNode\r\n    {\r\n    }\r\n\r\n    internal abstract class InfixExpressionNode : ExpressionNode\r\n    {\r\n        public ExpressionNode Left { get; set; }\r\n        public ExpressionNode Right { get; set; }\r\n    }\r\n\r\n    internal class AdditionNode : InfixExpressionNode\r\n    {\r\n    }\r\n\r\n    internal class SubtractionNode : InfixExpressionNode\r\n    {\r\n    }\r\n\r\n    internal class MultiplicationNode : InfixExpressionNode\r\n    {\r\n    }\r\n\r\n    internal class DivisionNode : InfixExpressionNode\r\n    {\r\n    }\r\n\r\n    internal class NegateNode : ExpressionNode\r\n    {\r\n        public ExpressionNode InnerNode { get; set; }\r\n    }\r\n\r\n    internal class FunctionNode : ExpressionNode\r\n    {\r\n        public Func&lt;double, double&gt; Function { get; set; }\r\n        public ExpressionNode Argument { get; set; }\r\n    }\r\n\r\n    internal class NumberNode : ExpressionNode\r\n    {\r\n        public double Value { get; set; }\r\n    }\r\n\r\n# Converting a CST to an AST\r\n\r\nANTLR generated the CST nodes for us (the `MathParser.*Context` classes). We now have to convert these to AST nodes.\r\n\r\nThis is easily done with a visitor, and ANTLR provides us with a `MathBaseVisitor&lt;T&gt;` class, so let&#39;s work with that.\r\n\r\n    internal class BuildAstVisitor : MathBaseVisitor&lt;ExpressionNode&gt;\r\n    {\r\n        public override ExpressionNode VisitCompileUnit(MathParser.CompileUnitContext context)\r\n        {\r\n            return Visit(context.expr());\r\n        }\r\n\r\n        public override ExpressionNode VisitNumberExpr(MathParser.NumberExprContext context)\r\n        {\r\n            return new NumberNode\r\n            {\r\n                Value = double.Parse(context.value.Text, NumberStyles.AllowDecimalPoint | NumberStyles.AllowExponent)\r\n            };\r\n        }\r\n\r\n        public override ExpressionNode VisitParensExpr(MathParser.ParensExprContext context)\r\n        {\r\n            return Visit(context.expr());\r\n        }\r\n\r\n        public override ExpressionNode VisitInfixExpr(MathParser.InfixExprContext context)\r\n        {\r\n            InfixExpressionNode node;\r\n\r\n            switch (context.op.Type)\r\n            {\r\n                case MathLexer.OP_ADD:\r\n                    node = new AdditionNode();\r\n                    break;\r\n\r\n                case MathLexer.OP_SUB:\r\n                    node = new SubtractionNode();\r\n                    break;\r\n\r\n                case MathLexer.OP_MUL:\r\n                    node = new MultiplicationNode();\r\n                    break;\r\n\r\n                case MathLexer.OP_DIV:\r\n                    node = new DivisionNode();\r\n                    break;\r\n\r\n                default:\r\n                    throw new NotSupportedException();\r\n            }\r\n\r\n            node.Left = Visit(context.left);\r\n            node.Right = Visit(context.right);\r\n\r\n            return node;\r\n        }\r\n\r\n        public override ExpressionNode VisitUnaryExpr(MathParser.UnaryExprContext context)\r\n        {\r\n            switch (context.op.Type)\r\n            {\r\n                case MathLexer.OP_ADD:\r\n                    return Visit(context.expr());\r\n\r\n                case MathLexer.OP_SUB:\r\n                    return new NegateNode\r\n                    {\r\n                        InnerNode = Visit(context.expr())\r\n                    };\r\n\r\n                default:\r\n                    throw new NotSupportedException();\r\n            }\r\n        }\r\n\r\n        public override ExpressionNode VisitFuncExpr(MathParser.FuncExprContext context)\r\n        {\r\n            var functionName = context.func.Text;\r\n\r\n            var func = typeof(Math)\r\n                .GetMethods(BindingFlags.Public | BindingFlags.Static)\r\n                .Where(m =&gt; m.ReturnType == typeof(double))\r\n                .Where(m =&gt; m.GetParameters().Select(p =&gt; p.ParameterType).SequenceEqual(new[] { typeof(double) }))\r\n                .FirstOrDefault(m =&gt; m.Name.Equals(functionName, StringComparison.OrdinalIgnoreCase));\r\n\r\n            if (func == null)\r\n                throw new NotSupportedException(string.Format(&quot;Function {0} is not supported&quot;, functionName));\r\n\r\n            return new FunctionNode\r\n            {\r\n                Function = (Func&lt;double, double&gt;)func.CreateDelegate(typeof(Func&lt;double, double&gt;)),\r\n                Argument = Visit(context.expr())\r\n            };\r\n        }\r\n    }\r\n\r\nAs you can see, it&#39;s just a matter of creating an AST node out of a CST node by using a visitor. The code should be pretty self-explanatory (well, maybe except for the `VisitFuncExpr` stuff, but it&#39;s just a quick way to wire up a delegate to a suitable method of the [`System.Math`](https://msdn.microsoft.com/en-us/library/system.math_methods.aspx) class).\r\n\r\nAnd here you have the AST building stuff. That&#39;s all that&#39;s needed. Just extract the relevant information from the CST and keep it in the AST.\r\n\r\n# The AST visitor\r\n\r\nNow, let&#39;s play a bit with the AST. We&#39;ll have to build an AST visitor base class to traverse it. Let&#39;s just do something similar to the `AbstractParseTreeVisitor&lt;T&gt;` provided by ANTLR.\r\n\r\n    internal abstract class AstVisitor&lt;T&gt;\r\n    {\r\n        public abstract T Visit(AdditionNode node);\r\n        public abstract T Visit(SubtractionNode node);\r\n        public abstract T Visit(MultiplicationNode node);\r\n        public abstract T Visit(DivisionNode node);\r\n        public abstract T Visit(NegateNode node);\r\n        public abstract T Visit(FunctionNode node);\r\n        public abstract T Visit(NumberNode node);\r\n\r\n        public T Visit(ExpressionNode node)\r\n        {\r\n            return Visit((dynamic)node);\r\n        }\r\n    }\r\n\r\nHere, I took advantage of C#&#39;s `dynamic` keyword to perform a double-dispatch in one line of code. In Java, you&#39;ll have to do the wiring yourself with a sequence of `if` statements like these:\r\n\r\n    if (node is AdditionNode) {\r\n        return Visit((AdditionNode)node);\r\n    } else if (node is SubtractionNode) {\r\n        return Visit((SubtractionNode)node);\r\n    } else if ...\r\n\r\nBut I just went for the shortcut for this example.\r\n\r\n# Work with the AST\r\n\r\nSo, what can we do with a math expression tree? Evaluate it, of course! Let&#39;s implement an expression evaluator:\r\n\r\n    internal class EvaluateExpressionVisitor : AstVisitor&lt;double&gt;\r\n    {\r\n        public override double Visit(AdditionNode node)\r\n        {\r\n            return Visit(node.Left) + Visit(node.Right);\r\n        }\r\n\r\n        public override double Visit(SubtractionNode node)\r\n        {\r\n            return Visit(node.Left) - Visit(node.Right);\r\n        }\r\n\r\n        public override double Visit(MultiplicationNode node)\r\n        {\r\n            return Visit(node.Left) * Visit(node.Right);\r\n        }\r\n\r\n        public override double Visit(DivisionNode node)\r\n        {\r\n            return Visit(node.Left) / Visit(node.Right);\r\n        }\r\n\r\n        public override double Visit(NegateNode node)\r\n        {\r\n            return -Visit(node.InnerNode);\r\n        }\r\n\r\n        public override double Visit(FunctionNode node)\r\n        {\r\n            return node.Function(Visit(node.Argument));\r\n        }\r\n\r\n        public override double Visit(NumberNode node)\r\n        {\r\n            return node.Value;\r\n        }\r\n    }\r\n\r\nPretty simple once we have an AST, isn&#39;t it?\r\n\r\n# Putting it all together\r\n\r\nLast but not least, we have to actually write the main program:\r\n\r\n    internal class Program\r\n    {\r\n        private static void Main()\r\n        {\r\n            while (true)\r\n            {\r\n                Console.Write(&quot;&gt; &quot;);\r\n                var exprText = Console.ReadLine();\r\n\r\n                if (string.IsNullOrWhiteSpace(exprText))\r\n                    break;\r\n\r\n                var inputStream = new AntlrInputStream(new StringReader(exprText));\r\n                var lexer = new MathLexer(inputStream);\r\n                var tokenStream = new CommonTokenStream(lexer);\r\n                var parser = new MathParser(tokenStream);\r\n\r\n                try\r\n                {\r\n                    var cst = parser.compileUnit();\r\n                    var ast = new BuildAstVisitor().VisitCompileUnit(cst);\r\n                    var value = new EvaluateExpressionVisitor().Visit(ast);\r\n\r\n                    Console.WriteLine(&quot;= {0}&quot;, value);\r\n                }\r\n                catch (Exception ex)\r\n                {\r\n                    Console.WriteLine(ex.Message);\r\n                }\r\n\r\n                Console.WriteLine();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd now we can finally play with it:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ie2tv.png","title":"How to create AST with ANTLR4?","body":"<p>Ok, let's build a simple math example. Building an AST is totally overkill for such a task but it's a nice way to show the principle.</p>\n\n<p>I'll do it in C# but the Java version would be very similar.</p>\n\n<h1>The grammar</h1>\n\n<p>First, let's write a very basic math grammar to work with:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>grammar Math;\n\ncompileUnit\n    :   expr EOF\n    ;\n\nexpr\n    :   '(' expr ')'                         # parensExpr\n    |   op=('+'|'-') expr                    # unaryExpr\n    |   left=expr op=('*'|'/') right=expr    # infixExpr\n    |   left=expr op=('+'|'-') right=expr    # infixExpr\n    |   func=ID '(' expr ')'                 # funcExpr\n    |   value=NUM                            # numberExpr\n    ;\n\nOP_ADD: '+';\nOP_SUB: '-';\nOP_MUL: '*';\nOP_DIV: '/';\n\nNUM :   [0-9]+ ('.' [0-9]+)? ([eE] [+-]? [0-9]+)?;\nID  :   [a-zA-Z]+;\nWS  :   [ \\t\\r\\n] -&gt; channel(HIDDEN);\n</code></pre>\n\n<p>Pretty basic stuff, we have a single <code>expr</code> rule that handles everything (precedence rules etc).</p>\n\n<h1>The AST nodes</h1>\n\n<p>Then, let's define some AST nodes we'll use. These are totally custom and you can define them in the way you want to.</p>\n\n<p>Here are the nodes we'll be using for this example:</p>\n\n\n\n<pre class=\"lang-csharp prettyprint-override\"><code>internal abstract class ExpressionNode\n{\n}\n\ninternal abstract class InfixExpressionNode : ExpressionNode\n{\n    public ExpressionNode Left { get; set; }\n    public ExpressionNode Right { get; set; }\n}\n\ninternal class AdditionNode : InfixExpressionNode\n{\n}\n\ninternal class SubtractionNode : InfixExpressionNode\n{\n}\n\ninternal class MultiplicationNode : InfixExpressionNode\n{\n}\n\ninternal class DivisionNode : InfixExpressionNode\n{\n}\n\ninternal class NegateNode : ExpressionNode\n{\n    public ExpressionNode InnerNode { get; set; }\n}\n\ninternal class FunctionNode : ExpressionNode\n{\n    public Func&lt;double, double&gt; Function { get; set; }\n    public ExpressionNode Argument { get; set; }\n}\n\ninternal class NumberNode : ExpressionNode\n{\n    public double Value { get; set; }\n}\n</code></pre>\n\n<h1>Converting a CST to an AST</h1>\n\n<p>ANTLR generated the CST nodes for us (the <code>MathParser.*Context</code> classes). We now have to convert these to AST nodes.</p>\n\n<p>This is easily done with a visitor, and ANTLR provides us with a <code>MathBaseVisitor&lt;T&gt;</code> class, so let's work with that.</p>\n\n<pre class=\"lang-csharp prettyprint-override\"><code>internal class BuildAstVisitor : MathBaseVisitor&lt;ExpressionNode&gt;\n{\n    public override ExpressionNode VisitCompileUnit(MathParser.CompileUnitContext context)\n    {\n        return Visit(context.expr());\n    }\n\n    public override ExpressionNode VisitNumberExpr(MathParser.NumberExprContext context)\n    {\n        return new NumberNode\n        {\n            Value = double.Parse(context.value.Text, NumberStyles.AllowDecimalPoint | NumberStyles.AllowExponent)\n        };\n    }\n\n    public override ExpressionNode VisitParensExpr(MathParser.ParensExprContext context)\n    {\n        return Visit(context.expr());\n    }\n\n    public override ExpressionNode VisitInfixExpr(MathParser.InfixExprContext context)\n    {\n        InfixExpressionNode node;\n\n        switch (context.op.Type)\n        {\n            case MathLexer.OP_ADD:\n                node = new AdditionNode();\n                break;\n\n            case MathLexer.OP_SUB:\n                node = new SubtractionNode();\n                break;\n\n            case MathLexer.OP_MUL:\n                node = new MultiplicationNode();\n                break;\n\n            case MathLexer.OP_DIV:\n                node = new DivisionNode();\n                break;\n\n            default:\n                throw new NotSupportedException();\n        }\n\n        node.Left = Visit(context.left);\n        node.Right = Visit(context.right);\n\n        return node;\n    }\n\n    public override ExpressionNode VisitUnaryExpr(MathParser.UnaryExprContext context)\n    {\n        switch (context.op.Type)\n        {\n            case MathLexer.OP_ADD:\n                return Visit(context.expr());\n\n            case MathLexer.OP_SUB:\n                return new NegateNode\n                {\n                    InnerNode = Visit(context.expr())\n                };\n\n            default:\n                throw new NotSupportedException();\n        }\n    }\n\n    public override ExpressionNode VisitFuncExpr(MathParser.FuncExprContext context)\n    {\n        var functionName = context.func.Text;\n\n        var func = typeof(Math)\n            .GetMethods(BindingFlags.Public | BindingFlags.Static)\n            .Where(m =&gt; m.ReturnType == typeof(double))\n            .Where(m =&gt; m.GetParameters().Select(p =&gt; p.ParameterType).SequenceEqual(new[] { typeof(double) }))\n            .FirstOrDefault(m =&gt; m.Name.Equals(functionName, StringComparison.OrdinalIgnoreCase));\n\n        if (func == null)\n            throw new NotSupportedException(string.Format(\"Function {0} is not supported\", functionName));\n\n        return new FunctionNode\n        {\n            Function = (Func&lt;double, double&gt;)func.CreateDelegate(typeof(Func&lt;double, double&gt;)),\n            Argument = Visit(context.expr())\n        };\n    }\n}\n</code></pre>\n\n<p>As you can see, it's just a matter of creating an AST node out of a CST node by using a visitor. The code should be pretty self-explanatory (well, maybe except for the <code>VisitFuncExpr</code> stuff, but it's just a quick way to wire up a delegate to a suitable method of the <a href=\"https://msdn.microsoft.com/en-us/library/system.math_methods.aspx\" rel=\"noreferrer\"><code>System.Math</code></a> class).</p>\n\n<p>And here you have the AST building stuff. That's all that's needed. Just extract the relevant information from the CST and keep it in the AST.</p>\n\n<h1>The AST visitor</h1>\n\n<p>Now, let's play a bit with the AST. We'll have to build an AST visitor base class to traverse it. Let's just do something similar to the <code>AbstractParseTreeVisitor&lt;T&gt;</code> provided by ANTLR.</p>\n\n<pre class=\"lang-csharp prettyprint-override\"><code>internal abstract class AstVisitor&lt;T&gt;\n{\n    public abstract T Visit(AdditionNode node);\n    public abstract T Visit(SubtractionNode node);\n    public abstract T Visit(MultiplicationNode node);\n    public abstract T Visit(DivisionNode node);\n    public abstract T Visit(NegateNode node);\n    public abstract T Visit(FunctionNode node);\n    public abstract T Visit(NumberNode node);\n\n    public T Visit(ExpressionNode node)\n    {\n        return Visit((dynamic)node);\n    }\n}\n</code></pre>\n\n<p>Here, I took advantage of C#'s <code>dynamic</code> keyword to perform a double-dispatch in one line of code. In Java, you'll have to do the wiring yourself with a sequence of <code>if</code> statements like these:</p>\n\n<pre class=\"lang-csharp prettyprint-override\"><code>if (node is AdditionNode) {\n    return Visit((AdditionNode)node);\n} else if (node is SubtractionNode) {\n    return Visit((SubtractionNode)node);\n} else if ...\n</code></pre>\n\n<p>But I just went for the shortcut for this example.</p>\n\n<h1>Work with the AST</h1>\n\n<p>So, what can we do with a math expression tree? Evaluate it, of course! Let's implement an expression evaluator:</p>\n\n<pre class=\"lang-csharp prettyprint-override\"><code>internal class EvaluateExpressionVisitor : AstVisitor&lt;double&gt;\n{\n    public override double Visit(AdditionNode node)\n    {\n        return Visit(node.Left) + Visit(node.Right);\n    }\n\n    public override double Visit(SubtractionNode node)\n    {\n        return Visit(node.Left) - Visit(node.Right);\n    }\n\n    public override double Visit(MultiplicationNode node)\n    {\n        return Visit(node.Left) * Visit(node.Right);\n    }\n\n    public override double Visit(DivisionNode node)\n    {\n        return Visit(node.Left) / Visit(node.Right);\n    }\n\n    public override double Visit(NegateNode node)\n    {\n        return -Visit(node.InnerNode);\n    }\n\n    public override double Visit(FunctionNode node)\n    {\n        return node.Function(Visit(node.Argument));\n    }\n\n    public override double Visit(NumberNode node)\n    {\n        return node.Value;\n    }\n}\n</code></pre>\n\n<p>Pretty simple once we have an AST, isn't it?</p>\n\n<h1>Putting it all together</h1>\n\n<p>Last but not least, we have to actually write the main program:</p>\n\n<pre class=\"lang-csharp prettyprint-override\"><code>internal class Program\n{\n    private static void Main()\n    {\n        while (true)\n        {\n            Console.Write(\"&gt; \");\n            var exprText = Console.ReadLine();\n\n            if (string.IsNullOrWhiteSpace(exprText))\n                break;\n\n            var inputStream = new AntlrInputStream(new StringReader(exprText));\n            var lexer = new MathLexer(inputStream);\n            var tokenStream = new CommonTokenStream(lexer);\n            var parser = new MathParser(tokenStream);\n\n            try\n            {\n                var cst = parser.compileUnit();\n                var ast = new BuildAstVisitor().VisitCompileUnit(cst);\n                var value = new EvaluateExpressionVisitor().Visit(ast);\n\n                Console.WriteLine(\"= {0}\", value);\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.Message);\n            }\n\n            Console.WriteLine();\n        }\n    }\n}\n</code></pre>\n\n<p>And now we can finally play with it:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ie2tv.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":6555677,"reputation":1704,"user_id":5068458,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1467026958,"creation_date":1467026958,"answer_id":38052798,"question_id":29971097,"body_markdown":"I have created a small Java project that allows you to test your ANTLR grammar instantly by compiling the lexer and parser generated by ANTLR in-memory. You can just parse a string by passing it to the parser, and it will automatically generate an AST from it which can then be used in your application. \r\n\r\nFor the purpose of reducing the size of the AST, you could use a NodeFilter to which you could add the production-rule names of the non-terminals that you would like to be considered when constructing the AST.\r\n\r\nThe code and some code examples can be found at\r\n[https://github.com/julianthome/inmemantlr][1]\r\n\r\n\r\nHope the tool is useful ;-)\r\n\r\n\r\n  [1]: https://github.com/julianthome/inmemantlr","title":"How to create AST with ANTLR4?","body":"<p>I have created a small Java project that allows you to test your ANTLR grammar instantly by compiling the lexer and parser generated by ANTLR in-memory. You can just parse a string by passing it to the parser, and it will automatically generate an AST from it which can then be used in your application. </p>\n\n<p>For the purpose of reducing the size of the AST, you could use a NodeFilter to which you could add the production-rule names of the non-terminals that you would like to be considered when constructing the AST.</p>\n\n<p>The code and some code examples can be found at\n<a href=\"https://github.com/julianthome/inmemantlr\" rel=\"noreferrer\">https://github.com/julianthome/inmemantlr</a></p>\n\n<p>Hope the tool is useful ;-)</p>\n"},{"tags":[],"owner":{"account_id":3569788,"reputation":51,"user_id":2980406,"display_name":"Konstantina Dritsa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609085940,"creation_date":1609085628,"answer_id":65467773,"question_id":29971097,"body_markdown":"I have found two simple ways, focused on the functionality available in the [TestRig.java][1] file of antlr4.\r\n\r\n 1. Via terminal\r\n\r\nThis is my example for parsing C++ with the corresponding CPP14.g4 grammar file \r\n`java -cp .:antlr-4.9-complete.jar org.antlr.v4.gui.TestRig CPP14 translationunit -tree filename.cpp`. If you omit the filename.cpp, the rig reads from stdin. &quot;translationunit&quot; is the start rule name of the [CPP14.g4][2] grammar file I use.\r\n\r\n 2. Via Java \r\n\r\nI used parts of code found in the TestRig.java file. Let&#39;s suppose again that we have a string of C++ source code from which we want to produce the AST (you can also read directly from a file).\r\n\r\n    String source_code = &quot;...your cpp source code...&quot;;\r\n    \r\n    CodePointCharStream stream_from_string = CharStreams.fromString(source_code);\r\n    CPP14Lexer lexer = new CPP14Lexer(new ANTLRInputStream(source_code));\r\n    CommonTokenStream tokens = new CommonTokenStream(lexer);\r\n    CPP14Parser parser = new CPP14Parser(tokens);\r\n    \r\n    String parserName = &quot;CPP14Parser&quot;;\r\n    ClassLoader cl = Thread.currentThread().getContextClassLoader();\r\n    Class&lt;? extends Parser&gt; parserClass = null;\r\n    parserClass = cl.loadClass(parserName).asSubclass(Parser.class);\r\n    \r\n    String startRuleName = &quot;translationunit&quot;; //as specified in my CPP14.g4 file\r\n    Method startRule = parserClass.getMethod(startRuleName);\r\n    ParserRuleContext tree = (ParserRuleContext)startRule.invoke(parser, (Object[])null);\r\n    System.out.println(tree.toStringTree(parser));\r\n\r\nMy imports are:\r\n\r\n    import java.lang.reflect.Method;\r\n    import org.antlr.v4.runtime.CommonTokenStream;\r\n    import org.antlr.v4.runtime.CharStreams;\r\n    import org.antlr.v4.runtime.CodePointCharStream;\r\n    import org.antlr.v4.runtime.ANTLRInputStream;\r\n    import org.antlr.v4.runtime.ParserRuleContext;\r\n    import org.antlr.v4.runtime.Parser;\r\n\r\nAll these require that you have produced the necessary files (lexer, parser etc) with the command `java -jar yournaltrfile.jar yourgrammar.g4` and that you have then compiled all the *.java files.\n\r\n\r\n  [1]: https://github.com/antlr/antlr4/blob/master/tool/src/org/antlr/v4/gui/TestRig.java\r\n  [2]: https://github.com/boot-print/grammars-v4/tree/84a145590f265ccadcca912d8c47f3affa9594d8/cpp","title":"How to create AST with ANTLR4?","body":"<p>I have found two simple ways, focused on the functionality available in the <a href=\"https://github.com/antlr/antlr4/blob/master/tool/src/org/antlr/v4/gui/TestRig.java\" rel=\"nofollow noreferrer\">TestRig.java</a> file of antlr4.</p>\n<ol>\n<li>Via terminal</li>\n</ol>\n<p>This is my example for parsing C++ with the corresponding CPP14.g4 grammar file\n<code>java -cp .:antlr-4.9-complete.jar org.antlr.v4.gui.TestRig CPP14 translationunit -tree filename.cpp</code>. If you omit the filename.cpp, the rig reads from stdin. &quot;translationunit&quot; is the start rule name of the <a href=\"https://github.com/boot-print/grammars-v4/tree/84a145590f265ccadcca912d8c47f3affa9594d8/cpp\" rel=\"nofollow noreferrer\">CPP14.g4</a> grammar file I use.</p>\n<ol start=\"2\">\n<li>Via Java</li>\n</ol>\n<p>I used parts of code found in the TestRig.java file. Let's suppose again that we have a string of C++ source code from which we want to produce the AST (you can also read directly from a file).</p>\n<pre><code>String source_code = &quot;...your cpp source code...&quot;;\n\nCodePointCharStream stream_from_string = CharStreams.fromString(source_code);\nCPP14Lexer lexer = new CPP14Lexer(new ANTLRInputStream(source_code));\nCommonTokenStream tokens = new CommonTokenStream(lexer);\nCPP14Parser parser = new CPP14Parser(tokens);\n\nString parserName = &quot;CPP14Parser&quot;;\nClassLoader cl = Thread.currentThread().getContextClassLoader();\nClass&lt;? extends Parser&gt; parserClass = null;\nparserClass = cl.loadClass(parserName).asSubclass(Parser.class);\n\nString startRuleName = &quot;translationunit&quot;; //as specified in my CPP14.g4 file\nMethod startRule = parserClass.getMethod(startRuleName);\nParserRuleContext tree = (ParserRuleContext)startRule.invoke(parser, (Object[])null);\nSystem.out.println(tree.toStringTree(parser));\n</code></pre>\n<p>My imports are:</p>\n<pre><code>import java.lang.reflect.Method;\nimport org.antlr.v4.runtime.CommonTokenStream;\nimport org.antlr.v4.runtime.CharStreams;\nimport org.antlr.v4.runtime.CodePointCharStream;\nimport org.antlr.v4.runtime.ANTLRInputStream;\nimport org.antlr.v4.runtime.ParserRuleContext;\nimport org.antlr.v4.runtime.Parser;\n</code></pre>\n<p>All these require that you have produced the necessary files (lexer, parser etc) with the command <code>java -jar yournaltrfile.jar yourgrammar.g4</code> and that you have then compiled all the *.java files.</p>\n"},{"tags":[],"owner":{"account_id":1192012,"reputation":1519,"user_id":1164553,"accept_rate":25,"display_name":"jmkg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677229676,"creation_date":1677142612,"answer_id":75542515,"question_id":29971097,"body_markdown":"I&#39;ve converted the code of Terrence Parr&#39;s book &quot;Language Implementation Pattern&quot; for the pattern &quot;Tree Grammar&quot; which is based on antlr 3 ([source-code][1] under tpdsl-code/walking/tree-grammar) to antlr 4 using a Visitor and the &quot;Homogeneous AST&quot; pattern.\r\n\r\n## Here is the grammar: ##\r\n#### VecMath.g4 ####\r\n\r\n```\r\n// START: header\r\ngrammar VecMath;\r\ntokens { VEC }       // define imaginary token for vector literal\r\n// END: header\r\n\r\n// START: stat\r\nprog:   stat+ ;              // build list of stat trees\r\nstat:   ID assign=&#39;=&#39; expr  #StatAssign // &#39;=&#39; is operator subtree root\r\n    |   print=&#39;print&#39; expr  #StatPrint  // &#39;print&#39; is subtree root\r\n    ;\r\n// END: stat\r\n\r\n// START: expr\r\nexpr: left=expr op=(&#39;*&#39;|&#39;.&#39;) right=expr #ExprMult // &#39;*&#39;, &#39;.&#39; are roots\r\n    | left=expr op=&#39;+&#39; right=expr       #ExprAdd  // &#39;+&#39; is root node\r\n    | &#39;[&#39; expr (&#39;,&#39; expr)* &#39;]&#39;    #ExprVec  // VEC is root\r\n    | INT                               #ExprInt\r\n    | ID                                #ExprId\r\n    ;\r\n// END: expr\r\n\r\nID  :   &#39;a&#39;..&#39;z&#39;+ ;\r\nINT :   &#39;0&#39;..&#39;9&#39;+ ;\r\nWS  :   (&#39; &#39;|&#39;\\r&#39;|&#39;\\n&#39;)+ -&gt; skip ;\r\n```\r\n\r\n## The Visitor ##\r\n\r\n```\r\npackage walking.v4.vecmath_ast.impl;\r\n\r\nimport org.antlr.v4.runtime.CommonToken;\r\n\r\nimport walking.v4.vecmath_ast.antlr.VecMathBaseVisitor;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprAddContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprIdContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprIntContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprMultContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprVecContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ProgContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.StatAssignContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.StatContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser.StatPrintContext;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser;\r\n\r\n\r\npublic class VecMathBuildASTVisitor extends VecMathBaseVisitor&lt;AST&gt; {\r\n    @Override\r\n    public AST visitProg(ProgContext ctx) {\r\n        AST ast = new AST();\r\n        for (StatContext stmt : ctx.stat()) {\r\n            ast.addChild(visit(stmt));\r\n        }\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitStatAssign(StatAssignContext ctx) {\r\n        AST ast = new AST(ctx.assign);\r\n\r\n        ast.addChild(new AST(ctx.ID().getSymbol()));\r\n        ast.addChild(visit(ctx.expr()));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitStatPrint(StatPrintContext ctx) {\r\n        AST ast = new AST(ctx.print);\r\n        ast.addChild(visit(ctx.expr()));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitExprMult(ExprMultContext ctx) {\r\n        AST ast = new AST(ctx.op);\r\n        ast.addChild(visit(ctx.left));\r\n        ast.addChild(visit(ctx.right));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitExprAdd(ExprAddContext ctx) {\r\n        AST ast = new AST(ctx.op);\r\n        ast.addChild(visit(ctx.left));\r\n        ast.addChild(visit(ctx.right));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitExprVec(ExprVecContext ctx) {\r\n        AST ast = new AST(new CommonToken(VecMathParser.VEC, &quot;VEC&quot;));\r\n        for (ExprContext expr : ctx.expr()) {\r\n            ast.addChild(visit(expr));\r\n        }\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitExprId(ExprIdContext ctx) {\r\n        AST ast = new AST(ctx.ID().getSymbol());\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitExprInt(ExprIntContext ctx) {\r\n        AST ast = new AST(ctx.INT().getSymbol());\r\n        return ast;\r\n    }\r\n}\r\n```\r\n## The AST ##\r\n\r\nEssentially just adjusted the Tokens compared to the original version in tpdsl-code/IR/Homo \r\n\r\n```\r\npackage  walking.v4.vecmath_ast.impl;\r\n\r\nimport org.antlr.v4.runtime.CommonToken;\r\nimport org.antlr.v4.runtime.Token;\r\n\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n// Homogenous AST node type \r\npublic class AST {\r\n   Token token;             // from which token do we create this node?\r\n   List&lt;AST&gt; children;      // normalized list of children \r\n\r\n   public AST() { ; } // for making nil-rooted nodes\r\n\r\n   public AST(Token token) { this.token = token; }\r\n\r\n   /** Create node from token type; used mainly for imaginary tokens */\r\n   public AST(int tokenType) { this.token = new CommonToken(tokenType); }\r\n\r\n   /** external visitors execute the same action for all nodes\r\n    * with same node type while walking\r\n    */\r\n    public int getNodeType() { return token.getType(); }\r\n\r\n    public void addChild(AST t) {\r\n        if (children == null) children = new ArrayList&lt;&gt;();\r\n        children.add(t);\r\n    }\r\n\r\n    public List&lt;AST&gt; getChildren() { return children; }\r\n    \r\n    /** to represent flat lists. A list is a subtree w/o a root, which we simulate\r\n     * with a nil root node. A nil node is a node with token == null.\r\n     */\r\n    public boolean isNil() { return token == null; }\r\n\r\n    /** Compute string for single node */\r\n    public String toString() { \r\n        String typeName = VecMathParser.VOCABULARY.getSymbolicName(getNodeType());\r\n        typeName = typeName == null ? token.getText() : typeName;\r\n        return token != null ? &quot;&lt;&quot; +typeName +&quot;, &#39;&quot; + token.getText() +&quot;&#39;&gt;&quot;: &quot;nil&quot;; \r\n    }\r\n\r\n    /** Compute string for a whole tree */\r\n    public String toStringTree() {\r\n        if (children == null || children.size() == 0) return this.toString();\r\n\r\n        StringBuffer buf = new StringBuffer();\r\n        if (!isNil()) {\r\n           buf.append(&#39;(&#39;);\r\n           buf.append(this.toString());\r\n           buf.append(&#39; &#39;);\r\n        }\r\n        for (int i = 0; i &lt; children.size(); i++) {\r\n            AST t = (AST) children.get(i); // normalized (unnamed) children\r\n            if (i&gt;0) buf.append(&#39; &#39;);\r\n            buf.append(t.toStringTree());\r\n        }\r\n        if (!isNil()) buf.append(&#39;)&#39;);\r\n        return buf.toString();\r\n    }\r\n}\r\n```\r\n## The Test class ##\r\n```\r\npackage walking.v4.vecmath_ast;\r\n\r\nimport org.antlr.v4.runtime.CommonTokenStream;\r\nimport org.antlr.v4.runtime.tree.ParseTree;\r\nimport org.antlr.v4.runtime.CharStream;\r\nimport org.antlr.v4.runtime.CharStreams;\r\n\r\nimport walking.v4.vecmath_ast.antlr.VecMathLexer;\r\nimport walking.v4.vecmath_ast.antlr.VecMathParser;\r\n\r\nimport walking.v4.vecmath_ast.impl.AST;\r\nimport walking.v4.vecmath_ast.impl.VecMathBuildASTVisitor;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws Exception {\r\n        CharStream input = CharStreams.fromFileName(args[0]);\r\n        VecMathLexer lexer = new VecMathLexer(input);\r\n\r\n        CommonTokenStream tokens = new CommonTokenStream(lexer);\r\n        VecMathParser parser = new VecMathParser(tokens);\r\n\r\n        ParseTree tree = parser.prog();\r\n\r\n        for (AST ast : new VecMathBuildASTVisitor().visit(tree).getChildren()) {\r\n            System.out.println(ast.toStringTree());\r\n        }\r\n    } \r\n}\r\n```\r\n\r\n## Test input ##\r\n```\r\nx = 3 + 4\r\ny = 3 + 4 + 5\r\na = 3 * 4\r\na = 3 * 4 * 5\r\nc = 3 * 4 + 5\r\nprint x * [2, 3, 4]\r\nprint x * [2+5, 3, 4]\r\n```\r\nyields:\r\n```\r\n(&lt;=, &#39;=&#39;&gt; &lt;ID, &#39;x&#39;&gt; (&lt;+, &#39;+&#39;&gt; &lt;INT, &#39;3&#39;&gt; &lt;INT, &#39;4&#39;&gt;))\r\n(&lt;=, &#39;=&#39;&gt; &lt;ID, &#39;y&#39;&gt; (&lt;+, &#39;+&#39;&gt; (&lt;+, &#39;+&#39;&gt; &lt;INT, &#39;3&#39;&gt; &lt;INT, &#39;4&#39;&gt;) &lt;INT, &#39;5&#39;&gt;))\r\n(&lt;=, &#39;=&#39;&gt; &lt;ID, &#39;a&#39;&gt; (&lt;*, &#39;*&#39;&gt; &lt;INT, &#39;3&#39;&gt; &lt;INT, &#39;4&#39;&gt;))\r\n(&lt;=, &#39;=&#39;&gt; &lt;ID, &#39;a&#39;&gt; (&lt;*, &#39;*&#39;&gt; (&lt;*, &#39;*&#39;&gt; &lt;INT, &#39;3&#39;&gt; &lt;INT, &#39;4&#39;&gt;) &lt;INT, &#39;5&#39;&gt;))\r\n(&lt;=, &#39;=&#39;&gt; &lt;ID, &#39;c&#39;&gt; (&lt;+, &#39;+&#39;&gt; (&lt;*, &#39;*&#39;&gt; &lt;INT, &#39;3&#39;&gt; &lt;INT, &#39;4&#39;&gt;) &lt;INT, &#39;5&#39;&gt;))\r\n(&lt;print, &#39;print&#39;&gt; (&lt;*, &#39;*&#39;&gt; &lt;ID, &#39;x&#39;&gt; (&lt;VEC, &#39;VEC&#39;&gt; &lt;INT, &#39;2&#39;&gt; &lt;INT, &#39;3&#39;&gt; &lt;INT, &#39;4&#39;&gt;)))\r\n(&lt;print, &#39;print&#39;&gt; (&lt;*, &#39;*&#39;&gt; &lt;ID, &#39;x&#39;&gt; (&lt;VEC, &#39;VEC&#39;&gt; (&lt;+, &#39;+&#39;&gt; &lt;INT, &#39;2&#39;&gt; &lt;INT, &#39;5&#39;&gt;) &lt;INT, &#39;3&#39;&gt; &lt;INT, &#39;4&#39;&gt;)))\r\n```\r\n\r\n\r\n\r\n  [1]: https://pragprog.com/titles/tpdsl/language-implementation-patterns/","title":"How to create AST with ANTLR4?","body":"<p>I've converted the code of Terrence Parr's book &quot;Language Implementation Pattern&quot; for the pattern &quot;Tree Grammar&quot; which is based on antlr 3 (<a href=\"https://pragprog.com/titles/tpdsl/language-implementation-patterns/\" rel=\"nofollow noreferrer\">source-code</a> under tpdsl-code/walking/tree-grammar) to antlr 4 using a Visitor and the &quot;Homogeneous AST&quot; pattern.</p>\n<h2>Here is the grammar:</h2>\n<h4>VecMath.g4</h4>\n<pre><code>// START: header\ngrammar VecMath;\ntokens { VEC }       // define imaginary token for vector literal\n// END: header\n\n// START: stat\nprog:   stat+ ;              // build list of stat trees\nstat:   ID assign='=' expr  #StatAssign // '=' is operator subtree root\n    |   print='print' expr  #StatPrint  // 'print' is subtree root\n    ;\n// END: stat\n\n// START: expr\nexpr: left=expr op=('*'|'.') right=expr #ExprMult // '*', '.' are roots\n    | left=expr op='+' right=expr       #ExprAdd  // '+' is root node\n    | '[' expr (',' expr)* ']'    #ExprVec  // VEC is root\n    | INT                               #ExprInt\n    | ID                                #ExprId\n    ;\n// END: expr\n\nID  :   'a'..'z'+ ;\nINT :   '0'..'9'+ ;\nWS  :   (' '|'\\r'|'\\n')+ -&gt; skip ;\n</code></pre>\n<h2>The Visitor</h2>\n<pre><code>package walking.v4.vecmath_ast.impl;\n\nimport org.antlr.v4.runtime.CommonToken;\n\nimport walking.v4.vecmath_ast.antlr.VecMathBaseVisitor;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprAddContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprIdContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprIntContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprMultContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ExprVecContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.ProgContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.StatAssignContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.StatContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser.StatPrintContext;\nimport walking.v4.vecmath_ast.antlr.VecMathParser;\n\n\npublic class VecMathBuildASTVisitor extends VecMathBaseVisitor&lt;AST&gt; {\n    @Override\n    public AST visitProg(ProgContext ctx) {\n        AST ast = new AST();\n        for (StatContext stmt : ctx.stat()) {\n            ast.addChild(visit(stmt));\n        }\n        return ast;\n    }\n\n    @Override\n    public AST visitStatAssign(StatAssignContext ctx) {\n        AST ast = new AST(ctx.assign);\n\n        ast.addChild(new AST(ctx.ID().getSymbol()));\n        ast.addChild(visit(ctx.expr()));\n        return ast;\n    }\n\n    @Override\n    public AST visitStatPrint(StatPrintContext ctx) {\n        AST ast = new AST(ctx.print);\n        ast.addChild(visit(ctx.expr()));\n        return ast;\n    }\n\n    @Override\n    public AST visitExprMult(ExprMultContext ctx) {\n        AST ast = new AST(ctx.op);\n        ast.addChild(visit(ctx.left));\n        ast.addChild(visit(ctx.right));\n        return ast;\n    }\n\n    @Override\n    public AST visitExprAdd(ExprAddContext ctx) {\n        AST ast = new AST(ctx.op);\n        ast.addChild(visit(ctx.left));\n        ast.addChild(visit(ctx.right));\n        return ast;\n    }\n\n    @Override\n    public AST visitExprVec(ExprVecContext ctx) {\n        AST ast = new AST(new CommonToken(VecMathParser.VEC, &quot;VEC&quot;));\n        for (ExprContext expr : ctx.expr()) {\n            ast.addChild(visit(expr));\n        }\n        return ast;\n    }\n\n    @Override\n    public AST visitExprId(ExprIdContext ctx) {\n        AST ast = new AST(ctx.ID().getSymbol());\n        return ast;\n    }\n\n    @Override\n    public AST visitExprInt(ExprIntContext ctx) {\n        AST ast = new AST(ctx.INT().getSymbol());\n        return ast;\n    }\n}\n</code></pre>\n<h2>The AST</h2>\n<p>Essentially just adjusted the Tokens compared to the original version in tpdsl-code/IR/Homo</p>\n<pre><code>package  walking.v4.vecmath_ast.impl;\n\nimport org.antlr.v4.runtime.CommonToken;\nimport org.antlr.v4.runtime.Token;\n\nimport walking.v4.vecmath_ast.antlr.VecMathParser;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n// Homogenous AST node type \npublic class AST {\n   Token token;             // from which token do we create this node?\n   List&lt;AST&gt; children;      // normalized list of children \n\n   public AST() { ; } // for making nil-rooted nodes\n\n   public AST(Token token) { this.token = token; }\n\n   /** Create node from token type; used mainly for imaginary tokens */\n   public AST(int tokenType) { this.token = new CommonToken(tokenType); }\n\n   /** external visitors execute the same action for all nodes\n    * with same node type while walking\n    */\n    public int getNodeType() { return token.getType(); }\n\n    public void addChild(AST t) {\n        if (children == null) children = new ArrayList&lt;&gt;();\n        children.add(t);\n    }\n\n    public List&lt;AST&gt; getChildren() { return children; }\n    \n    /** to represent flat lists. A list is a subtree w/o a root, which we simulate\n     * with a nil root node. A nil node is a node with token == null.\n     */\n    public boolean isNil() { return token == null; }\n\n    /** Compute string for single node */\n    public String toString() { \n        String typeName = VecMathParser.VOCABULARY.getSymbolicName(getNodeType());\n        typeName = typeName == null ? token.getText() : typeName;\n        return token != null ? &quot;&lt;&quot; +typeName +&quot;, '&quot; + token.getText() +&quot;'&gt;&quot;: &quot;nil&quot;; \n    }\n\n    /** Compute string for a whole tree */\n    public String toStringTree() {\n        if (children == null || children.size() == 0) return this.toString();\n\n        StringBuffer buf = new StringBuffer();\n        if (!isNil()) {\n           buf.append('(');\n           buf.append(this.toString());\n           buf.append(' ');\n        }\n        for (int i = 0; i &lt; children.size(); i++) {\n            AST t = (AST) children.get(i); // normalized (unnamed) children\n            if (i&gt;0) buf.append(' ');\n            buf.append(t.toStringTree());\n        }\n        if (!isNil()) buf.append(')');\n        return buf.toString();\n    }\n}\n</code></pre>\n<h2>The Test class</h2>\n<pre><code>package walking.v4.vecmath_ast;\n\nimport org.antlr.v4.runtime.CommonTokenStream;\nimport org.antlr.v4.runtime.tree.ParseTree;\nimport org.antlr.v4.runtime.CharStream;\nimport org.antlr.v4.runtime.CharStreams;\n\nimport walking.v4.vecmath_ast.antlr.VecMathLexer;\nimport walking.v4.vecmath_ast.antlr.VecMathParser;\n\nimport walking.v4.vecmath_ast.impl.AST;\nimport walking.v4.vecmath_ast.impl.VecMathBuildASTVisitor;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        CharStream input = CharStreams.fromFileName(args[0]);\n        VecMathLexer lexer = new VecMathLexer(input);\n\n        CommonTokenStream tokens = new CommonTokenStream(lexer);\n        VecMathParser parser = new VecMathParser(tokens);\n\n        ParseTree tree = parser.prog();\n\n        for (AST ast : new VecMathBuildASTVisitor().visit(tree).getChildren()) {\n            System.out.println(ast.toStringTree());\n        }\n    } \n}\n</code></pre>\n<h2>Test input</h2>\n<pre><code>x = 3 + 4\ny = 3 + 4 + 5\na = 3 * 4\na = 3 * 4 * 5\nc = 3 * 4 + 5\nprint x * [2, 3, 4]\nprint x * [2+5, 3, 4]\n</code></pre>\n<p>yields:</p>\n<pre><code>(&lt;=, '='&gt; &lt;ID, 'x'&gt; (&lt;+, '+'&gt; &lt;INT, '3'&gt; &lt;INT, '4'&gt;))\n(&lt;=, '='&gt; &lt;ID, 'y'&gt; (&lt;+, '+'&gt; (&lt;+, '+'&gt; &lt;INT, '3'&gt; &lt;INT, '4'&gt;) &lt;INT, '5'&gt;))\n(&lt;=, '='&gt; &lt;ID, 'a'&gt; (&lt;*, '*'&gt; &lt;INT, '3'&gt; &lt;INT, '4'&gt;))\n(&lt;=, '='&gt; &lt;ID, 'a'&gt; (&lt;*, '*'&gt; (&lt;*, '*'&gt; &lt;INT, '3'&gt; &lt;INT, '4'&gt;) &lt;INT, '5'&gt;))\n(&lt;=, '='&gt; &lt;ID, 'c'&gt; (&lt;+, '+'&gt; (&lt;*, '*'&gt; &lt;INT, '3'&gt; &lt;INT, '4'&gt;) &lt;INT, '5'&gt;))\n(&lt;print, 'print'&gt; (&lt;*, '*'&gt; &lt;ID, 'x'&gt; (&lt;VEC, 'VEC'&gt; &lt;INT, '2'&gt; &lt;INT, '3'&gt; &lt;INT, '4'&gt;)))\n(&lt;print, 'print'&gt; (&lt;*, '*'&gt; &lt;ID, 'x'&gt; (&lt;VEC, 'VEC'&gt; (&lt;+, '+'&gt; &lt;INT, '2'&gt; &lt;INT, '5'&gt;) &lt;INT, '3'&gt; &lt;INT, '4'&gt;)))\n</code></pre>\n"}],"owner":{"account_id":3007035,"reputation":1134,"user_id":2551338,"accept_rate":83,"display_name":"Leandro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56398,"favorite_count":0,"down_vote_count":1,"up_vote_count":92,"accepted_answer_id":29996191,"answer_count":4,"score":91,"last_activity_date":1677229676,"creation_date":1430405919,"question_id":29971097,"body_markdown":"I&#39;ve been searching A LOT about this and I couldn&#39;t find anything useful that REALLY helps me build an AST. I already know that ANTLR4 doesn&#39;t build AST like ANTLR3 used to do. Everyone say: &quot;Hey, use visitors!&quot;, but I couldn&#39;t find any example or more detailed explanation on HOW can I do this...\r\n\r\nI have a grammar must like C, but with every commands written in Portuguese (portuga programming language). I can easily generate the parse tree using ANTLR4. My question is: What I need to do now to create an AST?\r\n\r\nBTW, I&#39;m using Java and IntelliJ...\r\n\r\n**EDIT1:** The closest I could get was using the answer of this topic: [Is there a simple example of using antlr4 to create an AST from java source code and extract methods, variables and comments?][1]\r\nBut it only prints the name of the visited methods..\r\n\r\nSince the first attempt didn&#39;t work for me as I expected, I tried to use [this tutorial][2] from ANTLR3, but I couldn&#39;t figure out how to use StringTamplate instead of ST...\r\n\r\nReading the book [The Definitive ANTLR 4 Reference][3] I also couldn&#39;t find anything related to ASTs.\r\n\r\n**EDIT2:** Now I have one class to create the DOT file, I just need figure out on how to use visitors properly \r\n\r\n  [1]: https://stackoverflow.com/questions/21534316/is-there-a-simple-example-of-using-antlr4-to-create-an-ast-from-java-source-code?lq=1\r\n  [2]: http://bkiers.blogspot.com.br/2011/03/5-building-ast.html\r\n  [3]: https://pragprog.com/book/tpantlr2/the-definitive-antlr-4-reference","title":"How to create AST with ANTLR4?","body":"<p>I've been searching A LOT about this and I couldn't find anything useful that REALLY helps me build an AST. I already know that ANTLR4 doesn't build AST like ANTLR3 used to do. Everyone say: \"Hey, use visitors!\", but I couldn't find any example or more detailed explanation on HOW can I do this...</p>\n\n<p>I have a grammar must like C, but with every commands written in Portuguese (portuga programming language). I can easily generate the parse tree using ANTLR4. My question is: What I need to do now to create an AST?</p>\n\n<p>BTW, I'm using Java and IntelliJ...</p>\n\n<p><strong>EDIT1:</strong> The closest I could get was using the answer of this topic: <a href=\"https://stackoverflow.com/questions/21534316/is-there-a-simple-example-of-using-antlr4-to-create-an-ast-from-java-source-code?lq=1\">Is there a simple example of using antlr4 to create an AST from java source code and extract methods, variables and comments?</a>\nBut it only prints the name of the visited methods..</p>\n\n<p>Since the first attempt didn't work for me as I expected, I tried to use <a href=\"http://bkiers.blogspot.com.br/2011/03/5-building-ast.html\" rel=\"noreferrer\">this tutorial</a> from ANTLR3, but I couldn't figure out how to use StringTamplate instead of ST...</p>\n\n<p>Reading the book <a href=\"https://pragprog.com/book/tpantlr2/the-definitive-antlr-4-reference\" rel=\"noreferrer\">The Definitive ANTLR 4 Reference</a> I also couldn't find anything related to ASTs.</p>\n\n<p><strong>EDIT2:</strong> Now I have one class to create the DOT file, I just need figure out on how to use visitors properly </p>\n"},{"tags":["java","xml","ejb"],"answers":[{"tags":[],"owner":{"account_id":2324029,"reputation":172,"user_id":2038948,"display_name":"Andr&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677229627,"creation_date":1677229627,"answer_id":75554563,"question_id":75396537,"body_markdown":"I found the solution\r\n\r\n            &lt;ejb-local-ref&gt;\r\n                &lt;ejb-ref-name&gt;&lt;classname&gt;/&lt;probertyname&gt;\r\n                &lt;/ejb-ref-name&gt;\r\n                &lt;local&gt;&lt;classname&gt;&lt;/local&gt;\r\n                &lt;ejb-link&gt;&lt;ejb-refname of linked ejb&gt;&lt;/ejb-link&gt;\r\n            &lt;/ejb-local-ref&gt;\r\n\r\nmy error was that i didtn declared a local tag .. i thought .. hey i have a no interface bean  , why do i have to declare the type another time .. ","title":"Configurate Injection of no inferface view beans in other MDB Bean by xml","body":"<p>I found the solution</p>\n<pre><code>        &lt;ejb-local-ref&gt;\n            &lt;ejb-ref-name&gt;&lt;classname&gt;/&lt;probertyname&gt;\n            &lt;/ejb-ref-name&gt;\n            &lt;local&gt;&lt;classname&gt;&lt;/local&gt;\n            &lt;ejb-link&gt;&lt;ejb-refname of linked ejb&gt;&lt;/ejb-link&gt;\n        &lt;/ejb-local-ref&gt;\n</code></pre>\n<p>my error was that i didtn declared a local tag .. i thought .. hey i have a no interface bean  , why do i have to declare the type another time ..</p>\n"}],"owner":{"account_id":2324029,"reputation":172,"user_id":2038948,"display_name":"Andr&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677229627,"creation_date":1675934618,"question_id":75396537,"body_markdown":"I have an MDB which needs other No Interface View Beans (Stateless Sessions beans)\r\nunfortnately i have to do the injection via XML (ejb-jar.xml) Does anybody has a hint to achieve that in Java EE 8 (EJB 3.2). With Annotations all is working fine ..\r\n```java\r\n    @Interceptors(LoggingInterceptor.class)\r\n@MessageDriven(activationConfig = {\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;jms/P76MQ$4bd3dc121fdd4ae5a0730e990a4d14c0&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;messageSelector&quot;, propertyValue = &quot;MandantenId = &#39;4bd3dc121fdd4ae5a0730e990a4d14c0&#39;&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;maxMessagesPerSessions&lt;&quot;, propertyValue = &quot;100&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;maxSessions&quot;, propertyValue = &quot;1000&quot;) })\r\npublic class Protokollierung implements MessageListener {\r\n\r\n\r\n\t@EJB\r\n\tprivate PersonenIndexRepository personenIndexRepository;\r\n\r\n\t@EJB\r\n\tprivate BearbeitungsFehlerRepository bearbeitungsFehlerRepository;\r\n\r\n\t@EJB\r\n\tprivate PersonenIndexStandardisierung personenIndexStandardisierung;\r\n\r\n\t@EJB\r\n\tprivate ErmittlungFachdatenAenderungen ermittlungFachdatenAenderungen;\r\n\t@EJB\r\n\tprivate TransaktionsProtokollRepository transaktionsProtokollRepository;\r\n\r\n\t@Resource\r\n\tprivate String mandantenId;\r\n\r\n\tpublic Protokollierung() {\r\n\r\n\t}\r\n\r\n\r\n\t@PreDestroy\r\n\tpublic void runterfahren() {\r\n\t\tthis.schema = null;\r\n\t\tthis.mapper = null;\r\n\t\tMDC.clear();\r\n\t}\r\n\r\n\t@Override\r\n\t@TransactionAttribute(TransactionAttributeType.REQUIRED)\r\n\tpublic void onMessage(Message message) {\r\n\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n\t\t&lt;message-driven&gt;\r\nHow to reference this ejbs ? \r\ni found something about ejb-local-ref .. how does it work ??\r\n\t\t&lt;/message-driven&gt;\r\n\r\n```\r\n\r\n\r\ngreets Andr&#233; ","title":"Configurate Injection of no inferface view beans in other MDB Bean by xml","body":"<p>I have an MDB which needs other No Interface View Beans (Stateless Sessions beans)\nunfortnately i have to do the injection via XML (ejb-jar.xml) Does anybody has a hint to achieve that in Java EE 8 (EJB 3.2). With Annotations all is working fine ..</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Interceptors(LoggingInterceptor.class)\n@MessageDriven(activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;jms/P76MQ$4bd3dc121fdd4ae5a0730e990a4d14c0&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\n        @ActivationConfigProperty(propertyName = &quot;messageSelector&quot;, propertyValue = &quot;MandantenId = '4bd3dc121fdd4ae5a0730e990a4d14c0'&quot;),\n        @ActivationConfigProperty(propertyName = &quot;maxMessagesPerSessions&lt;&quot;, propertyValue = &quot;100&quot;),\n        @ActivationConfigProperty(propertyName = &quot;maxSessions&quot;, propertyValue = &quot;1000&quot;) })\npublic class Protokollierung implements MessageListener {\n\n\n    @EJB\n    private PersonenIndexRepository personenIndexRepository;\n\n    @EJB\n    private BearbeitungsFehlerRepository bearbeitungsFehlerRepository;\n\n    @EJB\n    private PersonenIndexStandardisierung personenIndexStandardisierung;\n\n    @EJB\n    private ErmittlungFachdatenAenderungen ermittlungFachdatenAenderungen;\n    @EJB\n    private TransaktionsProtokollRepository transaktionsProtokollRepository;\n\n    @Resource\n    private String mandantenId;\n\n    public Protokollierung() {\n\n    }\n\n\n    @PreDestroy\n    public void runterfahren() {\n        this.schema = null;\n        this.mapper = null;\n        MDC.clear();\n    }\n\n    @Override\n    @TransactionAttribute(TransactionAttributeType.REQUIRED)\n    public void onMessage(Message message) {\n\n\n    }\n\n}\n\n</code></pre>\n<pre><code>        &lt;message-driven&gt;\nHow to reference this ejbs ? \ni found something about ejb-local-ref .. how does it work ??\n        &lt;/message-driven&gt;\n\n</code></pre>\n<p>greets Andr</p>\n"},{"tags":["java","nullpointerexception","subquery","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1677158985,"post_id":75543314,"comment_id":133285199,"body_markdown":"Can you show the SQL query that you&#39;d like to get as output? Also, from your example, I don&#39;t see why you&#39;d create a subquery like that. The outer query doesn&#39;t do anything other than aggregating, so the subquery can be inlined. Maybe, your actual query does a bit more?","body":"Can you show the SQL query that you&#39;d like to get as output? Also, from your example, I don&#39;t see why you&#39;d create a subquery like that. The outer query doesn&#39;t do anything other than aggregating, so the subquery can be inlined. Maybe, your actual query does a bit more?"},{"owner":{"account_id":27859072,"reputation":25,"user_id":21271985,"display_name":"Vipul"},"score":0,"creation_date":1677176413,"post_id":75543314,"comment_id":133291150,"body_markdown":"Please refer to the sample query here [query](https://stackoverflow.com/questions/75547771/how-to-write-nested-sql-query-in-jooq-with-sum-operation-in-select). Also how can we aggregate the the values from the inner query ?","body":"Please refer to the sample query here <a href=\"https://stackoverflow.com/questions/75547771/how-to-write-nested-sql-query-in-jooq-with-sum-operation-in-select\">query</a>. Also how can we aggregate the the values from the inner query ?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677229477,"creation_date":1677229477,"answer_id":75554538,"question_id":75543314,"body_markdown":"## Using derived tables\r\n\r\nAs I [answered to your follow-up question][1], I don&#39;t think you really need the derived table. You&#39;ll simplify your life greatly, if you just remove it.\r\n\r\n## Dereferencing columns from a derived table\r\n\r\nIf your actual query is more complex than the one you&#39;ve presented here, you&#39;ll have to dereference columns from your derived table like this:\r\n\r\n```java\r\n// Dereference first:\r\nField&lt;String&gt; status = orgWiseCountTable.field(&quot;status&quot;, String.class);\r\n\r\n// Alternatively, dereference using generaetd code for added convenience:\r\nField&lt;String&gt; status = orgWiseCountTable.field(THE_TABLE.STATUS);\r\n\r\n// Then use in expressions:\r\nDSL.count().filterWhere(status.eq(&quot;Completed&quot;)).as(&quot;SuccessCount&quot;);\r\n```\r\n\r\n## Aggregate filter clause\r\n\r\nNote, I&#39;m using [`FILTER`][2] instead, which is a standard SQL feature. This will be a bit more convenient to write in jOOQ, than using the MySQL specific approach of mapping booleans to integers in order to sum them. `A.eq(B)` is a `Condition` in jOOQ, which extends `Field&lt;Boolean&gt;`, and you cannot really sum booleans.\r\n\r\n## Code generation\r\n\r\nThis isn&#39;t necessary relevant to your question, but I highly recommend you [start using jOOQ&#39;s code generator][3]. A lot of features will be unlocked by that, and your queries will be much simpler to write.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75554469/521799\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/aggregate-filter/\r\n  [3]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"How to write nested query in jooq with SUM operation from the subquery output?","body":"<h2>Using derived tables</h2>\n<p>As I <a href=\"https://stackoverflow.com/a/75554469/521799\">answered to your follow-up question</a>, I don't think you really need the derived table. You'll simplify your life greatly, if you just remove it.</p>\n<h2>Dereferencing columns from a derived table</h2>\n<p>If your actual query is more complex than the one you've presented here, you'll have to dereference columns from your derived table like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Dereference first:\nField&lt;String&gt; status = orgWiseCountTable.field(&quot;status&quot;, String.class);\n\n// Alternatively, dereference using generaetd code for added convenience:\nField&lt;String&gt; status = orgWiseCountTable.field(THE_TABLE.STATUS);\n\n// Then use in expressions:\nDSL.count().filterWhere(status.eq(&quot;Completed&quot;)).as(&quot;SuccessCount&quot;);\n</code></pre>\n<h2>Aggregate filter clause</h2>\n<p>Note, I'm using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/aggregate-filter/\" rel=\"nofollow noreferrer\"><code>FILTER</code></a> instead, which is a standard SQL feature. This will be a bit more convenient to write in jOOQ, than using the MySQL specific approach of mapping booleans to integers in order to sum them. <code>A.eq(B)</code> is a <code>Condition</code> in jOOQ, which extends <code>Field&lt;Boolean&gt;</code>, and you cannot really sum booleans.</p>\n<h2>Code generation</h2>\n<p>This isn't necessary relevant to your question, but I highly recommend you <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">start using jOOQ's code generator</a>. A lot of features will be unlocked by that, and your queries will be much simpler to write.</p>\n"}],"owner":{"account_id":27859072,"reputation":25,"user_id":21271985,"display_name":"Vipul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75554538,"answer_count":1,"score":0,"last_activity_date":1677229477,"creation_date":1677146990,"question_id":75543314,"body_markdown":"Let&#39;s say I want to find out the sum of one of the table from the nested subquery. Let&#39;s take the subquery given below. How to calculate the status count using `DSL.sum(when(condition))`\r\n\r\n```\r\nTable&lt;Record4&lt;Integer, Integer, String, String&gt;&gt; orgWiseCountTable = dsl.select(\r\n                         field(&quot;master_id&quot;, Integer.class).as(masterId),\r\n                         field(&quot;transaction_id&quot;, Integer.class).as(transactionId),\r\n                         field(&quot;api_status&quot;, String.class).as(status),\r\n                         field(&quot;Organisations.organisation_name&quot;,String.class).as(organisationName)\r\n            )\r\n                    .from(TestTable)\r\n\r\n                    .leftJoin(Organisations)\r\n\r\n                    .on(TestTable.organsiationId.eq(Organisations.organsiationId)\r\n\r\n                    .where(condition)\r\n\r\n                    .groupBy(TestTable.master_id).asTable(&quot;orgWiseCount&quot;);\r\n```\r\n Using the above Table record how can we calculate the sum of api_status depending on whether or not the value is **COMPLETED** or not.\r\n\r\nTrying the below approach but it isn&#39;t working.\r\n\r\n\r\n```\r\ntransactions = dsl.select(\r\n                    orgWiseCountTable.field(organisationName).as(&quot;OrganisationName&quot;),\r\n                    orgWiseCountTable.field(&quot;SUM(status = &#39;COMPLETED&#39;)&quot;).as(\r\n                                    &quot;SuccessCount&quot;),\r\n                    orgWiseCountTable.field(&quot;SUM(kyc_api_transaction_master.api_status &lt;&gt; &#39;COMPLETED&#39;)&quot;).as(\r\n                                    &quot;FailureCount&quot;),\r\n                    orgWiseCountTable.field(totalCount).as(&quot;TotalCount&quot;)\r\n                    )\r\n\r\n                    .from(orgWiseCountTable)\r\n                    .fetch()\r\n                    .into(Count.class);\r\n``` \r\n\r\n\r\n\r\nGetting Null pointer exception while calculating sum. How can this be fixed?\r\n","title":"How to write nested query in jooq with SUM operation from the subquery output?","body":"<p>Let's say I want to find out the sum of one of the table from the nested subquery. Let's take the subquery given below. How to calculate the status count using <code>DSL.sum(when(condition))</code></p>\n<pre><code>Table&lt;Record4&lt;Integer, Integer, String, String&gt;&gt; orgWiseCountTable = dsl.select(\n                         field(&quot;master_id&quot;, Integer.class).as(masterId),\n                         field(&quot;transaction_id&quot;, Integer.class).as(transactionId),\n                         field(&quot;api_status&quot;, String.class).as(status),\n                         field(&quot;Organisations.organisation_name&quot;,String.class).as(organisationName)\n            )\n                    .from(TestTable)\n\n                    .leftJoin(Organisations)\n\n                    .on(TestTable.organsiationId.eq(Organisations.organsiationId)\n\n                    .where(condition)\n\n                    .groupBy(TestTable.master_id).asTable(&quot;orgWiseCount&quot;);\n</code></pre>\n<p>Using the above Table record how can we calculate the sum of api_status depending on whether or not the value is <strong>COMPLETED</strong> or not.</p>\n<p>Trying the below approach but it isn't working.</p>\n<pre><code>transactions = dsl.select(\n                    orgWiseCountTable.field(organisationName).as(&quot;OrganisationName&quot;),\n                    orgWiseCountTable.field(&quot;SUM(status = 'COMPLETED')&quot;).as(\n                                    &quot;SuccessCount&quot;),\n                    orgWiseCountTable.field(&quot;SUM(kyc_api_transaction_master.api_status &lt;&gt; 'COMPLETED')&quot;).as(\n                                    &quot;FailureCount&quot;),\n                    orgWiseCountTable.field(totalCount).as(&quot;TotalCount&quot;)\n                    )\n\n                    .from(orgWiseCountTable)\n                    .fetch()\n                    .into(Count.class);\n</code></pre>\n<p>Getting Null pointer exception while calculating sum. How can this be fixed?</p>\n"},{"tags":["java","sql-server","spring","spring-data-jpa","spring-jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677165315,"post_id":75546463,"comment_id":133287513,"body_markdown":"What is it you are doing with the result? Do you really need all results in memory?","body":"What is it you are doing with the result? Do you really need all results in memory?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1677166456,"post_id":75546463,"comment_id":133287929,"body_markdown":"It&#39;s probably hangs when fetching the data. Or perhaps on GC if you have memory pressure. You can run JMC to see what your application threads are busy with. 10 mils rows x 10 fields is quite a lot of data, considering java objects usually take 24 bytes each and you have some strings there as well.","body":"It&#39;s probably hangs when fetching the data. Or perhaps on GC if you have memory pressure. You can run JMC to see what your application threads are busy with. 10 mils rows x 10 fields is quite a lot of data, considering java objects usually take 24 bytes each and you have some strings there as well."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677229444,"creation_date":1677229444,"answer_id":75554532,"question_id":75546463,"body_markdown":"Doing pagination might solve the problem, but you don&#39;t have to use JPA for this, nor would it help.\r\n\r\nAs discussed in the comments your problem is most likely that storing 14 million instances in memory needs a lot of memory.\r\nAnd of course, constructing those takes a lot of time.\r\n\r\nTherefore pagination would help by breaking the process down into chunks.\r\nBut you can do that easily with the current approach by simply incorporating offset and limit into the query. See https://stackoverflow.com/a/9261762/66686\r\n\r\nBut pagination can become slow on large tables and it might be more efficient to use [key based pagination][1]. Where you select n rows per batch ordered by primary key and on the next batch select the first n rows after the last id value of the previous batch.\r\n\r\nAn alternative that might work even better is to use a [`RowCallbackHandler`][2] instead of a row mapper and fully process a row, before handling the next one. This minimises the data kept in memory, while at the same time runs only a single query.\r\nOf course, it depends on what you try to do with all the data if this is a feasible approach.\r\n\r\nIf you go for pagination you might want to look into [Spring Batch][3] which is intended for this kind of processing.\r\n\r\nJPA would likely just increase the cost in memory and performance per row.\r\nIt is generally not well suited for such large amounts of data.\r\n\r\n  [1]: https://nordicapis.com/everything-you-need-to-know-about-api-pagination/\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowCallbackHandler.html\r\n  [3]: https://spring.io/projects/spring-batch","title":"A Spring JDBC query hangs accessing a large table. Will the PagingAndSortingRepository in Spring Data JPA solve the problem?","body":"<p>Doing pagination might solve the problem, but you don't have to use JPA for this, nor would it help.</p>\n<p>As discussed in the comments your problem is most likely that storing 14 million instances in memory needs a lot of memory.\nAnd of course, constructing those takes a lot of time.</p>\n<p>Therefore pagination would help by breaking the process down into chunks.\nBut you can do that easily with the current approach by simply incorporating offset and limit into the query. See <a href=\"https://stackoverflow.com/a/9261762/66686\">https://stackoverflow.com/a/9261762/66686</a></p>\n<p>But pagination can become slow on large tables and it might be more efficient to use <a href=\"https://nordicapis.com/everything-you-need-to-know-about-api-pagination/\" rel=\"nofollow noreferrer\">key based pagination</a>. Where you select n rows per batch ordered by primary key and on the next batch select the first n rows after the last id value of the previous batch.</p>\n<p>An alternative that might work even better is to use a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowCallbackHandler.html\" rel=\"nofollow noreferrer\"><code>RowCallbackHandler</code></a> instead of a row mapper and fully process a row, before handling the next one. This minimises the data kept in memory, while at the same time runs only a single query.\nOf course, it depends on what you try to do with all the data if this is a feasible approach.</p>\n<p>If you go for pagination you might want to look into <a href=\"https://spring.io/projects/spring-batch\" rel=\"nofollow noreferrer\">Spring Batch</a> which is intended for this kind of processing.</p>\n<p>JPA would likely just increase the cost in memory and performance per row.\nIt is generally not well suited for such large amounts of data.</p>\n"}],"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75554532,"answer_count":1,"score":0,"last_activity_date":1677229459,"creation_date":1677163946,"question_id":75546463,"body_markdown":"A `select *` on a large (14 million row) table issued by our hand-crafted Java object relational manager often hangs. Basically, the code issues this query:\r\n```\r\nimport org.mountsinai.foo.Entity;\r\nimport org.springframework.jdbc.core.RowMapper;\r\nimport java.sql.ResultSet;\r\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\r\n\r\n// aDataSource is defined ...\r\nNamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(aDataSource);\r\n\r\nRowMapper&lt;Entity&gt; entityRowMapper = (ResultSet rs, int rowNum) -&gt; {\r\n    Entity entity = new Entity();\r\n    entity.setDatabaseId(rs.getInt(&quot;id&quot;));\r\n    entity.setEntityId(rs.getString(&quot;entity_id&quot;));\r\n    entity.setFound(rs.getBoolean(&quot;found&quot;));\r\n\t\t// Set 10 more fields ...\r\n    return entity;\r\n};\r\njdbcTemplate.query(&quot;select * from table;&quot;, entityRowMapper);\r\n```\r\nThus we&#39;re using `NamedParameterJdbcTemplate`&#39;s [query(String sql, RowMapper&lt;T&gt; rowMapper)](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#query(java.lang.String,org.springframework.jdbc.core.RowMapper)) method. We use the `com.microsoft.sqlserver:mssql-jdbc` JDBC library.\r\n\r\nThe query goes to an SLQ Server database. Sometimes everything works, especially when the table is small.\r\nBut when the table is large (14 million row), `jdbcTemplate.query` often hangs. In this circumstance, an SQL Server Profiler trace of the database shows that the query **finishes**, as we see \r\n```\r\nSP:StmtCompleted\r\nRPC:Completed\r\n```\r\n`EventClass`es for the it in the trace. No exception is thrown at the client.\r\n\r\nI&#39;m thinking of trying to fix this problem by replacing the code which fails intermittently with a [`findAll` call that uses Pageable in the `PagingAndSortingRepository` interface](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.core-concepts). Would you expect that to solve the problem?\r\n\r\nArthur\r\n\r\n","title":"A Spring JDBC query hangs accessing a large table. Will the PagingAndSortingRepository in Spring Data JPA solve the problem?","body":"<p>A <code>select *</code> on a large (14 million row) table issued by our hand-crafted Java object relational manager often hangs. Basically, the code issues this query:</p>\n<pre><code>import org.mountsinai.foo.Entity;\nimport org.springframework.jdbc.core.RowMapper;\nimport java.sql.ResultSet;\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\n\n// aDataSource is defined ...\nNamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(aDataSource);\n\nRowMapper&lt;Entity&gt; entityRowMapper = (ResultSet rs, int rowNum) -&gt; {\n    Entity entity = new Entity();\n    entity.setDatabaseId(rs.getInt(&quot;id&quot;));\n    entity.setEntityId(rs.getString(&quot;entity_id&quot;));\n    entity.setFound(rs.getBoolean(&quot;found&quot;));\n        // Set 10 more fields ...\n    return entity;\n};\njdbcTemplate.query(&quot;select * from table;&quot;, entityRowMapper);\n</code></pre>\n<p>Thus we're using <code>NamedParameterJdbcTemplate</code>'s <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#query(java.lang.String,org.springframework.jdbc.core.RowMapper)\" rel=\"nofollow noreferrer\">query(String sql, RowMapper rowMapper)</a> method. We use the <code>com.microsoft.sqlserver:mssql-jdbc</code> JDBC library.</p>\n<p>The query goes to an SLQ Server database. Sometimes everything works, especially when the table is small.\nBut when the table is large (14 million row), <code>jdbcTemplate.query</code> often hangs. In this circumstance, an SQL Server Profiler trace of the database shows that the query <strong>finishes</strong>, as we see</p>\n<pre><code>SP:StmtCompleted\nRPC:Completed\n</code></pre>\n<p><code>EventClass</code>es for the it in the trace. No exception is thrown at the client.</p>\n<p>I'm thinking of trying to fix this problem by replacing the code which fails intermittently with a <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.core-concepts\" rel=\"nofollow noreferrer\"><code>findAll</code> call that uses Pageable in the <code>PagingAndSortingRepository</code> interface</a>. Would you expect that to solve the problem?</p>\n<p>Arthur</p>\n"},{"tags":["java","jpa","asynchronous","ejb","stateless"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675937113,"post_id":75396653,"comment_id":133036520,"body_markdown":"Some code/configuration would be helpful to understand your problem","body":"Some code/configuration would be helpful to understand your problem"},{"owner":{"account_id":2324029,"reputation":172,"user_id":2038948,"display_name":"Andr&#233;"},"score":0,"creation_date":1675954845,"post_id":75396653,"comment_id":133042373,"body_markdown":"@XtremeBaumer you are right .. i added my code base","body":"@XtremeBaumer you are right .. i added my code base"}],"answers":[{"tags":[],"owner":{"account_id":2324029,"reputation":172,"user_id":2038948,"display_name":"Andr&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677229290,"creation_date":1677229290,"answer_id":75554512,"question_id":75396653,"body_markdown":"I found the issue .. my ID Generation is based upon sequences and the incrementy by and the allocationsize of hibernate was not matching ... now it&#180;s working fine \r\nsee https://docs.oracle.com/javaee/5/api/javax/persistence/SequenceGenerator.html","title":"Stateless Session Bean using Container Managed EntityManger in Asynchronous method generates constraint violation Excetion in DB","body":"<p>I found the issue .. my ID Generation is based upon sequences and the incrementy by and the allocationsize of hibernate was not matching ... now its working fine\nsee <a href=\"https://docs.oracle.com/javaee/5/api/javax/persistence/SequenceGenerator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/5/api/javax/persistence/SequenceGenerator.html</a></p>\n"}],"owner":{"account_id":2324029,"reputation":172,"user_id":2038948,"display_name":"Andr&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677229290,"creation_date":1675935246,"question_id":75396653,"body_markdown":"I have a NO Interface View bean (Stateless) which has an asyncronous method. This method is performing persistence access via a Container Managed EntityManager. Unfortunately, it generates Constraint Violation Exceptions when inserting into the Db (Primary Key violation ) the JPA Entity is using a Sequence as the ID generator. Hibernate seems to use the same ID&#39;s on different entities, how can I synchronize the access upon the contained managed entity manager without loosing the container managed transactions?\r\n\r\n```java\r\n@Singleton\r\n@Startup\r\npublic class Loeschung {\r\n\r\n\tprivate static Logger log = LoggerFactory.getLogger(Loeschung.class);\r\n\t@Resource\r\n\tTimerService timerService;\r\n\r\n\t@Resource\r\n\tprivate String configMandanten;\r\n\r\n\tprivate ConcurrentMap&lt;String, Map.Entry&lt;String, Long&gt;&gt; servicesderMandanten;\r\n\r\n\t@PostConstruct\r\n\tpublic void initialize() {\r\n// init timer\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate Loeschlauf lookupService(String serviceName) {\r\n\t\ttry {\r\n\t\t\treturn InitialContext.&lt;Loeschlauf&gt;doLookup(serviceName);\r\n\t\t} catch (NamingException e) {\r\n\t\t\t// wenn dies auftritt ist der JNDI Name falsch !!\r\n\t\t\tif (log.isErrorEnabled()) {\r\n\t\t\t\tlog.error(LogUtil.UNHANDLED, LogUtil.createUnhandledMessageArgs(e));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\t@Timeout\r\n\tpublic void LoeschlaufInitiieren(Timer timer) {\r\n\t\tLoeschlauf service = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tservice = InitialContext.&lt;Loeschlauf&gt;doLookup(this.servicesderMandanten.get(timer.getInfo().toString()).getKey());\r\n\t\t} catch (NamingException e) {\r\n\t\t\t}\r\n\t\t\treturn; \r\n\t\t}\r\n\t\tservice.run();\r\n\t}\r\n}\r\n\r\n\r\n\r\n    @Stateless\r\npublic class Loeschlauf {\r\n\r\n\tprivate static Logger log = LoggerFactory.getLogger(Loeschlauf.class);\r\n\t\r\n\t@PersistenceContext\r\n\tprotected EntityManager entityManager;\r\n\r\n\t\r\n\t@Asynchronous\r\n\tpublic void run() {\r\n\r\n\t\tLoeschProtokoll protokoll = LoeschProtokoll.erstelleLeeresProtokoll();\r\n\t\t// vormerken der zu l&#246;schenden Protokolle\r\n\t\t// ermittle Gesamtanzahl\r\n\t\tLong anzahlElemente = markiereProtokolleAlsgeloescht();\r\n\t\tprotokoll.setAnzahlGeloescht(anzahlElemente);\r\n\t\tLong anzahlGeperrteElemente = getAnzahlGesperrterElemente();\r\n\t\tprotokoll.setAnzahlGesperrt(anzahlGeperrteElemente);\r\n\t\t// Aktualisierung des Personen index\r\n\t\taktualisierePersonenIndex();\r\n\t\t// L&#246;schung der Protokolle\r\n\t\tloescheAbgelaufeneProtokolle();\r\n\t\t// Fortschreiben des L&#246;schprotokolls\r\n\t\tprotokoll.setEnde(LocalDateTime.now());\r\n\t\tspeichereLoeschProtokoll(protokoll);\r\n\t}\r\n\r\n\t\r\n\t\r\n\tpublic Long markiereProtokolleAlsgeloescht() {\r\n\t\treturn Long.valueOf(entityManager.createNamedQuery(TransaktionsProtokoll.MARKIERE_ALS_GELOESCHT).executeUpdate()) ;\r\n\t}\r\n\r\n\tpublic Long getAnzahlGesperrterElemente() {\r\n\t\treturn (Long) entityManager.createNamedQuery(TransaktionsProtokoll.ERMITTLE_ANZAHL_GESPERRTE_ELEMENTE)\r\n\t\t\t\t.getSingleResult();\r\n\t}\r\n\r\n\tpublic Long getAnzahlZuBearbeitenderPersonenIndexe() {\r\n\t\treturn (Long) entityManager.createNamedQuery(PersonenIndex.COUNT_GELOESCHTE_PROTOKOLLE).getSingleResult();\r\n\t}\r\n\r\n\tpublic void aktualisierePersonenIndex() {\r\n\t\tLong gesamtAnzahl= getAnzahlZuBearbeitenderPersonenIndexe();\r\n\t\tint seitenGroe&#223;e = 10; \r\n\t\tint letzeSeite = (int) ((gesamtAnzahl / seitenGroe&#223;e) + 1);\r\n\r\n\t\tTypedQuery&lt;PersonenIndex&gt; query = entityManager.createNamedQuery(PersonenIndex.FIND_BY_GELOESCHTE_PROTOKOLLE, PersonenIndex.class);\r\n\t\tint pageNumber = 1;\r\n\r\n\t\tfor (int i = pageNumber; i &lt;=  letzeSeite; i++) {\r\n\t\t\tquery.setFirstResult((pageNumber-1) * seitenGroe&#223;e); \r\n\t\t\tquery.setMaxResults(seitenGroe&#223;e);\r\n\t\t\tList&lt;PersonenIndex&gt; indexe = query.getResultList();\r\n\t\t\tindexe.stream().forEach( index -&gt; this.behandeleIndex(index));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void  behandeleIndex(PersonenIndex index) {\r\n\t\tindex.getTransaktionen().clear();\r\n\t\tentityManager.persist(index);\r\n\t\tPersonenIndex kompletteVersion = entityManager.find(PersonenIndex.class, index.getId());\r\n\t\tif (kompletteVersion.IsLeer()) {\r\n\t\t\tentityManager.remove(kompletteVersion);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tpublic void loescheAbgelaufeneProtokolle() {\r\n\t\tentityManager.createNamedQuery(TransaktionsProtokoll.LOESCHE_GELOESCHTE_ELEMENTE).executeUpdate();\r\n\t}\r\n\r\n\tpublic void speichereLoeschProtokoll(LoeschProtokoll protokoll) {\r\n\t\tentityManager.persist(protokoll);\r\n\t\tentityManager.flush();\r\n\t}\r\n\r\n\tpublic LocalDateTime ermittleStartzeitpunkt() {\r\n\t\t Optional&lt;LoeschProtokoll&gt; eintrag = entityManager.createNamedQuery(LoeschProtokoll.FINDE_JUENGSTEN_EINTRAG, LoeschProtokoll.class).getResultStream().findFirst();\r\n\t\t if (eintrag.isPresent()) {\r\n\t\t\treturn eintrag.get().getBeginn();\r\n\t\t}else {\r\n\t\t\treturn LocalDateTime.of(1970, 1, 1, 2, 0);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```","title":"Stateless Session Bean using Container Managed EntityManger in Asynchronous method generates constraint violation Excetion in DB","body":"<p>I have a NO Interface View bean (Stateless) which has an asyncronous method. This method is performing persistence access via a Container Managed EntityManager. Unfortunately, it generates Constraint Violation Exceptions when inserting into the Db (Primary Key violation ) the JPA Entity is using a Sequence as the ID generator. Hibernate seems to use the same ID's on different entities, how can I synchronize the access upon the contained managed entity manager without loosing the container managed transactions?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\n@Startup\npublic class Loeschung {\n\n    private static Logger log = LoggerFactory.getLogger(Loeschung.class);\n    @Resource\n    TimerService timerService;\n\n    @Resource\n    private String configMandanten;\n\n    private ConcurrentMap&lt;String, Map.Entry&lt;String, Long&gt;&gt; servicesderMandanten;\n\n    @PostConstruct\n    public void initialize() {\n// init timer\n        }\n\n    }\n\n    private Loeschlauf lookupService(String serviceName) {\n        try {\n            return InitialContext.&lt;Loeschlauf&gt;doLookup(serviceName);\n        } catch (NamingException e) {\n            // wenn dies auftritt ist der JNDI Name falsch !!\n            if (log.isErrorEnabled()) {\n                log.error(LogUtil.UNHANDLED, LogUtil.createUnhandledMessageArgs(e));\n            }\n        }\n        return null;\n    }\n\n\n    @Timeout\n    public void LoeschlaufInitiieren(Timer timer) {\n        Loeschlauf service = null;\n        \n        try {\n            service = InitialContext.&lt;Loeschlauf&gt;doLookup(this.servicesderMandanten.get(timer.getInfo().toString()).getKey());\n        } catch (NamingException e) {\n            }\n            return; \n        }\n        service.run();\n    }\n}\n\n\n\n    @Stateless\npublic class Loeschlauf {\n\n    private static Logger log = LoggerFactory.getLogger(Loeschlauf.class);\n    \n    @PersistenceContext\n    protected EntityManager entityManager;\n\n    \n    @Asynchronous\n    public void run() {\n\n        LoeschProtokoll protokoll = LoeschProtokoll.erstelleLeeresProtokoll();\n        // vormerken der zu lschenden Protokolle\n        // ermittle Gesamtanzahl\n        Long anzahlElemente = markiereProtokolleAlsgeloescht();\n        protokoll.setAnzahlGeloescht(anzahlElemente);\n        Long anzahlGeperrteElemente = getAnzahlGesperrterElemente();\n        protokoll.setAnzahlGesperrt(anzahlGeperrteElemente);\n        // Aktualisierung des Personen index\n        aktualisierePersonenIndex();\n        // Lschung der Protokolle\n        loescheAbgelaufeneProtokolle();\n        // Fortschreiben des Lschprotokolls\n        protokoll.setEnde(LocalDateTime.now());\n        speichereLoeschProtokoll(protokoll);\n    }\n\n    \n    \n    public Long markiereProtokolleAlsgeloescht() {\n        return Long.valueOf(entityManager.createNamedQuery(TransaktionsProtokoll.MARKIERE_ALS_GELOESCHT).executeUpdate()) ;\n    }\n\n    public Long getAnzahlGesperrterElemente() {\n        return (Long) entityManager.createNamedQuery(TransaktionsProtokoll.ERMITTLE_ANZAHL_GESPERRTE_ELEMENTE)\n                .getSingleResult();\n    }\n\n    public Long getAnzahlZuBearbeitenderPersonenIndexe() {\n        return (Long) entityManager.createNamedQuery(PersonenIndex.COUNT_GELOESCHTE_PROTOKOLLE).getSingleResult();\n    }\n\n    public void aktualisierePersonenIndex() {\n        Long gesamtAnzahl= getAnzahlZuBearbeitenderPersonenIndexe();\n        int seitenGroee = 10; \n        int letzeSeite = (int) ((gesamtAnzahl / seitenGroee) + 1);\n\n        TypedQuery&lt;PersonenIndex&gt; query = entityManager.createNamedQuery(PersonenIndex.FIND_BY_GELOESCHTE_PROTOKOLLE, PersonenIndex.class);\n        int pageNumber = 1;\n\n        for (int i = pageNumber; i &lt;=  letzeSeite; i++) {\n            query.setFirstResult((pageNumber-1) * seitenGroee); \n            query.setMaxResults(seitenGroee);\n            List&lt;PersonenIndex&gt; indexe = query.getResultList();\n            indexe.stream().forEach( index -&gt; this.behandeleIndex(index));\n        }\n    }\n\n    private void  behandeleIndex(PersonenIndex index) {\n        index.getTransaktionen().clear();\n        entityManager.persist(index);\n        PersonenIndex kompletteVersion = entityManager.find(PersonenIndex.class, index.getId());\n        if (kompletteVersion.IsLeer()) {\n            entityManager.remove(kompletteVersion);\n        }\n        \n    }\n\n    public void loescheAbgelaufeneProtokolle() {\n        entityManager.createNamedQuery(TransaktionsProtokoll.LOESCHE_GELOESCHTE_ELEMENTE).executeUpdate();\n    }\n\n    public void speichereLoeschProtokoll(LoeschProtokoll protokoll) {\n        entityManager.persist(protokoll);\n        entityManager.flush();\n    }\n\n    public LocalDateTime ermittleStartzeitpunkt() {\n         Optional&lt;LoeschProtokoll&gt; eintrag = entityManager.createNamedQuery(LoeschProtokoll.FINDE_JUENGSTEN_EINTRAG, LoeschProtokoll.class).getResultStream().findFirst();\n         if (eintrag.isPresent()) {\n            return eintrag.get().getBeginn();\n        }else {\n            return LocalDateTime.of(1970, 1, 1, 2, 0);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1677180346,"post_id":75549285,"comment_id":133292212,"body_markdown":"Am I reading this correctly - you want to autowire `serviceQueue` in the component it is created? Also, does it change anything if `ServiceImpl1` and `ServiceImpl2` are not Spring beans? Also, does adding `@Qualifier(&quot;serviceQueue&quot;)` (and changing `@Bean` to `@Bean(&quot;serviceQueue&quot;)`) change anything?","body":"Am I reading this correctly - you want to autowire <code>serviceQueue</code> in the component it is created? Also, does it change anything if <code>ServiceImpl1</code> and <code>ServiceImpl2</code> are not Spring beans? Also, does adding <code>@Qualifier(&quot;serviceQueue&quot;)</code> (and changing <code>@Bean</code> to <code>@Bean(&quot;serviceQueue&quot;)</code>) change anything?"},{"owner":{"account_id":27812898,"reputation":65,"user_id":21234935,"display_name":"Yevhen Vasyliev"},"score":0,"creation_date":1677181276,"post_id":75549285,"comment_id":133292448,"body_markdown":"@dan1st, it&#39;s just a quick code example that reproduces my issue. In my real project all implementations stored in different java files. But the error is the same.","body":"@dan1st, it&#39;s just a quick code example that reproduces my issue. In my real project all implementations stored in different java files. But the error is the same."},{"owner":{"account_id":27812898,"reputation":65,"user_id":21234935,"display_name":"Yevhen Vasyliev"},"score":0,"creation_date":1677181302,"post_id":75549285,"comment_id":133292459,"body_markdown":"@dan1st, if I add `@Qualifier(&quot;serviceQueue&quot;)` and `@Bean(&quot;serviceQueue&quot;)`, I&#39;ll receive a new error message:\n\n`Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.util.Queue&lt;app.Service&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(&quot;serviceQueue&quot;)}`","body":"@dan1st, if I add <code>@Qualifier(&quot;serviceQueue&quot;)</code> and <code>@Bean(&quot;serviceQueue&quot;)</code>, I&#39;ll receive a new error message:  <code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;java.util.Queue&lt;app.Service&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(req&zwnj;&#8203;uired=true), @org.springframework.beans.factory.annotation.Qualifier(&quot;ser&zwnj;&#8203;viceQueue&quot;)}</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1677181725,"post_id":75549285,"comment_id":133292583,"body_markdown":"Is the `@Bean` definition in a component managed by Spring?","body":"Is the <code>@Bean</code> definition in a component managed by Spring?"},{"owner":{"account_id":27812898,"reputation":65,"user_id":21234935,"display_name":"Yevhen Vasyliev"},"score":0,"creation_date":1677182038,"post_id":75549285,"comment_id":133292676,"body_markdown":"@dan1st, how can I check this?","body":"@dan1st, how can I check this?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1677182205,"post_id":75549285,"comment_id":133292727,"body_markdown":"Is that class/component annotated with `@Component` or a similar stereorype annotation? Is it in the one of the packages scanned by Spring? Can you autowire it in other classes=","body":"Is that class/component annotated with <code>@Component</code> or a similar stereorype annotation? Is it in the one of the packages scanned by Spring? Can you autowire it in other classes="},{"owner":{"account_id":27812898,"reputation":65,"user_id":21234935,"display_name":"Yevhen Vasyliev"},"score":0,"creation_date":1677182344,"post_id":75549285,"comment_id":133292767,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252090/discussion-between-yevhen-vasyliev-and-dan1st).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252090/discussion-between-yevhen-vasyliev-and-dan1st\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677228795,"creation_date":1677227714,"answer_id":75554252,"question_id":75549285,"body_markdown":"Let me summarize the insights [from chat](https://chat.stackoverflow.com/transcript/252090) in this answer and add a few things.\r\n\r\n# Why does it work with `List`?\r\n\r\nWhen autowiring a `List&lt;X&gt;`, Spring automatically gives you a `List` containing all Spring-managed beans that can be assigned to `X` as described in [this article](https://www.baeldung.com/spring-injecting-collections).\r\n\r\nSo, Spring doesn&#39;t give you the `List` you created but it creates its own `List` containing all registered beans of type `Service` and doesn&#39;t give you the one created by you.\r\n\r\n# The error with `Queue`\r\n\r\nKnowing that, we can also explain the error you are receiving:\r\n\r\n&gt; java.lang.IllegalStateException: Cannot convert value of type &#39;java.util.LinkedHashMap$LinkedValues&#39; to required type &#39;java.util.Queue&#39;: no matching editors or conversion strategy found\r\n\r\nIt tried to autowire the `List&lt;Service&gt;` containing all registered `Service` beans but that wasn&#39;t a `Queue`.\r\n\r\n# `@Resource` to the rescue\r\n\r\nYou can explicitely specify the bean to be autowired using [`javax.annotation.Resource`](https://jakarta.ee/specifications/platform/8/apidocs/javax/annotation/resource) (Spring 5/Spring Boot 2/Java EE) or [`jakarta.annotation.Resource`](https://jakarta.ee/specifications/platform/9/apidocs/jakarta/annotation/resource) (Spring 6/Spring Boot 3/Jakarta EE):\r\n\r\n```java\r\n@Resource(name = &quot;serviceQueue&quot;)\r\nprivate Queue&lt;Service&gt; serviceQueue;\r\n```\r\n```java\r\n@Bean(&quot;serviceQueue&quot;)\r\npublic Queue&lt;Service&gt; serviceQueue() {\r\n    Queue&lt;Service&gt; serviceQueue = new ArrayDeque&lt;&gt;();\r\n    serviceQueue.add(serviceImpl1());\r\n    serviceQueue.add(serviceImpl2());\r\n    return serviceQueue;\r\n}\r\n```\r\n\r\nThis tells Spring explicitly to use the `Queue` defined by you.\r\n\r\n# Alternatives\r\n\r\n## Constructor injection and `@Order`\r\n\r\nIf you don&#39;t need the same `Queue` in multiple places, you could use constructor autowiring and create the `Queue` in the constructor:\r\n\r\n```java\r\n@Configuration\r\npublic class Main {\r\n    private Queue&lt;Service&gt; serviceQueue;\r\n    @Autowired\r\n    public Main(List&lt;Service&gt; services){\r\n        serviceQueue = new ArrayDequeue&lt;&gt;(services);\r\n    }\r\n}\r\n```\r\n```\r\n@Bean\r\n@Order(1)\r\npublic Service serviceImpl1() {\r\n    return new ServiceImpl1();\r\n}\r\n@Bean\r\n@Order(2)\r\npublic Service serviceImpl2() {\r\n    return new ServiceImpl2();\r\n}\r\n```\r\n\r\n## Don&#39;t make the implementations beans\r\n\r\nYou could also try to remove `@Bean` from `serviceImpl1()` and `serviceImpl2()` so that Spring doesn&#39;t attempt to create a `List` of it by itself.\r\n\r\nNote that I haven&#39;t tested this approach.","title":"Proper way to define java.util.Queue bean in Spring?","body":"<p>Let me summarize the insights <a href=\"https://chat.stackoverflow.com/transcript/252090\">from chat</a> in this answer and add a few things.</p>\n<h1>Why does it work with <code>List</code>?</h1>\n<p>When autowiring a <code>List&lt;X&gt;</code>, Spring automatically gives you a <code>List</code> containing all Spring-managed beans that can be assigned to <code>X</code> as described in <a href=\"https://www.baeldung.com/spring-injecting-collections\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>So, Spring doesn't give you the <code>List</code> you created but it creates its own <code>List</code> containing all registered beans of type <code>Service</code> and doesn't give you the one created by you.</p>\n<h1>The error with <code>Queue</code></h1>\n<p>Knowing that, we can also explain the error you are receiving:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Cannot convert value of type 'java.util.LinkedHashMap$LinkedValues' to required type 'java.util.Queue': no matching editors or conversion strategy found</p>\n</blockquote>\n<p>It tried to autowire the <code>List&lt;Service&gt;</code> containing all registered <code>Service</code> beans but that wasn't a <code>Queue</code>.</p>\n<h1><code>@Resource</code> to the rescue</h1>\n<p>You can explicitely specify the bean to be autowired using <a href=\"https://jakarta.ee/specifications/platform/8/apidocs/javax/annotation/resource\" rel=\"nofollow noreferrer\"><code>javax.annotation.Resource</code></a> (Spring 5/Spring Boot 2/Java EE) or <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/annotation/resource\" rel=\"nofollow noreferrer\"><code>jakarta.annotation.Resource</code></a> (Spring 6/Spring Boot 3/Jakarta EE):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Resource(name = &quot;serviceQueue&quot;)\nprivate Queue&lt;Service&gt; serviceQueue;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;serviceQueue&quot;)\npublic Queue&lt;Service&gt; serviceQueue() {\n    Queue&lt;Service&gt; serviceQueue = new ArrayDeque&lt;&gt;();\n    serviceQueue.add(serviceImpl1());\n    serviceQueue.add(serviceImpl2());\n    return serviceQueue;\n}\n</code></pre>\n<p>This tells Spring explicitly to use the <code>Queue</code> defined by you.</p>\n<h1>Alternatives</h1>\n<h2>Constructor injection and <code>@Order</code></h2>\n<p>If you don't need the same <code>Queue</code> in multiple places, you could use constructor autowiring and create the <code>Queue</code> in the constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Main {\n    private Queue&lt;Service&gt; serviceQueue;\n    @Autowired\n    public Main(List&lt;Service&gt; services){\n        serviceQueue = new ArrayDequeue&lt;&gt;(services);\n    }\n}\n</code></pre>\n<pre><code>@Bean\n@Order(1)\npublic Service serviceImpl1() {\n    return new ServiceImpl1();\n}\n@Bean\n@Order(2)\npublic Service serviceImpl2() {\n    return new ServiceImpl2();\n}\n</code></pre>\n<h2>Don't make the implementations beans</h2>\n<p>You could also try to remove <code>@Bean</code> from <code>serviceImpl1()</code> and <code>serviceImpl2()</code> so that Spring doesn't attempt to create a <code>List</code> of it by itself.</p>\n<p>Note that I haven't tested this approach.</p>\n"}],"owner":{"account_id":27812898,"reputation":65,"user_id":21234935,"display_name":"Yevhen Vasyliev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75554252,"answer_count":1,"score":0,"last_activity_date":1677228795,"creation_date":1677179176,"question_id":75549285,"body_markdown":"I faced with a strange error when I tried to inject a `java.util.Queue` bean using `Spring Core`.\r\n\r\nI made a quick code example:\r\n```java\r\n@Configuration public class Main {\r\n    @Autowired private Queue&lt;Service&gt; serviceQueue;\r\n\r\n    public static void main(String[] args) {\r\n        ApplicationContext context = new AnnotationConfigApplicationContext(Main.class);\r\n        Main bean = context.getBean(Main.class);\r\n        System.out.println(bean.serviceQueue.size());\r\n    }\r\n\r\n    @Bean public Queue&lt;Service&gt; serviceQueue() {\r\n        Queue&lt;Service&gt; serviceQueue = new ArrayDeque&lt;&gt;();\r\n        serviceQueue.add(serviceImpl1());\r\n        serviceQueue.add(serviceImpl2());\r\n        return serviceQueue;\r\n    }\r\n\r\n    @Bean public Service serviceImpl1() { return new ServiceImpl1(); }\r\n    @Bean public Service serviceImpl2() { return new ServiceImpl2(); }\r\n\r\n    public interface Service {}\r\n    public static class ServiceImpl1 implements Service {}\r\n    public static class ServiceImpl2 implements Service {}\r\n}\r\n```\r\n\r\nWhen I run this code, I receive the next error in console:\r\n```\r\nFeb 23, 2023 8:59:48 PM org.springframework.context.support.AbstractApplicationContext refresh\r\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;main&#39;: Unsatisfied dependency expressed through field &#39;serviceQueue&#39;; nested exception is org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type &#39;java.util.LinkedHashMap$LinkedValues&#39; to required type &#39;java.util.Queue&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.util.LinkedHashMap$LinkedValues&#39; to required type &#39;java.util.Queue&#39;: no matching editors or conversion strategy found\r\nException in thread &quot;main&quot; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;main&#39;: Unsatisfied dependency expressed through field &#39;serviceQueue&#39;; nested exception is org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type &#39;java.util.LinkedHashMap$LinkedValues&#39; to required type &#39;java.util.Queue&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.util.LinkedHashMap$LinkedValues&#39; to required type &#39;java.util.Queue&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\r\n\tat app.Main.main(Main.java:16)\r\nCaused by: org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type &#39;java.util.LinkedHashMap$LinkedValues&#39; to required type &#39;java.util.Queue&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.util.LinkedHashMap$LinkedValues&#39; to required type &#39;java.util.Queue&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:76)\r\n\tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:45)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1471)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\r\n\t... 15 more\r\nCaused by: java.lang.IllegalStateException: Cannot convert value of type &#39;java.util.LinkedHashMap$LinkedValues&#39; to required type &#39;java.util.Queue&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:262)\r\n\tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)\r\n\t... 20 more\r\n```\r\n\r\nCould you please explain why I can&#39;t create a `Queue` like this? If I replace `Queue` with `List`, everything will work.\r\n\r\nThank you.","title":"Proper way to define java.util.Queue bean in Spring?","body":"<p>I faced with a strange error when I tried to inject a <code>java.util.Queue</code> bean using <code>Spring Core</code>.</p>\n<p>I made a quick code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration public class Main {\n    @Autowired private Queue&lt;Service&gt; serviceQueue;\n\n    public static void main(String[] args) {\n        ApplicationContext context = new AnnotationConfigApplicationContext(Main.class);\n        Main bean = context.getBean(Main.class);\n        System.out.println(bean.serviceQueue.size());\n    }\n\n    @Bean public Queue&lt;Service&gt; serviceQueue() {\n        Queue&lt;Service&gt; serviceQueue = new ArrayDeque&lt;&gt;();\n        serviceQueue.add(serviceImpl1());\n        serviceQueue.add(serviceImpl2());\n        return serviceQueue;\n    }\n\n    @Bean public Service serviceImpl1() { return new ServiceImpl1(); }\n    @Bean public Service serviceImpl2() { return new ServiceImpl2(); }\n\n    public interface Service {}\n    public static class ServiceImpl1 implements Service {}\n    public static class ServiceImpl2 implements Service {}\n}\n</code></pre>\n<p>When I run this code, I receive the next error in console:</p>\n<pre><code>Feb 23, 2023 8:59:48 PM org.springframework.context.support.AbstractApplicationContext refresh\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'main': Unsatisfied dependency expressed through field 'serviceQueue'; nested exception is org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type 'java.util.LinkedHashMap$LinkedValues' to required type 'java.util.Queue'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.util.LinkedHashMap$LinkedValues' to required type 'java.util.Queue': no matching editors or conversion strategy found\nException in thread &quot;main&quot; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'main': Unsatisfied dependency expressed through field 'serviceQueue'; nested exception is org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type 'java.util.LinkedHashMap$LinkedValues' to required type 'java.util.Queue'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.util.LinkedHashMap$LinkedValues' to required type 'java.util.Queue': no matching editors or conversion strategy found\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\n    at app.Main.main(Main.java:16)\nCaused by: org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type 'java.util.LinkedHashMap$LinkedValues' to required type 'java.util.Queue'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.util.LinkedHashMap$LinkedValues' to required type 'java.util.Queue': no matching editors or conversion strategy found\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:76)\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:45)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1471)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\n    ... 15 more\nCaused by: java.lang.IllegalStateException: Cannot convert value of type 'java.util.LinkedHashMap$LinkedValues' to required type 'java.util.Queue': no matching editors or conversion strategy found\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:262)\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)\n    ... 20 more\n</code></pre>\n<p>Could you please explain why I can't create a <code>Queue</code> like this? If I replace <code>Queue</code> with <code>List</code>, everything will work.</p>\n<p>Thank you.</p>\n"},{"tags":["javascript","java","c++","regex"],"comments":[{"owner":{"account_id":2236347,"reputation":29149,"user_id":2307070,"accept_rate":97,"display_name":"Thomas Ayoub"},"score":0,"creation_date":1466691989,"post_id":37994456,"comment_id":63432554,"body_markdown":"*JS **and** C++* ?","body":"<i>JS <b>and</b> C++</i> ?"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1466692198,"post_id":37994456,"comment_id":63432730,"body_markdown":"You can find it [here](http://stackoverflow.com/questions/37470212/match-any-non-word-character-excluding-diacritics/37471102#37471102). In C++, you will need to use `wregex`, remember? :) Why haven&#39;t you accepted the previous answer?","body":"You can find it <a href=\"http://stackoverflow.com/questions/37470212/match-any-non-word-character-excluding-diacritics/37471102#37471102\">here</a>. In C++, you will need to use <code>wregex</code>, remember? :) Why haven&#39;t you accepted the previous answer?"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":2,"creation_date":1466692401,"post_id":37994456,"comment_id":63432884,"body_markdown":"@ThomasAyoub: Default flavor `std::regex` uses is ECMAScript. Although it is a bit different from JS implementation.","body":"@ThomasAyoub: Default flavor <code>std::regex</code> uses is ECMAScript. Although it is a bit different from JS implementation."},{"owner":{"account_id":2236347,"reputation":29149,"user_id":2307070,"accept_rate":97,"display_name":"Thomas Ayoub"},"score":0,"creation_date":1466692509,"post_id":37994456,"comment_id":63432975,"body_markdown":"@WiktorStribiew Thanks :)","body":"@WiktorStribiew Thanks :)"},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1466692904,"post_id":37994456,"comment_id":63433286,"body_markdown":"@Wiktor No need for `wregex` at all, `std::regex` can handle Unicode encodings just fine.","body":"@Wiktor No need for <code>wregex</code> at all, <code>std::regex</code> can handle Unicode encodings just fine."},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1466694321,"post_id":37994456,"comment_id":63434393,"body_markdown":"@KonradRudolph: Then post an example and let me know how to use it in the Visual Studio 2012 C++ project.","body":"@KonradRudolph: Then post an example and let me know how to use it in the Visual Studio 2012 C++ project."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1466694555,"post_id":37994456,"comment_id":63434574,"body_markdown":"@WiktorStribiew VS2012? No idea. You didnt mention that you were on a non-compliant compiler. A *compliant* compiler handles it.","body":"@WiktorStribiew VS2012? No idea. You didnt mention that you were on a non-compliant compiler. A <i>compliant</i> compiler handles it."},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1466695105,"post_id":37994456,"comment_id":63434980,"body_markdown":"@vijin: Which compiler are you using?","body":"@vijin: Which compiler are you using?"},{"owner":{"account_id":8682385,"reputation":233,"user_id":6497825,"accept_rate":50,"display_name":"vijin"},"score":0,"creation_date":1466701505,"post_id":37994456,"comment_id":63439206,"body_markdown":"@Wiktor Stribiew Visual Studio 2010 !","body":"@Wiktor Stribiew Visual Studio 2010 !"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1466702475,"post_id":37994456,"comment_id":63439816,"body_markdown":"Did you test the regex I linked to? Does it work?","body":"Did you test the regex I linked to? Does it work?"},{"owner":{"account_id":8682385,"reputation":233,"user_id":6497825,"accept_rate":50,"display_name":"vijin"},"score":0,"creation_date":1466704608,"post_id":37994456,"comment_id":63441177,"body_markdown":"@WiktorStribiew To use wregex I need to convert my basic string to wstring. What is the easy way for that ? I think  the following code will work for only when the basic string consists of ASCII charcters --------------std::wstring wstring(str.begin(), str.end());","body":"@WiktorStribiew To use wregex I need to convert my basic string to wstring. What is the easy way for that ? I think  the following code will work for only when the basic string consists of ASCII charcters --------------std::wstring wstring(str.begin(), str.end());"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1466705828,"post_id":37994456,"comment_id":63441950,"body_markdown":"You should declare the pattern with `L&quot;patternhere&quot;`.","body":"You should declare the pattern with <code>L&quot;patternhere&quot;</code>."},{"owner":{"account_id":8682385,"reputation":233,"user_id":6497825,"accept_rate":50,"display_name":"vijin"},"score":0,"creation_date":1466706869,"post_id":37994456,"comment_id":63442623,"body_markdown":"&gt;std::wstring ws(L&quot;test&quot;);\n    std::string str(ws.begin(), ws.end());\n    std::wsmatch wm;std::wregex reg(L&quot;[\\\\\\\\p{L]+&quot;);\n    if (regex_match(ws.cbegin(), ws.cend(), wm, reg))\n    {\n    \treturn true;\n    }\n    else\n    {\n    \treturn false;\n    }  &#39;  This is returning false always !","body":"&gt;std::wstring ws(L&quot;test&quot;);     std::string str(ws.begin(), ws.end());     std::wsmatch wm;std::wregex reg(L&quot;[\\\\\\\\p{L]+&quot;);     if (regex_match(ws.cbegin(), ws.cend(), wm, reg))     {     \treturn true;     }     else     {     \treturn false;     }  &#39;  This is returning false always !"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1466706908,"post_id":37994456,"comment_id":63442651,"body_markdown":"You seem to forget that ECMAScript does not support Unicode category classes.","body":"You seem to forget that ECMAScript does not support Unicode category classes."},{"owner":{"account_id":8682385,"reputation":233,"user_id":6497825,"accept_rate":50,"display_name":"vijin"},"score":0,"creation_date":1466707194,"post_id":37994456,"comment_id":63442851,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/115440/discussion-between-vijin-and-wiktor-stribizew).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/115440/discussion-between-vijin-and-wiktor-stribizew\">continue this discussion in chat</a>."},{"owner":{"account_id":8682385,"reputation":233,"user_id":6497825,"accept_rate":50,"display_name":"vijin"},"score":0,"creation_date":1466794532,"post_id":37994456,"comment_id":63482416,"body_markdown":"I tried your suggestion in JS. \nvar XRegExp = require(&#39;xregexp&#39;);\nthis.REGEXP_EMAIL_INT_LOCAL_PART  = XRegExp(&#39;^[//p{L}0-9!#$%&amp;\\&#39;*+/=?^_`{|}~\\.-]*$&#39;); \nBut this shows error : require is not defined.","body":"I tried your suggestion in JS.  var XRegExp = require(&#39;xregexp&#39;); this.REGEXP_EMAIL_INT_LOCAL_PART  = XRegExp(&#39;^[//p{L}0-9!#$%&amp;\\&#39;*+/=?^_`{|}~\\.-]*$&#39;);  But this shows error : require is not defined."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677228382,"creation_date":1466717967,"answer_id":38002322,"question_id":37994456,"body_markdown":"ECMAScript, as well as all other flavors supported by the `std::regex`, does not support Unicode properties (Unicode category classes). \r\n\r\nAs a workaround, use [Boost library][1] in C++.\r\n\r\nIn Boost, declare the regex as follows:\r\n\r\n    boost::wregex reg(L&quot;^\\\\p{L}+$&quot;);\r\n\r\nNote that `^\\p{L}+$` matches 1+ letter strings only.\r\n\r\nIn ECMAScript used in JavaScript in modern browsers, you can use\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var str = &quot;bbni&quot;;\r\n    var regex = /^\\p{L}+$/u;\r\n    console.log(regex.test(str));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAn [XRegExp based solution][2] in JavaScript for older browsers (like Safari):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var str = &quot;bbni&quot;;\r\n    regex = XRegExp(&#39;^\\\\p{L}+$&#39;);\r\n    console.log(regex.test(str));\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/xregexp/2.0.0/xregexp-all-min.js&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: http://www.boost.org/doc/libs/1_59_0_b1/libs/regex/doc/html/boost_regex/ref/non_std_strings/icu.html\r\n  [2]: http://xregexp.com/","title":"C++ and JS RegEx equivalent of \\p{L}","body":"<p>ECMAScript, as well as all other flavors supported by the <code>std::regex</code>, does not support Unicode properties (Unicode category classes).</p>\n<p>As a workaround, use <a href=\"http://www.boost.org/doc/libs/1_59_0_b1/libs/regex/doc/html/boost_regex/ref/non_std_strings/icu.html\" rel=\"nofollow noreferrer\">Boost library</a> in C++.</p>\n<p>In Boost, declare the regex as follows:</p>\n<pre><code>boost::wregex reg(L&quot;^\\\\p{L}+$&quot;);\n</code></pre>\n<p>Note that <code>^\\p{L}+$</code> matches 1+ letter strings only.</p>\n<p>In ECMAScript used in JavaScript in modern browsers, you can use</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"bbni\";\nvar regex = /^\\p{L}+$/u;\nconsole.log(regex.test(str));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>An <a href=\"http://xregexp.com/\" rel=\"nofollow noreferrer\">XRegExp based solution</a> in JavaScript for older browsers (like Safari):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"bbni\";\nregex = XRegExp('^\\\\p{L}+$');\nconsole.log(regex.test(str));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/xregexp/2.0.0/xregexp-all-min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":8682385,"reputation":233,"user_id":6497825,"accept_rate":50,"display_name":"vijin"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38002322,"answer_count":1,"score":2,"last_activity_date":1677228382,"creation_date":1466691863,"question_id":37994456,"body_markdown":"I need to match all unicode characters in Email Addresses. I could do this validation in Java using \\p{L}. Is there any \\p{L} equivalent in JS and C++ ?\r\n \r\nIf not which is the best reliable open source library which provides this capability in C++ and JavaScript ?","title":"C++ and JS RegEx equivalent of \\p{L}","body":"<p>I need to match all unicode characters in Email Addresses. I could do this validation in Java using \\p{L}. Is there any \\p{L} equivalent in JS and C++ ?</p>\n\n<p>If not which is the best reliable open source library which provides this capability in C++ and JavaScript ?</p>\n"},{"tags":["java","debugging","solaris"],"comments":[{"owner":{"account_id":850,"reputation":5485,"user_id":1113,"accept_rate":57,"display_name":"Sindri Traustason"},"score":0,"creation_date":1285603398,"post_id":3805376,"comment_id":4035497,"body_markdown":"The java processes are running as the same user that I&#39;m running jps and jstack as. bps is able to list the processes.","body":"The java processes are running as the same user that I&#39;m running jps and jstack as. bps is able to list the processes."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1392879181,"post_id":3805376,"comment_id":33165960,"body_markdown":"The asker&#39;s issue is different, but for me it was because of cron job removing the files in `/tmp/hsperfdata_*` when they are older than 10 days. This resulted in long-running java processes not appearing in `jps` output. See [reference](http://www.semicomplete.com/blog/geekery/jps-shows-nothing-useful.html).","body":"The asker&#39;s issue is different, but for me it was because of cron job removing the files in <code>&#47;tmp&#47;hsperfdata_*</code> when they are older than 10 days. This resulted in long-running java processes not appearing in <code>jps</code> output. See <a href=\"http://www.semicomplete.com/blog/geekery/jps-shows-nothing-useful.html\" rel=\"nofollow noreferrer\">reference</a>."}],"answers":[{"tags":[],"owner":{"account_id":158014,"reputation":5676,"user_id":376340,"display_name":"kschneid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1285771720,"creation_date":1285771720,"answer_id":3822795,"question_id":3805376,"body_markdown":"Try:\r\n\r\n    jps -J-Djava.io.tmpdir=/app/client/program/tomcat/temp","title":"jps returns no output even when java processes are running","body":"<p>Try:</p>\n\n<pre><code>jps -J-Djava.io.tmpdir=/app/client/program/tomcat/temp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":850,"reputation":5485,"user_id":1113,"accept_rate":57,"display_name":"Sindri Traustason"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1285925141,"creation_date":1285925141,"answer_id":3837919,"question_id":3805376,"body_markdown":"Turns out the user didn&#39;t have access to /tmp because of some issue with mounting the file system. This leads to the files inside hsperfdata_&lt;username&gt; to never be written, even though the user had access to the /tmp/hsperfdata_&lt;username&gt; folder itself.","title":"jps returns no output even when java processes are running","body":"<p>Turns out the user didn't have access to /tmp because of some issue with mounting the file system. This leads to the files inside hsperfdata_ to never be written, even though the user had access to the /tmp/hsperfdata_ folder itself.</p>\n"},{"tags":[],"owner":{"account_id":22969,"reputation":25594,"user_id":57171,"accept_rate":80,"display_name":"Steve Powell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677228233,"creation_date":1301586345,"answer_id":5502566,"question_id":3805376,"body_markdown":"Make sure the program you are trying to &#39;detect&#39; with jps (and jstack, incidentally) runs without setting the &lt;code&gt;java.io.tmpdir&lt;/code&gt; setting, or setting it to the system default.\r\n\r\nThere are a number of bugs on the Sun Developer Network [temp dir locations should not be hardcoded][1], [Fix for 6938627 breaks visualvm monitoring when -Djava.io.tmpdir][2] and [Make temporary directory use property java.io.tmpdir][3] which are relevant here.\r\n\r\nThe story: java Java 6 Update 22 used to use a hardcoded temporary directory for putting data gathered for use by jps and jstack.  The jps and jstack programs knew where to look.\r\n\r\nHowever, because someone raised a &#39;bug&#39; in Java 6 Update 23 they &#39;fixed&#39; it to use the java.io.tmpdir java runtime setting instead.  Now, this defaults to a system-specific location, which is what the &#39;hardcoded&#39; one was. But if you set the option when invoking your java program, then it will use that instead.  Result: jps and jstack look where they expect it to be and don&#39;t find anything.\r\n\r\nThe solution is therefore to ensure that the java.io.tmpdir option is set to the system default (e.g., on the Mac:\r\n\r\n    &gt; java -Djava.io.tmpdir=$TMPDIR javamain\r\n\r\n)\r\n\r\nwhen invoking your program. Then jps and jstack will find it.\r\n\r\nMy colleague Glyn Normington describes this on his [blog][4]. There is apparently a fix in Java 6 Update 25.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6447182\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7009828\r\n  [3]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6938627\r\n  [4]: http://underlap.blogspot.com/2011/03/java-update-breaks-jps-jconsole-etc.html","title":"jps returns no output even when java processes are running","body":"<p>Make sure the program you are trying to 'detect' with jps (and jstack, incidentally) runs without setting the <code>java.io.tmpdir</code> setting, or setting it to the system default.</p>\n<p>There are a number of bugs on the Sun Developer Network <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6447182\" rel=\"nofollow noreferrer\">temp dir locations should not be hardcoded</a>, <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7009828\" rel=\"nofollow noreferrer\">Fix for 6938627 breaks visualvm monitoring when -Djava.io.tmpdir</a> and <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6938627\" rel=\"nofollow noreferrer\">Make temporary directory use property java.io.tmpdir</a> which are relevant here.</p>\n<p>The story: java Java 6 Update 22 used to use a hardcoded temporary directory for putting data gathered for use by jps and jstack.  The jps and jstack programs knew where to look.</p>\n<p>However, because someone raised a 'bug' in Java 6 Update 23 they 'fixed' it to use the java.io.tmpdir java runtime setting instead.  Now, this defaults to a system-specific location, which is what the 'hardcoded' one was. But if you set the option when invoking your java program, then it will use that instead.  Result: jps and jstack look where they expect it to be and don't find anything.</p>\n<p>The solution is therefore to ensure that the java.io.tmpdir option is set to the system default (e.g., on the Mac:</p>\n<pre><code>&gt; java -Djava.io.tmpdir=$TMPDIR javamain\n</code></pre>\n<p>)</p>\n<p>when invoking your program. Then jps and jstack will find it.</p>\n<p>My colleague Glyn Normington describes this on his <a href=\"http://underlap.blogspot.com/2011/03/java-update-breaks-jps-jconsole-etc.html\" rel=\"nofollow noreferrer\">blog</a>. There is apparently a fix in Java 6 Update 25.</p>\n"},{"tags":[],"owner":{"account_id":357406,"reputation":81,"user_id":697547,"accept_rate":0,"display_name":"user697547"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364491043,"creation_date":1364491043,"answer_id":15688130,"question_id":3805376,"body_markdown":"Are you running jps as the same user that is running the Java processes? Even if you run jps as root, it will only return the processes run by that user (root, in this case).","title":"jps returns no output even when java processes are running","body":"<p>Are you running jps as the same user that is running the Java processes? Even if you run jps as root, it will only return the processes run by that user (root, in this case).</p>\n"},{"tags":[],"owner":{"account_id":2545829,"reputation":8480,"user_id":2210667,"accept_rate":70,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1381307170,"creation_date":1381307170,"answer_id":19266687,"question_id":3805376,"body_markdown":"tldr: `sudo jps` worked for me (for reasons invoked in other answers)","title":"jps returns no output even when java processes are running","body":"<p>tldr: <code>sudo jps</code> worked for me (for reasons invoked in other answers)</p>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484060831,"creation_date":1484060831,"answer_id":41571967,"question_id":3805376,"body_markdown":"Also, make sure that your startup script does **not** include `-XX:+PerfDisableSharedMem` because with this option the JVM will not write any stats, making the process invisible to `jps` and `jstat`.\r\n\r\nSee https://support.datastax.com/hc/en-us/articles/208269876-Java-utilities-such-as-jps-or-jstat-unable-to-monitor-DSE-processes for details.","title":"jps returns no output even when java processes are running","body":"<p>Also, make sure that your startup script does <strong>not</strong> include <code>-XX:+PerfDisableSharedMem</code> because with this option the JVM will not write any stats, making the process invisible to <code>jps</code> and <code>jstat</code>.</p>\n\n<p>See <a href=\"https://support.datastax.com/hc/en-us/articles/208269876-Java-utilities-such-as-jps-or-jstat-unable-to-monitor-DSE-processes\" rel=\"noreferrer\">https://support.datastax.com/hc/en-us/articles/208269876-Java-utilities-such-as-jps-or-jstat-unable-to-monitor-DSE-processes</a> for details.</p>\n"}],"owner":{"account_id":850,"reputation":5485,"user_id":1113,"accept_rate":57,"display_name":"Sindri Traustason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27895,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":3837919,"answer_count":6,"score":21,"last_activity_date":1677228233,"creation_date":1285601719,"question_id":3805376,"body_markdown":"I&#39;m trying to debug some issues with java processes on a Solaris box, but running jps returns no output. And jstack gives the error &#39;Permission denied&#39;. The box is part of a cluster of 3 identical servers, jps and jstack work fine on the 2 other servers.\r\n\r\nI found the following forum post from someone with the same problem but no answers:\r\nhttp://forums.sun.com/thread.jspa?threadID=5422237\r\n\r\nTo clarify running bps and grep for java gives all java proceses correctly, but jps gives nothing (anonymised with &#39;program&#39; and &#39;client&#39; to protect the guilty):\r\n\r\n    program @ clientdelivery2 : ~/\r\n    -&gt; bps auxww|grep java\r\n    program     3427  5.5 54.067742726649544 ?        S   Sep 25 1039:47 /usr/jdk/instances/jdk1.6.0_16/bin/amd64/java -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.util.logging.config.file=/app/client/program/tomcat/conf/logging.properties -Xmx6144m -XX:PermSize=128m -XX:MaxPermSize=512m -Djava.endorsed.dirs=/app/client/program/tomcat/endorsed -classpath :/app/client/program/tomcat/bin/bootstrap.jar -Dcatalina.base=/app/client/program/tomcat -Dcatalina.home=/app/client/program/tomcat -Djava.io.tmpdir=/app/client/program/tomcat/temp org.apache.catalina.startup.Bootstrap start\r\n    program    29915  0.1 11.915252441467896 ?        S 14:55:28  3:59 /usr/jdk/instances/jdk1.6.0_16/bin/amd64/java -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.util.logging.config.file=/app/clientclone/program/tomcat/conf/logging.properties -Xmx2g -XX:PermSize=128m -XX:MaxPermSize=512m -Dcom.sun.management.jmxremote -Djava.endorsed.dirs=/app/clientclone/program/tomcat/endorsed -classpath :/app/clientclone/program/tomcat/bin/bootstrap.jar -Dcatalina.base=/app/clientclone/program/tomcat -Dcatalina.home=/app/clientclone/program/tomcat -Djava.io.tmpdir=/app/clientclone/program/tomcat/temp org.apache.catalina.startup.Bootstrap start\r\n    program     1573  0.0  0.0 4760 1332 pts/5    S 17:05:24  0:00 grep --colour java\r\n\r\n    program @ clientdelivery2 : ~/\r\n    -&gt; jps\r\n\r\n    program @ clientdelivery2 : ~/\r\n    -&gt;\r\n\r\nI asked around and from here http://forums.oracle.com/forums/message.jspa?messageID=5408592 I&#39;ve got that the issue is:\r\n\r\n    12460/2: mkdir(&quot;/tmp/hsperfdata_program&quot;, 0755) Err#13 EACCES [ALL]\r\n\r\nMeaning jps is being denied access to the psperfdata directory.\r\n\r\nHas anyone run into this issue and know how to solve it?","title":"jps returns no output even when java processes are running","body":"<p>I'm trying to debug some issues with java processes on a Solaris box, but running jps returns no output. And jstack gives the error 'Permission denied'. The box is part of a cluster of 3 identical servers, jps and jstack work fine on the 2 other servers.</p>\n\n<p>I found the following forum post from someone with the same problem but no answers:\n<a href=\"http://forums.sun.com/thread.jspa?threadID=5422237\" rel=\"noreferrer\">http://forums.sun.com/thread.jspa?threadID=5422237</a></p>\n\n<p>To clarify running bps and grep for java gives all java proceses correctly, but jps gives nothing (anonymised with 'program' and 'client' to protect the guilty):</p>\n\n<pre><code>program @ clientdelivery2 : ~/\n-&gt; bps auxww|grep java\nprogram     3427  5.5 54.067742726649544 ?        S   Sep 25 1039:47 /usr/jdk/instances/jdk1.6.0_16/bin/amd64/java -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.util.logging.config.file=/app/client/program/tomcat/conf/logging.properties -Xmx6144m -XX:PermSize=128m -XX:MaxPermSize=512m -Djava.endorsed.dirs=/app/client/program/tomcat/endorsed -classpath :/app/client/program/tomcat/bin/bootstrap.jar -Dcatalina.base=/app/client/program/tomcat -Dcatalina.home=/app/client/program/tomcat -Djava.io.tmpdir=/app/client/program/tomcat/temp org.apache.catalina.startup.Bootstrap start\nprogram    29915  0.1 11.915252441467896 ?        S 14:55:28  3:59 /usr/jdk/instances/jdk1.6.0_16/bin/amd64/java -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.util.logging.config.file=/app/clientclone/program/tomcat/conf/logging.properties -Xmx2g -XX:PermSize=128m -XX:MaxPermSize=512m -Dcom.sun.management.jmxremote -Djava.endorsed.dirs=/app/clientclone/program/tomcat/endorsed -classpath :/app/clientclone/program/tomcat/bin/bootstrap.jar -Dcatalina.base=/app/clientclone/program/tomcat -Dcatalina.home=/app/clientclone/program/tomcat -Djava.io.tmpdir=/app/clientclone/program/tomcat/temp org.apache.catalina.startup.Bootstrap start\nprogram     1573  0.0  0.0 4760 1332 pts/5    S 17:05:24  0:00 grep --colour java\n\nprogram @ clientdelivery2 : ~/\n-&gt; jps\n\nprogram @ clientdelivery2 : ~/\n-&gt;\n</code></pre>\n\n<p>I asked around and from here <a href=\"http://forums.oracle.com/forums/message.jspa?messageID=5408592\" rel=\"noreferrer\">http://forums.oracle.com/forums/message.jspa?messageID=5408592</a> I've got that the issue is:</p>\n\n<pre><code>12460/2: mkdir(\"/tmp/hsperfdata_program\", 0755) Err#13 EACCES [ALL]\n</code></pre>\n\n<p>Meaning jps is being denied access to the psperfdata directory.</p>\n\n<p>Has anyone run into this issue and know how to solve it?</p>\n"},{"tags":["java","json","angular","typescript","spring-boot"],"comments":[{"owner":{"account_id":14309325,"reputation":843,"user_id":10336155,"display_name":"Mojtaba Nejad Poor Esmaeili"},"score":0,"creation_date":1676906321,"post_id":75509884,"comment_id":133226676,"body_markdown":"did you try hyphen or underscore instead camelCase as word delimiter in URIs?","body":"did you try hyphen or underscore instead camelCase as word delimiter in URIs?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676915845,"post_id":75509884,"comment_id":133229440,"body_markdown":"Can you add whatever Postman returns for a call to http://localhost:8080/providers/getServices","body":"Can you add whatever Postman returns for a call to <a href=\"http://localhost:8080/providers/getServices\" rel=\"nofollow noreferrer\">localhost:8080/providers/getServices</a>"},{"owner":{"account_id":24757214,"reputation":27,"user_id":18642024,"display_name":"magicalassembler"},"score":0,"creation_date":1676993219,"post_id":75509884,"comment_id":133246669,"body_markdown":"@JohnWilliams I just posted the call return from post man as an answer!","body":"@JohnWilliams I just posted the call return from post man as an answer!"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677082867,"post_id":75509884,"comment_id":133268385,"body_markdown":"The response received from the http://localhost:8080/providers/getServices is not valid JSON. The following is not valid JSON:  &quot;Services {name =&quot;&#39;S&#39;. As a minimum it should be &quot;Services&quot;: {&quot;name&quot;: . Hence the error &quot;[Services {&quot;... is not valid JSON. Try pasting it in a JSON validator site like https://jsonlint.com/ to confirm that it&#39;s not JSON. Note also that you missed the start of the JSON n your &#39;answer&#39;. It should start with &quot;[Services {&quot;. I will provide the fix in an answer.","body":"The response received from the <a href=\"http://localhost:8080/providers/getServices\" rel=\"nofollow noreferrer\">localhost:8080/providers/getServices</a> is not valid JSON. The following is not valid JSON:  &quot;Services {name =&quot;&#39;S&#39;. As a minimum it should be &quot;Services&quot;: {&quot;name&quot;: . Hence the error &quot;[Services {&quot;... is not valid JSON. Try pasting it in a JSON validator site like <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a> to confirm that it&#39;s not JSON. Note also that you missed the start of the JSON n your &#39;answer&#39;. It should start with &quot;[Services {&quot;. I will provide the fix in an answer."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677083716,"creation_date":1677083716,"answer_id":75535655,"question_id":75509884,"body_markdown":"You need to convert your object to valid json with a Jackson `ObjectMapper` rather than do a `toString()`\r\n\r\n`getServices` should return as follows:\r\n\r\n    return objectMapper.writeValueAsString(services);\r\n\r\nYou will need to autowire an `ObjectMapper` into `ProvidersController` as follows. `ObjectMapper` is dependent on `jackson-databind` but you probably have it via a dependency to `spring-boot-starter-web`\r\n\r\n    @Autowired\r\n    ObjectMapper objectMapper; // com.fasterxml.jackson.databind.ObjectMapper\r\n\r\n\r\n\r\n","title":"Spring controller not returning valid JSON","body":"<p>You need to convert your object to valid json with a Jackson <code>ObjectMapper</code> rather than do a <code>toString()</code></p>\n<p><code>getServices</code> should return as follows:</p>\n<pre><code>return objectMapper.writeValueAsString(services);\n</code></pre>\n<p>You will need to autowire an <code>ObjectMapper</code> into <code>ProvidersController</code> as follows. <code>ObjectMapper</code> is dependent on <code>jackson-databind</code> but you probably have it via a dependency to <code>spring-boot-starter-web</code></p>\n<pre><code>@Autowired\nObjectMapper objectMapper; // com.fasterxml.jackson.databind.ObjectMapper\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1677227984,"creation_date":1677152727,"answer_id":75544382,"question_id":75509884,"body_markdown":"The `.toString()` method does not convert to proper JSON format. \r\nAs mentioned in the other answer, you can use any Json library to convert it into a JSON string. \r\n\r\nBut instead of returning String, you can return the object. Since it&#39;s a rest controller, it will convert the object into a JSON by default. \r\n\r\n    return services;\r\n\r\nAnd in Angular, you can parse it normally. ","title":"Spring controller not returning valid JSON","body":"<p>The <code>.toString()</code> method does not convert to proper JSON format.\nAs mentioned in the other answer, you can use any Json library to convert it into a JSON string.</p>\n<p>But instead of returning String, you can return the object. Since it's a rest controller, it will convert the object into a JSON by default.</p>\n<pre><code>return services;\n</code></pre>\n<p>And in Angular, you can parse it normally.</p>\n"}],"owner":{"account_id":24757214,"reputation":27,"user_id":18642024,"display_name":"magicalassembler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75535655,"answer_count":2,"score":0,"last_activity_date":1677227984,"creation_date":1676899869,"question_id":75509884,"body_markdown":"I have been trying to connect my backend (spring boot/java) with my frontend (Angular) but I keep getting this error in the console:\r\n```\r\nerror: SyntaxError: Unexpected token &#39;S&#39;, &quot;[Services {&quot;... is not valid JSON at JSON.parse,\r\nmessage: &quot;Http failure during parsing for http://localhost:8080/providers/getServices&quot;\r\n```\r\nMy service looks like this:\r\n```\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport { HttpClient, HttpHeaders } from &#39;@angular/common/http&#39;;\r\nimport { Observable } from &#39;rxjs&#39;;\r\n\r\nimport { ServiceSection } from &#39;src/app/models/services/service-section&#39;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class HomeItemService {\r\n\r\n  private servicesUrl: string;\r\n  private projectsUrl: string;\r\n  // services: Observable&lt;ServiceSection[]&gt;;\r\n\r\n  constructor(private http: HttpClient) {\r\n    this.servicesUrl = &#39;http://localhost:8080/providers/getServices&#39;;\r\n    this.projectsUrl = &#39;http://localhost:8080/projects/getAllProjects&#39;\r\n  }\r\n\r\n  public getAll(): Observable&lt;ServiceSection[]&gt; {\r\n    console.log(this);\r\n    return this.http.get&lt;ServiceSection[]&gt;(this.servicesUrl);\r\n  }\r\n}\r\n```\r\n\r\nAnd my controller looks like this:\r\n```\r\npackage hibera.web.api.controllers;\r\n\r\nimport com.google.api.core.ApiFuture;\r\nimport com.google.cloud.firestore.CollectionReference;\r\nimport com.google.cloud.firestore.DocumentSnapshot;\r\nimport com.google.cloud.firestore.QuerySnapshot;\r\nimport hibera.web.api.domain.Services;\r\nimport hibera.web.api.service.FirebaseInit;\r\nimport hibera.web.api.service.ProvidingsService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/providers&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\npublic class ProvidersController {\r\n    @Autowired\r\n    FirebaseInit db;\r\n    @Autowired\r\n    public ProvidingsService service;\r\n\r\n    @GetMapping(&quot;/getServices&quot;)\r\n    public String getServices() throws InterruptedException, ExecutionException {\r\n        List&lt;Services&gt; services = new ArrayList&lt;Services&gt;();\r\n\r\n        CollectionReference service = db.getFirebase().collection(&quot;services_section&quot;);\r\n        ApiFuture&lt;QuerySnapshot&gt; querySnapshot = service.get();\r\n\r\n        for (DocumentSnapshot doc:querySnapshot.get().getDocuments()){\r\n            Services serv = doc.toObject(Services.class);\r\n            services.add(serv);\r\n        }\r\n\r\n        return services.toString();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI understand that it is not being parsed as a json object but when I try to add ```{responseType: &#39;text&#39;}``` it gives me a bunch of errors in the console. In postman all works fine, but trying to loop it the data from the database to the client gives me an actual headache. I honestly dont think it has anything to do with the API but rather the client.\r\n\r\nI someone could have an answer for me or atleast help me.\r\n\r\nThanks in advance :)","title":"Spring controller not returning valid JSON","body":"<p>I have been trying to connect my backend (spring boot/java) with my frontend (Angular) but I keep getting this error in the console:</p>\n<pre><code>error: SyntaxError: Unexpected token 'S', &quot;[Services {&quot;... is not valid JSON at JSON.parse,\nmessage: &quot;Http failure during parsing for http://localhost:8080/providers/getServices&quot;\n</code></pre>\n<p>My service looks like this:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { ServiceSection } from 'src/app/models/services/service-section';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HomeItemService {\n\n  private servicesUrl: string;\n  private projectsUrl: string;\n  // services: Observable&lt;ServiceSection[]&gt;;\n\n  constructor(private http: HttpClient) {\n    this.servicesUrl = 'http://localhost:8080/providers/getServices';\n    this.projectsUrl = 'http://localhost:8080/projects/getAllProjects'\n  }\n\n  public getAll(): Observable&lt;ServiceSection[]&gt; {\n    console.log(this);\n    return this.http.get&lt;ServiceSection[]&gt;(this.servicesUrl);\n  }\n}\n</code></pre>\n<p>And my controller looks like this:</p>\n<pre><code>package hibera.web.api.controllers;\n\nimport com.google.api.core.ApiFuture;\nimport com.google.cloud.firestore.CollectionReference;\nimport com.google.cloud.firestore.DocumentSnapshot;\nimport com.google.cloud.firestore.QuerySnapshot;\nimport hibera.web.api.domain.Services;\nimport hibera.web.api.service.FirebaseInit;\nimport hibera.web.api.service.ProvidingsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\n@RestController\n@RequestMapping(&quot;/providers&quot;)\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class ProvidersController {\n    @Autowired\n    FirebaseInit db;\n    @Autowired\n    public ProvidingsService service;\n\n    @GetMapping(&quot;/getServices&quot;)\n    public String getServices() throws InterruptedException, ExecutionException {\n        List&lt;Services&gt; services = new ArrayList&lt;Services&gt;();\n\n        CollectionReference service = db.getFirebase().collection(&quot;services_section&quot;);\n        ApiFuture&lt;QuerySnapshot&gt; querySnapshot = service.get();\n\n        for (DocumentSnapshot doc:querySnapshot.get().getDocuments()){\n            Services serv = doc.toObject(Services.class);\n            services.add(serv);\n        }\n\n        return services.toString();\n    }\n}\n\n</code></pre>\n<p>I understand that it is not being parsed as a json object but when I try to add <code>{responseType: 'text'}</code> it gives me a bunch of errors in the console. In postman all works fine, but trying to loop it the data from the database to the client gives me an actual headache. I honestly dont think it has anything to do with the API but rather the client.</p>\n<p>I someone could have an answer for me or atleast help me.</p>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","xml","layout","android-linearlayout"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675055894,"post_id":75277020,"comment_id":132838467,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":27829354,"reputation":176,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677227727,"creation_date":1677227727,"answer_id":75554254,"question_id":75277020,"body_markdown":"You can use `android:orientation=&quot;vertical&quot;` within linearlayout to get elements in different lines.\r\n\r\nYou need to use **Nested LinearLayout** to do that, You can try adding five elements in Linearlayout that has **Horizontal orientation** and then create multiple layout like this and add it in Layout which has **Vertical orientation**.","title":"How I go on a next line when the layout ends in android studio?","body":"<p>You can use <code>android:orientation=&quot;vertical&quot;</code> within linearlayout to get elements in different lines.</p>\n<p>You need to use <strong>Nested LinearLayout</strong> to do that, You can try adding five elements in Linearlayout that has <strong>Horizontal orientation</strong> and then create multiple layout like this and add it in Layout which has <strong>Vertical orientation</strong>.</p>\n"}],"owner":{"account_id":27650759,"reputation":1,"user_id":21105742,"display_name":"Sabino di Tria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677227727,"creation_date":1675014085,"question_id":75277020,"body_markdown":"Currently I have a view that look like this:  \r\n![](https://i.stack.imgur.com/snT1Y.png)\r\n\r\nI have implemented to insert the view programmatically in a horizontally-oriented LinearLayout. And I don&#39;t want my last view item to be displayed like that at the end. I want the it to be shown in the next row instead.\r\n\r\nAnd this is my [xml code](https://i.stack.imgur.com/8lf0k.png):\r\n```xml\r\n&lt;LinearLayout\r\nandroid:id=&quot;@+id/layout1&quot;\r\nandroid:layout_width=&quot;match_parent&quot;\r\nandroid:layout_height=&quot;wrap_content&quot;\r\nandroid:orientation=&quot;horizontal&quot;\r\napp:layout_constraintTop_toBottomOf=&quot;@id/layout0&quot;&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI have also tried ```FlowLayout``` and ```GridLayout```, but both of them seem do not work.","title":"How I go on a next line when the layout ends in android studio?","body":"<p>Currently I have a view that look like this:<br />\n<img src=\"https://i.stack.imgur.com/snT1Y.png\" alt=\"\" /></p>\n<p>I have implemented to insert the view programmatically in a horizontally-oriented LinearLayout. And I don't want my last view item to be displayed like that at the end. I want the it to be shown in the next row instead.</p>\n<p>And this is my <a href=\"https://i.stack.imgur.com/8lf0k.png\" rel=\"nofollow noreferrer\">xml code</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout\nandroid:id=&quot;@+id/layout1&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;\napp:layout_constraintTop_toBottomOf=&quot;@id/layout0&quot;&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I have also tried <code>FlowLayout</code> and <code>GridLayout</code>, but both of them seem do not work.</p>\n"},{"tags":["java","biginteger","logarithm"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677200936,"post_id":75551740,"comment_id":133296228,"body_markdown":"`System.out.println(java.math.BigInteger.valueOf(99).pow(99));`","body":"<code>System.out.println(java.math.BigInteger.valueOf(99).pow(99))&zwnj;&#8203;;</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677208724,"post_id":75551740,"comment_id":133297118,"body_markdown":"If that code comes from Stack Overflow, its perfectly OK to post it here. You may additionally link to the post you took it from for credit.","body":"If that code comes from Stack Overflow, its perfectly OK to post it here. You may additionally link to the post you took it from for credit."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677209150,"post_id":75551740,"comment_id":133297161,"body_markdown":"Convert to a `BigDecimal` using `new BigDecimal(BigInteger.valueOf(99).pow(99))` and then apply [Logarithm of a BigDecimal](https://stackoverflow.com/questions/739532/logarithm-of-a-bigdecimal). There isnt any method built into Java, so its necessarily as manual as that. Dont know whether that was the post you were referring to.","body":"Convert to a <code>BigDecimal</code> using <code>new BigDecimal(BigInteger.valueOf(99).pow(99))</code> and then apply <a href=\"https://stackoverflow.com/questions/739532/logarithm-of-a-bigdecimal\">Logarithm of a BigDecimal</a>. There isnt any method built into Java, so its necessarily as manual as that. Dont know whether that was the post you were referring to."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1677249270,"post_id":75551740,"comment_id":133306013,"body_markdown":"The log (a\\*\\*x) = x \\* log(a). Other than that see the comment by @OleV.V.","body":"The log (a**x) = x * log(a). Other than that see the comment by @OleV.V."}],"owner":{"account_id":4391334,"reputation":11,"user_id":3579609,"display_name":"user3579609"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677249351,"answer_count":0,"score":0,"last_activity_date":1677227704,"creation_date":1677200358,"question_id":75551740,"body_markdown":"I am trying to find the logarithmic value for a&lt;sup&gt;x&lt;/sup&gt; where a &lt;= 9999 and x &lt;= 9999, e.g. 99&lt;sup&gt;99&lt;/sup&gt; I got as 656.3063053878814, i.e. I got only 13 digits after the decimal point. I would like to know if I can get at least 50 to 99 digits after the decimal point.  \r\nThanks in advance.\r\n\r\nI copied the code from one of the member from this group written in Java and used it. No idea if it&#39;s OK to paste here, hence asking for a simpler code in Java, please.","title":"Getting logarithm value of a big Integer","body":"<p>I am trying to find the logarithmic value for a<sup>x</sup> where a &lt;= 9999 and x &lt;= 9999, e.g. 99<sup>99</sup> I got as 656.3063053878814, i.e. I got only 13 digits after the decimal point. I would like to know if I can get at least 50 to 99 digits after the decimal point.<br />\nThanks in advance.</p>\n<p>I copied the code from one of the member from this group written in Java and used it. No idea if it's OK to paste here, hence asking for a simpler code in Java, please.</p>\n"},{"tags":["java","spring-boot","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642434011,"creation_date":1642434011,"answer_id":70743934,"question_id":70740354,"body_markdown":"That should not happen... JobRunr is doing optimistic locking so it tries to lock a job before it starts processing it. Only if it can acquire the lock, it will process the job. Can you create a Github repo that reproduces the issue and create a Github issue in the JobRunr repo?","title":"Jobrunr- Prevent multiple threads trying to execute the same job","body":"<p>That should not happen... JobRunr is doing optimistic locking so it tries to lock a job before it starts processing it. Only if it can acquire the lock, it will process the job. Can you create a Github repo that reproduces the issue and create a Github issue in the JobRunr repo?</p>\n"}],"owner":{"account_id":3320406,"reputation":340,"user_id":2791725,"accept_rate":78,"display_name":"San"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677227668,"creation_date":1642417756,"question_id":70740354,"body_markdown":"Scenario:\r\nI have enqueued a job and thread1 has started executing the job. Meanwhile, another thread2 queries the DB and fetches a job from the DB, and starts processing it. Thus the same job is being executed by 2 threads concurrently. How do I prevent thread2 from accessing that job if it&#39;s already picked by thread1? \r\nIs there Jobrunr setting or any annotation? I am using Jobrunr without pro.","title":"Jobrunr- Prevent multiple threads trying to execute the same job","body":"<p>Scenario:\nI have enqueued a job and thread1 has started executing the job. Meanwhile, another thread2 queries the DB and fetches a job from the DB, and starts processing it. Thus the same job is being executed by 2 threads concurrently. How do I prevent thread2 from accessing that job if it's already picked by thread1?\nIs there Jobrunr setting or any annotation? I am using Jobrunr without pro.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":2,"creation_date":1676932710,"post_id":75499343,"comment_id":133233299,"body_markdown":"This is an opinion, as there is no requirement anywhere but using Fields outside of the class limits providers and what they can do to instrument the class for lazy access. You can use it, but as when disregarding any best practice, you should know what you are doing and have a good reason for it.","body":"This is an opinion, as there is no requirement anywhere but using Fields outside of the class limits providers and what they can do to instrument the class for lazy access. You can use it, but as when disregarding any best practice, you should know what you are doing and have a good reason for it."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1677227509,"post_id":75499343,"comment_id":133299917,"body_markdown":"All the fields should be private, not the properties","body":"All the fields should be private, not the properties"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676881247,"creation_date":1676801615,"answer_id":75499375,"question_id":75499343,"body_markdown":"From the [JakartaEE JPA 3.0 specification, &#167;2.2.: Persistent Fields and Properties][jpaSpec]:\r\n\r\n&gt; ### 2.2. Persistent Fields and Properties\r\n&gt;\r\n&gt; The persistent state of an entity is accessed by the persistence provider runtime&lt;sup&gt;[[1]][jpaFootnote]&lt;/sup&gt; either via JavaBeans style property accessors (property access) or via instance variables (field access). ...\r\n&gt; \r\n&gt; ...\r\n&gt;\r\n&gt; The instance variables of a class must be private, protected, or package visibility independent of whether field access or property access is used. When property access is used, the property accessor methods must be public or protected.\r\n&gt;\r\n&gt; ....\r\n\r\nThis means that accessors are not strictly required, but highly recommended. The alternative (field access) is regarded as a code smell.\r\n\r\n[jpaSpec]: https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#persistent-fields-and-properties\r\n\r\n[jpaFootnote]: https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#_footnotedef_1","title":"JPA required getters and setters for the entity class","body":"<p>From the <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#persistent-fields-and-properties\" rel=\"nofollow noreferrer\">JakartaEE JPA 3.0 specification, 2.2.: Persistent Fields and Properties</a>:</p>\n<blockquote>\n<h3>2.2. Persistent Fields and Properties</h3>\n<p>The persistent state of an entity is accessed by the persistence provider runtime<sup><a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#_footnotedef_1\" rel=\"nofollow noreferrer\">[1]</a></sup> either via JavaBeans style property accessors (property access) or via instance variables (field access). ...</p>\n<p>...</p>\n<p>The instance variables of a class must be private, protected, or package visibility independent of whether field access or property access is used. When property access is used, the property accessor methods must be public or protected.</p>\n<p>....</p>\n</blockquote>\n<p>This means that accessors are not strictly required, but highly recommended. The alternative (field access) is regarded as a code smell.</p>\n"},{"tags":[],"owner":{"account_id":25789043,"reputation":25,"user_id":21218211,"display_name":"DonaPaulsen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677227090,"creation_date":1676896895,"answer_id":75509415,"question_id":75499343,"body_markdown":"Yes you should use @entity, it also helps for others when they read your code, it documents it, you use private and @Data annotation from Lombok (to auto generate Getter/setter)","title":"JPA required getters and setters for the entity class","body":"<p>Yes you should use @entity, it also helps for others when they read your code, it documents it, you use private and @Data annotation from Lombok (to auto generate Getter/setter)</p>\n"}],"owner":{"account_id":25504605,"reputation":81,"user_id":19297279,"display_name":"Mer Mer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677227090,"creation_date":1676801266,"question_id":75499343,"body_markdown":"I am new to the Spring ecosystem and I wonder if the @Entity class should **always** have getters and setters and that all the properties should be private? Is it correct that the JPA(or Hibernate) will require those methods (getters/setters) to fetch the values or set them in the database ?","title":"JPA required getters and setters for the entity class","body":"<p>I am new to the Spring ecosystem and I wonder if the @Entity class should <strong>always</strong> have getters and setters and that all the properties should be private? Is it correct that the JPA(or Hibernate) will require those methods (getters/setters) to fetch the values or set them in the database ?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1677228113,"post_id":75554140,"comment_id":133300046,"body_markdown":"Sari, do you have multiple databases or a single database having multiple schemas? If it&#39;s the latter, then it&#39;s possible to use a single DataSource in Spring boot.","body":"Sari, do you have multiple databases or a single database having multiple schemas? If it&#39;s the latter, then it&#39;s possible to use a single DataSource in Spring boot."},{"owner":{"account_id":20825058,"reputation":11,"user_id":15295759,"display_name":"Serhat Sar"},"score":0,"creation_date":1677229103,"post_id":75554140,"comment_id":133300331,"body_markdown":"@dsp_user multiple databases","body":"@dsp_user multiple databases"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1677236808,"post_id":75554140,"comment_id":133302481,"body_markdown":"How do you want to control which database you are accessing?","body":"How do you want to control which database you are accessing?"}],"owner":{"account_id":20825058,"reputation":11,"user_id":15295759,"display_name":"Serhat Sar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677226970,"creation_date":1677226970,"question_id":75554140,"body_markdown":"I have multiple PostgreSQL Database. I want to access them using one data source in spring boot. Is there anyway i can do this? I do not want to create datasource per database. I only want to create one. How can i do that?\r\n\r\nI tried to create custom data source but could not do it\r\n","title":"Can we use one datasource for multiple databases?","body":"<p>I have multiple PostgreSQL Database. I want to access them using one data source in spring boot. Is there anyway i can do this? I do not want to create datasource per database. I only want to create one. How can i do that?</p>\n<p>I tried to create custom data source but could not do it</p>\n"},{"tags":["javascript","java","spring","client","vaadin"],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677226707,"creation_date":1677226707,"question_id":75554098,"body_markdown":"I have a java program with shepherd, Vaadin, Spring and Java. I have a webpage and want to guide the user with a tour to it. This tour is done with shepherd via javascript. If i want to use Vaadin, i need to use java to add Components to the Website.\r\nThis means, if i want to use Shepherd js, i need to do it in javascript, while Vaadin Components are programmed in java.\r\nFor that, i need a connection between the Javascript part and the Java Components. Why? Because if i want for instance, manage the user interface through the tour, for example i want that the Accordion should open up in the next step of the shepherd tour, i need some input to tell the program, or to tell shepherd js, that it needs to open up the accordion.\r\n\r\nI already have seen the tutorial from Vaadin how to connect javascript with java:\r\nhttps://vaadin.com/blog/calling-java-from-javascript\r\nbut it didnt solved my problem.\r\n\r\nIn the Tutorial they give an example how you can retrieve methods in java from the Javascript or moreover how you can also use parameters from Javascript to call Java Methods or in the other way, how you can call javascript from java and directly hand over the class instance.\r\n\r\nTo my problem:\r\nI have a shepherd class for an easy to use Tourguide:\r\n\r\n    window.startTour = (element) =&gt; {\r\n\tconst tour = new Shepherd.Tour({\r\n\t\tuseModalOverlay: true,\r\n\t\tdefaultStepOptions: {\r\n\t\t\tscrollTo: {\r\n\t\t\t\tbehavior: &quot;smooth&quot;,\r\n\t\t\t\tblock: &quot;center&quot;\r\n\t\t\t},\r\n\t\t\tcancelIcon: {\r\n\t\t\t\tenabled: true\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\ttour.addStep({\r\n\t\tid: &quot;step1&quot;,\r\n\t\ttitle: &quot;some default title&quot;,\r\n\t\ttext: &quot;some default text&quot;,\r\n\t\tbeforeShowPromise: function () {\r\n\t\t\treturn new Promise(function(resolve) {\r\n\t\t\t\telement.$server.openAccordion(0);\r\n\t\t\t\tsetTimeout(() =&gt; resolve(), 25);\r\n\t\t\t});\r\n\t\t},\r\n\t\tbuttons: [{text:&quot;next&quot;, action: tour.next}]\r\n\t});\r\n\r\n\ttour.addStep({\r\n\t\tid: &quot;step2&quot;,\r\n\t\ttitle: &quot;some default title for step 2&quot;,\r\n\t\ttext: &quot;hello world&quot;,\r\n\t\tbeforeShowPromise: function () {\r\n\t\t\treturn new Promise(function(resolve) {\r\n\t\t\t\telement.$server.openAccordion(1);\r\n\t\t\t\tsetTimeout(() =&gt; resolve(), 25);\r\n\t\t\t});\r\n\t\t},\r\n\t\tbuttons: [{text:&quot;Zur&#252;ck&quot;, action: tour.back}, {text:&quot;Weiter&quot;, action: tour.next}],\r\n\t\tattachTo: {element: &quot;#bodyLayout&quot;, on: &quot;right&quot;}\r\n\t});\r\n\r\n\ttour.start();};\r\n\r\nThis Shepherd class only contains two Steps in this example. I have a method &quot;openAccordion(int index)&quot; in the Java class, example down.\r\n\r\n\r\nIn my java main class, where i have the methods with the annotation @Clientcallable it looks like this (with &lt;accordionElement&gt; is a accordion component created with Vaadin):\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n\t@ClientCallable\r\n\tpublic void openAccordion(int byIndex) {\r\n\t\t&lt;accordionElement&gt;.open(byIndex);\r\n\t}\r\n\r\nNow, i have a second java class to manage where the user is right now on which page. On every page there is a tutorial button in the corner and if the user click on it, the program needs to know on which page he is actually, so im gonna say:\r\n\r\n    TourPageController tourPageController = new TourPageController();\r\n\t\tButton tutorialPageButton = GetTutorialButton.getButton();\r\n\t\taddToNavbar(tutorialPageButton);\r\n\t\ttutorialPageButton.addClickListener(c -&gt; tourPageController.executeShepherd(UI.getCurrent().getInternals().getTitle()));\r\n\r\n\r\nin the code above, TourPageController is the class to controll, on which page the user is right now and which Shepherd js code the program needs to execute, to start the user guide for the website, on which the user is right now.\r\nThe GetTutorialButton.getButton() is another class to return a simple Vaadin Button with some Style CSS.\r\n\r\nHere is the TourPageController class:\r\n\r\n    public class TourPageController {\r\n\tpublic void executeShepherd(String appTitle) {\r\n\t\tswitch (appTitle) {\r\n\t\t\tcase &quot;examplePage&quot;:\r\n\t\t\t\tUI.getCurrent().getPage().executeJs(&quot;window.startTour($0)&quot;, &lt;AboutUs.class&gt;);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tNotification.show(&quot;Not available right now&quot;, 2400, Notification.Position.TOP_CENTER);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nSo: If the User is on the Webpage &quot;examplePage&quot; and he now clicks on the Tour guide button, the program exactly knows which Javascript he needs to execute. In this example he is going to execute &quot;UI.getCurrent().getPage.executeJs(&quot;window.startTour($0)&quot;, &lt;AboutUs.class&gt;)&quot;.&lt;br&gt;&lt;br&gt;\r\nRight here is the problem: I usually have the executeJs code in the same class as the methods, which getting called by shepherd. Then i just do something like this:&lt;br&gt;\r\n&quot;UI.getCurrent().getPage.executeJs(&quot;window.startTour($0)&quot;, this)&quot;.&lt;br&gt;\r\n(with a button on the website and a unique clickListener for this site)&lt;br&gt;\r\n\r\nBut if i want to use a single Button for all sites, i need something like the class above, the TourPageController. But if i want to execute the shepherd js, what parameter do i need to hand over? I cant hand over this, because the methods (which getting called by the shepherd js) arent in the TourPageController, moreover they are in the unique Java Main Class.\r\n\r\nWhat should i need to hand over as Serializable parameter, so shepherd can get access on the Methods in the Mainclass from javascript.\r\n\r\n\r\n\r\nMy result i want to have looks like this:\r\nIf a User A clicks on any page on the tutorial Page Button, i want, that the program first finds out, on which page the user is right now (TourPageController), than i want to execute the specific shepherd js for this site (-&gt; shepherd js file). In the shepherd js file i want to execute Java methods, which arent in the TourPageController Class, moreover in a unique class for the unique page, the user is right now.\r\n\r\nMy Question: Which Parameter i have to hand over at the execute Method in the TourPageController class, in order to achieve, that shepherd js can call the methods in the uniqge class?\r\n\r\n\r\n\r\nIm using the newest version of intelliJ with Java, newest Version of Vaadin, Spring and Shepherd js (which only works in Javascript and not in java directly, like Vaadin does).\r\n\r\n\r\nThanks\r\n","title":"Which parameter to hand over at the executeJs(&lt;js file&gt;, &lt;serializable param&gt;) method, to call Methods which are in other java class?","body":"<p>I have a java program with shepherd, Vaadin, Spring and Java. I have a webpage and want to guide the user with a tour to it. This tour is done with shepherd via javascript. If i want to use Vaadin, i need to use java to add Components to the Website.\nThis means, if i want to use Shepherd js, i need to do it in javascript, while Vaadin Components are programmed in java.\nFor that, i need a connection between the Javascript part and the Java Components. Why? Because if i want for instance, manage the user interface through the tour, for example i want that the Accordion should open up in the next step of the shepherd tour, i need some input to tell the program, or to tell shepherd js, that it needs to open up the accordion.</p>\n<p>I already have seen the tutorial from Vaadin how to connect javascript with java:\n<a href=\"https://vaadin.com/blog/calling-java-from-javascript\" rel=\"nofollow noreferrer\">https://vaadin.com/blog/calling-java-from-javascript</a>\nbut it didnt solved my problem.</p>\n<p>In the Tutorial they give an example how you can retrieve methods in java from the Javascript or moreover how you can also use parameters from Javascript to call Java Methods or in the other way, how you can call javascript from java and directly hand over the class instance.</p>\n<p>To my problem:\nI have a shepherd class for an easy to use Tourguide:</p>\n<pre><code>window.startTour = (element) =&gt; {\nconst tour = new Shepherd.Tour({\n    useModalOverlay: true,\n    defaultStepOptions: {\n        scrollTo: {\n            behavior: &quot;smooth&quot;,\n            block: &quot;center&quot;\n        },\n        cancelIcon: {\n            enabled: true\n        }\n    }\n});\n\ntour.addStep({\n    id: &quot;step1&quot;,\n    title: &quot;some default title&quot;,\n    text: &quot;some default text&quot;,\n    beforeShowPromise: function () {\n        return new Promise(function(resolve) {\n            element.$server.openAccordion(0);\n            setTimeout(() =&gt; resolve(), 25);\n        });\n    },\n    buttons: [{text:&quot;next&quot;, action: tour.next}]\n});\n\ntour.addStep({\n    id: &quot;step2&quot;,\n    title: &quot;some default title for step 2&quot;,\n    text: &quot;hello world&quot;,\n    beforeShowPromise: function () {\n        return new Promise(function(resolve) {\n            element.$server.openAccordion(1);\n            setTimeout(() =&gt; resolve(), 25);\n        });\n    },\n    buttons: [{text:&quot;Zurck&quot;, action: tour.back}, {text:&quot;Weiter&quot;, action: tour.next}],\n    attachTo: {element: &quot;#bodyLayout&quot;, on: &quot;right&quot;}\n});\n\ntour.start();};\n</code></pre>\n<p>This Shepherd class only contains two Steps in this example. I have a method &quot;openAccordion(int index)&quot; in the Java class, example down.</p>\n<p>In my java main class, where i have the methods with the annotation @Clientcallable it looks like this (with  is a accordion component created with Vaadin):</p>\n<pre><code>@SuppressWarnings(&quot;unused&quot;)\n@ClientCallable\npublic void openAccordion(int byIndex) {\n    &lt;accordionElement&gt;.open(byIndex);\n}\n</code></pre>\n<p>Now, i have a second java class to manage where the user is right now on which page. On every page there is a tutorial button in the corner and if the user click on it, the program needs to know on which page he is actually, so im gonna say:</p>\n<pre><code>TourPageController tourPageController = new TourPageController();\n    Button tutorialPageButton = GetTutorialButton.getButton();\n    addToNavbar(tutorialPageButton);\n    tutorialPageButton.addClickListener(c -&gt; tourPageController.executeShepherd(UI.getCurrent().getInternals().getTitle()));\n</code></pre>\n<p>in the code above, TourPageController is the class to controll, on which page the user is right now and which Shepherd js code the program needs to execute, to start the user guide for the website, on which the user is right now.\nThe GetTutorialButton.getButton() is another class to return a simple Vaadin Button with some Style CSS.</p>\n<p>Here is the TourPageController class:</p>\n<pre><code>public class TourPageController {\npublic void executeShepherd(String appTitle) {\n    switch (appTitle) {\n        case &quot;examplePage&quot;:\n            UI.getCurrent().getPage().executeJs(&quot;window.startTour($0)&quot;, &lt;AboutUs.class&gt;);\n            break;\n        default:\n            Notification.show(&quot;Not available right now&quot;, 2400, Notification.Position.TOP_CENTER);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>So: If the User is on the Webpage &quot;examplePage&quot; and he now clicks on the Tour guide button, the program exactly knows which Javascript he needs to execute. In this example he is going to execute &quot;UI.getCurrent().getPage.executeJs(&quot;window.startTour($0)&quot;, &lt;AboutUs.class&gt;)&quot;.<br><br>\nRight here is the problem: I usually have the executeJs code in the same class as the methods, which getting called by shepherd. Then i just do something like this:<br>\n&quot;UI.getCurrent().getPage.executeJs(&quot;window.startTour($0)&quot;, this)&quot;.<br>\n(with a button on the website and a unique clickListener for this site)<br></p>\n<p>But if i want to use a single Button for all sites, i need something like the class above, the TourPageController. But if i want to execute the shepherd js, what parameter do i need to hand over? I cant hand over this, because the methods (which getting called by the shepherd js) arent in the TourPageController, moreover they are in the unique Java Main Class.</p>\n<p>What should i need to hand over as Serializable parameter, so shepherd can get access on the Methods in the Mainclass from javascript.</p>\n<p>My result i want to have looks like this:\nIf a User A clicks on any page on the tutorial Page Button, i want, that the program first finds out, on which page the user is right now (TourPageController), than i want to execute the specific shepherd js for this site (-&gt; shepherd js file). In the shepherd js file i want to execute Java methods, which arent in the TourPageController Class, moreover in a unique class for the unique page, the user is right now.</p>\n<p>My Question: Which Parameter i have to hand over at the execute Method in the TourPageController class, in order to achieve, that shepherd js can call the methods in the uniqge class?</p>\n<p>Im using the newest version of intelliJ with Java, newest Version of Vaadin, Spring and Shepherd js (which only works in Javascript and not in java directly, like Vaadin does).</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","web","multipart"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676888515,"post_id":75507026,"comment_id":133221550,"body_markdown":"Please include the code in your question, don&#39;t link to snippets of code in images as that is totally unreadadble and needs the people who want to help click all the links. Include them in your question instead.","body":"Please include the code in your question, don&#39;t link to snippets of code in images as that is totally unreadadble and needs the people who want to help click all the links. Include them in your question instead."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676889281,"post_id":75507026,"comment_id":133221769,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":19992492,"reputation":3,"user_id":14653192,"display_name":"luks0na"},"score":0,"creation_date":1676890420,"post_id":75507026,"comment_id":133222096,"body_markdown":"I updated the post with code snippets, keeping postman as a picture, because it would further complicate things if I copied every part separately into the post.","body":"I updated the post with code snippets, keeping postman as a picture, because it would further complicate things if I copied every part separately into the post."}],"answers":[{"tags":[],"owner":{"account_id":19992492,"reputation":3,"user_id":14653192,"display_name":"luks0na"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677226009,"creation_date":1676897965,"answer_id":75509559,"question_id":75507026,"body_markdown":"I had problems in `uploadExcelFile` method, one of dependencies I was using could not detect valid beans for an autowired interface. That was causing this issue. \r\nNothing was wrong with Controller set up or postman config pictured in the post.","title":"Trouble sending multipart request","body":"<p>I had problems in <code>uploadExcelFile</code> method, one of dependencies I was using could not detect valid beans for an autowired interface. That was causing this issue.\nNothing was wrong with Controller set up or postman config pictured in the post.</p>\n"}],"owner":{"account_id":19992492,"reputation":3,"user_id":14653192,"display_name":"luks0na"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75509559,"answer_count":1,"score":0,"last_activity_date":1677226009,"creation_date":1676882876,"question_id":75507026,"body_markdown":"I&#39;m creating a new endpoint to upload and process excel and csv files.\r\nI&#39;m trying to create an endpoint using springs Multipart upload, but I cannot reach the endpoint from Postman or using curl in command line.\r\n\r\nI have a RestController \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/v1/finance/ratecard&quot;)\r\n    public class RateCardController \r\n\r\nand I am able to access other endpoints in this controller without a problem.\r\nI added new endpoint to this controller.\r\n\r\n    @PostMapping(value = &quot;/uploadFile&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public void uploadExcelFile(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;meta-data&quot;) UploadRateCardRequest uploadRateCardRequest) { \r\n      //Unrelated logic here\r\n    }\r\n\r\nAnd I&#39;m trying to send POST request using postman, I haven&#39;t touched Content-Type header, it&#39;s generated by Postman, but I have had no success reaching it. I always get 404 error. [Postman Config](https://i.stack.imgur.com/5W7yo.png)\r\n\r\nI have tried adding consumes = &quot;multipart/mixed&quot; and &quot;multipart/form-data&quot; to @PostMapping annotation, but those changes had no effect.\r\n\r\nWhat am I doing wrong? Am I missing some obvious request parameter in Postman, or is my controller set up wrong?","title":"Trouble sending multipart request","body":"<p>I'm creating a new endpoint to upload and process excel and csv files.\nI'm trying to create an endpoint using springs Multipart upload, but I cannot reach the endpoint from Postman or using curl in command line.</p>\n<p>I have a RestController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1/finance/ratecard&quot;)\npublic class RateCardController \n</code></pre>\n<p>and I am able to access other endpoints in this controller without a problem.\nI added new endpoint to this controller.</p>\n<pre><code>@PostMapping(value = &quot;/uploadFile&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic void uploadExcelFile(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;meta-data&quot;) UploadRateCardRequest uploadRateCardRequest) { \n  //Unrelated logic here\n}\n</code></pre>\n<p>And I'm trying to send POST request using postman, I haven't touched Content-Type header, it's generated by Postman, but I have had no success reaching it. I always get 404 error. <a href=\"https://i.stack.imgur.com/5W7yo.png\" rel=\"nofollow noreferrer\">Postman Config</a></p>\n<p>I have tried adding consumes = &quot;multipart/mixed&quot; and &quot;multipart/form-data&quot; to @PostMapping annotation, but those changes had no effect.</p>\n<p>What am I doing wrong? Am I missing some obvious request parameter in Postman, or is my controller set up wrong?</p>\n"},{"tags":["java","android","android-studio","mobile","android-studio-4.2"],"answers":[{"tags":[],"owner":{"account_id":2288901,"reputation":86,"user_id":2012315,"display_name":"user2012315"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633628884,"creation_date":1633628884,"answer_id":69485667,"question_id":68199736,"body_markdown":"I was having a similar problem changing the launcher icon. When I would do a build *some* of the `mipmap` files would be deleted. I found that launcher icons for API 25 and below were affected. On the target system, the default launcher icon was shown rather than my custom icon.\r\n\r\nHere&#39;s what seemed to work: I used File Explorer to delete all of the `ic_launcher*` files, then used Android Studio to create a new `ic_launcher` Image Asset.  All of the folders were populated and the files stayed in place when I did a build. The launcher icons were correct on all API levels.","title":"Android Studio 4.2.1 deleting mipmap folders after change my icon?","body":"<p>I was having a similar problem changing the launcher icon. When I would do a build <em>some</em> of the <code>mipmap</code> files would be deleted. I found that launcher icons for API 25 and below were affected. On the target system, the default launcher icon was shown rather than my custom icon.</p>\n<p>Here's what seemed to work: I used File Explorer to delete all of the <code>ic_launcher*</code> files, then used Android Studio to create a new <code>ic_launcher</code> Image Asset.  All of the folders were populated and the files stayed in place when I did a build. The launcher icons were correct on all API levels.</p>\n"},{"tags":[],"owner":{"account_id":15331217,"reputation":139,"user_id":11060846,"display_name":"SagaRock101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677225192,"creation_date":1677225192,"answer_id":75553877,"question_id":68199736,"body_markdown":"I was facing the same issue and followed the accepted answer , but still rebuilding the files inside `mipmap/ic_launcher*.xml` folder were getting deleted back, later I updated the Android Studio from Dolphin to Electric Eel and It started to work fine","title":"Android Studio 4.2.1 deleting mipmap folders after change my icon?","body":"<p>I was facing the same issue and followed the accepted answer , but still rebuilding the files inside <code>mipmap/ic_launcher*.xml</code> folder were getting deleted back, later I updated the Android Studio from Dolphin to Electric Eel and It started to work fine</p>\n"}],"owner":{"account_id":11246757,"reputation":81,"user_id":8249255,"display_name":"Benzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69485667,"answer_count":2,"score":1,"last_activity_date":1677225192,"creation_date":1625076704,"question_id":68199736,"body_markdown":"**When i try to change my app icon, Android Studio deleting mipmap folders!!!**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Here are mipmap folders but when I check them i find them empty!**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a7TPr.png\r\n  [2]: https://i.stack.imgur.com/4Erbp.png\r\n  [3]: https://i.stack.imgur.com/xXom4.png","title":"Android Studio 4.2.1 deleting mipmap folders after change my icon?","body":"<p><strong>When i try to change my app icon, Android Studio deleting mipmap folders!!!</strong></p>\n<p><a href=\"https://i.stack.imgur.com/a7TPr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a7TPr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/4Erbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Erbp.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Here are mipmap folders but when I check them i find them empty!</strong></p>\n<p><a href=\"https://i.stack.imgur.com/xXom4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xXom4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","intellij-idea","code-formatting"],"comments":[{"owner":{"account_id":455488,"reputation":2201,"user_id":853671,"accept_rate":69,"display_name":"Lasitha Benaragama"},"score":0,"creation_date":1436948566,"post_id":31424280,"comment_id":50821644,"body_markdown":"I tried you code in 14.1.3 But it is not recreated.","body":"I tried you code in 14.1.3 But it is not recreated."},{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1436949415,"post_id":31424280,"comment_id":50822153,"body_markdown":"Have you tried to format your code with &quot;Align with multiline&quot; checked?","body":"Have you tried to format your code with &quot;Align with multiline&quot; checked?"},{"owner":{"account_id":1780785,"reputation":405,"user_id":1623597,"accept_rate":100,"display_name":"Geniy"},"score":0,"creation_date":1436950122,"post_id":31424280,"comment_id":50822604,"body_markdown":"version 14.1.4.  what groups I need to chose &quot;Align with multiline&quot; for?","body":"version 14.1.4.  what groups I need to chose &quot;Align with multiline&quot; for?"},{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1436958400,"post_id":31424280,"comment_id":50827832,"body_markdown":"try &quot;chained method calls&quot;","body":"try &quot;chained method calls&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1780785,"reputation":405,"user_id":1623597,"accept_rate":100,"display_name":"Geniy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1437125408,"creation_date":1437125408,"answer_id":31472593,"question_id":31424280,"body_markdown":"The problem was resolved when I ticked property \r\n\r\n&gt; &quot;keep when reformatting&quot;/&quot;Line breaks&quot;\r\n\r\n  it helps to format code on my own, with custom line breaks.","title":"Java code formatting in intellij Idea (chained method calls)","body":"<p>The problem was resolved when I ticked property </p>\n\n<blockquote>\n  <p>\"keep when reformatting\"/\"Line breaks\"</p>\n</blockquote>\n\n<p>it helps to format code on my own, with custom line breaks.</p>\n"},{"tags":[],"owner":{"account_id":2060370,"reputation":891,"user_id":1837075,"display_name":"FloatOverflow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508200509,"creation_date":1508200509,"answer_id":46780822,"question_id":31424280,"body_markdown":"There is another one option called &quot;Wrap first call&quot; in IntelliJ IDEA 2017.3 (I&#39;m not sure when they exactly added it):\r\n\r\n[![Wrap first call option][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BkiKi.png","title":"Java code formatting in intellij Idea (chained method calls)","body":"<p>There is another one option called \"Wrap first call\" in IntelliJ IDEA 2017.3 (I'm not sure when they exactly added it):</p>\n\n<p><a href=\"https://i.stack.imgur.com/BkiKi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BkiKi.png\" alt=\"Wrap first call option\"></a></p>\n"}],"owner":{"account_id":1780785,"reputation":405,"user_id":1623597,"accept_rate":100,"display_name":"Geniy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7318,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31472593,"answer_count":2,"score":7,"last_activity_date":1677225180,"creation_date":1436946034,"question_id":31424280,"body_markdown":"I have a small problem with java code formatting in Intellij Idea 14.1.4.\r\nI have a piece of code formatted manually by me, that looks good for me:\r\n\r\n    public class Test {\r\n        private static final ImmutableMap&lt;String, String&gt; map = new ImmutableMap.Builder&lt;String, String&gt;()\r\n                .put(&quot;key&quot;, &quot;value&quot;)\r\n                .put(&quot;key&quot;, &quot;value&quot;)\r\n                .put(&quot;key&quot;, &quot;value&quot;)\r\n                .put(&quot;key&quot;, &quot;value&quot;)\r\n                .put(&quot;key&quot;, &quot;value&quot;)\r\n                .put(&quot;key&quot;, &quot;value&quot;)\r\n                .build()\r\n    }\r\n\r\nbut when I reformatted this code(Ctrl + Alt + L), I got:\r\n\r\n    public class Test {\r\n        private static final ImmutableMap&lt;String, String&gt; map =\r\n                new ImmutableMap.Builder&lt;String, String&gt;().put(&quot;key&quot;, &quot;value&quot;)\r\n                        .put(&quot;key&quot;, &quot;value&quot;)\r\n                        .put(&quot;key&quot;, &quot;value&quot;)\r\n                        .put(&quot;key&quot;, &quot;value&quot;)\r\n                        .put(&quot;key&quot;, &quot;value&quot;)\r\n                        .put(&quot;key&quot;, &quot;value&quot;)\r\n                        .build()\r\n    }\r\n\r\n**Expected result:** Intellij won&#39;t reformat anything because the code is already well-formatted.\r\n\r\nI have a scheme with the next settings:\r\n\r\n![enter image description here][1] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/woiYZ.png\r\n\r\n**Could anybody explain how I can reach expected result?**\r\n","title":"Java code formatting in intellij Idea (chained method calls)","body":"<p>I have a small problem with java code formatting in Intellij Idea 14.1.4.\nI have a piece of code formatted manually by me, that looks good for me:</p>\n<pre><code>public class Test {\n    private static final ImmutableMap&lt;String, String&gt; map = new ImmutableMap.Builder&lt;String, String&gt;()\n            .put(&quot;key&quot;, &quot;value&quot;)\n            .put(&quot;key&quot;, &quot;value&quot;)\n            .put(&quot;key&quot;, &quot;value&quot;)\n            .put(&quot;key&quot;, &quot;value&quot;)\n            .put(&quot;key&quot;, &quot;value&quot;)\n            .put(&quot;key&quot;, &quot;value&quot;)\n            .build()\n}\n</code></pre>\n<p>but when I reformatted this code(Ctrl + Alt + L), I got:</p>\n<pre><code>public class Test {\n    private static final ImmutableMap&lt;String, String&gt; map =\n            new ImmutableMap.Builder&lt;String, String&gt;().put(&quot;key&quot;, &quot;value&quot;)\n                    .put(&quot;key&quot;, &quot;value&quot;)\n                    .put(&quot;key&quot;, &quot;value&quot;)\n                    .put(&quot;key&quot;, &quot;value&quot;)\n                    .put(&quot;key&quot;, &quot;value&quot;)\n                    .put(&quot;key&quot;, &quot;value&quot;)\n                    .build()\n}\n</code></pre>\n<p><strong>Expected result:</strong> Intellij won't reformat anything because the code is already well-formatted.</p>\n<p>I have a scheme with the next settings:</p>\n<p><img src=\"https://i.stack.imgur.com/woiYZ.png\" alt=\"enter image description here\" /></p>\n<p><strong>Could anybody explain how I can reach expected result?</strong></p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"score":0,"creation_date":1483012034,"post_id":41379056,"comment_id":69959849,"body_markdown":"You are just adding and removing the stackframe `info.size()/5` times.","body":"You are just adding and removing the stackframe <code>info.size()&#47;5</code> times."},{"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"score":0,"creation_date":1483012125,"post_id":41379056,"comment_id":69959893,"body_markdown":"I just want to send info objects 5 by 5 to calculate method. I don&#39;t get what you mean.","body":"I just want to send info objects 5 by 5 to calculate method. I don&#39;t get what you mean."},{"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"score":0,"creation_date":1483012131,"post_id":41379056,"comment_id":69959897,"body_markdown":"in java8 you can use parallel stream","body":"in java8 you can use parallel stream"},{"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"score":0,"creation_date":1483012282,"post_id":41379056,"comment_id":69959967,"body_markdown":"@hellzone: i meant that by sending it partially in this way you are not gaining anything in terms of time performance.","body":"@hellzone: i meant that by sending it partially in this way you are not gaining anything in terms of time performance."},{"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"score":0,"creation_date":1483012571,"post_id":41379056,"comment_id":69960119,"body_markdown":"@Azodious calculate method sends this list to a web service and there is a problem with this webservice. When I sent 100 info, it responses nearly after 1 hour and when I sent 5 info it responses in 1 second.","body":"@Azodious calculate method sends this list to a web service and there is a problem with this webservice. When I sent 100 info, it responses nearly after 1 hour and when I sent 5 info it responses in 1 second."},{"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"score":0,"creation_date":1483012832,"post_id":41379056,"comment_id":69960260,"body_markdown":"Parallel Stream is a good suggestion then, by Jobin. Check this too: http://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible","body":"Parallel Stream is a good suggestion then, by Jobin. Check this too: <a href=\"http://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible\" title=\"should i always use a parallel stream when possible\">stackoverflow.com/questions/20375176/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483302506,"creation_date":1483302506,"answer_id":41418747,"question_id":41379056,"body_markdown":"You can use following code\r\n\r\n    class SomeClass {\r\n    \r\n        private final int BUFFER_SIZE = 5;    \r\n\r\n        public static void main(String[] args) {\r\n            Map&lt;String, Long&gt; info = new HashMap&lt;&gt;();\r\n    \r\n            LongStream.range(0, 30).boxed().forEach(i -&gt; info.put(&quot;key&quot; + i, i)); // for test\r\n            \r\n            IntStream.range(0, info.size() / BUFFER_SIZE)\r\n                    .boxed()\r\n                    .parallel()\r\n                    .map(i -&gt; Arrays.copyOfRange(info.keySet().toArray(), BUFFER_SIZE * i, BUFFER_SIZE * (i + 1)))\r\n                    .map(Arrays::asList)\r\n                    .map(keys -&gt; info.entrySet().stream()\r\n                            .filter(x -&gt; keys.contains(x.getKey()))\r\n                            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\r\n                    .forEach(SomeClass::calculate);\r\n        }\r\n    \r\n        public static boolean calculate(Map&lt;String, Long&gt; info) {\r\n            System.out.println(&quot;calculation for &quot; + info.toString());\r\n            return true;\r\n        }\r\n    }\r\n\r\n","title":"How to iterate over every n elements with java?","body":"<p>You can use following code</p>\n\n<pre><code>class SomeClass {\n\n    private final int BUFFER_SIZE = 5;    \n\n    public static void main(String[] args) {\n        Map&lt;String, Long&gt; info = new HashMap&lt;&gt;();\n\n        LongStream.range(0, 30).boxed().forEach(i -&gt; info.put(\"key\" + i, i)); // for test\n\n        IntStream.range(0, info.size() / BUFFER_SIZE)\n                .boxed()\n                .parallel()\n                .map(i -&gt; Arrays.copyOfRange(info.keySet().toArray(), BUFFER_SIZE * i, BUFFER_SIZE * (i + 1)))\n                .map(Arrays::asList)\n                .map(keys -&gt; info.entrySet().stream()\n                        .filter(x -&gt; keys.contains(x.getKey()))\n                        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\n                .forEach(SomeClass::calculate);\n    }\n\n    public static boolean calculate(Map&lt;String, Long&gt; info) {\n        System.out.println(\"calculation for \" + info.toString());\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482207,"reputation":3688,"user_id":1391325,"accept_rate":92,"display_name":"errantlinguist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483313593,"creation_date":1483313593,"answer_id":41419959,"question_id":41379056,"body_markdown":"It sounds like what you want to do is to implement a sort of [batch processing][1] for the data represented by your `Map&lt;String, Long&gt; info` instance. You can then create a [generator][2] for these batches as a `Stream`: This is in a way the inverse of the [`Stream.flatMap(...)`][3] family of methods, but, ironically, [there doesn&#39;t seem to be any idiomatic functional way of doing this](https://stackoverflow.com/q/25408350/1391325) and so you may have to create the batches yourself in an imperative manner &amp;mdash; for example:\r\n\r\n\tprivate static &lt;T&gt; Stream&lt;Stream&lt;T&gt;&gt; createBatchStreams(final Iterator&lt;T&gt; iter, final int maxBatchSize) {\r\n\t\tfinal Stream.Builder&lt;Stream&lt;T&gt;&gt; resultBuilder = Stream.builder();\r\n\t\t{\r\n\t\t\t// NOTE: This logic could also be encapsulated in a Collector class\r\n\t\t\t// in order to make it less imperative style\r\n\t\t\tStream.Builder&lt;T&gt; currentBatchBuilder = Stream.builder();\r\n\t\t\tint currentBatchSize = 0;\r\n\r\n\t\t\twhile (iter.hasNext()) {\r\n\t\t\t\tfinal T next = iter.next();\r\n\t\t\t\tif (currentBatchSize == maxBatchSize) {\r\n\t\t\t\t\tresultBuilder.add(currentBatchBuilder.build());\r\n\t\t\t\t\t// Start building a new batch\r\n\t\t\t\t\tcurrentBatchBuilder = Stream.builder();\r\n\t\t\t\t\tcurrentBatchSize = 0;\r\n\t\t\t\t}\r\n\t\t\t\tcurrentBatchBuilder.add(next);\r\n\t\t\t\tcurrentBatchSize++;\r\n\t\t\t}\r\n\t\t\t// Check if there is a non-empty Stream to add (e.g. if there was a\r\n\t\t\t// final batch which was smaller than the others)\r\n\t\t\tif (currentBatchSize &gt; 0) {\r\n\t\t\t\tresultBuilder.add(currentBatchBuilder.build());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resultBuilder.build();\r\n\t}\r\n\r\nUsing this method, you can then create a generator of batches of your map data, which can then be fed to your `calculate(...)` function (albeit with a slightly different signature):\r\n\r\n\tpublic static void main(final String[] args) {\r\n\t\tfinal Map&lt;String, Long&gt; info = LongStream.range(0, 10).boxed()\r\n\t\t\t\t.collect(Collectors.toMap(value -&gt; &quot;key&quot; + value, Function.identity())); // Test data\r\n\t\tfinal Stream&lt;Stream&lt;Entry&lt;String, Long&gt;&gt;&gt; batches = createBatchStreams(info.entrySet().iterator(), 5);\r\n\t\tbatches.forEach(batch -&gt; {\r\n\t\t\tcalculate(batch);\r\n\t\t\t// Do some other stuff after processing each batch\r\n\t\t});\r\n\t}\r\n\r\n\tprivate static boolean calculate(final Stream&lt;Entry&lt;String, Long&gt;&gt; info) {\r\n\t\t// Some calculations\r\n\t}\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Batch_processing\r\n  [2]: https://en.wikipedia.org/wiki/Generator_(computer_programming)\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-","title":"How to iterate over every n elements with java?","body":"<p>It sounds like what you want to do is to implement a sort of <a href=\"https://en.wikipedia.org/wiki/Batch_processing\" rel=\"nofollow noreferrer\">batch processing</a> for the data represented by your <code>Map&lt;String, Long&gt; info</code> instance. You can then create a <a href=\"https://en.wikipedia.org/wiki/Generator_(computer_programming)\" rel=\"nofollow noreferrer\">generator</a> for these batches as a <code>Stream</code>: This is in a way the inverse of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Stream.flatMap(...)</code></a> family of methods, but, ironically, <a href=\"https://stackoverflow.com/q/25408350/1391325\">there doesn't seem to be any idiomatic functional way of doing this</a> and so you may have to create the batches yourself in an imperative manner &mdash; for example:</p>\n\n<pre><code>private static &lt;T&gt; Stream&lt;Stream&lt;T&gt;&gt; createBatchStreams(final Iterator&lt;T&gt; iter, final int maxBatchSize) {\n    final Stream.Builder&lt;Stream&lt;T&gt;&gt; resultBuilder = Stream.builder();\n    {\n        // NOTE: This logic could also be encapsulated in a Collector class\n        // in order to make it less imperative style\n        Stream.Builder&lt;T&gt; currentBatchBuilder = Stream.builder();\n        int currentBatchSize = 0;\n\n        while (iter.hasNext()) {\n            final T next = iter.next();\n            if (currentBatchSize == maxBatchSize) {\n                resultBuilder.add(currentBatchBuilder.build());\n                // Start building a new batch\n                currentBatchBuilder = Stream.builder();\n                currentBatchSize = 0;\n            }\n            currentBatchBuilder.add(next);\n            currentBatchSize++;\n        }\n        // Check if there is a non-empty Stream to add (e.g. if there was a\n        // final batch which was smaller than the others)\n        if (currentBatchSize &gt; 0) {\n            resultBuilder.add(currentBatchBuilder.build());\n        }\n    }\n    return resultBuilder.build();\n}\n</code></pre>\n\n<p>Using this method, you can then create a generator of batches of your map data, which can then be fed to your <code>calculate(...)</code> function (albeit with a slightly different signature):</p>\n\n<pre><code>public static void main(final String[] args) {\n    final Map&lt;String, Long&gt; info = LongStream.range(0, 10).boxed()\n            .collect(Collectors.toMap(value -&gt; \"key\" + value, Function.identity())); // Test data\n    final Stream&lt;Stream&lt;Entry&lt;String, Long&gt;&gt;&gt; batches = createBatchStreams(info.entrySet().iterator(), 5);\n    batches.forEach(batch -&gt; {\n        calculate(batch);\n        // Do some other stuff after processing each batch\n    });\n}\n\nprivate static boolean calculate(final Stream&lt;Entry&lt;String, Long&gt;&gt; info) {\n    // Some calculations\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4930700,"reputation":1063,"user_id":3970581,"accept_rate":43,"display_name":"Robin Bruneel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677225136,"creation_date":1677225136,"answer_id":75553865,"question_id":41379056,"body_markdown":"You loop n-times over the collection and take the range of items you need.\r\n\r\n             final int AMOUNT_OF_ITEMS_IN_BATCH = 200;\r\n            List&lt;Object&gt; objects = new ArrayList&lt;&gt;();//TODO YOUR LIST WITH OBJECTS TO SPLIT UP AND PROCESS IN ITERATIONS\r\n            int loops = IntMath.divide(objects.size(), AMOUNT_OF_ITEMS_IN_BATCH, RoundingMode.CEILING);\r\n\r\n            for (int i = 0; i &lt; loops; i++) {\r\n                Set&lt;Object&gt; nextBatch = objects.stream()\r\n                        .skip(i * AMOUNT_OF_ITEMS_IN_BATCH)\r\n                        .limit(AMOUNT_OF_ITEMS_IN_BATCH)\r\n                        .collect(Collectors.toSet());\r\n\r\n               //TODO WHAT YOU WANT TO DO WITH TE SUBLIST \r\n            }","title":"How to iterate over every n elements with java?","body":"<p>You loop n-times over the collection and take the range of items you need.</p>\n<pre><code>         final int AMOUNT_OF_ITEMS_IN_BATCH = 200;\n        List&lt;Object&gt; objects = new ArrayList&lt;&gt;();//TODO YOUR LIST WITH OBJECTS TO SPLIT UP AND PROCESS IN ITERATIONS\n        int loops = IntMath.divide(objects.size(), AMOUNT_OF_ITEMS_IN_BATCH, RoundingMode.CEILING);\n\n        for (int i = 0; i &lt; loops; i++) {\n            Set&lt;Object&gt; nextBatch = objects.stream()\n                    .skip(i * AMOUNT_OF_ITEMS_IN_BATCH)\n                    .limit(AMOUNT_OF_ITEMS_IN_BATCH)\n                    .collect(Collectors.toSet());\n\n           //TODO WHAT YOU WANT TO DO WITH TE SUBLIST \n        }\n</code></pre>\n"}],"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677225136,"creation_date":1483011881,"question_id":41379056,"body_markdown":"I have a method named calculate and it takes too long to complete. So I decided to send my info list objects to this method partially. How can I iterate over every n elements?\r\n\r\n\r\n    public static void main(String [] args){\r\n        Map&lt;String, Long&gt; info....;  //my info Map\r\n        \r\n        //I want to call method like \r\n        for(int i = 0; i&lt;info.size(); i+=5)\r\n           calculate(info.submap(i,i+5)); \r\n    }\r\n\r\n\r\n    public static boolean calculate(Map&lt;String, Long&gt; info){\r\n        //Some calculations\r\n    \r\n    }","title":"How to iterate over every n elements with java?","body":"<p>I have a method named calculate and it takes too long to complete. So I decided to send my info list objects to this method partially. How can I iterate over every n elements?</p>\n\n<pre><code>public static void main(String [] args){\n    Map&lt;String, Long&gt; info....;  //my info Map\n\n    //I want to call method like \n    for(int i = 0; i&lt;info.size(); i+=5)\n       calculate(info.submap(i,i+5)); \n}\n\n\npublic static boolean calculate(Map&lt;String, Long&gt; info){\n    //Some calculations\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","java-stream","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677224779,"creation_date":1677224779,"answer_id":75553821,"question_id":75553623,"body_markdown":"There is a comment from JetBrains team: since 2017.3 the feature is available out of the box (you should not install the plugin anymore).","title":"Java Stream Debugger is not available for IntelliJ IDEA newer versions","body":"<p>There is a comment from JetBrains team: since 2017.3 the feature is available out of the box (you should not install the plugin anymore).</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75553821,"answer_count":1,"score":1,"last_activity_date":1677224779,"creation_date":1677223426,"question_id":75553623,"body_markdown":"I just run into a useful plugin to debug Java Streams called [Java Stream Debugger](https://plugins.jetbrains.com/plugin/9696-java-stream-debugger/versions). However, it is not available for the newer IntelliJ IDEA versions. The interesting things is, it is seen on a tutorial that was published 3 moths ago on [this](https://www.youtube.com/watch?v=Kon1DGwbtzg) page.\r\n\r\nHow can I install Java Stream Debugger (I tried to install from disk, but not possible)? \r\n\r\n\r\n\r\nIs there any good alternatives for debugging Streams in IntelliJ IDEA? I see [Reactive Streams](https://plugins.jetbrains.com/plugin/20201-reactive-streams/versions), but not sure if it can be used for Java Stream?\r\n\r\nNote: My IntelliJ IDEA version is **2022.3 (Ultimate)**","title":"Java Stream Debugger is not available for IntelliJ IDEA newer versions","body":"<p>I just run into a useful plugin to debug Java Streams called <a href=\"https://plugins.jetbrains.com/plugin/9696-java-stream-debugger/versions\" rel=\"nofollow noreferrer\">Java Stream Debugger</a>. However, it is not available for the newer IntelliJ IDEA versions. The interesting things is, it is seen on a tutorial that was published 3 moths ago on <a href=\"https://www.youtube.com/watch?v=Kon1DGwbtzg\" rel=\"nofollow noreferrer\">this</a> page.</p>\n<p>How can I install Java Stream Debugger (I tried to install from disk, but not possible)?</p>\n<p>Is there any good alternatives for debugging Streams in IntelliJ IDEA? I see <a href=\"https://plugins.jetbrains.com/plugin/20201-reactive-streams/versions\" rel=\"nofollow noreferrer\">Reactive Streams</a>, but not sure if it can be used for Java Stream?</p>\n<p>Note: My IntelliJ IDEA version is <strong>2022.3 (Ultimate)</strong></p>\n"},{"tags":["java","windows","user-account-control"],"owner":{"account_id":15176905,"reputation":1,"user_id":10951375,"display_name":"metinbinbir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677224754,"creation_date":1677224456,"question_id":75553777,"body_markdown":"I am writing a program that downloads exe file, which is created with innosetup, from remote server and runs this exe file to update my application automatically. Due to not having any signed certificate, my OS(Windows 11) is warning me by User Account Control window.\r\n\r\nIn that window, there are two options which are Yes and No. How can I get the clicked option from this prompt?\r\n\r\nI tried to get the return value using\r\n```\r\nRuntime.getRuntime().exec().waitFor()\r\n```\r\nHowever both Yes and No options returns same value.","title":"How to get return value of an executed program that is warned by User Account Control (Java)?","body":"<p>I am writing a program that downloads exe file, which is created with innosetup, from remote server and runs this exe file to update my application automatically. Due to not having any signed certificate, my OS(Windows 11) is warning me by User Account Control window.</p>\n<p>In that window, there are two options which are Yes and No. How can I get the clicked option from this prompt?</p>\n<p>I tried to get the return value using</p>\n<pre><code>Runtime.getRuntime().exec().waitFor()\n</code></pre>\n<p>However both Yes and No options returns same value.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","relational-database"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677179551,"post_id":75549127,"comment_id":133292015,"body_markdown":"Not sure if it will solve the problem, but I notice you are using underscores in your naming convention i.e. `car_id`. While this is the naming convention for sql, camel case is preferred in Java `carId`. Using this naming convention, it should infer that the db column is `car_id`. To make sure all names are corresponding correctly, you can use the column annotation on each field such as `@Column(name=car_id)`","body":"Not sure if it will solve the problem, but I notice you are using underscores in your naming convention i.e. <code>car_id</code>. While this is the naming convention for sql, camel case is preferred in Java <code>carId</code>. Using this naming convention, it should infer that the db column is <code>car_id</code>. To make sure all names are corresponding correctly, you can use the column annotation on each field such as <code>@Column(name=car_id)</code>"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677179659,"post_id":75549127,"comment_id":133292040,"body_markdown":"It would also allow us to assist you further if you could include the stack trace for the exceptions youre getting.","body":"It would also allow us to assist you further if you could include the stack trace for the exceptions youre getting."},{"owner":{"account_id":27863167,"reputation":1,"user_id":21275246,"display_name":"Shadow Face"},"score":0,"creation_date":1677181578,"post_id":75549127,"comment_id":133292535,"body_markdown":"@calvin-p change is column name but not solved. added both exceptions in the question check that out please","body":"@calvin-p change is column name but not solved. added both exceptions in the question check that out please"}],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677182200,"creation_date":1677182200,"answer_id":75549733,"question_id":75549127,"body_markdown":"Okay so after reviewing the stack trace, this is an issue with infinite recursion while serializing the object. As stated in [this thread][1], you can resolve this by adding the `@JsonIgnore` annotation in your Car entity.\r\n\r\n    @OneToOne(mappedBy = &quot;car&quot;)\r\n    @JsonIgnore\r\n    private Owner owner;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45783753/spring-data-jpa-onetoone-annotation-infinite-recursion-error","title":"Getting error when trying to fetch data from relational entity in spring boot","body":"<p>Okay so after reviewing the stack trace, this is an issue with infinite recursion while serializing the object. As stated in <a href=\"https://stackoverflow.com/questions/45783753/spring-data-jpa-onetoone-annotation-infinite-recursion-error\">this thread</a>, you can resolve this by adding the <code>@JsonIgnore</code> annotation in your Car entity.</p>\n<pre><code>@OneToOne(mappedBy = &quot;car&quot;)\n@JsonIgnore\nprivate Owner owner;\n</code></pre>\n"}],"owner":{"account_id":27863167,"reputation":1,"user_id":21275246,"display_name":"Shadow Face"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677224704,"creation_date":1677178304,"question_id":75549127,"body_markdown":"Only `createOwner()` method is working from controller, but when trying to fetch data using `findById()` or `findAll()` getting a big exception.. as a new in spring boot don&#39;t know where is my fault. please help me if you can.\r\n\r\n\r\nSending this value from postman to save data of an entity which is saved successfully:\r\n```\r\n{        &quot;ownerName&quot;: &quot;Harry&quot;,\r\n        &quot;car&quot;:{\r\n            &quot;car_id&quot; : &quot;2&quot;\r\n        }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nOwner Entity:\r\n```\r\n@Entity\r\n@Data\r\npublic class Owner {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long owner_id;\r\n\r\n    private String ownerName;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;c_id&quot;, referencedColumnName = &quot;car_id&quot; )\r\n    private Car car;\r\n\r\n}\r\n```\r\n\r\nCar Entity: \r\n```\r\n@Entity\r\n@Data\r\npublic class Car {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long car_id;\r\n    private String car_name;\r\n\r\n\r\n    @OneToOne(mappedBy = &quot;car&quot;)\r\n    private Owner owner;\r\n}\r\n\r\n```\r\n\r\nController:\r\n\r\n```\r\n@RestController\r\npublic class OwnerController {\r\n\r\n    @Autowired\r\n    private OwnerRepository ownerRepo;\r\n\r\n\r\n    @PostMapping(&quot;/createowner&quot;)\r\n    public Owner createOwner(@RequestBody Owner owner){\r\n        return ownerRepo.save(owner);\r\n    }\r\n\r\n    @GetMapping(&quot;/findownerbyid&quot;)\r\n    public Owner getByID(){\r\n        return ownerRepo.findById(2L).get();\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/carlist&quot;)\r\n    public List&lt;Owner&gt; getOwnerList(){\r\n        return ownerRepo.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nOwner Repo:\r\n\r\n```\r\n@Repository\r\npublic interface OwnerRepository extends JpaRepository&lt;Owner, Long&gt; {\r\n}\r\n```\r\n\r\nCar Repo:  \r\n```\r\n@Repository\r\npublic interface CarRepo extends JpaRepository&lt;Car , Long&gt; {\r\n}\r\n```\r\n\r\n\r\nOwner database: \r\n```\r\n+----------+------------+------+\r\n| owner_id | owner_name | c_id |\r\n+----------+------------+------+\r\n|        1 | Tom        |    1 |\r\n|        2 | Harry      |    2 |\r\n+----------+------------+------+\r\n```\r\nCar db: \r\n```\r\n+--------+----------+\r\n| car_id | car_name |\r\n+--------+----------+\r\n|      1 | Toyota   |\r\n|      2 | Audi     |\r\n+--------+----------+\r\n```\r\n\r\nThe error I am getting when calling &quot;getOwnerList()&quot; from postman:\r\nhttps://pastehub.net/91fa43fc3f8\r\n\r\nThe error I am getting when calling &quot;getOwnerList()&quot; from postman:\r\nhttps://pastehub.net/8171b4065ec\r\n","title":"Getting error when trying to fetch data from relational entity in spring boot","body":"<p>Only <code>createOwner()</code> method is working from controller, but when trying to fetch data using <code>findById()</code> or <code>findAll()</code> getting a big exception.. as a new in spring boot don't know where is my fault. please help me if you can.</p>\n<p>Sending this value from postman to save data of an entity which is saved successfully:</p>\n<pre><code>{        &quot;ownerName&quot;: &quot;Harry&quot;,\n        &quot;car&quot;:{\n            &quot;car_id&quot; : &quot;2&quot;\n        }\n}\n</code></pre>\n<p>Owner Entity:</p>\n<pre><code>@Entity\n@Data\npublic class Owner {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long owner_id;\n\n    private String ownerName;\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;c_id&quot;, referencedColumnName = &quot;car_id&quot; )\n    private Car car;\n\n}\n</code></pre>\n<p>Car Entity:</p>\n<pre><code>@Entity\n@Data\npublic class Car {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long car_id;\n    private String car_name;\n\n\n    @OneToOne(mappedBy = &quot;car&quot;)\n    private Owner owner;\n}\n\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class OwnerController {\n\n    @Autowired\n    private OwnerRepository ownerRepo;\n\n\n    @PostMapping(&quot;/createowner&quot;)\n    public Owner createOwner(@RequestBody Owner owner){\n        return ownerRepo.save(owner);\n    }\n\n    @GetMapping(&quot;/findownerbyid&quot;)\n    public Owner getByID(){\n        return ownerRepo.findById(2L).get();\n    }\n\n\n    @GetMapping(&quot;/carlist&quot;)\n    public List&lt;Owner&gt; getOwnerList(){\n        return ownerRepo.findAll();\n    }\n}\n\n</code></pre>\n<p>Owner Repo:</p>\n<pre><code>@Repository\npublic interface OwnerRepository extends JpaRepository&lt;Owner, Long&gt; {\n}\n</code></pre>\n<p>Car Repo:</p>\n<pre><code>@Repository\npublic interface CarRepo extends JpaRepository&lt;Car , Long&gt; {\n}\n</code></pre>\n<p>Owner database:</p>\n<pre><code>+----------+------------+------+\n| owner_id | owner_name | c_id |\n+----------+------------+------+\n|        1 | Tom        |    1 |\n|        2 | Harry      |    2 |\n+----------+------------+------+\n</code></pre>\n<p>Car db:</p>\n<pre><code>+--------+----------+\n| car_id | car_name |\n+--------+----------+\n|      1 | Toyota   |\n|      2 | Audi     |\n+--------+----------+\n</code></pre>\n<p>The error I am getting when calling &quot;getOwnerList()&quot; from postman:\n<a href=\"https://pastehub.net/91fa43fc3f8\" rel=\"nofollow noreferrer\">https://pastehub.net/91fa43fc3f8</a></p>\n<p>The error I am getting when calling &quot;getOwnerList()&quot; from postman:\n<a href=\"https://pastehub.net/8171b4065ec\" rel=\"nofollow noreferrer\">https://pastehub.net/8171b4065ec</a></p>\n"},{"tags":["java","spring-boot","validation","request","spring-validation"],"answers":[{"tags":[],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677167411,"creation_date":1677167411,"answer_id":75547192,"question_id":75522636,"body_markdown":"Written a small app using spring boot 3.0.0 and JDK 19 and everything worked perfectly fine for me. Here are the snippets\r\n\r\n    @RestController\r\n    public class BookController {\r\n    \t@PostMapping(path = &quot;/books&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;String&gt; createBook(@Valid @RequestBody CreateBookRequest request){\r\n    \t\tif(request.getPrice().value() != null){\r\n    \t\t\treturn ResponseEntity.ok().body(&quot;Good request&quot;);\r\n    \t\t}\r\n    \t\treturn ResponseEntity.badRequest().body(&quot;Check the request&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n    import jakarta.validation.Valid;\r\n    import jakarta.validation.constraints.NotNull;\r\n    public class CreateBookRequest {\r\n    \t@Valid\r\n    \t@NotNull\r\n    \tPrice price;\r\n    \tpublic Price getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \tpublic void setPrice(Price price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    }\r\n\r\n\r\n    public record Price(\r\n    \t\t@NotNull\r\n    \t\tBigDecimal value\r\n    ) {\r\n    \tpublic Price(BigDecimal value){\r\n    \t\tthis.value = value;\r\n    \t\t}\r\n    }","title":"Spring validations -&gt; @NotNull on nested objects with BigDecimal","body":"<p>Written a small app using spring boot 3.0.0 and JDK 19 and everything worked perfectly fine for me. Here are the snippets</p>\n<pre><code>@RestController\npublic class BookController {\n    @PostMapping(path = &quot;/books&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String&gt; createBook(@Valid @RequestBody CreateBookRequest request){\n        if(request.getPrice().value() != null){\n            return ResponseEntity.ok().body(&quot;Good request&quot;);\n        }\n        return ResponseEntity.badRequest().body(&quot;Check the request&quot;);\n    }\n}\n\n\nimport jakarta.validation.Valid;\nimport jakarta.validation.constraints.NotNull;\npublic class CreateBookRequest {\n    @Valid\n    @NotNull\n    Price price;\n    public Price getPrice() {\n        return price;\n    }\n    public void setPrice(Price price) {\n        this.price = price;\n    }\n}\n\n\npublic record Price(\n        @NotNull\n        BigDecimal value\n) {\n    public Price(BigDecimal value){\n        this.value = value;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9989952,"reputation":391,"user_id":7389620,"display_name":"bmrki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677224591,"creation_date":1677224591,"answer_id":75553798,"question_id":75522636,"body_markdown":"In my case code was fine, the missing part was the dependency:\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```","title":"Spring validations -&gt; @NotNull on nested objects with BigDecimal","body":"<p>In my case code was fine, the missing part was the dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9989952,"reputation":391,"user_id":7389620,"display_name":"bmrki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75553798,"answer_count":2,"score":0,"last_activity_date":1677224591,"creation_date":1676993651,"question_id":75522636,"body_markdown":"I have POST endpoint that creates for example Books,\r\nin CreateBookRequest class I have another nested class/record that holds BigDecimal price.\r\nI want to secure this endpoint so json&#39;s (given below) will be validated as BAD_REQUEST (with custom exception will be great).\r\n\r\nMy structure:\r\n\r\n```java\r\n  @PostMapping(path = &quot;/books&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n  ResponseEntity&lt;Void&gt; createBook(@Valid @RequestBody CreateBookRequest request);\r\n\r\n  public record CreateBookRequest(\r\n\r\n      @Valid\r\n      @NotNull\r\n      Price price\r\n\r\n  ) {\r\n  }\r\n\r\n  public record Price(\r\n      @NotNull\r\n      BigDecimal value\r\n  ) {\r\n  }\r\n```\r\n\r\nCorrect JSON:\r\n\r\n```json\r\n{\r\n  &quot;price&quot;: {\r\n    &quot;value&quot;: 60.00\r\n  }\r\n}\r\n```\r\n\r\nInvaluid JSON&#39;s:\r\n\r\n```json\r\n{\r\n  &quot;price&quot;: null\r\n}\r\n```\r\n\r\n\r\n```json\r\n{\r\n  &quot;price&quot;: &quot;&quot;\r\n}\r\n```\r\n\r\n\r\n```json\r\n{}\r\n```\r\n\r\nMy structure with validation annotations does not work at this time, any help would be appreciated, thanks in advance.","title":"Spring validations -&gt; @NotNull on nested objects with BigDecimal","body":"<p>I have POST endpoint that creates for example Books,\nin CreateBookRequest class I have another nested class/record that holds BigDecimal price.\nI want to secure this endpoint so json's (given below) will be validated as BAD_REQUEST (with custom exception will be great).</p>\n<p>My structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @PostMapping(path = &quot;/books&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n  ResponseEntity&lt;Void&gt; createBook(@Valid @RequestBody CreateBookRequest request);\n\n  public record CreateBookRequest(\n\n      @Valid\n      @NotNull\n      Price price\n\n  ) {\n  }\n\n  public record Price(\n      @NotNull\n      BigDecimal value\n  ) {\n  }\n</code></pre>\n<p>Correct JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;price&quot;: {\n    &quot;value&quot;: 60.00\n  }\n}\n</code></pre>\n<p>Invaluid JSON's:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;price&quot;: null\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;price&quot;: &quot;&quot;\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{}\n</code></pre>\n<p>My structure with validation annotations does not work at this time, any help would be appreciated, thanks in advance.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":8310667,"reputation":73,"user_id":6245921,"display_name":"Swapnil Gawali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598447197,"creation_date":1598447197,"answer_id":63598344,"question_id":63598250,"body_markdown":"You will need to whitelist your phone number for development purpose.\r\n\r\ncheck this [Test with whitelisted phone numbers][1]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/auth/android/phone-auth#test-with-whitelisted-phone-numbers","title":"Phone authentication firebase fail because the phone number was blocked","body":"<p>You will need to whitelist your phone number for development purpose.</p>\n<p>check this <a href=\"https://firebase.google.com/docs/auth/android/phone-auth#test-with-whitelisted-phone-numbers\" rel=\"nofollow noreferrer\">Test with whitelisted phone numbers</a></p>\n"},{"tags":[],"owner":{"account_id":18895089,"reputation":420,"user_id":13784437,"display_name":"Gouse Mohiddin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638080217,"creation_date":1598447350,"answer_id":63598391,"question_id":63598250,"body_markdown":"It&#39;s not recommended to use your actual phone number for testing multiple times, rather You should be using a test phone number added to your Firebase console.\r\n\r\nFollow this,\r\n\r\nGo to Sing-In Method in Authentication tab on Firebase Console.\r\n\r\nThen,\r\n\r\nClick on the Phone numbers for testing drop down and add a fake a phone number with fake code for testing.\r\n\r\nUsing phone numbers from this list will allow authentication without consuming your usage quota and sending actual SMS.","title":"Phone authentication firebase fail because the phone number was blocked","body":"<p>It's not recommended to use your actual phone number for testing multiple times, rather You should be using a test phone number added to your Firebase console.</p>\n<p>Follow this,</p>\n<p>Go to Sing-In Method in Authentication tab on Firebase Console.</p>\n<p>Then,</p>\n<p>Click on the Phone numbers for testing drop down and add a fake a phone number with fake code for testing.</p>\n<p>Using phone numbers from this list will allow authentication without consuming your usage quota and sending actual SMS.</p>\n"},{"tags":[],"owner":{"account_id":9518077,"reputation":3742,"user_id":8135721,"display_name":"Bawantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677224521,"creation_date":1677224521,"answer_id":75553788,"question_id":63598250,"body_markdown":"One this I found was my particular ISP didn&#39;t work with OTP Firebase so check with different ISPs might be helpful","title":"Phone authentication firebase fail because the phone number was blocked","body":"<p>One this I found was my particular ISP didn't work with OTP Firebase so check with different ISPs might be helpful</p>\n"}],"owner":{"account_id":16419304,"reputation":91,"user_id":11860941,"display_name":"ersa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677224521,"creation_date":1598446835,"question_id":63598250,"body_markdown":"Yesterday, I did some tests for my application and after some attempts to verify my phone number, I got the following message: \r\n&quot;We have blocked all requests from this device due to unusual activity&quot;.\r\nWhen I understood that for tests I have to supply a fictitious number, I did this, but now when I want to check my apk version I can&#39;t do that with my phone.\r\nHow can I unblock my number?\r\nI tried to delete my phone number from users but nothing happened.","title":"Phone authentication firebase fail because the phone number was blocked","body":"<p>Yesterday, I did some tests for my application and after some attempts to verify my phone number, I got the following message:\n&quot;We have blocked all requests from this device due to unusual activity&quot;.\nWhen I understood that for tests I have to supply a fictitious number, I did this, but now when I want to check my apk version I can't do that with my phone.\nHow can I unblock my number?\nI tried to delete my phone number from users but nothing happened.</p>\n"},{"tags":["java","database","jdbc","db2","azure-pipelines-build-task"],"comments":[{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1677228505,"post_id":75551143,"comment_id":133300152,"body_markdown":"Most likely a networking configuation problem, between your application and the Db2-server. This is not a software problem. Verify that the Db2-server hostname is accessible/pingable from your application, and verify that the specific port number is opened all the way between your app and the Db2-server.","body":"Most likely a networking configuation problem, between your application and the Db2-server. This is not a software problem. Verify that the Db2-server hostname is accessible/pingable from your application, and verify that the specific port number is opened all the way between your app and the Db2-server."}],"owner":{"account_id":27864656,"reputation":1,"user_id":21276399,"display_name":"Biswajeet "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677224377,"creation_date":1677192976,"question_id":75551143,"body_markdown":"I am getting below error while running through azure pipeline but working fine while running in eclipse. Please help me with the resolution.\r\n\r\n&gt; Error message -\r\n&gt; &quot;com.ibm.db2.jcc.am.disconnectnontransientconnectionexception:\r\n&gt; [jcc][t4][2043][11550][4.16.53] Exception java.net.ConnectException:\r\n&gt; Error opening socket to server /&lt;ip-address&gt; on port &lt;port number&gt;\r\n&gt; with message: Connection timed out (Connection timed out).\r\n\r\nI tried with all the dependency and jar files for jdbc but still getting same exception.","title":"Exception com.ibm.db2.jcc.am.disconnectnontransientconnectionexception while running through azure pipeline","body":"<p>I am getting below error while running through azure pipeline but working fine while running in eclipse. Please help me with the resolution.</p>\n<blockquote>\n<p>Error message -\n&quot;com.ibm.db2.jcc.am.disconnectnontransientconnectionexception:\n[jcc][t4][2043][11550][4.16.53] Exception java.net.ConnectException:\nError opening socket to server / on port \nwith message: Connection timed out (Connection timed out).</p>\n</blockquote>\n<p>I tried with all the dependency and jar files for jdbc but still getting same exception.</p>\n"},{"tags":["java","apache-poi","awt"],"comments":[{"owner":{"account_id":4159030,"reputation":107,"user_id":3409518,"display_name":"silfrede"},"score":1,"creation_date":1554119441,"post_id":55454036,"comment_id":97622316,"body_markdown":"https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html","body":"<a href=\"https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2011/06/&hellip;</a>"},{"owner":{"account_id":5914196,"reputation":658,"user_id":4653486,"accept_rate":22,"display_name":"PCB"},"score":0,"creation_date":1554184358,"post_id":55454036,"comment_id":97646677,"body_markdown":"we are using openJDK and cannot go back to oracle JDK","body":"we are using openJDK and cannot go back to oracle JDK"}],"answers":[{"tags":[],"owner":{"account_id":5914196,"reputation":658,"user_id":4653486,"accept_rate":22,"display_name":"PCB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554291235,"creation_date":1554291235,"answer_id":55494171,"question_id":55454036,"body_markdown":"The underlying issues is something else \r\n\r\nI just created a simple class which does class loading of X11FontManager and when I ran \r\nit complained \r\n\r\n    unable to link &quot;libfreetype6&quot;\r\n\r\nonce I installed it using \r\n\r\n    apt-get install libfreetype6\r\n\r\nstarted throwing could not link &quot;libfontconfig1.so&quot;\r\n\r\n    apt-get install libfontconfig1\r\n\r\nthat fixed the issue\r\n\r\n\r\n\r\nRead this and understood few things \r\nhttps://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4\r\n","title":"NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager","body":"<p>The underlying issues is something else </p>\n\n<p>I just created a simple class which does class loading of X11FontManager and when I ran \nit complained </p>\n\n<pre><code>unable to link \"libfreetype6\"\n</code></pre>\n\n<p>once I installed it using </p>\n\n<pre><code>apt-get install libfreetype6\n</code></pre>\n\n<p>started throwing could not link \"libfontconfig1.so\"</p>\n\n<pre><code>apt-get install libfontconfig1\n</code></pre>\n\n<p>that fixed the issue</p>\n\n<p>Read this and understood few things \n<a href=\"https://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4\" rel=\"nofollow noreferrer\">https://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4</a></p>\n"},{"tags":[],"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1677224337,"creation_date":1573211959,"answer_id":58765562,"question_id":55454036,"body_markdown":"If you are using the docker [&#39;slim images&#39;][1] of openjdk, the image no longer includes the packages &#39;fontconfig&#39;, and &#39;libfreetype6&#39;. \r\n\r\nCheck the difference in [docker file][2] of openjdk:11-slim and the [docker file][3] of openjdk:8-slim.\r\n\r\nYou could either pick another docker image (e.g. `openjdk:11-windowsservercore`), or install the packages yourself in your docker file:\r\n\r\n    RUN apt-get update &amp;&amp; apt-get install -y fontconfig libfreetype6 &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n\r\n\r\n[1]: https://github.com/docker-library/docs/blob/d4f015a4a99883c6b8691ec6aaf24a74cd02916a/openjdk/README.md#openjdkversion-slim\r\n[2]: https://github.com/docker-library/openjdk/blob/2544422915ae09bf77b02f0afaadaad5ba204cef/11/jdk/slim/Dockerfile#L29\r\n[3]: https://github.com/docker-library/openjdk/blob/2544422915ae09bf77b02f0afaadaad5ba204cef/8/jdk/Dockerfile#L13\r\n","title":"NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager","body":"<p>If you are using the docker <a href=\"https://github.com/docker-library/docs/blob/d4f015a4a99883c6b8691ec6aaf24a74cd02916a/openjdk/README.md#openjdkversion-slim\" rel=\"noreferrer\">'slim images'</a> of openjdk, the image no longer includes the packages 'fontconfig', and 'libfreetype6'.</p>\n<p>Check the difference in <a href=\"https://github.com/docker-library/openjdk/blob/2544422915ae09bf77b02f0afaadaad5ba204cef/11/jdk/slim/Dockerfile#L29\" rel=\"noreferrer\">docker file</a> of openjdk:11-slim and the <a href=\"https://github.com/docker-library/openjdk/blob/2544422915ae09bf77b02f0afaadaad5ba204cef/8/jdk/Dockerfile#L13\" rel=\"noreferrer\">docker file</a> of openjdk:8-slim.</p>\n<p>You could either pick another docker image (e.g. <code>openjdk:11-windowsservercore</code>), or install the packages yourself in your docker file:</p>\n<pre><code>RUN apt-get update &amp;&amp; apt-get install -y fontconfig libfreetype6 &amp;&amp; rm -rf /var/lib/apt/lists/*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84452,"reputation":921,"user_id":236085,"display_name":"nani21984"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625381894,"creation_date":1625381894,"answer_id":68242418,"question_id":55454036,"body_markdown":"    2021-06-23 03:44:37.950  INFO 1 --- [       Thread-7] ReportService   : Template path : /jasper/MgmtSummary.jrxml\r\n    Exception in thread &quot;Thread-7&quot; java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:398)\r\n\r\nI was getting the above error when I was using docker image `gcr.io/distroless/java-debian10:11`\r\n\r\nAnd this was fixed when I change the image to `adoptopenjdk/openjdk11`","title":"NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager","body":"<pre><code>2021-06-23 03:44:37.950  INFO 1 --- [       Thread-7] ReportService   : Template path : /jasper/MgmtSummary.jrxml\nException in thread &quot;Thread-7&quot; java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n</code></pre>\n<p>I was getting the above error when I was using docker image <code>gcr.io/distroless/java-debian10:11</code></p>\n<p>And this was fixed when I change the image to <code>adoptopenjdk/openjdk11</code></p>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639146542,"creation_date":1639146542,"answer_id":70306002,"question_id":55454036,"body_markdown":"Problem occurs when you use openjdk docker image in &lt;b&gt;alpine&lt;/b&gt; version for example :\r\n\r\n `adoptopenjdk/openjdk11:jre-11.0.11_9-alpine`. &lt;b&gt;\r\n\r\nYou need chenge image to full version&lt;/b&gt;: `adoptopenjdk/openjdk11:jre-11.0.11_9`","title":"NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager","body":"<p>Problem occurs when you use openjdk docker image in <b>alpine</b> version for example :</p>\n<p><code>adoptopenjdk/openjdk11:jre-11.0.11_9-alpine</code>. <b></p>\n<p>You need chenge image to full version</b>: <code>adoptopenjdk/openjdk11:jre-11.0.11_9</code></p>\n"}],"owner":{"account_id":5914196,"reputation":658,"user_id":4653486,"accept_rate":22,"display_name":"PCB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37032,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":58765562,"answer_count":4,"score":26,"last_activity_date":1677224337,"creation_date":1554118011,"question_id":55454036,"body_markdown":"when we migrated from Oracle JDK-8 to Open JDK-11, Apache POI excel generation has issues\r\n\r\ntried already `-Djava.awt.headless=true`\r\n\r\n```\r\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1053)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:901)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)```","title":"NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager","body":"<p>when we migrated from Oracle JDK-8 to Open JDK-11, Apache POI excel generation has issues</p>\n<p>tried already <code>-Djava.awt.headless=true</code></p>\n<pre><code>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1053)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:901)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)```\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","junit"],"comments":[{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1677226705,"post_id":75553734,"comment_id":133299721,"body_markdown":"Run Unit Test class with coverage","body":"Run Unit Test class with coverage"},{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":0,"creation_date":1677349887,"post_id":75553734,"comment_id":133321996,"body_markdown":"can you help me understand the reason behind knowing lines which are tested multiple times? why do you want clean up test case, as it is generally good to have as diverse test-cases possible.","body":"can you help me understand the reason behind knowing lines which are tested multiple times? why do you want clean up test case, as it is generally good to have as diverse test-cases possible."},{"owner":{"account_id":22159906,"reputation":1,"user_id":16407056,"display_name":"Maarten"},"score":0,"creation_date":1677673700,"post_id":75553734,"comment_id":133383396,"body_markdown":"@surajs1n We currently have over 400 tests on one microservice. It takes currently around 8 minutes to run it locally and over 15 minutes to run them in the pipeline. This is just too long. We assume that quite a big part of those tests test the same. So we want to see what the overlap or duplication is.","body":"@surajs1n We currently have over 400 tests on one microservice. It takes currently around 8 minutes to run it locally and over 15 minutes to run them in the pipeline. This is just too long. We assume that quite a big part of those tests test the same. So we want to see what the overlap or duplication is."},{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":0,"creation_date":1677675893,"post_id":75553734,"comment_id":133384129,"body_markdown":"You can explore the possibility of running some of them parallel. One of the teams in my previous company had done the same thing. Their test suite use to run over an hr. They had 1000+ test cases. After optimisation they brought it down to 15mins. Again, please feel free to diff with my points.","body":"You can explore the possibility of running some of them parallel. One of the teams in my previous company had done the same thing. Their test suite use to run over an hr. They had 1000+ test cases. After optimisation they brought it down to 15mins. Again, please feel free to diff with my points."},{"owner":{"account_id":22159906,"reputation":1,"user_id":16407056,"display_name":"Maarten"},"score":0,"creation_date":1677677553,"post_id":75553734,"comment_id":133384682,"body_markdown":"@Pawan.Java This shows the percentage, but not exactly which lines are covered by which test or visa versa which test cover which lines","body":"@Pawan.Java This shows the percentage, but not exactly which lines are covered by which test or visa versa which test cover which lines"}],"owner":{"account_id":22159906,"reputation":1,"user_id":16407056,"display_name":"Maarten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677224224,"creation_date":1677224224,"question_id":75553734,"body_markdown":"For a legacy project there are many tests. Maybe a bit too many. So I want to clean it up. This is why I need to know what test, tests which lines. So I can map out which lines are tested multiple times.\r\n\r\nDo you know a way/script that can do that?","title":"How to see exactly what line of code is covered by that test? Java JUnit","body":"<p>For a legacy project there are many tests. Maybe a bit too many. So I want to clean it up. This is why I need to know what test, tests which lines. So I can map out which lines are tested multiple times.</p>\n<p>Do you know a way/script that can do that?</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":7209293,"reputation":3047,"user_id":5503940,"display_name":"Antonis Radz"},"score":0,"creation_date":1563370384,"post_id":57076964,"comment_id":100677432,"body_markdown":"have you specified what kind of extras it is?\n\nspecify data types first","body":"have you specified what kind of extras it is?  specify data types first"},{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1563395024,"post_id":57076964,"comment_id":100690225,"body_markdown":"Add your manifest, please","body":"Add your manifest, please"},{"owner":{"account_id":14554116,"reputation":69,"user_id":10512149,"display_name":"tge"},"score":0,"creation_date":1563438735,"post_id":57076964,"comment_id":100702571,"body_markdown":"I won&#39;t be able to test it before the weekend, but I will let you know","body":"I won&#39;t be able to test it before the weekend, but I will let you know"}],"answers":[{"tags":[],"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563371161,"creation_date":1563371161,"answer_id":57077414,"question_id":57076964,"body_markdown":"There are 3 types of push messages\r\n\r\n - notification\r\n - data\r\n - and both\r\n\r\nA push messages is basically a json payload:\r\n\r\n```\r\npayload:{\r\n    notificacion...\r\n    data\r\n}\r\n```\r\n\r\nRules for each type of push messages are differente. In your case you are using the Firebase web console and adding custom data, which mean your payload will have notification and data.\r\n\r\nFor the combined type the behaviour in backgroun is to use a default notificacion (NotificationCompat, the visual kind) and open the default activity registered in the manifest. In the activity you can get the data.\r\n\r\nLets say your default activity is called MainActivity\r\n\r\n```\r\npublic class MainActivity {\r\n\r\n    onCreate...{\r\n    //... usual stuff\r\n    Intent fcmIntent = getIntent();\r\n    if fcmIntent != null\r\n    //check the extras and forward them to the next activity if needed\r\n    }\r\n}\r\n```","title":"How to get data from firebase-message while Android app is in background","body":"<p>There are 3 types of push messages</p>\n\n<ul>\n<li>notification</li>\n<li>data</li>\n<li>and both</li>\n</ul>\n\n<p>A push messages is basically a json payload:</p>\n\n<pre><code>payload:{\n    notificacion...\n    data\n}\n</code></pre>\n\n<p>Rules for each type of push messages are differente. In your case you are using the Firebase web console and adding custom data, which mean your payload will have notification and data.</p>\n\n<p>For the combined type the behaviour in backgroun is to use a default notificacion (NotificationCompat, the visual kind) and open the default activity registered in the manifest. In the activity you can get the data.</p>\n\n<p>Lets say your default activity is called MainActivity</p>\n\n<pre><code>public class MainActivity {\n\n    onCreate...{\n    //... usual stuff\n    Intent fcmIntent = getIntent();\n    if fcmIntent != null\n    //check the extras and forward them to the next activity if needed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2568972,"reputation":1742,"user_id":2228226,"display_name":"Hardik Bambhania"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563371234,"creation_date":1563371234,"answer_id":57077444,"question_id":57076964,"body_markdown":"There are two type of push message\r\n\r\n(1)Notification Message (will receive when app is in foreground)\r\n\r\n(2)Data Message (will receive when app is in background+foreground)\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nReference : https://firebase.google.com/docs/cloud-messaging/android/receive\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bF5rJ.jpg","title":"How to get data from firebase-message while Android app is in background","body":"<p>There are two type of push message</p>\n\n<p>(1)Notification Message (will receive when app is in foreground)</p>\n\n<p>(2)Data Message (will receive when app is in background+foreground)</p>\n\n<p><a href=\"https://i.stack.imgur.com/bF5rJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bF5rJ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Reference : <a href=\"https://firebase.google.com/docs/cloud-messaging/android/receive\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/android/receive</a></p>\n"},{"tags":[],"owner":{"account_id":10740985,"reputation":491,"user_id":7904082,"display_name":"Akinyemi Jamiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663198188,"creation_date":1663198188,"answer_id":73724166,"question_id":57076964,"body_markdown":"You need to set click_action in firebase notification data set to be able to receive data from background and implement onMessageReceived to handle foreground data\r\n\r\nSee updated answer here: https://stackoverflow.com/a/73724040/7904082","title":"How to get data from firebase-message while Android app is in background","body":"<p>You need to set click_action in firebase notification data set to be able to receive data from background and implement onMessageReceived to handle foreground data</p>\n<p>See updated answer here: <a href=\"https://stackoverflow.com/a/73724040/7904082\">https://stackoverflow.com/a/73724040/7904082</a></p>\n"},{"tags":[],"owner":{"account_id":5103901,"reputation":1219,"user_id":4092624,"display_name":"Robby Lebotha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677223882,"creation_date":1677223882,"answer_id":75553680,"question_id":57076964,"body_markdown":"I solved this buy handling the notification in `handleIntent` it fires when app is killed,in background and foreground. I completely ignore the `onMessageReceived(@NonNull RemoteMessage message)` method because it doesnt seem to work when app is in background.\r\n\r\n    @Override\r\n    \r\n        public void handleIntent(Intent intent) {\r\n            Log.d( &quot;FCM&quot;, &quot;handleIntent \\n&quot;+intent.getStringExtra(&quot;data&quot;));\r\n            String messageTitle = intent.getStringExtra(&quot;title&quot;);\r\n            String messageBody = intent.getStringExtra(&quot;body&quot;);\r\n            //from here pass the values to a method to show your notification.\r\n            \r\n        }\r\n\r\nIn your activity you will then be able to retrieve any data from the intent.\r\n\r\nTo redirect to your desired activity, you must add click_action to your payload. Here is what my payload looks like: \r\n\r\n    &quot;notification&quot;: {\r\n      &quot;body&quot;: &quot;Your message is here&quot;,\r\n      &quot;title&quot;: &quot;Hey Robby&quot;,\r\n      &quot;discount_code&quot;: &quot;baba-blacksheep&quot;,\r\n      &quot;uid&quot;: &quot;2&quot;,\r\n      &quot;click_action&quot;: &quot;OPEN_ACTIVITY_FROM_NOTIFICATION&quot;\r\n    }","title":"How to get data from firebase-message while Android app is in background","body":"<p>I solved this buy handling the notification in <code>handleIntent</code> it fires when app is killed,in background and foreground. I completely ignore the <code>onMessageReceived(@NonNull RemoteMessage message)</code> method because it doesnt seem to work when app is in background.</p>\n<pre><code>@Override\n\n    public void handleIntent(Intent intent) {\n        Log.d( &quot;FCM&quot;, &quot;handleIntent \\n&quot;+intent.getStringExtra(&quot;data&quot;));\n        String messageTitle = intent.getStringExtra(&quot;title&quot;);\n        String messageBody = intent.getStringExtra(&quot;body&quot;);\n        //from here pass the values to a method to show your notification.\n        \n    }\n</code></pre>\n<p>In your activity you will then be able to retrieve any data from the intent.</p>\n<p>To redirect to your desired activity, you must add click_action to your payload. Here is what my payload looks like:</p>\n<pre><code>&quot;notification&quot;: {\n  &quot;body&quot;: &quot;Your message is here&quot;,\n  &quot;title&quot;: &quot;Hey Robby&quot;,\n  &quot;discount_code&quot;: &quot;baba-blacksheep&quot;,\n  &quot;uid&quot;: &quot;2&quot;,\n  &quot;click_action&quot;: &quot;OPEN_ACTIVITY_FROM_NOTIFICATION&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":14554116,"reputation":69,"user_id":10512149,"display_name":"tge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2553,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57077444,"answer_count":4,"score":3,"last_activity_date":1677223882,"creation_date":1563369892,"question_id":57076964,"body_markdown":"I&#39;m sending firebase-messages using the firebase-console. The messages shall contain additional data like shown below with the purpose to open a specific URL within a webview in my app:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI set up my manifest and firebase class to get the messages. Within my firebase class I try to get the data:\r\n        \r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        if(remoteMessage.getData().containsKey(&quot;key1&quot;)) {\r\n            intent.putExtra(&quot;destination&quot;, remoteMessage.getData().get(&quot;key1&quot;));\r\n        }\r\n        PendingIntent pendingIntent = PendingIntent.getActivity\r\n        (this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        String channelId = &quot;default&quot;;\r\n        NotificationCompat.Builder builder;\r\n        if (remoteMessage.getNotification() != null ) {\r\n            if (remoteMessage.getNotification().getTitle() != null) {\r\n                builder = new NotificationCompat.Builder(this, channelId)\r\n                        .setSmallIcon(R.drawable.ic_stat_onesignal_default)\r\n                        .setContentTitle(remoteMessage.getNotification().getTitle())\r\n                        .setStyle(new NotificationCompat.BigTextStyle().bigText(remoteMessage.getNotification().getBody()))\r\n                        .setAutoCancel(true)\r\n                        .setContentIntent(pendingIntent);\r\n            } else {\r\n                builder = new NotificationCompat.Builder(this, channelId)\r\n                        .setSmallIcon(R.drawable.ic_stat_onesignal_default)\r\n                        .setStyle(new NotificationCompat.BigTextStyle().bigText(remoteMessage.getNotification().getBody()))\r\n                        .setAutoCancel(true)\r\n                        .setContentIntent(pendingIntent);\r\n            }\r\n\r\n            NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationChannel channel = new NotificationChannel(channelId, &quot;default&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n                manager.createNotificationChannel(channel);\r\n            }\r\n\r\n            manager.notify(0, builder.build());\r\n        }\r\n    }\r\n\r\nWithin my MainActivity class I try to get the data. When the app is in the foreground, the following works (no matter what activity is opened, it will jump to the MainActivity and execute the following):\r\n\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        if (intent.getExtras() != null) {\r\n\r\n            Bundle extras = intent.getExtras();\r\n\r\n            if(extras.containsKey(&quot;destination&quot;)) {\r\n                Log.e(&quot;FIREBASE_CONTAINS&quot;, (String) extras.get(&quot;destination&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\nBut the event wont trigger if the app started from the background. I tried to get the intent and check for the key within the onResume() event of the activity, but it does not work (Same in inCreate() and onStart()).\r\n\r\nCan anybody help me?\r\n\r\n\r\n------------EDIT-----------------\r\n\r\nAs described in one of the comments, the problem seems to be that Notification-Messages won&#39;t reach the onMessageReceived() event. Apparently the firebase console can&#39;t send data-notifications (which would reach the event) so I tried using POSTMAN. I&#39;ve read that I have to leave the notification tag out of the message body and put all my information in the data section. But if I do so, the messages won&#39;t reach my app (they do, when I add the notification section again, but of course they are not reaching the onMessageReceived() event in that case).\r\n\r\n  [1]: https://i.stack.imgur.com/uudLn.png","title":"How to get data from firebase-message while Android app is in background","body":"<p>I'm sending firebase-messages using the firebase-console. The messages shall contain additional data like shown below with the purpose to open a specific URL within a webview in my app:</p>\n<p><a href=\"https://i.stack.imgur.com/uudLn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uudLn.png\" alt=\"enter image description here\" /></a></p>\n<p>I set up my manifest and firebase class to get the messages. Within my firebase class I try to get the data:</p>\n<pre><code>@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n    super.onMessageReceived(remoteMessage);\n    Intent intent = new Intent(this, MainActivity.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    if(remoteMessage.getData().containsKey(&quot;key1&quot;)) {\n        intent.putExtra(&quot;destination&quot;, remoteMessage.getData().get(&quot;key1&quot;));\n    }\n    PendingIntent pendingIntent = PendingIntent.getActivity\n    (this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n    String channelId = &quot;default&quot;;\n    NotificationCompat.Builder builder;\n    if (remoteMessage.getNotification() != null ) {\n        if (remoteMessage.getNotification().getTitle() != null) {\n            builder = new NotificationCompat.Builder(this, channelId)\n                    .setSmallIcon(R.drawable.ic_stat_onesignal_default)\n                    .setContentTitle(remoteMessage.getNotification().getTitle())\n                    .setStyle(new NotificationCompat.BigTextStyle().bigText(remoteMessage.getNotification().getBody()))\n                    .setAutoCancel(true)\n                    .setContentIntent(pendingIntent);\n        } else {\n            builder = new NotificationCompat.Builder(this, channelId)\n                    .setSmallIcon(R.drawable.ic_stat_onesignal_default)\n                    .setStyle(new NotificationCompat.BigTextStyle().bigText(remoteMessage.getNotification().getBody()))\n                    .setAutoCancel(true)\n                    .setContentIntent(pendingIntent);\n        }\n\n        NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(channelId, &quot;default&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            manager.createNotificationChannel(channel);\n        }\n\n        manager.notify(0, builder.build());\n    }\n}\n</code></pre>\n<p>Within my MainActivity class I try to get the data. When the app is in the foreground, the following works (no matter what activity is opened, it will jump to the MainActivity and execute the following):</p>\n<pre><code>@Override\nprotected void onNewIntent(Intent intent) {\n    if (intent.getExtras() != null) {\n\n        Bundle extras = intent.getExtras();\n\n        if(extras.containsKey(&quot;destination&quot;)) {\n            Log.e(&quot;FIREBASE_CONTAINS&quot;, (String) extras.get(&quot;destination&quot;));\n        }\n    }\n}\n</code></pre>\n<p>But the event wont trigger if the app started from the background. I tried to get the intent and check for the key within the onResume() event of the activity, but it does not work (Same in inCreate() and onStart()).</p>\n<p>Can anybody help me?</p>\n<p>------------EDIT-----------------</p>\n<p>As described in one of the comments, the problem seems to be that Notification-Messages won't reach the onMessageReceived() event. Apparently the firebase console can't send data-notifications (which would reach the event) so I tried using POSTMAN. I've read that I have to leave the notification tag out of the message body and put all my information in the data section. But if I do so, the messages won't reach my app (they do, when I add the notification section again, but of course they are not reaching the onMessageReceived() event in that case).</p>\n"},{"tags":["java","truststore"],"owner":{"account_id":13411945,"reputation":5,"user_id":9678009,"display_name":"bonk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677223269,"creation_date":1677141897,"question_id":75542406,"body_markdown":"I am trying to download certs from 16 different websites.\r\nI don&#39;t have any of certs actually imported to my truststore, and it goes well with 13/16 websites.\r\n3 of them remains unreachable for me. I can access these websites and download certs manually using the browser, but main goal is to download and import them automatically.\r\n\r\nThere&#39;s a snippet that I use to connect to these websites:\r\n\r\n    URL url = new URL(uri);\r\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n    connection.connect();\r\n    Certificate[] certificates = connection.getServerCertificates();\r\n    for (Certificate certificate : certificates) {\r\n        result.append(&quot;&lt;br&gt;&quot;).append(getAliasFromCertificate((X509Certificate) certificate));\r\n    }\r\n\r\nThe thing is I need to import this certificate to grant the access to download them.\r\nIs there anything more that I can do, or it&#39;s just problem with these websites? Reminder: 13/16 are working, I don&#39;t have any certs imported.\r\n\r\nI tried to contact administrators of these websites, but unfortunately they told me that problem is by my side.\r\n\r\nAlso strange situation is that on my dev environment these certs can be downloaded after few hours of app running, even when nothing changes, but this is not happenning on production servers.\r\n\r\n","title":"PKIX: unable to find valid certification path to requested target","body":"<p>I am trying to download certs from 16 different websites.\nI don't have any of certs actually imported to my truststore, and it goes well with 13/16 websites.\n3 of them remains unreachable for me. I can access these websites and download certs manually using the browser, but main goal is to download and import them automatically.</p>\n<p>There's a snippet that I use to connect to these websites:</p>\n<pre><code>URL url = new URL(uri);\nHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\nconnection.connect();\nCertificate[] certificates = connection.getServerCertificates();\nfor (Certificate certificate : certificates) {\n    result.append(&quot;&lt;br&gt;&quot;).append(getAliasFromCertificate((X509Certificate) certificate));\n}\n</code></pre>\n<p>The thing is I need to import this certificate to grant the access to download them.\nIs there anything more that I can do, or it's just problem with these websites? Reminder: 13/16 are working, I don't have any certs imported.</p>\n<p>I tried to contact administrators of these websites, but unfortunately they told me that problem is by my side.</p>\n<p>Also strange situation is that on my dev environment these certs can be downloaded after few hours of app running, even when nothing changes, but this is not happenning on production servers.</p>\n"},{"tags":["java","mybatis","connection-pooling","connection-pool","dbcp"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677199592,"post_id":75551617,"comment_id":133296075,"body_markdown":"`BasicDataSource Configuration Parameters` (https://commons.apache.org/proper/commons-dbcp/configuration.html ) `maxIdle \t8 \tThe maximum number of connections that can remain idle in the pool, without extra ones being released, or negative for no limit. ` , `VERSION: 2.9.0`, `VERSION: 2.9.0`,`VERSION: 2.9.0`","body":"<code>BasicDataSource Configuration Parameters</code> (<a href=\"https://commons.apache.org/proper/commons-dbcp/configuration.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-dbcp/configuration.html</a> ) <code>maxIdle \t8 \tThe maximum number of connections that can remain idle in the pool, without extra ones being released, or negative for no limit. </code> , <code>VERSION: 2.9.0</code>, <code>VERSION: 2.9.0</code>,<code>VERSION: 2.9.0</code>"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1677223386,"post_id":75551617,"comment_id":133299000,"body_markdown":"@na_dev DBCP 1.4 is very old and has known issues. Use DBCP 2.x or something else. You seem to be using the built-in &quot;POOLED&quot; data source. If you want to use 3rd party connection pool, you need to write an adapter. Please see the [doc](https://mybatis.org/mybatis-3/configuration.html#environments) for the details.","body":"@na_dev DBCP 1.4 is very old and has known issues. Use DBCP 2.x or something else. You seem to be using the built-in &quot;POOLED&quot; data source. If you want to use 3rd party connection pool, you need to write an adapter. Please see the <a href=\"https://mybatis.org/mybatis-3/configuration.html#environments\" rel=\"nofollow noreferrer\">doc</a> for the details."}],"owner":{"account_id":27864989,"reputation":1,"user_id":21276647,"display_name":"na_dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677223195,"creation_date":1677198659,"question_id":75551617,"body_markdown":"I am making a simple program using MyBatis.\r\nAt this time, I am having difficulty applying DBCP to the configuration file(mybatis-config.xml) containg DB connection information.\r\n\r\n```\r\n&lt;property name=&quot;initialSize&quot; value=&quot;5&quot; /&gt;\r\n&lt;property name=&quot;testOnReturn&quot; value=&quot;true&quot; /&gt;\r\n&lt;property name=&quot;maxActive&quot; value=&quot;30&quot; /&gt;\r\n&lt;property name=&quot;maxIdle&quot; value=&quot;5&quot; /&gt;\r\n&lt;property name=&quot;maxWait&quot; value=&quot;-1&quot; /&gt;\r\n&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\r\n&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;\r\n&lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot; /&gt;\r\n&lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;60&quot; /&gt;\r\n&lt;property name=&quot;logAbandoned&quot; value=&quot;true&quot; /&gt;\r\n&lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt;\r\n&lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;60000&quot; /&gt;\r\n&lt;property name=&quot;validationQuery&quot; value=&quot;select 1 from dual&quot; /&gt;\r\n&lt;property name=&quot;numTestsPerEvictionRun&quot; value=&quot;20&quot; /&gt;\r\n```\r\n\r\nWhen I did this and ran the program, I got the following error:\r\n\r\n&gt; Error building SqlSession The error may exist in SQL Mapper\r\n&gt; Configuration Cause: org.apache.ibatis.builder.BuilderException: Error\r\n&gt; parsing SQL Mapper Configuration. Cause:\r\n&gt; org.apache.ibatis.datasource.DataSourceException: Unknown Datasource\r\n&gt; property: maxIdle\r\n\r\nIf the property names is change as below, it runs without error:\r\n```\r\n&lt;property name=&quot;poolMaximumActiveConnections&quot; value=&quot;30&quot; /&gt;\r\n&lt;property name=&quot;poolMaximumIdleConnections&quot; value=&quot;5&quot; /&gt;\r\n&lt;property name=&quot;poolMaximumCheckoutTime&quot; value=&quot;-1&quot; /&gt;\r\n```\r\n\r\nFrom what I&#39;ve found, the above method that gives me an error has items I want to set, so I want to solve this error.\r\nDo you know anyone well?\r\nFor reference, java version is 1.8 and mybatis-3.1.1.jar is applied.\r\nI tried applying commons-dbcp-1.4.jar just in case, but the error is the same before or after applying the library.\r\n\r\nPlease tell me your options.","title":"DBCP connection property name issue","body":"<p>I am making a simple program using MyBatis.\nAt this time, I am having difficulty applying DBCP to the configuration file(mybatis-config.xml) containg DB connection information.</p>\n<pre><code>&lt;property name=&quot;initialSize&quot; value=&quot;5&quot; /&gt;\n&lt;property name=&quot;testOnReturn&quot; value=&quot;true&quot; /&gt;\n&lt;property name=&quot;maxActive&quot; value=&quot;30&quot; /&gt;\n&lt;property name=&quot;maxIdle&quot; value=&quot;5&quot; /&gt;\n&lt;property name=&quot;maxWait&quot; value=&quot;-1&quot; /&gt;\n&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\n&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;\n&lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot; /&gt;\n&lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;60&quot; /&gt;\n&lt;property name=&quot;logAbandoned&quot; value=&quot;true&quot; /&gt;\n&lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt;\n&lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;60000&quot; /&gt;\n&lt;property name=&quot;validationQuery&quot; value=&quot;select 1 from dual&quot; /&gt;\n&lt;property name=&quot;numTestsPerEvictionRun&quot; value=&quot;20&quot; /&gt;\n</code></pre>\n<p>When I did this and ran the program, I got the following error:</p>\n<blockquote>\n<p>Error building SqlSession The error may exist in SQL Mapper\nConfiguration Cause: org.apache.ibatis.builder.BuilderException: Error\nparsing SQL Mapper Configuration. Cause:\norg.apache.ibatis.datasource.DataSourceException: Unknown Datasource\nproperty: maxIdle</p>\n</blockquote>\n<p>If the property names is change as below, it runs without error:</p>\n<pre><code>&lt;property name=&quot;poolMaximumActiveConnections&quot; value=&quot;30&quot; /&gt;\n&lt;property name=&quot;poolMaximumIdleConnections&quot; value=&quot;5&quot; /&gt;\n&lt;property name=&quot;poolMaximumCheckoutTime&quot; value=&quot;-1&quot; /&gt;\n</code></pre>\n<p>From what I've found, the above method that gives me an error has items I want to set, so I want to solve this error.\nDo you know anyone well?\nFor reference, java version is 1.8 and mybatis-3.1.1.jar is applied.\nI tried applying commons-dbcp-1.4.jar just in case, but the error is the same before or after applying the library.</p>\n<p>Please tell me your options.</p>\n"},{"tags":["java","encoding","path","wiremock"],"owner":{"account_id":8894322,"reputation":73,"user_id":6639897,"display_name":"Mike Brunner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677223063,"creation_date":1677223063,"question_id":75553584,"body_markdown":"I like to test a REST API using WireMock. This API has a special construct in the URL path like this:\r\n\r\n    /rest/v1/something/{&quot;key&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}\r\n\r\nMy WireMock arrangement look like this:\r\n\r\n    getWireMockExtension().stubFor(\r\n                get(urlPathEqualTo(String.format(&quot;/rest/v1/something/%s&quot;, pathObject)))\r\n                        .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\r\n                        .willReturn(okJson(expectedJson))\r\n\r\npathObject is the String representation of the above mentioned path object.\r\n\r\nWireMock returns this error when I call the mocked API.\r\n\r\n    {\r\n    &quot;servlet&quot;: &quot;wiremock.org.eclipse.jetty.servlet.DefaultServlet-7fae4d4a&quot;,\r\n    &quot;message&quot;: &quot;Illegal char &amp;lt;&amp;quot;&amp;gt; at index 98: ....\\src\\\\test\\\\resources\\/__files/rest/v1/something/{&amp;quot;key&amp;quot;:&amp;quot;VAL1&amp;quot;,&amp;quot;key2&amp;quot;:&amp;quot;VAL2&amp;quot;}&quot;,\r\n    &quot;url&quot;: &quot;/rest/v1/something/%7B%22key%22:%22VAL1%22,%22key2%22:%VAL2%22%7D&quot;,\r\n    &quot;status&quot;: &quot;500&quot;\r\n    }\r\n\r\n\r\nI tried to encode the path element before hand, but this didn&#180;t solve the issue.\r\n","title":"WireMock - Handling of special chars in URL path","body":"<p>I like to test a REST API using WireMock. This API has a special construct in the URL path like this:</p>\n<pre><code>/rest/v1/something/{&quot;key&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}\n</code></pre>\n<p>My WireMock arrangement look like this:</p>\n<pre><code>getWireMockExtension().stubFor(\n            get(urlPathEqualTo(String.format(&quot;/rest/v1/something/%s&quot;, pathObject)))\n                    .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\n                    .willReturn(okJson(expectedJson))\n</code></pre>\n<p>pathObject is the String representation of the above mentioned path object.</p>\n<p>WireMock returns this error when I call the mocked API.</p>\n<pre><code>{\n&quot;servlet&quot;: &quot;wiremock.org.eclipse.jetty.servlet.DefaultServlet-7fae4d4a&quot;,\n&quot;message&quot;: &quot;Illegal char &amp;lt;&amp;quot;&amp;gt; at index 98: ....\\src\\\\test\\\\resources\\/__files/rest/v1/something/{&amp;quot;key&amp;quot;:&amp;quot;VAL1&amp;quot;,&amp;quot;key2&amp;quot;:&amp;quot;VAL2&amp;quot;}&quot;,\n&quot;url&quot;: &quot;/rest/v1/something/%7B%22key%22:%22VAL1%22,%22key2%22:%VAL2%22%7D&quot;,\n&quot;status&quot;: &quot;500&quot;\n}\n</code></pre>\n<p>I tried to encode the path element before hand, but this didnt solve the issue.</p>\n"},{"tags":["java","kotlin","libraries","kotlin-multiplatform"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":2,"creation_date":1677224079,"post_id":75553573,"comment_id":133299134,"body_markdown":"If you use Java libraries then how would you execute your application e.g. in iOS which doesn&#39;t support running Java code?","body":"If you use Java libraries then how would you execute your application e.g. in iOS which doesn&#39;t support running Java code?"},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1677237866,"post_id":75553573,"comment_id":133302748,"body_markdown":"kotlin is completely interoperable with Java.  Kotlin/JVM is completely interoperable with Java; other Kotlin platforms aren&#39;t.(Kotlin/JVM was the first Kotlin platform, so older docs and tutorials may not draw the distinction.)","body":"kotlin is completely interoperable with Java.  Kotlin/JVM is completely interoperable with Java; other Kotlin platforms aren&#39;t.(Kotlin/JVM was the first Kotlin platform, so older docs and tutorials may not draw the distinction.)"}],"owner":{"account_id":26637935,"reputation":1,"user_id":20254066,"display_name":"Siddhant Solanki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677235328,"answer_count":0,"score":0,"last_activity_date":1677223011,"creation_date":1677223011,"question_id":75553573,"body_markdown":"I want to understand why we only have to use libraries written in Kotlin and not in java in KMM when kotlin is completely interoperable with Java. \r\n\r\nI was just watching the tutorials and they keep telling that we have to use kotlin libraries.","title":"Why cant we use the java based libraries in Kotlin Multiplatform Mobile when kotlin is interoperable with Java?","body":"<p>I want to understand why we only have to use libraries written in Kotlin and not in java in KMM when kotlin is completely interoperable with Java.</p>\n<p>I was just watching the tutorials and they keep telling that we have to use kotlin libraries.</p>\n"},{"tags":["java","tomcat","logging","tomcat8","access-log"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1677254181,"post_id":75553538,"comment_id":133307456,"body_markdown":"Escaping input data on logs might be done for security concerns,","body":"Escaping input data on logs might be done for security concerns,"},{"owner":{"account_id":15180230,"reputation":107,"user_id":10953698,"display_name":"user10953698"},"score":0,"creation_date":1677478137,"post_id":75553538,"comment_id":133338383,"body_markdown":"@LMC you mean I can&#39;t remove escaping symbol anyway?","body":"@LMC you mean I can&#39;t remove escaping symbol anyway?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1677514237,"post_id":75553538,"comment_id":133348197,"body_markdown":"May be you shouldn&#39;t alter logging and think of log processing instead.","body":"May be you shouldn&#39;t alter logging and think of log processing instead."}],"owner":{"account_id":15180230,"reputation":107,"user_id":10953698,"display_name":"user10953698"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677222759,"creation_date":1677222759,"question_id":75553538,"body_markdown":"I have to make logs using AccessLogValve of tomcat8.\r\nThe logs include double quote.\r\n\r\nTomcat server.xml below\r\n```xml\r\n...\r\n&lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;mypage.com&quot;&gt;\r\n    &lt;Host name=&quot;mypage.com&quot; appBase=&quot;/home1/irteam/mypage&quot;\r\n            workDir=&quot;work&quot; unpackWARs=&quot;false&quot; deployOnStartup=&quot;false&quot;\r\n            autoDeploy=&quot;false&quot;&gt;\r\n\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;\r\n               directory=&quot;/home1/irteam/apps/tomcat/logs&quot;\r\n               prefix=&quot;accesslog.&quot;\r\n               resolveHosts=&quot;false&quot;\r\n               fileDateFormat=&quot;yyMMdd&quot;\r\n               pattern=&quot;%{timestamp}r, &amp;quot;data&amp;quot;:%{request_data}r&quot;\r\n               requestAttributesEnabled=&quot;true&quot;\r\n               encoding=&quot;utf-8&quot; /&gt;\r\n\r\n...\r\n```\r\n\r\nlog example below\r\n```\r\n20230224160000, &quot;data&quot;:[{\\&quot;code\\&quot;:\\&quot;retry_num\\&quot;,\\&quot;count\\&quot;:1},{\\&quot;code\\&quot;:\\&quot;visit_num\\&quot;,\\&quot;count\\&quot;:1}]\r\n```\r\n\r\n\r\nAlthough i passed data without escape symble, AccessLogValve make automatically escape symbol (backslash) for double quote in passed data (request, header, session ...).\r\nI found documentation explained to adding function of auto escaping for double quote.\r\nhttps://tomcat.apache.org/tomcat-8.5-doc/config/valve.html\r\n\r\nI have to make log with double quote. Can I off auto escaping for double quote?\r\n\r\nI tried below about passed data (request, header, session...) in java code\r\n- replace(&quot;\\\\\\\\&quot;, &quot;&quot;)\r\n- replace(&quot;\\&quot;&quot;, &quot;&amp;quot;&quot;)\r\n- Using replace function in java code is meaningless, because making escape symbol is occured in AccessLogValve of Tomcat.","title":"How to off auto escaping (backslash) double quote when i log with AccessLogValve of Tomcat8","body":"<p>I have to make logs using AccessLogValve of tomcat8.\nThe logs include double quote.</p>\n<p>Tomcat server.xml below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;mypage.com&quot;&gt;\n    &lt;Host name=&quot;mypage.com&quot; appBase=&quot;/home1/irteam/mypage&quot;\n            workDir=&quot;work&quot; unpackWARs=&quot;false&quot; deployOnStartup=&quot;false&quot;\n            autoDeploy=&quot;false&quot;&gt;\n\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;\n               directory=&quot;/home1/irteam/apps/tomcat/logs&quot;\n               prefix=&quot;accesslog.&quot;\n               resolveHosts=&quot;false&quot;\n               fileDateFormat=&quot;yyMMdd&quot;\n               pattern=&quot;%{timestamp}r, &amp;quot;data&amp;quot;:%{request_data}r&quot;\n               requestAttributesEnabled=&quot;true&quot;\n               encoding=&quot;utf-8&quot; /&gt;\n\n...\n</code></pre>\n<p>log example below</p>\n<pre><code>20230224160000, &quot;data&quot;:[{\\&quot;code\\&quot;:\\&quot;retry_num\\&quot;,\\&quot;count\\&quot;:1},{\\&quot;code\\&quot;:\\&quot;visit_num\\&quot;,\\&quot;count\\&quot;:1}]\n</code></pre>\n<p>Although i passed data without escape symble, AccessLogValve make automatically escape symbol (backslash) for double quote in passed data (request, header, session ...).\nI found documentation explained to adding function of auto escaping for double quote.\n<a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html</a></p>\n<p>I have to make log with double quote. Can I off auto escaping for double quote?</p>\n<p>I tried below about passed data (request, header, session...) in java code</p>\n<ul>\n<li>replace(&quot;\\\\&quot;, &quot;&quot;)</li>\n<li>replace(&quot;&quot;&quot;, &quot;&quot;&quot;)</li>\n<li>Using replace function in java code is meaningless, because making escape symbol is occured in AccessLogValve of Tomcat.</li>\n</ul>\n"},{"tags":["java","android-studio","ftp","apache-commons-net","session-reuse"],"answers":[{"tags":[],"owner":{"account_id":4756541,"reputation":49,"user_id":3845171,"display_name":"ferpalos"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1592386207,"creation_date":1592386207,"answer_id":62425820,"question_id":61348963,"body_markdown":"Based on the same idea of the Java cyberduck&#39;s solution, I overrided the &quot;_prepareDataSocket_&quot; method of the FTPSClient to make it works on Android.\r\nI test it in Android 9.0 and in Android 5.1.1 and it works fine.\r\nThe code was:\r\n\r\n``````\r\nimport javax.net.ssl.SSLSession;\r\nimport javax.net.ssl.SSLSessionContext;\r\nimport javax.net.ssl.SSLSocket;\r\n\r\nimport org.apache.commons.net.ftp.FTPSClient;\r\n\r\npublic class TLSAndroidFTPSClient extends FTPSClient\r\n{\r\n\t@Override\r\n\tprotected void _prepareDataSocket_(final Socket socket) throws IOException\r\n\t{\r\n\t\tif (socket instanceof SSLSocket)\r\n\t\t{\r\n\t\t\tfinal SSLSession sessionAux = ((SSLSocket) _socket_).getSession();\r\n\t\t\tif(sessionAux.isValid())\r\n\t\t\t{\r\n\t\t\t\tfinal SSLSessionContext sessionsContext = sessionAux.getSessionContext();\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\t// lets find the sessions in the context&#39; cache\r\n\t\t\t\t\tfinal Field fieldSessionsInContext =sessionsContext.getClass().getDeclaredField(&quot;sessionsByHostAndPort&quot;);\r\n\t\t\t\t\tfieldSessionsInContext.setAccessible(true);\r\n\t\t\t\t\tfinal Object sessionsInContext = fieldSessionsInContext.get(sessionsContext);\r\n\r\n\t\t\t\t\t// lets find the session of our conexion\r\n\t\t\t\t\tint portNumb=sessionAux.getPeerPort();\r\n\t\t\t\t\tSet keys=((HashMap)sessionsInContext).keySet();\r\n\t\t\t\t\tif(keys.size()==0)\r\n\t\t\t\t\t\tthrow new IOException(&quot;Invalid SSL Session&quot;);\r\n\t\t\t\t\tfinal Field fieldPort=((keys.toArray())[0]).getClass().getDeclaredField(&quot;port&quot;);\r\n\t\t\t\t\tfieldPort.setAccessible(true);\r\n\t\t\t\t\tint i=0;\r\n\t\t\t\t\twhile(i&lt;keys.size() &amp;&amp; ((int)fieldPort.get((keys.toArray())[i]))!=portNumb)\r\n\t\t\t\t\t\ti++;\r\n\r\n\t\t\t\t\tif(i&lt;keys.size())   // it was found\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tObject ourKey=(keys.toArray())[i];\r\n\t\t\t\t\t\t// building two objects like our key but with the new port and the host Name and host address\r\n\t\t\t\t\t\tfinal Constructor construc =ourKey.getClass().getDeclaredConstructor(String.class, int.class);\r\n\t\t\t\t\t\tconstruc.setAccessible(true);\r\n\t\t\t\t\t\tObject copy1Key=construc.newInstance(socket.getInetAddress().getHostName(),socket.getPort());\r\n\t\t\t\t\t\tObject copy2Key=construc.newInstance(socket.getInetAddress().getHostAddress(),socket.getPort());\r\n\r\n\t\t\t\t\t\t// getting our session\r\n\t\t\t\t\t\tObject ourSession=((HashMap)sessionsInContext).get(ourKey);\r\n\r\n\t\t\t\t\t\t// Lets add the pairs copy1Key-ourSession &amp; copy2Key-ourSession to the context&#39;cache\r\n\t\t\t\t\t\tfinal Method method = sessionsInContext.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\r\n\t\t\t\t\t\tmethod.setAccessible(true);\r\n\t\t\t\t\t\tmethod.invoke(sessionsInContext,copy1Key,ourSession);\r\n\t\t\t\t\t\tmethod.invoke(sessionsInContext,copy2Key,ourSession);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthrow new IOException(&quot;Invalid SSL Session&quot;);\r\n\r\n\t\t\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t\t\tthrow new IOException(e);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tthrow new IOException(e);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthrow new IOException(&quot;Invalid SSL Session&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n``````","title":"Android - FTPS Session Reuse - No field sessionHostPortCache","body":"<p>Based on the same idea of the Java cyberduck's solution, I overrided the \"<em>prepareDataSocket</em>\" method of the FTPSClient to make it works on Android.\nI test it in Android 9.0 and in Android 5.1.1 and it works fine.\nThe code was:</p>\n\n<pre><code>import javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSessionContext;\nimport javax.net.ssl.SSLSocket;\n\nimport org.apache.commons.net.ftp.FTPSClient;\n\npublic class TLSAndroidFTPSClient extends FTPSClient\n{\n    @Override\n    protected void _prepareDataSocket_(final Socket socket) throws IOException\n    {\n        if (socket instanceof SSLSocket)\n        {\n            final SSLSession sessionAux = ((SSLSocket) _socket_).getSession();\n            if(sessionAux.isValid())\n            {\n                final SSLSessionContext sessionsContext = sessionAux.getSessionContext();\n                try\n                {\n                    // lets find the sessions in the context' cache\n                    final Field fieldSessionsInContext =sessionsContext.getClass().getDeclaredField(\"sessionsByHostAndPort\");\n                    fieldSessionsInContext.setAccessible(true);\n                    final Object sessionsInContext = fieldSessionsInContext.get(sessionsContext);\n\n                    // lets find the session of our conexion\n                    int portNumb=sessionAux.getPeerPort();\n                    Set keys=((HashMap)sessionsInContext).keySet();\n                    if(keys.size()==0)\n                        throw new IOException(\"Invalid SSL Session\");\n                    final Field fieldPort=((keys.toArray())[0]).getClass().getDeclaredField(\"port\");\n                    fieldPort.setAccessible(true);\n                    int i=0;\n                    while(i&lt;keys.size() &amp;&amp; ((int)fieldPort.get((keys.toArray())[i]))!=portNumb)\n                        i++;\n\n                    if(i&lt;keys.size())   // it was found\n                    {\n                        Object ourKey=(keys.toArray())[i];\n                        // building two objects like our key but with the new port and the host Name and host address\n                        final Constructor construc =ourKey.getClass().getDeclaredConstructor(String.class, int.class);\n                        construc.setAccessible(true);\n                        Object copy1Key=construc.newInstance(socket.getInetAddress().getHostName(),socket.getPort());\n                        Object copy2Key=construc.newInstance(socket.getInetAddress().getHostAddress(),socket.getPort());\n\n                        // getting our session\n                        Object ourSession=((HashMap)sessionsInContext).get(ourKey);\n\n                        // Lets add the pairs copy1Key-ourSession &amp; copy2Key-ourSession to the context'cache\n                        final Method method = sessionsInContext.getClass().getDeclaredMethod(\"put\", Object.class, Object.class);\n                        method.setAccessible(true);\n                        method.invoke(sessionsInContext,copy1Key,ourSession);\n                        method.invoke(sessionsInContext,copy2Key,ourSession);\n                    }\n                    else\n                        throw new IOException(\"Invalid SSL Session\");\n\n                } catch (NoSuchFieldException e) {\n                    throw new IOException(e);\n                } catch (Exception e) {\n                    throw new IOException(e);\n                }\n            } else {\n                throw new IOException(\"Invalid SSL Session\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11448662,"reputation":680,"user_id":8391649,"display_name":"TomInCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677222439,"creation_date":1677116111,"answer_id":75539799,"question_id":61348963,"body_markdown":"I ran into the same issue in an android project with api 33.\r\nTrying to get the field: sessionsContext.getClass().getDeclaredField(&quot;sessionsByHostAndPort&quot;)\r\nleads to: \r\n\r\n    Accessing hidden field (blocked, reflection, denied)\r\n    W/Accessing hidden field Lcom/android/org/conscrypt/ClientSessionContext;\r\n    -&gt;sessionsByHostAndPort:Ljava/util/Map; (blocked, reflection, denied)\r\n    W/System.err: java.lang.NoSuchFieldException: \r\n    No field sessionsByHostAndPort in class Lcom/android/org/conscrypt/ClientSessionContext; \r\n    (declaration of &#39;com.android.org.conscrypt.ClientSessionContext&#39; \r\n    appears in /apex/com.android.conscrypt/javalib/conscrypt.jar)\r\n\r\n    W/System.err:     at java.lang.Class.getDeclaredField(Native Method)\r\n    W/System.err:     at org.apache.commons.net.ftp.FTPSClient._prepareDataSocket_(FTPSClient.java:409)\r\n    W/System.err:     at org.apache.commons.net.ftp.FTPSClient._openDataConnection_(FTPSClient.java:310)\r\n    W/System.err:     at org.apache.commons.net.ftp.FTPClient._openDataConnection_(FTPClient.java:638)\r\n    W/System.err:     at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:1988)\r\n    W/System.err:     at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2084)\r\n    W/System.err:     at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2282)\r\n    W/System.err:     at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2248)\r\n    W/System.err:     at de.medialux.powerftp.activities.RemoteExplorerActivityFTP$23.doInBackground(RemoteExplorerActivityFTP.java:2186)\r\n    W/System.err:     at de.medialux.powerftp.activities.RemoteExplorerActivityFTP$23.doInBackground(RemoteExplorerActivityFTP.java:1978)\r\n    W/System.err:     at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n    W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n    W/System.err:     at java.lang.Thread.run(Thread.java:1012)\r\n\r\nSince API level 28 Android forbids access to some hidden API functions \r\n(see: https://developer.android.com/distribute/best-practices/develop/restrictions-non-sdk-interfaces). \r\nLots of required functions used by the PoC are black listed and threw exceptions \r\nwhile trying to access them via the Reflection API.\r\n\r\nAfter some time of research I found the\r\n&#39;com.github.ChickenHook:RestrictionBypass&#39; library. \r\n\r\nhttps://github.com/ChickenHook/RestrictionBypass\r\n\r\nAfter adding the library to the project in app gradle file \r\nthe access to the fields in ClientSessionContext are granted.","title":"Android - FTPS Session Reuse - No field sessionHostPortCache","body":"<p>I ran into the same issue in an android project with api 33.\nTrying to get the field: sessionsContext.getClass().getDeclaredField(&quot;sessionsByHostAndPort&quot;)\nleads to:</p>\n<pre><code>Accessing hidden field (blocked, reflection, denied)\nW/Accessing hidden field Lcom/android/org/conscrypt/ClientSessionContext;\n-&gt;sessionsByHostAndPort:Ljava/util/Map; (blocked, reflection, denied)\nW/System.err: java.lang.NoSuchFieldException: \nNo field sessionsByHostAndPort in class Lcom/android/org/conscrypt/ClientSessionContext; \n(declaration of 'com.android.org.conscrypt.ClientSessionContext' \nappears in /apex/com.android.conscrypt/javalib/conscrypt.jar)\n\nW/System.err:     at java.lang.Class.getDeclaredField(Native Method)\nW/System.err:     at org.apache.commons.net.ftp.FTPSClient._prepareDataSocket_(FTPSClient.java:409)\nW/System.err:     at org.apache.commons.net.ftp.FTPSClient._openDataConnection_(FTPSClient.java:310)\nW/System.err:     at org.apache.commons.net.ftp.FTPClient._openDataConnection_(FTPClient.java:638)\nW/System.err:     at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:1988)\nW/System.err:     at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2084)\nW/System.err:     at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2282)\nW/System.err:     at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2248)\nW/System.err:     at de.medialux.powerftp.activities.RemoteExplorerActivityFTP$23.doInBackground(RemoteExplorerActivityFTP.java:2186)\nW/System.err:     at de.medialux.powerftp.activities.RemoteExplorerActivityFTP$23.doInBackground(RemoteExplorerActivityFTP.java:1978)\nW/System.err:     at android.os.AsyncTask$3.call(AsyncTask.java:394)\nW/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:264)\nW/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\nW/System.err:     at java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n<p>Since API level 28 Android forbids access to some hidden API functions\n(see: <a href=\"https://developer.android.com/distribute/best-practices/develop/restrictions-non-sdk-interfaces\" rel=\"nofollow noreferrer\">https://developer.android.com/distribute/best-practices/develop/restrictions-non-sdk-interfaces</a>).\nLots of required functions used by the PoC are black listed and threw exceptions\nwhile trying to access them via the Reflection API.</p>\n<p>After some time of research I found the\n'com.github.ChickenHook:RestrictionBypass' library.</p>\n<p><a href=\"https://github.com/ChickenHook/RestrictionBypass\" rel=\"nofollow noreferrer\">https://github.com/ChickenHook/RestrictionBypass</a></p>\n<p>After adding the library to the project in app gradle file\nthe access to the fields in ClientSessionContext are granted.</p>\n"}],"owner":{"account_id":18113930,"reputation":41,"user_id":13170788,"display_name":"Anthony Blanchette-Potvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677222439,"creation_date":1587488397,"question_id":61348963,"body_markdown":"I&#39;m developing an application on Android with Android Studio and I want to use FTP to send files to a server. I need to support session reuse since the server is hosted by an hosting service provider and they obviously have session reuse enabled.\r\n\r\n---\r\n\r\nI found this reflection hack [in this post](https://stackoverflow.com/questions/57144514/how-to-connect-to-ftps-server-with-reuse-sessions) used by many to make make this possible:\r\n\r\n    // adapted from:\r\n    // https://trac.cyberduck.io/browser/trunk/ftp/src/main/java/ch/cyberduck/core/ftp/FTPClient.java\r\n    @Override\r\n    protected void _prepareDataSocket_(final Socket socket) throws IOException {\r\n        if (socket instanceof SSLSocket) {\r\n            // Control socket is SSL\r\n            final SSLSession session = ((SSLSocket) _socket_).getSession();\r\n            if (session.isValid()) {\r\n                final SSLSessionContext context = session.getSessionContext();\r\n                try {\r\n                    final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\r\n                    sessionHostPortCache.setAccessible(true);\r\n                    final Object cache = sessionHostPortCache.get(context);\r\n                    final Method method = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\r\n                    method.setAccessible(true);\r\n                    method.invoke(cache, String\r\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\r\n                            .toLowerCase(Locale.ROOT), session);\r\n                    method.invoke(cache, String\r\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\r\n                            .toLowerCase(Locale.ROOT), session);\r\n                } catch (NoSuchFieldException e) {\r\n                    throw new IOException(e);\r\n                } catch (Exception e) {\r\n                    throw new IOException(e);\r\n                }\r\n            } else {\r\n                throw new IOException(&quot;Invalid SSL Session&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n---\r\n\r\nHere&#39;s the code that uses SSLSessionReuseFTPSClient:\r\n\r\n    System.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);\r\n\r\n    String host = &quot;xxxxxxxx&quot;;\r\n    String user = &quot;xxxxxxxx&quot;;\r\n    String password = &quot;xxxxxxxx&quot;;\r\n    String directory = &quot;xxxxxxxx&quot;;\r\n\r\n    ProtocolCommandListener listener = new MyProtocolCommandListener(host);\r\n\r\n    SSLSessionReuseFTPSClient client = new SSLSessionReuseFTPSClient(&quot;TLS&quot;, false);\r\n    client.addProtocolCommandListener(listener);\r\n\r\n    try {\r\n        client.connect(host);\r\n        client.execPBSZ(0);\r\n        client.execPROT(&quot;P&quot;);\r\n\r\n        if (client.login(user, password)) {\r\n            Log.w(&quot;myApp&quot;, &quot;Logged in as &quot; + user + &quot; on &quot; + host + &quot;.&quot;);\r\n        }\r\n\r\n        if (client.changeWorkingDirectory(directory)) {\r\n            Log.w(&quot;myApp&quot;, &quot;Working directory changed to &quot; + directory + &quot;.&quot;);\r\n        }\r\n\r\n        client.enterLocalPassiveMode();\r\n\r\n        InputStream input = new FileInputStream(file);\r\n\r\n        if (client.storeFile(file.getName(), input)) {\r\n            Log.w(&quot;myApp&quot;, &quot;File &quot; + file.getName() + &quot; sent to &quot; + host + &quot;.&quot;);\r\n        } else {\r\n            Log.w(&quot;myApp&quot;, &quot;Couldn&#39;t send file &quot; + file.getName() + &quot; to &quot; + host + &quot;.&quot;);\r\n            Log.w(&quot;myApp&quot;, &quot;Reply: &quot; + client.getReplyString());\r\n        }\r\n\r\n        client.logout();\r\n        client.disconnect();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n---\r\n\r\nI first tried in Eclipse, and it worked. Then I tried to implement it in my Android application, but I get this error:\r\n\r\n    java.io.IOException: java.lang.NoSuchFieldException: No field sessionHostPortCache in class Lcom/android/org/conscrypt/ClientSessionContext; (declaration of &#39;com.android.org.conscrypt.ClientSessionContext&#39; appears in /system/framework/conscrypt.jar)\r\n\r\n---\r\n\r\nI noticed that, when I execute the code in Eclipse and print the ```context``` class name, I get this: ```sun.security.ssl.SSLSessionContextImpl```, but in Android Studio, I get: ```com.android.org.conscrypt.ClientSessionContext```.\r\n\r\n---\r\n\r\nI&#39;ve been searching for almost two days straight and I&#39;m just not experienced enough to know what is up. Why is ```com.android.org.conscrypt.ClientSessionContext``` use instead of ```sun.security.ssl.SSLSessionContextImpl``` ? I check the java.security file and from what I see, ```sun.security.ssl.SSLSessionContextImpl``` should be used.\r\n\r\nIf someone could help me with this, I would be insanely grateful.\r\n\r\nFinally, here&#39;s some information that could be useful :\r\n\r\n    Android Studio 3.6.2\r\n    commons-net-3.6\r\n    openjdk version &quot;1.8.0_212-release&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_212-release-1586-b04)\r\n    OpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)\r\n\r\nThank you !","title":"Android - FTPS Session Reuse - No field sessionHostPortCache","body":"<p>I'm developing an application on Android with Android Studio and I want to use FTP to send files to a server. I need to support session reuse since the server is hosted by an hosting service provider and they obviously have session reuse enabled.</p>\n\n<hr>\n\n<p>I found this reflection hack <a href=\"https://stackoverflow.com/questions/57144514/how-to-connect-to-ftps-server-with-reuse-sessions\">in this post</a> used by many to make make this possible:</p>\n\n<pre><code>// adapted from:\n// https://trac.cyberduck.io/browser/trunk/ftp/src/main/java/ch/cyberduck/core/ftp/FTPClient.java\n@Override\nprotected void _prepareDataSocket_(final Socket socket) throws IOException {\n    if (socket instanceof SSLSocket) {\n        // Control socket is SSL\n        final SSLSession session = ((SSLSocket) _socket_).getSession();\n        if (session.isValid()) {\n            final SSLSessionContext context = session.getSessionContext();\n            try {\n                final Field sessionHostPortCache = context.getClass().getDeclaredField(\"sessionHostPortCache\");\n                sessionHostPortCache.setAccessible(true);\n                final Object cache = sessionHostPortCache.get(context);\n                final Method method = cache.getClass().getDeclaredMethod(\"put\", Object.class, Object.class);\n                method.setAccessible(true);\n                method.invoke(cache, String\n                        .format(\"%s:%s\", socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\n                        .toLowerCase(Locale.ROOT), session);\n                method.invoke(cache, String\n                        .format(\"%s:%s\", socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\n                        .toLowerCase(Locale.ROOT), session);\n            } catch (NoSuchFieldException e) {\n                throw new IOException(e);\n            } catch (Exception e) {\n                throw new IOException(e);\n            }\n        } else {\n            throw new IOException(\"Invalid SSL Session\");\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Here's the code that uses SSLSessionReuseFTPSClient:</p>\n\n<pre><code>System.setProperty(\"jdk.tls.useExtendedMasterSecret\", \"false\");\n\nString host = \"xxxxxxxx\";\nString user = \"xxxxxxxx\";\nString password = \"xxxxxxxx\";\nString directory = \"xxxxxxxx\";\n\nProtocolCommandListener listener = new MyProtocolCommandListener(host);\n\nSSLSessionReuseFTPSClient client = new SSLSessionReuseFTPSClient(\"TLS\", false);\nclient.addProtocolCommandListener(listener);\n\ntry {\n    client.connect(host);\n    client.execPBSZ(0);\n    client.execPROT(\"P\");\n\n    if (client.login(user, password)) {\n        Log.w(\"myApp\", \"Logged in as \" + user + \" on \" + host + \".\");\n    }\n\n    if (client.changeWorkingDirectory(directory)) {\n        Log.w(\"myApp\", \"Working directory changed to \" + directory + \".\");\n    }\n\n    client.enterLocalPassiveMode();\n\n    InputStream input = new FileInputStream(file);\n\n    if (client.storeFile(file.getName(), input)) {\n        Log.w(\"myApp\", \"File \" + file.getName() + \" sent to \" + host + \".\");\n    } else {\n        Log.w(\"myApp\", \"Couldn't send file \" + file.getName() + \" to \" + host + \".\");\n        Log.w(\"myApp\", \"Reply: \" + client.getReplyString());\n    }\n\n    client.logout();\n    client.disconnect();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<hr>\n\n<p>I first tried in Eclipse, and it worked. Then I tried to implement it in my Android application, but I get this error:</p>\n\n<pre><code>java.io.IOException: java.lang.NoSuchFieldException: No field sessionHostPortCache in class Lcom/android/org/conscrypt/ClientSessionContext; (declaration of 'com.android.org.conscrypt.ClientSessionContext' appears in /system/framework/conscrypt.jar)\n</code></pre>\n\n<hr>\n\n<p>I noticed that, when I execute the code in Eclipse and print the <code>context</code> class name, I get this: <code>sun.security.ssl.SSLSessionContextImpl</code>, but in Android Studio, I get: <code>com.android.org.conscrypt.ClientSessionContext</code>.</p>\n\n<hr>\n\n<p>I've been searching for almost two days straight and I'm just not experienced enough to know what is up. Why is <code>com.android.org.conscrypt.ClientSessionContext</code> use instead of <code>sun.security.ssl.SSLSessionContextImpl</code> ? I check the java.security file and from what I see, <code>sun.security.ssl.SSLSessionContextImpl</code> should be used.</p>\n\n<p>If someone could help me with this, I would be insanely grateful.</p>\n\n<p>Finally, here's some information that could be useful :</p>\n\n<pre><code>Android Studio 3.6.2\ncommons-net-3.6\nopenjdk version \"1.8.0_212-release\"\nOpenJDK Runtime Environment (build 1.8.0_212-release-1586-b04)\nOpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)\n</code></pre>\n\n<p>Thank you !</p>\n"},{"tags":["java","jvm","jnlp","jide","openwebstart"],"comments":[{"owner":{"account_id":25372864,"reputation":11,"user_id":19186379,"display_name":"Noob Coder"},"score":0,"creation_date":1677219057,"post_id":75552860,"comment_id":133298262,"body_markdown":"I am using it&#39;s alternate Open webstart to open my jnlp file.","body":"I am using it&#39;s alternate Open webstart to open my jnlp file."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677237634,"post_id":75552860,"comment_id":133302686,"body_markdown":"There is no JVM 1.17. When the look and feel is incompatible with Java&#160;17, check whether a) there is a newer version or b) you really need this look &amp; feel. Besides that, the option `-Xincgc` was deprecated even in Java&#160;8 and has no use in Java&#160;17.","body":"There is no JVM 1.17. When the look and feel is incompatible with Java 17, check whether a) there is a newer version or b) you really need this look &amp; feel. Besides that, the option <code>-Xincgc</code> was deprecated even in Java 8 and has no use in Java 17."}],"owner":{"account_id":25372864,"reputation":11,"user_id":19186379,"display_name":"Noob Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677222256,"creation_date":1677216001,"question_id":75552860,"body_markdown":"While I am trying to open my jnlp file using on open web start using JVM 1.17, I am getting the following errors but it is opening fine with JVM 1.8.\r\n\r\n```\r\nnet.sourceforge.jnlp.LaunchException: Fatal: Launch Error: Could not launch JNLP file. The application has not been initialized, for more information execute javaws/browser from the command line and send a bug report.\r\n\tat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:413)\r\n\tat net.sourceforge.jnlp.Launcher.access$300(Launcher.java:71)\r\n\tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:660)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:406)\r\n\t... 2 more\r\nCaused by: java.lang.IllegalAccessError: class com.jidesoft.plaf.LookAndFeelFactory (in unnamed module @0x30d1453f) cannot access class com.sun.java.swing.plaf.windows.WindowsLookAndFeel (in module java.desktop) because module java.desktop does not export com.sun.java.swing.plaf.windows to unnamed module @0x30d1453f\r\n\tat com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n\tat com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n\tat com.ericsson.charging.vxmlivr.editor.core.common.CommonUtils.setLookAndFeel(CommonUtils.java:342)\r\n\tat com.ericsson.charging.vxmlivr.editor.workflow.client.gui.WorkflowEditorFrame.main(WorkflowEditorFrame.java:663)\r\n\t... 7 more\r\n```\r\n\r\nMy jnlp file is working fine with jvm 1.8\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;jnlp spec=&quot;1.0+&quot;\r\n      codebase=&quot;https://214.5.247.200:13202/EditorServer/&quot;&gt;        \r\n    &lt;information&gt;\r\n      &lt;title&gt;Workflow Editor&lt;/title&gt;\r\n      &lt;vendor&gt;Ericsson&lt;/vendor&gt;\r\n      &lt;description&gt;Workflow Editor&lt;/description&gt;\r\n     \r\n      &lt;offline-allowed/&gt;\r\n    &lt;/information&gt;\r\n    &lt;security&gt;\r\n  \t\t&lt;all-permissions/&gt; \r\n\t&lt;/security&gt;  \r\n\r\n    &lt;resources&gt;        \t\r\n\t&lt;jar href=&quot;client/CXC1729877-EditorCore.jar&quot; main=&quot;true&quot; download=&quot;eager&quot;/&gt; \r\n\t&lt;jar href=&quot;client/CXC1729512-WorkflowClient.jar&quot; main=&quot;true&quot; download=&quot;eager&quot;/&gt; \r\n\t&lt;jar href=&quot;lib/commonlookandfeel.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/JGo.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/JGoLayout.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-action.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-beaninfo.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-common.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-components.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-dashboard.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-dialogs.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-dock.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-editor.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/xalan-2.7.2.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jide-grids.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/serializer-2.7.2.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/activation.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/jsr173_1.0_api.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/commons-httpclient-3.1.jar&quot;/&gt;\r\n\t&lt;jar href=&quot;lib/commons-codec-1.15.jar&quot;/&gt;\r\n\t&lt;extension name=&quot;EditorServerLogging.jsp&quot; href=&quot;jspFiles/com/ericsson/charging/vxmlivr/editor/server/EditorServerLogging.jsp&quot;/&gt;\r\n\t&lt;j2se version=&quot;1.8+&quot;     java-vm-args=&quot;-Xincgc&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; initial-heap-size=&quot;128m&quot; max-heap-size=&quot;512m&quot; /&gt;\r\n\r\n    &lt;/resources&gt;\r\n    &lt;application-desc main-class=&quot;abc&quot;&gt;\r\n    &lt;argument&gt;214.xyz&lt;/argument&gt;\r\n    &lt;argument&gt;13202&lt;/argument&gt;\r\n    &lt;argument&gt;https&lt;/argument&gt;\r\n    &lt;/application-desc&gt;\r\n&lt;/jnlp&gt;\r\n\r\n```\r\n\r\nThankyou.\r\n\r\n\r\nTried to add java-vm-args=&quot;-Djide.defaultStyle=1&quot; in my jnlp, Still not working.\r\nIf instead of 1.8+ j2se, I will use 1.8* i.e 1.8 version only it is working fine","title":"Unable to open my jnlp file on open web start using JVM 1.17 but I am able to open same with JVM 1.8","body":"<p>While I am trying to open my jnlp file using on open web start using JVM 1.17, I am getting the following errors but it is opening fine with JVM 1.8.</p>\n<pre><code>net.sourceforge.jnlp.LaunchException: Fatal: Launch Error: Could not launch JNLP file. The application has not been initialized, for more information execute javaws/browser from the command line and send a bug report.\n    at net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:413)\n    at net.sourceforge.jnlp.Launcher.access$300(Launcher.java:71)\n    at net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:660)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:406)\n    ... 2 more\nCaused by: java.lang.IllegalAccessError: class com.jidesoft.plaf.LookAndFeelFactory (in unnamed module @0x30d1453f) cannot access class com.sun.java.swing.plaf.windows.WindowsLookAndFeel (in module java.desktop) because module java.desktop does not export com.sun.java.swing.plaf.windows to unnamed module @0x30d1453f\n    at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n    at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n    at com.ericsson.charging.vxmlivr.editor.core.common.CommonUtils.setLookAndFeel(CommonUtils.java:342)\n    at com.ericsson.charging.vxmlivr.editor.workflow.client.gui.WorkflowEditorFrame.main(WorkflowEditorFrame.java:663)\n    ... 7 more\n</code></pre>\n<p>My jnlp file is working fine with jvm 1.8</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;jnlp spec=&quot;1.0+&quot;\n      codebase=&quot;https://214.5.247.200:13202/EditorServer/&quot;&gt;        \n    &lt;information&gt;\n      &lt;title&gt;Workflow Editor&lt;/title&gt;\n      &lt;vendor&gt;Ericsson&lt;/vendor&gt;\n      &lt;description&gt;Workflow Editor&lt;/description&gt;\n     \n      &lt;offline-allowed/&gt;\n    &lt;/information&gt;\n    &lt;security&gt;\n        &lt;all-permissions/&gt; \n    &lt;/security&gt;  \n\n    &lt;resources&gt;         \n    &lt;jar href=&quot;client/CXC1729877-EditorCore.jar&quot; main=&quot;true&quot; download=&quot;eager&quot;/&gt; \n    &lt;jar href=&quot;client/CXC1729512-WorkflowClient.jar&quot; main=&quot;true&quot; download=&quot;eager&quot;/&gt; \n    &lt;jar href=&quot;lib/commonlookandfeel.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/JGo.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/JGoLayout.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-action.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-beaninfo.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-common.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-components.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-dashboard.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-dialogs.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-dock.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-editor.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/xalan-2.7.2.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jide-grids.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/serializer-2.7.2.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/activation.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/jsr173_1.0_api.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/commons-httpclient-3.1.jar&quot;/&gt;\n    &lt;jar href=&quot;lib/commons-codec-1.15.jar&quot;/&gt;\n    &lt;extension name=&quot;EditorServerLogging.jsp&quot; href=&quot;jspFiles/com/ericsson/charging/vxmlivr/editor/server/EditorServerLogging.jsp&quot;/&gt;\n    &lt;j2se version=&quot;1.8+&quot;     java-vm-args=&quot;-Xincgc&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; initial-heap-size=&quot;128m&quot; max-heap-size=&quot;512m&quot; /&gt;\n\n    &lt;/resources&gt;\n    &lt;application-desc main-class=&quot;abc&quot;&gt;\n    &lt;argument&gt;214.xyz&lt;/argument&gt;\n    &lt;argument&gt;13202&lt;/argument&gt;\n    &lt;argument&gt;https&lt;/argument&gt;\n    &lt;/application-desc&gt;\n&lt;/jnlp&gt;\n\n</code></pre>\n<p>Thankyou.</p>\n<p>Tried to add java-vm-args=&quot;-Djide.defaultStyle=1&quot; in my jnlp, Still not working.\nIf instead of 1.8+ j2se, I will use 1.8* i.e 1.8 version only it is working fine</p>\n"},{"tags":["java","android","vpn","android-vpn-service"],"comments":[{"owner":{"account_id":928339,"reputation":542,"user_id":1158499,"display_name":"ecdsa"},"score":0,"creation_date":1677228610,"post_id":75553485,"comment_id":133300184,"body_markdown":"What you create with `VpnService.Builder` is a TUN device, which provides and expects raw IP packets. To get to the HTTP requests, you&#39;d first have to parse the IP and TCP headers (if the browser uses QUIC it will be UDP). However, there will usually be a TLS layer as well, so you&#39;ll probably never see the actual HTTP requests (unless you break up that TLS connection, although that will not work if the browser uses certificate pinning or similar).","body":"What you create with <code>VpnService.Builder</code> is a TUN device, which provides and expects raw IP packets. To get to the HTTP requests, you&#39;d first have to parse the IP and TCP headers (if the browser uses QUIC it will be UDP). However, there will usually be a TLS layer as well, so you&#39;ll probably never see the actual HTTP requests (unless you break up that TLS connection, although that will not work if the browser uses certificate pinning or similar)."},{"owner":{"account_id":10204469,"reputation":13,"user_id":7533612,"display_name":"mohammad javad haji"},"score":0,"creation_date":1677233552,"post_id":75553485,"comment_id":133301581,"body_markdown":"Thank you, then how should I handle it in my vpn server?","body":"Thank you, then how should I handle it in my vpn server?"},{"owner":{"account_id":928339,"reputation":542,"user_id":1158499,"display_name":"ecdsa"},"score":0,"creation_date":1677249540,"post_id":75553485,"comment_id":133306083,"body_markdown":"Like an IP packet. Or what do you mean?","body":"Like an IP packet. Or what do you mean?"},{"owner":{"account_id":10204469,"reputation":13,"user_id":7533612,"display_name":"mohammad javad haji"},"score":0,"creation_date":1677411640,"post_id":75553485,"comment_id":133328847,"body_markdown":"yes,if I tunnel the data to my vpn server, then how could parse it in my server.","body":"yes,if I tunnel the data to my vpn server, then how could parse it in my server."},{"owner":{"account_id":928339,"reputation":542,"user_id":1158499,"display_name":"ecdsa"},"score":0,"creation_date":1677491300,"post_id":75553485,"comment_id":133341198,"body_markdown":"As I said, you treat it like an IP packet, either parse it or forward it (e.g. via another TUN device).","body":"As I said, you treat it like an IP packet, either parse it or forward it (e.g. via another TUN device)."}],"owner":{"account_id":10204469,"reputation":13,"user_id":7533612,"display_name":"mohammad javad haji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677222253,"creation_date":1677222253,"question_id":75553485,"body_markdown":"I&#39;m going to create an Android vpn application. I have extended a VpnService class. Below is my class:\r\n\r\n```\r\n\r\npublic class MyVpnService extends VpnService {\r\n    private String TAG = &quot;mjh&quot;;\r\n    private Thread thread;\r\n    private ServerConnection serverConnection;\r\n    private ParcelFileDescriptor pfd;\r\n    private ArrayList&lt;Client&gt; clients;\r\n    private boolean CONNECTED = false;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        //line bellow creates a socket.io connection to my server and when connected successfully, it runs the onConnected code block:\r\n    serverConnection = new ServerConnection(\r\n                //onConnected\r\n                sc -&gt; {\r\n                    ascender = new Thread(() -&gt; {\r\n                        try {\r\n                            pfd = new VpnService.Builder()\r\n                                    .addAddress(&quot;10.0.0.1&quot;, 24)\r\n                                    .setSession(&quot;MyVpnService&quot;)\r\n                                    .addRoute(&quot;0.0.0.0&quot;, 0)\r\n                                    .setBlocking(false)\r\n                                    .setUnderlyingNetworks(null)\r\n                                    .establish();\r\n                        } catch (Exception e) {\r\n                            Log.d(TAG, &quot;Error : in creating localhost : &quot; + e);\r\n                        }\r\n\r\n                        CONNECTED = true;\r\n                        ByteBuffer buffer = ByteBuffer.allocate(10000);\r\n                        FileInputStream is = new FileInputStream(pfd.getFileDescriptor());\r\n                        while (CONNECTED) {\r\n                            try {\r\n                                try {\r\n                                    buffer.clear();\r\n                                    int length = is.read(buffer.array());\r\n                                    if (length &gt; 0) {\r\n                                        byte[] data = new byte[length];\r\n                                        buffer.get(data, 0, length);\r\n\r\n                                        Log.d(TAG,Arrays.toString(data));\r\n                                    }\r\n                                } catch (Exception e) {\r\n                                    Log.d(TAG, &quot;Error in receiving data from device : &quot; + e);\r\n                                }\r\n                            } catch (Exception e) {\r\n                                Log.d(TAG, &quot;Error in receiving data from device : &quot; + e);\r\n                            }\r\n\r\n                        }\r\n                    });\r\n                    ascender.start();\r\n                },\r\n                //onDisconnected\r\n                sc -&gt; {\r\n                    CONNECTED = false;\r\n                }\r\n        );\r\n        return START_STICKY;\r\n    }\r\n}\r\n```\r\n\r\nWhen I run my code, the line:  \r\n\r\n```\r\nLog.d(TAG,Arrays.toString(data));\r\n```\r\n\r\nlogs the bellow data:\r\n\r\n\\[69, 0, 0, 52, 55, -121, 64, 0, 64, 6, -59, -82, -64, -88, 94, 15, -64, -88, 94, 46, -72, 60, 11, -72, 104, -121, -27, 113, -75, 54, 10, 97, -128, 16, 0, 87, 111, -7, 0, 0, 1, 1 , .... \\]\r\n\r\nor a similar array.\r\n\r\nand if I change the line to below: \r\n\r\n```\r\nLog.d(TAG , new String(data, &quot;UTF-8&quot;));\r\n```\r\n\r\nI get a messy string as bellow:\r\n\r\n```\r\nE??S@??@0^^.=x|]W??Wa????\r\n                 ^=SU3USU!USUj$9USUSUSUiPSTSUWUUSUSUUWUUSUSU9WUUSUSUSU2iAWS]@@oCbP#bPCjPCbPz+]U4T2q`PCbPCbPCbRbCbPz]/Nh!J\t.HTXC&gt;G1J[(X3BXgR&#39;[i[ii(i[im)Yi[i[i[i[l[hY[Z[i[i)Yi[i[i)[i[i)Yi[i[i)m[i)Yi[i[i[i_k,:}&gt;0--}}[ih)h77ob}fF4iiZalB3TC:dZd:(:d-MRf:d:d:d??d:ddy:d&gt;df:d:dd&gt;df:d:dR&gt;df:d:d:dhi]o]hB2\r\n                 .K&gt;1\r\n                 (CK3Kg45999919x999p&lt;y;999999;9^99D4vtGYGZkWXL??AXZF\t1??I??I??Hsl??I??ILhr??I??I??I??_KI??J??Ir??I??I??Hr??I??Ir??I??I??Hrh??Ir??I??I??I??K&#201;*OMQFBO^GWDDDMqDDLDDDDAE&lt;DDLDDDLDDLDDDLDLDDDDRf\t!7p3=  ppGKGTNCGA^F{?G?GBt\r\n                 OGD\r\n\r\n```\r\n\r\nwhile it is supposed to give me http requests like GET , CONNECT , POST or etc.\r\n\r\nI also have tried all other decoding methods except UTF-8 it didn&#39;t work.\r\n\r\nAny suggestion to get to my ideal request string? \r\n\r\nI also have tried all other decoding methods except UTF-8 it didn&#39;t work.\r\nwhile it is supposed to give me http requests like GET , CONNECT , POST or etc.","title":"Android VpnService input data not readable","body":"<p>I'm going to create an Android vpn application. I have extended a VpnService class. Below is my class:</p>\n<pre><code>\npublic class MyVpnService extends VpnService {\n    private String TAG = &quot;mjh&quot;;\n    private Thread thread;\n    private ServerConnection serverConnection;\n    private ParcelFileDescriptor pfd;\n    private ArrayList&lt;Client&gt; clients;\n    private boolean CONNECTED = false;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        //line bellow creates a socket.io connection to my server and when connected successfully, it runs the onConnected code block:\n    serverConnection = new ServerConnection(\n                //onConnected\n                sc -&gt; {\n                    ascender = new Thread(() -&gt; {\n                        try {\n                            pfd = new VpnService.Builder()\n                                    .addAddress(&quot;10.0.0.1&quot;, 24)\n                                    .setSession(&quot;MyVpnService&quot;)\n                                    .addRoute(&quot;0.0.0.0&quot;, 0)\n                                    .setBlocking(false)\n                                    .setUnderlyingNetworks(null)\n                                    .establish();\n                        } catch (Exception e) {\n                            Log.d(TAG, &quot;Error : in creating localhost : &quot; + e);\n                        }\n\n                        CONNECTED = true;\n                        ByteBuffer buffer = ByteBuffer.allocate(10000);\n                        FileInputStream is = new FileInputStream(pfd.getFileDescriptor());\n                        while (CONNECTED) {\n                            try {\n                                try {\n                                    buffer.clear();\n                                    int length = is.read(buffer.array());\n                                    if (length &gt; 0) {\n                                        byte[] data = new byte[length];\n                                        buffer.get(data, 0, length);\n\n                                        Log.d(TAG,Arrays.toString(data));\n                                    }\n                                } catch (Exception e) {\n                                    Log.d(TAG, &quot;Error in receiving data from device : &quot; + e);\n                                }\n                            } catch (Exception e) {\n                                Log.d(TAG, &quot;Error in receiving data from device : &quot; + e);\n                            }\n\n                        }\n                    });\n                    ascender.start();\n                },\n                //onDisconnected\n                sc -&gt; {\n                    CONNECTED = false;\n                }\n        );\n        return START_STICKY;\n    }\n}\n</code></pre>\n<p>When I run my code, the line:</p>\n<pre><code>Log.d(TAG,Arrays.toString(data));\n</code></pre>\n<p>logs the bellow data:</p>\n<p>[69, 0, 0, 52, 55, -121, 64, 0, 64, 6, -59, -82, -64, -88, 94, 15, -64, -88, 94, 46, -72, 60, 11, -72, 104, -121, -27, 113, -75, 54, 10, 97, -128, 16, 0, 87, 111, -7, 0, 0, 1, 1 , .... ]</p>\n<p>or a similar array.</p>\n<p>and if I change the line to below:</p>\n<pre><code>Log.d(TAG , new String(data, &quot;UTF-8&quot;));\n</code></pre>\n<p>I get a messy string as bellow:</p>\n<pre><code>E??S@??@0^^.=x|]W??Wa????\n                 ^=SU3USU!USUj$9USUSUSUiPSTSUWUUSUSUUWUUSUSU9WUUSUSUSU2iAWS]@@oCbP#bPCjPCbPz+]U4T2q`PCbPCbPCbRbCbPz]/Nh!J   .HTXC&gt;G1J[(X3BXgR'[i[ii(i[im)Yi[i[i[i[l[hY[Z[i[i)Yi[i[i)[i[i)Yi[i[i)m[i)Yi[i[i[i_k,:}&gt;0--}}[ih)h77ob}fF4iiZalB3TC:dZd:(:d-MRf:d:d:d??d:ddy:d&gt;df:d:dd&gt;df:d:dR&gt;df:d:d:dhi]o]hB2\n                 .K&gt;1\n                 (CK3Kg45999919x999p&lt;y;999999;9^99D4vtGYGZkWXL??AXZF    1??I??I??Hsl??I??ILhr??I??I??I??_KI??J??Ir??I??I??Hr??I??Ir??I??I??Hrh??Ir??I??I??I??K*OMQFBO^GWDDDMqDDLDDDDAE&lt;DDLDDDLDDLDDDLDLDDDDRf   !7p3=  ppGKGTNCGA^F{?G?GBt\n                 OGD\n\n</code></pre>\n<p>while it is supposed to give me http requests like GET , CONNECT , POST or etc.</p>\n<p>I also have tried all other decoding methods except UTF-8 it didn't work.</p>\n<p>Any suggestion to get to my ideal request string?</p>\n<p>I also have tried all other decoding methods except UTF-8 it didn't work.\nwhile it is supposed to give me http requests like GET , CONNECT , POST or etc.</p>\n"},{"tags":["java","database","postgresql","spring-boot","enums"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677221581,"creation_date":1677220720,"answer_id":75553301,"question_id":75553227,"body_markdown":"Remove the value in`@Enumerated(value = EnumType.STRING)` then the ordinal values will be written into the database\r\n\r\n    @Entity\r\n    public class Recipe {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(nullable = false, length = 50)\r\n        private String title;\r\n    \r\n        @Column(nullable = false)\r\n        @Enumerated\r\n        private Difficulty difficulty;\r\n    }\r\n\r\n\r\nBut keep in mind, that reordering or adding a new enum value in the middle will breaks the functionality, because the number is mapped to an other in enum value","title":"How to keep enum values most efficiently in database for Java apps?","body":"<p>Remove the value in<code>@Enumerated(value = EnumType.STRING)</code> then the ordinal values will be written into the database</p>\n<pre><code>@Entity\npublic class Recipe {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 50)\n    private String title;\n\n    @Column(nullable = false)\n    @Enumerated\n    private Difficulty difficulty;\n}\n</code></pre>\n<p>But keep in mind, that reordering or adding a new enum value in the middle will breaks the functionality, because the number is mapped to an other in enum value</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75553301,"answer_count":1,"score":0,"last_activity_date":1677221581,"creation_date":1677219943,"question_id":75553227,"body_markdown":"I implement enum classes in my entities as shown below:\r\n\r\n***enum:***\r\n\r\n    public enum Difficulty {\r\n    \r\n        EASY,\r\n        MODERATE,\r\n        HARD;\r\n    }\r\n\r\n\r\n***entity:***\r\n\r\n\r\n\r\n    @Entity\r\n    public class Recipe {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(nullable = false, length = 50)\r\n        private String title;\r\n    \r\n        @Column(nullable = false)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private Difficulty difficulty;\r\n    \r\n    }\r\n\r\n\r\n\r\nHowever, these enum values are kept in PostgreSQL database table as `EASY`, `MODERATE` or `HARD` instead of a numeric values e.g. 1, 2, 3. When I need to use enum instead of creating a lookup table for this `Difficulty` enum, it there a better approach for Java apps?  \r\n\r\n\r\n","title":"How to keep enum values most efficiently in database for Java apps?","body":"<p>I implement enum classes in my entities as shown below:</p>\n<p><em><strong>enum:</strong></em></p>\n<pre><code>public enum Difficulty {\n\n    EASY,\n    MODERATE,\n    HARD;\n}\n</code></pre>\n<p><em><strong>entity:</strong></em></p>\n<pre><code>@Entity\npublic class Recipe {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 50)\n    private String title;\n\n    @Column(nullable = false)\n    @Enumerated(value = EnumType.STRING)\n    private Difficulty difficulty;\n\n}\n</code></pre>\n<p>However, these enum values are kept in PostgreSQL database table as <code>EASY</code>, <code>MODERATE</code> or <code>HARD</code> instead of a numeric values e.g. 1, 2, 3. When I need to use enum instead of creating a lookup table for this <code>Difficulty</code> enum, it there a better approach for Java apps?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677224878,"post_id":75553335,"comment_id":133299290,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":22606201,"reputation":3,"user_id":16787086,"display_name":"Susilkumar"},"score":0,"creation_date":1677343932,"post_id":75553335,"comment_id":133320928,"body_markdown":"what migrate my servelt project into spring boot","body":"what migrate my servelt project into spring boot"}],"owner":{"account_id":22606201,"reputation":3,"user_id":16787086,"display_name":"Susilkumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677221027,"creation_date":1677221027,"question_id":75553335,"body_markdown":"I want to migrate my Servlet web application into spring boot application\r\n\r\nI want the step to migrate the project fromj2ee project into spring bott","title":"How to migrate j2ee application into spring boot application","body":"<p>I want to migrate my Servlet web application into spring boot application</p>\n<p>I want the step to migrate the project fromj2ee project into spring bott</p>\n"},{"tags":["java","spring","postgresql","reactive","r2dbc"],"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677220727,"creation_date":1677220727,"question_id":75553303,"body_markdown":"I have a **Spring Reactive Project** with `Postgresql` connection via `spring.r2dbc`\r\n \r\n\r\nI am using an interface to persist data into the table. \r\n\r\n\r\n```\r\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\r\n\r\n@Repository\r\npublic interface StudentRepository\r\n    extends R2dbcRepository&lt;Student, Long&gt; {\r\n  \r\n}\r\n```\r\n\r\nit is used in a Dao class like this: \r\n\r\n```\r\n\r\nMono.deferContextual(\r\n        ctx -&gt;\r\n            studentRepository\r\n                .save(student));\r\n```\r\n\r\n**Question:** \r\n\r\n\r\nI would want to understand if there is any performance improvement if I use \r\n\r\n`R2dbcEntityTemplate` `(org.springframework.data.r2dbc.core.R2dbcEntityTemplate) `\r\n\r\n instead of the \r\n\r\n`R2dbcRepository` `(org.springframework.data.r2dbc.repository.R2dbcRepository)`. \r\n\r\n\r\n\r\nSo instead of `save` method above I am thinking of using traditional template like this: \r\n\r\n```\r\n{\r\nreturn r2dbcEntityTemplate\r\n        .getDatabaseClient()\r\n        .sql(INSERT_QUERY)\r\n        .bind(&quot;name&quot;, student.getName())\r\n        .bind(&quot;roll_no&quot;, stuent.getRollNo())\r\n        .map(STUDENT_MAPPING_FUNCTION)\r\n        .one();\r\n}\r\n\r\nString INSERT_QUERY = &quot;insert into student ......&quot;;\r\n\r\n\r\nFunction&lt;Row, Student&gt;\r\n      STUDENT_MAPPING_FUNCTION =\r\n          row -&gt;\r\n              Student.builder()\r\n                  .name(row.get(&quot;name&quot;, String.class))\r\n                  .rollNo(row.get(&quot;roll_no&quot;, String.class))\r\n                  .build();\r\n\r\n```\r\n\r\nCan I expect any significant performance improvement from the above r2dbcEntityTemplate? \r\n\r\n\r\nAny help is appreciated. Thanks in advance. \r\n","title":"r2dbcRepository vs r2dbcEntityTemplate performance","body":"<p>I have a <strong>Spring Reactive Project</strong> with <code>Postgresql</code> connection via <code>spring.r2dbc</code></p>\n<p>I am using an interface to persist data into the table.</p>\n<pre><code>import org.springframework.data.r2dbc.repository.R2dbcRepository;\n\n@Repository\npublic interface StudentRepository\n    extends R2dbcRepository&lt;Student, Long&gt; {\n  \n}\n</code></pre>\n<p>it is used in a Dao class like this:</p>\n<pre><code>\nMono.deferContextual(\n        ctx -&gt;\n            studentRepository\n                .save(student));\n</code></pre>\n<p><strong>Question:</strong></p>\n<p>I would want to understand if there is any performance improvement if I use</p>\n<p><code>R2dbcEntityTemplate</code> <code>(org.springframework.data.r2dbc.core.R2dbcEntityTemplate) </code></p>\n<p>instead of the</p>\n<p><code>R2dbcRepository</code> <code>(org.springframework.data.r2dbc.repository.R2dbcRepository)</code>.</p>\n<p>So instead of <code>save</code> method above I am thinking of using traditional template like this:</p>\n<pre><code>{\nreturn r2dbcEntityTemplate\n        .getDatabaseClient()\n        .sql(INSERT_QUERY)\n        .bind(&quot;name&quot;, student.getName())\n        .bind(&quot;roll_no&quot;, stuent.getRollNo())\n        .map(STUDENT_MAPPING_FUNCTION)\n        .one();\n}\n\nString INSERT_QUERY = &quot;insert into student ......&quot;;\n\n\nFunction&lt;Row, Student&gt;\n      STUDENT_MAPPING_FUNCTION =\n          row -&gt;\n              Student.builder()\n                  .name(row.get(&quot;name&quot;, String.class))\n                  .rollNo(row.get(&quot;roll_no&quot;, String.class))\n                  .build();\n\n</code></pre>\n<p>Can I expect any significant performance improvement from the above r2dbcEntityTemplate?</p>\n<p>Any help is appreciated. Thanks in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9371,"page":621,"page_size":100}
