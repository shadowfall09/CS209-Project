{"items":[{"tags":["java","spring","spring-boot","outputstream","bytearrayoutputstream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1628496081,"post_id":68708640,"comment_id":121426275,"body_markdown":"You should see a fix suggested by IntelliJ - `output.toString(StandardCharsets.UTF_8)`.","body":"You should see a fix suggested by IntelliJ - <code>output.toString(StandardCharsets.UTF_8)</code>."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1628496797,"post_id":68708640,"comment_id":121426505,"body_markdown":"@Sweeper Thanks a lot. I am not sure how I missed seeing that. Thanks a lot for the response. This worked for me.","body":"@Sweeper Thanks a lot. I am not sure how I missed seeing that. Thanks a lot for the response. This worked for me."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677300469,"creation_date":1628503562,"answer_id":68710250,"question_id":68708640,"body_markdown":"The explanation for this warning is that \r\n\r\n      new String(output.toByteArray());\r\n\r\ncreates a `byte[]` from the contents of the `ByteArrayOutputStream`, then creates a `String` from the `byte[]`.  That is doing an unnecessary copy of the data.\r\n\r\nThe fix&lt;sup&gt;1&lt;/sup&gt; suggested by Intellij is:\r\n\r\n     output.toString(StandardCharsets.UTF_8).\r\n\r\nwhich creates the `String` in a single operation without creating an intermediate `byte[]`.\r\n\r\nHow does it do this? \r\n\r\nWell `toString()` is passing the `ByteArrayOutputStream`&#39;s internal `byte[]` buffer to the `String` constructor.  By contrast, `output.toByteArray()` is copying the buffer to a new `byte[]` ... so that the caller cannot interfere with the actual buffer&#39;s contents.\r\n\r\n--------------------------\r\n\r\n&lt;sup&gt;1 - In fact the suggested fix doesn&#39;t have identical semantics to your original code.  The fix uses a specific character set for (UTF-8) converting the bytes to a string.  Your original code uses the platform&#39;s default character set.  In context, it looks like the fix is *more correct* than the original ... since the bytes seem to have started out as UTF-8.  However I guess that the converter *could* be mapping the bytes from one encoding to another behind the scenes.&lt;/sup&gt;\r\n","title":"Conversion of ByteArrayInputStream.toString results in warning Inefficient conversion from ByteArrayOutputStream","body":"<p>The explanation for this warning is that</p>\n<pre><code>  new String(output.toByteArray());\n</code></pre>\n<p>creates a <code>byte[]</code> from the contents of the <code>ByteArrayOutputStream</code>, then creates a <code>String</code> from the <code>byte[]</code>.  That is doing an unnecessary copy of the data.</p>\n<p>The fix<sup>1</sup> suggested by Intellij is:</p>\n<pre><code> output.toString(StandardCharsets.UTF_8).\n</code></pre>\n<p>which creates the <code>String</code> in a single operation without creating an intermediate <code>byte[]</code>.</p>\n<p>How does it do this?</p>\n<p>Well <code>toString()</code> is passing the <code>ByteArrayOutputStream</code>'s internal <code>byte[]</code> buffer to the <code>String</code> constructor.  By contrast, <code>output.toByteArray()</code> is copying the buffer to a new <code>byte[]</code> ... so that the caller cannot interfere with the actual buffer's contents.</p>\n<hr />\n<p><sup>1 - In fact the suggested fix doesn't have identical semantics to your original code.  The fix uses a specific character set for (UTF-8) converting the bytes to a string.  Your original code uses the platform's default character set.  In context, it looks like the fix is <em>more correct</em> than the original ... since the bytes seem to have started out as UTF-8.  However I guess that the converter <em>could</em> be mapping the bytes from one encoding to another behind the scenes.</sup></p>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68710250,"answer_count":1,"score":1,"last_activity_date":1677300469,"creation_date":1628495841,"question_id":68708640,"body_markdown":"I have a `Spring Boot` application that converts the XML to JSON. The conversion is done by calling another `JAVA application` internally and passing some information. The implementation of the called application is out of my control and I do not have access to make any changes to it.\r\n\r\nThe called `Java Application` requires a `OutputStream` so I am using the `ByteArrayOutputStream` and passing it within the method. After receiving the output I am converting the `OutputStream` to `String`. During the conversion, I am running into the warning `Inefficient conversion from ByteArrayOutputStream`.\r\n\r\nI wanted to know how can I fix this warning. I researched a bit and found that we need to pass the size of `ByteArrayOutputStream` but in my case I am not aware how much size it can have because it would depend on the size of the input XML that I am giving. So I am unable to predict it and set it.\r\n\r\nCan someone please guide me on what I can do within my `Spring Boot` application `ByteArrayOutputStream` so as to fix the warning that I receive in my `Intellij IDE`:\r\n`Inefficient conversion from ByteArrayOutputStream`\r\n\r\nFollowing is my code sample:\r\n```\r\nfinal InputStream inputStream = new ByteArrayInputStream(xmlEvents.getBytes(StandardCharsets.UTF_8));\r\nfinal var output = new ByteArrayOutputStream();\r\nnew Converter().convert(inputStream, new Handler&lt;&gt;(new Validator(), new StreamCollector(output)));\r\nreturn new String(output.toByteArray());\r\n```\r\n\r\nI am getting the warning for the line:\r\n`new String(output.toByteArray())`","title":"Conversion of ByteArrayInputStream.toString results in warning Inefficient conversion from ByteArrayOutputStream","body":"<p>I have a <code>Spring Boot</code> application that converts the XML to JSON. The conversion is done by calling another <code>JAVA application</code> internally and passing some information. The implementation of the called application is out of my control and I do not have access to make any changes to it.</p>\n<p>The called <code>Java Application</code> requires a <code>OutputStream</code> so I am using the <code>ByteArrayOutputStream</code> and passing it within the method. After receiving the output I am converting the <code>OutputStream</code> to <code>String</code>. During the conversion, I am running into the warning <code>Inefficient conversion from ByteArrayOutputStream</code>.</p>\n<p>I wanted to know how can I fix this warning. I researched a bit and found that we need to pass the size of <code>ByteArrayOutputStream</code> but in my case I am not aware how much size it can have because it would depend on the size of the input XML that I am giving. So I am unable to predict it and set it.</p>\n<p>Can someone please guide me on what I can do within my <code>Spring Boot</code> application <code>ByteArrayOutputStream</code> so as to fix the warning that I receive in my <code>Intellij IDE</code>:\n<code>Inefficient conversion from ByteArrayOutputStream</code></p>\n<p>Following is my code sample:</p>\n<pre><code>final InputStream inputStream = new ByteArrayInputStream(xmlEvents.getBytes(StandardCharsets.UTF_8));\nfinal var output = new ByteArrayOutputStream();\nnew Converter().convert(inputStream, new Handler&lt;&gt;(new Validator(), new StreamCollector(output)));\nreturn new String(output.toByteArray());\n</code></pre>\n<p>I am getting the warning for the line:\n<code>new String(output.toByteArray())</code></p>\n"},{"tags":["java","algorithm","geometry","collision-detection","game-development"],"comments":[{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":1,"creation_date":1677303859,"post_id":75563228,"comment_id":133315631,"body_markdown":"Line or line segment? What do the comparisons of segment length with circlecenter-segmentend distance mean?","body":"Line or line segment? What do the comparisons of segment length with circlecenter-segmentend distance mean?"}],"owner":{"account_id":26918365,"reputation":43,"user_id":20492814,"display_name":"Brian Serrano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677297867,"creation_date":1677297867,"question_id":75563228,"body_markdown":"    public boolean checkCollision(int circleX, int circleY, int circleRadius, int lineX1, int lineY1, int lineX2,\r\n\t\t\tint lineY2) {\r\n\t\tdouble a = lineY2 - lineY1;\r\n\t\tdouble b = lineX1 - lineX2;\r\n\t\tdouble c = lineX2 * lineY1 - lineX1 * lineY2;\r\n\r\n\t\tdouble distance = Math.abs(a * circleX + b * circleY + c) / Math.sqrt(a * a + b * b);\r\n\r\n\t\tdouble distance1 = Math.sqrt((circleX - lineX1) * (circleX - lineX1) + (circleY - lineY1) * (circleY - lineY1));\r\n\t\tdouble distance2 = Math.sqrt((circleX - lineX2) * (circleX - lineX2) + (circleY - lineY2) * (circleY - lineY2));\r\n\r\n\t\treturn distance &lt;= circleRadius\r\n\t\t\t\t&amp;&amp; distance1 &lt;= Math.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1))\r\n\t\t\t\t&amp;&amp; distance2 &lt;= Math\r\n\t\t\t\t\t\t.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1));\r\n\t}\r\nThis code works if i place the line 0, 0 to the width and height of jframe but i cant make it work if i place the line 0, height to the width, 0. If the circle is from the top left and move down right it will exceed the line a bit before it execute the collision. If the circle is from bottom right and move up left it will not reach the line and it execute the collision. If i change the position of the points of line it will not work properly. Is there i can do to fix the problem","title":"Circle and diagonal line game collision in java","body":"<pre><code>public boolean checkCollision(int circleX, int circleY, int circleRadius, int lineX1, int lineY1, int lineX2,\n        int lineY2) {\n    double a = lineY2 - lineY1;\n    double b = lineX1 - lineX2;\n    double c = lineX2 * lineY1 - lineX1 * lineY2;\n\n    double distance = Math.abs(a * circleX + b * circleY + c) / Math.sqrt(a * a + b * b);\n\n    double distance1 = Math.sqrt((circleX - lineX1) * (circleX - lineX1) + (circleY - lineY1) * (circleY - lineY1));\n    double distance2 = Math.sqrt((circleX - lineX2) * (circleX - lineX2) + (circleY - lineY2) * (circleY - lineY2));\n\n    return distance &lt;= circleRadius\n            &amp;&amp; distance1 &lt;= Math.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1))\n            &amp;&amp; distance2 &lt;= Math\n                    .sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1));\n}\n</code></pre>\n<p>This code works if i place the line 0, 0 to the width and height of jframe but i cant make it work if i place the line 0, height to the width, 0. If the circle is from the top left and move down right it will exceed the line a bit before it execute the collision. If the circle is from bottom right and move up left it will not reach the line and it execute the collision. If i change the position of the points of line it will not work properly. Is there i can do to fix the problem</p>\n"},{"tags":["java","wiremock","stubbing"],"answers":[{"comments":[{"owner":{"account_id":2706428,"reputation":312,"user_id":2335939,"accept_rate":100,"display_name":"GBP"},"score":2,"creation_date":1560854555,"post_id":54756093,"comment_id":99864246,"body_markdown":"Thanks for posting the solution","body":"Thanks for posting the solution"},{"owner":{"account_id":15564090,"reputation":500,"user_id":11228436,"display_name":"Mansour.M"},"score":0,"creation_date":1591805688,"post_id":54756093,"comment_id":110198219,"body_markdown":"You deserve a cookie for this solution! The docs leave this out!","body":"You deserve a cookie for this solution! The docs leave this out!"},{"owner":{"account_id":3835019,"reputation":957,"user_id":5605546,"accept_rate":83,"display_name":"Adrian"},"score":0,"creation_date":1650530727,"post_id":54756093,"comment_id":127141139,"body_markdown":"How can I find the `testResource` path?","body":"How can I find the <code>testResource</code> path?"},{"owner":{"account_id":4824346,"reputation":1840,"user_id":3894163,"accept_rate":92,"display_name":"Jaydo"},"score":0,"creation_date":1670475390,"post_id":54756093,"comment_id":131885500,"body_markdown":"If you&#39;re using IntelliJ with the `Compact Middle Packages` setting turned on it can look you have the right directory structure e.g. `service.mappings` when you&#39;ve actually got a single directory with a `.` in the name which will not work","body":"If you&#39;re using IntelliJ with the <code>Compact Middle Packages</code> setting turned on it can look you have the right directory structure e.g. <code>service.mappings</code> when you&#39;ve actually got a single directory with a <code>.</code> in the name which will not work"}],"tags":[],"owner":{"account_id":2787037,"reputation":2031,"user_id":2398143,"accept_rate":85,"display_name":"AnilJ"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1550527711,"creation_date":1550527711,"answer_id":54756093,"question_id":54722250,"body_markdown":"I found solution for this. So, basically we need create a folder called &quot;mappings&quot; (exact name) under the directory identified by &quot;testResource&quot; variable. So in above code example, the mapping.json file will be stored at location: &quot;MockApp/resources/testconfig/mappings/mapping.json&quot;. \r\n\r\nOnce this, is done, it will print the following output. As can be seen in the logs, &quot;Stub mapping size is 1&quot;. This will be printed once you add the following line in the code.\r\n\r\n    System.out.println(&quot;Stub mapping size: &quot; + wireMockServer.getStubMappings().size());\r\n\r\n    Stub mapping size: 1\r\n    {\r\n      &quot;id&quot; : &quot;da5735a6-b6cc-45aa-8256-fb88b5670610&quot;,\r\n      &quot;request&quot; : {\r\n        &quot;url&quot; : &quot;/some/thing&quot;,\r\n        &quot;method&quot; : &quot;GET&quot;\r\n      },\r\n      &quot;response&quot; : {\r\n        &quot;status&quot; : 200,\r\n        &quot;body&quot; : &quot;Hello world!&quot;,\r\n        &quot;headers&quot; : {\r\n          &quot;Content-Type&quot; : &quot;text/plain&quot;\r\n        }\r\n      },\r\n      &quot;uuid&quot; : &quot;da5735a6-b6cc-45aa-8256-fb88b5670610&quot;\r\n    }\r\n","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>I found solution for this. So, basically we need create a folder called \"mappings\" (exact name) under the directory identified by \"testResource\" variable. So in above code example, the mapping.json file will be stored at location: \"MockApp/resources/testconfig/mappings/mapping.json\". </p>\n\n<p>Once this, is done, it will print the following output. As can be seen in the logs, \"Stub mapping size is 1\". This will be printed once you add the following line in the code.</p>\n\n<pre><code>System.out.println(\"Stub mapping size: \" + wireMockServer.getStubMappings().size());\n\nStub mapping size: 1\n{\n  \"id\" : \"da5735a6-b6cc-45aa-8256-fb88b5670610\",\n  \"request\" : {\n    \"url\" : \"/some/thing\",\n    \"method\" : \"GET\"\n  },\n  \"response\" : {\n    \"status\" : 200,\n    \"body\" : \"Hello world!\",\n    \"headers\" : {\n      \"Content-Type\" : \"text/plain\"\n    }\n  },\n  \"uuid\" : \"da5735a6-b6cc-45aa-8256-fb88b5670610\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26502072,"reputation":31,"user_id":20138846,"display_name":"Pavel Novikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677295646,"creation_date":1677295646,"answer_id":75563109,"question_id":54722250,"body_markdown":"For example url for your file is:\r\n*resources/__files/stubResponses/provider/mark/qu/mappings/response_200.json*\r\n\r\nYou have to write in usingFilesUnderDirectory():\r\n*src/intTest/resources/__files/stubResponses/provider/mark/qu*\r\n\r\nDirectory &#39;*mappings*&#39; is very important.","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>For example url for your file is:\n<em>resources/__files/stubResponses/provider/mark/qu/mappings/response_200.json</em></p>\n<p>You have to write in usingFilesUnderDirectory():\n<em>src/intTest/resources/__files/stubResponses/provider/mark/qu</em></p>\n<p>Directory '<em>mappings</em>' is very important.</p>\n"}],"owner":{"account_id":2787037,"reputation":2031,"user_id":2398143,"accept_rate":85,"display_name":"AnilJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26776,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54756093,"answer_count":2,"score":8,"last_activity_date":1677295646,"creation_date":1550313959,"question_id":54722250,"body_markdown":"I have implemented a basic WireMock with a sample REST/HTTP request simulation. The server code implemented as below. \r\n\r\nWith this code, I get the following error when I issue the GET request from Postman (i.e. GET http://127.0.0.1:8089/some/thing). \r\n\r\n**No response could be served as there are no stub mappings in this WireMock instance.**\r\n\r\nWhat is missing in my setup/code? \r\n\r\n    import com.github.tomakehurst.wiremock.WireMockServer;\r\n    import com.github.tomakehurst.wiremock.core.WireMockConfiguration;\r\n    \r\n    public class MockApp {\r\n    \r\n        private WireMockServer wireMockServer;\r\n    \r\n        public MockApp(String testSpec) {\r\n            wireMockServer = new WireMockServer(WireMockConfiguration.options().\r\n                    port(8089).\r\n                    usingFilesUnderDirectory(testSpec).\r\n                    disableRequestJournal());\r\n        }\r\n    \r\n        public void start() {\r\n            wireMockServer.start();\r\n        }\r\n    \r\n        public void stop() {\r\n            wireMockServer.stop();\r\n        }\r\n    }\r\n\r\nThe main function is:\r\n\r\n    public class MockMain {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String baseDir = System.getProperty(&quot;user.dir&quot;);\r\n            String testResource = baseDir + &quot;/resources/testconfig/&quot;;\r\n    \r\n            MockAMS mockAMS = new MockAMS(testResource);\r\n    \r\n            mockAMS.start();\r\n        }\r\n    }\r\n\r\nUnder &#39;resources/testconfig&#39;, there is a file called mapping.json containing:\r\n\r\n    {\r\n      &quot;request&quot;: {\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;url&quot;: &quot;/some/thing&quot;\r\n      },\r\n      &quot;response&quot;: {\r\n        &quot;status&quot;: 200,\r\n        &quot;body&quot;: &quot;Hello world!&quot;,\r\n        &quot;headers&quot;: {\r\n          &quot;Content-Type&quot;: &quot;text/plain&quot;\r\n        }\r\n      }\r\n    }","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>I have implemented a basic WireMock with a sample REST/HTTP request simulation. The server code implemented as below. </p>\n\n<p>With this code, I get the following error when I issue the GET request from Postman (i.e. GET <a href=\"http://127.0.0.1:8089/some/thing\" rel=\"noreferrer\">http://127.0.0.1:8089/some/thing</a>). </p>\n\n<p><strong>No response could be served as there are no stub mappings in this WireMock instance.</strong></p>\n\n<p>What is missing in my setup/code? </p>\n\n<pre><code>import com.github.tomakehurst.wiremock.WireMockServer;\nimport com.github.tomakehurst.wiremock.core.WireMockConfiguration;\n\npublic class MockApp {\n\n    private WireMockServer wireMockServer;\n\n    public MockApp(String testSpec) {\n        wireMockServer = new WireMockServer(WireMockConfiguration.options().\n                port(8089).\n                usingFilesUnderDirectory(testSpec).\n                disableRequestJournal());\n    }\n\n    public void start() {\n        wireMockServer.start();\n    }\n\n    public void stop() {\n        wireMockServer.stop();\n    }\n}\n</code></pre>\n\n<p>The main function is:</p>\n\n<pre><code>public class MockMain {\n\n    public static void main(String[] args) {\n\n        String baseDir = System.getProperty(\"user.dir\");\n        String testResource = baseDir + \"/resources/testconfig/\";\n\n        MockAMS mockAMS = new MockAMS(testResource);\n\n        mockAMS.start();\n    }\n}\n</code></pre>\n\n<p>Under 'resources/testconfig', there is a file called mapping.json containing:</p>\n\n<pre><code>{\n  \"request\": {\n    \"method\": \"GET\",\n    \"url\": \"/some/thing\"\n  },\n  \"response\": {\n    \"status\": 200,\n    \"body\": \"Hello world!\",\n    \"headers\": {\n      \"Content-Type\": \"text/plain\"\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","loops","validation","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1606613836,"post_id":65056112,"comment_id":115013671,"body_markdown":"`System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);` - this just prints the x value, the operator and the y value. It doesn&#39;t print the output of the calc. Also `public Double(String s) throws NumberFormatException` is `@Deprecated(since=&quot;9&quot;)`.","body":"<code>System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);</code> - this just prints the x value, the operator and the y value. It doesn&#39;t print the output of the calc. Also <code>public Double(String s) throws NumberFormatException</code> is <code>@Deprecated(since=&quot;9&quot;)</code>."},{"owner":{"account_id":1577308,"reputation":327,"user_id":1463440,"display_name":"joy"},"score":0,"creation_date":1606614075,"post_id":65056112,"comment_id":115013719,"body_markdown":"@RobertBain 1&gt; The question was not how to evaluate the expression, it was about how to validate user input in a loop, until he gets what is expected\n2&gt; Accepted. (my project is still on Java 8 and my IDE didnt show warning :))","body":"@RobertBain 1&gt; The question was not how to evaluate the expression, it was about how to validate user input in a loop, until he gets what is expected 2&gt; Accepted. (my project is still on Java 8 and my IDE didnt show warning :))"},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":1,"creation_date":1606614860,"post_id":65056112,"comment_id":115013840,"body_markdown":"Fair shout, I feel the catch block `catch(NumberFormatException ex)` that swallows the exception is a bit of a code smell too though. And the way we&#39;re boxing a primitive etc.","body":"Fair shout, I feel the catch block <code>catch(NumberFormatException ex)</code> that swallows the exception is a bit of a code smell too though. And the way we&#39;re boxing a primitive etc."},{"owner":{"account_id":1577308,"reputation":327,"user_id":1463440,"display_name":"joy"},"score":0,"creation_date":1606616502,"post_id":65056112,"comment_id":115014063,"body_markdown":"Indeed this is not production ready, hope the user does the &quot;tidying up&quot; :)","body":"Indeed this is not production ready, hope the user does the &quot;tidying up&quot; :)"}],"tags":[],"owner":{"account_id":1577308,"reputation":327,"user_id":1463440,"display_name":"joy"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1606613152,"creation_date":1606613152,"answer_id":65056112,"question_id":65055872,"body_markdown":"    \r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        double valX=0,valY=0;\r\n        char operator=&#39;0&#39;;//dummy default\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n        Double dX = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Value X: &quot;);\r\n            dX = getDouble(input.next());\r\n        }while (dX==null);\r\n        {\r\n            valX = dX;\r\n        }\r\n\r\n        Character op = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Operator: &quot;);\r\n            op = getOperator(input.next());\r\n        }while (op==null);\r\n        {\r\n            operator=op;\r\n        }\r\n\r\n\r\n        Double dY = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Value Y: &quot;);\r\n            dY = getDouble(input.next());\r\n        }while (dY==null);\r\n        {\r\n            valY = dY;\r\n        }\r\n\r\n\r\n        System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);\r\n    }\r\n\r\n    static Double getDouble(String input) {\r\n        Double d = null;\r\n        try {\r\n            d = new Double(input);\r\n        }catch(NumberFormatException ex){\r\n        }\r\n        return d;\r\n    }\r\n\r\n    static Character getOperator(String input) {\r\n        Character c = null;\r\n        if(&quot;+&quot;.equals(input) || &quot;-&quot;.equals(input) || &quot;*&quot;.equals(input) || &quot;/&quot;.equals(input)){\r\n            c = input.charAt(0);\r\n        }\r\n        return c;\r\n    }\r\n\r\n","title":"Loops and user input validation in java, again","body":"<pre><code>public static void main(String[] args) {\n    double valX=0,valY=0;\n    char operator='0';//dummy default\n\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Calculator Activated.&quot;);\n\n    Double dX = null;\n    do\n    {\n        System.out.print(&quot;Value X: &quot;);\n        dX = getDouble(input.next());\n    }while (dX==null);\n    {\n        valX = dX;\n    }\n\n    Character op = null;\n    do\n    {\n        System.out.print(&quot;Operator: &quot;);\n        op = getOperator(input.next());\n    }while (op==null);\n    {\n        operator=op;\n    }\n\n\n    Double dY = null;\n    do\n    {\n        System.out.print(&quot;Value Y: &quot;);\n        dY = getDouble(input.next());\n    }while (dY==null);\n    {\n        valY = dY;\n    }\n\n\n    System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);\n}\n\nstatic Double getDouble(String input) {\n    Double d = null;\n    try {\n        d = new Double(input);\n    }catch(NumberFormatException ex){\n    }\n    return d;\n}\n\nstatic Character getOperator(String input) {\n    Character c = null;\n    if(&quot;+&quot;.equals(input) || &quot;-&quot;.equals(input) || &quot;*&quot;.equals(input) || &quot;/&quot;.equals(input)){\n        c = input.charAt(0);\n    }\n    return c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606613530,"creation_date":1606613530,"answer_id":65056139,"question_id":65055872,"body_markdown":"In your final code example in the class called `CalTest` where you assign `valX = input.nextDouble();` you could a call recursive method that handles the exception until the input is what you want. Something like this:\r\n\r\n    private static double getNextDouble(Scanner input) {\r\n        try {\r\n            return input.nextDouble();\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;Value X must be a number: &quot;);\r\n            input.next();\r\n            return getNextDouble(input);\r\n        }\r\n    }\r\n\r\nYou&#39;ll replace `valX = input.nextDouble();` with `valX = getNextDouble(input);`. \r\n\r\nYou can tidy this up and make it work for your other potential error cases, perhaps creating a parameter for the output message and passing it in as an argument.","title":"Loops and user input validation in java, again","body":"<p>In your final code example in the class called <code>CalTest</code> where you assign <code>valX = input.nextDouble();</code> you could a call recursive method that handles the exception until the input is what you want. Something like this:</p>\n<pre><code>private static double getNextDouble(Scanner input) {\n    try {\n        return input.nextDouble();\n    } catch (InputMismatchException e) {\n        System.out.println(&quot;Value X must be a number: &quot;);\n        input.next();\n        return getNextDouble(input);\n    }\n}\n</code></pre>\n<p>You'll replace <code>valX = input.nextDouble();</code> with <code>valX = getNextDouble(input);</code>.</p>\n<p>You can tidy this up and make it work for your other potential error cases, perhaps creating a parameter for the output message and passing it in as an argument.</p>\n"}],"owner":{"account_id":19981817,"reputation":27,"user_id":14644796,"display_name":"Nod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65056139,"answer_count":2,"score":0,"last_activity_date":1677295606,"creation_date":1606610394,"question_id":65055872,"body_markdown":"So, I think about two days back I asked a question about input validation, and how to loop programs until the user gave a valid input.. \r\n\r\nSo I made a calculator and I wanted to loop every step of the program so that if the user didn&#39;t put a ```double``` (69, 42.0) or the appropriate operator ```char``` (/, *, +, -) they would be stuck on that step till they got it right or otherwise closed the app entirely. \r\n\r\nSo one thing I got from the last question about this is that I could make a ```boolean``` value called &quot;restart&quot; or something and encapsulate my entire code except for the ```main``` ```method``` obviously and at the end I could make a question that they could answer ```true``` or ```false``` and the entire app could run again. While I admit having a &quot;start over&quot; button on my app is cool and useful for all my other a projects (probably not, I&#39;m sure this can be done more efficiently), It still didn&#39;t satiate me and my original problem.\r\n\r\nSO...\r\n\r\nI got to trying everything I could (I know stack likes people who show that they at least tried).\r\n\r\nEXAMPLE 1\r\n```\r\nScanner input = new Scanner(System.in);\r\n\r\n        double valX;\r\n        \r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n                do\r\n                {\r\n                    System.out.print(&quot;Value X: &quot;);\r\n                    valX = input.nextDouble();\r\n                }while (!input.hasNextDouble());\r\n                {\r\n                    System.out.println(&quot;Invalid number!&quot;);\r\n                }\r\n//Didn&#39;t work &#175;\\_(ツ)_/&#175;\r\n```\r\n\r\nEXAMPLE 2\r\n```\r\nScanner input = new Scanner(System.in);\r\n\r\n        double valX;\r\n\r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n            while (!input.hasNextDouble())\r\n            {\r\n                System.out.println(&quot;Value X: &quot;);\r\n                valX = input.nextDouble();\r\n            }\r\n//neither this one...\r\n```\r\n\r\nNote that the solution you guys give me has to apply to every step of the program.\r\n\r\nAnd for a bit more clarity is the entire src code without the stuff I tried and the &quot;restart&quot; loop.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CalTest\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        double valX, valY, divided, multiplied, added, subtracted;  //Declared all my variables...\r\n        char operator;\r\n        boolean restart; //Didn&#39;t need to declare it true or false since I&#39;m using a Scanner anyway\r\n\r\n        do //Start of the entire program\r\n        {\r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n            System.out.print(&quot;Value X: &quot;); //I need a loop here...\r\n            valX = input.nextDouble();\r\n            \r\n            System.out.print(&quot;Operator: &quot;); //And here...\r\n            operator = input.next().charAt(0);\r\n\r\n            System.out.print(&quot;Value Y: &quot;); //And here too..\r\n            valY = input.nextDouble();\r\n\r\n            divided = valX / valY;\r\n            multiplied = valX * valY;\r\n            added = valX + valY;\r\n            subtracted = valX - valY;\r\n\r\n            if (operator == &#39;/&#39;)\r\n                System.out.println(&quot;Result: &quot; + divided );\r\n            else if (operator == &#39;*&#39;)\r\n                System.out.println(&quot;Result: &quot; + multiplied); //&lt;--Not sure if I need a loop with the if&#39;s\r\n            else if (operator == &#39;+&#39;)\r\n                System.out.println(&quot;Result: &quot; + added);\r\n            else if (operator == &#39;-&#39;)\r\n                System.out.println(&quot;Result: &quot; + subtracted);\r\n            else\r\n                System.out.println(&quot;Invalid operator!&quot;);\r\n\r\n            System.out.print(&quot;Try again? &quot;); //I also need a loop here, I think.\r\n            restart = input.nextBoolean();\r\n\r\n        } while (restart); //End of it if you declared false.\r\n        \r\n        System.out.println(&quot;Calculator terminated.&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAt one point I tried to use the same &quot;restart the app&quot; concept and made a boolean variable for every single step in the code and it honestly was tiresome and not worth it.\r\n\r\n","title":"Loops and user input validation in java, again","body":"<p>So, I think about two days back I asked a question about input validation, and how to loop programs until the user gave a valid input..</p>\n<p>So I made a calculator and I wanted to loop every step of the program so that if the user didn't put a <code>double</code> (69, 42.0) or the appropriate operator <code>char</code> (/, *, +, -) they would be stuck on that step till they got it right or otherwise closed the app entirely.</p>\n<p>So one thing I got from the last question about this is that I could make a <code>boolean</code> value called &quot;restart&quot; or something and encapsulate my entire code except for the <code>main</code> <code>method</code> obviously and at the end I could make a question that they could answer <code>true</code> or <code>false</code> and the entire app could run again. While I admit having a &quot;start over&quot; button on my app is cool and useful for all my other a projects (probably not, I'm sure this can be done more efficiently), It still didn't satiate me and my original problem.</p>\n<p>SO...</p>\n<p>I got to trying everything I could (I know stack likes people who show that they at least tried).</p>\n<p>EXAMPLE 1</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\n        double valX;\n        \n            System.out.println(&quot;Calculator Activated.&quot;);\n\n                do\n                {\n                    System.out.print(&quot;Value X: &quot;);\n                    valX = input.nextDouble();\n                }while (!input.hasNextDouble());\n                {\n                    System.out.println(&quot;Invalid number!&quot;);\n                }\n//Didn't work ¯\\_(ツ)_/¯\n</code></pre>\n<p>EXAMPLE 2</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\n        double valX;\n\n            System.out.println(&quot;Calculator Activated.&quot;);\n\n            while (!input.hasNextDouble())\n            {\n                System.out.println(&quot;Value X: &quot;);\n                valX = input.nextDouble();\n            }\n//neither this one...\n</code></pre>\n<p>Note that the solution you guys give me has to apply to every step of the program.</p>\n<p>And for a bit more clarity is the entire src code without the stuff I tried and the &quot;restart&quot; loop.</p>\n<pre><code>import java.util.Scanner;\n\npublic class CalTest\n{\n    public static void main(String[] args)\n    {\n        Scanner input = new Scanner(System.in);\n\n        double valX, valY, divided, multiplied, added, subtracted;  //Declared all my variables...\n        char operator;\n        boolean restart; //Didn't need to declare it true or false since I'm using a Scanner anyway\n\n        do //Start of the entire program\n        {\n            System.out.println(&quot;Calculator Activated.&quot;);\n\n            System.out.print(&quot;Value X: &quot;); //I need a loop here...\n            valX = input.nextDouble();\n            \n            System.out.print(&quot;Operator: &quot;); //And here...\n            operator = input.next().charAt(0);\n\n            System.out.print(&quot;Value Y: &quot;); //And here too..\n            valY = input.nextDouble();\n\n            divided = valX / valY;\n            multiplied = valX * valY;\n            added = valX + valY;\n            subtracted = valX - valY;\n\n            if (operator == '/')\n                System.out.println(&quot;Result: &quot; + divided );\n            else if (operator == '*')\n                System.out.println(&quot;Result: &quot; + multiplied); //&lt;--Not sure if I need a loop with the if's\n            else if (operator == '+')\n                System.out.println(&quot;Result: &quot; + added);\n            else if (operator == '-')\n                System.out.println(&quot;Result: &quot; + subtracted);\n            else\n                System.out.println(&quot;Invalid operator!&quot;);\n\n            System.out.print(&quot;Try again? &quot;); //I also need a loop here, I think.\n            restart = input.nextBoolean();\n\n        } while (restart); //End of it if you declared false.\n        \n        System.out.println(&quot;Calculator terminated.&quot;);\n    }\n}\n\n</code></pre>\n<p>At one point I tried to use the same &quot;restart the app&quot; concept and made a boolean variable for every single step in the code and it honestly was tiresome and not worth it.</p>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview","firebaseui"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1636124424,"post_id":69853589,"comment_id":123480653,"body_markdown":"I assume you ought to assign `firebaseRecyclerAdapter` to a RecyclerView at some point? I cannot see that in your code.","body":"I assume you ought to assign <code>firebaseRecyclerAdapter</code> to a RecyclerView at some point? I cannot see that in your code."},{"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"score":0,"creation_date":1636127884,"post_id":69853589,"comment_id":123482119,"body_markdown":"@MartinMarconcini `listcustom.setAdapter(firebaseRecyclerAdapter);` you mean this?","body":"@MartinMarconcini <code>listcustom.setAdapter(firebaseRecyclerAdapter);</code> you mean this?"},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1636359963,"post_id":69853589,"comment_id":123525752,"body_markdown":"Yes, you&#39;re right, I didn&#39;t see that.","body":"Yes, you&#39;re right, I didn&#39;t see that."}],"answers":[{"tags":[],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636796295,"creation_date":1636796295,"answer_id":69953084,"question_id":69853589,"body_markdown":"I found the answer for this problem. In My xml File I&#39;ve been using `match_parent` on the height. Which caused the main thread to skip the layout, because it couldn&#39;t find the layout scales.\r\n\r\nSo I changed the value to some standard height in dp. Eg: 600dp. Which defined the layout correctly so now the recyclerView is loading perfectly without skipping the layout.\r\n\r\nmy XML Code\r\n\r\n\r\n` \r\n\r\n       &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                        &lt;androidx.recyclerview.widget.RecyclerView\r\n                            android:id=&quot;@+id/myWorkListemp&quot;\r\n\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;700dp&quot;\r\n                            android:layout_marginTop=&quot;15dp&quot; /&gt;\r\n\r\n                        &lt;androidx.recyclerview.widget.RecyclerView\r\n                            android:visibility=&quot;gone&quot;\r\n\r\n                            android:id=&quot;@+id/myCustomerListCustom&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;700dp&quot;\r\n                            android:layout_marginTop=&quot;15dp&quot; /&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n`","title":"Firebase :RecyclerView Skipping layout no Adapter Attached","body":"<p>I found the answer for this problem. In My xml File I've been using <code>match_parent</code> on the height. Which caused the main thread to skip the layout, because it couldn't find the layout scales.</p>\n<p>So I changed the value to some standard height in dp. Eg: 600dp. Which defined the layout correctly so now the recyclerView is loading perfectly without skipping the layout.</p>\n<p>my XML Code</p>\n<p>`</p>\n<pre><code>   &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n\n                    &lt;androidx.recyclerview.widget.RecyclerView\n                        android:id=&quot;@+id/myWorkListemp&quot;\n\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;700dp&quot;\n                        android:layout_marginTop=&quot;15dp&quot; /&gt;\n\n                    &lt;androidx.recyclerview.widget.RecyclerView\n                        android:visibility=&quot;gone&quot;\n\n                        android:id=&quot;@+id/myCustomerListCustom&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;700dp&quot;\n                        android:layout_marginTop=&quot;15dp&quot; /&gt;\n\n                &lt;/LinearLayout&gt;\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69953084,"answer_count":1,"score":0,"last_activity_date":1677295153,"creation_date":1636116849,"question_id":69853589,"body_markdown":"I&#39;m a beinner working on firebase java android. My problem is that i cannot load the recyclerView it is showing that **adapter not attached Skipping layout** even though I&#39;ve attached the adapter still its showing the same \r\n\r\nBelow is my code.\r\n\r\n\r\n\r\n    private RecyclerView bookList,listOrg,listcustom;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_work_employee);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        currentUserID = mAuth.getCurrentUser().getUid();\r\n\r\n        MyCustomWorkRef = FirebaseDatabase.getInstance().getReference().child(&quot;WorksCustomAdded&quot;);\r\n        \r\n        bookList = findViewById(R.id.myCustomerList);\r\n        listcustom = findViewById(R.id.myCustomerListCustom);\r\n\r\n        bookList.setHasFixedSize(true);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(MyWorkEmployeeActivity.this);\r\n        linearLayoutManager.setReverseLayout(true);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        bookList.setLayoutManager(linearLayoutManager);\r\n\r\n\r\n\r\n\r\n        listcustom.setHasFixedSize(true);\r\n        LinearLayoutManager linearLayoutManager2 = new LinearLayoutManager(MyWorkEmployeeActivity.this);\r\n        linearLayoutManager2.setReverseLayout(true);\r\n        linearLayoutManager2.setStackFromEnd(true);\r\n        listcustom.setLayoutManager(linearLayoutManager2);\r\n\r\n\r\n        //LoadDat();\r\n\r\n        DisplayCustom(&quot;ltG284DWVbbxfHlD3vAiiwkEv963&quot;,&quot;22883b15-d432-42b7-8ba5-1b3d4586ff09&quot;);\r\n\r\n\r\n       // DisplayCustom();\r\n\r\n    }\r\n\r\n\r\nThis is my Display Custom Function \r\n\r\n\r\n    private void DisplayCustom(String cmpnyUID,String empId) {\r\n\r\n\r\n        Toast.makeText(getApplicationContext(), &quot;CompnUID : &quot; + cmpnyUID + &quot;\\n  empID : &quot;+empId, Toast.LENGTH_SHORT).show();\r\n        Query SortPostsInDecendingOrder = MyCustomWorkRef.child(cmpnyUID).orderByChild(&quot;empID&quot;).equalTo(empId);;\r\n\r\n        FirebaseRecyclerOptions&lt;MyCustomer&gt; options = new FirebaseRecyclerOptions.Builder&lt;MyCustomer&gt;()\r\n                .setQuery(SortPostsInDecendingOrder, MyCustomer.class)\r\n                .build();\r\n        FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt;(options)\r\n        {\r\n            @NonNull\r\n            @Override\r\n            public MyWorkEmployeeActivity.PBooksViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i)\r\n            {\r\n                View view= LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.viewwork_list_eng, viewGroup, false);\r\n                MyWorkEmployeeActivity.PBooksViewHolder viewHolder =new MyWorkEmployeeActivity.PBooksViewHolder(view);\r\n                return viewHolder;\r\n            }\r\n\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MyWorkEmployeeActivity.PBooksViewHolder holder, int position, @NonNull MyCustomer model)\r\n            {\r\n                final String pos = getRef(position).getKey();\r\n                String cmpnyID = model.getCmpnyID();\r\n                String wrkID = model.getWrkSiteID();\r\n                String engID = model.getEngKey();\r\n                String usrID = model.getUsrkey();\r\n\r\n\r\n           \r\n\r\n\r\n\r\n                holder.bookname.setText(model.getUsrname());\r\n                holder.count.setText(&quot;Work No: \\n&quot;+model.getCnt());\r\n\r\n\r\n                holder.mView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Intent reqIntent = new Intent(MyWorkEmployeeActivity.this, ViewCustomWrkActivity.class);\r\n                        reqIntent.putExtra(&quot;wrkID&quot;, model.getWrkSiteID());\r\n                        reqIntent.putExtra(&quot;usrkey&quot;,&quot;0&quot;);\r\n\r\n                        startActivity(reqIntent);\r\n                    }\r\n                });\r\n\r\n            }\r\n        };\r\n\r\n\r\n        listcustom.setAdapter(firebaseRecyclerAdapter);\r\n        firebaseRecyclerAdapter.startListening();\r\n\r\n\r\n        }\r\n\r\n\r\n        public class PBooksViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView bookname, bookauthor,fees ,count;\r\n        ImageView profImage;\r\n        LinearLayout mView;\r\n        String t_area, b_area, plan, allow;\r\n        public PBooksViewHolder(@NonNull View itemView) {\r\n\r\n            super(itemView);\r\n\r\n\r\n            profImage = itemView.findViewById(R.id.ivRequestProfile);\r\n            bookname = itemView.findViewById(R.id.tvRequestUserName);\r\n            bookauthor = itemView.findViewById(R.id.tvWorksCompletedEngineerList);\r\n            mView = itemView.findViewById(R.id.request_layout);\r\n            fees =  itemView.findViewById(R.id.tvFeesEngineerList);\r\n\r\n            count =  itemView.findViewById(R.id.wrkCount);\r\n\r\n\r\n        }\r\n    }\r\n","title":"Firebase :RecyclerView Skipping layout no Adapter Attached","body":"<p>I'm a beinner working on firebase java android. My problem is that i cannot load the recyclerView it is showing that <strong>adapter not attached Skipping layout</strong> even though I've attached the adapter still its showing the same</p>\n<p>Below is my code.</p>\n<pre><code>private RecyclerView bookList,listOrg,listcustom;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_my_work_employee);\n\n    mAuth = FirebaseAuth.getInstance();\n    currentUserID = mAuth.getCurrentUser().getUid();\n\n    MyCustomWorkRef = FirebaseDatabase.getInstance().getReference().child(&quot;WorksCustomAdded&quot;);\n    \n    bookList = findViewById(R.id.myCustomerList);\n    listcustom = findViewById(R.id.myCustomerListCustom);\n\n    bookList.setHasFixedSize(true);\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager(MyWorkEmployeeActivity.this);\n    linearLayoutManager.setReverseLayout(true);\n    linearLayoutManager.setStackFromEnd(true);\n    bookList.setLayoutManager(linearLayoutManager);\n\n\n\n\n    listcustom.setHasFixedSize(true);\n    LinearLayoutManager linearLayoutManager2 = new LinearLayoutManager(MyWorkEmployeeActivity.this);\n    linearLayoutManager2.setReverseLayout(true);\n    linearLayoutManager2.setStackFromEnd(true);\n    listcustom.setLayoutManager(linearLayoutManager2);\n\n\n    //LoadDat();\n\n    DisplayCustom(&quot;ltG284DWVbbxfHlD3vAiiwkEv963&quot;,&quot;22883b15-d432-42b7-8ba5-1b3d4586ff09&quot;);\n\n\n   // DisplayCustom();\n\n}\n</code></pre>\n<p>This is my Display Custom Function</p>\n<pre><code>private void DisplayCustom(String cmpnyUID,String empId) {\n\n\n    Toast.makeText(getApplicationContext(), &quot;CompnUID : &quot; + cmpnyUID + &quot;\\n  empID : &quot;+empId, Toast.LENGTH_SHORT).show();\n    Query SortPostsInDecendingOrder = MyCustomWorkRef.child(cmpnyUID).orderByChild(&quot;empID&quot;).equalTo(empId);;\n\n    FirebaseRecyclerOptions&lt;MyCustomer&gt; options = new FirebaseRecyclerOptions.Builder&lt;MyCustomer&gt;()\n            .setQuery(SortPostsInDecendingOrder, MyCustomer.class)\n            .build();\n    FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt;(options)\n    {\n        @NonNull\n        @Override\n        public MyWorkEmployeeActivity.PBooksViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i)\n        {\n            View view= LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.viewwork_list_eng, viewGroup, false);\n            MyWorkEmployeeActivity.PBooksViewHolder viewHolder =new MyWorkEmployeeActivity.PBooksViewHolder(view);\n            return viewHolder;\n        }\n\n        @Override\n        protected void onBindViewHolder(@NonNull MyWorkEmployeeActivity.PBooksViewHolder holder, int position, @NonNull MyCustomer model)\n        {\n            final String pos = getRef(position).getKey();\n            String cmpnyID = model.getCmpnyID();\n            String wrkID = model.getWrkSiteID();\n            String engID = model.getEngKey();\n            String usrID = model.getUsrkey();\n\n\n       \n\n\n\n            holder.bookname.setText(model.getUsrname());\n            holder.count.setText(&quot;Work No: \\n&quot;+model.getCnt());\n\n\n            holder.mView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Intent reqIntent = new Intent(MyWorkEmployeeActivity.this, ViewCustomWrkActivity.class);\n                    reqIntent.putExtra(&quot;wrkID&quot;, model.getWrkSiteID());\n                    reqIntent.putExtra(&quot;usrkey&quot;,&quot;0&quot;);\n\n                    startActivity(reqIntent);\n                }\n            });\n\n        }\n    };\n\n\n    listcustom.setAdapter(firebaseRecyclerAdapter);\n    firebaseRecyclerAdapter.startListening();\n\n\n    }\n\n\n    public class PBooksViewHolder extends RecyclerView.ViewHolder {\n\n    TextView bookname, bookauthor,fees ,count;\n    ImageView profImage;\n    LinearLayout mView;\n    String t_area, b_area, plan, allow;\n    public PBooksViewHolder(@NonNull View itemView) {\n\n        super(itemView);\n\n\n        profImage = itemView.findViewById(R.id.ivRequestProfile);\n        bookname = itemView.findViewById(R.id.tvRequestUserName);\n        bookauthor = itemView.findViewById(R.id.tvWorksCompletedEngineerList);\n        mView = itemView.findViewById(R.id.request_layout);\n        fees =  itemView.findViewById(R.id.tvFeesEngineerList);\n\n        count =  itemView.findViewById(R.id.wrkCount);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":16038211,"reputation":82,"user_id":11575328,"display_name":"Bristol"},"score":0,"creation_date":1620470410,"post_id":67446571,"comment_id":119213604,"body_markdown":"implementing a backgroud service will be suited for your problem. checkout on this link https://developer.android.com/guide/components/services","body":"implementing a backgroud service will be suited for your problem. checkout on this link <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/services</a>"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1620478800,"post_id":67446571,"comment_id":119215550,"body_markdown":"When do you want this check to happen, once in a day or some other business logic?","body":"When do you want this check to happen, once in a day or some other business logic?"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1620479411,"post_id":67446571,"comment_id":119215692,"body_markdown":"Do you mean that the logic for getting the difference between two dates is not workking?","body":"Do you mean that the logic for getting the difference between two dates is not workking?"}],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677295127,"creation_date":1620470087,"question_id":67446571,"body_markdown":"I am having trouble to make to alert a popup once the remaining days are finished.\r\nHow do I call a function if the remaining days are finished i.e. when the remaining days turn to zero.\r\n\r\n```java\r\ntry {\r\n     String CurrentDate= curentDate;\r\n     String FinalDatea= FinalDate;\r\n     Date date1;\r\n               \r\n     Date date2;\r\n     SimpleDateFormat dates = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n     date1 = dates.parse(CurrentDate);\r\n     date2 = dates.parse(FinalDatea);\r\n     long difference = Math.abs(date1.getTime() - date2.getTime());\r\n     long differenceDates = difference / (24 * 60 * 60 * 1000);\r\n     String dayDifference = Long.toString(differenceDates);\r\n     remainingDays = dayDifference +&quot; days remaining&quot;;\r\n     mToolbar = (Toolbar) findViewById(R.id.ViewWorkEng_page_toolbar);\r\n     setSupportActionBar(mToolbar);\r\n     getSupportActionBar().setTitle(remainingDays);\r\n     getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n} catch (Exception exception) {\r\n      Toast.makeText(getApplicationContext(), &quot;Unable to find date difference&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n\r\n```\r\n\r\nI&#39;ve used the above code to get the remaining days between 2 dates. But whenever the CurrentDate and FinalDate become equal it is showing  &quot; 7 days remaining&quot;.\r\n\r\n","title":"How to alert remaining days are finished on date picker?","body":"<p>I am having trouble to make to alert a popup once the remaining days are finished.\nHow do I call a function if the remaining days are finished i.e. when the remaining days turn to zero.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n     String CurrentDate= curentDate;\n     String FinalDatea= FinalDate;\n     Date date1;\n               \n     Date date2;\n     SimpleDateFormat dates = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n     date1 = dates.parse(CurrentDate);\n     date2 = dates.parse(FinalDatea);\n     long difference = Math.abs(date1.getTime() - date2.getTime());\n     long differenceDates = difference / (24 * 60 * 60 * 1000);\n     String dayDifference = Long.toString(differenceDates);\n     remainingDays = dayDifference +&quot; days remaining&quot;;\n     mToolbar = (Toolbar) findViewById(R.id.ViewWorkEng_page_toolbar);\n     setSupportActionBar(mToolbar);\n     getSupportActionBar().setTitle(remainingDays);\n     getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n} catch (Exception exception) {\n      Toast.makeText(getApplicationContext(), &quot;Unable to find date difference&quot;, Toast.LENGTH_SHORT).show();\n}\n\n</code></pre>\n<p>I've used the above code to get the remaining days between 2 dates. But whenever the CurrentDate and FinalDate become equal it is showing  &quot; 7 days remaining&quot;.</p>\n"},{"tags":["java","jpa","testing","junit","hibernate-entitymanager"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677293248,"post_id":75562597,"comment_id":133314790,"body_markdown":"It’s been a bit since I worked with JUnit so I’m not 100% sure this will work, but you can declare your `EntityManager` as an instance variable and instantiate it in a setup method with the `@BeforeAll` annotation.","body":"It’s been a bit since I worked with JUnit so I’m not 100% sure this will work, but you can declare your <code>EntityManager</code> as an instance variable and instantiate it in a setup method with the <code>@BeforeAll</code> annotation."}],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677294081,"creation_date":1677294081,"answer_id":75563036,"question_id":75562597,"body_markdown":"It makes sense that it’s not keeping the same in memory database as, without really knowing much about it, I assume it works much the same as objects and is stored in the heap. When you call `createEntityManager()` the second time, it’s like creating a new object and the reference points to the new object, leaving the old one to get cleaned up by the GarbageCollector.\r\n\r\nTo prevent having to initialize the in memory database a second time, I believe setting it up as a `@BeforeAll` should do the trick.\r\n\r\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\r\n    private EntityManager entityManager;\r\n\r\n    @BeforeAll\r\n    void setup() {\r\n        entityManager = entityManagerFactory.createEntityManager();\r\n    }","title":"Nullified stored data","body":"<p>It makes sense that it’s not keeping the same in memory database as, without really knowing much about it, I assume it works much the same as objects and is stored in the heap. When you call <code>createEntityManager()</code> the second time, it’s like creating a new object and the reference points to the new object, leaving the old one to get cleaned up by the GarbageCollector.</p>\n<p>To prevent having to initialize the in memory database a second time, I believe setting it up as a <code>@BeforeAll</code> should do the trick.</p>\n<pre><code>private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\nprivate EntityManager entityManager;\n\n@BeforeAll\nvoid setup() {\n    entityManager = entityManagerFactory.createEntityManager();\n}\n</code></pre>\n"}],"owner":{"account_id":2658598,"reputation":111,"user_id":2298785,"display_name":"Romillion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677294081,"creation_date":1677285860,"question_id":75562597,"body_markdown":"can you please explain me what i do wrong. I Am learning JPA and i&#39;m stuck with tests.\r\nOn the first test &quot;teslaOne&quot; i create and persist Entity to the db and i would like to get access to this data from second test &quot;teslaTwo&quot;.\r\n\r\nWhen i use Persistence.createEntityManagerFactory(&quot;h2database&quot;) it works but when i store it on the memoty Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;) it does not.\r\n\r\ni understand that &quot;h2database&quot; it is a fila, &quot;in.memory.test&quot; memory but it not clear for me why it have a different behavior and why it nullify data.\r\n\r\nCan you tell me please how to share EntityManager between tests.\r\n\r\n**persistence.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             version=&quot;3.0&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;h2database&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;sa&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:file:./h2data/demodb&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n    &lt;persistence-unit name=&quot;in.memory.test&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\r\n\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:mem:&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n&lt;/persistence&gt;\r\n```\r\n\r\n**Tesla.java**\r\n```\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity()\r\npublic class Tesla implements Serializable {\r\n    @Id\r\n    @GeneratedValue\r\n    protected Long ID;\r\n\r\n    protected String vehicle;\r\n}\r\n```\r\n\r\n**TeslaTest.java**\r\n\r\n```\r\npackage com.caveatemptor.core.data.inheritance;\r\n\r\nimport com.caveatemptor.core.data.entites.Tesla;\r\nimport jakarta.persistence.*;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class TeslaTest {\r\n//    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;h2database&quot;);\r\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\r\n    @Test\r\n    void teslaOne(){\r\n        Tesla tesla = new Tesla();\r\n        tesla.setVehicle(&quot;Model X&quot;);\r\n\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n\r\n        try {\r\n            transaction.begin();\r\n\r\n            entityManager.persist(tesla);\r\n            transaction.commit();\r\n\r\n            Tesla teslaV = entityManager.find(Tesla.class, tesla.getID());\r\n            assertEquals(teslaV.getVehicle(), &quot;Model X&quot;);\r\n\r\n        }\r\n        finally {\r\n            if(transaction.isActive()){\r\n                transaction.rollback();\r\n            }\r\n            entityManager.close();\r\n        }\r\n    }\r\n\r\n\r\n    @Test\r\n    void teslaTwo(){\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n\r\n        try {\r\n            transaction.begin();\r\n\r\n            TypedQuery&lt;Tesla&gt; query = entityManager.createQuery(&quot;select t from Tesla t&quot;, Tesla.class);\r\n            List&lt;Tesla&gt; items = query.getResultList();\r\n            assertEquals(1, items.size());\r\n        }\r\n        finally {\r\n            if(transaction.isActive()){\r\n                transaction.rollback();\r\n            }\r\n            entityManager.close();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Nullified stored data","body":"<p>can you please explain me what i do wrong. I Am learning JPA and i'm stuck with tests.\nOn the first test &quot;teslaOne&quot; i create and persist Entity to the db and i would like to get access to this data from second test &quot;teslaTwo&quot;.</p>\n<p>When i use Persistence.createEntityManagerFactory(&quot;h2database&quot;) it works but when i store it on the memoty Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;) it does not.</p>\n<p>i understand that &quot;h2database&quot; it is a fila, &quot;in.memory.test&quot; memory but it not clear for me why it have a different behavior and why it nullify data.</p>\n<p>Can you tell me please how to share EntityManager between tests.</p>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             version=&quot;3.0&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;h2database&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;sa&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:file:./h2data/demodb&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n    &lt;persistence-unit name=&quot;in.memory.test&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\n\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:mem:&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>Tesla.java</strong></p>\n<pre><code>@Setter\n@Getter\n@ToString\n@Entity()\npublic class Tesla implements Serializable {\n    @Id\n    @GeneratedValue\n    protected Long ID;\n\n    protected String vehicle;\n}\n</code></pre>\n<p><strong>TeslaTest.java</strong></p>\n<pre><code>package com.caveatemptor.core.data.inheritance;\n\nimport com.caveatemptor.core.data.entites.Tesla;\nimport jakarta.persistence.*;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class TeslaTest {\n//    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;h2database&quot;);\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\n    @Test\n    void teslaOne(){\n        Tesla tesla = new Tesla();\n        tesla.setVehicle(&quot;Model X&quot;);\n\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        EntityTransaction transaction = entityManager.getTransaction();\n\n        try {\n            transaction.begin();\n\n            entityManager.persist(tesla);\n            transaction.commit();\n\n            Tesla teslaV = entityManager.find(Tesla.class, tesla.getID());\n            assertEquals(teslaV.getVehicle(), &quot;Model X&quot;);\n\n        }\n        finally {\n            if(transaction.isActive()){\n                transaction.rollback();\n            }\n            entityManager.close();\n        }\n    }\n\n\n    @Test\n    void teslaTwo(){\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        EntityTransaction transaction = entityManager.getTransaction();\n\n        try {\n            transaction.begin();\n\n            TypedQuery&lt;Tesla&gt; query = entityManager.createQuery(&quot;select t from Tesla t&quot;, Tesla.class);\n            List&lt;Tesla&gt; items = query.getResultList();\n            assertEquals(1, items.size());\n        }\n        finally {\n            if(transaction.isActive()){\n                transaction.rollback();\n            }\n            entityManager.close();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1677295079,"post_id":75563021,"comment_id":133314917,"body_markdown":"Your code, as written, is thread-safe. Using `synchronized` creates a _happens-before_ relationship, same as `volatile`. The former is simply more versatile because you can guard an entire block of code rather than just a single field. Since you synchronize on the same lock object when reading and writing the `currMap` field, that field is properly guarded. And the flow of your code is such that the `Map` _instance_ referenced by `currMap` is never accessed by multiple threads concurrently after the field has been assigned. Even after writing to the field, the old instance is simply [cont.]","body":"Your code, as written, is thread-safe. Using <code>synchronized</code> creates a <i>happens-before</i> relationship, same as <code>volatile</code>. The former is simply more versatile because you can guard an entire block of code rather than just a single field. Since you synchronize on the same lock object when reading and writing the <code>currMap</code> field, that field is properly guarded. And the flow of your code is such that the <code>Map</code> <i>instance</i> referenced by <code>currMap</code> is never accessed by multiple threads concurrently after the field has been assigned. Even after writing to the field, the old instance is simply [cont.]"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677295257,"post_id":75563021,"comment_id":133314932,"body_markdown":"[cont.] lost to the void, never to be accessed again by any thread, let alone the &quot;reader&quot; thread. And you always do `foo.update(new HashMap&lt;&gt;(map))`. That copies the original `map` instance, which has the `0 -&gt; 0` entry. So, the map referenced by `currMap` can never _not_ have that entry. Given the fact the original `map` instance is never modified, and the call to `map.put(0, 0)` _happens-before_ both `reader.start()` and `writer.start()`, you can see why you never read the wrong value.","body":"[cont.] lost to the void, never to be accessed again by any thread, let alone the &quot;reader&quot; thread. And you always do <code>foo.update(new HashMap&lt;&gt;(map))</code>. That copies the original <code>map</code> instance, which has the <code>0 -&gt; 0</code> entry. So, the map referenced by <code>currMap</code> can never <i>not</i> have that entry. Given the fact the original <code>map</code> instance is never modified, and the call to <code>map.put(0, 0)</code> <i>happens-before</i> both <code>reader.start()</code> and <code>writer.start()</code>, you can see why you never read the wrong value."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1677295299,"post_id":75563021,"comment_id":133314934,"body_markdown":"...Specifically, When thread A _exits_ from a block that is synchronized on some Object, o; that  event &quot;happens before&quot; some other thread B subsequently enters a block that is `synchronized` on the same object, o. In more practical terms, it means that whatever thread A did before it released some lock is guaranteed to be visible to thread B after thread B subsequently acquires the same lock. That rule also works for `ReentrantLock` objects and other `Lock` objects.","body":"...Specifically, When thread A <i>exits</i> from a block that is synchronized on some Object, o; that  event &quot;happens before&quot; some other thread B subsequently enters a block that is <code>synchronized</code> on the same object, o. In more practical terms, it means that whatever thread A did before it released some lock is guaranteed to be visible to thread B after thread B subsequently acquires the same lock. That rule also works for <code>ReentrantLock</code> objects and other <code>Lock</code> objects."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1677296892,"post_id":75563021,"comment_id":133315084,"body_markdown":"In addition, if `currMap` _was_ `volatile` but the `synchronized` blocks were not present, it _would not_ be threadsafe, as the read of `currMap` could read a value that has not yet been updated, then calls to `oldMap.remove(0)` and `currMap.getOrDefault(0, -1)` could execute concurrently on the same instance of the `HashMap`. The `synchronized` blocks ensure that the update and read operations execute atomically.","body":"In addition, if <code>currMap</code> <i>was</i> <code>volatile</code> but the <code>synchronized</code> blocks were not present, it <i>would not</i> be threadsafe, as the read of <code>currMap</code> could read a value that has not yet been updated, then calls to <code>oldMap.remove(0)</code> and <code>currMap.getOrDefault(0, -1)</code> could execute concurrently on the same instance of the <code>HashMap</code>. The <code>synchronized</code> blocks ensure that the update and read operations execute atomically."}],"owner":{"account_id":1343574,"reputation":1526,"user_id":1284735,"accept_rate":62,"display_name":"petabyte"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677293702,"creation_date":1677293702,"question_id":75563021,"body_markdown":"I have a `Foo` class that I think should **not** be thread-safe, yet I can&#39;t seem to reproduce the issue. One method it has is `update` which sets the current map from the parameter and mutate the old map. The other method is `read` which always gets a value from current map.\r\n\r\nPlease take a look at the test example. I have two threads, one which calls `update` and the other `read`. I&#39;d expect `read` to sometimes read from an older version of `currMap` (because it&#39;s not `volatile`) which got mutated by `update`, and therefore return `-1`, yet it doesn&#39;t happen. Is this a coincidence or expected?\r\n\r\n\r\n```java\r\n  private static class Foo {\r\n    Map&lt;Integer, Integer&gt; currMap;\r\n    Object lock = new Object();\r\n\r\n    Foo(Map&lt;Integer, Integer&gt; newMap) {\r\n      currMap = newMap;\r\n    }\r\n\r\n    void update(Map&lt;Integer, Integer&gt; newMap) {\r\n      synchronized (lock) {\r\n        Map&lt;Integer, Integer&gt; oldMap = currMap;\r\n        currMap = newMap;\r\n        oldMap.remove(0);\r\n      }\r\n    }\r\n\r\n    int read() {\r\n      int val;\r\n      synchronized (lock) {\r\n        val = currMap.getOrDefault(0, -1);\r\n      }\r\n      return val;\r\n    }\r\n  }\r\n  @Test\r\n  public void testExample() throws InterruptedException {\r\n    AtomicInteger readWrong = new AtomicInteger(0);\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.put(0, 0);\r\n    Foo foo = new Foo(new HashMap&lt;&gt;(map));\r\n    Thread updater = new Thread(() -&gt; {\r\n      while (readWrong.get() == 0) {\r\n        foo.update(new HashMap&lt;&gt;(map));\r\n      }\r\n    });\r\n\r\n    Thread reader = new Thread(() -&gt; {\r\n      while (readWrong.get() == 0) {\r\n        if (foo.read() == -1) {\r\n          readWrong.incrementAndGet();\r\n        }\r\n      }\r\n    });\r\n\r\n    updater.start();\r\n    reader.start();\r\n\r\n    updater.join();\r\n    reader.join();\r\n\r\n    assertTrue(readWrong.get() &gt; 0);\r\n  }","title":"Does using a lock mitigate issues handled by the volatile keyword?","body":"<p>I have a <code>Foo</code> class that I think should <strong>not</strong> be thread-safe, yet I can't seem to reproduce the issue. One method it has is <code>update</code> which sets the current map from the parameter and mutate the old map. The other method is <code>read</code> which always gets a value from current map.</p>\n<p>Please take a look at the test example. I have two threads, one which calls <code>update</code> and the other <code>read</code>. I'd expect <code>read</code> to sometimes read from an older version of <code>currMap</code> (because it's not <code>volatile</code>) which got mutated by <code>update</code>, and therefore return <code>-1</code>, yet it doesn't happen. Is this a coincidence or expected?</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static class Foo {\n    Map&lt;Integer, Integer&gt; currMap;\n    Object lock = new Object();\n\n    Foo(Map&lt;Integer, Integer&gt; newMap) {\n      currMap = newMap;\n    }\n\n    void update(Map&lt;Integer, Integer&gt; newMap) {\n      synchronized (lock) {\n        Map&lt;Integer, Integer&gt; oldMap = currMap;\n        currMap = newMap;\n        oldMap.remove(0);\n      }\n    }\n\n    int read() {\n      int val;\n      synchronized (lock) {\n        val = currMap.getOrDefault(0, -1);\n      }\n      return val;\n    }\n  }\n  @Test\n  public void testExample() throws InterruptedException {\n    AtomicInteger readWrong = new AtomicInteger(0);\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(0, 0);\n    Foo foo = new Foo(new HashMap&lt;&gt;(map));\n    Thread updater = new Thread(() -&gt; {\n      while (readWrong.get() == 0) {\n        foo.update(new HashMap&lt;&gt;(map));\n      }\n    });\n\n    Thread reader = new Thread(() -&gt; {\n      while (readWrong.get() == 0) {\n        if (foo.read() == -1) {\n          readWrong.incrementAndGet();\n        }\n      }\n    });\n\n    updater.start();\n    reader.start();\n\n    updater.join();\n    reader.join();\n\n    assertTrue(readWrong.get() &gt; 0);\n  }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":202726,"reputation":22092,"user_id":449958,"display_name":"Rawkode"},"score":0,"creation_date":1337078632,"post_id":10598607,"comment_id":13729485,"body_markdown":"Would you care to provide the log cat trace? Did you inflate the view if it&#39;s not visible?","body":"Would you care to provide the log cat trace? Did you inflate the view if it&#39;s not visible?"},{"owner":{"account_id":1474108,"reputation":45,"user_id":1384956,"accept_rate":50,"display_name":"Medo"},"score":0,"creation_date":1337081044,"post_id":10598607,"comment_id":13730414,"body_markdown":"log trace cant fit here to big sorry","body":"log trace cant fit here to big sorry"}],"tags":[],"owner":{"account_id":202726,"reputation":22092,"user_id":449958,"display_name":"Rawkode"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077036,"creation_date":1337077036,"answer_id":10598607,"question_id":10598547,"body_markdown":"Within ClassA\r\n\r\nDefine your TextView\r\n\r\n    private TextView1 txtView1;\r\n\r\nLoad it during onCreate\r\n\r\n    txtView1 = (TextView) findViewById(R.id.txtView1);\r\n\r\nWrite a setter\r\n\r\n    public void setTextOnTextView1(String text) {\r\n      txtView1.setText(text);\r\n    }\r\nIn your other class you can now\r\n\r\n    c.setTextOnTextView1(&quot;Hello&quot;);\r\n\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Within ClassA</p>\n\n<p>Define your TextView</p>\n\n<pre><code>private TextView1 txtView1;\n</code></pre>\n\n<p>Load it during onCreate</p>\n\n<pre><code>txtView1 = (TextView) findViewById(R.id.txtView1);\n</code></pre>\n\n<p>Write a setter</p>\n\n<pre><code>public void setTextOnTextView1(String text) {\n  txtView1.setText(text);\n}\n</code></pre>\n\n<p>In your other class you can now</p>\n\n<pre><code>c.setTextOnTextView1(\"Hello\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905032,"reputation":24172,"user_id":940096,"accept_rate":88,"display_name":"Praveenkumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337077456,"creation_date":1337077115,"answer_id":10598634,"question_id":10598547,"body_markdown":"Yes, you can do -\r\n\r\n    Intent i = new Intent(classA.this, classB.class);\r\n    Bundle bundle = new Bundle();\r\n    bundle.putExtra(&quot;name For Identification&quot;, &quot;Value);\r\n    i.putExtras(bundle);\r\n    startActivity(i);\r\n\r\nIn your second class, i mean **Class B**\r\n\r\n    Bundle bundle = getIntent().getExtras(&quot;name for Identification&quot;);\r\n    String text = bundle.getString(&quot;name For Identification&quot;);\r\n\r\n\r\nSimply set this text to your `TextView` And, the **Class B** also should extends the `Activity` Otherwise, the `getIntent()` code will not work.","title":"how to set TextView from another Class (Android)","body":"<p>Yes, you can do -</p>\n\n<pre><code>Intent i = new Intent(classA.this, classB.class);\nBundle bundle = new Bundle();\nbundle.putExtra(\"name For Identification\", \"Value);\ni.putExtras(bundle);\nstartActivity(i);\n</code></pre>\n\n<p>In your second class, i mean <strong>Class B</strong></p>\n\n<pre><code>Bundle bundle = getIntent().getExtras(\"name for Identification\");\nString text = bundle.getString(\"name For Identification\");\n</code></pre>\n\n<p>Simply set this text to your <code>TextView</code> And, the <strong>Class B</strong> also should extends the <code>Activity</code> Otherwise, the <code>getIntent()</code> code will not work.</p>\n"},{"tags":[],"owner":{"account_id":1008625,"reputation":496,"user_id":1021695,"accept_rate":80,"display_name":"KMI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077496,"creation_date":1337077496,"answer_id":10598738,"question_id":10598547,"body_markdown":"Try this\r\n\r\nadd this in activity 1\r\n\r\n    Intent myIntent = new Intent(Activity1.this, Activity2.class);\r\n           myIntent.putExtra(&quot;UserId&quot;,UserId);\r\n           myIntent.putExtra(&quot;UserName&quot;,UserName);\r\n           startActivity(myIntent);\r\n\r\n  \r\n\r\nadd this in activity 2\r\n\r\n    Intent intent = getIntent();\r\n    UserId=intent.getStringExtra(&quot;UserId&quot;);\r\n    UserName=intent.getStringExtra(&quot;UserName&quot;);\r\n   \r\n","title":"how to set TextView from another Class (Android)","body":"<p>Try this</p>\n\n<p>add this in activity 1</p>\n\n<pre><code>Intent myIntent = new Intent(Activity1.this, Activity2.class);\n       myIntent.putExtra(\"UserId\",UserId);\n       myIntent.putExtra(\"UserName\",UserName);\n       startActivity(myIntent);\n</code></pre>\n\n<p>add this in activity 2</p>\n\n<pre><code>Intent intent = getIntent();\nUserId=intent.getStringExtra(\"UserId\");\nUserName=intent.getStringExtra(\"UserName\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477917,"reputation":4706,"user_id":889688,"display_name":"user_CC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337079021,"creation_date":1337077716,"answer_id":10598797,"question_id":10598547,"body_markdown":"Yup it can be done without using intent, use static methods/members of class\r\n\r\nGet the TextView object from a static method from ClassA and similarly define a static method setX(int x) method in ClassA \r\n\r\n\r\nSo for example \r\n\r\n    class ClassA{\r\n    \r\n    static TextView tv; //this should be intialized in your code via findViewByID or by code depneds\r\n    \r\n    static int x;\r\n    \r\n    \r\n    static public TextView getTextView(){\r\n    return tv;\r\n    }\r\n    \r\n    \r\n    static public void setX(int xP){\r\n    x = xP;\r\n    }\r\n    \r\n    }\r\n\r\nfrom ClassB you can invoke ClassA.getTextView() and ClassB.setX(12)\r\n\r\n\r\n\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Yup it can be done without using intent, use static methods/members of class</p>\n\n<p>Get the TextView object from a static method from ClassA and similarly define a static method setX(int x) method in ClassA </p>\n\n<p>So for example </p>\n\n<pre><code>class ClassA{\n\nstatic TextView tv; //this should be intialized in your code via findViewByID or by code depneds\n\nstatic int x;\n\n\nstatic public TextView getTextView(){\nreturn tv;\n}\n\n\nstatic public void setX(int xP){\nx = xP;\n}\n\n}\n</code></pre>\n\n<p>from ClassB you can invoke ClassA.getTextView() and ClassB.setX(12)</p>\n"},{"tags":[],"owner":{"account_id":375603,"reputation":2803,"user_id":726547,"accept_rate":60,"display_name":"Hassy31"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077799,"creation_date":1337077799,"answer_id":10598824,"question_id":10598547,"body_markdown":"intent to class B from class A\r\n\r\n    Intent toClassB = new Intent(classA.this,classB.class);\r\n    toClassB.putExtra(&quot;StringId&quot;,&quot;value&quot;); \r\n    startActivity(toClassB);\r\n    \r\n    //get value\r\n    Intent intent = getIntent();\r\n    String getValue = intent.getStringExtra(&quot;StringId&quot;);\r\n    //set text\r\n    textView.setText(getValue);\r\n\r\nhope this helps","title":"how to set TextView from another Class (Android)","body":"<p>intent to class B from class A</p>\n\n<pre><code>Intent toClassB = new Intent(classA.this,classB.class);\ntoClassB.putExtra(\"StringId\",\"value\"); \nstartActivity(toClassB);\n\n//get value\nIntent intent = getIntent();\nString getValue = intent.getStringExtra(\"StringId\");\n//set text\ntextView.setText(getValue);\n</code></pre>\n\n<p>hope this helps</p>\n"},{"tags":[],"owner":{"account_id":471997,"reputation":535,"user_id":880174,"accept_rate":92,"display_name":"Parth Dani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337078357,"creation_date":1337078357,"answer_id":10598977,"question_id":10598547,"body_markdown":"To Pass value between two activites you can use shared Preferenceas follow\r\n\r\nIn Activity A:\r\n\r\n    public class activityA extends Activity{\r\n    \r\n    private  final String MY_value = &quot;value&quot;;//variable used for shared preference\r\n    @Override\r\n    \tpublic void onCreate(Bundle savedInstanceState)\r\n    \t{\r\n    SharedPreferences myPrefs = getBaseContext().getSharedPreferences(&quot;myPrefs&quot;, MODE_WORLD_READABLE);\r\n     \t\t\t        SharedPreferences.Editor prefsEditor = myPrefs.edit();\r\n     \t\t\t        prefsEditor.putString(MY_value, &quot;xyz&quot;);\r\n     \t\t\t        prefsEditor.commit();\r\n    }\r\n    }\r\n\r\nIn Activity B you can retrive that value as follow:\r\n\r\n    public class activityB extends Activity{\r\n        \r\n        private  final String MY_value = &quot;value&quot;;//variable used for shared preference\r\n        @Override\r\n        \tpublic void onCreate(Bundle savedInstanceState)\r\n        \t{\r\n        SharedPreferences myPrefs1 = this.getSharedPreferences(&quot;myPrefs&quot;, MODE_WORLD_READABLE);\r\n    \t\t        roadworthynumber = myPrefs1.getString(MY_value, &quot;value&quot;);\r\n    \t\t        \r\n        }\r\n        }\r\n\r\n\t\r\n","title":"how to set TextView from another Class (Android)","body":"<p>To Pass value between two activites you can use shared Preferenceas follow</p>\n\n<p>In Activity A:</p>\n\n<pre><code>public class activityA extends Activity{\n\nprivate  final String MY_value = \"value\";//variable used for shared preference\n@Override\n    public void onCreate(Bundle savedInstanceState)\n    {\nSharedPreferences myPrefs = getBaseContext().getSharedPreferences(\"myPrefs\", MODE_WORLD_READABLE);\n                    SharedPreferences.Editor prefsEditor = myPrefs.edit();\n                    prefsEditor.putString(MY_value, \"xyz\");\n                    prefsEditor.commit();\n}\n}\n</code></pre>\n\n<p>In Activity B you can retrive that value as follow:</p>\n\n<pre><code>public class activityB extends Activity{\n\n    private  final String MY_value = \"value\";//variable used for shared preference\n    @Override\n        public void onCreate(Bundle savedInstanceState)\n        {\n    SharedPreferences myPrefs1 = this.getSharedPreferences(\"myPrefs\", MODE_WORLD_READABLE);\n                roadworthynumber = myPrefs1.getString(MY_value, \"value\");\n\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023515,"reputation":4993,"user_id":1033305,"accept_rate":100,"display_name":"Raheel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337079097,"creation_date":1337079097,"answer_id":10599199,"question_id":10598547,"body_markdown":"Create a function returnThis() in Class A\r\n    \r\n    ClassA returnThis()\r\n    {\r\n      return this;\r\n    }\r\n\r\nIn classB call this function and by using returned reference set textView of classA\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Create a function returnThis() in Class A</p>\n\n<pre><code>ClassA returnThis()\n{\n  return this;\n}\n</code></pre>\n\n<p>In classB call this function and by using returned reference set textView of classA</p>\n"}],"owner":{"account_id":1474108,"reputation":45,"user_id":1384956,"accept_rate":50,"display_name":"Medo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677293637,"answer_count":7,"score":0,"last_activity_date":1677293647,"creation_date":1337076806,"question_id":10598547,"body_markdown":"i have this code but it doesnt work (Force Close)\r\n,i use this in C# but its not working in java\r\n\r\nClassA c = new ClassA();\r\nc.TextView1.setText(&quot;test&quot;);\r\n\r\ni need to set the text view from ClassB can it be done\r\nwithout using the Intent\r\nbecause the Intent need to start the Activity all over and all the data will be lost\r\n\r\ncan anyone suggest a code for this\r\n\r\nalso can i set the   int x   value in ClassA from ClassB\r\n","title":"how to set TextView from another Class (Android)","body":"<p>i have this code but it doesnt work (Force Close)\n,i use this in C# but its not working in java</p>\n\n<p>ClassA c = new ClassA();\nc.TextView1.setText(\"test\");</p>\n\n<p>i need to set the text view from ClassB can it be done\nwithout using the Intent\nbecause the Intent need to start the Activity all over and all the data will be lost</p>\n\n<p>can anyone suggest a code for this</p>\n\n<p>also can i set the   int x   value in ClassA from ClassB</p>\n"},{"tags":["java","mongodb","spring-boot","spring-mongodb","reactive-mongo-java"],"owner":{"account_id":27873573,"reputation":33,"user_id":21283528,"display_name":"Bhagyashree Kalshetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677293539,"creation_date":1677287444,"question_id":75562707,"body_markdown":"I am upgrading my application from Spring Boot version 2.7.3 to 3.0.2 and Java version 8 to 17. My build is successful but during server startup I am getting below exception -\r\n\r\n```lang-none\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mappingMongoConverter&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mappingMongoConverter&#39; parameter 1: Error creating bean with name &#39;mongoMappingContext&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n\t... 66 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoMappingContext&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n\t... 80 common frames omitted\r\n```\r\n\r\nI am seeing there is issue with Mongo mapping context in mongo data configuration class.\r\nI am not sure why this error is coming and how to resolve it?\r\n\r\nMy Pom File -\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;XXXX&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;XXXXX&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;name&gt;XXXX&lt;/name&gt;\r\n\t&lt;description&gt;XXXXX&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \t        &lt;dependency&gt;\r\n      \t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t        &lt;dependency&gt;\r\n      \t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t        &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n    \t        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.12.261&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20210307&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/projec&gt;\r\n```\r\n\r\nI tried to google the solution and explored mongo db forums. I am suspecting reactive mongo db dependency is not compatible with Java 17","title":"Java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible error in java 17","body":"<p>I am upgrading my application from Spring Boot version 2.7.3 to 3.0.2 and Java version 8 to 17. My build is successful but during server startup I am getting below exception -</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mappingMongoConverter' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mappingMongoConverter' parameter 1: Error creating bean with name 'mongoMappingContext' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n    ... 66 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoMappingContext' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n    ... 80 common frames omitted\n</code></pre>\n<p>I am seeing there is issue with Mongo mapping context in mongo data configuration class.\nI am not sure why this error is coming and how to resolve it?</p>\n<p>My Pom File -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;XXXX&lt;/groupId&gt;\n    &lt;artifactId&gt;XXXXX&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;XXXX&lt;/name&gt;\n    &lt;description&gt;XXXXX&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.261&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20210307&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/projec&gt;\n</code></pre>\n<p>I tried to google the solution and explored mongo db forums. I am suspecting reactive mongo db dependency is not compatible with Java 17</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","jwt"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1677281009,"post_id":75562102,"comment_id":133313540,"body_markdown":"Neither `@EnableGlobalMethodSecurity` nor `@EnableWebSecurity` are meta annotations for `@Configuration`. Your `SecurityConfig` might just not be loaded. Have you tried to decorate it with `@Configuration`?","body":"Neither <code>@EnableGlobalMethodSecurity</code> nor <code>@EnableWebSecurity</code> are meta annotations for <code>@Configuration</code>. Your <code>SecurityConfig</code> might just not be loaded. Have you tried to decorate it with <code>@Configuration</code>?"}],"answers":[{"tags":[],"owner":{"account_id":12301165,"reputation":1,"user_id":8975432,"display_name":"Shurbann Martes"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677291915,"creation_date":1677291915,"answer_id":75562932,"question_id":75562102,"body_markdown":"I found the reason why this was not working; I had a keycloak/springboot dependency that was using the old keycloak adaptor way of working:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n  &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n  &lt;version&gt;17.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBy removing this dependency everything is working now.","title":"Why am I getting an HTTP response 401 (access denied) when trying to make an HTTP GET request with Springboot with a valid JWT token","body":"<p>I found the reason why this was not working; I had a keycloak/springboot dependency that was using the old keycloak adaptor way of working:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n  &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;17.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By removing this dependency everything is working now.</p>\n"}],"owner":{"account_id":12301165,"reputation":1,"user_id":8975432,"display_name":"Shurbann Martes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75562932,"answer_count":1,"score":0,"last_activity_date":1677291915,"creation_date":1677279422,"question_id":75562102,"body_markdown":"At this moment I succeeded to create a Springboot resource server that contacts Keycloak as the authorization server to validate the JWT token being send. This work as expected, so far so good.\r\n\r\nUnfortunately although the JWT token is valid I&#39;m getting an 401 Unauthorized from the Springboot Resource server when I try to make a call to the RestController with the valid JWT token. The RestController is implementing the following interface:\r\n\r\n```\r\n@RequestMapping(\r\n        value = &quot;/companies&quot;\r\n        , produces = MediaTypes.HAL_JSON_VALUE\r\n)\r\npublic interface ICompanyController {\r\n\r\n    String REL_KEY_NAME = &quot;companies&quot;;\r\n    String REL_KEY_NAME_SINGLE = &quot;company&quot;;\r\n\r\n    @GetMapping\r\n    CollectionModel&lt;CompanyResponseDTO&gt; getCompanies(JwtAuthenticationToken principal);\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    CompanyResponseDTO getCompanyById(@PathVariable Long id);\r\n}\r\n```\r\n\r\nI&#39;ve already taken a look at my SecurityConfig as well and I don&#39;t see anything wrong here:\r\n\r\n```\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain getSecurityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/companies&quot;)\r\n                        .hasAuthority(&quot;SCOPE_profile&quot;)\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\napplication.yml:\r\n```yml\r\nspring:\r\n  application:\r\n    name: API\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/resource?useSSL=false&amp;zeroDateTimeBehavior=convertToNull\r\n    username: user\r\n    password: secret\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\n        default_schema: api_resource\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://auth-dev.local/realms/bis-realm\r\n\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      show-details: &#39;when-authorized&#39;\r\n    roles: &#39;actuator&#39;\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &#39;*&#39;\r\nlogging:\r\n  level:\r\n    root: DEBUG\r\n    com.ictual: TRACE\r\n    com.tsparx: TRACE\r\nserver:\r\n  port: 8081\r\n  servlet:\r\n    context-path: /api\r\n```\r\n\r\nStill I&#39;m getting the following logs and Access Denied from Springboot when trying to make an HTTP call to the URL &quot;/companies&quot;. \r\n\r\nFind the trace below:\r\n\r\n```\r\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : AuthenticatedActionsValve.invoke http://localhost:8081/api/companies\r\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : Policy enforcement is disabled.\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /companies\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\r\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : HTTP GET http://auth-dev.local/realms/bis-realm/protocol/openid-connect/certs\r\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\r\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : Start expire sessions StandardManager at 1677278860900 sessioncount 0\r\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : End expire sessions StandardManager processingTime 0 expired sessions: 0\r\n2023-02-24 18:47:44.233 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@157ef9d25 pairs: {GET /realms/bis-realm/protocol/openid-connect/certs HTTP/1.1: null}{Accept: application/json, application/jwk-set+json}{User-Agent: Java/11.0.16.1}{Host: auth-dev.local}{Connection: keep-alive}\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@11416fa59 pairs: {null: HTTP/1.1 200 OK}{Referrer-Policy: no-referrer}{X-Frame-Options: SAMEORIGIN}{Strict-Transport-Security: max-age=31536000; includeSubDomains}{Cache-Control: no-cache}{X-Content-Type-Options: nosniff}{X-XSS-Protection: 1; mode=block}{Content-Type: application/json}{content-length: 2933}\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Response 200 OK\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json&quot;\r\n2023-02-24 18:47:44.257 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] .o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3380a05e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_email, SCOPE_profile]]\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /companies] with attributes [hasAuthority(&#39;SCOPE_profile&#39;)]\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /companies\r\n2023-02-24 18:47:44.260 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n2023-02-24 18:47:44.262 DEBUG 74177 --- [nio-8081-exec-5] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n\r\norg.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.isAllowed(RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.java:76) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:388) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:244) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n```\r\n\r\nI&#39;ve tried to adjust the SecurityConfig in different ways without any success.","title":"Why am I getting an HTTP response 401 (access denied) when trying to make an HTTP GET request with Springboot with a valid JWT token","body":"<p>At this moment I succeeded to create a Springboot resource server that contacts Keycloak as the authorization server to validate the JWT token being send. This work as expected, so far so good.</p>\n<p>Unfortunately although the JWT token is valid I'm getting an 401 Unauthorized from the Springboot Resource server when I try to make a call to the RestController with the valid JWT token. The RestController is implementing the following interface:</p>\n<pre><code>@RequestMapping(\n        value = &quot;/companies&quot;\n        , produces = MediaTypes.HAL_JSON_VALUE\n)\npublic interface ICompanyController {\n\n    String REL_KEY_NAME = &quot;companies&quot;;\n    String REL_KEY_NAME_SINGLE = &quot;company&quot;;\n\n    @GetMapping\n    CollectionModel&lt;CompanyResponseDTO&gt; getCompanies(JwtAuthenticationToken principal);\n\n    @GetMapping(&quot;/{id}&quot;)\n    CompanyResponseDTO getCompanyById(@PathVariable Long id);\n}\n</code></pre>\n<p>I've already taken a look at my SecurityConfig as well and I don't see anything wrong here:</p>\n<pre><code>@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain getSecurityFilterChain(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/companies&quot;)\n                        .hasAuthority(&quot;SCOPE_profile&quot;)\n                        .anyRequest()\n                        .authenticated())\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\n\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: API\n  datasource:\n    url: jdbc:mysql://localhost:3306/resource?useSSL=false&amp;zeroDateTimeBehavior=convertToNull\n    username: user\n    password: secret\n  jpa:\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\n        default_schema: api_resource\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://auth-dev.local/realms/bis-realm\n\nmanagement:\n  endpoint:\n    health:\n      show-details: 'when-authorized'\n    roles: 'actuator'\n  endpoints:\n    web:\n      exposure:\n        include: '*'\nlogging:\n  level:\n    root: DEBUG\n    com.ictual: TRACE\n    com.tsparx: TRACE\nserver:\n  port: 8081\n  servlet:\n    context-path: /api\n</code></pre>\n<p>Still I'm getting the following logs and Access Denied from Springboot when trying to make an HTTP call to the URL &quot;/companies&quot;.</p>\n<p>Find the trace below:</p>\n<pre><code>2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : AuthenticatedActionsValve.invoke http://localhost:8081/api/companies\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : Policy enforcement is disabled.\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /companies\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : HTTP GET http://auth-dev.local/realms/bis-realm/protocol/openid-connect/certs\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : Start expire sessions StandardManager at 1677278860900 sessioncount 0\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : End expire sessions StandardManager processingTime 0 expired sessions: 0\n2023-02-24 18:47:44.233 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@157ef9d25 pairs: {GET /realms/bis-realm/protocol/openid-connect/certs HTTP/1.1: null}{Accept: application/json, application/jwk-set+json}{User-Agent: Java/11.0.16.1}{Host: auth-dev.local}{Connection: keep-alive}\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@11416fa59 pairs: {null: HTTP/1.1 200 OK}{Referrer-Policy: no-referrer}{X-Frame-Options: SAMEORIGIN}{Strict-Transport-Security: max-age=31536000; includeSubDomains}{Cache-Control: no-cache}{X-Content-Type-Options: nosniff}{X-XSS-Protection: 1; mode=block}{Content-Type: application/json}{content-length: 2933}\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Response 200 OK\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json&quot;\n2023-02-24 18:47:44.257 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] .o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3380a05e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_email, SCOPE_profile]]\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /companies] with attributes [hasAuthority('SCOPE_profile')]\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /companies\n2023-02-24 18:47:44.260 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error\n2023-02-24 18:47:44.262 DEBUG 74177 --- [nio-8081-exec-5] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n\norg.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.isAllowed(RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.java:76) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:388) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:244) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>I've tried to adjust the SecurityConfig in different ways without any success.</p>\n"},{"tags":["java","android","json","ajax","spring"],"comments":[{"owner":{"account_id":1287824,"reputation":12974,"user_id":1240557,"display_name":"kryger"},"score":0,"creation_date":1459768143,"post_id":36393402,"comment_id":60418293,"body_markdown":"Error 500 means that there was a server-side problem. You&#39;ll need to include the exception stack trace, the code without it isn&#39;t enough to diagnose the problem.","body":"Error 500 means that there was a server-side problem. You&#39;ll need to include the exception stack trace, the code without it isn&#39;t enough to diagnose the problem."}],"answers":[{"tags":[],"owner":{"account_id":6231757,"reputation":5087,"user_id":4848308,"display_name":"Gueorgui Obregon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677290874,"creation_date":1459744819,"answer_id":36394682,"question_id":36393402,"body_markdown":"The simple way, taken from [@Sachin Gurnani&#39;s answer][1] to https://stackoverflow.com/questions/3027066/how-to-send-a-json-object-over-request-with-android\r\n\r\n&gt; ```java\r\n&gt; public void postData(String url,JSONObject obj) {\r\n&gt;     // Create a new HttpClient and Post Header\r\n&gt; \r\n&gt;     HttpParams myParams = new BasicHttpParams();\r\n&gt;     HttpConnectionParams.setConnectionTimeout(myParams, 10000);\r\n&gt;     HttpConnectionParams.setSoTimeout(myParams, 10000);\r\n&gt;     HttpClient httpclient = new DefaultHttpClient(myParams );\r\n&gt;     String json=obj.toString();\r\n&gt; \r\n&gt;     try {\r\n&gt; \r\n&gt;         HttpPost httppost = new HttpPost(url.toString());\r\n&gt;         httppost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n&gt; \r\n&gt;         StringEntity se = new StringEntity(obj.toString()); \r\n&gt;         se.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/&gt; json&quot;));\r\n&gt;         httppost.setEntity(se); \r\n&gt; \r\n&gt;         HttpResponse response = httpclient.execute(httppost);\r\n&gt;         String temp = EntityUtils.toString(response.getEntity());\r\n&gt;         Log.i(&quot;tag&quot;, temp);\r\n&gt; \r\n&gt; \r\n&gt;     } catch (ClientProtocolException e) {\r\n&gt; \r\n&gt;     } catch (IOException e) {\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n\r\nHow to use\r\n\r\n    JSONObject requestObject = new JSONObject();\r\n    requestObject.put(&quot;userid&quot;, email);\r\n    requestObject.put(&quot;password&quot;, password);\r\n\r\n    postData(&quot;http://your/login/url&quot;,requestObject)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9390152/4848308","title":"Android send json to Spring","body":"<p>The simple way, taken from <a href=\"https://stackoverflow.com/a/9390152/4848308\">@Sachin Gurnani's answer</a> to <a href=\"https://stackoverflow.com/questions/3027066/how-to-send-a-json-object-over-request-with-android\">How to send a JSON object over Request with Android?</a></p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public void postData(String url,JSONObject obj) {\n    // Create a new HttpClient and Post Header\n\n    HttpParams myParams = new BasicHttpParams();\n    HttpConnectionParams.setConnectionTimeout(myParams, 10000);\n    HttpConnectionParams.setSoTimeout(myParams, 10000);\n    HttpClient httpclient = new DefaultHttpClient(myParams );\n    String json=obj.toString();\n\n    try {\n\n        HttpPost httppost = new HttpPost(url.toString());\n        httppost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n\n        StringEntity se = new StringEntity(obj.toString()); \n        se.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/&gt; json&quot;));\n        httppost.setEntity(se); \n\n        HttpResponse response = httpclient.execute(httppost);\n        String temp = EntityUtils.toString(response.getEntity());\n        Log.i(&quot;tag&quot;, temp);\n\n\n    } catch (ClientProtocolException e) {\n\n    } catch (IOException e) {\n    }\n}\n</code></pre>\n</blockquote>\n<p>How to use</p>\n<pre><code>JSONObject requestObject = new JSONObject();\nrequestObject.put(&quot;userid&quot;, email);\nrequestObject.put(&quot;password&quot;, password);\n\npostData(&quot;http://your/login/url&quot;,requestObject)\n</code></pre>\n"}],"owner":{"account_id":4793131,"reputation":771,"user_id":3871734,"accept_rate":92,"display_name":"USER"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":36394682,"answer_count":1,"score":0,"last_activity_date":1677290874,"creation_date":1459733881,"question_id":36393402,"body_markdown":"Spring Controller \r\n\r\n \r\n\r\n     @RequestMapping(value = &quot;/login&quot;, produces=&quot;application/json;charset=UTF-8&quot; ,method = RequestMethod.POST)\r\n     @ResponseBody\r\n     public int checkLoginInfo(@RequestParam Map&lt;String, String&gt; params) {\r\n    \t User user=new Gson().fromJson((String) params.get(&quot;user&quot;), User.class);\r\n         return userService.getUserInfo(user);\r\n     }   \r\n\r\nHTML\r\n\r\n    var params={userid:$(&quot;#userid&quot;).val(),password:$(&quot;#password&quot;).val()}\r\n    $ajax({method:&quot;post&quot;,data:{user:JSON.stringify(params)},url:&quot;foo.bar&quot;});\r\n\r\nIt worked on website.\r\nBut I don&#39;t know how to send that Json object for android.\r\n\r\n    data:{user:JSON.stringify(params)}\r\n\r\nI have tested \r\n\r\n        private static String makeJsonMsg() {\r\n        String retMsg = &quot;&quot;;\r\n\r\n        JSONStringer jsonStringer = new JSONStringer();\r\n\r\n        try {\r\n\r\n\r\n            retMsg = jsonStringer.object()\r\n                        .key(&quot;user&quot;).object()\r\n                            .key(&quot;userid&quot;).value(&quot;userid&quot;)\r\n                            .key(&quot;password&quot;).value(&quot;1234&quot;)\r\n                        .endObject()\r\n                    .endObject().toString();\r\n\r\n        } catch (JSONException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return retMsg;\r\n\r\n    }\r\n\r\nlike that,\r\nBut return 500 error.\r\nDo I need to add header or something else?\r\n","title":"Android send json to Spring","body":"<p>Spring Controller </p>\n\n<pre><code> @RequestMapping(value = \"/login\", produces=\"application/json;charset=UTF-8\" ,method = RequestMethod.POST)\n @ResponseBody\n public int checkLoginInfo(@RequestParam Map&lt;String, String&gt; params) {\n     User user=new Gson().fromJson((String) params.get(\"user\"), User.class);\n     return userService.getUserInfo(user);\n }   \n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>var params={userid:$(\"#userid\").val(),password:$(\"#password\").val()}\n$ajax({method:\"post\",data:{user:JSON.stringify(params)},url:\"foo.bar\"});\n</code></pre>\n\n<p>It worked on website.\nBut I don't know how to send that Json object for android.</p>\n\n<pre><code>data:{user:JSON.stringify(params)}\n</code></pre>\n\n<p>I have tested </p>\n\n<pre><code>    private static String makeJsonMsg() {\n    String retMsg = \"\";\n\n    JSONStringer jsonStringer = new JSONStringer();\n\n    try {\n\n\n        retMsg = jsonStringer.object()\n                    .key(\"user\").object()\n                        .key(\"userid\").value(\"userid\")\n                        .key(\"password\").value(\"1234\")\n                    .endObject()\n                .endObject().toString();\n\n    } catch (JSONException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return retMsg;\n\n}\n</code></pre>\n\n<p>like that,\nBut return 500 error.\nDo I need to add header or something else?</p>\n"},{"tags":["java","spring-boot","spring-cache","ehcache-3"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":1,"creation_date":1672434087,"post_id":74965446,"comment_id":132290868,"body_markdown":"try to add `@EnableCaching` on `@Configuration` class","body":"try to add <code>@EnableCaching</code> on <code>@Configuration</code> class"}],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677285140,"creation_date":1677284792,"answer_id":75562529,"question_id":74965446,"body_markdown":"I believe [@dey][1] is correct.\r\n\r\nI suspect the problem you are having is that you have not explicitly enabled caching using Spring Framework&#39;s `@EnableCaching` annotation ([Javadoc][2]).\r\n\r\nEven with Spring Boot&#39;s *auto-configuration*, and specifically when using **Ehcache** as a caching provider in Spring Framework&#39;s Cache Abstraction, **you still need to explicitly enable caching**, as [described in the documentation][3].\r\n\r\n**Ehcache** is a [supported caching provider][4] (as well as [in the core Spring Framework][5]) and Spring Boot does offer *auto-configuration* logic for this provider (via the JCache API). However, when using Spring Boot, an explicit `CacheManager` bean declaration (for *Ehcache*) in your application configuration is **not** required, only the `@EnableCaching` annotation is required (so long as both *Ehcache* and `spring-boot-starter-cache` are on your application classpath, as you have indicated):\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\nclass MySpringBootApplicationConfiguration {\r\n\r\n  // your application managed bean declarations here\r\n\r\n}\r\n```\r\n\r\nAn explicit `CacheManager` bean is required only when 1) you are not using Spring Boot, or 2) Spring does not (provide) support the provider as a caching provider in Spring&#39;s Cache Abstraction, in which case you would need to implement Spring&#39;s `Cache and `CacheManager` SPI yourself, for the unsupported (OOTB) provider.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3703819/dey\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/EnableCaching.html\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration","title":"Instantiate a CacheManager bean in Spring Boot application","body":"<p>I believe <a href=\"https://stackoverflow.com/users/3703819/dey\">@dey</a> is correct.</p>\n<p>I suspect the problem you are having is that you have not explicitly enabled caching using Spring Framework's <code>@EnableCaching</code> annotation (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/EnableCaching.html\" rel=\"nofollow noreferrer\">Javadoc</a>).</p>\n<p>Even with Spring Boot's <em>auto-configuration</em>, and specifically when using <strong>Ehcache</strong> as a caching provider in Spring Framework's Cache Abstraction, <strong>you still need to explicitly enable caching</strong>, as <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching\" rel=\"nofollow noreferrer\">described in the documentation</a>.</p>\n<p><strong>Ehcache</strong> is a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider\" rel=\"nofollow noreferrer\">supported caching provider</a> (as well as <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration\" rel=\"nofollow noreferrer\">in the core Spring Framework</a>) and Spring Boot does offer <em>auto-configuration</em> logic for this provider (via the JCache API). However, when using Spring Boot, an explicit <code>CacheManager</code> bean declaration (for <em>Ehcache</em>) in your application configuration is <strong>not</strong> required, only the <code>@EnableCaching</code> annotation is required (so long as both <em>Ehcache</em> and <code>spring-boot-starter-cache</code> are on your application classpath, as you have indicated):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\nclass MySpringBootApplicationConfiguration {\n\n  // your application managed bean declarations here\n\n}\n</code></pre>\n<p>An explicit <code>CacheManager</code> bean is required only when 1) you are not using Spring Boot, or 2) Spring does not (provide) support the provider as a caching provider in Spring's Cache Abstraction, in which case you would need to implement Spring's <code>Cache and </code>CacheManager` SPI yourself, for the unsupported (OOTB) provider.</p>\n"}],"owner":{"account_id":27300833,"reputation":47,"user_id":20817654,"display_name":"juan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677289196,"creation_date":1672430904,"question_id":74965446,"body_markdown":"I am using  \r\n\r\n    @Service\r\n    public class Service{\r\n    @Autowired  \r\n    private CacheManager cacheManager;\r\n    }  \r\n  \r\nI included org.ehcache:ehcache and spring-boot-starter-cache  library in the build.gradle file. \r\non running the application I am getting the error:  \r\n`Field cacheManager required a bean of type org.springframework.cache.CacheManager that could not be found.`  \r\nI am not sure how to go about resolving this error  \r\n  \r\n**My Thoughts:**  \r\nLooks like I need to declare a class annotated with @Configuration and with methods @Bean which returns an object of type CacheManager. I am using EhCache here. Not sure exactly how to do this.","title":"Instantiate a CacheManager bean in Spring Boot application","body":"<p>I am using</p>\n<pre><code>@Service\npublic class Service{\n@Autowired  \nprivate CacheManager cacheManager;\n}  \n</code></pre>\n<p>I included org.ehcache:ehcache and spring-boot-starter-cache  library in the build.gradle file.\non running the application I am getting the error:<br />\n<code>Field cacheManager required a bean of type org.springframework.cache.CacheManager that could not be found.</code><br />\nI am not sure how to go about resolving this error</p>\n<p><strong>My Thoughts:</strong><br />\nLooks like I need to declare a class annotated with @Configuration and with methods @Bean which returns an object of type CacheManager. I am using EhCache here. Not sure exactly how to do this.</p>\n"},{"tags":["java","spring","caching","spring-data-jpa","spring-cache"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1672654631,"post_id":74981103,"comment_id":132319703,"body_markdown":"If you are using JPA don&#39;t use Spring Cache, use the Caching integration for your JPA provider (probably Hibernate) which will manage all that for you. Which would be the best practice and would integrate better, if you really want to use Spring Cache (which I wouldn&#39;t recommend in this case) use a transaction aware cache manager that will align with the transaction.","body":"If you are using JPA don&#39;t use Spring Cache, use the Caching integration for your JPA provider (probably Hibernate) which will manage all that for you. Which would be the best practice and would integrate better, if you really want to use Spring Cache (which I wouldn&#39;t recommend in this case) use a transaction aware cache manager that will align with the transaction."},{"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"score":0,"creation_date":1672684227,"post_id":74981103,"comment_id":132327548,"body_markdown":"@M.Deinum Thanks, I&#39;ve looked at how the hibernate cache works and it really does look like a solution","body":"@M.Deinum Thanks, I&#39;ve looked at how the hibernate cache works and it really does look like a solution"}],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677288959,"creation_date":1677288297,"answer_id":75562760,"question_id":74981103,"body_markdown":"Using a JPA provider&#39;s cache, such as Hibernate&#39;s L2 cache, may be 1 solution, but now you have shifted the (configurable, conditional and optional) caching concern from the application to the persistence provider, which may not be desirable nor portable in all cases.\r\n\r\nFor instance, what happens when you are not using JPA and a database as the persistence provider/backing store, but another store like Cassandra as your system of record (SOR) to back certain services? Or, maybe you are making a call to a [REST-based] Web service (e.g. Google Maps/Geocoding API) from your application service class? What then?\r\n\r\n1 of the problems you will encounter, especially if you are just using the [&quot;Simple&quot; caching provider][1] provided by Spring [Boot] (also [described][2] in Spring Framework&#39;s Cache Abstraction documentation), is that the reference to the object returned by the cache is the actual object stored in the cache.\r\n\r\nThis is similar to:\r\n\r\n```java\r\nMap&lt;String, User&gt; users = new HashMap&lt;&gt;();\r\n\r\n// populate Map, for example:\r\nusers.put(&quot;jonDoe&quot;, User.as(&quot;Jon Doe&quot;).active());\r\n\r\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isTrue();\r\n\r\n// then...\r\nUser jonDoe = users.get(&quot;jonDoe&quot;)\r\n\r\njonDoe.setActive(false);\r\n\r\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isFalse();\r\n```\r\n\r\nWorse yet is the situation where the (changed) state of the object cached is part of the `equals` and `hashCode` methods (often used by caches when performing cache operations: `get(key)`, `put(key, value)`, etc), which would affect the mapping, and affect any `Map`-based cache implementation.\r\n\r\nMost caching providers offer a setting, such as `copy-on-read` (semantics), when the cached value (object) is read from or stored to the cache. This is particularly useful in local-based caches (used in &quot;*Near Caching*&quot;), which can supplement a client/server based Cache (e.g. Redis) to decrease network hops on access, particularly for infrequently changing data.\r\n\r\nIf the caching solution is pure client/server (with no local caching, just proxying to the server from the client), which is most production topology arrangements (given cached data is usually &quot;shared&quot;), then the fear of modifying the cache is nil since the value accessed to/from the server (e.g. Redis) needs to be de/serialized anyway.\r\n\r\nIf you are using Spring Boot&#39;s &quot;Simple&quot; (`ConcurrentMap`-backed) `Cache` implementation, perhaps just for (profile-based) testing purposes, then you can even configure the &quot;Simple&quot; `Cache` to return copied values on read:\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\nclass CustomCachingConfiguration {\r\n\r\n  @Bean\r\n  CacheManagerCustomizer cacheManagerCustomizer() {\r\n\r\n    return cacheManager -&gt; {\r\n      if (cacheManager instanceof ConcurrentMapCacheManager concurrentMapCacheManager) {\r\n        concurrentMapCacheManager.setStoreByValue(true);\r\n      }\r\n    };\r\n  }\r\n\r\n```\r\n\r\nThis configuration is specific to caching provider.\r\n\r\nWith Apache Geode (VMware GemFire), you would configure the cache using [`GemFireCache.copyOnRead(boolean)`][3]. Of course, in a non-local/non-embedded, proxy-only, client/server topology, this is not necessary.\r\n\r\nWith Hazelcast, especially in embedded capacity (a form of *Near Caching*), you would use [`CacheConfig.setStoreByValue(boolean)`][4].\r\n\r\nAgain, many robust caching providers supported by Spring [Boot], that implement the *JCache* API and can function as a *JCache* caching provider as well (for which Spring and Spring Boot offer excellent [support][5], and [here][6]) offer similar configuration as well.\r\n\r\nThis should not affect any of your application code, only your configuration, and it should not be application tier (for example: persistence) dependent.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.simple\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration-jdk\r\n  [3]: https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/GemFireCache.html#setCopyOnRead-boolean-\r\n  [4]: https://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/config/AbstractCacheConfig.html#setStoreByValue-boolean-\r\n  [5]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.jcache\r\n  [6]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-jsr-107","title":"How to avoid changing object in cache before saving Spring Cache","body":"<p>Using a JPA provider's cache, such as Hibernate's L2 cache, may be 1 solution, but now you have shifted the (configurable, conditional and optional) caching concern from the application to the persistence provider, which may not be desirable nor portable in all cases.</p>\n<p>For instance, what happens when you are not using JPA and a database as the persistence provider/backing store, but another store like Cassandra as your system of record (SOR) to back certain services? Or, maybe you are making a call to a [REST-based] Web service (e.g. Google Maps/Geocoding API) from your application service class? What then?</p>\n<p>1 of the problems you will encounter, especially if you are just using the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.simple\" rel=\"nofollow noreferrer\">&quot;Simple&quot; caching provider</a> provided by Spring [Boot] (also <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration-jdk\" rel=\"nofollow noreferrer\">described</a> in Spring Framework's Cache Abstraction documentation), is that the reference to the object returned by the cache is the actual object stored in the cache.</p>\n<p>This is similar to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, User&gt; users = new HashMap&lt;&gt;();\n\n// populate Map, for example:\nusers.put(&quot;jonDoe&quot;, User.as(&quot;Jon Doe&quot;).active());\n\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isTrue();\n\n// then...\nUser jonDoe = users.get(&quot;jonDoe&quot;)\n\njonDoe.setActive(false);\n\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isFalse();\n</code></pre>\n<p>Worse yet is the situation where the (changed) state of the object cached is part of the <code>equals</code> and <code>hashCode</code> methods (often used by caches when performing cache operations: <code>get(key)</code>, <code>put(key, value)</code>, etc), which would affect the mapping, and affect any <code>Map</code>-based cache implementation.</p>\n<p>Most caching providers offer a setting, such as <code>copy-on-read</code> (semantics), when the cached value (object) is read from or stored to the cache. This is particularly useful in local-based caches (used in &quot;<em>Near Caching</em>&quot;), which can supplement a client/server based Cache (e.g. Redis) to decrease network hops on access, particularly for infrequently changing data.</p>\n<p>If the caching solution is pure client/server (with no local caching, just proxying to the server from the client), which is most production topology arrangements (given cached data is usually &quot;shared&quot;), then the fear of modifying the cache is nil since the value accessed to/from the server (e.g. Redis) needs to be de/serialized anyway.</p>\n<p>If you are using Spring Boot's &quot;Simple&quot; (<code>ConcurrentMap</code>-backed) <code>Cache</code> implementation, perhaps just for (profile-based) testing purposes, then you can even configure the &quot;Simple&quot; <code>Cache</code> to return copied values on read:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\nclass CustomCachingConfiguration {\n\n  @Bean\n  CacheManagerCustomizer cacheManagerCustomizer() {\n\n    return cacheManager -&gt; {\n      if (cacheManager instanceof ConcurrentMapCacheManager concurrentMapCacheManager) {\n        concurrentMapCacheManager.setStoreByValue(true);\n      }\n    };\n  }\n\n</code></pre>\n<p>This configuration is specific to caching provider.</p>\n<p>With Apache Geode (VMware GemFire), you would configure the cache using <a href=\"https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/GemFireCache.html#setCopyOnRead-boolean-\" rel=\"nofollow noreferrer\"><code>GemFireCache.copyOnRead(boolean)</code></a>. Of course, in a non-local/non-embedded, proxy-only, client/server topology, this is not necessary.</p>\n<p>With Hazelcast, especially in embedded capacity (a form of <em>Near Caching</em>), you would use <a href=\"https://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/config/AbstractCacheConfig.html#setStoreByValue-boolean-\" rel=\"nofollow noreferrer\"><code>CacheConfig.setStoreByValue(boolean)</code></a>.</p>\n<p>Again, many robust caching providers supported by Spring [Boot], that implement the <em>JCache</em> API and can function as a <em>JCache</em> caching provider as well (for which Spring and Spring Boot offer excellent <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.jcache\" rel=\"nofollow noreferrer\">support</a>, and <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-jsr-107\" rel=\"nofollow noreferrer\">here</a>) offer similar configuration as well.</p>\n<p>This should not affect any of your application code, only your configuration, and it should not be application tier (for example: persistence) dependent.</p>\n"}],"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677288959,"creation_date":1672654194,"question_id":74981103,"body_markdown":"I want to show right away with an example. There is such a repository:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    String USER_CACHE = &quot;users&quot;;\r\n\r\n    @Override\r\n    @CachePut(value = USER_CACHE, key = &quot;#user.email&quot;, unless = &quot;#result == null&quot;)\r\n    &lt;S extends User&gt; S save(S user);\r\n\r\n    @Override\r\n    @CacheEvict(value = USER_CACHE, key = &quot;#user.email&quot;)\r\n    void delete(User user);\r\n\r\n    @Cacheable(value = USER_CACHE, key = &quot;#email&quot;, unless = &quot;#result == null&quot;)\r\n    User findByEmailIgnoreCase(String email);\r\n\r\n    }\r\n\r\nAnd there is such a service that saves the user&#39;s changes and sends a confirmation code to the mail:\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService, UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Override\r\n    public User getUserByEmail(String email) {\r\n        return userRepository.findByEmailIgnoreCase(email);\r\n    }\r\n\r\n    @Override\r\n    @Transactional(isolation = Isolation.SERIALIZABLE)\r\n    public void createAppUser(RegistrationAppRequestDto registrationRequest) throws EmailSendingException {\r\n        User user = getUserByEmail(registrationRequest.getEmail());\r\n\r\n        user.setPassword(registrationRequest.getPassword());\r\n        user.setApp(true);\r\n        user.setActivated(false);\r\n        user.setActivationCode(UUID.randomUUID().toString());\r\n        user.setLastVisit(LocalDateTime.now());\r\n\r\n        if (Strings.isEmpty(user.getImg())) {\r\n            user.setImg(DEFAULT_IMG);\r\n        }\r\n\r\n        mailSender.sendWelcomeMessage(user);    \r\n        userRepository.save(user);\r\n     }\r\n    }\r\n\r\nAnd the problem is that in case of an error (For example, when sending a message to the mail), the changes that were made with this user will remain in the cache, and these changes will not get into the database (which is correct). Is there any practice of working with such a case? Alternatively, i can use object cloning, but I think this is a bad practice. I will be grateful for any help.","title":"How to avoid changing object in cache before saving Spring Cache","body":"<p>I want to show right away with an example. There is such a repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\nString USER_CACHE = &quot;users&quot;;\n\n@Override\n@CachePut(value = USER_CACHE, key = &quot;#user.email&quot;, unless = &quot;#result == null&quot;)\n&lt;S extends User&gt; S save(S user);\n\n@Override\n@CacheEvict(value = USER_CACHE, key = &quot;#user.email&quot;)\nvoid delete(User user);\n\n@Cacheable(value = USER_CACHE, key = &quot;#email&quot;, unless = &quot;#result == null&quot;)\nUser findByEmailIgnoreCase(String email);\n\n}\n</code></pre>\n<p>And there is such a service that saves the user's changes and sends a confirmation code to the mail:</p>\n<pre><code>@Service\npublic class UserServiceImpl implements UserService, UserDetailsService {\n\nprivate final UserRepository userRepository;\n\n@Override\npublic User getUserByEmail(String email) {\n    return userRepository.findByEmailIgnoreCase(email);\n}\n\n@Override\n@Transactional(isolation = Isolation.SERIALIZABLE)\npublic void createAppUser(RegistrationAppRequestDto registrationRequest) throws EmailSendingException {\n    User user = getUserByEmail(registrationRequest.getEmail());\n\n    user.setPassword(registrationRequest.getPassword());\n    user.setApp(true);\n    user.setActivated(false);\n    user.setActivationCode(UUID.randomUUID().toString());\n    user.setLastVisit(LocalDateTime.now());\n\n    if (Strings.isEmpty(user.getImg())) {\n        user.setImg(DEFAULT_IMG);\n    }\n\n    mailSender.sendWelcomeMessage(user);    \n    userRepository.save(user);\n }\n}\n</code></pre>\n<p>And the problem is that in case of an error (For example, when sending a message to the mail), the changes that were made with this user will remain in the cache, and these changes will not get into the database (which is correct). Is there any practice of working with such a case? Alternatively, i can use object cloning, but I think this is a bad practice. I will be grateful for any help.</p>\n"},{"tags":["java","arrays","java-8","java-stream","stringbuilder"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1557234965,"post_id":56023452,"comment_id":98690652,"body_markdown":"https://stackoverflow.com/q/22577197/2711488&#160;&#160;•&#160;&#160;https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction","body":"<a href=\"https://stackoverflow.com/q/22577197/2711488\">stackoverflow.com/q/22577197/2711488</a>  •  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1557236942,"post_id":56023452,"comment_id":98691919,"body_markdown":"Well the first thread to get to the reduce stage gets treated first :) if you await a sequential result, you better be using a sequential stream, or at least make it sequential before the reduce operation..","body":"Well the first thread to get to the reduce stage gets treated first :) if you await a sequential result, you better be using a sequential stream, or at least make it sequential before the reduce operation.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1557237498,"post_id":56023452,"comment_id":98692259,"body_markdown":"It’s different every time because “parallel” means multiple threads executing at the same time.  Running at the same time means they do not execute in order.","body":"It’s different every time because “parallel” means multiple threads executing at the same time.  Running at the same time means they do not execute in order."},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1557238840,"post_id":56023452,"comment_id":98693078,"body_markdown":"@VGR I understand that parallel menas multiple threads, but if instead of reduce() I&#39;m using collect() it works perfectly even with parallel stream.","body":"@VGR I understand that parallel menas multiple threads, but if instead of reduce() I&#39;m using collect() it works perfectly even with parallel stream."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1557260092,"post_id":56023452,"comment_id":98703277,"body_markdown":"that _is_ the point - one is _mutable_ reduction and the other is _not_. you are using `reduce` like it&#39;s a mutable one, and it&#39;s not. hint: `accumulator` and `combiner` **must** return a _new_ instance of `StringBuilder`, all the time.","body":"that <i>is</i> the point - one is <i>mutable</i> reduction and the other is <i>not</i>. you are using <code>reduce</code> like it&#39;s a mutable one, and it&#39;s not. hint: <code>accumulator</code> and <code>combiner</code> <b>must</b> return a <i>new</i> instance of <code>StringBuilder</code>, all the time."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1677288893,"creation_date":1557342659,"answer_id":56047530,"question_id":56023452,"body_markdown":"The problem lies in the fact you use [`Stream::reduce`][1] for [mutable reduction][2]. You should use [`Stream::collect`][3] instead that can be used for safe parallel processing. You may read more about their differences in the official Oracle documentation: [Streams: Reduction][4].\r\n\r\nUnlike the reduce method, which always creates a new value when it processes an element, the collect method modifies or mutates an existing value.\r\n\r\nNotice the differences in the Javadocs for the two methods:\r\n\r\n - [`reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)`][1]:\r\n    &gt; Performs a reduction on the elements of this stream, using the provided identity, accumulation and combining functions.\r\n - [`collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? super T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner)`][3]: \r\n    &gt; Performs a mutable reduction operation on the elements of this stream.\r\n\r\nTherefore, I suggest you do the following:\r\n\r\n\tStringBuilder concat = Arrays.stream(grades)\r\n\t\t.parallel()\r\n\t\t.collect(StringBuilder::new, StringBuilder::append, StringBuilder::append);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\r\n  [4]: https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html","title":"How does reduce() method work with parallel streams in Java 8?","body":"<p>The problem lies in the fact you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Stream::reduce</code></a> for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction\" rel=\"nofollow noreferrer\">mutable reduction</a>. You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>Stream::collect</code></a> instead that can be used for safe parallel processing. You may read more about their differences in the official Oracle documentation: <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"nofollow noreferrer\">Streams: Reduction</a>.</p>\n<p>Unlike the reduce method, which always creates a new value when it processes an element, the collect method modifies or mutates an existing value.</p>\n<p>Notice the differences in the Javadocs for the two methods:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</code></a>:\n<blockquote>\n<p>Performs a reduction on the elements of this stream, using the provided identity, accumulation and combining functions.</p>\n</blockquote>\n</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? super T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner)</code></a>:\n<blockquote>\n<p>Performs a mutable reduction operation on the elements of this stream.</p>\n</blockquote>\n</li>\n</ul>\n<p>Therefore, I suggest you do the following:</p>\n<pre><code>StringBuilder concat = Arrays.stream(grades)\n    .parallel()\n    .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append);\n</code></pre>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3532,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":1,"score":6,"last_activity_date":1677288893,"creation_date":1557234792,"question_id":56023452,"body_markdown":"I try to understand how `reduce()` method works exactly with parallel streams and I don&#39;t understand why the following code do not return the concatenation of these strings. \r\n\r\nThis is the code:\r\n\r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] grades = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;};\r\n    \t\t\r\n    \t\tStringBuilder concat = Arrays.stream(grades).parallel()\r\n    \t\t        .reduce(new StringBuilder(),\r\n    \t\t                (sb, s) -&gt; sb.append(s),\r\n    \t\t                (sb1, sb2) -&gt; sb1.append(sb2));\r\n    \t\t\r\n    \t\tSystem.out.println(concat);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThe code works only with sequential streams, but with parallel streams it doesn&#39;t return the concatenation. The output is different every time. Can someone explain me what&#39;s happening there?","title":"How does reduce() method work with parallel streams in Java 8?","body":"<p>I try to understand how <code>reduce()</code> method works exactly with parallel streams and I don't understand why the following code do not return the concatenation of these strings. </p>\n\n<p>This is the code:</p>\n\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        String[] grades = {\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\"};\n\n        StringBuilder concat = Arrays.stream(grades).parallel()\n                .reduce(new StringBuilder(),\n                        (sb, s) -&gt; sb.append(s),\n                        (sb1, sb2) -&gt; sb1.append(sb2));\n\n        System.out.println(concat);\n\n    }\n}\n</code></pre>\n\n<p>The code works only with sequential streams, but with parallel streams it doesn't return the concatenation. The output is different every time. Can someone explain me what's happening there?</p>\n"},{"tags":["java","drag-and-drop","mouseevent","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1371855211,"post_id":17245119,"comment_id":24990977,"body_markdown":"By definition, a mouseClicked event will only occur in the point the mousePresses and mouseReleased is the same. Try using mouseReleased instead. You probably shouldn&#39;t be installing a transfer handler on a click event, but should be established as part of your normal initialization process","body":"By definition, a mouseClicked event will only occur in the point the mousePresses and mouseReleased is the same. Try using mouseReleased instead. You probably shouldn&#39;t be installing a transfer handler on a click event, but should be established as part of your normal initialization process"},{"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"score":0,"creation_date":1371870752,"post_id":17245119,"comment_id":24993602,"body_markdown":"Agreed -- but mouseReleased isn&#39;t called either.  I updated the code to match some of your feedback.","body":"Agreed -- but mouseReleased isn&#39;t called either.  I updated the code to match some of your feedback."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1371871682,"post_id":17245119,"comment_id":24993732,"body_markdown":"How I don&#39;t the `TransferHandler` API :P","body":"How I don&#39;t the <code>TransferHandler</code> API :P"}],"answers":[{"tags":[],"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1372111919,"creation_date":1372111919,"answer_id":17286009,"question_id":17245119,"body_markdown":"Do you really need the mouseReleased to fire or what? I think this should work well:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.TransferHandler;\r\n\r\n    public class DragTest extends JFrame implements MouseMotionListener,\r\n            MouseListener {\r\n\t\r\n\t    private JPanel leftPanel = new JPanel(null);\r\n        private JPanel rightPanel = new JPanel(null);\r\n        JLabel dropLabel;\r\n\r\n        public DragTest() {\r\n            this.setLayout(new GridLayout(1, 2));\r\n\r\n            leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            this.add(leftPanel);\r\n            this.add(rightPanel);\r\n            leftPanel.addMouseListener(this);\r\n            leftPanel.addMouseMotionListener(this);\r\n\r\n            JTextArea area = new JTextArea();\r\n\r\n            rightPanel.setLayout(new GridLayout(1, 1));\r\n            rightPanel.add(area);\r\n\r\n            dropLabel = new JLabel(&quot;drop&quot;);\r\n            dropLabel.setTransferHandler(new TransferHandler(&quot;text&quot;));\r\n\r\n        }\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            System.out.println(&quot;mousePressed&quot;);\r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n\r\n\r\n\r\n            repaint();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseDragged(MouseEvent me) {\r\n            System.out.println(&quot;mouseDragged&quot;);\r\n\t            dropLabel.getTransferHandler().exportAsDrag(dropLabel, me,\r\n\t                    TransferHandler.COPY);\r\n        }\r\n\r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n        }\r\n\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            System.out.println(&quot;mouseClicked&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            System.out.println(&quot;mouseReleased&quot;);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            DragTest frame = new DragTest();\r\n            frame.setVisible(true);\r\n            frame.setSize(600, 400);\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    }\r\n\r\nI just moved the call to start the drag event into the mouseDragged call, this way if you just click your mouse then everything calls normally. However, if you drag the mouse, it will fire the drag and drop call, which still does block other calls, but again only if you drag. If you just click, it all fires normally.","title":"Java Drag and Drop and Mouse Listeners","body":"<p>Do you really need the mouseReleased to fire or what? I think this should work well:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.TransferHandler;\n\npublic class DragTest extends JFrame implements MouseMotionListener,\n        MouseListener {\n\n    private JPanel leftPanel = new JPanel(null);\n    private JPanel rightPanel = new JPanel(null);\n    JLabel dropLabel;\n\n    public DragTest() {\n        this.setLayout(new GridLayout(1, 2));\n\n        leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        this.add(leftPanel);\n        this.add(rightPanel);\n        leftPanel.addMouseListener(this);\n        leftPanel.addMouseMotionListener(this);\n\n        JTextArea area = new JTextArea();\n\n        rightPanel.setLayout(new GridLayout(1, 1));\n        rightPanel.add(area);\n\n        dropLabel = new JLabel(\"drop\");\n        dropLabel.setTransferHandler(new TransferHandler(\"text\"));\n\n    }\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(\"mousePressed\");\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n\n\n        repaint();\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n        System.out.println(\"mouseDragged\");\n            dropLabel.getTransferHandler().exportAsDrag(dropLabel, me,\n                    TransferHandler.COPY);\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        System.out.println(\"mouseClicked\");\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        System.out.println(\"mouseReleased\");\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    public static void main(String[] args) {\n\n        DragTest frame = new DragTest();\n        frame.setVisible(true);\n        frame.setSize(600, 400);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n\n<p>I just moved the call to start the drag event into the mouseDragged call, this way if you just click your mouse then everything calls normally. However, if you drag the mouse, it will fire the drag and drop call, which still does block other calls, but again only if you drag. If you just click, it all fires normally.</p>\n"},{"comments":[{"owner":{"account_id":6837963,"reputation":848,"user_id":5259214,"display_name":"Prakash Boda"},"score":0,"creation_date":1677921935,"post_id":75562780,"comment_id":133435758,"body_markdown":"Put some context to your answer and explain how your answer solves actual problem.","body":"Put some context to your answer and explain how your answer solves actual problem."}],"tags":[],"owner":{"account_id":20883704,"reputation":1,"user_id":15340782,"display_name":"user15340782"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677288763,"creation_date":1677288763,"answer_id":75562780,"question_id":17245119,"body_markdown":"        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            System.out.println(String.format(&quot;[mouseDragged] (%d, %d)&quot;, e.getX(),e.getY()));\r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n\r\n            repaint();\r\n        }\r\n\r\nMouse Event..??","title":"Java Drag and Drop and Mouse Listeners","body":"<pre><code>    @Override\n    public void mouseDragged(MouseEvent e) {\n        System.out.println(String.format(&quot;[mouseDragged] (%d, %d)&quot;, e.getX(),e.getY()));\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n        repaint();\n    }\n</code></pre>\n<p>Mouse Event..??</p>\n"}],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18705,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17286009,"answer_count":2,"score":4,"last_activity_date":1677288763,"creation_date":1371852930,"question_id":17245119,"body_markdown":"I am using logic like the following with a touch interface, so I&#39;d like to be able to use mousePressed to initiate a drag, yet at the same time be able to use mouseClicked or mouseReleased if the user does not drag.\r\n\r\nOn mousePressed, I have a drag being started.  On mouseClicked, I want it to print out &quot;mouseClicked&quot;, and to print mouseReleased on &quot;mouseReleased&quot; but for some reason the \r\n\r\n        dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\r\n                TransferHandler.COPY);\r\n\r\nswallows the event causing mouseClicked and mouseReleased events not be fired even when I don&#39;t move the mouse.  Notice that commenting out that line causes all listeners to be fired (but obviously the drag isn&#39;t started).  \r\n\r\nHow can I get all mouse events to happen the way I want, specifically mouseClicked/mouseReleased when the user doesn&#39;t do any dragging, while still being able to exportAsDragged if the user does drag?  Any hacks/cracks/reflection solutions are welcome.\r\n\r\nHere is some sample code I am working with that illustrates my actual problem:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.TransferHandler;\r\n    \r\n    public class DragTest extends JFrame implements MouseMotionListener,\r\n            MouseListener {\r\n    \r\n        private JPanel leftPanel = new JPanel(null);\r\n        private JPanel rightPanel = new JPanel(null);\r\n        JLabel dropLabel;\r\n    \r\n        public DragTest() {\r\n            this.setLayout(new GridLayout(1, 2));\r\n    \r\n            leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            this.add(leftPanel);\r\n            this.add(rightPanel);\r\n            leftPanel.addMouseListener(this);\r\n            leftPanel.addMouseMotionListener(this);\r\n    \r\n            JTextArea area = new JTextArea();\r\n    \r\n            rightPanel.setLayout(new GridLayout(1, 1));\r\n            rightPanel.add(area);\r\n            \r\n            dropLabel = new JLabel(&quot;drop&quot;);\r\n            dropLabel.setTransferHandler(new TransferHandler(&quot;text&quot;));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            System.out.println(&quot;mousePressed&quot;);\r\n    \r\n    \r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n    \r\n    \r\n            dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\r\n                    TransferHandler.COPY);\r\n    \r\n            repaint();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseDragged(MouseEvent me) {\r\n            System.out.println(&quot;mouseDragged&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            System.out.println(&quot;mouseClicked&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n    \r\n            System.out.println(&quot;mouseReleased&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            DragTest frame = new DragTest();\r\n            frame.setVisible(true);\r\n            frame.setSize(600, 400);\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    }\r\n\r\n","title":"Java Drag and Drop and Mouse Listeners","body":"<p>I am using logic like the following with a touch interface, so I'd like to be able to use mousePressed to initiate a drag, yet at the same time be able to use mouseClicked or mouseReleased if the user does not drag.</p>\n\n<p>On mousePressed, I have a drag being started.  On mouseClicked, I want it to print out \"mouseClicked\", and to print mouseReleased on \"mouseReleased\" but for some reason the </p>\n\n<pre><code>    dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\n            TransferHandler.COPY);\n</code></pre>\n\n<p>swallows the event causing mouseClicked and mouseReleased events not be fired even when I don't move the mouse.  Notice that commenting out that line causes all listeners to be fired (but obviously the drag isn't started).  </p>\n\n<p>How can I get all mouse events to happen the way I want, specifically mouseClicked/mouseReleased when the user doesn't do any dragging, while still being able to exportAsDragged if the user does drag?  Any hacks/cracks/reflection solutions are welcome.</p>\n\n<p>Here is some sample code I am working with that illustrates my actual problem:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.TransferHandler;\n\npublic class DragTest extends JFrame implements MouseMotionListener,\n        MouseListener {\n\n    private JPanel leftPanel = new JPanel(null);\n    private JPanel rightPanel = new JPanel(null);\n    JLabel dropLabel;\n\n    public DragTest() {\n        this.setLayout(new GridLayout(1, 2));\n\n        leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        this.add(leftPanel);\n        this.add(rightPanel);\n        leftPanel.addMouseListener(this);\n        leftPanel.addMouseMotionListener(this);\n\n        JTextArea area = new JTextArea();\n\n        rightPanel.setLayout(new GridLayout(1, 1));\n        rightPanel.add(area);\n\n        dropLabel = new JLabel(\"drop\");\n        dropLabel.setTransferHandler(new TransferHandler(\"text\"));\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(\"mousePressed\");\n\n\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n\n        dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\n                TransferHandler.COPY);\n\n        repaint();\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n        System.out.println(\"mouseDragged\");\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        System.out.println(\"mouseClicked\");\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n\n        System.out.println(\"mouseReleased\");\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    public static void main(String[] args) {\n\n        DragTest frame = new DragTest();\n        frame.setVisible(true);\n        frame.setSize(600, 400);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","yaml"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1677289067,"post_id":75562762,"comment_id":133314425,"body_markdown":"have you looked at this one `https://www.baeldung.com/jackson-yaml`","body":"have you looked at this one <code>https:&#47;&#47;www.baeldung.com&#47;jackson-yaml</code>"},{"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"score":0,"creation_date":1677290597,"post_id":75562762,"comment_id":133314546,"body_markdown":"@Popeye I don&#39;t think that would help because I should be able to get the data from the way the test does it for other fields, just need to parse through the nested yaml objects. And the test data is in the form of a linked hash map","body":"@Popeye I don&#39;t think that would help because I should be able to get the data from the way the test does it for other fields, just need to parse through the nested yaml objects. And the test data is in the form of a linked hash map"},{"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"score":0,"creation_date":1677291490,"post_id":75562762,"comment_id":133314650,"body_markdown":"There are also multiple classes used in this overall JSON request","body":"There are also multiple classes used in this overall JSON request"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1677367432,"post_id":75562762,"comment_id":133324663,"body_markdown":"`Double value = JsonParser.parseString(s).getAsJsonObject().get(&quot;restriction&quot;).getAsJsonObject()\n                .get(&quot;funding_limit&quot;).getAsJsonObject().get(&quot;value&quot;).getAsDouble();`","body":"<code>Double value = JsonParser.parseString(s).getAsJsonObject().get(&quot;restriction&zwnj;&#8203;&quot;).getAsJsonObject()                 .get(&quot;funding_limit&quot;).getAsJsonObject().get(&quot;value&quot;).getAsDo&zwnj;&#8203;uble();</code>"}],"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677288346,"creation_date":1677288346,"question_id":75562762,"body_markdown":"I have the following Yaml file of test data:\r\n\r\n    \r\n\r\n      SEARCH_CREDENTIALS_TEST:\r\n      testName: FB_0001\r\n      nttProductName: TESTNTT\r\n      tpanProductName: TESTTPAN\r\n      userProfile: USERPROFILE\r\n      credentialType: E_COMMERCE_SHORT_FORM_DYNAMIC\r\n      tsp: AETS\r\n      scProfile: Internal\r\n      otherCredentialTypes:\r\n        - E_COMMERCE_LONG_FORM\r\n      maxCachedCredentials: 2\r\n      metadata:\r\n        - HASHED=CUSTOMER_EMAIL\r\n        - UNHASHED=MERCHANT_ID|AMOUNT\r\n      secondRequestMedata:\r\n        - HASHED=CUSTOMER_EMAIL|CUSTOMER_PHONE\r\n        - UNHASHED=MERCHANT_ID|AMOUNT\r\n      restriction:\r\n        fundinglimit:\r\n          -CURRENCY=USD\r\n          -VALUE=10.00\r\n\r\nI want to store the **funding limit** values of currency and value as properties of a Money object where the amount and currency are stored as string:\r\n\r\n    \r\n    Money m = new Money();\r\n    m.setAmount((String)testData.get(&quot;restriction&quot;));\r\n    m.setCurrency(); \r\n\r\n \r\nHow do I get each part of the funding limit object into the money object? My full code snippet is below: \r\n\r\n    @Test(dataProvider = &quot;NetworkTokens&quot;, groups = { &quot;p0&quot;, &quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot; })\r\n        public void searchCredentialTest(LinkedHashMap testData) throws Exception {\r\n            \r\n            String credentialType = (String) testData.get(&quot;credentialType&quot;);\r\n    \r\n    \r\n            User user = userUtil.createUser((String) testData.get(&quot;userProfile&quot;));\r\n            SecurityContext securityContext = securityContextUtil.createSecurityContext(&quot;Default&quot;, user);\r\n            Token ntt = createOnlineToken.createNtt(user, securityContext, (String) testData.get(&quot;nttProductName&quot;),(String) testData.get(&quot;testname&quot;));\r\n    \r\n    \r\n            Money m = new Money();\r\n            m.setAmount((String)testData.get(&quot;restriction&quot;));\r\n                m.setCurrency(String) testData.get(&quot;restriction&quot;);\r\n    }\r\n\r\n\r\nHere is the postman request for reference of the JSON object I am replicating in my test where I want to get the currency code and value: \r\n\r\n     {\r\n        &quot;product_name&quot;:&quot;TEST_PRODUCT&quot;,\r\n        &quot;value_to_tokenize&quot;:&quot;TEST_VALUE&quot;,\r\n        &quot;wallet_id&quot;: &quot;TEST_WALLET&quot;,\r\n        &quot;restriction&quot; : {\r\n        \t&quot;funding_limit&quot; : {&quot;currency_code&quot; : &quot;USD&quot;, &quot;value&quot; : &quot;10.00&quot;}\r\n        }\r\n    }","title":"Parse Test Data from Yaml file into Object","body":"<p>I have the following Yaml file of test data:</p>\n<pre><code>  SEARCH_CREDENTIALS_TEST:\n  testName: FB_0001\n  nttProductName: TESTNTT\n  tpanProductName: TESTTPAN\n  userProfile: USERPROFILE\n  credentialType: E_COMMERCE_SHORT_FORM_DYNAMIC\n  tsp: AETS\n  scProfile: Internal\n  otherCredentialTypes:\n    - E_COMMERCE_LONG_FORM\n  maxCachedCredentials: 2\n  metadata:\n    - HASHED=CUSTOMER_EMAIL\n    - UNHASHED=MERCHANT_ID|AMOUNT\n  secondRequestMedata:\n    - HASHED=CUSTOMER_EMAIL|CUSTOMER_PHONE\n    - UNHASHED=MERCHANT_ID|AMOUNT\n  restriction:\n    fundinglimit:\n      -CURRENCY=USD\n      -VALUE=10.00\n</code></pre>\n<p>I want to store the <strong>funding limit</strong> values of currency and value as properties of a Money object where the amount and currency are stored as string:</p>\n<pre><code>Money m = new Money();\nm.setAmount((String)testData.get(&quot;restriction&quot;));\nm.setCurrency(); \n</code></pre>\n<p>How do I get each part of the funding limit object into the money object? My full code snippet is below:</p>\n<pre><code>@Test(dataProvider = &quot;NetworkTokens&quot;, groups = { &quot;p0&quot;, &quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot; })\n    public void searchCredentialTest(LinkedHashMap testData) throws Exception {\n        \n        String credentialType = (String) testData.get(&quot;credentialType&quot;);\n\n\n        User user = userUtil.createUser((String) testData.get(&quot;userProfile&quot;));\n        SecurityContext securityContext = securityContextUtil.createSecurityContext(&quot;Default&quot;, user);\n        Token ntt = createOnlineToken.createNtt(user, securityContext, (String) testData.get(&quot;nttProductName&quot;),(String) testData.get(&quot;testname&quot;));\n\n\n        Money m = new Money();\n        m.setAmount((String)testData.get(&quot;restriction&quot;));\n            m.setCurrency(String) testData.get(&quot;restriction&quot;);\n}\n</code></pre>\n<p>Here is the postman request for reference of the JSON object I am replicating in my test where I want to get the currency code and value:</p>\n<pre><code> {\n    &quot;product_name&quot;:&quot;TEST_PRODUCT&quot;,\n    &quot;value_to_tokenize&quot;:&quot;TEST_VALUE&quot;,\n    &quot;wallet_id&quot;: &quot;TEST_WALLET&quot;,\n    &quot;restriction&quot; : {\n        &quot;funding_limit&quot; : {&quot;currency_code&quot; : &quot;USD&quot;, &quot;value&quot; : &quot;10.00&quot;}\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","maven-2","maven-surefire-plugin"],"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":1,"creation_date":1288966226,"post_id":4106524,"comment_id":4420890,"body_markdown":"@Bozho I also think so, but looks like these two files conflict. When I have them two NO logging config works. They both are just ignored...","body":"@Bozho I also think so, but looks like these two files conflict. When I have them two NO logging config works. They both are just ignored..."},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":0,"creation_date":1288966801,"post_id":4106524,"comment_id":4421008,"body_markdown":"I think maven just includes both resources in path, so log4j gets confused which one to use and instead just fails by not showing anything. Does Robert&#39;s solution work?","body":"I think maven just includes both resources in path, so log4j gets confused which one to use and instead just fails by not showing anything. Does Robert&#39;s solution work?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1288968547,"post_id":4106524,"comment_id":4421363,"body_markdown":"Bozho is right, it works fine as it is. The problem was with my logging configuration. I used `slf4j-jdk14` instead of `slf4j-log4j`. Everything works fine **without** the trick offered by Robert.","body":"Bozho is right, it works fine as it is. The problem was with my logging configuration. I used <code>slf4j-jdk14</code> instead of <code>slf4j-log4j</code>. Everything works fine <b>without</b> the trick offered by Robert."}],"answers":[{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1288969363,"post_id":4106563,"comment_id":4421547,"body_markdown":"I up-voted your answer, many thanks for it. Unfortunately, it is not helpful in my case, since the problem is not with the location of the file, but of `log4j` usage together with `slf4j`.","body":"I up-voted your answer, many thanks for it. Unfortunately, it is not helpful in my case, since the problem is not with the location of the file, but of <code>log4j</code> usage together with <code>slf4j</code>."}],"tags":[],"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1288965773,"creation_date":1288965773,"answer_id":4106563,"question_id":4106524,"body_markdown":"Rename your test configuration file to e.g. `log4j-surefire.properties` and configure log4j to pick it up during surefire execution:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;systemPropertyVariables&gt;\r\n            \t&lt;log4j.configuration&gt;file:${project.build.testOutputDirectory}/log4j-surefire.properties&lt;/log4j.configuration&gt;\r\n\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"How to override log4j.properties during testing?","body":"<p>Rename your test configuration file to e.g. <code>log4j-surefire.properties</code> and configure log4j to pick it up during surefire execution:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;log4j.configuration&gt;file:${project.build.testOutputDirectory}/log4j-surefire.properties&lt;/log4j.configuration&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"score":2,"creation_date":1423499562,"post_id":4108178,"comment_id":45162396,"body_markdown":"How is that you didn&#39;t clean the mess. don&#39;t know how to make them all work together and get the correct answer?","body":"How is that you didn&#39;t clean the mess. don&#39;t know how to make them all work together and get the correct answer?"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1289025759,"creation_date":1288976382,"answer_id":4108178,"question_id":4106524,"body_markdown":"It should work as it is, and it works. The problem is somewhere else.\r\n\r\nps. I had a mess with loggers in my classpath: jog4j, slf4j, logback (from other dependencies). As I understand, all of them are in conflict. I didn&#39;t clean this mess yet, and I still don&#39;t know how to make all packages to use one logging facility and one configuration.","title":"How to override log4j.properties during testing?","body":"<p>It should work as it is, and it works. The problem is somewhere else.</p>\n\n<p>ps. I had a mess with loggers in my classpath: jog4j, slf4j, logback (from other dependencies). As I understand, all of them are in conflict. I didn't clean this mess yet, and I still don't know how to make all packages to use one logging facility and one configuration.</p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644330184,"creation_date":1644330184,"answer_id":71035510,"question_id":4106524,"body_markdown":"Beware of changed version for that, with 2.17.1 of log4j at least, **you&#39;ll have to change it from** `log4j.configuration` **to** `log4j.configurationFile` to avoid having \r\n\r\n`ERROR StatusLogger Reconfiguration failed: No configuration found for &#39;18b4aac2&#39; at &#39;null&#39; in &#39;null&#39;`\r\n\r\nHere an example\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!--\t\t\tDOC\thttp://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html --&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n\t\t\t\t&lt;!-- enables java assertions for tests --&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t&lt;log4j.configurationFile&gt;src/test/resources/log4j2_for_surefire.xml&lt;/log4j.configurationFile&gt;\r\n\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"How to override log4j.properties during testing?","body":"<p>Beware of changed version for that, with 2.17.1 of log4j at least, <strong>you'll have to change it from</strong> <code>log4j.configuration</code> <strong>to</strong> <code>log4j.configurationFile</code> to avoid having</p>\n<p><code>ERROR StatusLogger Reconfiguration failed: No configuration found for '18b4aac2' at 'null' in 'null'</code></p>\n<p>Here an example</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;!--            DOC http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html --&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n            &lt;!-- enables java assertions for tests --&gt;\n            &lt;configuration&gt;\n                &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;log4j.configurationFile&gt;src/test/resources/log4j2_for_surefire.xml&lt;/log4j.configurationFile&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18335,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":4108178,"answer_count":3,"score":18,"last_activity_date":1677288090,"creation_date":1288965573,"question_id":4106524,"body_markdown":"I&#39;m trying to log all `DEBUG` messages to console during testing in maven. For this purpose I created a file `src/test/resources/log4j.properties`, which is going to override the configuration I already have in `src/main/resources/log4j.properties`. Unfortunately such an overriding is not happening. Why and how to fix it?","title":"How to override log4j.properties during testing?","body":"<p>I'm trying to log all <code>DEBUG</code> messages to console during testing in maven. For this purpose I created a file <code>src/test/resources/log4j.properties</code>, which is going to override the configuration I already have in <code>src/main/resources/log4j.properties</code>. Unfortunately such an overriding is not happening. Why and how to fix it?</p>\n"},{"tags":["java","linux","tomcat","linux-kernel","tomcat8"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1521177211,"post_id":49313567,"comment_id":85628703,"body_markdown":"That error tells you that the file name you typed is incorrect. Check if you have a space after `tar` in the file name","body":"That error tells you that the file name you typed is incorrect. Check if you have a space after <code>tar</code> in the file name"},{"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"score":0,"creation_date":1521177581,"post_id":49313567,"comment_id":85628806,"body_markdown":"I copied it from name of file itself","body":"I copied it from name of file itself"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1521177869,"post_id":49313567,"comment_id":85628887,"body_markdown":"`apache-tomcat-8.5.29.tar: Cannot open: No such file or directory` means that the must have been `tar xzvf apache-tomcat-8.5.29.tar` or something like `tar xzvf apache-tomcat-8.5.29.tar .gz`. You only have to look close enough...","body":"<code>apache-tomcat-8.5.29.tar: Cannot open: No such file or directory</code> means that the must have been <code>tar xzvf apache-tomcat-8.5.29.tar</code> or something like <code>tar xzvf apache-tomcat-8.5.29.tar .gz</code>. You only have to look close enough..."},{"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"score":0,"creation_date":1521177999,"post_id":49313567,"comment_id":85628935,"body_markdown":"it is apache-tomcat-8.5.29.tar.gz","body":"it is apache-tomcat-8.5.29.tar.gz"}],"answers":[{"tags":[],"owner":{"account_id":13153169,"reputation":1,"user_id":9501088,"display_name":"Emmanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521179522,"creation_date":1521179522,"answer_id":49314021,"question_id":49313567,"body_markdown":"The error says:\r\n\r\ntar (child): **apache-tomcat-8.5.29.tar: Cannot open: No such file or directory**\r\n\r\nIt&#39;s means that the file name is incorrect or is not on the directory you are.\r\n\r\nTry this  \r\ntar xzvf /PATH_OF_THE_FILE/apache-tomcat-8.5.29.tar.gz \r\n\r\nalso check the name of the file you typed.","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>The error says:</p>\n\n<p>tar (child): <strong>apache-tomcat-8.5.29.tar: Cannot open: No such file or directory</strong></p>\n\n<p>It's means that the file name is incorrect or is not on the directory you are.</p>\n\n<p>Try this<br>\ntar xzvf /PATH_OF_THE_FILE/apache-tomcat-8.5.29.tar.gz </p>\n\n<p>also check the name of the file you typed.</p>\n"},{"tags":[],"owner":{"account_id":13153169,"reputation":1,"user_id":9501088,"display_name":"Emmanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521180465,"creation_date":1521180465,"answer_id":49314206,"question_id":49313567,"body_markdown":"when you extract the tar.gz file, you should see an output like this:\r\n\r\n    ...... (lot of information)\r\n    apache-tomcat-8.5.29/bin/configtest.sh\r\n    apache-tomcat-8.5.29/bin/daemon.sh\r\n    apache-tomcat-8.5.29/bin/digest.sh\r\n    apache-tomcat-8.5.29/bin/setclasspath.sh\r\n    apache-tomcat-8.5.29/bin/shutdown.sh\r\n    ......\r\n\r\nAnd a new directory must be created called **apache-tomcat-8.5.29**, now you only have to type the following command:\r\n\r\ncd apache-tomcat-8.5.29\r\n\r\nif you need to list it, then execute this\r\n\r\nls -l","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>when you extract the tar.gz file, you should see an output like this:</p>\n\n<pre><code>...... (lot of information)\napache-tomcat-8.5.29/bin/configtest.sh\napache-tomcat-8.5.29/bin/daemon.sh\napache-tomcat-8.5.29/bin/digest.sh\napache-tomcat-8.5.29/bin/setclasspath.sh\napache-tomcat-8.5.29/bin/shutdown.sh\n......\n</code></pre>\n\n<p>And a new directory must be created called <strong>apache-tomcat-8.5.29</strong>, now you only have to type the following command:</p>\n\n<p>cd apache-tomcat-8.5.29</p>\n\n<p>if you need to list it, then execute this</p>\n\n<p>ls -l</p>\n"},{"tags":[],"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521203609,"creation_date":1521182247,"answer_id":49314589,"question_id":49313567,"body_markdown":"Done:\r\n\r\n    sudo tar xvzf /opt/file_path/apache-tomcat-7.0.54.tar.gz -C /opt/extracted_folder_path --strip components=1--\r\n\r\nIt will extract tar file into extracted_folder_path.\r\n","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>Done:</p>\n\n<pre><code>sudo tar xvzf /opt/file_path/apache-tomcat-7.0.54.tar.gz -C /opt/extracted_folder_path --strip components=1--\n</code></pre>\n\n<p>It will extract tar file into extracted_folder_path.</p>\n"},{"comments":[{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676941008,"post_id":75515431,"comment_id":133234451,"body_markdown":"I forgot.... after unpacking tomcat go to bin folder and run: ./startup.sh","body":"I forgot.... after unpacking tomcat go to bin folder and run: ./startup.sh"}],"tags":[],"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677287769,"creation_date":1676940810,"answer_id":75515431,"question_id":49313567,"body_markdown":"Before unpack with command tar try this:\r\n```bash\r\nsudo chmod 777 ./apache-tomcat-8.5.85\r\n```\r\nyou need to perform this action before, because after download tar file is colored *red* and you need to make it *green*. You achive this result with `chmod 777` which change permission on the file.","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>Before unpack with command tar try this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chmod 777 ./apache-tomcat-8.5.85\n</code></pre>\n<p>you need to perform this action before, because after download tar file is colored <em>red</em> and you need to make it <em>green</em>. You achive this result with <code>chmod 777</code> which change permission on the file.</p>\n"}],"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49314589,"answer_count":4,"score":0,"last_activity_date":1677287769,"creation_date":1521176859,"question_id":49313567,"body_markdown":"JDK is already installed there.I have downloaded the apache-tomcat-8.5.29.tar.gz in /opt/tomcat. I want their folder structure webapps and all.\r\n\r\nExecuted the command `/path/tar xzvf apache-tomcat-8.5.29.tar.gz`, but now also there is tar file present. How do I get folders inside tomcat?\r\n","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>JDK is already installed there.I have downloaded the apache-tomcat-8.5.29.tar.gz in /opt/tomcat. I want their folder structure webapps and all.</p>\n\n<p>Executed the command <code>/path/tar xzvf apache-tomcat-8.5.29.tar.gz</code>, but now also there is tar file present. How do I get folders inside tomcat?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":74430,"reputation":554,"user_id":213884,"accept_rate":100,"display_name":"JERiv"},"score":0,"creation_date":1263482324,"post_id":2064852,"comment_id":1993717,"body_markdown":"Cool Beans! Thanks a lot.\n\nalso whats the best way to add and remove items from the array (save editing raw xml) - essentially updating any changes from the int[] to the xml.","body":"Cool Beans! Thanks a lot.  also whats the best way to add and remove items from the array (save editing raw xml) - essentially updating any changes from the int[] to the xml."},{"owner":{"account_id":23882,"reputation":86350,"user_id":60261,"accept_rate":81,"display_name":"Dan Lew"},"score":1,"creation_date":1263483309,"post_id":2064852,"comment_id":1993880,"body_markdown":"I&#39;m not sure it&#39;s possible to update the xml from code; all resources xml is compiled into binary when you build the apk.  You should make a new question on it, maybe someone else knows.","body":"I&#39;m not sure it&#39;s possible to update the xml from code; all resources xml is compiled into binary when you build the apk.  You should make a new question on it, maybe someone else knows."}],"tags":[],"owner":{"account_id":23882,"reputation":86350,"user_id":60261,"accept_rate":81,"display_name":"Dan Lew"},"comment_count":2,"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1263480167,"creation_date":1263480167,"answer_id":2064852,"question_id":2064595,"body_markdown":"You need to use Resources to get the int array; however you&#39;re using the system resources, which only includes the standard Android resources (e.g., those accessible via `android.R.array.*`).  To get your own resources, you need to access the Resources via one of your Contexts.\r\n\r\nFor example, all Activities are Contexts, so in an Activity you can do this:\r\n\r\n    Resources r = getResources();\r\n    int[] bases = r.getIntArray(R.array.UserBases);\r\n\r\nThis is why it&#39;s often useful to pass around Context; you&#39;ll need it to get a hold of your application&#39;s Resources.","title":"Get an integer array from an xml resource in Android program","body":"<p>You need to use Resources to get the int array; however you're using the system resources, which only includes the standard Android resources (e.g., those accessible via <code>android.R.array.*</code>).  To get your own resources, you need to access the Resources via one of your Contexts.</p>\n\n<p>For example, all Activities are Contexts, so in an Activity you can do this:</p>\n\n<pre><code>Resources r = getResources();\nint[] bases = r.getIntArray(R.array.UserBases);\n</code></pre>\n\n<p>This is why it's often useful to pass around Context; you'll need it to get a hold of your application's Resources.</p>\n"},{"tags":[],"owner":{"account_id":21566602,"reputation":11,"user_id":15900260,"display_name":"M. AsadUllah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677286654,"creation_date":1676888259,"answer_id":75507959,"question_id":2064595,"body_markdown":"get an array from xml resources of android project can be accessed.\r\n\r\nfrom array.xml\r\n\r\n    &lt;string-array name=&quot;weather_values&quot;&gt;\r\n        &lt;item&gt;sunny&lt;/item&gt;\r\n        &lt;item&gt;cloudy&lt;/item&gt;\r\n        &lt;item&gt;rainy&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nin Activity\r\n\r\n    String[] stringsArray = getApplicationContext().getResources().getStringArray(R.array.weather_values);\r\n\r\nin Fragment\r\n\r\n    String[] stringsArray = getContext().getResources().getStringArray(R.array.weather_values);\r\n\r\nfor output in log\r\n\r\n    System.out.println(&quot;Array Values &quot; + Arrays.toString(stringsArray));\r\n\r\noutput is\r\n\r\n    I/System.out: Array Values [sunny, cloudy, rainy]","title":"Get an integer array from an xml resource in Android program","body":"<p>get an array from xml resources of android project can be accessed.</p>\n<p>from array.xml</p>\n<pre><code>&lt;string-array name=&quot;weather_values&quot;&gt;\n    &lt;item&gt;sunny&lt;/item&gt;\n    &lt;item&gt;cloudy&lt;/item&gt;\n    &lt;item&gt;rainy&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>in Activity</p>\n<pre><code>String[] stringsArray = getApplicationContext().getResources().getStringArray(R.array.weather_values);\n</code></pre>\n<p>in Fragment</p>\n<pre><code>String[] stringsArray = getContext().getResources().getStringArray(R.array.weather_values);\n</code></pre>\n<p>for output in log</p>\n<pre><code>System.out.println(&quot;Array Values &quot; + Arrays.toString(stringsArray));\n</code></pre>\n<p>output is</p>\n<pre><code>I/System.out: Array Values [sunny, cloudy, rainy]\n</code></pre>\n"}],"owner":{"account_id":74430,"reputation":554,"user_id":213884,"accept_rate":100,"display_name":"JERiv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57392,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2064852,"answer_count":2,"score":26,"last_activity_date":1677286654,"creation_date":1263478152,"question_id":2064595,"body_markdown":"Just a quickie, \r\n\r\ni have an xml resource in res/values/integers.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n         &lt;integer-array name=&quot;UserBases&quot;&gt;\r\n              &lt;item&gt;2&lt;/item&gt;\r\n              &lt;item&gt;8&lt;/item&gt;\r\n              &lt;item&gt;10&lt;/item&gt;\r\n              &lt;item&gt;16&lt;/item&gt;\r\n         &lt;/integer-array&gt;\r\n    &lt;/resources&gt;\r\n\r\nand ive tried several things to access it:\r\n\r\n    int[] bases = R.array.UserBases;\r\n\r\nthis just returns and int reference to UserBases not the array itself\r\n\r\n    int[] bases = Resources.getSystem().getIntArray(R.array.UserBases);\r\n\r\nand this throws an exception back at me telling me the int reference R.array.UserBases points to nothing\r\n\r\nwhat is the best way to access this array, push it into a nice base-type int[] and then possibly push any modifications back into the xml resource.\r\n\r\nI&#39;ve checked the android documentation but I haven&#39;t found anything terribly fruitful.","title":"Get an integer array from an xml resource in Android program","body":"<p>Just a quickie, </p>\n\n<p>i have an xml resource in res/values/integers.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n     &lt;integer-array name=\"UserBases\"&gt;\n          &lt;item&gt;2&lt;/item&gt;\n          &lt;item&gt;8&lt;/item&gt;\n          &lt;item&gt;10&lt;/item&gt;\n          &lt;item&gt;16&lt;/item&gt;\n     &lt;/integer-array&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>and ive tried several things to access it:</p>\n\n<pre><code>int[] bases = R.array.UserBases;\n</code></pre>\n\n<p>this just returns and int reference to UserBases not the array itself</p>\n\n<pre><code>int[] bases = Resources.getSystem().getIntArray(R.array.UserBases);\n</code></pre>\n\n<p>and this throws an exception back at me telling me the int reference R.array.UserBases points to nothing</p>\n\n<p>what is the best way to access this array, push it into a nice base-type int[] and then possibly push any modifications back into the xml resource.</p>\n\n<p>I've checked the android documentation but I haven't found anything terribly fruitful.</p>\n"},{"tags":["java","file-rename"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1346393985,"post_id":12209801,"comment_id":16354660,"body_markdown":"check Apache API for io, [FilenameUtils](http://commons.apache.org/io/api-1.4/org/apache/commons/io/FilenameUtils.html)","body":"check Apache API for io, <a href=\"http://commons.apache.org/io/api-1.4/org/apache/commons/io/FilenameUtils.html\" rel=\"nofollow noreferrer\">FilenameUtils</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1346393985,"post_id":12209801,"comment_id":16354661,"body_markdown":"I&#39;d start with reading [File.renameTo](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File))","body":"I&#39;d start with reading <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">File.renameTo</a>"},{"owner":{"account_id":1754862,"reputation":327,"user_id":1603140,"accept_rate":50,"display_name":"rahul0789"},"score":0,"creation_date":1346394411,"post_id":12209801,"comment_id":16354782,"body_markdown":"@Nandkumar: Thanks I think it will be some useful for me. But the problem seems that I may unzip the file anytime later(May be in another session). How to I preserve it&#39;s previous extension?","body":"@Nandkumar: Thanks I think it will be some useful for me. But the problem seems that I may unzip the file anytime later(May be in another session). How to I preserve it&#39;s previous extension?"},{"owner":{"account_id":1023850,"reputation":37494,"user_id":1033581,"accept_rate":66,"display_name":"Cœur"},"score":0,"creation_date":1541679865,"post_id":12209801,"comment_id":93303329,"body_markdown":"Possible duplicate of [Rename a file using Java](https://stackoverflow.com/questions/1158777/rename-a-file-using-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1158777/rename-a-file-using-java\">Rename a file using Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1346394020,"creation_date":1346394020,"answer_id":12209877,"question_id":12209801,"body_markdown":"Try with:\r\n\r\n    File file  = new File(&quot;fileName.zip&quot;); // handler to your ZIP file\r\n    File file2 = new File(&quot;fileName.fileExtension&quot;); // destination dir of your file\r\n    boolean success = file.renameTo(file2);\r\n    if (success) {\r\n        // File has been renamed\r\n    }","title":"How to change file extension at runtime in Java","body":"<p>Try with:</p>\n\n<pre><code>File file  = new File(\"fileName.zip\"); // handler to your ZIP file\nFile file2 = new File(\"fileName.fileExtension\"); // destination dir of your file\nboolean success = file.renameTo(file2);\nif (success) {\n    // File has been renamed\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1754862,"reputation":327,"user_id":1603140,"accept_rate":50,"display_name":"rahul0789"},"score":0,"creation_date":1346396078,"post_id":12210064,"comment_id":16355276,"body_markdown":"Hi John. The same approach I am using currently. What I want to do is I can use the zipper and unzipper functionality separately. In that case I won&#39;t have the extension of the file.","body":"Hi John. The same approach I am using currently. What I want to do is I can use the zipper and unzipper functionality separately. In that case I won&#39;t have the extension of the file."},{"owner":{"account_id":264962,"reputation":6378,"user_id":551625,"accept_rate":57,"display_name":"brunoais"},"score":9,"creation_date":1399108470,"post_id":12210064,"comment_id":35931221,"body_markdown":"indexOf does not work. Try lastIndexOf() instead. That&#39;s because only the text after the last &quot;.&quot; is the extension and a file can have multiple &quot;.&quot; characters. Besides, searching from the end is, usually, faster to find that extension","body":"indexOf does not work. Try lastIndexOf() instead. That&#39;s because only the text after the last &quot;.&quot; is the extension and a file can have multiple &quot;.&quot; characters. Besides, searching from the end is, usually, faster to find that extension"},{"owner":{"account_id":291102,"reputation":597,"user_id":593045,"display_name":"BitLauncher"},"score":0,"creation_date":1519142395,"post_id":12210064,"comment_id":84783691,"body_markdown":"I would make two changes:\na) name newExtension as newExtensionWithDot\nb) return new File(f.getParent(), name + newExtension); // &quot;/&quot; is only Unix compatible, so the code can be use everywhere.","body":"I would make two changes: a) name newExtension as newExtensionWithDot b) return new File(f.getParent(), name + newExtension); // &quot;/&quot; is only Unix compatible, so the code can be use everywhere."}],"tags":[],"owner":{"account_id":263210,"reputation":10980,"user_id":548634,"accept_rate":78,"display_name":"John Eipe"},"comment_count":3,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1603643030,"creation_date":1346395010,"answer_id":12210064,"question_id":12209801,"body_markdown":"This is how I used to rename files or change its extension.\r\n\r\n    public static void modify(File file) \r\n        {\r\n            int index = file.getName().lastIndexOf(&quot;.&quot;);\r\n            //print filename\r\n            //System.out.println(file.getName().substring(0, index));\r\n            //print extension\r\n            //System.out.println(file.getName().substring(index));\r\n            String ext = file.getName().substring(index);\r\n            //use file.renameTo() to rename the file\r\n            file.renameTo(new File(&quot;Newname&quot;+ext));\r\n        }\r\n\r\n-------\r\n*edit*: John&#39;s method renames the file (keeping the extension). To change the extension do:\r\n\r\n    public static File changeExtension(File f, String newExtension) {\r\n      int i = f.getName().lastIndexOf(&#39;.&#39;);\r\n      String name = f.getName().substring(0,i);\r\n      return new File(f.getParent(), name + newExtension);\r\n    }\r\n\r\nThis changes only *the last extension* to a filename, i.e. the `.gz` part of `archive.tar.gz`. Therefore it works fine with Linux hidden files, for which the name starts with a `.`\r\nThis is quite safe because if `getParent()` returns `null` (i.e. in the event of the parent being the system root) it is &quot;cast&quot; to an empty String as the whole argument to the File constructor is evaluated first.\r\n\r\nThe only case where you will get a funny output is if you pass in a File representing the system root itself, in which case the `null` is prepended to the rest of the path string.","title":"How to change file extension at runtime in Java","body":"<p>This is how I used to rename files or change its extension.</p>\n<pre><code>public static void modify(File file) \n    {\n        int index = file.getName().lastIndexOf(&quot;.&quot;);\n        //print filename\n        //System.out.println(file.getName().substring(0, index));\n        //print extension\n        //System.out.println(file.getName().substring(index));\n        String ext = file.getName().substring(index);\n        //use file.renameTo() to rename the file\n        file.renameTo(new File(&quot;Newname&quot;+ext));\n    }\n</code></pre>\n<hr />\n<p><em>edit</em>: John's method renames the file (keeping the extension). To change the extension do:</p>\n<pre><code>public static File changeExtension(File f, String newExtension) {\n  int i = f.getName().lastIndexOf('.');\n  String name = f.getName().substring(0,i);\n  return new File(f.getParent(), name + newExtension);\n}\n</code></pre>\n<p>This changes only <em>the last extension</em> to a filename, i.e. the <code>.gz</code> part of <code>archive.tar.gz</code>. Therefore it works fine with Linux hidden files, for which the name starts with a <code>.</code>\nThis is quite safe because if <code>getParent()</code> returns <code>null</code> (i.e. in the event of the parent being the system root) it is &quot;cast&quot; to an empty String as the whole argument to the File constructor is evaluated first.</p>\n<p>The only case where you will get a funny output is if you pass in a File representing the system root itself, in which case the <code>null</code> is prepended to the rest of the path string.</p>\n"},{"tags":[],"owner":{"account_id":4320263,"reputation":45,"user_id":3528738,"display_name":"Pankaj"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461717239,"creation_date":1461667091,"answer_id":36862487,"question_id":12209801,"body_markdown":"    FilenameUtils.getFullPathNoEndSeparator(doc.getDocLoc()) + &quot;/&quot; +\r\n         FilenameUtils.getBaseName(doc.getDocLoc()) + &quot;.xml&quot;","title":"How to change file extension at runtime in Java","body":"<pre><code>FilenameUtils.getFullPathNoEndSeparator(doc.getDocLoc()) + \"/\" +\n     FilenameUtils.getBaseName(doc.getDocLoc()) + \".xml\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1278157,"reputation":7595,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"score":3,"creation_date":1532094101,"post_id":45007123,"comment_id":89857714,"body_markdown":"Fails for paths like &quot;/aaa.bbb/ccc&quot;. :-/ These things do matter.","body":"Fails for paths like &quot;/aaa.bbb/ccc&quot;. :-/ These things do matter."}],"tags":[],"owner":{"account_id":10803609,"reputation":181,"user_id":7946646,"display_name":"JavaBohne"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499675063,"creation_date":1499675063,"answer_id":45007123,"question_id":12209801,"body_markdown":"I would check, if the file has an extension before changing. The solution below works also with files without extension or multiple extensions\r\n\r\n    public File changeExtension(File file, String extension) {\r\n\t\tString filename = file.getName();\r\n\t\t\r\n\t\tif (filename.contains(&quot;.&quot;)) {\r\n\t\t\tfilename = filename.substring(0, filename.lastIndexOf(&#39;.&#39;));\r\n\t\t}\r\n\t\tfilename += &quot;.&quot; + extension;\r\n\r\n        file.renameTo(new File(file.getParentFile(), filename));\r\n\t\treturn file;\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tassertThat(changeExtension(new File(&quot;C:/a/aaa.bbb.ccc&quot;), &quot;txt&quot;), \r\n\t\t\t\t\t\t\t\tis(new File(&quot;C:/a/aaa.bbb.txt&quot;)));\r\n\t\t\r\n\t\tassertThat(changeExtension(new File(&quot;C:/a/test&quot;), &quot;txt&quot;), \r\n\t\t\t\t\t\t\t\tis(new File(&quot;C:/a/test.txt&quot;)));\r\n\t}","title":"How to change file extension at runtime in Java","body":"<p>I would check, if the file has an extension before changing. The solution below works also with files without extension or multiple extensions</p>\n\n<pre><code>public File changeExtension(File file, String extension) {\n    String filename = file.getName();\n\n    if (filename.contains(\".\")) {\n        filename = filename.substring(0, filename.lastIndexOf('.'));\n    }\n    filename += \".\" + extension;\n\n    file.renameTo(new File(file.getParentFile(), filename));\n    return file;\n}\n\n@Test\npublic void test() {\n    assertThat(changeExtension(new File(\"C:/a/aaa.bbb.ccc\"), \"txt\"), \n                            is(new File(\"C:/a/aaa.bbb.txt\")));\n\n    assertThat(changeExtension(new File(\"C:/a/test\"), \"txt\"), \n                            is(new File(\"C:/a/test.txt\")));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677286501,"creation_date":1560475765,"answer_id":56590333,"question_id":12209801,"body_markdown":"By the same logic as mentioned [@hsz][1], but instead simply use replacement:\r\n\r\n    File file  = new File(&quot;fileName.fileExtension&quot;); // creating object of File \r\n    String str = file.getPath().replace(&quot;.fileExtension&quot;, &quot;.zip&quot;); // replacing extension to another \r\n    file.renameTo(new File(str)); \r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12209877/8370915","title":"How to change file extension at runtime in Java","body":"<p>By the same logic as mentioned <a href=\"https://stackoverflow.com/a/12209877/8370915\">@hsz</a>, but instead simply use replacement:</p>\n<pre><code>File file  = new File(&quot;fileName.fileExtension&quot;); // creating object of File \nString str = file.getPath().replace(&quot;.fileExtension&quot;, &quot;.zip&quot;); // replacing extension to another \nfile.renameTo(new File(str)); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"score":0,"creation_date":1649423000,"post_id":59546643,"comment_id":126878123,"body_markdown":"Files.move(file, Paths.get(newFilename), StandardCopyOption.REPLACE_EXISTING); instead of Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));","body":"Files.move(file, Paths.get(newFilename), StandardCopyOption.REPLACE_EXISTING); instead of Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));"}],"tags":[],"owner":{"account_id":1332075,"reputation":179,"user_id":1275743,"display_name":"Mr. Lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577811845,"creation_date":1577810857,"answer_id":59546643,"question_id":12209801,"body_markdown":"I want to avoid the new extension just happening to be in the path or filename itself. I like a combination of java.nio and apache StringFilenameUtils.\r\n\r\n    public void changeExtension(Path file, String extension) throws IOException {\r\n        String newFilename = FilenameUtils.removeExtension(file.toString()) + EXTENSION_SEPARATOR_STR + extension;\r\n        Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));\r\n    }\r\n","title":"How to change file extension at runtime in Java","body":"<p>I want to avoid the new extension just happening to be in the path or filename itself. I like a combination of java.nio and apache StringFilenameUtils.</p>\n\n<pre><code>public void changeExtension(Path file, String extension) throws IOException {\n    String newFilename = FilenameUtils.removeExtension(file.toString()) + EXTENSION_SEPARATOR_STR + extension;\n    Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1850004,"reputation":3735,"user_id":1676736,"accept_rate":80,"display_name":"Sayed Abolfazl Fatemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643544750,"creation_date":1643544750,"answer_id":70914512,"question_id":12209801,"body_markdown":"If you are using Kotlin you can use from this property of your `file` object:\r\n\r\n    file.nameWithoutExtension + &quot;extension&quot;","title":"How to change file extension at runtime in Java","body":"<p>If you are using Kotlin you can use from this property of your <code>file</code> object:</p>\n<pre><code>file.nameWithoutExtension + &quot;extension&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673142984,"post_id":75043376,"comment_id":132431732,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75043376/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27216228,"reputation":15,"user_id":20746213,"display_name":"Abheek Kumar Sarangi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673121412,"creation_date":1673121412,"answer_id":75043376,"question_id":12209801,"body_markdown":"My firend was working on a zipper in Java some 4 months back, I got this code from him.\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n\r\n    public class ZipFiles {\r\n    \r\n    List&lt;String&gt; filesListInDir = new ArrayList&lt;String&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;/Users/pankaj/sitemap.xml&quot;);\r\n        String zipFileName = &quot;/Users/pankaj/sitemap.zip&quot;;\r\n        \r\n        File dir = new File(&quot;/Users/pankaj/tmp&quot;);\r\n        String zipDirName = &quot;/Users/pankaj/tmp.zip&quot;;\r\n        \r\n        zipSingleFile(file, zipFileName);\r\n        \r\n        ZipFiles zipFiles = new ZipFiles();\r\n        zipFiles.zipDirectory(dir, zipDirName);\r\n    }\r\n\r\n    /**\r\n     * This method zips the directory\r\n     * @param dir\r\n     * @param zipDirName\r\n     */\r\n    private void zipDirectory(File dir, String zipDirName) {\r\n        try {\r\n            populateFilesList(dir);\r\n            //now zip files one by one\r\n            //create ZipOutputStream to write to the zip file\r\n            FileOutputStream fos = new FileOutputStream(zipDirName);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n            for(String filePath : filesListInDir){\r\n                \r\n       System.out.println(&quot;Zipping &quot;+filePath);\r\n                //for ZipEntry we need to keep only relative file path, so we used substring on absolute path\r\n                ZipEntry ze = new ZipEntry(filePath.substring(dir.getAbsolutePath().length()+1, filePath.length()));\r\n                zos.putNextEntry(ze);\r\n                //read the file and write to ZipOutputStream\r\n                FileInputStream fis = new FileInputStream(filePath);\r\n                byte[] buffer = new byte[1024];\r\n                int len;\r\n                while ((len = fis.read(buffer)) &gt; 0) {\r\n                    zos.write(buffer, 0, len);\r\n                }\r\n                zos.closeEntry();\r\n                fis.close();\r\n            }\r\n            zos.close();\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n       }\r\n    \r\n    /**\r\n     * This method populates all the files in a directory to a List\r\n     * @param dir\r\n     * @throws IOException\r\n     */\r\n       private void populateFilesList(File dir) throws IOException {\r\n        File[] files = dir.listFiles();\r\n        for(File file : files){\r\n            if(file.isFile()) \r\n         filesListInDir.add(file.getAbsolutePath());\r\n            else \r\n     populateFilesList(file);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method compresses the single file to zip format\r\n     * @param file\r\n     * @param zipFileName\r\n     */\r\n    private static void zipSingleFile(File file, String zipFileName) {\r\n        try {\r\n            //create ZipOutputStream to write to the zip file\r\n            FileOutputStream fos = new FileOutputStream(zipFileName);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n            //add a new Zip Entry to the ZipOutputStream\r\n            ZipEntry ze = new ZipEntry(file.getName());\r\n            zos.putNextEntry(ze);\r\n            //read the file and write to ZipOutputStream\r\n            FileInputStream fis = new FileInputStream(file);\r\n            byte[] buffer = new byte[1024];\r\n            int len;\r\n            while ((len = fis.read(buffer)) &gt; 0) {\r\n                zos.write(buffer, 0, len);\r\n            }\r\n            \r\n            //Close the zip entry to write to zip file\r\n            zos.closeEntry();\r\n            //Close resources\r\n            zos.close();\r\n            fis.close();\r\n            fos.close();\r\n            \r\n        System.out.println(file.getCanonicalPath()+&quot; is zipped to &quot;+zipFileName);\r\n            \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n\r\nI haven&#39;t tried it personally, but he and also some of my other friends told me that it works.","title":"How to change file extension at runtime in Java","body":"<p>My firend was working on a zipper in Java some 4 months back, I got this code from him.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipFiles {\n\nList&lt;String&gt; filesListInDir = new ArrayList&lt;String&gt;();\n\npublic static void main(String[] args) {\n    File file = new File(&quot;/Users/pankaj/sitemap.xml&quot;);\n    String zipFileName = &quot;/Users/pankaj/sitemap.zip&quot;;\n    \n    File dir = new File(&quot;/Users/pankaj/tmp&quot;);\n    String zipDirName = &quot;/Users/pankaj/tmp.zip&quot;;\n    \n    zipSingleFile(file, zipFileName);\n    \n    ZipFiles zipFiles = new ZipFiles();\n    zipFiles.zipDirectory(dir, zipDirName);\n}\n\n/**\n * This method zips the directory\n * @param dir\n * @param zipDirName\n */\nprivate void zipDirectory(File dir, String zipDirName) {\n    try {\n        populateFilesList(dir);\n        //now zip files one by one\n        //create ZipOutputStream to write to the zip file\n        FileOutputStream fos = new FileOutputStream(zipDirName);\n        ZipOutputStream zos = new ZipOutputStream(fos);\n        for(String filePath : filesListInDir){\n            \n   System.out.println(&quot;Zipping &quot;+filePath);\n            //for ZipEntry we need to keep only relative file path, so we used substring on absolute path\n            ZipEntry ze = new ZipEntry(filePath.substring(dir.getAbsolutePath().length()+1, filePath.length()));\n            zos.putNextEntry(ze);\n            //read the file and write to ZipOutputStream\n            FileInputStream fis = new FileInputStream(filePath);\n            byte[] buffer = new byte[1024];\n            int len;\n            while ((len = fis.read(buffer)) &gt; 0) {\n                zos.write(buffer, 0, len);\n            }\n            zos.closeEntry();\n            fis.close();\n        }\n        zos.close();\n        fos.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n   }\n\n/**\n * This method populates all the files in a directory to a List\n * @param dir\n * @throws IOException\n */\n   private void populateFilesList(File dir) throws IOException {\n    File[] files = dir.listFiles();\n    for(File file : files){\n        if(file.isFile()) \n     filesListInDir.add(file.getAbsolutePath());\n        else \n populateFilesList(file);\n    }\n}\n\n/**\n * This method compresses the single file to zip format\n * @param file\n * @param zipFileName\n */\nprivate static void zipSingleFile(File file, String zipFileName) {\n    try {\n        //create ZipOutputStream to write to the zip file\n        FileOutputStream fos = new FileOutputStream(zipFileName);\n        ZipOutputStream zos = new ZipOutputStream(fos);\n        //add a new Zip Entry to the ZipOutputStream\n        ZipEntry ze = new ZipEntry(file.getName());\n        zos.putNextEntry(ze);\n        //read the file and write to ZipOutputStream\n        FileInputStream fis = new FileInputStream(file);\n        byte[] buffer = new byte[1024];\n        int len;\n        while ((len = fis.read(buffer)) &gt; 0) {\n            zos.write(buffer, 0, len);\n        }\n        \n        //Close the zip entry to write to zip file\n        zos.closeEntry();\n        //Close resources\n        zos.close();\n        fis.close();\n        fos.close();\n        \n    System.out.println(file.getCanonicalPath()+&quot; is zipped to &quot;+zipFileName);\n        \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n\n}\n</code></pre>\n<p>I haven't tried it personally, but he and also some of my other friends told me that it works.</p>\n"}],"owner":{"account_id":1754862,"reputation":327,"user_id":1603140,"accept_rate":50,"display_name":"rahul0789"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72784,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"answer_count":8,"score":21,"last_activity_date":1677286501,"creation_date":1346393604,"question_id":12209801,"body_markdown":"I am trying to implement program to zip and unzip a file. All I want to do is to zip a **file (fileName.fileExtension)** with name as **fileName.zip** and on unzipping change it again to **fileName.fileExtension**.\r\n","title":"How to change file extension at runtime in Java","body":"<p>I am trying to implement program to zip and unzip a file. All I want to do is to zip a <strong>file (fileName.fileExtension)</strong> with name as <strong>fileName.zip</strong> and on unzipping change it again to <strong>fileName.fileExtension</strong>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"score":0,"creation_date":1677219127,"post_id":75553124,"comment_id":133298275,"body_markdown":"Can you please provide a minimal, reproducible example? \nhttps://stackoverflow.com/help/minimal-reproducible-example","body":"Can you please provide a minimal, reproducible example?  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1677222852,"post_id":75553124,"comment_id":133298901,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1677222891,"post_id":75553124,"comment_id":133298908,"body_markdown":"[Please add a minimal, complete, and verifiable example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Please add a minimal, complete, and verifiable example</a>"}],"answers":[{"comments":[{"owner":{"account_id":10836932,"reputation":3,"user_id":7969627,"display_name":"Shridhar"},"score":0,"creation_date":1677223885,"post_id":75553237,"comment_id":133299091,"body_markdown":"After adding jakarta.xml.ws dependency it worked for me.","body":"After adding jakarta.xml.ws dependency it worked for me."},{"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"score":0,"creation_date":1677224485,"post_id":75553237,"comment_id":133299217,"body_markdown":"Then please mark the answer as accepted to complete this issue","body":"Then please mark the answer as accepted to complete this issue"}],"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677220059,"creation_date":1677220059,"answer_id":75553237,"question_id":75553124,"body_markdown":"Seems that you have no `jakarta/xml/ws/WebServiceException` class definition in Java Runtime.\r\n\r\nStill, you managed to compile this, which means either this class is not needed during the compilation process (for instance loaded through `Class.forName`) or it is marked as compile time only. I do not know what build tool you are using, but it seems you need to put declare dependency like this for Maven:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOr like this for Gradle\r\n\r\n```\r\ncompile group: &#39;jakarta.xml.ws&#39;, name: &#39;jakarta.xml.ws-api&#39;, version: &#39;3.0.1&#39;\r\n```\r\n\r\nP.S: I have noticed the `jakarta` package, I&#39;m guessing you are in the process of transitioning from `javax` to `jakarta`, if so, you may find [this SO post][1] useful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72159654/migrate-from-javax-to-jakarta-ee","title":"Exception in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException","body":"<p>Seems that you have no <code>jakarta/xml/ws/WebServiceException</code> class definition in Java Runtime.</p>\n<p>Still, you managed to compile this, which means either this class is not needed during the compilation process (for instance loaded through <code>Class.forName</code>) or it is marked as compile time only. I do not know what build tool you are using, but it seems you need to put declare dependency like this for Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or like this for Gradle</p>\n<pre><code>compile group: 'jakarta.xml.ws', name: 'jakarta.xml.ws-api', version: '3.0.1'\n</code></pre>\n<p>P.S: I have noticed the <code>jakarta</code> package, I'm guessing you are in the process of transitioning from <code>javax</code> to <code>jakarta</code>, if so, you may find <a href=\"https://stackoverflow.com/questions/72159654/migrate-from-javax-to-jakarta-ee\">this SO post</a> useful.</p>\n"}],"owner":{"account_id":10836932,"reputation":3,"user_id":7969627,"display_name":"Shridhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1335,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1677310865,"accepted_answer_id":75553237,"answer_count":1,"score":-2,"last_activity_date":1677285032,"creation_date":1677218869,"question_id":75553124,"body_markdown":"```\r\norg.apache.catalina.connector.RequestFacade@2f6791f5\r\nException in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.getFICodec(SOAPBindingCodec.java:491)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:183)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:164)\r\n\tat com.sun.xml.ws.api.pipe.Codecs.createSOAPBindingCodec(Codecs.java:73)\r\n\tat com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:96)\r\n\tat com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:82)\r\n\tat com.oracle.webservices.api.message.MessageContextFactory.&lt;clinit&gt;(MessageContextFactory.java:57)\r\n\tat com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt;(DatabindingImpl.java:104)\r\n\tat com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:74)\r\n\tat com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:58)\r\n\tat com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:120)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.buildRuntimeModel(WSServiceDelegate.java:882)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.createSEIPortInfo(WSServiceDelegate.java:899)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.addSEI(WSServiceDelegate.java:862)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:451)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:420)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:402)\r\n\tat javax.xml.ws.Service.getPort(Service.java:169)\r\n\r\n```\r\nI&#39;m trying to run my Batch application  during this I want to connect to another application via some property file.","title":"Exception in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException","body":"<pre><code>org.apache.catalina.connector.RequestFacade@2f6791f5\nException in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.getFICodec(SOAPBindingCodec.java:491)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:183)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:164)\n    at com.sun.xml.ws.api.pipe.Codecs.createSOAPBindingCodec(Codecs.java:73)\n    at com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:96)\n    at com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:82)\n    at com.oracle.webservices.api.message.MessageContextFactory.&lt;clinit&gt;(MessageContextFactory.java:57)\n    at com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt;(DatabindingImpl.java:104)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:74)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:58)\n    at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:120)\n    at com.sun.xml.ws.client.WSServiceDelegate.buildRuntimeModel(WSServiceDelegate.java:882)\n    at com.sun.xml.ws.client.WSServiceDelegate.createSEIPortInfo(WSServiceDelegate.java:899)\n    at com.sun.xml.ws.client.WSServiceDelegate.addSEI(WSServiceDelegate.java:862)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:451)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:420)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:402)\n    at javax.xml.ws.Service.getPort(Service.java:169)\n\n</code></pre>\n<p>I'm trying to run my Batch application  during this I want to connect to another application via some property file.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677285836,"post_id":75562516,"comment_id":133314128,"body_markdown":"Link to tutorial? Or at least a section of code and document which OpenCV library you are using? Otherwise there is https://developer.android.com/training/permissions/requesting and https://github.com/android/camera-samples","body":"Link to tutorial? Or at least a section of code and document which OpenCV library you are using? Otherwise there is <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a> and <a href=\"https://github.com/android/camera-samples\" rel=\"nofollow noreferrer\">github.com/android/camera-samples</a>"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677284550,"creation_date":1677284550,"question_id":75562516,"body_markdown":"I am following this tutorial to add opencv and camera support to a new app in Android Studio in Java using Android 11 and Pixel 4 as emulator\r\n\r\nI followed some comments and added \r\n\r\n`mOpenCvCameraView.setCameraPermissionGranted();`\r\n\r\n\r\nNow I get the error `It seems that your device does not support camera(or it is locked)`\r\n\r\nI found some solutions here https://stackoverflow.com/questions/20666366/it-seems-that-your-device-does-not-support-cameraor-it-is-locked but I don&#39;t know how to implement them\r\n\r\nI was able to do it by enabling the camera permissions manually in the emulator&#39;s phone settings for my app, however I would like it to request permissions on its own \r\n\r\nThe answer, `It means that on Android 23 or above, besides the manifest, you need to request permission on runtime as well. In this case, camera access.`\r\n\r\nWhere do I add this code? Is this even Java code? I am getting so many undefined errors when trying to paste it in the `OnCreate` function. \r\n\r\n","title":"Android Studio. It seems that your device does not support camera(or it is locked)","body":"<p>I am following this tutorial to add opencv and camera support to a new app in Android Studio in Java using Android 11 and Pixel 4 as emulator</p>\n<p>I followed some comments and added</p>\n<p><code>mOpenCvCameraView.setCameraPermissionGranted();</code></p>\n<p>Now I get the error <code>It seems that your device does not support camera(or it is locked)</code></p>\n<p>I found some solutions here <a href=\"https://stackoverflow.com/questions/20666366/it-seems-that-your-device-does-not-support-cameraor-it-is-locked\">It seems that your device does not support camera(or it is locked)</a> but I don't know how to implement them</p>\n<p>I was able to do it by enabling the camera permissions manually in the emulator's phone settings for my app, however I would like it to request permissions on its own</p>\n<p>The answer, <code>It means that on Android 23 or above, besides the manifest, you need to request permission on runtime as well. In this case, camera access.</code></p>\n<p>Where do I add this code? Is this even Java code? I am getting so many undefined errors when trying to paste it in the <code>OnCreate</code> function.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677284260,"creation_date":1677284260,"answer_id":75562495,"question_id":75536104,"body_markdown":"After a little bit of experimenting I found out that `ApplicationListener` on `ContextClosedEvent` will always be executed before any `@PreDestroy` method or any bean&#39;s `destroyMethod` is called. I.e. `onApplicationEvent(ContextClosedEvent event)` is always called first.\r\n\r\nAn example is:\r\n\r\n    @Component\r\n    public class PriorityShutdownListener implements ApplicationListener&lt;ContextClosedEvent&gt; {\r\n        \r\n        @Autowired\r\n        private Server grpcServer;\r\n        \r\n        /**\r\n         * This blocking code will be executed before any \r\n         * @PreDestroy method or bean&#39;s `destroyMethod` is called.\r\n         */\r\n        @Override\r\n        public void onApplicationEvent(ContextClosedEvent event) {\r\n            grpcServer.shutdown();\r\n            // don&#39;t forget to await for existing\r\n            // calls to finish before returning from this method\r\n        }\r\n    }\r\n\r\n","title":"How to register Springs SIGTERM graceful shutdown synchronous method before PreDestroy?","body":"<p>After a little bit of experimenting I found out that <code>ApplicationListener</code> on <code>ContextClosedEvent</code> will always be executed before any <code>@PreDestroy</code> method or any bean's <code>destroyMethod</code> is called. I.e. <code>onApplicationEvent(ContextClosedEvent event)</code> is always called first.</p>\n<p>An example is:</p>\n<pre><code>@Component\npublic class PriorityShutdownListener implements ApplicationListener&lt;ContextClosedEvent&gt; {\n    \n    @Autowired\n    private Server grpcServer;\n    \n    /**\n     * This blocking code will be executed before any \n     * @PreDestroy method or bean's `destroyMethod` is called.\n     */\n    @Override\n    public void onApplicationEvent(ContextClosedEvent event) {\n        grpcServer.shutdown();\n        // don't forget to await for existing\n        // calls to finish before returning from this method\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75562495,"answer_count":1,"score":1,"last_activity_date":1677284260,"creation_date":1677086284,"question_id":75536104,"body_markdown":"Springs allows to register multiple pre-destroy hooks using `@PreDestroy` annotation which is useful to clear resources.   \r\nWe have multiple different modules where each module is related to a different database connection. In each of those modules we define destroy method for each of such database connection using either `@Bean(destroyMethod = &quot;shutdown&quot;)` or a separate method annotated with `@PreDestroy` for a more complex shutdown process.   \r\nWe also have multiple modules related to endpoints implementations (like modules for `gRPC` endpoints, `GraphQL` endpoints, `REST` endpoints).   \r\nWe want to add graceful shutdown process for applications using those endpoints. By graceful shutdown I mean the flow like below:  \r\n1. Shutdown endpoint servers first (i.e. reject any new connections, but await for the current connections to be finished). I.e. we need to shutdown and await for the shutdown process to be finished for the following endpoint servers: `gRPC`, `GraphQL`, `REST`.\r\n2. Only after step `1.` is fully finished we should trigger beans destruction methods (i.e. methods annotated with `@PreDestroy` and specified via `destroyMethod`).\r\n\r\nHow to correctly inject specific hook which is called before all other hooks for SIGTERM signal?   \r\n\r\nP.S. I assume that we might be using `@PreDestroy` incorrectly because the functionality we are looking for is `@PrePreDestroy` which sounds silly.\r\n\r\nSide note: `server.shutdown=graceful` isn&#39;t an option for us because we are using custom servers and not default embedded servers.  ","title":"How to register Springs SIGTERM graceful shutdown synchronous method before PreDestroy?","body":"<p>Springs allows to register multiple pre-destroy hooks using <code>@PreDestroy</code> annotation which is useful to clear resources.<br />\nWe have multiple different modules where each module is related to a different database connection. In each of those modules we define destroy method for each of such database connection using either <code>@Bean(destroyMethod = &quot;shutdown&quot;)</code> or a separate method annotated with <code>@PreDestroy</code> for a more complex shutdown process.<br />\nWe also have multiple modules related to endpoints implementations (like modules for <code>gRPC</code> endpoints, <code>GraphQL</code> endpoints, <code>REST</code> endpoints).<br />\nWe want to add graceful shutdown process for applications using those endpoints. By graceful shutdown I mean the flow like below:</p>\n<ol>\n<li>Shutdown endpoint servers first (i.e. reject any new connections, but await for the current connections to be finished). I.e. we need to shutdown and await for the shutdown process to be finished for the following endpoint servers: <code>gRPC</code>, <code>GraphQL</code>, <code>REST</code>.</li>\n<li>Only after step <code>1.</code> is fully finished we should trigger beans destruction methods (i.e. methods annotated with <code>@PreDestroy</code> and specified via <code>destroyMethod</code>).</li>\n</ol>\n<p>How to correctly inject specific hook which is called before all other hooks for SIGTERM signal?</p>\n<p>P.S. I assume that we might be using <code>@PreDestroy</code> incorrectly because the functionality we are looking for is <code>@PrePreDestroy</code> which sounds silly.</p>\n<p>Side note: <code>server.shutdown=graceful</code> isn't an option for us because we are using custom servers and not default embedded servers.</p>\n"},{"tags":["java","android-sqlite"],"answers":[{"comments":[{"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"score":0,"creation_date":1677303043,"post_id":75553062,"comment_id":133315547,"body_markdown":"Run the app on a different Android phone and the problem went away. So it is a device issue. The DB is not the issue. Time for a hunt.","body":"Run the app on a different Android phone and the problem went away. So it is a device issue. The DB is not the issue. Time for a hunt."},{"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"score":0,"creation_date":1677304041,"post_id":75553062,"comment_id":133315643,"body_markdown":"The main difference is the phone that does it correctly is API 31 and the one the doesn&#39;t do it correctly is API 30. The Locale settings are same for both.","body":"The main difference is the phone that does it correctly is API 31 and the one the doesn&#39;t do it correctly is API 30. The Locale settings are same for both."},{"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"score":0,"creation_date":1677545868,"post_id":75553062,"comment_id":133355523,"body_markdown":"Discovered the reason. Did not set android:allowBackup=&quot;false&quot;. So when I uninstalled, it kept the old DB in data and it used that. My app copies its DB to data upon first run. Always the little things.","body":"Discovered the reason. Did not set android:allowBackup=&quot;false&quot;. So when I uninstalled, it kept the old DB in data and it used that. My app copies its DB to data upon first run. Always the little things."},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1677549192,"post_id":75553062,"comment_id":133356038,"body_markdown":"@tridiak congrats, that would not have been the easiest thing to spot.","body":"@tridiak congrats, that would not have been the easiest thing to spot."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677284182,"creation_date":1677218112,"answer_id":75553062,"question_id":75552527,"body_markdown":"&gt; Is this a limitation of java String or SQLiteQueryBuilder/Cursor?\r\n\r\nNo, (as below)\r\n\r\n&gt; Is there a way around it or will I have to go lower level?\r\n\r\nThe device&#39;s locale or how the data is inserted would appear to be the issue (see following demo).\r\n\r\nConsider this variation on your code:-\r\n\r\n    void logValRetrieval() {\r\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n        qb.setTables(TABLE_TEST);\r\n        Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\r\n        int row_counter = 0;\r\n        while (csr.moveToNext()) {\r\n            row_counter++;\r\n            for (String c: csr.getColumnNames()) {\r\n\r\n                int idx = csr.getColumnIndex(c);\r\n                Log.d(\r\n                        &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\r\n                                + &quot;STR=&quot; + csr.getString(idx)\r\n                                + &quot;INT=&quot; + csr.getInt(idx)\r\n                                + &quot;DBL=&quot; + csr.getDouble(idx)\r\n                                + &quot;NUM=&quot; +  csr.getString(idx)\r\n                                + &quot;BLB=&quot; + csr.getBlob(idx)\r\n                                + &quot;OTH=&quot; + csr.getString(idx)\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\nAnd some invoking code:-\r\n\r\n        db = DBHelper.getInstance(this);\r\n\r\n        db.insert(&quot;The quick brown fox ....&quot;);\r\n        db.insert(&quot;Mary Anning’s Plesiosaur&quot;);\r\n        db.insert(&quot;~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-&quot;);\r\n        db.logValRetrieval();\r\n\r\nThe result output to the log being\r\n\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v1STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@98fd0f5OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v2STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@664ce8aOTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v3STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8962cfbOTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v4STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@ec7d118OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v5STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@d598771OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.853 D/ROW1: COLUMN IS v6STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8c94956OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v1STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@909dd7OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v2STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@8f4e6c4OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v3STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@e2e29adOTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v4STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@328a4e2OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v5STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@3574073OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.854 D/ROW2: COLUMN IS v6STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@dbbab30OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v1STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@e30b3a9OTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v2STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@f302d2eOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v3STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@4db70cfOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v4STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@ce84a5cOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v5STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@4b7e165OTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v6STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@215ee3aOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n\r\ni.e. No losses. Perhaps use App Inspection to view what data is stored e.g. for the above:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe full DBHelper code, in case you want to try it (if it works then the issue isn&#39;t the locale) :-\r\n\r\n    class DBHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DATABASE_NAME = &quot;test.db&quot;;\r\n        public static final int DATABASE_VERSION = 1;\r\n        public static final  String TABLE_TEST = &quot;test&quot;;\r\n        public static final String TEST_COL_V1 = &quot;v1&quot;;\r\n        public static final String TEST_COL_V2 = &quot;v2&quot;;\r\n        public static final String TEST_COL_V3 = &quot;v3&quot;;\r\n        public static final String TEST_COL_V4 = &quot;v4&quot;;\r\n        public static final String TEST_COL_V5 = &quot;v5&quot;;\r\n        public static final String TEST_COL_V6 = &quot;v6&quot;;\r\n        private static final String TEST_CRTSQL = &quot;CREATE TABLE IF NOt EXISTS &quot; + TABLE_TEST + &quot;(&quot;\r\n                + TEST_COL_V1 +&quot; TEXT &quot;\r\n                + &quot;,&quot; + TEST_COL_V2 + &quot; INTEGER &quot;\r\n                + &quot;,&quot; + TEST_COL_V3 + &quot; REAL &quot;\r\n                + &quot;,&quot; + TEST_COL_V4 + &quot; NUMERIC&quot;\r\n                + &quot;,&quot; + TEST_COL_V5 + &quot; BLOB&quot;\r\n                + &quot;,&quot; + TEST_COL_V6 + &quot; ANOTHER&quot;\r\n                + &quot;)&quot;;\r\n    \r\n        private DBHelper(Context context) {\r\n            super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n        }\r\n    \r\n        private static DBHelper instance;\r\n        public static DBHelper getInstance(Context context) {\r\n            if (instance==null) {\r\n                instance = new DBHelper(context);\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(TEST_CRTSQL);\r\n        }\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n    \r\n        }\r\n    \r\n        long insert(String val) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(TEST_COL_V1,val);\r\n            cv.put(TEST_COL_V2,val);\r\n            cv.put(TEST_COL_V3,val);\r\n            cv.put(TEST_COL_V4,val);\r\n            cv.put(TEST_COL_V5,val);\r\n            cv.put(TEST_COL_V6,val);\r\n            return this.getWritableDatabase().insert(TABLE_TEST,null,cv);\r\n        }\r\n    \r\n        void logValRetrieval() {\r\n            SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n            qb.setTables(TABLE_TEST);\r\n            Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\r\n            int row_counter = 0;\r\n            while (csr.moveToNext()) {\r\n                row_counter++;\r\n                for (String c: csr.getColumnNames()) {\r\n    \r\n                    int idx = csr.getColumnIndex(c);\r\n                    Log.d(\r\n                            &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\r\n                                    + &quot;STR=&quot; + csr.getString(idx)\r\n                                    + &quot;INT=&quot; + csr.getInt(idx)\r\n                                    + &quot;DBL=&quot; + csr.getDouble(idx)\r\n                                    + &quot;NUM=&quot; +  csr.getString(idx)\r\n                                    + &quot;BLB=&quot; + csr.getBlob(idx)\r\n                                    + &quot;OTH=&quot; + csr.getString(idx)\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NApiW.png","title":"SQLiteQueryBuilder; cursor.getString() strips accents for characters","body":"<blockquote>\n<p>Is this a limitation of java String or SQLiteQueryBuilder/Cursor?</p>\n</blockquote>\n<p>No, (as below)</p>\n<blockquote>\n<p>Is there a way around it or will I have to go lower level?</p>\n</blockquote>\n<p>The device's locale or how the data is inserted would appear to be the issue (see following demo).</p>\n<p>Consider this variation on your code:-</p>\n<pre><code>void logValRetrieval() {\n    SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n    qb.setTables(TABLE_TEST);\n    Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\n    int row_counter = 0;\n    while (csr.moveToNext()) {\n        row_counter++;\n        for (String c: csr.getColumnNames()) {\n\n            int idx = csr.getColumnIndex(c);\n            Log.d(\n                    &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\n                            + &quot;STR=&quot; + csr.getString(idx)\n                            + &quot;INT=&quot; + csr.getInt(idx)\n                            + &quot;DBL=&quot; + csr.getDouble(idx)\n                            + &quot;NUM=&quot; +  csr.getString(idx)\n                            + &quot;BLB=&quot; + csr.getBlob(idx)\n                            + &quot;OTH=&quot; + csr.getString(idx)\n            );\n        }\n    }\n}\n</code></pre>\n<p>And some invoking code:-</p>\n<pre><code>    db = DBHelper.getInstance(this);\n\n    db.insert(&quot;The quick brown fox ....&quot;);\n    db.insert(&quot;Mary Anning’s Plesiosaur&quot;);\n    db.insert(&quot;~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-&quot;);\n    db.logValRetrieval();\n</code></pre>\n<p>The result output to the log being</p>\n<pre><code>2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v1STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@98fd0f5OTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v2STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@664ce8aOTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v3STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8962cfbOTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v4STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@ec7d118OTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v5STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@d598771OTH=The quick brown fox ....\n2023-02-24 16:48:03.853 D/ROW1: COLUMN IS v6STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8c94956OTH=The quick brown fox ....\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v1STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@909dd7OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v2STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@8f4e6c4OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v3STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@e2e29adOTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v4STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@328a4e2OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v5STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@3574073OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.854 D/ROW2: COLUMN IS v6STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@dbbab30OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v1STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@e30b3a9OTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v2STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@f302d2eOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v3STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@4db70cfOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v4STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@ce84a5cOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v5STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@4b7e165OTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v6STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@215ee3aOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n</code></pre>\n<p>i.e. No losses. Perhaps use App Inspection to view what data is stored e.g. for the above:-</p>\n<p><a href=\"https://i.stack.imgur.com/NApiW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NApiW.png\" alt=\"enter image description here\" /></a></p>\n<p>The full DBHelper code, in case you want to try it (if it works then the issue isn't the locale) :-</p>\n<pre><code>class DBHelper extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = &quot;test.db&quot;;\n    public static final int DATABASE_VERSION = 1;\n    public static final  String TABLE_TEST = &quot;test&quot;;\n    public static final String TEST_COL_V1 = &quot;v1&quot;;\n    public static final String TEST_COL_V2 = &quot;v2&quot;;\n    public static final String TEST_COL_V3 = &quot;v3&quot;;\n    public static final String TEST_COL_V4 = &quot;v4&quot;;\n    public static final String TEST_COL_V5 = &quot;v5&quot;;\n    public static final String TEST_COL_V6 = &quot;v6&quot;;\n    private static final String TEST_CRTSQL = &quot;CREATE TABLE IF NOt EXISTS &quot; + TABLE_TEST + &quot;(&quot;\n            + TEST_COL_V1 +&quot; TEXT &quot;\n            + &quot;,&quot; + TEST_COL_V2 + &quot; INTEGER &quot;\n            + &quot;,&quot; + TEST_COL_V3 + &quot; REAL &quot;\n            + &quot;,&quot; + TEST_COL_V4 + &quot; NUMERIC&quot;\n            + &quot;,&quot; + TEST_COL_V5 + &quot; BLOB&quot;\n            + &quot;,&quot; + TEST_COL_V6 + &quot; ANOTHER&quot;\n            + &quot;)&quot;;\n\n    private DBHelper(Context context) {\n        super(context,DATABASE_NAME,null,DATABASE_VERSION);\n    }\n\n    private static DBHelper instance;\n    public static DBHelper getInstance(Context context) {\n        if (instance==null) {\n            instance = new DBHelper(context);\n        }\n        return instance;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(TEST_CRTSQL);\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n\n    }\n\n    long insert(String val) {\n        ContentValues cv = new ContentValues();\n        cv.put(TEST_COL_V1,val);\n        cv.put(TEST_COL_V2,val);\n        cv.put(TEST_COL_V3,val);\n        cv.put(TEST_COL_V4,val);\n        cv.put(TEST_COL_V5,val);\n        cv.put(TEST_COL_V6,val);\n        return this.getWritableDatabase().insert(TABLE_TEST,null,cv);\n    }\n\n    void logValRetrieval() {\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n        qb.setTables(TABLE_TEST);\n        Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\n        int row_counter = 0;\n        while (csr.moveToNext()) {\n            row_counter++;\n            for (String c: csr.getColumnNames()) {\n\n                int idx = csr.getColumnIndex(c);\n                Log.d(\n                        &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\n                                + &quot;STR=&quot; + csr.getString(idx)\n                                + &quot;INT=&quot; + csr.getInt(idx)\n                                + &quot;DBL=&quot; + csr.getDouble(idx)\n                                + &quot;NUM=&quot; +  csr.getString(idx)\n                                + &quot;BLB=&quot; + csr.getBlob(idx)\n                                + &quot;OTH=&quot; + csr.getString(idx)\n                );\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677284182,"creation_date":1677211566,"question_id":75552527,"body_markdown":"Problem with cursor.getString(). It strips the single quote and accented characters of their accent.&lt;br&gt;\r\nExample: Mary Anning’s Plesiosaur -&gt; Mary Annings Plesiosaur&lt;br&gt;\r\nKi Te Ao Mārama -&gt; Ki Te Ao Marama&lt;br&gt;\r\nThe strings are valid in the SQLite DB and iOS app I have reads them correctly.&lt;br&gt;\r\nIs this a limitation of java String or SQLiteQueryBuilder/Cursor?&lt;br&gt;\r\nIs there a way around it or will I have to go lower level?&lt;br&gt;\r\ngetBlob() returns ascii codes.&lt;br&gt;\r\n\r\n```\r\nSQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n\r\nqb.setTables(&quot;art&quot;);\r\ncursor = qb.query(artDB, new String[] {&quot;name&quot;}, null, null, null, null, null);\r\nif (cursor == null) { closeDatabase(); return names;}\r\nif (cursor.getCount() &gt; 0) {\r\n\tcursor.moveToFirst();\r\n\tString s;\r\n\tdo {\r\n\t\ts = cursor.getString(0);\r\n\t\tbyte[] b = cursor.getBlob(0);\r\n\t\tString r = new String(b, StandardCharsets.);\r\n\t\tnames.add(s);\r\n\t} while (cursor.moveToNext());\r\n}\r\ncursor.close();\r\n```","title":"SQLiteQueryBuilder; cursor.getString() strips accents for characters","body":"<p>Problem with cursor.getString(). It strips the single quote and accented characters of their accent.<br>\nExample: Mary Anning’s Plesiosaur -&gt; Mary Annings Plesiosaur<br>\nKi Te Ao Mārama -&gt; Ki Te Ao Marama<br>\nThe strings are valid in the SQLite DB and iOS app I have reads them correctly.<br>\nIs this a limitation of java String or SQLiteQueryBuilder/Cursor?<br>\nIs there a way around it or will I have to go lower level?<br>\ngetBlob() returns ascii codes.<br></p>\n<pre><code>SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n\nqb.setTables(&quot;art&quot;);\ncursor = qb.query(artDB, new String[] {&quot;name&quot;}, null, null, null, null, null);\nif (cursor == null) { closeDatabase(); return names;}\nif (cursor.getCount() &gt; 0) {\n    cursor.moveToFirst();\n    String s;\n    do {\n        s = cursor.getString(0);\n        byte[] b = cursor.getBlob(0);\n        String r = new String(b, StandardCharsets.);\n        names.add(s);\n    } while (cursor.moveToNext());\n}\ncursor.close();\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":6994749,"reputation":397,"user_id":5362755,"display_name":"Shivam Mohan"},"score":3,"creation_date":1580900481,"post_id":60074285,"comment_id":106247690,"body_markdown":"You can try checkstyle, failing the build will have to handled by your CI.","body":"You can try checkstyle, failing the build will have to handled by your CI."},{"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1580900586,"post_id":60074285,"comment_id":106247759,"body_markdown":"@ShivamMohan With spotless we can run the `./gradlew spotlessCheck` command either locally or on the CI to verify if the code is formatted according to the standard","body":"@ShivamMohan With spotless we can run the <code>.&#47;gradlew spotlessCheck</code> command either locally or on the CI to verify if the code is formatted according to the standard"},{"owner":{"account_id":6994749,"reputation":397,"user_id":5362755,"display_name":"Shivam Mohan"},"score":0,"creation_date":1580900919,"post_id":60074285,"comment_id":106247951,"body_markdown":"You would have the same capability with checkstyle, in you IDE as well, what I meant was you will have to define quality gates in your CI, which if violated will fail the build or report accordingly.","body":"You would have the same capability with checkstyle, in you IDE as well, what I meant was you will have to define quality gates in your CI, which if violated will fail the build or report accordingly."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677283209,"creation_date":1580904808,"answer_id":60075600,"question_id":60074285,"body_markdown":"&gt; I&#39;ve tried using Spotless, but the way it formats multiline statements is very unsatisfactory.\r\n\r\n\r\nSpotless allows you specify custom rules to fulfill your requirements: https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom\r\n\r\n[Checkstyle](https://checkstyle.org/) is another a great tool to enforce formatting. It is used by the [Spring Framework](https://github.com/spring-io/spring-javaformat) team. It also has an [excellent plugin for IntelliJ](https://plugins.jetbrains.com/plugin/1065-checkstyle-idea).\r\n\r\nSo suggestion is either:\r\n\r\n1. Try writing custom rules for Spotless to fulfill your needs.\r\n2. If (1) is not satisfactory, explore using Checkstyle with custom checks.\r\n\r\n\r\n&gt;  If code is submitted that does not conform to the rules, the build should fail.\r\n\r\nThere are a couple ways you can handle this:\r\n\r\nWhichever format plugin you use, there is a associated `check` task. So for Spotless that would be `spotlessCheck` and Checkstyle is just `check`.\r\n\r\nYou can configure the `build` task to have a [task dependency](https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:adding_dependencies_to_tasks) on those tasks.\r\n\r\nAnother way is to have a check in your pipeline that invokes which check task you configure.","title":"How can I enforce a standard style for Java code?","body":"<blockquote>\n<p>I've tried using Spotless, but the way it formats multiline statements is very unsatisfactory.</p>\n</blockquote>\n<p>Spotless allows you specify custom rules to fulfill your requirements: <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom\" rel=\"nofollow noreferrer\">https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom</a></p>\n<p><a href=\"https://checkstyle.org/\" rel=\"nofollow noreferrer\">Checkstyle</a> is another a great tool to enforce formatting. It is used by the <a href=\"https://github.com/spring-io/spring-javaformat\" rel=\"nofollow noreferrer\">Spring Framework</a> team. It also has an <a href=\"https://plugins.jetbrains.com/plugin/1065-checkstyle-idea\" rel=\"nofollow noreferrer\">excellent plugin for IntelliJ</a>.</p>\n<p>So suggestion is either:</p>\n<ol>\n<li>Try writing custom rules for Spotless to fulfill your needs.</li>\n<li>If (1) is not satisfactory, explore using Checkstyle with custom checks.</li>\n</ol>\n<blockquote>\n<p>If code is submitted that does not conform to the rules, the build should fail.</p>\n</blockquote>\n<p>There are a couple ways you can handle this:</p>\n<p>Whichever format plugin you use, there is a associated <code>check</code> task. So for Spotless that would be <code>spotlessCheck</code> and Checkstyle is just <code>check</code>.</p>\n<p>You can configure the <code>build</code> task to have a <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:adding_dependencies_to_tasks\" rel=\"nofollow noreferrer\">task dependency</a> on those tasks.</p>\n<p>Another way is to have a check in your pipeline that invokes which check task you configure.</p>\n"}],"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4332,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1677415852,"answer_count":1,"score":4,"last_activity_date":1677283209,"creation_date":1580900301,"question_id":60074285,"body_markdown":"I&#39;m trying to introduce a tool to standardise the format of our java code. The requirements are:\r\n\r\n - Required format should be the Oracle standard (or something very very similar)\r\n - Multiline statements should be respected, i.e. if the user adds linebreaks to split a statement over multiple lines in the interest of readability, these should not be removed (see above)\r\n - Gradle integration. If code is submitted that does not conform to the rules, the build should fail.\r\n - Autofixing - reformatting code to conform to the rules via a (Gradle) command\r\n - IDE integration - reformatting code to conform to the rules within IntelliJ, VSCode, etc. [EditorConfig][1] might be useful for this.\r\n\r\nI&#39;ve tried using Spotless, but the way it formats multiline statements is very unsatisfactory. For example, the following code\r\n\r\n    var token = Jwts.builder()\r\n            .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\r\n            .setHeaderParam(&quot;typ&quot;, SecurityConstants.TOKEN_TYPE)\r\n            .setIssuer(SecurityConstants.TOKEN_ISSUER)\r\n            .claim(&quot;rol&quot;, roles)\r\n            .setAudience(SecurityConstants.TOKEN_AUDIENCE)\r\n            .setSubject(user.getUsername())\r\n            .setExpiration(Timestamp.valueOf(tomorrow))\r\n            .addClaims(user.getClaims())\r\n            .compact();\r\n\r\nWill fail the Spotless checks and if ./gradlew spotlessApply is run, it will be reformatted to this hideous mess\r\n\r\n    var token = Jwts.builder().signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\r\n            .setHeaderParam(&quot;typ&quot;, SecurityConstants.TOKEN_TYPE).setIssuer(SecurityConstants.TOKEN_ISSUER)\r\n            .claim(&quot;rol&quot;, roles).setAudience(SecurityConstants.TOKEN_AUDIENCE).setSubject(user.getUsername())\r\n            .setExpiration(Timestamp.valueOf(tomorrow)).addClaims(user.getClaims()).compact();\r\n\r\nSo effectively, Spotless is behaving almost like an obfuscator. Is there a tool available that can satisfy most/all of the above requirements?\r\n\r\n\r\n  [1]: https://editorconfig.org/","title":"How can I enforce a standard style for Java code?","body":"<p>I'm trying to introduce a tool to standardise the format of our java code. The requirements are:</p>\n\n<ul>\n<li>Required format should be the Oracle standard (or something very very similar)</li>\n<li>Multiline statements should be respected, i.e. if the user adds linebreaks to split a statement over multiple lines in the interest of readability, these should not be removed (see above)</li>\n<li>Gradle integration. If code is submitted that does not conform to the rules, the build should fail.</li>\n<li>Autofixing - reformatting code to conform to the rules via a (Gradle) command</li>\n<li>IDE integration - reformatting code to conform to the rules within IntelliJ, VSCode, etc. <a href=\"https://editorconfig.org/\" rel=\"nofollow noreferrer\">EditorConfig</a> might be useful for this.</li>\n</ul>\n\n<p>I've tried using Spotless, but the way it formats multiline statements is very unsatisfactory. For example, the following code</p>\n\n<pre><code>var token = Jwts.builder()\n        .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\n        .setHeaderParam(\"typ\", SecurityConstants.TOKEN_TYPE)\n        .setIssuer(SecurityConstants.TOKEN_ISSUER)\n        .claim(\"rol\", roles)\n        .setAudience(SecurityConstants.TOKEN_AUDIENCE)\n        .setSubject(user.getUsername())\n        .setExpiration(Timestamp.valueOf(tomorrow))\n        .addClaims(user.getClaims())\n        .compact();\n</code></pre>\n\n<p>Will fail the Spotless checks and if ./gradlew spotlessApply is run, it will be reformatted to this hideous mess</p>\n\n<pre><code>var token = Jwts.builder().signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\n        .setHeaderParam(\"typ\", SecurityConstants.TOKEN_TYPE).setIssuer(SecurityConstants.TOKEN_ISSUER)\n        .claim(\"rol\", roles).setAudience(SecurityConstants.TOKEN_AUDIENCE).setSubject(user.getUsername())\n        .setExpiration(Timestamp.valueOf(tomorrow)).addClaims(user.getClaims()).compact();\n</code></pre>\n\n<p>So effectively, Spotless is behaving almost like an obfuscator. Is there a tool available that can satisfy most/all of the above requirements?</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1639648726,"post_id":70376339,"comment_id":124404696,"body_markdown":"Why are you serializing a class whose structure can merely change from version to version or can be different between different JDK/JRE implementations breaking your design completely? You have no control over it at all. Gson, by design, uses reflection for objects it is not aware of (no special type adapters registered), thus it simply iterates through all object fields regardless they are public or private. Private stuff of a foreign library is never meant to be serialized like this. Never.","body":"Why are you serializing a class whose structure can merely change from version to version or can be different between different JDK/JRE implementations breaking your design completely? You have no control over it at all. Gson, by design, uses reflection for objects it is not aware of (no special type adapters registered), thus it simply iterates through all object fields regardless they are public or private. Private stuff of a foreign library is never meant to be serialized like this. Never."},{"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"score":0,"creation_date":1639677027,"post_id":70376339,"comment_id":124416180,"body_markdown":"We have two services. When A calls B, B can throw an exception. I serialize it and pass it back to A, so A can include it as the cause of the exception it throws. It&#39;s useful for investigating crashes; I didn&#39;t realise this was such a no-no.","body":"We have two services. When A calls B, B can throw an exception. I serialize it and pass it back to A, so A can include it as the cause of the exception it throws. It&#39;s useful for investigating crashes; I didn&#39;t realise this was such a no-no."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":3,"creation_date":1639686378,"post_id":70376339,"comment_id":124419396,"body_markdown":"Yeah, I understand the purpose, but you need your own data transfer objects (DTO) to carry the exceptions data, so that your DTOs are fully controlled by you and you decide what data should be taken from exceptions that may have more private fields than I even think of (private fields, package-private or private classes, various references or circular references, etc). It will require some code to map from exes to DTOs (and then back to exes if necessary), but then you will never run into such issues using only public API of `Throwable`s.","body":"Yeah, I understand the purpose, but you need your own data transfer objects (DTO) to carry the exceptions data, so that your DTOs are fully controlled by you and you decide what data should be taken from exceptions that may have more private fields than I even think of (private fields, package-private or private classes, various references or circular references, etc). It will require some code to map from exes to DTOs (and then back to exes if necessary), but then you will never run into such issues using only public API of <code>Throwable</code>s."}],"answers":[{"tags":[],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641945322,"creation_date":1641945322,"answer_id":70674804,"question_id":70376339,"body_markdown":"Here&#39;s the code I added to de/serialize exceptions. This can be used in a class like this:\r\n\r\n```\r\npublic class Result {\r\n    public final Object result;\r\n    public final Error error;\r\n\r\n    public Result(Object result) { ... }\r\n\r\n    public Result(Exception e) {\r\n        this.result = null;\r\n        this.error = new Error(e);\r\n    }\r\n}\r\n```\r\n\r\nAnd the on the other, call `result.error.toThrowable()`.\r\n\r\n    public static class Error {\r\n        public final String message;\r\n        public final List&lt;STE&gt; stackTrace;\r\n        public final Error cause;\r\n\r\n        public Error(Throwable e) {\r\n            message = e.getMessage();\r\n            stackTrace = Arrays.stream(e.getStackTrace()).map(STE::new).collect(Collectors.toList());\r\n            cause = e.getCause() != null ? new Error(e.getCause()) : null;\r\n        }\r\n\r\n        public Throwable toThrowable() {\r\n            Throwable t = new Throwable(message);\r\n            t.setStackTrace(stackTrace.stream().map(STE::toStackTraceElement).toArray(StackTraceElement[]::new));\r\n            if (cause != null) {\r\n                t.initCause(cause.toThrowable());\r\n            }\r\n            return t;\r\n        }\r\n\r\n        private static class STE {\r\n            public final String declaringClass;\r\n            public final String methodName;\r\n            public final String fileName;\r\n            public final int    lineNumber;\r\n\r\n            public STE(StackTraceElement ste) {\r\n                this.declaringClass = ste.getClassName();\r\n                this.methodName = ste.getMethodName();\r\n                this.fileName = ste.getFileName();\r\n                this.lineNumber = ste.getLineNumber();\r\n            }\r\n\r\n            public StackTraceElement toStackTraceElement() {\r\n                return new StackTraceElement(declaringClass, methodName, fileName, lineNumber);\r\n            }\r\n        }\r\n    }\r\n","title":"GSON unable to serialize exception with Java 17","body":"<p>Here's the code I added to de/serialize exceptions. This can be used in a class like this:</p>\n<pre><code>public class Result {\n    public final Object result;\n    public final Error error;\n\n    public Result(Object result) { ... }\n\n    public Result(Exception e) {\n        this.result = null;\n        this.error = new Error(e);\n    }\n}\n</code></pre>\n<p>And the on the other, call <code>result.error.toThrowable()</code>.</p>\n<pre><code>public static class Error {\n    public final String message;\n    public final List&lt;STE&gt; stackTrace;\n    public final Error cause;\n\n    public Error(Throwable e) {\n        message = e.getMessage();\n        stackTrace = Arrays.stream(e.getStackTrace()).map(STE::new).collect(Collectors.toList());\n        cause = e.getCause() != null ? new Error(e.getCause()) : null;\n    }\n\n    public Throwable toThrowable() {\n        Throwable t = new Throwable(message);\n        t.setStackTrace(stackTrace.stream().map(STE::toStackTraceElement).toArray(StackTraceElement[]::new));\n        if (cause != null) {\n            t.initCause(cause.toThrowable());\n        }\n        return t;\n    }\n\n    private static class STE {\n        public final String declaringClass;\n        public final String methodName;\n        public final String fileName;\n        public final int    lineNumber;\n\n        public STE(StackTraceElement ste) {\n            this.declaringClass = ste.getClassName();\n            this.methodName = ste.getMethodName();\n            this.fileName = ste.getFileName();\n            this.lineNumber = ste.getLineNumber();\n        }\n\n        public StackTraceElement toStackTraceElement() {\n            return new StackTraceElement(declaringClass, methodName, fileName, lineNumber);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3895909,"reputation":151,"user_id":3224962,"display_name":"Matt McEwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644207792,"creation_date":1644207792,"answer_id":71013464,"question_id":70376339,"body_markdown":"I had this yesterday. I was using Java 17. I went back to Java 11 and it worked fine.\r\n\r\nI think it&#39;s because of this: https://bugs.openjdk.java.net/browse/JDK-8256358\r\n\r\nI am lazy and using the GSON default reflection type adapter.\r\n\r\nYou have to implement your own TypeAdapter to fix it. Or perhaps use another JSON deserializer like Jackson, which I might do later.\r\n","title":"GSON unable to serialize exception with Java 17","body":"<p>I had this yesterday. I was using Java 17. I went back to Java 11 and it worked fine.</p>\n<p>I think it's because of this: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8256358\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8256358</a></p>\n<p>I am lazy and using the GSON default reflection type adapter.</p>\n<p>You have to implement your own TypeAdapter to fix it. Or perhaps use another JSON deserializer like Jackson, which I might do later.</p>\n"},{"comments":[{"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"score":0,"creation_date":1677283219,"post_id":75306118,"comment_id":133313870,"body_markdown":"that didn&#39;t help with the issue","body":"that didn&#39;t help with the issue"}],"tags":[],"owner":{"account_id":10755509,"reputation":362,"user_id":7913588,"display_name":"Chameera W. Ashan"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1675230540,"creation_date":1675230540,"answer_id":75306118,"question_id":70376339,"body_markdown":"Try with the latest release. \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[https://mvnrepository.com/artifact/com.google.code.gson/gson][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson","title":"GSON unable to serialize exception with Java 17","body":"<p>Try with the latest release.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.code.gson/gson</a></p>\n"}],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9203,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":70674804,"answer_count":3,"score":8,"last_activity_date":1677283179,"creation_date":1639645449,"question_id":70376339,"body_markdown":"The following code used to work on Java 11:\r\n\r\n```\r\nnew Gson().toJson(new Exception())\r\n```\r\n\r\nOn JDK 17 I get the following error:\r\n\r\n```\r\nUnable to make field private java.lang.String java.lang.Throwable.detailMessage accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @147ed70f\r\n```\r\n\r\nFrom reading [this page][1], I think I could resolve it with `--add-opens java.base/java.lang=ALL-UNNAMED`. Is there a better way however? Perhaps with a custom de/serializer? \r\n\r\n\r\n  [1]: https://github.com/google/gson/issues/1875","title":"GSON unable to serialize exception with Java 17","body":"<p>The following code used to work on Java 11:</p>\n<pre><code>new Gson().toJson(new Exception())\n</code></pre>\n<p>On JDK 17 I get the following error:</p>\n<pre><code>Unable to make field private java.lang.String java.lang.Throwable.detailMessage accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @147ed70f\n</code></pre>\n<p>From reading <a href=\"https://github.com/google/gson/issues/1875\" rel=\"noreferrer\">this page</a>, I think I could resolve it with <code>--add-opens java.base/java.lang=ALL-UNNAMED</code>. Is there a better way however? Perhaps with a custom de/serializer?</p>\n"},{"tags":["java","android","bitmap","android-bitmap","android-graphics"],"owner":{"account_id":19598741,"reputation":1,"user_id":20757377,"display_name":"Yaroslav Zhuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677282106,"creation_date":1677282086,"question_id":75562352,"body_markdown":"How can I cut out a part of the bitmap, leaving its remnants in the original bitmap so I can lately use it for RenderEffect without rendering part I cut earlier? I tried to use canvas.clipRect() and canvas.clipOutRect() either after or before drawing rootView to Canvas. Unfortunaately it didn`t help","title":"Cutting out a part of Bitmap","body":"<p>How can I cut out a part of the bitmap, leaving its remnants in the original bitmap so I can lately use it for RenderEffect without rendering part I cut earlier? I tried to use canvas.clipRect() and canvas.clipOutRect() either after or before drawing rootView to Canvas. Unfortunaately it didn`t help</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677281807,"creation_date":1677281807,"answer_id":75562326,"question_id":75562282,"body_markdown":"If you want that constellation then your discriminator (`discr`) **MUST** be part of the ID `MyClassPK`.","title":"Duplicate identifier when trying to update objects in classes mapped using @DiscriminatorColumn / @DiscriminatorValue","body":"<p>If you want that constellation then your discriminator (<code>discr</code>) <strong>MUST</strong> be part of the ID <code>MyClassPK</code>.</p>\n"}],"owner":{"account_id":1408759,"reputation":11681,"user_id":1335801,"accept_rate":50,"display_name":"QuickFix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75562326,"answer_count":1,"score":0,"last_activity_date":1677281807,"creation_date":1677281319,"question_id":75562282,"body_markdown":"We have an application that uses spring and hibernate 5.2\r\n\r\nWe have a class MyAbstractClass :\r\n\r\n    @Entity\r\n    @Table(name = &quot;MYTABLE&quot;)\r\n    @DiscriminatorColumn(name = &quot;DISCR&quot;, discriminatorType = DiscriminatorType.STRING)\r\n    public abstract class MyAbstractClass extends PersistentEntity {\r\n    \r\n        @EmbeddedId\r\n        private MyClassPK myClassPK;\r\n    \r\n        @Column(name = &quot;label&quot;)\r\n        private String        label;\r\n    }\r\n\r\na class myClassPK\r\n\r\n    @Embeddable MyClassPK :\r\n    public class MyClassPK implements Serializable {\r\n    \r\n        @Column(name = &quot;key1&quot;)\r\n        @NotNull\r\n        private String key1;\r\n    \r\n        @Column(name = &quot;key2&quot;)\r\n        @NotNull\r\n        private String key2;\r\n    }\r\n\r\na class FirstChild\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;DI1&quot;)\r\n    @DiscriminatorOptions(force = true)\r\n    public class FirstChild extends MyAbstractClass {\r\n    }\r\n\r\nand a class SecondChild :\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;DI2&quot;)\r\n    @DiscriminatorOptions(force = true)\r\n    public class SecondChild extends MyAbstractClass {\r\n    }\r\n\r\nWe have a problem if we have two objects FirstChild a and SecondChild b having the same values for key1 and key2 : \r\nwe have a Duplicate identifier when we try to update one of them.\r\n\r\nIn database this would look like this :\r\n\r\n    key1|key2|discr |label     |\r\n    ----+----+------+----------+\r\n     A  | B  | DI1  |label 1   |\r\n     A  | B  | DI2  |label 2   |\r\n\r\n \r\nwhen we load an element, the generated query correctly refers the discriminator column but the discriminator column is missing in the update query :\r\n\r\n    update MYTABLE set LABEL=? where KEY1=? and KEY2=?\r\n\r\nWe beleive a correct query would be :\r\n\r\n    update MYTABLE set LABEL=? where KEY1=? and KEY2=? and DISCR=&#39;DI1&#39;\r\n\r\nWe&#39;ve read that hibernate only adds the modified columns to the update query but then how can we manage to update our objects without getting duplicate identifier exception?\r\n\r\n","title":"Duplicate identifier when trying to update objects in classes mapped using @DiscriminatorColumn / @DiscriminatorValue","body":"<p>We have an application that uses spring and hibernate 5.2</p>\n<p>We have a class MyAbstractClass :</p>\n<pre><code>@Entity\n@Table(name = &quot;MYTABLE&quot;)\n@DiscriminatorColumn(name = &quot;DISCR&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class MyAbstractClass extends PersistentEntity {\n\n    @EmbeddedId\n    private MyClassPK myClassPK;\n\n    @Column(name = &quot;label&quot;)\n    private String        label;\n}\n</code></pre>\n<p>a class myClassPK</p>\n<pre><code>@Embeddable MyClassPK :\npublic class MyClassPK implements Serializable {\n\n    @Column(name = &quot;key1&quot;)\n    @NotNull\n    private String key1;\n\n    @Column(name = &quot;key2&quot;)\n    @NotNull\n    private String key2;\n}\n</code></pre>\n<p>a class FirstChild</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;DI1&quot;)\n@DiscriminatorOptions(force = true)\npublic class FirstChild extends MyAbstractClass {\n}\n</code></pre>\n<p>and a class SecondChild :</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;DI2&quot;)\n@DiscriminatorOptions(force = true)\npublic class SecondChild extends MyAbstractClass {\n}\n</code></pre>\n<p>We have a problem if we have two objects FirstChild a and SecondChild b having the same values for key1 and key2 :\nwe have a Duplicate identifier when we try to update one of them.</p>\n<p>In database this would look like this :</p>\n<pre><code>key1|key2|discr |label     |\n----+----+------+----------+\n A  | B  | DI1  |label 1   |\n A  | B  | DI2  |label 2   |\n</code></pre>\n<p>when we load an element, the generated query correctly refers the discriminator column but the discriminator column is missing in the update query :</p>\n<pre><code>update MYTABLE set LABEL=? where KEY1=? and KEY2=?\n</code></pre>\n<p>We beleive a correct query would be :</p>\n<pre><code>update MYTABLE set LABEL=? where KEY1=? and KEY2=? and DISCR='DI1'\n</code></pre>\n<p>We've read that hibernate only adds the modified columns to the update query but then how can we manage to update our objects without getting duplicate identifier exception?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677282715,"post_id":75562247,"comment_id":133313797,"body_markdown":"I clicked the debug app (bug) icon. It seems to have stopped on the breakpoint, there is a blue line across it, but I dont see any step over or step into controls. There is no option to `step` in `Run` menu or anywhere else. I can step over with F8 or into with F7, but how do I continue to run to the next breakpoint?","body":"I clicked the debug app (bug) icon. It seems to have stopped on the breakpoint, there is a blue line across it, but I dont see any step over or step into controls. There is no option to <code>step</code> in <code>Run</code> menu or anywhere else. I can step over with F8 or into with F7, but how do I continue to run to the next breakpoint?"},{"owner":{"account_id":19402622,"reputation":119,"user_id":14188847,"display_name":"JustMe"},"score":0,"creation_date":1677316834,"post_id":75562247,"comment_id":133316881,"body_markdown":"When the Debugger is attached, a window should pop up with debug Info (from the bottom) and it has a column of buttons on the left. If you hover over them you can see what they do. The button to continue looks like half a pause and half a play button i believe (tho i am not sure atm) ⏏️ similar to this emoji just turned 90 deg","body":"When the Debugger is attached, a window should pop up with debug Info (from the bottom) and it has a column of buttons on the left. If you hover over them you can see what they do. The button to continue looks like half a pause and half a play button i believe (tho i am not sure atm) ⏏️ similar to this emoji just turned 90 deg"}],"tags":[],"owner":{"account_id":19402622,"reputation":119,"user_id":14188847,"display_name":"JustMe"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677280939,"creation_date":1677280939,"answer_id":75562247,"question_id":75561929,"body_markdown":"You have launched your app without the Debugger attached. To launch with debugger hit the green bug icon next to the run icon while the app is stopped. Then a debugger will attach and you can use breakpoints!\r\n&lt;br/&gt;Docs/Reference: https://developer.android.com/studio/debug#startdebug","title":"Android studio not hitting breakpoints on emulator","body":"<p>You have launched your app without the Debugger attached. To launch with debugger hit the green bug icon next to the run icon while the app is stopped. Then a debugger will attach and you can use breakpoints!\n<br/>Docs/Reference: <a href=\"https://developer.android.com/studio/debug#startdebug\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/debug#startdebug</a></p>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75562247,"answer_count":1,"score":0,"last_activity_date":1677280939,"creation_date":1677277780,"question_id":75561929,"body_markdown":"I started with a clean installation and an Empty Activity with Java code\r\n\r\nI am following this tutorial \r\n\r\nhttps://medium.com/android-news/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c\r\n\r\nAs you can see, the breakpoint is never activated when running the application\r\n\r\nWhat is going on and how can I fix it? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kTF8G.png","title":"Android studio not hitting breakpoints on emulator","body":"<p>I started with a clean installation and an Empty Activity with Java code</p>\n<p>I am following this tutorial</p>\n<p><a href=\"https://medium.com/android-news/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c\" rel=\"nofollow noreferrer\">https://medium.com/android-news/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c</a></p>\n<p>As you can see, the breakpoint is never activated when running the application</p>\n<p>What is going on and how can I fix it?</p>\n<p><a href=\"https://i.stack.imgur.com/kTF8G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kTF8G.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sql","hibernate","hql"],"answers":[{"comments":[{"owner":{"account_id":5839721,"reputation":133,"user_id":5037699,"display_name":"beechovsky"},"score":1,"creation_date":1677267025,"post_id":15068674,"comment_id":133310760,"body_markdown":"Good answer, but I think `orders` in your `SELECT` should be `order`, the alias.","body":"Good answer, but I think <code>orders</code> in your <code>SELECT</code> should be <code>order</code>, the alias."},{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":0,"creation_date":1677279960,"post_id":15068674,"comment_id":133313368,"body_markdown":"@beechovsky Ah, ty, finally spotted where that nasty bug was coming from, it has been bothering me  exactly for 10 years :)","body":"@beechovsky Ah, ty, finally spotted where that nasty bug was coming from, it has been bothering me  exactly for 10 years :)"}],"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1677280093,"creation_date":1361800694,"answer_id":15068674,"question_id":15068597,"body_markdown":"Joins in HQL have a slightly different syntax. \r\n\r\nIf you&#39;ve already got those associations mapped with Hibernate, the join conditions (which `id` fields to do the join on) are usually handled by Hibernate itself (which already has that information defined in the mapping), so you only need to specify which attribute the association is mapped with, and do the join on it:  \r\n\r\n    SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price \r\n    FROM Orders orders\r\n    INNER JOIN orders.orderProcessing as op\r\n    INNER JOIN orders.product as product \r\n    ORDER BY op.username\r\n\r\nIn the case you haven&#39;t got those associations mapped, you should probably use a cross join like syntax, and specify the join conditions in the `WHERE` clause. Please note this could have a negative impact on efficiency depending on your schema structure and DBMS.\r\n\r\n    SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price\r\n    FROM Orders orders, OrderProcessing op, Product product\r\n    WHERE op.u_id = orders.u_id AND product.p_id = orders.p_id\r\n    ORDER BY op.username\r\n\r\nYou can find more information on HQL joins in the [14.3. Associations and joins](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins) section of the Hibernate reference.","title":"Inner Joins Query in HQL","body":"<p>Joins in HQL have a slightly different syntax.</p>\n<p>If you've already got those associations mapped with Hibernate, the join conditions (which <code>id</code> fields to do the join on) are usually handled by Hibernate itself (which already has that information defined in the mapping), so you only need to specify which attribute the association is mapped with, and do the join on it:</p>\n<pre><code>SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price \nFROM Orders orders\nINNER JOIN orders.orderProcessing as op\nINNER JOIN orders.product as product \nORDER BY op.username\n</code></pre>\n<p>In the case you haven't got those associations mapped, you should probably use a cross join like syntax, and specify the join conditions in the <code>WHERE</code> clause. Please note this could have a negative impact on efficiency depending on your schema structure and DBMS.</p>\n<pre><code>SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price\nFROM Orders orders, OrderProcessing op, Product product\nWHERE op.u_id = orders.u_id AND product.p_id = orders.p_id\nORDER BY op.username\n</code></pre>\n<p>You can find more information on HQL joins in the <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins\" rel=\"nofollow noreferrer\">14.3. Associations and joins</a> section of the Hibernate reference.</p>\n"},{"comments":[{"owner":{"display_name":"user1395824"},"score":0,"creation_date":1361802313,"post_id":15068734,"comment_id":21190260,"body_markdown":"It&#39;s still not working.\n\nSELECT op.username, op.email, orders.p_id, orders.o_id&quot; +\n\t\t\t\t\t  &quot;FROM Orders order&quot; +\n\t\t\t\t\t  &quot;INNER JOIN order.orderProcessing as op &quot; +\n\t\t\t\t\t  &quot;INNER JOIN order.product as product&quot; +\n\t\t\t\t\t  &quot;Where product.p_id=&quot;+p_id+\n\t\t\t\t\t   &quot;ORDER BY op.username","body":"It&#39;s still not working.  SELECT op.username, op.email, orders.p_id, orders.o_id&quot; + \t\t\t\t\t  &quot;FROM Orders order&quot; + \t\t\t\t\t  &quot;INNER JOIN order.orderProcessing as op &quot; + \t\t\t\t\t  &quot;INNER JOIN order.product as product&quot; + \t\t\t\t\t  &quot;Where product.p_id=&quot;+p_id+ \t\t\t\t\t   &quot;ORDER BY op.username"},{"owner":{"account_id":2328991,"reputation":1618,"user_id":2042841,"display_name":"Grim"},"score":0,"creation_date":1361802583,"post_id":15068734,"comment_id":21190432,"body_markdown":"If that string concatenation is taken straight from the code you&#39;re using you&#39;re missing a number of spaces - before and after _from Orders order_, before the _where_ and the _order by_ clause. If that&#39;s not the problem, you might need to post the error you&#39;re getting before someone can figure out what&#39;s happening (and if possible the mapping/structure of your business objects)","body":"If that string concatenation is taken straight from the code you&#39;re using you&#39;re missing a number of spaces - before and after <i>from Orders order</i>, before the <i>where</i> and the <i>order by</i> clause. If that&#39;s not the problem, you might need to post the error you&#39;re getting before someone can figure out what&#39;s happening (and if possible the mapping/structure of your business objects)"},{"owner":{"display_name":"user1395824"},"score":0,"creation_date":1361802880,"post_id":15068734,"comment_id":21190626,"body_markdown":"org.hibernate.hql.ast.QuerySyntaxError: unexpected token: Orders near line 1, column 60 [SELECT op.username, op.email, orders.p_id, orders.o_idFROM Orders orderINNER JOIN order.orderProcessing as op INNER JOIN order.product as productWhere product.p_id=208ORDER BY op.username]","body":"org.hibernate.hql.ast.QuerySyntaxError: unexpected token: Orders near line 1, column 60 [SELECT op.username, op.email, orders.p_id, orders.o_idFROM Orders orderINNER JOIN order.orderProcessing as op INNER JOIN order.product as productWhere product.p_id=208ORDER BY op.username]"},{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":0,"creation_date":1361804868,"post_id":15068734,"comment_id":21191854,"body_markdown":"The error is clearly stating that you have `orders.p_id` in the `SELECT` clause. You&#39;ve got to use the same alias you gave in the `FROM` clause, `order`. `SELECT ..., order.p_id, order.o_id`.","body":"The error is clearly stating that you have <code>orders.p_id</code> in the <code>SELECT</code> clause. You&#39;ve got to use the same alias you gave in the <code>FROM</code> clause, <code>order</code>. <code>SELECT ..., order.p_id, order.o_id</code>."},{"owner":{"account_id":2328991,"reputation":1618,"user_id":2042841,"display_name":"Grim"},"score":0,"creation_date":1361805737,"post_id":15068734,"comment_id":21192340,"body_markdown":"@DevSingh like i pointed out previously, there are many spaces missing - before &#39;FROM&#39; and before the first &#39;INNER JOIN&#39;, before &#39;Where&#39; and before &#39;ORDER BY&#39;. Also, see _Mr Spoon_ answer below since both of its notes are true as well (_order_ can not be used as alias - my mistake here for letting it slip in my answer - and you&#39;re not going to get back an Orders list, but some scalar values).","body":"@DevSingh like i pointed out previously, there are many spaces missing - before &#39;FROM&#39; and before the first &#39;INNER JOIN&#39;, before &#39;Where&#39; and before &#39;ORDER BY&#39;. Also, see <i>Mr Spoon</i> answer below since both of its notes are true as well (<i>order</i> can not be used as alias - my mistake here for letting it slip in my answer - and you&#39;re not going to get back an Orders list, but some scalar values)."},{"owner":{"display_name":"user1395824"},"score":0,"creation_date":1361808469,"post_id":15068734,"comment_id":21193860,"body_markdown":"@Grim :\nSELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;FROM Orders  orders &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;INNER JOIN OrderProcessing op ON op.u_id = orders.u_id &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;INNER JOIN Product product ON product.p_id = orders.p_id WHERE product.p_id = &#39;&quot;+p_id + &quot;&#39; &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;ORDER BY op.username","body":"@Grim : SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;FROM Orders  orders &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;INNER JOIN OrderProcessing op ON op.u_id = orders.u_id &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;INNER JOIN Product product ON product.p_id = orders.p_id WHERE product.p_id = &#39;&quot;+p_id + &quot;&#39; &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;ORDER BY op.username"},{"owner":{"account_id":2328991,"reputation":1618,"user_id":2042841,"display_name":"Grim"},"score":0,"creation_date":1361811243,"post_id":15068734,"comment_id":21195450,"body_markdown":"The spaces seem right - change back to joins to the form you used above (&#39;INNER JOIN orders.orderProcessing as op&#39; and likewise for Product)","body":"The spaces seem right - change back to joins to the form you used above (&#39;INNER JOIN orders.orderProcessing as op&#39; and likewise for Product)"},{"owner":{"display_name":"user1395824"},"score":0,"creation_date":1361855774,"post_id":15068734,"comment_id":21212146,"body_markdown":"@Grim \nSELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;FROM Orders  orders &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;INNER JOIN orders.OrderProcessing as op &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    &quot;ON op.u_id = orders.u_id &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;INNER JOIN orders.Product as product &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    &quot;ON product.p_id = orders.p_id &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;WHERE product.p_id = &#39;&quot;+p_id +&quot;&#39; &quot; +\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;ORDER BY op.username","body":"@Grim  SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;FROM Orders  orders &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;INNER JOIN orders.OrderProcessing as op &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    &quot;ON op.u_id = orders.u_id &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;INNER JOIN orders.Product as product &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    &quot;ON product.p_id = orders.p_id &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;WHERE product.p_id = &#39;&quot;+p_id +&quot;&#39; &quot; +     \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &quot;ORDER BY op.username"}],"tags":[],"owner":{"account_id":2328991,"reputation":1618,"user_id":2042841,"display_name":"Grim"},"comment_count":8,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1387458798,"creation_date":1361800842,"answer_id":15068734,"question_id":15068597,"body_markdown":"Joins in HQL do not work like in SQL. You can either join on an association:\r\n\r\n    select order_1.code, item.code, item.quantity \r\n     from Order order_1 inner join order_1.item item;\r\n\r\nor use a multi-table select:\r\n\r\n    select order_1.code, item.code, item.quantity \r\n     from Order order_1, Item item where item.order=order_1;\r\n\r\neither syntax has advantages and disadvantages, so you should choose depending on situation.\r\n\r\nIt is worth noting that there is also an *implicit* notation, which might make unnecessary to use the join at all:\r\n\r\n    select item.order.code, item.code, item.quantity from Item item;\r\n\r\n","title":"Inner Joins Query in HQL","body":"<p>Joins in HQL do not work like in SQL. You can either join on an association:</p>\n\n<pre><code>select order_1.code, item.code, item.quantity \n from Order order_1 inner join order_1.item item;\n</code></pre>\n\n<p>or use a multi-table select:</p>\n\n<pre><code>select order_1.code, item.code, item.quantity \n from Order order_1, Item item where item.order=order_1;\n</code></pre>\n\n<p>either syntax has advantages and disadvantages, so you should choose depending on situation.</p>\n\n<p>It is worth noting that there is also an <em>implicit</em> notation, which might make unnecessary to use the join at all:</p>\n\n<pre><code>select item.order.code, item.code, item.quantity from Item item;\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user1395824"},"score":0,"creation_date":1361857327,"post_id":15070171,"comment_id":21212590,"body_markdown":"I&#39;m getting an error: org.hibernate.hql.ast.QuerySyntaxError: unexpected token: ON near line 1, column 148 [SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price FROM com.model.Orders  orders INNER JOIN orders.OrderProcessing as op ON op.u_id = orders.u_id INNER JOIN orders.Product as product ON product.p_id = orders.p_id WHERE product.p_id = &#39;208&#39; ORDER BY op.username]","body":"I&#39;m getting an error: org.hibernate.hql.ast.QuerySyntaxError: unexpected token: ON near line 1, column 148 [SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price FROM com.model.Orders  orders INNER JOIN orders.OrderProcessing as op ON op.u_id = orders.u_id INNER JOIN orders.Product as product ON product.p_id = orders.p_id WHERE product.p_id = &#39;208&#39; ORDER BY op.username]"}],"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361805287,"creation_date":1361805287,"answer_id":15070171,"question_id":15068597,"body_markdown":"I suspect it is because `order` is a reserved word (as in `order by`). Try doing `FROM Orders o` instead.\r\n\r\nI think you&#39;ll have other problems too though.\r\n\r\nLook at what you are selecting (a bunch of random column values), and what you are expecting Hibernate to return you (`List&lt;Orders&gt;`). \r\n\r\nI expect you won&#39;t get back `List&lt;Orders&gt;` because the structure of your query will force hibernate into `SQL` mode instead of `HQL`. In this mode, you&#39;ll just get back a `List&lt;Object[]&gt;` where each `Object[]` is a set of those four columns you are selecting.\r\n\r\nThis link explains what you can expect to get back with different queries:\r\n\r\nhttp://www.laliluna.de/jpa-hibernate-guide/ch11s02.html\r\n","title":"Inner Joins Query in HQL","body":"<p>I suspect it is because <code>order</code> is a reserved word (as in <code>order by</code>). Try doing <code>FROM Orders o</code> instead.</p>\n\n<p>I think you'll have other problems too though.</p>\n\n<p>Look at what you are selecting (a bunch of random column values), and what you are expecting Hibernate to return you (<code>List&lt;Orders&gt;</code>). </p>\n\n<p>I expect you won't get back <code>List&lt;Orders&gt;</code> because the structure of your query will force hibernate into <code>SQL</code> mode instead of <code>HQL</code>. In this mode, you'll just get back a <code>List&lt;Object[]&gt;</code> where each <code>Object[]</code> is a set of those four columns you are selecting.</p>\n\n<p>This link explains what you can expect to get back with different queries:</p>\n\n<p><a href=\"http://www.laliluna.de/jpa-hibernate-guide/ch11s02.html\" rel=\"nofollow\">http://www.laliluna.de/jpa-hibernate-guide/ch11s02.html</a></p>\n"},{"tags":[],"owner":{"account_id":8875336,"reputation":44,"user_id":6627676,"display_name":"Mohamed Eldefrawy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091405,"creation_date":1666091405,"answer_id":74109990,"question_id":15068597,"body_markdown":"I suggest using **Referencing Associated Entities**.\r\n\r\nIn SQL, you will often join tables together to search for results by related Entities. In JPQL, you can reference the value of associated Entities by accessing them directly as Entity attributes in the query.\r\n\r\n```\r\nprivate static final String FIND_ORDERS_WITH_PRODUCTS =\r\n       &quot;from Order o &quot; +\r\n       &quot;where :product member of o.products&quot;;\r\n```\r\n**Note that** Order is the entity class and products is the associated list.\r\n\r\nthen you can use it in your method like that:\r\n```\r\n\r\nList&lt;Order&gt; findOrders(Outfit o){\r\n   TypedQuery&lt;Order&gt; query = entityManager.createQuery(FIND_ORDERS_WITH_PRODUCTS, Order.class);\r\n   query.setParameter(&quot;outfit&quot;, o);\r\n   return query.getResultList();\r\n}\r\n```\r\n\r\n","title":"Inner Joins Query in HQL","body":"<p>I suggest using <strong>Referencing Associated Entities</strong>.</p>\n<p>In SQL, you will often join tables together to search for results by related Entities. In JPQL, you can reference the value of associated Entities by accessing them directly as Entity attributes in the query.</p>\n<pre><code>private static final String FIND_ORDERS_WITH_PRODUCTS =\n       &quot;from Order o &quot; +\n       &quot;where :product member of o.products&quot;;\n</code></pre>\n<p><strong>Note that</strong> Order is the entity class and products is the associated list.</p>\n<p>then you can use it in your method like that:</p>\n<pre><code>\nList&lt;Order&gt; findOrders(Outfit o){\n   TypedQuery&lt;Order&gt; query = entityManager.createQuery(FIND_ORDERS_WITH_PRODUCTS, Order.class);\n   query.setParameter(&quot;outfit&quot;, o);\n   return query.getResultList();\n}\n</code></pre>\n"}],"owner":{"display_name":"user1395824"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97310,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":4,"score":20,"last_activity_date":1677280093,"creation_date":1361800489,"question_id":15068597,"body_markdown":"I&#39;m unable to execute HQL for Inner Joins, Query is executing correct at sql but not in HQL.\r\nI don&#39;t know where i&#39;m missing. Your help is appreciable.\r\n\r\n     ***Error***: org.hibernate.hql.ast.QuerySyntaxError: unexpected token: ON near line 1, column 148 [SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price FROM com.model.Orders  orders INNER JOIN orders.OrderProcessing as op ON op.u_id = orders.u_id INNER JOIN orders.Product as product ON product.p_id = orders.p_id WHERE product.p_id = &#39;208&#39; ORDER BY op.username]\r\n\r\n    productList = (List&lt;Orders&gt;) session.createQuery(\r\n     &quot;SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price &quot; +  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \r\n     &quot;FROM Orders orders &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n     &quot;INNER JOIN orders.OrderProcessing as op &quot; +    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \r\n     &quot;ON op.u_id = orders.u_id &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n     &quot;INNER JOIN orders.Product as product &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \r\n     &quot;ON product.p_id = orders.p_id &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n     &quot;WHERE product.p_id = &#39;&quot;+p_id +&quot;&#39; &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n     &quot;ORDER BY op.username&quot;\r\n    ).list();","title":"Inner Joins Query in HQL","body":"<p>I'm unable to execute HQL for Inner Joins, Query is executing correct at sql but not in HQL.\nI don't know where i'm missing. Your help is appreciable.</p>\n\n<pre><code> ***Error***: org.hibernate.hql.ast.QuerySyntaxError: unexpected token: ON near line 1, column 148 [SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price FROM com.model.Orders  orders INNER JOIN orders.OrderProcessing as op ON op.u_id = orders.u_id INNER JOIN orders.Product as product ON product.p_id = orders.p_id WHERE product.p_id = '208' ORDER BY op.username]\n\nproductList = (List&lt;Orders&gt;) session.createQuery(\n \"SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price \" +                                                                               \n \"FROM Orders orders \" +                                                                   \n \"INNER JOIN orders.OrderProcessing as op \" +                                                                                       \n \"ON op.u_id = orders.u_id \" +                                                         \n \"INNER JOIN orders.Product as product \" +                                                              \n \"ON product.p_id = orders.p_id \" +                                                        \n \"WHERE product.p_id = '\"+p_id +\"' \" +                                                         \n \"ORDER BY op.username\"\n).list();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1608027807,"post_id":65303815,"comment_id":115450161,"body_markdown":"this will help https://stackoverflow.com/questions/57971278/connection-pool-size-with-postgres-r2dbc-pool","body":"this will help <a href=\"https://stackoverflow.com/questions/57971278/connection-pool-size-with-postgres-r2dbc-pool\" title=\"connection pool size with postgres r2dbc pool\">stackoverflow.com/questions/57971278/&hellip;</a>"},{"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"score":0,"creation_date":1608028965,"post_id":65303815,"comment_id":115450652,"body_markdown":"Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;Database&#39; after 10 queries","body":"Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;Database&#39; after 10 queries"},{"owner":{"account_id":3390279,"reputation":561,"user_id":2845245,"accept_rate":50,"display_name":"Karthik VU"},"score":0,"creation_date":1608031176,"post_id":65303815,"comment_id":115451614,"body_markdown":"Does this answer your question? [Connection pool size with postgres r2dbc-pool](https://stackoverflow.com/questions/57971278/connection-pool-size-with-postgres-r2dbc-pool)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57971278/connection-pool-size-with-postgres-r2dbc-pool\">Connection pool size with postgres r2dbc-pool</a>"},{"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"score":0,"creation_date":1608031801,"post_id":65303815,"comment_id":115451888,"body_markdown":"Did not help: following error: Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;Database&#39; after 10 queries","body":"Did not help: following error: Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;Database&#39; after 10 queries"},{"owner":{"account_id":20105829,"reputation":1074,"user_id":14743390,"display_name":"Zinc"},"score":0,"creation_date":1608051146,"post_id":65303815,"comment_id":115461527,"body_markdown":"can you show your configuration ? the error tells that the host of connection is invalid","body":"can you show your configuration ? the error tells that the host of connection is invalid"},{"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"score":0,"creation_date":1608105361,"post_id":65303815,"comment_id":115477766,"body_markdown":"I edited. Connected with the same configuration to jdbc and it worked","body":"I edited. Connected with the same configuration to jdbc and it worked"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608123194,"post_id":65303815,"comment_id":115485459,"body_markdown":"You are using Spring BOot, use that to configure R2DBC instead of manually providing a bean. Does it happen all the time or after a period of time? Looks like a connection leak to me.","body":"You are using Spring BOot, use that to configure R2DBC instead of manually providing a bean. Does it happen all the time or after a period of time? Looks like a connection leak to me."},{"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"score":0,"creation_date":1608125073,"post_id":65303815,"comment_id":115486290,"body_markdown":"So bassicly in my organisation i needed to configured another instance. Do you know guys if i can use R2DBC to read from database reactively when there is an insert in it?","body":"So bassicly in my organisation i needed to configured another instance. Do you know guys if i can use R2DBC to read from database reactively when there is an insert in it?"},{"owner":{"account_id":7321444,"reputation":68,"user_id":5577347,"display_name":"SeanFranklin"},"score":2,"creation_date":1611282631,"post_id":65303815,"comment_id":116407449,"body_markdown":"Any luck figuring this out? I am hitting the a very similar issue where it works with JDBC, but not with R2DBC using the exact same connection info. Although I am getting a connection timed out instead of a UnknownHostException","body":"Any luck figuring this out? I am hitting the a very similar issue where it works with JDBC, but not with R2DBC using the exact same connection info. Although I am getting a connection timed out instead of a UnknownHostException"}],"answers":[{"tags":[],"owner":{"account_id":16563569,"reputation":1,"user_id":12869909,"display_name":"Александр Мишин"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649929863,"creation_date":1649929863,"answer_id":71869661,"question_id":65303815,"body_markdown":"Do you use absolutely the same configuration?\r\nBecause if you are starting using R2DBC you should replace database URL: jdbc:postgresql://... -&gt; r2dbc:postgresql://","title":"Failed to obtain R2DBC Connection Java Spring","body":"<p>Do you use absolutely the same configuration?\nBecause if you are starting using R2DBC you should replace database URL: jdbc:postgresql://... -&gt; r2dbc:postgresql://</p>\n"},{"tags":[],"owner":{"account_id":3842177,"reputation":847,"user_id":3184937,"accept_rate":71,"display_name":"Anish Panthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672942572,"creation_date":1672942572,"answer_id":75022733,"question_id":65303815,"body_markdown":"If anyone still looking for solution, I&#39;m adding solution below.\r\n\r\nFirst, make sure your database host is visible. By looking at your error statement which says -- `failed to resolve &#39;&#39; after 10 queries`, means it is empty `&#39;&#39;`. The way that you have defined the host name is not correct. If you are injecting the host value from properties, you might want to cross check that and then follow the steps below.\r\n\r\nIf you are configuring through YMLs, you can use below configurations:\r\n\r\n    spring:\r\n    \tdata:\r\n    \t\tr2dbc:\r\n    \t\t\trepositories:\r\n    \t\t\t\tenabled: true\r\n    \tr2dbc:\r\n    \t\turl: r2dbc:sqlserver://&lt;just_host&gt;:&lt;port&gt;\r\n    \t\tusername: &lt;db_username&gt;\r\n    \t\tpassword: &lt;db_password&gt;\r\n    \t\tname: &lt;db_name&gt;\r\n\r\n`spring.data.r2dbc.repositories.enabled: true` is optional here.\r\n\r\nIf you are creating custom bean, you can create bean like below. Please note that I&#39;m returning `ConnectionFactory` rather than `MssqlConnectionFactory`.\r\n\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n      return new MssqlConnectionFactory(\r\n          MssqlConnectionConfiguration.builder()\r\n              .host(&quot;just_host&quot;)\r\n              .database(&quot;db_name&quot;)\r\n              .port(1433)\r\n              .username(&quot;db_username&quot;)\r\n              .password(&quot;db_password&quot;)\r\n              .build());\r\n    }\r\n\r\n","title":"Failed to obtain R2DBC Connection Java Spring","body":"<p>If anyone still looking for solution, I'm adding solution below.</p>\n<p>First, make sure your database host is visible. By looking at your error statement which says -- <code>failed to resolve '' after 10 queries</code>, means it is empty <code>''</code>. The way that you have defined the host name is not correct. If you are injecting the host value from properties, you might want to cross check that and then follow the steps below.</p>\n<p>If you are configuring through YMLs, you can use below configurations:</p>\n<pre><code>spring:\n    data:\n        r2dbc:\n            repositories:\n                enabled: true\n    r2dbc:\n        url: r2dbc:sqlserver://&lt;just_host&gt;:&lt;port&gt;\n        username: &lt;db_username&gt;\n        password: &lt;db_password&gt;\n        name: &lt;db_name&gt;\n</code></pre>\n<p><code>spring.data.r2dbc.repositories.enabled: true</code> is optional here.</p>\n<p>If you are creating custom bean, you can create bean like below. Please note that I'm returning <code>ConnectionFactory</code> rather than <code>MssqlConnectionFactory</code>.</p>\n<pre><code>@Bean\npublic ConnectionFactory connectionFactory() {\n  return new MssqlConnectionFactory(\n      MssqlConnectionConfiguration.builder()\n          .host(&quot;just_host&quot;)\n          .database(&quot;db_name&quot;)\n          .port(1433)\n          .username(&quot;db_username&quot;)\n          .password(&quot;db_password&quot;)\n          .build());\n}\n</code></pre>\n"}],"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12471,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677279795,"creation_date":1608027186,"question_id":65303815,"body_markdown":"I am getting following exeption connecting to Mssql Server.\r\n\r\n    &gt; org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;&#39; after 10 queries \r\n    \tat org.springframework.r2dbc.connection.ConnectionFactoryUtils.lambda$getConnection$0(ConnectionFactoryUtils.java:88) ~[spring-r2dbc-5.3.2.jar:5.3.2]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t|_ checkpoint ⇢ Handler com.reactive.testreactive.controller.TestStreamController#findAll() [DispatcherHandler]\r\n    \t|_ checkpoint ⇢ HTTP GET &quot;/test&quot; [ExceptionHandlingWebHandler]\r\n\r\nI connected to JDBC with the same configuration in properties but having an issue while trying to connect to R2DBC. Happens on rest and not on starting an app.\r\n\r\n\r\n       @Bean\r\n    public MssqlConnectionFactory connectionFactory() {\r\n        return new MssqlConnectionFactory(MssqlConnectionConfiguration.builder()\r\n                .host(&quot;host&quot;)\r\n                .port(1433)\r\n                .database(&quot;DataBase&quot;)\r\n                .username(&quot;username&quot;)\r\n                .password(&quot;password&quot;)\r\n                .build());\r\n    }\r\n\r\n\r\n","title":"Failed to obtain R2DBC Connection Java Spring","body":"<p>I am getting following exeption connecting to Mssql Server.</p>\n<pre><code>&gt; org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve '' after 10 queries \n    at org.springframework.r2dbc.connection.ConnectionFactoryUtils.lambda$getConnection$0(ConnectionFactoryUtils.java:88) ~[spring-r2dbc-5.3.2.jar:5.3.2]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ Handler com.reactive.testreactive.controller.TestStreamController#findAll() [DispatcherHandler]\n    |_ checkpoint ⇢ HTTP GET &quot;/test&quot; [ExceptionHandlingWebHandler]\n</code></pre>\n<p>I connected to JDBC with the same configuration in properties but having an issue while trying to connect to R2DBC. Happens on rest and not on starting an app.</p>\n<pre><code>   @Bean\npublic MssqlConnectionFactory connectionFactory() {\n    return new MssqlConnectionFactory(MssqlConnectionConfiguration.builder()\n            .host(&quot;host&quot;)\n            .port(1433)\n            .database(&quot;DataBase&quot;)\n            .username(&quot;username&quot;)\n            .password(&quot;password&quot;)\n            .build());\n}\n</code></pre>\n"},{"tags":["java","swing","model-view-controller","jbutton","actionlistener"],"comments":[{"owner":{"account_id":15008122,"reputation":53,"user_id":10833444,"display_name":"Pierre-max Halldegare"},"score":0,"creation_date":1545851774,"post_id":53934787,"comment_id":94712473,"body_markdown":"To be more clear i want to catch the action performed in my controller which come from a JButton in my view ...","body":"To be more clear i want to catch the action performed in my controller which come from a JButton in my view ..."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1545864039,"post_id":53934787,"comment_id":94715822,"body_markdown":"1) `catch (SQLException e) { }` Don&#39;t ignore exceptions! They inform us exactly what went wrong. Unless logging is implemented, at least call `Throwable.printStackTrace()` 2) For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"1) <code>catch (SQLException e) { }</code> Don&#39;t ignore exceptions! They inform us exactly what went wrong. Unless logging is implemented, at least call <code>Throwable.printStackTrace()</code> 2) For better help sooner, <a href=\"https://stackoverflow.com/posts/53934787/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677280452,"post_id":53934787,"comment_id":133313453,"body_markdown":"Your `ActionListener` is one of the controllers.  It can modify the model and update the view.  Your SQL should be separated from your GUI code.","body":"Your <code>ActionListener</code> is one of the controllers.  It can modify the model and update the view.  Your SQL should be separated from your GUI code."}],"answers":[{"tags":[],"owner":{"account_id":10532049,"reputation":109,"user_id":18115206,"display_name":"DystD"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677278474,"creation_date":1677278474,"answer_id":75561994,"question_id":53934787,"body_markdown":"From an MVC perspective, the issue here is that **the Model and the View are mixed together**. Since the Controller is supposed to act as an intermediary between the two, it has no role here.\r\n\r\nThe **View**, presenting the GUI (windows, buttons, text fields, etc.) to the user, should (ideally, more on this later) tell the **Controller** when a delete button has been pressed and its corresponding id. Then the **Controller** should pass this info to the **Model** which, in turn, will carry out the communication with the database using its connection and prepared statements.\r\n\r\n-----\r\n\r\nHere&#39;s a good explanation on the MVC pattern:\r\n\r\n1. [Model-View-Controller: Does the user interact with the View or with the Controller?][1]\r\n\r\nNote (or maybe omit) that there&#39;s some controversy about different takes on the MVC pattern as shown in the different answers [here][2].\r\n\r\nThere is also a good answer on the topic of MVC in Swing here:\r\n\r\n2. [Java and GUI - Where do ActionListeners belong according to MVC pattern?][3]\r\n\r\nAlthough the example given may be a little complex as the author tries to more strictly separate View and Controller. I&#39;d go on and read the comments as well since they add further clarification.\r\n\r\nI tried finding a simpler example but most didn&#39;t include action listeners. Here&#39;s a couple that do:\r\n\r\n3. a) https://gist.github.com/Sammy30/7ebc606e7bb76cefac0f\r\n\r\n   b) http://www.fredosaurus.com/notes-java/GUI/structure/40mvc.html\r\n\r\nThe action listeners get added from the Controller unlike the first example linked. It&#39;s simpler but has the disadvantage of having Controller and View intertwined, which doesn&#39;t allow switching the latter easily (i.e., without modifying the Controller), which is one of the [advantages of MVC][4].\r\n\r\n-----\r\n\r\nThe steps would be:\r\n\r\nPreparation:\r\n1. The View and Model get created (the Model may set its connection to the database now)\r\n2. The Controller gets created with instances of the View and Model as properties\r\n3. The Controller gets ready by setting action listeners in the View (or tells the View to set them, in which case the View should contact the Controller whenever an event happens)\r\n\r\nUsage:\r\n\r\n4. The user presses a button in the View\r\n5. The Controller notices the button press through its action listener (or the View tells the Controller which button has been pressed)\r\n6. The Controller decides what to do with the event. In this case, tell the Model that a record needs to be [deleted][5]\r\n7. The Model receives the order and modifies the database, and [returns a value][6] with the updated rows count\r\n8. The Model [closes the ResultSet, Statement, and Connection][7]\r\n\r\n[1]: https://softwareengineering.stackexchange.com/q/234116\r\n[2]: https://stackoverflow.com/questions/2056/what-are-mvp-and-mvc-and-what-is-the-difference\r\n[3]: https://stackoverflow.com/a/26518274/18115206\r\n[4]: https://www.geeksforgeeks.org/benefit-of-using-mvc/\r\n[5]: https://www.w3schools.com/sql/sql_delete.asp\r\n[6]: https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\r\n[7]: https://stackoverflow.com/a/2225275/18115206","title":"About JButton listener with controller and view","body":"<p>From an MVC perspective, the issue here is that <strong>the Model and the View are mixed together</strong>. Since the Controller is supposed to act as an intermediary between the two, it has no role here.</p>\n<p>The <strong>View</strong>, presenting the GUI (windows, buttons, text fields, etc.) to the user, should (ideally, more on this later) tell the <strong>Controller</strong> when a delete button has been pressed and its corresponding id. Then the <strong>Controller</strong> should pass this info to the <strong>Model</strong> which, in turn, will carry out the communication with the database using its connection and prepared statements.</p>\n<hr />\n<p>Here's a good explanation on the MVC pattern:</p>\n<ol>\n<li><a href=\"https://softwareengineering.stackexchange.com/q/234116\">Model-View-Controller: Does the user interact with the View or with the Controller?</a></li>\n</ol>\n<p>Note (or maybe omit) that there's some controversy about different takes on the MVC pattern as shown in the different answers <a href=\"https://stackoverflow.com/questions/2056/what-are-mvp-and-mvc-and-what-is-the-difference\">here</a>.</p>\n<p>There is also a good answer on the topic of MVC in Swing here:</p>\n<ol start=\"2\">\n<li><a href=\"https://stackoverflow.com/a/26518274/18115206\">Java and GUI - Where do ActionListeners belong according to MVC pattern?</a></li>\n</ol>\n<p>Although the example given may be a little complex as the author tries to more strictly separate View and Controller. I'd go on and read the comments as well since they add further clarification.</p>\n<p>I tried finding a simpler example but most didn't include action listeners. Here's a couple that do:</p>\n<ol start=\"3\">\n<li><p>a) <a href=\"https://gist.github.com/Sammy30/7ebc606e7bb76cefac0f\" rel=\"nofollow noreferrer\">https://gist.github.com/Sammy30/7ebc606e7bb76cefac0f</a></p>\n<p>b) <a href=\"http://www.fredosaurus.com/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow noreferrer\">http://www.fredosaurus.com/notes-java/GUI/structure/40mvc.html</a></p>\n</li>\n</ol>\n<p>The action listeners get added from the Controller unlike the first example linked. It's simpler but has the disadvantage of having Controller and View intertwined, which doesn't allow switching the latter easily (i.e., without modifying the Controller), which is one of the <a href=\"https://www.geeksforgeeks.org/benefit-of-using-mvc/\" rel=\"nofollow noreferrer\">advantages of MVC</a>.</p>\n<hr />\n<p>The steps would be:</p>\n<p>Preparation:</p>\n<ol>\n<li>The View and Model get created (the Model may set its connection to the database now)</li>\n<li>The Controller gets created with instances of the View and Model as properties</li>\n<li>The Controller gets ready by setting action listeners in the View (or tells the View to set them, in which case the View should contact the Controller whenever an event happens)</li>\n</ol>\n<p>Usage:</p>\n<ol start=\"4\">\n<li>The user presses a button in the View</li>\n<li>The Controller notices the button press through its action listener (or the View tells the Controller which button has been pressed)</li>\n<li>The Controller decides what to do with the event. In this case, tell the Model that a record needs to be <a href=\"https://www.w3schools.com/sql/sql_delete.asp\" rel=\"nofollow noreferrer\">deleted</a></li>\n<li>The Model receives the order and modifies the database, and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">returns a value</a> with the updated rows count</li>\n<li>The Model <a href=\"https://stackoverflow.com/a/2225275/18115206\">closes the ResultSet, Statement, and Connection</a></li>\n</ol>\n"}],"owner":{"account_id":15008122,"reputation":53,"user_id":10833444,"display_name":"Pierre-max Halldegare"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677278474,"creation_date":1545843017,"question_id":53934787,"body_markdown":"I&#39;m doing a Swing app in Java with a database. I got different `JButton` which delete, add or modified row in a `JTable`. \r\n\r\nI&#39;m stuck because I don&#39;t know where I can manage my action listener.\r\n\r\nI have a class named `DaoClef` where I will execute an SQL statement, send my table model etc...\r\n\r\nI got a view where all my button are set but I don&#39;t know what to do in my controller. \r\n\r\nFor now I got this in the view: \r\n\r\n    \tbtnNew.addActionListener(new ActionListener() {\r\n\r\n\t\t    @Override\r\n\t\t    public void actionPerformed(ActionEvent arg0) {\r\n\t\t        // check for selected row first\r\n\t\t        if (t.getSelectedRow() != -1) {\r\n\t\t            // remove selected row from the model\r\n\t\t        \t\r\n\t\t        \tString sqlMaj = &quot;DELETE FROM clefs WHERE IdClef = ?&quot;;\r\n\t\t\t\t\ttry (PreparedStatement pst = Connect.getConnection().prepareStatement(sqlMaj) )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tpst.setInt(1, (int) t.getValueAt(t.getSelectedRow(), 0));\t\r\n\t\t\t\t\t\tpst.executeUpdate();\r\n\t\t\t\t\t\tt.addNotify();\r\n\t\t\t\t\t} \r\n\t\t\t\t\tcatch (SQLException e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t}\r\n\t\t        }\r\n\t\t    }\r\n\t\t});\r\n\r\nBut it&#39;s not good because the SQL statement need to be execute in a method in the controller. \r\n\r\nCan you give me some clues?","title":"About JButton listener with controller and view","body":"<p>I'm doing a Swing app in Java with a database. I got different <code>JButton</code> which delete, add or modified row in a <code>JTable</code>. </p>\n\n<p>I'm stuck because I don't know where I can manage my action listener.</p>\n\n<p>I have a class named <code>DaoClef</code> where I will execute an SQL statement, send my table model etc...</p>\n\n<p>I got a view where all my button are set but I don't know what to do in my controller. </p>\n\n<p>For now I got this in the view: </p>\n\n<pre><code>    btnNew.addActionListener(new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            // check for selected row first\n            if (t.getSelectedRow() != -1) {\n                // remove selected row from the model\n\n                String sqlMaj = \"DELETE FROM clefs WHERE IdClef = ?\";\n                try (PreparedStatement pst = Connect.getConnection().prepareStatement(sqlMaj) )\n                {\n\n                    pst.setInt(1, (int) t.getValueAt(t.getSelectedRow(), 0));   \n                    pst.executeUpdate();\n                    t.addNotify();\n                } \n                catch (SQLException e)\n                {\n                }\n            }\n        }\n    });\n</code></pre>\n\n<p>But it's not good because the SQL statement need to be execute in a method in the controller. </p>\n\n<p>Can you give me some clues?</p>\n"},{"tags":["java","methods","time","duration"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677278563,"post_id":75550455,"comment_id":133313152,"body_markdown":"Are you allowed to use the `Duration`class instead of your own `CHTime` class? Don’t reinvent the wheel if you can avoid it.","body":"Are you allowed to use the <code>Duration</code>class instead of your own <code>CHTime</code> class? Don’t reinvent the wheel if you can avoid it."}],"answers":[{"tags":[],"owner":{"account_id":9895976,"reputation":38,"user_id":7327486,"display_name":"Koren Lahav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677188578,"creation_date":1677188578,"answer_id":75550618,"question_id":75550455,"body_markdown":"You are running the function getSeconds() after you calculate chHr, chMin, and chSec. so they are 19, 45, and 14 respectively, and not 331, 34, and 674.\r\n\r\nmy suggestion:\r\n\r\nYou could either calculate the seconds in the constructor and keep it as a parameter before calculating the others.\r\n\r\nOr keep the original values given in the constructor and use them in the getSeconds function.\r\n","title":"How would I create a method that accepts the raw input instead of using data post-calculation?","body":"<p>You are running the function getSeconds() after you calculate chHr, chMin, and chSec. so they are 19, 45, and 14 respectively, and not 331, 34, and 674.</p>\n<p>my suggestion:</p>\n<p>You could either calculate the seconds in the constructor and keep it as a parameter before calculating the others.</p>\n<p>Or keep the original values given in the constructor and use them in the getSeconds function.</p>\n"},{"tags":[],"owner":{"account_id":26544556,"reputation":190,"user_id":20174801,"display_name":"Synopsis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677189138,"creation_date":1677189138,"answer_id":75550693,"question_id":75550455,"body_markdown":"look at the difference of the expected and the received value for second: the difference between 71114 (received) and 1194314 (expected) is exectly the 13 days, that you modulo&#39;ed away.\r\n\r\nYour code is absolutely OK, its your expectation that is wrong: days are stripped, so you won&#39;t get them back magically :-)\r\n\r\nAnd please quit your habit of naming function params and member variables identically and use &quot;this&quot; to tell between them. You will not get a happy live this way. make your params clearly distinguishable by e.g. naming them e.g. &quot;p_chMin&quot;.\r\nDoing it &quot;your way&quot; caries the risk to accidentally forget one the many this&#39;es and writing your data into a param (volatile) instead of the class member (persistent).","title":"How would I create a method that accepts the raw input instead of using data post-calculation?","body":"<p>look at the difference of the expected and the received value for second: the difference between 71114 (received) and 1194314 (expected) is exectly the 13 days, that you modulo'ed away.</p>\n<p>Your code is absolutely OK, its your expectation that is wrong: days are stripped, so you won't get them back magically :-)</p>\n<p>And please quit your habit of naming function params and member variables identically and use &quot;this&quot; to tell between them. You will not get a happy live this way. make your params clearly distinguishable by e.g. naming them e.g. &quot;p_chMin&quot;.\nDoing it &quot;your way&quot; caries the risk to accidentally forget one the many this'es and writing your data into a param (volatile) instead of the class member (persistent).</p>\n"},{"comments":[{"owner":{"account_id":23423691,"reputation":13,"user_id":17483463,"display_name":"Casey"},"score":0,"creation_date":1677191423,"post_id":75550822,"comment_id":133294862,"body_markdown":"Ok, I think this has me on the right track, however, my hour return is off by 5 hours.\n\n331 34 674 returns 14 hours 45 minutes 14 seconds instead of 19 hours\n\n93889345 returns 11 hours 22 minutes 25 seconds instead of 16 hours","body":"Ok, I think this has me on the right track, however, my hour return is off by 5 hours.  331 34 674 returns 14 hours 45 minutes 14 seconds instead of 19 hours  93889345 returns 11 hours 22 minutes 25 seconds instead of 16 hours"},{"owner":{"account_id":27063235,"reputation":1,"user_id":20614968,"display_name":"Michael Szychulski"},"score":0,"creation_date":1677193617,"post_id":75550822,"comment_id":133295293,"body_markdown":"Are you sure your input is correct? I just run it with 331 34 674 and it returned 19:45:14 (after change i mention in first edit)","body":"Are you sure your input is correct? I just run it with 331 34 674 and it returned 19:45:14 (after change i mention in first edit)"}],"tags":[],"owner":{"account_id":27063235,"reputation":1,"user_id":20614968,"display_name":"Michael Szychulski"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677193353,"creation_date":1677190152,"answer_id":75550822,"question_id":75550455,"body_markdown":"If you need to store initial value of epoch seconds hours/minutes/seconds i suggest convert it to single Instant value and just call respective methods on it.\r\n         \r\n    \r\n    public class CHTime implements Comparable&lt;CHTime&gt; {\r\n            private final Instant chInstant;\r\n        \r\n            public CHTime(int chHr, int chMin, int chSec) {\r\n                this.chInstant = Instant.ofEpochSecond((chHr * 3600) + (chMin * 60) + chSec);\r\n            }\r\n        \r\n            public CHTime(long chElapsedTime) {\r\n                this.chInstant = Instant.ofEpochSecond(chElapsedTime);\r\n            }\r\n        \r\n            public int getHour() {\r\n                int hours = chInstant.atZone(ZoneId.systemDefault()).getHour() - 1;\r\n                return hours &lt; 0 ? 23 : hours;\r\n            }\r\n        \r\n            public int getMinute() {\r\n                return chInstant.atZone(ZoneId.systemDefault()).getMinute();\r\n            }\r\n        \r\n            public int getSecond() {\r\n                return chInstant.atZone(ZoneId.systemDefault()).getSecond();\r\n            }\r\n        \r\n            public long getSeconds() {\r\n                return chInstant.getEpochSecond();\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n                return getHour() + &quot; hours &quot; + getMinute() + &quot; minutes &quot; + getSeconds() + &quot; seconds&quot;;\r\n            }\r\n        }\r\n\r\nAlso this constructor:\r\n\r\n    public CHTime(int chHr, int chMin, int chSec)\r\n        {\r\n            this.chSec = chSec % 60;\r\n            this.chHr = chHr % 24;\r\n            this.chMin = (chMin + chSec / 60) % 60;\r\n        }\r\nAdds minutes from seconds, but doesn&#39;t do same for hours, which is inconsistent. Using Instant would solve this problem.\r\n\r\nEdit 1\r\n-----------------\r\nZonedDateTime getHour() method for 00:00:00-00:59:59 will return 1, and for 23:00:00-23:59:59 will return 0. I edited my answer to take that into consideration.","title":"How would I create a method that accepts the raw input instead of using data post-calculation?","body":"<p>If you need to store initial value of epoch seconds hours/minutes/seconds i suggest convert it to single Instant value and just call respective methods on it.</p>\n<pre><code>public class CHTime implements Comparable&lt;CHTime&gt; {\n        private final Instant chInstant;\n    \n        public CHTime(int chHr, int chMin, int chSec) {\n            this.chInstant = Instant.ofEpochSecond((chHr * 3600) + (chMin * 60) + chSec);\n        }\n    \n        public CHTime(long chElapsedTime) {\n            this.chInstant = Instant.ofEpochSecond(chElapsedTime);\n        }\n    \n        public int getHour() {\n            int hours = chInstant.atZone(ZoneId.systemDefault()).getHour() - 1;\n            return hours &lt; 0 ? 23 : hours;\n        }\n    \n        public int getMinute() {\n            return chInstant.atZone(ZoneId.systemDefault()).getMinute();\n        }\n    \n        public int getSecond() {\n            return chInstant.atZone(ZoneId.systemDefault()).getSecond();\n        }\n    \n        public long getSeconds() {\n            return chInstant.getEpochSecond();\n        }\n    \n        @Override\n        public String toString() {\n            return getHour() + &quot; hours &quot; + getMinute() + &quot; minutes &quot; + getSeconds() + &quot; seconds&quot;;\n        }\n    }\n</code></pre>\n<p>Also this constructor:</p>\n<pre><code>public CHTime(int chHr, int chMin, int chSec)\n    {\n        this.chSec = chSec % 60;\n        this.chHr = chHr % 24;\n        this.chMin = (chMin + chSec / 60) % 60;\n    }\n</code></pre>\n<p>Adds minutes from seconds, but doesn't do same for hours, which is inconsistent. Using Instant would solve this problem.</p>\n<h2>Edit 1</h2>\n<p>ZonedDateTime getHour() method for 00:00:00-00:59:59 will return 1, and for 23:00:00-23:59:59 will return 0. I edited my answer to take that into consideration.</p>\n"}],"owner":{"account_id":23423691,"reputation":13,"user_id":17483463,"display_name":"Casey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677278454,"creation_date":1677187463,"question_id":75550455,"body_markdown":"I am trying to write a program that shows the hour/min/sec and elapsed time given a specific hour/min/sec input as well as a long sec input. So far, I have it showing the correct hour, minute, and second. However, the elapsed time is using the data after the calculations have completed.\r\n\r\nFor example, if I input hours/mins/sec as 331 34 674, it returns 19 hours 45 minutes 14 seconds, as it is supposed to. (I am not showing days, so I&#39;m just taking hr % 24. However, when I asked for the elapsed time in seconds, it returns 71114 (equal to 19 hours 45 minutes 14 seconds) instead of the expected 1194314 (331 hours 45 minutes 14 seconds). Why? How do I fix? I have attached the code below.\r\n\r\n\r\n\r\n```\r\npackage CHTime;\r\n\r\n\r\nimport java.util.Scanner;\r\npublic class CHTest \r\n{\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\t// Declare variables\r\n\t\tScanner chIn = new Scanner(System.in);\r\n\t\t\t\t\r\n\t\t// Prompt user for input time1\r\n\t\tSystem.out.println(&quot;Enter time1 (hour minute second): &quot;);\r\n\t\tint chHr = chIn.nextInt();\r\n\t\tint chMin = chIn.nextInt();\r\n\t\tint chSec = chIn.nextInt();\r\n\t\tCHTime chTime1 = new CHTime(chHr, chMin, chSec);\r\n\t\t\r\n\t\t// Display Results\r\n\t\tSystem.out.println(chTime1.toString());\r\n\t\t\r\n\t\t// Display elapsed time in time1\r\n\t\tSystem.out.println(&quot;Elapsed seconds in time1: &quot; + chTime1.getSeconds());\r\n\t\t\r\n\t\t\r\n\t\t// Prompt user for elapsed time\r\n\t\tSystem.out.println(&quot;Enter time2 (elapsed time): &quot;);\r\n\t\tCHTime chTime2 = new CHTime(chIn.nextLong());\r\n\t\t\r\n\t\t// Display results\r\n\t\tSystem.out.println(chTime2.toString());\r\n\t\t\r\n\t\t// Display elapsed time in time 2\r\n\t\tSystem.out.println(&quot;Elapsed seconds in time2: &quot; + chTime2.getSeconds());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage CHTime;\r\n\r\npublic class CHTime implements Comparable&lt;CHTime&gt;\r\n{\r\n\t// Data field for elapsed time since midnight Jan 1, 1970\r\n\tprivate long chUnix = Instant.now().getEpochSecond();\r\n\t\r\n\t// Data fields for hour, min, and sec\r\n\tprivate int chHr;\r\n\tprivate int chMin;\r\n\tprivate int chSec;\r\n\t\t\r\n\t\r\n\t// Constructor with specified hour, min, and sec to create a time\r\n\tpublic CHTime(int chHr, int chMin, int chSec)\r\n\t{\r\n\t\tthis.chSec = chSec % 60;\r\n\t\tthis.chHr = chHr % 24;\r\n\t\tthis.chMin = (chMin + chSec / 60) % 60;\r\n\t}\r\n\t\r\n\t// Constructor with specified time since Unix\r\n\tpublic CHTime(long chElapsedTime)\r\n\t{\r\n\t\tthis.chSec = (int)(chElapsedTime) % 60;\r\n\t\tchHr = (int)(chElapsedTime / 60);\r\n\t\tthis.chMin = chHr % 60;\r\n\t\tthis.chHr = (chHr / 60) % 24;\r\n\t}\r\n\t\r\n\t// Create method that returns the hour in range 0-23\r\n\tpublic int getHour()\r\n\t{\r\n\t\treturn chHr;\r\n\t}\r\n\t\r\n\t// Create method that returns the minute in range 0 - 59\r\n\tpublic int getMinute()\r\n\t{\r\n\t\treturn chMin;\r\n\t}\r\n\t\r\n\t// Create method that returns the second in range 0 - 59\r\n\tpublic int getSecond()\r\n\t{\r\n\t\treturn chSec;\r\n\t}\r\n\t\r\n\t// Create method that returns the elapsed total seconds\r\n\tpublic long getSeconds()\r\n\t{\r\n\t\treturn (chHr * 3600) + (chMin * 60) + chSec;\r\n\t}\r\n\t\r\n\t@Override // Create a method that returns a string showing time\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn chHr + &quot; hours &quot; + chMin + &quot; minutes &quot; + chSec + &quot; seconds&quot;;\r\n\t}\r\n```\r\n","title":"How would I create a method that accepts the raw input instead of using data post-calculation?","body":"<p>I am trying to write a program that shows the hour/min/sec and elapsed time given a specific hour/min/sec input as well as a long sec input. So far, I have it showing the correct hour, minute, and second. However, the elapsed time is using the data after the calculations have completed.</p>\n<p>For example, if I input hours/mins/sec as 331 34 674, it returns 19 hours 45 minutes 14 seconds, as it is supposed to. (I am not showing days, so I'm just taking hr % 24. However, when I asked for the elapsed time in seconds, it returns 71114 (equal to 19 hours 45 minutes 14 seconds) instead of the expected 1194314 (331 hours 45 minutes 14 seconds). Why? How do I fix? I have attached the code below.</p>\n<pre><code>package CHTime;\n\n\nimport java.util.Scanner;\npublic class CHTest \n{\n\n    public static void main(String[] args) \n    {\n        // Declare variables\n        Scanner chIn = new Scanner(System.in);\n                \n        // Prompt user for input time1\n        System.out.println(&quot;Enter time1 (hour minute second): &quot;);\n        int chHr = chIn.nextInt();\n        int chMin = chIn.nextInt();\n        int chSec = chIn.nextInt();\n        CHTime chTime1 = new CHTime(chHr, chMin, chSec);\n        \n        // Display Results\n        System.out.println(chTime1.toString());\n        \n        // Display elapsed time in time1\n        System.out.println(&quot;Elapsed seconds in time1: &quot; + chTime1.getSeconds());\n        \n        \n        // Prompt user for elapsed time\n        System.out.println(&quot;Enter time2 (elapsed time): &quot;);\n        CHTime chTime2 = new CHTime(chIn.nextLong());\n        \n        // Display results\n        System.out.println(chTime2.toString());\n        \n        // Display elapsed time in time 2\n        System.out.println(&quot;Elapsed seconds in time2: &quot; + chTime2.getSeconds());\n    }\n\n}\n\n</code></pre>\n<pre><code>package CHTime;\n\npublic class CHTime implements Comparable&lt;CHTime&gt;\n{\n    // Data field for elapsed time since midnight Jan 1, 1970\n    private long chUnix = Instant.now().getEpochSecond();\n    \n    // Data fields for hour, min, and sec\n    private int chHr;\n    private int chMin;\n    private int chSec;\n        \n    \n    // Constructor with specified hour, min, and sec to create a time\n    public CHTime(int chHr, int chMin, int chSec)\n    {\n        this.chSec = chSec % 60;\n        this.chHr = chHr % 24;\n        this.chMin = (chMin + chSec / 60) % 60;\n    }\n    \n    // Constructor with specified time since Unix\n    public CHTime(long chElapsedTime)\n    {\n        this.chSec = (int)(chElapsedTime) % 60;\n        chHr = (int)(chElapsedTime / 60);\n        this.chMin = chHr % 60;\n        this.chHr = (chHr / 60) % 24;\n    }\n    \n    // Create method that returns the hour in range 0-23\n    public int getHour()\n    {\n        return chHr;\n    }\n    \n    // Create method that returns the minute in range 0 - 59\n    public int getMinute()\n    {\n        return chMin;\n    }\n    \n    // Create method that returns the second in range 0 - 59\n    public int getSecond()\n    {\n        return chSec;\n    }\n    \n    // Create method that returns the elapsed total seconds\n    public long getSeconds()\n    {\n        return (chHr * 3600) + (chMin * 60) + chSec;\n    }\n    \n    @Override // Create a method that returns a string showing time\n    public String toString()\n    {\n        return chHr + &quot; hours &quot; + chMin + &quot; minutes &quot; + chSec + &quot; seconds&quot;;\n    }\n</code></pre>\n"},{"tags":["java","android-tv","leanback"],"owner":{"account_id":27873048,"reputation":1,"user_id":21283114,"display_name":"dev123456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677278069,"creation_date":1677278069,"question_id":75561961,"body_markdown":"I&#39;m trying to create a custom side menu (headers fragment) for an Android TV app following this [article](https://medium.com/building-for-android-tv/building-for-android-tv-episode-3-381e041dfec7). This is what I was hoping to achieve:\r\n\r\n[enter image description here](https://i.stack.imgur.com/JqGef.jpg)\r\n\r\nEverything is working well except for adjusting the margins when toggling the headers fragment. The tutorial instantiates Views that are null &amp; cause my app to crash: \r\n\r\n```\r\nfinal View headersContainer = (View) headersFragment.getView().getParent();\r\nfinal View rowsContainer = (View) rowsFragment.getView().getParent();\r\n```\r\n \r\nOther than the search orbit (I tried with &amp; without) my code is the same as the tutorial.\r\n\r\nI&#39;ve tried substituting the code that results in null with this, but I don&#39;t think I&#39;m accessing the correct view: \r\n\r\n```\r\nfinal View headersContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame); final View rowsContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\r\n```\r\n\r\nThis results in my app looking like this when the menu is open:\r\n\r\n[enter image description here](https://i.stack.imgur.com/Ubd1i.png)\r\n\r\nThe fragment transaction code is hit, so why are my custom fragments null? \r\n\r\nHere&#39;s my CustomHomeActivity:\r\n\r\n```\r\npublic class CustomHomeActivity extends AppCompatActivity {\r\n    private CustomHeadersFragment headersFragment;\r\n    private CustomRowsFragment rowsFragment;\r\n\r\n    private final int CATEGORIES_NUMBER = 5;\r\n    private LinkedHashMap&lt;Integer, CustomRowsFragment&gt; fragments;\r\n    private CustomFrameLayout customFrameLayout;\r\n\r\n    private boolean navigationDrawerOpen;\r\n    private static final float NAVIGATION_DRAWER_SCALE_FACTOR = 0.9f;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_custom);\r\n\r\n        fragments = new LinkedHashMap&lt;Integer, CustomRowsFragment&gt;();\r\n\r\n        for (int i = 0; i &lt; CATEGORIES_NUMBER; i++) {\r\n            CustomRowsFragment fragment = new CustomRowsFragment();\r\n            fragments.put(i, fragment);\r\n        }\r\n\r\n        headersFragment = new CustomHeadersFragment();\r\n        rowsFragment = fragments.get(0);\r\n\r\n        customFrameLayout = (CustomFrameLayout) ((ViewGroup) this.findViewById(android.R.id.content)).getChildAt(0);\r\n\r\n        setupCustomFrameLayout();\r\n\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.header_container, new CustomHeadersFragment())\r\n                .replace(R.id.rows_container, new CustomRowsFragment()).commit();\r\n    }\r\n\r\n\r\n    public LinkedHashMap&lt;Integer, CustomRowsFragment&gt; getFragments() {\r\n        return fragments;\r\n    }\r\n\r\n    private void setupCustomFrameLayout(){\r\n        customFrameLayout.setOnChildFocusListener(new CustomFrameLayout.OnChildFocusListener() {\r\n            @Override\r\n            public boolean onRequestFocusInDescendants(int direction, Rect previouslyFocusedRect) {\r\n                if (headersFragment.getView() != null &amp;&amp; headersFragment.getView().requestFocus(direction, previouslyFocusedRect)) {\r\n                    return true;\r\n                }\r\n                if (rowsFragment.getView() != null &amp;&amp; rowsFragment.getView().requestFocus(direction, previouslyFocusedRect)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public void onRequestChildFocus(View child, View focused) {\r\n                int childId = child.getId();\r\n                if (childId == R.id.rows_container) {\r\n                    toggleHeadersFragment(false);\r\n                } else if (childId == R.id.header_container) {\r\n                    toggleHeadersFragment(true);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public synchronized void toggleHeadersFragment(final boolean doOpen) {\r\n        boolean condition = (doOpen ? !isNavigationDrawerOpen() : isNavigationDrawerOpen());\r\n        if (condition) {\r\n//            final View headersContainer = (View) headersFragment.getView().getParent();\r\n            final View headersContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\r\n//            final View rowsContainer = (View) rowsFragment.getView().getParent();\r\n            final View rowsContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\r\n\r\n            final float delta = headersContainer.getWidth() * NAVIGATION_DRAWER_SCALE_FACTOR;\r\n\r\n            // get current margin (a previous animation might have been interrupted)\r\n            final int currentHeadersMargin = (((ViewGroup.MarginLayoutParams) headersContainer.getLayoutParams()).leftMargin);\r\n            final int currentRowsMargin = (((ViewGroup.MarginLayoutParams) rowsContainer.getLayoutParams()).leftMargin);\r\n\r\n            // calculate destination\r\n            final int headersDestination = (doOpen ? 0 : (int) (0 - delta));\r\n            final int rowsDestination = (doOpen ? (Utils.dpToPx(300, this)) : (int) (Utils.dpToPx(300, this) - delta));\r\n\r\n            // calculate the delta (destination - current)\r\n            final int headersDelta = headersDestination - currentHeadersMargin;\r\n            final int rowsDelta = rowsDestination - currentRowsMargin;\r\n\r\n            Animation animation = new Animation() {\r\n                @Override\r\n                protected void applyTransformation(float interpolatedTime, Transformation t) {\r\n                    ViewGroup.MarginLayoutParams headersParams = (ViewGroup.MarginLayoutParams) headersContainer.getLayoutParams();\r\n                    headersParams.leftMargin = (int) (currentHeadersMargin + headersDelta * interpolatedTime);\r\n                    headersContainer.setLayoutParams(headersParams);\r\n\r\n                    ViewGroup.MarginLayoutParams rowsParams = (ViewGroup.MarginLayoutParams) rowsContainer.getLayoutParams();\r\n                    rowsParams.leftMargin = (int) (currentRowsMargin + rowsDelta * interpolatedTime);\r\n                    rowsContainer.setLayoutParams(rowsParams);\r\n                }\r\n            };\r\n\r\n            animation.setAnimationListener(new Animation.AnimationListener() {\r\n                @Override\r\n                public void onAnimationStart(Animation animation) {\r\n                    navigationDrawerOpen = doOpen;\r\n                }\r\n\r\n                @Override\r\n                public void onAnimationEnd(Animation animation) {\r\n                    if (!doOpen) {\r\n                        rowsFragment.refresh();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onAnimationRepeat(Animation animation) {}\r\n\r\n            });\r\n\r\n            animation.setDuration(200);\r\n            ((View) rowsContainer.getParent()).startAnimation(animation);\r\n        }\r\n    }\r\n\r\n    public synchronized boolean isNavigationDrawerOpen() {\r\n        return navigationDrawerOpen;\r\n    }\r\n\r\n    public void updateCurrentRowsFragment(CustomRowsFragment fragment) {\r\n        rowsFragment = fragment;\r\n    }\r\n}\r\n```\r\nactivity_custom.xml\r\n\r\n```\r\n&lt;com.custom.CustomFrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/parent_frame&quot;\r\n    android:clipChildren=&quot;false&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/header_container&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;top|start&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/rows_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;top|start&quot;\r\n        android:layout_marginStart=&quot;300dp&quot; /&gt;\r\n\r\n&lt;/com.custom.CustomFrameLayout&gt;\r\n```\r\n\r\nCustomHeadersFragment\r\n\r\n```\r\npublic class CustomHeadersFragment extends HeadersSupportFragment {\r\n    private ArrayObjectAdapter adapter;\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        customSetBackground(R.color.fastlane_background);\r\n\r\n        setOnHeaderViewSelectedListener(getDefaultItemSelectedListener());\r\n        setHeaderAdapter();\r\n\r\n        setCustomPadding();\r\n    }\r\n\r\n    private void setHeaderAdapter(){\r\n        //create HeaderItem, tie it together with corresponding CustomRowsFragment to a ListRow element\r\n        //then insert HeaderItem into main ArrayObjectAdapter\r\n        adapter = new ArrayObjectAdapter();\r\n\r\n        LinkedHashMap&lt;Integer, CustomRowsFragment&gt; fragments = ((CustomHomeActivity) getActivity()).getFragments();\r\n\r\n        int id = 0;\r\n        for (int i = 0; i &lt; fragments.size(); i++) {\r\n            //create HeaderItem\r\n            HeaderItem header = new HeaderItem(id, &quot;Category &quot; + i);\r\n            ArrayObjectAdapter innerAdapter = new ArrayObjectAdapter();\r\n            //tie HeaderItem together with corresponding CustomRowsFragment to a ListRow element\r\n            innerAdapter.add(fragments.get(i));\r\n            //insert HeaderItem into main ArrayObjectAdapter\r\n            adapter.add(id, new ListRow(header, innerAdapter));\r\n            id++;\r\n        }\r\n\r\n        setAdapter(adapter);\r\n    }\r\n\r\n    private void setCustomPadding(){\r\n        if(getView() != null &amp;&amp; getActivity() != null){\r\n            getView().setPadding(0, Utils.dpToPx(128, getActivity()), Utils.dpToPx(48, getActivity()), 0);\r\n        }\r\n    }\r\n\r\n    //switch fragment every time a new category is selected\r\n    private OnHeaderViewSelectedListener getDefaultItemSelectedListener() {\r\n        return new OnHeaderViewSelectedListener() {\r\n            @Override\r\n            public void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\r\n                Object obj = ((ListRow) row).getAdapter().get(0);\r\n                //Given the category, we retrieve the associated fragment and we just load it using the FragmentManager\r\n                getParentFragmentManager().beginTransaction().replace(R.id.rows_container, (Fragment) obj).commit();\r\n                if(getActivity() != null){\r\n                    ((CustomHomeActivity) getActivity()).updateCurrentRowsFragment((CustomRowsFragment) obj);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n//Since the original setBackgroundColor is private, we need to\r\n//\t access it via reflection\r\n    private void customSetBackground(int colorResource) {\r\n        try {\r\n            Class clazz = HeadersSupportFragment.class;\r\n            Method m = clazz.getDeclaredMethod(&quot;setBackgroundColor&quot;, Integer.TYPE);\r\n            m.setAccessible(true);\r\n            m.invoke(this, getResources().getColor(colorResource, IonApplication.getInstance().getTheme()));\r\n        } catch (NoSuchMethodException e) {\r\n            e.printStackTrace();\r\n        } catch (InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        } catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nCustomRowsFragment\r\n\r\n```\r\npublic class CustomRowsFragment extends RowsSupportFragment {\r\n    private final int NUM_ROWS = 5;\r\n    private final int NUM_COLS = 15;\r\n\r\n    private ArrayObjectAdapter rowsAdapter;\r\n    private CardPresenter cardPresenter;\r\n\r\n    // CustomHeadersFragment, scaled by 0.9 on a 1080p screen, is 600px wide.\r\n    // This is the corresponding dip size.\r\n    private static final int HEADERS_FRAGMENT_SCALE_SIZE = 300;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = super.onCreateView(inflater, container, savedInstanceState);\r\n        if(view != null){\r\n            int marginOffset = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, HEADERS_FRAGMENT_SCALE_SIZE, getResources().getDisplayMetrics());\r\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) view.getLayoutParams();\r\n            params.rightMargin -= marginOffset;\r\n            view.setLayoutParams(params);\r\n            view.setBackgroundColor(getResources().getColor(R.color.colorPrimaryVariant, IonApplication.getInstance().getTheme()));\r\n        }\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        loadRows();\r\n        setCustomPadding();\r\n    }\r\n\r\n    private void loadRows(){\r\n        //create ArrayObjectAdapter &amp; fill with rows\r\n        rowsAdapter = new ArrayObjectAdapter(new ListRowPresenter());\r\n        cardPresenter = new CardPresenter();\r\n\r\n        List&lt;Movie&gt; list = MovieList.setupMovies();\r\n\r\n        int i;\r\n        for (i = 0; i &lt; NUM_ROWS; i++) {\r\n            if (i != 0) {\r\n                Collections.shuffle(list);\r\n            }\r\n            ArrayObjectAdapter listRowAdapter = new ArrayObjectAdapter(cardPresenter);\r\n            for (int j = 0; j &lt; NUM_COLS; j++) {\r\n                listRowAdapter.add(list.get(j % 5));\r\n            }\r\n            HeaderItem header = new HeaderItem(i, MovieList.MOVIE_CATEGORY[i]);\r\n            rowsAdapter.add(new ListRow(header, listRowAdapter));\r\n        }\r\n\r\n        setAdapter(rowsAdapter);\r\n    }\r\n\r\n    private void setCustomPadding() {\r\n        if(getView() != null &amp;&amp; getActivity() != null){\r\n            getView().setPadding(Utils.dpToPx(-24, getActivity()), Utils.dpToPx(128, getActivity()), Utils.dpToPx(48, getActivity()), 0);\r\n        }\r\n    }\r\n\r\n    //method to help differentiate between one custom fragment &amp; another\r\n    private int getRandomColor() {\r\n        Random rnd = new Random();\r\n        return Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));\r\n    }\r\n\r\n    public void refresh() {\r\n        if(getView() != null &amp;&amp; getActivity() != null){\r\n            getView().setPadding(Utils.dpToPx(-24, getActivity()), Utils.dpToPx(128, getActivity()), Utils.dpToPx(300, getActivity()), 0);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Why is custom fragment view parent null?","body":"<p>I'm trying to create a custom side menu (headers fragment) for an Android TV app following this <a href=\"https://medium.com/building-for-android-tv/building-for-android-tv-episode-3-381e041dfec7\" rel=\"nofollow noreferrer\">article</a>. This is what I was hoping to achieve:</p>\n<p><a href=\"https://i.stack.imgur.com/JqGef.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Everything is working well except for adjusting the margins when toggling the headers fragment. The tutorial instantiates Views that are null &amp; cause my app to crash:</p>\n<pre><code>final View headersContainer = (View) headersFragment.getView().getParent();\nfinal View rowsContainer = (View) rowsFragment.getView().getParent();\n</code></pre>\n<p>Other than the search orbit (I tried with &amp; without) my code is the same as the tutorial.</p>\n<p>I've tried substituting the code that results in null with this, but I don't think I'm accessing the correct view:</p>\n<pre><code>final View headersContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame); final View rowsContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\n</code></pre>\n<p>This results in my app looking like this when the menu is open:</p>\n<p><a href=\"https://i.stack.imgur.com/Ubd1i.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The fragment transaction code is hit, so why are my custom fragments null?</p>\n<p>Here's my CustomHomeActivity:</p>\n<pre><code>public class CustomHomeActivity extends AppCompatActivity {\n    private CustomHeadersFragment headersFragment;\n    private CustomRowsFragment rowsFragment;\n\n    private final int CATEGORIES_NUMBER = 5;\n    private LinkedHashMap&lt;Integer, CustomRowsFragment&gt; fragments;\n    private CustomFrameLayout customFrameLayout;\n\n    private boolean navigationDrawerOpen;\n    private static final float NAVIGATION_DRAWER_SCALE_FACTOR = 0.9f;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_custom);\n\n        fragments = new LinkedHashMap&lt;Integer, CustomRowsFragment&gt;();\n\n        for (int i = 0; i &lt; CATEGORIES_NUMBER; i++) {\n            CustomRowsFragment fragment = new CustomRowsFragment();\n            fragments.put(i, fragment);\n        }\n\n        headersFragment = new CustomHeadersFragment();\n        rowsFragment = fragments.get(0);\n\n        customFrameLayout = (CustomFrameLayout) ((ViewGroup) this.findViewById(android.R.id.content)).getChildAt(0);\n\n        setupCustomFrameLayout();\n\n        getSupportFragmentManager().beginTransaction()\n                .replace(R.id.header_container, new CustomHeadersFragment())\n                .replace(R.id.rows_container, new CustomRowsFragment()).commit();\n    }\n\n\n    public LinkedHashMap&lt;Integer, CustomRowsFragment&gt; getFragments() {\n        return fragments;\n    }\n\n    private void setupCustomFrameLayout(){\n        customFrameLayout.setOnChildFocusListener(new CustomFrameLayout.OnChildFocusListener() {\n            @Override\n            public boolean onRequestFocusInDescendants(int direction, Rect previouslyFocusedRect) {\n                if (headersFragment.getView() != null &amp;&amp; headersFragment.getView().requestFocus(direction, previouslyFocusedRect)) {\n                    return true;\n                }\n                if (rowsFragment.getView() != null &amp;&amp; rowsFragment.getView().requestFocus(direction, previouslyFocusedRect)) {\n                    return true;\n                }\n                return false;\n            }\n\n            @Override\n            public void onRequestChildFocus(View child, View focused) {\n                int childId = child.getId();\n                if (childId == R.id.rows_container) {\n                    toggleHeadersFragment(false);\n                } else if (childId == R.id.header_container) {\n                    toggleHeadersFragment(true);\n                }\n            }\n        });\n\n    }\n\n    public synchronized void toggleHeadersFragment(final boolean doOpen) {\n        boolean condition = (doOpen ? !isNavigationDrawerOpen() : isNavigationDrawerOpen());\n        if (condition) {\n//            final View headersContainer = (View) headersFragment.getView().getParent();\n            final View headersContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\n//            final View rowsContainer = (View) rowsFragment.getView().getParent();\n            final View rowsContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\n\n            final float delta = headersContainer.getWidth() * NAVIGATION_DRAWER_SCALE_FACTOR;\n\n            // get current margin (a previous animation might have been interrupted)\n            final int currentHeadersMargin = (((ViewGroup.MarginLayoutParams) headersContainer.getLayoutParams()).leftMargin);\n            final int currentRowsMargin = (((ViewGroup.MarginLayoutParams) rowsContainer.getLayoutParams()).leftMargin);\n\n            // calculate destination\n            final int headersDestination = (doOpen ? 0 : (int) (0 - delta));\n            final int rowsDestination = (doOpen ? (Utils.dpToPx(300, this)) : (int) (Utils.dpToPx(300, this) - delta));\n\n            // calculate the delta (destination - current)\n            final int headersDelta = headersDestination - currentHeadersMargin;\n            final int rowsDelta = rowsDestination - currentRowsMargin;\n\n            Animation animation = new Animation() {\n                @Override\n                protected void applyTransformation(float interpolatedTime, Transformation t) {\n                    ViewGroup.MarginLayoutParams headersParams = (ViewGroup.MarginLayoutParams) headersContainer.getLayoutParams();\n                    headersParams.leftMargin = (int) (currentHeadersMargin + headersDelta * interpolatedTime);\n                    headersContainer.setLayoutParams(headersParams);\n\n                    ViewGroup.MarginLayoutParams rowsParams = (ViewGroup.MarginLayoutParams) rowsContainer.getLayoutParams();\n                    rowsParams.leftMargin = (int) (currentRowsMargin + rowsDelta * interpolatedTime);\n                    rowsContainer.setLayoutParams(rowsParams);\n                }\n            };\n\n            animation.setAnimationListener(new Animation.AnimationListener() {\n                @Override\n                public void onAnimationStart(Animation animation) {\n                    navigationDrawerOpen = doOpen;\n                }\n\n                @Override\n                public void onAnimationEnd(Animation animation) {\n                    if (!doOpen) {\n                        rowsFragment.refresh();\n                    }\n                }\n\n                @Override\n                public void onAnimationRepeat(Animation animation) {}\n\n            });\n\n            animation.setDuration(200);\n            ((View) rowsContainer.getParent()).startAnimation(animation);\n        }\n    }\n\n    public synchronized boolean isNavigationDrawerOpen() {\n        return navigationDrawerOpen;\n    }\n\n    public void updateCurrentRowsFragment(CustomRowsFragment fragment) {\n        rowsFragment = fragment;\n    }\n}\n</code></pre>\n<p>activity_custom.xml</p>\n<pre><code>&lt;com.custom.CustomFrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/parent_frame&quot;\n    android:clipChildren=&quot;false&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/header_container&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;top|start&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/rows_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;top|start&quot;\n        android:layout_marginStart=&quot;300dp&quot; /&gt;\n\n&lt;/com.custom.CustomFrameLayout&gt;\n</code></pre>\n<p>CustomHeadersFragment</p>\n<pre><code>public class CustomHeadersFragment extends HeadersSupportFragment {\n    private ArrayObjectAdapter adapter;\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        customSetBackground(R.color.fastlane_background);\n\n        setOnHeaderViewSelectedListener(getDefaultItemSelectedListener());\n        setHeaderAdapter();\n\n        setCustomPadding();\n    }\n\n    private void setHeaderAdapter(){\n        //create HeaderItem, tie it together with corresponding CustomRowsFragment to a ListRow element\n        //then insert HeaderItem into main ArrayObjectAdapter\n        adapter = new ArrayObjectAdapter();\n\n        LinkedHashMap&lt;Integer, CustomRowsFragment&gt; fragments = ((CustomHomeActivity) getActivity()).getFragments();\n\n        int id = 0;\n        for (int i = 0; i &lt; fragments.size(); i++) {\n            //create HeaderItem\n            HeaderItem header = new HeaderItem(id, &quot;Category &quot; + i);\n            ArrayObjectAdapter innerAdapter = new ArrayObjectAdapter();\n            //tie HeaderItem together with corresponding CustomRowsFragment to a ListRow element\n            innerAdapter.add(fragments.get(i));\n            //insert HeaderItem into main ArrayObjectAdapter\n            adapter.add(id, new ListRow(header, innerAdapter));\n            id++;\n        }\n\n        setAdapter(adapter);\n    }\n\n    private void setCustomPadding(){\n        if(getView() != null &amp;&amp; getActivity() != null){\n            getView().setPadding(0, Utils.dpToPx(128, getActivity()), Utils.dpToPx(48, getActivity()), 0);\n        }\n    }\n\n    //switch fragment every time a new category is selected\n    private OnHeaderViewSelectedListener getDefaultItemSelectedListener() {\n        return new OnHeaderViewSelectedListener() {\n            @Override\n            public void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\n                Object obj = ((ListRow) row).getAdapter().get(0);\n                //Given the category, we retrieve the associated fragment and we just load it using the FragmentManager\n                getParentFragmentManager().beginTransaction().replace(R.id.rows_container, (Fragment) obj).commit();\n                if(getActivity() != null){\n                    ((CustomHomeActivity) getActivity()).updateCurrentRowsFragment((CustomRowsFragment) obj);\n                }\n            }\n        };\n    }\n\n//Since the original setBackgroundColor is private, we need to\n//   access it via reflection\n    private void customSetBackground(int colorResource) {\n        try {\n            Class clazz = HeadersSupportFragment.class;\n            Method m = clazz.getDeclaredMethod(&quot;setBackgroundColor&quot;, Integer.TYPE);\n            m.setAccessible(true);\n            m.invoke(this, getResources().getColor(colorResource, IonApplication.getInstance().getTheme()));\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>CustomRowsFragment</p>\n<pre><code>public class CustomRowsFragment extends RowsSupportFragment {\n    private final int NUM_ROWS = 5;\n    private final int NUM_COLS = 15;\n\n    private ArrayObjectAdapter rowsAdapter;\n    private CardPresenter cardPresenter;\n\n    // CustomHeadersFragment, scaled by 0.9 on a 1080p screen, is 600px wide.\n    // This is the corresponding dip size.\n    private static final int HEADERS_FRAGMENT_SCALE_SIZE = 300;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = super.onCreateView(inflater, container, savedInstanceState);\n        if(view != null){\n            int marginOffset = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, HEADERS_FRAGMENT_SCALE_SIZE, getResources().getDisplayMetrics());\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) view.getLayoutParams();\n            params.rightMargin -= marginOffset;\n            view.setLayoutParams(params);\n            view.setBackgroundColor(getResources().getColor(R.color.colorPrimaryVariant, IonApplication.getInstance().getTheme()));\n        }\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        loadRows();\n        setCustomPadding();\n    }\n\n    private void loadRows(){\n        //create ArrayObjectAdapter &amp; fill with rows\n        rowsAdapter = new ArrayObjectAdapter(new ListRowPresenter());\n        cardPresenter = new CardPresenter();\n\n        List&lt;Movie&gt; list = MovieList.setupMovies();\n\n        int i;\n        for (i = 0; i &lt; NUM_ROWS; i++) {\n            if (i != 0) {\n                Collections.shuffle(list);\n            }\n            ArrayObjectAdapter listRowAdapter = new ArrayObjectAdapter(cardPresenter);\n            for (int j = 0; j &lt; NUM_COLS; j++) {\n                listRowAdapter.add(list.get(j % 5));\n            }\n            HeaderItem header = new HeaderItem(i, MovieList.MOVIE_CATEGORY[i]);\n            rowsAdapter.add(new ListRow(header, listRowAdapter));\n        }\n\n        setAdapter(rowsAdapter);\n    }\n\n    private void setCustomPadding() {\n        if(getView() != null &amp;&amp; getActivity() != null){\n            getView().setPadding(Utils.dpToPx(-24, getActivity()), Utils.dpToPx(128, getActivity()), Utils.dpToPx(48, getActivity()), 0);\n        }\n    }\n\n    //method to help differentiate between one custom fragment &amp; another\n    private int getRandomColor() {\n        Random rnd = new Random();\n        return Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));\n    }\n\n    public void refresh() {\n        if(getView() != null &amp;&amp; getActivity() != null){\n            getView().setPadding(Utils.dpToPx(-24, getActivity()), Utils.dpToPx(128, getActivity()), Utils.dpToPx(300, getActivity()), 0);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":15314688,"reputation":4163,"user_id":11048887,"display_name":"Yunus Temurlenk"},"score":0,"creation_date":1677323899,"post_id":75561911,"comment_id":133317699,"body_markdown":"What do you mean by saying &quot;gray scale background&quot; ? it is not possible converting from gray scale to bgr","body":"What do you mean by saying &quot;gray scale background&quot; ? it is not possible converting from gray scale to bgr"},{"owner":{"account_id":8518162,"reputation":11,"user_id":6788629,"display_name":"esra"},"score":0,"creation_date":1677332255,"post_id":75561911,"comment_id":133318925,"body_markdown":"I mean background should be in gray mode, only faces are colored (rgb) mode, like object detection. But I cannot integrate rgb face into gray background.","body":"I mean background should be in gray mode, only faces are colored (rgb) mode, like object detection. But I cannot integrate rgb face into gray background."},{"owner":{"account_id":15314688,"reputation":4163,"user_id":11048887,"display_name":"Yunus Temurlenk"},"score":0,"creation_date":1677336094,"post_id":75561911,"comment_id":133319634,"body_markdown":"you need to get the mask of face instead of only detection. After getting mask of face then you can copy it to the desired background easily. Mediapipe, rcnn etc. can give you maskedfaces.","body":"you need to get the mask of face instead of only detection. After getting mask of face then you can copy it to the desired background easily. Mediapipe, rcnn etc. can give you maskedfaces."}],"owner":{"account_id":8518162,"reputation":11,"user_id":6788629,"display_name":"esra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677277671,"creation_date":1677277671,"question_id":75561911,"body_markdown":"I am using android, java and I want to do face detection, gray scale background, rgb face. I am detecting face but cannot convert the faces from gray to rgb.Any suggestion? Thanks\r\nHere is the code:\r\n\r\n```\r\n@Override\r\n            public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\r\n\r\n                rgb =inputFrame.rgba();\r\n                gray =inputFrame.gray();\r\n\r\n                rects =new MatOfRect();\r\n\r\n                cascadeClassifier.detectMultiScale(gray,rects, 1.08,2);\r\n\r\n\r\n                for(Rect rect :rects.toList())\r\n                {\r\n\r\n                    //cropped face\r\n                    Mat submat = gray.submat(rect);\r\n\r\n                    Mat rgbsubmat = rgb.submat(rect);\r\n\r\n\r\n                    Imgproc.cvtColor(submat, submat, Imgproc.COLOR_GRAY2RGBA, 4); \r\n\r\n                    rgbsubmat.copyTo(gray.submat(rect));\r\n\r\n                    Imgproc.rectangle(gray,rect,new Scalar(0,255,0),10);\r\n\r\n\r\n                    submat.release();\r\n\r\n\r\n                }\r\n\r\n\r\n                return gray;\r\n            }\r\n```\r\n\r\n\r\nI am trying to convert sub matrix which has face position gray to rgb form","title":"gray scale background-colored face","body":"<p>I am using android, java and I want to do face detection, gray scale background, rgb face. I am detecting face but cannot convert the faces from gray to rgb.Any suggestion? Thanks\nHere is the code:</p>\n<pre><code>@Override\n            public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\n\n                rgb =inputFrame.rgba();\n                gray =inputFrame.gray();\n\n                rects =new MatOfRect();\n\n                cascadeClassifier.detectMultiScale(gray,rects, 1.08,2);\n\n\n                for(Rect rect :rects.toList())\n                {\n\n                    //cropped face\n                    Mat submat = gray.submat(rect);\n\n                    Mat rgbsubmat = rgb.submat(rect);\n\n\n                    Imgproc.cvtColor(submat, submat, Imgproc.COLOR_GRAY2RGBA, 4); \n\n                    rgbsubmat.copyTo(gray.submat(rect));\n\n                    Imgproc.rectangle(gray,rect,new Scalar(0,255,0),10);\n\n\n                    submat.release();\n\n\n                }\n\n\n                return gray;\n            }\n</code></pre>\n<p>I am trying to convert sub matrix which has face position gray to rgb form</p>\n"},{"tags":["java","aws-lambda","fonts","apache-poi"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1654014072,"post_id":72451039,"comment_id":127989384,"body_markdown":"`when using on AWS Lambda.`  This is running on a server?  Most servers are &quot;headless,&quot; that is they have no GUI at all.  I&#39;m guessing that might mean no fonts too.  You might need to Google for how to install Java font packages on a unix device.","body":"<code>when using on AWS Lambda.</code>  This is running on a server?  Most servers are &quot;headless,&quot; that is they have no GUI at all.  I&#39;m guessing that might mean no fonts too.  You might need to Google for how to install Java font packages on a unix device."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1654014584,"post_id":72451039,"comment_id":127989555,"body_markdown":"I just clicked through a tutorial for AWS Lambda.  That is definitely a server, they just market it as &quot;serverless.&quot;  (Never read the marketing drivel.)  If you can&#39;t install packages then I don&#39;t think you can use it for this function. Get a real server.","body":"I just clicked through a tutorial for AWS Lambda.  That is definitely a server, they just market it as &quot;serverless.&quot;  (Never read the marketing drivel.)  If you can&#39;t install packages then I don&#39;t think you can use it for this function. Get a real server."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":2,"creation_date":1654016689,"post_id":72451039,"comment_id":127990206,"body_markdown":"There is always a server. &quot;Serverless&quot; just means you don&#39;t have to manage the server. If you can&#39;t fix this by bundling the fonts in your Lambda deployment package, then you may need to look into deploying your Lambda function as a Docker container instead, where you will have more control of the runtime environment.","body":"There is always a server. &quot;Serverless&quot; just means you don&#39;t have to manage the server. If you can&#39;t fix this by bundling the fonts in your Lambda deployment package, then you may need to look into deploying your Lambda function as a Docker container instead, where you will have more control of the runtime environment."}],"answers":[{"comments":[{"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"score":0,"creation_date":1654072158,"post_id":72452775,"comment_id":128002272,"body_markdown":"Thanks for the reply but any ideia how I can put physical fonts in my java lambda?","body":"Thanks for the reply but any ideia how I can put physical fonts in my java lambda?"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677277369,"creation_date":1654022802,"answer_id":72452775,"question_id":72451039,"body_markdown":"# Fonts bundling\r\n\r\n&gt;Any idea how to add physical fonts\r\n\r\nThe *Oracle JDK* product from Oracle [stopped bundling fonts][1] as of Java 11. \r\n\r\nThe [*OpenJDK*][2] project does not bundle fonts, at least not in recent versions. \r\n\r\nThe *Corretto* JDK from Amazon product is based on OpenJDK codebase. Given your report, apparently they do not bundle fonts. \r\n\r\nYou must choose to:\r\n\r\n - Rely on the fonts provided by the host OS.\r\n - Bundle fonts within your Java app. Be careful to study license terms. Some fonts allow such bundling, some don’t. Some require a fee, some don’t. Some require an acknowledgment, some don’t. \r\n - Obtain a JDK from a vendor that includes fonts. \r\n\r\nI know of at least one such vendor: Azul Systems bundles fonts with their *Azul Platform Core* commercial product. \r\n\r\nThere may be other such vendors that I’m not aware of. Many vendors provide JDK binaries and installers. These vendors include Adoptium, SAP, BellSoft, Microsoft, Azul Systems, Amazon, Oracle, Red Hat/IBM, Pivotal, and more. \r\n\r\n# Physical fonts versus logical fonts\r\n\r\n&gt;why can&#39;t the POI use the available fonts that output to the logs\r\n\r\nThe fonts you listed in your logs are *logical* fonts, not *physical* fonts. The distinction is clearly documented in the Javadoc for the [`Font`][3] class. \r\n\r\nTo use a logical font name, you must have some backing physical font. If no fonts exist within your app, within your JDK, or within your host OS, then the logical fonts cannot work. \r\n\r\n# Fonts for AWS Lambda\r\n\r\nRegarding making fonts available in AWS Lambda, perhaps these two pages might help. (Thanks to [jarmod for the links](https://stackoverflow.com/questions/72462871/amazon-corretto-11-openjdk-does-not-have-any-fonts#comment128012006_72462871).)\r\n\r\n - [*Configuring fonts for AWS Lambda*][4]\r\n - [*AWS Lambda Fonts &amp; libfontconfig*][5] by [Alberto Cubeddu][6]\r\n\r\nThe basic idea is to create a `/fonts` folder within your package. Incude a `fonts.conf` file within, with XML configuration elements. Place your bundled fonts files alongside that config file.\r\n\r\n# License terms\r\n\r\nBe aware that **some fonts are commercial**, with a license that requires a fee. When bundling/deploying fonts, be sure to verify that you are meeting the terms of their license. \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html#JDK-8191522\r\n  [2]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Font.html\r\n  [4]: https://forum.aspose.com/t/configuring-fonts-for-aws-lambda/234036/5\r\n  [5]: https://medium.com/creditorwatch/aws-lambda-fonts-libfontconfig-5e837281a4ce\r\n  [6]: https://medium.com/@acubeddu87","title":"Java 11 does not have fonts?","body":"<h1>Fonts bundling</h1>\n<blockquote>\n<p>Any idea how to add physical fonts</p>\n</blockquote>\n<p>The <em>Oracle JDK</em> product from Oracle <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html#JDK-8191522\" rel=\"nofollow noreferrer\">stopped bundling fonts</a> as of Java 11.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\"><em>OpenJDK</em></a> project does not bundle fonts, at least not in recent versions.</p>\n<p>The <em>Corretto</em> JDK from Amazon product is based on OpenJDK codebase. Given your report, apparently they do not bundle fonts.</p>\n<p>You must choose to:</p>\n<ul>\n<li>Rely on the fonts provided by the host OS.</li>\n<li>Bundle fonts within your Java app. Be careful to study license terms. Some fonts allow such bundling, some don’t. Some require a fee, some don’t. Some require an acknowledgment, some don’t.</li>\n<li>Obtain a JDK from a vendor that includes fonts.</li>\n</ul>\n<p>I know of at least one such vendor: Azul Systems bundles fonts with their <em>Azul Platform Core</em> commercial product.</p>\n<p>There may be other such vendors that I’m not aware of. Many vendors provide JDK binaries and installers. These vendors include Adoptium, SAP, BellSoft, Microsoft, Azul Systems, Amazon, Oracle, Red Hat/IBM, Pivotal, and more.</p>\n<h1>Physical fonts versus logical fonts</h1>\n<blockquote>\n<p>why can't the POI use the available fonts that output to the logs</p>\n</blockquote>\n<p>The fonts you listed in your logs are <em>logical</em> fonts, not <em>physical</em> fonts. The distinction is clearly documented in the Javadoc for the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Font.html\" rel=\"nofollow noreferrer\"><code>Font</code></a> class.</p>\n<p>To use a logical font name, you must have some backing physical font. If no fonts exist within your app, within your JDK, or within your host OS, then the logical fonts cannot work.</p>\n<h1>Fonts for AWS Lambda</h1>\n<p>Regarding making fonts available in AWS Lambda, perhaps these two pages might help. (Thanks to <a href=\"https://stackoverflow.com/questions/72462871/amazon-corretto-11-openjdk-does-not-have-any-fonts#comment128012006_72462871\">jarmod for the links</a>.)</p>\n<ul>\n<li><a href=\"https://forum.aspose.com/t/configuring-fonts-for-aws-lambda/234036/5\" rel=\"nofollow noreferrer\"><em>Configuring fonts for AWS Lambda</em></a></li>\n<li><a href=\"https://medium.com/creditorwatch/aws-lambda-fonts-libfontconfig-5e837281a4ce\" rel=\"nofollow noreferrer\"><em>AWS Lambda Fonts &amp; libfontconfig</em></a> by <a href=\"https://medium.com/@acubeddu87\" rel=\"nofollow noreferrer\">Alberto Cubeddu</a></li>\n</ul>\n<p>The basic idea is to create a <code>/fonts</code> folder within your package. Incude a <code>fonts.conf</code> file within, with XML configuration elements. Place your bundled fonts files alongside that config file.</p>\n<h1>License terms</h1>\n<p>Be aware that <strong>some fonts are commercial</strong>, with a license that requires a fee. When bundling/deploying fonts, be sure to verify that you are meeting the terms of their license.</p>\n"}],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3132,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72452775,"answer_count":1,"score":4,"last_activity_date":1677277369,"creation_date":1654013338,"question_id":72451039,"body_markdown":"I&#39;m using Java 11 Corretto + Spring Boot with Apache POI but I&#39;m facing issues when using on AWS Lambda. Works fine if I run as &quot;normal&quot; API but fails when running servless in a AWS lambda.\r\n\r\n    try (ByteArrayOutputStream out = new ByteArrayOutputStream(); SXSSFWorkbook workbook = new SXSSFWorkbook(1000)) {\r\n        SXSSFSheet sheet = workbook.createSheet(&quot;test&quot;); //error here!!\r\n        } ...\r\n\r\n&gt; Caused by: java.lang.Error: Probable fatal error: No physical fonts\r\n&gt; found. \tat\r\n&gt; java.desktop/sun.font.SunFontManager.lambda$getDefaultPhysicalFont$0(Unknown\r\n&gt; Source) \tat java.base/java.util.Optional.orElseThrow(Unknown Source)\r\n&gt; \tat\r\n&gt; java.desktop/sun.font.SunFontManager.getDefaultPhysicalFont(Unknown\r\n&gt; Source) \tat\r\n&gt; java.desktop/sun.font.CompositeFont.doDeferredInitialisation(Unknown\r\n&gt; Source) \tat java.desktop/sun.font.CompositeFont.getSlotFont(Unknown\r\n&gt; Source) \tat\r\n&gt; java.desktop/sun.font.CompositeGlyphMapper.initMapper(Unknown Source)\r\n&gt; \tat java.desktop/sun.font.CompositeGlyphMapper.&lt;init&gt;(Unknown Source)\r\n&gt; \tat java.desktop/sun.font.CompositeFont.getMapper(Unknown Source) \tat\r\n&gt; java.desktop/sun.font.CompositeFont.canDisplay(Unknown Source) \tat\r\n&gt; java.desktop/java.awt.Font.canDisplayUpTo(Unknown Source) \tat\r\n&gt; java.desktop/java.awt.font.TextLayout.singleFont(Unknown Source) \tat\r\n&gt; java.desktop/java.awt.font.TextLayout.&lt;init&gt;(Unknown Source) \tat\r\n&gt; org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285)\r\n&gt; \tat\r\n&gt; org.apache.poi.xssf.streaming.AutoSizeColumnTracker.&lt;init&gt;(AutoSizeColumnTracker.java:117)\r\n&gt; \tat\r\n&gt; org.apache.poi.xssf.streaming.SXSSFSheet.&lt;init&gt;(SXSSFSheet.java:84)\r\n&gt; \tat\r\n&gt; org.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(SXSSFWorkbook.java:705)\r\n&gt; \tat\r\n&gt; org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(SXSSFWorkbook.java:724)\r\n\r\n\r\nI tried to create a fix to the fonts but I have no idea how to proceed\r\n\r\n    @PostConstruct\r\n    public void loadFonts() {\r\n        URL configURL = getClass().getClassLoader().getResource(&quot;fontconfig.properties&quot;);\r\n        String path = configURL != null ? configURL.getPath() : null;\r\n        Properties props = System.getProperties();\r\n        LOGGER.info(&quot;Loading font config file: {}&quot;, path);\r\n        props.put(&quot;sun.awt.fontconfig&quot;, path);\r\n\r\n        String[] fonts;\r\n        try {\r\n            GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\r\n        } catch (Throwable ex) {\r\n            LOGGER.warn(&quot;Reloading Fonts&quot;);\r\n        }\r\n        try {\r\n            fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\r\n\r\n            for (String font : fonts) {\r\n                LOGGER.info(&quot;Available Font: {}&quot;, font);\r\n            }\r\n        } catch (Throwable ex) {\r\n            LOGGER.error(&quot;Could not load Fonts&quot;);\r\n        }\r\n    }\r\n\r\nConfig file:\r\n\r\n    version=1\r\n    sequence.allfonts=default\r\n\r\nWhen running on AWS Lambda it outputs some fonts to the logs so I don&#39;t understand why I get that error:\r\n\r\n&gt;     2022-05-31 16:00:14  INFO  Starting Lambda Container Handler\r\n&gt;     2022-05-31 16:00:18  INFO  Loading font config file: /var/task/fontconfig.properties\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: Dialog\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: DialogInput\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: Monospaced\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: SansSerif\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: Serif\r\n\r\nAny idea how to add physical fonts and why can&#39;t the POI use the available fonts that output to the logs?\r\n\r\n\r\n**EDIT:**\r\n I also tried to run as headless but I get the same error:\r\n\r\n    `props.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);`","title":"Java 11 does not have fonts?","body":"<p>I'm using Java 11 Corretto + Spring Boot with Apache POI but I'm facing issues when using on AWS Lambda. Works fine if I run as &quot;normal&quot; API but fails when running servless in a AWS lambda.</p>\n<pre><code>try (ByteArrayOutputStream out = new ByteArrayOutputStream(); SXSSFWorkbook workbook = new SXSSFWorkbook(1000)) {\n    SXSSFSheet sheet = workbook.createSheet(&quot;test&quot;); //error here!!\n    } ...\n</code></pre>\n<blockquote>\n<p>Caused by: java.lang.Error: Probable fatal error: No physical fonts\nfound.    at\njava.desktop/sun.font.SunFontManager.lambda$getDefaultPhysicalFont$0(Unknown\nSource)   at java.base/java.util.Optional.orElseThrow(Unknown Source)\nat\njava.desktop/sun.font.SunFontManager.getDefaultPhysicalFont(Unknown\nSource)   at\njava.desktop/sun.font.CompositeFont.doDeferredInitialisation(Unknown\nSource)   at java.desktop/sun.font.CompositeFont.getSlotFont(Unknown\nSource)   at\njava.desktop/sun.font.CompositeGlyphMapper.initMapper(Unknown Source)\nat java.desktop/sun.font.CompositeGlyphMapper.(Unknown Source)\nat java.desktop/sun.font.CompositeFont.getMapper(Unknown Source)    at\njava.desktop/sun.font.CompositeFont.canDisplay(Unknown Source)    at\njava.desktop/java.awt.Font.canDisplayUpTo(Unknown Source)     at\njava.desktop/java.awt.font.TextLayout.singleFont(Unknown Source)  at\njava.desktop/java.awt.font.TextLayout.(Unknown Source)  at\norg.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285)\nat\norg.apache.poi.xssf.streaming.AutoSizeColumnTracker.(AutoSizeColumnTracker.java:117)\nat\norg.apache.poi.xssf.streaming.SXSSFSheet.(SXSSFSheet.java:84)\nat\norg.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(SXSSFWorkbook.java:705)\nat\norg.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(SXSSFWorkbook.java:724)</p>\n</blockquote>\n<p>I tried to create a fix to the fonts but I have no idea how to proceed</p>\n<pre><code>@PostConstruct\npublic void loadFonts() {\n    URL configURL = getClass().getClassLoader().getResource(&quot;fontconfig.properties&quot;);\n    String path = configURL != null ? configURL.getPath() : null;\n    Properties props = System.getProperties();\n    LOGGER.info(&quot;Loading font config file: {}&quot;, path);\n    props.put(&quot;sun.awt.fontconfig&quot;, path);\n\n    String[] fonts;\n    try {\n        GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\n    } catch (Throwable ex) {\n        LOGGER.warn(&quot;Reloading Fonts&quot;);\n    }\n    try {\n        fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\n\n        for (String font : fonts) {\n            LOGGER.info(&quot;Available Font: {}&quot;, font);\n        }\n    } catch (Throwable ex) {\n        LOGGER.error(&quot;Could not load Fonts&quot;);\n    }\n}\n</code></pre>\n<p>Config file:</p>\n<pre><code>version=1\nsequence.allfonts=default\n</code></pre>\n<p>When running on AWS Lambda it outputs some fonts to the logs so I don't understand why I get that error:</p>\n<blockquote>\n<pre><code>2022-05-31 16:00:14  INFO  Starting Lambda Container Handler\n2022-05-31 16:00:18  INFO  Loading font config file: /var/task/fontconfig.properties\n2022-05-31 16:00:18  INFO  Available Font: Dialog\n2022-05-31 16:00:18  INFO  Available Font: DialogInput\n2022-05-31 16:00:18  INFO  Available Font: Monospaced\n2022-05-31 16:00:18  INFO  Available Font: SansSerif\n2022-05-31 16:00:18  INFO  Available Font: Serif\n</code></pre>\n</blockquote>\n<p>Any idea how to add physical fonts and why can't the POI use the available fonts that output to the logs?</p>\n<p><strong>EDIT:</strong>\nI also tried to run as headless but I get the same error:</p>\n<pre><code>`props.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);`\n</code></pre>\n"},{"tags":["java","jedis","lettuce"],"comments":[{"owner":{"account_id":2885864,"reputation":861,"user_id":2475798,"display_name":"Neenad"},"score":0,"creation_date":1677282802,"post_id":75560679,"comment_id":133313812,"body_markdown":"what is the inserted value in redis for the query?","body":"what is the inserted value in redis for the query?"},{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1677386034,"post_id":75560679,"comment_id":133326245,"body_markdown":"`at redissClass.main(redissClass.java:44)` - which line is this in your `redisClass`?","body":"<code>at redissClass.main(redissClass.java:44)</code> - which line is this in your <code>redisClass</code>?"},{"owner":{"account_id":13315007,"reputation":19,"user_id":9611752,"display_name":"samik sengupta"},"score":0,"creation_date":1677525280,"post_id":75560679,"comment_id":133351396,"body_markdown":"@tornadoradon String jsonString=syncCommands.get(query);","body":"@tornadoradon String jsonString=syncCommands.get(query);"},{"owner":{"account_id":13315007,"reputation":19,"user_id":9611752,"display_name":"samik sengupta"},"score":0,"creation_date":1677525387,"post_id":75560679,"comment_id":133351428,"body_markdown":"@Neenad the below example represents what we have in Rediss:{&#160; &#160; &quot;euid&quot;: &quot;1006110582&quot;,&#160; &#160; &quot;conditionCategoryData&quot;: [&#160; &#160; &#160; &#160; {&#160; &#160; &#160; &#160; &#160; &#160; &quot;conditionCategoryBasicInfo&quot;: {&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot;code&quot;: &quot;22&quot;,&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot;description&quot;: &quot;Morbid Obesity&quot;,&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot;model&quot;: &quot;CMS_HCC_V24&quot;&#160; &#160; &#160; &#160; &#160; &#160; },","body":"@Neenad the below example represents what we have in Rediss:{    &quot;euid&quot;: &quot;1006110582&quot;,    &quot;conditionCategoryData&quot;: [        {            &quot;conditionCategoryBasicInfo&quot;: {                &quot;code&quot;: &quot;22&quot;,                &quot;description&quot;: &quot;Morbid Obesity&quot;,                &quot;model&quot;: &quot;CMS_HCC_V24&quot;            },"}],"owner":{"account_id":13315007,"reputation":19,"user_id":9611752,"display_name":"samik sengupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677276795,"creation_date":1677267199,"question_id":75560679,"body_markdown":"I am trying to query Redis and get a response using Java. I am able to connect to Redis, however I am not able to find the appropriate command to query. I have tried `command.json.get`, but I am getting an error. Given below is my code, example of Data I am trying to fetch, and the error I am getting:\r\n\r\n```\r\nimport io.lettuce.core.RedisClient;\r\nimport io.lettuce.core.RedisURI;\r\nimport io.lettuce.core.api.StatefulRedisConnection;\r\nimport io.lettuce.core.api.sync.RedisCommands;\r\nimport io.lettuce.core.cluster.ClusterClientOptions;\r\nimport io.lettuce.core.cluster.ClusterTopologyRefreshOptions;\r\nimport io.lettuce.core.cluster.RedisClusterClient;\r\nimport io.lettuce.core.cluster.api.StatefulRedisClusterConnection;\r\nimport io.lettuce.core.cluster.api.sync.RedisAdvancedClusterCommands;\r\nimport io.lettuce.core.cluster.api.sync.RedisClusterCommands;\r\nimport io.lettuce.core.resource.ClientResources;\r\nimport io.lettuce.core.resource.DefaultClientResources;\r\nimport org.json.JSONObject;\r\nimport io.lettuce.core.cluster.ClusterTopologyRefreshOptions.RefreshTrigger;\r\nimport java.time.Duration;&#160;\r\npublic class redissClass {\r\n&#160;&#160;&#160;&#160; public static void main(String[] args) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String name = &quot;name&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String password = &quot;password&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String host=&quot;host.com&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String query=&quot;1006110582&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ClientResources clientResources = DefaultClientResources.create();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RedisClusterClient clusterClient = RedisClusterClient.create(clientResources, RedisURI.builder().redis(host,6379)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .withSsl(true)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .withAuthentication(name,password)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .withVerifyPeer(false).build());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; clusterClient.setOptions(ClusterClientOptions.builder()\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .topologyRefreshOptions(ClusterTopologyRefreshOptions.builder()\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .enablePeriodicRefresh(Duration.ofSeconds(5))\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .build())\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .build());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; StatefulRedisClusterConnection&lt;String, String&gt; connection = clusterClient.connect();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RedisClusterCommands&lt;String, String&gt; syncCommands = connection.sync();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String response = syncCommands.ping();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;Redis response: &quot; + response);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;type&quot;+syncCommands.type(query));\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String jsonString=syncCommands.get(query);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; JSONObject jsonObject = new JSONObject(jsonString);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String euid=jsonObject.getString(&quot;euid&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;euid&quot;+euid);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; connection.close();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; clientResources.shutdown();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;}\r\n```\r\nError:\r\n\r\n```\r\nRedis response: PONG typeReJSON-RL Exception in thread &quot;main&quot; io.lettuce.core.RedisCommandExecutionException: WRONGTYPE Operation against a key holding the wrong kind of value &#160;&#160;&#160; \r\nat io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:137) &#160;&#160;&#160; \r\nat io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:72) &#160;\r\nat io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)\r\nat io.lettuce.core.cluster.ClusterFutureSyncInvocationHandler.handleInvocation(ClusterFutureSyncInvocationHandler.java:130) &#160;&#160;&#160; \r\nat io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80) &#160;&#160;&#160; \r\nat jdk.proxy1/jdk.proxy1.$Proxy23.get(Unknown Source) &#160;&#160;&#160; \r\nat redissClass.main(redissClass.java:44)\r\n```\r\n","title":"Read JSON from Redis using Java","body":"<p>I am trying to query Redis and get a response using Java. I am able to connect to Redis, however I am not able to find the appropriate command to query. I have tried <code>command.json.get</code>, but I am getting an error. Given below is my code, example of Data I am trying to fetch, and the error I am getting:</p>\n<pre><code>import io.lettuce.core.RedisClient;\nimport io.lettuce.core.RedisURI;\nimport io.lettuce.core.api.StatefulRedisConnection;\nimport io.lettuce.core.api.sync.RedisCommands;\nimport io.lettuce.core.cluster.ClusterClientOptions;\nimport io.lettuce.core.cluster.ClusterTopologyRefreshOptions;\nimport io.lettuce.core.cluster.RedisClusterClient;\nimport io.lettuce.core.cluster.api.StatefulRedisClusterConnection;\nimport io.lettuce.core.cluster.api.sync.RedisAdvancedClusterCommands;\nimport io.lettuce.core.cluster.api.sync.RedisClusterCommands;\nimport io.lettuce.core.resource.ClientResources;\nimport io.lettuce.core.resource.DefaultClientResources;\nimport org.json.JSONObject;\nimport io.lettuce.core.cluster.ClusterTopologyRefreshOptions.RefreshTrigger;\nimport java.time.Duration; \npublic class redissClass {\n     public static void main(String[] args) {\n         String name = &quot;name&quot;;\n            String password = &quot;password&quot;;\n            String host=&quot;host.com&quot;;\n            String query=&quot;1006110582&quot;;\n            ClientResources clientResources = DefaultClientResources.create();\n            RedisClusterClient clusterClient = RedisClusterClient.create(clientResources, RedisURI.builder().redis(host,6379)\n                    .withSsl(true)\n                    .withAuthentication(name,password)\n                    .withVerifyPeer(false).build());\n            clusterClient.setOptions(ClusterClientOptions.builder()\n                    .topologyRefreshOptions(ClusterTopologyRefreshOptions.builder()\n                            .enablePeriodicRefresh(Duration.ofSeconds(5))\n                            .build())\n                    .build());\n            StatefulRedisClusterConnection&lt;String, String&gt; connection = clusterClient.connect();\n            RedisClusterCommands&lt;String, String&gt; syncCommands = connection.sync();\n            String response = syncCommands.ping();\n            System.out.println(&quot;Redis response: &quot; + response);\n            System.out.println(&quot;type&quot;+syncCommands.type(query));\n            String jsonString=syncCommands.get(query);\n            JSONObject jsonObject = new JSONObject(jsonString);\n            String euid=jsonObject.getString(&quot;euid&quot;);\n            System.out.println(&quot;euid&quot;+euid);\n            connection.close();\n            clientResources.shutdown();\n        } }\n</code></pre>\n<p>Error:</p>\n<pre><code>Redis response: PONG typeReJSON-RL Exception in thread &quot;main&quot; io.lettuce.core.RedisCommandExecutionException: WRONGTYPE Operation against a key holding the wrong kind of value     \nat io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:137)     \nat io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:72)  \nat io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)\nat io.lettuce.core.cluster.ClusterFutureSyncInvocationHandler.handleInvocation(ClusterFutureSyncInvocationHandler.java:130)     \nat io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)     \nat jdk.proxy1/jdk.proxy1.$Proxy23.get(Unknown Source)     \nat redissClass.main(redissClass.java:44)\n</code></pre>\n"},{"tags":["java","android","flutter","android-studio"],"owner":{"account_id":16562396,"reputation":3,"user_id":11967998,"display_name":"Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677275359,"creation_date":1677275359,"question_id":75561673,"body_markdown":"So actually I been working with Ai to find a solution for a bug on my project, the bug is when there is a lot of Categories it make the screen full , so instead of presenting all the cat I decided to present just 8 categories and when the user click on Show More Text View it show him the rest of categories , the problem here is  I been Trying for a while and nothings is working :\r\n\r\nCode that present all categories once :\r\n\r\n```\r\n    private void requestAllCategory() {\r\n        API api = RestAdapter.createAPI();\r\n        callbackCategories = api.allCategory();\r\n        callbackCategories.enqueue(new Callback&lt;List&lt;Category&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Category&gt;&gt; call, Response&lt;List&lt;Category&gt;&gt; response) {\r\n                is_request_category_finish = true;\r\n                if (response.body() != null &amp;&amp; response.body().size() &gt; 0) {\r\n                    categories = Tools.getSortedCategory(response.body());\r\n                    categories.get(0).selected = true;\r\n                    category = categories.get(0);\r\n                    displayApiResult(null);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Category&gt;&gt; call, Throwable t) {\r\n                if (!call.isCanceled()) onFailRequest(page_no);\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n```\r\n\r\nand here is the code that present just 8 :\r\n\r\n```\r\nprivate void requestAllSlider() {\r\n    API api = RestAdapter.createAPI();\r\n    callbackSliders = api.allSlider();\r\n    callbackSliders.enqueue(new Callback&lt;List&lt;Slider&gt;&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;List&lt;Slider&gt;&gt; call, Response&lt;List&lt;Slider&gt;&gt; response) {\r\n            sliders = response.body();\r\n            is_request_slider_finish = true;\r\n            if (sliders != null &amp;&amp; sliders.size() &gt; 0) {\r\n                displayApiResult(null);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;List&lt;Slider&gt;&gt; call, Throwable t) {\r\n            if (!call.isCanceled()) onFailRequest(page_no);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nI&#39;m looking just for a method to show The rest of categories when user click on text show more","title":"Looking for a Method to show More than all categories when I click on a TextView","body":"<p>So actually I been working with Ai to find a solution for a bug on my project, the bug is when there is a lot of Categories it make the screen full , so instead of presenting all the cat I decided to present just 8 categories and when the user click on Show More Text View it show him the rest of categories , the problem here is  I been Trying for a while and nothings is working :</p>\n<p>Code that present all categories once :</p>\n<pre><code>    private void requestAllCategory() {\n        API api = RestAdapter.createAPI();\n        callbackCategories = api.allCategory();\n        callbackCategories.enqueue(new Callback&lt;List&lt;Category&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;Category&gt;&gt; call, Response&lt;List&lt;Category&gt;&gt; response) {\n                is_request_category_finish = true;\n                if (response.body() != null &amp;&amp; response.body().size() &gt; 0) {\n                    categories = Tools.getSortedCategory(response.body());\n                    categories.get(0).selected = true;\n                    category = categories.get(0);\n                    displayApiResult(null);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;Category&gt;&gt; call, Throwable t) {\n                if (!call.isCanceled()) onFailRequest(page_no);\n            }\n        });\n    }\n\n    \n</code></pre>\n<p>and here is the code that present just 8 :</p>\n<pre><code>private void requestAllSlider() {\n    API api = RestAdapter.createAPI();\n    callbackSliders = api.allSlider();\n    callbackSliders.enqueue(new Callback&lt;List&lt;Slider&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Slider&gt;&gt; call, Response&lt;List&lt;Slider&gt;&gt; response) {\n            sliders = response.body();\n            is_request_slider_finish = true;\n            if (sliders != null &amp;&amp; sliders.size() &gt; 0) {\n                displayApiResult(null);\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;Slider&gt;&gt; call, Throwable t) {\n            if (!call.isCanceled()) onFailRequest(page_no);\n        }\n    });\n}\n</code></pre>\n<p>I'm looking just for a method to show The rest of categories when user click on text show more</p>\n"},{"tags":["java","sdkman"],"answers":[{"comments":[{"owner":{"account_id":1506530,"reputation":1001,"user_id":1409784,"display_name":"Nigel Savage"},"score":2,"creation_date":1629200100,"post_id":68815865,"comment_id":121618658,"body_markdown":"above is identical to my working  ~/.bashrc","body":"above is identical to my working  ~/.bashrc"},{"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"score":0,"creation_date":1676585510,"post_id":68815865,"comment_id":133172312,"body_markdown":"Pasted the above in ~/.profile of my raspberry pi and it worked","body":"Pasted the above in ~/.profile of my raspberry pi and it worked"}],"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629196863,"creation_date":1629196863,"answer_id":68815865,"question_id":68814094,"body_markdown":"When you run sdkman, at some point it printed some instructions to add a couple of lines to your shell rc file, so it would be activated with all shells.\r\n\r\nFor example, I have this at the end of my `~/.zshrc` (might differ from bash)\r\n\r\n```\r\nexport SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\r\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n```","title":"How to set sdkman and JDK installed by sdkman path in Ubuntu permanently","body":"<p>When you run sdkman, at some point it printed some instructions to add a couple of lines to your shell rc file, so it would be activated with all shells.</p>\n<p>For example, I have this at the end of my <code>~/.zshrc</code> (might differ from bash)</p>\n<pre><code>export SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11584455,"reputation":199,"user_id":9719106,"display_name":"Anmol Tomer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677274539,"creation_date":1677274539,"answer_id":75561580,"question_id":68814094,"body_markdown":"Wrote a python program for this. This will print the commands that you need to run to point your local JDKs as unclassified Vendor but allows you to reuse the JDKs present usually at `/Users/{username}/Library/Java/JavaVirtualMachines directory`, which would have been the case before you installed SDKMan.\r\n\r\nAfter running the program as shown in image below your local JDKs will be linked with SDKMan.\r\n\r\n```python\r\n&quot;&quot;&quot;\r\nWhat this program does? Links locally available java directories inside /Users/{username}/Library/Java/JavaVirtualMachines directory to sdkman local installations.\r\nhttps://i.imgur.com/NaSXX99.png\r\n&quot;&quot;&quot;\r\n\r\n\r\nimport os\r\nimport subprocess\r\nimport getpass\r\n\r\ndef nameValidation(i):\r\n    j = &#39;&#39;\r\n    if len(i) &gt; 15:\r\n            shortName = i.split(&#39;-&#39;)\r\n            # print(f&#39;{shortName[0]} : {shortName}&#39;)\r\n            if(shortName[0] == &#39;corretto&#39;):\r\n                shortName[0] = &#39;amzn&#39;\r\n            elif shortName[0] == &#39;temurin&#39;:\r\n                shortName[0] = &#39;tem&#39;\r\n            elif shortName[0] == &#39;gluon&#39;:\r\n                shortName[0] = &#39;gln&#39;\r\n            elif shortName[0] == &#39;graalvm&#39;:\r\n                shortName[0] = &#39;grl&#39;\r\n            elif shortName[0] == &#39;java.net&#39;:\r\n                shortName[0] = &#39;open&#39;\r\n            elif shortName[0] == &#39;liberica&#39;:\r\n                shortName[0] = &#39;librca&#39;\r\n            elif shortName[0] == &#39;libericanik&#39;:\r\n                shortName[0] = &#39;nik&#39;\r\n            elif shortName[0] == &#39;microsoft&#39;:\r\n                shortName[0] = &#39;ms&#39;\r\n            elif shortName[0] == &#39;oracle&#39;:\r\n                shortName[0] = &#39;oracle&#39;\r\n            elif shortName[0] == &#39;sapmachine&#39;:\r\n                shortName[0] = &#39;sapmchn&#39;\r\n            elif shortName[0] == &#39;semeru&#39;:\r\n                shortName[0] = &#39;sem&#39;\r\n            elif shortName[0] == &#39;zulu&#39;:\r\n                shortName[0] = &#39;zulu&#39;\r\n            j = f&#39;{shortName[1]}-{shortName[0]}&#39;\r\n            return j\r\n    else:\r\n        return i\r\n        \r\n    \r\n\r\n\r\ndef printCommandsToLinkJDKWithSDKMan(jdkList,baseDirectoryAddress):\r\n    listToReturn = []\r\n    for i in jdkList:\r\n        name = nameValidation(i)\r\n        listToReturn.append(f&#39;sdk install java {name} {baseDirectoryAddress}/{i}&#39;)\r\n        # print(f&#39;Adding: {listToReturn[-1]}&#39;)\r\n    return listToReturn\r\n\r\ndef runCommand (command):\r\n    output=subprocess.run(\r\n        command,\r\n        stdout=subprocess.PIPE,\r\n        stderr=subprocess.PIPE,shell=True)\r\n\r\n    if output.returncode != 0:\r\n        raise RuntimeError(\r\n            output.stderr.decode(&quot;utf-8&quot;))\r\n\r\n    return output\r\n\r\nusername = getpass.getuser()\r\nchd = f&quot;/Users/{username}/Library/Java/JavaVirtualMachines&quot; # add the absolute path where your JDKs are present here\r\n\r\nos.chdir(chd) # Change to parent directory where all your JDKs are present to extract names of JDK in a list\r\n# \r\nallInstalledExternalJavaJDKs = [name for name in os.listdir(&quot;.&quot;) if os.path.isdir(name)]\r\n# print(allInstalledExternalJavaJDKs) # prints list of directories of all installed JDKs\r\n\r\noutputList = printCommandsToLinkJDKWithSDKMan(allInstalledExternalJavaJDKs,chd) # send the list to method\r\nprint(&#39;Commands to run to link local JDKs: \\n\\n&#39;)\r\nfor cmd in outputList:\r\n    print(cmd)\r\n```\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n[![Command Printed for all local JDKs to link to SDKman][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dwk8t.jpg\r\n  [2]: https://i.stack.imgur.com/Pt7is.png","title":"How to set sdkman and JDK installed by sdkman path in Ubuntu permanently","body":"<p>Wrote a python program for this. This will print the commands that you need to run to point your local JDKs as unclassified Vendor but allows you to reuse the JDKs present usually at <code>/Users/{username}/Library/Java/JavaVirtualMachines directory</code>, which would have been the case before you installed SDKMan.</p>\n<p>After running the program as shown in image below your local JDKs will be linked with SDKMan.</p>\n<pre class=\"lang-py prettyprint-override\"><code>&quot;&quot;&quot;\nWhat this program does? Links locally available java directories inside /Users/{username}/Library/Java/JavaVirtualMachines directory to sdkman local installations.\nhttps://i.imgur.com/NaSXX99.png\n&quot;&quot;&quot;\n\n\nimport os\nimport subprocess\nimport getpass\n\ndef nameValidation(i):\n    j = ''\n    if len(i) &gt; 15:\n            shortName = i.split('-')\n            # print(f'{shortName[0]} : {shortName}')\n            if(shortName[0] == 'corretto'):\n                shortName[0] = 'amzn'\n            elif shortName[0] == 'temurin':\n                shortName[0] = 'tem'\n            elif shortName[0] == 'gluon':\n                shortName[0] = 'gln'\n            elif shortName[0] == 'graalvm':\n                shortName[0] = 'grl'\n            elif shortName[0] == 'java.net':\n                shortName[0] = 'open'\n            elif shortName[0] == 'liberica':\n                shortName[0] = 'librca'\n            elif shortName[0] == 'libericanik':\n                shortName[0] = 'nik'\n            elif shortName[0] == 'microsoft':\n                shortName[0] = 'ms'\n            elif shortName[0] == 'oracle':\n                shortName[0] = 'oracle'\n            elif shortName[0] == 'sapmachine':\n                shortName[0] = 'sapmchn'\n            elif shortName[0] == 'semeru':\n                shortName[0] = 'sem'\n            elif shortName[0] == 'zulu':\n                shortName[0] = 'zulu'\n            j = f'{shortName[1]}-{shortName[0]}'\n            return j\n    else:\n        return i\n        \n    \n\n\ndef printCommandsToLinkJDKWithSDKMan(jdkList,baseDirectoryAddress):\n    listToReturn = []\n    for i in jdkList:\n        name = nameValidation(i)\n        listToReturn.append(f'sdk install java {name} {baseDirectoryAddress}/{i}')\n        # print(f'Adding: {listToReturn[-1]}')\n    return listToReturn\n\ndef runCommand (command):\n    output=subprocess.run(\n        command,\n        stdout=subprocess.PIPE,\n        stderr=subprocess.PIPE,shell=True)\n\n    if output.returncode != 0:\n        raise RuntimeError(\n            output.stderr.decode(&quot;utf-8&quot;))\n\n    return output\n\nusername = getpass.getuser()\nchd = f&quot;/Users/{username}/Library/Java/JavaVirtualMachines&quot; # add the absolute path where your JDKs are present here\n\nos.chdir(chd) # Change to parent directory where all your JDKs are present to extract names of JDK in a list\n# \nallInstalledExternalJavaJDKs = [name for name in os.listdir(&quot;.&quot;) if os.path.isdir(name)]\n# print(allInstalledExternalJavaJDKs) # prints list of directories of all installed JDKs\n\noutputList = printCommandsToLinkJDKWithSDKMan(allInstalledExternalJavaJDKs,chd) # send the list to method\nprint('Commands to run to link local JDKs: \\n\\n')\nfor cmd in outputList:\n    print(cmd)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Dwk8t.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dwk8t.jpg\" alt=\"Output\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Pt7is.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pt7is.png\" alt=\"Command Printed for all local JDKs to link to SDKman\" /></a></p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3727,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68815865,"answer_count":2,"score":3,"last_activity_date":1677274539,"creation_date":1629188993,"question_id":68814094,"body_markdown":"I follow to this https://sdkman.io/install to install install sdkman. After instillation all worked nice. I can see correct version by sdk version. Also I can install various Java version. But all are for the correct shell session. As soon as I close and open new shell, I can&#39;t get neither sdkman nor those installed JDK. I can see all JDK at `~/.sdkman/candidates/java`. I have to run this all the time `source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;`\r\n\r\nHow do I set sdkman as well as JDK permanent in my system.       \r\n","title":"How to set sdkman and JDK installed by sdkman path in Ubuntu permanently","body":"<p>I follow to this <a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">https://sdkman.io/install</a> to install install sdkman. After instillation all worked nice. I can see correct version by sdk version. Also I can install various Java version. But all are for the correct shell session. As soon as I close and open new shell, I can't get neither sdkman nor those installed JDK. I can see all JDK at <code>~/.sdkman/candidates/java</code>. I have to run this all the time <code>source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;</code></p>\n<p>How do I set sdkman as well as JDK permanent in my system.</p>\n"},{"tags":["java","lambda","language-lawyer","type-inference","jls"],"comments":[{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1571909434,"post_id":58538083,"comment_id":103398805,"body_markdown":"It should be `Iterable&lt;? extends String&gt;` Not `? extends CharSequence`","body":"It should be <code>Iterable&lt;? extends String&gt;</code> Not <code>? extends CharSequence</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1571909743,"post_id":58538083,"comment_id":103398982,"body_markdown":"@RavindraRanwala I don&#39;t understand your comment. Look at the [Javadoc for Files.write](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#write-java.nio.file.Path-java.lang.Iterable-java.nio.file.OpenOption...-). This is not something I can change. And because `String` is final, it would be equal to `Iterable&lt;String&gt;`.","body":"@RavindraRanwala I don&#39;t understand your comment. Look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#write-java.nio.file.Path-java.lang.Iterable-java.nio.file.OpenOption...-\" rel=\"nofollow noreferrer\">Javadoc for Files.write</a>. This is not something I can change. And because <code>String</code> is final, it would be equal to <code>Iterable&lt;String&gt;</code>."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1571912048,"post_id":58538083,"comment_id":103400125,"body_markdown":"Might just be related to the [Capture Conversion#jls-5.1.10](https://docs.oracle.com/javase/specs/jls/se13/html/jls-5.html#jls-5.1.10)","body":"Might just be related to the <a href=\"https://docs.oracle.com/javase/specs/jls/se13/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">Capture Conversion#jls-5.1.10</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1571913787,"post_id":58538083,"comment_id":103401102,"body_markdown":"@Naman not at all. It doesn&#39;t matter if I use it as part of an assignment or if I use it in a call to `Files.write`. Assignment is just an easy way to provide a target for the lambda.","body":"@Naman not at all. It doesn&#39;t matter if I use it as part of an assignment or if I use it in a call to <code>Files.write</code>. Assignment is just an easy way to provide a target for the lambda."}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1571915019,"post_id":58539641,"comment_id":103401780,"body_markdown":"Interesting fact is that `Supplier&lt;Iterator&lt;? extends CharSequence&gt;&gt;` as target works just fine. What is the difference here?","body":"Interesting fact is that <code>Supplier&lt;Iterator&lt;? extends CharSequence&gt;&gt;</code> as target works just fine. What is the difference here?"},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":0,"creation_date":1571916029,"post_id":58539641,"comment_id":103402304,"body_markdown":"@JohannesKuhn You added one more level of nesting which doesn&#39;t have a wildcard.","body":"@JohannesKuhn You added one more level of nesting which doesn&#39;t have a wildcard."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1571916165,"post_id":58539641,"comment_id":103402381,"body_markdown":"So basically, because the parameter `Iterator&lt;? extends CharSequence&gt;` is not a wildcard, it doesn&#39;t do that? Then why not do that one level above as well?","body":"So basically, because the parameter <code>Iterator&lt;? extends CharSequence&gt;</code> is not a wildcard, it doesn&#39;t do that? Then why not do that one level above as well?"},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":0,"creation_date":1571916246,"post_id":58539641,"comment_id":103402428,"body_markdown":"@JohannesKuhn That&#39;s a question for the language designers.","body":"@JohannesKuhn That&#39;s a question for the language designers."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1571916414,"post_id":58539641,"comment_id":103402518,"body_markdown":"So, to summarize, to avoid a hard technical problem (type inference is hard), they decided to cheat a bit (which is fine), but they did it in a way that does not avoid this problem in all cases (which is stupid)?","body":"So, to summarize, to avoid a hard technical problem (type inference is hard), they decided to cheat a bit (which is fine), but they did it in a way that does not avoid this problem in all cases (which is stupid)?"},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":0,"creation_date":1571918410,"post_id":58539641,"comment_id":103403539,"body_markdown":"@JohannesKuhn If you&#39;d like to dive deeper into this topic - check the JLS section which describes how does the [**function type**](https://docs.oracle.com/javase/specs/jls/se12/html/jls-9.html#jls-9.9) is defined.","body":"@JohannesKuhn If you&#39;d like to dive deeper into this topic - check the JLS section which describes how does the <a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-9.html#jls-9.9\" rel=\"nofollow noreferrer\"><b>function type</b></a> is defined."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1571924660,"post_id":58539641,"comment_id":103406982,"body_markdown":"@OleksandrPyrohov this... makes no sense to me. `LHS` becomes `Iterator&lt;CharSequence&gt;`, let&#39;s suppose this is true; then how come a cast of the `RHS` (`(Iterable&lt;String&gt;)`...) makes it work? It should generate the same exact error.","body":"@OleksandrPyrohov this... makes no sense to me. <code>LHS</code> becomes <code>Iterator&lt;CharSequence&gt;</code>, let&#39;s suppose this is true; then how come a cast of the <code>RHS</code> (<code>(Iterable&lt;String&gt;)</code>...) makes it work? It should generate the same exact error."},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":0,"creation_date":1571924789,"post_id":58539641,"comment_id":103407062,"body_markdown":"@Eugene Citation from the linked bug: *We make some extra effort to choose a better function type when an explicitly-typed lambda expression is being used ...* - in case of explicitly-typed lambda expression the process is different.","body":"@Eugene Citation from the linked bug: <i>We make some extra effort to choose a better function type when an explicitly-typed lambda expression is being used ...</i> - in case of explicitly-typed lambda expression the process is different."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1571925008,"post_id":58539641,"comment_id":103407192,"body_markdown":"@OleksandrPyrohov right, I have read that. nevertheless, it does not make it less weird to me. your answer _is_ spot-on, no doubt, it&#39;s just me not completely satisfied.","body":"@OleksandrPyrohov right, I have read that. nevertheless, it does not make it less weird to me. your answer <i>is</i> spot-on, no doubt, it&#39;s just me not completely satisfied."},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":1,"creation_date":1571925061,"post_id":58539641,"comment_id":103407216,"body_markdown":"@Eugene Thank you, I completely understand you! I will also add a little clarification about the type of the lambda.","body":"@Eugene Thank you, I completely understand you! I will also add a little clarification about the type of the lambda."}],"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571925609,"creation_date":1571913898,"answer_id":58539641,"question_id":58538083,"body_markdown":"You can find some explanation [here][1]:\r\n\r\n&gt; Wildcard-parameterized functional interface types must be turned into a function type (method signature) before checking for compatibility ... This works as follows:\r\n\r\n    Iterable&lt;? extends CharSequence&gt; becomes () -&gt; Iterator&lt;CharSequence&gt;\r\n\r\nSo, if the lambda expression is implicitly-typed, the LHS becomes `Iterator&lt;CharSequence&gt;` while the RHS is `Iterator&lt;String&gt;`. Hence, an error:\r\n\r\n    Iterator&lt;String&gt; cannot be converted to Iterator&lt;CharSequence&gt;\r\n\r\nThis behavior is also explained in the [JLS &#167;18.5.3][2].\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8025073\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se12/html/jls-18.html#jls-18.5.3","title":"Why can&#39;t the Java compiler infer Iterable&lt;String&gt; from the constraints &quot;Iterable&lt;? extends CharSequence&gt; and () -&gt; (Iterator&lt;String&gt;)&quot;?","body":"<p>You can find some explanation <a href=\"https://bugs.openjdk.java.net/browse/JDK-8025073\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>Wildcard-parameterized functional interface types must be turned into a function type (method signature) before checking for compatibility ... This works as follows:</p>\n</blockquote>\n\n<pre><code>Iterable&lt;? extends CharSequence&gt; becomes () -&gt; Iterator&lt;CharSequence&gt;\n</code></pre>\n\n<p>So, if the lambda expression is implicitly-typed, the LHS becomes <code>Iterator&lt;CharSequence&gt;</code> while the RHS is <code>Iterator&lt;String&gt;</code>. Hence, an error:</p>\n\n<pre><code>Iterator&lt;String&gt; cannot be converted to Iterator&lt;CharSequence&gt;\n</code></pre>\n\n<p>This behavior is also explained in the <a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-18.html#jls-18.5.3\" rel=\"nofollow noreferrer\">JLS §18.5.3</a>.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1571998193,"post_id":58544856,"comment_id":103432187,"body_markdown":"And how does this work with `Supplier&lt;Iterator&lt;? extends CharSequence&gt;&gt;`?","body":"And how does this work with <code>Supplier&lt;Iterator&lt;? extends CharSequence&gt;&gt;</code>?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1572490896,"post_id":58544856,"comment_id":103579319,"body_markdown":"@JohannesKuhn this has to do with _nested_ wildcards, I am still trying to figure out what is going on, but [here](https://stackoverflow.com/questions/27902219/nested-wildcards/58631449#58631449) is a recent answer I&#39;ve posted related to this.","body":"@JohannesKuhn this has to do with <i>nested</i> wildcards, I am still trying to figure out what is going on, but <a href=\"https://stackoverflow.com/questions/27902219/nested-wildcards/58631449#58631449\">here</a> is a recent answer I&#39;ve posted related to this."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571931913,"creation_date":1571931913,"answer_id":58544856,"question_id":58538083,"body_markdown":"After reading the other answer (which is absolutely correct) and some coffee, it seems the explanation in the bug is pretty logical. \r\n\r\nThere are two cases here: an _explicit_ lambda type and an _implicit_ lambda type. The explicit type is : \r\n\r\n\r\n    Iterable&lt;String&gt; one = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n    Iterable&lt;? extends CharSequence&gt; iterable = one;\r\n\r\nor as in the OP&#39;s example:\r\n\r\n    Iterable&lt;? extends CharSequence&gt; iterable2 = (Iterable&lt;String&gt;) () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n\r\nWe are directly telling to the compiler which type the lambda expression is : `Iterable&lt;String&gt;`. \r\n\r\nIn this case the compiler has one thing to do only: see if the target is assignable to that type; pretty easy to find out and not very much related to lambdas per-se. \r\n\r\n   \r\n\r\n\r\nThe other type is an _implicit_ type, when the compiler has to _infer_ the type and things get a bit tricky here. The &quot;tricky&quot; part comes from the fact that the target uses wildcards, thus could match more than just one option. There could be an infinite number of ways (finite of course, but just to prove a point) that the lambda could be inferred as. \r\n\r\nIt could start with something like this for example:\r\n\r\n\r\n    Iterator&lt;? extends Serializable&gt; iter = Arrays.stream(arr).map(Object::toString).iterator();\r\n\r\nNo matter what further gets done, this will fail: `CharSequence` does not extend `Serializable`, but `String` does; we will not be able to assign `Iterable&lt;? extends CharSequence&gt; iterable` to &quot;whatever-the-infered-type-with-Serializable-is&quot;. \r\n\r\nOr it could start with:\r\n\r\n\r\n    Iterator&lt;? extends Comparable&lt;? extends CharSequence&gt;&gt; iter = Arrays.stream(arr).map(Object::toString).iterator();\r\n\r\nSo theoretically the compiler could just start to infer what that type could be and check one by one if a &quot;certain&quot; inferred type could match the target; but requires a lot of work, obviously; thus not done.\r\n\r\nThe other way is a lot easier, &quot;cut&quot; the target and thus drop the possibilities of inference to just one. Once the target is transformed to:\r\n\r\n\r\n    Iterable&lt;CharSequence&gt; iterable...\r\n\r\nthe work that a compiler has to do is _far_ more simple. \r\n\r\nThis, btw, would not be the first time I see this implicit vs explicit types logic in lambdas. \r\n\r\n   ","title":"Why can&#39;t the Java compiler infer Iterable&lt;String&gt; from the constraints &quot;Iterable&lt;? extends CharSequence&gt; and () -&gt; (Iterator&lt;String&gt;)&quot;?","body":"<p>After reading the other answer (which is absolutely correct) and some coffee, it seems the explanation in the bug is pretty logical. </p>\n\n<p>There are two cases here: an <em>explicit</em> lambda type and an <em>implicit</em> lambda type. The explicit type is : </p>\n\n<pre><code>Iterable&lt;String&gt; one = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\nIterable&lt;? extends CharSequence&gt; iterable = one;\n</code></pre>\n\n<p>or as in the OP's example:</p>\n\n<pre><code>Iterable&lt;? extends CharSequence&gt; iterable2 = (Iterable&lt;String&gt;) () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\n</code></pre>\n\n<p>We are directly telling to the compiler which type the lambda expression is : <code>Iterable&lt;String&gt;</code>. </p>\n\n<p>In this case the compiler has one thing to do only: see if the target is assignable to that type; pretty easy to find out and not very much related to lambdas per-se. </p>\n\n<p>The other type is an <em>implicit</em> type, when the compiler has to <em>infer</em> the type and things get a bit tricky here. The \"tricky\" part comes from the fact that the target uses wildcards, thus could match more than just one option. There could be an infinite number of ways (finite of course, but just to prove a point) that the lambda could be inferred as. </p>\n\n<p>It could start with something like this for example:</p>\n\n<pre><code>Iterator&lt;? extends Serializable&gt; iter = Arrays.stream(arr).map(Object::toString).iterator();\n</code></pre>\n\n<p>No matter what further gets done, this will fail: <code>CharSequence</code> does not extend <code>Serializable</code>, but <code>String</code> does; we will not be able to assign <code>Iterable&lt;? extends CharSequence&gt; iterable</code> to \"whatever-the-infered-type-with-Serializable-is\". </p>\n\n<p>Or it could start with:</p>\n\n<pre><code>Iterator&lt;? extends Comparable&lt;? extends CharSequence&gt;&gt; iter = Arrays.stream(arr).map(Object::toString).iterator();\n</code></pre>\n\n<p>So theoretically the compiler could just start to infer what that type could be and check one by one if a \"certain\" inferred type could match the target; but requires a lot of work, obviously; thus not done.</p>\n\n<p>The other way is a lot easier, \"cut\" the target and thus drop the possibilities of inference to just one. Once the target is transformed to:</p>\n\n<pre><code>Iterable&lt;CharSequence&gt; iterable...\n</code></pre>\n\n<p>the work that a compiler has to do is <em>far</em> more simple. </p>\n\n<p>This, btw, would not be the first time I see this implicit vs explicit types logic in lambdas. </p>\n"}],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":2,"score":8,"last_activity_date":1677274071,"creation_date":1571908564,"question_id":58538083,"body_markdown":"Background: I recently wrote [an answer](https://stackoverflow.com/questions/58484655/outputting-array-of-object-to-csv-file-correctly-in-java-help/58484936#58484936) where I suggested writing the following code:\r\n\r\n    Files.write(Paths.get(&quot;PostgradStudent.csv&quot;),\r\n            Arrays.stream(PGstudentArray).map(Object::toString).collect(Collectors.toList()),\r\n            StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING);\r\n\r\nAfter some thoughts, I went: &quot;I don&#39;t actually need a list here, I just need an `Iterable&lt;? extends CharSequence&gt;`&quot;.\r\nAs `Stream&lt;T&gt;` has a method `Iterator&lt;T&gt; iterator()`, I then thought, well, that&#39;s easy:\r\n\r\n    Iterable&lt;? extends CharSequence&gt; iterable = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n\r\n(I extracted it to a local variable for this question, I would like to do it inline at the end.)\r\nUnfortunately this does not compile without additional type hints:\r\n\r\n```\r\nerror: incompatible types: bad return type in lambda expression\r\nIterable&lt;? extends CharSequence&gt; iterable = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n                                                                                                   ^\r\n    Iterator&lt;String&gt; cannot be converted to Iterator&lt;CharSequence&gt;\r\n```\r\n\r\nOf course adding some type hints will make this work:\r\n\r\n    Iterable&lt;? extends CharSequence&gt; iterable2 = (Iterable&lt;String&gt;) () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n    Iterable&lt;? extends CharSequence&gt; iterable3 = () -&gt; Arrays.stream(arr).&lt;CharSequence&gt;map(Object::toString).iterator();\r\n\r\nIn my understanding, the Java compiler does the following things:\r\n\r\n1. It looks at the target type of the expression, which is `Iterable&lt;? extends CharSequence&gt;`.\r\n2. It then determines the function type of this interface, which is `() -&gt; Iterator&lt;? extends CharSequence&gt;` in my case.\r\n3. It then looks at the lambda and checks whether it is compatible.\r\n     In my case, the lambda has a type of `() -&gt; Iterator&lt;String&gt;`.\r\n     Which is compatible with the function type determined in step 2.\r\n\r\nInterestingly, if I change the target of the lambda to `Supplier`:\r\n\r\n    Supplier&lt;Iterator&lt;? extends CharSequence&gt;&gt; supplier = () -&gt; Arrays.stream(arr)\r\n        .map(Object::toString)\r\n        .iterator();\r\n\r\nit will compile fine.\r\n\r\nWhy can&#39;t javac infer the correct type for this lambda?\r\n\r\n","title":"Why can&#39;t the Java compiler infer Iterable&lt;String&gt; from the constraints &quot;Iterable&lt;? extends CharSequence&gt; and () -&gt; (Iterator&lt;String&gt;)&quot;?","body":"<p>Background: I recently wrote <a href=\"https://stackoverflow.com/questions/58484655/outputting-array-of-object-to-csv-file-correctly-in-java-help/58484936#58484936\">an answer</a> where I suggested writing the following code:</p>\n<pre><code>Files.write(Paths.get(&quot;PostgradStudent.csv&quot;),\n        Arrays.stream(PGstudentArray).map(Object::toString).collect(Collectors.toList()),\n        StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING);\n</code></pre>\n<p>After some thoughts, I went: &quot;I don't actually need a list here, I just need an <code>Iterable&lt;? extends CharSequence&gt;</code>&quot;.\nAs <code>Stream&lt;T&gt;</code> has a method <code>Iterator&lt;T&gt; iterator()</code>, I then thought, well, that's easy:</p>\n<pre><code>Iterable&lt;? extends CharSequence&gt; iterable = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\n</code></pre>\n<p>(I extracted it to a local variable for this question, I would like to do it inline at the end.)\nUnfortunately this does not compile without additional type hints:</p>\n<pre><code>error: incompatible types: bad return type in lambda expression\nIterable&lt;? extends CharSequence&gt; iterable = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\n                                                                                                   ^\n    Iterator&lt;String&gt; cannot be converted to Iterator&lt;CharSequence&gt;\n</code></pre>\n<p>Of course adding some type hints will make this work:</p>\n<pre><code>Iterable&lt;? extends CharSequence&gt; iterable2 = (Iterable&lt;String&gt;) () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\nIterable&lt;? extends CharSequence&gt; iterable3 = () -&gt; Arrays.stream(arr).&lt;CharSequence&gt;map(Object::toString).iterator();\n</code></pre>\n<p>In my understanding, the Java compiler does the following things:</p>\n<ol>\n<li>It looks at the target type of the expression, which is <code>Iterable&lt;? extends CharSequence&gt;</code>.</li>\n<li>It then determines the function type of this interface, which is <code>() -&gt; Iterator&lt;? extends CharSequence&gt;</code> in my case.</li>\n<li>It then looks at the lambda and checks whether it is compatible.\nIn my case, the lambda has a type of <code>() -&gt; Iterator&lt;String&gt;</code>.\nWhich is compatible with the function type determined in step 2.</li>\n</ol>\n<p>Interestingly, if I change the target of the lambda to <code>Supplier</code>:</p>\n<pre><code>Supplier&lt;Iterator&lt;? extends CharSequence&gt;&gt; supplier = () -&gt; Arrays.stream(arr)\n    .map(Object::toString)\n    .iterator();\n</code></pre>\n<p>it will compile fine.</p>\n<p>Why can't javac infer the correct type for this lambda?</p>\n"},{"tags":["java","android","permissions","android-manifest","screensaver"],"owner":{"account_id":27872782,"reputation":1,"user_id":21282901,"display_name":"YMP Yuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677273700,"creation_date":1677273700,"question_id":75561488,"body_markdown":"I wanted to make an app for Android and Android TV that acts as a screen saver. After studying this material:\r\n\r\nhttps://stackoverflow.com/questions/8356031/creating-a-screensaver-in-android\r\n\r\n**I realized that I need to add a special permission:**\r\n\r\n- android.service.dreams.DreamService\r\n\r\n- android.intent.action.MAIN\r\n\r\n- android.intent.category.HOME\r\n\r\n- android.intent.category.DEFAULT\r\n\r\n**But unfortunately this doesn&#39;t work. The app doesn&#39;t show up in the screenserver lists either on Android TV or on my phone.**\r\n\r\n[List of all screensavers](https://i.stack.imgur.com/KhpxU.png)\r\n\r\nCan you help me?\r\n\r\n**Android Manifest:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;\r\n \r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:permission=&quot;android.permission.BIND_DREAM_SERVICE&quot;\r\n        android:theme=&quot;@style/Theme.Screensaver&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;action android:name=&quot;android.service.dreams.DreamService&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n**Java:**\r\n\r\n```\r\npackage com.tv.screensaver.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.view.WindowManager;\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        getWindow().addFlags(\r\n                WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED |\r\n                        WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON |\r\n                        WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\r\n    }\r\n}\r\n```\r\n\r\nP.S I&#39;m new to StackOverflow and not really programming in Android Studio (I&#39;m 13 years old)\r\n\r\n**I realized that I need to add a special permission:**\r\n\r\n- android.service.dreams.DreamService\r\n\r\n- android.intent.action.MAIN\r\n\r\n- android.intent.category.HOME\r\n\r\n- android.intent.category.DEFAULT\r\n\r\n**But unfortunately this doesn&#39;t work. The app doesn&#39;t show up in the screenserver lists either on Android TV or on my phone.**\r\n\r\n[List of all screensavers](https://i.stack.imgur.com/KhpxU.png)\r\n","title":"Creating a screensaver app in Android (or Android TV)","body":"<p>I wanted to make an app for Android and Android TV that acts as a screen saver. After studying this material:</p>\n<p><a href=\"https://stackoverflow.com/questions/8356031/creating-a-screensaver-in-android\">Creating a screensaver in Android</a></p>\n<p><strong>I realized that I need to add a special permission:</strong></p>\n<ul>\n<li><p>android.service.dreams.DreamService</p>\n</li>\n<li><p>android.intent.action.MAIN</p>\n</li>\n<li><p>android.intent.category.HOME</p>\n</li>\n<li><p>android.intent.category.DEFAULT</p>\n</li>\n</ul>\n<p><strong>But unfortunately this doesn't work. The app doesn't show up in the screenserver lists either on Android TV or on my phone.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KhpxU.png\" rel=\"nofollow noreferrer\">List of all screensavers</a></p>\n<p>Can you help me?</p>\n<p><strong>Android Manifest:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;\n \n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:permission=&quot;android.permission.BIND_DREAM_SERVICE&quot;\n        android:theme=&quot;@style/Theme.Screensaver&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;action android:name=&quot;android.service.dreams.DreamService&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>Java:</strong></p>\n<pre><code>package com.tv.screensaver.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.WindowManager;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        getWindow().addFlags(\n                WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED |\n                        WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON |\n                        WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\n    }\n}\n</code></pre>\n<p>P.S I'm new to StackOverflow and not really programming in Android Studio (I'm 13 years old)</p>\n<p><strong>I realized that I need to add a special permission:</strong></p>\n<ul>\n<li><p>android.service.dreams.DreamService</p>\n</li>\n<li><p>android.intent.action.MAIN</p>\n</li>\n<li><p>android.intent.category.HOME</p>\n</li>\n<li><p>android.intent.category.DEFAULT</p>\n</li>\n</ul>\n<p><strong>But unfortunately this doesn't work. The app doesn't show up in the screenserver lists either on Android TV or on my phone.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KhpxU.png\" rel=\"nofollow noreferrer\">List of all screensavers</a></p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":0,"creation_date":1677564047,"post_id":75561362,"comment_id":133357830,"body_markdown":"what is your use-case? in short what and why you are trying to do it?","body":"what is your use-case? in short what and why you are trying to do it?"}],"owner":{"account_id":2802819,"reputation":81,"user_id":2410726,"display_name":"SERGIO STATERI JUNIOR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677272665,"creation_date":1677272665,"question_id":75561362,"body_markdown":"How can I read 235 thousand records from DynamoDB using DynamoDbAsyncTable.scan()?\r\nI need to use the classes on this package: software.amazon.awssdk.enhanced.dynamodb.*\r\n\r\n\r\n\r\nThanks","title":"How to read a large amount of data from DynamoDB in Java?","body":"<p>How can I read 235 thousand records from DynamoDB using DynamoDbAsyncTable.scan()?\nI need to use the classes on this package: software.amazon.awssdk.enhanced.dynamodb.*</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","apache-camel"],"comments":[{"owner":{"account_id":943935,"reputation":1636,"user_id":971566,"display_name":"Oscerd"},"score":0,"creation_date":1674224513,"post_id":75168859,"comment_id":132674626,"body_markdown":"It would be good to report the Camel version too.","body":"It would be good to report the Camel version too."}],"owner":{"account_id":8391615,"reputation":91,"user_id":6300171,"display_name":"shijin raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677272207,"creation_date":1674112854,"question_id":75168859,"body_markdown":"We have observed that our Apache Camel Kafka is able to process only 100Kb / second though our kafka producing rate is high. We have 6 kafka partitions and 6 Apache Camel Kafka consumer instances .\r\n\r\nWe have tried with multithreading options - threads(300, 500) . But we could not see any improvements\r\n\r\nIt will be really helpful if someone could help to understand the correct configurations to improve the kafka consumer rate.\r\n \r\nWe are using all the default settings for Apache Camel Kafka consumer.\r\n\r\nI could see the below kafka configuration in spring boot application start :\r\n````\r\nINFO 1 — [           main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values:\r\n        acks = 1\r\n        batch.size = 16384\r\n        bootstrap.servers = [kafka1.xxx.net:9093, kafka2.xxx.net:9093, kafka3.xxx.net:9093, kafka4.xxx.net:9093, kafka5.xxx.net:9093, kafka6.xxx.net:9093]\r\n        buffer.memory = 33554432\r\n        client.dns.lookup = use_all_dns_ips\r\n        client.id = producer-1\r\n        compression.type = none\r\n        connections.max.idle.ms = 540000\r\n        delivery.timeout.ms = 120000\r\n        enable.idempotence = false\r\n        interceptor.classes = []\r\n        key.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n        linger.ms = 0\r\n        max.block.ms = 60000\r\n        max.in.flight.requests.per.connection = 5\r\n        max.request.size = 104857600\r\n        metadata.max.age.ms = 300000\r\n        metadata.max.idle.ms = 300000\r\n        metric.reporters = [org.apache.kafka.common.metrics.JmxReporter]\r\n        metrics.num.samples = 2\r\n        metrics.recording.level = INFO\r\n        metrics.sample.window.ms = 30000\r\n        partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n        receive.buffer.bytes = 65536000\r\n        reconnect.backoff.max.ms = 1000\r\n        reconnect.backoff.ms = 50\r\n        request.timeout.ms = 30000\r\n        retries = 0\r\n        retry.backoff.ms = 100\r\n        sasl.client.callback.handler.class = null\r\n        sasl.jaas.config = null\r\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n        sasl.kerberos.min.time.before.relogin = 60000\r\n        sasl.kerberos.service.name = null\r\n        sasl.kerberos.ticket.renew.jitter = 0.05\r\n        sasl.kerberos.ticket.renew.window.factor = 0.8\r\n        sasl.login.callback.handler.class = null\r\n        sasl.login.class = null\r\n        sasl.login.refresh.buffer.seconds = 300\r\n        sasl.login.refresh.min.period.seconds = 60\r\n        sasl.login.refresh.window.factor = 0.8\r\n        sasl.login.refresh.window.jitter = 0.05\r\n        sasl.mechanism = GSSAPI\r\n        security.protocol = SSL\r\n        security.providers = null\r\n        send.buffer.bytes = 131072\r\n        socket.connection.setup.timeout.max.ms = 30000\r\n        socket.connection.setup.timeout.ms = 10000\r\n        ssl.cipher.suites = null\r\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n        ssl.endpoint.identification.algorithm = https\r\n        ssl.engine.factory.class = null\r\n        ssl.key.password = [hidden]\r\n        ssl.keymanager.algorithm = SunX509\r\n        ssl.keystore.certificate.chain = null\r\n        ssl.keystore.key = null\r\n        ssl.keystore.location = /tmp/certs/XXX.jks\r\n        ssl.keystore.password = [hidden]\r\n        ssl.keystore.type = JKS\r\n        ssl.protocol = TLSv1.3\r\n        ssl.provider = null\r\n        ssl.secure.random.implementation = null\r\n        ssl.trustmanager.algorithm = PKIX\r\n        ssl.truststore.certificates = null\r\n        ssl.truststore.location = /tmp/certsFolder/kafka.truststore.jks\r\n        ssl.truststore.password = [hidden]\r\n        ssl.truststore.type = JKS\r\n        transaction.timeout.ms = 60000\r\n        transactional.id = null\r\n        value.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n````\r\n\r\nWe have tried with multithreading options - .threads(300, 500) . But we could not see any improvements.\r\n\r\nIs it something related with kafka consumer properties ?\r\n\r\nspring-boot-starter-parent version - 2.6.8\r\norg.apache.camel.springboot version - 3.14.1\r\n\r\nGrafana Dashboard - \r\nProducer Rate and Consumer Rates Overview :\r\n[![enter image description here][1]][1] \r\n\r\nKafka Partition 1 – Producer and Consumer: Producer is a constant line . But Apache camel consumer has ups &amp; down in the consumption rate\r\n[![enter image description here][2]][2] \r\n\r\nKafka Partition 2 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate  \r\n[![enter image description here][3]][3]\r\n\r\nKafka Partition 3 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate\r\n[![enter image description here][4]][4] \r\n\r\nKafka Partition 4 – Producer and Consumer: Producer is a constant line. But Apache camel consumer is only having a consumption rate of 30 B/s.\r\n[![enter image description here][5]][5] \r\n\r\nKafka Partition 5 – Producer and Consumer: Producer is a constant line. But Apache camel consumer is only having a consumption rate of 30 B/s.\r\n[![enter image description here][6]][6]\r\n \r\nKafka Partition 6 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate.\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l26v7.jpg\r\n  [2]: https://i.stack.imgur.com/7jVaN.jpg\r\n  [3]: https://i.stack.imgur.com/6CQ2c.jpg\r\n  [4]: https://i.stack.imgur.com/ULQME.jpg\r\n  [5]: https://i.stack.imgur.com/rLNYV.jpg\r\n  [6]: https://i.stack.imgur.com/ibJwc.jpg\r\n  [7]: https://i.stack.imgur.com/OOoOM.jpg","title":"Apache camel kafka consumer performance problem","body":"<p>We have observed that our Apache Camel Kafka is able to process only 100Kb / second though our kafka producing rate is high. We have 6 kafka partitions and 6 Apache Camel Kafka consumer instances .</p>\n<p>We have tried with multithreading options - threads(300, 500) . But we could not see any improvements</p>\n<p>It will be really helpful if someone could help to understand the correct configurations to improve the kafka consumer rate.</p>\n<p>We are using all the default settings for Apache Camel Kafka consumer.</p>\n<p>I could see the below kafka configuration in spring boot application start :</p>\n<pre><code>INFO 1 — [           main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values:\n        acks = 1\n        batch.size = 16384\n        bootstrap.servers = [kafka1.xxx.net:9093, kafka2.xxx.net:9093, kafka3.xxx.net:9093, kafka4.xxx.net:9093, kafka5.xxx.net:9093, kafka6.xxx.net:9093]\n        buffer.memory = 33554432\n        client.dns.lookup = use_all_dns_ips\n        client.id = producer-1\n        compression.type = none\n        connections.max.idle.ms = 540000\n        delivery.timeout.ms = 120000\n        enable.idempotence = false\n        interceptor.classes = []\n        key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n        linger.ms = 0\n        max.block.ms = 60000\n        max.in.flight.requests.per.connection = 5\n        max.request.size = 104857600\n        metadata.max.age.ms = 300000\n        metadata.max.idle.ms = 300000\n        metric.reporters = [org.apache.kafka.common.metrics.JmxReporter]\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n        receive.buffer.bytes = 65536000\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 30000\n        retries = 0\n        retry.backoff.ms = 100\n        sasl.client.callback.handler.class = null\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.login.callback.handler.class = null\n        sasl.login.class = null\n        sasl.login.refresh.buffer.seconds = 300\n        sasl.login.refresh.min.period.seconds = 60\n        sasl.login.refresh.window.factor = 0.8\n        sasl.login.refresh.window.jitter = 0.05\n        sasl.mechanism = GSSAPI\n        security.protocol = SSL\n        security.providers = null\n        send.buffer.bytes = 131072\n        socket.connection.setup.timeout.max.ms = 30000\n        socket.connection.setup.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n        ssl.endpoint.identification.algorithm = https\n        ssl.engine.factory.class = null\n        ssl.key.password = [hidden]\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.certificate.chain = null\n        ssl.keystore.key = null\n        ssl.keystore.location = /tmp/certs/XXX.jks\n        ssl.keystore.password = [hidden]\n        ssl.keystore.type = JKS\n        ssl.protocol = TLSv1.3\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.certificates = null\n        ssl.truststore.location = /tmp/certsFolder/kafka.truststore.jks\n        ssl.truststore.password = [hidden]\n        ssl.truststore.type = JKS\n        transaction.timeout.ms = 60000\n        transactional.id = null\n        value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>We have tried with multithreading options - .threads(300, 500) . But we could not see any improvements.</p>\n<p>Is it something related with kafka consumer properties ?</p>\n<p>spring-boot-starter-parent version - 2.6.8\norg.apache.camel.springboot version - 3.14.1</p>\n<p>Grafana Dashboard -\nProducer Rate and Consumer Rates Overview :\n<a href=\"https://i.stack.imgur.com/l26v7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l26v7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 1 – Producer and Consumer: Producer is a constant line . But Apache camel consumer has ups &amp; down in the consumption rate\n<a href=\"https://i.stack.imgur.com/7jVaN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7jVaN.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 2 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate<br />\n<a href=\"https://i.stack.imgur.com/6CQ2c.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6CQ2c.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 3 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate\n<a href=\"https://i.stack.imgur.com/ULQME.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ULQME.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 4 – Producer and Consumer: Producer is a constant line. But Apache camel consumer is only having a consumption rate of 30 B/s.\n<a href=\"https://i.stack.imgur.com/rLNYV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLNYV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 5 – Producer and Consumer: Producer is a constant line. But Apache camel consumer is only having a consumption rate of 30 B/s.\n<a href=\"https://i.stack.imgur.com/ibJwc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ibJwc.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 6 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate.\n<a href=\"https://i.stack.imgur.com/OOoOM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OOoOM.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":6543788,"reputation":60,"user_id":5060408,"display_name":"arun k"},"score":0,"creation_date":1526407751,"post_id":50355517,"comment_id":87729750,"body_markdown":"The validation-api version got added through transitive dependency is 1.0.0.GA. This version was not explicitly specified, but through hibernate-validator.","body":"The validation-api version got added through transitive dependency is 1.0.0.GA. This version was not explicitly specified, but through hibernate-validator."},{"owner":{"account_id":6543788,"reputation":60,"user_id":5060408,"display_name":"arun k"},"score":0,"creation_date":1526448633,"post_id":50355517,"comment_id":87742348,"body_markdown":"Looks like some dependency issue with one of the jars(most likely one of spring* jars) and hibernate-validator-4.2.0.Final. After using the version 5.2.1.Final for Hibernate-Validator the issue got resolved. However i couldn&#39;t find any proof of the dependency issue with version 4.2.0.Final.","body":"Looks like some dependency issue with one of the jars(most likely one of spring* jars) and hibernate-validator-4.2.0.Final. After using the version 5.2.1.Final for Hibernate-Validator the issue got resolved. However i couldn&#39;t find any proof of the dependency issue with version 4.2.0.Final."}],"answers":[{"tags":[],"owner":{"account_id":382996,"reputation":1055,"user_id":738578,"accept_rate":50,"display_name":"Brian Beech"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550095918,"creation_date":1550095918,"answer_id":54680255,"question_id":50355517,"body_markdown":"I was having a similar problem and had to exclude the JBoss provided javax.validation api classes. I did this by creating a jboss-deployment-structure.xml file that excluded not only the api classes, but modules that depend on them also. My file looked like:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot;&gt;\r\n        &lt;deployment&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;module name=&quot;javaee.api&quot;/&gt;\r\n                &lt;module name=&quot;javax.validation.api&quot;/&gt;\r\n                &lt;module name=&quot;javax.faces.api&quot;/&gt;\r\n                &lt;module name=&quot;org.hibernate.validator&quot;/&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;module name=&quot;javaee.api&quot;&gt;\r\n                    &lt;imports&gt;\r\n                        &lt;exclude-set&gt;\r\n                            &lt;path name=&quot;javax/ws/rs&quot;/&gt;\r\n                            &lt;path name=&quot;javax/ws/rs/core&quot;/&gt;\r\n                            &lt;path name=&quot;javax/ws/rs/ext&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/bootstrap&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/constraints&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/groups&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/metadata&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/spi&quot;/&gt;\r\n                        &lt;/exclude-set&gt;\r\n                    &lt;/imports&gt;\r\n                &lt;/module&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAfter I deployed this with the WAR file, everything worked as expected.","title":"Exception in Spring MVC with Hibernate Validator","body":"<p>I was having a similar problem and had to exclude the JBoss provided javax.validation api classes. I did this by creating a jboss-deployment-structure.xml file that excluded not only the api classes, but modules that depend on them also. My file looked like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;jboss-deployment-structure xmlns=\"urn:jboss:deployment-structure:1.2\"&gt;\r\n    &lt;deployment&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;module name=\"javaee.api\"/&gt;\r\n            &lt;module name=\"javax.validation.api\"/&gt;\r\n            &lt;module name=\"javax.faces.api\"/&gt;\r\n            &lt;module name=\"org.hibernate.validator\"/&gt;\r\n        &lt;/exclusions&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=\"javaee.api\"&gt;\r\n                &lt;imports&gt;\r\n                    &lt;exclude-set&gt;\r\n                        &lt;path name=\"javax/ws/rs\"/&gt;\r\n                        &lt;path name=\"javax/ws/rs/core\"/&gt;\r\n                        &lt;path name=\"javax/ws/rs/ext\"/&gt;\r\n                        &lt;path name=\"javax/validation\"/&gt;\r\n                        &lt;path name=\"javax/validation/bootstrap\"/&gt;\r\n                        &lt;path name=\"javax/validation/constraints\"/&gt;\r\n                        &lt;path name=\"javax/validation/groups\"/&gt;\r\n                        &lt;path name=\"javax/validation/metadata\"/&gt;\r\n                        &lt;path name=\"javax/validation/spi\"/&gt;\r\n                    &lt;/exclude-set&gt;\r\n                &lt;/imports&gt;\r\n            &lt;/module&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After I deployed this with the WAR file, everything worked as expected.</p>\n"},{"tags":[],"owner":{"account_id":6607019,"reputation":36,"user_id":5103546,"display_name":"Levant Alejandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677272163,"creation_date":1677272163,"answer_id":75561310,"question_id":50355517,"body_markdown":"I had this exact same issue, Tomcat Spring Boot App with a library that used both Hibernate validation (4.0) and Javax validation(1.0.0.GA). \r\nBut in my case Hibernate Validator was used inside a dependency and not directly in my project&#39;s pom. If upgrading the version on your pom doesn&#39;t work (or you just don&#39;t have that dependency in your POM to begin with), use DependencyManagement to ensure the correct versions are enforced for dependencies:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Exception in Spring MVC with Hibernate Validator","body":"<p>I had this exact same issue, Tomcat Spring Boot App with a library that used both Hibernate validation (4.0) and Javax validation(1.0.0.GA).\nBut in my case Hibernate Validator was used inside a dependency and not directly in my project's pom. If upgrading the version on your pom doesn't work (or you just don't have that dependency in your POM to begin with), use DependencyManagement to ensure the correct versions are enforced for dependencies:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":6543788,"reputation":60,"user_id":5060408,"display_name":"arun k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677272163,"creation_date":1526403134,"question_id":50355517,"body_markdown":"I am having the hibernate-validator version 4.2.0.Final added in my spring mvc project. spring-webmvc version is 5.0.6.RELEASE. However, while launching the application, i see the following error:\r\n\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet fitTrackerServlet threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    root cause\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean] from ClassLoader [WebappClassLoader\r\n      context: /FitnessTracker\r\n      delegate: false\r\n      repositories:\r\n        /WEB-INF/classes/\r\n    ----------&gt; Parent Classloader:\r\n    java.net.URLClassLoader@279f2327\r\n    ]\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:262)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    root cause\r\n    java.lang.IllegalStateException: Failed to introspect Class [org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean] from ClassLoader [WebappClassLoader\r\n      context: /FitnessTracker\r\n      delegate: false\r\n      repositories:\r\n        /WEB-INF/classes/\r\n    ----------&gt; Parent Classloader:\r\n    java.net.URLClassLoader@279f2327\r\n    ]\r\n    \torg.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:659)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    root cause\r\n    java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\r\n    \tjava.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tjava.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tjava.lang.Class.getDeclaredMethods(Class.java:1975)\r\n    \torg.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    root cause\r\n    java.lang.ClassNotFoundException: javax.validation.ParameterNameProvider\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1928)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1771)\r\n    \tjava.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tjava.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tjava.lang.Class.getDeclaredMethods(Class.java:1975)\r\n    \torg.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/7.0.86 logs.\r\n\r\nAny Idea why this error comes? In code there is no problem. Just adding the jar causes this problem. Is there any compatibility issue between the two jars?\r\n\r\nThe pom.xml dependencies list and Maven Dependencies are shown below:\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ciDik.png\r\n  [2]: https://i.stack.imgur.com/G0L5x.png","title":"Exception in Spring MVC with Hibernate Validator","body":"<p>I am having the hibernate-validator version 4.2.0.Final added in my spring mvc project. spring-webmvc version is 5.0.6.RELEASE. However, while launching the application, i see the following error:</p>\n\n<pre><code>javax.servlet.ServletException: Servlet.init() for servlet fitTrackerServlet threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nroot cause\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean] from ClassLoader [WebappClassLoader\n  context: /FitnessTracker\n  delegate: false\n  repositories:\n    /WEB-INF/classes/\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@279f2327\n]\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:262)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nroot cause\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean] from ClassLoader [WebappClassLoader\n  context: /FitnessTracker\n  delegate: false\n  repositories:\n    /WEB-INF/classes/\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@279f2327\n]\n    org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:659)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nroot cause\njava.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\n    java.lang.Class.getDeclaredMethods0(Native Method)\n    java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    java.lang.Class.getDeclaredMethods(Class.java:1975)\n    org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nroot cause\njava.lang.ClassNotFoundException: javax.validation.ParameterNameProvider\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1928)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1771)\n    java.lang.Class.getDeclaredMethods0(Native Method)\n    java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    java.lang.Class.getDeclaredMethods(Class.java:1975)\n    org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nnote The full stack trace of the root cause is available in the Apache Tomcat/7.0.86 logs.\n</code></pre>\n\n<p>Any Idea why this error comes? In code there is no problem. Just adding the jar causes this problem. Is there any compatibility issue between the two jars?</p>\n\n<p>The pom.xml dependencies list and Maven Dependencies are shown below:\n<a href=\"https://i.stack.imgur.com/ciDik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ciDik.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/G0L5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G0L5x.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":16592944,"reputation":11,"user_id":11990631,"display_name":"willigis"},"score":0,"creation_date":1567016714,"post_id":57698064,"comment_id":101840294,"body_markdown":"Hi, thanks for your reply. I tried but it still does not work. User_id is still null in the database.... :(","body":"Hi, thanks for your reply. I tried but it still does not work. User_id is still null in the database.... :("},{"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"score":0,"creation_date":1567016900,"post_id":57698064,"comment_id":101840369,"body_markdown":"@willingis, please check my edit. It should be fine now","body":"@willingis, please check my edit. It should be fine now"},{"owner":{"account_id":16592944,"reputation":11,"user_id":11990631,"display_name":"willigis"},"score":0,"creation_date":1567017332,"post_id":57698064,"comment_id":101840536,"body_markdown":"Unfortunalty, it still not good but thank you again! I think my issue is not there because when I save my first user I am able to link the child with the parent with that code:   user.addChapter(newChapter).","body":"Unfortunalty, it still not good but thank you again! I think my issue is not there because when I save my first user I am able to link the child with the parent with that code:   user.addChapter(newChapter)."},{"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"score":0,"creation_date":1567017551,"post_id":57698064,"comment_id":101840613,"body_markdown":"@willingis, you can always try to use chapterRepository to save chapters:\n`chapterRepository.save(newChapter);`","body":"@willingis, you can always try to use chapterRepository to save chapters: <code>chapterRepository.save(newChapter);</code>"},{"owner":{"account_id":16592944,"reputation":11,"user_id":11990631,"display_name":"willigis"},"score":0,"creation_date":1567018680,"post_id":57698064,"comment_id":101841026,"body_markdown":"@ ilya, I already tried but it sill does not work. When i start my application, I create an user with username=admin and a chapter. Then, I appply this method: user.addChapter(chapter) to finally save the user userRepository.save(user);. All of this work but not in my post resquest.... Any idea?","body":"@ ilya, I already tried but it sill does not work. When i start my application, I create an user with username=admin and a chapter. Then, I appply this method: user.addChapter(chapter) to finally save the user userRepository.save(user);. All of this work but not in my post resquest.... Any idea?"},{"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"score":0,"creation_date":1567019324,"post_id":57698064,"comment_id":101841309,"body_markdown":"@willingis, try adding logs or using the debugger, to make sure the user is found and modifying queries are executed.","body":"@willingis, try adding logs or using the debugger, to make sure the user is found and modifying queries are executed."}],"tags":[],"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567016872,"creation_date":1567016246,"answer_id":57698064,"question_id":57697899,"body_markdown":"You have to add cascading for your `@ManyToOne` mapping.\r\nUpdate this line in your User `@Entity` and it will work:\r\n\r\n    @Entity\r\n    public class Chapter {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false, updatable = false)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n    \r\n    }\r\n\r\nThe second thing you might want to do, is updating your controller, so it assigns user id to your new chapter, just like this: \r\n\r\n    @PostMapping(&quot;/chapters&quot;)// issue is here\r\n    void newChapter(@RequestParam (value = &quot;username&quot;, required=true)\r\n                            String username, @RequestBody Chapter newChapter) {\r\n        User user = userRepository.findByUsername(username);\r\n        newChapter.setUser(user);\r\n        user.addChapter(newChapter);\r\n        System.out.println(user);\r\n        userRepository.save(user);\r\n    }","title":"How can I save child in an existing parent when doing a POST request?","body":"<p>You have to add cascading for your <code>@ManyToOne</code> mapping.\nUpdate this line in your User <code>@Entity</code> and it will work:</p>\n\n<pre><code>@Entity\npublic class Chapter {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\n    @JoinColumn(name = \"user_id\")\n    private User user;\n\n}\n</code></pre>\n\n<p>The second thing you might want to do, is updating your controller, so it assigns user id to your new chapter, just like this: </p>\n\n<pre><code>@PostMapping(\"/chapters\")// issue is here\nvoid newChapter(@RequestParam (value = \"username\", required=true)\n                        String username, @RequestBody Chapter newChapter) {\n    User user = userRepository.findByUsername(username);\n    newChapter.setUser(user);\n    user.addChapter(newChapter);\n    System.out.println(user);\n    userRepository.save(user);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16592944,"reputation":11,"user_id":11990631,"display_name":"willigis"},"score":0,"creation_date":1567020508,"post_id":57698533,"comment_id":101841758,"body_markdown":"Indeed, I through that as well and I tried to set User in the newChapter before saving it but it does not seem to work this way. There is something which I am missing... But I am gonna try to work with logs and see in more detail what is happening then... thanks for replying","body":"Indeed, I through that as well and I tried to set User in the newChapter before saving it but it does not seem to work this way. There is something which I am missing... But I am gonna try to work with logs and see in more detail what is happening then... thanks for replying"}],"tags":[],"owner":{"account_id":2514034,"reputation":834,"user_id":2185829,"display_name":"chubock"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567018520,"creation_date":1567018520,"answer_id":57698533,"question_id":57697899,"body_markdown":"I think you should set the `user` entity in `newChapter.user` field. Because it&#39;s the `Chapter` Entity which owns the relationship.\r\n\r\nThe `cascade` method in `OneToMany` annotation only specifies  which operations must be cascaded. It doesn&#39;t mean that the `user` property of `Chapter` entity will be set automatically.\r\n\r\n","title":"How can I save child in an existing parent when doing a POST request?","body":"<p>I think you should set the <code>user</code> entity in <code>newChapter.user</code> field. Because it's the <code>Chapter</code> Entity which owns the relationship.</p>\n\n<p>The <code>cascade</code> method in <code>OneToMany</code> annotation only specifies  which operations must be cascaded. It doesn't mean that the <code>user</code> property of <code>Chapter</code> entity will be set automatically.</p>\n"}],"owner":{"account_id":16592944,"reputation":11,"user_id":11990631,"display_name":"willigis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677271947,"creation_date":1567015525,"question_id":57697899,"body_markdown":"I&#39;m trying to perform a POST request to save a child (Chapter) onto the parent (`User`), but it does not work.\r\n\r\nAll other request work fine. `PostMapping` controller saves the `Body` into the database but not with the parent relationship (Class Chapter &amp;rarr; `user_id = null` in my case).\r\n\r\nI am using the following URL in Postman: \r\n\r\n    http://localhost:8080/api/chapters?username=admin\r\n    Content-type: application/json\r\n    Body: raw\r\n\r\nwith this body:\r\n\r\n    {\r\n    \t&quot;name&quot;: &quot;Product Development&quot;, \r\n    }\r\n    \r\n    Username: &quot;admin&quot; with Id= 1\r\n\r\n----------------------\r\n\r\n    @Entity\r\n    public class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(nullable = false, updatable = false)\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false, unique = true)\r\n\tprivate String username;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String password;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String role;\r\n\t\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;user&quot;)\r\n    private Set&lt;Chapter&gt; chapters = new HashSet&lt;&gt;();\r\n\r\n\tpublic void addChapter(Chapter chapter) {\r\n\t\tthis.chapters.add(chapter);\r\n\t\tchapter.setUser(this);\r\n\t}\r\n    ....\r\n    }\r\n\r\n    @Entity\r\n    public class Chapter {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(nullable = false, updatable = false)\r\n\tprivate Long id;\r\n        private String name;\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;user_id&quot;)\r\n\tprivate User user;\r\n\t....\r\n\t\r\n    }\r\n\r\n    @RestController\r\n    public class ChapterController {\r\n\t@Autowired\r\n\tprivate ChapterRepository chapterRepository;\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\r\n\t@RequestMapping(&quot;/chapters&quot;)\r\n\tpublic Iterable&lt;Chapter&gt; getChapter() {\r\n\t\treturn chapterRepository.findAll();\r\n\t}\r\n\r\n\t@RequestMapping(value=&quot;/users/{id}/chapters&quot;, method = RequestMethod.GET)\r\n\tChapter getChapter(@PathVariable (value = &quot;id&quot;) Long id) {\r\n\t\treturn chapterRepository.findByUserId(id).get();\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/chapters&quot;)// issue is here\r\n\tvoid newChapter(@RequestParam (value = &quot;username&quot;, required=true) \r\n\tString username, @RequestBody Chapter newChapter) {\r\n\t\tUser user = userRepository.findByUsername(username);\r\n\t\tuser.addChapter(newChapter);\r\n\t\tSystem.out.println(user);\r\n\t\tuserRepository.save(user);\r\n        }\r\n    }\r\n\r\nWhat I would expect is to save the child with the parent which means with `user_id = 1`  as there is only one user for now (`id = 1`). What am I missing?","title":"How can I save child in an existing parent when doing a POST request?","body":"<p>I'm trying to perform a POST request to save a child (Chapter) onto the parent (<code>User</code>), but it does not work.</p>\n<p>All other request work fine. <code>PostMapping</code> controller saves the <code>Body</code> into the database but not with the parent relationship (Class Chapter → <code>user_id = null</code> in my case).</p>\n<p>I am using the following URL in Postman:</p>\n<pre><code>http://localhost:8080/api/chapters?username=admin\nContent-type: application/json\nBody: raw\n</code></pre>\n<p>with this body:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Product Development&quot;, \n}\n\nUsername: &quot;admin&quot; with Id= 1\n</code></pre>\n<hr />\n<pre><code>@Entity\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(nullable = false, updatable = false)\nprivate Long id;\n\n@Column(nullable = false, unique = true)\nprivate String username;\n\n@Column(nullable = false)\nprivate String password;\n\n@Column(nullable = false)\nprivate String role;\n\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;user&quot;)\nprivate Set&lt;Chapter&gt; chapters = new HashSet&lt;&gt;();\n\npublic void addChapter(Chapter chapter) {\n    this.chapters.add(chapter);\n    chapter.setUser(this);\n}\n....\n}\n\n@Entity\npublic class Chapter {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(nullable = false, updatable = false)\nprivate Long id;\n    private String name;\n@ManyToOne\n@JoinColumn(name = &quot;user_id&quot;)\nprivate User user;\n....\n\n}\n\n@RestController\npublic class ChapterController {\n@Autowired\nprivate ChapterRepository chapterRepository;\n\n@Autowired\nprivate UserRepository userRepository;\n\n\n@RequestMapping(&quot;/chapters&quot;)\npublic Iterable&lt;Chapter&gt; getChapter() {\n    return chapterRepository.findAll();\n}\n\n@RequestMapping(value=&quot;/users/{id}/chapters&quot;, method = RequestMethod.GET)\nChapter getChapter(@PathVariable (value = &quot;id&quot;) Long id) {\n    return chapterRepository.findByUserId(id).get();\n}\n\n@PostMapping(&quot;/chapters&quot;)// issue is here\nvoid newChapter(@RequestParam (value = &quot;username&quot;, required=true) \nString username, @RequestBody Chapter newChapter) {\n    User user = userRepository.findByUsername(username);\n    user.addChapter(newChapter);\n    System.out.println(user);\n    userRepository.save(user);\n    }\n}\n</code></pre>\n<p>What I would expect is to save the child with the parent which means with <code>user_id = 1</code>  as there is only one user for now (<code>id = 1</code>). What am I missing?</p>\n"},{"tags":["java","python","scientific-computing","pubchem","cheminformatics"],"answers":[{"tags":[],"owner":{"account_id":6348766,"reputation":241,"user_id":4928495,"accept_rate":50,"display_name":"Kaushali de Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485847277,"creation_date":1485751439,"answer_id":41929138,"question_id":37369757,"body_markdown":"PubChem has a REST API to download chemical structures. In order to retrieve PubChem compound records within a given mass range, an Entrez query should be initiated to generate the list of CIDs.100:100.01 is the mass range for the  example. \r\n\r\n    http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pccompound&amp;usehistory=y&amp;retmax=0&amp;term=100:100.01[exactmass]\r\n\r\nyou can refer this tutorial\r\n[Power user gateway][1]\r\n\r\n\r\n  [1]: https://pubchem.ncbi.nlm.nih.gov/pug_rest/PUG_REST_Tutorial.html","title":"extracting sdf files from pubchem matching a monoisotopic mass","body":"<p>PubChem has a REST API to download chemical structures. In order to retrieve PubChem compound records within a given mass range, an Entrez query should be initiated to generate the list of CIDs.100:100.01 is the mass range for the  example. </p>\n\n<pre><code>http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pccompound&amp;usehistory=y&amp;retmax=0&amp;term=100:100.01[exactmass]\n</code></pre>\n\n<p>you can refer this tutorial\n<a href=\"https://pubchem.ncbi.nlm.nih.gov/pug_rest/PUG_REST_Tutorial.html\" rel=\"nofollow noreferrer\">Power user gateway</a></p>\n"}],"owner":{"account_id":8237806,"reputation":49,"user_id":6196358,"accept_rate":25,"display_name":"CodeMAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677271828,"creation_date":1463881695,"question_id":37369757,"body_markdown":"I&#39;m trying to extract the chemical structures from the pubchem database in the sdf format of compounds matching a certain exact mass and in the range of 10ppm of that exact mass(exactmass-cmpndmass/exactmass)*10^6. Is there a way to achieve this using python or java programming languages interfacing with pubchem.","title":"extracting sdf files from pubchem matching a monoisotopic mass","body":"<p>I'm trying to extract the chemical structures from the pubchem database in the sdf format of compounds matching a certain exact mass and in the range of 10ppm of that exact mass(exactmass-cmpndmass/exactmass)*10^6. Is there a way to achieve this using python or java programming languages interfacing with pubchem.</p>\n"},{"tags":["java","javafx","focus","scene"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1566616660,"post_id":57629097,"comment_id":101722609,"body_markdown":"Key events are delivered to the node that has the focus. Events also travel down the scene graph to the target and then bubble back up to the window. If the neither sub-scene nor any of its descendants have the focus then the key event won&#39;t reach the sub-scene. Also, in the case a descendant has the focus, if the key event is consumed before reaching the sub-scene then the sub-scene again won&#39;t receive the event.","body":"Key events are delivered to the node that has the focus. Events also travel down the scene graph to the target and then bubble back up to the window. If the neither sub-scene nor any of its descendants have the focus then the key event won&#39;t reach the sub-scene. Also, in the case a descendant has the focus, if the key event is consumed before reaching the sub-scene then the sub-scene again won&#39;t receive the event."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566619663,"post_id":57629097,"comment_id":101722923,"body_markdown":"@Slaw i get the fact that `&quot;Key events are delivered to the node that has the focus ...also travel down the scene graph&quot;` but isn&#39;t supposed to be focused on sub-**scene** when i already have clicked on the layout of sub-**scene**? _(because it doesn&#39;t focus, it seems like it works only for nodes down the sub-**scene**&#39;s graph and not for sub-**scene** itself)_","body":"@Slaw i get the fact that <code>&quot;Key events are delivered to the node that has the focus ...also travel down the scene graph&quot;</code> but isn&#39;t supposed to be focused on sub-<b>scene</b> when i already have clicked on the layout of sub-<b>scene</b>? <i>(because it doesn&#39;t focus, it seems like it works only for nodes down the sub-<b>scene</b>&#39;s graph and not for sub-<b>scene</b> itself)</i>"},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566621180,"post_id":57629097,"comment_id":101723074,"body_markdown":"to give you an idea, when i set `scene.requestFocus();` on **MouseEvents** and then observe the behavior of focus-Event it seems like when i click on the layout of sub-**scene** it **loses** focus and then **gains** it back each time i click on it...","body":"to give you an idea, when i set <code>scene.requestFocus();</code> on <b>MouseEvents</b> and then observe the behavior of focus-Event it seems like when i click on the layout of sub-<b>scene</b> it <b>loses</b> focus and then <b>gains</b> it back each time i click on it..."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566622264,"post_id":57629097,"comment_id":101723216,"body_markdown":"* *(i&#39;ve updated my post with one more gif for that)* *","body":"* <i>(i&#39;ve updated my post with one more gif for that)</i> *"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1566642054,"post_id":57629097,"comment_id":101726589,"body_markdown":"Please provide a [mcve] that demonstrates the problem. Unrelated to your problem: please learn java naming conventions and stick to them.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem. Unrelated to your problem: please learn java naming conventions and stick to them."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566642779,"post_id":57629097,"comment_id":101726713,"body_markdown":"@kleopatra I think it was minimal and demonstrated the problem well enough untill i came accross &quot;other&quot; issues and i added the **[Extra info]** section for that reason, but still you are right i have to reedit it somehow ...,  for now though  i have not that much time to do it... `please learn java naming conventions` i&#39;m gonna try more if i was wrong anywhere...","body":"@kleopatra I think it was minimal and demonstrated the problem well enough untill i came accross &quot;other&quot; issues and i added the <b>[Extra info]</b> section for that reason, but still you are right i have to reedit it somehow ...,  for now though  i have not that much time to do it... <code>please learn java naming conventions</code> i&#39;m gonna try more if i was wrong anywhere..."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566672873,"post_id":57629097,"comment_id":101733229,"body_markdown":"* *(ReEddited)* *","body":"* <i>(ReEddited)</i> *"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1566704340,"post_id":57629097,"comment_id":101737437,"body_markdown":"My first comment was general information since I don&#39;t know enough about your application to provide more specific help. When asking a question like this (_Why isn&#39;t this code working?_) you need to provide a [mre] (← read link). You currently describe a problem, give a vague description of the scene graph structure, and provide some GIFs as proof the problem exists. However, you haven&#39;t actually provided any code for us to look at and try ourselves. Please _create_ an example application that demonstrates the problem and then [edit] it into your question—as formatted text, not images.","body":"My first comment was general information since I don&#39;t know enough about your application to provide more specific help. When asking a question like this (<i>Why isn&#39;t this code working?</i>) you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (← read link). You currently describe a problem, give a vague description of the scene graph structure, and provide some GIFs as proof the problem exists. However, you haven&#39;t actually provided any code for us to look at and try ourselves. Please <i>create</i> an example application that demonstrates the problem and then <a href=\"https://stackoverflow.com/posts/57629097/edit\">edit</a> it into your question—as formatted text, not images."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566716660,"post_id":57629097,"comment_id":101738965,"body_markdown":"* *(ReEddited, Done)* *","body":"* <i>(ReEddited, Done)</i> *"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1566721243,"post_id":57629097,"comment_id":101739867,"body_markdown":"Try `scene.setOnMousePressed(e -&gt; { scene.requestFocus(); e.consume(); })`. If the mouse-pressed event reaches the tab pane (or something related to the tab pane, not sure) then it requests focus. And regarding naming conventions, variables use `camelCase`.","body":"Try <code>scene.setOnMousePressed(e -&gt; { scene.requestFocus(); e.consume(); })</code>. If the mouse-pressed event reaches the tab pane (or something related to the tab pane, not sure) then it requests focus. And regarding naming conventions, variables use <code>camelCase</code>."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566723495,"post_id":57629097,"comment_id":101740360,"body_markdown":"@Slaw What kind of **sorcery** is this ```e.consume();``` it actually works , you have made my day **Thanks you very much!** because whenever i stack on an issue most of the times it is like i can&#39;t continue and do anything else unless i find out the reason [...]","body":"@Slaw What kind of <b>sorcery</b> is this <code>e.consume();</code> it actually works , you have made my day <b>Thanks you very much!</b> because whenever i stack on an issue most of the times it is like i can&#39;t continue and do anything else unless i find out the reason [...]"},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566723591,"post_id":57629097,"comment_id":101740381,"body_markdown":"But the real question is ```should that thing actually be happening or not?```","body":"But the real question is <code>should that thing actually be happening or not?</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1566724737,"post_id":57629097,"comment_id":101740641,"body_markdown":"Yes, the behavior makes sense. If the mouse is pressed somewhere inside a tab and none of the nodes consume the event then the tab pane should become focused. To understand more about event processing, such as what `consume()` does, see https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm","body":"Yes, the behavior makes sense. If the mouse is pressed somewhere inside a tab and none of the nodes consume the event then the tab pane should become focused. To understand more about event processing, such as what <code>consume()</code> does, see <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/events-tutorial/events.htm</a>"}],"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1566850925,"answer_count":0,"score":2,"last_activity_date":1677271820,"creation_date":1566573673,"question_id":57629097,"body_markdown":"It seems like the behavior of **SubScene** or **TabPane** isn&#39;t what i was expecting or something is wrong with it.\r\n\r\n**Because** Instead of Being Focused on **Subscene** *[\\*1.]* when i **click on Subscene** it focuses on **TabPane**. Even when i force it to focus on the **SubScene** it forces back &amp; focuses on **TabPane** *[\\*2.]*\r\n\r\n 1. *(Is in grey color &amp; it is inside a tab)*\r\n 2. *(as seen on Debug console, 3rd GIF)*\r\n\r\n\r\n### Replicating the Issue:\r\n*(How to test the issue by yourself)*\r\n\r\n - Add a **TabPane** &amp; a **Tab**\r\n - Add a **SubScene** Inside the **Tab**\r\n - **Check** By Clicking On SubScene Where it Focuses By Printing:\r\n ```\r\n   SubScene.getScene().getFocusOwner().getId();\r\n ```\r\n[Main.java][1] | [Controller.Java][2] | [sample.fxml][3] | ***(Or just  Copy Paste)***\r\n\r\n.\r\n\r\n### Issue Effect:\r\n| *sub*-**scene** |\r\n\r\n[![enter image description here][4]][4]\r\n\r\n| *sub*-**scene**.getScene() |\r\n\r\n[![enter image description here][5]][5]\r\n\r\n  [1]: https://pastebin.com/h7kGrdbX\r\n  [2]: https://pastebin.com/nf9tJfQW\r\n  [3]: https://pastebin.com/CHjY5iHw\r\n  [4]: https://i.stack.imgur.com/w0YlA.gif\r\n  [5]: https://i.stack.imgur.com/xQN0U.gif","title":"Answered - JavaFX: SubScene won&#39;t focus inside TabPane when clicked?","body":"<p>It seems like the behavior of <strong>SubScene</strong> or <strong>TabPane</strong> isn't what i was expecting or something is wrong with it.</p>\n<p><strong>Because</strong> Instead of Being Focused on <strong>Subscene</strong> <em>[*1.]</em> when i <strong>click on Subscene</strong> it focuses on <strong>TabPane</strong>. Even when i force it to focus on the <strong>SubScene</strong> it forces back &amp; focuses on <strong>TabPane</strong> <em>[*2.]</em></p>\n<ol>\n<li><em>(Is in grey color &amp; it is inside a tab)</em></li>\n<li><em>(as seen on Debug console, 3rd GIF)</em></li>\n</ol>\n<h3>Replicating the Issue:</h3>\n<p><em>(How to test the issue by yourself)</em></p>\n<ul>\n<li>Add a <strong>TabPane</strong> &amp; a <strong>Tab</strong></li>\n<li>Add a <strong>SubScene</strong> Inside the <strong>Tab</strong></li>\n<li><strong>Check</strong> By Clicking On SubScene Where it Focuses By Printing:</li>\n</ul>\n<pre><code>  SubScene.getScene().getFocusOwner().getId();\n</code></pre>\n<p><a href=\"https://pastebin.com/h7kGrdbX\" rel=\"nofollow noreferrer\">Main.java</a> | <a href=\"https://pastebin.com/nf9tJfQW\" rel=\"nofollow noreferrer\">Controller.Java</a> | <a href=\"https://pastebin.com/CHjY5iHw\" rel=\"nofollow noreferrer\">sample.fxml</a> | <em><strong>(Or just  Copy Paste)</strong></em></p>\n<p>.</p>\n<h3>Issue Effect:</h3>\n<p>| <em>sub</em>-<strong>scene</strong> |</p>\n<p><a href=\"https://i.stack.imgur.com/w0YlA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w0YlA.gif\" alt=\"enter image description here\" /></a></p>\n<p>| <em>sub</em>-<strong>scene</strong>.getScene() |</p>\n<p><a href=\"https://i.stack.imgur.com/xQN0U.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQN0U.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","user-interface","jtextfield"],"comments":[{"owner":{"account_id":1091347,"reputation":5947,"user_id":1085937,"accept_rate":86,"display_name":"Jeeter"},"score":0,"creation_date":1563908126,"post_id":57170492,"comment_id":100854422,"body_markdown":"perhaps create a subclass and override the behavior? I&#39;m not super familiar with JTFs but that seems to be the advice of the javadocs for creating custom fields","body":"perhaps create a subclass and override the behavior? I&#39;m not super familiar with JTFs but that seems to be the advice of the javadocs for creating custom fields"},{"owner":{"account_id":11935947,"reputation":89,"user_id":10817859,"display_name":"Cheaker"},"score":0,"creation_date":1563908243,"post_id":57170492,"comment_id":100854468,"body_markdown":"can you unfocus the element, set content and focus element again?","body":"can you unfocus the element, set content and focus element again?"},{"owner":{"account_id":3148456,"reputation":85,"user_id":2662429,"accept_rate":25,"display_name":"Ty Brantner"},"score":0,"creation_date":1563908512,"post_id":57170492,"comment_id":100854573,"body_markdown":"@Cheaker Is there a way that I can unfocus the text field without focusing another UI element? I don&#39;t have any other JWhatsits to set the focus to. I could create one specifically to shift focus away from the text field, but I thought maybe I was being naive and missing something obvious about JTextFIelds. It seems silly you can&#39;t modify the contents while it&#39;s focused, feels like Java trying to force you to do things the way it thinks professionals should do them.","body":"@Cheaker Is there a way that I can unfocus the text field without focusing another UI element? I don&#39;t have any other JWhatsits to set the focus to. I could create one specifically to shift focus away from the text field, but I thought maybe I was being naive and missing something obvious about JTextFIelds. It seems silly you can&#39;t modify the contents while it&#39;s focused, feels like Java trying to force you to do things the way it thinks professionals should do them."},{"owner":{"account_id":11935947,"reputation":89,"user_id":10817859,"display_name":"Cheaker"},"score":0,"creation_date":1563909078,"post_id":57170492,"comment_id":100854773,"body_markdown":"this may work `textfield.setFocusable(false)` , otherwise take a look here https://stackoverflow.com/questions/10773132/how-to-unfocus-a-jtextfield","body":"this may work <code>textfield.setFocusable(false)</code> , otherwise take a look here <a href=\"https://stackoverflow.com/questions/10773132/how-to-unfocus-a-jtextfield\" title=\"how to unfocus a jtextfield\">stackoverflow.com/questions/10773132/&hellip;</a>"},{"owner":{"account_id":3148456,"reputation":85,"user_id":2662429,"accept_rate":25,"display_name":"Ty Brantner"},"score":0,"creation_date":1563909699,"post_id":57170492,"comment_id":100855064,"body_markdown":"@Cheaker Okay, according to that you can&#39;t modify the document from inside a Document LIstener (heaven only knows why), and you&#39;d have to write a custom variant of that class to circumvent this. I&#39;m not well enough versed in Java to do that. I&#39;ll leave the question open in case someone else knows a solution, though.","body":"@Cheaker Okay, according to that you can&#39;t modify the document from inside a Document LIstener (heaven only knows why), and you&#39;d have to write a custom variant of that class to circumvent this. I&#39;m not well enough versed in Java to do that. I&#39;ll leave the question open in case someone else knows a solution, though."}],"answers":[{"comments":[{"owner":{"account_id":3148456,"reputation":85,"user_id":2662429,"accept_rate":25,"display_name":"Ty Brantner"},"score":0,"creation_date":1563988904,"post_id":57171309,"comment_id":100886509,"body_markdown":"The invokeLater() solution was perfect. Simple and functional. Thank you for your assistance.","body":"The invokeLater() solution was perfect. Simple and functional. Thank you for your assistance."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1563911743,"creation_date":1563911743,"answer_id":57171309,"question_id":57170492,"body_markdown":"&gt; you can&#39;t modify the document from inside a Document LIstener \r\n\r\nCorrect, you need to wait until the `Document` is in a state to accept input.\r\n\r\nOne way to do this is to wrap your code in the `DocumentListener` in a `SwingUtilties.invokeLater()`. This will place the code at the end of the `Event Dispatch Thread` and it will execute after the Document has finished updating itself.\r\n\r\nAnother option, instead of using a DocumentListener, it to use a `DocumentFilter`. This intercepts the text BEFORE it is added to the Document. So you could just simply clear the Document when the specified number of characters has been input. Read the section from the Swing tutorial on [Implement a DocumentFilter](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) for more information.","title":"How do you forcibly set text in an active JTextField without throwing an exception?","body":"<blockquote>\n  <p>you can't modify the document from inside a Document LIstener </p>\n</blockquote>\n\n<p>Correct, you need to wait until the <code>Document</code> is in a state to accept input.</p>\n\n<p>One way to do this is to wrap your code in the <code>DocumentListener</code> in a <code>SwingUtilties.invokeLater()</code>. This will place the code at the end of the <code>Event Dispatch Thread</code> and it will execute after the Document has finished updating itself.</p>\n\n<p>Another option, instead of using a DocumentListener, it to use a <code>DocumentFilter</code>. This intercepts the text BEFORE it is added to the Document. So you could just simply clear the Document when the specified number of characters has been input. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implement a DocumentFilter</a> for more information.</p>\n"}],"owner":{"account_id":3148456,"reputation":85,"user_id":2662429,"accept_rate":25,"display_name":"Ty Brantner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57171309,"answer_count":1,"score":1,"last_activity_date":1677271432,"creation_date":1563907848,"question_id":57170492,"body_markdown":"JTextField&#39;s SetText method throws an exception whenever I try to set the contents while the field has focus. I need that to change, because I want to input a very precise number of characters, and once that character count is reached the field needs to be cleared while still having focus so the next set of characters can immediately be added without pushing any buttons.\r\n\r\nI tried creating a static method that would re-create the text field from scratch every time it filled up, allowing a sort of recursive regeneration of the field each time. The method simply didn&#39;t do anything. For reference, basically everything in this program is static because it&#39;s a very simple application and I basically just want to access every important variable from &quot;main&quot;.\r\n\r\nTrying to set the text while the field has focus shows the following:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalStateException: Attempt to mutate in notification\r\n    \tat javax.swing.text.AbstractDocument.writeLock(Unknown Source)\r\n    \tat javax.swing.text.AbstractDocument.replace(Unknown Source)\r\n    \tat javax.swing.text.JTextComponent.setText(Unknown Source)\r\n    \tat onlypack.ProgramMain$3.insertUpdate(ProgramMain.java:118)\r\n    \tat javax.swing.text.AbstractDocument.fireInsertUpdate(Unknown Source)\r\n    \tat javax.swing.text.AbstractDocument.handleInsertString(Unknown Source)\r\n    \tat javax.swing.text.AbstractDocument.insertString(Unknown Source)\r\n    \tat javax.swing.text.PlainDocument.insertString(Unknown Source)\r\n    \tat javax.swing.text.AbstractDocument.replace(Unknown Source)\r\n    \tat javax.swing.text.JTextComponent.replaceSelection(Unknown Source)\r\n    \tat javax.swing.text.DefaultEditorKit$DefaultKeyTypedAction.actionPerformed(Unknown Source)\r\n    \tat javax.swing.SwingUtilities.notifyAction(Unknown Source)\r\n    \tat javax.swing.JComponent.processKeyBinding(Unknown Source)\r\n    \tat javax.swing.JComponent.processKeyBindings(Unknown Source)\r\n    \tat javax.swing.JComponent.processKeyEvent(Unknown Source)\r\n    \tat java.awt.Component.processEvent(Unknown Source)\r\n    \tat java.awt.Container.processEvent(Unknown Source)\r\n    \tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n    \tat java.awt.KeyboardFocusManager.redispatchEvent(Unknown Source)\r\n    \tat java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(Unknown Source)\r\n    \tat java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(Unknown Source)\r\n    \tat java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(Unknown Source)\r\n    \tat java.awt.DefaultKeyboardFocusManager.dispatchEvent(Unknown Source)\r\n    \tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.EventQueue.access$500(Unknown Source)\r\n    \tat java.awt.EventQueue$3.run(Unknown Source)\r\n    \tat java.awt.EventQueue$3.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.awt.EventQueue$4.run(Unknown Source)\r\n    \tat java.awt.EventQueue$4.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.run(Unknown Source)","title":"How do you forcibly set text in an active JTextField without throwing an exception?","body":"<p>JTextField's SetText method throws an exception whenever I try to set the contents while the field has focus. I need that to change, because I want to input a very precise number of characters, and once that character count is reached the field needs to be cleared while still having focus so the next set of characters can immediately be added without pushing any buttons.</p>\n\n<p>I tried creating a static method that would re-create the text field from scratch every time it filled up, allowing a sort of recursive regeneration of the field each time. The method simply didn't do anything. For reference, basically everything in this program is static because it's a very simple application and I basically just want to access every important variable from \"main\".</p>\n\n<p>Trying to set the text while the field has focus shows the following:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.IllegalStateException: Attempt to mutate in notification\n    at javax.swing.text.AbstractDocument.writeLock(Unknown Source)\n    at javax.swing.text.AbstractDocument.replace(Unknown Source)\n    at javax.swing.text.JTextComponent.setText(Unknown Source)\n    at onlypack.ProgramMain$3.insertUpdate(ProgramMain.java:118)\n    at javax.swing.text.AbstractDocument.fireInsertUpdate(Unknown Source)\n    at javax.swing.text.AbstractDocument.handleInsertString(Unknown Source)\n    at javax.swing.text.AbstractDocument.insertString(Unknown Source)\n    at javax.swing.text.PlainDocument.insertString(Unknown Source)\n    at javax.swing.text.AbstractDocument.replace(Unknown Source)\n    at javax.swing.text.JTextComponent.replaceSelection(Unknown Source)\n    at javax.swing.text.DefaultEditorKit$DefaultKeyTypedAction.actionPerformed(Unknown Source)\n    at javax.swing.SwingUtilities.notifyAction(Unknown Source)\n    at javax.swing.JComponent.processKeyBinding(Unknown Source)\n    at javax.swing.JComponent.processKeyBindings(Unknown Source)\n    at javax.swing.JComponent.processKeyEvent(Unknown Source)\n    at java.awt.Component.processEvent(Unknown Source)\n    at java.awt.Container.processEvent(Unknown Source)\n    at java.awt.Component.dispatchEventImpl(Unknown Source)\n    at java.awt.Container.dispatchEventImpl(Unknown Source)\n    at java.awt.Component.dispatchEvent(Unknown Source)\n    at java.awt.KeyboardFocusManager.redispatchEvent(Unknown Source)\n    at java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(Unknown Source)\n    at java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(Unknown Source)\n    at java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(Unknown Source)\n    at java.awt.DefaultKeyboardFocusManager.dispatchEvent(Unknown Source)\n    at java.awt.Component.dispatchEventImpl(Unknown Source)\n    at java.awt.Container.dispatchEventImpl(Unknown Source)\n    at java.awt.Window.dispatchEventImpl(Unknown Source)\n    at java.awt.Component.dispatchEvent(Unknown Source)\n    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n    at java.awt.EventQueue.access$500(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue$4.run(Unknown Source)\n    at java.awt.EventQueue$4.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue.dispatchEvent(Unknown Source)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","hibernate","exception","merge"],"comments":[{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":2,"creation_date":1563799906,"post_id":57146346,"comment_id":100808016,"body_markdown":"Can you add full stack trace?","body":"Can you add full stack trace?"},{"owner":{"account_id":12535438,"reputation":3,"user_id":9122244,"display_name":"Zack"},"score":0,"creation_date":1563801020,"post_id":57146346,"comment_id":100808656,"body_markdown":"Hi, thanks for the reply, I found the problem, I didn&#39;t worked becouse the name was created as Varchar (5) and it was trying to update a name with 7 char long.\n\nNow it works fine, i found that on the stack trace. \n\nThanks for taking your time to read and help, and sorry for the inconvenience.","body":"Hi, thanks for the reply, I found the problem, I didn&#39;t worked becouse the name was created as Varchar (5) and it was trying to update a name with 7 char long.  Now it works fine, i found that on the stack trace.   Thanks for taking your time to read and help, and sorry for the inconvenience."}],"owner":{"account_id":12535438,"reputation":3,"user_id":9122244,"display_name":"Zack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677271384,"creation_date":1563799495,"question_id":57146346,"body_markdown":"I&#39;m having `UnexpectedRollBack` exception on a simple merge method with hibernate. I&#39;m using JSP and controller structure.\r\n\r\nIt should be a simple update, but it returns an exception.\r\n\r\n`User.java`:\r\n\r\n    public class user{\r\n       private Integer id;\r\n       String name;\r\n       String active;\r\n    }\r\n    \r\n    @Id\r\n    @Column(name=&quot;ID&quot;, unique = true, nullable = false, etc...)\r\n    public Integer getId(){return this.id}\r\n    \r\n    @Column(name = &quot;NAME&quot;, nullable = true, length = 9)\r\n    public String getName() {\r\n    \treturn this.name;\r\n    }\r\n    \r\n    public void setName(String name) {\r\n    \tthis.name = name;\r\n    }\r\n    @Column(name = &quot;ACTIVE&quot;, nullable = true, length = 9)\r\n    public String getActive() {\r\n    \treturn this.active;\r\n    }\r\n    \r\n    public void setActive(String active) {\r\n    \tthis.active= active;\r\n    }\r\n\r\nController:\r\n\r\n    Public class UpdateUserController{\r\n    \r\n      //Here&#39;s the main issue\r\n    \r\n      User userToUpdate = findUserById(&quot;1&quot;);\r\n    \r\n     //user properly recovered from the DB\r\n    \r\n      userToUpdate.setActive(&quot;N&quot;);\r\n    \r\n      //UserService is the class that contains the merging method \r\n       userService.merge(userToUpdate);\r\n\r\n      System.out.println(userToUpdate.getActive());\r\n    }\r\n\r\nService class:\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    public user merge(User detachedInstance) {\r\n         try {\r\n            User result = entityManager.merge(detachedInstance);\r\n            return result;\r\n         } catch (RuntimeException re) {\r\n    \t    throw re;\r\n         }\r\n    }\r\n\r\nIt&#39;s a simple update of a `String`, only one cel in a row, this shouldn&#39;t return an exception but it does.\r\n\r\nI&#39;ve seen on some posts that the problem may be caused by the method try to update an element that is currently `null`, that may cause hibernate returns `RollBackException` by default.\r\n\r\nI&#39;ve checked and there is nothing null at the moment of the merge.","title":"Unexpected RollBackException on merge in hibernate (RESOLVED)","body":"<p>I'm having <code>UnexpectedRollBack</code> exception on a simple merge method with hibernate. I'm using JSP and controller structure.</p>\n<p>It should be a simple update, but it returns an exception.</p>\n<p><code>User.java</code>:</p>\n<pre><code>public class user{\n   private Integer id;\n   String name;\n   String active;\n}\n\n@Id\n@Column(name=&quot;ID&quot;, unique = true, nullable = false, etc...)\npublic Integer getId(){return this.id}\n\n@Column(name = &quot;NAME&quot;, nullable = true, length = 9)\npublic String getName() {\n    return this.name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n@Column(name = &quot;ACTIVE&quot;, nullable = true, length = 9)\npublic String getActive() {\n    return this.active;\n}\n\npublic void setActive(String active) {\n    this.active= active;\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>Public class UpdateUserController{\n\n  //Here's the main issue\n\n  User userToUpdate = findUserById(&quot;1&quot;);\n\n //user properly recovered from the DB\n\n  userToUpdate.setActive(&quot;N&quot;);\n\n  //UserService is the class that contains the merging method \n   userService.merge(userToUpdate);\n\n  System.out.println(userToUpdate.getActive());\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\npublic user merge(User detachedInstance) {\n     try {\n        User result = entityManager.merge(detachedInstance);\n        return result;\n     } catch (RuntimeException re) {\n        throw re;\n     }\n}\n</code></pre>\n<p>It's a simple update of a <code>String</code>, only one cel in a row, this shouldn't return an exception but it does.</p>\n<p>I've seen on some posts that the problem may be caused by the method try to update an element that is currently <code>null</code>, that may cause hibernate returns <code>RollBackException</code> by default.</p>\n<p>I've checked and there is nothing null at the moment of the merge.</p>\n"},{"tags":["java","kubernetes","kubernetes-helm"],"comments":[{"owner":{"account_id":12186602,"reputation":148,"user_id":8896134,"display_name":"Pranav Totala"},"score":0,"creation_date":1676266609,"post_id":75432196,"comment_id":133095655,"body_markdown":"Also tried the same with `host={{ .Values.configHost }}` but the same error","body":"Also tried the same with <code>host={{ .Values.configHost }}</code> but the same error"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1676289774,"post_id":75432196,"comment_id":133100913,"body_markdown":"The error message implies some sort of admission webhook; are you trying to develop this, or is it something an administrator has installed in your cluster?","body":"The error message implies some sort of admission webhook; are you trying to develop this, or is it something an administrator has installed in your cluster?"}],"answers":[{"tags":[],"owner":{"account_id":7242784,"reputation":27789,"user_id":5525824,"display_name":"Harsh Manvar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676267458,"creation_date":1676267458,"answer_id":75432277,"question_id":75432196,"body_markdown":"Not sure, but **data: cfg-api** is not with proper indentation\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: {{ .Release.Name }}-configmap\r\n    data:\r\n      cfg-api: |-\r\n        host=10.83.47.156 \r\n\r\nInstead of host set the helm template properly","title":"Helm chart cannot unmarshal array into Go struct field Volume.spec.template.spec.volumes.configMap","body":"<p>Not sure, but <strong>data: cfg-api</strong> is not with proper indentation</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: {{ .Release.Name }}-configmap\ndata:\n  cfg-api: |-\n    host=10.83.47.156 \n</code></pre>\n<p>Instead of host set the helm template properly</p>\n"}],"owner":{"account_id":12186602,"reputation":148,"user_id":8896134,"display_name":"Pranav Totala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677271164,"creation_date":1676266491,"question_id":75432196,"body_markdown":"\r\n    Reason: Failed to Install Helm Chart [ fk-m3-matching-engine-cache-service:1.4.6 ] =\\u003e cannot patch \\&quot;matching-engine-cache-service\\&quot; with kind Rollout: admission webhook \\&quot;webhook-svc.webhook.svc\\&quot; denied the request: unmarshal raw request object to rollout failed: json: cannot unmarshal array into Go struct field Volume.spec.template.spec.volumes.configMap of type v1.ConfigMapVolumeSource\\n&quot;,&quot;severity&quot;:0}\r\n\r\ncfg-config.yml --&gt;\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:  \r\n    name: cs-config  \r\n    namespace: {{ .Values.metadata.namespace }}\r\n    data:   \r\n     cfg-api: |+\r\n        host=10.83.47.156\r\n\r\nI am not sure why this file is throwing error. Consider me a noob in kube, the data `host=10.83.47.156` should be printed in the `cfg-api` file.","title":"Helm chart cannot unmarshal array into Go struct field Volume.spec.template.spec.volumes.configMap","body":"<pre><code>Reason: Failed to Install Helm Chart [ fk-m3-matching-engine-cache-service:1.4.6 ] =\\u003e cannot patch \\&quot;matching-engine-cache-service\\&quot; with kind Rollout: admission webhook \\&quot;webhook-svc.webhook.svc\\&quot; denied the request: unmarshal raw request object to rollout failed: json: cannot unmarshal array into Go struct field Volume.spec.template.spec.volumes.configMap of type v1.ConfigMapVolumeSource\\n&quot;,&quot;severity&quot;:0}\n</code></pre>\n<p>cfg-config.yml --&gt;</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:  \nname: cs-config  \nnamespace: {{ .Values.metadata.namespace }}\ndata:   \n cfg-api: |+\n    host=10.83.47.156\n</code></pre>\n<p>I am not sure why this file is throwing error. Consider me a noob in kube, the data <code>host=10.83.47.156</code> should be printed in the <code>cfg-api</code> file.</p>\n"},{"tags":["java","zap"],"comments":[{"owner":{"account_id":1621844,"reputation":5574,"user_id":1509834,"display_name":"Simon Bennetts"},"score":0,"creation_date":1675349582,"post_id":75324889,"comment_id":132913585,"body_markdown":"Which Java 64 bit JRE have you installed?","body":"Which Java 64 bit JRE have you installed?"},{"owner":{"account_id":26282621,"reputation":1,"user_id":19950871,"display_name":"naser"},"score":0,"creation_date":1675418999,"post_id":75324889,"comment_id":132929318,"body_markdown":"https://www.java.com/en/download/manual.jsp","body":"<a href=\"https://www.java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">java.com/en/download/manual.jsp</a>"},{"owner":{"account_id":10470107,"reputation":1418,"user_id":7718222,"display_name":"kingthorin"},"score":0,"creation_date":1676167723,"post_id":75324889,"comment_id":133083040,"body_markdown":"That&#39;s Java 8, ZAP 2.12 requires Java 11. As noted on the download page, release notes, help, getting started guide, etc.","body":"That&#39;s Java 8, ZAP 2.12 requires Java 11. As noted on the download page, release notes, help, getting started guide, etc."}],"answers":[{"comments":[{"owner":{"account_id":26282621,"reputation":1,"user_id":19950871,"display_name":"naser"},"score":0,"creation_date":1675418898,"post_id":75326877,"comment_id":132929294,"body_markdown":"I am downloading the 64 bit one","body":"I am downloading the 64 bit one"},{"owner":{"account_id":1621844,"reputation":5574,"user_id":1509834,"display_name":"Simon Bennetts"},"score":0,"creation_date":1675522023,"post_id":75326877,"comment_id":132948966,"body_markdown":"Which JRE? 7? 11?","body":"Which JRE? 7? 11?"}],"tags":[],"owner":{"account_id":10470107,"reputation":1418,"user_id":7718222,"display_name":"kingthorin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675359139,"creation_date":1675359139,"answer_id":75326877,"question_id":75324889,"body_markdown":"Based on the error message:\r\n\r\n1) You didn&#39;t install a JRE &gt;= Java 11.\r\n2) You installed a 32bit JRE.\r\n3) Your JRE can&#39;t be found. (If you&#39;re using Adopt OpenJDK or Temurin, etc. [I can&#39;t think of all of them.] there&#39;s an option to set JAVA_HOME and JavaSoft registry keys, you should enable those. Plus may need to reboot before installing [thanks Windows &#129335;‍♂️].)","title":"zap is not installing","body":"<p>Based on the error message:</p>\n<ol>\n<li>You didn't install a JRE &gt;= Java 11.</li>\n<li>You installed a 32bit JRE.</li>\n<li>Your JRE can't be found. (If you're using Adopt OpenJDK or Temurin, etc. [I can't think of all of them.] there's an option to set JAVA_HOME and JavaSoft registry keys, you should enable those. Plus may need to reboot before installing [thanks Windows 🤷‍♂️].)</li>\n</ol>\n"}],"owner":{"account_id":26282621,"reputation":1,"user_id":19950871,"display_name":"naser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":857,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677270654,"creation_date":1675349358,"question_id":75324889,"body_markdown":"i dont know why its not installing i dont know what to do [error image][1]\r\nits showing this i did instal java 64 bit jre its not working please hele me\r\n\r\ni tride to delete and install again it did&#39;nt work\r\n\r\ni delete it many times and install\r\n\r\nstill its not installing zap its showing the same thing locate java 64 bit file\r\n\r\ni also tride to locate the file it did&#39;nt work but i dont know where the file is if i know where the file is its not selecting the file\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WI2L8.png\r\n  [2]: https://i.stack.imgur.com/jZAI7.png","title":"zap is not installing","body":"<p>i dont know why its not installing i dont know what to do <a href=\"https://i.stack.imgur.com/WI2L8.png\" rel=\"nofollow noreferrer\">error image</a>\nits showing this i did instal java 64 bit jre its not working please hele me</p>\n<p>i tride to delete and install again it did'nt work</p>\n<p>i delete it many times and install</p>\n<p>still its not installing zap its showing the same thing locate java 64 bit file</p>\n<p>i also tride to locate the file it did'nt work but i dont know where the file is if i know where the file is its not selecting the file</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1633545094,"post_id":69470873,"comment_id":122790842,"body_markdown":"So you have defined in your test to run it that way. You should change your tests... apart from that they sound like integration tests and should be named like `*IT.java` instead of `*Test.java` ...that would solve the problem... ?","body":"So you have defined in your test to run it that way. You should change your tests... apart from that they sound like integration tests and should be named like <code>*IT.java</code> instead of <code>*Test.java</code> ...that would solve the problem... ?"},{"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"score":0,"creation_date":1633545473,"post_id":69470873,"comment_id":122790986,"body_markdown":"@khmarbaise my tests are not integration tests, they only have this annotation @ExtendWith(MockitoExtension.class), and yes they are called *test.java","body":"@khmarbaise my tests are not integration tests, they only have this annotation @ExtendWith(MockitoExtension.class), and yes they are called *test.java"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1633546219,"post_id":69470873,"comment_id":122791247,"body_markdown":"There are many solutions: you could disable all test when build run on maven, refectoring your tests for swiching as you need, run tests mocking your database or point only tests for a specific configuration with a database on memory.","body":"There are many solutions: you could disable all test when build run on maven, refectoring your tests for swiching as you need, run tests mocking your database or point only tests for a specific configuration with a database on memory."},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":1,"creation_date":1633546394,"post_id":69470873,"comment_id":122791311,"body_markdown":"So interesting when you said `I just one to execute the tests as the IDE does`. IDE runs tests different to `mvn test`?","body":"So interesting when you said <code>I just one to execute the tests as the IDE does</code>. IDE runs tests different to <code>mvn test</code>?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633547052,"post_id":69470873,"comment_id":122791523,"body_markdown":"So if you execute a test which connects to a database it is an integration tests...","body":"So if you execute a test which connects to a database it is an integration tests..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1633547294,"post_id":69470873,"comment_id":122791610,"body_markdown":"You have only test with `@ExtendWith(...)` ? None of them with `@SpringBootTest`?","body":"You have only test with <code>@ExtendWith(...)</code> ? None of them with <code>@SpringBootTest</code>?"},{"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"score":0,"creation_date":1633548758,"post_id":69470873,"comment_id":122792110,"body_markdown":"@DilermandoLima yes, IDE executes tests without loading spring boot and without any autoconfiguration","body":"@DilermandoLima yes, IDE executes tests without loading spring boot and without any autoconfiguration"},{"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"score":0,"creation_date":1633549451,"post_id":69470873,"comment_id":122792372,"body_markdown":"@khmarbaise any of my tests use the database, they use mocks. I had an empty class with SpringBootTest, deleting it did the job, thanks","body":"@khmarbaise any of my tests use the database, they use mocks. I had an empty class with SpringBootTest, deleting it did the job, thanks"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633588049,"post_id":69470873,"comment_id":122800336,"body_markdown":"`@SpringBootTest` startups up the whole spring context which includes connections etc... that&#39;s usually not the correct way...","body":"<code>@SpringBootTest</code> startups up the whole spring context which includes connections etc... that&#39;s usually not the correct way..."}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633548128,"creation_date":1633548128,"answer_id":69471572,"question_id":69470873,"body_markdown":"I think one of them could help you\r\n\r\n**1 - Disable all tests**\r\n```\r\nmvn clean install -DskipTests\r\n\r\n```\r\n\r\n**2 - Prepare your test for switching**\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@EnabledIf(expression = &quot;${tests.spring.enabled:true}&quot;)\r\n```\r\nif you pass `-Dtests.spring.enabled=` false or true will disable test\r\n\r\n**3 - Point your test to other configuration**\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@TestPropertySource(locations = &quot;classpath:application-${spring.profiles.active:test}.properties&quot;)\r\n```\r\nthis way you could connect your application into a local database\r\n\r\n**4 - Change your tests**\r\n\r\nUse mocks to turn your integration tests into a unit tests or component tests with no connections\r\n\r\n","title":"Disable spring boot all together when running maven test","body":"<p>I think one of them could help you</p>\n<p><strong>1 - Disable all tests</strong></p>\n<pre><code>mvn clean install -DskipTests\n\n</code></pre>\n<p><strong>2 - Prepare your test for switching</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@EnabledIf(expression = &quot;${tests.spring.enabled:true}&quot;)\n</code></pre>\n<p>if you pass <code>-Dtests.spring.enabled=</code> false or true will disable test</p>\n<p><strong>3 - Point your test to other configuration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@TestPropertySource(locations = &quot;classpath:application-${spring.profiles.active:test}.properties&quot;)\n</code></pre>\n<p>this way you could connect your application into a local database</p>\n<p><strong>4 - Change your tests</strong></p>\n<p>Use mocks to turn your integration tests into a unit tests or component tests with no connections</p>\n"},{"tags":[],"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633554207,"creation_date":1633554207,"answer_id":69472625,"question_id":69470873,"body_markdown":"The problem I had was an empty class with `@SpringBootTest` annotation. After deleting it the tests works without spring interfering.","title":"Disable spring boot all together when running maven test","body":"<p>The problem I had was an empty class with <code>@SpringBootTest</code> annotation. After deleting it the tests works without spring interfering.</p>\n"},{"tags":[],"owner":{"account_id":19965064,"reputation":1,"user_id":14631828,"display_name":"Nils"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677270091,"creation_date":1677270091,"answer_id":75561047,"question_id":69470873,"body_markdown":"Use `@Disabled(&quot;TODO: Fix root cause&quot;)`\r\n\r\nhttps://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html\r\n\r\n&gt; public @interface Disabled\r\n&gt; @Disabled is used to signal that the annotated test class or test method is currently disabled and should not be executed.\r\n&gt; @Disabled may optionally be declared with a reason to document why the &gt; annotated test class or test method is disabled.\r\n\r\n&gt; When applied at the class level, all test methods within that class are automatically disabled as well.\r\n\r\n&gt; When applied at the method level, the presence of this annotation does not prevent the test class from being instantiated. Rather, it prevents the execution of the test method and method-level lifecycle callbacks such as @BeforeEach methods, @AfterEach methods, and corresponding extension APIs.\r\n","title":"Disable spring boot all together when running maven test","body":"<p>Use <code>@Disabled(&quot;TODO: Fix root cause&quot;)</code></p>\n<p><a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html</a></p>\n<blockquote>\n<p>public @interface Disabled\n@Disabled is used to signal that the annotated test class or test method is currently disabled and should not be executed.\n@Disabled may optionally be declared with a reason to document why the &gt; annotated test class or test method is disabled.</p>\n</blockquote>\n<blockquote>\n<p>When applied at the class level, all test methods within that class are automatically disabled as well.</p>\n</blockquote>\n<blockquote>\n<p>When applied at the method level, the presence of this annotation does not prevent the test class from being instantiated. Rather, it prevents the execution of the test method and method-level lifecycle callbacks such as @BeforeEach methods, @AfterEach methods, and corresponding extension APIs.</p>\n</blockquote>\n"}],"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3648,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1677270091,"creation_date":1633544715,"question_id":69470873,"body_markdown":"I have some unit test classes in my project that I want to test with `mvn test`. But whenever I run the command an instance of spring boot starts and opens database connections.\r\n\r\nI&#180;m running these tests in a server that doesn&#180;t have access to a database, and none of my tests uses one. I just one to execute the tests as the IDE does. ","title":"Disable spring boot all together when running maven test","body":"<p>I have some unit test classes in my project that I want to test with <code>mvn test</code>. But whenever I run the command an instance of spring boot starts and opens database connections.</p>\n<p>I´m running these tests in a server that doesn´t have access to a database, and none of my tests uses one. I just one to execute the tests as the IDE does.</p>\n"},{"tags":["java","spring-boot","design-patterns","chain-of-responsibility"],"answers":[{"tags":[],"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677268702,"creation_date":1677268702,"answer_id":75560864,"question_id":75560462,"body_markdown":"I did not follow the code snippet you provided, but you can follow the following approach: \r\n\r\n    @Service\r\n    public class SongService {\r\n      \r\n      private final SongRepository songRepository;\r\n      private final QueryFactory queryFactory;\r\n      private final PrepareAnswerFactory prepareAnswerFactory;\r\n    \r\n      @Autowired\r\n      public SongService(SongRepository songRepository, QueryFactory queryFactory, PrepareAnswerFactory prepareAnswerFactory) {\r\n        this.songRepository = songRepository;\r\n        this.queryFactory = queryFactory;\r\n        this.prepareAnswerFactory = prepareAnswerFactory;\r\n      }\r\n    \r\n      public List&lt;SongDTO&gt; getSongsByQueryType(String queryType) {\r\n        // Create query instance using factory method\r\n        Query query = queryFactory.createQuery(queryType);\r\n    \r\n        // Parse the data, create the query, and execute it on the repository\r\n        List&lt;SongItem&gt; songs = songRepository.findByQuery(query.parse(), query.createQueryBuilder());\r\n    \r\n        // Create return DTO\r\n        PrepareAnswer prepareAnswer = prepareAnswerFactory.createPrepareAnswer(queryType);\r\n        List&lt;SongDTO&gt; songDTOs = prepareAnswer.prepareAnswer(songs);\r\n    \r\n        return songDTOs;\r\n      }\r\n    }\r\n\r\nIn this example, the `SongService` class is the service class that coordinates the different steps. The `SongRepository` is a Spring Data JPA repository interface that handles the database interactions.\r\n\r\nThe `QueryFactory` and `PrepareAnswerFactory` are factory classes that provide instances of the corresponding Query and `PrepareAnswer` implementations based on the `queryType` parameter.\r\n\r\nThe `getSongsByQueryType` method takes in the `queryType` parameter, which determines the type of query required. It then creates an instance of the corresponding `Query` implementation using the `QueryFactory`, parses the data, creates the query, and executes it on the repository.\r\n\r\nThe `List&lt;SongItem&gt;` result is then passed to the corresponding `PrepareAnswer` implementation, created using the `PrepareAnswerFactory`, to create the return DTO.\r\n\r\n","title":"Java Design/Spring Boot question, how to break down responsibilities inside a Service","body":"<p>I did not follow the code snippet you provided, but you can follow the following approach:</p>\n<pre><code>@Service\npublic class SongService {\n  \n  private final SongRepository songRepository;\n  private final QueryFactory queryFactory;\n  private final PrepareAnswerFactory prepareAnswerFactory;\n\n  @Autowired\n  public SongService(SongRepository songRepository, QueryFactory queryFactory, PrepareAnswerFactory prepareAnswerFactory) {\n    this.songRepository = songRepository;\n    this.queryFactory = queryFactory;\n    this.prepareAnswerFactory = prepareAnswerFactory;\n  }\n\n  public List&lt;SongDTO&gt; getSongsByQueryType(String queryType) {\n    // Create query instance using factory method\n    Query query = queryFactory.createQuery(queryType);\n\n    // Parse the data, create the query, and execute it on the repository\n    List&lt;SongItem&gt; songs = songRepository.findByQuery(query.parse(), query.createQueryBuilder());\n\n    // Create return DTO\n    PrepareAnswer prepareAnswer = prepareAnswerFactory.createPrepareAnswer(queryType);\n    List&lt;SongDTO&gt; songDTOs = prepareAnswer.prepareAnswer(songs);\n\n    return songDTOs;\n  }\n}\n</code></pre>\n<p>In this example, the <code>SongService</code> class is the service class that coordinates the different steps. The <code>SongRepository</code> is a Spring Data JPA repository interface that handles the database interactions.</p>\n<p>The <code>QueryFactory</code> and <code>PrepareAnswerFactory</code> are factory classes that provide instances of the corresponding Query and <code>PrepareAnswer</code> implementations based on the <code>queryType</code> parameter.</p>\n<p>The <code>getSongsByQueryType</code> method takes in the <code>queryType</code> parameter, which determines the type of query required. It then creates an instance of the corresponding <code>Query</code> implementation using the <code>QueryFactory</code>, parses the data, creates the query, and executes it on the repository.</p>\n<p>The <code>List&lt;SongItem&gt;</code> result is then passed to the corresponding <code>PrepareAnswer</code> implementation, created using the <code>PrepareAnswerFactory</code>, to create the return DTO.</p>\n"}],"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677268702,"creation_date":1677265643,"question_id":75560462,"body_markdown":"Lets say you have a business flow that evolves around creating multiple queries on a songs database, and you have some steps in all\r\n\r\nThe example is in Spring Boot but the logic can be applied anywhere\r\n\r\n 1. Have a factory that decides the query\r\n 2. Parse: Receive some data, break them down, create the query\r\n 3. Query: Perform query on repository, the query returns a `List&lt;SongItem&gt;`\r\n 4. PrepareAnswer: Create a return DTO\r\n\r\nSteps 2, 4, have different implementations, thus the different classes\r\n\r\nyou can create an interface or abstract class Query\r\n\r\n    private interface Query(){\r\n    \tpublic ?? parse();\r\n    \tpublic QueryBuilder createQuery();\r\n    \tpublic ?? PrepareAnser();\r\n    }\r\n\r\nand implement multiple `Query` types like `RockQuery` `PopQuery` `FolkQuery`\r\n\r\n`public class RockQuery implements Query`\r\n\r\n**How should the service be organized and the data `List&lt;SongItem&gt;` carried around the several steps?** \r\n\r\nI have several thoughs, its mostly wether to include the SongList in the class or keep it in the Service\r\n\r\n1)\r\n\r\n    @Service\r\n    public class SongService()\r\n    \r\n    public SongListDTO makeAList(Data data){\r\n    \t\r\n    \t@Autowired\r\n    \tSongRepository repository;\r\n    \t\r\n    \tQuery query = factory(data).getQuery(Type.ROCK); // or something similar\r\n    \tList&lt;SongItem&gt; songs = repository.query(query.createQuery());\r\n    \treturn query.prepareAnswer(songs);\r\n    \t\r\n    }\r\n\r\n2)  \r\ninstead of creating a different querytype, actually perform the query inside the QueryClass, not the Service. Of course inject the repository there.\r\n\r\nKeep the `List&lt;SongItem&gt;` as class member. Dont expose it to the `Service`\r\n\r\n    public SongListDTO makeAList(Data data){\r\n    \tQuery query = factory(data).getQuery(Type.ROCK); // or something similar\r\n    \tquery.performQuery()\r\n    \treturn query.prepareAnswer(songs);\r\n    }\r\n\r\n3) Something similar, multiple variations may apply","title":"Java Design/Spring Boot question, how to break down responsibilities inside a Service","body":"<p>Lets say you have a business flow that evolves around creating multiple queries on a songs database, and you have some steps in all</p>\n<p>The example is in Spring Boot but the logic can be applied anywhere</p>\n<ol>\n<li>Have a factory that decides the query</li>\n<li>Parse: Receive some data, break them down, create the query</li>\n<li>Query: Perform query on repository, the query returns a <code>List&lt;SongItem&gt;</code></li>\n<li>PrepareAnswer: Create a return DTO</li>\n</ol>\n<p>Steps 2, 4, have different implementations, thus the different classes</p>\n<p>you can create an interface or abstract class Query</p>\n<pre><code>private interface Query(){\n    public ?? parse();\n    public QueryBuilder createQuery();\n    public ?? PrepareAnser();\n}\n</code></pre>\n<p>and implement multiple <code>Query</code> types like <code>RockQuery</code> <code>PopQuery</code> <code>FolkQuery</code></p>\n<p><code>public class RockQuery implements Query</code></p>\n<p><strong>How should the service be organized and the data <code>List&lt;SongItem&gt;</code> carried around the several steps?</strong></p>\n<p>I have several thoughs, its mostly wether to include the SongList in the class or keep it in the Service</p>\n<p>1)</p>\n<pre><code>@Service\npublic class SongService()\n\npublic SongListDTO makeAList(Data data){\n    \n    @Autowired\n    SongRepository repository;\n    \n    Query query = factory(data).getQuery(Type.ROCK); // or something similar\n    List&lt;SongItem&gt; songs = repository.query(query.createQuery());\n    return query.prepareAnswer(songs);\n    \n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p>instead of creating a different querytype, actually perform the query inside the QueryClass, not the Service. Of course inject the repository there.</p>\n<p>Keep the <code>List&lt;SongItem&gt;</code> as class member. Dont expose it to the <code>Service</code></p>\n<pre><code>public SongListDTO makeAList(Data data){\n    Query query = factory(data).getQuery(Type.ROCK); // or something similar\n    query.performQuery()\n    return query.prepareAnswer(songs);\n}\n</code></pre>\n<ol start=\"3\">\n<li>Something similar, multiple variations may apply</li>\n</ol>\n"},{"tags":["java","spring-boot","google-cloud-firestore","spring-data"],"owner":{"account_id":15433035,"reputation":13,"user_id":11741602,"display_name":"Edisson Andres Garcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677268536,"creation_date":1677268424,"question_id":75560837,"body_markdown":"I am working with FirestoreReactiveRepository, I need to access the &quot;multimedia&quot; subcollection but I have not found the way or to map the entity, the subcollection always arrives null\r\n\r\nFirestore:\r\n[firestore panel](https://i.stack.imgur.com/NMmgO.png)\r\n\r\npath:`/products/22dQxX97hBpz1PcrvZlq/multimedia`\r\n\r\nParent entity:\r\n\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Document(collectionName = &quot;products&quot;)\r\n    public class Producto {\r\n        @DocumentId\r\n        private String idProducto;\r\n    \r\n        private Multimedia multimedia;\r\n    }\r\n\r\nChild Entity:\r\n\r\n\r\n   \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Document(collectionName = &quot;multimedia&quot;)\r\n    public class Multimedia {\r\n        @DocumentId\r\n        private String multimediaId;\r\n    \r\n        private List&lt;MultimediaDto&gt; multimediaDto;\r\n    }\r\n   \r\n\r\nRepository:\r\n\r\n\r\n    import com.autecomobility.storage.logica.entidades.Producto;\r\n    import org.springframework.cloud.gcp.data.firestore.FirestoreReactiveRepository;\r\n    \r\n    public interface IProductRepositorio extends FirestoreReactiveRepository&lt;Producto&gt; {\r\n    }\r\n\r\n\r\nI tried to add the child entity as an attribute of the parent entity, but when querying for the attribute it returns null","title":"FirestoreReactiveRepository with subcollections","body":"<p>I am working with FirestoreReactiveRepository, I need to access the &quot;multimedia&quot; subcollection but I have not found the way or to map the entity, the subcollection always arrives null</p>\n<p>Firestore:\n<a href=\"https://i.stack.imgur.com/NMmgO.png\" rel=\"nofollow noreferrer\">firestore panel</a></p>\n<p>path:<code>/products/22dQxX97hBpz1PcrvZlq/multimedia</code></p>\n<p>Parent entity:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Document(collectionName = &quot;products&quot;)\npublic class Producto {\n    @DocumentId\n    private String idProducto;\n\n    private Multimedia multimedia;\n}\n</code></pre>\n<p>Child Entity:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Document(collectionName = &quot;multimedia&quot;)\npublic class Multimedia {\n    @DocumentId\n    private String multimediaId;\n\n    private List&lt;MultimediaDto&gt; multimediaDto;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>import com.autecomobility.storage.logica.entidades.Producto;\nimport org.springframework.cloud.gcp.data.firestore.FirestoreReactiveRepository;\n\npublic interface IProductRepositorio extends FirestoreReactiveRepository&lt;Producto&gt; {\n}\n</code></pre>\n<p>I tried to add the child entity as an attribute of the parent entity, but when querying for the attribute it returns null</p>\n"},{"tags":["java","neo4j","spring-data","spring-data-neo4j"],"comments":[{"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1677171727,"post_id":75543866,"comment_id":133289732,"body_markdown":"The Java statement provided is not well formed (unmatched parentheses).","body":"The Java statement provided is not well formed (unmatched parentheses)."},{"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1677174820,"post_id":75543866,"comment_id":133290694,"body_markdown":"Also, can you provide the exception&#39;s stacktrace?","body":"Also, can you provide the exception&#39;s stacktrace?"},{"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"score":0,"creation_date":1677209112,"post_id":75543866,"comment_id":133297156,"body_markdown":"Fixed the parentheses, the full stack trace is all internal on Reactor, I cannot copy-paste as I have the code on a disconnected computer, I will try to give more insights.","body":"Fixed the parentheses, the full stack trace is all internal on Reactor, I cannot copy-paste as I have the code on a disconnected computer, I will try to give more insights."}],"answers":[{"comments":[{"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1677268681,"post_id":75552355,"comment_id":133311102,"body_markdown":"Interesting. Yes, 1:1 [bidirectional relationships is an anti-pattern](https://graphaware.com/blog/neo4j/neo4j-bidirectional-relationships.html). You can just as easily and efficiently traverse a relationship in the reverse direction.","body":"Interesting. Yes, 1:1 <a href=\"https://graphaware.com/blog/neo4j/neo4j-bidirectional-relationships.html\" rel=\"nofollow noreferrer\">bidirectional relationships is an anti-pattern</a>. You can just as easily and efficiently traverse a relationship in the reverse direction."}],"tags":[],"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677209200,"creation_date":1677209200,"answer_id":75552355,"question_id":75543866,"body_markdown":"I finally got it working.\r\n\r\nI removed bidirectional relationships in the graph and that solved my issue, I guess that Neo4J didn&#39;t like Car pointing to Wheel and Wheel pointing to Car.","title":"IllegalStateException Already value ReactiveNeo4JTransactionHolder for key InternalDriver bound to context","body":"<p>I finally got it working.</p>\n<p>I removed bidirectional relationships in the graph and that solved my issue, I guess that Neo4J didn't like Car pointing to Wheel and Wheel pointing to Car.</p>\n"}],"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75552355,"answer_count":1,"score":0,"last_activity_date":1677268469,"creation_date":1677149956,"question_id":75543866,"body_markdown":"I&#39;m using Neo4J 4.x with Spring Data, I have multiple reactive repositories.\r\n\r\nI have a function that returns a Mono&lt;Void&gt; as:\r\n```\r\nreturn carsRepositories.findByd(id).flatmap(car -&gt; wheelRepository.save(wheelNode)).then();\r\n```\r\n\r\nI get an error **`IllegalStateException Already value ReactiveNeo4JTransactionHolder for key InternalDriver bound to context`**.\r\n\r\nI can `findById` or save the `wheelNode` independently, but when I chain them together, I run into that transactional problem.\r\n\r\nNote: In my `flatmap` I want to set the relationship `wheel-&gt;car`, but I omitted that part.","title":"IllegalStateException Already value ReactiveNeo4JTransactionHolder for key InternalDriver bound to context","body":"<p>I'm using Neo4J 4.x with Spring Data, I have multiple reactive repositories.</p>\n<p>I have a function that returns a Mono as:</p>\n<pre><code>return carsRepositories.findByd(id).flatmap(car -&gt; wheelRepository.save(wheelNode)).then();\n</code></pre>\n<p>I get an error <strong><code>IllegalStateException Already value ReactiveNeo4JTransactionHolder for key InternalDriver bound to context</code></strong>.</p>\n<p>I can <code>findById</code> or save the <code>wheelNode</code> independently, but when I chain them together, I run into that transactional problem.</p>\n<p>Note: In my <code>flatmap</code> I want to set the relationship <code>wheel-&gt;car</code>, but I omitted that part.</p>\n"},{"tags":["java","unit-testing","jdbc","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677267452,"creation_date":1677267452,"answer_id":75560702,"question_id":75560502,"body_markdown":"Short Answer\r\n------------\r\nYou will never be able to mock the `OfferRowMapper`\r\nthat is used within the `getOfferDetails` method if you keep the code:\r\n`OfferRowMapper rowMapper = new OfferRowMapper();` in the `getOfferDetails` method.\r\n\r\nSome Solutions\r\n----------\r\nIn order to mock the `OfferRowMapper`,\r\nyou must do one of the following:\r\n\r\n1. Pass the OfferRowMapper as a parameter to the `getOfferDetails` method.\r\nWith this technique,\r\nyou would create a mock of `OfferRowMapper` in your unit test and pass it in.\r\n2. Move the OfferRowMapper out of the method and make it a class field that is used within the `getOfferDetails` method.\r\nWith this technique,\r\nyou would create a mock of `OfferRowMapper` in your unit test and set the class variable to this mock.\r\n3. Create a factory method, perhaps within the class, that creates the  `OfferRowMapper`.\r\nWith this technique,\r\nyou would stub this method within your unit test and have it return a mock object.","title":"How do I mock this Rowmapper class in java?","body":"<h2>Short Answer</h2>\n<p>You will never be able to mock the <code>OfferRowMapper</code>\nthat is used within the <code>getOfferDetails</code> method if you keep the code:\n<code>OfferRowMapper rowMapper = new OfferRowMapper();</code> in the <code>getOfferDetails</code> method.</p>\n<h2>Some Solutions</h2>\n<p>In order to mock the <code>OfferRowMapper</code>,\nyou must do one of the following:</p>\n<ol>\n<li>Pass the OfferRowMapper as a parameter to the <code>getOfferDetails</code> method.\nWith this technique,\nyou would create a mock of <code>OfferRowMapper</code> in your unit test and pass it in.</li>\n<li>Move the OfferRowMapper out of the method and make it a class field that is used within the <code>getOfferDetails</code> method.\nWith this technique,\nyou would create a mock of <code>OfferRowMapper</code> in your unit test and set the class variable to this mock.</li>\n<li>Create a factory method, perhaps within the class, that creates the  <code>OfferRowMapper</code>.\nWith this technique,\nyou would stub this method within your unit test and have it return a mock object.</li>\n</ol>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677267452,"creation_date":1677265860,"question_id":75560502,"body_markdown":"I can&#39;t seem to mock the OfferRowMapper class since it&#39;s creating a new instance within the method. I can&#39;t make OfferRowMapper I am trying to unit test this method here:\r\n\r\n```\r\n    @Override\r\n    public List&lt;OfferDetailDTO&gt; getOfferDetails(String programType, Integer pageNo, Integer pageSize) {\r\n        OfferRowMapper rowMapper = new OfferRowMapper();\r\n        try {\r\n            jdbcTemplate.query(query, rowMapper, new Object[]{programType, pageNo, pageSize});\r\n            log.info(Logger.EVENT_UNSPECIFIED, String.format(Constants.INFO_109, programType, rowMapper.getData().size()));\r\n        } catch (Exception e) {\r\n            log.error(Logger.EVENT_FAILURE, String.format(ErrorCodeConstants.ERROR_107, programType, e.getMessage()));\r\n            throw new GenericException(e.getMessage());\r\n        }\r\n        return rowMapper.getData();\r\n    }\r\n```\r\n\r\nThis is my unit test so far, which is failing since rowMapper.getData() returns nothing since it isn&#39;t able to be mocked. \r\n\r\n```\r\n    @Test\r\n    void testGetOfferDetails_thenSuccess() {\r\n        // mock\r\n        ReflectionTestUtils.setField(JDBCDataAccessLayer, &quot;query&quot;, &quot;select query&quot;);\r\n        OfferRowMapper offerRowMapper = Mockito.mock(OfferRowMapper.class);\r\n        OfferDetailDTO OfferDetailDTO = new OfferDetailDTO();\r\n        OfferDetailDTO.setOmsOfferId(2506763L);\r\n        OfferDetailDTO.setPriceText(&quot;$5.20 Each&quot;);\r\n        OfferDetailDTO.setProgramTypeCd(&quot;W&quot;);\r\n        OfferDetailDTO.setHeadlineTxt(&quot;Gefilte Fish&quot;);\r\n        List&lt;OfferDetailDTO&gt; OfferDetailDTOList = new ArrayList&lt;&gt;();\r\n        OfferDetailDTOList.add(OfferDetailDTO);\r\n        Mockito.when(JDBCDataAccessLayer.createOfferRowMapper()).thenReturn(offerRowMapper);\r\n        Mockito.doNothing().when(jdbcTemplate).query(Mockito.anyString(), Mockito.any(OfferRowMapper.class), Mockito.any(Object.class));\r\n\r\n        // call and assert\r\n        List&lt;OfferDetailDTO&gt; OfferDetailDTOS = JDBCDataAccessLayer.getOfferDetails(&quot;W&quot;, 0, 30);\r\n        Assertions.assertNotNull(OfferDetailDTOS);\r\n        Assertions.assertEquals(1, OfferDetailDTOS.size());\r\n        Assertions.assertEquals(&quot;W&quot;, OfferDetailDTOS.get(0).getProgramTypeCd());\r\n        Assertions.assertEquals(&quot;Gefilte Fish&quot;, OfferDetailDTOS.get(0).getHeadlineTxt());\r\n        Assertions.assertEquals(&quot;$5.20 Each&quot;, OfferDetailDTOS.get(0).getPriceText());\r\n        Assertions.assertEquals(2506763L, OfferDetailDTOS.get(0).getOmsOfferId());\r\n    }\r\n```\r\nI cannot use constructor injection for the rowmapper since it implements RowCallbackHandler\r\n\r\n```\r\n\r\npublic class OfferRowMapper implements RowCallbackHandler {\r\n\r\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(Constants.DATE_TIME_FORMAT);\r\n    private List&lt;OfferDetailDTO&gt; rsMappedRows = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void processRow(ResultSet rs) throws SQLException {\r\n        OfferDetailDTO OfferDetailDTO = new OfferDetailDTO();\r\n        OfferDetailDTO.setOmsOfferId(rs.getLong(&quot;oms_offer_id&quot;));\r\n        OfferDetailDTO.setProgramTypeCd(rs.getString(&quot;program_type_cd&quot;));\r\n        OfferDetailDTO.setDisclaimer(rs.getString(&quot;disclaimer&quot;));\r\n        OfferDetailDTO.setPriceText(rs.getString(&quot;price_txt&quot;));\r\n        OfferDetailDTO.setHeadlineTxt(rs.getString(&quot;headline_txt&quot;));\r\n        OfferDetailDTO.setHeadline2Txt(rs.getString(&quot;headline2_txt&quot;));\r\n        OfferDetailDTO.setLand(rs.getString(&quot;land&quot;));\r\n        OfferDetailDTO.setSpace(rs.getString(&quot;space&quot;));\r\n        OfferDetailDTO.setSlot(rs.getString(&quot;slot&quot;));\r\n        rsMappedRows.add(OfferDetailDTO);\r\n    }\r\n\r\n    public List&lt;OfferDetailDTO&gt; getData() {\r\n        return rsMappedRows;\r\n    }\r\n}\r\n```\r\n\r\ncan somebody guide me on how to test this scenario? ","title":"How do I mock this Rowmapper class in java?","body":"<p>I can't seem to mock the OfferRowMapper class since it's creating a new instance within the method. I can't make OfferRowMapper I am trying to unit test this method here:</p>\n<pre><code>    @Override\n    public List&lt;OfferDetailDTO&gt; getOfferDetails(String programType, Integer pageNo, Integer pageSize) {\n        OfferRowMapper rowMapper = new OfferRowMapper();\n        try {\n            jdbcTemplate.query(query, rowMapper, new Object[]{programType, pageNo, pageSize});\n            log.info(Logger.EVENT_UNSPECIFIED, String.format(Constants.INFO_109, programType, rowMapper.getData().size()));\n        } catch (Exception e) {\n            log.error(Logger.EVENT_FAILURE, String.format(ErrorCodeConstants.ERROR_107, programType, e.getMessage()));\n            throw new GenericException(e.getMessage());\n        }\n        return rowMapper.getData();\n    }\n</code></pre>\n<p>This is my unit test so far, which is failing since rowMapper.getData() returns nothing since it isn't able to be mocked.</p>\n<pre><code>    @Test\n    void testGetOfferDetails_thenSuccess() {\n        // mock\n        ReflectionTestUtils.setField(JDBCDataAccessLayer, &quot;query&quot;, &quot;select query&quot;);\n        OfferRowMapper offerRowMapper = Mockito.mock(OfferRowMapper.class);\n        OfferDetailDTO OfferDetailDTO = new OfferDetailDTO();\n        OfferDetailDTO.setOmsOfferId(2506763L);\n        OfferDetailDTO.setPriceText(&quot;$5.20 Each&quot;);\n        OfferDetailDTO.setProgramTypeCd(&quot;W&quot;);\n        OfferDetailDTO.setHeadlineTxt(&quot;Gefilte Fish&quot;);\n        List&lt;OfferDetailDTO&gt; OfferDetailDTOList = new ArrayList&lt;&gt;();\n        OfferDetailDTOList.add(OfferDetailDTO);\n        Mockito.when(JDBCDataAccessLayer.createOfferRowMapper()).thenReturn(offerRowMapper);\n        Mockito.doNothing().when(jdbcTemplate).query(Mockito.anyString(), Mockito.any(OfferRowMapper.class), Mockito.any(Object.class));\n\n        // call and assert\n        List&lt;OfferDetailDTO&gt; OfferDetailDTOS = JDBCDataAccessLayer.getOfferDetails(&quot;W&quot;, 0, 30);\n        Assertions.assertNotNull(OfferDetailDTOS);\n        Assertions.assertEquals(1, OfferDetailDTOS.size());\n        Assertions.assertEquals(&quot;W&quot;, OfferDetailDTOS.get(0).getProgramTypeCd());\n        Assertions.assertEquals(&quot;Gefilte Fish&quot;, OfferDetailDTOS.get(0).getHeadlineTxt());\n        Assertions.assertEquals(&quot;$5.20 Each&quot;, OfferDetailDTOS.get(0).getPriceText());\n        Assertions.assertEquals(2506763L, OfferDetailDTOS.get(0).getOmsOfferId());\n    }\n</code></pre>\n<p>I cannot use constructor injection for the rowmapper since it implements RowCallbackHandler</p>\n<pre><code>\npublic class OfferRowMapper implements RowCallbackHandler {\n\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(Constants.DATE_TIME_FORMAT);\n    private List&lt;OfferDetailDTO&gt; rsMappedRows = new ArrayList&lt;&gt;();\n\n    @Override\n    public void processRow(ResultSet rs) throws SQLException {\n        OfferDetailDTO OfferDetailDTO = new OfferDetailDTO();\n        OfferDetailDTO.setOmsOfferId(rs.getLong(&quot;oms_offer_id&quot;));\n        OfferDetailDTO.setProgramTypeCd(rs.getString(&quot;program_type_cd&quot;));\n        OfferDetailDTO.setDisclaimer(rs.getString(&quot;disclaimer&quot;));\n        OfferDetailDTO.setPriceText(rs.getString(&quot;price_txt&quot;));\n        OfferDetailDTO.setHeadlineTxt(rs.getString(&quot;headline_txt&quot;));\n        OfferDetailDTO.setHeadline2Txt(rs.getString(&quot;headline2_txt&quot;));\n        OfferDetailDTO.setLand(rs.getString(&quot;land&quot;));\n        OfferDetailDTO.setSpace(rs.getString(&quot;space&quot;));\n        OfferDetailDTO.setSlot(rs.getString(&quot;slot&quot;));\n        rsMappedRows.add(OfferDetailDTO);\n    }\n\n    public List&lt;OfferDetailDTO&gt; getData() {\n        return rsMappedRows;\n    }\n}\n</code></pre>\n<p>can somebody guide me on how to test this scenario?</p>\n"},{"tags":["java","factory-pattern"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1677265916,"post_id":75560446,"comment_id":133310494,"body_markdown":"`Integer.valueOf` is a factory method however it&#39;s implemented: it&#39;s a function you call to give you an object. That is the factory pattern.","body":"<code>Integer.valueOf</code> is a factory method however it&#39;s implemented: it&#39;s a function you call to give you an object. That is the factory pattern."},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1677266231,"post_id":75560446,"comment_id":133310565,"body_markdown":"I think it was rather about set of overloaded `valueOf` methods than about one specific","body":"I think it was rather about set of overloaded <code>valueOf</code> methods than about one specific"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1677266568,"post_id":75560446,"comment_id":133310654,"body_markdown":"@khelwood, however `Integer` is `final`, so most of the concept goes out through the window. What remains is a method creating an object, kinda (because there is the cache, but as the object is immutable, it behaves like brand new, just it being immutable also takes away a bit from the excitement).","body":"@khelwood, however <code>Integer</code> is <code>final</code>, so most of the concept goes out through the window. What remains is a method creating an object, kinda (because there is the cache, but as the object is immutable, it behaves like brand new, just it being immutable also takes away a bit from the excitement)."},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1677266874,"post_id":75560446,"comment_id":133310725,"body_markdown":"*How Java wrapper classes implements factory pattern?* - barely.","body":"<i>How Java wrapper classes implements factory pattern?</i> - barely."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677266876,"creation_date":1677266674,"answer_id":75560604,"question_id":75560446,"body_markdown":"It is the factory pattern that is implemented in the `Integer` class. While looking into it, you will notice it has 3 different implementations that **create** an `Integer` depending on the parameter type. The [factory pattern][1] is a **creational** pattern.\r\n\r\n    public static Integer valueOf(int i)\r\n    \r\n    public static Integer valueOf(String s)\r\n    \r\n    public static Integer valueOf(String s, int radix)\r\n\r\n\r\nAlso, in the case of the `Integer` class, another pattern is used, the [static constructor][2], recommended in the book [Effective Java][3].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [2]: https://www.baeldung.com/java-constructors-vs-static-factory-methods\r\n  [3]: https://www.amazon.ca/Effective-Java-3rd-Joshua-Bloch/dp/0134685997","title":"How Java wrapper classes implements factory pattern?","body":"<p>It is the factory pattern that is implemented in the <code>Integer</code> class. While looking into it, you will notice it has 3 different implementations that <strong>create</strong> an <code>Integer</code> depending on the parameter type. The <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">factory pattern</a> is a <strong>creational</strong> pattern.</p>\n<pre><code>public static Integer valueOf(int i)\n\npublic static Integer valueOf(String s)\n\npublic static Integer valueOf(String s, int radix)\n</code></pre>\n<p>Also, in the case of the <code>Integer</code> class, another pattern is used, the <a href=\"https://www.baeldung.com/java-constructors-vs-static-factory-methods\" rel=\"nofollow noreferrer\">static constructor</a>, recommended in the book <a href=\"https://www.amazon.ca/Effective-Java-3rd-Joshua-Bloch/dp/0134685997\" rel=\"nofollow noreferrer\">Effective Java</a>.</p>\n"}],"owner":{"account_id":419939,"reputation":2373,"user_id":797368,"accept_rate":83,"display_name":"coder25"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677267411,"creation_date":1677265558,"question_id":75560446,"body_markdown":"I was reading about the factory design pattern and saw some examples mentioned in articles that wrapper classes like Integer and Boolean use a `valueof` method which returns an object created by the factory equivalent to the value of the parameter passed. \r\n\r\nWhen I check the code I see the below code. I am unable to understand how the factory pattern is implemented in a wrapper class.\r\n\r\n\r\n    public static Integer valueOf(int i) {\r\n        if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\r\n             return IntegerCache.cache[i + (-IntegerCache.low)];\r\n        return new Integer(i);\r\n    }","title":"How Java wrapper classes implements factory pattern?","body":"<p>I was reading about the factory design pattern and saw some examples mentioned in articles that wrapper classes like Integer and Boolean use a <code>valueof</code> method which returns an object created by the factory equivalent to the value of the parameter passed.</p>\n<p>When I check the code I see the below code. I am unable to understand how the factory pattern is implemented in a wrapper class.</p>\n<pre><code>public static Integer valueOf(int i) {\n    if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\n         return IntegerCache.cache[i + (-IntegerCache.low)];\n    return new Integer(i);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","spring-camel","camel-ftp"],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677267043,"creation_date":1677267043,"question_id":75560660,"body_markdown":"I have a simple route defined such that a file is transferred via SFTP from one server to another server:\r\n\r\n    @Component\r\n    public class SimpleRoute extends RouteBuilder {\r\n    \r\n    \t@Autowired\r\n    \tprivate DefaultErrorHandlerBuilder e;\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure() {\r\n    \t\terrorHandler(e);\r\n    \t\t\r\n    \t\tfrom(&quot;{{route.from}}&quot;).to(&quot;{{route.to}}&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI have `route.from` set as follows:\r\n\r\n    route.from: sftp://username@host1/tmp-camel?password=password&amp;fileName=test1-sftp.txt&amp;noop=true&amp;idempotentKey=$simple{file:name}-$simple{file:modified})&amp;readLock=changed&amp;readLockCheckInterval=30000&amp;readLockTimeout=99000&amp;delay=3600000&amp;bridgeErrorHandler=true&amp;throwExceptionOnConnectFailed=true\r\n\r\nand route.to is:\r\n\r\n    to: sftp://username@host2/tmp-camel?password=password&amp;bridgeErrorHandler=true&amp;throwExceptionOnConnectFailed=true\r\n\r\nThe bean that defines the `DefaultErrorHandlerBuilder` is:\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class CamelConfiguration {\r\n    \t\t\r\n    \t  @Bean\r\n    \t  public DefaultErrorHandlerBuilder myDefaultErrorHandler() {\r\n    \t    DefaultErrorHandlerBuilder defaultErrorHandlerBuilder = new DefaultErrorHandlerBuilder();\r\n    \t    defaultErrorHandlerBuilder.maximumRedeliveries(3)\r\n    \t      .maximumRedeliveryDelay(3000)\r\n    \t      .retryAttemptedLogLevel(LoggingLevel.WARN).setOnExceptionOccurredProcessor(new Processor() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void process(Exchange exchange) throws Exception {\r\n    \t\t\t\t// code to send an email\r\n    \t\t\t\tlog.info(&quot;email sent&quot;);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t    \t  \r\n    \t      });;\r\n    \t    \r\n    \t    return defaultErrorHandlerBuilder;\r\n    \t  }\r\n    }\r\n\r\nWhen there is an error such as:\r\n\r\n    org.apache.camel.component.file.GenericFileOperationFailedException: Cannot connect to sftp://username@host1:22\r\n\r\nThe `process(Exchange exchange)` method on the `Processor` passed into `DefaultErrorHandlerBuilder` is never called. \r\n\r\nHow can I get camel to call this method and thus send an email when an error has occurred?\r\n\r\n","title":"How can I have Camel send an email on any error from a SFTP consumer and producer?","body":"<p>I have a simple route defined such that a file is transferred via SFTP from one server to another server:</p>\n<pre><code>@Component\npublic class SimpleRoute extends RouteBuilder {\n\n    @Autowired\n    private DefaultErrorHandlerBuilder e;\n    \n    @Override\n    public void configure() {\n        errorHandler(e);\n        \n        from(&quot;{{route.from}}&quot;).to(&quot;{{route.to}}&quot;);\n    }\n    \n}\n</code></pre>\n<p>I have <code>route.from</code> set as follows:</p>\n<pre><code>route.from: sftp://username@host1/tmp-camel?password=password&amp;fileName=test1-sftp.txt&amp;noop=true&amp;idempotentKey=$simple{file:name}-$simple{file:modified})&amp;readLock=changed&amp;readLockCheckInterval=30000&amp;readLockTimeout=99000&amp;delay=3600000&amp;bridgeErrorHandler=true&amp;throwExceptionOnConnectFailed=true\n</code></pre>\n<p>and route.to is:</p>\n<pre><code>to: sftp://username@host2/tmp-camel?password=password&amp;bridgeErrorHandler=true&amp;throwExceptionOnConnectFailed=true\n</code></pre>\n<p>The bean that defines the <code>DefaultErrorHandlerBuilder</code> is:</p>\n<pre><code>@Configuration\n@Slf4j\npublic class CamelConfiguration {\n        \n      @Bean\n      public DefaultErrorHandlerBuilder myDefaultErrorHandler() {\n        DefaultErrorHandlerBuilder defaultErrorHandlerBuilder = new DefaultErrorHandlerBuilder();\n        defaultErrorHandlerBuilder.maximumRedeliveries(3)\n          .maximumRedeliveryDelay(3000)\n          .retryAttemptedLogLevel(LoggingLevel.WARN).setOnExceptionOccurredProcessor(new Processor() {\n\n            @Override\n            public void process(Exchange exchange) throws Exception {\n                // code to send an email\n                log.info(&quot;email sent&quot;);\n                \n            }\n              \n          });;\n        \n        return defaultErrorHandlerBuilder;\n      }\n}\n</code></pre>\n<p>When there is an error such as:</p>\n<pre><code>org.apache.camel.component.file.GenericFileOperationFailedException: Cannot connect to sftp://username@host1:22\n</code></pre>\n<p>The <code>process(Exchange exchange)</code> method on the <code>Processor</code> passed into <code>DefaultErrorHandlerBuilder</code> is never called.</p>\n<p>How can I get camel to call this method and thus send an email when an error has occurred?</p>\n"},{"tags":["java","lwjgl","glfw"],"owner":{"account_id":27871094,"reputation":1,"user_id":21281588,"display_name":"bwabwabwabwaaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677266972,"creation_date":1677266972,"question_id":75560646,"body_markdown":"I&#39;ve been following [this](https://youtu.be/FOqiE4RJsMc?list=PLEETnX-uPtBXP_B2yupUKlflXBznWIlL5&amp;t=153) game engine tutorial and have reached the part where you set up mouse rotation for the first person camera, however, the tutorial is in LWJGL 2 and I&#39;m using LWJGL 3 so there are some differences in the code I don&#39;t know how to account for. The code in question is down below.\r\n\r\n```\r\nboolean mouseLocked = false;\r\nVector2f centerPosition = new Vector2f(Window.getWidth()/2, Window.getHeight()/2);\r\n\r\npublic void input()\r\n{\r\n\r\n    float sensitivity = 0.5f;\r\n    float movAmt = (float)(10 * Time.getDelta());\r\n\r\n    if(Input.getKey(GLFW_KEY_ESCAPE))\r\n    {\r\n        Input.unhideCursor(true);\r\n        mouseLocked = false;\r\n    }\r\n\r\n    if(Input.getButton(GLFW_MOUSE_BUTTON_1))\r\n    {\r\n        Input.setMousePosition(centerPosition);\r\n        Input.hideCursor(true);\r\n        mouseLocked = true;\r\n    }\r\n\r\n    if(Input.getKey(GLFW_KEY_W))\r\n      move(getForward(), movAmt);\r\n    if(Input.getKey(GLFW_KEY_S))\r\n        move(getForward(), -movAmt);\r\n    if(Input.getKey(GLFW_KEY_A))\r\n        move(getLeft(), movAmt);\r\n    if(Input.getKey(GLFW_KEY_D))\r\n        move(getRight(), movAmt);\r\n\r\n    if(mouseLocked)\r\n    {\r\n        Vector2f deltaPos = Input.getMousePosition().sub(centerPosition);\r\n\r\n        boolean rotY = deltaPos.getX() != 0;\r\n        boolean rotX = deltaPos.getY() != 0;\r\n\r\n        if(rotY)\r\n            rotateY(deltaPos.getX() * sensitivity);\r\n        if(rotX)\r\n            rotateX(-deltaPos.getY() * sensitivity);\r\n\r\n        if(rotY || rotX)\r\n            Input.setMousePosition(new Vector2f(Window.getWidth()/2, Window.getHeight()/2));\r\n\r\n\r\n    }\r\n}\r\n\r\npublic void rotateY(float angle)\r\n{\r\n    Vector3f Haxis = yAxis.cross(forward).normalized();\r\n\r\n    forward = forward.rotate(angle, yAxis).normalized();\r\n\r\n    up = forward.cross(Haxis).normalized();\r\n}\r\n\r\npublic void rotateX(float angle)\r\n{\r\n    Vector3f Haxis = yAxis.cross(forward).normalized();\r\n\r\n    forward = forward.rotate(angle, Haxis).normalized();\r\n\r\n    up = forward.cross(Haxis).normalized();\r\n}\r\n```\r\n\r\nAnd here&#39;s the code in the input class relating to the above code\r\n\r\n```\r\npublic static Vector2f getMousePosition()\r\n{\r\n    return new Vector2f(Mouse.getX(), Mouse.getY());\r\n}\r\n\r\npublic static void setMousePosition(Vector2f pos)\r\n{\r\n    glfwSetCursorPos(window, (int)pos.getX(), (int)pos.getY());\r\n}\r\n\r\npublic static void hideCursor(boolean enabled)\r\n{\r\n    glfwSetInputMode(window, GLFW_CURSOR, GLFW_CURSOR_DISABLED);\r\n}\r\n\r\npublic static void unhideCursor(boolean enabled)\r\n{\r\n    glfwSetInputMode(window, GLFW_CURSOR, GLFW_CURSOR_NORMAL);\r\n}\r\n```\r\n\r\nI&#39;ve tried using what code was initially used in the tutorial, what used to be in the hide cursor and set mouse position was this:\r\n\r\n```\r\n\tpublic static void setMousePosition(Vector2f pos)\r\n\t{\r\n\t\tMouse.setCursorPosition((int)pos.getX(), (int)pos.getY());\r\n\t}\r\n\t\r\n\tpublic static void setCursor(boolean enabled)\r\n\t{\r\n\t\tMouse.setGrabbed(!enabled);\r\n\t}\r\n```\r\n\r\nI attempted to use this initially but it would crash immediately upon input, I read from a post that I needed to set mouse.create(); somewhere but I couldn&#39;t figure out where to put it so I instead changed the code to what is currently using GLFW in hopes of it working, but instead it just spins the camera around rapidly and turns upside down.","title":"First person camera not rotating properly in LWJGL 3","body":"<p>I've been following <a href=\"https://youtu.be/FOqiE4RJsMc?list=PLEETnX-uPtBXP_B2yupUKlflXBznWIlL5&amp;t=153\" rel=\"nofollow noreferrer\">this</a> game engine tutorial and have reached the part where you set up mouse rotation for the first person camera, however, the tutorial is in LWJGL 2 and I'm using LWJGL 3 so there are some differences in the code I don't know how to account for. The code in question is down below.</p>\n<pre><code>boolean mouseLocked = false;\nVector2f centerPosition = new Vector2f(Window.getWidth()/2, Window.getHeight()/2);\n\npublic void input()\n{\n\n    float sensitivity = 0.5f;\n    float movAmt = (float)(10 * Time.getDelta());\n\n    if(Input.getKey(GLFW_KEY_ESCAPE))\n    {\n        Input.unhideCursor(true);\n        mouseLocked = false;\n    }\n\n    if(Input.getButton(GLFW_MOUSE_BUTTON_1))\n    {\n        Input.setMousePosition(centerPosition);\n        Input.hideCursor(true);\n        mouseLocked = true;\n    }\n\n    if(Input.getKey(GLFW_KEY_W))\n      move(getForward(), movAmt);\n    if(Input.getKey(GLFW_KEY_S))\n        move(getForward(), -movAmt);\n    if(Input.getKey(GLFW_KEY_A))\n        move(getLeft(), movAmt);\n    if(Input.getKey(GLFW_KEY_D))\n        move(getRight(), movAmt);\n\n    if(mouseLocked)\n    {\n        Vector2f deltaPos = Input.getMousePosition().sub(centerPosition);\n\n        boolean rotY = deltaPos.getX() != 0;\n        boolean rotX = deltaPos.getY() != 0;\n\n        if(rotY)\n            rotateY(deltaPos.getX() * sensitivity);\n        if(rotX)\n            rotateX(-deltaPos.getY() * sensitivity);\n\n        if(rotY || rotX)\n            Input.setMousePosition(new Vector2f(Window.getWidth()/2, Window.getHeight()/2));\n\n\n    }\n}\n\npublic void rotateY(float angle)\n{\n    Vector3f Haxis = yAxis.cross(forward).normalized();\n\n    forward = forward.rotate(angle, yAxis).normalized();\n\n    up = forward.cross(Haxis).normalized();\n}\n\npublic void rotateX(float angle)\n{\n    Vector3f Haxis = yAxis.cross(forward).normalized();\n\n    forward = forward.rotate(angle, Haxis).normalized();\n\n    up = forward.cross(Haxis).normalized();\n}\n</code></pre>\n<p>And here's the code in the input class relating to the above code</p>\n<pre><code>public static Vector2f getMousePosition()\n{\n    return new Vector2f(Mouse.getX(), Mouse.getY());\n}\n\npublic static void setMousePosition(Vector2f pos)\n{\n    glfwSetCursorPos(window, (int)pos.getX(), (int)pos.getY());\n}\n\npublic static void hideCursor(boolean enabled)\n{\n    glfwSetInputMode(window, GLFW_CURSOR, GLFW_CURSOR_DISABLED);\n}\n\npublic static void unhideCursor(boolean enabled)\n{\n    glfwSetInputMode(window, GLFW_CURSOR, GLFW_CURSOR_NORMAL);\n}\n</code></pre>\n<p>I've tried using what code was initially used in the tutorial, what used to be in the hide cursor and set mouse position was this:</p>\n<pre><code>    public static void setMousePosition(Vector2f pos)\n    {\n        Mouse.setCursorPosition((int)pos.getX(), (int)pos.getY());\n    }\n    \n    public static void setCursor(boolean enabled)\n    {\n        Mouse.setGrabbed(!enabled);\n    }\n</code></pre>\n<p>I attempted to use this initially but it would crash immediately upon input, I read from a post that I needed to set mouse.create(); somewhere but I couldn't figure out where to put it so I instead changed the code to what is currently using GLFW in hopes of it working, but instead it just spins the camera around rapidly and turns upside down.</p>\n"},{"tags":["java","mysql","angular","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":2,"creation_date":1677265947,"post_id":75560308,"comment_id":133310499,"body_markdown":"I&#39;d expect that error to mean exactly what it says: there is not a `springboot` subdirectory under the directory containing the `docker-compose.yml` file.","body":"I&#39;d expect that error to mean exactly what it says: there is not a <code>springboot</code> subdirectory under the directory containing the <code>docker-compose.yml</code> file."},{"owner":{"account_id":27671124,"reputation":21,"user_id":21121891,"display_name":"Christian"},"score":0,"creation_date":1677266769,"post_id":75560308,"comment_id":133310706,"body_markdown":"So where i should run the docker-compose.yml? In both of my projects? Or do i need to search or create the springboot and angular directorys? Sorry for being a bit lost in this.","body":"So where i should run the docker-compose.yml? In both of my projects? Or do i need to search or create the springboot and angular directorys? Sorry for being a bit lost in this."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677267116,"post_id":75560308,"comment_id":133310781,"body_markdown":"As you&#39;ve shown this file, it should be located in a directory with `springboot` and `angular` subdirectories.  The `build:` context directories are resolved relative to the Compose file&#39;s location.","body":"As you&#39;ve shown this file, it should be located in a directory with <code>springboot</code> and <code>angular</code> subdirectories.  The <code>build:</code> context directories are resolved relative to the Compose file&#39;s location."}],"owner":{"account_id":27671124,"reputation":21,"user_id":21121891,"display_name":"Christian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677266621,"creation_date":1677264599,"question_id":75560308,"body_markdown":"I&#39;m a bit new but I am trying to create a Docker compose which runs an Angular, MySQL and Springboot project. Right now I can&#39;t create the angular and spring boot because in both Linux sent me this\r\n\r\n&gt;&quot;[+] Building 0.0s (0/0)                                                         \r\nunable to prepare context: path &quot;./springboot&quot; not found&quot;\r\n\r\nThis is my docker file:\r\n\r\n```yaml\r\nversion: &quot;3&quot;\r\nservices:\r\n nginx:\r\n  container_name: nginx\r\n  image: nginx:1.13\r\n  restart: always\r\n  ports:\r\n   - 80:80\r\n   - 443:443\r\n  volumes:\r\n  - ./nginx/conf.d:/etc/nginx/conf.d\r\n\r\n angular:\r\n  container_name: angular\r\n  restart: always\r\n  build: angular\r\n  depends_on:\r\n   - app\r\n  ports:\r\n   - &quot;4200:4200&quot;\r\n\r\n mysql:\r\n  container_name: mysql\r\n  image: mysql/mysql-server:5.7\r\n  environment:\r\n   MYSQL_DATABASE: test\r\n   MYSQL_ROOT_PASSWORD: formation123\r\n   MYSQL_ROOT_HOST: &#39;%&#39;\r\n  ports:\r\n   - 3306:3306\r\n  restart: always\r\n\r\n springboot:\r\n  restart: always\r\n  build:\r\n   context: ./springboot\r\n   dockerfile: .docker/app/dockerfile\r\n  working_dir: /springboot\r\n  volumes:\r\n   - ./springboot:/springboot\r\n   - ~/.m2:/root/.m2\r\n  expose:\r\n   - &quot;8080&quot;\r\n  depends_on:\r\n   - nginx\r\n   - mysql\r\n  command: mvn clean spring-boot:run -dspring-boot.run.profiles=docker\r\n```\r\n\r\nI managed to create the image of MySQL and nginx but can&#39;t launch the Angular and Springboot","title":"What is causing unable to prepare context: path &quot;./springboot&quot; not found?","body":"<p>I'm a bit new but I am trying to create a Docker compose which runs an Angular, MySQL and Springboot project. Right now I can't create the angular and spring boot because in both Linux sent me this</p>\n<blockquote>\n<p>&quot;[+] Building 0.0s (0/0)<br />\nunable to prepare context: path &quot;./springboot&quot; not found&quot;</p>\n</blockquote>\n<p>This is my docker file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3&quot;\nservices:\n nginx:\n  container_name: nginx\n  image: nginx:1.13\n  restart: always\n  ports:\n   - 80:80\n   - 443:443\n  volumes:\n  - ./nginx/conf.d:/etc/nginx/conf.d\n\n angular:\n  container_name: angular\n  restart: always\n  build: angular\n  depends_on:\n   - app\n  ports:\n   - &quot;4200:4200&quot;\n\n mysql:\n  container_name: mysql\n  image: mysql/mysql-server:5.7\n  environment:\n   MYSQL_DATABASE: test\n   MYSQL_ROOT_PASSWORD: formation123\n   MYSQL_ROOT_HOST: '%'\n  ports:\n   - 3306:3306\n  restart: always\n\n springboot:\n  restart: always\n  build:\n   context: ./springboot\n   dockerfile: .docker/app/dockerfile\n  working_dir: /springboot\n  volumes:\n   - ./springboot:/springboot\n   - ~/.m2:/root/.m2\n  expose:\n   - &quot;8080&quot;\n  depends_on:\n   - nginx\n   - mysql\n  command: mvn clean spring-boot:run -dspring-boot.run.profiles=docker\n</code></pre>\n<p>I managed to create the image of MySQL and nginx but can't launch the Angular and Springboot</p>\n"},{"tags":["java","spring-boot","kubernetes","configmap"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677266835,"post_id":75559058,"comment_id":133310718,"body_markdown":"Can you set ordinary environment variables (maybe loading the ConfigMap wholesale)?  An environment variable `DBHOST` will override a Spring property `dbhost`.","body":"Can you set ordinary environment variables (maybe loading the ConfigMap wholesale)?  An environment variable <code>DBHOST</code> will override a Spring property <code>dbhost</code>."}],"owner":{"account_id":2479568,"reputation":31,"user_id":2159328,"display_name":"Abdul Ashik Khan M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677266568,"creation_date":1677256279,"question_id":75559058,"body_markdown":"I am creating a new spring boot project. I have some configurations in my application.yml which I want to be substituted with values in my k8s configmap.\r\n\r\napplication.yml\r\n```\r\n`\r\ndbhost : ${dbhost}\r\ndbport : ${dbport}`\r\n```\r\n\r\nmy k8s config-map has\r\n```\r\n\r\n&quot;dbhost&quot; : &quot;xxxxxxx&quot;\r\n&quot;dbport: : &quot;yy&quot;\r\n\r\n```\r\nI added the dependency in pom also,\r\n```\r\n\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-config&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.9.RELEASE&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\nand my application.yml also has,\r\n```\r\nspring:\r\n cloud:    \r\n  kubernetes:\r\n    config:\r\n     name: config-map\r\n```\r\n\r\nI may have 100s or 1000s key-value pair from config map, But somehow my values are not substituting by reading from configmap and in application.yml. I dont want to use ConfigMapPropertySource method.","title":"how to read configmap from k8 in my spring project without writing a java class","body":"<p>I am creating a new spring boot project. I have some configurations in my application.yml which I want to be substituted with values in my k8s configmap.</p>\n<p>application.yml</p>\n<pre><code>`\ndbhost : ${dbhost}\ndbport : ${dbport}`\n</code></pre>\n<p>my k8s config-map has</p>\n<pre><code>\n&quot;dbhost&quot; : &quot;xxxxxxx&quot;\n&quot;dbport: : &quot;yy&quot;\n\n</code></pre>\n<p>I added the dependency in pom also,</p>\n<pre><code>\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-config&lt;/artifactId&gt;\n            &lt;version&gt;1.1.9.RELEASE&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>and my application.yml also has,</p>\n<pre><code>spring:\n cloud:    \n  kubernetes:\n    config:\n     name: config-map\n</code></pre>\n<p>I may have 100s or 1000s key-value pair from config map, But somehow my values are not substituting by reading from configmap and in application.yml. I dont want to use ConfigMapPropertySource method.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":0,"creation_date":1348455632,"post_id":12558272,"comment_id":16915712,"body_markdown":"How are you compiling your code, from command line or from the jGrasp development environment?","body":"How are you compiling your code, from command line or from the jGrasp development environment?"},{"owner":{"account_id":1871130,"reputation":201,"user_id":1693307,"display_name":"Dave Walters"},"score":0,"creation_date":1348455724,"post_id":12558272,"comment_id":16915725,"body_markdown":"I open a new java in jGrasp and start working my code in there. Then I hit the compile file button to check for errors.","body":"I open a new java in jGrasp and start working my code in there. Then I hit the compile file button to check for errors."},{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":0,"creation_date":1348455948,"post_id":12558272,"comment_id":16915753,"body_markdown":"Not sure how you would enable `deprecation` warnings in jGrasp. You may need to look into the jGrasp manual for this. If it was eclipse, you would go to Windows -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; Deprecated and restricted API and set the severity level to warning / error.","body":"Not sure how you would enable <code>deprecation</code> warnings in jGrasp. You may need to look into the jGrasp manual for this. If it was eclipse, you would go to Windows -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; Deprecated and restricted API and set the severity level to warning / error."},{"owner":{"account_id":1871130,"reputation":201,"user_id":1693307,"display_name":"Dave Walters"},"score":0,"creation_date":1348456803,"post_id":12558272,"comment_id":16915872,"body_markdown":"Ok, the program seems to work fine as is for now except the fact that it tells me there are 301 days until June 21st when there are not, do you happen to know where I went wrong there?","body":"Ok, the program seems to work fine as is for now except the fact that it tells me there are 301 days until June 21st when there are not, do you happen to know where I went wrong there?"}],"tags":[],"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348454960,"creation_date":1348454960,"answer_id":12558272,"question_id":12558231,"body_markdown":"As the message says, you need to compile it with `-Xlint` command line switch to the `javac` command as follows:\r\n\r\n\r\n    C:\\Temp&gt;javac -Xlint Summer.java\r\n    Summer.java:22: warning: [deprecation] getYear() in java.util.Date has been deprecated\r\n            Date j21 = new Date(d1.getYear(), 6, 21);\r\n                              ^\r\n    Summer.java:22: warning: [deprecation] Date(int,int,int) in java.util.Date has been deprecated\r\n            Date j21 = new Date(d1.getYear(), 6, 21);\r\n                   ^\r\n    2 warnings\r\n","title":"Recompile with -Xlint:deprecation for details","body":"<p>As the message says, you need to compile it with <code>-Xlint</code> command line switch to the <code>javac</code> command as follows:</p>\n\n<pre><code>C:\\Temp&gt;javac -Xlint Summer.java\nSummer.java:22: warning: [deprecation] getYear() in java.util.Date has been deprecated\n        Date j21 = new Date(d1.getYear(), 6, 21);\n                          ^\nSummer.java:22: warning: [deprecation] Date(int,int,int) in java.util.Date has been deprecated\n        Date j21 = new Date(d1.getYear(), 6, 21);\n               ^\n2 warnings\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4940585,"reputation":1175,"user_id":3977387,"accept_rate":50,"display_name":"Sachindra N. Pandey"},"score":0,"creation_date":1454683988,"post_id":12558273,"comment_id":58168644,"body_markdown":"Gives some warning message , But run the program correctly . Thank you","body":"Gives some warning message , But run the program correctly . Thank you"}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1348454983,"creation_date":1348454983,"answer_id":12558273,"question_id":12558231,"body_markdown":"It&#39;s a warning.  You&#39;re using a deprecated function call or object.  You can recompile like so to find out where it&#39;s occurring:\r\n\r\n    javac -Xlint:deprecation Summer.java\r\n\r\nGenerally, it&#39;s a bad idea to use deprecated libraries.  They may go away in the next release.","title":"Recompile with -Xlint:deprecation for details","body":"<p>It's a warning.  You're using a deprecated function call or object.  You can recompile like so to find out where it's occurring:</p>\n\n<pre><code>javac -Xlint:deprecation Summer.java\n</code></pre>\n\n<p>Generally, it's a bad idea to use deprecated libraries.  They may go away in the next release.</p>\n"},{"tags":[],"owner":{"account_id":1682747,"reputation":1799,"user_id":1546657,"accept_rate":50,"display_name":"Raju Boddupalli"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1400711750,"creation_date":1348483668,"answer_id":12563456,"question_id":12558231,"body_markdown":"Those are not errors. Just warnings. Those will not affect your program. But as you are using deprecated util class Date in future it may affect your program.\r\n\r\nIt is better to use `java.util.Calendar`  instead of `java.util.Date` this provides same functionality as Date and someextra functionalities also","title":"Recompile with -Xlint:deprecation for details","body":"<p>Those are not errors. Just warnings. Those will not affect your program. But as you are using deprecated util class Date in future it may affect your program.</p>\n\n<p>It is better to use <code>java.util.Calendar</code>  instead of <code>java.util.Date</code> this provides same functionality as Date and someextra functionalities also</p>\n"},{"tags":[],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1577296471,"creation_date":1348495892,"answer_id":12566797,"question_id":12558231,"body_markdown":"This is not an error; it&#39;s a warning message.\r\n\r\nYour program would run as you wrote it.\r\n\r\nThe reason why the compiler is giving you this warning is because you have used a deprecated function call.\r\n\r\nBy &quot;recompile with -Xlint&quot;, the compiler means to inform you that you need to recompile your program like this:\r\n\r\n    javac -Xlint abc.java \r\n\r\nIf you do so, the compiler will tell you which methods are deprecated so you can remove your calls to them. (If some method is deprecated, it *usually* means that a better implementation is available and that you should use that instead of the deprecated method.)","title":"Recompile with -Xlint:deprecation for details","body":"<p>This is not an error; it's a warning message.</p>\n\n<p>Your program would run as you wrote it.</p>\n\n<p>The reason why the compiler is giving you this warning is because you have used a deprecated function call.</p>\n\n<p>By \"recompile with -Xlint\", the compiler means to inform you that you need to recompile your program like this:</p>\n\n<pre><code>javac -Xlint abc.java \n</code></pre>\n\n<p>If you do so, the compiler will tell you which methods are deprecated so you can remove your calls to them. (If some method is deprecated, it <em>usually</em> means that a better implementation is available and that you should use that instead of the deprecated method.)</p>\n"},{"tags":[],"owner":{"account_id":10884900,"reputation":138,"user_id":8002731,"accept_rate":75,"display_name":"Akib Bagwan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496300428,"creation_date":1496300428,"answer_id":44300620,"question_id":12558231,"body_markdown":"    Note: filename.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\nfor this ERROR. but its actually a warning for missing the try{}catch(){} block\r\nyou can use to see the effected code by writing the following statement \r\n\r\n    javac -Xlint:unchecked filename.java\r\n\r\n&gt; it will show the unchecked all exceptions that must catch through the user define or system define exception code\r\n","title":"Recompile with -Xlint:deprecation for details","body":"<pre><code>Note: filename.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n</code></pre>\n\n<p>for this ERROR. but its actually a warning for missing the try{}catch(){} block\nyou can use to see the effected code by writing the following statement </p>\n\n<pre><code>javac -Xlint:unchecked filename.java\n</code></pre>\n\n<blockquote>\n  <p>it will show the unchecked all exceptions that must catch through the user define or system define exception code</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4814720,"reputation":1477,"user_id":3887145,"display_name":"Ralf Wagner"},"score":0,"creation_date":1677661016,"post_id":75560536,"comment_id":133379894,"body_markdown":"This answer doesn&#39;t seem to have anything to do with the question.","body":"This answer doesn&#39;t seem to have anything to do with the question."}],"tags":[],"owner":{"account_id":27872224,"reputation":1,"user_id":21282480,"display_name":"Mike Wanzer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677266124,"creation_date":1677266124,"answer_id":75560536,"question_id":12558231,"body_markdown":"{Header\r\n  ....\r\n  &quot;scope&quot;: [\r\n    &quot;pipeline:20&quot;: &quot;read&quot;,\r\n    &quot;job:103&quot;: &quot;write&quot;\r\n  ]\r\n}&#39;TARGET&#39; is not recognized as an internal or external command## Heading ##","title":"Recompile with -Xlint:deprecation for details","body":"<p>{Header\n....\n&quot;scope&quot;: [\n&quot;pipeline:20&quot;: &quot;read&quot;,\n&quot;job:103&quot;: &quot;write&quot;\n]\n}'TARGET' is not recognized as an internal or external command## Heading ##</p>\n"}],"owner":{"account_id":1871130,"reputation":201,"user_id":1693307,"display_name":"Dave Walters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90362,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":6,"score":20,"last_activity_date":1677266124,"creation_date":1348454614,"question_id":12558231,"body_markdown":"I need to know how to fix these error notes:\r\n\r\n    Note: Summer.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n\r\nHere is my code:\r\n\r\n    import java.util.Calendar;\r\n    import java.util.*;\r\n\r\n    class Summer\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Date d1 = new Date();\r\n            Date j21 = new Date(d1.getYear(), 6, 21);\r\n            if(d1.before(j21)) {\r\n                long diff = j21.getTime() - d1.getTime();\r\n                diff = diff / (1000 * 60 * 60 * 24);\r\n                System.out.println(&quot;There are &quot; + diff + &quot; days until June 21st&quot; );\r\n            }\r\n            else {\r\n                long diff = d1.getTime() - j21.getTime();\r\n                diff = diff / (1000 * 60 * 60 * 24);\r\n                diff = 365 - diff;\r\n                System.out.println(&quot;There are &quot; + diff + &quot; days until June 21st&quot; );\r\n            }\r\n        }\r\n    }","title":"Recompile with -Xlint:deprecation for details","body":"<p>I need to know how to fix these error notes:</p>\n\n<pre><code>Note: Summer.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.*;\n\nclass Summer\n{\n    public static void main(String[] args)\n    {\n        Date d1 = new Date();\n        Date j21 = new Date(d1.getYear(), 6, 21);\n        if(d1.before(j21)) {\n            long diff = j21.getTime() - d1.getTime();\n            diff = diff / (1000 * 60 * 60 * 24);\n            System.out.println(\"There are \" + diff + \" days until June 21st\" );\n        }\n        else {\n            long diff = d1.getTime() - j21.getTime();\n            diff = diff / (1000 * 60 * 60 * 24);\n            diff = 365 - diff;\n            System.out.println(\"There are \" + diff + \" days until June 21st\" );\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","weblogic","classloader"],"comments":[{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":0,"creation_date":1679902367,"post_id":75543131,"comment_id":133797402,"body_markdown":"I still don’t know why, but it’s working as expected on an actual production-like server. It’s only broken on my local development instance. I still need to investigate which difference actually causes the problem.","body":"I still don’t know why, but it’s working as expected on an actual production-like server. It’s only broken on my local development instance. I still need to investigate which difference actually causes the problem."}],"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677265624,"creation_date":1677145941,"question_id":75543131,"body_markdown":"I am trying to use a Postgres JDBC connection from WebLogic 14.1.1. I have added the Postgres JDBC jar to my domain&#39;s `lib` folder and added a datasource using the management console. The &#39;test&#39; button at the end of the process indicates success. So far, so good.\r\n\r\nHowever, when I try to actually use the connection, I get a ClassNotFound exception regarding some sort of WebLogic wrapper class. Here is the full stack trace:\r\n\r\n        ####&lt;Feb 23, 2023, 10:40:21,445 AM Central European Standard Time&gt; &lt;Error&gt; &lt;HTTP Session&gt; &lt;MacBook-Pro.local&gt; &lt;AdminServer&gt; &lt;[ACTIVE] ExecuteThread: &#39;0&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;&lt;anonymous&gt;&gt; &lt;&gt; &lt;fb856892-8489-4b11-beea-d232c77f0c0c-00000024&gt; &lt;167&gt;\r\n    java.lang.AssertionError: java.lang.ClassNotFoundException: weblogic.jdbc.wrapper.PoolConnection\r\n            at weblogic.utils.wrapper.WrapperFactory.getWrapperClass(WrapperFactory.java:225)\r\n            at weblogic.utils.wrapper.WrapperFactory.getWrapperClass(WrapperFactory.java:190)\r\n            at weblogic.jdbc.wrapper.JDBCWrapperFactory$1.run(JDBCWrapperFactory.java:178)\r\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n            at weblogic.jdbc.wrapper.JDBCWrapperFactory.getWrapper(JDBCWrapperFactory.java:175)\r\n            at weblogic.jdbc.pool.Driver.allocateConnection(Driver.java:229)\r\n            at weblogic.jdbc.pool.Driver.connect(Driver.java:157)\r\n            at weblogic.servlet.internal.session.JDBCSessionData.getConnection(JDBCSessionData.java:184)\r\n            at weblogic.servlet.internal.session.JDBCSessionData.getSessionIds(JDBCSessionData.java:128)\r\n            at weblogic.servlet.internal.session.JDBCSessionContext.getIdsInternal(JDBCSessionContext.java:246)\r\n            at weblogic.servlet.internal.session.SessionContext$SessionInvalidator.cleanupExpiredSessions(SessionContext.java:703)\r\n            at weblogic.servlet.internal.session.SessionContext$SessionInvalidator$1.run(SessionContext.java:680)\r\n            at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:344)\r\n            at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\r\n            at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\r\n            at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\r\n            at weblogic.servlet.internal.session.SessionContext$SessionInvalidator.timerExpired(SessionContext.java:676)\r\n            at weblogic.timers.internal.TimerImpl.run(TimerImpl.java:301)\r\n            at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:677)\r\n            at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n            at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n            at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n            at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n            at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:651)\r\n            at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\r\n            at weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\r\n    Caused By: java.lang.ClassNotFoundException: weblogic.jdbc.wrapper.PoolConnection\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:398)\r\n            at weblogic.utils.wrapper.WrapperFactory.getWrapperClass(WrapperFactory.java:219)\r\n            at weblogic.utils.wrapper.WrapperFactory.getWrapperClass(WrapperFactory.java:190)\r\n            at weblogic.jdbc.wrapper.JDBCWrapperFactory$1.run(JDBCWrapperFactory.java:178)\r\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n            at weblogic.jdbc.wrapper.JDBCWrapperFactory.getWrapper(JDBCWrapperFactory.java:175)\r\n            at weblogic.jdbc.pool.Driver.allocateConnection(Driver.java:229)\r\n            at weblogic.jdbc.pool.Driver.connect(Driver.java:157)\r\n            at weblogic.servlet.internal.session.JDBCSessionData.getConnection(JDBCSessionData.java:184)\r\n            at weblogic.servlet.internal.session.JDBCSessionData.getSessionIds(JDBCSessionData.java:128)\r\n            at weblogic.servlet.internal.session.JDBCSessionContext.getIdsInternal(JDBCSessionContext.java:246)\r\n            at weblogic.servlet.internal.session.SessionContext$SessionInvalidator.cleanupExpiredSessions(SessionContext.java:703)\r\n            at weblogic.servlet.internal.session.SessionContext$SessionInvalidator$1.run(SessionContext.java:680)\r\n            at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:344)\r\n            at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\r\n            at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\r\n            at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\r\n            at weblogic.servlet.internal.session.SessionContext$SessionInvalidator.timerExpired(SessionContext.java:676)\r\n            at weblogic.timers.internal.TimerImpl.run(TimerImpl.java:301)\r\n            at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:677)\r\n            at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n            at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n            at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n            at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n            at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:651)\r\n            at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\r\n            at weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\r\n\r\n\r\nI have located that `PoolConnection` class in the `com.bea.core.datasource6.jar` file under the `modules` folder under my WebLogic home folder. I have tried adding this jar to my domain&#39;s lib folder as well, but then the entire server refuses to start.\r\n\r\nThe strange thing is that the `weblogic.utils.wrapper.WrapperFactory` that tries to load the file comes from the same jar file, and that apparently can be found just fine.\r\n\r\nI have no problems adding connections to Oracle databases, just Postgres is giving this issue.\r\n\r\n","title":"How do I use a Postgres JDBC connection from WebLogic?","body":"<p>I am trying to use a Postgres JDBC connection from WebLogic 14.1.1. I have added the Postgres JDBC jar to my domain's <code>lib</code> folder and added a datasource using the management console. The 'test' button at the end of the process indicates success. So far, so good.</p>\n<p>However, when I try to actually use the connection, I get a ClassNotFound exception regarding some sort of WebLogic wrapper class. Here is the full stack trace:</p>\n<pre><code>    ####&lt;Feb 23, 2023, 10:40:21,445 AM Central European Standard Time&gt; &lt;Error&gt; &lt;HTTP Session&gt; &lt;MacBook-Pro.local&gt; &lt;AdminServer&gt; &lt;[ACTIVE] ExecuteThread: '0' for queue: 'weblogic.kernel.Default (self-tuning)'&gt; &lt;&lt;anonymous&gt;&gt; &lt;&gt; &lt;fb856892-8489-4b11-beea-d232c77f0c0c-00000024&gt; &lt;167&gt;\njava.lang.AssertionError: java.lang.ClassNotFoundException: weblogic.jdbc.wrapper.PoolConnection\n        at weblogic.utils.wrapper.WrapperFactory.getWrapperClass(WrapperFactory.java:225)\n        at weblogic.utils.wrapper.WrapperFactory.getWrapperClass(WrapperFactory.java:190)\n        at weblogic.jdbc.wrapper.JDBCWrapperFactory$1.run(JDBCWrapperFactory.java:178)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at weblogic.jdbc.wrapper.JDBCWrapperFactory.getWrapper(JDBCWrapperFactory.java:175)\n        at weblogic.jdbc.pool.Driver.allocateConnection(Driver.java:229)\n        at weblogic.jdbc.pool.Driver.connect(Driver.java:157)\n        at weblogic.servlet.internal.session.JDBCSessionData.getConnection(JDBCSessionData.java:184)\n        at weblogic.servlet.internal.session.JDBCSessionData.getSessionIds(JDBCSessionData.java:128)\n        at weblogic.servlet.internal.session.JDBCSessionContext.getIdsInternal(JDBCSessionContext.java:246)\n        at weblogic.servlet.internal.session.SessionContext$SessionInvalidator.cleanupExpiredSessions(SessionContext.java:703)\n        at weblogic.servlet.internal.session.SessionContext$SessionInvalidator$1.run(SessionContext.java:680)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:344)\n        at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\n        at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\n        at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\n        at weblogic.servlet.internal.session.SessionContext$SessionInvalidator.timerExpired(SessionContext.java:676)\n        at weblogic.timers.internal.TimerImpl.run(TimerImpl.java:301)\n        at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:677)\n        at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n        at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n        at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n        at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n        at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:651)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\nCaused By: java.lang.ClassNotFoundException: weblogic.jdbc.wrapper.PoolConnection\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at weblogic.utils.wrapper.WrapperFactory.getWrapperClass(WrapperFactory.java:219)\n        at weblogic.utils.wrapper.WrapperFactory.getWrapperClass(WrapperFactory.java:190)\n        at weblogic.jdbc.wrapper.JDBCWrapperFactory$1.run(JDBCWrapperFactory.java:178)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at weblogic.jdbc.wrapper.JDBCWrapperFactory.getWrapper(JDBCWrapperFactory.java:175)\n        at weblogic.jdbc.pool.Driver.allocateConnection(Driver.java:229)\n        at weblogic.jdbc.pool.Driver.connect(Driver.java:157)\n        at weblogic.servlet.internal.session.JDBCSessionData.getConnection(JDBCSessionData.java:184)\n        at weblogic.servlet.internal.session.JDBCSessionData.getSessionIds(JDBCSessionData.java:128)\n        at weblogic.servlet.internal.session.JDBCSessionContext.getIdsInternal(JDBCSessionContext.java:246)\n        at weblogic.servlet.internal.session.SessionContext$SessionInvalidator.cleanupExpiredSessions(SessionContext.java:703)\n        at weblogic.servlet.internal.session.SessionContext$SessionInvalidator$1.run(SessionContext.java:680)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:344)\n        at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\n        at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\n        at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\n        at weblogic.servlet.internal.session.SessionContext$SessionInvalidator.timerExpired(SessionContext.java:676)\n        at weblogic.timers.internal.TimerImpl.run(TimerImpl.java:301)\n        at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:677)\n        at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n        at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n        at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n        at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n        at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:651)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\n</code></pre>\n<p>I have located that <code>PoolConnection</code> class in the <code>com.bea.core.datasource6.jar</code> file under the <code>modules</code> folder under my WebLogic home folder. I have tried adding this jar to my domain's lib folder as well, but then the entire server refuses to start.</p>\n<p>The strange thing is that the <code>weblogic.utils.wrapper.WrapperFactory</code> that tries to load the file comes from the same jar file, and that apparently can be found just fine.</p>\n<p>I have no problems adding connections to Oracle databases, just Postgres is giving this issue.</p>\n"},{"tags":["java","multimap"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1411056624,"post_id":25917531,"comment_id":40569467,"body_markdown":"You need to make the &quot;value&quot; a List.","body":"You need to make the &quot;value&quot; a List."},{"owner":{"account_id":239923,"reputation":11783,"user_id":509840,"accept_rate":71,"display_name":"rajah9"},"score":0,"creation_date":1411056700,"post_id":25917531,"comment_id":40569512,"body_markdown":"Make the value a subclass of Collection, such as ArrayList. The code you have above will not accumulate 1 and 2 but rather replace 1 with 2.","body":"Make the value a subclass of Collection, such as ArrayList. The code you have above will not accumulate 1 and 2 but rather replace 1 with 2."}],"answers":[{"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1411062818,"post_id":25917581,"comment_id":40572976,"body_markdown":"@Unihedron: yes, that would work. adding that as an alternative, thanks","body":"@Unihedron: yes, that would work. adding that as an alternative, thanks"},{"owner":{"account_id":4451090,"reputation":10972,"user_id":3622940,"accept_rate":100,"display_name":"Unihedron"},"score":0,"creation_date":1411062897,"post_id":25917581,"comment_id":40573021,"body_markdown":"Thanks for mentioning `Multimap`. TIL :)","body":"Thanks for mentioning <code>Multimap</code>. TIL :)"}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1411062915,"creation_date":1411056685,"answer_id":25917581,"question_id":25917531,"body_markdown":"You can use a Multimap instead. It keeps multiple values for a key in a list. There are implementations in [commons-collections][1] and in [Guava][2].\r\n\r\n    Multimap&lt;String, String&gt; multimap = ArrayListMultimap.create();   \r\n    multimap.put(&quot;ducks&quot;, &quot;Huey&quot;);\r\n    multimap.put(&quot;ducks&quot;, &quot;Dewey&quot;);\r\n    multimap.put(&quot;ducks&quot;, &quot;Louie&quot;);\r\n    Collection&lt;String&gt; ducks = multimap.get(&quot;ducks&quot;);\r\n    System.out.println(ducks); // [Huey, Dewey, Louie]\r\n\r\nIt is similar to using a Hashmap where the values are lists, but you don&#39;t have to explicitly create the lists.\r\n\r\nThe same example done the do-it-yourself way looks like:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;ducks&quot;, new ArrayList&lt;String&gt;());\r\n    map.get(&quot;ducks&quot;).add(&quot;Huey&quot;);\r\n    map.get(&quot;ducks&quot;).add(&quot;Dewey&quot;);\r\n    map.get(&quot;ducks&quot;).add(&quot;Louie&quot;);\r\n    // or as an alternative to the prev 4 lines:\r\n    // map.put(&quot;ducks&quot;, new ArrayList&lt;String&gt;(\r\n    //     new String[] {&quot;Huey&quot;, &quot;Dewey&quot;, &quot;Louie&quot;}));\r\n    Collection&lt;String&gt; ducks = map.get(&quot;ducks&quot;);\r\n    System.out.println(ducks); // [Huey, Dewey, Louie]\r\n\r\nNote that you can use the Multimap as a builder and call [asMap][3] on it to return a map.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\r\n  [2]: http://docs.guava-libraries.googlecode.com/git-history/master/javadoc/com/google/common/collect/Multimap.html\r\n  [3]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimap.html#asMap%28%29","title":"HashMap with multiple Value","body":"<p>You can use a Multimap instead. It keeps multiple values for a key in a list. There are implementations in <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\" rel=\"nofollow\">commons-collections</a> and in <a href=\"http://docs.guava-libraries.googlecode.com/git-history/master/javadoc/com/google/common/collect/Multimap.html\" rel=\"nofollow\">Guava</a>.</p>\n\n<pre><code>Multimap&lt;String, String&gt; multimap = ArrayListMultimap.create();   \nmultimap.put(\"ducks\", \"Huey\");\nmultimap.put(\"ducks\", \"Dewey\");\nmultimap.put(\"ducks\", \"Louie\");\nCollection&lt;String&gt; ducks = multimap.get(\"ducks\");\nSystem.out.println(ducks); // [Huey, Dewey, Louie]\n</code></pre>\n\n<p>It is similar to using a Hashmap where the values are lists, but you don't have to explicitly create the lists.</p>\n\n<p>The same example done the do-it-yourself way looks like:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(\"ducks\", new ArrayList&lt;String&gt;());\nmap.get(\"ducks\").add(\"Huey\");\nmap.get(\"ducks\").add(\"Dewey\");\nmap.get(\"ducks\").add(\"Louie\");\n// or as an alternative to the prev 4 lines:\n// map.put(\"ducks\", new ArrayList&lt;String&gt;(\n//     new String[] {\"Huey\", \"Dewey\", \"Louie\"}));\nCollection&lt;String&gt; ducks = map.get(\"ducks\");\nSystem.out.println(ducks); // [Huey, Dewey, Louie]\n</code></pre>\n\n<p>Note that you can use the Multimap as a builder and call <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimap.html#asMap%28%29\" rel=\"nofollow\">asMap</a> on it to return a map.</p>\n"},{"tags":[],"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677264785,"creation_date":1411056736,"answer_id":25917597,"question_id":25917531,"body_markdown":"Try `HashMap&lt;Key, List&lt;Value&gt;&gt;`  You will need to manage the list, creating if it doesn&#39;t exist already, and adding to it if you need.  \r\n\r\nGuava also provides a [Multimap][1] implementation\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Multimap.html","title":"HashMap with multiple Value","body":"<p>Try <code>HashMap&lt;Key, List&lt;Value&gt;&gt;</code>  You will need to manage the list, creating if it doesn't exist already, and adding to it if you need.</p>\n<p>Guava also provides a <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">Multimap</a> implementation</p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411056937,"creation_date":1411056937,"answer_id":25917656,"question_id":25917531,"body_markdown":"Do it this way\r\n\r\n    Map&lt;String, List&gt; map = new HashMap&lt;String, List&gt;();\r\n    List listOne = new ArrayList();\r\n    for(int i=0;i&lt;4;i++){\r\n        listOne.add(i);\r\n    }\r\n    List listTwo = new ArrayList();\r\n    for(int i=4;i&lt;6;i++){\r\n        listTwo.add(i);\r\n    }\r\n    map.put(&quot;listOne&quot;,listOne);\r\n    map.put(&quot;listTwo&quot;,listTwo);\r\nOr you can even use Guava&#39;s Multimap","title":"HashMap with multiple Value","body":"<p>Do it this way</p>\n\n<pre><code>Map&lt;String, List&gt; map = new HashMap&lt;String, List&gt;();\nList listOne = new ArrayList();\nfor(int i=0;i&lt;4;i++){\n    listOne.add(i);\n}\nList listTwo = new ArrayList();\nfor(int i=4;i&lt;6;i++){\n    listTwo.add(i);\n}\nmap.put(\"listOne\",listOne);\nmap.put(\"listTwo\",listTwo);\n</code></pre>\n\n<p>Or you can even use Guava's Multimap</p>\n"}],"owner":{"account_id":5039771,"reputation":75,"user_id":4047545,"accept_rate":50,"display_name":"starter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1430338010,"accepted_answer_id":25917581,"answer_count":3,"score":2,"last_activity_date":1677264785,"creation_date":1411056489,"question_id":25917531,"body_markdown":"I want to implement Hash table with multiple values in java i.e\r\n   \r\n    // if sample is a hashmap\r\n    sample.put(1,1);\r\n    sample.put(1,2);\r\n\r\nand `sample.get(1);` will return 2 values.\r\n \r\nHow can i achieve this?","title":"HashMap with multiple Value","body":"<p>I want to implement Hash table with multiple values in java i.e</p>\n\n<pre><code>// if sample is a hashmap\nsample.put(1,1);\nsample.put(1,2);\n</code></pre>\n\n<p>and <code>sample.get(1);</code> will return 2 values.</p>\n\n<p>How can i achieve this?</p>\n"},{"tags":["java","json","sorting","vert.x"],"comments":[{"owner":{"account_id":5631513,"reputation":398,"user_id":4458340,"display_name":"Bruno Marco Visioli"},"score":1,"creation_date":1677264614,"post_id":75560215,"comment_id":133310182,"body_markdown":"If you add an example of your input and the expected output it would make it easier for people to understand what you want to achieve. For me, it&#39;s not clear if you want the fields of a JSON object to be serialized alphabetically or if it&#39;s a JSON array that should be ordered based on some property of its items.","body":"If you add an example of your input and the expected output it would make it easier for people to understand what you want to achieve. For me, it&#39;s not clear if you want the fields of a JSON object to be serialized alphabetically or if it&#39;s a JSON array that should be ordered based on some property of its items."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1677269167,"post_id":75560215,"comment_id":133311232,"body_markdown":"Does this answer your question? [Jackson&#39;s SORT\\_PROPERTIES\\_ALPHABETICALLY for Map](https://stackoverflow.com/questions/48986100/jacksons-sort-properties-alphabetically-for-map)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48986100/jacksons-sort-properties-alphabetically-for-map\">Jackson&#39;s SORT_PROPERTIES_ALPHABETICALLY for Map</a>"}],"owner":{"account_id":4075017,"reputation":703,"user_id":3346931,"accept_rate":43,"display_name":"needoriginalname"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677263806,"creation_date":1677263806,"question_id":75560215,"body_markdown":"This is an issue I am trying to solve for work. We are using the Json Parser that comes part of the Vert.x library for Java.\r\n\r\nI need a way to serialize json, so when the generated code is done o in alphabetical order, as the json is going to used for a list of rules for our application.\r\n\r\nSince the rule file is over 2000 lines, I want to use a json generator so the rule file is easier to maintain, however it needs to be alphabetically sorted otherwise it will be difficult to read in a PR.\r\n\r\nI have tried a few attempts to configure the underlining Jackson Serializer to enable sorting, but so far it has not generated the Json in an alphabetical order. ","title":"How can I make a Json Serializer, to serialize json to an alphabetical better","body":"<p>This is an issue I am trying to solve for work. We are using the Json Parser that comes part of the Vert.x library for Java.</p>\n<p>I need a way to serialize json, so when the generated code is done o in alphabetical order, as the json is going to used for a list of rules for our application.</p>\n<p>Since the rule file is over 2000 lines, I want to use a json generator so the rule file is easier to maintain, however it needs to be alphabetically sorted otherwise it will be difficult to read in a PR.</p>\n<p>I have tried a few attempts to configure the underlining Jackson Serializer to enable sorting, but so far it has not generated the Json in an alphabetical order.</p>\n"},{"tags":["java","grpc","netty"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1677166362,"post_id":75540208,"comment_id":133287884,"body_markdown":"Describe more of how you&#39;re making a fatjar. See https://github.com/grpc/grpc-java/issues/9387","body":"Describe more of how you&#39;re making a fatjar. See <a href=\"https://github.com/grpc/grpc-java/issues/9387\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/9387</a>"},{"owner":{"account_id":13582506,"reputation":41,"user_id":9798048,"display_name":"rocksnslopes"},"score":0,"creation_date":1677176325,"post_id":75540208,"comment_id":133291131,"body_markdown":"Using gradle and [shadow plugin](https://github.com/johnrengelman/shadow)","body":"Using gradle and <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">shadow plugin</a>"}],"answers":[{"tags":[],"owner":{"account_id":13582506,"reputation":41,"user_id":9798048,"display_name":"rocksnslopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677263409,"creation_date":1677199989,"answer_id":75551717,"question_id":75540208,"body_markdown":"Found the solution for my particular case here:\r\n\r\nhttps://stackoverflow.com/questions/73286776/grpc-unsupportedaddresstypeexception-but-only-when-packaged-with-shadowjar\r\n\r\nApparently my fat jar was being packaged incorrectly and I needed to use the [`mergeServiceFiles()` function](https://imperceptiblethoughts.com/shadow/configuration/merging/#merging-service-descriptor-files) from shadowJar in order to merge my service files.","title":"Address family not supported by protocol for GRPC Netty","body":"<p>Found the solution for my particular case here:</p>\n<p><a href=\"https://stackoverflow.com/questions/73286776/grpc-unsupportedaddresstypeexception-but-only-when-packaged-with-shadowjar\">gRPC UnsupportedAddressTypeException, but only when packaged with shadowJar</a></p>\n<p>Apparently my fat jar was being packaged incorrectly and I needed to use the <a href=\"https://imperceptiblethoughts.com/shadow/configuration/merging/#merging-service-descriptor-files\" rel=\"nofollow noreferrer\"><code>mergeServiceFiles()</code> function</a> from shadowJar in order to merge my service files.</p>\n"}],"owner":{"account_id":13582506,"reputation":41,"user_id":9798048,"display_name":"rocksnslopes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677263409,"creation_date":1677121580,"question_id":75540208,"body_markdown":"I&#39;m getting the following error when deployed to a remote host:\r\n\r\n```\r\nWrapped by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Address family not supported by protocol: /somegrpcservice-grpc.abc.com:443\r\nWrapped by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\r\n\tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\r\n```\r\n\r\nI&#39;m deploying using a fatjar, when run locally everything fine.  It is only when the service is deployed to a remote host.  Some things I&#39;ve already tried:\r\n\r\n- Various version of **io.grpc:grpc-netty-shaded** from 1.30.0 to 1.53.0\r\n- Running Ncat from the remote host and successfully connecting\r\n- Setting system property:  -Djava.net.preferIPv4Stack=true\r\n\r\nNone of these seemed to make a difference.  Appreciate if anyone else has any ideas.  Thanks!\r\n","title":"Address family not supported by protocol for GRPC Netty","body":"<p>I'm getting the following error when deployed to a remote host:</p>\n<pre><code>Wrapped by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Address family not supported by protocol: /somegrpcservice-grpc.abc.com:443\nWrapped by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\n</code></pre>\n<p>I'm deploying using a fatjar, when run locally everything fine.  It is only when the service is deployed to a remote host.  Some things I've already tried:</p>\n<ul>\n<li>Various version of <strong>io.grpc:grpc-netty-shaded</strong> from 1.30.0 to 1.53.0</li>\n<li>Running Ncat from the remote host and successfully connecting</li>\n<li>Setting system property:  -Djava.net.preferIPv4Stack=true</li>\n</ul>\n<p>None of these seemed to make a difference.  Appreciate if anyone else has any ideas.  Thanks!</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1677260393,"post_id":75559087,"comment_id":133309183,"body_markdown":"Is SnapStart configured on these Lambda functions? Do CloudWatch Logs for the errant Lambda invocation show START, END, and REPORT logs that are what you expected to see (success and correct, sub-15 minute execution)?","body":"Is SnapStart configured on these Lambda functions? Do CloudWatch Logs for the errant Lambda invocation show START, END, and REPORT logs that are what you expected to see (success and correct, sub-15 minute execution)?"},{"owner":{"account_id":11001743,"reputation":587,"user_id":8082161,"display_name":"Werner Daehn"},"score":0,"creation_date":1677262869,"post_id":75559087,"comment_id":133309773,"body_markdown":"Snapstart no. START, END, REPORT all present. I will update above post with that info.","body":"Snapstart no. START, END, REPORT all present. I will update above post with that info."},{"owner":{"account_id":11001743,"reputation":587,"user_id":8082161,"display_name":"Werner Daehn"},"score":0,"creation_date":1677263398,"post_id":75559087,"comment_id":133309905,"body_markdown":"@jarmod You might be on to something: Memory Size: 4096 MB Max Memory Used: 4096 MB","body":"@jarmod You might be on to something: Memory Size: 4096 MB Max Memory Used: 4096 MB"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1677265844,"post_id":75559087,"comment_id":133310480,"body_markdown":"Yes, that sounds like something to dig into. FYI increasing RAM size for your Lambda functions also proportionally increases CPU, and gives you a greater share of network bandwidth. While it costs more per CPU second, tasks complete faster so the net increase in cost might be quite manageable.","body":"Yes, that sounds like something to dig into. FYI increasing RAM size for your Lambda functions also proportionally increases CPU, and gives you a greater share of network bandwidth. While it costs more per CPU second, tasks complete faster so the net increase in cost might be quite manageable."}],"owner":{"account_id":11001743,"reputation":587,"user_id":8082161,"display_name":"Werner Daehn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677263142,"creation_date":1677256427,"question_id":75559087,"body_markdown":"I have two AWS Lambdas, one is creating individual files and the other is supposed to combine all files in a zip folder. Goal is to create one file per day.\r\nThe called Lambda gets the file type as parameter, reads the data from matching DynamoDB and produces the output file.\r\n\r\nThe calling lambda goes through the list of all file types and for each submits the request to produce a file via the ExecutorService. Its callable does a `AWSLambda.invoke()`.\r\nThis works for 29 files but one, always the same and the one that takes the longest with 6 minutes, finished and even 10 minutes later the AWSLambda.invoke() call is still waiting. Eventually the calling lambda dies after 900 seconds (Lambda execution limit).\r\n\r\nFor example the caller started at 15:50:33, the other lambda was started at 15:50:57, finished at 15:56:47 and the caller kept waiting until 16:03 for it to complete. Meanwhile all other 29 instances were started, completed and their files are ready.\r\n\r\nDoes anybody have an idea what could be the root cause? How to debug that?\r\n\r\nNote: It worked for months, then suddenly I can see that behavior and then it starts to work again after a new code deploy. I am not aware of any changes that should impact that.\r\n\r\nThe Callable for triggering the child Lambda for a given payload contains that code.\r\n\r\n    InvokeRequest lmbRequest = new InvokeRequest()\r\n    &#160;&#160;&#160;&#160; .withFunctionName(functionname)\r\n    &#160;&#160;&#160;&#160;&#160;.withPayload(inputJSON );\r\n    lmbRequest.setInvocationType(InvocationType.RequestResponse);\r\n    ClientConfiguration configuration = new ClientConfiguration();\r\n    configuration.setSocketTimeout(700000000); // 700 secs max\r\n    configuration.setClientExecutionTimeout(700000000);\r\n    configuration.setRequestTimeout(700000000);\r\n    AWSLambda lambda = AWSLambdaClientBuilder.standard()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;.withClientConfiguration(configuration)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;.withRegion(region)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;.withCredentials(new DefaultAWSCredentialsProviderChain()).build();\r\n    InvokeResult lambdaresult = lambda.invoke(lmbRequest);\r\n    String error = lambdaresult.getFunctionError(); \r\n    if (error != null) throw ...;\r\n    else return lambdaresult;\r\n\r\n\r\nThe log of the called Lambda starts with \r\n\r\n    START RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c Version: $LATEST\r\n    2023-02-24 16:52:37 34d69efa-a261-40df-a4e7-d4a47bcb5c6c INFO File 11 triggered\r\n\r\nand ends with\r\n\r\n    2023-02-24 16:58:48 34d69efa-a261-40df-a4e7-d4a47bcb5c6c INFO File 11 created\r\n    END RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c\r\n    REPORT RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c\r\n        Duration: 371068.41 ms Billed Duration: 371069 ms\r\n        Memory Size: 4096 MB Max Memory Used: 4096 MB\r\n\r\nEDIT: The max memory used above worries me. I did not get an exception but there is quite some data in memory. I&#39;ll increase the lambda&#39;s max memory setting.","title":"AWSLambda.invoke does not return after the called lambda finished successfully","body":"<p>I have two AWS Lambdas, one is creating individual files and the other is supposed to combine all files in a zip folder. Goal is to create one file per day.\nThe called Lambda gets the file type as parameter, reads the data from matching DynamoDB and produces the output file.</p>\n<p>The calling lambda goes through the list of all file types and for each submits the request to produce a file via the ExecutorService. Its callable does a <code>AWSLambda.invoke()</code>.\nThis works for 29 files but one, always the same and the one that takes the longest with 6 minutes, finished and even 10 minutes later the AWSLambda.invoke() call is still waiting. Eventually the calling lambda dies after 900 seconds (Lambda execution limit).</p>\n<p>For example the caller started at 15:50:33, the other lambda was started at 15:50:57, finished at 15:56:47 and the caller kept waiting until 16:03 for it to complete. Meanwhile all other 29 instances were started, completed and their files are ready.</p>\n<p>Does anybody have an idea what could be the root cause? How to debug that?</p>\n<p>Note: It worked for months, then suddenly I can see that behavior and then it starts to work again after a new code deploy. I am not aware of any changes that should impact that.</p>\n<p>The Callable for triggering the child Lambda for a given payload contains that code.</p>\n<pre><code>InvokeRequest lmbRequest = new InvokeRequest()\n     .withFunctionName(functionname)\n     .withPayload(inputJSON );\nlmbRequest.setInvocationType(InvocationType.RequestResponse);\nClientConfiguration configuration = new ClientConfiguration();\nconfiguration.setSocketTimeout(700000000); // 700 secs max\nconfiguration.setClientExecutionTimeout(700000000);\nconfiguration.setRequestTimeout(700000000);\nAWSLambda lambda = AWSLambdaClientBuilder.standard()\n      .withClientConfiguration(configuration)\n      .withRegion(region)\n      .withCredentials(new DefaultAWSCredentialsProviderChain()).build();\nInvokeResult lambdaresult = lambda.invoke(lmbRequest);\nString error = lambdaresult.getFunctionError(); \nif (error != null) throw ...;\nelse return lambdaresult;\n</code></pre>\n<p>The log of the called Lambda starts with</p>\n<pre><code>START RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c Version: $LATEST\n2023-02-24 16:52:37 34d69efa-a261-40df-a4e7-d4a47bcb5c6c INFO File 11 triggered\n</code></pre>\n<p>and ends with</p>\n<pre><code>2023-02-24 16:58:48 34d69efa-a261-40df-a4e7-d4a47bcb5c6c INFO File 11 created\nEND RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c\nREPORT RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c\n    Duration: 371068.41 ms Billed Duration: 371069 ms\n    Memory Size: 4096 MB Max Memory Used: 4096 MB\n</code></pre>\n<p>EDIT: The max memory used above worries me. I did not get an exception but there is quite some data in memory. I'll increase the lambda's max memory setting.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1299032,"reputation":5308,"user_id":1249325,"accept_rate":50,"display_name":"KhAn SaAb"},"score":1,"creation_date":1472641835,"post_id":39247984,"comment_id":65831830,"body_markdown":"super is an key word not an reference or object for super/parent class, it will call method or constructor of super/parent class.","body":"super is an key word not an reference or object for super/parent class, it will call method or constructor of super/parent class."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1472641983,"post_id":39247984,"comment_id":65831926,"body_markdown":"interfaces can `extend` other interfaces.","body":"interfaces can <code>extend</code> other interfaces."},{"owner":{"account_id":3355003,"reputation":533,"user_id":2818167,"accept_rate":28,"display_name":"Robin"},"score":0,"creation_date":1472642052,"post_id":39247984,"comment_id":65831979,"body_markdown":"Thanks you are right, But my doubt is here DefaultMethod interface have no super class, then which constructor is called?","body":"Thanks you are right, But my doubt is here DefaultMethod interface have no super class, then which constructor is called?"},{"owner":{"account_id":1299032,"reputation":5308,"user_id":1249325,"accept_rate":50,"display_name":"KhAn SaAb"},"score":0,"creation_date":1472642153,"post_id":39247984,"comment_id":65832049,"body_markdown":"you cant use super class then no use of super keyword in that interface/class","body":"you cant use super class then no use of super keyword in that interface/class"},{"owner":{"account_id":3355003,"reputation":533,"user_id":2818167,"accept_rate":28,"display_name":"Robin"},"score":0,"creation_date":1472642655,"post_id":39247984,"comment_id":65832382,"body_markdown":"Thanks khAn your answer is right.","body":"Thanks khAn your answer is right."}],"answers":[{"tags":[],"owner":{"account_id":6145482,"reputation":1570,"user_id":4791599,"display_name":"Markus Mitterauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1472642412,"creation_date":1472642412,"answer_id":39248234,"question_id":39247984,"body_markdown":"If you use `super` in a `class` it usually refers to the ancestor of that class (either the `extend`ed class or `Object`).\r\n\r\nIn the case of overriden `default` method of an `interface` you have to specify the specific interface which default implementation you want to invoke, hence\r\n\r\n    &lt;Interface&gt;.super.&lt;method&gt;();\r\n\r\n\r\nSee also [The diamond problem](https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem).","title":"What is Interface.super","body":"<p>If you use <code>super</code> in a <code>class</code> it usually refers to the ancestor of that class (either the <code>extend</code>ed class or <code>Object</code>).</p>\n\n<p>In the case of overriden <code>default</code> method of an <code>interface</code> you have to specify the specific interface which default implementation you want to invoke, hence</p>\n\n<pre><code>&lt;Interface&gt;.super.&lt;method&gt;();\n</code></pre>\n\n<p>See also <a href=\"https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem\" rel=\"noreferrer\">The diamond problem</a>.</p>\n"},{"tags":[],"owner":{"account_id":15965387,"reputation":121,"user_id":11521221,"display_name":"Najib Tounsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1558200151,"creation_date":1558200151,"answer_id":56201266,"question_id":39247984,"body_markdown":"`&lt;Interface&gt;.&lt;method&gt;();` would consider `&lt;method&gt;` as static, and this is not the case. Hence the use of key word `super` which is a reference variable that is used to refer a &quot;parent&quot; object.","title":"What is Interface.super","body":"<p><code>&lt;Interface&gt;.&lt;method&gt;();</code> would consider <code>&lt;method&gt;</code> as static, and this is not the case. Hence the use of key word <code>super</code> which is a reference variable that is used to refer a \"parent\" object.</p>\n"},{"tags":[],"owner":{"account_id":19787800,"reputation":89,"user_id":14491411,"display_name":"shalitha anuradha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665845724,"creation_date":1665845724,"answer_id":74080507,"question_id":39247984,"body_markdown":"The main reason is that there could be more than one interface with a super level having a default method with the same method signature. The java compiler needs to understand what Interface is referring to here.\r\n\r\nSee the below example.\r\n\r\n    public interface ABC {\r\n        default String showMyName(String name) {\r\n            return &quot;Hai &quot; + name;\r\n    \r\n        }\r\n    }\r\n    \r\n    public interface CDE {\r\n        default String showMyName(String name) {\r\n            return &quot;Hey.........!!! &quot; + name;\r\n    \r\n        }\r\n    }\r\n    \r\n    public class DefaultMethodMainImpl implements ABC, CDE {\r\n    \r\n        @Override\r\n        public String showMyName(String name) {\r\n            System.out.println(ABC.super.showMyName(name));\r\n            System.out.println(CDE.super.showMyName(name));\r\n            return ABC.super.showMyName(name);\r\n        }\r\n    }\r\n\r\n","title":"What is Interface.super","body":"<p>The main reason is that there could be more than one interface with a super level having a default method with the same method signature. The java compiler needs to understand what Interface is referring to here.</p>\n<p>See the below example.</p>\n<pre><code>public interface ABC {\n    default String showMyName(String name) {\n        return &quot;Hai &quot; + name;\n\n    }\n}\n\npublic interface CDE {\n    default String showMyName(String name) {\n        return &quot;Hey.........!!! &quot; + name;\n\n    }\n}\n\npublic class DefaultMethodMainImpl implements ABC, CDE {\n\n    @Override\n    public String showMyName(String name) {\n        System.out.println(ABC.super.showMyName(name));\n        System.out.println(CDE.super.showMyName(name));\n        return ABC.super.showMyName(name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677262946,"creation_date":1677262946,"answer_id":75560111,"question_id":39247984,"body_markdown":"Consider this code: \r\n\r\n    public interface One {\r\n    default void method (){\r\n        System.out.println(&quot;method from One&quot;);\r\n    }\r\n    }\r\n\r\n    interface Two extends One {\r\n      default void method(){\r\n        System.out.println(&quot;method from Two&quot;);\r\n    }\r\n    }\r\n\r\n    class Three implements Two{\r\n    \r\n      public void method (){\r\n        Two.super.method();\r\n      }\r\n        \r\n      public static void main(String[] args) {\r\n        new Three().method();\r\n      }\r\n    }\r\n`Output: method from Two`\r\n\r\n`Two.super.method()` is just a clumsy syntax to avoid the diamond problem explained in another answer. \r\nAs you can see from the program output, `super` not really means &quot;calling to ancestor&quot; as it used to be in Java. ","title":"What is Interface.super","body":"<p>Consider this code:</p>\n<pre><code>public interface One {\ndefault void method (){\n    System.out.println(&quot;method from One&quot;);\n}\n}\n\ninterface Two extends One {\n  default void method(){\n    System.out.println(&quot;method from Two&quot;);\n}\n}\n\nclass Three implements Two{\n\n  public void method (){\n    Two.super.method();\n  }\n    \n  public static void main(String[] args) {\n    new Three().method();\n  }\n}\n</code></pre>\n<p><code>Output: method from Two</code></p>\n<p><code>Two.super.method()</code> is just a clumsy syntax to avoid the diamond problem explained in another answer.\nAs you can see from the program output, <code>super</code> not really means &quot;calling to ancestor&quot; as it used to be in Java.</p>\n"}],"owner":{"account_id":3355003,"reputation":533,"user_id":2818167,"accept_rate":28,"display_name":"Robin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15828,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":39248234,"answer_count":4,"score":20,"last_activity_date":1677262946,"creation_date":1472641744,"question_id":39247984,"body_markdown":"I have recently used default methods in java.\r\nIn its implementation I found \r\n\r\n    public interface DefaultMethod {\r\n\t    default String showMyName(String name){\r\n\t\t    return &quot;Hai &quot;+name;\r\n\t\t\r\n\t    }\r\n    }\r\n\r\n\r\n    public class DefaultMethodMainImpl implements DefaultMethod{\r\n\t\r\n\t    @Override\r\n\t    public String showMyName(String name){\r\n\t\t    return DefaultMethod.super.showMyName(name);\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nMy question is in **DefaultMethod.super** where **super** will call it have no super class except Object? **what super will return**?","title":"What is Interface.super","body":"<p>I have recently used default methods in java.\nIn its implementation I found </p>\n\n<pre><code>public interface DefaultMethod {\n    default String showMyName(String name){\n        return \"Hai \"+name;\n\n    }\n}\n\n\npublic class DefaultMethodMainImpl implements DefaultMethod{\n\n    @Override\n    public String showMyName(String name){\n        return DefaultMethod.super.showMyName(name);\n\n    }\n}\n</code></pre>\n\n<p>My question is in <strong>DefaultMethod.super</strong> where <strong>super</strong> will call it have no super class except Object? <strong>what super will return</strong>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677250341,"post_id":75557896,"comment_id":133306281,"body_markdown":"It sounds like you actually want more of a curses-like interface.","body":"It sounds like you actually want more of a curses-like interface."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1677250393,"post_id":75557896,"comment_id":133306303,"body_markdown":"Check the content of the user input and remove anything you don&#39;t want in there.","body":"Check the content of the user input and remove anything you don&#39;t want in there."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677265287,"post_id":75557896,"comment_id":133310362,"body_markdown":"See [this thread](https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it). Short answer, there is no easy, completely portable method that works under all conditions.","body":"See <a href=\"https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it\">this thread</a>. Short answer, there is no easy, completely portable method that works under all conditions."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677262614,"creation_date":1677262614,"answer_id":75560064,"question_id":75557896,"body_markdown":"What you want to achieve is not possible using pure System.in/System.out console stream input/output. You would need a character base UI framework to implement something like that.\r\n","title":"Is there a way to stop newline whenever I use user input?","body":"<p>What you want to achieve is not possible using pure System.in/System.out console stream input/output. You would need a character base UI framework to implement something like that.</p>\n"}],"owner":{"account_id":26545508,"reputation":1,"user_id":20175632,"display_name":"Migu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677262614,"creation_date":1677249839,"question_id":75557896,"body_markdown":"My code looks like this, I wanted to design my program, something like a card, it&#39;ll ask for a color then print out a message.\r\n\r\nMy problem is, I can&#39;t really close it up... \r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main{\r\n    public static void main(String args[]) {\r\n        Scanner cin = new Scanner(System.in);\r\n        String color;\r\n        \r\n        System.out.println(&quot;------------------------------------------------------&quot;);\r\n        System.out.println(&quot;|                  Welcome Card!!                    |&quot;);\r\n        System.out.println(&quot;|                   Pick a color                     |&quot;);\r\n        System.out.println(&quot;|                                                    |&quot;);\r\n        System.out.println(&quot;|              Green, Blue, Red, Orange              |&quot;);\r\n        System.out.println(&quot;|                                                    |&quot;);\r\n        System.out.println(&quot;|                                                    |&quot;);\r\n        System.out.print(&quot;|\\t\\t\\t\\t       &quot;); color = cin.nextLine();\r\n        \r\n        switch (color.toLowerCase()){\r\n            case &quot;blue&quot;:\r\n                System.out.println(&quot;|                    Success                         |&quot;);\r\n                System.out.println(&quot;------------------------------------------------------&quot;);\r\n                break;\r\n\r\n            default:\r\n                System.out.println(&quot;unsuccessful&quot;);\r\n        }\r\n        \r\n        }\r\n    }\r\n```\r\n\r\n\r\nthe output looks like this: \r\n```\r\n------------------------------------------------------\r\n|                  Welcome Card!!                    |\r\n|                   Pick a color                     |\r\n|                                                    |\r\n|              Green, Blue, Red, Orange              |\r\n|                                                    |\r\n|                                                    |\r\n|\t\t               blue\r\n|                    Success                         |\r\n------------------------------------------------------\r\n```\r\n\r\nwhat I want to achieve:\r\n```\r\n------------------------------------------------------\r\n|                  Welcome Card!!                    |\r\n|                   Pick a color                     |\r\n|                                                    |\r\n|              Green, Blue, Red, Orange              |\r\n|                                                    |\r\n|                                                    |\r\n|\t\t              blue                           |\r\n|                    Success                         |\r\n------------------------------------------------------\r\n```\r\n\r\nIt&#39;s still a rough draft, just tryna figure out how to put another vertical line on that gap...","title":"Is there a way to stop newline whenever I use user input?","body":"<p>My code looks like this, I wanted to design my program, something like a card, it'll ask for a color then print out a message.</p>\n<p>My problem is, I can't really close it up...</p>\n<pre><code>import java.util.Scanner;\npublic class Main{\n    public static void main(String args[]) {\n        Scanner cin = new Scanner(System.in);\n        String color;\n        \n        System.out.println(&quot;------------------------------------------------------&quot;);\n        System.out.println(&quot;|                  Welcome Card!!                    |&quot;);\n        System.out.println(&quot;|                   Pick a color                     |&quot;);\n        System.out.println(&quot;|                                                    |&quot;);\n        System.out.println(&quot;|              Green, Blue, Red, Orange              |&quot;);\n        System.out.println(&quot;|                                                    |&quot;);\n        System.out.println(&quot;|                                                    |&quot;);\n        System.out.print(&quot;|\\t\\t\\t\\t       &quot;); color = cin.nextLine();\n        \n        switch (color.toLowerCase()){\n            case &quot;blue&quot;:\n                System.out.println(&quot;|                    Success                         |&quot;);\n                System.out.println(&quot;------------------------------------------------------&quot;);\n                break;\n\n            default:\n                System.out.println(&quot;unsuccessful&quot;);\n        }\n        \n        }\n    }\n</code></pre>\n<p>the output looks like this:</p>\n<pre><code>------------------------------------------------------\n|                  Welcome Card!!                    |\n|                   Pick a color                     |\n|                                                    |\n|              Green, Blue, Red, Orange              |\n|                                                    |\n|                                                    |\n|                      blue\n|                    Success                         |\n------------------------------------------------------\n</code></pre>\n<p>what I want to achieve:</p>\n<pre><code>------------------------------------------------------\n|                  Welcome Card!!                    |\n|                   Pick a color                     |\n|                                                    |\n|              Green, Blue, Red, Orange              |\n|                                                    |\n|                                                    |\n|                     blue                           |\n|                    Success                         |\n------------------------------------------------------\n</code></pre>\n<p>It's still a rough draft, just tryna figure out how to put another vertical line on that gap...</p>\n"},{"tags":["java","android","gson"],"comments":[{"owner":{"account_id":2010820,"reputation":3386,"user_id":1799284,"accept_rate":40,"display_name":"EngineSense"},"score":0,"creation_date":1441777744,"post_id":32444863,"comment_id":52804931,"body_markdown":"Weird problem for more than week... it works in local installation not from the play store installation","body":"Weird problem for more than week... it works in local installation not from the play store installation"},{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1581404123,"post_id":32444863,"comment_id":106411343,"body_markdown":"@CodeSpy btw, thanks for providing great answer and approach but using it&#39;s recommended to use `TypeToken` instead manually get the `LinkedMapTree` object by name","body":"@CodeSpy btw, thanks for providing great answer and approach but using it&#39;s recommended to use <code>TypeToken</code> instead manually get the <code>LinkedMapTree</code> object by name"}],"answers":[{"comments":[{"owner":{"account_id":1510661,"reputation":1725,"user_id":1412887,"display_name":"Pnemonic"},"score":6,"creation_date":1483974808,"post_id":32494079,"comment_id":70307147,"body_markdown":"reproduces when using proguard (minifyEnabled true)","body":"reproduces when using proguard (minifyEnabled true)"},{"owner":{"account_id":7443916,"reputation":1087,"user_id":5660784,"display_name":"Hanu"},"score":1,"creation_date":1495779827,"post_id":32494079,"comment_id":75403247,"body_markdown":"@Log.d Thanks, that worked for me. It took 6 hours before I realised the issue and came across your post.","body":"@Log.d Thanks, that worked for me. It took 6 hours before I realised the issue and came across your post."},{"owner":{"account_id":7212490,"reputation":1864,"user_id":5506061,"accept_rate":64,"display_name":"Krish"},"score":0,"creation_date":1508877760,"post_id":32494079,"comment_id":80786773,"body_markdown":"@Saidolim\nwhat is meant by object.get(DO_SERVICES) in your answer ?\n \nJSONObject jsonObj = new JSONObject(object.get(DO_SERVICES).toString());","body":"@Saidolim what is meant by object.get(DO_SERVICES) in your answer ?   JSONObject jsonObj = new JSONObject(object.get(DO_SERVICES).toString());"},{"owner":{"account_id":2010820,"reputation":3386,"user_id":1799284,"accept_rate":40,"display_name":"EngineSense"},"score":0,"creation_date":1508898966,"post_id":32494079,"comment_id":80793234,"body_markdown":"@Krishna I don&#39;t know whom you are  pointing at. But Do_service is a string from rest api. It&#39;s an old method since I moved to hibernate.","body":"@Krishna I don&#39;t know whom you are  pointing at. But Do_service is a string from rest api. It&#39;s an old method since I moved to hibernate."}],"tags":[],"owner":{"account_id":2010820,"reputation":3386,"user_id":1799284,"accept_rate":40,"display_name":"EngineSense"},"comment_count":4,"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1475842818,"creation_date":1441864192,"answer_id":32494079,"question_id":32444863,"body_markdown":"Serializing and Deserializing Generic Types\r\n\r\nWhen you call toJson(obj), Gson calls obj.getClass() to get information on the fields to serialize. Similarly, you can typically pass MyClass.class object in the fromJson(json, MyClass.class) method. This works fine if the object is a non-generic type. However, if the object is of a generic type, then the Generic type information is lost because of Java Type Erasure. Here is an example illustrating the point: \r\n\r\n    class Foo&lt;T&gt; {  T value;}\r\n    Gson gson = new Gson();\r\n    Foo&lt;Bar&gt; foo = new Foo&lt;Bar&gt;();\r\n    gson.toJson(foo); // May not serialize foo.value correctly\r\n    gson.fromJson(json, foo.getClass()); // Fails to deserialize foo.value as Bar\r\n\r\nThe above code fails to interpret value as type Bar because Gson invokes list.getClass() to get its class information, but this method returns a raw class, Foo.class. This means that Gson has no way of knowing that this is an object of type Foo&lt;Bar&gt;, and not just plain Foo. \r\n\r\nYou can solve this problem by specifying the correct parameterized type for your generic type. You can do this by using the TypeToken class. \r\n    \r\n   \r\n\r\n    Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();    \r\n    gson.toJson(foo, fooType);\r\n    gson.fromJson(json, fooType);\r\n\r\nI have Parent class and it&#39;s child class some of them having List types in it. Like this parent class i have 30 files. I solved it like this. \r\n\r\n    Gson gson = new Gson();\r\n    JSONObject jsonObj = new JSONObject(object.get(DO_SERVICES).toString());\r\n    Type type = new TypeToken&lt;MyDto&gt;() {}.getType();\r\n    servDto = gson.fromJson(jsonObj.toString(),type);\r\n\r\n**The most important thing is, I can&#39;t reproduce this error in local testing from Android studio. This problem pops up only, When i generate signed apk and publish app into PlayStore were the app stops, and the report says Cannot cast LinkedTreeMap to myclass.**\r\n\r\nIt was hard for me to reproduce the same result in my local testing (includes Debug mode).","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>Serializing and Deserializing Generic Types</p>\n\n<p>When you call toJson(obj), Gson calls obj.getClass() to get information on the fields to serialize. Similarly, you can typically pass MyClass.class object in the fromJson(json, MyClass.class) method. This works fine if the object is a non-generic type. However, if the object is of a generic type, then the Generic type information is lost because of Java Type Erasure. Here is an example illustrating the point: </p>\n\n<pre><code>class Foo&lt;T&gt; {  T value;}\nGson gson = new Gson();\nFoo&lt;Bar&gt; foo = new Foo&lt;Bar&gt;();\ngson.toJson(foo); // May not serialize foo.value correctly\ngson.fromJson(json, foo.getClass()); // Fails to deserialize foo.value as Bar\n</code></pre>\n\n<p>The above code fails to interpret value as type Bar because Gson invokes list.getClass() to get its class information, but this method returns a raw class, Foo.class. This means that Gson has no way of knowing that this is an object of type Foo, and not just plain Foo. </p>\n\n<p>You can solve this problem by specifying the correct parameterized type for your generic type. You can do this by using the TypeToken class. </p>\n\n<pre><code>Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();    \ngson.toJson(foo, fooType);\ngson.fromJson(json, fooType);\n</code></pre>\n\n<p>I have Parent class and it's child class some of them having List types in it. Like this parent class i have 30 files. I solved it like this. </p>\n\n<pre><code>Gson gson = new Gson();\nJSONObject jsonObj = new JSONObject(object.get(DO_SERVICES).toString());\nType type = new TypeToken&lt;MyDto&gt;() {}.getType();\nservDto = gson.fromJson(jsonObj.toString(),type);\n</code></pre>\n\n<p><strong>The most important thing is, I can't reproduce this error in local testing from Android studio. This problem pops up only, When i generate signed apk and publish app into PlayStore were the app stops, and the report says Cannot cast LinkedTreeMap to myclass.</strong></p>\n\n<p>It was hard for me to reproduce the same result in my local testing (includes Debug mode).</p>\n"},{"tags":[],"owner":{"account_id":1038775,"reputation":9724,"user_id":1045296,"accept_rate":100,"display_name":"Code Spy"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1535352340,"creation_date":1535352340,"answer_id":52033860,"question_id":32444863,"body_markdown":"**[Source][1]** \r\n\r\nIn My **ListView BaseAdapter** facing same issue\r\n\r\n**JSON format** to show \r\n\r\n\t{\r\n\t\tresults: [\r\n\t\t{\r\n\t\t\tid: &quot;10&quot;,\r\n\t\t\tphone: &quot;+91783XXXX345&quot;,\r\n\t\t\tname: &quot;Mr Example&quot;,\r\n\t\t\temail: &quot;freaky@jolly.com&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: &quot;11&quot;,\r\n\t\t\tphone: &quot;+9178XXXX66&quot;,\r\n\t\t\tname: &quot;Mr Foo&quot;,\r\n\t\t\temail: &quot;freaky@jolly.com&quot;\r\n\t\t}],\r\n\t\tstatusCode: &quot;1&quot;,\r\n\t\tcount: &quot;2&quot;\r\n\t}\r\n\r\n\r\nI was facing this issue \r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n&gt;                   Process: com.hsa.ffgp.hapdfgdfgoon, PID: 25879\r\n&gt;                   java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to\r\n&gt; com.hsa.......\r\n\r\n\r\nThen I mapped data using **LinkedTreeMap** Key Value as below\r\n\r\n\t...\r\n\t...\r\n\r\n\t\t@Override\r\n\t\tpublic View getView(final int i, View view, ViewGroup viewGroup) {\r\n\t\t\tif(view==null)\r\n\t\t\t{\r\n\t\t\t\tview= LayoutInflater.from(c).inflate(R.layout.listview_manage_clients,viewGroup,false);\r\n\t\t\t}\r\n\r\n\t\t\tTextView mUserName = (TextView) view.findViewById(R.id.userName);\r\n\t\t\tTextView mUserPhone = (TextView) view.findViewById(R.id.userPhone);\r\n\r\n\r\n\t\t\tObject getrow = this.users.get(i);\r\n\t\t\tLinkedTreeMap&lt;Object,Object&gt; t = (LinkedTreeMap) getrow;\r\n\t\t\tString name = t.get(&quot;name&quot;).toString();\r\n\r\n\t\t\tmUserName.setText(&quot;Name is &quot;+name);\r\n\t\t\tmUserPhone.setText(&quot;Phone is &quot;+phone);\r\n\r\n\t\t\treturn view;\r\n\t\t}\r\n\t...\r\n\t...\r\n\r\n\r\n\r\n\r\n  [1]: https://www.freakyjolly.com/com-google-gson-internal-linkedtreemap-cannot-be-cast-to-how-to-resolve/","title":"google gson LinkedTreeMap class cast to myclass","body":"<p><strong><a href=\"https://www.freakyjolly.com/com-google-gson-internal-linkedtreemap-cannot-be-cast-to-how-to-resolve/\" rel=\"noreferrer\">Source</a></strong> </p>\n\n<p>In My <strong>ListView BaseAdapter</strong> facing same issue</p>\n\n<p><strong>JSON format</strong> to show </p>\n\n<pre><code>{\n    results: [\n    {\n        id: \"10\",\n        phone: \"+91783XXXX345\",\n        name: \"Mr Example\",\n        email: \"freaky@jolly.com\"\n    },\n    {\n        id: \"11\",\n        phone: \"+9178XXXX66\",\n        name: \"Mr Foo\",\n        email: \"freaky@jolly.com\"\n    }],\n    statusCode: \"1\",\n    count: \"2\"\n}\n</code></pre>\n\n<p>I was facing this issue </p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n                    Process: com.hsa.ffgp.hapdfgdfgoon, PID: 25879\n                    java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to\n  com.hsa.......</p>\n</blockquote>\n\n<p>Then I mapped data using <strong>LinkedTreeMap</strong> Key Value as below</p>\n\n<pre><code>...\n...\n\n    @Override\n    public View getView(final int i, View view, ViewGroup viewGroup) {\n        if(view==null)\n        {\n            view= LayoutInflater.from(c).inflate(R.layout.listview_manage_clients,viewGroup,false);\n        }\n\n        TextView mUserName = (TextView) view.findViewById(R.id.userName);\n        TextView mUserPhone = (TextView) view.findViewById(R.id.userPhone);\n\n\n        Object getrow = this.users.get(i);\n        LinkedTreeMap&lt;Object,Object&gt; t = (LinkedTreeMap) getrow;\n        String name = t.get(\"name\").toString();\n\n        mUserName.setText(\"Name is \"+name);\n        mUserPhone.setText(\"Phone is \"+phone);\n\n        return view;\n    }\n...\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11362435,"reputation":554,"user_id":8330249,"display_name":"Deepak Kataria"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547965910,"creation_date":1547965910,"answer_id":54274159,"question_id":32444863,"body_markdown":" In my case error occurred while fetching a list of objects from shared preferences.\r\n The error was solved by adding TypeToken as shown below:\r\n\r\n\r\n\r\n     public static &lt;GenericClass&gt; GenericClass getListOfObjectsFromSharedPref(Context context,String preferenceFileName, String preferenceKey ){\r\n\r\n        SharedPreferences sharedPreferences = \r\n        context.getSharedPreferences(preferenceFileName, 0);\r\n        Type type = new TypeToken&lt;ArrayList&lt;Classname.class&gt;&gt;() {}.getType();\r\n        String json = sharedPreferences.getString(preferenceKey, &quot;&quot;);\r\n        final Gson gson = new Gson();\r\n        return gson.fromJson(json, type);\r\n    }\r\n....","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>In my case error occurred while fetching a list of objects from shared preferences.\n The error was solved by adding TypeToken as shown below:</p>\n\n<pre><code> public static &lt;GenericClass&gt; GenericClass getListOfObjectsFromSharedPref(Context context,String preferenceFileName, String preferenceKey ){\n\n    SharedPreferences sharedPreferences = \n    context.getSharedPreferences(preferenceFileName, 0);\n    Type type = new TypeToken&lt;ArrayList&lt;Classname.class&gt;&gt;() {}.getType();\n    String json = sharedPreferences.getString(preferenceKey, \"\");\n    final Gson gson = new Gson();\n    return gson.fromJson(json, type);\n}\n</code></pre>\n\n<p>....</p>\n"},{"tags":[],"owner":{"account_id":1185980,"reputation":2864,"user_id":1159930,"accept_rate":50,"display_name":"Markymark"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1593474788,"creation_date":1593474788,"answer_id":62648322,"question_id":32444863,"body_markdown":"EngineSense&#39;s answer is correct.&lt;br /&gt;\r\nHowever, if you still want to use generics and don&#39;t want to pass in the concrete class type as a parameter here&#39;s an example of a workaround in Kotlin.\r\n&lt;br /&gt;*(Note that inline methods with reified type params cannot be called from Java)*.\r\n\r\n\r\nMay not be the most efficient way to get things done but it does work.\r\n\r\n---\r\n\r\nThe following is in `GsonUtil.kt`\r\n\r\n    inline fun &lt;reified T&gt; fromJson(json: String): T? {\r\n        return gson.fromJson(json, object : TypeToken&lt;T&gt;() {}.type)\r\n    }\r\n\r\n    fun &lt;T&gt; mapToObject(map: Map&lt;String, Any?&gt;?, type: Class&lt;T&gt;): T? {\r\n        if (map == null) return null\r\n\r\n        val json = gson.toJson(map)\r\n        return gson.fromJson(json, type)\r\n    }\r\n\r\n---\r\n\r\nMethod that retrieves a lightweight list of generic objects.\r\n\r\n    inline fun &lt;reified T: MyBaseClass&gt; getGenericList(): List&lt;T&gt; {\r\n        val json = ...\r\n\r\n        //Must use map here because the result is a list of LinkedTreeMaps\r\n        val list: ArrayList&lt;Map&lt;String, Any?&gt;&gt;? = GsonUtil.fromJson(json)\r\n        //handle type erasure\r\n        val result = list?.mapNotNull {\r\n            GsonUtil.mapToObject(it, T::class.java)\r\n        }\r\n\r\n        return  result ?: listOf()\r\n    }","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>EngineSense's answer is correct.<br />\nHowever, if you still want to use generics and don't want to pass in the concrete class type as a parameter here's an example of a workaround in Kotlin.\n<br /><em>(Note that inline methods with reified type params cannot be called from Java)</em>.</p>\n<p>May not be the most efficient way to get things done but it does work.</p>\n<hr />\n<p>The following is in <code>GsonUtil.kt</code></p>\n<pre><code>inline fun &lt;reified T&gt; fromJson(json: String): T? {\n    return gson.fromJson(json, object : TypeToken&lt;T&gt;() {}.type)\n}\n\nfun &lt;T&gt; mapToObject(map: Map&lt;String, Any?&gt;?, type: Class&lt;T&gt;): T? {\n    if (map == null) return null\n\n    val json = gson.toJson(map)\n    return gson.fromJson(json, type)\n}\n</code></pre>\n<hr />\n<p>Method that retrieves a lightweight list of generic objects.</p>\n<pre><code>inline fun &lt;reified T: MyBaseClass&gt; getGenericList(): List&lt;T&gt; {\n    val json = ...\n\n    //Must use map here because the result is a list of LinkedTreeMaps\n    val list: ArrayList&lt;Map&lt;String, Any?&gt;&gt;? = GsonUtil.fromJson(json)\n    //handle type erasure\n    val result = list?.mapNotNull {\n        GsonUtil.mapToObject(it, T::class.java)\n    }\n\n    return  result ?: listOf()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13309984,"reputation":89,"user_id":9608569,"display_name":"S.m. Kamal Hussain Shahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625805668,"creation_date":1595308519,"answer_id":63007833,"question_id":32444863,"body_markdown":"```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\nString json = new Gson().toJson(&quot;Your Value&quot;);\r\nArrayList&lt;YourClassName&gt; outputList = new Gson().fromJson(&quot;Receive Value&quot;, new TypeToken&lt;ArrayList&lt;YourClassName&gt;&gt;() {\r\n            }.getType());\r\n\r\nLog.d(&quot;TAG&quot;, outputList.get(0).getName);\r\n```","title":"google gson LinkedTreeMap class cast to myclass","body":"<pre><code>import com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\nString json = new Gson().toJson(&quot;Your Value&quot;);\nArrayList&lt;YourClassName&gt; outputList = new Gson().fromJson(&quot;Receive Value&quot;, new TypeToken&lt;ArrayList&lt;YourClassName&gt;&gt;() {\n            }.getType());\n\nLog.d(&quot;TAG&quot;, outputList.get(0).getName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12683786,"reputation":372,"user_id":9216437,"display_name":"Arun P M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677262381,"creation_date":1677262381,"answer_id":75560036,"question_id":32444863,"body_markdown":"For me, it was due to `minifyEnabled = true`, if you enabled it, please add the class you are trying to parse in the `progaurd-rules.pro` file.\r\n\r\n    -keep class your.pakage.YourClassName","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>For me, it was due to <code>minifyEnabled = true</code>, if you enabled it, please add the class you are trying to parse in the <code>progaurd-rules.pro</code> file.</p>\n<pre><code>-keep class your.pakage.YourClassName\n</code></pre>\n"}],"owner":{"account_id":2010820,"reputation":3386,"user_id":1799284,"accept_rate":40,"display_name":"EngineSense"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98719,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":32494079,"answer_count":6,"score":53,"last_activity_date":1677262381,"creation_date":1441653520,"question_id":32444863,"body_markdown":"I knew this question has been asked before. Due to my novice skill in java and android. I can&#39;t resolve this issue for more than a week. \r\n\r\nOne of my friend and i developing an android project were there are a couple of things like this. \r\n\r\nThe most weird part of this things is, it&#39;s happening only from when i download and test it from Google play store. Not from local android studio installation or debug mode. \r\n\r\nWhat could be the problem here, or this returning list which is totally wrong ?\r\nMy friend convincing that this code returns correctly but from play store installation it&#39;s always an error. \r\n\r\n\r\nPlease suggest me where should i keep digging?\r\n\r\n    @Override\r\n    public void promiseMethod(JSONObject object) {\r\n        if (object != null) {\r\n    \r\n            if (object.has(DO_SERVICES)) {\r\n                vehicleDetails = new ArrayList &lt; Object[] &gt; (1);\r\n                List &lt; String &gt; vehicleNoList = new ArrayList &lt; String &gt; (1);\r\n                List &lt; String &gt; serviceList = new ArrayList &lt; String &gt; (1);\r\n                try {\r\n                    Gson gson = new Gson();\r\n                    JSONObject jsonObj = new JSONObject(object.get(DO_SERVICES)\r\n                        .toString());\r\n                    servDto = gson.fromJson(jsonObj.toString(),\r\n                        ServiceDto.class);\r\n    \r\n    \r\n                    if (servDto.getServiceDto() instanceof List) {\r\n    \r\n                        List &lt; DoServiceDto &gt; doServiceList = servDto.getServiceDto();\r\n\r\n\r\nException is \r\n\r\n&gt; java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap           cannot be cast to com.gaurage.dto.DoServiceDto\r\n  at com.gaurage.user.User_Test_Main.promiseMethod(Unknown Source)\r\n","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>I knew this question has been asked before. Due to my novice skill in java and android. I can't resolve this issue for more than a week. </p>\n\n<p>One of my friend and i developing an android project were there are a couple of things like this. </p>\n\n<p>The most weird part of this things is, it's happening only from when i download and test it from Google play store. Not from local android studio installation or debug mode. </p>\n\n<p>What could be the problem here, or this returning list which is totally wrong ?\nMy friend convincing that this code returns correctly but from play store installation it's always an error. </p>\n\n<p>Please suggest me where should i keep digging?</p>\n\n<pre><code>@Override\npublic void promiseMethod(JSONObject object) {\n    if (object != null) {\n\n        if (object.has(DO_SERVICES)) {\n            vehicleDetails = new ArrayList &lt; Object[] &gt; (1);\n            List &lt; String &gt; vehicleNoList = new ArrayList &lt; String &gt; (1);\n            List &lt; String &gt; serviceList = new ArrayList &lt; String &gt; (1);\n            try {\n                Gson gson = new Gson();\n                JSONObject jsonObj = new JSONObject(object.get(DO_SERVICES)\n                    .toString());\n                servDto = gson.fromJson(jsonObj.toString(),\n                    ServiceDto.class);\n\n\n                if (servDto.getServiceDto() instanceof List) {\n\n                    List &lt; DoServiceDto &gt; doServiceList = servDto.getServiceDto();\n</code></pre>\n\n<p>Exception is </p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap           cannot be cast to com.gaurage.dto.DoServiceDto\n    at com.gaurage.user.User_Test_Main.promiseMethod(Unknown Source)</p>\n</blockquote>\n"},{"tags":["java","azure","azure-functions","azure-cosmosdb","azure-storage-account"],"comments":[{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1677215489,"post_id":75549922,"comment_id":133297868,"body_markdown":"You&#39;re not reading from `local.settings.json` in your code; you&#39;re passing the literal string &quot;AzureWebJobsStorage&quot; as your connection string. You need to read it from your settings file first.","body":"You&#39;re not reading from <code>local.settings.json</code> in your code; you&#39;re passing the literal string &quot;AzureWebJobsStorage&quot; as your connection string. You need to read it from your settings file first."},{"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"score":0,"creation_date":1677517105,"post_id":75549922,"comment_id":133349164,"body_markdown":"This did not work for me. I have put my connection in a different variable name and called System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) in order to receive the connection string and I still get the same error. (I also did sysout println System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) to ensure that the connection string is correct)","body":"This did not work for me. I have put my connection in a different variable name and called System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) in order to receive the connection string and I still get the same error. (I also did sysout println System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) to ensure that the connection string is correct)"}],"answers":[{"comments":[{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":1,"creation_date":1677273743,"post_id":75559974,"comment_id":133312251,"body_markdown":"This is precisely what I already stated in my comment, posted yesterday. Also, you gave a c# example, not Java. Note that the question should be closed (it was essentially a typo), which is why I did not post a formal answer.","body":"This is precisely what I already stated in my comment, posted yesterday. Also, you gave a c# example, not Java. Note that the question should be closed (it was essentially a typo), which is why I did not post a formal answer."},{"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"score":0,"creation_date":1677517115,"post_id":75559974,"comment_id":133349167,"body_markdown":"This did not work for me. I have put my connection in a different variable name and called System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) in order to receive the connection string and I still get the same error. (I also did sysout println System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) to ensure that the connection string is correct)","body":"This did not work for me. I have put my connection in a different variable name and called System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) in order to receive the connection string and I still get the same error. (I also did sysout println System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) to ensure that the connection string is correct)"}],"tags":[],"owner":{"account_id":16306358,"reputation":1,"user_id":11776248,"display_name":"No One"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677262003,"creation_date":1677261949,"answer_id":75559974,"question_id":75549922,"body_markdown":"you have to use Environment.GetEnvironmentVariable(&quot;app setting variable name&quot;).\r\nalso i would recommend to use a different storage account than the web job storage account","title":"Connecting to Azure Storage Queue","body":"<p>you have to use Environment.GetEnvironmentVariable(&quot;app setting variable name&quot;).\nalso i would recommend to use a different storage account than the web job storage account</p>\n"}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677262003,"creation_date":1677183557,"question_id":75549922,"body_markdown":"I have a program where I build an envelope based on an HTTP Request. My next step is to take this envelope and add it to the Storage Queue so that I can then add the payload from the envelope to a Cosmos DB. It seems as if I am unable to connect to my Storage Account.\r\n\r\nThis is my code that actually sends the envelope to the Storage account: \r\n\r\n```\r\nimport com.azure.storage.queue.QueueClientBuilder;\r\nimport com.azure.storage.queue.models.QueueStorageException;\r\nimport com.azure.storage.queue.QueueClient;\r\n\r\n\r\npublic class StorageQueueSend {\r\n    public static String send(CfLog envelope) {\r\n        try {\r\n            QueueClient queueClient = new QueueClientBuilder()                              \r\n               .connectionString(&quot;AzureWebJobsStorage&quot;)\r\n               .queueName(&quot;hyperscalerapistorage-queue&quot;)\r\n               .buildClient();\r\n            queueClient.sendMessage(envelope.toString());\r\n            return &quot;Envelope added to storage queue\\n&quot;;\r\n        } catch(QueueStorageException e) {\r\n            return e.getMessage();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nhyperscalerapistorage-queue is the name of my queue. My connection string is stored in my local.settings.json as &quot;AzureWebJobsStorage&quot;. And I have the proper connection string also stored in an Application Setting called &quot;AzureWebJobsStorage&quot; in my Function App. Here is the error message I am receiving:\r\n\r\n```none\r\n[2023-02-23T20:15:59.682Z] Microsoft.Azure.WebJobs.Host: Error indexing method &#39;Functions.create&#39;. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\r\n[2023-02-23T20:15:59.691Z] Error indexing method &#39;Functions.create&#39;\r\n[2023-02-23T20:15:59.696Z] Microsoft.Azure.WebJobs.Host: Error indexing method &#39;Functions.create&#39;. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\r\n[2023-02-23T20:15:59.708Z] Function &#39;Functions.create&#39; failed indexing and will be disabled.\r\n[2023-02-23T20:16:00.022Z] Listening for transport dt_socket at address: 5005\r\n[2023-02-23T20:16:00.077Z] The &#39;create&#39; function is in error: Microsoft.Azure.WebJobs.Host: Error indexing method &#39;Functions.create&#39;. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\r\n```\r\n\r\n","title":"Connecting to Azure Storage Queue","body":"<p>I have a program where I build an envelope based on an HTTP Request. My next step is to take this envelope and add it to the Storage Queue so that I can then add the payload from the envelope to a Cosmos DB. It seems as if I am unable to connect to my Storage Account.</p>\n<p>This is my code that actually sends the envelope to the Storage account:</p>\n<pre><code>import com.azure.storage.queue.QueueClientBuilder;\nimport com.azure.storage.queue.models.QueueStorageException;\nimport com.azure.storage.queue.QueueClient;\n\n\npublic class StorageQueueSend {\n    public static String send(CfLog envelope) {\n        try {\n            QueueClient queueClient = new QueueClientBuilder()                              \n               .connectionString(&quot;AzureWebJobsStorage&quot;)\n               .queueName(&quot;hyperscalerapistorage-queue&quot;)\n               .buildClient();\n            queueClient.sendMessage(envelope.toString());\n            return &quot;Envelope added to storage queue\\n&quot;;\n        } catch(QueueStorageException e) {\n            return e.getMessage();\n        }\n    }\n}\n</code></pre>\n<p>hyperscalerapistorage-queue is the name of my queue. My connection string is stored in my local.settings.json as &quot;AzureWebJobsStorage&quot;. And I have the proper connection string also stored in an Application Setting called &quot;AzureWebJobsStorage&quot; in my Function App. Here is the error message I am receiving:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2023-02-23T20:15:59.682Z] Microsoft.Azure.WebJobs.Host: Error indexing method 'Functions.create'. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\n[2023-02-23T20:15:59.691Z] Error indexing method 'Functions.create'\n[2023-02-23T20:15:59.696Z] Microsoft.Azure.WebJobs.Host: Error indexing method 'Functions.create'. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\n[2023-02-23T20:15:59.708Z] Function 'Functions.create' failed indexing and will be disabled.\n[2023-02-23T20:16:00.022Z] Listening for transport dt_socket at address: 5005\n[2023-02-23T20:16:00.077Z] The 'create' function is in error: Microsoft.Azure.WebJobs.Host: Error indexing method 'Functions.create'. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\n</code></pre>\n"},{"tags":["java","macos","intellij-idea","java-8"],"comments":[{"owner":{"account_id":2926388,"reputation":654,"user_id":2507589,"display_name":"kmorris"},"score":2,"creation_date":1380239634,"post_id":19039752,"comment_id":28138175,"body_markdown":"Why do you want to use JDK 6?  It has been EOL&#39;d, see http://www.oracle.com/technetwork/java/eol-135779.html.  If you don&#39;t want a beta version (JDK 8), you should move to JDK 7.","body":"Why do you want to use JDK 6?  It has been EOL&#39;d, see <a href=\"http://www.oracle.com/technetwork/java/eol-135779.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/eol-135779.html</a>.  If you don&#39;t want a beta version (JDK 8), you should move to JDK 7."},{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":1,"creation_date":1380239749,"post_id":19039752,"comment_id":28138203,"body_markdown":"JDK7 on Mac is still a mess. Have had a lot of issues with it. But I would take 7 at this point. (Though, in case you didn&#39;t know, JetBrains is still saying they don&#39;t support it on mac..!)","body":"JDK7 on Mac is still a mess. Have had a lot of issues with it. But I would take 7 at this point. (Though, in case you didn&#39;t know, JetBrains is still saying they don&#39;t support it on mac..!)"},{"owner":{"account_id":2926388,"reputation":654,"user_id":2507589,"display_name":"kmorris"},"score":0,"creation_date":1380241926,"post_id":19039752,"comment_id":28138679,"body_markdown":"I hadn&#39;t heard that JetBrains won&#39;t support it... and Oracle won&#39;t support JDK6 any more.  I did get jdk 7 to work, I&#39;ll post an answer.","body":"I hadn&#39;t heard that JetBrains won&#39;t support it... and Oracle won&#39;t support JDK6 any more.  I did get jdk 7 to work, I&#39;ll post an answer."},{"owner":{"account_id":230261,"reputation":791,"user_id":493759,"display_name":"Agoston Horvath"},"score":3,"creation_date":1411043525,"post_id":19039752,"comment_id":40560109,"body_markdown":"Also consider installing jdk as a homebrew cask - (un)installing/upgrading then is a simple brew command.","body":"Also consider installing jdk as a homebrew cask - (un)installing/upgrading then is a simple brew command."},{"owner":{"account_id":396097,"reputation":19603,"user_id":759452,"accept_rate":56,"display_name":"Adriano"},"score":2,"creation_date":1427027040,"post_id":19039752,"comment_id":46601787,"body_markdown":"Seems like using `Homebrew`&amp; `Jenv` to manage the installed `Java` version is the way to go. see http://hanxue-it.blogspot.ch/2014/05/installing-java-8-managing-multiple.html","body":"Seems like using <code>Homebrew</code>&amp; <code>Jenv</code> to manage the installed <code>Java</code> version is the way to go. see <a href=\"http://hanxue-it.blogspot.ch/2014/05/installing-java-8-managing-multiple.html\" rel=\"nofollow noreferrer\">hanxue-it.blogspot.ch/2014/05/&hellip;</a>"},{"owner":{"account_id":1286307,"reputation":631,"user_id":1239295,"accept_rate":67,"display_name":"Bruce Sun"},"score":1,"creation_date":1506753020,"post_id":19039752,"comment_id":79954762,"body_markdown":"I found it useful to reference homebrew-cask java formulas on how they uninstall jdk. [jdk9](https://github.com/caskroom/homebrew-cask/blob/master/Casks/java.rb) &amp; [jdk8](https://github.com/caskroom/homebrew-versions/blob/master/Casks/java8.rb).","body":"I found it useful to reference homebrew-cask java formulas on how they uninstall jdk. <a href=\"https://github.com/caskroom/homebrew-cask/blob/master/Casks/java.rb\" rel=\"nofollow noreferrer\">jdk9</a> &amp; <a href=\"https://github.com/caskroom/homebrew-versions/blob/master/Casks/java8.rb\" rel=\"nofollow noreferrer\">jdk8</a>."},{"owner":{"account_id":332615,"reputation":1042,"user_id":658019,"accept_rate":100,"display_name":"Sam"},"score":0,"creation_date":1560803737,"post_id":19039752,"comment_id":99848074,"body_markdown":"For anyone else discovering a similar issue, my jenkins installation kept using jdk 11 despite `java -version` saying it was using 8, despite jenkins configured to use jdk 8, and despite java_home pointing to jdk 8. I uninstalled all java and just installed 8... then it worked.","body":"For anyone else discovering a similar issue, my jenkins installation kept using jdk 11 despite <code>java -version</code> saying it was using 8, despite jenkins configured to use jdk 8, and despite java_home pointing to jdk 8. I uninstalled all java and just installed 8... then it worked."},{"owner":{"account_id":1403468,"reputation":534,"user_id":1331801,"display_name":"Pankaj Jangid"},"score":0,"creation_date":1602856468,"post_id":19039752,"comment_id":113860470,"body_markdown":"BTW you don&#39;t have to uninstall any JDK from macOS. You can set your JAVA_HOME environment variable like this `export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)`.","body":"BTW you don&#39;t have to uninstall any JDK from macOS. You can set your JAVA_HOME environment variable like this <code>export JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home -v 1.8)</code>."}],"answers":[{"comments":[{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":1,"creation_date":1380323564,"post_id":19060792,"comment_id":28173075,"body_markdown":"Edited original question to include a link to another SO question about getting IntelliJ to use JDK7 (on Mac).","body":"Edited original question to include a link to another SO question about getting IntelliJ to use JDK7 (on Mac)."},{"owner":{"account_id":95302,"reputation":3910,"user_id":1392690,"accept_rate":79,"display_name":"JohnMerlino"},"score":3,"creation_date":1400687492,"post_id":19060792,"comment_id":36585627,"body_markdown":"Managing Java version on Mac is an ABSOLUTE NIGHTMARE. I was able to install Oracle Java 8 and manage different Java versions on Ubuntu in under 5 minutes. I have spent several hours now trying to get Oracle Java 8 up and running on OSX.","body":"Managing Java version on Mac is an ABSOLUTE NIGHTMARE. I was able to install Oracle Java 8 and manage different Java versions on Ubuntu in under 5 minutes. I have spent several hours now trying to get Oracle Java 8 up and running on OSX."}],"tags":[],"owner":{"account_id":2926388,"reputation":654,"user_id":2507589,"display_name":"kmorris"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1380319367,"creation_date":1380319367,"answer_id":19060792,"question_id":19039752,"body_markdown":"Managing Java versions on Mac OSX is a nightmare.  I recently switched over to using JDK 1.7, deleting JDK 6 from my MacBook entirely (I also had traces of JDK 5 - this laptop has been updated a few times).\r\n\r\nHere&#39;s what I did to move to JDK 7.\r\n\r\n1) download the latest from Oracle (http://www.oracle.com/technetwork/java/javase/downloads/index.html) and install it.\r\n\r\n2) Remove (using rm - if you&#39;ve got backups, you can revert if you make a mistake) all the JDK6 and JRE6 files.\r\n\r\nAt this stage, you should see:\r\n\r\n    % ls /Library/Java/JavaVirtualMachines/\r\n    jdk1.7.0_nn.jdk\r\n\r\n (and nothing else)\r\n\r\n3) In the folder /Library/Java/Extensions/, you&#39;ll need to remove all the old jar files, the ones that correspond to other releases of Java.  If you don&#39;t, you&#39;ll get the infamous message about the wrong version of tools.jar (see https://stackoverflow.com/questions/17099379/builds-failing-after-upgrading-to-java7-missing-tools-jar-and-bad-class-version).  It is not enough to rename the jar files, because Java will open every jar in that folder - I moved mine into a sub-directory.  It&#39;s safe to remove them once you know everything else works.\r\n\r\nI haven&#39;t found I need to set JAVA_HOME for simple things.\r\n\r\n\r\n***Note***: I just tried running IntelliJ and it **will not** start unless you have Apple&#39;s JDK 6 installed (see http://youtrack.jetbrains.com/issue/IDEA-93710).  Same is true for Eclipse. Netbeans works fine.\r\n","title":"Removing Java 8 JDK from Mac","body":"<p>Managing Java versions on Mac OSX is a nightmare.  I recently switched over to using JDK 1.7, deleting JDK 6 from my MacBook entirely (I also had traces of JDK 5 - this laptop has been updated a few times).</p>\n\n<p>Here's what I did to move to JDK 7.</p>\n\n<p>1) download the latest from Oracle (<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>) and install it.</p>\n\n<p>2) Remove (using rm - if you've got backups, you can revert if you make a mistake) all the JDK6 and JRE6 files.</p>\n\n<p>At this stage, you should see:</p>\n\n<pre><code>% ls /Library/Java/JavaVirtualMachines/\njdk1.7.0_nn.jdk\n</code></pre>\n\n<p>(and nothing else)</p>\n\n<p>3) In the folder /Library/Java/Extensions/, you'll need to remove all the old jar files, the ones that correspond to other releases of Java.  If you don't, you'll get the infamous message about the wrong version of tools.jar (see <a href=\"https://stackoverflow.com/questions/17099379/builds-failing-after-upgrading-to-java7-missing-tools-jar-and-bad-class-version\">Builds failing after upgrading to Java7, Missing Tools.jar and bad class versions</a>).  It is not enough to rename the jar files, because Java will open every jar in that folder - I moved mine into a sub-directory.  It's safe to remove them once you know everything else works.</p>\n\n<p>I haven't found I need to set JAVA_HOME for simple things.</p>\n\n<p><strong><em>Note</em></strong>: I just tried running IntelliJ and it <strong>will not</strong> start unless you have Apple's JDK 6 installed (see <a href=\"http://youtrack.jetbrains.com/issue/IDEA-93710\" rel=\"noreferrer\">http://youtrack.jetbrains.com/issue/IDEA-93710</a>).  Same is true for Eclipse. Netbeans works fine.</p>\n"},{"comments":[{"owner":{"account_id":82370,"reputation":1477,"user_id":231645,"accept_rate":58,"display_name":"NBW"},"score":0,"creation_date":1395175344,"post_id":20524278,"comment_id":34215850,"body_markdown":"I think this will only work for your shell environment not the environment an app (like Intellij) gets when you double click its icon.","body":"I think this will only work for your shell environment not the environment an app (like Intellij) gets when you double click its icon."},{"owner":{"account_id":115287,"reputation":1567,"user_id":302789,"display_name":"Gr&#233;gory Joseph"},"score":0,"creation_date":1395225896,"post_id":20524278,"comment_id":34236801,"body_markdown":"@NBW AFAIK Java apps on OSX have their own Java Version set in their Info.plist file (or something along those lines, e.g what version range they support or something). The change to JAVA_HOME will only apply to the current terminal session, but I think /usr/libexec/java_home might impact other sessions/environments. (I can&#39;t easily verify it, cause I force java_use 1.7 in my ~/.profile)","body":"@NBW AFAIK Java apps on OSX have their own Java Version set in their Info.plist file (or something along those lines, e.g what version range they support or something). The change to JAVA_HOME will only apply to the current terminal session, but I think /usr/libexec/java_home might impact other sessions/environments. (I can&#39;t easily verify it, cause I force java_use 1.7 in my ~/.profile)"},{"owner":{"account_id":308224,"reputation":578,"user_id":619961,"display_name":"ikaerom"},"score":0,"creation_date":1444693377,"post_id":20524278,"comment_id":53999725,"body_markdown":"And if you also want to see if the JDK is 32bit or 64bit, something along the lines of `alias java_ls=&#39;/usr/libexec/java_home -V 2&gt;&amp;1 | sed &quot;/^ \\(.*\\) \\(.*\\),/!d;/^\\s*$/d;s/^ \\(.*\\) \\(.*\\), \\(.*\\):\\(.*\\)$/\\2 (\\3)/g&quot;&#39;` will do.","body":"And if you also want to see if the JDK is 32bit or 64bit, something along the lines of <code>alias java_ls=&#39;&#47;usr&#47;libexec&#47;java_home -V 2&gt;&amp;1 | sed &quot;&#47;^ \\(.*\\) \\(.*\\),&#47;!d;&#47;^\\s*$&#47;d;s&#47;^ \\(.*\\) \\(.*\\), \\(.*\\):\\(.*\\)$&#47;\\2 (\\3)&#47;g&quot;&#39;</code> will do."}],"tags":[],"owner":{"account_id":115287,"reputation":1567,"user_id":302789,"display_name":"Gr&#233;gory Joseph"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1559677282,"creation_date":1386778464,"answer_id":20524278,"question_id":19039752,"body_markdown":"Use `/usr/libexec/java_home` ; I found these alias and function to be pretty useful in my `~/.profile`:\r\n\r\n\r\n    alias java_ls=&#39;/usr/libexec/java_home -V 2&gt;&amp;1 | cut -s -d , -f 1 | cut -c 5-&#39;\r\n    function java_use() {\r\n        export JAVA_HOME=$(/usr/libexec/java_home -v $1)\r\n        java -version\r\n    }","title":"Removing Java 8 JDK from Mac","body":"<p>Use <code>/usr/libexec/java_home</code> ; I found these alias and function to be pretty useful in my <code>~/.profile</code>:</p>\n\n<pre><code>alias java_ls='/usr/libexec/java_home -V 2&gt;&amp;1 | cut -s -d , -f 1 | cut -c 5-'\nfunction java_use() {\n    export JAVA_HOME=$(/usr/libexec/java_home -v $1)\n    java -version\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":77302,"reputation":1939,"user_id":220738,"accept_rate":33,"display_name":"Drew"},"score":0,"creation_date":1397090972,"post_id":22920263,"comment_id":35086275,"body_markdown":"After deleting the jdk folder, an entry for Java still shows up in Launchpad -&gt; System Preferences","body":"After deleting the jdk folder, an entry for Java still shows up in Launchpad -&gt; System Preferences"},{"owner":{"account_id":1004376,"reputation":351,"user_id":1018510,"display_name":"Pradeep Chakravarti Gudipati"},"score":0,"creation_date":1469519464,"post_id":22920263,"comment_id":64556476,"body_markdown":"This worked for me too.... Thanks a ton, helped fix the Fixing Unsupported major.minor version 52.0 Error in Android Studio also.","body":"This worked for me too.... Thanks a ton, helped fix the Fixing Unsupported major.minor version 52.0 Error in Android Studio also."},{"owner":{"account_id":3467565,"reputation":1440,"user_id":2902740,"accept_rate":85,"display_name":"DaveRGP"},"score":0,"creation_date":1493214879,"post_id":22920263,"comment_id":74320704,"body_markdown":"@Drew from what I can undertand, the Java in prefernces is nothing to do with the JDK (preferences is the one that loads web pages on your machine for instance, JDK is about compilation of other programs using Java), so having it in preferences isn&#39;t actually a problem","body":"@Drew from what I can undertand, the Java in prefernces is nothing to do with the JDK (preferences is the one that loads web pages on your machine for instance, JDK is about compilation of other programs using Java), so having it in preferences isn&#39;t actually a problem"}],"tags":[],"owner":{"account_id":4291904,"reputation":59,"user_id":3508036,"display_name":"Danny Shi"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1396895360,"creation_date":1396895360,"answer_id":22920263,"question_id":19039752,"body_markdown":"If you have installed jdk8 on your Mac but now you want to remove it, just run below command &quot;sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk&quot;","title":"Removing Java 8 JDK from Mac","body":"<p>If you have installed jdk8 on your Mac but now you want to remove it, just run below command \"sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk\"</p>\n"},{"comments":[{"owner":{"account_id":2851261,"reputation":4784,"user_id":2448430,"accept_rate":87,"display_name":"geoidesic"},"score":2,"creation_date":1410991553,"post_id":23092014,"comment_id":40539555,"body_markdown":"Only problem is that now it won&#39;t let me install jdk7. I run the installer but the command line still says &quot;No Java runtime present, requesting install&quot;... it&#39;s lying though because it doesn&#39;t request the install.","body":"Only problem is that now it won&#39;t let me install jdk7. I run the installer but the command line still says &quot;No Java runtime present, requesting install&quot;... it&#39;s lying though because it doesn&#39;t request the install."},{"owner":{"account_id":1115019,"reputation":1399,"user_id":1104582,"display_name":"Alexey A."},"score":0,"creation_date":1413245714,"post_id":23092014,"comment_id":41362013,"body_markdown":"Marvellous! Works like a clock. I was able to downgrade from 8 to 7 applying this advice.","body":"Marvellous! Works like a clock. I was able to downgrade from 8 to 7 applying this advice."},{"owner":{"account_id":155180,"reputation":569,"user_id":371649,"accept_rate":19,"display_name":"Axwack"},"score":0,"creation_date":1416451970,"post_id":23092014,"comment_id":42583926,"body_markdown":"I was screwing around with having to figure out what was causing Google App Engine to use Java 8 and sure enough this was the reason. I have no idea how this happened but this is the correct answer.","body":"I was screwing around with having to figure out what was causing Google App Engine to use Java 8 and sure enough this was the reason. I have no idea how this happened but this is the correct answer."},{"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"score":0,"creation_date":1430258603,"post_id":23092014,"comment_id":47983786,"body_markdown":"This looks to be an effective solution for Yosemite (10.10.x) upgrades as well.","body":"This looks to be an effective solution for Yosemite (10.10.x) upgrades as well."},{"owner":{"account_id":1137318,"reputation":8962,"user_id":1150915,"display_name":"Aquarelle"},"score":4,"creation_date":1430800606,"post_id":23092014,"comment_id":48204074,"body_markdown":"This is really bad because you&#39;re also deleting the preference pane in System Preferences.  Just run the first command and leave the others out.","body":"This is really bad because you&#39;re also deleting the preference pane in System Preferences.  Just run the first command and leave the others out."},{"owner":{"account_id":3206501,"reputation":1638,"user_id":2707485,"accept_rate":75,"display_name":"Ashokchakravarthi Nagarajan"},"score":1,"creation_date":1433592778,"post_id":23092014,"comment_id":49425611,"body_markdown":"Also, after this steps, MAC automatically takes alternative java as default if already installed.","body":"Also, after this steps, MAC automatically takes alternative java as default if already installed."},{"owner":{"account_id":25864,"reputation":23877,"user_id":66851,"accept_rate":91,"display_name":"mikl"},"score":13,"creation_date":1444424626,"post_id":23092014,"comment_id":53915144,"body_markdown":"Just to be clear, this is to uninstall all Java stuff. If you for some reason want to keep a different version of Java around, don&#39;t remove anything but the JDK itself (first command).","body":"Just to be clear, this is to uninstall all Java stuff. If you for some reason want to keep a different version of Java around, don&#39;t remove anything but the JDK itself (first command)."},{"owner":{"account_id":3497823,"reputation":1349,"user_id":2925434,"accept_rate":83,"display_name":"awwsmm"},"score":1,"creation_date":1516218256,"post_id":23092014,"comment_id":83603093,"body_markdown":"Most &quot;remove Java&quot; guides only remove Java plugins. Thank you for providing a complete answer which actually removes the JDK. I should note that the reason I needed to do this was because Scala 2.11.8 is incompatible with Java 9 and crashes when you try to run it in the terminal. I searched for a while to try to find this.","body":"Most &quot;remove Java&quot; guides only remove Java plugins. Thank you for providing a complete answer which actually removes the JDK. I should note that the reason I needed to do this was because Scala 2.11.8 is incompatible with Java 9 and crashes when you try to run it in the terminal. I searched for a while to try to find this."},{"owner":{"account_id":18119,"reputation":26332,"user_id":41211,"accept_rate":82,"display_name":"GONeale"},"score":0,"creation_date":1529293169,"post_id":23092014,"comment_id":88804628,"body_markdown":"and this command to list the versions `ls /Library/Java/JavaVirtualMachines/`","body":"and this command to list the versions <code>ls &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;</code>"},{"owner":{"account_id":1333388,"reputation":418,"user_id":3746632,"display_name":"ldmtwo"},"score":1,"creation_date":1556228997,"post_id":23092014,"comment_id":98377392,"body_markdown":"This was a great hint to the steps I needed to take. One note: the first command should be more broad to cover JDK like &quot;openjdk-12.0.1.jdk&quot; i.e. `sudo rm -rf /Library/Java/JavaVirtualMachines/*jdk*.jdk` to cleanse all JDK.","body":"This was a great hint to the steps I needed to take. One note: the first command should be more broad to cover JDK like &quot;openjdk-12.0.1.jdk&quot; i.e. <code>sudo rm -rf &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;*jdk*.jdk</code> to cleanse all JDK."},{"owner":{"account_id":2401943,"reputation":940,"user_id":2099437,"display_name":"michael_vons"},"score":0,"creation_date":1674311834,"post_id":23092014,"comment_id":132689907,"body_markdown":"Best way to get the JDK filename is to first query for it using `/usr/libexec/java_home -V`","body":"Best way to get the JDK filename is to first query for it using <code>&#47;usr&#47;libexec&#47;java_home -V</code>"}],"tags":[],"owner":{"account_id":4332144,"reputation":7960,"user_id":3540745,"display_name":"Samuel Alpoim"},"comment_count":11,"down_vote_count":4,"up_vote_count":795,"is_accepted":true,"score":791,"last_activity_date":1510243534,"creation_date":1397587904,"answer_id":23092014,"question_id":19039752,"body_markdown":"I was able to unistall jdk 8 in mavericks successfully doing the following steps:\r\n\r\n**Run this command to just remove the JDK**\r\n\r\n    sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk\r\n\r\n**Run these commands if you want to remove plugins**\r\n\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\n    sudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\r\n    sudo rm -rf /Library/PrivilegedHelperTools/com.oracle.java.JavaUpdateHelper\r\n    sudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\r\n    sudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist","title":"Removing Java 8 JDK from Mac","body":"<p>I was able to unistall jdk 8 in mavericks successfully doing the following steps:</p>\n\n<p><strong>Run this command to just remove the JDK</strong></p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk\n</code></pre>\n\n<p><strong>Run these commands if you want to remove plugins</strong></p>\n\n<pre><code>sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\nsudo rm -rf /Library/PrivilegedHelperTools/com.oracle.java.JavaUpdateHelper\nsudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\nsudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\n</code></pre>\n"},{"comments":[{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":0,"creation_date":1399214876,"post_id":23172845,"comment_id":35959838,"body_markdown":"Just did this again, this did not work. Ended up with &#39;you have a newer version (and its dead link).&#39;","body":"Just did this again, this did not work. Ended up with &#39;you have a newer version (and its dead link).&#39;"},{"owner":{"account_id":2667036,"reputation":3989,"user_id":2305243,"accept_rate":100,"display_name":"Alan Dong"},"score":3,"creation_date":1410309802,"post_id":23172845,"comment_id":40274628,"body_markdown":"This links said: \n`cd &#39;/Library/Java/JavaVirtualMachines/&#39;`, then \n`sudo rm -rf YOURVERSION.jdk`, i.e. `rm -rf jdk1.8.0_06.jdk`","body":"This links said:  <code>cd &#39;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;&#39;</code>, then  <code>sudo rm -rf YOURVERSION.jdk</code>, i.e. <code>rm -rf jdk1.8.0_06.jdk</code>"}],"tags":[],"owner":{"account_id":144389,"reputation":2265,"user_id":353405,"display_name":"Lonre Wang"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1397926548,"creation_date":1397926548,"answer_id":23172845,"question_id":19039752,"body_markdown":"Here is the official document about uninstalling the JDK.\r\n\r\nhttp://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903","title":"Removing Java 8 JDK from Mac","body":"<p>Here is the official document about uninstalling the JDK.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903</a></p>\n"},{"tags":[],"owner":{"account_id":2784121,"reputation":11,"user_id":2395976,"display_name":"Neal Rauhauser"},"comment_count":0,"down_vote_count":12,"up_vote_count":0,"is_accepted":false,"score":-12,"last_activity_date":1432743974,"creation_date":1406915582,"answer_id":25085946,"question_id":19039752,"body_markdown":"This worked perfectly for me:\r\n\r\n    sudo rm -rf /Library/Java/JavaVirtualMachines\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin","title":"Removing Java 8 JDK from Mac","body":"<p>This worked perfectly for me:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2899362,"reputation":841,"user_id":2486453,"display_name":"Chris Mukherjee"},"score":5,"creation_date":1411752708,"post_id":25538941,"comment_id":40837149,"body_markdown":"This does not add anything. The accepted answer already said this and more","body":"This does not add anything. The accepted answer already said this and more"}],"tags":[],"owner":{"display_name":"user3185652"},"comment_count":1,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1411754632,"creation_date":1409185456,"answer_id":25538941,"question_id":19039752,"body_markdown":"If you uninstall all the files but it still fails, use this line:\r\n\r\n    sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk","title":"Removing Java 8 JDK from Mac","body":"<p>If you uninstall all the files but it still fails, use this line:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7007599,"reputation":5591,"user_id":5371505,"accept_rate":48,"display_name":"PirateApp"},"score":2,"creation_date":1448248620,"post_id":30412014,"comment_id":55490745,"body_markdown":"this one worked for me on OSX El Capitan , thanks :)","body":"this one worked for me on OSX El Capitan , thanks :)"},{"owner":{"account_id":2376243,"reputation":1090,"user_id":2079513,"accept_rate":86,"display_name":"Andres"},"score":39,"creation_date":1509571672,"post_id":30412014,"comment_id":81076066,"body_markdown":"By doing it this way you are removing ALL java jdk&#39;s, not only 8. Careful.","body":"By doing it this way you are removing ALL java jdk&#39;s, not only 8. Careful."}],"tags":[],"owner":{"account_id":6353663,"reputation":1291,"user_id":4931783,"display_name":"Jonny T S"},"comment_count":2,"down_vote_count":5,"up_vote_count":130,"is_accepted":false,"score":125,"last_activity_date":1587451278,"creation_date":1432379698,"answer_id":30412014,"question_id":19039752,"body_markdown":"You just need to use these commands\r\n\r\n    sudo rm -rf /Library/Java/*\r\n    sudo rm -rf /Library/PreferencePanes/Java*\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/Java*\r\n\r\n","title":"Removing Java 8 JDK from Mac","body":"<p>You just need to use these commands</p>\n\n<pre><code>sudo rm -rf /Library/Java/*\nsudo rm -rf /Library/PreferencePanes/Java*\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5789701,"reputation":408,"user_id":4567666,"accept_rate":50,"display_name":"Nazariy"},"score":3,"creation_date":1468951353,"post_id":33908738,"comment_id":64334947,"body_markdown":"no permissions for removing this file  &quot;/System/Library/Frameworks/JavaVM.framework&quot;","body":"no permissions for removing this file  &quot;/System/Library/Frameworks/JavaVM.framework&quot;"},{"owner":{"account_id":316828,"reputation":130866,"user_id":633183,"accept_rate":66,"display_name":"Mulan"},"score":2,"creation_date":1468951547,"post_id":33908738,"comment_id":64335076,"body_markdown":"@Nazariy some of these might not require `sudo` but I just used it anyway. Long story short: never install Java again.","body":"@Nazariy some of these might not require <code>sudo</code> but I just used it anyway. Long story short: never install Java again."},{"owner":{"account_id":5789701,"reputation":408,"user_id":4567666,"accept_rate":50,"display_name":"Nazariy"},"score":0,"creation_date":1468954872,"post_id":33908738,"comment_id":64337044,"body_markdown":"But - how that is even possible? I&#39;m f****g root. Java doesn&#39;t give me permissions to manage my mac?","body":"But - how that is even possible? I&#39;m f****g root. Java doesn&#39;t give me permissions to manage my mac?"},{"owner":{"account_id":3145330,"reputation":1359,"user_id":2659915,"accept_rate":50,"display_name":"Deoxyseia"},"score":0,"creation_date":1469733908,"post_id":33908738,"comment_id":64673104,"body_markdown":"If the message is &quot;Operation not permitted&quot; try with http://stackoverflow.com/a/33008373/2659915","body":"If the message is &quot;Operation not permitted&quot; try with <a href=\"http://stackoverflow.com/a/33008373/2659915\">stackoverflow.com/a/33008373/2659915</a>"},{"owner":{"account_id":178706,"reputation":21668,"user_id":410867,"accept_rate":80,"display_name":"Cameron Lowell Palmer"},"score":1,"creation_date":1473094065,"post_id":33908738,"comment_id":66000962,"body_markdown":"@Nazariy System Integrity Protection","body":"@Nazariy System Integrity Protection"},{"owner":{"account_id":6865822,"reputation":1795,"user_id":5649312,"display_name":"Kutsan Kaplan"},"score":1,"creation_date":1482191181,"post_id":33908738,"comment_id":69665197,"body_markdown":"AFAIK it is default JDK installed by Apple. You don&#39;t need to delete this.","body":"AFAIK it is default JDK installed by Apple. You don&#39;t need to delete this."},{"owner":{"account_id":2376243,"reputation":1090,"user_id":2079513,"accept_rate":86,"display_name":"Andres"},"score":2,"creation_date":1509571564,"post_id":33908738,"comment_id":81076011,"body_markdown":"Please review your file list. Files in /usr/bin are part of the base system. See https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html","body":"Please review your file list. Files in /usr/bin are part of the base system. See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/install/&hellip;</a>"},{"owner":{"account_id":84602,"reputation":469,"user_id":236378,"accept_rate":80,"display_name":"Shchvova"},"score":3,"creation_date":1607208073,"post_id":33908738,"comment_id":115201467,"body_markdown":"This is harmful. Do NOT delete `/System/Library/Frameworks/JavaVM.framework` it is a part of macOS and not related to Oracle&#39;s java","body":"This is harmful. Do NOT delete <code>&#47;System&#47;Library&#47;Frameworks&#47;JavaVM.framework</code> it is a part of macOS and not related to Oracle&#39;s java"}],"tags":[],"owner":{"account_id":316828,"reputation":130866,"user_id":633183,"accept_rate":66,"display_name":"Mulan"},"comment_count":8,"down_vote_count":6,"up_vote_count":17,"is_accepted":false,"score":11,"last_activity_date":1601427936,"creation_date":1448427422,"answer_id":33908738,"question_id":19039752,"body_markdown":"I nuked everything Java, JDK, and oracle. I was running Java 8 on OSX El Capitan\r\n\r\nOther answers were missing tons of stuff. This answer covers a lot more bases.\r\n\r\nGood bye, shovelware.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\n    sudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\r\n    sudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\r\n    sudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\r\n    sudo rm -rf /System/Library/Frameworks/JavaVM.framework\r\n    sudo rm -rf /var/db/receipts/com.oracle.jdk8u65.bom\r\n    sudo rm -rf /var/db/receipts/com.oracle.jdk8u65.plist\r\n    sudo rm -rf /var/db/receipts/com.oracle.jre.bom\r\n    sudo rm -rf /var/db/receipts/com.oracle.jre.plist\r\n    sudo rm -rf /var/root/Library/Preferences/com.oracle.javadeployment.plist\r\n    sudo rm -rf ~/Library/Preferences/com.oracle.java.JavaAppletPlugin.plist\r\n    sudo rm -rf ~/Library/Preferences/com.oracle.javadeployment.plist\r\n    sudo rm -rf ~/.oracle_jre_usage\r\n\r\n","title":"Removing Java 8 JDK from Mac","body":"<p>I nuked everything Java, JDK, and oracle. I was running Java 8 on OSX El Capitan</p>\n<p>Other answers were missing tons of stuff. This answer covers a lot more bases.</p>\n<p>Good bye, shovelware.</p>\n<pre class=\"lang-none prettyprint-override\"><code>sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\nsudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\nsudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\nsudo rm -rf /System/Library/Frameworks/JavaVM.framework\nsudo rm -rf /var/db/receipts/com.oracle.jdk8u65.bom\nsudo rm -rf /var/db/receipts/com.oracle.jdk8u65.plist\nsudo rm -rf /var/db/receipts/com.oracle.jre.bom\nsudo rm -rf /var/db/receipts/com.oracle.jre.plist\nsudo rm -rf /var/root/Library/Preferences/com.oracle.javadeployment.plist\nsudo rm -rf ~/Library/Preferences/com.oracle.java.JavaAppletPlugin.plist\nsudo rm -rf ~/Library/Preferences/com.oracle.javadeployment.plist\nsudo rm -rf ~/.oracle_jre_usage\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5408299,"reputation":1815,"user_id":4306033,"display_name":"Karthik damodara"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1510570177,"creation_date":1510570177,"answer_id":47262562,"question_id":19039752,"body_markdown":"To uninstall java of any version on mac just do: \r\n\r\n    sudo rm -fr /Library/Java/JavaVirtualMachines/jdk-YOUR_ACCURATE_VERSION.jdk/ \r\n    sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin \r\n    sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane","title":"Removing Java 8 JDK from Mac","body":"<p>To uninstall java of any version on mac just do: </p>\n\n<pre><code>sudo rm -fr /Library/Java/JavaVirtualMachines/jdk-YOUR_ACCURATE_VERSION.jdk/ \nsudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin \nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3692369,"reputation":9939,"user_id":3960700,"accept_rate":81,"display_name":"Stephen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551771299,"creation_date":1551771299,"answer_id":54997584,"question_id":19039752,"body_markdown":"Two ways you can do that:\r\n\r\n1. Removing JDK directly from Users-&gt; Library -&gt; Java -&gt; VirtualMachines -&gt; then delete the jdk folder directly to uninstall the java.\r\n\r\n2. By following the command: (uninstall java 1.8 version )\r\n \r\nmake sure you are in home directory by using below command, before you write the command:\r\n\r\n`cd ~/`\r\n    \r\n    sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.jdk\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\n    sudo rm -rf /Library/Application\\ Support/Oracle/Java","title":"Removing Java 8 JDK from Mac","body":"<p>Two ways you can do that:</p>\n\n<ol>\n<li><p>Removing JDK directly from Users-> Library -> Java -> VirtualMachines -> then delete the jdk folder directly to uninstall the java.</p></li>\n<li><p>By following the command: (uninstall java 1.8 version )</p></li>\n</ol>\n\n<p>make sure you are in home directory by using below command, before you write the command:</p>\n\n<p><code>cd ~/</code></p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.jdk\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/Application\\ Support/Oracle/Java\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"score":0,"creation_date":1574934692,"post_id":59085852,"comment_id":104407560,"body_markdown":"JDK 102 MB .PKG intsalled","body":"JDK 102 MB .PKG intsalled"}],"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576683794,"creation_date":1574934308,"answer_id":59085852,"question_id":19039752,"body_markdown":"**in Mac** Remove Java Version using this 3 Commands\r\n\r\n\r\njava -version\r\n\r\nsudo rm -rf /Library/Java/*\r\n\r\nsudo rm -rf /Library/PreferencePanes/Java*\r\n\r\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*\r\n\r\nRun \r\n\r\njava -version\r\n\r\n//See java was successfully uninstalled. \r\n\r\n\r\njava -version\r\nsudo rm -rf /Library/Java/*\r\nsudo rm -rf /Library/PreferencePanes/Java*\r\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*\r\n\r\nRun \r\njava -version\r\n\r\n[Install Java 8 Link][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://adoptopenjdk.net/releases.html\r\n  [2]: https://i.stack.imgur.com/Sp2Dq.png\r\n\r\n\r\nDownload Package and click next next next ","title":"Removing Java 8 JDK from Mac","body":"<p><strong>in Mac</strong> Remove Java Version using this 3 Commands</p>\n\n<p>java -version</p>\n\n<p>sudo rm -rf /Library/Java/*</p>\n\n<p>sudo rm -rf /Library/PreferencePanes/Java*</p>\n\n<p>sudo rm -rf /Library/Internet\\ Plug-Ins/Java*</p>\n\n<p>Run </p>\n\n<p>java -version</p>\n\n<p>//See java was successfully uninstalled. </p>\n\n<p>java -version\nsudo rm -rf /Library/Java/*\nsudo rm -rf /Library/PreferencePanes/Java*\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*</p>\n\n<p>Run \njava -version</p>\n\n<p><a href=\"https://adoptopenjdk.net/releases.html\" rel=\"nofollow noreferrer\">Install Java 8 Link</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Sp2Dq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sp2Dq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Download Package and click next next next </p>\n"},{"comments":[{"owner":{"account_id":5129591,"reputation":141,"user_id":4110287,"display_name":"D4NT3"},"score":1,"creation_date":1656068226,"post_id":71891360,"comment_id":128487079,"body_markdown":"I tried this, and restarted, but this still leaves the java binaries in /usr/bin which is also in $PATH usually","body":"I tried this, and restarted, but this still leaves the java binaries in /usr/bin which is also in $PATH usually"}],"tags":[],"owner":{"account_id":4254889,"reputation":3902,"user_id":3568919,"accept_rate":50,"display_name":"Nasif Md. Tanjim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650086946,"creation_date":1650086946,"answer_id":71891360,"question_id":19039752,"body_markdown":"Official recommendation\r\n\r\nhttps://www.java.com/en/download/help/mac_uninstall_java.html\r\n\r\n```bash\r\nsudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\r\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java\r\n```","title":"Removing Java 8 JDK from Mac","body":"<p>Official recommendation</p>\n<p><a href=\"https://www.java.com/en/download/help/mac_uninstall_java.html\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/help/mac_uninstall_java.html</a></p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6404691,"reputation":1890,"user_id":7760910,"accept_rate":73,"display_name":"whatsinthename"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677262003,"creation_date":1677262003,"answer_id":75559985,"question_id":19039752,"body_markdown":"You can just locate the `Java` versions inside the `/Library/Java` on *MacOS* and delete the version folder you want to delete and keep the one you need. It works fine. No problem at all.","title":"Removing Java 8 JDK from Mac","body":"<p>You can just locate the <code>Java</code> versions inside the <code>/Library/Java</code> on <em>MacOS</em> and delete the version folder you want to delete and keep the one you need. It works fine. No problem at all.</p>\n"}],"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437195,"favorite_count":0,"down_vote_count":2,"up_vote_count":306,"accepted_answer_id":23092014,"answer_count":14,"score":304,"last_activity_date":1677262003,"creation_date":1380234412,"question_id":19039752,"body_markdown":"So I installed the beta of JDK 8 a while ago to look at some of the examples. I thought for sure by now, it&#39;s easy to change between versions. \r\n\r\nDoing some Play development with IntelliJ. For some reason, IntelliJ is compiling with 8 even though:\r\n\r\n* I have the compiler set in Preferences to use 1.6\r\n* Supposedly it&#39;s using SBT through external build, but sbt from the command line works\r\n* JAVA_HOME is pointing to JDK 6.\r\n\r\nIf I go to the Java Preferences page, it does show 8 installed, but there is no option to uninstall it and it doesn&#39;t see any of the other versions.\r\n\r\nWhen I do `which java`, it tells me `/usr/bin/java` and I do `/usr/bin/java -version` and it returns 1.6.\r\n\r\nNote: with a  little fiddling, you can use IntelliJ and JDK7, see [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7","title":"Removing Java 8 JDK from Mac","body":"<p>So I installed the beta of JDK 8 a while ago to look at some of the examples. I thought for sure by now, it's easy to change between versions. </p>\n\n<p>Doing some Play development with IntelliJ. For some reason, IntelliJ is compiling with 8 even though:</p>\n\n<ul>\n<li>I have the compiler set in Preferences to use 1.6</li>\n<li>Supposedly it's using SBT through external build, but sbt from the command line works</li>\n<li>JAVA_HOME is pointing to JDK 6.</li>\n</ul>\n\n<p>If I go to the Java Preferences page, it does show 8 installed, but there is no option to uninstall it and it doesn't see any of the other versions.</p>\n\n<p>When I do <code>which java</code>, it tells me <code>/usr/bin/java</code> and I do <code>/usr/bin/java -version</code> and it returns 1.6.</p>\n\n<p>Note: with a  little fiddling, you can use IntelliJ and JDK7, see <a href=\"https://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7\">here</a>.</p>\n"},{"tags":["java","maven","maven-3"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677097643,"post_id":75537601,"comment_id":133272639,"body_markdown":"Does the dependency have the `&lt;classifier&gt;tests&lt;/classifier&gt;` specified? Looks quite useless to configure the `compile` scope as this is the default value, when you want to ignore it with the tests, you rather should add it to the `test` scope","body":"Does the dependency have the <code>&lt;classifier&gt;tests&lt;&#47;classifier&gt;</code> specified? Looks quite useless to configure the <code>compile</code> scope as this is the default value, when you want to ignore it with the tests, you rather should add it to the <code>test</code> scope"},{"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"score":0,"creation_date":1677099881,"post_id":75537601,"comment_id":133273332,"body_markdown":"@cyberbrain nope, no `&lt;classifier&gt;` tags. I was just trying out some auto-complete options just in case.\n\nAny other ideas to try?","body":"@cyberbrain nope, no <code>&lt;classifier&gt;</code> tags. I was just trying out some auto-complete options just in case.  Any other ideas to try?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677105331,"post_id":75537601,"comment_id":133274564,"body_markdown":"Is the `tests:1.3-SNAPSHOT` defined by one of your own builds? Does that exist in your repository manager ? Might it be deleted in the meantime (many repo manager have cleanup strategies for SNAPSHOT&#39;s in place)... ? can show the full pom file? Alos the logging output...","body":"Is the <code>tests:1.3-SNAPSHOT</code> defined by one of your own builds? Does that exist in your repository manager ? Might it be deleted in the meantime (many repo manager have cleanup strategies for SNAPSHOT&#39;s in place)... ? can show the full pom file? Alos the logging output..."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677653886,"post_id":75537601,"comment_id":133378315,"body_markdown":"what value has `${f2.version}` ? you can find out with `mvn help:effective-pom` what the effective version of this dependency is - Is there a possibility that the version is defined as something different than  &quot;1.3-SNAPSHOT&quot;?","body":"what value has <code>${f2.version}</code> ? you can find out with <code>mvn help:effective-pom</code> what the effective version of this dependency is - Is there a possibility that the version is defined as something different than  &quot;1.3-SNAPSHOT&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"score":0,"creation_date":1677261392,"post_id":75543565,"comment_id":133309422,"body_markdown":"I&#39;ve updated to include the dependency entry. I _don&#39;t_ want the `test` jar include, that&#39;s the problem. And I have tried that `&lt;optional&gt;` element, and that didn&#39;t make any difference.","body":"I&#39;ve updated to include the dependency entry. I <i>don&#39;t</i> want the <code>test</code> jar include, that&#39;s the problem. And I have tried that <code>&lt;optional&gt;</code> element, and that didn&#39;t make any difference."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677429809,"post_id":75543565,"comment_id":133331945,"body_markdown":"So previously the error was shown although you didn&#39;t have this dependency declared in your pom.xml? Did you check if it is a transitive dependency? To check it, you could read https://stackoverflow.com/a/6110881/2846138","body":"So previously the error was shown although you didn&#39;t have this dependency declared in your pom.xml? Did you check if it is a transitive dependency? To check it, you could read <a href=\"https://stackoverflow.com/a/6110881/2846138\">stackoverflow.com/a/6110881/2846138</a>"},{"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"score":0,"creation_date":1677612289,"post_id":75543565,"comment_id":133371500,"body_markdown":"The &quot;-test&quot; wasn&#39;t included, the `biz-lib` dependency was.","body":"The &quot;-test&quot; wasn&#39;t included, the <code>biz-lib</code> dependency was."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677148314,"creation_date":1677148314,"answer_id":75543565,"question_id":75537601,"body_markdown":"The filename *biz-lib-1.3-SNAPSHOT-tests.jar* can be referenced in two ways as dependency (see the last part of the section [But where do I set Artifact extension?](https://maven.apache.org/repositories/artifacts.html#but-where-do-i-set-artifact-extension) as explanation):\r\n\r\n``` lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\r\n  &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\r\n  &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\r\n  &lt;classifier&gt;tests&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```\r\nor\r\n``` lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\r\n  &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\r\n  &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\r\n  &lt;type&gt;test-jar&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTo exclude it, you have either to get rid of that dependency, or add `&lt;scope&gt;test&lt;/scope&gt;` to it (that it should have anyways, because tests shouldn&#39;t go into a production build), so it is ignored when you skip the tests.\r\nIf that doesn&#39;t help, you can also make it an optional dependency with the addition of `&lt;optional&gt;true&lt;/optional&gt;` to the dependency.","title":"Existing maven config is now saying can&#39;t find a tests artifact (separate module) when building WAR, and I can&#39;t get maven to not check/ignore this","body":"<p>The filename <em>biz-lib-1.3-SNAPSHOT-tests.jar</em> can be referenced in two ways as dependency (see the last part of the section <a href=\"https://maven.apache.org/repositories/artifacts.html#but-where-do-i-set-artifact-extension\" rel=\"nofollow noreferrer\">But where do I set Artifact extension?</a> as explanation):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\n  &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\n  &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\n  &lt;classifier&gt;tests&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\n  &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\n  &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\n  &lt;type&gt;test-jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To exclude it, you have either to get rid of that dependency, or add <code>&lt;scope&gt;test&lt;/scope&gt;</code> to it (that it should have anyways, because tests shouldn't go into a production build), so it is ignored when you skip the tests.\nIf that doesn't help, you can also make it an optional dependency with the addition of <code>&lt;optional&gt;true&lt;/optional&gt;</code> to the dependency.</p>\n"}],"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677261311,"creation_date":1677095924,"question_id":75537601,"body_markdown":"To start, this is a very old code base, currently being compiled/run under Java8. I&#39;m trying to get it compiled/run under OpenJDK 17. So far getting many of the modules to compile, but I&#39;m getting stuck on one of them, which depends on another, asking for the &quot;tests&quot; jar.\r\n\r\nThe error is `Could not find artifact com.findology.f2:biz-lib:jar:tests:1.3-SNAPSHOT`\r\n\r\nIn the local `~/.m2/repository` repository, I do see `biz-lib-1.3-SNAPSHOT-tests.jar` file, so really not sure why it&#39;s not finding it. \r\n\r\nI&#39;m building the module WAR module with `mvn clean install -Dmaven.test.skip=true -DfailIfNoTests=false`, but despite that it still keeps giving me that error. \r\n\r\nI&#39;ve tried adding the following to the dependency, but hasn&#39;t made a difference\r\n```\r\n&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;type&gt;jar&lt;/type&gt;\r\n```\r\n\r\nI&#39;m using Maven v3.8.5, OpenJDK v17.0.5 on KDE Neon (Ubuntu 22.04 based\r\n\r\nEDIT: My dependency entry looks like \r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\r\n   &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\r\n   &lt;version&gt;${f2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Existing maven config is now saying can&#39;t find a tests artifact (separate module) when building WAR, and I can&#39;t get maven to not check/ignore this","body":"<p>To start, this is a very old code base, currently being compiled/run under Java8. I'm trying to get it compiled/run under OpenJDK 17. So far getting many of the modules to compile, but I'm getting stuck on one of them, which depends on another, asking for the &quot;tests&quot; jar.</p>\n<p>The error is <code>Could not find artifact com.findology.f2:biz-lib:jar:tests:1.3-SNAPSHOT</code></p>\n<p>In the local <code>~/.m2/repository</code> repository, I do see <code>biz-lib-1.3-SNAPSHOT-tests.jar</code> file, so really not sure why it's not finding it.</p>\n<p>I'm building the module WAR module with <code>mvn clean install -Dmaven.test.skip=true -DfailIfNoTests=false</code>, but despite that it still keeps giving me that error.</p>\n<p>I've tried adding the following to the dependency, but hasn't made a difference</p>\n<pre><code>&lt;scope&gt;compile&lt;/scope&gt;\n&lt;type&gt;jar&lt;/type&gt;\n</code></pre>\n<p>I'm using Maven v3.8.5, OpenJDK v17.0.5 on KDE Neon (Ubuntu 22.04 based</p>\n<p>EDIT: My dependency entry looks like</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\n   &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\n   &lt;version&gt;${f2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","maven","h2"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677260435,"creation_date":1677260435,"answer_id":75559751,"question_id":75559245,"body_markdown":"Your url says to make it in the current location:  `./database`\r\n\r\nThat location seems to be the project base.\r\n\r\nYou don&#39;t say how you are starting it, so there is little more that can be said.","title":"H2 database generated in wrong directory when generated with maven","body":"<p>Your url says to make it in the current location:  <code>./database</code></p>\n<p>That location seems to be the project base.</p>\n<p>You don't say how you are starting it, so there is little more that can be said.</p>\n"}],"owner":{"account_id":20129119,"reputation":94,"user_id":14761844,"display_name":"andi2.2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677260435,"creation_date":1677257275,"question_id":75559245,"body_markdown":"I have the following project structure\r\n\r\n```\r\nproject/\r\n├─ frontend/\r\n├─ backend/\r\n│  ├─ src/main/resources/\r\n│  │  ├─ application.yml\r\n```\r\n\r\nMy application.yml contains:\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:./database\r\n    driver-class-name: org.h2.Driver\r\n```\r\n\r\nIf I run some maven goal (e.g. `maven clean compile`), the database files are created under `project` instead of `backend`.\r\n\r\nDo I need to configure my maven environment in a way that it knows where the project root is?","title":"H2 database generated in wrong directory when generated with maven","body":"<p>I have the following project structure</p>\n<pre><code>project/\n├─ frontend/\n├─ backend/\n│  ├─ src/main/resources/\n│  │  ├─ application.yml\n</code></pre>\n<p>My application.yml contains:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:./database\n    driver-class-name: org.h2.Driver\n</code></pre>\n<p>If I run some maven goal (e.g. <code>maven clean compile</code>), the database files are created under <code>project</code> instead of <code>backend</code>.</p>\n<p>Do I need to configure my maven environment in a way that it knows where the project root is?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677314832,"post_id":75558412,"comment_id":133316647,"body_markdown":"Please edit your question and add the content of your `DataClass1` class.","body":"Please edit your question and add the content of your <code>DataClass1</code> class."}],"owner":{"account_id":27870610,"reputation":1,"user_id":21281208,"display_name":"Alyanna Bayani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677260253,"creation_date":1677252686,"question_id":75558412,"body_markdown":"I am trying to retrieve data from realtime database, but it doesn&#39;t work since I cannot call the section name.\r\n\r\n[Here&#39;s the Realtime Database Structure](https://i.stack.imgur.com/Txuz6.png)\r\n\r\nI&#39;m trying to retrieve the subject name.\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n        dbref = database.getReference(&quot;Sections&quot;);\r\n\r\n        eventListener = dbref.child(getSection).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    //get data from firebase\r\n                    dataclass1.clear();\r\n\r\n                    if (snapshot.exists()) {\r\n                        for (DataSnapshot itemSnapshot: snapshot.getChildren()) {\r\n                            DataClass1 dataClass = itemSnapshot.getValue(DataClass1.class);\r\n                            dataclass1.add(dataClass);\r\n                        }\r\n                        sectionAdapter.notifyDataSetChanged();\r\n                    }\r\n\r\n                    //dialog.dismiss()\r\n                }","title":"Retrieve Subject Name From Firebase","body":"<p>I am trying to retrieve data from realtime database, but it doesn't work since I cannot call the section name.</p>\n<p><a href=\"https://i.stack.imgur.com/Txuz6.png\" rel=\"nofollow noreferrer\">Here's the Realtime Database Structure</a></p>\n<p>I'm trying to retrieve the subject name.</p>\n<pre><code>    database = FirebaseDatabase.getInstance();\n    dbref = database.getReference(&quot;Sections&quot;);\n\n    eventListener = dbref.child(getSection).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                //get data from firebase\n                dataclass1.clear();\n\n                if (snapshot.exists()) {\n                    for (DataSnapshot itemSnapshot: snapshot.getChildren()) {\n                        DataClass1 dataClass = itemSnapshot.getValue(DataClass1.class);\n                        dataclass1.add(dataClass);\n                    }\n                    sectionAdapter.notifyDataSetChanged();\n                }\n\n                //dialog.dismiss()\n            }\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677259913,"creation_date":1677259913,"answer_id":75559668,"question_id":75559353,"body_markdown":"Im guessing you&#39;re using the Mapper Client for DynamoDB. Have a read of this blog, you need to set the right save behavior for your needs:\r\n\r\nhttps://aws.amazon.com/blogs/developer/using-the-savebehavior-configuration-for-the-dynamodbmapper/","title":"Spring project with DynamoDB; When updating the document with fewer attributes are these removed?","body":"<p>Im guessing you're using the Mapper Client for DynamoDB. Have a read of this blog, you need to set the right save behavior for your needs:</p>\n<p><a href=\"https://aws.amazon.com/blogs/developer/using-the-savebehavior-configuration-for-the-dynamodbmapper/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/using-the-savebehavior-configuration-for-the-dynamodbmapper/</a></p>\n"}],"owner":{"account_id":19589941,"reputation":3,"user_id":14337178,"display_name":"Gabriel Cortez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75559668,"answer_count":1,"score":0,"last_activity_date":1677259913,"creation_date":1677257848,"question_id":75559353,"body_markdown":"I have lost information in dynamoDB in the address attribute, I try to track when this information is lost, it is updated by different microservices, my question is that if I update a document (json) from a collection with fewer attributes, will these be lost? example,\r\n\r\ninsert {id:1,name:&quot;gabriel&quot;, address:&quot;xxx&quot;}\r\n\r\nupdate {id:1,name:&quot;gabriel&quot;}\r\n\r\n\r\nwhen consulting the id 1 it would only have {id:1,name:&quot;gabriel&quot;}\r\n","title":"Spring project with DynamoDB; When updating the document with fewer attributes are these removed?","body":"<p>I have lost information in dynamoDB in the address attribute, I try to track when this information is lost, it is updated by different microservices, my question is that if I update a document (json) from a collection with fewer attributes, will these be lost? example,</p>\n<p>insert {id:1,name:&quot;gabriel&quot;, address:&quot;xxx&quot;}</p>\n<p>update {id:1,name:&quot;gabriel&quot;}</p>\n<p>when consulting the id 1 it would only have {id:1,name:&quot;gabriel&quot;}</p>\n"},{"tags":["java","spring","multithreading","threadpool"],"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677259211,"creation_date":1677187253,"question_id":75550439,"body_markdown":"I&#39;ve tried and read a few things. However, thread pooling and the ThreadPoolTaskExecutor are reported differently everywhere. Maybe I&#39;ll mess things up and you can just untie the knot in my head.\r\n\r\nFirst of all, what am I going to do?\r\n\r\nI have a spring boot application that does some long calculations. For this I wanted to start a maximum of 10 threads in parallel and the rest should wait in a queue. If one calculation is finish the next one should start from the queue.\r\n\r\nThat&#39;s why I came up with the ThreadPoolTaskExecutor.\r\n\r\nThe first attempt was to set up the ThreadPoolTaskExecutor like a cachedPoolExecutor.\r\nAccording to the javadoc, this set the corePoolSize to 0 and the MaxPoolSize to 10 or Integer.MAX.\r\n\r\nObservation:\r\nOnly 1 thread is started and used at the same time. Never see the 10 Threads.\r\n\r\nNext try:\r\nSet core size pool to 10 and max pool size to 25.\r\n\r\nObservation: 10 threads are always started. Never see the 25 Threads.\r\n\r\nI would have expected something different\r\n\r\nNow after some reading I understand the following (maybe wrong).\r\n\r\nThe core size is the minimum threads that are in the pool. If the queue is full, the maximum number of max-pool-size will be created.\r\n\r\nUnfortunately, I didn&#39;t understand the meaning behind it. Why the max-pool thread isn&#39;t created and everything beyond that goes into the queue? So that i have this range from n to x. \r\nCan someone explain me the reason?\r\n\r\nWhat is the most efficient way to implement my scenario of 0-10 threads? Or is this a bad idea in general?\r\n\r\n\r\nHow does a connection pool like Hikari work with a maximum pool size of 25. There are never more than 3 threads open or opened and on demand.\r\n\r\nThanks in advance","title":"Understand Spring ThreadPoolTaskExecutor and Pooling in general","body":"<p>I've tried and read a few things. However, thread pooling and the ThreadPoolTaskExecutor are reported differently everywhere. Maybe I'll mess things up and you can just untie the knot in my head.</p>\n<p>First of all, what am I going to do?</p>\n<p>I have a spring boot application that does some long calculations. For this I wanted to start a maximum of 10 threads in parallel and the rest should wait in a queue. If one calculation is finish the next one should start from the queue.</p>\n<p>That's why I came up with the ThreadPoolTaskExecutor.</p>\n<p>The first attempt was to set up the ThreadPoolTaskExecutor like a cachedPoolExecutor.\nAccording to the javadoc, this set the corePoolSize to 0 and the MaxPoolSize to 10 or Integer.MAX.</p>\n<p>Observation:\nOnly 1 thread is started and used at the same time. Never see the 10 Threads.</p>\n<p>Next try:\nSet core size pool to 10 and max pool size to 25.</p>\n<p>Observation: 10 threads are always started. Never see the 25 Threads.</p>\n<p>I would have expected something different</p>\n<p>Now after some reading I understand the following (maybe wrong).</p>\n<p>The core size is the minimum threads that are in the pool. If the queue is full, the maximum number of max-pool-size will be created.</p>\n<p>Unfortunately, I didn't understand the meaning behind it. Why the max-pool thread isn't created and everything beyond that goes into the queue? So that i have this range from n to x.\nCan someone explain me the reason?</p>\n<p>What is the most efficient way to implement my scenario of 0-10 threads? Or is this a bad idea in general?</p>\n<p>How does a connection pool like Hikari work with a maximum pool size of 25. There are never more than 3 threads open or opened and on demand.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","webview","android-webview"],"owner":{"account_id":12983302,"reputation":19,"user_id":9384968,"display_name":"Ashis Autar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677258873,"creation_date":1677255362,"question_id":75558886,"body_markdown":"I have a webview app of my website. On my website i have a plugin installed of facebook, twitter, LinkedIn and whatsapp. But if I want to click on facebook or twitter or linkedin or whatsapp via my webview app on one of the pages because i want to share that page/blog, the apps on my mobile will not open.  How can i make sure my webview app will do that.\r\nsee the code below\r\n\r\n\r\n\r\n\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.webkit.WebChromeClient;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.ProgressBar;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        WebView webView;\r\n        ProgressBar progressBar;\r\n    \r\n    \r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            webView = findViewById(R.id.webview);\r\n            progressBar = findViewById(R.id.progress);\r\n    \r\n            webView.setWebChromeClient( new MyWebChromeClient());\r\n            webView.setWebViewClient( new webClient());\r\n            webView.getSettings().setLoadWithOverviewMode(true);\r\n            webView.getSettings().setSupportZoom(true);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            webView.loadUrl(&quot;https://www.hindnc.nl/&quot;);\r\n        }\r\n    \r\n        public class  MyWebChromeClient extends WebChromeClient {\r\n            public void onProgressChanged(WebView view, int newProgress) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                progressBar.setProgress(newProgress);\r\n            }\r\n        }\r\n    \r\n        public class webClient extends WebViewClient {\r\n            public boolean  shouldOverrideUrlLoading(WebView view, String url) {\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n    \r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                super.onPageFinished(view, url);\r\n                progressBar.setVisibility(View.GONE);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n                progressBar.setVisibility(View.GONE);\r\n            } else  {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    }","title":"Android Java Webview app: how to open facebook, twitter, linkedin and whatsapp app via my webview app","body":"<p>I have a webview app of my website. On my website i have a plugin installed of facebook, twitter, LinkedIn and whatsapp. But if I want to click on facebook or twitter or linkedin or whatsapp via my webview app on one of the pages because i want to share that page/blog, the apps on my mobile will not open.  How can i make sure my webview app will do that.\nsee the code below</p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.ProgressBar;\nimport androidx.appcompat.app.AppCompatActivity;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n    ProgressBar progressBar;\n\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        webView = findViewById(R.id.webview);\n        progressBar = findViewById(R.id.progress);\n\n        webView.setWebChromeClient( new MyWebChromeClient());\n        webView.setWebViewClient( new webClient());\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://www.hindnc.nl/&quot;);\n    }\n\n    public class  MyWebChromeClient extends WebChromeClient {\n        public void onProgressChanged(WebView view, int newProgress) {\n            progressBar.setVisibility(View.VISIBLE);\n            progressBar.setProgress(newProgress);\n        }\n    }\n\n    public class webClient extends WebViewClient {\n        public boolean  shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            super.onPageFinished(view, url);\n            progressBar.setVisibility(View.GONE);\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n            progressBar.setVisibility(View.GONE);\n        } else  {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-glide","color-palette"],"answers":[{"comments":[{"owner":{"account_id":18869253,"reputation":42,"user_id":13764283,"display_name":"BhavitBJ"},"score":0,"creation_date":1593275199,"post_id":62608840,"comment_id":110725020,"body_markdown":"I am getting error on **Palette.from(resource)**\n\nbecause variable *resource*  is generated on Glide onResourceReady()","body":"I am getting error on <b>Palette.from(resource)</b>  because variable <i>resource</i>  is generated on Glide onResourceReady()"},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1593275322,"post_id":62608840,"comment_id":110725068,"body_markdown":"Yeah I got it... My answer will not work I will update my answer if I find anything","body":"Yeah I got it... My answer will not work I will update my answer if I find anything"},{"owner":{"account_id":18869253,"reputation":42,"user_id":13764283,"display_name":"BhavitBJ"},"score":0,"creation_date":1593275721,"post_id":62608840,"comment_id":110725223,"body_markdown":"Ok Thanks!\n\nPlease let me know cause i am stuck","body":"Ok Thanks!  Please let me know cause i am stuck"}],"tags":[],"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593254130,"creation_date":1593254130,"answer_id":62608840,"question_id":62608747,"body_markdown":"Move the pallet color-related code outside of the onResourceReady() and keep rest things same as it is \r\n\r\n    public class CoffeeAdapter extends RecyclerView.Adapter&lt;CoffeeAdapter.ViewHolder&gt; implements Filterable{\r\n    \r\n        private static final String TAG = &quot;RecyclerAdapter&quot;;\r\n    \r\n        private ArrayList&lt;CoffeeItem&gt; coffeeItems;\r\n        ArrayList&lt;CoffeeItem&gt; coffeeItemsAll;\r\n        private Context mContext;\r\n        private FavDB favDB;\r\n        private DownloadDB downloadDB;\r\n    \r\n        public CoffeeAdapter(ArrayList&lt;CoffeeItem&gt; coffeeItems, Context mContext) {\r\n            this.coffeeItems = coffeeItems;\r\n            this.coffeeItemsAll = new ArrayList&lt;CoffeeItem&gt;(coffeeItems);\r\n            this.mContext = mContext;\r\n            notifyDataSetChanged();\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            favDB = new FavDB(mContext);\r\n            downloadDB = new DownloadDB(mContext);\r\n            //create table on first\r\n            SharedPreferences prefs = mContext.getSharedPreferences(&quot;prefs&quot;, mContext.MODE_PRIVATE);\r\n            boolean firstStart = prefs.getBoolean(&quot;firstStart&quot;, true);\r\n            if (firstStart) {\r\n                createTableOnFirstStart();\r\n                createTableOnFirstStart1();\r\n            }\r\n    \r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,\r\n                    parent,false);\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull final CoffeeAdapter.ViewHolder holder, int position) {\r\n            final CoffeeItem coffeeItem = coffeeItems.get(position);\r\n            readCursorData(coffeeItem, holder);\r\n            readCursorData1(coffeeItem, holder);\r\n\r\n\r\n           Palette.from(resource)\r\n           .generate(new Palette.PaletteAsyncListener() {\r\n             @Override\r\n             public void onGenerated(@Nullable Palette palette) {\r\n             Palette.Swatch darkVibrantSwatch = palette.getDarkVibrantSwatch();\r\n             Palette.Swatch dominantSwatch = palette.getDominantSwatch();\r\n             Palette.Swatch lightVibrantSwatch = palette.getLightVibrantSwatch();\r\n             if (darkVibrantSwatch != null) {\r\n                 holder.cardView.setCardBackgroundColor(darkVibrantSwatch.getRgb());\r\n             } else if (dominantSwatch != null) {\r\n\r\n                 holder.cardView.setCardBackgroundColor(dominantSwatch.getRgb());\r\n\r\n             } else {\r\n\r\n                 holder.cardView.setCardBackgroundColor(lightVibrantSwatch.getRgb());\r\n\r\n                }\r\n\r\n              }\r\n           });\r\n    \r\n           // Glide.with(mContext).load(coffeeItems.get(position).getUrl()).into(holder.imageView);\r\n    \r\n            Glide.with(mContext)\r\n                    .asBitmap()\r\n                    .load(coffeeItems.get(position).getUrl())\r\n                    .thumbnail(0.05f)\r\n                    .apply(new RequestOptions().override(600,1200))\r\n                    .apply(new RequestOptions().diskCacheStrategy(DiskCacheStrategy.ALL))\r\n                    .listener(new RequestListener&lt;Bitmap&gt;() {\r\n                        @Override\r\n                        public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Bitmap&gt; target, boolean isFirstResource) {\r\n                            return false;\r\n                        }\r\n    \r\n                        @Override\r\n                        public boolean onResourceReady(Bitmap resource, Object model, Target&lt;Bitmap&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                            return false;\r\n                        }\r\n                    })\r\n                    .into(holder.imageView);\r\n    \r\n    \r\n    \r\n            //Picasso.get().load(coffeeItems.get(position).getUrl()).resize(1080,1920).onlyScaleDown().into(holder.imageView);\r\n            //holder.imageView.setImageResource(coffeeItem.getImageResourse());\r\n            holder.titleTextView.setText(coffeeItem.getTitle());\r\n    \r\n            holder.cardView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(mContext,ViewActivity.class);\r\n                    intent.putExtra(&quot;image&quot;,coffeeItem.getUrl());\r\n                    intent.putExtra(&quot;title&quot;,coffeeItem.getTitle());\r\n                    intent.putExtra(&quot;tag&quot;,coffeeItem.getTag());\r\n                    intent.putExtra(&quot;resolution&quot;, coffeeItem.getResolution());\r\n                    intent.putExtra(&quot;size&quot;,coffeeItem.getSize());\r\n                    intent.putExtra(&quot;desc&quot;,coffeeItem.getDescription());\r\n                    intent.putExtra(&quot;keyId&quot;,coffeeItem.getKey_id());\r\n                    intent.putExtra(&quot;favStatus&quot;,coffeeItem.getFavStatus());\r\n                    intent.putExtra(&quot;downloadStatus&quot;,coffeeItem.getDownloadStatus());\r\n    \r\n                    mContext.startActivity(intent);\r\n                }\r\n            });\r\n        }","title":"How to load color palette as cardView background while images load in android?","body":"<p>Move the pallet color-related code outside of the onResourceReady() and keep rest things same as it is</p>\n<pre><code>public class CoffeeAdapter extends RecyclerView.Adapter&lt;CoffeeAdapter.ViewHolder&gt; implements Filterable{\n\n    private static final String TAG = &quot;RecyclerAdapter&quot;;\n\n    private ArrayList&lt;CoffeeItem&gt; coffeeItems;\n    ArrayList&lt;CoffeeItem&gt; coffeeItemsAll;\n    private Context mContext;\n    private FavDB favDB;\n    private DownloadDB downloadDB;\n\n    public CoffeeAdapter(ArrayList&lt;CoffeeItem&gt; coffeeItems, Context mContext) {\n        this.coffeeItems = coffeeItems;\n        this.coffeeItemsAll = new ArrayList&lt;CoffeeItem&gt;(coffeeItems);\n        this.mContext = mContext;\n        notifyDataSetChanged();\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        favDB = new FavDB(mContext);\n        downloadDB = new DownloadDB(mContext);\n        //create table on first\n        SharedPreferences prefs = mContext.getSharedPreferences(&quot;prefs&quot;, mContext.MODE_PRIVATE);\n        boolean firstStart = prefs.getBoolean(&quot;firstStart&quot;, true);\n        if (firstStart) {\n            createTableOnFirstStart();\n            createTableOnFirstStart1();\n        }\n\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,\n                parent,false);\n        return new ViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull final CoffeeAdapter.ViewHolder holder, int position) {\n        final CoffeeItem coffeeItem = coffeeItems.get(position);\n        readCursorData(coffeeItem, holder);\n        readCursorData1(coffeeItem, holder);\n\n\n       Palette.from(resource)\n       .generate(new Palette.PaletteAsyncListener() {\n         @Override\n         public void onGenerated(@Nullable Palette palette) {\n         Palette.Swatch darkVibrantSwatch = palette.getDarkVibrantSwatch();\n         Palette.Swatch dominantSwatch = palette.getDominantSwatch();\n         Palette.Swatch lightVibrantSwatch = palette.getLightVibrantSwatch();\n         if (darkVibrantSwatch != null) {\n             holder.cardView.setCardBackgroundColor(darkVibrantSwatch.getRgb());\n         } else if (dominantSwatch != null) {\n\n             holder.cardView.setCardBackgroundColor(dominantSwatch.getRgb());\n\n         } else {\n\n             holder.cardView.setCardBackgroundColor(lightVibrantSwatch.getRgb());\n\n            }\n\n          }\n       });\n\n       // Glide.with(mContext).load(coffeeItems.get(position).getUrl()).into(holder.imageView);\n\n        Glide.with(mContext)\n                .asBitmap()\n                .load(coffeeItems.get(position).getUrl())\n                .thumbnail(0.05f)\n                .apply(new RequestOptions().override(600,1200))\n                .apply(new RequestOptions().diskCacheStrategy(DiskCacheStrategy.ALL))\n                .listener(new RequestListener&lt;Bitmap&gt;() {\n                    @Override\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Bitmap&gt; target, boolean isFirstResource) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean onResourceReady(Bitmap resource, Object model, Target&lt;Bitmap&gt; target, DataSource dataSource, boolean isFirstResource) {\n                        return false;\n                    }\n                })\n                .into(holder.imageView);\n\n\n\n        //Picasso.get().load(coffeeItems.get(position).getUrl()).resize(1080,1920).onlyScaleDown().into(holder.imageView);\n        //holder.imageView.setImageResource(coffeeItem.getImageResourse());\n        holder.titleTextView.setText(coffeeItem.getTitle());\n\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(mContext,ViewActivity.class);\n                intent.putExtra(&quot;image&quot;,coffeeItem.getUrl());\n                intent.putExtra(&quot;title&quot;,coffeeItem.getTitle());\n                intent.putExtra(&quot;tag&quot;,coffeeItem.getTag());\n                intent.putExtra(&quot;resolution&quot;, coffeeItem.getResolution());\n                intent.putExtra(&quot;size&quot;,coffeeItem.getSize());\n                intent.putExtra(&quot;desc&quot;,coffeeItem.getDescription());\n                intent.putExtra(&quot;keyId&quot;,coffeeItem.getKey_id());\n                intent.putExtra(&quot;favStatus&quot;,coffeeItem.getFavStatus());\n                intent.putExtra(&quot;downloadStatus&quot;,coffeeItem.getDownloadStatus());\n\n                mContext.startActivity(intent);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5103901,"reputation":1219,"user_id":4092624,"display_name":"Robby Lebotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677258842,"creation_date":1677258842,"answer_id":75559500,"question_id":62608747,"body_markdown":"Try it this way\r\n\r\n\r\n    @Override\r\n                    public boolean onResourceReady(Bitmap resource,\r\n                                                   Object model, Target&lt;Bitmap&gt; target,\r\n                                                   DataSource dataSource,\r\n                                                   boolean isFirstResource) {\r\n\r\n                        try{\r\n\r\n                                Palette palette = Palette.from(resource).generate();\r\n                                Palette.Swatch vibrant = palette.getDominantSwatch();\r\n\r\n                            if(vibrant != null){\r\n                                int bgColor = vibrant.getPopulation();\r\n                                cardview_background.setBackgroundColor(bgColor);\r\n                            }\r\n                        }catch(Exception e){\r\n                            Log.e(TAG,&quot;Failed to set cardview background&quot;);\r\n                        }\r\n                        return false;\r\n                    }\r\n\r\n   \r\n\r\n\r\nIts working for me, just tried it out on a custom listview I have","title":"How to load color palette as cardView background while images load in android?","body":"<p>Try it this way</p>\n<pre><code>@Override\n                public boolean onResourceReady(Bitmap resource,\n                                               Object model, Target&lt;Bitmap&gt; target,\n                                               DataSource dataSource,\n                                               boolean isFirstResource) {\n\n                    try{\n\n                            Palette palette = Palette.from(resource).generate();\n                            Palette.Swatch vibrant = palette.getDominantSwatch();\n\n                        if(vibrant != null){\n                            int bgColor = vibrant.getPopulation();\n                            cardview_background.setBackgroundColor(bgColor);\n                        }\n                    }catch(Exception e){\n                        Log.e(TAG,&quot;Failed to set cardview background&quot;);\n                    }\n                    return false;\n                }\n</code></pre>\n<p>Its working for me, just tried it out on a custom listview I have</p>\n"}],"owner":{"account_id":18869253,"reputation":42,"user_id":13764283,"display_name":"BhavitBJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677258842,"creation_date":1593253492,"question_id":62608747,"body_markdown":"**I am trying to show colors in the card background before images load, same as *Pinterest*. The color palette is getting implemented but background remains white and colors show up only for a split second before image loads.**\r\n\r\n\r\n**I am using *Glide* library to load images in *cardView*. Please help me show the colors as soon as any activity is opened.**\r\n\r\n**I am using Android Palette Library to get colors from ImageView.**\r\n\r\n\r\n`Here is my RecyclerView Adapter`\r\n\r\n```\r\n\r\npublic class CoffeeAdapter extends RecyclerView.Adapter&lt;CoffeeAdapter.ViewHolder&gt; implements Filterable{\r\n\r\n    private static final String TAG = &quot;RecyclerAdapter&quot;;\r\n\r\n    private ArrayList&lt;CoffeeItem&gt; coffeeItems;\r\n    ArrayList&lt;CoffeeItem&gt; coffeeItemsAll;\r\n    private Context mContext;\r\n    private FavDB favDB;\r\n    private DownloadDB downloadDB;\r\n\r\n    public CoffeeAdapter(ArrayList&lt;CoffeeItem&gt; coffeeItems, Context mContext) {\r\n        this.coffeeItems = coffeeItems;\r\n        this.coffeeItemsAll = new ArrayList&lt;CoffeeItem&gt;(coffeeItems);\r\n        this.mContext = mContext;\r\n        notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        favDB = new FavDB(mContext);\r\n        downloadDB = new DownloadDB(mContext);\r\n        //create table on first\r\n        SharedPreferences prefs = mContext.getSharedPreferences(&quot;prefs&quot;, mContext.MODE_PRIVATE);\r\n        boolean firstStart = prefs.getBoolean(&quot;firstStart&quot;, true);\r\n        if (firstStart) {\r\n            createTableOnFirstStart();\r\n            createTableOnFirstStart1();\r\n        }\r\n\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,\r\n                parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final CoffeeAdapter.ViewHolder holder, int position) {\r\n        final CoffeeItem coffeeItem = coffeeItems.get(position);\r\n        readCursorData(coffeeItem, holder);\r\n        readCursorData1(coffeeItem, holder);\r\n\r\n       // Glide.with(mContext).load(coffeeItems.get(position).getUrl()).into(holder.imageView);\r\n\r\n        Glide.with(mContext)\r\n                .asBitmap()\r\n                .load(coffeeItems.get(position).getUrl())\r\n                .thumbnail(0.05f)\r\n                .apply(new RequestOptions().override(600,1200))\r\n                .apply(new RequestOptions().diskCacheStrategy(DiskCacheStrategy.ALL))\r\n                .listener(new RequestListener&lt;Bitmap&gt;() {\r\n                    @Override\r\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Bitmap&gt; target, boolean isFirstResource) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean onResourceReady(Bitmap resource, Object model, Target&lt;Bitmap&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n\r\n                        Palette.from(resource)\r\n                                .generate(new Palette.PaletteAsyncListener() {\r\n                                    @Override\r\n                                    public void onGenerated(@Nullable Palette palette) {\r\n                                        Palette.Swatch darkVibrantSwatch = palette.getDarkVibrantSwatch();\r\n                                        Palette.Swatch dominantSwatch = palette.getDominantSwatch();\r\n                                        Palette.Swatch lightVibrantSwatch = palette.getLightVibrantSwatch();\r\n                                        if (darkVibrantSwatch != null) {\r\n\r\n                                            holder.cardView.setCardBackgroundColor(darkVibrantSwatch.getRgb());\r\n\r\n                                        }else if (dominantSwatch != null) {\r\n\r\n                                            holder.cardView.setCardBackgroundColor(dominantSwatch.getRgb());\r\n\r\n                                        }else {\r\n\r\n                                            holder.cardView.setCardBackgroundColor(lightVibrantSwatch.getRgb());\r\n\r\n                                        }\r\n\r\n                                    }\r\n                                });\r\n\r\n                        return false;\r\n                    }\r\n                })\r\n                .into(holder.imageView);\r\n\r\n\r\n\r\n        //Picasso.get().load(coffeeItems.get(position).getUrl()).resize(1080,1920).onlyScaleDown().into(holder.imageView);\r\n        //holder.imageView.setImageResource(coffeeItem.getImageResourse());\r\n        holder.titleTextView.setText(coffeeItem.getTitle());\r\n\r\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(mContext,ViewActivity.class);\r\n                intent.putExtra(&quot;image&quot;,coffeeItem.getUrl());\r\n                intent.putExtra(&quot;title&quot;,coffeeItem.getTitle());\r\n                intent.putExtra(&quot;tag&quot;,coffeeItem.getTag());\r\n                intent.putExtra(&quot;resolution&quot;, coffeeItem.getResolution());\r\n                intent.putExtra(&quot;size&quot;,coffeeItem.getSize());\r\n                intent.putExtra(&quot;desc&quot;,coffeeItem.getDescription());\r\n                intent.putExtra(&quot;keyId&quot;,coffeeItem.getKey_id());\r\n                intent.putExtra(&quot;favStatus&quot;,coffeeItem.getFavStatus());\r\n                intent.putExtra(&quot;downloadStatus&quot;,coffeeItem.getDownloadStatus());\r\n\r\n                mContext.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\n`Screenshots`\r\n\r\n[Here is my App Screen][1]\r\n\r\n\r\n[This is what i want to achieve (Pinterest App Screenshot)][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LixsQ.jpg\r\n  [2]: https://i.stack.imgur.com/6oryJ.jpg","title":"How to load color palette as cardView background while images load in android?","body":"<p><strong>I am trying to show colors in the card background before images load, same as <em>Pinterest</em>. The color palette is getting implemented but background remains white and colors show up only for a split second before image loads.</strong></p>\n<p><strong>I am using <em>Glide</em> library to load images in <em>cardView</em>. Please help me show the colors as soon as any activity is opened.</strong></p>\n<p><strong>I am using Android Palette Library to get colors from ImageView.</strong></p>\n<p><code>Here is my RecyclerView Adapter</code></p>\n<pre><code>\npublic class CoffeeAdapter extends RecyclerView.Adapter&lt;CoffeeAdapter.ViewHolder&gt; implements Filterable{\n\n    private static final String TAG = &quot;RecyclerAdapter&quot;;\n\n    private ArrayList&lt;CoffeeItem&gt; coffeeItems;\n    ArrayList&lt;CoffeeItem&gt; coffeeItemsAll;\n    private Context mContext;\n    private FavDB favDB;\n    private DownloadDB downloadDB;\n\n    public CoffeeAdapter(ArrayList&lt;CoffeeItem&gt; coffeeItems, Context mContext) {\n        this.coffeeItems = coffeeItems;\n        this.coffeeItemsAll = new ArrayList&lt;CoffeeItem&gt;(coffeeItems);\n        this.mContext = mContext;\n        notifyDataSetChanged();\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        favDB = new FavDB(mContext);\n        downloadDB = new DownloadDB(mContext);\n        //create table on first\n        SharedPreferences prefs = mContext.getSharedPreferences(&quot;prefs&quot;, mContext.MODE_PRIVATE);\n        boolean firstStart = prefs.getBoolean(&quot;firstStart&quot;, true);\n        if (firstStart) {\n            createTableOnFirstStart();\n            createTableOnFirstStart1();\n        }\n\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,\n                parent,false);\n        return new ViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull final CoffeeAdapter.ViewHolder holder, int position) {\n        final CoffeeItem coffeeItem = coffeeItems.get(position);\n        readCursorData(coffeeItem, holder);\n        readCursorData1(coffeeItem, holder);\n\n       // Glide.with(mContext).load(coffeeItems.get(position).getUrl()).into(holder.imageView);\n\n        Glide.with(mContext)\n                .asBitmap()\n                .load(coffeeItems.get(position).getUrl())\n                .thumbnail(0.05f)\n                .apply(new RequestOptions().override(600,1200))\n                .apply(new RequestOptions().diskCacheStrategy(DiskCacheStrategy.ALL))\n                .listener(new RequestListener&lt;Bitmap&gt;() {\n                    @Override\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Bitmap&gt; target, boolean isFirstResource) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean onResourceReady(Bitmap resource, Object model, Target&lt;Bitmap&gt; target, DataSource dataSource, boolean isFirstResource) {\n\n                        Palette.from(resource)\n                                .generate(new Palette.PaletteAsyncListener() {\n                                    @Override\n                                    public void onGenerated(@Nullable Palette palette) {\n                                        Palette.Swatch darkVibrantSwatch = palette.getDarkVibrantSwatch();\n                                        Palette.Swatch dominantSwatch = palette.getDominantSwatch();\n                                        Palette.Swatch lightVibrantSwatch = palette.getLightVibrantSwatch();\n                                        if (darkVibrantSwatch != null) {\n\n                                            holder.cardView.setCardBackgroundColor(darkVibrantSwatch.getRgb());\n\n                                        }else if (dominantSwatch != null) {\n\n                                            holder.cardView.setCardBackgroundColor(dominantSwatch.getRgb());\n\n                                        }else {\n\n                                            holder.cardView.setCardBackgroundColor(lightVibrantSwatch.getRgb());\n\n                                        }\n\n                                    }\n                                });\n\n                        return false;\n                    }\n                })\n                .into(holder.imageView);\n\n\n\n        //Picasso.get().load(coffeeItems.get(position).getUrl()).resize(1080,1920).onlyScaleDown().into(holder.imageView);\n        //holder.imageView.setImageResource(coffeeItem.getImageResourse());\n        holder.titleTextView.setText(coffeeItem.getTitle());\n\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(mContext,ViewActivity.class);\n                intent.putExtra(&quot;image&quot;,coffeeItem.getUrl());\n                intent.putExtra(&quot;title&quot;,coffeeItem.getTitle());\n                intent.putExtra(&quot;tag&quot;,coffeeItem.getTag());\n                intent.putExtra(&quot;resolution&quot;, coffeeItem.getResolution());\n                intent.putExtra(&quot;size&quot;,coffeeItem.getSize());\n                intent.putExtra(&quot;desc&quot;,coffeeItem.getDescription());\n                intent.putExtra(&quot;keyId&quot;,coffeeItem.getKey_id());\n                intent.putExtra(&quot;favStatus&quot;,coffeeItem.getFavStatus());\n                intent.putExtra(&quot;downloadStatus&quot;,coffeeItem.getDownloadStatus());\n\n                mContext.startActivity(intent);\n            }\n        });\n    }\n</code></pre>\n<p><code>Screenshots</code></p>\n<p><a href=\"https://i.stack.imgur.com/LixsQ.jpg\" rel=\"nofollow noreferrer\">Here is my App Screen</a></p>\n<p><a href=\"https://i.stack.imgur.com/6oryJ.jpg\" rel=\"nofollow noreferrer\">This is what i want to achieve (Pinterest App Screenshot)</a></p>\n"},{"tags":["java","solr"],"answers":[{"comments":[{"owner":{"account_id":1495318,"reputation":615,"user_id":1401409,"accept_rate":75,"display_name":"scharette"},"score":0,"creation_date":1677182392,"post_id":72192729,"comment_id":133292776,"body_markdown":"I was having a similar issue were singletons from my custom plugin would be instantiated multiple times.  Upgrading to Solr 9.1.1 fixed the issue. Note however that I must add my custom plugin (now module in 9.x) to the solr.modules variable, otherwise it still instantiates multiple singletons.","body":"I was having a similar issue were singletons from my custom plugin would be instantiated multiple times.  Upgrading to Solr 9.1.1 fixed the issue. Note however that I must add my custom plugin (now module in 9.x) to the solr.modules variable, otherwise it still instantiates multiple singletons."}],"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677258613,"creation_date":1652215517,"answer_id":72192729,"question_id":72191178,"body_markdown":"I was talking with some Solr committers via slack and they said the answer is Yes. Each core has its own classloader. See https://issues.apache.org/jira/browse/SOLR-16131 for a read on some issues related to this, which confirms that each core has its own classloader. \r\n\r\nUpdate: Solr 9.x from comments\r\n\r\nI had to add my custom plugin (now module in 9.x) to the `solr.modules` variable, otherwise it still instantiates multiple singletons.","title":"Does each Solr core have its own classloader?","body":"<p>I was talking with some Solr committers via slack and they said the answer is Yes. Each core has its own classloader. See <a href=\"https://issues.apache.org/jira/browse/SOLR-16131\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/SOLR-16131</a> for a read on some issues related to this, which confirms that each core has its own classloader.</p>\n<p>Update: Solr 9.x from comments</p>\n<p>I had to add my custom plugin (now module in 9.x) to the <code>solr.modules</code> variable, otherwise it still instantiates multiple singletons.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72192729,"answer_count":1,"score":2,"last_activity_date":1677258613,"creation_date":1652206299,"question_id":72191178,"body_markdown":"When creating plugins for Solr, you add some plugin library jar files into the solrconfig.xml file:\r\n\r\n`&lt;lib dir=&quot;/path/to/jar/files&quot; regex=&quot;.*\\.jar&quot; /&gt;`\r\n\r\nIn my case, I use a few system libraries (`.dll`, `.so`)\r\n\r\nAnd I need to make sure they do not try to load them more than once.\r\n\r\nDoes each Solr core have its own classloader? ","title":"Does each Solr core have its own classloader?","body":"<p>When creating plugins for Solr, you add some plugin library jar files into the solrconfig.xml file:</p>\n<p><code>&lt;lib dir=&quot;/path/to/jar/files&quot; regex=&quot;.*\\.jar&quot; /&gt;</code></p>\n<p>In my case, I use a few system libraries (<code>.dll</code>, <code>.so</code>)</p>\n<p>And I need to make sure they do not try to load them more than once.</p>\n<p>Does each Solr core have its own classloader?</p>\n"},{"tags":["java","spring","spring-boot","jackson","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1677488670,"post_id":75559457,"comment_id":133340497,"body_markdown":"worked, thank you. please upvote my question if you think it&#39;s useful","body":"worked, thank you. please upvote my question if you think it&#39;s useful"}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677258605,"creation_date":1677258605,"answer_id":75559457,"question_id":75552870,"body_markdown":"The [`JsonTypeInfo.As#WRAPPER_OBJECT`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.As.html#WRAPPER_OBJECT) works only for the serialization process while you are trying to deserialize your json input. In this case you can use the [`JsonTypeInfo.Id#DEDUCTION`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#DEDUCTION) to deduce the correct type from the existing properties. Taking for example a simplified version of your json input like below:\r\n\r\n~~~\r\n{\r\n  &quot;operations&quot;: [\r\n    {\r\n      &quot;extension&quot;: {\r\n        &quot;serviceId&quot;: &quot;id&quot;,\r\n        &quot;serviceType&quot;: &quot;type&quot;\r\n      },\r\n      &quot;name&quot;: &quot;name&quot;,\r\n      &quot;tags&quot;: &quot;tags&quot;\r\n    }\r\n  ]\r\n}\r\n~~~ \r\n\r\nYou have an array containing an anonymous object with the three properties *extension, name, tag* that can be deserialized like below:\r\n\r\n~~~\r\n@Data\r\npublic class Payload {\r\n    List&lt;OperationWrapper&gt; operations;\r\n}\r\n\r\n@Data\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n@JsonSubTypes({\r\n    @JsonSubTypes.Type(value = ExtensionWrapper.class)\r\n})\r\npublic abstract class OperationWrapper {}\r\n\r\n@Data\r\npublic class ExtensionWrapper extends OperationWrapper {\r\n    private Extension extension;\r\n    private String name;\r\n    private String tags;\r\n}\r\n\r\n@Data\r\npublic class Extension {\r\n    private String serviceType;\r\n    private String serviceId;\r\n}\r\n\r\nPayload payload = mapper.readValue(json, Payload.class);\r\nSystem.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(payload));\r\n~~~\r\n\r\n\r\n**Output:** \r\n~~~\r\n{\r\n  &quot;operations&quot; : [ {\r\n    &quot;extension&quot; : {\r\n      &quot;serviceType&quot; : &quot;type&quot;,\r\n      &quot;serviceId&quot; : &quot;id&quot;\r\n    },\r\n    &quot;name&quot; : &quot;name&quot;,\r\n    &quot;tags&quot; : &quot;tags&quot;\r\n  } ]\r\n}\r\n~~~\r\n\r\nThe same mechanism can be applied to other classes you want to be deserialized.\r\n\r\n","title":"Jackson deserialize array of mixed types using @JsonTypeInfo with extra fields","body":"<p>The <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.As.html#WRAPPER_OBJECT\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo.As#WRAPPER_OBJECT</code></a> works only for the serialization process while you are trying to deserialize your json input. In this case you can use the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#DEDUCTION\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo.Id#DEDUCTION</code></a> to deduce the correct type from the existing properties. Taking for example a simplified version of your json input like below:</p>\n<pre><code>{\n  &quot;operations&quot;: [\n    {\n      &quot;extension&quot;: {\n        &quot;serviceId&quot;: &quot;id&quot;,\n        &quot;serviceType&quot;: &quot;type&quot;\n      },\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;tags&quot;: &quot;tags&quot;\n    }\n  ]\n}\n</code></pre>\n<p>You have an array containing an anonymous object with the three properties <em>extension, name, tag</em> that can be deserialized like below:</p>\n<pre><code>@Data\npublic class Payload {\n    List&lt;OperationWrapper&gt; operations;\n}\n\n@Data\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ExtensionWrapper.class)\n})\npublic abstract class OperationWrapper {}\n\n@Data\npublic class ExtensionWrapper extends OperationWrapper {\n    private Extension extension;\n    private String name;\n    private String tags;\n}\n\n@Data\npublic class Extension {\n    private String serviceType;\n    private String serviceId;\n}\n\nPayload payload = mapper.readValue(json, Payload.class);\nSystem.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(payload));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>{\n  &quot;operations&quot; : [ {\n    &quot;extension&quot; : {\n      &quot;serviceType&quot; : &quot;type&quot;,\n      &quot;serviceId&quot; : &quot;id&quot;\n    },\n    &quot;name&quot; : &quot;name&quot;,\n    &quot;tags&quot; : &quot;tags&quot;\n  } ]\n}\n</code></pre>\n<p>The same mechanism can be applied to other classes you want to be deserialized.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75559457,"answer_count":1,"score":1,"last_activity_date":1677258605,"creation_date":1677216158,"question_id":75552870,"body_markdown":"I have a json file which contains an array of mixed types. Its structure look like this:\r\n\r\n    {\r\n      &quot;operations&quot;: [\r\n        {\r\n          &quot;extension&quot;: {\r\n            &quot;serviceId&quot;: &quot;id&quot;,\r\n            &quot;serviceType&quot;: &quot;type&quot;\r\n          },\r\n          &quot;name&quot;: &quot;name&quot;,\r\n          &quot;tags&quot;: &quot;tags&quot;\r\n        },\r\n        {\r\n          &quot;core&quot;: {\r\n            &quot;config&quot;: {\r\n              &quot;a&quot;: 90,\r\n              &quot;b&quot;: 45\r\n            },\r\n            &quot;displayName&quot;: &quot;displayName&quot;\r\n          },\r\n          &quot;name&quot;: &quot;name&quot;,\r\n          &quot;tags&quot;: &quot;tags&quot;\r\n        },\r\n    \t{\r\n          &quot;extension&quot;: {\r\n            &quot;serviceId&quot;: &quot;abc&quot;,\r\n            &quot;serviceType&quot;: &quot;xyz&quot;\r\n          },\r\n          &quot;name&quot;: &quot;name&quot;,\r\n          &quot;tags&quot;: &quot;tags&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nFollow this topic [Stackoverflow][1] I create my model for json mapping of mixed types.\r\n\r\nMy java model:\r\n\r\n    @Data\r\n    public class Payload {\r\n    \r\n      private List&lt;OperationElement&gt; operations;\r\n    \r\n      @Data\r\n      @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n      @JsonSubTypes({ @JsonSubTypes.Type(value = Extension.class, name = &quot;extension&quot;),\r\n        @JsonSubTypes.Type(value = Core.class, name = &quot;core&quot;) })\r\n      public static abstract class OperationElement {\r\n        private String name;\r\n        private String tags;\r\n      }\r\n    \r\n      @Data\r\n      @JsonRootName(&quot;extension&quot;)\r\n      public static class Extension extends OperationElement {\r\n        private String serviceType;\r\n        private String serviceId;\r\n      }\r\n    \r\n      @Data\r\n      @JsonRootName(&quot;core&quot;)\r\n      public static class Core extends OperationElement {\r\n    \r\n        private Config config;\r\n        private String displayName;\r\n    \r\n        @Data\r\n        public static class Config {\r\n    \r\n          private Long a;\r\n          private Long b;\r\n    \r\n        }\r\n      }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Payload operationsPayload = mapper.readValue(\r\n          Files.readAllBytes(Paths.get(&quot;C:\\\\desc&quot;, &quot;file.json&quot;)), Payload.class);\r\n        System.out.println(operationsPayload );\r\n      }\r\n    }\r\n\r\nI got this error when trying to parse the json to java model:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (FIELD_NAME), expected END_OBJECT: expected closing END_OBJECT after type information and deserialized value\r\n      line: 8, column: 7] (through reference chain: com.pojo.Payload[&quot;operations&quot;]-&gt;java.util.ArrayList[0])\r\n    \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.wrongTokenException(DeserializationContext.java:1799)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportWrongTokenException(DeserializationContext.java:1533)\r\n    \tat com.fasterxml.jackson.databind.jsontype.impl.AsWrapperTypeDeserializer._deserialize(AsWrapperTypeDeserializer.java:124)\r\n    \tat com.fasterxml.jackson.databind.jsontype.impl.AsWrapperTypeDeserializer.deserializeTypedFromObject(AsWrapperTypeDeserializer.java:52)\r\n    \tat com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserializeWithType(AbstractDeserializer.java:263)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:349)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3609)\r\n    \r\n\r\nIf I remove\r\n\r\n    &quot;name&quot;: &quot;name&quot;,\r\n    &quot;tags&quot;: &quot;tags&quot;\r\nThe code can run.\r\n\r\nBut I must have both these key-value in the json structure.\r\n\r\nAny solution please suggest me. Thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38875940/how-to-deserialize-a-json-array-containing-different-types-of-objects","title":"Jackson deserialize array of mixed types using @JsonTypeInfo with extra fields","body":"<p>I have a json file which contains an array of mixed types. Its structure look like this:</p>\n<pre><code>{\n  &quot;operations&quot;: [\n    {\n      &quot;extension&quot;: {\n        &quot;serviceId&quot;: &quot;id&quot;,\n        &quot;serviceType&quot;: &quot;type&quot;\n      },\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;tags&quot;: &quot;tags&quot;\n    },\n    {\n      &quot;core&quot;: {\n        &quot;config&quot;: {\n          &quot;a&quot;: 90,\n          &quot;b&quot;: 45\n        },\n        &quot;displayName&quot;: &quot;displayName&quot;\n      },\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;tags&quot;: &quot;tags&quot;\n    },\n    {\n      &quot;extension&quot;: {\n        &quot;serviceId&quot;: &quot;abc&quot;,\n        &quot;serviceType&quot;: &quot;xyz&quot;\n      },\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;tags&quot;: &quot;tags&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Follow this topic <a href=\"https://stackoverflow.com/questions/38875940/how-to-deserialize-a-json-array-containing-different-types-of-objects\">Stackoverflow</a> I create my model for json mapping of mixed types.</p>\n<p>My java model:</p>\n<pre><code>@Data\npublic class Payload {\n\n  private List&lt;OperationElement&gt; operations;\n\n  @Data\n  @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\n  @JsonSubTypes({ @JsonSubTypes.Type(value = Extension.class, name = &quot;extension&quot;),\n    @JsonSubTypes.Type(value = Core.class, name = &quot;core&quot;) })\n  public static abstract class OperationElement {\n    private String name;\n    private String tags;\n  }\n\n  @Data\n  @JsonRootName(&quot;extension&quot;)\n  public static class Extension extends OperationElement {\n    private String serviceType;\n    private String serviceId;\n  }\n\n  @Data\n  @JsonRootName(&quot;core&quot;)\n  public static class Core extends OperationElement {\n\n    private Config config;\n    private String displayName;\n\n    @Data\n    public static class Config {\n\n      private Long a;\n      private Long b;\n\n    }\n  }\n\n  public static void main(String[] args) throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    Payload operationsPayload = mapper.readValue(\n      Files.readAllBytes(Paths.get(&quot;C:\\\\desc&quot;, &quot;file.json&quot;)), Payload.class);\n    System.out.println(operationsPayload );\n  }\n}\n</code></pre>\n<p>I got this error when trying to parse the json to java model:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (FIELD_NAME), expected END_OBJECT: expected closing END_OBJECT after type information and deserialized value\n  line: 8, column: 7] (through reference chain: com.pojo.Payload[&quot;operations&quot;]-&gt;java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.wrongTokenException(DeserializationContext.java:1799)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportWrongTokenException(DeserializationContext.java:1533)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsWrapperTypeDeserializer._deserialize(AsWrapperTypeDeserializer.java:124)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsWrapperTypeDeserializer.deserializeTypedFromObject(AsWrapperTypeDeserializer.java:52)\n    at com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserializeWithType(AbstractDeserializer.java:263)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:349)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3609)\n</code></pre>\n<p>If I remove</p>\n<pre><code>&quot;name&quot;: &quot;name&quot;,\n&quot;tags&quot;: &quot;tags&quot;\n</code></pre>\n<p>The code can run.</p>\n<p>But I must have both these key-value in the json structure.</p>\n<p>Any solution please suggest me. Thanks in advance.</p>\n"},{"tags":["java","jdbc"],"owner":{"account_id":26731173,"reputation":44,"user_id":20333478,"display_name":"JavaUser007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677258882,"answer_count":0,"score":0,"last_activity_date":1677257868,"creation_date":1677257868,"question_id":75559355,"body_markdown":"I have a program which connects to an offline H2 database using\r\n\r\n```java\r\nConnection conn=java.sql.DriverManager.getConnection(&quot;jdbc:h2:C:\\DB\\myDB&quot;);\r\n```\r\n\r\nI want two instances of the program to connect to the same database. But apparently JDBC doesn&#39;t allow multiple Connection to same database. Is there any way to connect? The second connection can also be read-only.","title":"Java JDBC make multiple connections to same database","body":"<p>I have a program which connects to an offline H2 database using</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection conn=java.sql.DriverManager.getConnection(&quot;jdbc:h2:C:\\DB\\myDB&quot;);\n</code></pre>\n<p>I want two instances of the program to connect to the same database. But apparently JDBC doesn't allow multiple Connection to same database. Is there any way to connect? The second connection can also be read-only.</p>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":1,"creation_date":1523116387,"post_id":49708341,"comment_id":86431749,"body_markdown":"you can actually start spring, and load these two beans using `@RunWith(SpringJUnit4ClassRunner.class)`. see this example https://www.mkyong.com/unittest/junit-spring-integration-example/","body":"you can actually start spring, and load these two beans using <code>@RunWith(SpringJUnit4ClassRunner.class)</code>. see this example <a href=\"https://www.mkyong.com/unittest/junit-spring-integration-example/\" rel=\"nofollow noreferrer\">mkyong.com/unittest/junit-spring-integration-example</a>"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1617177221,"post_id":49708341,"comment_id":118228092,"body_markdown":"also check for more recent Spring Boot versions : https://stackoverflow.com/questions/66166601/springboot-mockito-test-and-autowired-messagesource-in-controller-org-springfram","body":"also check for more recent Spring Boot versions : <a href=\"https://stackoverflow.com/questions/66166601/springboot-mockito-test-and-autowired-messagesource-in-controller-org-springfram\" title=\"springboot mockito test and autowired messagesource in controller org springfram\">stackoverflow.com/questions/66166601/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677257774,"creation_date":1677257774,"answer_id":75559335,"question_id":49708341,"body_markdown":"Add this to your test class:\r\n\r\n```java\r\n@ImportAutoConfiguration(MessageSourceAutoConfiguration.class)\r\n```","title":"Unit Test Spring Boot MessageSource","body":"<p>Add this to your test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ImportAutoConfiguration(MessageSourceAutoConfiguration.class)\n</code></pre>\n"}],"owner":{"account_id":5707387,"reputation":2633,"user_id":4510444,"accept_rate":56,"display_name":"Aaron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5785,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677257774,"creation_date":1523110864,"question_id":49708341,"body_markdown":"I am using MessageSource in managing my error messages for my application.\r\n\r\nMy error messages are inside the file **error_messages.properties** in **src/main/resources/messages**.\r\n\r\nBelow is my configuration for my MessageSource\r\n\r\n    @Configuration\r\n    @EntityScan(&quot;mypackage&quot;)\r\n    @EnableJpaRepositories(&quot;mypackage&quot;)\r\n    @ComponentScan(basePackages = {\r\n            &quot;mypackage&quot;})\r\n    public class DataConfig {\r\n\r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n            messageSource.setBasenames(&quot;messages/error_messages&quot;);\r\n            messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            return messageSource;\r\n        }\r\n\r\n    }\r\n\r\nBelow is my component in loading and using the MessageSource (based on [this][1])\r\n\r\n    @Component\r\n    public class ErrorMessages {\r\n\r\n        @Autowired\r\n        private MessageSource messageSource;\r\n\r\n        private MessageSourceAccessor accessor;\r\n\r\n        @PostConstruct\r\n        private void init() {\r\n            accessor = new MessageSourceAccessor(messageSource);\r\n        }\r\n\r\n        public String get(String code) {\r\n            return accessor.getMessage(code);\r\n        }\r\n\r\n    }\r\n\r\nNow this is my Service layer.\r\n\r\n    @Service\r\n    public class MyServiceImpl implements MyService{\r\n\r\n        @Autowired\r\n        private ErrorMessages errorMessages;\r\n\r\n        @Override\r\n        public String getExampleMessage(){\r\n            return String.format(errorMessages.get(&quot;default.error&quot;), &quot;default&quot;);\r\n        }\r\n\r\n    }\r\n\r\nmy properties file\r\n\r\n    default.error=Default error with some default message %s.\r\n\r\nThis works fine when I run the application. Now my problem is when I run this in my unit test, I want it to actually fetch the error message from the property file. Since it&#39;s a MockBean I have to stub a return value for it and I don&#39;t want to do that.\r\n\r\nHow do I do it?\r\n\r\nBelow is my test.\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class MyServiceImplTest {\r\n\r\n        @TestConfiguration\r\n        static class MyServiceImplTestContextConfiguration {\r\n            @Bean\r\n            public MyService myService() {\r\n                return new MyServiceImpl();\r\n            }\r\n        }\r\n\r\n        @Autowired\r\n        private MyService myService;\r\n\r\n        // I want to avoid mocking this.\r\n        @MockBean\r\n        private ErrorMessages errorMessages;\r\n\r\n        @Test\r\n        public void testGetExampleMessage() {\r\n            String expected = &quot;Default error with some default message default.&quot;;\r\n            assertEquals(expected, myService.getExampleMessage());\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://gist.github.com/jonikarppinen/0d600b0c82edce890310","title":"Unit Test Spring Boot MessageSource","body":"<p>I am using MessageSource in managing my error messages for my application.</p>\n\n<p>My error messages are inside the file <strong>error_messages.properties</strong> in <strong>src/main/resources/messages</strong>.</p>\n\n<p>Below is my configuration for my MessageSource</p>\n\n<pre><code>@Configuration\n@EntityScan(\"mypackage\")\n@EnableJpaRepositories(\"mypackage\")\n@ComponentScan(basePackages = {\n        \"mypackage\"})\npublic class DataConfig {\n\n    @Bean\n    public MessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasenames(\"messages/error_messages\");\n        messageSource.setDefaultEncoding(\"UTF-8\");\n        return messageSource;\n    }\n\n}\n</code></pre>\n\n<p>Below is my component in loading and using the MessageSource (based on <a href=\"https://gist.github.com/jonikarppinen/0d600b0c82edce890310\" rel=\"nofollow noreferrer\">this</a>)</p>\n\n<pre><code>@Component\npublic class ErrorMessages {\n\n    @Autowired\n    private MessageSource messageSource;\n\n    private MessageSourceAccessor accessor;\n\n    @PostConstruct\n    private void init() {\n        accessor = new MessageSourceAccessor(messageSource);\n    }\n\n    public String get(String code) {\n        return accessor.getMessage(code);\n    }\n\n}\n</code></pre>\n\n<p>Now this is my Service layer.</p>\n\n<pre><code>@Service\npublic class MyServiceImpl implements MyService{\n\n    @Autowired\n    private ErrorMessages errorMessages;\n\n    @Override\n    public String getExampleMessage(){\n        return String.format(errorMessages.get(\"default.error\"), \"default\");\n    }\n\n}\n</code></pre>\n\n<p>my properties file</p>\n\n<pre><code>default.error=Default error with some default message %s.\n</code></pre>\n\n<p>This works fine when I run the application. Now my problem is when I run this in my unit test, I want it to actually fetch the error message from the property file. Since it's a MockBean I have to stub a return value for it and I don't want to do that.</p>\n\n<p>How do I do it?</p>\n\n<p>Below is my test.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\npublic class MyServiceImplTest {\n\n    @TestConfiguration\n    static class MyServiceImplTestContextConfiguration {\n        @Bean\n        public MyService myService() {\n            return new MyServiceImpl();\n        }\n    }\n\n    @Autowired\n    private MyService myService;\n\n    // I want to avoid mocking this.\n    @MockBean\n    private ErrorMessages errorMessages;\n\n    @Test\n    public void testGetExampleMessage() {\n        String expected = \"Default error with some default message default.\";\n        assertEquals(expected, myService.getExampleMessage());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","symfony","encryption","fosuserbundle"],"comments":[{"owner":{"account_id":2606599,"reputation":10341,"user_id":2257664,"accept_rate":94,"display_name":"A.L"},"score":0,"creation_date":1457966093,"post_id":35957617,"comment_id":59633146,"body_markdown":"The salt is generated randomly. Then each password is *salted* and *hashed*. In order to check a password, you have to perform the same steps and check that the hash in the database is the same as the generated hash from the provided password.","body":"The salt is generated randomly. Then each password is <i>salted</i> and <i>hashed</i>. In order to check a password, you have to perform the same steps and check that the hash in the database is the same as the generated hash from the provided password."}],"answers":[{"comments":[{"owner":{"account_id":8017214,"reputation":83,"user_id":6047072,"display_name":"Elyes Mejri"},"score":0,"creation_date":1457788963,"post_id":35957764,"comment_id":59571603,"body_markdown":"thanks paul for your answer for my web site all is good but trying to insert these fields using java i dont know how to procede","body":"thanks paul for your answer for my web site all is good but trying to insert these fields using java i dont know how to procede"},{"owner":{"account_id":557212,"reputation":3722,"user_id":919567,"display_name":"Paweł Mikołajczuk"},"score":0,"creation_date":1457789523,"post_id":35957764,"comment_id":59571811,"body_markdown":"What means - `I canot insert in the columns &quot;password&quot; and &quot;salt&quot; ` ?","body":"What means - <code>I canot insert in the columns &quot;password&quot; and &quot;salt&quot; </code> ?"},{"owner":{"account_id":8017214,"reputation":83,"user_id":6047072,"display_name":"Elyes Mejri"},"score":1,"creation_date":1457790617,"post_id":35957764,"comment_id":59572143,"body_markdown":"i mean when i try to add a user using java we must define these columns using the same hashing algorithm used by fosuserBundle all of these allow to me to add user from my desktop app and connecting with the same identifiants using the website","body":"i mean when i try to add a user using java we must define these columns using the same hashing algorithm used by fosuserBundle all of these allow to me to add user from my desktop app and connecting with the same identifiants using the website"},{"owner":{"account_id":557212,"reputation":3722,"user_id":919567,"display_name":"Paweł Mikołajczuk"},"score":1,"creation_date":1457791778,"post_id":35957764,"comment_id":59572535,"body_markdown":"I think that if You create new user from java app then you can set any salt as you want - you just need to encode password in this same way as `Symfony` is doing it. Then You should be able login in both places.","body":"I think that if You create new user from java app then you can set any salt as you want - you just need to encode password in this same way as <code>Symfony</code> is doing it. Then You should be able login in both places."},{"owner":{"account_id":8017214,"reputation":83,"user_id":6047072,"display_name":"Elyes Mejri"},"score":0,"creation_date":1457826209,"post_id":35957764,"comment_id":59584342,"body_markdown":"no it did not work even i modified  manually an existent user by delete his salt field","body":"no it did not work even i modified  manually an existent user by delete his salt field"},{"owner":{"account_id":557212,"reputation":3722,"user_id":919567,"display_name":"Paweł Mikołajczuk"},"score":1,"creation_date":1457856026,"post_id":35957764,"comment_id":59590271,"body_markdown":"You can&#39;t modify existing users salt and try to match password! It will not go na work. You need to precise your question! You ask about this how salt ks generated or how user password is encoded based on that salt?  For logging users you need to apply logic from current password encoder (from Symfony) in your java app.","body":"You can&#39;t modify existing users salt and try to match password! It will not go na work. You need to precise your question! You ask about this how salt ks generated or how user password is encoded based on that salt?  For logging users you need to apply logic from current password encoder (from Symfony) in your java app."}],"tags":[],"owner":{"account_id":557212,"reputation":3722,"user_id":919567,"display_name":"Paweł Mikołajczuk"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457786550,"creation_date":1457786550,"answer_id":35957764,"question_id":35957617,"body_markdown":"Check `FOS\\UserBundle\\Model\\User` `__construct` method:\r\n\r\n    public function __construct()\r\n    {\r\n        $this-&gt;salt = base_convert(sha1(uniqid(mt_rand(), true)), 16, 36);\r\n        $this-&gt;enabled = false;\r\n        $this-&gt;locked = false;\r\n        $this-&gt;expired = false;\r\n        $this-&gt;roles = array();\r\n        $this-&gt;credentialsExpired = false;\r\n    }","title":"Synchronise my java app with the table user of fosuserbundle","body":"<p>Check <code>FOS\\UserBundle\\Model\\User</code> <code>__construct</code> method:</p>\n\n<pre><code>public function __construct()\n{\n    $this-&gt;salt = base_convert(sha1(uniqid(mt_rand(), true)), 16, 36);\n    $this-&gt;enabled = false;\n    $this-&gt;locked = false;\n    $this-&gt;expired = false;\n    $this-&gt;roles = array();\n    $this-&gt;credentialsExpired = false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017214,"reputation":83,"user_id":6047072,"display_name":"Elyes Mejri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677257272,"creation_date":1457879623,"answer_id":35971504,"question_id":35957617,"body_markdown":"finally i find a solution that makes the field &quot;salt&quot; negligible in the fos_user table:\r\n \r\n\r\n    namespace Symfony\\Component\\Security\\Core\\Encoder;\r\n\r\n        protected function mergePasswordAndSalt($password, $salt)\r\n            {\r\n                if (empty($salt)) {\r\n                    return $password;\r\n                }\r\n        \r\n                if (false !== strrpos($salt, &#39;{&#39;) || false !== strrpos($salt, &#39;}&#39;)) {\r\n                    throw new \\InvalidArgumentException(&#39;Cannot use { or } in salt.&#39;);\r\n                }\r\n        \r\n                return $password;\r\n            \r\n        \r\n            }","title":"Synchronise my java app with the table user of fosuserbundle","body":"<p>finally i find a solution that makes the field &quot;salt&quot; negligible in the fos_user table:</p>\n<pre><code>namespace Symfony\\Component\\Security\\Core\\Encoder;\n\n    protected function mergePasswordAndSalt($password, $salt)\n        {\n            if (empty($salt)) {\n                return $password;\n            }\n    \n            if (false !== strrpos($salt, '{') || false !== strrpos($salt, '}')) {\n                throw new \\InvalidArgumentException('Cannot use { or } in salt.');\n            }\n    \n            return $password;\n        \n    \n        }\n</code></pre>\n"}],"owner":{"account_id":8017214,"reputation":83,"user_id":6047072,"display_name":"Elyes Mejri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":35971504,"answer_count":2,"score":2,"last_activity_date":1677257602,"creation_date":1457785612,"question_id":35957617,"body_markdown":"I am trying to create a Desktop app (using java) that points to the same database of my website (created using symfony 2),and i have a problem that I can&#39;t insert in the columns &quot;password&quot; and &quot;salt&quot; (using the same encryption type `sha512` generated by fosuserBundle),and I don&#39;t know how fosuserBundle generates the &quot;salt&quot; value.\r\n\r\nMy encoder is currently set as:\r\n\r\n    security:\r\n    encoders:\r\n        FOS\\UserBundle\\Model\\UserInterface: sha512\r\n\r\n","title":"Synchronise my java app with the table user of fosuserbundle","body":"<p>I am trying to create a Desktop app (using java) that points to the same database of my website (created using symfony 2),and i have a problem that I can't insert in the columns &quot;password&quot; and &quot;salt&quot; (using the same encryption type <code>sha512</code> generated by fosuserBundle),and I don't know how fosuserBundle generates the &quot;salt&quot; value.</p>\n<p>My encoder is currently set as:</p>\n<pre><code>security:\nencoders:\n    FOS\\UserBundle\\Model\\UserInterface: sha512\n</code></pre>\n"},{"tags":["java","httprequest","okta"],"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1571680458,"post_id":58491442,"comment_id":103313443,"body_markdown":"Hrrmm a login endpoint should not require a token to be present.... that would not make very much sense?","body":"Hrrmm a login endpoint should not require a token to be present.... that would not make very much sense?"},{"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"score":0,"creation_date":1571680867,"post_id":58491442,"comment_id":103313626,"body_markdown":"I don&#39;t understand. Which endpoint? Could you describe a litlle more?","body":"I don&#39;t understand. Which endpoint? Could you describe a litlle more?"},{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1571680996,"post_id":58491442,"comment_id":103313676,"body_markdown":"You are saying you want to hit the `OKTA API` to retrieve an access token (this would be considered a login endpoint).... but you are getting a 401? How can an endpoint that is used to retrieve tokens require a token to be present?","body":"You are saying you want to hit the <code>OKTA API</code> to retrieve an access token (this would be considered a login endpoint).... but you are getting a 401? How can an endpoint that is used to retrieve tokens require a token to be present?"},{"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"score":0,"creation_date":1571681163,"post_id":58491442,"comment_id":103313753,"body_markdown":"You&#39;re right, but that endpoint needs client_id and client_secret, and few settings to work. Maybe my HTTP request is configured in wrong way, and that&#39;s why I&#39;m getting an error. Because of that, I&#39;m looking for working example of that.","body":"You&#39;re right, but that endpoint needs client_id and client_secret, and few settings to work. Maybe my HTTP request is configured in wrong way, and that&#39;s why I&#39;m getting an error. Because of that, I&#39;m looking for working example of that."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1627420661,"post_id":58491442,"comment_id":121151287,"body_markdown":"For future reference, the [okta-oauth-java](https://github.com/okta/okta-auth-java) is the SDK for manually retrieving auth tokens. I know it handles username + pass authn, I don&#39;t know if it can handle your client_id + client_secret = token use case.","body":"For future reference, the <a href=\"https://github.com/okta/okta-auth-java\" rel=\"nofollow noreferrer\">okta-oauth-java</a> is the SDK for manually retrieving auth tokens. I know it handles username + pass authn, I don&#39;t know if it can handle your client_id + client_secret = token use case."}],"answers":[{"comments":[{"owner":{"account_id":17301552,"reputation":85,"user_id":12531197,"display_name":"HARSHA sss"},"score":0,"creation_date":1586173217,"post_id":58516575,"comment_id":108021070,"body_markdown":"I need a working example for my desktop application??!! could you help @Marcin","body":"I need a working example for my desktop application??!! could you help @Marcin"},{"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"score":0,"creation_date":1586254126,"post_id":58516575,"comment_id":108054553,"body_markdown":"Sorry, I can&#39;t share this app, because it&#39;s commercial. But please ask, I&#39;ll try to help you with that.","body":"Sorry, I can&#39;t share this app, because it&#39;s commercial. But please ask, I&#39;ll try to help you with that."}],"tags":[],"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571811491,"creation_date":1571811491,"answer_id":58516575,"question_id":58491442,"body_markdown":"OK I have a solution. The problem was wrong configuration on OKTA. \r\nFor those who needs working example, I&#39;ll share my tested code (believe me, it works)\r\n\r\n     public String GetToken() throws IOException, InterruptedException {\r\n        HttpClient client = HttpClient.newBuilder()\r\n                .build();\r\n\r\n        HttpRequest httpRequest = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://YOUR_OKTA_DOMAIN/oauth2/default/v1/token&quot;))\r\n                .headers(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;,\r\n                        &quot;Authorization&quot;, &quot;Basic &quot; + Base64.getEncoder().encodeToString(&quot;CLIENT_ID:CLIENT_SECRET&quot;.getBytes()),\r\n                        &quot;Accept&quot;, &quot;application/json&quot;)\r\n                .POST(HttpRequest.BodyPublishers.ofString(\r\n                        &quot;&amp;grant_type=client_credentials&quot; ))\r\n                .build();\r\n\r\n        HttpResponse&lt;?&gt; response = client.send(httpRequest, HttpResponse.BodyHandlers.ofString());       \r\n\r\n        return response.body().toString();\r\n    }\r\n\r\nOn Okta you need to have created additional scope for Authorization Server. This scope should be default, or if you don&#39;t want to set default scope, you have to add it in body as \r\n\r\n    .POST(HttpRequest.BodyPublishers.ofString(\r\n                        &quot;&amp;grant_type=client_credentials&quot; + \r\n\t\t\t\t\t\t&quot;scope=SCOPE_NAME&quot;))","title":"Get token from OKTA API - Java (plain) example","body":"<p>OK I have a solution. The problem was wrong configuration on OKTA. \nFor those who needs working example, I'll share my tested code (believe me, it works)</p>\n\n<pre><code> public String GetToken() throws IOException, InterruptedException {\n    HttpClient client = HttpClient.newBuilder()\n            .build();\n\n    HttpRequest httpRequest = HttpRequest.newBuilder()\n            .uri(URI.create(\"https://YOUR_OKTA_DOMAIN/oauth2/default/v1/token\"))\n            .headers(\"Content-type\", \"application/x-www-form-urlencoded\",\n                    \"Authorization\", \"Basic \" + Base64.getEncoder().encodeToString(\"CLIENT_ID:CLIENT_SECRET\".getBytes()),\n                    \"Accept\", \"application/json\")\n            .POST(HttpRequest.BodyPublishers.ofString(\n                    \"&amp;grant_type=client_credentials\" ))\n            .build();\n\n    HttpResponse&lt;?&gt; response = client.send(httpRequest, HttpResponse.BodyHandlers.ofString());       \n\n    return response.body().toString();\n}\n</code></pre>\n\n<p>On Okta you need to have created additional scope for Authorization Server. This scope should be default, or if you don't want to set default scope, you have to add it in body as </p>\n\n<pre><code>.POST(HttpRequest.BodyPublishers.ofString(\n                    \"&amp;grant_type=client_credentials\" + \n                    \"scope=SCOPE_NAME\"))\n</code></pre>\n"}],"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58516575,"answer_count":1,"score":1,"last_activity_date":1677257114,"creation_date":1571679152,"question_id":58491442,"body_markdown":"I&#39;ve created an account on OKTA environment [here][1].\r\nI searched on the net, but I couldn&#39;t find any examples on how to get access token from OKTA API. I&#39;m looking for some example in &quot;plain&quot; Java code. But if there is something in any SDK, I&#39;ll be happy. \r\nI tried to create an HTTP request (POST), to **/token** endpoint. I&#39;ve used **cliend_id** and **client_secret** - in body. I&#39;ve also tried to put in into header as basic authentication (before that, I encoded **client_id:client_secret** with Base64), but I still getting unauthorized (401). \r\n\n\r\n\r\n  [1]: https://developer.okta.com/","title":"Get token from OKTA API - Java (plain) example","body":"<p>I've created an account on OKTA environment <a href=\"https://developer.okta.com/\" rel=\"nofollow noreferrer\">here</a>.\nI searched on the net, but I couldn't find any examples on how to get access token from OKTA API. I'm looking for some example in \"plain\" Java code. But if there is something in any SDK, I'll be happy. \nI tried to create an HTTP request (POST), to <strong>/token</strong> endpoint. I've used <strong>cliend_id</strong> and <strong>client_secret</strong> - in body. I've also tried to put in into header as basic authentication (before that, I encoded <strong>client_id:client_secret</strong> with Base64), but I still getting unauthorized (401). </p>\n"},{"tags":["java","android","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":27864179,"reputation":350,"user_id":21276039,"display_name":"indyteo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677257013,"creation_date":1677257013,"answer_id":75559191,"question_id":75557601,"body_markdown":"The [`BottomNavigationView`](https://developer.android.com/reference/com/google/android/material/bottomnavigation/BottomNavigationView) element extends [`NavigationBarView`](https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView) which has a [`getMenu()`](https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView#getMenu()) method that returns a [`Menu`](https://developer.android.com/reference/android/view/Menu) instance. Once you get your menu, you can retrieve the [`MenuItem`](https://developer.android.com/reference/android/view/MenuItem) you want using [`findItem(id)`](https://developer.android.com/reference/android/view/Menu#findItem(int)) or [`getItem(index)`](https://developer.android.com/reference/android/view/Menu#getItem(int)). Finally, you can alter the icon using the various [`setIcon*()`](https://developer.android.com/reference/android/view/MenuItem#setIcon(int)) methods.\r\n\r\nHowever, notifications should be indicated using the [badges](https://m3.material.io/components/badges/overview). If you want, you can interact with badges at runtime using the [`getOrCreateBadge(menuItemId)`](https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView#getOrCreateBadge(int)) method on your bottom navigation view directly.","title":"How to change bottom navigation&#39;s item icon at runtime?","body":"<p>The <a href=\"https://developer.android.com/reference/com/google/android/material/bottomnavigation/BottomNavigationView\" rel=\"nofollow noreferrer\"><code>BottomNavigationView</code></a> element extends <a href=\"https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView\" rel=\"nofollow noreferrer\"><code>NavigationBarView</code></a> which has a <a href=\"https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView#getMenu()\" rel=\"nofollow noreferrer\"><code>getMenu()</code></a> method that returns a <a href=\"https://developer.android.com/reference/android/view/Menu\" rel=\"nofollow noreferrer\"><code>Menu</code></a> instance. Once you get your menu, you can retrieve the <a href=\"https://developer.android.com/reference/android/view/MenuItem\" rel=\"nofollow noreferrer\"><code>MenuItem</code></a> you want using <a href=\"https://developer.android.com/reference/android/view/Menu#findItem(int)\" rel=\"nofollow noreferrer\"><code>findItem(id)</code></a> or <a href=\"https://developer.android.com/reference/android/view/Menu#getItem(int)\" rel=\"nofollow noreferrer\"><code>getItem(index)</code></a>. Finally, you can alter the icon using the various <a href=\"https://developer.android.com/reference/android/view/MenuItem#setIcon(int)\" rel=\"nofollow noreferrer\"><code>setIcon*()</code></a> methods.</p>\n<p>However, notifications should be indicated using the <a href=\"https://m3.material.io/components/badges/overview\" rel=\"nofollow noreferrer\">badges</a>. If you want, you can interact with badges at runtime using the <a href=\"https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView#getOrCreateBadge(int)\" rel=\"nofollow noreferrer\"><code>getOrCreateBadge(menuItemId)</code></a> method on your bottom navigation view directly.</p>\n"}],"owner":{"account_id":23606839,"reputation":45,"user_id":17642440,"display_name":"max256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677257013,"creation_date":1677248121,"question_id":75557601,"body_markdown":"I have a bottom navigation view which has four items (Home, Search, Notification, Profile). I want if the user has an unread notification the icon of the notification item turns to red. Therefore, I need to change the icon or color icon of the notification item using JAVA codes at runtime. So, my question is how can I change icon of a bottom navigation view at runtime?\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNavigationView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:menu=&quot;@menu/bottom_nav&quot;/&gt;","title":"How to change bottom navigation&#39;s item icon at runtime?","body":"<p>I have a bottom navigation view which has four items (Home, Search, Notification, Profile). I want if the user has an unread notification the icon of the notification item turns to red. Therefore, I need to change the icon or color icon of the notification item using JAVA codes at runtime. So, my question is how can I change icon of a bottom navigation view at runtime?</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:menu=&quot;@menu/bottom_nav&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":3,"creation_date":1619945376,"post_id":67354467,"comment_id":119051985,"body_markdown":"Where exactly have you measured those times? How exactly did you call your algorithm in both examples? And what possible differences do you have in the code? Without any examples, it&#39;s not possible to answer properly (any answers right now would be highly speculative about the reasons).","body":"Where exactly have you measured those times? How exactly did you call your algorithm in both examples? And what possible differences do you have in the code? Without any examples, it&#39;s not possible to answer properly (any answers right now would be highly speculative about the reasons)."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1619946351,"post_id":67354467,"comment_id":119052167,"body_markdown":"If you executed the &#39;pure Java code&#39; scenario by calling your algorithm in a loop, it&#39;s quite likely that the way you structured your code made jvm optimize your method call away. To understand what I mean, see [this article](https://www.oracle.com/technical-resources/articles/java/architect-benchmarking.html)","body":"If you executed the &#39;pure Java code&#39; scenario by calling your algorithm in a loop, it&#39;s quite likely that the way you structured your code made jvm optimize your method call away. To understand what I mean, see <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-benchmarking.html\" rel=\"nofollow noreferrer\">this article</a>"},{"owner":{"account_id":10398091,"reputation":65,"user_id":7667292,"display_name":"chrisb89"},"score":0,"creation_date":1620034548,"post_id":67354467,"comment_id":119073072,"body_markdown":"@dunni, crizzis, Eugene: I just updated my description to explain how I measure this. So I am not calling my algorithm in a loop, the algorithm is only triggered once and executed for a number of iterations.","body":"@dunni, crizzis, Eugene: I just updated my description to explain how I measure this. So I am not calling my algorithm in a loop, the algorithm is only triggered once and executed for a number of iterations."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1620056523,"post_id":67354467,"comment_id":119082401,"body_markdown":"the answer that I have provided still stands, even after your update.","body":"the answer that I have provided still stands, even after your update."},{"owner":{"account_id":10398091,"reputation":65,"user_id":7667292,"display_name":"chrisb89"},"score":0,"creation_date":1620226116,"post_id":67354467,"comment_id":119138869,"body_markdown":"@Eugene, if I understand you correctly, Spring creates proxies for the rest controllers. So there is of course some overhead when a `@RestController` is called. However, by the time `optimize()` is triggered, there should no longer be any proxies involved, right? This should simply be my created java code, right? So where does the performance gap come from?","body":"@Eugene, if I understand you correctly, Spring creates proxies for the rest controllers. So there is of course some overhead when a <code>@RestController</code> is called. However, by the time <code>optimize()</code> is triggered, there should no longer be any proxies involved, right? This should simply be my created java code, right? So where does the performance gap come from?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1620226668,"post_id":67354467,"comment_id":119139179,"body_markdown":"@chrisb89 it will be close to impossible to answer this question without running a profiler, I think. As said in the answer, your are measuring _cold_ start of a method, these kind of measurements are unpredictable and are influenced by a lot of factors.","body":"@chrisb89 it will be close to impossible to answer this question without running a profiler, I think. As said in the answer, your are measuring <i>cold</i> start of a method, these kind of measurements are unpredictable and are influenced by a lot of factors."},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1671714824,"post_id":67354467,"comment_id":132160369,"body_markdown":"I have exactly the same problem. Using a population based optimization that runs millions of iterations is about 3times slower when triggered through spring rest controller than when triggered by pure java. I wouldn&#39;t consider an algorithm with millions of iterations that runs for minutes to be &quot;cold start&quot;. The CPU load is pretty much the same, so are other settings like GC and memory.","body":"I have exactly the same problem. Using a population based optimization that runs millions of iterations is about 3times slower when triggered through spring rest controller than when triggered by pure java. I wouldn&#39;t consider an algorithm with millions of iterations that runs for minutes to be &quot;cold start&quot;. The CPU load is pretty much the same, so are other settings like GC and memory."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619964510,"creation_date":1619964510,"answer_id":67357294,"question_id":67354467,"body_markdown":"Without knowing the exact way you measured, these numbers could mean exactly zero (as in it is irrelevant what they are). \r\n\r\nIf you simply measured `5` and `100` executions, you have only measured &quot;cold start&quot; of those methods, and the fact that Spring is significantly slower is very expected; if you have an idea how Spring works under the hood. Spring will create proxies for all of your rest controller methods, that will go under a `tomcat` under the hood too... To simplify what I mean, throw an `Exception` in your `@RestController` and look at the stacktrace - you would be surprised of it&#39;s depth, I think. \r\n\r\n\r\nThe good news is that once you have _many_ invocations of those rest methods, the `JVM` will optimize a lot of the things and calls will get a lot faster than the ones you made initially. Still, you will never be able to beat a plain method invocation vs calling it via a spring controller. ","title":"Method executed inside a Spring Rest Controller is significantly slower than in a pure java project","body":"<p>Without knowing the exact way you measured, these numbers could mean exactly zero (as in it is irrelevant what they are).</p>\n<p>If you simply measured <code>5</code> and <code>100</code> executions, you have only measured &quot;cold start&quot; of those methods, and the fact that Spring is significantly slower is very expected; if you have an idea how Spring works under the hood. Spring will create proxies for all of your rest controller methods, that will go under a <code>tomcat</code> under the hood too... To simplify what I mean, throw an <code>Exception</code> in your <code>@RestController</code> and look at the stacktrace - you would be surprised of it's depth, I think.</p>\n<p>The good news is that once you have <em>many</em> invocations of those rest methods, the <code>JVM</code> will optimize a lot of the things and calls will get a lot faster than the ones you made initially. Still, you will never be able to beat a plain method invocation vs calling it via a spring controller.</p>\n"},{"tags":[],"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677256760,"creation_date":1677256760,"answer_id":75559149,"question_id":67354467,"body_markdown":"If you are using IntelliJ, you need to disable launch optimization (it&#39;s spring-specific option in run config). By default, IntelliJ adds the flag `-XX:TieredStopAtLevel=1` for spring apps, which essentially prevents c2 compilation, hence making computation-heavy tasks significantly slower.\r\n\r\nSource: https://youtrack.jetbrains.com/issue/IDEA-297872","title":"Method executed inside a Spring Rest Controller is significantly slower than in a pure java project","body":"<p>If you are using IntelliJ, you need to disable launch optimization (it's spring-specific option in run config). By default, IntelliJ adds the flag <code>-XX:TieredStopAtLevel=1</code> for spring apps, which essentially prevents c2 compilation, hence making computation-heavy tasks significantly slower.</p>\n<p>Source: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-297872\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-297872</a></p>\n"}],"owner":{"account_id":10398091,"reputation":65,"user_id":7667292,"display_name":"chrisb89"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1677256760,"creation_date":1619945190,"question_id":67354467,"body_markdown":"**Background:**\r\nI am working on a spring web application that provides an optimization algorithm to the users. The performance of my algorithm is acceptable when executed in a pure java project. However, calling it via a rest controller in a spring project leads to a massive performance gap which I would like to understand.\r\n\r\n**Test/Observation:**\r\n Of course, all tests are executed on the same hardware. The optimization algorithm is independent of spring, i.e. it receives some basic java objects as input and returns a result. As you can see in the table below, executing my algorithm takes at least twice as long inside spring which holds for 5 iterations and for 100 iterations (i.e. no constant overhead in the beginning). \r\n\r\n| Iterations [No.]  | Pure Java [ms]  | Spring [ms] |\r\n| :----------------:| :--------------:| :----------:|\r\n| 5                 | ~200            | ~ 400       |\r\n| 100               | ~1400           | 3500 - 5000 |\r\n\r\nI totally understand that a web application leads to some overhead on my machine (spring, angular, etc.). However, would you really expect such a massive performance impact? Essentially, this is only a small test data set and real world data sets will be more challenging.\r\n\r\nTo explain how I measured this in more detail:\r\n- I have an `Optimization.class` which contains a `public static Result optimize(Data data){}`. `Data.class` is a POJO without any reference to spring entities.\r\n- `optimize()` is an evolutionary algorithm with 5 or 100 iterations. The time given above is only measured inside `optimize()` but around the loop of iterations using `System.currentTimeInMillis()`. Hence, my method is only triggered once but executed for different number of iterations and I am only measuring how long these iterations in my algorithm take.\r\n- `Pure Java` means that I created a `public static void main(String[] args)` that prepares `Data.class` and calls `optimize()`.\r\n- `Spring` means that I created a rest controller that prepares `Data.class` and calls `optimize()`.\r\n\r\n**Main Questions:**\r\nI would highly appreciate any help to understand this issue in more detail. Currently I am thinking about the following questions:\r\n - Which factors influence the performance of a method executed inside a spring rest controller?\r\n - Can I somehow configure how the given hardware is used by spring?\r\n - Is there any alternative to access an algorithm from the client, i.e. some alternative to the rest controller?\r\n - Would it help to execute my algorithm in some asynchronous way and call the server again later to receive the result?","title":"Method executed inside a Spring Rest Controller is significantly slower than in a pure java project","body":"<p><strong>Background:</strong>\nI am working on a spring web application that provides an optimization algorithm to the users. The performance of my algorithm is acceptable when executed in a pure java project. However, calling it via a rest controller in a spring project leads to a massive performance gap which I would like to understand.</p>\n<p><strong>Test/Observation:</strong>\nOf course, all tests are executed on the same hardware. The optimization algorithm is independent of spring, i.e. it receives some basic java objects as input and returns a result. As you can see in the table below, executing my algorithm takes at least twice as long inside spring which holds for 5 iterations and for 100 iterations (i.e. no constant overhead in the beginning).</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Iterations [No.]</th>\n<th style=\"text-align: center;\">Pure Java [ms]</th>\n<th style=\"text-align: center;\">Spring [ms]</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\">~200</td>\n<td style=\"text-align: center;\">~ 400</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">100</td>\n<td style=\"text-align: center;\">~1400</td>\n<td style=\"text-align: center;\">3500 - 5000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I totally understand that a web application leads to some overhead on my machine (spring, angular, etc.). However, would you really expect such a massive performance impact? Essentially, this is only a small test data set and real world data sets will be more challenging.</p>\n<p>To explain how I measured this in more detail:</p>\n<ul>\n<li>I have an <code>Optimization.class</code> which contains a <code>public static Result optimize(Data data){}</code>. <code>Data.class</code> is a POJO without any reference to spring entities.</li>\n<li><code>optimize()</code> is an evolutionary algorithm with 5 or 100 iterations. The time given above is only measured inside <code>optimize()</code> but around the loop of iterations using <code>System.currentTimeInMillis()</code>. Hence, my method is only triggered once but executed for different number of iterations and I am only measuring how long these iterations in my algorithm take.</li>\n<li><code>Pure Java</code> means that I created a <code>public static void main(String[] args)</code> that prepares <code>Data.class</code> and calls <code>optimize()</code>.</li>\n<li><code>Spring</code> means that I created a rest controller that prepares <code>Data.class</code> and calls <code>optimize()</code>.</li>\n</ul>\n<p><strong>Main Questions:</strong>\nI would highly appreciate any help to understand this issue in more detail. Currently I am thinking about the following questions:</p>\n<ul>\n<li>Which factors influence the performance of a method executed inside a spring rest controller?</li>\n<li>Can I somehow configure how the given hardware is used by spring?</li>\n<li>Is there any alternative to access an algorithm from the client, i.e. some alternative to the rest controller?</li>\n<li>Would it help to execute my algorithm in some asynchronous way and call the server again later to receive the result?</li>\n</ul>\n"},{"tags":["java","http","url","browser","httpclient"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677256128,"post_id":75558802,"comment_id":133308094,"body_markdown":"It&#39;s not a valid URL. Apparently `CloseableHttpClient`&#39;s implementation is very forgiving and parses this anyways.","body":"It&#39;s not a valid URL. Apparently <code>CloseableHttpClient</code>&#39;s implementation is very forgiving and parses this anyways."},{"owner":{"account_id":6589260,"reputation":636,"user_id":5091077,"accept_rate":78,"display_name":"cSharma"},"score":0,"creation_date":1677256899,"post_id":75558802,"comment_id":133308289,"body_markdown":"So this is not good way for customer end right? @f1sh","body":"So this is not good way for customer end right? @f1sh"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677262176,"post_id":75558802,"comment_id":133309618,"body_markdown":"I don&#39;t see how your choice of an http client during testing has an impact on any customer","body":"I don&#39;t see how your choice of an http client during testing has an impact on any customer"}],"owner":{"account_id":6589260,"reputation":636,"user_id":5091077,"accept_rate":78,"display_name":"cSharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677256713,"creation_date":1677254880,"question_id":75558802,"body_markdown":"I am able to get 200 status code for &quot;http://machineName:port..://&lt;relativeURL&gt;&quot;.\r\nBut same url format is not running in postman or normal browser. I have to validate this wrong format url but http response is not throwing any exception so how to solve this problem.\r\nI am using CloseableHttpClient class.\r\nThis url &quot;http://machineName:port[alphanumeric]/&lt;relativeURL&gt;&quot; also passed (got 200 status code).\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rWNIX.jpg\r\n  [2]: https://i.stack.imgur.com/EGR7s.jpg","title":"&quot;http://&lt;machineName&gt;:&lt;port&gt;..://&quot; Is this valid url in CloseableHttpClient?","body":"<p>I am able to get 200 status code for &quot;http://machineName:port..://&quot;.\nBut same url format is not running in postman or normal browser. I have to validate this wrong format url but http response is not throwing any exception so how to solve this problem.\nI am using CloseableHttpClient class.\nThis url &quot;http://machineName:port[alphanumeric]/&quot; also passed (got 200 status code).</p>\n<p><a href=\"https://i.stack.imgur.com/rWNIX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rWNIX.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EGR7s.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGR7s.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677253982,"post_id":75558613,"comment_id":133307385,"body_markdown":"Thanks for reply. Actually my purpose is not restrict, then &gt;&gt;&gt; **1.** Should I use `@Column(nullable = false, columnDefinition = &quot;TEXT&quot;)` ?","body":"Thanks for reply. Actually my purpose is not restrict, then &gt;&gt;&gt; <b>1.</b> Should I use <code>@Column(nullable = false, columnDefinition = &quot;TEXT&quot;)</code> ?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677254030,"post_id":75558613,"comment_id":133307403,"body_markdown":"**2.** Actually I am not sure if I should use `@Lob` instead of this approach for the TEXT fields. Do you have any idea?","body":"<b>2.</b> Actually I am not sure if I should use <code>@Lob</code> instead of this approach for the TEXT fields. Do you have any idea?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1677254060,"post_id":75558613,"comment_id":133307412,"body_markdown":"As I wrote: if you want to restrict the length, use `varchar(4000)`. And `@Lob` is completely wrong.","body":"As I wrote: if you want to restrict the length, use <code>varchar(4000)</code>. And <code>@Lob</code> is completely wrong."},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677255754,"post_id":75558613,"comment_id":133307968,"body_markdown":"Thanks a lot horse! But I also tried to use `@Lob` and basically it is also working. What is wrong with it? And when I should prefer and not prefer it in Hibernate?","body":"Thanks a lot horse! But I also tried to use <code>@Lob</code> and basically it is also working. What is wrong with it? And when I should prefer and not prefer it in Hibernate?"}],"tags":[],"owner":{"display_name":"user330315"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677254077,"creation_date":1677253843,"answer_id":75558613,"question_id":75558574,"body_markdown":"[As documented in the manual](https://www.postgresql.org/docs/current/datatype-character.html) the data type `text` accepts no length limit and has a maximum size of 1GB. \r\n\r\nIf you want a constraint to limit the length, use a check constraint on a `text` column or use the `varchar(4000)`. ","title":"What is the max column length of TEXT field in Hibernate?","body":"<p><a href=\"https://www.postgresql.org/docs/current/datatype-character.html\" rel=\"nofollow noreferrer\">As documented in the manual</a> the data type <code>text</code> accepts no length limit and has a maximum size of 1GB.</p>\n<p>If you want a constraint to limit the length, use a check constraint on a <code>text</code> column or use the <code>varchar(4000)</code>.</p>\n"},{"comments":[{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677258619,"post_id":75558976,"comment_id":133308753,"body_markdown":"Perfect explanations.","body":"Perfect explanations."}],"tags":[],"owner":{"account_id":19672763,"reputation":1776,"user_id":15062361,"display_name":"Pepe N O"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677256494,"creation_date":1677255817,"answer_id":75558976,"question_id":75558574,"body_markdown":"Max column length of text type is your RDBMS&#39;s max length for text datatype, in PostgreSQL case is 1Gb. If you want to limit size use \r\n\r\n    @Column (columnDefinition = &quot;VARCHAR (n)&quot; ) \r\n\r\n@Column annotation indicates specific characteristics of the physical database column, and &lt;n&gt; will be enforced by database (PostgreSQL checks and throws an error)\r\n\r\nOr\r\n\r\n    @column(columndefinition=&quot;text&quot;)\r\n\r\nThat will adjust to the limit aforementioned, where length attribute may not work and won&#39;t be necessary.","title":"What is the max column length of TEXT field in Hibernate?","body":"<p>Max column length of text type is your RDBMS's max length for text datatype, in PostgreSQL case is 1Gb. If you want to limit size use</p>\n<pre><code>@Column (columnDefinition = &quot;VARCHAR (n)&quot; ) \n</code></pre>\n<p>@Column annotation indicates specific characteristics of the physical database column, and  will be enforced by database (PostgreSQL checks and throws an error)</p>\n<p>Or</p>\n<pre><code>@column(columndefinition=&quot;text&quot;)\n</code></pre>\n<p>That will adjust to the limit aforementioned, where length attribute may not work and won't be necessary.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75558976,"answer_count":2,"score":0,"last_activity_date":1677256494,"creation_date":1677253545,"question_id":75558574,"body_markdown":"I have a text field in my Hibernate entity as shown below:\r\n\r\n```\r\n@Column(nullable = false, columnDefinition = &quot;TEXT&quot;)\r\nprivate String content;\r\n```\r\n\r\nSo, what is the default and suggested length for this field (it is a content of a blog)? And should I set it using `length` as shown below? \r\n\r\n\r\n```\r\n@Column(nullable = false, columnDefinition = &quot;TEXT&quot;, length = 4000)\r\nprivate String content;\r\n```\r\n\r\nNote: My database is PostgreSQL. \r\n","title":"What is the max column length of TEXT field in Hibernate?","body":"<p>I have a text field in my Hibernate entity as shown below:</p>\n<pre><code>@Column(nullable = false, columnDefinition = &quot;TEXT&quot;)\nprivate String content;\n</code></pre>\n<p>So, what is the default and suggested length for this field (it is a content of a blog)? And should I set it using <code>length</code> as shown below?</p>\n<pre><code>@Column(nullable = false, columnDefinition = &quot;TEXT&quot;, length = 4000)\nprivate String content;\n</code></pre>\n<p>Note: My database is PostgreSQL.</p>\n"},{"tags":["java","maven","jar"],"comments":[{"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"score":0,"creation_date":1411555931,"post_id":26014840,"comment_id":40744659,"body_markdown":"You need to copy your dependencies into lib folder. In maven configuration you showed us I don&#39;t see this goal.","body":"You need to copy your dependencies into lib folder. In maven configuration you showed us I don&#39;t see this goal."}],"answers":[{"comments":[{"owner":{"account_id":1086182,"reputation":3886,"user_id":1081849,"display_name":"sbk"},"score":1,"creation_date":1411559363,"post_id":26015045,"comment_id":40746706,"body_markdown":"Nearly there. Have a look in your target directory - you should have a `test-fft-with-dependencies.jar`.  That is the one to run.  (See also http://stackoverflow.com/questions/1814526/problem-building-executable-jar-with-maven)","body":"Nearly there. Have a look in your target directory - you should have a <code>test-fft-with-dependencies.jar</code>.  That is the one to run.  (See also <a href=\"http://stackoverflow.com/questions/1814526/problem-building-executable-jar-with-maven\" title=\"problem building executable jar with maven\">stackoverflow.com/questions/1814526/&hellip;</a>)"}],"tags":[],"owner":{"account_id":3959361,"reputation":51,"user_id":3266889,"display_name":"chenthil"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411555902,"creation_date":1411555902,"answer_id":26015045,"question_id":26014840,"body_markdown":"use the maven-assembly plugin to build the jar with dependency.\r\n\r\n       &lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;single&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n      &lt;descriptorRefs&gt;\r\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n      &lt;/descriptorRefs&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n\r\n  ","title":"Class Not Found Exception for a Maven Jar","body":"<p>use the maven-assembly plugin to build the jar with dependency.</p>\n\n<pre><code>   &lt;plugin&gt;\n&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n&lt;executions&gt;\n  &lt;execution&gt;\n    &lt;phase&gt;package&lt;/phase&gt;\n    &lt;goals&gt;\n      &lt;goal&gt;single&lt;/goal&gt;\n    &lt;/goals&gt;\n  &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;configuration&gt;\n  &lt;descriptorRefs&gt;\n    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n  &lt;/descriptorRefs&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":5075975,"reputation":370,"user_id":4073314,"display_name":"Sunil Khokhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1677256264,"creation_date":1411556385,"answer_id":26015202,"question_id":26014840,"body_markdown":"```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;outputDirectory&gt;Mydir/lib&lt;/outputDirectory&gt;\r\n            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;outputDirectory&gt;MyDir&lt;/outputDirectory&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\r\n            &lt;mainClass&gt;com.test.entryClassOfJarHavingMainMethod&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nUse these configuration in pom.xml to create jar with lib folder and package as a jar\r\n","title":"Class Not Found Exception for a Maven Jar","body":"<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;outputDirectory&gt;Mydir/lib&lt;/outputDirectory&gt;\n            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.4&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;outputDirectory&gt;MyDir&lt;/outputDirectory&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;com.test.entryClassOfJarHavingMainMethod&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Use these configuration in pom.xml to create jar with lib folder and package as a jar</p>\n"}],"owner":{"account_id":1922053,"reputation":2613,"user_id":1733310,"accept_rate":64,"display_name":"Prasanna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21833,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1677256264,"creation_date":1411555260,"question_id":26014840,"body_markdown":"I use maven to manage dependency in my project. This is my pom.xml\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.prasanna&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fft-java&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;fft-java&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n              &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;com.github.wendykierp&lt;/groupId&gt;\r\n              &lt;artifactId&gt;JTransforms&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;!-- Build an executable JAR --&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;mainClass&gt;com.prasanna.TestFFT&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI have only one java class in my application. When I run my class from my application, it runs as expected. Whereas if I make a `mvn package` and try to run it from the terminal as `java -jar test-fft.jar`, I get a `java.lang.ClassNotFoundException: org.jtransforms.fft.DoubleFFT_2D`\r\n\r\nBut this DoubleFFT_2D is a part of JTransforms dependency that I have added. How would I run this jar?","title":"Class Not Found Exception for a Maven Jar","body":"<p>I use maven to manage dependency in my project. This is my pom.xml\n<strong>pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.prasanna&lt;/groupId&gt;\n  &lt;artifactId&gt;fft-java&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;fft-java&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;4.11&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;com.github.wendykierp&lt;/groupId&gt;\n          &lt;artifactId&gt;JTransforms&lt;/artifactId&gt;\n          &lt;version&gt;3.0&lt;/version&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.prasanna.TestFFT&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I have only one java class in my application. When I run my class from my application, it runs as expected. Whereas if I make a <code>mvn package</code> and try to run it from the terminal as <code>java -jar test-fft.jar</code>, I get a <code>java.lang.ClassNotFoundException: org.jtransforms.fft.DoubleFFT_2D</code></p>\n\n<p>But this DoubleFFT_2D is a part of JTransforms dependency that I have added. How would I run this jar?</p>\n"},{"tags":["java","android","string"],"answers":[{"comments":[{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1677258773,"post_id":75558703,"comment_id":133308789,"body_markdown":"Thank you for your involement but I can&#39;t vote for your answer because of my new account :(","body":"Thank you for your involement but I can&#39;t vote for your answer because of my new account :("}],"tags":[],"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677254318,"creation_date":1677254318,"answer_id":75558703,"question_id":75557242,"body_markdown":"If you can break the `TextView` into separate sections, you can accomplish this by `xml`\r\n\r\n    &lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;Bold Text&quot;\r\n    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\nor you can do it programmatically\r\n\r\n    textView.setTypeface(null, Typeface.BOLD)\r\n","title":"Android bold fragment of textview text","body":"<p>If you can break the <code>TextView</code> into separate sections, you can accomplish this by <code>xml</code></p>\n<pre><code>&lt;TextView\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:text=&quot;Bold Text&quot;\nandroid:textStyle=&quot;bold&quot; /&gt;\n</code></pre>\n<p>or you can do it programmatically</p>\n<pre><code>textView.setTypeface(null, Typeface.BOLD)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1677258838,"post_id":75559045,"comment_id":133308804,"body_markdown":"Yes that&#39;s it but with a little of pondering ;)","body":"Yes that&#39;s it but with a little of pondering ;)"}],"tags":[],"owner":{"account_id":8279191,"reputation":36,"user_id":6224408,"display_name":"dangelouss"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677256203,"creation_date":1677256203,"answer_id":75559045,"question_id":75557242,"body_markdown":"An idea can be to use the SpannableString.\r\n\r\nFirst of all you have to split your string in two different string resources\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    &lt;string name=&quot;this_is_base_note_part1&quot;&gt;This is base note of group &lt;/string&gt;\r\n    &lt;string name=&quot;this_is_base_note_part2&quot;&gt;. It cannot be deleted individually but with the rest of the group.&lt;/string&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nThen you can get your strings, and compose the entire string:\r\n\r\n\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n\r\n    val partOne = getString(R.string.this_is_base_note_part1)\r\n    val partTwo = getString(R.string.this_is_base_note_part2)\r\n    val stringToBeBolded = db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;)\r\n\r\n    val entireString = partOne + stringToBeBolded + partTwo\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nNow you are ready to create your SpannableString:\r\n\r\n\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n\r\n    val spannable = SpannableString(entireString)\r\n    val startBold = partOne.length\r\n    val endBold = startBold + stringToBeBolded.length\r\n    spannable.setSpan(StyleSpan(Typeface.BOLD), startBold, endBold, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE) \r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNow you can set your spannable into your TextView\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n\r\n    textview.text = spannable\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android bold fragment of textview text","body":"<p>An idea can be to use the SpannableString.</p>\n<p>First of all you have to split your string in two different string resources</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;string name=&quot;this_is_base_note_part1&quot;&gt;This is base note of group &lt;/string&gt;\n&lt;string name=&quot;this_is_base_note_part2&quot;&gt;. It cannot be deleted individually but with the rest of the group.&lt;/string&gt;\n</code></pre>\n\n<p>Then you can get your strings, and compose the entire string:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val partOne = getString(R.string.this_is_base_note_part1)\nval partTwo = getString(R.string.this_is_base_note_part2)\nval stringToBeBolded = db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;)\n\nval entireString = partOne + stringToBeBolded + partTwo\n</code></pre>\n\n<p>Now you are ready to create your SpannableString:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val spannable = SpannableString(entireString)\nval startBold = partOne.length\nval endBold = startBold + stringToBeBolded.length\nspannable.setSpan(StyleSpan(Typeface.BOLD), startBold, endBold, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE) \n</code></pre>\n\n<p>Now you can set your spannable into your TextView</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>textview.text = spannable\n</code></pre>\n\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75559045,"answer_count":2,"score":0,"last_activity_date":1677256203,"creation_date":1677245903,"question_id":75557242,"body_markdown":"I want to be able to bold a placeholder of my textview text that is `db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder())`\r\n\r\nHere is what I have tried:\r\n\r\n    HtmlCompat.fromHtml(String.format(fragment.getString(R.string.this_is_base_note), db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;), 0));\r\n\r\nOR changed the end of this code like this (nothing changed):\r\n\r\n    HtmlCompat.fromHtml(String.format(fragment.getString(R.string.this_is_base_note), db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY));\r\n\r\nThis string resource looks like this:\r\n\r\n    &lt;string name=&quot;this_is_base_note&quot;&gt;This is base note of group&lt;b&gt;%1$s&lt;/b&gt;. It cannot be deleted individually but with the rest of the group.&lt;/string&gt;\r\n\r\n\r\nUnfortunately my placeholder is not bold. How to solve that?","title":"Android bold fragment of textview text","body":"<p>I want to be able to bold a placeholder of my textview text that is <code>db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder())</code></p>\n<p>Here is what I have tried:</p>\n<pre><code>HtmlCompat.fromHtml(String.format(fragment.getString(R.string.this_is_base_note), db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;), 0));\n</code></pre>\n<p>OR changed the end of this code like this (nothing changed):</p>\n<pre><code>HtmlCompat.fromHtml(String.format(fragment.getString(R.string.this_is_base_note), db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY));\n</code></pre>\n<p>This string resource looks like this:</p>\n<pre><code>&lt;string name=&quot;this_is_base_note&quot;&gt;This is base note of group&lt;b&gt;%1$s&lt;/b&gt;. It cannot be deleted individually but with the rest of the group.&lt;/string&gt;\n</code></pre>\n<p>Unfortunately my placeholder is not bold. How to solve that?</p>\n"},{"tags":["java","elasticsearch","jhipster"],"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677255857,"creation_date":1677255857,"question_id":75558985,"body_markdown":"I&#39;m trying to upgrade a JHipster v5 app to v7.9.3. With JHipster 5, I was able to secure Elasticsearch endpoints by adding a filter by the user&#39;s login.\r\n\r\n```java\r\npublic ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(@RequestParam String query, Pageable pageable) {\r\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\r\n    BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(queryStringQuery(query));\r\n    if (SecurityUtils.isAuthenticated() &amp;&amp; !SecurityUtils.isCurrentUserInRole(AuthoritiesConstants.ADMIN)) {\r\n        queryBuilder = queryBuilder.filter(matchQuery(&quot;user.login&quot;,\r\n            SecurityUtils.getCurrentUserLogin().orElse(&quot;&quot;)));\r\n    }\r\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(queryBuilder, pageable);\r\n    HttpHeaders headers = PaginationUtil.generateSearchPaginationHttpHeaders(query, page, &quot;/api/_search/blood-pressures&quot;);\r\n    return new ResponseEntity&lt;&gt;(page.getContent(), headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nWith JHipster 7, here&#39;s what the method looks like before I try to lock it down.\r\n\r\n```java\r\npublic ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(\r\n    @RequestParam String query,\r\n    @org.springdoc.api.annotations.ParameterObject Pageable pageable\r\n) {\r\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\r\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(query, pageable);\r\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\r\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\r\n}\r\n```\r\n\r\nJHipster 5 allowed me to pass the `queryBuilder` directly into the `search()` method. However, with JHipster 7, it expects a String. Is it possible to get the query from the `queryBuilder` to make it all work?\r\n\r\nHere&#39;s what I have so far:\r\n\r\n```java\r\npublic ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(\r\n    @RequestParam String query,\r\n    @org.springdoc.api.annotations.ParameterObject Pageable pageable\r\n) {\r\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\r\n    BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(queryStringQuery(query));\r\n    if (SecurityUtils.isAuthenticated() &amp;&amp; !SecurityUtils.hasCurrentUserThisAuthority(AuthoritiesConstants.ADMIN)) {\r\n        queryBuilder = queryBuilder.filter(matchQuery(&quot;user.login&quot;, SecurityUtils.getCurrentUserLogin().orElse(&quot;&quot;)));\r\n    }\r\n    // todo: figure out how to use queryBuilder in search()\r\n    // SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\n    // sourceBuilder.query(queryBuilder);\r\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(query, pageable);\r\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\r\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\r\n}\r\n```\r\n\r\nThe code for the `BloodPressureSearchRepository` is as follows:\r\n\r\n```java\r\npackage org.jhipster.health.repository.search;\r\n\r\nimport static org.elasticsearch.index.query.QueryBuilders.queryStringQuery;\r\n\r\nimport java.util.List;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\nimport org.elasticsearch.search.sort.SortBuilder;\r\nimport org.jhipster.health.domain.BloodPressure;\r\nimport org.jhipster.health.repository.BloodPressureRepository;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate;\r\nimport org.springframework.data.elasticsearch.core.SearchHit;\r\nimport org.springframework.data.elasticsearch.core.SearchHits;\r\nimport org.springframework.data.elasticsearch.core.query.NativeSearchQuery;\r\nimport org.springframework.data.elasticsearch.core.query.NativeSearchQueryBuilder;\r\nimport org.springframework.data.elasticsearch.core.query.Query;\r\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\nimport org.springframework.scheduling.annotation.Async;\r\nimport org.springframework.transaction.annotation.Isolation;\r\nimport org.springframework.transaction.annotation.Propagation;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n/**\r\n * Spring Data Elasticsearch repository for the {@link BloodPressure} entity.\r\n */\r\npublic interface BloodPressureSearchRepository\r\n    extends ElasticsearchRepository&lt;BloodPressure, Long&gt;, BloodPressureSearchRepositoryInternal {}\r\n\r\ninterface BloodPressureSearchRepositoryInternal {\r\n    Page&lt;BloodPressure&gt; search(String query, Pageable pageable);\r\n\r\n    Page&lt;BloodPressure&gt; search(Query query);\r\n\r\n    void index(BloodPressure entity);\r\n}\r\n\r\nclass BloodPressureSearchRepositoryInternalImpl implements BloodPressureSearchRepositoryInternal {\r\n\r\n    private final ElasticsearchRestTemplate elasticsearchTemplate;\r\n    private final BloodPressureRepository repository;\r\n\r\n    BloodPressureSearchRepositoryInternalImpl(ElasticsearchRestTemplate elasticsearchTemplate, BloodPressureRepository repository) {\r\n        this.elasticsearchTemplate = elasticsearchTemplate;\r\n        this.repository = repository;\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;BloodPressure&gt; search(String query, Pageable pageable) {\r\n        NativeSearchQuery nativeSearchQuery = new NativeSearchQuery(queryStringQuery(query));\r\n        return search(nativeSearchQuery.setPageable(pageable));\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;BloodPressure&gt; search(Query query) {\r\n        SearchHits&lt;BloodPressure&gt; searchHits = elasticsearchTemplate.search(query, BloodPressure.class);\r\n        List&lt;BloodPressure&gt; hits = searchHits.map(SearchHit::getContent).stream().collect(Collectors.toList());\r\n        return new PageImpl&lt;&gt;(hits, query.getPageable(), searchHits.getTotalHits());\r\n    }\r\n\r\n    @Override\r\n    public void index(BloodPressure entity) {\r\n        repository.findOneWithEagerRelationships(entity.getId()).ifPresent(elasticsearchTemplate::save);\r\n    }\r\n}\r\n```\r\n\r\nRelated: https://github.com/mraible/21-points-v7/issues/5","title":"Filtering by user with Elasticsearch for more secure endpoints","body":"<p>I'm trying to upgrade a JHipster v5 app to v7.9.3. With JHipster 5, I was able to secure Elasticsearch endpoints by adding a filter by the user's login.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(@RequestParam String query, Pageable pageable) {\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\n    BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(queryStringQuery(query));\n    if (SecurityUtils.isAuthenticated() &amp;&amp; !SecurityUtils.isCurrentUserInRole(AuthoritiesConstants.ADMIN)) {\n        queryBuilder = queryBuilder.filter(matchQuery(&quot;user.login&quot;,\n            SecurityUtils.getCurrentUserLogin().orElse(&quot;&quot;)));\n    }\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(queryBuilder, pageable);\n    HttpHeaders headers = PaginationUtil.generateSearchPaginationHttpHeaders(query, page, &quot;/api/_search/blood-pressures&quot;);\n    return new ResponseEntity&lt;&gt;(page.getContent(), headers, HttpStatus.OK);\n}\n</code></pre>\n<p>With JHipster 7, here's what the method looks like before I try to lock it down.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(\n    @RequestParam String query,\n    @org.springdoc.api.annotations.ParameterObject Pageable pageable\n) {\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(query, pageable);\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\n}\n</code></pre>\n<p>JHipster 5 allowed me to pass the <code>queryBuilder</code> directly into the <code>search()</code> method. However, with JHipster 7, it expects a String. Is it possible to get the query from the <code>queryBuilder</code> to make it all work?</p>\n<p>Here's what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(\n    @RequestParam String query,\n    @org.springdoc.api.annotations.ParameterObject Pageable pageable\n) {\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\n    BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(queryStringQuery(query));\n    if (SecurityUtils.isAuthenticated() &amp;&amp; !SecurityUtils.hasCurrentUserThisAuthority(AuthoritiesConstants.ADMIN)) {\n        queryBuilder = queryBuilder.filter(matchQuery(&quot;user.login&quot;, SecurityUtils.getCurrentUserLogin().orElse(&quot;&quot;)));\n    }\n    // todo: figure out how to use queryBuilder in search()\n    // SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\n    // sourceBuilder.query(queryBuilder);\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(query, pageable);\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\n}\n</code></pre>\n<p>The code for the <code>BloodPressureSearchRepository</code> is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.jhipster.health.repository.search;\n\nimport static org.elasticsearch.index.query.QueryBuilders.queryStringQuery;\n\nimport java.util.List;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\nimport org.elasticsearch.search.sort.SortBuilder;\nimport org.jhipster.health.domain.BloodPressure;\nimport org.jhipster.health.repository.BloodPressureRepository;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate;\nimport org.springframework.data.elasticsearch.core.SearchHit;\nimport org.springframework.data.elasticsearch.core.SearchHits;\nimport org.springframework.data.elasticsearch.core.query.NativeSearchQuery;\nimport org.springframework.data.elasticsearch.core.query.NativeSearchQueryBuilder;\nimport org.springframework.data.elasticsearch.core.query.Query;\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.transaction.annotation.Isolation;\nimport org.springframework.transaction.annotation.Propagation;\nimport org.springframework.transaction.annotation.Transactional;\n\n/**\n * Spring Data Elasticsearch repository for the {@link BloodPressure} entity.\n */\npublic interface BloodPressureSearchRepository\n    extends ElasticsearchRepository&lt;BloodPressure, Long&gt;, BloodPressureSearchRepositoryInternal {}\n\ninterface BloodPressureSearchRepositoryInternal {\n    Page&lt;BloodPressure&gt; search(String query, Pageable pageable);\n\n    Page&lt;BloodPressure&gt; search(Query query);\n\n    void index(BloodPressure entity);\n}\n\nclass BloodPressureSearchRepositoryInternalImpl implements BloodPressureSearchRepositoryInternal {\n\n    private final ElasticsearchRestTemplate elasticsearchTemplate;\n    private final BloodPressureRepository repository;\n\n    BloodPressureSearchRepositoryInternalImpl(ElasticsearchRestTemplate elasticsearchTemplate, BloodPressureRepository repository) {\n        this.elasticsearchTemplate = elasticsearchTemplate;\n        this.repository = repository;\n    }\n\n    @Override\n    public Page&lt;BloodPressure&gt; search(String query, Pageable pageable) {\n        NativeSearchQuery nativeSearchQuery = new NativeSearchQuery(queryStringQuery(query));\n        return search(nativeSearchQuery.setPageable(pageable));\n    }\n\n    @Override\n    public Page&lt;BloodPressure&gt; search(Query query) {\n        SearchHits&lt;BloodPressure&gt; searchHits = elasticsearchTemplate.search(query, BloodPressure.class);\n        List&lt;BloodPressure&gt; hits = searchHits.map(SearchHit::getContent).stream().collect(Collectors.toList());\n        return new PageImpl&lt;&gt;(hits, query.getPageable(), searchHits.getTotalHits());\n    }\n\n    @Override\n    public void index(BloodPressure entity) {\n        repository.findOneWithEagerRelationships(entity.getId()).ifPresent(elasticsearchTemplate::save);\n    }\n}\n</code></pre>\n<p>Related: <a href=\"https://github.com/mraible/21-points-v7/issues/5\" rel=\"nofollow noreferrer\">https://github.com/mraible/21-points-v7/issues/5</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1677255930,"post_id":75558981,"comment_id":133308019,"body_markdown":"Could it be because you have your decimal point and comma switched around?","body":"Could it be because you have your decimal point and comma switched around?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1677256093,"post_id":75558981,"comment_id":133308080,"body_markdown":"&quot;I have the number &#39;19,476.86&#39; in a text file&quot; - that&#39;s not what your code shows. What&#39;s *actually* in the file?","body":"&quot;I have the number &#39;19,476.86&#39; in a text file&quot; - that&#39;s not what your code shows. What&#39;s <i>actually</i> in the file?"},{"owner":{"account_id":22810863,"reputation":13,"user_id":16962177,"display_name":"imnach2"},"score":0,"creation_date":1677261393,"post_id":75558981,"comment_id":133309423,"body_markdown":"@JonSkeet about the txt file is a simply string what have that number","body":"@JonSkeet about the txt file is a simply string what have that number"},{"owner":{"account_id":22810863,"reputation":13,"user_id":16962177,"display_name":"imnach2"},"score":0,"creation_date":1677261415,"post_id":75558981,"comment_id":133309429,"body_markdown":"@CalvinP. i from Argentina...","body":"@CalvinP. i from Argentina..."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1677262480,"post_id":75558981,"comment_id":133309697,"body_markdown":"I don&#39;t understand your comment. Is the content of the text file &quot;19,476.86&quot; or &quot;19.476,90&quot;? You&#39;ve described one, and then given a different one in your source code. It&#39;s very hard to help with contradictory requirements. (And chances are the duplicate actually contains the answer...)","body":"I don&#39;t understand your comment. Is the content of the text file &quot;19,476.86&quot; or &quot;19.476,90&quot;? You&#39;ve described one, and then given a different one in your source code. It&#39;s very hard to help with contradictory requirements. (And chances are the duplicate actually contains the answer...)"}],"owner":{"account_id":22810863,"reputation":13,"user_id":16962177,"display_name":"imnach2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677256090,"answer_count":0,"score":0,"last_activity_date":1677255835,"creation_date":1677255835,"question_id":75558981,"body_markdown":"I have the number &#39;19,476.86&#39; in a text file and I would like to use it to perform math operations such as addition, subtraction, multiplication, how do I do it?\r\n\r\n```java\r\n\t\tString s = &quot;19.476,90&quot;;\r\n\t\tDecimalFormat  formateador = new DecimalFormat (&quot;#.00&quot;);\r\n\t\tNumber resultado = formateador.parse(s);\r\n\t\tSystem.out.println(&quot;Resultado: &quot; + resultado);\r\n```\r\n\r\nOutput:\r\n\r\n```txt\r\nResultado: 19.476\r\n```\r\n\r\n\r\nI want to use the full number and not have the &#39;,80&#39; left out\r\n","title":"How can I get this number, from a string, and be able to use it in math operations?","body":"<p>I have the number '19,476.86' in a text file and I would like to use it to perform math operations such as addition, subtraction, multiplication, how do I do it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String s = &quot;19.476,90&quot;;\n        DecimalFormat  formateador = new DecimalFormat (&quot;#.00&quot;);\n        Number resultado = formateador.parse(s);\n        System.out.println(&quot;Resultado: &quot; + resultado);\n</code></pre>\n<p>Output:</p>\n<pre><code>Resultado: 19.476\n</code></pre>\n<p>I want to use the full number and not have the ',80' left out</p>\n"},{"tags":["javascript","java","html","api","cloud"],"owner":{"account_id":26764280,"reputation":11,"user_id":20361695,"display_name":"proxyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677255782,"creation_date":1677255782,"question_id":75558967,"body_markdown":"I am working on a project called &quot;Secure Chat Application with Photo Tracking using SM Cryptography Framework on the Cloud.&quot; The objective of the project is to create a secure chat application that uses SM Cryptography Framework to encrypt and decrypt messages and images. The application will also have a photo tracking feature that enables users to track the photos they send and receive.\r\n\r\nI am wondering if anyone can offer advice on where to start with this project. Specifically, I am interested in knowing what software tools and libraries I should use, how to integrate SM Cryptography Framework into the project, and how to set up the cloud infrastructure for hosting the application.\r\n\r\nAny guidance or resources on how to approach this project would be greatly appreciated. Thank you in advance for your help!","title":"Secure Chat Application with Photo Tracking using SM Cryptography Framework on the Cloud","body":"<p>I am working on a project called &quot;Secure Chat Application with Photo Tracking using SM Cryptography Framework on the Cloud.&quot; The objective of the project is to create a secure chat application that uses SM Cryptography Framework to encrypt and decrypt messages and images. The application will also have a photo tracking feature that enables users to track the photos they send and receive.</p>\n<p>I am wondering if anyone can offer advice on where to start with this project. Specifically, I am interested in knowing what software tools and libraries I should use, how to integrate SM Cryptography Framework into the project, and how to set up the cloud infrastructure for hosting the application.</p>\n<p>Any guidance or resources on how to approach this project would be greatly appreciated. Thank you in advance for your help!</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":25946793,"reputation":99,"user_id":19665422,"display_name":"Thorbj&#248;rn Andersen - UFST"},"score":0,"creation_date":1677605934,"post_id":75558947,"comment_id":133369790,"body_markdown":"I have the AsciiDoc-&gt;Elsewhere bit (but didn&#39;t know the link: trick).  I&#39;ll have a closer look at the ticket.  Thanks","body":"I have the AsciiDoc-&gt;Elsewhere bit (but didn&#39;t know the link: trick).  I&#39;ll have a closer look at the ticket.  Thanks"}],"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677255672,"creation_date":1677255672,"answer_id":75558947,"question_id":75548156,"body_markdown":"You can link a file the same way you would link anything else.\r\nFor example, I have the following line in an Asciidoc file in my project:\r\n\r\n```\r\nlink:./src/main/java/javax0/jamal/test/examples/Array.java[Array.java]\r\n```\r\n\r\nin an Asciidoc file edited using the IntelliJ asciidoctor-based plugin will show you on the right pane a link. If you click on it in the editor, it will open the Java file.\r\n\r\nThe other way around, having a link in a Java comment pointing to a non-java file: I am not so sure. If you look at the IntelliJ ticket\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/206181749-java-Viewing-links-in-source-code-comments\r\n\r\nfrom 2014 it is already commenting on it.","title":"How do I create a non-URL clickable link in Java source file?","body":"<p>You can link a file the same way you would link anything else.\nFor example, I have the following line in an Asciidoc file in my project:</p>\n<pre><code>link:./src/main/java/javax0/jamal/test/examples/Array.java[Array.java]\n</code></pre>\n<p>in an Asciidoc file edited using the IntelliJ asciidoctor-based plugin will show you on the right pane a link. If you click on it in the editor, it will open the Java file.</p>\n<p>The other way around, having a link in a Java comment pointing to a non-java file: I am not so sure. If you look at the IntelliJ ticket</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206181749-java-Viewing-links-in-source-code-comments\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206181749-java-Viewing-links-in-source-code-comments</a></p>\n<p>from 2014 it is already commenting on it.</p>\n"}],"owner":{"account_id":25946793,"reputation":99,"user_id":19665422,"display_name":"Thorbj&#248;rn Andersen - UFST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677255672,"creation_date":1677172424,"question_id":75548156,"body_markdown":"I am experimenting with Markdown and AsciiDoc to see if we can provide richer docs-as-code than we do today.   This is very promising.\r\n\r\nIt is possible to link from an AsciiDoc file to a Java source file, so the reader can navigate the rendered version directly.   It is also possible to put a URL in a comment in a Java source file which can be Ctrl-Click&#39;ed to go there.\r\n\r\nIs there a special syntax that is understood by IntelliJ so it can be used in a similar way to easily navigate from a Java source file (Groovy and Kotlin are also interesting) to a non-source file?   I&#39;d prefer one that can be put on any comment like an URL, but if Javadoc can do it that is fine too.","title":"How do I create a non-URL clickable link in Java source file?","body":"<p>I am experimenting with Markdown and AsciiDoc to see if we can provide richer docs-as-code than we do today.   This is very promising.</p>\n<p>It is possible to link from an AsciiDoc file to a Java source file, so the reader can navigate the rendered version directly.   It is also possible to put a URL in a comment in a Java source file which can be Ctrl-Click'ed to go there.</p>\n<p>Is there a special syntax that is understood by IntelliJ so it can be used in a similar way to easily navigate from a Java source file (Groovy and Kotlin are also interesting) to a non-source file?   I'd prefer one that can be put on any comment like an URL, but if Javadoc can do it that is fine too.</p>\n"},{"tags":["java","authentication","spring-security","saml-2.0"],"owner":{"account_id":15820487,"reputation":21,"user_id":11414951,"display_name":"hazardous silence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677255631,"creation_date":1677255631,"question_id":75558935,"body_markdown":"I&#39;m using Spring Security with [SAML2](https://docs.spring.io/spring-security/reference/servlet/saml2/index.html) (spring-boot-starter-security and spring-security-saml2-service-provider with spring boot v2.7.3).\r\nI&#39;m happy with the default behaviour of having sessions but I&#39;ve seen the session only expires based on inactivity duration. My goal is to to make sure that, when trying to access a protected resource, a user must be authenticated and that the security token he used therefore is not expired.\r\n\r\n\r\nI thought this would be as simple as creating a basic filter class that would, during authentication store the expiry date in the session and on authenticated calls filter to make sure that the current date is not past that of the sessions expiry date. Otherwise it should trigger re-auth the same way it does when an un-authenticated access is attempted against a protected resource.\r\nI soon noticed that the authN process in Spring Security is spread out through numerous classes. \r\nUsing the documentation for [authentication](https://docs.spring.io/spring-security/reference/servlet/authentication/index.html) I&#39;ve found a way to add the expiry date to the session and check it :\r\n- First I added a [SessionAuthenticationStrategy](https://docs.spring.io/spring-security/site/docs/6.0.2/api//org/springframework/security/web/authentication/session/SessionAuthenticationStrategy.html)\r\n\r\n```java\r\npublic final class SAML2TokenExpirySessionAuthenticationStrategy implements SessionAuthenticationStrategy {\r\n\tpublic final static String SAML2_TOKEN_EXPIRY = &quot;SAML2_TOKEN_EXPIRY&quot;;\r\n\tprivate XPathExpression notOnOrAfterXPath;\r\n\r\n\tpublic SAML2TokenExpirySessionAuthenticationStrategy() throws XPathExpressionException {\r\n\t\tXPath xPath = XPathFactory.newInstance().newXPath();\r\n\t\tnotOnOrAfterXPath = xPath.compile(\r\n\t\t\t\t&quot;//*[local-name() = &#39;Assertion&#39; and namespace-uri() = &#39;urn:oasis:names:tc:SAML:2.0:assertion&#39;]/*[local-name() = &#39;Conditions&#39; and namespace-uri() = &#39;urn:oasis:names:tc:SAML:2.0:assertion&#39;]/@NotOnOrAfter&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onAuthentication(Authentication authentication, HttpServletRequest request,\r\n\t\t\tHttpServletResponse response) throws SessionAuthenticationException {\r\n\t\tif (authentication instanceof Saml2Authentication) {\r\n\t\t\tObject expiry =  request.getSession().getAttribute(SAML2TokenExpirySessionAuthenticationStrategy.SAML2_TOKEN_EXPIRY);\r\n\t\t\tif (expiry ==null ){\r\n\t\t\t\tSaml2Authentication token = (Saml2Authentication) authentication;\r\n\t\t\t\tInputSource inputXML = new InputSource(new StringReader(token.getSaml2Response()));\r\n\t\t\t\ttry {\r\n\t\t\t\t\tString notOnOrAfter = notOnOrAfterXPath.evaluate(inputXML);\r\n\t\t\t\t\tInstant tokenExpiry = Instant.parse(notOnOrAfter);\r\n\t\t\t\t\trequest.getSession().setAttribute(SAML2_TOKEN_EXPIRY, tokenExpiry);\r\n\t\t\t\t} catch (XPathExpressionException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n- Then I&#39;ve added an [AuthenticationFilter](https://docs.spring.io/spring-security/site/docs/6.0.2/api//org/springframework/security/web/authentication/AuthenticationFilter.html) before the SAML2 filter \r\n```java\r\nhttp.addFilterBefore(new TokenSessionTimeoutFilter(providerManager,saml2AuthenticationTokenConverter(),sessionRegistry()), Saml2WebSsoAuthenticationFilter.class);\r\n```\r\n\r\n```java\r\npublic class TokenSessionTimeoutFilter extends AuthenticationFilter {\r\n    private SessionRegistry sessionRegistry;\r\n\r\n    public TokenSessionTimeoutFilter(AuthenticationManager authenticationManager,\r\n            AuthenticationConverter authenticationConverter,SessionRegistry sessionRegistry) {\r\n        super(authenticationManager, authenticationConverter);\r\n        this.sessionRegistry = sessionRegistry;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        Instant expiry = (Instant) request.getSession().getAttribute(SAML2TokenExpirySessionAuthenticationStrategy.SAML2_TOKEN_EXPIRY);\r\n        if (expiry != null &amp;&amp; expiry.isBefore(Instant.now())){\r\n                SessionInformation sessionInformation = sessionRegistry.getSessionInformation(request.getSession().getId());\r\n                if (sessionInformation !=null ) {\r\n                    sessionInformation.expireNow();\r\n                }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\nIdeally I would have wanted this filter to apply only when the user tries to access protected resources. \r\nSo for example if in my SecurityFilterChain I have set :\r\n```java\r\n// something before\r\n                .antMatchers(&quot;/api/authenticate&quot;).permitAll()\r\n                .antMatchers(&quot;/api/admin/**&quot;).hasAuthority(AuthoritiesConstants.ADMIN)\r\n                .antMatchers(&quot;/api/**&quot;).authenticated()\r\n//something after\r\n```\r\nThen I would like the filter to apply only on URLs matching &quot;/api/admin/\\*\\*&quot; and &quot;/api/\\*\\*&quot;. I&#39;ve seen the AuthenticationFilter class provides a &quot;getRequestMatcher()&quot; method but it&#39;s default behavior is to match any URLs.\r\n\r\nRegarding the expiry of the session, based on some investigation, I have injected a &quot;new SessionRegistryImpl()&quot; into the filter as this seems to be the only way to obtain a &quot;SessionInformation&quot; object which has an &quot;expireNow()&quot; method. \r\n\r\nI thought this would be sufficient to invalidate the session and trigger a re-authentication but it seems I&#39;m missing something. I also tried using directly the HttpSession &quot;invalidate()&quot; method but this also failed.\r\n\r\nAny help would be very welcome.","title":"How to force session expiry and trigger re-authentication in spring security?","body":"<p>I'm using Spring Security with <a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/index.html\" rel=\"nofollow noreferrer\">SAML2</a> (spring-boot-starter-security and spring-security-saml2-service-provider with spring boot v2.7.3).\nI'm happy with the default behaviour of having sessions but I've seen the session only expires based on inactivity duration. My goal is to to make sure that, when trying to access a protected resource, a user must be authenticated and that the security token he used therefore is not expired.</p>\n<p>I thought this would be as simple as creating a basic filter class that would, during authentication store the expiry date in the session and on authenticated calls filter to make sure that the current date is not past that of the sessions expiry date. Otherwise it should trigger re-auth the same way it does when an un-authenticated access is attempted against a protected resource.\nI soon noticed that the authN process in Spring Security is spread out through numerous classes.\nUsing the documentation for <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/index.html\" rel=\"nofollow noreferrer\">authentication</a> I've found a way to add the expiry date to the session and check it :</p>\n<ul>\n<li>First I added a <a href=\"https://docs.spring.io/spring-security/site/docs/6.0.2/api//org/springframework/security/web/authentication/session/SessionAuthenticationStrategy.html\" rel=\"nofollow noreferrer\">SessionAuthenticationStrategy</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public final class SAML2TokenExpirySessionAuthenticationStrategy implements SessionAuthenticationStrategy {\n    public final static String SAML2_TOKEN_EXPIRY = &quot;SAML2_TOKEN_EXPIRY&quot;;\n    private XPathExpression notOnOrAfterXPath;\n\n    public SAML2TokenExpirySessionAuthenticationStrategy() throws XPathExpressionException {\n        XPath xPath = XPathFactory.newInstance().newXPath();\n        notOnOrAfterXPath = xPath.compile(\n                &quot;//*[local-name() = 'Assertion' and namespace-uri() = 'urn:oasis:names:tc:SAML:2.0:assertion']/*[local-name() = 'Conditions' and namespace-uri() = 'urn:oasis:names:tc:SAML:2.0:assertion']/@NotOnOrAfter&quot;);\n    }\n\n    @Override\n    public void onAuthentication(Authentication authentication, HttpServletRequest request,\n            HttpServletResponse response) throws SessionAuthenticationException {\n        if (authentication instanceof Saml2Authentication) {\n            Object expiry =  request.getSession().getAttribute(SAML2TokenExpirySessionAuthenticationStrategy.SAML2_TOKEN_EXPIRY);\n            if (expiry ==null ){\n                Saml2Authentication token = (Saml2Authentication) authentication;\n                InputSource inputXML = new InputSource(new StringReader(token.getSaml2Response()));\n                try {\n                    String notOnOrAfter = notOnOrAfterXPath.evaluate(inputXML);\n                    Instant tokenExpiry = Instant.parse(notOnOrAfter);\n                    request.getSession().setAttribute(SAML2_TOKEN_EXPIRY, tokenExpiry);\n                } catch (XPathExpressionException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Then I've added an <a href=\"https://docs.spring.io/spring-security/site/docs/6.0.2/api//org/springframework/security/web/authentication/AuthenticationFilter.html\" rel=\"nofollow noreferrer\">AuthenticationFilter</a> before the SAML2 filter</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>http.addFilterBefore(new TokenSessionTimeoutFilter(providerManager,saml2AuthenticationTokenConverter(),sessionRegistry()), Saml2WebSsoAuthenticationFilter.class);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class TokenSessionTimeoutFilter extends AuthenticationFilter {\n    private SessionRegistry sessionRegistry;\n\n    public TokenSessionTimeoutFilter(AuthenticationManager authenticationManager,\n            AuthenticationConverter authenticationConverter,SessionRegistry sessionRegistry) {\n        super(authenticationManager, authenticationConverter);\n        this.sessionRegistry = sessionRegistry;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        Instant expiry = (Instant) request.getSession().getAttribute(SAML2TokenExpirySessionAuthenticationStrategy.SAML2_TOKEN_EXPIRY);\n        if (expiry != null &amp;&amp; expiry.isBefore(Instant.now())){\n                SessionInformation sessionInformation = sessionRegistry.getSessionInformation(request.getSession().getId());\n                if (sessionInformation !=null ) {\n                    sessionInformation.expireNow();\n                }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Ideally I would have wanted this filter to apply only when the user tries to access protected resources.\nSo for example if in my SecurityFilterChain I have set :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// something before\n                .antMatchers(&quot;/api/authenticate&quot;).permitAll()\n                .antMatchers(&quot;/api/admin/**&quot;).hasAuthority(AuthoritiesConstants.ADMIN)\n                .antMatchers(&quot;/api/**&quot;).authenticated()\n//something after\n</code></pre>\n<p>Then I would like the filter to apply only on URLs matching &quot;/api/admin/**&quot; and &quot;/api/**&quot;. I've seen the AuthenticationFilter class provides a &quot;getRequestMatcher()&quot; method but it's default behavior is to match any URLs.</p>\n<p>Regarding the expiry of the session, based on some investigation, I have injected a &quot;new SessionRegistryImpl()&quot; into the filter as this seems to be the only way to obtain a &quot;SessionInformation&quot; object which has an &quot;expireNow()&quot; method.</p>\n<p>I thought this would be sufficient to invalidate the session and trigger a re-authentication but it seems I'm missing something. I also tried using directly the HttpSession &quot;invalidate()&quot; method but this also failed.</p>\n<p>Any help would be very welcome.</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":1,"creation_date":1677251400,"post_id":75557711,"comment_id":133306636,"body_markdown":"Why not add a more specific mapping like `@RequestMapping(value = &quot;/swagger&quot;, method = RequestMethod.GET)` ?","body":"Why not add a more specific mapping like <code>@RequestMapping(value = &quot;&#47;swagger&quot;, method = RequestMethod.GET)</code> ?"},{"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"score":0,"creation_date":1677253789,"post_id":75557711,"comment_id":133307341,"body_markdown":"Thx! I hoped for a solution that just allows me to return to the spring default for this path. But yes I guess this is what I&#39;ll do.","body":"Thx! I hoped for a solution that just allows me to return to the spring default for this path. But yes I guess this is what I&#39;ll do."}],"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677253805,"creation_date":1677248762,"question_id":75557711,"body_markdown":"My spring-boot web service with spring-mvc has a quite generic endpoint defined by\r\n\r\n    @RequestMapping(value = &quot;/**&quot;, method = RequestMethod.GET)\r\n\r\nFor legacy/compatibility reasons it is hard to change that.\r\n\r\nMy problem is that this overwrites the out-of-the-box static file serving, namely my auto-generated swagger.json which I have under target/classes/static/swagger.\r\n\r\nIs there any way to exclude my &quot;swagger&quot; directory from that RequestMapping?","title":"Spring boot RequestMapping on root, how to exclude a directory for static file serving?","body":"<p>My spring-boot web service with spring-mvc has a quite generic endpoint defined by</p>\n<pre><code>@RequestMapping(value = &quot;/**&quot;, method = RequestMethod.GET)\n</code></pre>\n<p>For legacy/compatibility reasons it is hard to change that.</p>\n<p>My problem is that this overwrites the out-of-the-box static file serving, namely my auto-generated swagger.json which I have under target/classes/static/swagger.</p>\n<p>Is there any way to exclude my &quot;swagger&quot; directory from that RequestMapping?</p>\n"},{"tags":["java","mysql","spring","docker","maven"],"comments":[{"owner":{"account_id":2449759,"reputation":3319,"user_id":2136319,"display_name":"clement"},"score":1,"creation_date":1677253765,"post_id":75558403,"comment_id":133307330,"body_markdown":"Is it because app tries to talk to mysql even before it is completely up? Can you try adding a healthcheck to mysql and set the depends_on condition accordingly? May be https://stackoverflow.com/questions/42567475/docker-compose-check-if-mysql-connection-is-ready can help.","body":"Is it because app tries to talk to mysql even before it is completely up? Can you try adding a healthcheck to mysql and set the depends_on condition accordingly? May be <a href=\"https://stackoverflow.com/questions/42567475/docker-compose-check-if-mysql-connection-is-ready\" title=\"docker compose check if mysql connection is ready\">stackoverflow.com/questions/42567475/&hellip;</a> can help."},{"owner":{"account_id":4866881,"reputation":20481,"user_id":3924803,"display_name":"Hans Kilian"},"score":0,"creation_date":1677256760,"post_id":75558403,"comment_id":133308254,"body_markdown":"Please don&#39;t use screenshots of text in your questions. Paste in the text and use the formatting tools to format your post. That makes it a lot easier for people to copy/paste your files if they want to try to reproduce your issue.","body":"Please don&#39;t use screenshots of text in your questions. Paste in the text and use the formatting tools to format your post. That makes it a lot easier for people to copy/paste your files if they want to try to reproduce your issue."}],"owner":{"account_id":27821753,"reputation":11,"user_id":21241964,"display_name":"montassar omrani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677252652,"creation_date":1677252652,"question_id":75558403,"body_markdown":"Im trying to use docker-compose to run 2 containers of 2 existing images ( SQL image with a database built in already &amp; spring app container containing a jar file ) , but somehow i couldn&#39;t manage to make them communicate .these are the screenshots :\r\n\r\n[`error-screenshot1`](https://i.stack.imgur.com/VJVnc.png)\r\n[`error-screenshot2`](https://i.stack.imgur.com/2diIf.png)\r\n[`error-screenshot3`](https://i.stack.imgur.com/AjtMw.png)\r\n[`error-screenshot4`](https://i.stack.imgur.com/N2Pfd.png)\r\n[`app.properties-prod`](https://i.stack.imgur.com/rpMgZ.png)\r\n[`docker-compose`](https://i.stack.imgur.com/woc8x.png)\r\n[`dockerfile-DB`](https://i.stack.imgur.com/V6kuM.png)\r\n[`dockerfile-app`](https://i.stack.imgur.com/rNUMC.png)\r\n[`pomXML`](https://i.stack.imgur.com/kfLBx.png)\r\n[`pomXml`](https://i.stack.imgur.com/u95w2.png)\r\n[`pomXml`](https://i.stack.imgur.com/v4HJU.png)` `\r\n\r\ni tried upgrading and downgrading the jdk image but i think the problem is not in the jdk , the application runs fine in a seperated container , so i know the problem is with the jdbc version or something , i upgraded the version of the jdbc in the pom.xml i built the jar file again , and same thing again , the projects is using a lot of plugins , lombok , flyway .... i thought maybe some of those tools is blocking the communication ..","title":"Spring app container cannot communicate with mysql container","body":"<p>Im trying to use docker-compose to run 2 containers of 2 existing images ( SQL image with a database built in already &amp; spring app container containing a jar file ) , but somehow i couldn't manage to make them communicate .these are the screenshots :</p>\n<p><a href=\"https://i.stack.imgur.com/VJVnc.png\" rel=\"nofollow noreferrer\"><code>error-screenshot1</code></a>\n<a href=\"https://i.stack.imgur.com/2diIf.png\" rel=\"nofollow noreferrer\"><code>error-screenshot2</code></a>\n<a href=\"https://i.stack.imgur.com/AjtMw.png\" rel=\"nofollow noreferrer\"><code>error-screenshot3</code></a>\n<a href=\"https://i.stack.imgur.com/N2Pfd.png\" rel=\"nofollow noreferrer\"><code>error-screenshot4</code></a>\n<a href=\"https://i.stack.imgur.com/rpMgZ.png\" rel=\"nofollow noreferrer\"><code>app.properties-prod</code></a>\n<a href=\"https://i.stack.imgur.com/woc8x.png\" rel=\"nofollow noreferrer\"><code>docker-compose</code></a>\n<a href=\"https://i.stack.imgur.com/V6kuM.png\" rel=\"nofollow noreferrer\"><code>dockerfile-DB</code></a>\n<a href=\"https://i.stack.imgur.com/rNUMC.png\" rel=\"nofollow noreferrer\"><code>dockerfile-app</code></a>\n<a href=\"https://i.stack.imgur.com/kfLBx.png\" rel=\"nofollow noreferrer\"><code>pomXML</code></a>\n<a href=\"https://i.stack.imgur.com/u95w2.png\" rel=\"nofollow noreferrer\"><code>pomXml</code></a>\n<a href=\"https://i.stack.imgur.com/v4HJU.png\" rel=\"nofollow noreferrer\"><code>pomXml</code></a><code> </code></p>\n<p>i tried upgrading and downgrading the jdk image but i think the problem is not in the jdk , the application runs fine in a seperated container , so i know the problem is with the jdbc version or something , i upgraded the version of the jdbc in the pom.xml i built the jar file again , and same thing again , the projects is using a lot of plugins , lombok , flyway .... i thought maybe some of those tools is blocking the communication ..</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677255824,"post_id":75558294,"comment_id":133307988,"body_markdown":"It might be helpful to show the rest of the fields from the entity class.","body":"It might be helpful to show the rest of the fields from the entity class."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1677659034,"post_id":75558294,"comment_id":133379381,"body_markdown":"The code you wrote makes no sense. The error is about native queries, but you use the `createQuery` instead of `createNativeQuery` method. Nobody will be able to help you if you post wrong and confusing information.","body":"The code you wrote makes no sense. The error is about native queries, but you use the <code>createQuery</code> instead of <code>createNativeQuery</code> method. Nobody will be able to help you if you post wrong and confusing information."}],"owner":{"account_id":11777864,"reputation":776,"user_id":8618598,"accept_rate":90,"display_name":"Vikram R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677252055,"creation_date":1677252055,"question_id":75558294,"body_markdown":"I have migrated my project from spring boot 2.x to spring boot 3.x and using hibernate 6.1.7\r\n\r\nEntity  \r\n\r\n  \r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;SEQ1&quot;)\r\n    \t@SequenceGenerator(name=&quot;SEQ1&quot;, sequenceName=&quot;SEQ1&quot;, allocationSize=1)\r\n        @Column(name = &quot;COL_SK&quot;)\r\n        private Long sk;\r\n\r\n\r\nServiceimpl\r\n\r\n\r\n  \r\n\r\n    @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n    \tprivate static final String CCN_LIST = &quot;select c1 FROM CCN c1 where c1.ccnCode in (:ccnCdList)&quot;;\r\n    \t\r\n    \t@Override\r\n    \tpublic List&lt;CCN&gt; findByCcnCdList(List&lt;String&gt; ccnCdList) {\r\n    \t\tList&lt;CCN&gt; ccns = new ArrayList&lt;CCN&gt;();\r\n    \t\t\r\n    \t\tif (CollectionUtils.isNotEmpty(ccnCdList)) {\r\n    \t\t\tList&lt;List&lt;String&gt;&gt; ccnCdSubLists = ListUtils.partition(ccnCdList, 2000);\r\n    \r\n    \t\t\tQuery query = entityManager.createQuery(CCN_LIST, CCN.class);\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\tfor (List&lt;String&gt; ccnCdSubList : ccnCdSubLists) {\t\t\t\t\r\n    \t\t\t\tquery.setParameter(&quot;ccnCdList&quot;, ccnCdSubList);\r\n    \t\t\t\tccns.addAll(query.getResultList());\t\t\t\t\t\t\t\t\r\n    \t\t\t}\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn ccns;\r\n    \r\n    \t}\r\n\r\n\r\nBut i am getting an error\r\n\r\norg.springframework.orm.jpa.JpaSystemException: Encountered a duplicated sql alias [COL_SK] during auto-discovery of a native-sql query\r\n\r\n\r\nPlease note: above code working fine in spring boot 2.x","title":"Encountered a duplicated sql alias [col1] during auto-discovery of a native-sql query in spring boot 3","body":"<p>I have migrated my project from spring boot 2.x to spring boot 3.x and using hibernate 6.1.7</p>\n<p>Entity</p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;SEQ1&quot;)\n    @SequenceGenerator(name=&quot;SEQ1&quot;, sequenceName=&quot;SEQ1&quot;, allocationSize=1)\n    @Column(name = &quot;COL_SK&quot;)\n    private Long sk;\n</code></pre>\n<p>Serviceimpl</p>\n<pre><code>@PersistenceContext\n    private EntityManager entityManager;\n\n    private static final String CCN_LIST = &quot;select c1 FROM CCN c1 where c1.ccnCode in (:ccnCdList)&quot;;\n    \n    @Override\n    public List&lt;CCN&gt; findByCcnCdList(List&lt;String&gt; ccnCdList) {\n        List&lt;CCN&gt; ccns = new ArrayList&lt;CCN&gt;();\n        \n        if (CollectionUtils.isNotEmpty(ccnCdList)) {\n            List&lt;List&lt;String&gt;&gt; ccnCdSubLists = ListUtils.partition(ccnCdList, 2000);\n\n            Query query = entityManager.createQuery(CCN_LIST, CCN.class);\n                                        \n            for (List&lt;String&gt; ccnCdSubList : ccnCdSubLists) {               \n                query.setParameter(&quot;ccnCdList&quot;, ccnCdSubList);\n                ccns.addAll(query.getResultList());                             \n            }           \n        }\n        \n        return ccns;\n\n    }\n</code></pre>\n<p>But i am getting an error</p>\n<p>org.springframework.orm.jpa.JpaSystemException: Encountered a duplicated sql alias [COL_SK] during auto-discovery of a native-sql query</p>\n<p>Please note: above code working fine in spring boot 2.x</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9604,"page":621,"page_size":100}
