{"items":[{"tags":["java","android","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":9781198,"reputation":29,"user_id":7249185,"display_name":"Ryan Naccarato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482199101,"creation_date":1482199101,"answer_id":41233794,"question_id":40781235,"body_markdown":"You need to use the button click callback to pull in the user password.  As your code is written now, the password will be set to an empty string (or whatever is in the EditText field at the time of creation).\r\n\r\nStart with this:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_change_password);\r\n        final EditText password = (EditText) findViewById(R.id.newPassword);\r\n        Button submit = (Button) findViewById(R.id.submit);\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String pass = password.getText().toString();\r\n            }\r\n        });\r\n    }\r\n\r\nOnce you have the button click action setup, create a class instance that overrides the authenticationChallenge method. Pass that class to the appropriate AWS class for authentication.  Something like this:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_change_password);\r\n        final EditText password = (EditText) findViewById(R.id.newPassword);\r\n        Button submit = (Button) findViewById(R.id.submit);\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String pass = password.getText().toString();\r\n                AuthenticationHandler h = new AuthenticationHandler() {\r\n                    @Override\r\n                    public void onSuccess(CognitoUserSession cognitoUserSession, CognitoDevice cognitoDevice) { }\r\n                    @Override\r\n                    public void getAuthenticationDetails(AuthenticationContinuation authenticationContinuation, String s) { }\r\n                    @Override\r\n                    public void getMFACode(MultiFactorAuthenticationContinuation multiFactorAuthenticationContinuation) { }\r\n                    @Override\r\n                    public void authenticationChallenge(ChallengeContinuation continuation) {\r\n                        if (&quot;NEW_PASSWORD_REQUIRED&quot;.equals(continuation.getChallengeName())) {\r\n                            NewPasswordContinuation newPasswordContinuation = (NewPasswordContinuation) continuation;\r\n                            newPasswordContinuation.setPassword(pass);\r\n                            continuation.continueTask();\r\n                        }\r\n                    }\r\n                    @Override\r\n                    public void onFailure(Exception e) { }\r\n                };\r\n                CognitoUserPool pool = new CognitoUserPool(getApplicationContext(), &quot;poolId&quot;, &quot;clientId&quot;, &quot;clientSecret&quot;, Regions.US_WEST_2);\r\n                pool.getUser(&quot;userId&quot;).getSession(h);\r\n            }\r\n        });\r\n    }","title":"AWS cognito new password continuation - Android","body":"<p>You need to use the button click callback to pull in the user password.  As your code is written now, the password will be set to an empty string (or whatever is in the EditText field at the time of creation).</p>\n\n<p>Start with this:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_change_password);\n    final EditText password = (EditText) findViewById(R.id.newPassword);\n    Button submit = (Button) findViewById(R.id.submit);\n    submit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String pass = password.getText().toString();\n        }\n    });\n}\n</code></pre>\n\n<p>Once you have the button click action setup, create a class instance that overrides the authenticationChallenge method. Pass that class to the appropriate AWS class for authentication.  Something like this:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_change_password);\n    final EditText password = (EditText) findViewById(R.id.newPassword);\n    Button submit = (Button) findViewById(R.id.submit);\n    submit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String pass = password.getText().toString();\n            AuthenticationHandler h = new AuthenticationHandler() {\n                @Override\n                public void onSuccess(CognitoUserSession cognitoUserSession, CognitoDevice cognitoDevice) { }\n                @Override\n                public void getAuthenticationDetails(AuthenticationContinuation authenticationContinuation, String s) { }\n                @Override\n                public void getMFACode(MultiFactorAuthenticationContinuation multiFactorAuthenticationContinuation) { }\n                @Override\n                public void authenticationChallenge(ChallengeContinuation continuation) {\n                    if (\"NEW_PASSWORD_REQUIRED\".equals(continuation.getChallengeName())) {\n                        NewPasswordContinuation newPasswordContinuation = (NewPasswordContinuation) continuation;\n                        newPasswordContinuation.setPassword(pass);\n                        continuation.continueTask();\n                    }\n                }\n                @Override\n                public void onFailure(Exception e) { }\n            };\n            CognitoUserPool pool = new CognitoUserPool(getApplicationContext(), \"poolId\", \"clientId\", \"clientSecret\", Regions.US_WEST_2);\n            pool.getUser(\"userId\").getSession(h);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":9712708,"reputation":31,"user_id":7204023,"display_name":"Android-er"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677192513,"creation_date":1479975925,"question_id":40781235,"body_markdown":"Hoping someone can help me on this, i&#39;ve been trying at it for days.I&#39;m building an Android app and integrating Amazon Cognito login. \r\nI am wanting to create users as admin only in Amazon Cognito using the admin panel. When doing so, one requirement is that users change their password. Within the CognitoUserPoolSignInProvider which is an anonymous class, in order to authenticate users with new passwords i have the following code in the anonymous class:\r\n\r\n\t@Override\r\n\t    public void authenticationChallenge(final ChallengeContinuation continuation) {\r\n\r\n\t        if (&quot;NEW_PASSWORD_REQUIRED&quot;.equals(continuation.getChallengeName())) {\r\n\t        \tNewPasswordContinuation newPasswordContinuation = (NewPasswordContinuation) continuation;\r\n\t            newPasswordContinuation.setPassword(&quot;users new password goes here&quot;);\r\n\t            continuation.continueTask();\r\n\t        }\r\n\r\n\t    }\r\n\r\nI have a separate Activity class called `ChangePassword`. This links to a User Interface and gets the input in an edit text box from the user.\r\n\r\n \t@Override\r\n\t    protected void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.activity_change_password);\r\n\r\n\r\n\t        password = (EditText) findViewById(R.id.newPassword);\r\n\t        submit = (Button) findViewById(R.id.submit);\r\n\r\n\t        String pass = password.getText().toString();\r\n\r\nHow do i get the users input into the anonymous class to set the new password?\r\nAny help is much appreciated","title":"AWS cognito new password continuation - Android","body":"<p>Hoping someone can help me on this, i've been trying at it for days.I'm building an Android app and integrating Amazon Cognito login. \nI am wanting to create users as admin only in Amazon Cognito using the admin panel. When doing so, one requirement is that users change their password. Within the CognitoUserPoolSignInProvider which is an anonymous class, in order to authenticate users with new passwords i have the following code in the anonymous class:</p>\n\n<pre><code>@Override\n    public void authenticationChallenge(final ChallengeContinuation continuation) {\n\n        if (\"NEW_PASSWORD_REQUIRED\".equals(continuation.getChallengeName())) {\n            NewPasswordContinuation newPasswordContinuation = (NewPasswordContinuation) continuation;\n            newPasswordContinuation.setPassword(\"users new password goes here\");\n            continuation.continueTask();\n        }\n\n    }\n</code></pre>\n\n<p>I have a separate Activity class called <code>ChangePassword</code>. This links to a User Interface and gets the input in an edit text box from the user.</p>\n\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_change_password);\n\n\n        password = (EditText) findViewById(R.id.newPassword);\n        submit = (Button) findViewById(R.id.submit);\n\n        String pass = password.getText().toString();\n</code></pre>\n\n<p>How do i get the users input into the anonymous class to set the new password?\nAny help is much appreciated</p>\n"},{"tags":["java","json","amazon-web-services"],"comments":[{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342618958,"post_id":11542665,"comment_id":15262306,"body_markdown":"I want to include html tags in json, But at the closing tags I got an escape slash may be added by the json library.","body":"I want to include html tags in json, But at the closing tags I got an escape slash may be added by the json library."},{"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"score":0,"creation_date":1342619002,"post_id":11542665,"comment_id":15262329,"body_markdown":"I&#39;m asking about the code you posted on the question, because it isn&#39;t java right?","body":"I&#39;m asking about the code you posted on the question, because it isn&#39;t java right?"},{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342619118,"post_id":11542665,"comment_id":15262390,"body_markdown":"@Francisco Spaeth I use java code and amazonaws eclipse toolkit","body":"@Francisco Spaeth I use java code and amazonaws eclipse toolkit"},{"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"score":0,"creation_date":1342619414,"post_id":11542665,"comment_id":15262559,"body_markdown":"I asked because it isn&#39;t a valid Java code, `string` isn&#39;t a known type, and if you don&#39;t add the `;` at the end of the line you will not finish the sentence.","body":"I asked because it isn&#39;t a valid Java code, <code>string</code> isn&#39;t a known type, and if you don&#39;t add the <code>;</code> at the end of the line you will not finish the sentence."},{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342619507,"post_id":11542665,"comment_id":15262626,"body_markdown":"@Francisco Spaeth its only sample","body":"@Francisco Spaeth its only sample"},{"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"score":0,"creation_date":1342619606,"post_id":11542665,"comment_id":15262685,"body_markdown":"I see, maybe the answer I gave could help you then.","body":"I see, maybe the answer I gave could help you then."}],"answers":[{"comments":[{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342618814,"post_id":11542723,"comment_id":15262226,"body_markdown":"The problem is my genaerated json value is a string with htmltags inside it.At the closing part the amazon lib put an extra backslash","body":"The problem is my genaerated json value is a string with htmltags inside it.At the closing part the amazon lib put an extra backslash"}],"tags":[],"owner":{"account_id":173867,"reputation":716,"user_id":402845,"display_name":"xori"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344520670,"creation_date":1342618635,"answer_id":11542723,"question_id":11542665,"body_markdown":"If I&#39;m understanding you correctly, why not just do \r\n\r\n    result = result.replace(&quot;\\\\&quot;,&quot;&quot;);\r\n\r\n**EDIT:**\r\nOkay, then why not do this:\r\n\r\n    boldHtmlCloseTag = &quot;&lt;&amp;frasl;b&gt;&quot;;\r\nThat should still be legal JSON.","title":"remove unwanted &#39; \\&#39; from json values with html tags , generated using amazonaws json toolkit","body":"<p>If I'm understanding you correctly, why not just do </p>\n\n<pre><code>result = result.replace(\"\\\\\",\"\");\n</code></pre>\n\n<p><strong>EDIT:</strong>\nOkay, then why not do this:</p>\n\n<pre><code>boldHtmlCloseTag = \"&lt;&amp;frasl;b&gt;\";\n</code></pre>\n\n<p>That should still be legal JSON.</p>\n"},{"comments":[{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342620233,"post_id":11542931,"comment_id":15263050,"body_markdown":"I tried a small set of code in main function , I got the same result","body":"I tried a small set of code in main function , I got the same result"},{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342620280,"post_id":11542931,"comment_id":15263072,"body_markdown":"import com.amazonaws.util.json.JSONException;\nimport com.amazonaws.util.json.JSONObject;\n\t\t  final String boldHtmlOpenTag = &quot;&lt;b&gt;&quot;;\n\t\t  final String boldHtmlCloseTag = &quot;&lt;/b&gt;&quot;;\n\t\t  final String italicsHtmlOpenTag = &quot;&lt;i&gt;&quot;;\n\t\t  final String italicsHtmlCloseTag = &quot;&lt;/i&gt;&quot;;\n\t\t  String str = boldHtmlOpenTag + italicsHtmlOpenTag\n\t\t\t\t  + &quot;Hello&quot; + italicsHtmlOpenTag\n\t\t\t\t  + boldHtmlCloseTag;\n\t\t  String str1 =&quot;&lt;b&gt;&quot;+&quot;hello&quot;+&quot;&lt;/b&gt;&quot;;\n\t\tJSONObject jsonobj = new JSONObject();\n\t\tjsonobj.put(&quot;test&quot;, str1);\n\t\tSystem.out.println(jsonobj.toString());","body":"import com.amazonaws.util.json.JSONException; import com.amazonaws.util.json.JSONObject; \t\t  final String boldHtmlOpenTag = &quot;&lt;b&gt;&quot;; \t\t  final String boldHtmlCloseTag = &quot;&lt;/b&gt;&quot;; \t\t  final String italicsHtmlOpenTag = &quot;&lt;i&gt;&quot;; \t\t  final String italicsHtmlCloseTag = &quot;&lt;/i&gt;&quot;; \t\t  String str = boldHtmlOpenTag + italicsHtmlOpenTag \t\t\t\t  + &quot;Hello&quot; + italicsHtmlOpenTag \t\t\t\t  + boldHtmlCloseTag; \t\t  String str1 =&quot;&lt;b&gt;&quot;+&quot;hello&quot;+&quot;&lt;/b&gt;&quot;; \t\tJSONObject jsonobj = new JSONObject(); \t\tjsonobj.put(&quot;test&quot;, str1); \t\tSystem.out.println(jsonobj.toString());"},{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342640069,"post_id":11542931,"comment_id":15272805,"body_markdown":"Yea, i test it as a java applicaion","body":"Yea, i test it as a java applicaion"}],"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342619318,"creation_date":1342619318,"answer_id":11542931,"question_id":11542665,"body_markdown":"The problem doesn&#39;t seems there. I suppose the value containing the tags you load from somewhere else, and there the value is stored with this escape char.\r\n\r\nI conclude this because:\r\n\r\n 1. the sample given is not java, what makes me feel that you just wrote a pseudo sample for this issue;\r\n 2. the amazon json API doesn&#39;t comment anything about escape chars, and implementation is according API (I checked it).\r\n\r\nSo, please check from where you get the information and if there isn&#39;t stored with the wrong value.","title":"remove unwanted &#39; \\&#39; from json values with html tags , generated using amazonaws json toolkit","body":"<p>The problem doesn't seems there. I suppose the value containing the tags you load from somewhere else, and there the value is stored with this escape char.</p>\n\n<p>I conclude this because:</p>\n\n<ol>\n<li>the sample given is not java, what makes me feel that you just wrote a pseudo sample for this issue;</li>\n<li>the amazon json API doesn't comment anything about escape chars, and implementation is according API (I checked it).</li>\n</ol>\n\n<p>So, please check from where you get the information and if there isn't stored with the wrong value.</p>\n"},{"tags":[],"owner":{"account_id":1769061,"reputation":534,"user_id":1614270,"accept_rate":57,"display_name":"Gowtham Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387276759,"creation_date":1387276759,"answer_id":20631916,"question_id":11542665,"body_markdown":"  \r\nTry this one !\r\n\r\n\r\n    result = result.replace(&quot;\\\\\\\\&quot;,&quot;&quot;);","title":"remove unwanted &#39; \\&#39; from json values with html tags , generated using amazonaws json toolkit","body":"<p>Try this one !</p>\n\n<pre><code>result = result.replace(\"\\\\\\\\\",\"\");\n</code></pre>\n"}],"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677192502,"creation_date":1342618459,"question_id":11542665,"body_markdown":"I use amazonaws library[com.amazonaws.util.json] (java)  for generate json .\r\n  I use something as follows\r\n\r\n        private static final String boldHtmlOpenTag = &quot;&lt;b&gt;&quot;;\r\n\tprivate static final String boldHtmlCloseTag = &quot;&lt;/b&gt;&quot;;\r\n\tprivate static final String italicsHtmlOpenTag = &quot;&lt;i&gt;&quot;;\r\n\tprivate static final String italicsHtmlCloseTag = &quot;&lt;/i&gt;&quot;;\r\n        String result = boldHtmlOpenTag + &quot;hello&quot; + boldHtmlCloseTag;\r\n        jsonobj.put(&quot;test&quot;,result);\r\n\r\n I get the response as `{&quot;test&quot; : &lt;b&gt; hello&lt;\\/b&gt;}`.\r\n I need output as without the `\\`.\r\nThanks in advance.","title":"remove unwanted &#39; \\&#39; from json values with html tags , generated using amazonaws json toolkit","body":"<p>I use amazonaws library[com.amazonaws.util.json] (java)  for generate json .\n  I use something as follows</p>\n\n<pre><code>    private static final String boldHtmlOpenTag = \"&lt;b&gt;\";\nprivate static final String boldHtmlCloseTag = \"&lt;/b&gt;\";\nprivate static final String italicsHtmlOpenTag = \"&lt;i&gt;\";\nprivate static final String italicsHtmlCloseTag = \"&lt;/i&gt;\";\n    String result = boldHtmlOpenTag + \"hello\" + boldHtmlCloseTag;\n    jsonobj.put(\"test\",result);\n</code></pre>\n\n<p>I get the response as <code>{\"test\" : &lt;b&gt; hello&lt;\\/b&gt;}</code>.\n I need output as without the <code>\\</code>.\nThanks in advance.</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":1,"creation_date":1334915888,"post_id":10243935,"comment_id":13165150,"body_markdown":"Looks to me that you are looking like Document Management Sytem. I have used this before.. which has inbuilt api&#39;s to fetch the data and search on documents and open source as well.\nhttp://www.alfresco.com/","body":"Looks to me that you are looking like Document Management Sytem. I have used this before.. which has inbuilt api&#39;s to fetch the data and search on documents and open source as well. <a href=\"http://www.alfresco.com/\" rel=\"nofollow noreferrer\">alfresco.com</a>"},{"owner":{"account_id":1421652,"reputation":571,"user_id":1346212,"display_name":"kodlan"},"score":0,"creation_date":1334916295,"post_id":10243935,"comment_id":13165326,"body_markdown":"Yeah, I thought about alfresco, but I guess that would be an overkill for me. Too heavy to just store images with ratings and tags.","body":"Yeah, I thought about alfresco, but I guess that would be an overkill for me. Too heavy to just store images with ratings and tags."},{"owner":{"account_id":1421652,"reputation":571,"user_id":1346212,"display_name":"kodlan"},"score":0,"creation_date":1334916360,"post_id":10243935,"comment_id":13165348,"body_markdown":"Is there any &quot;image-tagging&quot; wrapper for Solr?","body":"Is there any &quot;image-tagging&quot; wrapper for Solr?"},{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":0,"creation_date":1334916673,"post_id":10243935,"comment_id":13165457,"body_markdown":"From Solr 1.4 there is an image-tagging feature, I found some information googling around.","body":"From Solr 1.4 there is an image-tagging feature, I found some information googling around."},{"owner":{"account_id":1421652,"reputation":571,"user_id":1346212,"display_name":"kodlan"},"score":0,"creation_date":1334917781,"post_id":10243935,"comment_id":13165875,"body_markdown":"I&#39;ve googled too, but I still I have no idea how to configure all that.. (","body":"I&#39;ve googled too, but I still I have no idea how to configure all that.. ("}],"answers":[{"tags":[],"owner":{"display_name":"user846969"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1378240214,"creation_date":1378240214,"answer_id":18600943,"question_id":10243935,"body_markdown":"I think S3 and JSON can continue to work well for you without the trouble of going to a full relational database system. \r\n\r\nIf you imagine your solution in relational form, you can translate it into an S3 representation by mapping tables to directories in S3, rows to individual files in S3 and column values within each row as a JSON structure stored in that file. Storing small amounts of data in each &quot;row&quot; = S3 file allows you to update the data easily. As transfers to S3 either succeed or fail entirely, your updates will remain consistent.\r\n\r\nTo discover how many rows you have in a table, you would use the S3 list capability to list files with the common prefix for that table.\r\n\r\nThe S3 console enables you to see and explore your file structures.\r\n\r\nSecurity can be provided by Amazon IAM.\r\n\r\nAutomated backup can be done by using lifecycle rules to copy to Amazon Glacier.\r\n\r\nIf you use this approach you get a lot of relational like capabilities but without the additional expense and complexity of running an EC2 server or of using Amazon RDS.\r\n\r\nFinally, programming all this is simple, as you have the tools in place already from your previous work. I suspect that you will have a package like this to perform all the necessary operations on S3:\r\n\r\n\t\t//---------------------------------------------------------------------     \r\n\t\t// Amazon S3\r\n\t\t//---------------------------------------------------------------------     \r\n\t\t\tclass S3 extends AmazonS3Client\r\n\t\t\t {final String bucket;\r\n\t\t\t  S3(String u, String p, String Bucket)\r\n\t\t\t   {super(new BasicAWSCredentials(u, p));\r\n\t\t\t\tbucket = Bucket;\r\n\t\t\t   }\r\n\t\t\t  boolean put(String k, String v)      \r\n\t\t\t   {try \r\n\t\t\t\t {final ByteArrayInputStream b = new ByteArrayInputStream(v.toString().getBytes());\r\n\t\t\t\t  putObject(bucket, k, b, new ObjectMetadata());\r\n\t\t\t\t  setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be here to allow change to reduced redundancy\r\n\t\t\t\t  changeObjectStorageClass(bucket, k, StorageClass.ReducedRedundancy);\r\n\t\t\t\t  setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be repeated because it is now a new object again\r\n\t\t\t\t  return true; \r\n\t\t\t\t }\r\n\t\t\t\tcatch(Exception e) {log(&quot;Cannot put &quot;+bucket+&quot;/&quot;+k+&quot; to S3 because &quot;+e);}\r\n\t\t\t\treturn false; \r\n\t\t\t   }\r\n\t\t\t  String get(String k) \r\n\t\t\t   {try \r\n\t\t\t\t {final S3Object f = getObject(bucket, k);\r\n\t\t\t\t  final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());  \r\n\t\t\t\t  final StringBuilder s = new StringBuilder(); \r\n\t\t\t\t  final byte[]b = new byte[1024];\r\n\t\t\t\t  for(int n = i.read(b); n != -1; n = i.read(b)) {s.append(new String(b, 0, n));}\r\n\t\t\t\t  return s.toString(); \r\n\t\t\t\t }\r\n\t\t\t\tcatch(Exception e) {log(&quot;Cannot get &quot;+bucket+&quot;/&quot;+k+&quot; from S3 because &quot;+e);}\r\n\t\t\t\treturn null; \r\n\t\t\t   }\r\n\t\t\t  String[]list(String d) \r\n\t\t\t   {try \r\n\t\t\t\t {final ObjectListing l = listObjects(bucket, d);\r\n\t\t\t\t  final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries(); \r\n\t\t\t\t  final int n = L.size();\r\n\t\t\t\t  final String[]s = new String[n];  \r\n\t\t\t\t  for(int i = 0; i &lt; n; ++i)\r\n\t\t\t\t   {final S3ObjectSummary k = L.get(i);\r\n\t\t\t\t\ts[i] = k.getKey();\r\n\t\t\t\t   } \r\n\t\t\t\t  return s; \r\n\t\t\t\t }\r\n\t\t\t\tcatch(Exception e) {log(&quot;Cannot list &quot;+bucket+&quot;/&quot;+d+&quot; on S3 because &quot;+e);}\r\n\t\t\t\treturn new String[]{}; \r\n\t\t\t   }\r\n\t\t\t }\r\n\t\t   }\r\n\r\n   ","title":"Webservices to image hosting on S3?","body":"<p>I think S3 and JSON can continue to work well for you without the trouble of going to a full relational database system. </p>\n\n<p>If you imagine your solution in relational form, you can translate it into an S3 representation by mapping tables to directories in S3, rows to individual files in S3 and column values within each row as a JSON structure stored in that file. Storing small amounts of data in each \"row\" = S3 file allows you to update the data easily. As transfers to S3 either succeed or fail entirely, your updates will remain consistent.</p>\n\n<p>To discover how many rows you have in a table, you would use the S3 list capability to list files with the common prefix for that table.</p>\n\n<p>The S3 console enables you to see and explore your file structures.</p>\n\n<p>Security can be provided by Amazon IAM.</p>\n\n<p>Automated backup can be done by using lifecycle rules to copy to Amazon Glacier.</p>\n\n<p>If you use this approach you get a lot of relational like capabilities but without the additional expense and complexity of running an EC2 server or of using Amazon RDS.</p>\n\n<p>Finally, programming all this is simple, as you have the tools in place already from your previous work. I suspect that you will have a package like this to perform all the necessary operations on S3:</p>\n\n<pre><code>    //---------------------------------------------------------------------     \n    // Amazon S3\n    //---------------------------------------------------------------------     \n        class S3 extends AmazonS3Client\n         {final String bucket;\n          S3(String u, String p, String Bucket)\n           {super(new BasicAWSCredentials(u, p));\n            bucket = Bucket;\n           }\n          boolean put(String k, String v)      \n           {try \n             {final ByteArrayInputStream b = new ByteArrayInputStream(v.toString().getBytes());\n              putObject(bucket, k, b, new ObjectMetadata());\n              setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be here to allow change to reduced redundancy\n              changeObjectStorageClass(bucket, k, StorageClass.ReducedRedundancy);\n              setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be repeated because it is now a new object again\n              return true; \n             }\n            catch(Exception e) {log(\"Cannot put \"+bucket+\"/\"+k+\" to S3 because \"+e);}\n            return false; \n           }\n          String get(String k) \n           {try \n             {final S3Object f = getObject(bucket, k);\n              final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());  \n              final StringBuilder s = new StringBuilder(); \n              final byte[]b = new byte[1024];\n              for(int n = i.read(b); n != -1; n = i.read(b)) {s.append(new String(b, 0, n));}\n              return s.toString(); \n             }\n            catch(Exception e) {log(\"Cannot get \"+bucket+\"/\"+k+\" from S3 because \"+e);}\n            return null; \n           }\n          String[]list(String d) \n           {try \n             {final ObjectListing l = listObjects(bucket, d);\n              final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries(); \n              final int n = L.size();\n              final String[]s = new String[n];  \n              for(int i = 0; i &lt; n; ++i)\n               {final S3ObjectSummary k = L.get(i);\n                s[i] = k.getKey();\n               } \n              return s; \n             }\n            catch(Exception e) {log(\"Cannot list \"+bucket+\"/\"+d+\" on S3 because \"+e);}\n            return new String[]{}; \n           }\n         }\n       }\n</code></pre>\n"}],"owner":{"account_id":1421652,"reputation":571,"user_id":1346212,"display_name":"kodlan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18600943,"answer_count":1,"score":0,"last_activity_date":1677192458,"creation_date":1334915596,"question_id":10243935,"body_markdown":"I use Amazon S3 to store images used in my other Java applications. Recently I had to update my apps to introduce functionality like categories, tags and so on. For now this was resolved as JSON configs stored in S3. Those are fetched by other applications and used as some kind of DB replacement :).\r\n\r\nOther improvements like ratings and user feedbacks are still to be done. So moving to DB + backend with some webservices is next logical step. In first place I haven&#39;t used something like EC2 instance because of additional costs and maintenance issues.\r\n\r\nI need some recommendations how to implement this with min time and effort. So basic requirements are: - image are stored on s3 - web service provides methods to fetch category list, list of links to s3 for images in category, methods to update some image ratings, and possibly in future a method to resize image to provided dimentions.\r\n\r\nMy thoughts are: - Use s3 as its already there. - add some Java hosting to run mentioned webservice (I don&#39;t like the idea of using EC2 as requires much more time for configuration that I&#39;m willing to spend, maybe I&#39;m wrong here). - use &quot;plain&quot; javaee or some light frameworks to get most of hardware.\r\n\r\nI also considered using some image hosting service, but I haven&#39;t found something simmilar. Or maybe there is some opensource solutions that can be used for image hosting.\r\n\r\nAny thoughts on this would be highly appreciated, cause this is just driving me nuts when trying to decide how this should be implemented.\r\n\r\nThanks!\r\n","title":"Webservices to image hosting on S3?","body":"<p>I use Amazon S3 to store images used in my other Java applications. Recently I had to update my apps to introduce functionality like categories, tags and so on. For now this was resolved as JSON configs stored in S3. Those are fetched by other applications and used as some kind of DB replacement :).</p>\n\n<p>Other improvements like ratings and user feedbacks are still to be done. So moving to DB + backend with some webservices is next logical step. In first place I haven't used something like EC2 instance because of additional costs and maintenance issues.</p>\n\n<p>I need some recommendations how to implement this with min time and effort. So basic requirements are: - image are stored on s3 - web service provides methods to fetch category list, list of links to s3 for images in category, methods to update some image ratings, and possibly in future a method to resize image to provided dimentions.</p>\n\n<p>My thoughts are: - Use s3 as its already there. - add some Java hosting to run mentioned webservice (I don't like the idea of using EC2 as requires much more time for configuration that I'm willing to spend, maybe I'm wrong here). - use \"plain\" javaee or some light frameworks to get most of hardware.</p>\n\n<p>I also considered using some image hosting service, but I haven't found something simmilar. Or maybe there is some opensource solutions that can be used for image hosting.</p>\n\n<p>Any thoughts on this would be highly appreciated, cause this is just driving me nuts when trying to decide how this should be implemented.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1343011338,"post_id":11605742,"comment_id":15364013,"body_markdown":"Are you trying to *read* multiple lines or *insert* multiple lines? Your title says one thing, your question another.","body":"Are you trying to <i>read</i> multiple lines or <i>insert</i> multiple lines? Your title says one thing, your question another."},{"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"score":0,"creation_date":1343011403,"post_id":11605742,"comment_id":15364023,"body_markdown":"i&#39;m trying to insert multiple lines into the file, yeah. sorry!","body":"i&#39;m trying to insert multiple lines into the file, yeah. sorry!"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1343011277,"post_id":11605763,"comment_id":15363999,"body_markdown":"@hello what are you talking about? *Your code* is the example.","body":"@hello what are you talking about? <i>Your code</i> is the example."}],"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343010515,"creation_date":1343010515,"answer_id":11605763,"question_id":11605742,"body_markdown":"you have a do/while loop where you are losing a line each time you loop.  also, the second block is _not_ inside the while, it is after the while loop.  due to your odd formatting, that may not be obvious to you.","title":"how do i read multiple line into text file when i download it?","body":"<p>you have a do/while loop where you are losing a line each time you loop.  also, the second block is <em>not</em> inside the while, it is after the while loop.  due to your odd formatting, that may not be obvious to you.</p>\n"}],"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677192420,"creation_date":1343010304,"question_id":11605742,"body_markdown":"I&#39;m having a problem trying to insert multiple lines into a textfile when I download it into my local drive. How can I do that?\r\n\r\n\r\n    public class downloads3 {\r\n    \tprivate static String bucketName = &quot;testfyp&quot;;\r\n    \tprivate static String key        = &quot;pig.txt&quot;;\r\n    \tprivate static String test2;\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n            AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(\r\n            \t\tdownloads3.class.getResourceAsStream(\r\n                    \t\t&quot;AwsCredentials.properties&quot;)));\r\n            try {\r\n                System.out.println(&quot;Downloading an object&quot;);\r\n                S3Object s3object = s3Client.getObject(new GetObjectRequest(bucketName, key));\r\n                System.out.println(&quot;Content-Type: &quot;  + \r\n                \t\ts3object.getObjectMetadata().getContentType());\r\n                displayTextInputStream(s3object.getObjectContent());\r\n                \r\n               // Get a range of bytes from an object.\r\n                \r\n                GetObjectRequest rangeObjectRequest = new GetObjectRequest(\r\n                \t\tbucketName, key);\r\n                rangeObjectRequest.setRange(0, 10);\r\n                S3Object objectPortion = s3Client.getObject(rangeObjectRequest);\r\n                \r\n                System.out.println(&quot;Printing bytes retrieved.&quot;);\r\n                displayTextInputStream(objectPortion.getObjectContent());\r\n                \r\n                FileWriter fw = new FileWriter(&quot;C:/Users/L31305/Desktop/&quot; + key + &quot;.txt&quot;);\r\n                // String test =\r\n                // String test3 = s3object.getObjectContent();\r\n                fw.write(test2);\r\n                fw.close();\r\n            } catch (AmazonServiceException ase) {\r\n            \tase.printStackTrace();\r\n                System.out.println(&quot;Caught an AmazonServiceException, which&quot; +\r\n                \t\t&quot; means your request made it &quot; +\r\n                        &quot;to Amazon S3, but was rejected with an error response&quot; +\r\n                        &quot; for some reason.&quot;);\r\n                System.out.println(&quot;Error Message:    &quot; + ase.getMessage());\r\n                System.out.println(&quot;HTTP Status Code: &quot; + ase.getStatusCode());\r\n                System.out.println(&quot;AWS Error Code:   &quot; + ase.getErrorCode());\r\n                System.out.println(&quot;Error Type:       &quot; + ase.getErrorType());\r\n                System.out.println(&quot;Request ID:       &quot; + ase.getRequestId());\r\n            } catch (AmazonClientException ace) {\r\n                System.out.println(&quot;Caught an AmazonClientException, which means&quot;+\r\n                \t\t&quot; the client encountered &quot; +\r\n                        &quot;an internal error while trying to &quot; +\r\n                        &quot;communicate with S3, &quot; +\r\n                        &quot;such as not being able to access the network.&quot;);\r\n                System.out.println(&quot;Error Message: &quot; + ace.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void displayTextInputStream(InputStream input) throws IOException {\r\n        \t// Read one text line at a time and display.\r\n        \t\r\n            BufferedReader reader = new BufferedReader(new \r\n            \t\tInputStreamReader(input));\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n            String line;\r\n    \r\n            do{\r\n                line = reader.readLine();\r\n                test2 = line;\r\n       \r\n                System.out.println(&quot;    &quot; + line);\r\n            }\r\n            while (reader.readLine() != null); {\r\n                test2 += line;\r\n    \t        System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"how do i read multiple line into text file when i download it?","body":"<p>I'm having a problem trying to insert multiple lines into a textfile when I download it into my local drive. How can I do that?</p>\n\n<pre><code>public class downloads3 {\n    private static String bucketName = \"testfyp\";\n    private static String key        = \"pig.txt\";\n    private static String test2;\n\n    public static void main(String[] args) throws IOException {\n        AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(\n                downloads3.class.getResourceAsStream(\n                        \"AwsCredentials.properties\")));\n        try {\n            System.out.println(\"Downloading an object\");\n            S3Object s3object = s3Client.getObject(new GetObjectRequest(bucketName, key));\n            System.out.println(\"Content-Type: \"  + \n                    s3object.getObjectMetadata().getContentType());\n            displayTextInputStream(s3object.getObjectContent());\n\n           // Get a range of bytes from an object.\n\n            GetObjectRequest rangeObjectRequest = new GetObjectRequest(\n                    bucketName, key);\n            rangeObjectRequest.setRange(0, 10);\n            S3Object objectPortion = s3Client.getObject(rangeObjectRequest);\n\n            System.out.println(\"Printing bytes retrieved.\");\n            displayTextInputStream(objectPortion.getObjectContent());\n\n            FileWriter fw = new FileWriter(\"C:/Users/L31305/Desktop/\" + key + \".txt\");\n            // String test =\n            // String test3 = s3object.getObjectContent();\n            fw.write(test2);\n            fw.close();\n        } catch (AmazonServiceException ase) {\n            ase.printStackTrace();\n            System.out.println(\"Caught an AmazonServiceException, which\" +\n                    \" means your request made it \" +\n                    \"to Amazon S3, but was rejected with an error response\" +\n                    \" for some reason.\");\n            System.out.println(\"Error Message:    \" + ase.getMessage());\n            System.out.println(\"HTTP Status Code: \" + ase.getStatusCode());\n            System.out.println(\"AWS Error Code:   \" + ase.getErrorCode());\n            System.out.println(\"Error Type:       \" + ase.getErrorType());\n            System.out.println(\"Request ID:       \" + ase.getRequestId());\n        } catch (AmazonClientException ace) {\n            System.out.println(\"Caught an AmazonClientException, which means\"+\n                    \" the client encountered \" +\n                    \"an internal error while trying to \" +\n                    \"communicate with S3, \" +\n                    \"such as not being able to access the network.\");\n            System.out.println(\"Error Message: \" + ace.getMessage());\n        }\n    }\n\n    private static void displayTextInputStream(InputStream input) throws IOException {\n        // Read one text line at a time and display.\n\n        BufferedReader reader = new BufferedReader(new \n                InputStreamReader(input));\n\n        Scanner sc = new Scanner(System.in);\n        String line;\n\n        do{\n            line = reader.readLine();\n            test2 = line;\n\n            System.out.println(\"    \" + line);\n        }\n        while (reader.readLine() != null); {\n            test2 += line;\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","amazon-appstore"],"answers":[{"tags":[],"owner":{"account_id":214939,"reputation":18275,"user_id":469220,"accept_rate":75,"display_name":"Vlad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415104822,"creation_date":1415104822,"answer_id":26735388,"question_id":26732847,"body_markdown":"Could you not simply keep the version name in the Amazon format (possibly moving it upwards from what you currently have for Google Play)? As far as I know, Play is pretty lenient with version naming.\r\n\r\nAs for maintaining separate schemes, the [Gradle Plugin for Android](http://tools.android.com/tech-docs/new-build-system/user-guide) supports multiple flavors, where you can customize everything, from version names to actual code, so you could for example avoid showing Play links in the Amazon app and the other way around, as well as potentially using different ad networks etc. I don&#39;t know what a migration path would be for this though. Gradle supports generating Eclipse projects so you might be able to continue using it.","title":"Howto maintain an app for publishing to google and amazon store","body":"<p>Could you not simply keep the version name in the Amazon format (possibly moving it upwards from what you currently have for Google Play)? As far as I know, Play is pretty lenient with version naming.</p>\n\n<p>As for maintaining separate schemes, the <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide\" rel=\"nofollow\">Gradle Plugin for Android</a> supports multiple flavors, where you can customize everything, from version names to actual code, so you could for example avoid showing Play links in the Amazon app and the other way around, as well as potentially using different ad networks etc. I don't know what a migration path would be for this though. Gradle supports generating Eclipse projects so you might be able to continue using it.</p>\n"}],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677192407,"creation_date":1415096896,"question_id":26732847,"body_markdown":"I have an app already published to google play store. I like to publish it also to the amazon store. I read about the perrequisite to have a special format (4 numbers with dot) in the versionname.\r\n\r\nHow do I maintain an app (in one eclipse project) to support both stores.\r\nFor example : Do I have to change the Versionname or is there any trick ? What else to do ?","title":"Howto maintain an app for publishing to google and amazon store","body":"<p>I have an app already published to google play store. I like to publish it also to the amazon store. I read about the perrequisite to have a special format (4 numbers with dot) in the versionname.</p>\n\n<p>How do I maintain an app (in one eclipse project) to support both stores.\nFor example : Do I have to change the Versionname or is there any trick ? What else to do ?</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":973775,"reputation":331,"user_id":995702,"accept_rate":75,"display_name":"Marvado"},"score":0,"creation_date":1380037779,"post_id":18985728,"comment_id":28045800,"body_markdown":"Basically, I want the timestamp of the file inside of the zip file, say file X has JAN-01-2010 to be preserved. But file X&#39;s is overwridden with the timestamp of the ZIP file, which has SEP-20-2013.","body":"Basically, I want the timestamp of the file inside of the zip file, say file X has JAN-01-2010 to be preserved. But file X&#39;s is overwridden with the timestamp of the ZIP file, which has SEP-20-2013."},{"owner":{"account_id":943758,"reputation":5238,"user_id":971423,"accept_rate":44,"display_name":"Welsh"},"score":0,"creation_date":1380038747,"post_id":18985728,"comment_id":28046450,"body_markdown":"Modified it based off an example from another site. It uses ZipInputStream and ZipEntry where the ZipEntry does contain the modification time of the entry.","body":"Modified it based off an example from another site. It uses ZipInputStream and ZipEntry where the ZipEntry does contain the modification time of the entry."},{"owner":{"account_id":973775,"reputation":331,"user_id":995702,"accept_rate":75,"display_name":"Marvado"},"score":0,"creation_date":1380041465,"post_id":18985728,"comment_id":28047940,"body_markdown":"That worked perfectly. Now I see how ZipEntry is used properly. Thanks!","body":"That worked perfectly. Now I see how ZipEntry is used properly. Thanks!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1380511339,"post_id":18985728,"comment_id":28215191,"body_markdown":"`new File(newFile.getParent()).mkdirs()` should really be `newFile.getParentFile().mkdirs()`.","body":"<code>new File(newFile.getParent()).mkdirs()</code> should really be <code>newFile.getParentFile().mkdirs()</code>."}],"tags":[],"owner":{"account_id":943758,"reputation":5238,"user_id":971423,"accept_rate":44,"display_name":"Welsh"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380507213,"creation_date":1380036302,"answer_id":18985728,"question_id":18985518,"body_markdown":"It&#39;s because you are putting the contents of the Zip File into a new File.\r\n\r\nYou could try something like:\r\n\r\n\r\n    public void unzipFile(String zipFile, String outputFolder){\r\n        try {\r\n            byte[] buffer = new byte[1024];\r\n\r\n    \t    File folder = new File(outputFolder);\r\n            if(!folder.exists()){\r\n    \t        folder.mkdir();\r\n               }\r\n\r\n            ZipInputStream zis = new ZipInputStream(new FileInputStream(zipFile));\r\n            ZipEntry ze = zis.getNextEntry();\r\n\r\n       \t    while(ze!=null){\r\n                String fileName = ze.getName();\r\n                File newFile = new File(outputFolder + File.separator + fileName);\r\n \r\n                //create all non exists folders\r\n                //else you will hit FileNotFoundException for compressed folder\r\n                new File(newFile.getParent()).mkdirs();\r\n                FileOutputStream fos = new FileOutputStream(newFile);             \r\n \r\n                int len;\r\n                while ((len = zis.read(buffer)) &gt; 0) {\r\n      \t            fos.write(buffer, 0, len);\r\n                }\r\n\r\n                fos.close();\r\n                newFile.setLastModified(ze.getTime());\r\n                ze = zis.getNextEntry();\r\n            }\r\n \r\n            zis.closeEntry();\r\n            zis.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nPulled from: http://www.mkyong.com/java/how-to-decompress-files-from-a-zip-file/ With Modifications to add Modified Time.","title":"Download ZIP from Amazon S3 does not preserve timestamp when extracting in Java","body":"<p>It's because you are putting the contents of the Zip File into a new File.</p>\n\n<p>You could try something like:</p>\n\n<pre><code>public void unzipFile(String zipFile, String outputFolder){\n    try {\n        byte[] buffer = new byte[1024];\n\n        File folder = new File(outputFolder);\n        if(!folder.exists()){\n            folder.mkdir();\n           }\n\n        ZipInputStream zis = new ZipInputStream(new FileInputStream(zipFile));\n        ZipEntry ze = zis.getNextEntry();\n\n        while(ze!=null){\n            String fileName = ze.getName();\n            File newFile = new File(outputFolder + File.separator + fileName);\n\n            //create all non exists folders\n            //else you will hit FileNotFoundException for compressed folder\n            new File(newFile.getParent()).mkdirs();\n            FileOutputStream fos = new FileOutputStream(newFile);             \n\n            int len;\n            while ((len = zis.read(buffer)) &gt; 0) {\n                fos.write(buffer, 0, len);\n            }\n\n            fos.close();\n            newFile.setLastModified(ze.getTime());\n            ze = zis.getNextEntry();\n        }\n\n        zis.closeEntry();\n        zis.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Pulled from: <a href=\"http://www.mkyong.com/java/how-to-decompress-files-from-a-zip-file/\" rel=\"nofollow\">http://www.mkyong.com/java/how-to-decompress-files-from-a-zip-file/</a> With Modifications to add Modified Time.</p>\n"}],"owner":{"account_id":973775,"reputation":331,"user_id":995702,"accept_rate":75,"display_name":"Marvado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18985728,"answer_count":1,"score":1,"last_activity_date":1677192382,"creation_date":1380035784,"question_id":18985518,"body_markdown":"When I download a ZIP file from Amazon S3 and extract it using Java, it does not preserve the original timestamp of the file inside the ZIP.\r\nWhy? Here&#39;s the uncompress Java code:\r\n\r\n    public void unzipFile(String zipFile, String newFile) {\r\n        try {\r\n            FileInputStream fis = new FileInputStream(zipFile);\r\n            BufferedInputStream bis = new BufferedInputStream(fis);\r\n            ZipInputStream zis = new ZipInputStream(bis);\r\n            FileOutputStream fos = new FileOutputStream(newFile);\r\n            final byte[] buffer = new byte[1024];\r\n            int len = 0;\r\n            while ((len = zis.read(buffer)) != -1) {\r\n                fos.write(buffer, 0, len);\r\n            }\r\n            //close resources\r\n            fos.close();\r\n            zis.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nBasically, I want the timestamp of the file inside of the zip file, say file X has JAN-01-2010 to be preserved. But file X&#39;s is overwridden with the timestamp of the ZIP file, which has SEP-20-2013.\r\n\r\n","title":"Download ZIP from Amazon S3 does not preserve timestamp when extracting in Java","body":"<p>When I download a ZIP file from Amazon S3 and extract it using Java, it does not preserve the original timestamp of the file inside the ZIP.\nWhy? Here's the uncompress Java code:</p>\n\n<pre><code>public void unzipFile(String zipFile, String newFile) {\n    try {\n        FileInputStream fis = new FileInputStream(zipFile);\n        BufferedInputStream bis = new BufferedInputStream(fis);\n        ZipInputStream zis = new ZipInputStream(bis);\n        FileOutputStream fos = new FileOutputStream(newFile);\n        final byte[] buffer = new byte[1024];\n        int len = 0;\n        while ((len = zis.read(buffer)) != -1) {\n            fos.write(buffer, 0, len);\n        }\n        //close resources\n        fos.close();\n        zis.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Basically, I want the timestamp of the file inside of the zip file, say file X has JAN-01-2010 to be preserved. But file X's is overwridden with the timestamp of the ZIP file, which has SEP-20-2013.</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1474400948,"post_id":11572451,"comment_id":66513708,"body_markdown":"how to get file in a folder `S3Object s3object = sClient.getObject(new GetObjectRequest(&quot;/&quot;+bucketName, &quot;/images/&quot; + fileName));` i tried alot","body":"how to get file in a folder <code>S3Object s3object = sClient.getObject(new GetObjectRequest(&quot;&#47;&quot;+bucketName, &quot;&#47;images&#47;&quot; + fileName));</code> i tried alot"}],"answers":[{"comments":[{"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"score":0,"creation_date":1342765047,"post_id":11573766,"comment_id":15312125,"body_markdown":"may i know if the key name is suppose to put in secret key or access key?","body":"may i know if the key name is suppose to put in secret key or access key?"},{"owner":{"account_id":543436,"reputation":914,"user_id":912572,"accept_rate":57,"display_name":"Keshi"},"score":0,"creation_date":1342912288,"post_id":11573766,"comment_id":15348272,"body_markdown":"the key in question here is the key to the file! Think of S3 as a giant hashmap where you can retrieve content based on a key. In general it&#39;s the path to the item that&#39;s the key for a file in S3.","body":"the key in question here is the key to the file! Think of S3 as a giant hashmap where you can retrieve content based on a key. In general it&#39;s the path to the item that&#39;s the key for a file in S3."},{"owner":{"account_id":543436,"reputation":914,"user_id":912572,"accept_rate":57,"display_name":"Keshi"},"score":0,"creation_date":1342912321,"post_id":11573766,"comment_id":15348275,"body_markdown":"path to file in S3 = /bucket-name/folder-names/.../file-name","body":"path to file in S3 = /bucket-name/folder-names/.../file-name"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1677192599,"post_id":11573766,"comment_id":133295082,"body_markdown":"You&#39;re mixing up the terms case-sensitive and case-insensitive. Amazon S3 storage is case-sensitive.","body":"You&#39;re mixing up the terms case-sensitive and case-insensitive. Amazon S3 storage is case-sensitive."}],"tags":[],"owner":{"account_id":880433,"reputation":2228,"user_id":1151902,"accept_rate":30,"display_name":"Tej Kiran"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342764658,"creation_date":1342764658,"answer_id":11573766,"question_id":11572451,"body_markdown":"Make sure the your key which you are using in the code has as it is in the bucket. Remember Amazon S3 keys are case insensitive, means it might be that your key name has some different cases like upper or lower.\r\n\r\nCheck and try again.\r\n\r\n\r\n ","title":"Key for download bucket in Amazon S3 using Java","body":"<p>Make sure the your key which you are using in the code has as it is in the bucket. Remember Amazon S3 keys are case insensitive, means it might be that your key name has some different cases like upper or lower.</p>\n\n<p>Check and try again.</p>\n"},{"tags":[],"owner":{"account_id":2094980,"reputation":359,"user_id":1863973,"display_name":"Literally Illiterate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381997297,"creation_date":1381996522,"answer_id":19421121,"question_id":11572451,"body_markdown":"&quot;Key&quot; in Amazon S3 bucket is the file name you want to download.\r\n\r\nIn you case:\r\n\r\n    private static String key        = &quot;__________________________________&quot;; //will be file name/ file path to that file in Amazon Bucket.","title":"Key for download bucket in Amazon S3 using Java","body":"<p>\"Key\" in Amazon S3 bucket is the file name you want to download.</p>\n\n<p>In you case:</p>\n\n<pre><code>private static String key        = \"__________________________________\"; //will be file name/ file path to that file in Amazon Bucket.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":337459,"reputation":917,"user_id":665744,"accept_rate":100,"display_name":"8bitme"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391421010,"creation_date":1391421010,"answer_id":21524059,"question_id":11572451,"body_markdown":"I had a similar issue to this. My access key, secret, bucket, endpoint and path were correct. \r\n\r\nIt turns out that the issue for me was that the file I was pointing to in S3 did not exist hence the 404 error.","title":"Key for download bucket in Amazon S3 using Java","body":"<p>I had a similar issue to this. My access key, secret, bucket, endpoint and path were correct. </p>\n\n<p>It turns out that the issue for me was that the file I was pointing to in S3 did not exist hence the 404 error.</p>\n"},{"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1677193571,"post_id":23748111,"comment_id":133295278,"body_markdown":"You&#39;ll no longer get 404 NoSuchKey immediately after a PutObject call because of changes to [S3 consistency](https://aws.amazon.com/s3/consistency/).","body":"You&#39;ll no longer get 404 NoSuchKey immediately after a PutObject call because of changes to <a href=\"https://aws.amazon.com/s3/consistency/\" rel=\"nofollow noreferrer\">S3 consistency</a>."}],"tags":[],"owner":{"account_id":1307258,"reputation":431,"user_id":1255983,"display_name":"Boboman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400537936,"creation_date":1400537936,"answer_id":23748111,"question_id":11572451,"body_markdown":"As other people pointed out a **key** is a **unique identifier** for an object (file/folder etc) stored on S3.\r\n\r\nSee http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#CoreConcepts for more information on nomenclature and conceptual designs.\r\n\r\n**Note:** If you are trying to upload a file and then immediately do a getObjectRequest, sometimes (most times) there is a delay and would cause a 404 NoSuchKey, so you need to account for that scenario in your design.\r\n\r\nA &#39;key&#39; is **NOT** the credentials used for the request.  You would get a ***401 Unauthorized*** if this was the case.  A 404 is indicative of having proper authentication credentials set up.\r\n\r\nA key can be considered as a filename (or foldername for that matter).  This can be any arbitrary value but most people prefer to mock a file-system structure by using forward slashes (even the Amazon S3 console does this, and has create folder buttons etc.)\r\n\r\nIf you have access to the console, dig through your buckets and make sure all the key prefixes or &#39;parent directories&#39; exist, including the bucket or &#39;root folder&#39;.","title":"Key for download bucket in Amazon S3 using Java","body":"<p>As other people pointed out a <strong>key</strong> is a <strong>unique identifier</strong> for an object (file/folder etc) stored on S3.</p>\n\n<p>See <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#CoreConcepts\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#CoreConcepts</a> for more information on nomenclature and conceptual designs.</p>\n\n<p><strong>Note:</strong> If you are trying to upload a file and then immediately do a getObjectRequest, sometimes (most times) there is a delay and would cause a 404 NoSuchKey, so you need to account for that scenario in your design.</p>\n\n<p>A 'key' is <strong>NOT</strong> the credentials used for the request.  You would get a <strong><em>401 Unauthorized</em></strong> if this was the case.  A 404 is indicative of having proper authentication credentials set up.</p>\n\n<p>A key can be considered as a filename (or foldername for that matter).  This can be any arbitrary value but most people prefer to mock a file-system structure by using forward slashes (even the Amazon S3 console does this, and has create folder buttons etc.)</p>\n\n<p>If you have access to the console, dig through your buckets and make sure all the key prefixes or 'parent directories' exist, including the bucket or 'root folder'.</p>\n"}],"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1677192358,"creation_date":1342754863,"question_id":11572451,"body_markdown":"    public class downloads3 {\r\n    \tprivate static String bucketName = &quot;s3-upload-sdk-sample-akiaj6ufcgzvw7yukypa&quot;;\r\n    \t**private static String key        = &quot;__________________________________&quot;;**\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n            AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(\r\n            \t\tdownloads3.class.getResourceAsStream(\r\n                    \t\t&quot;AwsCredentials.properties&quot;)));\r\n            try {\r\n                System.out.println(&quot;Downloading an object&quot;);\r\n                S3Object s3object = s3Client.getObject(new GetObjectRequest(\r\n                \t\tbucketName, key));\r\n                System.out.println(&quot;Content-Type: &quot;  + \r\n                \t\ts3object.getObjectMetadata().getContentType());\r\n                displayTextInputStream(s3object.getObjectContent());\r\n                \r\n               // Get a range of bytes from an object.\r\n                \r\n                GetObjectRequest rangeObjectRequest = new GetObjectRequest(\r\n                \t\tbucketName, key);\r\n                rangeObjectRequest.setRange(0, 10);\r\n                S3Object objectPortion = s3Client.getObject(rangeObjectRequest);\r\n                \r\n                System.out.println(&quot;Printing bytes retrieved.&quot;);\r\n                displayTextInputStream(objectPortion.getObjectContent());\r\n                \r\n            } catch (AmazonServiceException ase) {\r\n                System.out.println(&quot;Caught an AmazonServiceException, which&quot; +\r\n                \t\t&quot; means your request made it &quot; +\r\n                        &quot;to Amazon S3, but was rejected with an error response&quot; +\r\n                        &quot; for some reason.&quot;);\r\n                System.out.println(&quot;Error Message:    &quot; + ase.getMessage());\r\n                System.out.println(&quot;HTTP Status Code: &quot; + ase.getStatusCode());\r\n                System.out.println(&quot;AWS Error Code:   &quot; + ase.getErrorCode());\r\n                System.out.println(&quot;Error Type:       &quot; + ase.getErrorType());\r\n                System.out.println(&quot;Request ID:       &quot; + ase.getRequestId());\r\n            } catch (AmazonClientException ace) {\r\n                System.out.println(&quot;Caught an AmazonClientException, which means&quot;+\r\n                \t\t&quot; the client encountered &quot; +\r\n                        &quot;an internal error while trying to &quot; +\r\n                        &quot;communicate with S3, &quot; +\r\n                        &quot;such as not being able to access the network.&quot;);\r\n                System.out.println(&quot;Error Message: &quot; + ace.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void displayTextInputStream(InputStream input)\r\n        throws IOException {\r\n        \t// Read one text line at a time and display.\r\n            BufferedReader reader = new BufferedReader(new \r\n            \t\tInputStreamReader(input));\r\n            while (true) {\r\n                String line = reader.readLine();\r\n                if (line == null) break;\r\n    \r\n                System.out.println(&quot;    &quot; + line);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\nI&#39;m trying to download objects from an Amazon S3 bucket using Java. But it doesn&#39;t seem to work and keeps giving me the error shown below. What is the correct key to be input? The access key or the secret key?\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Downloading an object\r\n    Caught an AmazonServiceException, which means your request made it to Amazon S3, but was rejected with an error response for some reason.\r\n    Error Message:    The specified key does not exist.\r\n    HTTP Status Code: 404\r\n    AWS Error Code:   NoSuchKey\r\n    Error Type:       Client\r\n    Request ID:       F9548FC068DB1646","title":"Key for download bucket in Amazon S3 using Java","body":"<pre><code>public class downloads3 {\n    private static String bucketName = \"s3-upload-sdk-sample-akiaj6ufcgzvw7yukypa\";\n    **private static String key        = \"__________________________________\";**\n\n    public static void main(String[] args) throws IOException {\n        AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(\n                downloads3.class.getResourceAsStream(\n                        \"AwsCredentials.properties\")));\n        try {\n            System.out.println(\"Downloading an object\");\n            S3Object s3object = s3Client.getObject(new GetObjectRequest(\n                    bucketName, key));\n            System.out.println(\"Content-Type: \"  + \n                    s3object.getObjectMetadata().getContentType());\n            displayTextInputStream(s3object.getObjectContent());\n\n           // Get a range of bytes from an object.\n\n            GetObjectRequest rangeObjectRequest = new GetObjectRequest(\n                    bucketName, key);\n            rangeObjectRequest.setRange(0, 10);\n            S3Object objectPortion = s3Client.getObject(rangeObjectRequest);\n\n            System.out.println(\"Printing bytes retrieved.\");\n            displayTextInputStream(objectPortion.getObjectContent());\n\n        } catch (AmazonServiceException ase) {\n            System.out.println(\"Caught an AmazonServiceException, which\" +\n                    \" means your request made it \" +\n                    \"to Amazon S3, but was rejected with an error response\" +\n                    \" for some reason.\");\n            System.out.println(\"Error Message:    \" + ase.getMessage());\n            System.out.println(\"HTTP Status Code: \" + ase.getStatusCode());\n            System.out.println(\"AWS Error Code:   \" + ase.getErrorCode());\n            System.out.println(\"Error Type:       \" + ase.getErrorType());\n            System.out.println(\"Request ID:       \" + ase.getRequestId());\n        } catch (AmazonClientException ace) {\n            System.out.println(\"Caught an AmazonClientException, which means\"+\n                    \" the client encountered \" +\n                    \"an internal error while trying to \" +\n                    \"communicate with S3, \" +\n                    \"such as not being able to access the network.\");\n            System.out.println(\"Error Message: \" + ace.getMessage());\n        }\n    }\n\n    private static void displayTextInputStream(InputStream input)\n    throws IOException {\n        // Read one text line at a time and display.\n        BufferedReader reader = new BufferedReader(new \n                InputStreamReader(input));\n        while (true) {\n            String line = reader.readLine();\n            if (line == null) break;\n\n            System.out.println(\"    \" + line);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>I'm trying to download objects from an Amazon S3 bucket using Java. But it doesn't seem to work and keeps giving me the error shown below. What is the correct key to be input? The access key or the secret key?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Downloading an object\nCaught an AmazonServiceException, which means your request made it to Amazon S3, but was rejected with an error response for some reason.\nError Message:    The specified key does not exist.\nHTTP Status Code: 404\nAWS Error Code:   NoSuchKey\nError Type:       Client\nRequest ID:       F9548FC068DB1646\n</code></pre>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":286189,"reputation":63,"user_id":585317,"display_name":"AndrasK"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1339686344,"creation_date":1339686344,"answer_id":11036012,"question_id":11036010,"body_markdown":"For whatever reason, the main issue is that I had declared s3 as `AmazonS3Client s3`. It should have looked like:\r\n\r\n    AmazonS3 s3 = new AmazonS3Client(propertiesFile);\r\n\r\nJust in case anyone else runs into this problem.","title":"Amazon S3 Java API Only Downloads 50 Objects","body":"<p>For whatever reason, the main issue is that I had declared s3 as <code>AmazonS3Client s3</code>. It should have looked like:</p>\n\n<pre><code>AmazonS3 s3 = new AmazonS3Client(propertiesFile);\n</code></pre>\n\n<p>Just in case anyone else runs into this problem.</p>\n"},{"tags":[],"owner":{"account_id":880433,"reputation":2228,"user_id":1151902,"accept_rate":30,"display_name":"Tej Kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340171743,"creation_date":1340171743,"answer_id":11113582,"question_id":11036010,"body_markdown":"Hopefully while you may callling getObject to download it, you are not closing the InputStream. which is optioned by calling getObject(); you have to close InputStream after dealing with each object.\r\n\r\n\r\n\r\nmore details read it : http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject(com.amazonaws.services.s3.model.GetObjectRequest)\r\n\r\n\r\nThanks","title":"Amazon S3 Java API Only Downloads 50 Objects","body":"<p>Hopefully while you may callling getObject to download it, you are not closing the InputStream. which is optioned by calling getObject(); you have to close InputStream after dealing with each object.</p>\n\n<p>more details read it : <a href=\"http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject(com.amazonaws.services.s3.model.GetObjectRequest\" rel=\"nofollow\">http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject(com.amazonaws.services.s3.model.GetObjectRequest</a>)</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":1885080,"reputation":981,"user_id":1704462,"display_name":"pangiole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401971630,"creation_date":1401971630,"answer_id":24060362,"question_id":11036010,"body_markdown":"For Scala developers, here it is recursive function to execute a ***full scan and map*** of the contents of an AmazonS3 bucket using the official [AWS SDK for Java][1]\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    import com.amazonaws.services.s3.AmazonS3Client\r\n    import com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\r\n    import scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\r\n    \r\n    def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\r\n    \r\n      def scan(acc:List[T], listing:ObjectListing): List[T] = {\r\n        val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\r\n        val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\r\n    \r\n        if (!listing.isTruncated) mapped.toList\r\n        else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\r\n      }\r\n    \r\n      scan(List(), s3.listObjects(bucket, prefix))\r\n    }\r\n    \r\n\r\n\r\nTo invoke the above curried ``map()`` function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official [AWS SDK for Java API Reference][2]), the bucket name and the prefix name in the first parameter list. Also pass the function ``f()`` you want to apply to map each object summary in the second parameter list.\r\n\r\nFor example\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    val tuple = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner, s.getSize))\r\n\r\nwill return the full list of ``(key, owner, size)`` tuples in that bucket/prefix\r\n\r\nor\r\n\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    val totalSize = map(s3, &quot;bucket&quot;, &quot;prefix&quot;)(s =&gt; s.getSize).sum\r\n\r\nwill return the total size of its content (note the additional `sum()` folding function applied at the end of the expression ;-)\r\n\r\nYou can combine ``map()`` with many other functions as you would normally approach by [Monads in Functional Programming][3]\r\n\r\n\r\n  [1]: http://aws.amazon.com/sdkforjava/\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\r\n  [3]: http://en.wikipedia.org/wiki/Monad_%28functional_programming%29","title":"Amazon S3 Java API Only Downloads 50 Objects","body":"<p>For Scala developers, here it is recursive function to execute a <strong><em>full scan and map</em></strong> of the contents of an AmazonS3 bucket using the official <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"nofollow\">AWS SDK for Java</a></p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import com.amazonaws.services.s3.AmazonS3Client\nimport com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\nimport scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\n\ndef map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\n\n  def scan(acc:List[T], listing:ObjectListing): List[T] = {\n    val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\n    val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\n\n    if (!listing.isTruncated) mapped.toList\n    else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\n  }\n\n  scan(List(), s3.listObjects(bucket, prefix))\n}\n</code></pre>\n\n<p>To invoke the above curried <code>map()</code> function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"nofollow\">AWS SDK for Java API Reference</a>), the bucket name and the prefix name in the first parameter list. Also pass the function <code>f()</code> you want to apply to map each object summary in the second parameter list.</p>\n\n<p>For example</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val tuple = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner, s.getSize))\n</code></pre>\n\n<p>will return the full list of <code>(key, owner, size)</code> tuples in that bucket/prefix</p>\n\n<p>or</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val totalSize = map(s3, \"bucket\", \"prefix\")(s =&gt; s.getSize).sum\n</code></pre>\n\n<p>will return the total size of its content (note the additional <code>sum()</code> folding function applied at the end of the expression ;-)</p>\n\n<p>You can combine <code>map()</code> with many other functions as you would normally approach by <a href=\"http://en.wikipedia.org/wiki/Monad_%28functional_programming%29\" rel=\"nofollow\">Monads in Functional Programming</a></p>\n"}],"owner":{"account_id":286189,"reputation":63,"user_id":585317,"display_name":"AndrasK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677192346,"creation_date":1339686344,"question_id":11036010,"body_markdown":"This was giving me a major head-ache, so I thought I&#39;d post the easy solution.\r\nMy issue was that when using the Java API for Amazon&#39;s S3, I could only download 50 objects before it would mysteriously time out. The code looked something like this:\r\n\r\n    int counter = 0;\r\n    AmazonS3Client s3 = new AmazonS3Client(propertiesFile);\r\n    while(objectList.isTruncated()){\r\n    for(S3ObjectSummary objectSummary : objectList.getObjectSummaries()){\r\n        System.out.println(++counter);\r\n        S3Object object = s3.getObject(new GetObjectRequest(bucketName, objectSummary.getKey()));\r\n    //do stuff\r\n    }\r\n    }\r\n\r\nIt would run and process everything fine for exactly 50 objects, and then time out.","title":"Amazon S3 Java API Only Downloads 50 Objects","body":"<p>This was giving me a major head-ache, so I thought I'd post the easy solution.\nMy issue was that when using the Java API for Amazon's S3, I could only download 50 objects before it would mysteriously time out. The code looked something like this:</p>\n\n<pre><code>int counter = 0;\nAmazonS3Client s3 = new AmazonS3Client(propertiesFile);\nwhile(objectList.isTruncated()){\nfor(S3ObjectSummary objectSummary : objectList.getObjectSummaries()){\n    System.out.println(++counter);\n    S3Object object = s3.getObject(new GetObjectRequest(bucketName, objectSummary.getKey()));\n//do stuff\n}\n}\n</code></pre>\n\n<p>It would run and process everything fine for exactly 50 objects, and then time out.</p>\n"},{"tags":["java","amazon-mws"],"answers":[{"tags":[],"owner":{"account_id":2399146,"reputation":6802,"user_id":2097290,"display_name":"Hazzit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426849522,"creation_date":1426849522,"answer_id":29165055,"question_id":29137476,"body_markdown":"Did you do number 3 on the [Quick Start][1] list for the Java MWS library? It seems the service endpoint is not configured.\r\n\r\n\r\n  [1]: https://developer.amazonservices.com/doc/products/products/v20111001/java.html","title":"Amazon AWS Java - list orders throws exception","body":"<p>Did you do number 3 on the <a href=\"https://developer.amazonservices.com/doc/products/products/v20111001/java.html\" rel=\"nofollow\">Quick Start</a> list for the Java MWS library? It seems the service endpoint is not configured.</p>\n"},{"tags":[],"owner":{"account_id":6769124,"reputation":278,"user_id":5213039,"display_name":"Dave Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586243406,"creation_date":1454359973,"answer_id":35140109,"question_id":29137476,"body_markdown":"I received this exception because my `ServiceURL` wasn&#39;t set right.\r\n\r\nTo fix, I set the `ServiceURL` to https://mws.amazonservices.com","title":"Amazon AWS Java - list orders throws exception","body":"<p>I received this exception because my <code>ServiceURL</code> wasn't set right.</p>\n\n<p>To fix, I set the <code>ServiceURL</code> to <a href=\"https://mws.amazonservices.com\" rel=\"nofollow noreferrer\">https://mws.amazonservices.com</a></p>\n"}],"owner":{"account_id":4362154,"reputation":3923,"user_id":3558874,"accept_rate":61,"display_name":"pez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677192334,"creation_date":1426741097,"question_id":29137476,"body_markdown":"I&#39;m trying to get orders from Amazon MWS, and I&#39;ve started by simply copying `ListOrdersSample.java` in the client library samples. Below is the code, and the `StringIndexOutOfBounds` exception it throws. I&#39;m not sure why this is happening. Amazon&#39;s documentation is very sparse and searching online yields very little results. \r\n\r\nCan anyone help? Thank you in advance!\r\n\r\n    public class GetOrderList \r\n    {\r\n        private static final String mAccessKeyID = &quot;accessKeyID&quot;;\r\n        private static final String mSecretAccessKey = &quot;secretAccessKey&quot;;\r\n        private static final String mMerchantID = &quot;merchantID&quot;;\r\n        private static final String mMarketplaceID = &quot;marketplaceID&quot;;\r\n    \r\n         /**\r\n         * Call the service, log response and exceptions.\r\n         */\r\n        public static ListOrdersResponse invokeListOrders(\r\n                MarketplaceWebServiceOrders client, \r\n                ListOrdersRequest request) \r\n        {\r\n            try \r\n            {\r\n                // Call the service.\r\n                // Line 44\r\n                ListOrdersResponse response = client.listOrders(request);\r\n                ResponseHeaderMetadata rhmd = response.getResponseHeaderMetadata();\r\n            \r\n                // We recommend logging every the request id and timestamp of every call.\r\n                System.out.println(&quot;Response:&quot;);\r\n                System.out.println(&quot;RequestId: &quot;+rhmd.getRequestId());\r\n                System.out.println(&quot;Timestamp: &quot;+rhmd.getTimestamp());\r\n                String responseXml = response.toXML();\r\n                System.out.println(responseXml);\r\n                return response;\r\n            } \r\n            catch (MarketplaceWebServiceOrdersException ex) \r\n            {\r\n                // Exception properties are important for diagnostics.\r\n                System.out.println(&quot;Service Exception:&quot;);\r\n                ResponseHeaderMetadata rhmd = ex.getResponseHeaderMetadata();\r\n            \r\n                if(rhmd != null) \r\n                {\r\n                    System.out.println(&quot;RequestId: &quot;+rhmd.getRequestId());\r\n                    System.out.println(&quot;Timestamp: &quot;+rhmd.getTimestamp());\r\n                }\r\n            \r\n                System.out.println(&quot;Message: &quot;+ex.getMessage());\r\n                System.out.println(&quot;StatusCode: &quot;+ex.getStatusCode());\r\n                System.out.println(&quot;ErrorCode: &quot;+ex.getErrorCode());\r\n                System.out.println(&quot;ErrorType: &quot;+ex.getErrorType());\r\n                throw ex;\r\n            }\r\n        }\r\n\r\n        /**\r\n         *  Command line entry point.\r\n         */\r\n        public static void main(String[] args) \r\n        {\r\n            // Get a client connection.\r\n            // Make sure you&#39;ve set the variables in MarketplaceWebServiceOrdersSampleConfig.\r\n            MarketplaceWebServiceOrdersClient client = MarketplaceWebServiceOrdersSampleConfig.getClient();\r\n\r\n            // Create a request.\r\n            ListOrdersRequest request = new ListOrdersRequest();\r\n\r\n            request.setSellerId(mMerchantID);\r\n        \r\n            // Not sure if this is correct\r\n            request.setMWSAuthToken(mAccessKeyID);\r\n        \r\n            XMLGregorianCalendar createdAfter = MwsUtl.getDTF().newXMLGregorianCalendar();\r\n            request.setCreatedAfter(createdAfter);\r\n        \r\n            XMLGregorianCalendar createdBefore = MwsUtl.getDTF().newXMLGregorianCalendar();\r\n            request.setCreatedBefore(createdBefore);\r\n        \r\n            XMLGregorianCalendar lastUpdatedAfter = MwsUtl.getDTF().newXMLGregorianCalendar();\r\n            request.setLastUpdatedAfter(lastUpdatedAfter);\r\n        \r\n            XMLGregorianCalendar lastUpdatedBefore = MwsUtl.getDTF().newXMLGregorianCalendar();\r\n            request.setLastUpdatedBefore(lastUpdatedBefore);\r\n        \r\n            List&lt;String&gt; orderStatus = new ArrayList&lt;String&gt;();\r\n            request.setOrderStatus(orderStatus);\r\n        \r\n            List&lt;String&gt; marketplaceId = new ArrayList&lt;String&gt;();\r\n            request.setMarketplaceId(marketplaceId);\r\n        \r\n            List&lt;String&gt; fulfillmentChannel = new ArrayList&lt;String&gt;();\r\n            request.setFulfillmentChannel(fulfillmentChannel);\r\n        \r\n            List&lt;String&gt; paymentMethod = new ArrayList&lt;String&gt;();\r\n            request.setPaymentMethod(paymentMethod);\r\n        \r\n            String buyerEmail = &quot;example&quot;;\r\n            request.setBuyerEmail(buyerEmail);\r\n        \r\n            String sellerOrderId = &quot;example&quot;;\r\n            request.setSellerOrderId(sellerOrderId);\r\n        \r\n            Integer maxResultsPerPage = 100;\r\n            request.setMaxResultsPerPage(maxResultsPerPage);\r\n        \r\n            List&lt;String&gt; tfmShipmentStatus = new ArrayList&lt;String&gt;();\r\n            request.setTFMShipmentStatus(tfmShipmentStatus);\r\n\r\n            // Make the call.\r\n            // Line 129\r\n            invokeListOrders(client, request);\r\n        }\r\n    }\r\n\r\n\r\n    Service Exception:\r\n    Message: null\r\n    StatusCode: 0\r\n    ErrorCode: null\r\n    Exception in thread &quot;main&quot; com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersException\r\n    ErrorType: null\r\n\tat com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersClient$RequestType.wrapException(MarketplaceWebServiceOrdersClient.java:143)\r\n\tat com.amazonservices.mws.client.MwsConnection.call(MwsConnection.java:429)\r\n\tat com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersClient.listOrders(MarketplaceWebServiceOrdersClient.java:87)\r\n\tat test.GetOrderList.invokeListOrders(GetOrderList.java:44)\r\n\tat test.GetOrderList.main(GetOrderList.java:129)\r\n    Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\tat java.lang.String.substring(String.java:1955)\r\n\tat com.amazonservices.mws.client.MwsConnection$ServiceEndpoint.&lt;init&gt;(MwsConnection.java:102)\r\n\tat com.amazonservices.mws.client.MwsConnection.getServiceEndpoint(MwsConnection.java:398)\r\n\tat com.amazonservices.mws.client.MwsConnection.newCall(MwsConnection.java:687)\r\n\tat com.amazonservices.mws.client.MwsConnection.call(MwsConnection.java:420)\r\n\t... 3 more","title":"Amazon AWS Java - list orders throws exception","body":"<p>I'm trying to get orders from Amazon MWS, and I've started by simply copying <code>ListOrdersSample.java</code> in the client library samples. Below is the code, and the <code>StringIndexOutOfBounds</code> exception it throws. I'm not sure why this is happening. Amazon's documentation is very sparse and searching online yields very little results. </p>\n\n<p>Can anyone help? Thank you in advance!</p>\n\n<pre><code>public class GetOrderList \n{\n    private static final String mAccessKeyID = \"accessKeyID\";\n    private static final String mSecretAccessKey = \"secretAccessKey\";\n    private static final String mMerchantID = \"merchantID\";\n    private static final String mMarketplaceID = \"marketplaceID\";\n\n     /**\n     * Call the service, log response and exceptions.\n     */\n    public static ListOrdersResponse invokeListOrders(\n            MarketplaceWebServiceOrders client, \n            ListOrdersRequest request) \n    {\n        try \n        {\n            // Call the service.\n            // Line 44\n            ListOrdersResponse response = client.listOrders(request);\n            ResponseHeaderMetadata rhmd = response.getResponseHeaderMetadata();\n\n            // We recommend logging every the request id and timestamp of every call.\n            System.out.println(\"Response:\");\n            System.out.println(\"RequestId: \"+rhmd.getRequestId());\n            System.out.println(\"Timestamp: \"+rhmd.getTimestamp());\n            String responseXml = response.toXML();\n            System.out.println(responseXml);\n            return response;\n        } \n        catch (MarketplaceWebServiceOrdersException ex) \n        {\n            // Exception properties are important for diagnostics.\n            System.out.println(\"Service Exception:\");\n            ResponseHeaderMetadata rhmd = ex.getResponseHeaderMetadata();\n\n            if(rhmd != null) \n            {\n                System.out.println(\"RequestId: \"+rhmd.getRequestId());\n                System.out.println(\"Timestamp: \"+rhmd.getTimestamp());\n            }\n\n            System.out.println(\"Message: \"+ex.getMessage());\n            System.out.println(\"StatusCode: \"+ex.getStatusCode());\n            System.out.println(\"ErrorCode: \"+ex.getErrorCode());\n            System.out.println(\"ErrorType: \"+ex.getErrorType());\n            throw ex;\n        }\n    }\n\n    /**\n     *  Command line entry point.\n     */\n    public static void main(String[] args) \n    {\n        // Get a client connection.\n        // Make sure you've set the variables in MarketplaceWebServiceOrdersSampleConfig.\n        MarketplaceWebServiceOrdersClient client = MarketplaceWebServiceOrdersSampleConfig.getClient();\n\n        // Create a request.\n        ListOrdersRequest request = new ListOrdersRequest();\n\n        request.setSellerId(mMerchantID);\n\n        // Not sure if this is correct\n        request.setMWSAuthToken(mAccessKeyID);\n\n        XMLGregorianCalendar createdAfter = MwsUtl.getDTF().newXMLGregorianCalendar();\n        request.setCreatedAfter(createdAfter);\n\n        XMLGregorianCalendar createdBefore = MwsUtl.getDTF().newXMLGregorianCalendar();\n        request.setCreatedBefore(createdBefore);\n\n        XMLGregorianCalendar lastUpdatedAfter = MwsUtl.getDTF().newXMLGregorianCalendar();\n        request.setLastUpdatedAfter(lastUpdatedAfter);\n\n        XMLGregorianCalendar lastUpdatedBefore = MwsUtl.getDTF().newXMLGregorianCalendar();\n        request.setLastUpdatedBefore(lastUpdatedBefore);\n\n        List&lt;String&gt; orderStatus = new ArrayList&lt;String&gt;();\n        request.setOrderStatus(orderStatus);\n\n        List&lt;String&gt; marketplaceId = new ArrayList&lt;String&gt;();\n        request.setMarketplaceId(marketplaceId);\n\n        List&lt;String&gt; fulfillmentChannel = new ArrayList&lt;String&gt;();\n        request.setFulfillmentChannel(fulfillmentChannel);\n\n        List&lt;String&gt; paymentMethod = new ArrayList&lt;String&gt;();\n        request.setPaymentMethod(paymentMethod);\n\n        String buyerEmail = \"example\";\n        request.setBuyerEmail(buyerEmail);\n\n        String sellerOrderId = \"example\";\n        request.setSellerOrderId(sellerOrderId);\n\n        Integer maxResultsPerPage = 100;\n        request.setMaxResultsPerPage(maxResultsPerPage);\n\n        List&lt;String&gt; tfmShipmentStatus = new ArrayList&lt;String&gt;();\n        request.setTFMShipmentStatus(tfmShipmentStatus);\n\n        // Make the call.\n        // Line 129\n        invokeListOrders(client, request);\n    }\n}\n\n\nService Exception:\nMessage: null\nStatusCode: 0\nErrorCode: null\nException in thread \"main\" com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersException\nErrorType: null\nat com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersClient$RequestType.wrapException(MarketplaceWebServiceOrdersClient.java:143)\nat com.amazonservices.mws.client.MwsConnection.call(MwsConnection.java:429)\nat com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersClient.listOrders(MarketplaceWebServiceOrdersClient.java:87)\nat test.GetOrderList.invokeListOrders(GetOrderList.java:44)\nat test.GetOrderList.main(GetOrderList.java:129)\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\nat java.lang.String.substring(String.java:1955)\nat com.amazonservices.mws.client.MwsConnection$ServiceEndpoint.&lt;init&gt;(MwsConnection.java:102)\nat com.amazonservices.mws.client.MwsConnection.getServiceEndpoint(MwsConnection.java:398)\nat com.amazonservices.mws.client.MwsConnection.newCall(MwsConnection.java:687)\nat com.amazonservices.mws.client.MwsConnection.call(MwsConnection.java:420)\n... 3 more\n</code></pre>\n"},{"tags":["java","amazon-ec2"],"answers":[{"comments":[{"owner":{"account_id":2860205,"reputation":768,"user_id":2455627,"accept_rate":50,"display_name":"Gordon Allocman"},"score":0,"creation_date":1374590253,"post_id":17813008,"comment_id":25992671,"body_markdown":"Sorry I should have been a little clearer, the instances are going to be worker machines and the tags are information that they need to be able to do their tasks. I need to make it so that they can automatically see their tags through code in my java program","body":"Sorry I should have been a little clearer, the instances are going to be worker machines and the tags are information that they need to be able to do their tasks. I need to make it so that they can automatically see their tags through code in my java program"},{"owner":{"account_id":415426,"reputation":19183,"user_id":790224,"display_name":"datasage"},"score":0,"creation_date":1374590501,"post_id":17813008,"comment_id":25992844,"body_markdown":"You could send the data via userdata. That information is available via metadata with this request `http://169.254.169.254/latest/user-data`","body":"You could send the data via userdata. That information is available via metadata with this request <code>http:&#47;&#47;169.254.169.254&#47;latest&#47;user-data</code>"}],"tags":[],"owner":{"account_id":415426,"reputation":19183,"user_id":790224,"display_name":"datasage"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374589490,"creation_date":1374589490,"answer_id":17813008,"question_id":17811992,"body_markdown":"You should be able to get the current instance id by sending a request to: `http://169.254.169.254/latest/meta-data/instance-id`. This only works within ec2. With this you can access quite a bit of information about the instance. However, tags do not appear to be included.\r\n\r\nYou should be able to take the instance id along with the correct authentication to get the instance tags. If you are going to run this on an instance, you may want to provide an IAM user with limited access instead of a user which has access to everything in case the instance is compromised.","title":"In java, how can I get an Amazon EC2 Instance to see its own tags?","body":"<p>You should be able to get the current instance id by sending a request to: <code>http://169.254.169.254/latest/meta-data/instance-id</code>. This only works within ec2. With this you can access quite a bit of information about the instance. However, tags do not appear to be included.</p>\n\n<p>You should be able to take the instance id along with the correct authentication to get the instance tags. If you are going to run this on an instance, you may want to provide an IAM user with limited access instead of a user which has access to everything in case the instance is compromised.</p>\n"},{"tags":[],"owner":{"account_id":1321719,"reputation":6696,"user_id":1267409,"accept_rate":80,"display_name":"jpschroeder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376422158,"creation_date":1376421321,"answer_id":18217301,"question_id":17811992,"body_markdown":"While using user-data may be the simplest solution, the OP was asking specifically about the tagging, and unfortunately amazon hasn&#39;t made this as easy as it could be. However, It can be done. You want to use a combination of 2 amazon services.\r\n\r\n1. First you need to retrieve the Instance ID. This can be achieved by hitting the URL from within your instance:\r\n\r\n    `http://169.254.169.254/latest/meta-data/instance-id`\r\n\r\n2. Once you have the resource ID, you&#39;ll want to use Amazon&#39;s EC2 API to access the tags. Since you said you&#39;re using Java, I would suggest the Using the [AWS SDK amazon makes available][1]. Within this SDK you&#39;ll find a method called `describeTags` ([documentation][2]). You can use a Resource ID as one of the filters to get the specific tags to your instance. Supported filters are\r\n\r\n        tag key\r\n        resource-id\r\n        resource-type\r\n\r\n\r\nI suggest doing this retrieval at boot using something like cloud-init and caching the tags on your server for use later if necessary.\r\n\r\n  [1]: http://aws.amazon.com/sdkforjava/\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html","title":"In java, how can I get an Amazon EC2 Instance to see its own tags?","body":"<p>While using user-data may be the simplest solution, the OP was asking specifically about the tagging, and unfortunately amazon hasn't made this as easy as it could be. However, It can be done. You want to use a combination of 2 amazon services.</p>\n\n<ol>\n<li><p>First you need to retrieve the Instance ID. This can be achieved by hitting the URL from within your instance:</p>\n\n<p><code>http://169.254.169.254/latest/meta-data/instance-id</code></p></li>\n<li><p>Once you have the resource ID, you'll want to use Amazon's EC2 API to access the tags. Since you said you're using Java, I would suggest the Using the <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"nofollow\">AWS SDK amazon makes available</a>. Within this SDK you'll find a method called <code>describeTags</code> (<a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"nofollow\">documentation</a>). You can use a Resource ID as one of the filters to get the specific tags to your instance. Supported filters are</p>\n\n<pre><code>tag key\nresource-id\nresource-type\n</code></pre></li>\n</ol>\n\n<p>I suggest doing this retrieval at boot using something like cloud-init and caching the tags on your server for use later if necessary.</p>\n"},{"tags":[],"owner":{"account_id":1598883,"reputation":803,"user_id":1480364,"display_name":"Vlad Sankin"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499386804,"creation_date":1499386804,"answer_id":44960686,"question_id":17811992,"body_markdown":"This should help you get started...\r\n\r\n    String instanceId = EC2MetadataUtils.getInstanceId();\r\n    AmazonEC2 client = AmazonEC2ClientBuilder.standard()\r\n        .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n        .build();\r\n    DescribeTagsRequest req = new DescribeTagsRequest()\r\n        .withFilters(new Filter(&quot;resource-id&quot;, Collections.singletonList(instanceId)));\r\n    DescribeTagsResult describeTagsResult = client.describeTags(req);\r\n    List&lt;TagDescription&gt; tags = describeTagsResult.getTags()","title":"In java, how can I get an Amazon EC2 Instance to see its own tags?","body":"<p>This should help you get started...</p>\n\n<pre><code>String instanceId = EC2MetadataUtils.getInstanceId();\nAmazonEC2 client = AmazonEC2ClientBuilder.standard()\n    .withCredentials(new DefaultAWSCredentialsProviderChain())\n    .build();\nDescribeTagsRequest req = new DescribeTagsRequest()\n    .withFilters(new Filter(\"resource-id\", Collections.singletonList(instanceId)));\nDescribeTagsResult describeTagsResult = client.describeTags(req);\nList&lt;TagDescription&gt; tags = describeTagsResult.getTags()\n</code></pre>\n"}],"owner":{"account_id":2860205,"reputation":768,"user_id":2455627,"accept_rate":50,"display_name":"Gordon Allocman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3670,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677192315,"creation_date":1374586994,"question_id":17811992,"body_markdown":"So I have a java program running within an Amazon EC2 instance. Is there a way to programatically get its own tags? I have tried instantiating a new AmazonEC2Client to us the describeTags() function but it only gives me null. Any help would be appreciated thank you.\r\n\r\nEdit: To make things clearer, the instances are going to be unmanned worker machines spun up to solely do some computations","title":"In java, how can I get an Amazon EC2 Instance to see its own tags?","body":"<p>So I have a java program running within an Amazon EC2 instance. Is there a way to programatically get its own tags? I have tried instantiating a new AmazonEC2Client to us the describeTags() function but it only gives me null. Any help would be appreciated thank you.</p>\n\n<p>Edit: To make things clearer, the instances are going to be unmanned worker machines spun up to solely do some computations</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":6125952,"reputation":51,"user_id":4777948,"display_name":"learn java"},"score":0,"creation_date":1434086421,"post_id":30795320,"comment_id":49640612,"body_markdown":"Its not an error, but i guess this is not correct way of authenticating endpoint...","body":"Its not an error, but i guess this is not correct way of authenticating endpoint..."},{"owner":{"account_id":1203524,"reputation":385,"user_id":1173714,"display_name":"Kerim Karaca"},"score":0,"creation_date":1476353976,"post_id":30795320,"comment_id":67313398,"body_markdown":"I&#39;m experiencing a similar issue. I&#39;m setting my local minio S3 endpoint but s3 client still tries to connect some AWS endpoint and fails to connect.","body":"I&#39;m experiencing a similar issue. I&#39;m setting my local minio S3 endpoint but s3 client still tries to connect some AWS endpoint and fails to connect."},{"owner":{"account_id":2605293,"reputation":1052,"user_id":2256566,"display_name":"Dinesh Patil"},"score":0,"creation_date":1510556608,"post_id":30795320,"comment_id":81467998,"body_markdown":"I am able to authenticate the above way. Are you getting any exception or error?","body":"I am able to authenticate the above way. Are you getting any exception or error?"}],"answers":[{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434086808,"creation_date":1434086808,"answer_id":30795843,"question_id":30795320,"body_markdown":"An endpoint is an Amazon supplied value.\r\n\r\n[http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html][1]\r\n\r\nE.g. **s3.amazonaws.com** for US Standard.  \r\n\r\nOr s3-**&amp;lt;region&amp;gt;**.amazonaws.com, E.g. **s3-eu-west-1.amazonaws.com**\r\n\r\nYou are using an incorrect endpoint.  Plus in most situations you want to set the Amazon Region, not the endpoint specifically.  See [http://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html][2] for an example.\r\n\r\nWith your Account credentials, Region and Bucket name, Amazon S3 API has all it needs to find your files.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html\r\n  [2]: http://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html","title":"How to authenticate amazon s3 endpoint in java","body":"<p>An endpoint is an Amazon supplied value.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html</a></p>\n\n<p>E.g. <strong>s3.amazonaws.com</strong> for US Standard.  </p>\n\n<p>Or s3-<strong>&lt;region&gt;</strong>.amazonaws.com, E.g. <strong>s3-eu-west-1.amazonaws.com</strong></p>\n\n<p>You are using an incorrect endpoint.  Plus in most situations you want to set the Amazon Region, not the endpoint specifically.  See <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html</a> for an example.</p>\n\n<p>With your Account credentials, Region and Bucket name, Amazon S3 API has all it needs to find your files.</p>\n"}],"owner":{"account_id":6125952,"reputation":51,"user_id":4777948,"display_name":"learn java"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6942,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677192295,"creation_date":1434083350,"question_id":30795320,"body_markdown":"I&#39;ve amazon aws s3 endpoint, access key and secret key, i want to validate my endpoint using these key in java, can someone help how to test my endpoint if you can share some sample code will be very helpful.\r\n\r\nThanks\r\n\r\nI tried the below code but its not authenticating:\r\n\r\n    public class AmazonS3Example\r\n    {\r\n      private static final String SUFFIX = &quot;/&quot;;\r\n      \r\n      public static void main(String[] args)\r\n      {\r\n        AWSCredentials credentials = new BasicAWSCredentials(\r\n                &quot;YourAccessKeyID&quot;,\r\n                &quot;YourSecretAccessKey&quot;);\r\n        AmazonS3 s3client = new AmazonS3Client(credentials);\r\n        s3client.setEndpoint(&quot;http://someendpoing.com&quot;);\r\n      }\r\n    }","title":"How to authenticate amazon s3 endpoint in java","body":"<p>I've amazon aws s3 endpoint, access key and secret key, i want to validate my endpoint using these key in java, can someone help how to test my endpoint if you can share some sample code will be very helpful.</p>\n\n<p>Thanks</p>\n\n<p>I tried the below code but its not authenticating:</p>\n\n<pre><code>public class AmazonS3Example\n{\n  private static final String SUFFIX = \"/\";\n\n  public static void main(String[] args)\n  {\n    AWSCredentials credentials = new BasicAWSCredentials(\n            \"YourAccessKeyID\",\n            \"YourSecretAccessKey\");\n    AmazonS3 s3client = new AmazonS3Client(credentials);\n    s3client.setEndpoint(\"http://someendpoing.com\");\n  }\n}\n</code></pre>\n"},{"tags":["java","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":911789,"reputation":39,"user_id":945455,"display_name":"Stamford"},"score":0,"creation_date":1316122090,"post_id":7422552,"comment_id":8992975,"body_markdown":"Thanks! I&#39;ve made some progress and am at the point where I am trying to put the object into S3. The documentation says &quot;If your data isn&#39;t a File or String you can use any input stream as a data source, but you must manually set the Content-Length.&quot; I am grabbing the uploaded image as an InputStream. I am not sure how to extract the Content-Length to set it here: s3FileObject.setContentLength(contentLength);  I have tried converting the InputStream to a String, to then grab the content-lenth, but the resulting uploaded image becomes corrupted. Any thoughts on how I can grab the content-lenth?","body":"Thanks! I&#39;ve made some progress and am at the point where I am trying to put the object into S3. The documentation says &quot;If your data isn&#39;t a File or String you can use any input stream as a data source, but you must manually set the Content-Length.&quot; I am grabbing the uploaded image as an InputStream. I am not sure how to extract the Content-Length to set it here: s3FileObject.setContentLength(contentLength);  I have tried converting the InputStream to a String, to then grab the content-lenth, but the resulting uploaded image becomes corrupted. Any thoughts on how I can grab the content-lenth?"},{"owner":{"account_id":911789,"reputation":39,"user_id":945455,"display_name":"Stamford"},"score":0,"creation_date":1316124439,"post_id":7422552,"comment_id":8993478,"body_markdown":"to clarify, it actually does work without setting the content length, just gives me a warning. So figured better to figure out how to specify it:  WARN  [org.jets3t.service.impl.rest.httpclient.RestStorageService:1610] Content-Length of data stream not set, will automatically determine data length in memory","body":"to clarify, it actually does work without setting the content length, just gives me a warning. So figured better to figure out how to specify it:  WARN  [org.jets3t.service.impl.rest.httpclient.RestStorageService:&zwnj;&#8203;1610] Content-Length of data stream not set, will automatically determine data length in memory"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1316151643,"post_id":7422552,"comment_id":8997267,"body_markdown":"`Integer.parseInt(request.getHeader(&quot;Content-Length&quot;)` should give you that","body":"<code>Integer.parseInt(request.getHeader(&quot;Content-Length&quot;)</code> should give you that"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1316031885,"creation_date":1316031885,"answer_id":7422552,"question_id":7422412,"body_markdown":"For the 3rd point:\r\n\r\n- Grab &lt;a href=&quot;http://jets3t.s3.amazonaws.com/downloads.html&quot;&gt;jets3t&lt;/a&gt;\r\n- It&#39;s tutorial is simple. Here&#39;s a snippet I&#39;m using:\r\n\r\n        S3Object fileObject = new S3Object(path);\r\n        fileObject.setDataInputStream(is);\r\n        s3service.putObject(bucketName, fileObject);\r\n\r\nFor the previous two points - [look at this question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2422468/how-to-upload-files-in-jsp-servlet/2424824#2424824","title":"Java image upload stored in Amazon S3","body":"<p>For the 3rd point:</p>\n\n<ul>\n<li>Grab <a href=\"http://jets3t.s3.amazonaws.com/downloads.html\" rel=\"nofollow noreferrer\">jets3t</a></li>\n<li><p>It's tutorial is simple. Here's a snippet I'm using:</p>\n\n<pre><code>S3Object fileObject = new S3Object(path);\nfileObject.setDataInputStream(is);\ns3service.putObject(bucketName, fileObject);\n</code></pre></li>\n</ul>\n\n<p>For the previous two points - <a href=\"https://stackoverflow.com/questions/2422468/how-to-upload-files-in-jsp-servlet/2424824#2424824\">look at this question</a></p>\n"},{"tags":[],"owner":{"account_id":1137990,"reputation":11,"user_id":1122638,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325234607,"creation_date":1325234607,"answer_id":8677694,"question_id":7422412,"body_markdown":"Recommend you to use [html amazon API][1] to do this. Streaming is a bit complex and in most cases you do not need it.\r\n\r\n\r\n  [1]: http://aws.amazon.com/articles/1434","title":"Java image upload stored in Amazon S3","body":"<p>Recommend you to use <a href=\"http://aws.amazon.com/articles/1434\" rel=\"nofollow\">html amazon API</a> to do this. Streaming is a bit complex and in most cases you do not need it.</p>\n"},{"tags":[],"owner":{"account_id":1290379,"reputation":2877,"user_id":1242601,"accept_rate":73,"display_name":"Koray G&#252;cl&#252;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358851487,"creation_date":1358851487,"answer_id":14456719,"question_id":7422412,"body_markdown":"You can also use a simple form to uploda the file to the S3 Bucket. Look at this example http://aws.amazon.com/articles/1434 \r\n\r\nExample form:\r\n\r\n    &lt;html&gt; \r\n      &lt;head&gt;\r\n        &lt;title&gt;S3 POST Form&lt;/title&gt; \r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n      &lt;/head&gt;\r\n\r\n      &lt;body&gt; \r\n        &lt;form action=&quot;https://s3-bucket.s3.amazonaws.com/&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;key&quot; value=&quot;uploads/${filename}&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;AWSAccessKeyId&quot; value=&quot;YOUR_AWS_ACCESS_KEY&quot;&gt; \r\n          &lt;input type=&quot;hidden&quot; name=&quot;acl&quot; value=&quot;private&quot;&gt; \r\n          &lt;input type=&quot;hidden&quot; name=&quot;success_action_redirect&quot; value=&quot;http://localhost/&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;policy&quot; value=&quot;YOUR_POLICY_DOCUMENT_BASE64_ENCODED&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;signature&quot; value=&quot;YOUR_CALCULATED_SIGNATURE&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;Content-Type&quot; value=&quot;image/jpeg&quot;&gt;\r\n          &lt;!-- Include any additional input fields here --&gt;\r\n\r\n          File to upload to S3: \r\n          &lt;input name=&quot;file&quot; type=&quot;file&quot;&gt; \r\n          &lt;br&gt; \r\n          &lt;input type=&quot;submit&quot; value=&quot;Upload File to S3&quot;&gt; \r\n        &lt;/form&gt; \r\n      &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Java image upload stored in Amazon S3","body":"<p>You can also use a simple form to uploda the file to the S3 Bucket. Look at this example <a href=\"http://aws.amazon.com/articles/1434\" rel=\"nofollow\">http://aws.amazon.com/articles/1434</a> </p>\n\n<p>Example form:</p>\n\n<pre><code>&lt;html&gt; \n  &lt;head&gt;\n    &lt;title&gt;S3 POST Form&lt;/title&gt; \n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt; \n    &lt;form action=\"https://s3-bucket.s3.amazonaws.com/\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n      &lt;input type=\"hidden\" name=\"key\" value=\"uploads/${filename}\"&gt;\n      &lt;input type=\"hidden\" name=\"AWSAccessKeyId\" value=\"YOUR_AWS_ACCESS_KEY\"&gt; \n      &lt;input type=\"hidden\" name=\"acl\" value=\"private\"&gt; \n      &lt;input type=\"hidden\" name=\"success_action_redirect\" value=\"http://localhost/\"&gt;\n      &lt;input type=\"hidden\" name=\"policy\" value=\"YOUR_POLICY_DOCUMENT_BASE64_ENCODED\"&gt;\n      &lt;input type=\"hidden\" name=\"signature\" value=\"YOUR_CALCULATED_SIGNATURE\"&gt;\n      &lt;input type=\"hidden\" name=\"Content-Type\" value=\"image/jpeg\"&gt;\n      &lt;!-- Include any additional input fields here --&gt;\n\n      File to upload to S3: \n      &lt;input name=\"file\" type=\"file\"&gt; \n      &lt;br&gt; \n      &lt;input type=\"submit\" value=\"Upload File to S3\"&gt; \n    &lt;/form&gt; \n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":911789,"reputation":39,"user_id":945455,"display_name":"Stamford"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8218,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1677192285,"creation_date":1316031282,"question_id":7422412,"body_markdown":"Having trouble finding some examples showing how I can use Java to allow users to upload an image to Amazon S3.\r\n\r\nThe flow is:\r\n\r\n1. User is on HTML form with file input form element.\r\n\r\n2. This form submits the selected image to a Servlet.\r\n\r\n3. This Servlet processes the image and stores it in S3.\r\n\r\nAnyone know of any good links/tutorials that outline sample code to perform this?","title":"Java image upload stored in Amazon S3","body":"<p>Having trouble finding some examples showing how I can use Java to allow users to upload an image to Amazon S3.</p>\n\n<p>The flow is:</p>\n\n<ol>\n<li><p>User is on HTML form with file input form element.</p></li>\n<li><p>This form submits the selected image to a Servlet.</p></li>\n<li><p>This Servlet processes the image and stores it in S3.</p></li>\n</ol>\n\n<p>Anyone know of any good links/tutorials that outline sample code to perform this?</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":4192935,"reputation":347,"user_id":3435107,"accept_rate":50,"display_name":"amanda fouts"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1395191749,"creation_date":1395191749,"answer_id":22494350,"question_id":22315336,"body_markdown":"The easiest way for PHP is the AWS SDK for PHP - Google it.\r\n\r\nHere are PHP examples of all of the properties you can receive:\r\nhttp://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.S3.S3Client.html\r\n\r\nsome include getBucket, getObjectACL, list files, list buckets, etc\r\n\r\n\r\nYou can also use the command line awscli here:\r\nhttp://aws.amazon.com/cli/","title":"How could I get file size, time and md5 from amazon s3?","body":"<p>The easiest way for PHP is the AWS SDK for PHP - Google it.</p>\n\n<p>Here are PHP examples of all of the properties you can receive:\n<a href=\"http://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.S3.S3Client.html\" rel=\"nofollow\">http://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.S3.S3Client.html</a></p>\n\n<p>some include getBucket, getObjectACL, list files, list buckets, etc</p>\n\n<p>You can also use the command line awscli here:\n<a href=\"http://aws.amazon.com/cli/\" rel=\"nofollow\">http://aws.amazon.com/cli/</a></p>\n"},{"tags":[],"owner":{"account_id":59818,"reputation":2298,"user_id":178882,"accept_rate":24,"display_name":"andrebruton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592332605,"creation_date":1592332605,"answer_id":62415388,"question_id":22315336,"body_markdown":"Here is an example for AWS PHP Ver 3\r\n\r\n    //Get file size\r\n\t$s3 = new S3Client([\r\n\t\t\t&#39;region&#39; =&gt; REGION,\r\n\t\t\t&#39;version&#39; =&gt; &#39;2006-03-01&#39;,\r\n\t\t\t&#39;credentials&#39; =&gt; [\r\n\t\t\t\t&#39;key&#39;    =&gt; AWS_KEY,\r\n\t\t\t\t&#39;secret&#39; =&gt; AWS_SECRET_KEY,\r\n\t\t\t],\r\n\t]);\r\n\r\n\t$result = $s3-&gt;getObject([\r\n\t  &#39;Bucket&#39;  =&gt; BUCKET, \r\n\t\t&#39;Key&#39;   =&gt; $files_name\r\n\t]);\r\n\t$files_size = $result[&#39;ContentLength&#39;];\r\n\t echo &quot;Size: &quot; .  $files_size . &quot;&lt;br&gt;&quot;;\r\n\r\n\r\n","title":"How could I get file size, time and md5 from amazon s3?","body":"<p>Here is an example for AWS PHP Ver 3</p>\n\n<pre><code>//Get file size\n$s3 = new S3Client([\n        'region' =&gt; REGION,\n        'version' =&gt; '2006-03-01',\n        'credentials' =&gt; [\n            'key'    =&gt; AWS_KEY,\n            'secret' =&gt; AWS_SECRET_KEY,\n        ],\n]);\n\n$result = $s3-&gt;getObject([\n  'Bucket'  =&gt; BUCKET, \n    'Key'   =&gt; $files_name\n]);\n$files_size = $result['ContentLength'];\n echo \"Size: \" .  $files_size . \"&lt;br&gt;\";\n</code></pre>\n"}],"owner":{"account_id":1334871,"reputation":2178,"user_id":1277865,"accept_rate":79,"display_name":"thecr0w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22494350,"answer_count":2,"score":0,"last_activity_date":1677192261,"creation_date":1394505255,"question_id":22315336,"body_markdown":"I wanna get a file&#39;s properties stored in amazon s3, is it easy to do that using api or php?","title":"How could I get file size, time and md5 from amazon s3?","body":"<p>I wanna get a file's properties stored in amazon s3, is it easy to do that using api or php?</p>\n"},{"tags":["java","android","android-studio","google-play","google-play-console"],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677191695,"creation_date":1677191695,"question_id":75551010,"body_markdown":"I am trying to make my app pass the families policy requirements in order to be able to publish my app on the google play store. I am not sure if I have added all the required code for the families policy approval or if the problem is something outside of the code as my app as recently been rejected due to families policy issues. The following code is the only code that I have added for the families policy approval for ads:\r\n\r\n    RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\r\n                .toBuilder()\r\n                .setTagForChildDirectedTreatment(\r\n                        RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\r\n                .setMaxAdContentRating(RequestConfiguration.MAX_AD_CONTENT_RATING_G)\r\n                .build();\r\n        MobileAds.setRequestConfiguration(requestConfiguration);\r\n\r\n\r\nIs this code enough or do I need to add something else to my app to make it be approved? I have added ad open ads, interstitial ads and banner ads to my app and external links to my app such as private polices, my app page and rating section of the app page, is this code enough to approve of all these things in my app?","title":"What code do I need to add to my app in android studio for my app to pass the families policy requirements?","body":"<p>I am trying to make my app pass the families policy requirements in order to be able to publish my app on the google play store. I am not sure if I have added all the required code for the families policy approval or if the problem is something outside of the code as my app as recently been rejected due to families policy issues. The following code is the only code that I have added for the families policy approval for ads:</p>\n<pre><code>RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\n            .toBuilder()\n            .setTagForChildDirectedTreatment(\n                    RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\n            .setMaxAdContentRating(RequestConfiguration.MAX_AD_CONTENT_RATING_G)\n            .build();\n    MobileAds.setRequestConfiguration(requestConfiguration);\n</code></pre>\n<p>Is this code enough or do I need to add something else to my app to make it be approved? I have added ad open ads, interstitial ads and banner ads to my app and external links to my app such as private polices, my app page and rating section of the app page, is this code enough to approve of all these things in my app?</p>\n"},{"tags":["java","amazon-s3"],"owner":{"account_id":8486120,"reputation":128,"user_id":6364177,"display_name":"Houssam Rafiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677191622,"creation_date":1654255871,"question_id":72488957,"body_markdown":"I have versioning enabled in my bucket, and when I update only metadata of a s3 object using CopyObjectRequest S3 create me a new version of the file with the new metadata, but I don&#39;t want this.\r\nHow can I just edit metadata without creating a new version and without disabling versioning ?\r\n\r\nI am using S3 Java 2 sdk\r\n\r\n```\r\nCopyObjectRequest request = CopyObjectRequest.builder()\r\n        .sourceBucket(&quot;myBucketName&quot;)\r\n        .sourceKey(&quot;myObjectKey&quot;)\r\n        .destinationBucket(&quot;myBucketName&quot;)\r\n        .destinationKey(&quot;myObjectKey&quot;)\r\n        .metadata(newMetadata)\r\n        .metadataDirective(MetadataDirective.REPLACE)\r\n        .build();\r\n```","title":"S3 java client update object metadata without creating a new version","body":"<p>I have versioning enabled in my bucket, and when I update only metadata of a s3 object using CopyObjectRequest S3 create me a new version of the file with the new metadata, but I don't want this.\nHow can I just edit metadata without creating a new version and without disabling versioning ?</p>\n<p>I am using S3 Java 2 sdk</p>\n<pre><code>CopyObjectRequest request = CopyObjectRequest.builder()\n        .sourceBucket(&quot;myBucketName&quot;)\n        .sourceKey(&quot;myObjectKey&quot;)\n        .destinationBucket(&quot;myBucketName&quot;)\n        .destinationKey(&quot;myObjectKey&quot;)\n        .metadata(newMetadata)\n        .metadataDirective(MetadataDirective.REPLACE)\n        .build();\n</code></pre>\n"},{"tags":["java","spring-boot","maven","lombok"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677223092,"post_id":75551000,"comment_id":133298946,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":24906425,"reputation":1,"user_id":18776436,"display_name":"babycoder97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677191614,"creation_date":1677191614,"question_id":75551000,"body_markdown":"Lombok has always worked fine for me on vs code until yesterday I suddenly got a bunch of errors related to lombok and when I looked at my main model I saw that the package lombok didn&#39;t exist. When updating the version in the dependencies and running mvn clean install and mvn install my builds were successes.\r\n\r\nI already have the lombok extension installed and checked my pom.xml file to see if the version number and everything else matched. I reverted back to a previous version of my code in case I typed something that messed with lombok but the error still remained. I even uninstalled and reinstalled lombok extension and cleaned my workspace and restarted vs code multiple times.","title":"Package lombok does not exist in VS Code using Maven","body":"<p>Lombok has always worked fine for me on vs code until yesterday I suddenly got a bunch of errors related to lombok and when I looked at my main model I saw that the package lombok didn't exist. When updating the version in the dependencies and running mvn clean install and mvn install my builds were successes.</p>\n<p>I already have the lombok extension installed and checked my pom.xml file to see if the version number and everything else matched. I reverted back to a previous version of my code in case I typed something that messed with lombok but the error still remained. I even uninstalled and reinstalled lombok extension and cleaned my workspace and restarted vs code multiple times.</p>\n"},{"tags":["java","maven","dll"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1401816902,"post_id":24011527,"comment_id":37026852,"body_markdown":"maven-shade-plugin is intended to shade jar files which are zip like archives and that is what the error shows. Apart from that you can&#39;t. You can package your dll into a simple jar file which should solve the problem.","body":"maven-shade-plugin is intended to shade jar files which are zip like archives and that is what the error shows. Apart from that you can&#39;t. You can package your dll into a simple jar file which should solve the problem."},{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":0,"creation_date":1426381645,"post_id":24011527,"comment_id":46349432,"body_markdown":"@khmarbaise it might be useful if you explain how to do that.","body":"@khmarbaise it might be useful if you explain how to do that."},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1467183182,"post_id":24011527,"comment_id":63619882,"body_markdown":"Having the exact same problem as OP, I&#39;d really like to know how to solve this one.","body":"Having the exact same problem as OP, I&#39;d really like to know how to solve this one."}],"answers":[{"tags":[],"owner":{"account_id":7536425,"reputation":195,"user_id":5722548,"display_name":"gigili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555575973,"creation_date":1555570598,"answer_id":55740618,"question_id":24011527,"body_markdown":"this solution worked for my JavaFX-OpenCV project\r\n\r\n 1. package your project without `DLL` files.\r\n 2. copy and paste your `DLL` files in the jar file directory.\r\n 3. now you can run your application because all `DLL` files are now on the classpath of your jar application.\r\n\r\nyour directory should be like this :  \r\n/target/application.jar  \r\n/target/your_DLL_files.dll","title":"Maven shade plugin Packaging DLL","body":"<p>this solution worked for my JavaFX-OpenCV project</p>\n\n<ol>\n<li>package your project without <code>DLL</code> files.</li>\n<li>copy and paste your <code>DLL</code> files in the jar file directory.</li>\n<li>now you can run your application because all <code>DLL</code> files are now on the classpath of your jar application.</li>\n</ol>\n\n<p>your directory should be like this :<br>\n/target/application.jar<br>\n/target/your_DLL_files.dll</p>\n"},{"tags":[],"owner":{"account_id":4261297,"reputation":36,"user_id":15863651,"display_name":"itamarc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627677737,"creation_date":1627677737,"answer_id":68596900,"question_id":24011527,"body_markdown":"Maybe what you need is to package differently. Make the shaded jar with all java classes and libraries you use and then package this jar and the DLL together in a Zip file to be released. For this you can use the `maven-assembly-plugin` with a descriptor for your zip, like this:\r\n\r\nIn your `pom.xml`:\r\n\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;zip.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nIn `zip.xml` file:\r\n\r\n```xml\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\r\n        &lt;id&gt;release&lt;/id&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;zip&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;target&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;myapp.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n        &lt;files&gt;\r\n            &lt;file&gt;\r\n                &lt;source&gt;your.dll&lt;/source&gt;\r\n                &lt;fileMode&gt;0644&lt;/fileMode&gt;\r\n            &lt;/file&gt;\r\n        &lt;/files&gt;\r\n    &lt;/assembly&gt;\r\n```\r\n\r\nThat way you have all you need to release in this zip. I don&#39;t know if that&#39;s the best solution, but maybe it solves the problem for your use case.","title":"Maven shade plugin Packaging DLL","body":"<p>Maybe what you need is to package differently. Make the shaded jar with all java classes and libraries you use and then package this jar and the DLL together in a Zip file to be released. For this you can use the <code>maven-assembly-plugin</code> with a descriptor for your zip, like this:</p>\n<p>In your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;zip.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>In <code>zip.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot;\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n              xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\n        &lt;id&gt;release&lt;/id&gt;\n        &lt;formats&gt;\n            &lt;format&gt;zip&lt;/format&gt;\n        &lt;/formats&gt;\n        &lt;fileSets&gt;\n            &lt;fileSet&gt;\n                &lt;directory&gt;target&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;myapp.jar&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;/fileSet&gt;\n        &lt;/fileSets&gt;\n        &lt;files&gt;\n            &lt;file&gt;\n                &lt;source&gt;your.dll&lt;/source&gt;\n                &lt;fileMode&gt;0644&lt;/fileMode&gt;\n            &lt;/file&gt;\n        &lt;/files&gt;\n    &lt;/assembly&gt;\n</code></pre>\n<p>That way you have all you need to release in this zip. I don't know if that's the best solution, but maybe it solves the problem for your use case.</p>\n"},{"tags":[],"owner":{"account_id":4100807,"reputation":56,"user_id":3366405,"display_name":"user3366405"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677191478,"creation_date":1677191478,"answer_id":75550982,"question_id":24011527,"body_markdown":"Also being new to Maven, it took me a while to solve a similar problem. This answer may help others.\r\n\r\nUsing com.microsoft.sqlserver:mssql-jdbc_auth with mssql-jdbc_auth-10.2.3.x64.dll as a dependency.\r\n\r\nFortunately the dll is a separate artifact from the mssql jdbc jar.\r\n\r\nTo stop the shade plugin trying to open the dll as a zip file....\r\n```\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.4&lt;/version&gt;\r\n      &lt;executions&gt;\r\n  \t  &lt;execution&gt;\r\n\t      &lt;phase&gt;package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;shade&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;artifactSet&gt;\r\n              &lt;excludes&gt;\r\n                &lt;exclude&gt;com.microsoft.sqlserver:mssql-jdbc_auth&lt;/exclude&gt;\r\n              &lt;/excludes&gt;\r\n            &lt;/artifactSet&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n```\r\n\r\nand then to put the dll into the same directory as the shaded jar file\r\n```\r\n  \t&lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.2&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n            &lt;includeArtifactIds&gt;mssql-jdbc_auth&lt;/includeArtifactIds&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\n","title":"Maven shade plugin Packaging DLL","body":"<p>Also being new to Maven, it took me a while to solve a similar problem. This answer may help others.</p>\n<p>Using com.microsoft.sqlserver:mssql-jdbc_auth with mssql-jdbc_auth-10.2.3.x64.dll as a dependency.</p>\n<p>Fortunately the dll is a separate artifact from the mssql jdbc jar.</p>\n<p>To stop the shade plugin trying to open the dll as a zip file....</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.2.4&lt;/version&gt;\n      &lt;executions&gt;\n      &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;artifactSet&gt;\n              &lt;excludes&gt;\n                &lt;exclude&gt;com.microsoft.sqlserver:mssql-jdbc_auth&lt;/exclude&gt;\n              &lt;/excludes&gt;\n            &lt;/artifactSet&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n     &lt;/plugin&gt;\n</code></pre>\n<p>and then to put the dll into the same directory as the shaded jar file</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1.2&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n            &lt;includeArtifactIds&gt;mssql-jdbc_auth&lt;/includeArtifactIds&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1090931,"reputation":2195,"user_id":1085586,"accept_rate":32,"display_name":"Panciz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1435,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1677191478,"creation_date":1401787508,"question_id":24011527,"body_markdown":"I have to add to my project a JNI module.\r\n\r\nI install the module in Maven as two different artifact: the jar library:\r\n\r\n    mvn install:install-file -DgroupId=com.test -DartifactId=ssa -Dversion=1.0 -Dpackaging=jar -Dfile=ssa.jar\r\n\r\nand the runtime library with the DLL\r\n\r\n    mvn install:install-file -DgroupId=com.sirio -Dpackaging=ddl -DartifactId=ssa-runtime -classifier=windows-x86 -Dversion=1.0 -Dfile=SSADll.dll\r\n\r\nIn my maven project I add these dependecies:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ssa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ssa-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;classifier&gt;windows-${arch}&lt;/classifier&gt;\r\n\t\t\t&lt;type&gt;dll&lt;/type&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nMy problem is when I run the shade plugin goal to create a jar with dependencies, I get error:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project ....: Error creating shaded jar: error in opening zip file sirio\\ssa-runtime\\1.0\\ssa-runtime-1.0-windows-x86.dll \r\n\r\n\r\nHow can I tell the shade plugin to do not unpack the dll?\r\n\r\n\r\n\r\n","title":"Maven shade plugin Packaging DLL","body":"<p>I have to add to my project a JNI module.</p>\n\n<p>I install the module in Maven as two different artifact: the jar library:</p>\n\n<pre><code>mvn install:install-file -DgroupId=com.test -DartifactId=ssa -Dversion=1.0 -Dpackaging=jar -Dfile=ssa.jar\n</code></pre>\n\n<p>and the runtime library with the DLL</p>\n\n<pre><code>mvn install:install-file -DgroupId=com.sirio -Dpackaging=ddl -DartifactId=ssa-runtime -classifier=windows-x86 -Dversion=1.0 -Dfile=SSADll.dll\n</code></pre>\n\n<p>In my maven project I add these dependecies:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;artifactId&gt;ssa&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;artifactId&gt;ssa-runtime&lt;/artifactId&gt;\n        &lt;classifier&gt;windows-${arch}&lt;/classifier&gt;\n        &lt;type&gt;dll&lt;/type&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>My problem is when I run the shade plugin goal to create a jar with dependencies, I get error:</p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project ....: Error creating shaded jar: error in opening zip file sirio\\ssa-runtime\\1.0\\ssa-runtime-1.0-windows-x86.dll \n</code></pre>\n\n<p>How can I tell the shade plugin to do not unpack the dll?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1677063072,"post_id":75526941,"comment_id":133261936,"body_markdown":"Systempath is very outdated. Using Maven completely offline is not recommended and will usually not work properly. If you are inside a company, use a Nexus/Artifactory server to proxy the outside world (so that your computer does not need an internet connection).","body":"Systempath is very outdated. Using Maven completely offline is not recommended and will usually not work properly. If you are inside a company, use a Nexus/Artifactory server to proxy the outside world (so that your computer does not need an internet connection)."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1677075203,"post_id":75526941,"comment_id":133265657,"body_markdown":"When maven build is going on, its downloads the dependencies into the `.m2` home folder and further build will first try to load from that `m2` home or local repository and if not found, it will go for either central or remote repository in search of dependencies.\n\nhttps://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\n\nIf you want `3`-rd party jar to load the project, which are not hosted in `maven` central, here is the guide for the same.","body":"When maven build is going on, its downloads the dependencies into the <code>.m2</code> home folder and further build will first try to load from that <code>m2</code> home or local repository and if not found, it will go for either central or remote repository in search of dependencies.  <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a>  If you want <code>3</code>-rd party jar to load the project, which are not hosted in <code>maven</code> central, here is the guide for the same."},{"owner":{"account_id":4725131,"reputation":767,"user_id":3822038,"accept_rate":67,"display_name":"echo"},"score":0,"creation_date":1677265429,"post_id":75526941,"comment_id":133310394,"body_markdown":"thanks, so so long as I have the jar already in /Users/username/.m2/repository/ folder after the first maven build, I would be able to use maven build offline without pom xml change since it will look for the local jar first before trying to go to maven central?","body":"thanks, so so long as I have the jar already in /Users/username/.m2/repository/ folder after the first maven build, I would be able to use maven build offline without pom xml change since it will look for the local jar first before trying to go to maven central?"},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1677411112,"post_id":75526941,"comment_id":133328778,"body_markdown":"@echo, also you can [install your project into Maven local repository](https://mkyong.com/maven/how-to-install-your-project-into-maven-local-repository/) as one of existing options.","body":"@echo, also you can <a href=\"https://mkyong.com/maven/how-to-install-your-project-into-maven-local-repository/\" rel=\"nofollow noreferrer\">install your project into Maven local repository</a> as one of existing options."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1677618832,"post_id":75526941,"comment_id":133373112,"body_markdown":"@echo, the build time while loading the project with same dependency, it loads faster than before\n\ncoming to the question that you specified, to load the jar from the .m2 repository, I think you just need to specify the groupId and artifectId in the dependencies section of the pom file, if maven can see the dependency it will automatically load.\n\nOr else you can install the 3rd party jar using the command available in the link which I shared earlier","body":"@echo, the build time while loading the project with same dependency, it loads faster than before  coming to the question that you specified, to load the jar from the .m2 repository, I think you just need to specify the groupId and artifectId in the dependencies section of the pom file, if maven can see the dependency it will automatically load.  Or else you can install the 3rd party jar using the command available in the link which I shared earlier"}],"owner":{"account_id":4725131,"reputation":767,"user_id":3822038,"accept_rate":67,"display_name":"echo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677191375,"creation_date":1677022646,"question_id":75526941,"body_markdown":"I am trying to use `Maven` offline and I created a local maven repo according to this blog:\r\n\r\nhttp://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html \r\n\r\nand after `Maven` install my dependencies from online once I am able to locate a folder with all the `jar` files in their respective default sub folder path. \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.code&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t&lt;systemPath&gt;/Users/username/.m2/repository/kaptcha/kaptcha/2.3/kaptcha.jar&lt;/systemPath&gt;\r\n\t&lt;/dependency&gt;\r\n    \r\n\r\nas an example, now in order to refer my `jar` from local offline `Maven` repo, I have to open a explorer and manually find the path and put them in the `systempath` tag in `pom.xml` for each dependency. \r\n\r\nIs there a faster way to do that for multiple dependencies?\r\n\r\n I am using just the default folder path for each of the packages that `Maven` downloads to its local repo folder, but some times it is:\r\n\r\n`packagename/packagename/version/packagename-version.jar`, \r\n\r\nand other times it is:\r\n\r\n    packagename/subpackagename/version/packagename-version.jar \r\n\r\nsuch as:\r\n\r\n`/Users/username/.m2/repository/cglib/cglib-nodep/3.2.4/cglib-nodep-3.2.4.jar`\r\n \r\nso it is taking forever to go through them by hand. \r\n\r\nAny suggestion appreciated, thanks!","title":"How to auto populate system path for default maven local repo for pom.xml?","body":"<p>I am trying to use <code>Maven</code> offline and I created a local maven repo according to this blog:</p>\n<p><a href=\"http://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html\" rel=\"nofollow noreferrer\">http://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html</a></p>\n<p>and after <code>Maven</code> install my dependencies from online once I am able to locate a folder with all the <code>jar</code> files in their respective default sub folder path.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code&lt;/groupId&gt;\n    &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;/Users/username/.m2/repository/kaptcha/kaptcha/2.3/kaptcha.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>as an example, now in order to refer my <code>jar</code> from local offline <code>Maven</code> repo, I have to open a explorer and manually find the path and put them in the <code>systempath</code> tag in <code>pom.xml</code> for each dependency.</p>\n<p>Is there a faster way to do that for multiple dependencies?</p>\n<p>I am using just the default folder path for each of the packages that <code>Maven</code> downloads to its local repo folder, but some times it is:</p>\n<p><code>packagename/packagename/version/packagename-version.jar</code>,</p>\n<p>and other times it is:</p>\n<pre><code>packagename/subpackagename/version/packagename-version.jar \n</code></pre>\n<p>such as:</p>\n<p><code>/Users/username/.m2/repository/cglib/cglib-nodep/3.2.4/cglib-nodep-3.2.4.jar</code></p>\n<p>so it is taking forever to go through them by hand.</p>\n<p>Any suggestion appreciated, thanks!</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":23401113,"reputation":1486,"user_id":17464257,"display_name":"Alex Chadyuk"},"score":0,"creation_date":1677186644,"post_id":75550326,"comment_id":133293841,"body_markdown":"Could you share CloudWatch logs?","body":"Could you share CloudWatch logs?"}],"answers":[{"tags":[],"owner":{"account_id":4620098,"reputation":430,"user_id":3745425,"accept_rate":42,"display_name":"rleffler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677190831,"creation_date":1677190831,"answer_id":75550910,"question_id":75550326,"body_markdown":"When you recieve your batch, you can add each message from the batch to an sqs queue.  Create another lambda that consumes that queue (you can do this with an SQS trigger), with a batch size of 1.  This way your consumer lambda will only process one file.  You can make it scale to process all of them in parallel this way as well, which might be better for you depending on your situation.","title":"AWS - Run a lambda for each s3 event","body":"<p>When you recieve your batch, you can add each message from the batch to an sqs queue.  Create another lambda that consumes that queue (you can do this with an SQS trigger), with a batch size of 1.  This way your consumer lambda will only process one file.  You can make it scale to process all of them in parallel this way as well, which might be better for you depending on your situation.</p>\n"}],"owner":{"account_id":7172262,"reputation":11,"user_id":5479373,"display_name":"Laurent NAVET"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677190831,"creation_date":1677186377,"question_id":75550326,"body_markdown":"I have a batch that parses an XMl file and inserts it into the database. \r\nThe batch is in Spring-Batch Java.\r\nWhen I drop a file on an S3, a trigger launches a lambda that executes my batch (S3 event).\r\n\r\nThe parsing of an XML takes about 5 minutes (Lambda limit to 15 minutes is perfect), the problem is that at the end of the processing SpringBatch stops and will not be able to process new XML.\r\n\r\nMy problem: I can have several files that are dropped a few seconds apart and I would like each s3 event to launch a new lambda.\r\n\r\nDo you know how I can do this? ","title":"AWS - Run a lambda for each s3 event","body":"<p>I have a batch that parses an XMl file and inserts it into the database.\nThe batch is in Spring-Batch Java.\nWhen I drop a file on an S3, a trigger launches a lambda that executes my batch (S3 event).</p>\n<p>The parsing of an XML takes about 5 minutes (Lambda limit to 15 minutes is perfect), the problem is that at the end of the processing SpringBatch stops and will not be able to process new XML.</p>\n<p>My problem: I can have several files that are dropped a few seconds apart and I would like each s3 event to launch a new lambda.</p>\n<p>Do you know how I can do this?</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper","fips"],"answers":[{"tags":[],"owner":{"account_id":7212275,"reputation":765,"user_id":5505900,"accept_rate":40,"display_name":"Tushar H"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595835121,"creation_date":1595835121,"answer_id":63110650,"question_id":61884243,"body_markdown":"OK, I got this working with below setup\r\n\r\n**Java:** 11.0.7\r\n\r\n**BCFIPS:** bc-fips-1.0.2.jar\r\n\r\nAdd the bcfips jar in kafka lib directory: **&lt;-kafka-root-directory-&gt;/libs/bc-fips-1.0.2.jar**\r\n\r\nAnd start the kafka server, it will load bcfips jar.","title":"Kafka fips: BCFIPS not working with upgrade to JAVA11","body":"<p>OK, I got this working with below setup</p>\n<p><strong>Java:</strong> 11.0.7</p>\n<p><strong>BCFIPS:</strong> bc-fips-1.0.2.jar</p>\n<p>Add the bcfips jar in kafka lib directory: <strong>&lt;-kafka-root-directory-&gt;/libs/bc-fips-1.0.2.jar</strong></p>\n<p>And start the kafka server, it will load bcfips jar.</p>\n"}],"owner":{"account_id":7212275,"reputation":765,"user_id":5505900,"accept_rate":40,"display_name":"Tushar H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63110650,"answer_count":1,"score":1,"last_activity_date":1677190749,"creation_date":1589868140,"question_id":61884243,"body_markdown":"I have a kafka cluster running in FIPS mode with below configuration.\r\n\r\n    Brokers: 3, Zookeeper Nodes: 3\r\n    Kafka: 2.0.0, Scala: 2.12\r\n    Zookeeper: 3.4.14\r\n    Java - 8\r\n    bc-fips - 1.0.1\r\n\r\nThis cluster is running fine and is in a healthy state.\r\n\r\n\r\nCurrently we have upgraded Kafka(2.4.0) and Java(11) versions, after which FIPS cluster is unable to load bc-fips library and start kafka. New cluster configuration:\r\n\r\n    Brokers: 3, Zookeeper Nodes: 3\r\n    Kafka: 2.4.0, Scala: 2.12\r\n    Zookeeper: 3.4.14\r\n    Java - 11\r\n    bc-fips - 1.0.2\r\n\r\nWith the analysis so far, the problem seems to be with **loading bc-fips jar** with new JAVA version(11), as java doc says:\r\n\r\n - JDK9 onwards the support for adding external jars via **jre/lib/ext** is removed.\r\n - The ability to pass extra parameters to the Security Providers on load time is removed\r\n\r\n\r\nSo when I am starting the kafka service its failing with below error:\r\n\r\n```[2020-05-18 11:59:39,644] ERROR [KafkaServer id=48] Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\r\norg.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\r\n\tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:158)\r\n\tat org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:146)\r\n\tat org.apache.kafka.common.network.ChannelBuilders.serverChannelBuilder(ChannelBuilders.java:85)\r\n\tat kafka.network.Processor.&lt;init&gt;(SocketServer.scala:753)\r\n\tat kafka.network.SocketServer.newProcessor(SocketServer.scala:394)\r\n\tat kafka.network.SocketServer.$anonfun$addDataPlaneProcessors$1(SocketServer.scala:279)\r\n\tat scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:158)\r\n\tat kafka.network.SocketServer.addDataPlaneProcessors(SocketServer.scala:278)\r\n\tat kafka.network.SocketServer.$anonfun$createDataPlaneAcceptorsAndProcessors$1(SocketServer.scala:241)\r\n\tat kafka.network.SocketServer.$anonfun$createDataPlaneAcceptorsAndProcessors$1$adapted(SocketServer.scala:238)\r\n\tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n\tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n\tat kafka.network.SocketServer.createDataPlaneAcceptorsAndProcessors(SocketServer.scala:238)\r\n\tat kafka.network.SocketServer.startup(SocketServer.scala:121)\r\n\tat kafka.server.KafkaServer.startup(KafkaServer.scala:263)\r\n\tat kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:44)\r\n\tat kafka.Kafka$.main(Kafka.scala:84)\r\n\tat kafka.Kafka.main(Kafka.scala)\r\nCaused by: org.apache.kafka.common.KafkaException: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\r\n\tat org.apache.kafka.common.security.ssl.SslEngineBuilder.createSecureRandom(SslEngineBuilder.java:126)\r\n\tat org.apache.kafka.common.security.ssl.SslEngineBuilder.&lt;init&gt;(SslEngineBuilder.java:86)\r\n\tat org.apache.kafka.common.security.ssl.SslFactory.configure(SslFactory.java:95)\r\n\tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:154)\r\n\t... 18 more\r\nCaused by: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\r\n\tat java.base/java.security.SecureRandom.getInstance(SecureRandom.java:364)\r\n\tat org.apache.kafka.common.security.ssl.SslEngineBuilder.createSecureRandom(SslEngineBuilder.java:124)\r\n\t... 21 more\r\n[2020-05-18 11:59:39,646] INFO [KafkaServer id=48] shutting down (kafka.server.KafkaServer)\r\n```\r\n\r\n\r\n**Note**: As said above the same configuration works with java-8.\r\n\r\n\r\nAny help would be really appreciated.","title":"Kafka fips: BCFIPS not working with upgrade to JAVA11","body":"<p>I have a kafka cluster running in FIPS mode with below configuration.</p>\n\n<pre><code>Brokers: 3, Zookeeper Nodes: 3\nKafka: 2.0.0, Scala: 2.12\nZookeeper: 3.4.14\nJava - 8\nbc-fips - 1.0.1\n</code></pre>\n\n<p>This cluster is running fine and is in a healthy state.</p>\n\n<p>Currently we have upgraded Kafka(2.4.0) and Java(11) versions, after which FIPS cluster is unable to load bc-fips library and start kafka. New cluster configuration:</p>\n\n<pre><code>Brokers: 3, Zookeeper Nodes: 3\nKafka: 2.4.0, Scala: 2.12\nZookeeper: 3.4.14\nJava - 11\nbc-fips - 1.0.2\n</code></pre>\n\n<p>With the analysis so far, the problem seems to be with <strong>loading bc-fips jar</strong> with new JAVA version(11), as java doc says:</p>\n\n<ul>\n<li>JDK9 onwards the support for adding external jars via <strong>jre/lib/ext</strong> is removed.</li>\n<li>The ability to pass extra parameters to the Security Providers on load time is removed</li>\n</ul>\n\n<p>So when I am starting the kafka service its failing with below error:</p>\n\n<pre><code>org.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\n    at org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:158)\n    at org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:146)\n    at org.apache.kafka.common.network.ChannelBuilders.serverChannelBuilder(ChannelBuilders.java:85)\n    at kafka.network.Processor.&lt;init&gt;(SocketServer.scala:753)\n    at kafka.network.SocketServer.newProcessor(SocketServer.scala:394)\n    at kafka.network.SocketServer.$anonfun$addDataPlaneProcessors$1(SocketServer.scala:279)\n    at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:158)\n    at kafka.network.SocketServer.addDataPlaneProcessors(SocketServer.scala:278)\n    at kafka.network.SocketServer.$anonfun$createDataPlaneAcceptorsAndProcessors$1(SocketServer.scala:241)\n    at kafka.network.SocketServer.$anonfun$createDataPlaneAcceptorsAndProcessors$1$adapted(SocketServer.scala:238)\n    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n    at kafka.network.SocketServer.createDataPlaneAcceptorsAndProcessors(SocketServer.scala:238)\n    at kafka.network.SocketServer.startup(SocketServer.scala:121)\n    at kafka.server.KafkaServer.startup(KafkaServer.scala:263)\n    at kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:44)\n    at kafka.Kafka$.main(Kafka.scala:84)\n    at kafka.Kafka.main(Kafka.scala)\nCaused by: org.apache.kafka.common.KafkaException: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\n    at org.apache.kafka.common.security.ssl.SslEngineBuilder.createSecureRandom(SslEngineBuilder.java:126)\n    at org.apache.kafka.common.security.ssl.SslEngineBuilder.&lt;init&gt;(SslEngineBuilder.java:86)\n    at org.apache.kafka.common.security.ssl.SslFactory.configure(SslFactory.java:95)\n    at org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:154)\n    ... 18 more\nCaused by: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\n    at java.base/java.security.SecureRandom.getInstance(SecureRandom.java:364)\n    at org.apache.kafka.common.security.ssl.SslEngineBuilder.createSecureRandom(SslEngineBuilder.java:124)\n    ... 21 more\n[2020-05-18 11:59:39,646] INFO [KafkaServer id=48] shutting down (kafka.server.KafkaServer)\n</code></pre>\n\n<p><strong>Note</strong>: As said above the same configuration works with java-8.</p>\n\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","google-custom-search"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1359251599,"post_id":14543555,"comment_id":20286013,"body_markdown":"according to the doc you linked to, the values should be &quot;d1&quot; and &quot;m1&quot;.","body":"according to the doc you linked to, the values should be &quot;d1&quot; and &quot;m1&quot;."}],"answers":[{"comments":[{"owner":{"account_id":2163836,"reputation":5528,"user_id":1917363,"accept_rate":90,"display_name":"applecrusher"},"score":0,"creation_date":1359252539,"post_id":14543678,"comment_id":20286154,"body_markdown":"I have tried this as well. Here is my URL that I have. http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=bank+fraud+new+york&amp;dateRestrict=d1. However here is the second result I am getting: http://boss.blogs.nytimes.com/2012/12/12/a-win-for-small-businesses-in-bank-fraud-case/\nKabul","body":"I have tried this as well. Here is my URL that I have. <a href=\"http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=bank+fraud+new+york&amp;dateRestrict=d1\" rel=\"nofollow noreferrer\">ajax.googleapis.com/ajax/services/search/&hellip;</a>. However here is the second result I am getting: <a href=\"http://boss.blogs.nytimes.com/2012/12/12/a-win-for-small-businesses-in-bank-fraud-case/\" rel=\"nofollow noreferrer\">boss.blogs.nytimes.com/2012/12/12/&hellip;</a> Kabul"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1359307955,"post_id":14543678,"comment_id":20296999,"body_markdown":"On the https://developers.google.com/custom-search/v1/using_rest page, Google recommends to use this URI: https://www.googleapis.com/customsearch/v1?parameters. I don&#39;t know where were you find ajax.googleapis.com URI but it probably is not correct.","body":"On the <a href=\"https://developers.google.com/custom-search/v1/using_rest\" rel=\"nofollow noreferrer\">developers.google.com/custom-search/v1/using_rest</a> page, Google recommends to use this URI: <a href=\"https://www.googleapis.com/customsearch/v1?parameters\" rel=\"nofollow noreferrer\">googleapis.com/customsearch/v1?parameters</a>. I don&#39;t know where were you find ajax.googleapis.com URI but it probably is not correct."}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1677189954,"creation_date":1359251720,"answer_id":14543678,"question_id":14543555,"body_markdown":"On the [Using REST to Invoke the API][1] you can find information about `dateRestrict` parameter. Notes about parameter: Restricts results to URLs based on date. Supported values include:\r\n\r\n - d[number]: requests results from the specified number of past days.\r\n - w[number]: requests results from the specified number of past weeks.\r\n - m[number]: requests results from the specified number of past months.\r\n - y[number]: requests results from the specified number of past years.\r\n\r\nExample usage should look like this:\r\n\r\n    String parameters = &quot;&amp;dateRestrict=d20&quot;;\r\nor\r\n\r\n    String parameters = &quot;&amp;dateRestrict=y1&quot;;\r\n\r\nI think, you can play with [APIs Explorer for this method][2] for better understanding this parameter.\r\n\r\nAlso see:\r\n\r\n - [Looking for Urgent solution regarding Google custom search API with\r\n   Date-restrict parameter][3]\r\n\r\n\r\n  [1]: https://developers.google.com/custom-search/v1/using_rest#st_params\r\n  [2]: https://developers.google.com/apis-explorer/#p/customsearch/v1/search.cse.list\r\n  [3]: http://productforums.google.com/forum/#!msg/customsearch/QoEQco_ejyU/Fhfxw9OPEqAJ","title":"How to use &quot;dateRestrict&quot; parameter in Custom Search API","body":"<p>On the <a href=\"https://developers.google.com/custom-search/v1/using_rest#st_params\" rel=\"nofollow noreferrer\">Using REST to Invoke the API</a> you can find information about <code>dateRestrict</code> parameter. Notes about parameter: Restricts results to URLs based on date. Supported values include:</p>\n<ul>\n<li>d[number]: requests results from the specified number of past days.</li>\n<li>w[number]: requests results from the specified number of past weeks.</li>\n<li>m[number]: requests results from the specified number of past months.</li>\n<li>y[number]: requests results from the specified number of past years.</li>\n</ul>\n<p>Example usage should look like this:</p>\n<pre><code>String parameters = &quot;&amp;dateRestrict=d20&quot;;\n</code></pre>\n<p>or</p>\n<pre><code>String parameters = &quot;&amp;dateRestrict=y1&quot;;\n</code></pre>\n<p>I think, you can play with <a href=\"https://developers.google.com/apis-explorer/#p/customsearch/v1/search.cse.list\" rel=\"nofollow noreferrer\">APIs Explorer for this method</a> for better understanding this parameter.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"http://productforums.google.com/forum/#!msg/customsearch/QoEQco_ejyU/Fhfxw9OPEqAJ\" rel=\"nofollow noreferrer\">Looking for Urgent solution regarding Google custom search API with\nDate-restrict parameter</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6857326,"reputation":31,"user_id":8093148,"display_name":"Sarthak Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549899660,"creation_date":1496941367,"answer_id":44441717,"question_id":14543555,"body_markdown":"I was trying the same thing, and `dateRestrict` for an absolute time range didn&#39;t seem to work. The pages that were not in the date range also appeared. The workaround I found is to use the `sort` feature. The query will look something like this:\r\n\r\n    (q=&#39;search_term&#39; , cx=&#39;search_engine_id&#39;, sort = &#39;date:r:yyyymmdd:yyyymmdd&#39;)\r\n\r\nThe `sort` feature allows us to sort and filter the date of the results to the time range specified.\r\n","title":"How to use &quot;dateRestrict&quot; parameter in Custom Search API","body":"<p>I was trying the same thing, and <code>dateRestrict</code> for an absolute time range didn't seem to work. The pages that were not in the date range also appeared. The workaround I found is to use the <code>sort</code> feature. The query will look something like this:</p>\n\n<pre><code>(q='search_term' , cx='search_engine_id', sort = 'date:r:yyyymmdd:yyyymmdd')\n</code></pre>\n\n<p>The <code>sort</code> feature allows us to sort and filter the date of the results to the time range specified.</p>\n"},{"tags":[],"owner":{"account_id":13503359,"reputation":68,"user_id":12314600,"display_name":"Taksh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644674272,"creation_date":1644674272,"answer_id":71092480,"question_id":14543555,"body_markdown":"I know question asked for this awhile ago, I had the same problem.\r\n\r\nUse `dateRestrict=d1` instead of `dateRestrict=d[1]`\r\n\r\nThe documentation made that a bit confusing. `[]` is used to show number as placeholder.","title":"How to use &quot;dateRestrict&quot; parameter in Custom Search API","body":"<p>I know question asked for this awhile ago, I had the same problem.</p>\n<p>Use <code>dateRestrict=d1</code> instead of <code>dateRestrict=d[1]</code></p>\n<p>The documentation made that a bit confusing. <code>[]</code> is used to show number as placeholder.</p>\n"}],"owner":{"account_id":2163836,"reputation":5528,"user_id":1917363,"accept_rate":90,"display_name":"applecrusher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5911,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14543678,"answer_count":3,"score":7,"last_activity_date":1677189954,"creation_date":1359250459,"question_id":14543555,"body_markdown":"I am trying to modify some java code which uses the Google API. One of the features I have not been able to get is the dateRestrict. Information about this can be found here: \r\n&lt;a href=&quot;https://developers.google.com/custom-search/v1/using_rest#query-params&quot;&gt;\r\nGoogleAPI\r\n&lt;/a&gt;\r\n\r\nTo implement this I attach the following string after my query. It is properly connected with the full URL because other parameters work with it. \r\n\r\n`String parameters = &quot;&amp;dateRestrict=2012-01-01&quot;;`\r\n\r\nI have also tried 1d and 1m but those don&#39;t work either as parameters\r\n\r\nIf someone could show me of an example of dateRestrict I would greatly appreciate it. I just don&#39;t understand how they mean to use it in the API. Thank you. \r\n\r\n\r\n  [1]: http://","title":"How to use &quot;dateRestrict&quot; parameter in Custom Search API","body":"<p>I am trying to modify some java code which uses the Google API. One of the features I have not been able to get is the dateRestrict. Information about this can be found here: \n<a href=\"https://developers.google.com/custom-search/v1/using_rest#query-params\" rel=\"noreferrer\">\nGoogleAPI\n</a></p>\n\n<p>To implement this I attach the following string after my query. It is properly connected with the full URL because other parameters work with it. </p>\n\n<p><code>String parameters = \"&amp;dateRestrict=2012-01-01\";</code></p>\n\n<p>I have also tried 1d and 1m but those don't work either as parameters</p>\n\n<p>If someone could show me of an example of dateRestrict I would greatly appreciate it. I just don't understand how they mean to use it in the API. Thank you. </p>\n"},{"tags":["java","spring-boot","rest","resttemplate","response-entity"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1677152877,"post_id":75544272,"comment_id":133283348,"body_markdown":"Your resulting object seems to have a nested result-field, i.e. `&quot;results&quot;: {&quot;results&quot;: null}` while what you want is to receive an instance of Content in the results-field. I don&#39;t think your post shows the &quot;Result&quot; class, but I&#39;m assuming that a solution would be to replace the object with Content. So change the field in AssistenzaResponse from `Results results` to `Content results`","body":"Your resulting object seems to have a nested result-field, i.e. <code>&quot;results&quot;: {&quot;results&quot;: null}</code> while what you want is to receive an instance of Content in the results-field. I don&#39;t think your post shows the &quot;Result&quot; class, but I&#39;m assuming that a solution would be to replace the object with Content. So change the field in AssistenzaResponse from <code>Results results</code> to <code>Content results</code>"},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677153437,"post_id":75544272,"comment_id":133283524,"body_markdown":"Please share Results class with us. When i see your response json, your Results class must has Content content;","body":"Please share Results class with us. When i see your response json, your Results class must has Content content;"},{"owner":{"account_id":21636928,"reputation":15,"user_id":15959884,"display_name":"Michele Raso"},"score":0,"creation_date":1677154441,"post_id":75544272,"comment_id":133283784,"body_markdown":"I added it to the original post","body":"I added it to the original post"},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677155123,"post_id":75544272,"comment_id":133283980,"body_markdown":"Could your try to add private for Content, Meta, Results fields.( **private Content content;** ) Because you use lombok and as far as i know lombok does not generate getter-setter method for default modifier. Without public getter-setter methods mappers does not work.","body":"Could your try to add private for Content, Meta, Results fields.( <b>private Content content;</b> ) Because you use lombok and as far as i know lombok does not generate getter-setter method for default modifier. Without public getter-setter methods mappers does not work."}],"answers":[{"tags":[],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677162977,"creation_date":1677162977,"answer_id":75546264,"question_id":75544272,"body_markdown":"The problem is that the structure of the JSON response you are receiving does not match the structure of the AssistenzaResponse class you are using for deserialization. Therefore, RestTemplate cannot correctly convert the JSON response into an AssistenzaResponse object.\r\n\r\nYou can fix this by changing the AssistenzaResponse class to match the structure of the JSON response you are receiving. In your case, you need to add one more level of nesting to the AssistenzaResponse class. This can be done, for example, as follows:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class AssistenzaResponse {\r\n        private boolean success;\r\n        private String error;\r\n        private Results results;\r\n    \r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor\r\n        public static class Results {\r\n            private Content content;\r\n    \r\n            @Getter\r\n            @Setter\r\n            @NoArgsConstructor\r\n            public static class Content {\r\n                private String name;\r\n                private String html;\r\n                private Meta meta;\r\n                private float duration;\r\n                private float statusCode;\r\n                private boolean success;\r\n                private String error;\r\n    \r\n                @Getter\r\n                @Setter\r\n                @NoArgsConstructor\r\n                public static class Meta {\r\n                    private String src;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nYou can then use AssistenzaResponse instead of String when calling RestTemplate.exchange() like you did before:\r\n\r\n    ResponseEntity&lt;AssistenzaResponse&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, AssistenzaResponse.class);\r\n    return response.getBody();\r\n\r\nThe RestTemplate should now properly convert the JSON response into an AssistenzaResponse object. Try it!\r\n\r\n","title":"RestTemplate Post and response ( JSON ) Spring boot","body":"<p>The problem is that the structure of the JSON response you are receiving does not match the structure of the AssistenzaResponse class you are using for deserialization. Therefore, RestTemplate cannot correctly convert the JSON response into an AssistenzaResponse object.</p>\n<p>You can fix this by changing the AssistenzaResponse class to match the structure of the JSON response you are receiving. In your case, you need to add one more level of nesting to the AssistenzaResponse class. This can be done, for example, as follows:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class AssistenzaResponse {\n    private boolean success;\n    private String error;\n    private Results results;\n\n    @Getter\n    @Setter\n    @NoArgsConstructor\n    public static class Results {\n        private Content content;\n\n        @Getter\n        @Setter\n        @NoArgsConstructor\n        public static class Content {\n            private String name;\n            private String html;\n            private Meta meta;\n            private float duration;\n            private float statusCode;\n            private boolean success;\n            private String error;\n\n            @Getter\n            @Setter\n            @NoArgsConstructor\n            public static class Meta {\n                private String src;\n            }\n        }\n    }\n}\n</code></pre>\n<p>You can then use AssistenzaResponse instead of String when calling RestTemplate.exchange() like you did before:</p>\n<pre><code>ResponseEntity&lt;AssistenzaResponse&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, AssistenzaResponse.class);\nreturn response.getBody();\n</code></pre>\n<p>The RestTemplate should now properly convert the JSON response into an AssistenzaResponse object. Try it!</p>\n"}],"owner":{"account_id":21636928,"reputation":15,"user_id":15959884,"display_name":"Michele Raso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75546264,"answer_count":1,"score":0,"last_activity_date":1677189817,"creation_date":1677152077,"question_id":75544272,"body_markdown":"I am implementing a post with `restTemplate`, with body an object representing a fields of a `json` and I would like the answer with an `object` representing the `json` fields of the answer itself.\r\n\r\nFor example, the `json` is this:\r\n```\r\n{\r\n    &quot;content&quot;: {\r\n        &quot;name&quot;: &quot;support-callmebackmodals-view_web&quot;,\r\n        &quot;data&quot;: {\r\n            &quot;channel&quot;: &quot;web&quot;,\r\n            &quot;productName&quot;: &quot;book&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe class that represents it is this:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Request {\r\n    Con ContentObject;\r\n}\r\n```\r\n\r\n`ConClass` contains &quot;content&quot; of `json`, content contains name and `DataClass` ecc.\r\n\r\nThe response translated into object I created is:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\npublic class AssistenzaResponse {\r\n    \r\n    private boolean success;\r\n    private String error;\r\n    Results results;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Results {\r\n\r\n    Content content;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Content {\r\n    Meta meta;\r\n    private String name;\r\n    private String html;\r\n    private float duration;\r\n    private float statusCode;\r\n    private boolean success;\r\n    private String error;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Meta {\r\n    private String src;\r\n}\r\n```\r\n\r\nMy `service` is this:\r\n```\r\n@Service\r\npublic class AssistenzaService {\r\n    public AssistenzaResponse getUno() throws IOException {\r\n\r\n        String url = &quot;https://support.aasdt/batch&quot;;\r\n\r\n\r\n        org.apache.http.client.HttpClient client = HttpClientBuilder.create().build();\r\n\r\n        Request request1 = new Request();\r\n        Con con = new Con();\r\n        con.setName(&quot;support-callmebackmodals-view_web&quot;);\r\n\r\n        Data data = new Data();\r\n        data.setChannel(&quot;web&quot;);\r\n        data.setProductName(&quot;LibrettoMinori&quot;);\r\n        con.setData(data);\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        request1.setContentObject(con);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.set(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        HttpEntity&lt;Request&gt; entity = new HttpEntity&lt;&gt;(request1, headers);\r\n\r\n        try {\r\n            ResponseEntity&lt;AssistenzaResponse&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, AssistenzaResponse.class);\r\n\r\n            return response.getBody();\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nBut the answer is not what I expect, because it returns:\r\n```\r\n{\r\n    &quot;success&quot;: true,\r\n    &quot;error&quot;: null,\r\n    &quot;results&quot;: {\r\n        &quot;results&quot;: null\r\n    }\r\n}\r\n```\r\n\r\nInstead if I use:        \r\n```\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url,HttpMethod.POST, entity, String.class);         \r\n```\r\n\r\nThe response is correct and it is: \r\n\r\n```\r\n{\r\n    &quot;success&quot;: true,\r\n    &quot;error&quot;: null,\r\n    &quot;results&quot;: {\r\n        &quot;content&quot;: {\r\n            &quot;name&quot;: &quot;support-callmebackmodals-view_web&quot;,\r\n            &quot;html&quot;: &quot;&quot;,\r\n            &quot;meta&quot;: {\r\n                &quot;src&quot;: &quot;/support/client.js&quot;\r\n            },\r\n            &quot;duration&quot;: 7.694401,\r\n            &quot;statusCode&quot;: 200,\r\n            &quot;success&quot;: true,\r\n            &quot;error&quot;: null\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhy don&#39;t I get the exact answer using the answer object I created? \r\n\r\nBut if I use the string it works?\r\n\r\nI expect that the `json` answer will not be returned as `String`, but as my `Response` object, I tried to use also `postForObject` and `postForEntity`.","title":"RestTemplate Post and response ( JSON ) Spring boot","body":"<p>I am implementing a post with <code>restTemplate</code>, with body an object representing a fields of a <code>json</code> and I would like the answer with an <code>object</code> representing the <code>json</code> fields of the answer itself.</p>\n<p>For example, the <code>json</code> is this:</p>\n<pre><code>{\n    &quot;content&quot;: {\n        &quot;name&quot;: &quot;support-callmebackmodals-view_web&quot;,\n        &quot;data&quot;: {\n            &quot;channel&quot;: &quot;web&quot;,\n            &quot;productName&quot;: &quot;book&quot;\n        }\n    }\n}\n</code></pre>\n<p>The class that represents it is this:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class Request {\n    Con ContentObject;\n}\n</code></pre>\n<p><code>ConClass</code> contains &quot;content&quot; of <code>json</code>, content contains name and <code>DataClass</code> ecc.</p>\n<p>The response translated into object I created is:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class AssistenzaResponse {\n    \n    private boolean success;\n    private String error;\n    Results results;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Results {\n\n    Content content;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Content {\n    Meta meta;\n    private String name;\n    private String html;\n    private float duration;\n    private float statusCode;\n    private boolean success;\n    private String error;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Meta {\n    private String src;\n}\n</code></pre>\n<p>My <code>service</code> is this:</p>\n<pre><code>@Service\npublic class AssistenzaService {\n    public AssistenzaResponse getUno() throws IOException {\n\n        String url = &quot;https://support.aasdt/batch&quot;;\n\n\n        org.apache.http.client.HttpClient client = HttpClientBuilder.create().build();\n\n        Request request1 = new Request();\n        Con con = new Con();\n        con.setName(&quot;support-callmebackmodals-view_web&quot;);\n\n        Data data = new Data();\n        data.setChannel(&quot;web&quot;);\n        data.setProductName(&quot;LibrettoMinori&quot;);\n        con.setData(data);\n        RestTemplate restTemplate = new RestTemplate();\n        request1.setContentObject(con);\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        headers.set(&quot;Accept&quot;, &quot;application/json&quot;);\n        HttpEntity&lt;Request&gt; entity = new HttpEntity&lt;&gt;(request1, headers);\n\n        try {\n            ResponseEntity&lt;AssistenzaResponse&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, AssistenzaResponse.class);\n\n            return response.getBody();\n\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>But the answer is not what I expect, because it returns:</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;error&quot;: null,\n    &quot;results&quot;: {\n        &quot;results&quot;: null\n    }\n}\n</code></pre>\n<p>Instead if I use:</p>\n<pre><code>ResponseEntity&lt;String&gt; response = restTemplate.exchange(url,HttpMethod.POST, entity, String.class);         \n</code></pre>\n<p>The response is correct and it is:</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;error&quot;: null,\n    &quot;results&quot;: {\n        &quot;content&quot;: {\n            &quot;name&quot;: &quot;support-callmebackmodals-view_web&quot;,\n            &quot;html&quot;: &quot;&quot;,\n            &quot;meta&quot;: {\n                &quot;src&quot;: &quot;/support/client.js&quot;\n            },\n            &quot;duration&quot;: 7.694401,\n            &quot;statusCode&quot;: 200,\n            &quot;success&quot;: true,\n            &quot;error&quot;: null\n        }\n    }\n}\n</code></pre>\n<p>Why don't I get the exact answer using the answer object I created?</p>\n<p>But if I use the string it works?</p>\n<p>I expect that the <code>json</code> answer will not be returned as <code>String</code>, but as my <code>Response</code> object, I tried to use also <code>postForObject</code> and <code>postForEntity</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1677189133,"post_id":75550623,"comment_id":133294386,"body_markdown":"Please explain and show the details of your question and your problem. If you haven&#39;t yet gone through the [ask], how would be a great time to do so.","body":"Please explain and show the details of your question and your problem. If you haven&#39;t yet gone through the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, how would be a great time to do so."}],"answers":[{"tags":[],"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677189746,"creation_date":1677189746,"answer_id":75550773,"question_id":75550623,"body_markdown":"[Gradle][1] is a build tool. If you clear the cache, Gradle should be able to rebuild it from scratch the next time you build your project. One way to clear the cache is to delete everything under `C:\\Users\\user\\.gradle\\caches`.\r\n\r\n\r\n  [1]: https://gradle.org/","title":"How Can I download this file: values.xml","body":"<p><a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle</a> is a build tool. If you clear the cache, Gradle should be able to rebuild it from scratch the next time you build your project. One way to clear the cache is to delete everything under <code>C:\\Users\\user\\.gradle\\caches</code>.</p>\n"}],"owner":{"account_id":19404814,"reputation":21,"user_id":14190516,"display_name":"mahmoud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75550773,"answer_count":1,"score":0,"last_activity_date":1677189746,"creation_date":1677188634,"question_id":75550623,"body_markdown":"the file in this directory:\r\nC:\\Users\\user\\.gradle\\caches\\transforms-2\\files-2.1\\3a4beccd096fd786f5bb4c1e46d3cf34\\material-1.8.0\\res\\values\r\n\r\nI made some change to this file by mistake so I need to download the original one, can you tell me how can download it?\r\nthank you \r\n\r\n I made search for that but could not find it.","title":"How Can I download this file: values.xml","body":"<p>the file in this directory:\nC:\\Users\\user.gradle\\caches\\transforms-2\\files-2.1\\3a4beccd096fd786f5bb4c1e46d3cf34\\material-1.8.0\\res\\values</p>\n<p>I made some change to this file by mistake so I need to download the original one, can you tell me how can download it?\nthank you</p>\n<p>I made search for that but could not find it.</p>\n"},{"tags":["java","http-status-code-500"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":2,"creation_date":1677187532,"post_id":75550203,"comment_id":133294032,"body_markdown":"The Apache `commons-io` library you are using is pretty primitive. I would try a different library like [HttpClient](https://hc.apache.org/httpcomponents-client-5.2.x/index.html)","body":"The Apache <code>commons-io</code> library you are using is pretty primitive. I would try a different library like <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/index.html\" rel=\"nofollow noreferrer\">HttpClient</a>"}],"answers":[{"tags":[],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677189040,"creation_date":1677189040,"answer_id":75550682,"question_id":75550203,"body_markdown":"thanks for your comment (@egeorge) I used the [HttpClient][1] library and got exactly what I wanted.\r\n\r\nCode:\r\n\r\n        String pageUrl = &quot;https://www.hafen-hamburg.de/en/vessels/klein-erna/&quot;;\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder().uri(URI.create(pageUrl)).build();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n        System.out.println(response.body());\r\n\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.2.x/index.html","title":"How to download the content of the page despite the Error 500?","body":"<p>thanks for your comment (@egeorge) I used the <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/index.html\" rel=\"nofollow noreferrer\">HttpClient</a> library and got exactly what I wanted.</p>\n<p>Code:</p>\n<pre><code>    String pageUrl = &quot;https://www.hafen-hamburg.de/en/vessels/klein-erna/&quot;;\n    HttpClient client = HttpClient.newHttpClient();\n    HttpRequest request = HttpRequest.newBuilder().uri(URI.create(pageUrl)).build();\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    System.out.println(response.body());\n</code></pre>\n"}],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75550682,"answer_count":1,"score":0,"last_activity_date":1677189040,"creation_date":1677185507,"question_id":75550203,"body_markdown":"I want to download the content of the page: \r\n[https://www.hafen-hamburg.de/en/vessels/klein-erna/][1]. In my code and DevTools I can see that I&#39;m getting a 500 error:\r\n\r\n[![Statuscode 500][2]][2]\r\n\r\nbut I can also clearly see in the browser that the page has been loaded. How can I download the content of the page despite this error?\r\n\r\nMy code:\r\n\r\n        String pageUrl = &quot;https://www.hafen-hamburg.de/en/vessels/klein-erna/&quot;;\r\n        URL url = new URL(pageUrl);\r\n        String content = IOUtils.toString(url, StandardCharsets.UTF_8);\r\n\r\n\r\n  [1]: https://www.hafen-hamburg.de/en/vessels/klein-erna/\r\n  [2]: https://i.stack.imgur.com/AJEJe.png","title":"How to download the content of the page despite the Error 500?","body":"<p>I want to download the content of the page:\n<a href=\"https://www.hafen-hamburg.de/en/vessels/klein-erna/\" rel=\"nofollow noreferrer\">https://www.hafen-hamburg.de/en/vessels/klein-erna/</a>. In my code and DevTools I can see that I'm getting a 500 error:</p>\n<p><a href=\"https://i.stack.imgur.com/AJEJe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJEJe.png\" alt=\"Statuscode 500\" /></a></p>\n<p>but I can also clearly see in the browser that the page has been loaded. How can I download the content of the page despite this error?</p>\n<p>My code:</p>\n<pre><code>    String pageUrl = &quot;https://www.hafen-hamburg.de/en/vessels/klein-erna/&quot;;\n    URL url = new URL(pageUrl);\n    String content = IOUtils.toString(url, StandardCharsets.UTF_8);\n</code></pre>\n"},{"tags":["javascript","java","string","adobe","tofixed"],"owner":{"account_id":27864140,"reputation":11,"user_id":21276002,"display_name":"Vader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677188144,"creation_date":1677187744,"question_id":75550491,"body_markdown":"*Original code:\r\n\r\n    //CONVERTED VIA ATOMX: thisComp()\r\n    //No Decimals, No Comma Separator.\r\n    \r\n    v = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Main Value&quot;)(&quot;ADBE Slider Control-0001&quot;);\r\n    n = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Decimals&quot;)(&quot;ADBE Slider Control-0001&quot;);\r\n    thisComp.layer(&quot;prefix&quot;).text.sourceText +(easeOut(time,inPoint,inPoint+1.1,0,v)).toFixed((1)*n)+ thisComp.layer(&quot;suffix&quot;).text.sourceText;\r\n\r\n-------------------------------------------------------------------------------------------------------------\r\n*Modified Code\r\n\r\n    //CONVERTED VIA ATOMX: thisComp()\r\n    //Comma Separator with Decimals\r\n    \r\n    v = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Main Value&quot;)(&quot;ADBE Slider Control-0001&quot;);\r\n    n = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Decimals&quot;)(&quot;ADBE Slider Control-0001&quot;);\r\n    thisComp.layer(&quot;prefix&quot;).text.sourceText +(easeOut(time,inPoint,inPoint+1.1,0,v)).toLocaleString()+ thisComp.layer(&quot;suffix&quot;).text.sourceText;\r\n\r\n\r\n\r\nI would like to alter the code above to show the main value with comma and no decimals.\r\n\r\n\r\nI subscribed to SonDuckFilm where I can download and modify their designs using After Effects.\r\n\r\nHowever, I got stuck trying to modify their code to show the value with only comma separator and no decimals.\r\n","title":"Add Comma Separator, and remove Decimals","body":"<p>*Original code:</p>\n<pre><code>//CONVERTED VIA ATOMX: thisComp()\n//No Decimals, No Comma Separator.\n\nv = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Main Value&quot;)(&quot;ADBE Slider Control-0001&quot;);\nn = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Decimals&quot;)(&quot;ADBE Slider Control-0001&quot;);\nthisComp.layer(&quot;prefix&quot;).text.sourceText +(easeOut(time,inPoint,inPoint+1.1,0,v)).toFixed((1)*n)+ thisComp.layer(&quot;suffix&quot;).text.sourceText;\n</code></pre>\n<hr />\n<p>*Modified Code</p>\n<pre><code>//CONVERTED VIA ATOMX: thisComp()\n//Comma Separator with Decimals\n\nv = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Main Value&quot;)(&quot;ADBE Slider Control-0001&quot;);\nn = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Decimals&quot;)(&quot;ADBE Slider Control-0001&quot;);\nthisComp.layer(&quot;prefix&quot;).text.sourceText +(easeOut(time,inPoint,inPoint+1.1,0,v)).toLocaleString()+ thisComp.layer(&quot;suffix&quot;).text.sourceText;\n</code></pre>\n<p>I would like to alter the code above to show the main value with comma and no decimals.</p>\n<p>I subscribed to SonDuckFilm where I can download and modify their designs using After Effects.</p>\n<p>However, I got stuck trying to modify their code to show the value with only comma separator and no decimals.</p>\n"},{"tags":["java","selenium","firefox","geckodriver"],"comments":[{"owner":{"account_id":9962584,"reputation":935,"user_id":7371353,"display_name":"acikojevic"},"score":0,"creation_date":1486417562,"post_id":42076497,"comment_id":71327215,"body_markdown":"What FF version are you using, is it really v5 or just a typo?","body":"What FF version are you using, is it really v5 or just a typo?"},{"owner":{"account_id":1668388,"reputation":3326,"user_id":1535349,"accept_rate":45,"display_name":"kroe761"},"score":0,"creation_date":1486418343,"post_id":42076497,"comment_id":71327600,"body_markdown":"haha...51.  Edited.","body":"haha...51.  Edited."},{"owner":{"account_id":4150363,"reputation":1083,"user_id":3403011,"accept_rate":100,"display_name":"Thibstars"},"score":0,"creation_date":1486542271,"post_id":42076497,"comment_id":71384924,"body_markdown":"As I understand you are using [WebDriverManager](https://github.com/bonigarcia/webdrivermanager). I quickly read through the readme and it seems like you don&#39;t need to override the `gecko-driver` system property. So try removing `System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/usr/local/bin/geckodriver&quot;);`.","body":"As I understand you are using <a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">WebDriverManager</a>. I quickly read through the readme and it seems like you don&#39;t need to override the <code>gecko-driver</code> system property. So try removing <code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;&#47;usr&#47;local&#47;bin&#47;geckodriver&quot;);</code>."}],"answers":[{"tags":[],"owner":{"account_id":10050954,"reputation":134,"user_id":7574493,"display_name":"Dharam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493039667,"creation_date":1487600751,"answer_id":42347093,"question_id":42076497,"body_markdown":"I think the Geckodriver path is the problem.\r\n\r\nTry to specify like below.\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;D:\\\\Jar&#39;s\\\\geckodriver-v0.11.1-win64\\\\geckodriver.exe&quot;);\r\n\r\nPlease let me know if it work.\r\n","title":"Cannot Launch Firefox using GeckoDriver","body":"<p>I think the Geckodriver path is the problem.</p>\n\n<p>Try to specify like below.</p>\n\n<pre><code>System.setProperty(\"webdriver.gecko.driver\",\"D:\\\\Jar's\\\\geckodriver-v0.11.1-win64\\\\geckodriver.exe\");\n</code></pre>\n\n<p>Please let me know if it work.</p>\n"},{"tags":[],"owner":{"account_id":4113546,"reputation":29,"user_id":3375783,"display_name":"manam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489447162,"creation_date":1489441259,"answer_id":42773923,"question_id":42076497,"body_markdown":"Finally I found out the problem, check if you have webdriver GeckoDriver verion v15? Becuse for linux only 64bit exists, 32bit is missing, so if you have 32bit it will not work. I installed version 14, 32bit and it works just fine.","title":"Cannot Launch Firefox using GeckoDriver","body":"<p>Finally I found out the problem, check if you have webdriver GeckoDriver verion v15? Becuse for linux only 64bit exists, 32bit is missing, so if you have 32bit it will not work. I installed version 14, 32bit and it works just fine.</p>\n"},{"tags":[],"owner":{"account_id":3810609,"reputation":31,"user_id":3161591,"display_name":"Sally"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493033166,"creation_date":1493023965,"answer_id":43583670,"question_id":42076497,"body_markdown":"try this \r\n\r\n    System.setProperty(&quot;webdriver.firefox.bin&quot;, &quot;C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe&quot;);\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\geckodriver.exe&quot;);        \t \r\n    driver = new FirefoxDriver();\r\n\r\nDon&#39;t forget to download `geckodriver` and put it in the path you want. \r\nI put it directly in `C:\\` drive\r\n\r\n","title":"Cannot Launch Firefox using GeckoDriver","body":"<p>try this </p>\n\n<pre><code>System.setProperty(\"webdriver.firefox.bin\", \"C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe\");\nSystem.setProperty(\"webdriver.gecko.driver\",\"C:\\\\geckodriver.exe\");          \ndriver = new FirefoxDriver();\n</code></pre>\n\n<p>Don't forget to download <code>geckodriver</code> and put it in the path you want. \nI put it directly in <code>C:\\</code> drive</p>\n"}],"owner":{"account_id":1668388,"reputation":3326,"user_id":1535349,"accept_rate":45,"display_name":"kroe761"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1677188031,"creation_date":1486412143,"question_id":42076497,"body_markdown":"I am running Firefox 51 on my Mac and Selenium 3.0.1, and no matter what I try I cannot get Firefox to work with my selenium code.  I added GeckoDriver to `/usr/local/bin` **and** added System properties line, but it keep getting `connection refused.`. Here is my code:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import io.github.bonigarcia.wdm.FirefoxDriverManager;\r\n\r\n\tpublic WebDriver getDriver() throws MalformedURLException {\t\t\r\n\t\tFirefoxDriverManager.getInstance().setup();\r\n\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/usr/local/bin/geckodriver&quot;);\r\n\t\tdriver = new FirefoxDriver();\r\n        // Tests here\r\n    }\r\n\r\nHere are the error logs:\r\n\r\n    Usage:\r\n        /usr/local/bin/geckodriver [OPTIONS]\r\n    /usr/local/bin/geckodriver: Unknown option --port=30325\r\n    Feb 06, 2017 1:59:11 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Attempting bi-dialect session, assuming Postel&#39;s Law holds true on the remote end\r\n    FAILED CONFIGURATION: @BeforeTest Before\r\n    org.openqa.selenium.WebDriverException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:30325 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\r\n    Build info: version: &#39;3.0.1&#39;, revision: &#39;1969d75&#39;, time: &#39;2016-10-18 09:49:13 -0700&#39;\r\n    System info: host: &#39;Kevins-MacBook-Pro.local&#39;, ip: &#39;192.168.0.26&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.12.3&#39;, java.version: &#39;1.8.0_121&#39;\r\n    Driver info: driver.version: FirefoxDriver\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:91)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:601)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:241)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:128)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:259)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:247)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:242)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:238)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:127)\r\n    \tat com.kirklands.automation.ecom.Base.getDriver(Base.java:29)\r\n    \tat com.kirklands.automation.ecom.tests.TestBase.Before(TestBase.java:16)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\r\n    \tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:564)\r\n    \tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)\r\n    \tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)\r\n    \tat org.testng.TestRunner.beforeRun(TestRunner.java:641)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:609)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:132)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:236)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:81)\r\n    Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:30325 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:158)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n    \tat org.openqa.selenium.remote.internal.ApacheHttpClient.fallBackExecute(ApacheHttpClient.java:142)\r\n    \tat org.openqa.selenium.remote.internal.ApacheHttpClient.execute(ApacheHttpClient.java:88)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:108)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:64)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:141)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:82)\r\n    \t... 32 more\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:74)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\r\n    \t... 47 more\r\n\r\n    SKIPPED CONFIGURATION: @AfterTest After\r\n\r\nIt&#39;s worth nothing that Chrome is working just fine (which is also at  `/usr/local/bin/chromedriver` if I were to use `ChromeDriverManager.`. So I don&#39;t know what&#39;s going on here.  ","title":"Cannot Launch Firefox using GeckoDriver","body":"<p>I am running Firefox 51 on my Mac and Selenium 3.0.1, and no matter what I try I cannot get Firefox to work with my selenium code.  I added GeckoDriver to <code>/usr/local/bin</code> <strong>and</strong> added System properties line, but it keep getting <code>connection refused.</code>. Here is my code:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport io.github.bonigarcia.wdm.FirefoxDriverManager;\n\npublic WebDriver getDriver() throws MalformedURLException {     \n    FirefoxDriverManager.getInstance().setup();\n    System.setProperty(\"webdriver.gecko.driver\", \"/usr/local/bin/geckodriver\");\n    driver = new FirefoxDriver();\n    // Tests here\n}\n</code></pre>\n\n<p>Here are the error logs:</p>\n\n<pre><code>Usage:\n    /usr/local/bin/geckodriver [OPTIONS]\n/usr/local/bin/geckodriver: Unknown option --port=30325\nFeb 06, 2017 1:59:11 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Attempting bi-dialect session, assuming Postel's Law holds true on the remote end\nFAILED CONFIGURATION: @BeforeTest Before\norg.openqa.selenium.WebDriverException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:30325 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nBuild info: version: '3.0.1', revision: '1969d75', time: '2016-10-18 09:49:13 -0700'\nSystem info: host: 'Kevins-MacBook-Pro.local', ip: '192.168.0.26', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.12.3', java.version: '1.8.0_121'\nDriver info: driver.version: FirefoxDriver\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:91)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:601)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:241)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:128)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:259)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:247)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:242)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:238)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:127)\n    at com.kirklands.automation.ecom.Base.getDriver(Base.java:29)\n    at com.kirklands.automation.ecom.tests.TestBase.Before(TestBase.java:16)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:564)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:641)\n    at org.testng.TestRunner.run(TestRunner.java:609)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:240)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:132)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:236)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:81)\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:30325 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:158)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n    at org.openqa.selenium.remote.internal.ApacheHttpClient.fallBackExecute(ApacheHttpClient.java:142)\n    at org.openqa.selenium.remote.internal.ApacheHttpClient.execute(ApacheHttpClient.java:88)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:108)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:64)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:141)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:82)\n    ... 32 more\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:74)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\n    ... 47 more\n\nSKIPPED CONFIGURATION: @AfterTest After\n</code></pre>\n\n<p>It's worth nothing that Chrome is working just fine (which is also at  <code>/usr/local/bin/chromedriver</code> if I were to use <code>ChromeDriverManager.</code>. So I don't know what's going on here.  </p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677262907,"post_id":75550500,"comment_id":133309782,"body_markdown":"Can you include a small example of the output (HTML, omit all the `class=...` attributes) you expect as a code block (not image)? Also, is the model one which you have inherited or one which you designed? I don&#39;t understand a few things about it: 1) why is an object called a List (`KrankheitenListe`) when it really is a singular object? 2) Why do you need the class `KrankheitenDate` when it seems that a `private LocalDate date` member variable would be sufficient (I don&#39;t understand why it has to cross-reference both `KrankheitenListe` and `Ges Krankheiten`).","body":"Can you include a small example of the output (HTML, omit all the <code>class=...</code> attributes) you expect as a code block (not image)? Also, is the model one which you have inherited or one which you designed? I don&#39;t understand a few things about it: 1) why is an object called a List (<code>KrankheitenListe</code>) when it really is a singular object? 2) Why do you need the class <code>KrankheitenDate</code> when it seems that a <code>private LocalDate date</code> member variable would be sufficient (I don&#39;t understand why it has to cross-reference both <code>KrankheitenListe</code> and <code>Ges Krankheiten</code>)."}],"owner":{"account_id":21836117,"reputation":3,"user_id":16130345,"display_name":"Glutarios66"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677188012,"creation_date":1677187774,"question_id":75550500,"body_markdown":"can someone check what im missing. Even though the date from KrankheitenDate is stored in DB the input doesnt show up on the html. I think my th:value is fault \r\n[MySQL Database][1]\r\n\r\n```\r\nThymeleaf Code\r\n&lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label class=&quot;form-label col-md-2&quot;&gt;Krankheiten:&lt;/label&gt;\r\n            &lt;ul class=&quot;list-group&quot;&gt;\r\n                &lt;li class=&quot;list-group-item&quot; th:each=&quot;krankheiten, iterStat : ${krankheitenListe}&quot;&gt;\r\n               &lt;!-- &lt;li th:each=&quot;geschlecht : ${T(com.BachelorProjekt.TeckelApp.Enums.Geschlecht).values()}&quot;&gt;  --&gt;\r\n                    &lt;div class=&quot;form-check&quot;&gt;\r\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; name=&quot;krankheiten&quot; id=&quot;krankheiten&quot;\r\n                            th:value=&quot;${krankheiten.id}&quot; th:field=&quot;*{krankheitenDates[__${iterStat.index}__].krankheitenListe}&quot; th:id=&quot;${&#39;krankheiten&#39; + iterStat.count}&quot;&gt;\r\n                        &lt;label class=&quot;form-check-label&quot; th:for=&quot;${&#39;krankheiten&#39; + iterStat.count}&quot; th:text=&quot;${krankheiten}&quot;&gt;&lt;/label&gt;\r\n                    &lt;/div&gt;&lt;!--th:checked=&quot;${#lists.contains(teckel?.ernaehrung?.futter,futter)}&quot;--&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;input th:if=&quot;${!iterStat.last &amp;&amp; iterStat.index &lt; krankheitenListe.size() - 2}&quot; th:field=&quot;*{krankheitenDates[__${iterStat.index}__].date}&quot; th:value=&quot;${krankheiten.krankheitenDate}&quot; type=&quot;date&quot; class=&quot;form-control&quot; th:text=&quot;${#temporals.format(localDate, &#39;dd-MM-yyyy&#39;)}&quot;&gt;\r\n                      &lt;!--  &lt;input type=&quot;date&quot; class=&quot;form-control&quot; th:field=&quot;*{krankheitenListe[__${iterStat.index}__].krankheitenDate}&quot; th:value=&quot;${krankheiten.krankheitenDate}&quot;&gt; --&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n```\r\nGesKrankheiten.java\r\n```\r\n@Entity\r\n@Table\r\npublic class GesKrankheiten {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name=&quot;gesKrankheiten_impungen&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;gesKrankheiten_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;impfungen_id&quot;))\r\n    private List&lt;Impfungen&gt; impfungen = new ArrayList&lt;&gt;();//enumCheckBox\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;gesKrankheiten&quot;)\r\n    /*@JoinTable(name=&quot;gesKrankheiten_krankheiten&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;gesKrankheiten_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;krankheitenDates_id&quot;))*/\r\n    private List&lt;KrankheitenDate&gt; krankheitenDates = new ArrayList&lt;&gt;();//enumCheckBox\r\n\r\n```\r\n\r\nKrankheitenDate.java\r\n```\r\n@Entity\r\n@Table\r\npublic class KrankheitenDate {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @OneToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;fk_krankheitenListe_id&quot;)\r\n    private KrankheitenListe krankheitenListe;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;fk_gesKrankheiten_id&quot;)\r\n    private GesKrankheiten gesKrankheiten;\r\n\r\n    private LocalDate date;\r\n\r\n```\r\nKrankheitenList.java\r\n```\r\n@Entity\r\n@Table\r\npublic class KrankheitenListe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    private Krankheiten krankheiten;\r\n\r\n    @OneToOne(mappedBy = &quot;krankheitenListe&quot;)\r\n    private KrankheitenDate krankheitenDate;\r\n\r\n```\r\n\r\nController.java\r\n```\r\n    @GetMapping(&quot;/eintraege3/{id}&quot;)\r\n    public ModelAndView eintraege3(Model model, @PathVariable(&quot;id&quot;) Integer id) {\r\n        ModelAndView mv = new ModelAndView();\r\n        Teckel teckel = teckelService.getTeckelbyId(id);\r\n        GesKrankheiten gesKrankheiten;\r\n        List&lt;KrankheitenListe&gt; krankheitenListe = gesKrankheitenService.getKrankheitenListe();\r\n\r\n        /*if(!krankheitenListe.isEmpty() &amp;&amp; krankheitenListe != null) {\r\n            for (KrankheitenListe krankheitenListe1 : krankheitenListe) {\r\n                for(KrankheitenDate krankheitenDate : krankheitenDates){\r\n                    krankheitenListe1.setKrankheitenDate(krankheitenDate);\r\n                }\r\n            }\r\n        }\r\n\r\n         */\r\n        List&lt;Impfungen&gt; impfungenListe = gesKrankheitenService.getImpfungen();\r\n        if (teckel.getGesKrankheiten() == null) {\r\n            gesKrankheiten = new GesKrankheiten();\r\n            gesKrankheitenService.save(gesKrankheiten);\r\n            teckel.setGesKrankheiten(gesKrankheiten);\r\n        } else {\r\n            gesKrankheiten = teckel.getGesKrankheiten();\r\n        }\r\n        model.addAttribute(&quot;gesKrankheiten&quot;, gesKrankheiten);\r\n        model.addAttribute(&quot;krankheitenListe&quot;, krankheitenListe);\r\n        model.addAttribute(&quot;impfungenListe&quot;, impfungenListe);\r\n        teckelService.save(teckel);\r\n        model.addAttribute(&quot;teckel&quot;, teckel);\r\n        mv.setViewName(&quot;/krankheiten&quot;);\r\n        return mv;\r\n    }\r\n```\r\n\r\n\r\n\r\nI tried replacing the th:value but didnt work. If someone knows a better structure for this just tell me\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4XTMc.jpg","title":"Thymeleaf display error Date Input not showing","body":"<p>can someone check what im missing. Even though the date from KrankheitenDate is stored in DB the input doesnt show up on the html. I think my th:value is fault\n<a href=\"https://i.stack.imgur.com/4XTMc.jpg\" rel=\"nofollow noreferrer\">MySQL Database</a></p>\n<pre><code>Thymeleaf Code\n&lt;div class=&quot;mb-3&quot;&gt;\n            &lt;label class=&quot;form-label col-md-2&quot;&gt;Krankheiten:&lt;/label&gt;\n            &lt;ul class=&quot;list-group&quot;&gt;\n                &lt;li class=&quot;list-group-item&quot; th:each=&quot;krankheiten, iterStat : ${krankheitenListe}&quot;&gt;\n               &lt;!-- &lt;li th:each=&quot;geschlecht : ${T(com.BachelorProjekt.TeckelApp.Enums.Geschlecht).values()}&quot;&gt;  --&gt;\n                    &lt;div class=&quot;form-check&quot;&gt;\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; name=&quot;krankheiten&quot; id=&quot;krankheiten&quot;\n                            th:value=&quot;${krankheiten.id}&quot; th:field=&quot;*{krankheitenDates[__${iterStat.index}__].krankheitenListe}&quot; th:id=&quot;${'krankheiten' + iterStat.count}&quot;&gt;\n                        &lt;label class=&quot;form-check-label&quot; th:for=&quot;${'krankheiten' + iterStat.count}&quot; th:text=&quot;${krankheiten}&quot;&gt;&lt;/label&gt;\n                    &lt;/div&gt;&lt;!--th:checked=&quot;${#lists.contains(teckel?.ernaehrung?.futter,futter)}&quot;--&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;input th:if=&quot;${!iterStat.last &amp;&amp; iterStat.index &lt; krankheitenListe.size() - 2}&quot; th:field=&quot;*{krankheitenDates[__${iterStat.index}__].date}&quot; th:value=&quot;${krankheiten.krankheitenDate}&quot; type=&quot;date&quot; class=&quot;form-control&quot; th:text=&quot;${#temporals.format(localDate, 'dd-MM-yyyy')}&quot;&gt;\n                      &lt;!--  &lt;input type=&quot;date&quot; class=&quot;form-control&quot; th:field=&quot;*{krankheitenListe[__${iterStat.index}__].krankheitenDate}&quot; th:value=&quot;${krankheiten.krankheitenDate}&quot;&gt; --&gt;\n                    &lt;/div&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>GesKrankheiten.java</p>\n<pre><code>@Entity\n@Table\npublic class GesKrankheiten {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Integer id;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name=&quot;gesKrankheiten_impungen&quot;,\n            joinColumns = @JoinColumn(name = &quot;gesKrankheiten_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;impfungen_id&quot;))\n    private List&lt;Impfungen&gt; impfungen = new ArrayList&lt;&gt;();//enumCheckBox\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;gesKrankheiten&quot;)\n    /*@JoinTable(name=&quot;gesKrankheiten_krankheiten&quot;,\n            joinColumns = @JoinColumn(name = &quot;gesKrankheiten_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;krankheitenDates_id&quot;))*/\n    private List&lt;KrankheitenDate&gt; krankheitenDates = new ArrayList&lt;&gt;();//enumCheckBox\n\n</code></pre>\n<p>KrankheitenDate.java</p>\n<pre><code>@Entity\n@Table\npublic class KrankheitenDate {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Integer id;\n\n    @OneToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;fk_krankheitenListe_id&quot;)\n    private KrankheitenListe krankheitenListe;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_gesKrankheiten_id&quot;)\n    private GesKrankheiten gesKrankheiten;\n\n    private LocalDate date;\n\n</code></pre>\n<p>KrankheitenList.java</p>\n<pre><code>@Entity\n@Table\npublic class KrankheitenListe {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Integer id;\n\n    private Krankheiten krankheiten;\n\n    @OneToOne(mappedBy = &quot;krankheitenListe&quot;)\n    private KrankheitenDate krankheitenDate;\n\n</code></pre>\n<p>Controller.java</p>\n<pre><code>    @GetMapping(&quot;/eintraege3/{id}&quot;)\n    public ModelAndView eintraege3(Model model, @PathVariable(&quot;id&quot;) Integer id) {\n        ModelAndView mv = new ModelAndView();\n        Teckel teckel = teckelService.getTeckelbyId(id);\n        GesKrankheiten gesKrankheiten;\n        List&lt;KrankheitenListe&gt; krankheitenListe = gesKrankheitenService.getKrankheitenListe();\n\n        /*if(!krankheitenListe.isEmpty() &amp;&amp; krankheitenListe != null) {\n            for (KrankheitenListe krankheitenListe1 : krankheitenListe) {\n                for(KrankheitenDate krankheitenDate : krankheitenDates){\n                    krankheitenListe1.setKrankheitenDate(krankheitenDate);\n                }\n            }\n        }\n\n         */\n        List&lt;Impfungen&gt; impfungenListe = gesKrankheitenService.getImpfungen();\n        if (teckel.getGesKrankheiten() == null) {\n            gesKrankheiten = new GesKrankheiten();\n            gesKrankheitenService.save(gesKrankheiten);\n            teckel.setGesKrankheiten(gesKrankheiten);\n        } else {\n            gesKrankheiten = teckel.getGesKrankheiten();\n        }\n        model.addAttribute(&quot;gesKrankheiten&quot;, gesKrankheiten);\n        model.addAttribute(&quot;krankheitenListe&quot;, krankheitenListe);\n        model.addAttribute(&quot;impfungenListe&quot;, impfungenListe);\n        teckelService.save(teckel);\n        model.addAttribute(&quot;teckel&quot;, teckel);\n        mv.setViewName(&quot;/krankheiten&quot;);\n        return mv;\n    }\n</code></pre>\n<p>I tried replacing the th:value but didnt work. If someone knows a better structure for this just tell me</p>\n"},{"tags":["java","spring-kafka"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1677203526,"post_id":75550011,"comment_id":133296533,"body_markdown":"Allow me a stupid question: what happens if you completely comment out yout whole method `processBatch`? Just to prove that it is really *this* method which activates the Kafka listener on this particular topic? (@GaryRussell: &quot;Something else must be configuring a listener&quot;)","body":"Allow me a stupid question: what happens if you completely comment out yout whole method <code>processBatch</code>? Just to prove that it is really <i>this</i> method which activates the Kafka listener on this particular topic? (@GaryRussell: &quot;Something else must be configuring a listener&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":6421976,"reputation":180,"user_id":4978460,"accept_rate":40,"display_name":"futevolei"},"score":0,"creation_date":1677187375,"post_id":75550298,"comment_id":133293997,"body_markdown":"We have several other listeners configured and working as expected.  Does having one active listener trigger the creation of all of them?","body":"We have several other listeners configured and working as expected.  Does having one active listener trigger the creation of all of them?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1677187769,"post_id":75550298,"comment_id":133294080,"body_markdown":"No; still works for me - see the edit.","body":"No; still works for me - see the edit."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677187759,"creation_date":1677186163,"answer_id":75550298,"question_id":75550011,"body_markdown":"Something else must be configuring a listener; this works as expected for me...\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So75550011Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So75550011Application.class, args);\r\n\t}\r\n\r\n}\r\n\r\n@Configuration\r\n@Profile(&quot;foo&quot;)\r\nclass Listener {\r\n\r\n\t@KafkaListener(id = &quot;so75550011&quot;, topics = &quot;so75550011&quot;)\r\n\tvoid listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nInitially, I thought it might be because it is in a `@Configuration` class (really meant for bean definitions) instead of `@Component`, but no, it works as expected for me.\r\n\r\nIf you can&#39;t figure it out, post an [MCRE](https://stackoverflow.com/help/minimal-reproducible-example) that exhibits the behavior.\r\n\r\n__EDIT__\r\n\r\nThis has one active listener and one inactive; works fine...\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So75550011Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So75550011Application.class, args).close();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic NewTopic topic() {\r\n\t\treturn TopicBuilder.name(&quot;so75550011other&quot;).partitions(1).replicas(1).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(KafkaListenerEndpointRegistry registry) {\r\n\t\treturn args -&gt; {\r\n\t\t\tSystem.out.println(registry.getListenerContainerIds());\r\n\t\t\tThread.sleep(5000);\r\n\t\t};\r\n\t}\r\n\r\n}\r\n\r\n@Configuration\r\n@Profile(&quot;foo&quot;)\r\nclass Listener {\r\n\r\n\t@KafkaListener(id = &quot;so75550011&quot;, topics = &quot;so75550011&quot;)\r\n\tvoid listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n\r\n@Component\r\nclass OtherListener {\r\n\r\n\t@KafkaListener(id = &quot;so75550011other&quot;, topics = &quot;so75550011other&quot;)\r\n\tvoid listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\n[so75550011other]\r\n```\r\n\r\nOnly the other listener is registered.","title":"@KafkaListener throwing error for missing topic even though class level profile not activated","body":"<p>Something else must be configuring a listener; this works as expected for me...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So75550011Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So75550011Application.class, args);\n    }\n\n}\n\n@Configuration\n@Profile(&quot;foo&quot;)\nclass Listener {\n\n    @KafkaListener(id = &quot;so75550011&quot;, topics = &quot;so75550011&quot;)\n    void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n</code></pre>\n<p>Initially, I thought it might be because it is in a <code>@Configuration</code> class (really meant for bean definitions) instead of <code>@Component</code>, but no, it works as expected for me.</p>\n<p>If you can't figure it out, post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCRE</a> that exhibits the behavior.</p>\n<p><strong>EDIT</strong></p>\n<p>This has one active listener and one inactive; works fine...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So75550011Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So75550011Application.class, args).close();\n    }\n\n    @Bean\n    public NewTopic topic() {\n        return TopicBuilder.name(&quot;so75550011other&quot;).partitions(1).replicas(1).build();\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaListenerEndpointRegistry registry) {\n        return args -&gt; {\n            System.out.println(registry.getListenerContainerIds());\n            Thread.sleep(5000);\n        };\n    }\n\n}\n\n@Configuration\n@Profile(&quot;foo&quot;)\nclass Listener {\n\n    @KafkaListener(id = &quot;so75550011&quot;, topics = &quot;so75550011&quot;)\n    void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n\n@Component\nclass OtherListener {\n\n    @KafkaListener(id = &quot;so75550011other&quot;, topics = &quot;so75550011other&quot;)\n    void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n</code></pre>\n<pre><code>[so75550011other]\n</code></pre>\n<p>Only the other listener is registered.</p>\n"}],"owner":{"account_id":6421976,"reputation":180,"user_id":4978460,"accept_rate":40,"display_name":"futevolei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677187759,"creation_date":1677184219,"question_id":75550011,"body_markdown":"We have a configuration class with a profile of &quot;foo&quot;.  It has a kafka listener as below:\r\n\r\n    @Configuration\r\n    @Profile(&quot;foo&quot;)\r\n    public class AListener {\r\n\r\n         @KafkaListener(topics = &quot;my.kafka.topic&quot;, autoStartup = &quot;${kafka.listeners.auto.startup:true}&quot;)\r\n    public void processBatch(List&lt;ConsumerRecord&lt;String, byte[]&gt;&gt; records) {\r\n    //do stuff\r\n\r\nWhen the app starts up without foo profile active I see a kafka error in the logs complaining that my.kafka.topic does not exist (which is true but thats neither here nor there) which indicates that the listener container is being created regardless of profile.  Is this expected?  Is something else besides spring managing the listener?\r\n\r\n","title":"@KafkaListener throwing error for missing topic even though class level profile not activated","body":"<p>We have a configuration class with a profile of &quot;foo&quot;.  It has a kafka listener as below:</p>\n<pre><code>@Configuration\n@Profile(&quot;foo&quot;)\npublic class AListener {\n\n     @KafkaListener(topics = &quot;my.kafka.topic&quot;, autoStartup = &quot;${kafka.listeners.auto.startup:true}&quot;)\npublic void processBatch(List&lt;ConsumerRecord&lt;String, byte[]&gt;&gt; records) {\n//do stuff\n</code></pre>\n<p>When the app starts up without foo profile active I see a kafka error in the logs complaining that my.kafka.topic does not exist (which is true but thats neither here nor there) which indicates that the listener container is being created regardless of profile.  Is this expected?  Is something else besides spring managing the listener?</p>\n"},{"tags":["java","java-security","java-security-manager"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1677117708,"post_id":75539595,"comment_id":133276528,"body_markdown":"&quot;None of my attempts so far have worked&quot; - how do you know that? What does &quot;not work&quot; mean?","body":"&quot;None of my attempts so far have worked&quot; - how do you know that? What does &quot;not work&quot; mean?"},{"owner":{"account_id":27855836,"reputation":23,"user_id":21269336,"display_name":"8Sence W"},"score":0,"creation_date":1677128060,"post_id":75539595,"comment_id":133277693,"body_markdown":"The program completed successfully, if it worked it should&#39;ve displayed a NoPermissionException.","body":"The program completed successfully, if it worked it should&#39;ve displayed a NoPermissionException."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677147949,"post_id":75539595,"comment_id":133281998,"body_markdown":"I&#39;m not sure why this isn&#39;t working for you, but I&#39;ll point out that `SecurityManager` is [deprecated for removal as of Java 17](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html), partly because it has never been able to provide guaranteed protection against malicious code. The rationale is detailed in [JEP 411](https://openjdk.org/jeps/411). Even though it should work in Java 8, this is a dead end road and I would recommend looking for another approach. Something like Linux containers (i.e., Docker or similar) might provide a better solution.","body":"I&#39;m not sure why this isn&#39;t working for you, but I&#39;ll point out that <code>SecurityManager</code> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">deprecated for removal as of Java 17</a>, partly because it has never been able to provide guaranteed protection against malicious code. The rationale is detailed in <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">JEP 411</a>. Even though it should work in Java 8, this is a dead end road and I would recommend looking for another approach. Something like Linux containers (i.e., Docker or similar) might provide a better solution."}],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677187484,"creation_date":1677187484,"answer_id":75550459,"question_id":75539595,"body_markdown":"You don&#39;t pass any VM parameters to enable a security manager.\r\n\r\nYour current command line is:\r\n\r\n    java -jar HelloWorld.jar -Djava.security.manager -Djava.security.policy=...\r\n\r\nThis means, `-Djava.security.manager -Djava.security.policy=...` are passed as program arguments, not as VM arguments.\r\n\r\nVM arguments have to appear before the `-jar file` or `classname`.  \r\nArguments after that are treated as program arguments and passed as `args` to the main method.\r\n\r\nTo fix that, use\r\n\r\n    Launcher\\files\\azul-1.8.9_345\\bin\\java.exe -Djava.security.manager -Djava.security.policy=C:\\Users\\User\\Desktop\\policy.policy -jar HelloWorld.jar\r\n\r\n---\r\n\r\nThen the format of your policy file is not correct.  \r\nInside `&quot;`, ``\\`` needs to be escaped with `\\\\`.\r\n\r\nAlso, the codebase does not use relative file names, instead file URLs.\r\n\r\nSo, the policy file should look like this:\r\n\r\n    grant codebase &quot;file:/C:/Users/User/Desktop/HelloWorld.jar&quot; {\r\n        permission java.io.FilePermission &quot;C:\\\\Users\\\\User\\\\Desktop\\\\-&quot;, &quot;read&quot;;\r\n    };\r\n\r\nIf your policy file contains errors, it might simply not be used, making debugging difficult.","title":"How to use Java Policy files","body":"<p>You don't pass any VM parameters to enable a security manager.</p>\n<p>Your current command line is:</p>\n<pre><code>java -jar HelloWorld.jar -Djava.security.manager -Djava.security.policy=...\n</code></pre>\n<p>This means, <code>-Djava.security.manager -Djava.security.policy=...</code> are passed as program arguments, not as VM arguments.</p>\n<p>VM arguments have to appear before the <code>-jar file</code> or <code>classname</code>.<br />\nArguments after that are treated as program arguments and passed as <code>args</code> to the main method.</p>\n<p>To fix that, use</p>\n<pre><code>Launcher\\files\\azul-1.8.9_345\\bin\\java.exe -Djava.security.manager -Djava.security.policy=C:\\Users\\User\\Desktop\\policy.policy -jar HelloWorld.jar\n</code></pre>\n<hr />\n<p>Then the format of your policy file is not correct.<br />\nInside <code>&quot;</code>, <code>\\</code> needs to be escaped with <code>\\\\</code>.</p>\n<p>Also, the codebase does not use relative file names, instead file URLs.</p>\n<p>So, the policy file should look like this:</p>\n<pre><code>grant codebase &quot;file:/C:/Users/User/Desktop/HelloWorld.jar&quot; {\n    permission java.io.FilePermission &quot;C:\\\\Users\\\\User\\\\Desktop\\\\-&quot;, &quot;read&quot;;\n};\n</code></pre>\n<p>If your policy file contains errors, it might simply not be used, making debugging difficult.</p>\n"}],"owner":{"account_id":27855836,"reputation":23,"user_id":21269336,"display_name":"8Sence W"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75550459,"answer_count":1,"score":2,"last_activity_date":1677187484,"creation_date":1677113319,"question_id":75539595,"body_markdown":"I&#39;m the owner of a platform which allows anyone to upload their own products (jar files), I&#39;m looking to secure the platform using java policy files.\r\n\r\nI&#39;m using JRE azul-1.8.9_345,\r\n\r\nI&#39;m testing with this program,\r\n\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        String url = &quot;http://www.java2s.com/Code/JarDownload/test/test.jar.zip&quot;;\r\n\r\n        try {\r\n            download(url, &quot;C:\\\\Users\\\\User\\\\Desktop\\\\Test.jar&quot;);\r\n        } catch (IOException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void download(String urlStr, String file) throws IOException{\r\n        URL url = new URL(urlStr);\r\n        BufferedInputStream bis = new BufferedInputStream(url.openStream());\r\n        FileOutputStream fis = new FileOutputStream(file);\r\n        byte[] buffer = new byte[1024];\r\n        int count=0;\r\n        while((count = bis.read(buffer,0,1024)) != -1)\r\n        {\r\n            fis.write(buffer, 0, count);\r\n        }\r\n        fis.close();\r\n        bis.close();\r\n    }\r\n```\r\n\r\nI would like to use policy files to prevent this program from running, \r\n\r\nNone of my attempts so far have worked, I&#39;m starting to wonder this might be a unsupported feature, and it might not work anymore.\r\n\r\nThis is my policy\r\n\r\n```\r\ngrant CodeBase &quot;file:HelloWorld.jar&quot; {\r\n    permission java.io.FilePermission &quot;C:\\Users\\User\\Desktop\\&quot;, &quot;read&quot;;\r\n};\r\n```\r\n\r\nI&#39;ve tried using other permissions but they seem to do nothing as well, I appreciate the help.\r\n\r\nCould someone layout, why this doesn&#39;t work?, why I need to specify the file?, even though given when I run the jar, where to find a list of permissions and their arguments? (permission java.io.ExamplePermission (args), (args))\r\n\r\n```\r\nLauncher\\files\\azul-1.8.9_345\\bin\\java.exe -jar HelloWorld.jar -Djava.security.manager -Djava.security.policy=C:\\Users\\User\\Desktop\\policy.policy\r\n```\r\n  \r\n\r\nI&#39;ve attempted using other permissions, they didn&#39;t effect the program either.","title":"How to use Java Policy files","body":"<p>I'm the owner of a platform which allows anyone to upload their own products (jar files), I'm looking to secure the platform using java policy files.</p>\n<p>I'm using JRE azul-1.8.9_345,</p>\n<p>I'm testing with this program,</p>\n<pre><code>    public static void main(String[] args) {\n        String url = &quot;http://www.java2s.com/Code/JarDownload/test/test.jar.zip&quot;;\n\n        try {\n            download(url, &quot;C:\\\\Users\\\\User\\\\Desktop\\\\Test.jar&quot;);\n        } catch (IOException exception) {\n            exception.printStackTrace();\n        }\n    }\n\n    private static void download(String urlStr, String file) throws IOException{\n        URL url = new URL(urlStr);\n        BufferedInputStream bis = new BufferedInputStream(url.openStream());\n        FileOutputStream fis = new FileOutputStream(file);\n        byte[] buffer = new byte[1024];\n        int count=0;\n        while((count = bis.read(buffer,0,1024)) != -1)\n        {\n            fis.write(buffer, 0, count);\n        }\n        fis.close();\n        bis.close();\n    }\n</code></pre>\n<p>I would like to use policy files to prevent this program from running,</p>\n<p>None of my attempts so far have worked, I'm starting to wonder this might be a unsupported feature, and it might not work anymore.</p>\n<p>This is my policy</p>\n<pre><code>grant CodeBase &quot;file:HelloWorld.jar&quot; {\n    permission java.io.FilePermission &quot;C:\\Users\\User\\Desktop\\&quot;, &quot;read&quot;;\n};\n</code></pre>\n<p>I've tried using other permissions but they seem to do nothing as well, I appreciate the help.</p>\n<p>Could someone layout, why this doesn't work?, why I need to specify the file?, even though given when I run the jar, where to find a list of permissions and their arguments? (permission java.io.ExamplePermission (args), (args))</p>\n<pre><code>Launcher\\files\\azul-1.8.9_345\\bin\\java.exe -jar HelloWorld.jar -Djava.security.manager -Djava.security.policy=C:\\Users\\User\\Desktop\\policy.policy\n</code></pre>\n<p>I've attempted using other permissions, they didn't effect the program either.</p>\n"},{"tags":["java","android","ffmpeg"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1677188116,"post_id":75550398,"comment_id":133294169,"body_markdown":"Please edit your title to reflect the actual issue.","body":"Please edit your title to reflect the actual issue."}],"owner":{"account_id":27864151,"reputation":1,"user_id":21276011,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677187437,"creation_date":1677186929,"question_id":75550398,"body_markdown":"I&#39;m working with the ffmpeg library to convert mp4 video files to mp3 audio files.\r\nHere is my code:\r\n\r\n```\r\npackage com.exer;\r\n\r\n\r\nimport android.app.Activity;\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.widget.Toast;\r\nimport com.github.hiteshsondhi88.libffmpeg.ExecuteBinaryResponseHandler;\r\nimport com.github.hiteshsondhi88.libffmpeg.FFmpeg;\r\nimport com.github.hiteshsondhi88.libffmpeg.FFmpegLoadBinaryResponseHandler;\r\n\r\npublic class MainActivity extends Activity {\r\n\t\r\n\tFFmpeg ffmpeg;\r\n\tprivate ProgressDialog progressDialog;\r\n\t\r\n\t\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\t\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tsetUp();\r\n\t\t\tString[] command = {\r\n\t\t\t\t&quot;-i&quot;, getPaths()+&quot;/dir/input.mp4&quot;, &quot;-vn&quot;, getPaths()+&quot;/dir/output.mp3&quot;\r\n\t\t\t};\r\n\t\t\t//convert(&quot;ffmpeg -i input.mp4 -vn output.mp3&quot;);\r\n\t\t\tconvert(command);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tToast.makeText(getApplicationContext(), e.getCause().toString(), Toast.LENGTH_SHORT).show();\r\n\t\t}\r\n    }\r\n\t\r\n\t\r\n\tpublic void setUp() throws Exception {\r\n\t\t\r\n\t\tif(ffmpeg == null) {\r\n\t\t\t\r\n\t\t\tffmpeg = FFmpeg.getInstance(this);\r\n\t\t\tffmpeg.loadBinary(new FFmpegLoadBinaryResponseHandler(){\r\n\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure() {\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;failed to load library&quot;, Toast.LENGTH_SHORT).show();\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onSuccess() {\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;loaded!&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onStart() {\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFinish() {\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tprivate void convert(String[] cmd) throws Exception {\r\n\t\t\r\n\t\tffmpeg.execute(cmd, new ExecuteBinaryResponseHandler(){\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure(String message){\r\n\t\t\t\tsuper.onFailure(message);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFinish(){\r\n\t\t\t\tsuper.onFinish();\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;finished!&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onStart(){\r\n\t\t\t\tsuper.onStart();\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;start conversion...&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onProgress(String message){\r\n\t\t\t\tsuper.onProgress(message);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\r\n\t}\r\n\t\r\n\tprivate String getPaths() {\r\n\t\treturn Environment.getExternalStorageDirectory().getPath();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nWhen I run the app, the Toast messages are shown:\r\n\r\n`loaded!`\r\n`start converting...`\r\n`finished!` as I write them in the functions,  apart that nothing else happens the file is not converted what&#39;s wrong?\r\n\r\nHere my manifest file:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.exer&quot;\r\n    android:versionCode=&quot;1&quot;\r\n\tandroid:versionName=&quot;1.0&quot;&gt;\r\n    \r\n    &lt;uses-sdk android:minSdkVersion=&quot;24&quot; android:targetSdkVersion=&quot;31&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.WTITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried to delete the specified file on the phone to see what erros I might got, but still those three Toasts.","title":"How to fix the problem I&#39;m having with FFmpeg?","body":"<p>I'm working with the ffmpeg library to convert mp4 video files to mp3 audio files.\nHere is my code:</p>\n<pre><code>package com.exer;\n\n\nimport android.app.Activity;\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.widget.Toast;\nimport com.github.hiteshsondhi88.libffmpeg.ExecuteBinaryResponseHandler;\nimport com.github.hiteshsondhi88.libffmpeg.FFmpeg;\nimport com.github.hiteshsondhi88.libffmpeg.FFmpegLoadBinaryResponseHandler;\n\npublic class MainActivity extends Activity {\n    \n    FFmpeg ffmpeg;\n    private ProgressDialog progressDialog;\n    \n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    \n        \n        \n        try {\n            setUp();\n            String[] command = {\n                &quot;-i&quot;, getPaths()+&quot;/dir/input.mp4&quot;, &quot;-vn&quot;, getPaths()+&quot;/dir/output.mp3&quot;\n            };\n            //convert(&quot;ffmpeg -i input.mp4 -vn output.mp3&quot;);\n            convert(command);\n            \n        } catch (Exception e) {\n            Toast.makeText(getApplicationContext(), e.getCause().toString(), Toast.LENGTH_SHORT).show();\n        }\n    }\n    \n    \n    public void setUp() throws Exception {\n        \n        if(ffmpeg == null) {\n            \n            ffmpeg = FFmpeg.getInstance(this);\n            ffmpeg.loadBinary(new FFmpegLoadBinaryResponseHandler(){\n                    \n            @Override\n            public void onFailure() {\n                Toast.makeText(getApplicationContext(), &quot;failed to load library&quot;, Toast.LENGTH_SHORT).show();   \n            }\n                    \n            @Override\n            public void onSuccess() {\n                Toast.makeText(getApplicationContext(), &quot;loaded!&quot;, Toast.LENGTH_SHORT).show();\n            }\n                    \n            @Override\n            public void onStart() {\n                        \n            }\n                    \n            @Override\n            public void onFinish() {\n                        \n            }\n                    \n                    \n            });\n            \n        }\n        \n    }\n    \n    \n    private void convert(String[] cmd) throws Exception {\n        \n        ffmpeg.execute(cmd, new ExecuteBinaryResponseHandler(){\n            \n            @Override\n            public void onFailure(String message){\n                super.onFailure(message);\n            }\n            \n            @Override\n            public void onFinish(){\n                super.onFinish();\n                Toast.makeText(getApplicationContext(), &quot;finished!&quot;, Toast.LENGTH_SHORT).show();\n            }\n            \n            @Override\n            public void onStart(){\n                super.onStart();\n                Toast.makeText(getApplicationContext(), &quot;start conversion...&quot;, Toast.LENGTH_SHORT).show();\n            }\n            \n            @Override\n            public void onProgress(String message){\n                super.onProgress(message);\n            }\n        });\n        \n    \n    }\n    \n    private String getPaths() {\n        return Environment.getExternalStorageDirectory().getPath();\n    }\n    \n}\n</code></pre>\n<p>When I run the app, the Toast messages are shown:</p>\n<p><code>loaded!</code>\n<code>start converting...</code>\n<code>finished!</code> as I write them in the functions,  apart that nothing else happens the file is not converted what's wrong?</p>\n<p>Here my manifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.exer&quot;\n    android:versionCode=&quot;1&quot;\n    android:versionName=&quot;1.0&quot;&gt;\n    \n    &lt;uses-sdk android:minSdkVersion=&quot;24&quot; android:targetSdkVersion=&quot;31&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WTITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I've tried to delete the specified file on the phone to see what erros I might got, but still those three Toasts.</p>\n"},{"tags":["java","timer","variable-initialization"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677188848,"post_id":75550153,"comment_id":133294327,"body_markdown":"You really should only have a single `Timer`.  This then drives all other updates (including user inputs).  The &quot;cause&quot; of your error is the fact that, within the context of the `ActionListener` `beeTimer` is undefined (more or less).  In this type of case, you should be using `ActionEvent#getSource`, which returns an `Object` instance representing the source of the action.  You could then cast it to `Timer` and interact with the `Timer` from there, but read the first part of the comment","body":"You really should only have a single <code>Timer</code>.  This then drives all other updates (including user inputs).  The &quot;cause&quot; of your error is the fact that, within the context of the <code>ActionListener</code> <code>beeTimer</code> is undefined (more or less).  In this type of case, you should be using <code>ActionEvent#getSource</code>, which returns an <code>Object</code> instance representing the source of the action.  You could then cast it to <code>Timer</code> and interact with the <code>Timer</code> from there, but read the first part of the comment"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677187199,"creation_date":1677187199,"answer_id":75550428,"question_id":75550153,"body_markdown":"For your game do not use swing labels or buttons at all.\r\nInstead, create one component (derived from e.g. JPanel) and override the paintComponent() method.\r\n\r\nUse Swing Timers to trigger &#39;automatic&#39; actions, use Mouse and Keyboard Events to trigger user triggered actions. Calculate the state, then use repaint() to tell Swing it needs to render the component. Swing will do it as soon as it &#39;feels like&#39;.\r\n\r\nFor more hints/libraries just use the correct StackOverflow search:\r\nhttps://stackoverflow.com/search?q=java+game+programming","title":"Is there a way in Java to make labels move without user influence?","body":"<p>For your game do not use swing labels or buttons at all.\nInstead, create one component (derived from e.g. JPanel) and override the paintComponent() method.</p>\n<p>Use Swing Timers to trigger 'automatic' actions, use Mouse and Keyboard Events to trigger user triggered actions. Calculate the state, then use repaint() to tell Swing it needs to render the component. Swing will do it as soon as it 'feels like'.</p>\n<p>For more hints/libraries just use the correct StackOverflow search:\n<a href=\"https://stackoverflow.com/search?q=java+game+programming\">https://stackoverflow.com/search?q=java+game+programming</a></p>\n"}],"owner":{"account_id":26967963,"reputation":3,"user_id":20534453,"display_name":"jajuub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75550428,"answer_count":1,"score":0,"last_activity_date":1677187199,"creation_date":1677185158,"question_id":75550153,"body_markdown":"I am trying to develop an application where the user moves a can back and forth on the bottom of the screen to try to catch bees as they fall. I have successfullly gotten the can movement working, but I am stuck on the bees&#39; movement. In my current phase, I have a single bee imported that I want to fall from the top of the screen to the bottom, but it just stays at the top of the screen when it runs. I get an error here:\r\n\r\n`beeTimer.stop();`\r\n\r\nThe error message: The local variable beeTimer may not have been initialized\r\n\r\nHere is where it was initialized:\r\n\r\n\r\n```\r\ntry {\r\n            Timer beeTimer = new Timer(500, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.out.println(&quot;bee movin!&quot;);\r\n                    beeY[0] += beeSpeed;\r\n                    beeLabel.setLocation(beeX, beeY[0]);\r\n\r\n                    if (beeY[0] + 106 &gt; (frame.getContentPane().getHeight() - 200)) {\r\n                        beeTimer.stop();\r\n                    }\r\n                }           \r\n            });\r\n            beeTimer.start();\r\n        } finally{}\r\n\r\n```\r\n\r\n\r\nand here is my entire code up to now:\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.swing.*;\r\nimport java.awt.Dimension;\r\nimport java.awt.Point;\r\nimport java.awt.Toolkit;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseEvent;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.Timer;\r\n\r\n//let the can be draggable by the mouse\r\nclass DraggableLabel extends JLabel implements MouseListener, MouseMotionListener {\r\n    private Point mouseOffset;\r\n\r\n    public DraggableLabel(ImageIcon icon) {\r\n        super(icon);\r\n        addMouseListener(this);\r\n        addMouseMotionListener(this);\r\n    }\r\n\r\n    public void mousePressed(MouseEvent e) {\r\n        mouseOffset = e.getPoint();\r\n    }\r\n\r\n    public void mouseDragged(MouseEvent e) {\r\n        Point newMousePos = e.getLocationOnScreen();\r\n        newMousePos.translate(-mouseOffset.x, -(newMousePos.y - getLocation().y));\r\n        setLocation(newMousePos);\r\n    }\r\n\r\n    // The following methods are not needed for dragging, but must be implemented because we implement the MouseListener and MouseMotionListener interfaces.\r\n    public void mouseClicked(MouseEvent e) {}\r\n    public void mouseEntered(MouseEvent e) {}\r\n    public void mouseExited(MouseEvent e) {}\r\n    public void mouseReleased(MouseEvent e) {}\r\n    public void mouseMoved(MouseEvent e) {}\r\n}\r\n\r\nclass App{\r\n    public static void main(String[] args){\r\n        //declare the frame, or window of the game\r\n        JFrame frame = new JFrame(&quot;Game&quot;);\r\n\r\n        //declare the image variables\r\n        ImageIcon can = null;\r\n        ImageIcon bee = null;\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n        //load the can image file\r\n        try {\r\n            File canFile = new File(&quot;assets/can.png&quot;);\r\n            BufferedImage originalCan = ImageIO.read(canFile);\r\n            if (originalCan == null) {\r\n                throw new IOException(&quot;Unable to read image file: &quot; + canFile.getName());\r\n            }\r\n\r\n            int canWidth = 75;\r\n            int canHeight = 136; \r\n            Image icon = originalCan.getScaledInstance(canWidth, canHeight, Image.SCALE_SMOOTH);\r\n\r\n            can = new ImageIcon(icon);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //load the bee image file\r\n        try {\r\n            File beeFile = new File(&quot;assets/bee.png&quot;);\r\n            BufferedImage originalBee = ImageIO.read(beeFile);\r\n            if (originalBee == null) {\r\n                throw new IOException(&quot;Unable to read image file: &quot; + beeFile.getName());\r\n            }\r\n\r\n            int beeWidth = 40;\r\n            int beeHeight = 61; \r\n            Image icon = originalBee.getScaledInstance(beeWidth, beeHeight, Image.SCALE_SMOOTH);\r\n\r\n            bee = new ImageIcon(icon);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //import the bee image\r\n        Image beeImage = bee.getImage();\r\n        ImageIcon beeFall = new ImageIcon(beeImage);\r\n        JLabel beeLabel = new JLabel(beeFall);\r\n        \r\n        //set bee spawn location\r\n        int beeX = (screenSize.width - bee.getIconWidth()) / 2;\r\n        final int[] beeY = {0};\r\n        beeLabel.setBounds(beeX, beeY[0], 60, 106);\r\n        frame.getContentPane().add(beeLabel);\r\n\r\n        //bee falling behavior\r\n        int beeSpeed = 5;\r\n        try {\r\n            Timer beeTimer = new Timer(500, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.out.println(&quot;bee movin!&quot;);\r\n                    beeY[0] += beeSpeed;\r\n                    beeLabel.setLocation(beeX, beeY[0]);\r\n\r\n                    if (beeY[0] + 106 &gt; (frame.getContentPane().getHeight() - 200)) {\r\n                        beeTimer.stop();\r\n                    }\r\n                }           \r\n            });\r\n            beeTimer.start();\r\n        } finally{}\r\n\r\n        //import the can image as draggable\r\n        DraggableLabel label = new DraggableLabel(can);\r\n        frame.getContentPane().setLayout(null);\r\n        label.setSize(can.getIconWidth(), can.getIconHeight());\r\n        frame.getContentPane().add(label);\r\n\r\n        // Position can in the center horizontally and just above the bottom vertically\r\n        int x = (screenSize.width - can.getIconWidth()) / 2;\r\n        int y = screenSize.height - can.getIconHeight() - 175; // 50 pixels above the bottom\r\n        label.setLocation(x, y);\r\n\r\n        //make frame visible\r\n        frame.setExtendedState(Frame.MAXIMIZED_BOTH);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        }\r\n}\r\n```\r\n\r\nAny suggestions would be greatly appreciated!\r\n","title":"Is there a way in Java to make labels move without user influence?","body":"<p>I am trying to develop an application where the user moves a can back and forth on the bottom of the screen to try to catch bees as they fall. I have successfullly gotten the can movement working, but I am stuck on the bees' movement. In my current phase, I have a single bee imported that I want to fall from the top of the screen to the bottom, but it just stays at the top of the screen when it runs. I get an error here:</p>\n<p><code>beeTimer.stop();</code></p>\n<p>The error message: The local variable beeTimer may not have been initialized</p>\n<p>Here is where it was initialized:</p>\n<pre><code>try {\n            Timer beeTimer = new Timer(500, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;bee movin!&quot;);\n                    beeY[0] += beeSpeed;\n                    beeLabel.setLocation(beeX, beeY[0]);\n\n                    if (beeY[0] + 106 &gt; (frame.getContentPane().getHeight() - 200)) {\n                        beeTimer.stop();\n                    }\n                }           \n            });\n            beeTimer.start();\n        } finally{}\n\n</code></pre>\n<p>and here is my entire code up to now:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.swing.*;\nimport java.awt.Dimension;\nimport java.awt.Point;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.Timer;\n\n//let the can be draggable by the mouse\nclass DraggableLabel extends JLabel implements MouseListener, MouseMotionListener {\n    private Point mouseOffset;\n\n    public DraggableLabel(ImageIcon icon) {\n        super(icon);\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n\n    public void mousePressed(MouseEvent e) {\n        mouseOffset = e.getPoint();\n    }\n\n    public void mouseDragged(MouseEvent e) {\n        Point newMousePos = e.getLocationOnScreen();\n        newMousePos.translate(-mouseOffset.x, -(newMousePos.y - getLocation().y));\n        setLocation(newMousePos);\n    }\n\n    // The following methods are not needed for dragging, but must be implemented because we implement the MouseListener and MouseMotionListener interfaces.\n    public void mouseClicked(MouseEvent e) {}\n    public void mouseEntered(MouseEvent e) {}\n    public void mouseExited(MouseEvent e) {}\n    public void mouseReleased(MouseEvent e) {}\n    public void mouseMoved(MouseEvent e) {}\n}\n\nclass App{\n    public static void main(String[] args){\n        //declare the frame, or window of the game\n        JFrame frame = new JFrame(&quot;Game&quot;);\n\n        //declare the image variables\n        ImageIcon can = null;\n        ImageIcon bee = null;\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n\n        //load the can image file\n        try {\n            File canFile = new File(&quot;assets/can.png&quot;);\n            BufferedImage originalCan = ImageIO.read(canFile);\n            if (originalCan == null) {\n                throw new IOException(&quot;Unable to read image file: &quot; + canFile.getName());\n            }\n\n            int canWidth = 75;\n            int canHeight = 136; \n            Image icon = originalCan.getScaledInstance(canWidth, canHeight, Image.SCALE_SMOOTH);\n\n            can = new ImageIcon(icon);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        //load the bee image file\n        try {\n            File beeFile = new File(&quot;assets/bee.png&quot;);\n            BufferedImage originalBee = ImageIO.read(beeFile);\n            if (originalBee == null) {\n                throw new IOException(&quot;Unable to read image file: &quot; + beeFile.getName());\n            }\n\n            int beeWidth = 40;\n            int beeHeight = 61; \n            Image icon = originalBee.getScaledInstance(beeWidth, beeHeight, Image.SCALE_SMOOTH);\n\n            bee = new ImageIcon(icon);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        //import the bee image\n        Image beeImage = bee.getImage();\n        ImageIcon beeFall = new ImageIcon(beeImage);\n        JLabel beeLabel = new JLabel(beeFall);\n        \n        //set bee spawn location\n        int beeX = (screenSize.width - bee.getIconWidth()) / 2;\n        final int[] beeY = {0};\n        beeLabel.setBounds(beeX, beeY[0], 60, 106);\n        frame.getContentPane().add(beeLabel);\n\n        //bee falling behavior\n        int beeSpeed = 5;\n        try {\n            Timer beeTimer = new Timer(500, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;bee movin!&quot;);\n                    beeY[0] += beeSpeed;\n                    beeLabel.setLocation(beeX, beeY[0]);\n\n                    if (beeY[0] + 106 &gt; (frame.getContentPane().getHeight() - 200)) {\n                        beeTimer.stop();\n                    }\n                }           \n            });\n            beeTimer.start();\n        } finally{}\n\n        //import the can image as draggable\n        DraggableLabel label = new DraggableLabel(can);\n        frame.getContentPane().setLayout(null);\n        label.setSize(can.getIconWidth(), can.getIconHeight());\n        frame.getContentPane().add(label);\n\n        // Position can in the center horizontally and just above the bottom vertically\n        int x = (screenSize.width - can.getIconWidth()) / 2;\n        int y = screenSize.height - can.getIconHeight() - 175; // 50 pixels above the bottom\n        label.setLocation(x, y);\n\n        //make frame visible\n        frame.setExtendedState(Frame.MAXIMIZED_BOTH);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        }\n}\n</code></pre>\n<p>Any suggestions would be greatly appreciated!</p>\n"},{"tags":["java","maven","junit","pom.xml"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1677080309,"post_id":75534700,"comment_id":133267504,"body_markdown":"Have you tried configuring the surefire plugin? See suggestions in https://stackoverflow.com/questions/55303837/problem-running-tests-with-enabled-preview-features-in-surefire-and-failsafe and https://stackoverflow.com/questions/61044079/maven-surefire-plugin-not-using-enable-preview-mode","body":"Have you tried configuring the surefire plugin? See suggestions in <a href=\"https://stackoverflow.com/questions/55303837/problem-running-tests-with-enabled-preview-features-in-surefire-and-failsafe\" title=\"problem running tests with enabled preview features in surefire and failsafe\">stackoverflow.com/questions/55303837/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/61044079/maven-surefire-plugin-not-using-enable-preview-mode\" title=\"maven surefire plugin not using enable preview mode\">stackoverflow.com/questions/61044079/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2363981,"reputation":333,"user_id":2070081,"display_name":"Christoph Henrici"},"score":1,"creation_date":1677141943,"post_id":75536031,"comment_id":133280266,"body_markdown":"can you point the official documentation, that would be really helpful. Thanks","body":"can you point the official documentation, that would be really helpful. Thanks"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677186959,"post_id":75536031,"comment_id":133293915,"body_markdown":"@ChristophHenrici Added doc references...","body":"@ChristophHenrici Added doc references..."}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677186947,"creation_date":1677085810,"answer_id":75536031,"question_id":75534700,"body_markdown":"First you should upgrade the plugin version to the most recent version 3.10.1 as well as for maven-surefire-plugin (3.0.0-M9):\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n              &lt;compilerArg&gt;--enable-preview&lt;/compilerArg&gt;\r\n            &lt;/compilerArgs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n* Documentation for [maven-surefire-plugin][1] and also explicit the docs for [args.][2]\r\n* Documentation for the [maven-compiler-plugin][3] and also explict the reference for [compilerArgs.][4]\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/\r\n  [2]: https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\r\n  [3]: https://maven.apache.org/plugins/maven-compiler-plugin/\r\n  [4]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs","title":"Enable-preview with maven and junit","body":"<p>First you should upgrade the plugin version to the most recent version 3.10.1 as well as for maven-surefire-plugin (3.0.0-M9):</p>\n\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;compilerArgs&gt;\n          &lt;compilerArg&gt;--enable-preview&lt;/compilerArg&gt;\n        &lt;/compilerArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>Documentation for <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/\" rel=\"nofollow noreferrer\">maven-surefire-plugin</a> and also explicit the docs for <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"nofollow noreferrer\">args.</a></li>\n<li>Documentation for the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/\" rel=\"nofollow noreferrer\">maven-compiler-plugin</a> and also explict the reference for <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs\" rel=\"nofollow noreferrer\">compilerArgs.</a></li>\n</ul>\n"}],"owner":{"account_id":19529,"reputation":31895,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677186947,"creation_date":1677078835,"question_id":75534700,"body_markdown":"I&#39;m writing some Java code using pattern-matching switch, which requires `--enable-preview` to be set in several contexts (compiler, runtime, IDE). At this point, I&#39;ve got all except one of them: unit tests.\r\n\r\nI have these in `pom.xml`:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;18&lt;/source&gt;\r\n          &lt;target&gt;18&lt;/target&gt;\r\n          &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.13.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand Maven successfully enables preview for the compiler, but not the unit tests. How do I enable it for junit?","title":"Enable-preview with maven and junit","body":"<p>I'm writing some Java code using pattern-matching switch, which requires <code>--enable-preview</code> to be set in several contexts (compiler, runtime, IDE). At this point, I've got all except one of them: unit tests.</p>\n<p>I have these in <code>pom.xml</code>:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;18&lt;/source&gt;\n      &lt;target&gt;18&lt;/target&gt;\n      &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.13.2&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and Maven successfully enables preview for the compiler, but not the unit tests. How do I enable it for junit?</p>\n"},{"tags":["java","model-view-controller","spring","wicket"],"answers":[{"comments":[{"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"score":4,"creation_date":1234490012,"post_id":544122,"comment_id":356394,"body_markdown":"&quot;Spring is built on dependency injection and AOP. Wicket has neither.&quot;\n\nIt is worth mentioning that there&#39;s nothing preventing you from using *any* spring modules outside of spring mvc in conjunction with wicket... or any DI, AOP framework, for that matter.","body":"&quot;Spring is built on dependency injection and AOP. Wicket has neither.&quot;  It is worth mentioning that there&#39;s nothing preventing you from using <i>any</i> spring modules outside of spring mvc in conjunction with wicket... or any DI, AOP framework, for that matter."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1234490223,"post_id":544122,"comment_id":356404,"body_markdown":"Great point, whaley.  I agree.  That would include Guice or PicoContainer, AspectJ, etc.","body":"Great point, whaley.  I agree.  That would include Guice or PicoContainer, AspectJ, etc."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1234482973,"creation_date":1234482973,"answer_id":544122,"question_id":544049,"body_markdown":"Spring is more all-encompassing than Wicket.\r\n\r\nWicket is a Java web UI framework.  Spring has one as well, along with modules for persistence, remoting, security, messaging, etc.\r\n\r\nSpring is built on dependency injection and AOP.  Wicket has neither.\r\n\r\nI have not used it, but it&#39;s supposed to be simple.  I can&#39;t say whether Spring is easier or harder.\r\n\r\nYou can use Spring to good advantage in a lot of situations besides web applications.\r\n\r\n","title":"What are the advantages of Apache Wicket?","body":"<p>Spring is more all-encompassing than Wicket.</p>\n\n<p>Wicket is a Java web UI framework.  Spring has one as well, along with modules for persistence, remoting, security, messaging, etc.</p>\n\n<p>Spring is built on dependency injection and AOP.  Wicket has neither.</p>\n\n<p>I have not used it, but it's supposed to be simple.  I can't say whether Spring is easier or harder.</p>\n\n<p>You can use Spring to good advantage in a lot of situations besides web applications.</p>\n"},{"comments":[{"owner":{"account_id":15531,"reputation":10186,"user_id":32892,"accept_rate":85,"display_name":"dtc"},"score":4,"creation_date":1234554454,"post_id":544431,"comment_id":359125,"body_markdown":"I noticed point 1 on the wicket site.  It looks pretty clean and simple.  I was thinking &quot;This is how asp.net should have been&quot; (I&#39;m a .net developer).","body":"I noticed point 1 on the wicket site.  It looks pretty clean and simple.  I was thinking &quot;This is how asp.net should have been&quot; (I&#39;m a .net developer)."},{"owner":{"account_id":22149,"reputation":2417,"user_id":54376,"accept_rate":90,"display_name":"Mike"},"score":0,"creation_date":1266752492,"post_id":544431,"comment_id":2271989,"body_markdown":"Point 1 - If you are developing even a moderately sized application, your html will end up with &lt;wicket:border,enclosure,container,panel&gt; tags. So your HTML developers will still need to be aware of Wicket tags - See http://cwiki.apache.org/WICKET/wickets-xhtml-tags.html for a list. So not as clean a separation as purported.","body":"Point 1 - If you are developing even a moderately sized application, your html will end up with &lt;wicket:border,enclosure,container,panel&gt; tags. So your HTML developers will still need to be aware of Wicket tags - See <a href=\"http://cwiki.apache.org/WICKET/wickets-xhtml-tags.html\" rel=\"nofollow noreferrer\">cwiki.apache.org/WICKET/wickets-xhtml-tags.html</a> for a list. So not as clean a separation as purported."},{"owner":{"account_id":34561,"reputation":8464,"user_id":97745,"accept_rate":86,"display_name":"crowne"},"score":1,"creation_date":1286914440,"post_id":544431,"comment_id":4178692,"body_markdown":"Tapestry [http://tapestry.apache.org/] has also had pure html templates for quite a while.","body":"Tapestry [<a href=\"http://tapestry.apache.org/]\" rel=\"nofollow noreferrer\">tapestry.apache.org/]</a> has also had pure html templates for quite a while."},{"owner":{"account_id":19817593,"reputation":130,"user_id":15284154,"display_name":"Tony"},"score":0,"creation_date":1691045755,"post_id":544431,"comment_id":135438270,"body_markdown":"Is it possible to scale a Wicket application horizontally? \nI see that it maintains component states and sessions in-memory; both of which are hindering scalability. Is there a way to move the state out to a DB or Redis like services? After going through the docs, I was not able to find any. If anyone could share a reference for the same, it would be a great help.","body":"Is it possible to scale a Wicket application horizontally?  I see that it maintains component states and sessions in-memory; both of which are hindering scalability. Is there a way to move the state out to a DB or Redis like services? After going through the docs, I was not able to find any. If anyone could share a reference for the same, it would be a great help."}],"tags":[],"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1234489840,"creation_date":1234489840,"answer_id":544431,"question_id":544049,"body_markdown":"Advantages that often get touted in circles I frequent are:\r\n\r\n 1.  Your html can be fully xhtml compliant - there is a VERY nice separation of presentation and logic in that the only thing your presentation/html layer needs to know about wicket are wicketid attributes in standard html tags.  This is wonderful for the html/css/javascript client side guy on your team who does little to no actual java work. No other java based web framework can claim this, afaik.\r\n 2. No xml config for anything wicket specific - everything can be done in source and very little needs to be done to the standard web.xml for your .war\r\n 3. component based development is pretty easy to grok - especially if you have a non web background (e.g. a swing programmer).  it encourages reuse quite a bit more than mvc does, imo.  ","title":"What are the advantages of Apache Wicket?","body":"<p>Advantages that often get touted in circles I frequent are:</p>\n\n<ol>\n<li>Your html can be fully xhtml compliant - there is a VERY nice separation of presentation and logic in that the only thing your presentation/html layer needs to know about wicket are wicketid attributes in standard html tags.  This is wonderful for the html/css/javascript client side guy on your team who does little to no actual java work. No other java based web framework can claim this, afaik.</li>\n<li>No xml config for anything wicket specific - everything can be done in source and very little needs to be done to the standard web.xml for your .war</li>\n<li>component based development is pretty easy to grok - especially if you have a non web background (e.g. a swing programmer).  it encourages reuse quite a bit more than mvc does, imo.  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1238864072,"creation_date":1238864072,"answer_id":717394,"question_id":544049,"body_markdown":"Spring&#39;s more than Spring MVC. You can (and probably should) use Spring *with* Wicket.","title":"What are the advantages of Apache Wicket?","body":"<p>Spring's more than Spring MVC. You can (and probably should) use Spring <em>with</em> Wicket.</p>\n"},{"tags":[],"owner":{"account_id":199833,"reputation":1718,"user_id":445367,"display_name":"Eelco"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1250186137,"creation_date":1250186137,"answer_id":1273593,"question_id":544049,"body_markdown":"You can read about the advantages of using Wicket in the free first chapter of Wicket In Action: http://www.manning.com/dashorst/\r\n\r\nIn short, Wicket is a great framework when the application you&#39;re developing is relatively complex, you want it to be maintainable, being able to scale the team and take advantage of reuse. Object oriented programming proved to be a very useful paradigm for programming UIs, but unfortunately, most Java frameworks for developing web applications, including Spring MVC, only support a very procedural programming model where they tag the term MVC on to make it sound cool (but in fact, since the granularity they support are request/ response roundtrips rather than self contained widgets, MVC is really misleading).\r\n\r\nThe DI part of Spring is great, and is something you can easily use together with Wicket.","title":"What are the advantages of Apache Wicket?","body":"<p>You can read about the advantages of using Wicket in the free first chapter of Wicket In Action: <a href=\"http://www.manning.com/dashorst/\" rel=\"noreferrer\">http://www.manning.com/dashorst/</a></p>\n\n<p>In short, Wicket is a great framework when the application you're developing is relatively complex, you want it to be maintainable, being able to scale the team and take advantage of reuse. Object oriented programming proved to be a very useful paradigm for programming UIs, but unfortunately, most Java frameworks for developing web applications, including Spring MVC, only support a very procedural programming model where they tag the term MVC on to make it sound cool (but in fact, since the granularity they support are request/ response roundtrips rather than self contained widgets, MVC is really misleading).</p>\n\n<p>The DI part of Spring is great, and is something you can easily use together with Wicket.</p>\n"},{"tags":[],"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1677186809,"creation_date":1277418751,"answer_id":3114396,"question_id":544049,"body_markdown":"Wicket rocks!\r\n\r\nSpring (which has a UI module called Spring MVC) just seems to be a mega, &#39;do everything, including the kitchen sink&#39;, type of framework which made it appear huge and unwieldy to me when I started to evaluate Spring (and Spring MVC). Today Spring doesn&#39;t seem to me to be focussed on any one thing. Originally I think it was simply a dependency injection framework but it quickly grew to try to be all things to all people and the simplicity was lost.\r\n\r\nThe books I read on Spring had examples that contained way too much XML config. Errors in XML config files are a lot harder to debug and fix than errors in java code which you can single step through with your debugger.\r\n\r\nWhat&#39;s wrong with declaring stuff in Java code instead of XML anyway? Since when did someone decree that everything should be declared in XML anyway? If you like swimming in a sea of complex XML config files then go with Spring. If you like getting work done and being productive then go with Wicket.\r\n\r\nWicket is very focussed on being the best Java based UI framework for web app development. It doesn&#39;t try to lock you into any particular dependency injection framework or any particular persistence framework (use it with JDO/JPA, DataNucleus, Hibernate, whatever). \r\n\r\nIt&#39;s focus is clearly on UI but you can use any dependency injection framework you like (you don&#39;t have to use Spring&#39;s DI with it but you can if you want). We even use our own DI (http://www.expojo.com) with Wicket and all is funky.\r\n\r\n**Update**\r\n\r\nI was recently working on a Spring project and had to come up to speed with it and everything I had suspected about Spring in my initial evaluation was true but there were many more surprises that made it much, much worse than I had imagined.\r\n\r\nWith annotations littered through the code the start up time of Spring based app compared to the same app before being &quot;Spring enabled&quot; was well more than tripled.\r\n\r\nDebugging by single stepping through &quot;your&quot; code is a nightmare whenever you traverse a line of code that has been &quot;AOPed&quot; by Spring&#39;s AOP which seems to reach its tentacles into virtually every class. What looks like it should be a single step into a line of your code leads to a hyperjump into a 37 level deep labyrinth of AOPed, Spring framework code.\r\n\r\nThis happens for almost everything - not the least any ORM (eg. Hibernate/JPA, DataNucleus/JPA) related methods. If you&#39;re wondering why apps run slower with Spring/Hibernate compared to non AOPed calls to an ORM like DataNucleus then those 37 deep &quot;implicit&quot; AOPed calls should give you some hint...\r\n\r\nOh and the potential for &quot;gotchas&quot; is next level. Try using &#39;synchronized&#39; on an Spring transactional annotation and see how &#39;synchronized&#39; it actually is! Scary!\r\n\r\nI understand Spring&#39;s popularity (although appears to be waning lately): because a lot of people don&#39;t think - they just blindly use tech because they assume it&#39;s great because other people are using it. That was never a good assumption - remember EJBs??? (Worse tech ever but every job ad back in the day required EJB &quot;skills&quot;)","title":"What are the advantages of Apache Wicket?","body":"<p>Wicket rocks!</p>\n<p>Spring (which has a UI module called Spring MVC) just seems to be a mega, 'do everything, including the kitchen sink', type of framework which made it appear huge and unwieldy to me when I started to evaluate Spring (and Spring MVC). Today Spring doesn't seem to me to be focussed on any one thing. Originally I think it was simply a dependency injection framework but it quickly grew to try to be all things to all people and the simplicity was lost.</p>\n<p>The books I read on Spring had examples that contained way too much XML config. Errors in XML config files are a lot harder to debug and fix than errors in java code which you can single step through with your debugger.</p>\n<p>What's wrong with declaring stuff in Java code instead of XML anyway? Since when did someone decree that everything should be declared in XML anyway? If you like swimming in a sea of complex XML config files then go with Spring. If you like getting work done and being productive then go with Wicket.</p>\n<p>Wicket is very focussed on being the best Java based UI framework for web app development. It doesn't try to lock you into any particular dependency injection framework or any particular persistence framework (use it with JDO/JPA, DataNucleus, Hibernate, whatever).</p>\n<p>It's focus is clearly on UI but you can use any dependency injection framework you like (you don't have to use Spring's DI with it but you can if you want). We even use our own DI (<a href=\"http://www.expojo.com\" rel=\"nofollow noreferrer\">http://www.expojo.com</a>) with Wicket and all is funky.</p>\n<p><strong>Update</strong></p>\n<p>I was recently working on a Spring project and had to come up to speed with it and everything I had suspected about Spring in my initial evaluation was true but there were many more surprises that made it much, much worse than I had imagined.</p>\n<p>With annotations littered through the code the start up time of Spring based app compared to the same app before being &quot;Spring enabled&quot; was well more than tripled.</p>\n<p>Debugging by single stepping through &quot;your&quot; code is a nightmare whenever you traverse a line of code that has been &quot;AOPed&quot; by Spring's AOP which seems to reach its tentacles into virtually every class. What looks like it should be a single step into a line of your code leads to a hyperjump into a 37 level deep labyrinth of AOPed, Spring framework code.</p>\n<p>This happens for almost everything - not the least any ORM (eg. Hibernate/JPA, DataNucleus/JPA) related methods. If you're wondering why apps run slower with Spring/Hibernate compared to non AOPed calls to an ORM like DataNucleus then those 37 deep &quot;implicit&quot; AOPed calls should give you some hint...</p>\n<p>Oh and the potential for &quot;gotchas&quot; is next level. Try using 'synchronized' on an Spring transactional annotation and see how 'synchronized' it actually is! Scary!</p>\n<p>I understand Spring's popularity (although appears to be waning lately): because a lot of people don't think - they just blindly use tech because they assume it's great because other people are using it. That was never a good assumption - remember EJBs??? (Worse tech ever but every job ad back in the day required EJB &quot;skills&quot;)</p>\n"},{"tags":[],"owner":{"account_id":172968,"reputation":519,"user_id":401352,"display_name":"Sheng Chien"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1287685009,"creation_date":1286913537,"answer_id":3918508,"question_id":544049,"body_markdown":"Some advantages of Wicket I like:\r\n\r\n1. Simplicity - Learning curve is small especially if you are from Swing school.\r\n2. Clean Separation of Concerns - Web designer does not need to know much about the codes.\r\n3. Ease of Deployment.\r\n\r\n [Here is my blog to show hello world codes in Wicket][1]\r\n\r\n\r\n  [1]: http://shengchien.blogspot.com/2009/10/wicket-in-iphone-development.html","title":"What are the advantages of Apache Wicket?","body":"<p>Some advantages of Wicket I like:</p>\n\n<ol>\n<li>Simplicity - Learning curve is small especially if you are from Swing school.</li>\n<li>Clean Separation of Concerns - Web designer does not need to know much about the codes.</li>\n<li><p>Ease of Deployment.</p>\n\n<p><a href=\"http://shengchien.blogspot.com/2009/10/wicket-in-iphone-development.html\" rel=\"nofollow\">Here is my blog to show hello world codes in Wicket</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28504,"reputation":3781,"user_id":76205,"accept_rate":72,"display_name":"Andrew Fielden"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1310640912,"creation_date":1310640912,"answer_id":6692082,"question_id":544049,"body_markdown":"I agree with the answers provided so far. What hasn&#39;t been mentioned are the following points, which are a consequence of Wicket&#39;s approach of web application development focussed on Java code:-\r\n\r\n - Wicket development does not involve writing JSPs.\r\n - AJAX components can be developed without involving the writing of Javascript.\r\n\r\nI haven&#39;t come across any other framework which takes this Java-centric approach. All the others I&#39;ve used (Struts, Spring) involve JSP development.\r\n\r\nFor me a big advantage of Wicket is the focus on Java, and availablity of rich development environment tools like Eclipse. Also the very clean separation of business logic from presentation aspects of the application.","title":"What are the advantages of Apache Wicket?","body":"<p>I agree with the answers provided so far. What hasn't been mentioned are the following points, which are a consequence of Wicket's approach of web application development focussed on Java code:-</p>\n\n<ul>\n<li>Wicket development does not involve writing JSPs.</li>\n<li>AJAX components can be developed without involving the writing of Javascript.</li>\n</ul>\n\n<p>I haven't come across any other framework which takes this Java-centric approach. All the others I've used (Struts, Spring) involve JSP development.</p>\n\n<p>For me a big advantage of Wicket is the focus on Java, and availablity of rich development environment tools like Eclipse. Also the very clean separation of business logic from presentation aspects of the application.</p>\n"},{"tags":[],"owner":{"account_id":911800,"reputation":41,"user_id":945464,"display_name":"Frank Silbermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1316031606,"creation_date":1316031606,"answer_id":7422476,"question_id":544049,"body_markdown":"Spring gives you the MVC design pattern only at the page level -- a very coarse level of granularity indeed.  Wicket, in contrast, gives you the MVC design pattern at the individual component level (much as Swing offers for fat client programming).  With Spring MVC, all of a form&#39;s data is global to the entire front servlet, so there is not much opportunity for information hiding, loose coupling, or tight cohesion.  With Wicket, your display logic can be much more modular -- the data managed by componentA need not be visible to the code for componentB.\r\n\r\nThe smaller level of granularity makes it much easier to reuse display code across a number of different web pages or even across web applications.\r\n\r\nAlso, because component configuration is done in Java rather than XML, they can be configured on-the-fly at run-time, making for much greater power and flexibility (as contrasted with most other component-oriented frameworks such as ASP.NET Web Forms or Java Server Faces). ","title":"What are the advantages of Apache Wicket?","body":"<p>Spring gives you the MVC design pattern only at the page level -- a very coarse level of granularity indeed.  Wicket, in contrast, gives you the MVC design pattern at the individual component level (much as Swing offers for fat client programming).  With Spring MVC, all of a form's data is global to the entire front servlet, so there is not much opportunity for information hiding, loose coupling, or tight cohesion.  With Wicket, your display logic can be much more modular -- the data managed by componentA need not be visible to the code for componentB.</p>\n\n<p>The smaller level of granularity makes it much easier to reuse display code across a number of different web pages or even across web applications.</p>\n\n<p>Also, because component configuration is done in Java rather than XML, they can be configured on-the-fly at run-time, making for much greater power and flexibility (as contrasted with most other component-oriented frameworks such as ASP.NET Web Forms or Java Server Faces). </p>\n"},{"tags":[],"owner":{"account_id":2157072,"reputation":3397,"user_id":1912032,"accept_rate":86,"display_name":"code_fish"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1387446860,"creation_date":1356516581,"answer_id":14039026,"question_id":544049,"body_markdown":"Here are some features of apache wicket:\r\n\r\n \r\n\r\n**POJO Component Model**\r\n\r\nPages and Components in Wicket are real Java objects that support encapsulation, inheritance and events.\r\n\r\n**Ease of Development**\r\n\r\nBecause Wicket is Java and HTML, you can leverage what you know about Java or your favorite HTML editor to write Wicket applications.\r\n\r\n**Separation of Concerns**\r\n\r\nWicket does not mix markup with Java code and adds no special syntax to your markup files. The worlds of HTML and Java are parallel and associated only by Wicket ids, which are attributes in HTML and Component properties in Java. Since Wicket HTML is just HTML and Wicket Java is just Java, coders and designers can work independently to a large degree and without relying on any special tools.\r\n\r\n**Secure**\r\n\r\nWicket is secure by default. URLs do not expose sensitive information and all component paths are session-relative. Explicit steps must be taken to share information between sessions. Furthermore URL encryption allows highly secure web sites.\r\n\r\n**Transparent, Scalable Clustering Support**\r\n\r\nAll Wicket applications will work on a cluster automatically and without additional work. Once bottlenecks are understood, Wicket enables tuning of page state replication. The next version of Wicket will support client-side models for zero-state scalability.\r\n\r\n**Transparent Back Button Support**\r\n\r\nWicket supports configurable page version management. When users submit a form or follow a link from a page they accessed with the back button in their browser, Wicket is able to revert the page object to the state it was in when the page was originally rendered. This means you can write web applications that support the back button with very little work.\r\n\r\n**Multi-tab and multi-window support**\r\n\r\nWicket provides an easy way to write application that supports multi-window and multi-tab usage allowing developer to react properly when users open new browser window or tab\r\n\r\n**Reusable Components**\r\n\r\nReusable components in Wicket are particularly easy to create. Not only can you extend existing components with the Java extends keyword, but you can also create Panel components which associate a group of components as a reusable unit.\r\n\r\n**Simple, Flexible, Localizable Form Validation**\r\n\r\nIt is trivial to write and use validators in Wicket. It is also quite easy to customize and localize the display and content of validation error messages.\r\n\r\n**Typesafe Sessions**\r\n\r\nWicket eliminates the need to manage HttpSession attributes by hand. Page and component objects are transparently stored in the session and your application can create a custom session subclass with typesafe properties as well. All objects stored in the session can automatically participate in clustering replication.\r\n\r\n**Factory Customizable**\r\n\r\nWicket is very extensible. Most operations are customizable through factories or factory methods.\r\n\r\n**Detachable Models**\r\n\r\nModel objects in Wicket can be very lightweight in terms of memory and network use in a cluster. When a model is used, it can attach, populating itself with information from persistent storage. When the model is no longer in use, transient information can be reset, reducing the size of the object.\r\n\r\n**Border Components**\r\n\r\nWicket Border components enable the decoration of pages in a reusable fashion. This is especially useful for inheritance of common navigational structures or layout.\r\n\r\n**Support for All Basic HTML Features**\r\n\r\nWicket supports image tags, links, forms and everything else that youre used to using in your web application development.\r\n\r\n**Programmatic Manipulation of Attributes**\r\n\r\nWicket Components can programmatically change any HTML tag attribute.\r\n\r\n**Automatic Conversions**\r\n\r\nOnce a Form validates, the model can be updated using Wicket converters. Most ordinary conversions are built-in and it is easy to write new converters.\r\n\r\n**Dynamic Images**\r\n\r\nWicket makes image use, sharing and generation very easy. Dynamic images can be created by simply implementing a paint method.\r\n\r\n**Pageable ListView**\r\n\r\nListViews in Wicket are extremely powerful. You can nest any kind of component in a ListView row, even other ListViews. PageableListView supports navigation links for the large lists.\r\n\r\n**Tree Component**\r\n\r\nOut of the box tree component for navigating and selecting nodes.\r\n\r\n**Localization**\r\n\r\nHTML pages, images and resource strings can all be localized.","title":"What are the advantages of Apache Wicket?","body":"<p>Here are some features of apache wicket:</p>\n\n<p><strong>POJO Component Model</strong></p>\n\n<p>Pages and Components in Wicket are real Java objects that support encapsulation, inheritance and events.</p>\n\n<p><strong>Ease of Development</strong></p>\n\n<p>Because Wicket is Java and HTML, you can leverage what you know about Java or your favorite HTML editor to write Wicket applications.</p>\n\n<p><strong>Separation of Concerns</strong></p>\n\n<p>Wicket does not mix markup with Java code and adds no special syntax to your markup files. The worlds of HTML and Java are parallel and associated only by Wicket ids, which are attributes in HTML and Component properties in Java. Since Wicket HTML is just HTML and Wicket Java is just Java, coders and designers can work independently to a large degree and without relying on any special tools.</p>\n\n<p><strong>Secure</strong></p>\n\n<p>Wicket is secure by default. URLs do not expose sensitive information and all component paths are session-relative. Explicit steps must be taken to share information between sessions. Furthermore URL encryption allows highly secure web sites.</p>\n\n<p><strong>Transparent, Scalable Clustering Support</strong></p>\n\n<p>All Wicket applications will work on a cluster automatically and without additional work. Once bottlenecks are understood, Wicket enables tuning of page state replication. The next version of Wicket will support client-side models for zero-state scalability.</p>\n\n<p><strong>Transparent Back Button Support</strong></p>\n\n<p>Wicket supports configurable page version management. When users submit a form or follow a link from a page they accessed with the back button in their browser, Wicket is able to revert the page object to the state it was in when the page was originally rendered. This means you can write web applications that support the back button with very little work.</p>\n\n<p><strong>Multi-tab and multi-window support</strong></p>\n\n<p>Wicket provides an easy way to write application that supports multi-window and multi-tab usage allowing developer to react properly when users open new browser window or tab</p>\n\n<p><strong>Reusable Components</strong></p>\n\n<p>Reusable components in Wicket are particularly easy to create. Not only can you extend existing components with the Java extends keyword, but you can also create Panel components which associate a group of components as a reusable unit.</p>\n\n<p><strong>Simple, Flexible, Localizable Form Validation</strong></p>\n\n<p>It is trivial to write and use validators in Wicket. It is also quite easy to customize and localize the display and content of validation error messages.</p>\n\n<p><strong>Typesafe Sessions</strong></p>\n\n<p>Wicket eliminates the need to manage HttpSession attributes by hand. Page and component objects are transparently stored in the session and your application can create a custom session subclass with typesafe properties as well. All objects stored in the session can automatically participate in clustering replication.</p>\n\n<p><strong>Factory Customizable</strong></p>\n\n<p>Wicket is very extensible. Most operations are customizable through factories or factory methods.</p>\n\n<p><strong>Detachable Models</strong></p>\n\n<p>Model objects in Wicket can be very lightweight in terms of memory and network use in a cluster. When a model is used, it can attach, populating itself with information from persistent storage. When the model is no longer in use, transient information can be reset, reducing the size of the object.</p>\n\n<p><strong>Border Components</strong></p>\n\n<p>Wicket Border components enable the decoration of pages in a reusable fashion. This is especially useful for inheritance of common navigational structures or layout.</p>\n\n<p><strong>Support for All Basic HTML Features</strong></p>\n\n<p>Wicket supports image tags, links, forms and everything else that youre used to using in your web application development.</p>\n\n<p><strong>Programmatic Manipulation of Attributes</strong></p>\n\n<p>Wicket Components can programmatically change any HTML tag attribute.</p>\n\n<p><strong>Automatic Conversions</strong></p>\n\n<p>Once a Form validates, the model can be updated using Wicket converters. Most ordinary conversions are built-in and it is easy to write new converters.</p>\n\n<p><strong>Dynamic Images</strong></p>\n\n<p>Wicket makes image use, sharing and generation very easy. Dynamic images can be created by simply implementing a paint method.</p>\n\n<p><strong>Pageable ListView</strong></p>\n\n<p>ListViews in Wicket are extremely powerful. You can nest any kind of component in a ListView row, even other ListViews. PageableListView supports navigation links for the large lists.</p>\n\n<p><strong>Tree Component</strong></p>\n\n<p>Out of the box tree component for navigating and selecting nodes.</p>\n\n<p><strong>Localization</strong></p>\n\n<p>HTML pages, images and resource strings can all be localized.</p>\n"},{"tags":[],"owner":{"account_id":238932,"reputation":829,"user_id":508178,"display_name":"Kamran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358942320,"creation_date":1358942320,"answer_id":14479191,"question_id":544049,"body_markdown":"One other advantage of Wicket over other popular java web frameworks is that it allows you to create modular and extensible web applications. This is particularly useful when you are designing a web based product, which you intend to extend by adding extra functionality and pages in the form of plugins at deploy time, and eliminating the impact on the core functionality/source of your product. Here is a very good article on it.\r\n\r\n[http://www.infoq.com/articles/modular-wicket][1]\r\n\r\n\r\n  [1]: http://www.infoq.com/articles/modular-wicket","title":"What are the advantages of Apache Wicket?","body":"<p>One other advantage of Wicket over other popular java web frameworks is that it allows you to create modular and extensible web applications. This is particularly useful when you are designing a web based product, which you intend to extend by adding extra functionality and pages in the form of plugins at deploy time, and eliminating the impact on the core functionality/source of your product. Here is a very good article on it.</p>\n\n<p><a href=\"http://www.infoq.com/articles/modular-wicket\" rel=\"nofollow\">http://www.infoq.com/articles/modular-wicket</a></p>\n"}],"owner":{"account_id":15531,"reputation":10186,"user_id":32892,"accept_rate":85,"display_name":"dtc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11420,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"closed_date":1375869426,"accepted_answer_id":544431,"answer_count":10,"score":22,"last_activity_date":1677186809,"creation_date":1234481891,"question_id":544049,"body_markdown":"I&#39;m not a Java developer so I might get some terms wrong... but.\r\n\r\nAn application I integrate with is moving from Spring to Wicket.  While it should not affect my integration with it I got to wondering why they would do this?\r\n\r\nFrom what I know Spring is the more popular framework.  I know nothing about it except it&#39;s popular.  I did read the Wicket page and Wicket seems really simple and straightforward.\r\n\r\nWhat are some of the advantages of Wicket?\r\n\r\nIt seems to me that changing your entire framework would be some work so I wonder if Wicket offers something that Spring does not?\r\n\r\n","title":"What are the advantages of Apache Wicket?","body":"<p>I'm not a Java developer so I might get some terms wrong... but.</p>\n\n<p>An application I integrate with is moving from Spring to Wicket.  While it should not affect my integration with it I got to wondering why they would do this?</p>\n\n<p>From what I know Spring is the more popular framework.  I know nothing about it except it's popular.  I did read the Wicket page and Wicket seems really simple and straightforward.</p>\n\n<p>What are some of the advantages of Wicket?</p>\n\n<p>It seems to me that changing your entire framework would be some work so I wonder if Wicket offers something that Spring does not?</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":2,"creation_date":1676298039,"post_id":75436950,"comment_id":133103428,"body_markdown":"from my experience, copying application.properties to /test/resources folder is a common practice. Nothing wrong with it.","body":"from my experience, copying application.properties to /test/resources folder is a common practice. Nothing wrong with it."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1676298449,"post_id":75436950,"comment_id":133103584,"body_markdown":"I assume &quot;application&quot; and &quot;folder2&quot; are Maven modules or even standalone projects. If so, make sure that the module/project under &quot;folder2&quot; *depends on* the module/project under &quot;application&quot;. Posting the relevant parts of your Maven configuration might help getting a more specific answer. The folder structure above, if not a typo, is strange for Maven, i.e. no `src` folder and `test` under `main`.","body":"I assume &quot;application&quot; and &quot;folder2&quot; are Maven modules or even standalone projects. If so, make sure that the module/project under &quot;folder2&quot; <i>depends on</i> the module/project under &quot;application&quot;. Posting the relevant parts of your Maven configuration might help getting a more specific answer. The folder structure above, if not a typo, is strange for Maven, i.e. no <code>src</code> folder and <code>test</code> under <code>main</code>."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676300852,"post_id":75436950,"comment_id":133104462,"body_markdown":"Property files should be located in `src/main/resources/&lt;OptionalPackage&gt;` for production code and for test code in `src/test/resources/&lt;OptionalPackage&gt;` ...there should be no folder `folder2` there...","body":"Property files should be located in <code>src&#47;main&#47;resources&#47;&lt;OptionalPackage&gt;</code> for production code and for test code in <code>src&#47;test&#47;resources&#47;&lt;OptionalPackage&gt;</code> ...there should be no folder <code>folder2</code> there..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676313784,"post_id":75436950,"comment_id":133108613,"body_markdown":"@gneginskiy That&#39;s simply wrong. It shows that the basic concepts of Maven have not been understood.","body":"@gneginskiy That&#39;s simply wrong. It shows that the basic concepts of Maven have not been understood."}],"answers":[{"comments":[{"owner":{"account_id":2363981,"reputation":333,"user_id":2070081,"display_name":"Christoph Henrici"},"score":0,"creation_date":1677142319,"post_id":75440151,"comment_id":133280357,"body_markdown":"can you point to the official documentation, where the defaults setup for resource filtering and how to configure those, if one isn&#39;t happy with the defaults, is decribed. That would be really helpful, thanks","body":"can you point to the official documentation, where the defaults setup for resource filtering and how to configure those, if one isn&#39;t happy with the defaults, is decribed. That would be really helpful, thanks"}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1677186749,"creation_date":1676314689,"answer_id":75440151,"question_id":75436950,"body_markdown":"The basic setup for any kind of project in Maven is first to follow the default directory layout which looks like the following:\r\n\r\n\r\n    .\r\n    |-- pom.xml\r\n    `-- src\r\n        |-- main\r\n        |   |-- java\r\n        |   `-- resources\r\n        `-- test\r\n            |-- java\r\n            `-- resources\r\n\r\n\r\nIn the `src/main/java/&lt;packageName&gt;` you put your production classes (`*.java`) and the property files have to go into `src/main/resources` (for example `application.properties`.\r\n\r\nThe unit- tests and or integration test classes will belong into `src/test/java/&lt;packageName&gt;/` . Unit test should be named like `*Test.java` while integration tests should be named like `*IT.java`.. \r\nIf you have particular property files for testing only they belong into `src/test/resources` directory.\r\n\r\nTo have particular configurations for your tests can simply achieved by using the multi-document yaml file in your test resources (`src/test/resources/application.yaml`):\r\n\r\n\r\n&lt;!-- language:language-yaml --&gt;\r\n\r\n    ---\r\n    spring:\r\n      profiles:\r\n        active: xtest\r\n    ....\r\n\r\n\r\nThe parts after profile can be used to do particular configuration for your test setup...which can be activated via `@ActiveProfiles(&quot;xtest&quot;)`  within your tests...\r\nOr you can also name a different file `test-application.properties` and use `@TestPropertySource(&quot;classpath:test-application.properties&quot;)` in your test instead (`src/test/resources/test-application.properties`).\r\n\r\n\r\nIt&#39;s technically doable to filter resource files which can be achieved via using filtering. Most of the time related to spring boot resources (application.properties/application.yaml) is make no sense (rare case excluded).\r\n\r\nResource filtering: \r\n * https://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files\r\n * https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\r\n\r\n\r\n","title":"how to access to a property file in other folder from unit test","body":"<p>The basic setup for any kind of project in Maven is first to follow the default directory layout which looks like the following:</p>\n<pre><code>.\n|-- pom.xml\n`-- src\n    |-- main\n    |   |-- java\n    |   `-- resources\n    `-- test\n        |-- java\n        `-- resources\n</code></pre>\n<p>In the <code>src/main/java/&lt;packageName&gt;</code> you put your production classes (<code>*.java</code>) and the property files have to go into <code>src/main/resources</code> (for example <code>application.properties</code>.</p>\n<p>The unit- tests and or integration test classes will belong into <code>src/test/java/&lt;packageName&gt;/</code> . Unit test should be named like <code>*Test.java</code> while integration tests should be named like <code>*IT.java</code>..\nIf you have particular property files for testing only they belong into <code>src/test/resources</code> directory.</p>\n<p>To have particular configurations for your tests can simply achieved by using the multi-document yaml file in your test resources (<code>src/test/resources/application.yaml</code>):</p>\n\n<pre><code>---\nspring:\n  profiles:\n    active: xtest\n....\n</code></pre>\n<p>The parts after profile can be used to do particular configuration for your test setup...which can be activated via <code>@ActiveProfiles(&quot;xtest&quot;)</code>  within your tests...\nOr you can also name a different file <code>test-application.properties</code> and use <code>@TestPropertySource(&quot;classpath:test-application.properties&quot;)</code> in your test instead (<code>src/test/resources/test-application.properties</code>).</p>\n<p>It's technically doable to filter resource files which can be achieved via using filtering. Most of the time related to spring boot resources (application.properties/application.yaml) is make no sense (rare case excluded).</p>\n<p>Resource filtering:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files</a></li>\n<li><a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html</a></li>\n</ul>\n"}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75440151,"answer_count":1,"score":1,"last_activity_date":1677186749,"creation_date":1676297277,"question_id":75436950,"body_markdown":"I&#39;m facing an error when launching my test, the problem is properties file.\r\n\r\nthis property file is in my application resource folder and I&#39;m in &quot;folder2&quot; test folder.\r\n\r\n    --application\r\n      --src\r\n        --main\r\n          --resources\r\n            --application.properties\r\n    --folder2\r\n      --main\r\n        --test\r\n          --path.to.package\r\n            --ClassWithTest.java\r\n\r\nhow can access to this application.propeties file?\r\n\r\nI have this in my ClassWithTest:\r\n\r\n    @TestPropertySource(&quot;classpath:application.properties&quot;)\r\n\r\nthat only works if I copy the file into my Resources under folder2,but this is not what I need to do.\r\n\r\nI&#39;m using Java and it is a maven project","title":"how to access to a property file in other folder from unit test","body":"<p>I'm facing an error when launching my test, the problem is properties file.</p>\n<p>this property file is in my application resource folder and I'm in &quot;folder2&quot; test folder.</p>\n<pre><code>--application\n  --src\n    --main\n      --resources\n        --application.properties\n--folder2\n  --main\n    --test\n      --path.to.package\n        --ClassWithTest.java\n</code></pre>\n<p>how can access to this application.propeties file?</p>\n<p>I have this in my ClassWithTest:</p>\n<pre><code>@TestPropertySource(&quot;classpath:application.properties&quot;)\n</code></pre>\n<p>that only works if I copy the file into my Resources under folder2,but this is not what I need to do.</p>\n<p>I'm using Java and it is a maven project</p>\n"},{"tags":["java","rest","elasticsearch","elasticsearch-high-level-restclient","elasticsearch-rest-client"],"owner":{"account_id":3896512,"reputation":193,"user_id":3225404,"display_name":"lia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677186682,"creation_date":1677186682,"question_id":75550362,"body_markdown":"I&#39;m using elasticsearch rest-high-level-client version 7.13 in java\r\nbut randomly some of the requests (read/write) encounter this error! \r\nI&#39;ve checked the memory usage and it&#39;s between 20% - 40% and **have not** OutOfMemoryError\r\n\r\n[![enter image description here][1]][1]      \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U7aYB.png","title":"RuntimeException: Request cannot be executed; I/O reactor status: STOPPED in Elasticsearch","body":"<p>I'm using elasticsearch rest-high-level-client version 7.13 in java\nbut randomly some of the requests (read/write) encounter this error!\nI've checked the memory usage and it's between 20% - 40% and <strong>have not</strong> OutOfMemoryError</p>\n<p><a href=\"https://i.stack.imgur.com/U7aYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U7aYB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":0,"creation_date":1677173976,"post_id":75548344,"comment_id":133290424,"body_markdown":"Did you consider to use spring boot? It provides a maven plugin, that can create executable jars which contain all the needed dependencies: https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\nIt even can start a web server if needed. \nAnd here is the documentation of the spring-boot-maven-plugin: https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins.html#build-tool-plugins.maven","body":"Did you consider to use spring boot? It provides a maven plugin, that can create executable jars which contain all the needed dependencies: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> It even can start a web server if needed.  And here is the documentation of the spring-boot-maven-plugin: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins.html#build-tool-plugins.maven\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"score":0,"creation_date":1677222080,"post_id":75550304,"comment_id":133298771,"body_markdown":"What about [shade plugin](https://maven.apache.org/plugins/maven-shade-plugin/)?","body":"What about <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">shade plugin</a>?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1677224398,"post_id":75550304,"comment_id":133299200,"body_markdown":"The shade plugin would create the uber-jar I mentioned above. But as I do not use it I don&#39;t have an example. Feel free to post it.","body":"The shade plugin would create the uber-jar I mentioned above. But as I do not use it I don&#39;t have an example. Feel free to post it."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677186628,"creation_date":1677186195,"answer_id":75550304,"question_id":75548344,"body_markdown":"You can use Maven to create an uber-jar that contains all the classes.\r\nYou can as well ask Maven to download the dependencies for your.\r\n\r\nWhat I usually do is to generate the jar the same as you do, but then automatically download all the dependencies into a lib folder.\r\nTo make running the jar as easy as `java -jar ...` I have Maven even add the classpath into the manifest.\r\nThe only drawback is that you now need to distribute the jar and it&#39;s libs in exactly this directory structure.\r\nThe advantage is that any signed jar will preserve it&#39;s signature and thus validity.\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/dist&lt;/outputDirectory&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;${mainclass}&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/dist/lib&lt;/outputDirectory&gt;\r\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Java: run jar with dependencies","body":"<p>You can use Maven to create an uber-jar that contains all the classes.\nYou can as well ask Maven to download the dependencies for your.</p>\n<p>What I usually do is to generate the jar the same as you do, but then automatically download all the dependencies into a lib folder.\nTo make running the jar as easy as <code>java -jar ...</code> I have Maven even add the classpath into the manifest.\nThe only drawback is that you now need to distribute the jar and it's libs in exactly this directory structure.\nThe advantage is that any signed jar will preserve it's signature and thus validity.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/dist&lt;/outputDirectory&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;${mainclass}&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/dist/lib&lt;/outputDirectory&gt;\n                        &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                        &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                        &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7388280,"reputation":438,"user_id":5622596,"display_name":"jspek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677186318,"creation_date":1677186318,"answer_id":75550318,"question_id":75548344,"body_markdown":"If you want to include the jar with dependencies you could add the following \r\n\r\n```\r\n&lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\nJust replace fully.qualified.MainClass in \r\n`&lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;`\r\nwith which ever class has main\r\n\r\nTo Build it you can run\r\n`mvn clean compile assembly:single`\r\n\r\nSee https://stackoverflow.com/a/574650/5622596  for more details. \r\n\r\nAs to how to run a jar one possible way is to run the following \r\n`java -jar NameOfJar.jar`\r\nJust replace `NameOfJar.jar` with whichever jar you created","title":"Java: run jar with dependencies","body":"<p>If you want to include the jar with dependencies you could add the following</p>\n<pre><code>&lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>Just replace fully.qualified.MainClass in\n<code>&lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;</code>\nwith which ever class has main</p>\n<p>To Build it you can run\n<code>mvn clean compile assembly:single</code></p>\n<p>See <a href=\"https://stackoverflow.com/a/574650/5622596\">https://stackoverflow.com/a/574650/5622596</a>  for more details.</p>\n<p>As to how to run a jar one possible way is to run the following\n<code>java -jar NameOfJar.jar</code>\nJust replace <code>NameOfJar.jar</code> with whichever jar you created</p>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75550304,"answer_count":2,"score":0,"last_activity_date":1677186628,"creation_date":1677173641,"question_id":75548344,"body_markdown":"I&#39;ve packaged my mvn project.\r\n\r\nAfter that, my `jar` files only contains my hand coded classes:\r\n\r\n```\r\nMETA-INF/\r\nMETA-INF/MANIFEST.MF\r\nme/\r\nme/jeusdi/\r\nme/jeusdi/slab/\r\nme/jeusdi/slab/MyService.class\r\nme/jeusdi/slab/App.class\r\nme/jeusdi/slab/MyConfig.class\r\nme/jeusdi/slab/MyServiceImpl.class\r\nMETA-INF/maven/\r\nMETA-INF/maven/me.jeusdi.slab/\r\nMETA-INF/maven/me.jeusdi.slab/slab/\r\nMETA-INF/maven/me.jeusdi.slab/slab/pom.xml\r\nMETA-INF/maven/me.jeusdi.slab/slab/pom.properties\r\n```\r\n\r\nNevertheless, I need declared maven dependencies:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;me.jeusdi.slab&lt;/groupId&gt;\r\n  &lt;artifactId&gt;slab&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;slab&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;kafka.streams.version&gt;3.4.0&lt;/kafka.streams.version&gt;\r\n    &lt;spring.version&gt;6.0.5&lt;/spring.version&gt;\r\n\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n        &lt;version&gt;${kafka.streams.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Context --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhy `spring-core` dependency is not present into my jar.\r\n\r\nI need to run my jar. Currently, I&#39;m using:\r\n\r\n    java -cp target/slab-1.0-SNAPSHOT.jar App\r\n\r\nAny ideas about how to embed or locate my dependencies and run my application?\r\n","title":"Java: run jar with dependencies","body":"<p>I've packaged my mvn project.</p>\n<p>After that, my <code>jar</code> files only contains my hand coded classes:</p>\n<pre><code>META-INF/\nMETA-INF/MANIFEST.MF\nme/\nme/jeusdi/\nme/jeusdi/slab/\nme/jeusdi/slab/MyService.class\nme/jeusdi/slab/App.class\nme/jeusdi/slab/MyConfig.class\nme/jeusdi/slab/MyServiceImpl.class\nMETA-INF/maven/\nMETA-INF/maven/me.jeusdi.slab/\nMETA-INF/maven/me.jeusdi.slab/slab/\nMETA-INF/maven/me.jeusdi.slab/slab/pom.xml\nMETA-INF/maven/me.jeusdi.slab/slab/pom.properties\n</code></pre>\n<p>Nevertheless, I need declared maven dependencies:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;me.jeusdi.slab&lt;/groupId&gt;\n  &lt;artifactId&gt;slab&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;slab&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;kafka.streams.version&gt;3.4.0&lt;/kafka.streams.version&gt;\n    &lt;spring.version&gt;6.0.5&lt;/spring.version&gt;\n\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n        &lt;version&gt;${kafka.streams.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Context --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Why <code>spring-core</code> dependency is not present into my jar.</p>\n<p>I need to run my jar. Currently, I'm using:</p>\n<pre><code>java -cp target/slab-1.0-SNAPSHOT.jar App\n</code></pre>\n<p>Any ideas about how to embed or locate my dependencies and run my application?</p>\n"},{"tags":["java","math","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1677183172,"post_id":75549676,"comment_id":133292966,"body_markdown":"It depends how you have things set up. I think the way I would set this up, I wouldnt even need to make that conversion.","body":"It depends how you have things set up. I think the way I would set this up, I wouldnt even need to make that conversion."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1677183575,"post_id":75549676,"comment_id":133293089,"body_markdown":"you can retrieve that data  from pick result  . do you want a hint ?","body":"you can retrieve that data  from pick result  . do you want a hint ?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1677183792,"post_id":75549676,"comment_id":133293141,"body_markdown":"It would seem that `HashMap&lt;Tile, Point&gt; board;` would be more useful.  Also, the points could be a field member of a tile and you would not need to maintain a map at all, the board could just be a list of tiles, and the list could be ordered by point coordinates using a comparator if needed and there is some natural ordering here.  Just some thoughts, there are many ways to implement this.","body":"It would seem that <code>HashMap&lt;Tile, Point&gt; board;</code> would be more useful.  Also, the points could be a field member of a tile and you would not need to maintain a map at all, the board could just be a list of tiles, and the list could be ordered by point coordinates using a comparator if needed and there is some natural ordering here.  Just some thoughts, there are many ways to implement this."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1677184599,"post_id":75549676,"comment_id":133293329,"body_markdown":"Specifically, given the size of each hexagon and the hexagon board coordinates you showed, you can easily figure out where to draw the hexagon. The only reason I can see that youd want to go from pixel coordinates to the hexagon is if you needed to process user mouse clicks. But if you render each hexagon with a `Polygon`, you can just register mouse handlers directly with each `Polygon`, and youd never need to do that calculation. At any rate, the answer to this depends greatly on the implementation you choose, which you havent shown in the question.","body":"Specifically, given the size of each hexagon and the hexagon board coordinates you showed, you can easily figure out where to draw the hexagon. The only reason I can see that youd want to go from pixel coordinates to the hexagon is if you needed to process user mouse clicks. But if you render each hexagon with a <code>Polygon</code>, you can just register mouse handlers directly with each <code>Polygon</code>, and youd never need to do that calculation. At any rate, the answer to this depends greatly on the implementation you choose, which you havent shown in the question."},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1677199919,"post_id":75549676,"comment_id":133296115,"body_markdown":"@James_D I can&#39;t quite figure out where to draw the hexagon :(. So let&#39;s say if I was given the point (1,0) I can easily convert that to (100,0), (2,0) -&gt; (200,0), (-1,0) -&gt; (-100,0)... but when it comes to points like (2,-1) how do I convert that?","body":"@James_D I can&#39;t quite figure out where to draw the hexagon :(. So let&#39;s say if I was given the point (1,0) I can easily convert that to (100,0), (2,0) -&gt; (200,0), (-1,0) -&gt; (-100,0)... but when it comes to points like (2,-1) how do I convert that?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1677255216,"post_id":75549676,"comment_id":133307816,"body_markdown":"Given your layout, you can figure the coordinates of hexagon (x,y+1) relative to hexagon (x,y) using basic trigonometry. As you&#39;ve pointed out, hexagon (x+k,y) is just k*100 to the right of hexagon (x,y). From there it&#39;s trivial to figure out a formula for the position of hexagon (x,y).","body":"Given your layout, you can figure the coordinates of hexagon (x,y+1) relative to hexagon (x,y) using basic trigonometry. As you&#39;ve pointed out, hexagon (x+k,y) is just k*100 to the right of hexagon (x,y). From there it&#39;s trivial to figure out a formula for the position of hexagon (x,y)."}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1677188711,"post_id":75550330,"comment_id":133294293,"body_markdown":"Perhaps set [layout X, and Y](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#layoutXProperty()) rather than translate. Of course, either will work.  One advantage of using the layout properties, is that the translate properties can then still be used for translate transitions if needed.","body":"Perhaps set <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#layoutXProperty()\" rel=\"nofollow noreferrer\">layout X, and Y</a> rather than translate. Of course, either will work.  One advantage of using the layout properties, is that the translate properties can then still be used for translate transitions if needed."}],"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677186399,"creation_date":1677186399,"answer_id":75550330,"question_id":75549676,"body_markdown":"**Storing coordinates as field**\r\n\r\nIn this approach `Hexagon`  instances have two integers wich represent coords . Any hexagon will print x and y as stage tittle like so :\r\n\r\n[![hexagon javafx][1]][1]\r\n\r\nThis is a single javafx app you can try \r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        double HexagonRadius = 100;\r\n\r\n        Hexagon hexagon1 = new Hexagon(1, 2, HexagonRadius, Color.CADETBLUE);\r\n\r\n        Hexagon hexagon2 = new Hexagon(1, 0, HexagonRadius, Color.MEDIUMPURPLE);\r\n        hexagon2.setTranslateY(hexagon1.getOffsetY() * 2);\r\n\r\n        Hexagon hexagon3 = new Hexagon(1, 1, HexagonRadius, Color.MEDIUMSEAGREEN);\r\n        hexagon3.setTranslateY(-hexagon1.getOffsetY() * 2);\r\n\r\n        Hexagon hexagon4 = new Hexagon(0, 0, HexagonRadius, Color.CORNFLOWERBLUE);\r\n        hexagon4.setTranslateY(-hexagon1.getOffsetY());\r\n        hexagon4.setTranslateX(hexagon1.getOffsetX());\r\n\r\n        Hexagon hexagon5 = new Hexagon(2, 2, HexagonRadius, Color.YELLOW);\r\n        hexagon5.setTranslateY(-hexagon1.getOffsetY());\r\n        hexagon5.setTranslateX(-hexagon1.getOffsetX());\r\n\r\n        Hexagon hexagon6 = new Hexagon(2, 0, HexagonRadius, Color.ORANGE);\r\n        hexagon6.setTranslateY(hexagon1.getOffsetY());\r\n        hexagon6.setTranslateX(-hexagon1.getOffsetX());\r\n\r\n        Hexagon hexagon7 = new Hexagon(2, 3, HexagonRadius, Color.SKYBLUE);\r\n        hexagon7.setTranslateY(hexagon1.getOffsetY());\r\n        hexagon7.setTranslateX(hexagon1.getOffsetX());\r\n\r\n        Group hexagonsGroup\r\n                = new Group(hexagon1, hexagon2, hexagon3, hexagon4, hexagon5, hexagon6, hexagon7);\r\n\r\n        StackPane stackPane = new StackPane(hexagonsGroup);\r\n\r\n        var scene = new Scene(stackPane, 640, 480);\r\n        scene.setFill(Color.ANTIQUEWHITE);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public final class Hexagon extends Group {\r\n\r\n        private Polygon polygon;\r\n        private final double radius;\r\n        private final double radianStep = (2 * Math.PI) / 6;\r\n\r\n        private final int x;\r\n        private final int y;\r\n\r\n        private final double offsetY;\r\n        private final double offsetX;\r\n\r\n        public int getX() {\r\n            return x;\r\n        }\r\n\r\n        public int getY() {\r\n            return y;\r\n        }\r\n\r\n        public Hexagon(int x, int y, double radius, Paint color) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.radius = radius;\r\n            makeHexagon(radius, color);\r\n            offsetY = calculateApothem();\r\n\r\n            offsetX = radius * 1.5;\r\n            changeTittle();\r\n\r\n        }\r\n\r\n        private void makeHexagon(double radius, Paint color) {\r\n            polygon = new Polygon();\r\n            this.getChildren().add(polygon);\r\n            polygon.setFill(color);\r\n            polygon.setStroke(Color.WHITESMOKE);\r\n            polygon.setEffect(new DropShadow(10, Color.BLACK));\r\n            polygon.setStrokeWidth(10);\r\n            polygon.setStrokeType(StrokeType.INSIDE);\r\n\r\n            for (int i = 0; i &lt; 6; i++) {\r\n                double angle = radianStep * i;\r\n\r\n                polygon.getPoints().add(Math.cos(angle) * radius / 1.1);\r\n                polygon.getPoints().add(Math.sin(angle) * radius / 1.1);\r\n\r\n            }\r\n        }\r\n\r\n        public void changeTittle() {\r\n\r\n            polygon.setOnMouseClicked(e -&gt; {\r\n                Stage stage = (Stage) this.getScene().getWindow();\r\n                stage.setTitle(&quot;cordinate =&quot; + x + &quot;,&quot; + y);\r\n            });\r\n\r\n        }\r\n\r\n        public double getOffsetY() {\r\n            return offsetY;\r\n        }\r\n\r\n        public double getOffsetX() {\r\n            return offsetX;\r\n        }\r\n\r\n        private double calculateApothem() {\r\n            System.out.println(Math.tan(radianStep) * radius);\r\n            return (Math.tan(radianStep) * radius) / 2;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/muzYg.gif","title":"Convert my coordinate to actual JavaFx coordinate","body":"<p><strong>Storing coordinates as field</strong></p>\n<p>In this approach <code>Hexagon</code>  instances have two integers wich represent coords . Any hexagon will print x and y as stage tittle like so :</p>\n<p><a href=\"https://i.stack.imgur.com/muzYg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/muzYg.gif\" alt=\"hexagon javafx\" /></a></p>\n<p>This is a single javafx app you can try</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n\n@Override\npublic void start(Stage stage) {\n\n    double HexagonRadius = 100;\n\n    Hexagon hexagon1 = new Hexagon(1, 2, HexagonRadius, Color.CADETBLUE);\n\n    Hexagon hexagon2 = new Hexagon(1, 0, HexagonRadius, Color.MEDIUMPURPLE);\n    hexagon2.setTranslateY(hexagon1.getOffsetY() * 2);\n\n    Hexagon hexagon3 = new Hexagon(1, 1, HexagonRadius, Color.MEDIUMSEAGREEN);\n    hexagon3.setTranslateY(-hexagon1.getOffsetY() * 2);\n\n    Hexagon hexagon4 = new Hexagon(0, 0, HexagonRadius, Color.CORNFLOWERBLUE);\n    hexagon4.setTranslateY(-hexagon1.getOffsetY());\n    hexagon4.setTranslateX(hexagon1.getOffsetX());\n\n    Hexagon hexagon5 = new Hexagon(2, 2, HexagonRadius, Color.YELLOW);\n    hexagon5.setTranslateY(-hexagon1.getOffsetY());\n    hexagon5.setTranslateX(-hexagon1.getOffsetX());\n\n    Hexagon hexagon6 = new Hexagon(2, 0, HexagonRadius, Color.ORANGE);\n    hexagon6.setTranslateY(hexagon1.getOffsetY());\n    hexagon6.setTranslateX(-hexagon1.getOffsetX());\n\n    Hexagon hexagon7 = new Hexagon(2, 3, HexagonRadius, Color.SKYBLUE);\n    hexagon7.setTranslateY(hexagon1.getOffsetY());\n    hexagon7.setTranslateX(hexagon1.getOffsetX());\n\n    Group hexagonsGroup\n            = new Group(hexagon1, hexagon2, hexagon3, hexagon4, hexagon5, hexagon6, hexagon7);\n\n    StackPane stackPane = new StackPane(hexagonsGroup);\n\n    var scene = new Scene(stackPane, 640, 480);\n    scene.setFill(Color.ANTIQUEWHITE);\n    stage.setScene(scene);\n    stage.show();\n}\n\npublic final class Hexagon extends Group {\n\n    private Polygon polygon;\n    private final double radius;\n    private final double radianStep = (2 * Math.PI) / 6;\n\n    private final int x;\n    private final int y;\n\n    private final double offsetY;\n    private final double offsetX;\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public Hexagon(int x, int y, double radius, Paint color) {\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n        makeHexagon(radius, color);\n        offsetY = calculateApothem();\n\n        offsetX = radius * 1.5;\n        changeTittle();\n\n    }\n\n    private void makeHexagon(double radius, Paint color) {\n        polygon = new Polygon();\n        this.getChildren().add(polygon);\n        polygon.setFill(color);\n        polygon.setStroke(Color.WHITESMOKE);\n        polygon.setEffect(new DropShadow(10, Color.BLACK));\n        polygon.setStrokeWidth(10);\n        polygon.setStrokeType(StrokeType.INSIDE);\n\n        for (int i = 0; i &lt; 6; i++) {\n            double angle = radianStep * i;\n\n            polygon.getPoints().add(Math.cos(angle) * radius / 1.1);\n            polygon.getPoints().add(Math.sin(angle) * radius / 1.1);\n\n        }\n    }\n\n    public void changeTittle() {\n\n        polygon.setOnMouseClicked(e -&gt; {\n            Stage stage = (Stage) this.getScene().getWindow();\n            stage.setTitle(&quot;cordinate =&quot; + x + &quot;,&quot; + y);\n        });\n\n    }\n\n    public double getOffsetY() {\n        return offsetY;\n    }\n\n    public double getOffsetX() {\n        return offsetX;\n    }\n\n    private double calculateApothem() {\n        System.out.println(Math.tan(radianStep) * radius);\n        return (Math.tan(radianStep) * radius) / 2;\n\n    }\n\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677186399,"creation_date":1677181905,"question_id":75549676,"body_markdown":"I&#39;m trying to build a game called [Cascadia](https://www.alderac.com/wp-content/uploads/2021/08/Cascadia-Rules.pdf). Since every tile is a hexagon, to represent it I used a hashmap to store the point(coordinate) and the tile.\r\n\r\n`HashMap&lt;Point, Tile&gt; board;`\r\n\r\nThe point follows this [structure](https://i.stack.imgur.com/1xdLT.png).\r\n\r\nEach tile is a width of 100 pixels.\r\nexample of a [tile](https://i.stack.imgur.com/ZlrqA.png).\r\n\r\nThe problem is how do I convert those points that I used in my hashmap and convert it into the actual coordinate on my scene?\r\n\r\nI have no problem with the tiles going left or right since I can just add or subtract 100(pixels). ","title":"Convert my coordinate to actual JavaFx coordinate","body":"<p>I'm trying to build a game called <a href=\"https://www.alderac.com/wp-content/uploads/2021/08/Cascadia-Rules.pdf\" rel=\"nofollow noreferrer\">Cascadia</a>. Since every tile is a hexagon, to represent it I used a hashmap to store the point(coordinate) and the tile.</p>\n<p><code>HashMap&lt;Point, Tile&gt; board;</code></p>\n<p>The point follows this <a href=\"https://i.stack.imgur.com/1xdLT.png\" rel=\"nofollow noreferrer\">structure</a>.</p>\n<p>Each tile is a width of 100 pixels.\nexample of a <a href=\"https://i.stack.imgur.com/ZlrqA.png\" rel=\"nofollow noreferrer\">tile</a>.</p>\n<p>The problem is how do I convert those points that I used in my hashmap and convert it into the actual coordinate on my scene?</p>\n<p>I have no problem with the tiles going left or right since I can just add or subtract 100(pixels).</p>\n"},{"tags":["java","webcam","webcam-capture"],"comments":[{"owner":{"account_id":27787290,"reputation":1,"user_id":21214473,"display_name":"Thorium1717"},"score":0,"creation_date":1677262986,"post_id":75550301,"comment_id":133309807,"body_markdown":"I have changed up my plans and will be changing a bunch more libraries and won&#39;t be using Webcam-Capture anymore. I will keep this post up in case anybody needs help in the future, hopefully someone will answer this question later anyway.","body":"I have changed up my plans and will be changing a bunch more libraries and won&#39;t be using Webcam-Capture anymore. I will keep this post up in case anybody needs help in the future, hopefully someone will answer this question later anyway."}],"owner":{"account_id":27787290,"reputation":1,"user_id":21214473,"display_name":"Thorium1717"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677186173,"creation_date":1677186173,"question_id":75550301,"body_markdown":"I am a junior programmer working on a personal project that requires me accessing a webcam in a java file. I found sarxos&#39;s webcam-capture and have downloaded it into my project folder.\r\nWhen I run my main class: \r\n\r\n    import com.github.sarxos.webcam.Webcam;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    import com.github.sarxos.webcam.WebcamExceptionHandler;\r\n    import com.github.sarxos.webcam.WebcamException; \r\n    \r\n    \r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException{ \r\n            System.out.println(&quot;Start Pictures&quot;); \r\n    \r\n            Webcam webcam = Webcam.getDefault();\r\n    \r\n            if (webcam != null) {\r\n                System.out.println(&quot;Webcam: &quot; + webcam.getName());\r\n            } else {\r\n                System.out.println(&quot;No webcam detected&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIt gives me an error: \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n        The method getDefault() from the type Webcam refers to the missing type WebcamException\r\n\r\n        at Main.main(Main.java:28)\r\n```\r\n\r\nI have tried running their example class that does the same thing and comes with the library: \r\n\r\n```\r\n\r\n\r\nimport com.github.sarxos.webcam.Webcam;\r\n\r\npublic class DetectWebcamExample {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tWebcam webcam = Webcam.getDefault();\r\n\t\tif (webcam != null) {\r\n\t\t\tSystem.out.println(&quot;Webcam: &quot; + webcam.getName());\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;No webcam detected&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nbut it throws the same error \r\n\r\nI have tried everything I can think of. If anyone else has run into this issue how did you solve it.   \r\nAlso, if you have any suggestions for other webcam libraries that have worked for you on windows, could you please share them with me. ","title":"Error: missing type WebcamException when I try to run Webcam.getDefault()","body":"<p>I am a junior programmer working on a personal project that requires me accessing a webcam in a java file. I found sarxos's webcam-capture and have downloaded it into my project folder.\nWhen I run my main class:</p>\n<pre><code>import com.github.sarxos.webcam.Webcam;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\nimport com.github.sarxos.webcam.WebcamExceptionHandler;\nimport com.github.sarxos.webcam.WebcamException; \n\n\n\npublic class Main {\n    public static void main(String[] args) throws IOException{ \n        System.out.println(&quot;Start Pictures&quot;); \n\n        Webcam webcam = Webcam.getDefault();\n\n        if (webcam != null) {\n            System.out.println(&quot;Webcam: &quot; + webcam.getName());\n        } else {\n            System.out.println(&quot;No webcam detected&quot;);\n        }\n    }\n}\n</code></pre>\n<p>It gives me an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        The method getDefault() from the type Webcam refers to the missing type WebcamException\n\n        at Main.main(Main.java:28)\n</code></pre>\n<p>I have tried running their example class that does the same thing and comes with the library:</p>\n<pre><code>\n\nimport com.github.sarxos.webcam.Webcam;\n\npublic class DetectWebcamExample {\n\n    public static void main(String[] args) {\n        Webcam webcam = Webcam.getDefault();\n        if (webcam != null) {\n            System.out.println(&quot;Webcam: &quot; + webcam.getName());\n        } else {\n            System.out.println(&quot;No webcam detected&quot;);\n        }\n    }\n}\n</code></pre>\n<p>but it throws the same error</p>\n<p>I have tried everything I can think of. If anyone else has run into this issue how did you solve it.<br />\nAlso, if you have any suggestions for other webcam libraries that have worked for you on windows, could you please share them with me.</p>\n"},{"tags":["java","android","smali"],"comments":[{"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"score":0,"creation_date":1399475821,"post_id":23521442,"comment_id":36079293,"body_markdown":"You are looking at the under-the-hood implementation of an object-oriented design pattern where the first argument often specifies the subject object, so among other things, I believe the difference in the first argument means the first call is acting on a different object (probably held in an instance field) while the second is acting on itself.","body":"You are looking at the under-the-hood implementation of an object-oriented design pattern where the first argument often specifies the subject object, so among other things, I believe the difference in the first argument means the first call is acting on a different object (probably held in an instance field) while the second is acting on itself."},{"owner":{"account_id":1289694,"reputation":141,"user_id":1242015,"accept_rate":75,"display_name":"yi2ng2"},"score":0,"creation_date":1399476726,"post_id":23521442,"comment_id":36080062,"body_markdown":"Hi Chris, thank you for your promptly reply. So, can I understand this way: both &quot;invokes&quot; are invoking the same method (same class), provided they are passing different objects as arguements?","body":"Hi Chris, thank you for your promptly reply. So, can I understand this way: both &quot;invokes&quot; are invoking the same method (same class), provided they are passing different objects as arguements?"}],"answers":[{"comments":[{"owner":{"account_id":1289694,"reputation":141,"user_id":1242015,"accept_rate":75,"display_name":"yi2ng2"},"score":0,"creation_date":1399612165,"post_id":23526336,"comment_id":36145618,"body_markdown":"Hi there, thank you for your reply. So, for the case invoke-super will be always invoking &quot;Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V&quot; because it will not take the runtime type of p0 into considetaion. But invoke-virtual will be invoking a different method (depends on the type of v2). For my case, my main consideration is to draw a call graph. So, I have another doubt that how can I know which is the exact method is finally called by by the invoke-virtual? Thank you for your help!","body":"Hi there, thank you for your reply. So, for the case invoke-super will be always invoking &quot;Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V&quot; because it will not take the runtime type of p0 into considetaion. But invoke-virtual will be invoking a different method (depends on the type of v2). For my case, my main consideration is to draw a call graph. So, I have another doubt that how can I know which is the exact method is finally called by by the invoke-virtual? Thank you for your help!"},{"owner":{"account_id":252759,"reputation":19884,"user_id":531021,"display_name":"JesusFreke"},"score":0,"creation_date":1399657936,"post_id":23526336,"comment_id":36171565,"body_markdown":"You would have to use static analysis to try to determine the possible concrete types of v2 at that point, and add an edge to that method in each possible type.","body":"You would have to use static analysis to try to determine the possible concrete types of v2 at that point, and add an edge to that method in each possible type."}],"tags":[],"owner":{"account_id":252759,"reputation":19884,"user_id":531021,"display_name":"JesusFreke"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1399490028,"creation_date":1399490028,"answer_id":23526336,"question_id":23521442,"body_markdown":"invoke-virtual performs a virtual table lookup using the vtable associated with the target object&#39;s class (i.e. the actual runtime type of the first argument).\r\n\r\nHowever, invoke-super is slightly different. It performs a vtable lookup using the superclass of the class containing the method being executed. In particular, note that the vtable lookup does not use or depend on the runtime type of the target object.\r\n\r\nIn your example, the invoke-virtual instruction is being called on the result of\r\n \r\n    iget-object v2, p0, Lcom/sds/android/ttpod/app/modules/skin/view/SeekBarExpansion$a;-&gt;b:Landroid/graphics/drawable/Drawable;\r\n\r\nAt this point, the actual method that is called depends on the actual type of v2, which could be any subclass of Drawable.\r\n\r\nThe invoke-super instruction is being called on the p0 register, which likely contains the &quot;this&quot; reference for the current object. However, the runtime type of p0 doesn&#39;t actually matter. The invoke-super instruction will always call Drawable&#39;s implementation of setBounds, regardless of the runtime type of p0.","title":".smali invoke-virtual &amp; invoke-super","body":"<p>invoke-virtual performs a virtual table lookup using the vtable associated with the target object's class (i.e. the actual runtime type of the first argument).</p>\n\n<p>However, invoke-super is slightly different. It performs a vtable lookup using the superclass of the class containing the method being executed. In particular, note that the vtable lookup does not use or depend on the runtime type of the target object.</p>\n\n<p>In your example, the invoke-virtual instruction is being called on the result of</p>\n\n<pre><code>iget-object v2, p0, Lcom/sds/android/ttpod/app/modules/skin/view/SeekBarExpansion$a;-&gt;b:Landroid/graphics/drawable/Drawable;\n</code></pre>\n\n<p>At this point, the actual method that is called depends on the actual type of v2, which could be any subclass of Drawable.</p>\n\n<p>The invoke-super instruction is being called on the p0 register, which likely contains the \"this\" reference for the current object. However, the runtime type of p0 doesn't actually matter. The invoke-super instruction will always call Drawable's implementation of setBounds, regardless of the runtime type of p0.</p>\n"}],"owner":{"account_id":1289694,"reputation":141,"user_id":1242015,"accept_rate":75,"display_name":"yi2ng2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23526336,"answer_count":1,"score":1,"last_activity_date":1677185979,"creation_date":1399474995,"question_id":23521442,"body_markdown":"I am trying to generate a call graph based on .smali file. However, I encountered a confusing case as follow:\r\n\r\n```smali\r\n.super Landroid/graphics/drawable/Drawable;\r\n.source &quot;SBarExp.java&quot;\r\n\r\n.method public final setBounds(Landroid/graphics/Rect;)V\r\n  .line 514\r\n  iget-object v2, p0, Lcom/sds/android/ttpod/app/modules/skin/view/SeekBarExpansion$a;-&gt;b:Landroid/graphics/drawable/Drawable;\r\n  invoke-virtual {v2, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V\r\n  .line 515\r\n  invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V\r\n.end method\r\n```\r\n\r\nBased on my understanding, `invoke-super` simply means it is going to call a parent method, so \r\n\r\n`invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V`\r\ncan be interpreted as `Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V` ?\r\n\r\nIf yes, I would like to know if `invoke-virtual {v2, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V` is the same as `invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V`?\r\n\r\nIf not, what is the difference? If yes, why is it invoking the same method twice (using different ways)?\r\n\r\nPlease help, many thanks!","title":".smali invoke-virtual &amp; invoke-super","body":"<p>I am trying to generate a call graph based on .smali file. However, I encountered a confusing case as follow:</p>\n<pre><code>.super Landroid/graphics/drawable/Drawable;\n.source &quot;SBarExp.java&quot;\n\n.method public final setBounds(Landroid/graphics/Rect;)V\n  .line 514\n  iget-object v2, p0, Lcom/sds/android/ttpod/app/modules/skin/view/SeekBarExpansion$a;-&gt;b:Landroid/graphics/drawable/Drawable;\n  invoke-virtual {v2, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V\n  .line 515\n  invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V\n.end method\n</code></pre>\n<p>Based on my understanding, <code>invoke-super</code> simply means it is going to call a parent method, so</p>\n<p><code>invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V</code>\ncan be interpreted as <code>Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V</code> ?</p>\n<p>If yes, I would like to know if <code>invoke-virtual {v2, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V</code> is the same as <code>invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V</code>?</p>\n<p>If not, what is the difference? If yes, why is it invoking the same method twice (using different ways)?</p>\n<p>Please help, many thanks!</p>\n"},{"tags":["java","rest","jackson","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":9169487,"reputation":71,"user_id":6817637,"display_name":"Sidharta Noleto"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473545020,"creation_date":1473545020,"answer_id":39431006,"question_id":38757946,"body_markdown":"I had the same problem recently using SpringMVC and Jackson!\r\n\r\nIn Spring, when you explicit configure your endpoint to consume only `application/x-www-form-urlencoded` requests Spring is able to serialize into your POJO classes but it does not use Jackson because it isn&#39;t JSON. \r\n\r\nSo, in order to get those Jackson annotations working using your POJO, you&#39;ll have to:\r\n\r\n 1. Get your data as a map\r\n 2. Parse your data map with Jackson&#39;s ObjectMapper\r\n\r\nIn my case, with Spring I could resolve this problem with the following code:\r\n\r\n    @RequestMapping(\r\n            value = &quot;/rest/sth&quot;,\r\n            method = RequestMethod.POST\r\n    )\r\n    public ResponseEntity&lt;String&gt; create(@RequestBody MultiValueMap paramMap) { ... }\r\n\r\nWhen you remove the &quot;consumes&quot; attribute from `@RequestMapping` annotation you have to use `@RequestBody` or else Spring won&#39;t be able to identify your map as a valid parameter.\r\n\r\nOne thing that you&#39;ll probably notice is that `MultiValueMap` is not a regular map. Each element value is a `LinkedList` because http form data can repeat values and therefore those values would be added to that linked list.\r\n\r\n With that in mind, here is a simple code to get the first element and create another map to convert to your POJO:\r\n\r\n        HashMap&lt;String, Object&gt; newMap = new HashMap&lt;&gt;();\r\n        Arrays.asList(new String[]{&quot;my_name&quot;, &quot;my_phone&quot;})\r\n                .forEach( k -&gt; newMap.put(k, ((List&lt;?&gt;) paramMap.get(k)).get(0)));\r\n\r\n        MyRequest myrequest = new ObjectMapper().convertValue(newMap, MyRequest.class);\r\n\r\nI hope it can help you how it helped me :)\r\n","title":"@JsonProperty not working for Content-Type : application/x-www-form-urlencoded","body":"<p>I had the same problem recently using SpringMVC and Jackson!</p>\n\n<p>In Spring, when you explicit configure your endpoint to consume only <code>application/x-www-form-urlencoded</code> requests Spring is able to serialize into your POJO classes but it does not use Jackson because it isn't JSON. </p>\n\n<p>So, in order to get those Jackson annotations working using your POJO, you'll have to:</p>\n\n<ol>\n<li>Get your data as a map</li>\n<li>Parse your data map with Jackson's ObjectMapper</li>\n</ol>\n\n<p>In my case, with Spring I could resolve this problem with the following code:</p>\n\n<pre><code>@RequestMapping(\n        value = \"/rest/sth\",\n        method = RequestMethod.POST\n)\npublic ResponseEntity&lt;String&gt; create(@RequestBody MultiValueMap paramMap) { ... }\n</code></pre>\n\n<p>When you remove the \"consumes\" attribute from <code>@RequestMapping</code> annotation you have to use <code>@RequestBody</code> or else Spring won't be able to identify your map as a valid parameter.</p>\n\n<p>One thing that you'll probably notice is that <code>MultiValueMap</code> is not a regular map. Each element value is a <code>LinkedList</code> because http form data can repeat values and therefore those values would be added to that linked list.</p>\n\n<p>With that in mind, here is a simple code to get the first element and create another map to convert to your POJO:</p>\n\n<pre><code>    HashMap&lt;String, Object&gt; newMap = new HashMap&lt;&gt;();\n    Arrays.asList(new String[]{\"my_name\", \"my_phone\"})\n            .forEach( k -&gt; newMap.put(k, ((List&lt;?&gt;) paramMap.get(k)).get(0)));\n\n    MyRequest myrequest = new ObjectMapper().convertValue(newMap, MyRequest.class);\n</code></pre>\n\n<p>I hope it can help you how it helped me :)</p>\n"},{"tags":[],"owner":{"account_id":3142653,"reputation":829,"user_id":2657814,"display_name":"Abdelhafid"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508418099,"creation_date":1508418099,"answer_id":46830525,"question_id":38757946,"body_markdown":"I think that the very simple solution, is to have a setter related to the variables with &quot;_&quot;.\r\n\r\n    public class MyRequest {\r\n\r\n        @JsonProperty(&quot;my_name&quot;)\r\n        private String myName;\r\n\r\n        @JsonProperty(&quot;my_phone&quot;)\r\n        private String myPhone;\r\n\r\n        //Getters and Setters of myName and myPhone.\r\n\r\n        //Setters for application/x-www-form-urlencoded\r\n        public void setMy_name(String name) {\r\n            setMyName(name);\r\n        }\r\n        ......\r\n    }\r\n\r\nThere are more solutions. See the [link][1].\r\n\r\n\r\n  [1]: https://afitnerd.com/2017/05/24/what-if-spring-boot-handled-forms-like-json/","title":"@JsonProperty not working for Content-Type : application/x-www-form-urlencoded","body":"<p>I think that the very simple solution, is to have a setter related to the variables with \"_\".</p>\n\n<pre><code>public class MyRequest {\n\n    @JsonProperty(\"my_name\")\n    private String myName;\n\n    @JsonProperty(\"my_phone\")\n    private String myPhone;\n\n    //Getters and Setters of myName and myPhone.\n\n    //Setters for application/x-www-form-urlencoded\n    public void setMy_name(String name) {\n        setMyName(name);\n    }\n    ......\n}\n</code></pre>\n\n<p>There are more solutions. See the <a href=\"https://afitnerd.com/2017/05/24/what-if-spring-boot-handled-forms-like-json/\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":18589330,"reputation":81,"user_id":13546911,"display_name":"LittleOnes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648784115,"creation_date":1648784115,"answer_id":71701493,"question_id":38757946,"body_markdown":"Maybe you should use \r\n`@FormProperty(&quot;my_name&quot;)` instead of \r\n`@JsonProperty(&quot;my_name&quot;)` \r\nfor x-www-form-urlencoded encoding as JSON.\r\n\r\nhere&#39;s the similar question:\r\nhttps://github.com/micronaut-projects/micronaut-core/issues/1853#issuecomment-662915261","title":"@JsonProperty not working for Content-Type : application/x-www-form-urlencoded","body":"<p>Maybe you should use\n<code>@FormProperty(&quot;my_name&quot;)</code> instead of\n<code>@JsonProperty(&quot;my_name&quot;)</code>\nfor x-www-form-urlencoded encoding as JSON.</p>\n<p>here's the similar question:\n<a href=\"https://github.com/micronaut-projects/micronaut-core/issues/1853#issuecomment-662915261\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/issues/1853#issuecomment-662915261</a></p>\n"}],"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8092,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1677185167,"creation_date":1470280711,"question_id":38757946,"body_markdown":"The REST API takes input content type : application/x-www-form-urlencoded, when it is mapped to a Java Object, like\r\n\r\n  \r\n\r\n     public class MyRequest {\r\n        \r\n        @JsonProperty(&quot;my_name&quot;)\r\n        private String myName;\r\n        \r\n        @JsonProperty(&quot;my_phone&quot;)\r\n        private String myPhone;\r\n        \r\n        //Getters and Setters of myName and myPhone.\r\n        \r\n        }\r\n\r\nIn form input request, I am setting values of my_name and my_phone but the MyRequest object comes with myName and myPhone as null.\r\n\r\nI am using Jackson-annotations 2.3 jar\r\n\r\nAny Suggestions what may be wrong ?\r\n","title":"@JsonProperty not working for Content-Type : application/x-www-form-urlencoded","body":"<p>The REST API takes input content type : application/x-www-form-urlencoded, when it is mapped to a Java Object, like</p>\n\n<pre><code> public class MyRequest {\n\n    @JsonProperty(\"my_name\")\n    private String myName;\n\n    @JsonProperty(\"my_phone\")\n    private String myPhone;\n\n    //Getters and Setters of myName and myPhone.\n\n    }\n</code></pre>\n\n<p>In form input request, I am setting values of my_name and my_phone but the MyRequest object comes with myName and myPhone as null.</p>\n\n<p>I am using Jackson-annotations 2.3 jar</p>\n\n<p>Any Suggestions what may be wrong ?</p>\n"},{"tags":["java","android","file","share","sharing"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651830643,"post_id":72139453,"comment_id":127462383,"body_markdown":"Why is the exported tag false?","body":"Why is the exported tag false?"},{"owner":{"account_id":24897733,"reputation":21,"user_id":18768786,"display_name":"Lorenzo "},"score":0,"creation_date":1651831072,"post_id":72139453,"comment_id":127462547,"body_markdown":"From documentation: Set the android:exported attribute to false; the FileProvider does not need to be public.","body":"From documentation: Set the android:exported attribute to false; the FileProvider does not need to be public."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651831120,"post_id":72139453,"comment_id":127462558,"body_markdown":"ok. But, I doubt a bit on `intentShare.setType(&quot;text/*&quot;);`. Might be I am wrong","body":"ok. But, I doubt a bit on <code>intentShare.setType(&quot;text&#47;*&quot;);</code>. Might be I am wrong"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651831717,"post_id":72139453,"comment_id":127462783,"body_markdown":"`The permissions that I require in the Activity:` You do not need that permission for getFilesDir().","body":"<code>The permissions that I require in the Activity:</code> You do not need that permission for getFilesDir()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651831846,"post_id":72139453,"comment_id":127462826,"body_markdown":"Try without the chooser.","body":"Try without the chooser."}],"answers":[{"tags":[],"owner":{"account_id":15980042,"reputation":274,"user_id":11531910,"display_name":"Mahdi Iranmanesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651831178,"creation_date":1651831178,"answer_id":72139631,"question_id":72139453,"body_markdown":"you must grant uri permission before starting intentShare ,\r\nlike this code:\r\n\r\n```\r\ncontext.grantUriPermission(\r\n                &quot;your.package.name&quot;,\r\n                contentUri,\r\n                Intent.FLAG_GRANT_WRITE_URI_PERMISSION or Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            )\r\n```\r\n","title":"Share file .txt Android","body":"<p>you must grant uri permission before starting intentShare ,\nlike this code:</p>\n<pre><code>context.grantUriPermission(\n                &quot;your.package.name&quot;,\n                contentUri,\n                Intent.FLAG_GRANT_WRITE_URI_PERMISSION or Intent.FLAG_GRANT_READ_URI_PERMISSION\n            )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12966828,"reputation":11,"user_id":9374040,"display_name":"Vladyslav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677184855,"creation_date":1677184855,"answer_id":75550107,"question_id":72139453,"body_markdown":"I had the same problem and spent a lot of time on it. But the solution was not in the code. \r\nOn my Xiaomi device, the &quot;MIUI optimisation&quot; setting was disabled. It is located at the bottom of the developer&#39;s options. After I enabled it, file sharing started to work perfectly.","title":"Share file .txt Android","body":"<p>I had the same problem and spent a lot of time on it. But the solution was not in the code.\nOn my Xiaomi device, the &quot;MIUI optimisation&quot; setting was disabled. It is located at the bottom of the developer's options. After I enabled it, file sharing started to work perfectly.</p>\n"}],"owner":{"account_id":24897733,"reputation":21,"user_id":18768786,"display_name":"Lorenzo "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677184855,"creation_date":1651830371,"question_id":72139453,"body_markdown":"I&#39;m trying to share a .txt file to another app (gmail for example) but I have some problems. I decided to use the file provider. When I select gmail among the apps to share the file with, the app returns me the &quot;Couldn&#39;t attach file&quot; toast.\r\n\r\n\r\nI write the file txt in internal memory with this method:\r\n\r\n    public void esportaTxt(Graph graph, int id){\r\n            final String FILE_NAME = id + &quot;_TXT&quot; + &quot;.txt&quot;;\r\n            List&lt;Zona&gt; zone = new ArrayList&lt;&gt;();\r\n            Iterator&lt;Zona&gt; iterator = graph.vertexSet().iterator();\r\n    \r\n            zone = fromIteratorToArrayZone(iterator);\r\n    \r\n            File fileOutputFolder = new File(context.getFilesDir(), &quot;fileOutput&quot;); //cartella in cui salvare i file da condividere\r\n    \r\n            FileOutputStream fileOutputStream = null;\r\n            try {\r\n                fileOutputFolder.mkdirs(); //crea la cartella se non esiste\r\n                File file = new File(fileOutputFolder, FILE_NAME); //il file da salvare\r\n    \r\n                fileOutputStream = new FileOutputStream(file);\r\n    \r\n                for(int i = 0; i &lt; zone.size(); i++){\r\n                    fileOutputStream.write((i + 1 + &quot;) &quot; + zone.get(i).getNome() + &quot;\\n&quot;).getBytes());\r\n    \r\n                    Iterator&lt;Oggetto&gt; iteratoreOggetti = zone.get(i).getListaOggetti().iterator();\r\n                    while (iteratoreOggetti.hasNext()){\r\n                        fileOutputStream.write((&quot;   - &quot; + iteratoreOggetti.next().getNome() + &quot;\\n&quot;).getBytes());\r\n                    }\r\n                }\r\n    \r\n                contentUri = FileProvider.getUriForFile(context, &quot;com.example.eculturetool.fileprovider&quot;, file);\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if(fileOutputStream != null){\r\n                    try {\r\n                        fileOutputStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nI share the file txt with the following method:\r\n\r\n    public void shareFileTxt(int id){\r\n            String fileName = id + &quot;_TXT.txt&quot;;\r\n            String stringFile = context.getFilesDir() +  &quot;/fileOutput&quot; +  File.separator + fileName;\r\n    \r\n            File file = new File(stringFile);\r\n            contentUri = FileProvider.getUriForFile(context, &quot;com.example.eculturetool.fileprovider&quot;, file);\r\n    \r\n            if(!file.exists()){\r\n                Toast.makeText(context, &quot;Il file non esiste!&quot;, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n    \r\n    \r\n            Intent intentShare = new Intent(Intent.ACTION_SEND);\r\n            intentShare.setType(&quot;text/*&quot;);\r\n            intentShare.putExtra(Intent.EXTRA_SUBJECT, &quot;Subject Here&quot;); //per condividere con email app\r\n            intentShare.putExtra(Intent.EXTRA_STREAM, contentUri);\r\n            intentShare.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            context.startActivity(Intent.createChooser(intentShare, &quot;Condividi file&quot;));\r\n        }\r\n\r\n\r\nThe permissions that I require in the Activity:\r\n\r\n    ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE}, PERMISSION_GRANTED);\r\n            StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\r\n            StrictMode.setVmPolicy(builder.build());\r\n\r\n\r\nProvider in android manifest:\r\n\r\n    &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;com.example.eculturetool.fileprovider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n            &lt;/provider&gt;\r\n\r\n\r\nThe screen of Gmail\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XdRmT.png","title":"Share file .txt Android","body":"<p>I'm trying to share a .txt file to another app (gmail for example) but I have some problems. I decided to use the file provider. When I select gmail among the apps to share the file with, the app returns me the &quot;Couldn't attach file&quot; toast.</p>\n<p>I write the file txt in internal memory with this method:</p>\n<pre><code>public void esportaTxt(Graph graph, int id){\n        final String FILE_NAME = id + &quot;_TXT&quot; + &quot;.txt&quot;;\n        List&lt;Zona&gt; zone = new ArrayList&lt;&gt;();\n        Iterator&lt;Zona&gt; iterator = graph.vertexSet().iterator();\n\n        zone = fromIteratorToArrayZone(iterator);\n\n        File fileOutputFolder = new File(context.getFilesDir(), &quot;fileOutput&quot;); //cartella in cui salvare i file da condividere\n\n        FileOutputStream fileOutputStream = null;\n        try {\n            fileOutputFolder.mkdirs(); //crea la cartella se non esiste\n            File file = new File(fileOutputFolder, FILE_NAME); //il file da salvare\n\n            fileOutputStream = new FileOutputStream(file);\n\n            for(int i = 0; i &lt; zone.size(); i++){\n                fileOutputStream.write((i + 1 + &quot;) &quot; + zone.get(i).getNome() + &quot;\\n&quot;).getBytes());\n\n                Iterator&lt;Oggetto&gt; iteratoreOggetti = zone.get(i).getListaOggetti().iterator();\n                while (iteratoreOggetti.hasNext()){\n                    fileOutputStream.write((&quot;   - &quot; + iteratoreOggetti.next().getNome() + &quot;\\n&quot;).getBytes());\n                }\n            }\n\n            contentUri = FileProvider.getUriForFile(context, &quot;com.example.eculturetool.fileprovider&quot;, file);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if(fileOutputStream != null){\n                try {\n                    fileOutputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I share the file txt with the following method:</p>\n<pre><code>public void shareFileTxt(int id){\n        String fileName = id + &quot;_TXT.txt&quot;;\n        String stringFile = context.getFilesDir() +  &quot;/fileOutput&quot; +  File.separator + fileName;\n\n        File file = new File(stringFile);\n        contentUri = FileProvider.getUriForFile(context, &quot;com.example.eculturetool.fileprovider&quot;, file);\n\n        if(!file.exists()){\n            Toast.makeText(context, &quot;Il file non esiste!&quot;, Toast.LENGTH_LONG).show();\n            return;\n        }\n\n\n        Intent intentShare = new Intent(Intent.ACTION_SEND);\n        intentShare.setType(&quot;text/*&quot;);\n        intentShare.putExtra(Intent.EXTRA_SUBJECT, &quot;Subject Here&quot;); //per condividere con email app\n        intentShare.putExtra(Intent.EXTRA_STREAM, contentUri);\n        intentShare.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        context.startActivity(Intent.createChooser(intentShare, &quot;Condividi file&quot;));\n    }\n</code></pre>\n<p>The permissions that I require in the Activity:</p>\n<pre><code>ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE}, PERMISSION_GRANTED);\n        StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\n        StrictMode.setVmPolicy(builder.build());\n</code></pre>\n<p>Provider in android manifest:</p>\n<pre><code>&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.eculturetool.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n        &lt;/provider&gt;\n</code></pre>\n<p>The screen of Gmail\n<img src=\"https://i.stack.imgur.com/XdRmT.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","postgresql","ssl","jdbc"],"comments":[{"owner":{"account_id":4616597,"reputation":353,"user_id":3742898,"display_name":"user3742898"},"score":0,"creation_date":1677191442,"post_id":75550099,"comment_id":133294867,"body_markdown":"It turns out that if I add an alias of &quot;user&quot; (not the name of the user.  Literally &quot;user&quot;) to the cert in the pkcs12 file, it works.  That can _not_ be the intended solution.","body":"It turns out that if I add an alias of &quot;user&quot; (not the name of the user.  Literally &quot;user&quot;) to the cert in the pkcs12 file, it works.  That can <i>not</i> be the intended solution."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1677195157,"post_id":75550099,"comment_id":133295526,"body_markdown":"What does &#39;adding an alias of &quot;user&quot;&#39; look like, in terms of openssl commands.  Or whatever tool is being used.","body":"What does &#39;adding an alias of &quot;user&quot;&#39; look like, in terms of openssl commands.  Or whatever tool is being used."},{"owner":{"account_id":4616597,"reputation":353,"user_id":3742898,"display_name":"user3742898"},"score":0,"creation_date":1677604620,"post_id":75550099,"comment_id":133369452,"body_markdown":"`openssl pkcs12 -export -out ssl_cert_with_user_username.p12 -in cert.pem -name user -inkey cert.key -passout pass:changeit`\n\nyields\n\n`openssl pkcs12 -info -in local/nss1/2023-02-14/ssl_cert_with_user_username.p12 | grep friendly`\n    friendlyName: user","body":"<code>openssl pkcs12 -export -out ssl_cert_with_user_username.p12 -in cert.pem -name user -inkey cert.key -passout pass:changeit</code>  yields  <code>openssl pkcs12 -info -in local&#47;nss1&#47;2023-02-14&#47;ssl_cert_with_user_username.p12 | grep friendly</code>     friendlyName: user"},{"owner":{"account_id":50479,"reputation":431,"user_id":150600,"display_name":"iboisver"},"score":0,"creation_date":1702151556,"post_id":75550099,"comment_id":136862755,"body_markdown":"I was also having a problem connecting, different exception `org.postgresql.util.PSQLException: FATAL: connection requires a valid client certificate`. Adding `-name user` to `openssl pkcs12 -export` seems to solve the issue. To be fair, docs [here](https://jdbc.postgresql.org/documentation/use/) actually mention this. For some reason though I need to provide both `sslcert` and `sslkey`, where sslkey is the PKCS 12 file.","body":"I was also having a problem connecting, different exception <code>org.postgresql.util.PSQLException: FATAL: connection requires a valid client certificate</code>. Adding <code>-name user</code> to <code>openssl pkcs12 -export</code> seems to solve the issue. To be fair, docs <a href=\"https://jdbc.postgresql.org/documentation/use/\" rel=\"nofollow noreferrer\">here</a> actually mention this. For some reason though I need to provide both <code>sslcert</code> and <code>sslkey</code>, where sslkey is the PKCS 12 file."}],"owner":{"account_id":4616597,"reputation":353,"user_id":3742898,"display_name":"user3742898"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677184781,"creation_date":1677184781,"question_id":75550099,"body_markdown":"I&#39;m trying to use client cert in a pkcs12 file for postgres JDBC auth, but it&#39;s not working for me.  I&#39;ve tried a variety of versions of the driver &gt;= 42.2.9.  Some of them provide different stack traces, but I think they boil down to the same thing.\r\n\r\nPer [the doc](https://jdbc.postgresql.org/documentation/ssl/)\r\n\r\n&gt; As of version 42.2.9 PKCS-12 is also supported. In this archive format the client key and the client certificate are in one file, which needs to be set with the sslkey parameter. For the PKCS-12 format to be recognized, the file extension must be .p12 (supported since 42.2.9) or .pfx (since 42.2.16). (In this case the sslcert parameter is ignored.)\r\n\r\nI even extracted the pems from the pkcs12 file (there&#39;s a chain of certs up to and including the CA, as well as the key for the leaf cert), created a chain cert pem file, and a pkcs8 file for the key, and _that_ works fine.  I then created a new p12 file from the pem &amp; pkcs8 files, and that doesn&#39;t work either.\r\n\r\nI&#39;ve also created a properties file, and passed that into the `getConnection`, and I get the same error.\r\n\r\nThe code below (edited for brevity) yields the output below that.\r\n\r\nMy gut tells me that there&#39;s some kind of encoding issue, but I can&#39;t find doc on what pkcs12 encodings are accepted by the postgres driver (I also created a p12 file using &quot;-descert&quot;, same result).  Another idea is that I may need some jar on the classpath at runtime, but I also can&#39;t find doc on that.\r\n\r\n\r\nAny ideas?  Thank you.\r\n\r\n\r\n```\r\n    log.info(&quot;the all-args-in-the-uri uri is {}&quot;, uri);\r\n    try (Connection conn = DriverManager.getConnection(uri)) {\r\n    } catch (Exception e) {\r\n        log.error(&quot;problem with query-args based appoach&quot;, e);\r\n    }\r\n```\r\n\r\n\r\n```\r\n13:59:36.411 [main] INFO  com.company_name.app_name.App - the all-args-in-the-uri uri is jdbc:postgresql://hostname.net:5432/db_name?sslmode=verify-ca&amp;sslpassword=company_name&amp;sslkey=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/ssl_cert.p12&amp;sslcert=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/ssl_cert.p12&amp;ssl=true&amp;user=app_name-prod_readonly&amp;sslrootcert=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/canonical_ca_roots.pem\r\n13:59:37.568 [main] ERROR com.company_name.app_name.App - problem with query-args based appoach\r\norg.postgresql.util.PSQLException: Could not find a java cryptographic algorithm: X.509 CertificateFactory not available.\r\n\tat org.postgresql.ssl.PKCS12KeyManager.getCertificateChain(PKCS12KeyManager.java:116) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.ssl.PKCS12KeyManager.chooseClientAlias(PKCS12KeyManager.java:77) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat java.base/sun.security.ssl.AbstractKeyManagerWrapper.chooseClientAlias(SSLContextImpl.java:1744) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:231) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:206) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:90) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436) ~[na:na]\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011) ~[na:na]\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1416) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427) ~[na:na]\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:40) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:441) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:135) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:211) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:458) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.Driver.connect(Driver.java:260) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677) ~[java.sql:na]\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251) ~[java.sql:na]\r\n\tat com.company_name.app_name.App.testUriBased(App.java:265) ~[classes/:na]\r\n\tat com.company_name.app_name.App.main(App.java:69) ~[classes/:na]\r\nCaused by: java.lang.NullPointerException: null\r\n\tat org.postgresql.ssl.PKCS12KeyManager.getCertificateChain(PKCS12KeyManager.java:109) ~[postgresql-42.2.9.jar:42.2.9]\r\n\t... 32 common frames omitted\r\n13:59:37.568 [main] INFO  com.company_name.app_name.App - \r\n```","title":"pkcs12 client cert file for postgres jdbc","body":"<p>I'm trying to use client cert in a pkcs12 file for postgres JDBC auth, but it's not working for me.  I've tried a variety of versions of the driver &gt;= 42.2.9.  Some of them provide different stack traces, but I think they boil down to the same thing.</p>\n<p>Per <a href=\"https://jdbc.postgresql.org/documentation/ssl/\" rel=\"nofollow noreferrer\">the doc</a></p>\n<blockquote>\n<p>As of version 42.2.9 PKCS-12 is also supported. In this archive format the client key and the client certificate are in one file, which needs to be set with the sslkey parameter. For the PKCS-12 format to be recognized, the file extension must be .p12 (supported since 42.2.9) or .pfx (since 42.2.16). (In this case the sslcert parameter is ignored.)</p>\n</blockquote>\n<p>I even extracted the pems from the pkcs12 file (there's a chain of certs up to and including the CA, as well as the key for the leaf cert), created a chain cert pem file, and a pkcs8 file for the key, and <em>that</em> works fine.  I then created a new p12 file from the pem &amp; pkcs8 files, and that doesn't work either.</p>\n<p>I've also created a properties file, and passed that into the <code>getConnection</code>, and I get the same error.</p>\n<p>The code below (edited for brevity) yields the output below that.</p>\n<p>My gut tells me that there's some kind of encoding issue, but I can't find doc on what pkcs12 encodings are accepted by the postgres driver (I also created a p12 file using &quot;-descert&quot;, same result).  Another idea is that I may need some jar on the classpath at runtime, but I also can't find doc on that.</p>\n<p>Any ideas?  Thank you.</p>\n<pre><code>    log.info(&quot;the all-args-in-the-uri uri is {}&quot;, uri);\n    try (Connection conn = DriverManager.getConnection(uri)) {\n    } catch (Exception e) {\n        log.error(&quot;problem with query-args based appoach&quot;, e);\n    }\n</code></pre>\n<pre><code>13:59:36.411 [main] INFO  com.company_name.app_name.App - the all-args-in-the-uri uri is jdbc:postgresql://hostname.net:5432/db_name?sslmode=verify-ca&amp;sslpassword=company_name&amp;sslkey=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/ssl_cert.p12&amp;sslcert=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/ssl_cert.p12&amp;ssl=true&amp;user=app_name-prod_readonly&amp;sslrootcert=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/canonical_ca_roots.pem\n13:59:37.568 [main] ERROR com.company_name.app_name.App - problem with query-args based appoach\norg.postgresql.util.PSQLException: Could not find a java cryptographic algorithm: X.509 CertificateFactory not available.\n    at org.postgresql.ssl.PKCS12KeyManager.getCertificateChain(PKCS12KeyManager.java:116) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.ssl.PKCS12KeyManager.chooseClientAlias(PKCS12KeyManager.java:77) ~[postgresql-42.2.9.jar:42.2.9]\n    at java.base/sun.security.ssl.AbstractKeyManagerWrapper.chooseClientAlias(SSLContextImpl.java:1744) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:231) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:206) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:90) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436) ~[na:na]\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011) ~[na:na]\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1416) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427) ~[na:na]\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:40) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:441) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:135) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:211) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.Driver.makeConnection(Driver.java:458) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.Driver.connect(Driver.java:260) ~[postgresql-42.2.9.jar:42.2.9]\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677) ~[java.sql:na]\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251) ~[java.sql:na]\n    at com.company_name.app_name.App.testUriBased(App.java:265) ~[classes/:na]\n    at com.company_name.app_name.App.main(App.java:69) ~[classes/:na]\nCaused by: java.lang.NullPointerException: null\n    at org.postgresql.ssl.PKCS12KeyManager.getCertificateChain(PKCS12KeyManager.java:109) ~[postgresql-42.2.9.jar:42.2.9]\n    ... 32 common frames omitted\n13:59:37.568 [main] INFO  com.company_name.app_name.App - \n</code></pre>\n"},{"tags":["java","amazon-web-services","ssl"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1474593208,"post_id":39650898,"comment_id":66605400,"body_markdown":"You are invoking it how?","body":"You are invoking it how?"},{"owner":{"account_id":6597541,"reputation":778,"user_id":5096800,"display_name":"riversun"},"score":0,"creation_date":1474945382,"post_id":39650898,"comment_id":66728481,"body_markdown":"BCFKS for bouncy castle? If you want to use default type of ks,`KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());`","body":"BCFKS for bouncy castle? If you want to use default type of ks,<code>KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());</code>"},{"owner":{"account_id":69843,"reputation":10240,"user_id":203018,"accept_rate":84,"display_name":"yogsma"},"score":0,"creation_date":1474992369,"post_id":39650898,"comment_id":66756217,"body_markdown":"Yes BCFKS for bouncy castle","body":"Yes BCFKS for bouncy castle"},{"owner":{"account_id":379775,"reputation":536,"user_id":733367,"accept_rate":100,"display_name":"sadiq.ali"},"score":0,"creation_date":1475261107,"post_id":39650898,"comment_id":66888989,"body_markdown":"Try to print all the trust managers and see if you have more than one. The first one seems to be `DummyX509TrustManager`.","body":"Try to print all the trust managers and see if you have more than one. The first one seems to be <code>DummyX509TrustManager</code>."},{"owner":{"account_id":4232566,"reputation":1533,"user_id":3464596,"display_name":"Hrabosch"},"score":0,"creation_date":1475492512,"post_id":39650898,"comment_id":66949694,"body_markdown":"Did you try to set provider to Security if it is null? And if it is null, then  `Security.addProvider(new YourProvider());`?","body":"Did you try to set provider to Security if it is null? And if it is null, then  <code>Security.addProvider(new YourProvider());</code>?"},{"owner":{"account_id":2426636,"reputation":2581,"user_id":2118422,"accept_rate":18,"display_name":"Rahul Munjal"},"score":0,"creation_date":1480430446,"post_id":39650898,"comment_id":68952686,"body_markdown":"I am facing the same issue. Can you share me your updated AWS S3 client creation code on my email id (er.rahulmunjal@gmail.com) ?","body":"I am facing the same issue. Can you share me your updated AWS S3 client creation code on my email id (er.rahulmunjal@gmail.com) ?"}],"answers":[{"tags":[],"owner":{"account_id":69843,"reputation":10240,"user_id":203018,"accept_rate":84,"display_name":"yogsma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1475503605,"creation_date":1475503605,"answer_id":39833595,"question_id":39650898,"body_markdown":"This was resolved when we moved the AWS-client initialization to a place after setting the trust store password. In my code, I was creating AWS-Client too early. ","title":"No X509TrustManager Implementation available","body":"<p>This was resolved when we moved the AWS-client initialization to a place after setting the trust store password. In my code, I was creating AWS-Client too early. </p>\n"},{"tags":[],"owner":{"account_id":1093328,"reputation":41,"user_id":1087459,"display_name":"ramysram"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520326599,"creation_date":1520326599,"answer_id":49126837,"question_id":39650898,"body_markdown":"After debuggging for several hours, it turned out to be a corrupted keystore in my case. Check if you can list the contents of the keystore using the keytool command.","title":"No X509TrustManager Implementation available","body":"<p>After debuggging for several hours, it turned out to be a corrupted keystore in my case. Check if you can list the contents of the keystore using the keytool command.</p>\n"},{"tags":[],"owner":{"account_id":6949511,"reputation":959,"user_id":5332575,"accept_rate":29,"display_name":"Arjun Kalidas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677184773,"creation_date":1677184773,"answer_id":75550097,"question_id":39650898,"body_markdown":"In my case, I was invoking a SOAP service that needed SSL authentication before my truststore was built. So the service call didn&#39;t have a certificate or at least a fully formed one and that caused the service invocation to fail with this error.\r\n\r\nWhen I moved the spring initialization first, then trust store building, and finally service call, that fixed it. To create a certificate, you can do the following:\r\n\r\n \r\n\r\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    trustStore.load(null, null);\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    \r\n    FileInputStream fis = null;\r\n    FileOutputStream fos = null;\r\n    \r\n    fis = new FileInputStream(&lt;your cert file&gt;);\r\n    X509Certificate certificate = (X509Certificate)cf.generateCertificate(fis);\r\n    fis.close();\r\n    \r\n    trustStore.setCertificateEntry(&lt;cert name/alias&gt;, certificate);\r\n    fos = new FileOutputStream(&lt;path of the file to write to&gt;);\r\n    // &quot;changeit&quot; is the default password that is used.\r\n    trustStore.store(fos, &quot;changeit&quot;.toCharArray());\r\n    fos.close();\r\n\r\nIf it is PKCS12 that you want, replace it in the place of JKS.\r\n","title":"No X509TrustManager Implementation available","body":"<p>In my case, I was invoking a SOAP service that needed SSL authentication before my truststore was built. So the service call didn't have a certificate or at least a fully formed one and that caused the service invocation to fail with this error.</p>\n<p>When I moved the spring initialization first, then trust store building, and finally service call, that fixed it. To create a certificate, you can do the following:</p>\n<pre><code>KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\ntrustStore.load(null, null);\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\nFileInputStream fis = null;\nFileOutputStream fos = null;\n\nfis = new FileInputStream(&lt;your cert file&gt;);\nX509Certificate certificate = (X509Certificate)cf.generateCertificate(fis);\nfis.close();\n\ntrustStore.setCertificateEntry(&lt;cert name/alias&gt;, certificate);\nfos = new FileOutputStream(&lt;path of the file to write to&gt;);\n// &quot;changeit&quot; is the default password that is used.\ntrustStore.store(fos, &quot;changeit&quot;.toCharArray());\nfos.close();\n</code></pre>\n<p>If it is PKCS12 that you want, replace it in the place of JKS.</p>\n"}],"owner":{"account_id":69843,"reputation":10240,"user_id":203018,"accept_rate":84,"display_name":"yogsma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28081,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":39833595,"answer_count":3,"score":14,"last_activity_date":1677184773,"creation_date":1474591372,"question_id":39650898,"body_markdown":"I am invoking an AWS API, I keep running into following error \r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.AmazonClientException: Unable to execute HTTP request: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n           at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:709)\r\n           at com.amazonaws.http.AmazonHttpClient.doExecute(AmazonHttpClient.java:449)\r\n           at com.amazonaws.http.AmazonHttpClient.executeWithTimer(AmazonHttpClient.java:411)\r\n           at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:360)\r\n           at com.amazonaws.services.kms.AWSKMSClient.doInvoke(AWSKMSClient.java:2723)\r\n           at com.amazonaws.services.kms.AWSKMSClient.invoke(AWSKMSClient.java:2693)\r\n           at com.amazonaws.services.kms.AWSKMSClient.generateDataKey(AWSKMSClient.java:1488)\r\n           at com.infor.aws.KMSTest.createDEK(KMSTest.java:217)\r\n           at com.infor.aws.KMSTest.main(KMSTest.java:144)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n           at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n           at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)\r\n           at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\r\n           at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\r\n           at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)\r\n           at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\r\n           at sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\r\n           at sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\r\n           at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\r\n           at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n           at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n           at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n           at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\r\n           at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\r\n           at com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:132)\r\n           at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\r\n           at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n           at java.lang.reflect.Method.invoke(Method.java:498)\r\n           at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\r\n           at com.amazonaws.http.conn.$Proxy2.connect(Unknown Source)\r\n           at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n           at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n           at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n           at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n           at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n           at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n           at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\r\n           at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:854)\r\n           at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:697)\r\n           ... 8 more\r\n    Caused by: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n           at sun.security.ssl.DummyX509TrustManager.checkServerTrusted(SSLContextImpl.java:1119)\r\n           at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)\r\n           ... 35 more\r\n\r\nI have gone through multiple threads here on Stackoverflow and added all the required truststore, truststoretype system properties. This [thread][1] I have tried. But nothing is working. Has anyone come across this ? I am invoking it like below \r\n\r\n    TrustManagerFactory tmf = TrustManagerFactory\r\n                                       .getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n                               \r\n    KeyStore ks  = KeyStore.getInstance(&quot;BCFKS&quot;);\r\n    ks.load(new FileInputStream(&quot;&lt;jre-home&gt;\\\\\\\\lib\\\\\\\\security\\\\\\\\cacerts&quot;), &quot;changeit&quot;.toCharArray());\r\n    tmf.init(ks);\r\n                               \r\n     // Get hold of the trust manager\r\n    X509TrustManager x509Tm = null;\r\n    for (TrustManager tm : tmf.getTrustManagers()) {\r\n         if (tm instanceof X509TrustManager) {\r\n              x509Tm = (X509TrustManager) tm;\r\n              break;\r\n         }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24856560/no-x509trustmanager-implementation-available-htmlunit\r\n\r\n","title":"No X509TrustManager Implementation available","body":"<p>I am invoking an AWS API, I keep running into following error </p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.AmazonClientException: Unable to execute HTTP request: java.security.cert.CertificateException: No X509TrustManager implementation available\n       at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:709)\n       at com.amazonaws.http.AmazonHttpClient.doExecute(AmazonHttpClient.java:449)\n       at com.amazonaws.http.AmazonHttpClient.executeWithTimer(AmazonHttpClient.java:411)\n       at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:360)\n       at com.amazonaws.services.kms.AWSKMSClient.doInvoke(AWSKMSClient.java:2723)\n       at com.amazonaws.services.kms.AWSKMSClient.invoke(AWSKMSClient.java:2693)\n       at com.amazonaws.services.kms.AWSKMSClient.generateDataKey(AWSKMSClient.java:1488)\n       at com.infor.aws.KMSTest.createDEK(KMSTest.java:217)\n       at com.infor.aws.KMSTest.main(KMSTest.java:144)\nCaused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No X509TrustManager implementation available\n       at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n       at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)\n       at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\n       at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\n       at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)\n       at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\n       at sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n       at sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n       at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\n       at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n       at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n       at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n       at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\n       at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\n       at com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:132)\n       at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\n       at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n       at java.lang.reflect.Method.invoke(Method.java:498)\n       at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n       at com.amazonaws.http.conn.$Proxy2.connect(Unknown Source)\n       at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n       at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n       at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n       at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n       at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n       at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n       at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n       at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:854)\n       at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:697)\n       ... 8 more\nCaused by: java.security.cert.CertificateException: No X509TrustManager implementation available\n       at sun.security.ssl.DummyX509TrustManager.checkServerTrusted(SSLContextImpl.java:1119)\n       at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)\n       ... 35 more\n</code></pre>\n\n<p>I have gone through multiple threads here on Stackoverflow and added all the required truststore, truststoretype system properties. This <a href=\"https://stackoverflow.com/questions/24856560/no-x509trustmanager-implementation-available-htmlunit\">thread</a> I have tried. But nothing is working. Has anyone come across this ? I am invoking it like below </p>\n\n<pre><code>TrustManagerFactory tmf = TrustManagerFactory\n                                   .getInstance(TrustManagerFactory.getDefaultAlgorithm());\n\nKeyStore ks  = KeyStore.getInstance(\"BCFKS\");\nks.load(new FileInputStream(\"&lt;jre-home&gt;\\\\\\\\lib\\\\\\\\security\\\\\\\\cacerts\"), \"changeit\".toCharArray());\ntmf.init(ks);\n\n // Get hold of the trust manager\nX509TrustManager x509Tm = null;\nfor (TrustManager tm : tmf.getTrustManagers()) {\n     if (tm instanceof X509TrustManager) {\n          x509Tm = (X509TrustManager) tm;\n          break;\n     }\n}\n</code></pre>\n"},{"tags":["java","android","vonage"],"owner":{"account_id":3342403,"reputation":1476,"user_id":2808371,"accept_rate":64,"display_name":"an0o0nym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677184645,"creation_date":1677184645,"question_id":75550070,"body_markdown":"I am trying to send a message using nexmo Java SDK.\r\n\r\nI do everything as suggested in nexmo documentation on how to [send a message](https://developer.vonage.com/en/tutorials/in-app-messaging/send-message/java):\r\n\r\n```Java\r\nconversation.sendMessage(NexmoMessage.fromText(text), new NexmoRequestListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onError(@NonNull NexmoApiError error) {\r\n        Log.d(&quot;DEBUG&quot;, &quot;sendMessage onError&quot; + error);\r\n    }\r\n\r\n    @Override\r\n    public void onSuccess(@Nullable Void result) {\r\n        Log.d(&quot;DEBUG&quot;, &quot;sendMessage onSuccess&quot;);\r\n\r\n    }\r\n});\r\n```\r\n\r\nThis all works fine. Messages are getting through. \r\n\r\nMy question is how do I get the `result.id` on successfull response?\r\n\r\nI can see that `conversation.sendMessage` creates POST request to `beta/conversations/{conversation_id}/events` API endpoints which is [documented](https://developer.vonage.com/en/api/conversation#createEvent-responses) to return `id` in response body. But the result is of type `Void` so I get nothing back in result.\r\n\r\nHow can I override this particular method in SDK to get the full response body rather than `null`? Is there any other way to get the ID other than overriding that `sendMessage` method?","title":"Vonage/Nexmo get event ID for conversation.sendMessage","body":"<p>I am trying to send a message using nexmo Java SDK.</p>\n<p>I do everything as suggested in nexmo documentation on how to <a href=\"https://developer.vonage.com/en/tutorials/in-app-messaging/send-message/java\" rel=\"nofollow noreferrer\">send a message</a>:</p>\n<pre><code>conversation.sendMessage(NexmoMessage.fromText(text), new NexmoRequestListener&lt;Void&gt;() {\n    @Override\n    public void onError(@NonNull NexmoApiError error) {\n        Log.d(&quot;DEBUG&quot;, &quot;sendMessage onError&quot; + error);\n    }\n\n    @Override\n    public void onSuccess(@Nullable Void result) {\n        Log.d(&quot;DEBUG&quot;, &quot;sendMessage onSuccess&quot;);\n\n    }\n});\n</code></pre>\n<p>This all works fine. Messages are getting through.</p>\n<p>My question is how do I get the <code>result.id</code> on successfull response?</p>\n<p>I can see that <code>conversation.sendMessage</code> creates POST request to <code>beta/conversations/{conversation_id}/events</code> API endpoints which is <a href=\"https://developer.vonage.com/en/api/conversation#createEvent-responses\" rel=\"nofollow noreferrer\">documented</a> to return <code>id</code> in response body. But the result is of type <code>Void</code> so I get nothing back in result.</p>\n<p>How can I override this particular method in SDK to get the full response body rather than <code>null</code>? Is there any other way to get the ID other than overriding that <code>sendMessage</code> method?</p>\n"},{"tags":["java","excel","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1677201784,"post_id":75550055,"comment_id":133296327,"body_markdown":"No one can help you right now because you didn&#39;t explain your problem with sufficient detail for someone to reproduce it. Please have a look at https://stackoverflow.com/help/how-to-ask and https://stackoverflow.com/help/minimal-reproducible-example.","body":"No one can help you right now because you didn&#39;t explain your problem with sufficient detail for someone to reproduce it. Please have a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."}],"owner":{"account_id":27863835,"reputation":1,"user_id":21275758,"display_name":"Mukesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677184586,"creation_date":1677184586,"question_id":75550055,"body_markdown":"getting on running codes with Test Data factory which getting data from excel sheet.\r\nError:\r\n1. Use deprecated reflection to load ObjectFactory.(after execution from cucumber feature)\r\n\r\n2.ArrayIndexOutOfBoundException(after execution from runner class-testNg)\r\n \r\n\r\nHow to fix the issue\r\n\r\nusing excel sheet in scenario outline with TestNg","title":"Error on conversion from TestNg....Deprecated reflection to load ObjectFactory","body":"<p>getting on running codes with Test Data factory which getting data from excel sheet.\nError:</p>\n<ol>\n<li>Use deprecated reflection to load ObjectFactory.(after execution from cucumber feature)</li>\n</ol>\n<p>2.ArrayIndexOutOfBoundException(after execution from runner class-testNg)</p>\n<p>How to fix the issue</p>\n<p>using excel sheet in scenario outline with TestNg</p>\n"},{"tags":["java","spring","security","password-hash","checkmarx"],"comments":[{"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"score":1,"creation_date":1617855747,"post_id":66966544,"comment_id":118425848,"body_markdown":"your code should have worked. My theory is that Checkmarx is not able to traverse to your helper method ChecksumHelper.getFileChecksum and create a data flow. Definitely not ideal, but try moving the body of your helper method out into the main code where there is a checksum validation","body":"your code should have worked. My theory is that Checkmarx is not able to traverse to your helper method ChecksumHelper.getFileChecksum and create a data flow. Definitely not ideal, but try moving the body of your helper method out into the main code where there is a checksum validation"},{"owner":{"account_id":16623198,"reputation":31,"user_id":12012910,"display_name":"Sohil"},"score":0,"creation_date":1618549508,"post_id":66966544,"comment_id":118639556,"body_markdown":"Thanks, @RomanCanlas I tried it out but it didn&#39;t work still facing the same issue","body":"Thanks, @RomanCanlas I tried it out but it didn&#39;t work still facing the same issue"}],"owner":{"account_id":16623198,"reputation":31,"user_id":12012910,"display_name":"Sohil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677184535,"creation_date":1617703236,"question_id":66966544,"body_markdown":"I am trying to load some library &quot;.so&quot; / &quot;.dll&quot; files using below code \r\n\r\n    System.load(&quot;some file&quot;);\r\n\r\nthen after performing Static application security testing (SAST) using **checkmarx** tool\r\nit is complaining Download of Code Without Integrity Check issue.\r\n\r\nthen I tried to fix the **Download of Code Without Integrity Check** SAST issue using checksum\r\n\r\nI generated a library file checksum using a sha-512 algorithm and kept it in a String constant\r\n\r\n     public static final String TRUSTED_SHA512 = &quot;12af30d9ffc1cdd85d21e73c8c81b7c379a9b4ab2ea5676cd9d232788e2b44fbab876796104f37d0f6a5f7bc5f97eb3663e432785b94039b5320bbfac3d19516&quot;;\r\n\r\nnow before loading the file, I am computing hash again with the same algorithm and checking it against String constant **TRUSTED_SHA512**\r\n\r\n     MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n            String sha512ofQrcToolsWrapper = ChecksumHelper.getFileChecksum(md,temp);\r\n            if(sha512ofQrcToolsWrapper.equalsIgnoreCase(ServiceConstants.TRUSTED_SHA512_OF_QRCTOOLSWRAPPER)) {\r\n                System.load(temp.getAbsolutePath());\r\n            }else{\r\n                throw new Exception(&quot;failed to load windows dll file : Checksum mismatched&quot;);\r\n            }\r\n\r\nNow checkmarx tool is giving **one more issue Use of a one-way hash without a salt**\r\nthen i updated message digest with static salt value. The\r\nreason behind using fix salt value instead of random value is that we want to compute same hash at runtime to check with the one already there in constant\r\n\r\n     public static String getFileChecksum(MessageDigest digest, File file) throws IOException, NoSuchAlgorithmException {\r\n        //Get file input stream for reading the file content\r\n        FileInputStream fis = new FileInputStream(file);\r\n\r\n        //Create byte array to read data in chunks\r\n        byte[] byteArray = new byte[1024];\r\n        int bytesCount = 0;\r\n\r\n        //Read file data and update in message digest\r\n        while ((bytesCount = fis.read(byteArray)) != -1) {\r\n            digest.update(byteArray, 0, bytesCount);\r\n        }\r\n\r\n        //Static salt value\r\n        digest.update(getSalt());\r\n        \r\n        //close the stream; We don&#39;t need it now.\r\n        fis.close();\r\n\r\n        //Get the hash&#39;s bytes\r\n        byte[] bytes = digest.digest();\r\n\r\n        //This bytes[] has bytes in decimal format;\r\n        //Convert it to hexadecimal format\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n        }\r\n\r\n        //return complete hash\r\n        return sb.toString();\r\n    }\r\n\r\nNOTE &quot;getSalt() method is returning byte array with fixed values&quot;\r\n\r\nStill, checkmarx SAST is complaining both the issues\r\n1) Download of code without Integrity check\r\n2) Use of a one-way hash without a salt\r\n\r\nplease provide solution to fix these issues. let me know if anything else needed to clarify.\r\n\r\nThanks in advance","title":"Use of a one-way hash without a salt while fixing Download of code without Integrity check issue Checkmarx","body":"<p>I am trying to load some library &quot;.so&quot; / &quot;.dll&quot; files using below code</p>\n<pre><code>System.load(&quot;some file&quot;);\n</code></pre>\n<p>then after performing Static application security testing (SAST) using <strong>checkmarx</strong> tool\nit is complaining Download of Code Without Integrity Check issue.</p>\n<p>then I tried to fix the <strong>Download of Code Without Integrity Check</strong> SAST issue using checksum</p>\n<p>I generated a library file checksum using a sha-512 algorithm and kept it in a String constant</p>\n<pre><code> public static final String TRUSTED_SHA512 = &quot;12af30d9ffc1cdd85d21e73c8c81b7c379a9b4ab2ea5676cd9d232788e2b44fbab876796104f37d0f6a5f7bc5f97eb3663e432785b94039b5320bbfac3d19516&quot;;\n</code></pre>\n<p>now before loading the file, I am computing hash again with the same algorithm and checking it against String constant <strong>TRUSTED_SHA512</strong></p>\n<pre><code> MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\n        String sha512ofQrcToolsWrapper = ChecksumHelper.getFileChecksum(md,temp);\n        if(sha512ofQrcToolsWrapper.equalsIgnoreCase(ServiceConstants.TRUSTED_SHA512_OF_QRCTOOLSWRAPPER)) {\n            System.load(temp.getAbsolutePath());\n        }else{\n            throw new Exception(&quot;failed to load windows dll file : Checksum mismatched&quot;);\n        }\n</code></pre>\n<p>Now checkmarx tool is giving <strong>one more issue Use of a one-way hash without a salt</strong>\nthen i updated message digest with static salt value. The\nreason behind using fix salt value instead of random value is that we want to compute same hash at runtime to check with the one already there in constant</p>\n<pre><code> public static String getFileChecksum(MessageDigest digest, File file) throws IOException, NoSuchAlgorithmException {\n    //Get file input stream for reading the file content\n    FileInputStream fis = new FileInputStream(file);\n\n    //Create byte array to read data in chunks\n    byte[] byteArray = new byte[1024];\n    int bytesCount = 0;\n\n    //Read file data and update in message digest\n    while ((bytesCount = fis.read(byteArray)) != -1) {\n        digest.update(byteArray, 0, bytesCount);\n    }\n\n    //Static salt value\n    digest.update(getSalt());\n    \n    //close the stream; We don't need it now.\n    fis.close();\n\n    //Get the hash's bytes\n    byte[] bytes = digest.digest();\n\n    //This bytes[] has bytes in decimal format;\n    //Convert it to hexadecimal format\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; bytes.length; i++) {\n        sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n    }\n\n    //return complete hash\n    return sb.toString();\n}\n</code></pre>\n<p>NOTE &quot;getSalt() method is returning byte array with fixed values&quot;</p>\n<p>Still, checkmarx SAST is complaining both the issues</p>\n<ol>\n<li>Download of code without Integrity check</li>\n<li>Use of a one-way hash without a salt</li>\n</ol>\n<p>please provide solution to fix these issues. let me know if anything else needed to clarify.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","cmake","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1677170012,"post_id":75546614,"comment_id":133289145,"body_markdown":"The error explicitly states that you&#39;re trying to link with an x86_64 library, so yes, that is the problem.","body":"The error explicitly states that you&#39;re trying to link with an x86_64 library, so yes, that is the problem."},{"owner":{"account_id":17626393,"reputation":3,"user_id":12791362,"display_name":"Damon Yuan"},"score":0,"creation_date":1677259296,"post_id":75546614,"comment_id":133308906,"body_markdown":"yes, that the reason....","body":"yes, that the reason...."}],"owner":{"account_id":17626393,"reputation":3,"user_id":12791362,"display_name":"Damon Yuan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677183711,"creation_date":1677164700,"question_id":75546614,"body_markdown":"I am trying to do some exploration with Java JNI in Mac M1, while got caught by some exceptions,\r\n\r\nusing `cmake --build build` to build the project\r\n\r\n```\r\n[ 20%] Building Java objects for sbmcprj.jar\r\n[ 40%] Generating CMakeFiles/sbmcprj.dir/java_class_filelist\r\n[ 60%] Creating Java archive sbmcprj.jar\r\n[ 60%] Built target sbmcprj\r\n[ 80%] Building CXX object CMakeFiles/sbmc.dir/native/com_damonyuan_jni_HelloWorldJNI.cpp.o\r\n[100%] Linking CXX shared module libsbmc.dylib\r\nld: warning: ignoring file /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/lib/server/libjvm.dylib, building for macOS-arm64 but attempting to link with file built for macOS-x86_64\r\nld: warning: ignoring file /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/lib/libjawt.dylib, building for macOS-arm64 but attempting to link with file built for macOS-x86_64\r\n[100%] Built target sbmc\r\n```\r\n\r\nit gives the warning that `building for macOS-arm64 but attempting to link with file built for macOS-x86_64`, and once run the JNI project,\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java -Djava.library.path=/Users/damonyuan/Desktop/sbmc-jni/native -classpath /Users/damonyuan/Desktop/sbmc-jni/target/classes com.damonyuan.jni.HelloWorldJNI\r\nerror: null\r\n/Users/damonyuan/Desktop/sbmc-jni/native\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;void com.damonyuan.jni.HelloWorldJNI.sayHello()&#39;\r\n\tat com.damonyuan.jni.HelloWorldJNI.sayHello(Native Method)\r\n\tat com.damonyuan.jni.HelloWorldJNI.main(HelloWorldJNI.java:15)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nthe exception as above is thrown.\r\n\r\nThe whole testing code is [here](https://github.com/damonYuan/jni-test), could anyone help tell me how to make it run?\r\n\r\nI have tried to google and different combination of params in cmake config, while in vain.\r\n\r\n\r\n\r\nOne thing I havent verify is that the jre installed is for x86 architecture or m1, will check and update later.\r\n\r\nSecondly in Mac its clang that takes effect, g++ is just a alias as clang, its also suspicious.","title":"Java 8/11 JNI on Mac M1 &quot;building for macOS-arm64 but attempting to link with file built for macOS-x86_64&quot;","body":"<p>I am trying to do some exploration with Java JNI in Mac M1, while got caught by some exceptions,</p>\n<p>using <code>cmake --build build</code> to build the project</p>\n<pre><code>[ 20%] Building Java objects for sbmcprj.jar\n[ 40%] Generating CMakeFiles/sbmcprj.dir/java_class_filelist\n[ 60%] Creating Java archive sbmcprj.jar\n[ 60%] Built target sbmcprj\n[ 80%] Building CXX object CMakeFiles/sbmc.dir/native/com_damonyuan_jni_HelloWorldJNI.cpp.o\n[100%] Linking CXX shared module libsbmc.dylib\nld: warning: ignoring file /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/lib/server/libjvm.dylib, building for macOS-arm64 but attempting to link with file built for macOS-x86_64\nld: warning: ignoring file /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/lib/libjawt.dylib, building for macOS-arm64 but attempting to link with file built for macOS-x86_64\n[100%] Built target sbmc\n</code></pre>\n<p>it gives the warning that <code>building for macOS-arm64 but attempting to link with file built for macOS-x86_64</code>, and once run the JNI project,</p>\n<pre><code>/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java -Djava.library.path=/Users/damonyuan/Desktop/sbmc-jni/native -classpath /Users/damonyuan/Desktop/sbmc-jni/target/classes com.damonyuan.jni.HelloWorldJNI\nerror: null\n/Users/damonyuan/Desktop/sbmc-jni/native\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'void com.damonyuan.jni.HelloWorldJNI.sayHello()'\n    at com.damonyuan.jni.HelloWorldJNI.sayHello(Native Method)\n    at com.damonyuan.jni.HelloWorldJNI.main(HelloWorldJNI.java:15)\n\nProcess finished with exit code 1\n</code></pre>\n<p>the exception as above is thrown.</p>\n<p>The whole testing code is <a href=\"https://github.com/damonYuan/jni-test\" rel=\"nofollow noreferrer\">here</a>, could anyone help tell me how to make it run?</p>\n<p>I have tried to google and different combination of params in cmake config, while in vain.</p>\n<p></p>\n<p>One thing I havent verify is that the jre installed is for x86 architecture or m1, will check and update later.</p>\n<p>Secondly in Mac its clang that takes effect, g++ is just a alias as clang, its also suspicious.</p>\n"},{"tags":["java","jpa-2.0","transient"],"comments":[{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1475669827,"post_id":13874528,"comment_id":67034001,"body_markdown":"See also excellent comparation discussion: http://stackoverflow.com/questions/594597/hibernate-annotations-which-is-better-field-or-property-access","body":"See also excellent comparation discussion: <a href=\"http://stackoverflow.com/questions/594597/hibernate-annotations-which-is-better-field-or-property-access\" title=\"hibernate annotations which is better field or property access\">stackoverflow.com/questions/594597/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":18,"creation_date":1355473379,"post_id":13874900,"comment_id":19109208,"body_markdown":"The default is not FIELD. The access type is FIELD if you place mapping annotations on fields, and it&#39;s PROPERTY if you place mapping annotations on getters. And all the entity hierarchy must be coherent in the mapping annotation placement: always on fields, or always on getters, but not mixed.","body":"The default is not FIELD. The access type is FIELD if you place mapping annotations on fields, and it&#39;s PROPERTY if you place mapping annotations on getters. And all the entity hierarchy must be coherent in the mapping annotation placement: always on fields, or always on getters, but not mixed."},{"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"score":2,"creation_date":1355475314,"post_id":13874900,"comment_id":19109902,"body_markdown":"You&#39;re right - the default is dependent on where the `@Id` annotation is located. About the mixing - you&#39;re referring only to the id annotation or to the fact that you can&#39;t mix the property / field access at all in the entity hierarchy?","body":"You&#39;re right - the default is dependent on where the <code>@Id</code> annotation is located. About the mixing - you&#39;re referring only to the id annotation or to the fact that you can&#39;t mix the property / field access at all in the entity hierarchy?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":6,"creation_date":1355475559,"post_id":13874900,"comment_id":19109975,"body_markdown":"If you don&#39;t explicitely specify access type, the JPA spec says that all the mapping annotations in the hierarchy must be placed either on fields, or on getters. What happens if you don&#39;t respect the rule is not specified though. Hibernate looks up where the Id annotation is, and if it&#39;s on field it ignores all the annotations on getters (and vice-versa), but this is Hibernate-specific. The behavior in such a case is undefined (that&#39;s what the spec says).","body":"If you don&#39;t explicitely specify access type, the JPA spec says that all the mapping annotations in the hierarchy must be placed either on fields, or on getters. What happens if you don&#39;t respect the rule is not specified though. Hibernate looks up where the Id annotation is, and if it&#39;s on field it ignores all the annotations on getters (and vice-versa), but this is Hibernate-specific. The behavior in such a case is undefined (that&#39;s what the spec says)."},{"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"score":0,"creation_date":1355476128,"post_id":13874900,"comment_id":19110210,"body_markdown":"I could swear I&#39;ve read about `@Id` in &quot;Pro JPA 2.0: Mastering the Java Persistence&quot; but I just checked the spec and it really doesn&#39;t talk about the Id at all; just about mapping annotations you&#39;ve mentioned. Thanks for the clarification JB!","body":"I could swear I&#39;ve read about <code>@Id</code> in &quot;Pro JPA 2.0: Mastering the Java Persistence&quot; but I just checked the spec and it really doesn&#39;t talk about the Id at all; just about mapping annotations you&#39;ve mentioned. Thanks for the clarification JB!"},{"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"score":1,"creation_date":1355479058,"post_id":13874900,"comment_id":19111593,"body_markdown":"Ok, I just found out that in the book it was `@Id` because it was the only mapping annotation in the example...","body":"Ok, I just found out that in the book it was <code>@Id</code> because it was the only mapping annotation in the example..."},{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":0,"creation_date":1528575260,"post_id":13874900,"comment_id":88563164,"body_markdown":"&quot;As far as I remember, if you specify either AccessType.FIELD or AccessType.PROPERTY on any of the entity fields / methods you must specify the default behaviour for the whole class.&quot; - Why should one specify on class level?","body":"&quot;As far as I remember, if you specify either AccessType.FIELD or AccessType.PROPERTY on any of the entity fields / methods you must specify the default behaviour for the whole class.&quot; - Why should one specify on class level?"},{"owner":{"account_id":11235773,"reputation":785,"user_id":8242022,"display_name":"Ahmed Ali"},"score":0,"creation_date":1663461247,"post_id":13874900,"comment_id":130245289,"body_markdown":"very nice\nhow this works with kotlin ?","body":"very nice how this works with kotlin ?"},{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":1,"creation_date":1677067366,"post_id":13874900,"comment_id":133263163,"body_markdown":"Maybe a little late but @PiotrNowicki maybe you could remove the part about the location of the id annotation from your answer if you came to the conclusion that it does not matter.","body":"Maybe a little late but @PiotrNowicki maybe you could remove the part about the location of the id annotation from your answer if you came to the conclusion that it does not matter."},{"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"score":0,"creation_date":1677183271,"post_id":13874900,"comment_id":133292999,"body_markdown":"@T3rm1 thanks for suggestion - it&#39;s over 10 years old, but I totally agree that it&#39;s worth to avoid the confusion :-) Cheers!","body":"@T3rm1 thanks for suggestion - it&#39;s over 10 years old, but I totally agree that it&#39;s worth to avoid the confusion :-) Cheers!"}],"tags":[],"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"comment_count":9,"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1677183230,"creation_date":1355472978,"answer_id":13874900,"question_id":13874528,"body_markdown":"By default the access type is defined by the place where you put your mapping annotations. If you put them on the field - it will be [`AccessType.FIELD`](http://docs.oracle.com/javaee/6/api/javax/persistence/AccessType.html#FIELD), if you put them on the getters - it will be [`AccessType.PROPERTY`](http://docs.oracle.com/javaee/6/api/javax/persistence/AccessType.html#PROPERTY).\r\n\r\nSometimes you might want to annotate not fields but properties (e.g. because you want to have some arbitrary logic in the getter or because you prefer it that way.) In such situation you must define a getter and annotate it as `AccessType.PROPERTY`.\r\n\r\nAs far as I remember, if you specify either `AccessType.FIELD` or `AccessType.PROPERTY` on any of the entity fields / methods you must specify the default behaviour for the whole class. And that&#39;s why you need to have `AccessType.FIELD` on the class level (despite that `AccessType.FIELD` is the default value.)\r\n\r\nNow, if you wouldn&#39;t have `@Transient` on the `phnnumber` field, the JPA would provide you with a 3 columns table: \r\n\r\n* id, \r\n* phnnumber,\r\n* getphnnumber. \r\n\r\nThat&#39;s because it would use `AccessType.FIELD` for all of the entity fields (`id` and `phnnumber`) and, at the same time, it&#39;d use `AccessType.PROPERTY` for your getter (`getPhnnumber()`).  \r\nYou&#39;ll end with phone number mapped twice in the database.\r\n\r\nTherefore, the `@Transient` annotation is required - it means that the entity won&#39;t store the value of the **field** in the underlying storage but the value returned by your **getter**.","title":"What is the purpose of AccessType.FIELD, AccessType.PROPERTY and @Access","body":"<p>By default the access type is defined by the place where you put your mapping annotations. If you put them on the field - it will be <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/AccessType.html#FIELD\" rel=\"nofollow noreferrer\"><code>AccessType.FIELD</code></a>, if you put them on the getters - it will be <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/AccessType.html#PROPERTY\" rel=\"nofollow noreferrer\"><code>AccessType.PROPERTY</code></a>.</p>\n<p>Sometimes you might want to annotate not fields but properties (e.g. because you want to have some arbitrary logic in the getter or because you prefer it that way.) In such situation you must define a getter and annotate it as <code>AccessType.PROPERTY</code>.</p>\n<p>As far as I remember, if you specify either <code>AccessType.FIELD</code> or <code>AccessType.PROPERTY</code> on any of the entity fields / methods you must specify the default behaviour for the whole class. And that's why you need to have <code>AccessType.FIELD</code> on the class level (despite that <code>AccessType.FIELD</code> is the default value.)</p>\n<p>Now, if you wouldn't have <code>@Transient</code> on the <code>phnnumber</code> field, the JPA would provide you with a 3 columns table:</p>\n<ul>\n<li>id,</li>\n<li>phnnumber,</li>\n<li>getphnnumber.</li>\n</ul>\n<p>That's because it would use <code>AccessType.FIELD</code> for all of the entity fields (<code>id</code> and <code>phnnumber</code>) and, at the same time, it'd use <code>AccessType.PROPERTY</code> for your getter (<code>getPhnnumber()</code>).<br />\nYou'll end with phone number mapped twice in the database.</p>\n<p>Therefore, the <code>@Transient</code> annotation is required - it means that the entity won't store the value of the <strong>field</strong> in the underlying storage but the value returned by your <strong>getter</strong>.</p>\n"}],"owner":{"account_id":1778502,"reputation":913,"user_id":1621777,"accept_rate":17,"display_name":"Ashish Bansal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74143,"favorite_count":0,"down_vote_count":2,"up_vote_count":74,"accepted_answer_id":13874900,"answer_count":1,"score":72,"last_activity_date":1677183230,"creation_date":1355470834,"question_id":13874528,"body_markdown":"I just want to know what is the difference between all these annotations. Why are we using these... means they have no effect especially field level and property level.\r\n\r\nAnd what is the purpose of using mixed level annotation like:\r\n\r\n    @Entity\r\n    @Access(AccessType.FIELD)\r\n    class Employee {\r\n        // why their is a field level access \r\n        private int id;\r\n     \r\n        // whats the purpose of transient here\r\n        @Transient                               \r\n        private String phnnumber;\r\n     \r\n        // why its a property level access\r\n        @Access(AccessType.property)             \r\n        public String getPhnnumber() {\r\n            return &quot;1234556&quot;;\r\n        }\r\n\r\n    }\r\n\r\n\r\nwhat exactly this class says?","title":"What is the purpose of AccessType.FIELD, AccessType.PROPERTY and @Access","body":"<p>I just want to know what is the difference between all these annotations. Why are we using these... means they have no effect especially field level and property level.</p>\n\n<p>And what is the purpose of using mixed level annotation like:</p>\n\n<pre><code>@Entity\n@Access(AccessType.FIELD)\nclass Employee {\n    // why their is a field level access \n    private int id;\n\n    // whats the purpose of transient here\n    @Transient                               \n    private String phnnumber;\n\n    // why its a property level access\n    @Access(AccessType.property)             \n    public String getPhnnumber() {\n        return \"1234556\";\n    }\n\n}\n</code></pre>\n\n<p>what exactly this class says?</p>\n"},{"tags":["java","hadoop","mapreduce","parquet"],"comments":[{"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"score":0,"creation_date":1519931070,"post_id":49025524,"comment_id":85118407,"body_markdown":"Added the possible reason and how you may handle it. Hope it help.","body":"Added the possible reason and how you may handle it. Hope it help."},{"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"score":0,"creation_date":1519942946,"post_id":49025524,"comment_id":85124307,"body_markdown":"Kindly consider upvoting, if the answer has solved your problem.","body":"Kindly consider upvoting, if the answer has solved your problem."}],"answers":[{"tags":[],"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519844858,"creation_date":1519842366,"answer_id":49036212,"question_id":49025524,"body_markdown":"Its a Runtime Exception `java.lang.RuntimeException`; which basically indicates that the code is buggy.\r\n\r\nThe `public String getValueToString(int fieldIndex, int index)` method internally calls `getValue(int fieldIndex, int index)` method.\r\nThe implementation of `getValue(...)` is as below\r\n\r\n     private Object getValue(int fieldIndex, int index) {\r\n        List&lt;Object&gt; list;\r\n        try {\r\n          list = data[fieldIndex];\r\n        } catch (IndexOutOfBoundsException e) {\r\n          throw new RuntimeException(&quot;not found &quot; + fieldIndex + &quot;(&quot; + schema.getFieldName(fieldIndex) + &quot;) in group:\\n&quot; + this);\r\n        }\r\n        try {\r\n          return list.get(index);\r\n        } catch (IndexOutOfBoundsException e) {\r\n          throw new RuntimeException(&quot;not found &quot; + fieldIndex + &quot;(&quot; + schema.getFieldName(fieldIndex) + &quot;) element number &quot; + index + &quot; in group:\\n&quot; + this);\r\n        }\r\n      }\r\n\r\nHere, if the `fieldIndex` or the `index` does not exist it throws `IndexOutOfBoundsException`, which is re-thrown as `RuntimeException`.\r\n\r\nWhat I may suggest that rather than calling the `getValueToString(...)` directly, the existence of the field must be checked.\r\n\r\nSince all the fields are optional in your dataset, finding it with a fixed `fieldIndex`  is not reliable. In this case, just assume it exists and let it fail with `try-catch` block to detect absence and then set a default value:\r\n\r\n    try{\r\n        distance = value.getFloat(&quot;trip_distance&quot;, 0);\r\n    }catch(RuntimeException e){\r\n          distance = 0;\r\n    }","title":"Parquet file optional field does not exist","body":"<p>Its a Runtime Exception <code>java.lang.RuntimeException</code>; which basically indicates that the code is buggy.</p>\n\n<p>The <code>public String getValueToString(int fieldIndex, int index)</code> method internally calls <code>getValue(int fieldIndex, int index)</code> method.\nThe implementation of <code>getValue(...)</code> is as below</p>\n\n<pre><code> private Object getValue(int fieldIndex, int index) {\n    List&lt;Object&gt; list;\n    try {\n      list = data[fieldIndex];\n    } catch (IndexOutOfBoundsException e) {\n      throw new RuntimeException(\"not found \" + fieldIndex + \"(\" + schema.getFieldName(fieldIndex) + \") in group:\\n\" + this);\n    }\n    try {\n      return list.get(index);\n    } catch (IndexOutOfBoundsException e) {\n      throw new RuntimeException(\"not found \" + fieldIndex + \"(\" + schema.getFieldName(fieldIndex) + \") element number \" + index + \" in group:\\n\" + this);\n    }\n  }\n</code></pre>\n\n<p>Here, if the <code>fieldIndex</code> or the <code>index</code> does not exist it throws <code>IndexOutOfBoundsException</code>, which is re-thrown as <code>RuntimeException</code>.</p>\n\n<p>What I may suggest that rather than calling the <code>getValueToString(...)</code> directly, the existence of the field must be checked.</p>\n\n<p>Since all the fields are optional in your dataset, finding it with a fixed <code>fieldIndex</code>  is not reliable. In this case, just assume it exists and let it fail with <code>try-catch</code> block to detect absence and then set a default value:</p>\n\n<pre><code>try{\n    distance = value.getFloat(\"trip_distance\", 0);\n}catch(RuntimeException e){\n      distance = 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1346012,"reputation":21,"user_id":8521771,"display_name":"user8521771"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677182645,"creation_date":1677182645,"answer_id":75549786,"question_id":49025524,"body_markdown":"You should be able to type cast value object to SimpleGroup, use getFieldRepetitionCount to get the size of the value, if it&#39;s 0, then the value is null. \r\n\r\n    import org.apache.parquet.example.data.simple.SimpleGroup;\r\n    \r\n    ...\r\n    SimpleGroup sgValue = (SimpleGroup) value;\r\n    \r\n    if (sgValue.getFieldRepetitionCount(20) != 0) { //the trip_distance field\r\n            distance = value.getFloat(&quot;trip_distance&quot;, 0);\r\n    } else {\r\n            distance = 0;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Parquet file optional field does not exist","body":"<p>You should be able to type cast value object to SimpleGroup, use getFieldRepetitionCount to get the size of the value, if it's 0, then the value is null.</p>\n<pre><code>import org.apache.parquet.example.data.simple.SimpleGroup;\n\n...\nSimpleGroup sgValue = (SimpleGroup) value;\n\nif (sgValue.getFieldRepetitionCount(20) != 0) { //the trip_distance field\n        distance = value.getFloat(&quot;trip_distance&quot;, 0);\n} else {\n        distance = 0;\n}\n</code></pre>\n"}],"owner":{"account_id":12998583,"reputation":81,"user_id":9395375,"display_name":"rafik_bougacha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49036212,"answer_count":2,"score":1,"last_activity_date":1677182645,"creation_date":1519808328,"question_id":49025524,"body_markdown":"I am new in working with parquet files, I want to develop a mapreduce job that reads many input parquet files with the following shcema: \r\n\r\n    {\r\n      optional int96 dropoff_datetime;\r\n      optional float dropoff_latitude;\r\n      optional float dropoff_longitude;\r\n      optional int32 dropoff_taxizone_id;\r\n      optional float ehail_fee;\r\n      optional float extra;\r\n      optional float fare_amount;\r\n      optional float improvement_surcharge;\r\n      optional float mta_tax;\r\n      optional int32 passenger_count;\r\n      optional binary payment_type (UTF8);\r\n      optional int96 pickup_datetime;\r\n      optional float pickup_latitude;\r\n      optional float pickup_longitude;\r\n      optional int32 pickup_taxizone_id;\r\n      optional int32 rate_code_id;\r\n      optional binary store_and_fwd_flag (UTF8);\r\n      optional float tip_amount;\r\n      optional float tolls_amount;\r\n      optional float total_amount;\r\n      optional float trip_distance;\r\n      optional binary trip_type (UTF8);\r\n      optional binary vendor_id (UTF8);\r\n      required int64 trip_id;\r\n    }\r\nThe aim of my job is to compute the average speed of trips for each hour a day, so I need to extract all trip distances and pickup and dropoff times to compute the duration and then the speed, however I get errors when the field `trip_distance` does not exist: here is a part from the stack trace: \r\n\r\n    18/02/28 03:19:01 INFO mapreduce.Job:  map 2% reduce 0%\r\n    18/02/28 03:19:10 INFO mapreduce.Job: Task Id : attempt_1519722054260_0016_m_000011_2, Status : FAILED\r\n    Error: java.lang.RuntimeException: not found 20(trip_distance) element number 0 in group:\r\n    dropoff_datetime: Int96Value{Binary{12 constant bytes, [0, 0, 0, 0, 0, 0, 0, 0, -116, 61, 37, 0]}}\r\n    payment_type: &quot;&quot;\r\n    pickup_datetime: Int96Value{Binary{12 constant bytes, [0, 120, 66, 9, 78, 72, 0, 0, 3, 125, 37, 0]}}\r\n    pickup_latitude: 40.7565\r\n    pickup_longitude: -73.9781\r\n    pickup_taxizone_id: 161\r\n    store_and_fwd_flag: &quot;&quot;\r\n    trip_type: &quot;uber&quot;\r\n    vendor_id: &quot;&quot;\r\n    trip_id: 4776003633207\r\n    \r\n    \tat org.apache.parquet.example.data.simple.SimpleGroup.getValue(SimpleGroup.java:97)\r\n    \tat org.apache.parquet.example.data.simple.SimpleGroup.getValueToString(SimpleGroup.java:119)\r\n    \tat ParquetAssignmentSpeedAverageHours$ParquetMap.map(ParquetAssignmentSpeedAverageHours.java:48)\r\n    \tat ParquetAssignmentSpeedAverageHours$ParquetMap.map(ParquetAssignmentSpeedAverageHours.java:37)\r\n    \tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:146)\r\n    \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:787)\r\n    \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\r\n    \tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:170)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1866)\r\n    \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:164)\r\n\r\nand this is my mapper class:\r\n\r\n    public static class ParquetMap extends Mapper&lt;Text, Group, IntWritable, DoubleWritable&gt; {\r\n\t\tprivate DoubleWritable one = new DoubleWritable(1);\r\n\t\tprivate IntWritable time = new IntWritable();\r\n\t\tprivate DoubleWritable result = new DoubleWritable();\r\n\t\t@Override\r\n\t\tpublic void map(Text key, Group value, Context context) throws IOException, InterruptedException {\r\n\t\t\tdouble duration;\r\n\t\t\tdouble distance;\r\n\t\t\tdouble speed;\r\n\t\t\tBinary pickupTimestamp = value.getInt96(&quot;pickup_datetime&quot;, 0);\r\n\t\t\tBinary dropoffTimestamp = value.getInt96(&quot;dropoff_datetime&quot;, 0);\r\n\t\t\tif (value.getValueToString(20, 0) != null) { //the trip_distance field\r\n\t\t\t\tdistance = value.getFloat(&quot;trip_distance&quot;, 0);\r\n\t\t\t} else {\r\n\t\t\t\tdistance = 0;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tif (!pickupTimestamp.equals(dropoffTimestamp)) {\r\n\t\t\t\t\tduration = ((double)(getTimestampMillis(dropoffTimestamp) - getTimestampMillis(pickupTimestamp))/3600000);\r\n\t\t\t\t\tspeed = (float) (distance / duration);\r\n\t\t\t\t\tresult.set((speed));\r\n\t\t\t\t\tCalendar cal = Calendar.getInstance();\r\n\t\t\t\t\tcal.setTimeInMillis(getTimestampMillis(pickupTimestamp));\r\n\t\t\t\t\ttime.set(cal.get(Calendar.HOUR_OF_DAY));\r\n\t\t\t\t\tcontext.write(time, result);\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nAny one can help please ? \r\nThanks, ","title":"Parquet file optional field does not exist","body":"<p>I am new in working with parquet files, I want to develop a mapreduce job that reads many input parquet files with the following shcema: </p>\n\n<pre><code>{\n  optional int96 dropoff_datetime;\n  optional float dropoff_latitude;\n  optional float dropoff_longitude;\n  optional int32 dropoff_taxizone_id;\n  optional float ehail_fee;\n  optional float extra;\n  optional float fare_amount;\n  optional float improvement_surcharge;\n  optional float mta_tax;\n  optional int32 passenger_count;\n  optional binary payment_type (UTF8);\n  optional int96 pickup_datetime;\n  optional float pickup_latitude;\n  optional float pickup_longitude;\n  optional int32 pickup_taxizone_id;\n  optional int32 rate_code_id;\n  optional binary store_and_fwd_flag (UTF8);\n  optional float tip_amount;\n  optional float tolls_amount;\n  optional float total_amount;\n  optional float trip_distance;\n  optional binary trip_type (UTF8);\n  optional binary vendor_id (UTF8);\n  required int64 trip_id;\n}\n</code></pre>\n\n<p>The aim of my job is to compute the average speed of trips for each hour a day, so I need to extract all trip distances and pickup and dropoff times to compute the duration and then the speed, however I get errors when the field <code>trip_distance</code> does not exist: here is a part from the stack trace: </p>\n\n<pre><code>18/02/28 03:19:01 INFO mapreduce.Job:  map 2% reduce 0%\n18/02/28 03:19:10 INFO mapreduce.Job: Task Id : attempt_1519722054260_0016_m_000011_2, Status : FAILED\nError: java.lang.RuntimeException: not found 20(trip_distance) element number 0 in group:\ndropoff_datetime: Int96Value{Binary{12 constant bytes, [0, 0, 0, 0, 0, 0, 0, 0, -116, 61, 37, 0]}}\npayment_type: \"\"\npickup_datetime: Int96Value{Binary{12 constant bytes, [0, 120, 66, 9, 78, 72, 0, 0, 3, 125, 37, 0]}}\npickup_latitude: 40.7565\npickup_longitude: -73.9781\npickup_taxizone_id: 161\nstore_and_fwd_flag: \"\"\ntrip_type: \"uber\"\nvendor_id: \"\"\ntrip_id: 4776003633207\n\n    at org.apache.parquet.example.data.simple.SimpleGroup.getValue(SimpleGroup.java:97)\n    at org.apache.parquet.example.data.simple.SimpleGroup.getValueToString(SimpleGroup.java:119)\n    at ParquetAssignmentSpeedAverageHours$ParquetMap.map(ParquetAssignmentSpeedAverageHours.java:48)\n    at ParquetAssignmentSpeedAverageHours$ParquetMap.map(ParquetAssignmentSpeedAverageHours.java:37)\n    at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:146)\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:787)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n    at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:170)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1866)\n    at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:164)\n</code></pre>\n\n<p>and this is my mapper class:</p>\n\n<pre><code>public static class ParquetMap extends Mapper&lt;Text, Group, IntWritable, DoubleWritable&gt; {\n    private DoubleWritable one = new DoubleWritable(1);\n    private IntWritable time = new IntWritable();\n    private DoubleWritable result = new DoubleWritable();\n    @Override\n    public void map(Text key, Group value, Context context) throws IOException, InterruptedException {\n        double duration;\n        double distance;\n        double speed;\n        Binary pickupTimestamp = value.getInt96(\"pickup_datetime\", 0);\n        Binary dropoffTimestamp = value.getInt96(\"dropoff_datetime\", 0);\n        if (value.getValueToString(20, 0) != null) { //the trip_distance field\n            distance = value.getFloat(\"trip_distance\", 0);\n        } else {\n            distance = 0;\n        }\n        try {\n            if (!pickupTimestamp.equals(dropoffTimestamp)) {\n                duration = ((double)(getTimestampMillis(dropoffTimestamp) - getTimestampMillis(pickupTimestamp))/3600000);\n                speed = (float) (distance / duration);\n                result.set((speed));\n                Calendar cal = Calendar.getInstance();\n                cal.setTimeInMillis(getTimestampMillis(pickupTimestamp));\n                time.set(cal.get(Calendar.HOUR_OF_DAY));\n                context.write(time, result);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Any one can help please ? \nThanks, </p>\n"},{"tags":["java","mysql","database","netbeans"],"comments":[{"owner":{"account_id":3296047,"reputation":452,"user_id":2773289,"display_name":"user2773289"},"score":1,"creation_date":1677179990,"post_id":75548451,"comment_id":133292126,"body_markdown":"Does ComputerA/MySQL allow remote connections?","body":"Does ComputerA/MySQL allow remote connections?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677180937,"post_id":75548451,"comment_id":133292353,"body_markdown":"Are both machines on the same LAN or are they completely independent? If the latter, then A will have to be set up such that its MySql service can be routed to through a public facing address. If the former, then the situation is simpler","body":"Are both machines on the same LAN or are they completely independent? If the latter, then A will have to be set up such that its MySql service can be routed to through a public facing address. If the former, then the situation is simpler"}],"answers":[{"tags":[],"owner":{"account_id":27486633,"reputation":150,"user_id":20972787,"display_name":"JustaNobody"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677182437,"creation_date":1677182437,"answer_id":75549754,"question_id":75548451,"body_markdown":"I believe you can access it using your localhost ip. you will have to connect the wifi hotspot of second device from the first device. \nonce connected you will have to fight the ip address. if you are on windows you can use ipconfig. Then instead of localhost you will have to use the ip address as well as the port. \nI had done this with apache and MySQL. if you are using only MySQL then some changes may have to be made.","title":"Connecting local MySQL database linked to Java project into another computer","body":"<p>I believe you can access it using your localhost ip. you will have to connect the wifi hotspot of second device from the first device.\nonce connected you will have to fight the ip address. if you are on windows you can use ipconfig. Then instead of localhost you will have to use the ip address as well as the port.\nI had done this with apache and MySQL. if you are using only MySQL then some changes may have to be made.</p>\n"}],"owner":{"account_id":22606935,"reputation":3,"user_id":16787724,"display_name":"netbeansnewbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677182437,"creation_date":1677174235,"question_id":75548451,"body_markdown":"I have a Java project with a local MySQL database linked to it. It has a login page with stored login details in the database. Let&#39;s say this is stored in Computer A. I have made this project into an executable jar file. How can I open the jar file in computer B  if the database was created locally in Computer A? \r\n\r\nIs it possible to link the database from Computer A to Computer B?\r\n\r\nThank you!","title":"Connecting local MySQL database linked to Java project into another computer","body":"<p>I have a Java project with a local MySQL database linked to it. It has a login page with stored login details in the database. Let's say this is stored in Computer A. I have made this project into an executable jar file. How can I open the jar file in computer B  if the database was created locally in Computer A?</p>\n<p>Is it possible to link the database from Computer A to Computer B?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","security","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":1840620,"reputation":455,"user_id":1670099,"accept_rate":41,"display_name":"rohitpal"},"score":6,"creation_date":1502445199,"post_id":36875726,"comment_id":78223252,"body_markdown":"What if i wanted to allow /api/login ie bypass /api/login completely. Even I do a permitAll(), filter still gets called. Please suggest.","body":"What if i wanted to allow /api/login ie bypass /api/login completely. Even I do a permitAll(), filter still gets called. Please suggest."},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":19,"creation_date":1614521738,"post_id":36875726,"comment_id":117405033,"body_markdown":"For further readers of comments: the answer is **correct**. All people who say it doesn&#39;t work just do something wrong (e.g. they define `authenticationTokenFilterBean()` method as `@Bean`, in which case spring-boot will auto-scan it and add it as generic filter even without this security configuration, which is obviously wrong if you want to add this filter just to security filter chain).","body":"For further readers of comments: the answer is <b>correct</b>. All people who say it doesn&#39;t work just do something wrong (e.g. they define <code>authenticationTokenFilterBean()</code> method as <code>@Bean</code>, in which case spring-boot will auto-scan it and add it as generic filter even without this security configuration, which is obviously wrong if you want to add this filter just to security filter chain)."},{"owner":{"account_id":1008930,"reputation":2893,"user_id":1021943,"accept_rate":80,"display_name":"Priidu Neemre"},"score":3,"creation_date":1617291968,"post_id":36875726,"comment_id":118269588,"body_markdown":"**@Everyone:** Make sure you are using `antMatcher(..)` instead of `antMatchers(..)` (as shown in the solution). Also, note that the order of the path matching call is important.","body":"<b>@Everyone:</b> Make sure you are using <code>antMatcher(..)</code> instead of <code>antMatchers(..)</code> (as shown in the solution). Also, note that the order of the path matching call is important."},{"owner":{"account_id":4748982,"reputation":135,"user_id":3839489,"display_name":"Priyatham"},"score":1,"creation_date":1622014565,"post_id":36875726,"comment_id":119664485,"body_markdown":"@RuslanStelmachenko is right, I had to remove the `@Configuration` annotation from my AuthenticationTokenFilter class to make it work. Thanks","body":"@RuslanStelmachenko is right, I had to remove the <code>@Configuration</code> annotation from my AuthenticationTokenFilter class to make it work. Thanks"},{"owner":{"account_id":11532579,"reputation":90,"user_id":8451110,"accept_rate":60,"display_name":"kevin kemta"},"score":0,"creation_date":1634225450,"post_id":36875726,"comment_id":122973573,"body_markdown":"@Everyonne: How to do when I have two urls which will be use different filter: \ne.g: /api/** for JwtAuthFilter and /reader/** for ApiKeyAuthFilter ??\n\nI want to know if I can do something like belong?:\n`http.antMatcher(&quot;/api/**&quot;).authorizeRequests()\n        .anyRequest().authenticated().and().addFilterBefore(jwtAuthFilterBean(),UsernamePasswordAuthenticationFilter.class);` \n---\n`http.antMatcher(&quot;/reader/**&quot;).authorizeRequests()\n        .anyRequest().authenticated().and().addFilterBefore(apikeyAuthFilterBean(), UsernamePasswordAuthenticationFilter.class);`","body":"@Everyonne: How to do when I have two urls which will be use different filter:  e.g: /api/** for JwtAuthFilter and /reader/** for ApiKeyAuthFilter ??  I want to know if I can do something like belong?: <code>http.antMatcher(&quot;&#47;api&#47;**&quot;).authorizeRequests()         .anyRequest().authenticated().and().addFilterBefore(jwtAuthF&zwnj;&#8203;ilterBean(),Username&zwnj;&#8203;PasswordAuthenticati&zwnj;&#8203;onFilter.class);</code>  --- <code>http.antMatcher(&quot;&#47;reader&#47;**&quot;).authorizeRequests()         .anyRequest().authenticated().and().addFilterBefore(apikeyAu&zwnj;&#8203;thFilterBean(), UsernamePasswordAuthenticationFilter.class);</code>"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672833152,"post_id":36875726,"comment_id":132360678,"body_markdown":"@GabrielDinant Your filter chain is not restricted, the default is `antMatcher(/**)`, so your code is not working. You have to restrict it. In the answer the filter chain is restricted by `.antMatcher(&quot;/api/**&quot;)`.","body":"@GabrielDinant Your filter chain is not restricted, the default is <code>antMatcher(&#47;**)</code>, so your code is not working. You have to restrict it. In the answer the filter chain is restricted by <code>.antMatcher(&quot;&#47;api&#47;**&quot;)</code>."},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":0,"creation_date":1672869767,"post_id":36875726,"comment_id":132373225,"body_markdown":"@dur is right. @Gabriel Dinant, I suggest you to take time to understand how security configuration works, there are detailed docs in official reference. When you put `requestMatchers` inside `authorizeHttpRequests` then you just configure **authorization** rules for the target security filter chain. But that security filter chain (so, your custom filter too) is still applied to **any** request because you didn&#39;t restrict it in any way. You should use `http.antMatcher(&quot;/secured-api/**&quot;)` to apply that security filter chain (so, your filter too) only to some urls instead of all urls.","body":"@dur is right. @Gabriel Dinant, I suggest you to take time to understand how security configuration works, there are detailed docs in official reference. When you put <code>requestMatchers</code> inside <code>authorizeHttpRequests</code> then you just configure <b>authorization</b> rules for the target security filter chain. But that security filter chain (so, your custom filter too) is still applied to <b>any</b> request because you didn&#39;t restrict it in any way. You should use <code>http.antMatcher(&quot;&#47;secured-api&#47;**&quot;)</code> to apply that security filter chain (so, your filter too) only to some urls instead of all urls."},{"owner":{"account_id":2862907,"reputation":193,"user_id":2457774,"accept_rate":100,"display_name":"10101101"},"score":0,"creation_date":1688119151,"post_id":36875726,"comment_id":135034177,"body_markdown":"Dude You are Genius, You should get Noble for this :) Thanks from the mountain !","body":"Dude You are Genius, You should get Noble for this :) Thanks from the mountain !"},{"owner":{"account_id":2363868,"reputation":166,"user_id":2069997,"display_name":"eyesfree"},"score":0,"creation_date":1692197372,"post_id":36875726,"comment_id":135591548,"body_markdown":"This answer is so brilliant, there are many posts related to this, but this will be my final solution for now, no need for Swagger whitelisting anymore, hooray!","body":"This answer is so brilliant, there are many posts related to this, but this will be my final solution for now, no need for Swagger whitelisting anymore, hooray!"}],"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"comment_count":9,"down_vote_count":15,"up_vote_count":75,"is_accepted":true,"score":60,"last_activity_date":1640090096,"creation_date":1461704685,"answer_id":36875726,"question_id":36795894,"body_markdown":"I have an application with the same requirement and to solve it I basically restricted Spring Security to a given ant match patter (using `antMatcher`) as follows:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\thttp\r\n        .antMatcher(&quot;/api/**&quot;)\r\n        .authorizeRequests() //\r\n\t\t    .anyRequest().authenticated() //\r\n\t\t\t.and()\r\n\t    .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n\r\nYou can read it as follows: for `http` only invoke these configurations on requests matching the ant pattern `/api/**` authorizing `any request` to `authenticated` users `and` `add filter` `authenticationTokenFilterBean()` `before` `UsernamePasswordAuthenticationFilter`. For all others requests this configuration has no effect.","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>I have an application with the same requirement and to solve it I basically restricted Spring Security to a given ant match patter (using <code>antMatcher</code>) as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .antMatcher(&quot;/api/**&quot;)\n    .authorizeRequests() //\n        .anyRequest().authenticated() //\n        .and()\n    .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<p>You can read it as follows: for <code>http</code> only invoke these configurations on requests matching the ant pattern <code>/api/**</code> authorizing <code>any request</code> to <code>authenticated</code> users <code>and</code> <code>add filter</code> <code>authenticationTokenFilterBean()</code> <code>before</code> <code>UsernamePasswordAuthenticationFilter</code>. For all others requests this configuration has no effect.</p>\n"},{"tags":[],"owner":{"account_id":1543875,"reputation":733,"user_id":1437886,"accept_rate":44,"display_name":"Qualaelay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602384059,"creation_date":1534951687,"answer_id":51970232,"question_id":36795894,"body_markdown":"If you use the\r\n\r\n```\r\n.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n```\r\n\r\nYou can define in the constructor the specific path it will apply to:\r\n\r\n\r\n\r\n    public class JwtAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\r\n    \r\n        public JwtAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n            super(&quot;/api/**&quot;);\r\n            this.setAuthenticationManager(authenticationManager);\r\n        }\r\n    \r\n        @Override\r\n        protected boolean requiresAuthentication(HttpServletRequest request, HttpServletResponse response) {\r\n            return super.requiresAuthentication(request, response);\r\n        }\r\n\r\n\r\n\r\nThe `requiresAuthentication` method will be used to know if that endpoint needs authentication.\r\n","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>If you use the</p>\n<pre><code>.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<p>You can define in the constructor the specific path it will apply to:</p>\n<pre><code>public class JwtAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\n\n    public JwtAuthenticationFilter(AuthenticationManager authenticationManager) {\n        super(&quot;/api/**&quot;);\n        this.setAuthenticationManager(authenticationManager);\n    }\n\n    @Override\n    protected boolean requiresAuthentication(HttpServletRequest request, HttpServletResponse response) {\n        return super.requiresAuthentication(request, response);\n    }\n</code></pre>\n<p>The <code>requiresAuthentication</code> method will be used to know if that endpoint needs authentication.</p>\n"},{"comments":[{"owner":{"account_id":5015739,"reputation":626,"user_id":4030649,"display_name":"Shengfeng Li"},"score":1,"creation_date":1561040832,"post_id":54898946,"comment_id":99941831,"body_markdown":"@NeelamKapoor Hi, there. You can use the filter as you need, You can also use a new filter and then register it to the adapter. It depends on how you implement the code.","body":"@NeelamKapoor Hi, there. You can use the filter as you need, You can also use a new filter and then register it to the adapter. It depends on how you implement the code."}],"tags":[],"owner":{"account_id":5015739,"reputation":626,"user_id":4030649,"display_name":"Shengfeng Li"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555972408,"creation_date":1551247078,"answer_id":54898946,"question_id":36795894,"body_markdown":"I think I&#39;ve found a way to solve it. I have `JwtTokenAuthenticationProcessingFilter` which is an `AbstractAuthenticationProcessingFilter`. I want it to authenticate request if there is token in the head but do not block the request if failed. All you need is to rewrite the ***doFilter*** and invoke the **`chain.doFilter`** no matter what the authentication result is(invoking unsuccessfulAuthentication is optional). Here is part of my code.\r\n\r\n    public class JwtTokenAuthenticationProcessingFilter extends AbstractAuthenticationProcessingFilter {\r\n    \r\n        private final TokenExtractor tokenExtractor;\r\n    \r\n        @Autowired\r\n        public JwtTokenAuthenticationProcessingFilter(TokenExtractor tokenExtractor, RequestMatcher matcher) {\r\n            super(matcher);\r\n            this.tokenExtractor = tokenExtractor;\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException,\r\n                ServletException {\r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n            if (!this.requiresAuthentication(request, response)) {\r\n                chain.doFilter(request, response);\r\n            } else {\r\n                if (this.logger.isDebugEnabled()) {\r\n                    this.logger.debug(&quot;Request is to process authentication&quot;);\r\n                }\r\n    \r\n                boolean success = true;\r\n    \r\n                Authentication authResult = null;\r\n                try {\r\n                    authResult = this.attemptAuthentication(request, response);\r\n                } catch (InternalAuthenticationServiceException var8) {\r\n                    this.logger.error(&quot;An internal error occurred while trying to authenticate the user.&quot;, var8);\r\n                    success = false;\r\n                } catch (AuthenticationException var9) {\r\n                    success = false;\r\n                }\r\n    \r\n    \r\n                if (success &amp;&amp; null != authResult) {\r\n                    this.successfulAuthentication(request, response, chain, authResult);\r\n                }\r\n    \r\n                // Please ensure that chain.doFilter(request, response) is invoked upon successful authentication. You want\r\n                // processing of the request to advance to the next filter, because very last one filter\r\n                // FilterSecurityInterceptor#doFilter is responsible to actually invoke method in your controller that is\r\n                // handling requested API resource.\r\n                chain.doFilter(request, response);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n                throws AuthenticationException {\r\n            String tokenPayload = request.getHeader(WebSecurityConfig.AUTHENTICATION_HEADER_NAME);\r\n            RawAccessJwtToken token = new RawAccessJwtToken(tokenExtractor.extract(tokenPayload));\r\n            return getAuthenticationManager().authenticate(new JwtAuthenticationToken(token));\r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n                                                Authentication authResult) throws IOException, ServletException {\r\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n            context.setAuthentication(authResult);\r\n            SecurityContextHolder.setContext(context);\r\n        }\r\n    }\r\n\r\n**Update at Apr 22**\r\n\r\nTo register the filter, just add the following code to the WebSecurityConfig\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final JwtAuthenticationProvider mJwtAuthenticationProvider;\r\n    \r\n        @Autowired\r\n        public WebSecurityConfig(JwtAuthenticationProvider jwtAuthenticationProvider) {\r\n            this.mJwtAuthenticationProvider = jwtAuthenticationProvider;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            // When multiple authentication providers are defined, the providers will be queried in the order theyre\r\n            // declared.\r\n            auth.authenticationProvider(mJwtAuthenticationProvider);\r\n        }\r\n    }\r\n\r\nIn the code, I only revealed the critical part about adding the filter. \r\nAll this implementation was inspired by [this site][1]. Give credit to the author Vladimir Stankovic for his detail explanation.\r\n\r\n\r\n  [1]: http://www.svlada.com/jwt-token-authentication-with-spring-boot/#jwt-authentication","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>I think I've found a way to solve it. I have <code>JwtTokenAuthenticationProcessingFilter</code> which is an <code>AbstractAuthenticationProcessingFilter</code>. I want it to authenticate request if there is token in the head but do not block the request if failed. All you need is to rewrite the <strong><em>doFilter</em></strong> and invoke the <strong><code>chain.doFilter</code></strong> no matter what the authentication result is(invoking unsuccessfulAuthentication is optional). Here is part of my code.</p>\n\n<pre><code>public class JwtTokenAuthenticationProcessingFilter extends AbstractAuthenticationProcessingFilter {\n\n    private final TokenExtractor tokenExtractor;\n\n    @Autowired\n    public JwtTokenAuthenticationProcessingFilter(TokenExtractor tokenExtractor, RequestMatcher matcher) {\n        super(matcher);\n        this.tokenExtractor = tokenExtractor;\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException,\n            ServletException {\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n        if (!this.requiresAuthentication(request, response)) {\n            chain.doFilter(request, response);\n        } else {\n            if (this.logger.isDebugEnabled()) {\n                this.logger.debug(\"Request is to process authentication\");\n            }\n\n            boolean success = true;\n\n            Authentication authResult = null;\n            try {\n                authResult = this.attemptAuthentication(request, response);\n            } catch (InternalAuthenticationServiceException var8) {\n                this.logger.error(\"An internal error occurred while trying to authenticate the user.\", var8);\n                success = false;\n            } catch (AuthenticationException var9) {\n                success = false;\n            }\n\n\n            if (success &amp;&amp; null != authResult) {\n                this.successfulAuthentication(request, response, chain, authResult);\n            }\n\n            // Please ensure that chain.doFilter(request, response) is invoked upon successful authentication. You want\n            // processing of the request to advance to the next filter, because very last one filter\n            // FilterSecurityInterceptor#doFilter is responsible to actually invoke method in your controller that is\n            // handling requested API resource.\n            chain.doFilter(request, response);\n        }\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException {\n        String tokenPayload = request.getHeader(WebSecurityConfig.AUTHENTICATION_HEADER_NAME);\n        RawAccessJwtToken token = new RawAccessJwtToken(tokenExtractor.extract(tokenPayload));\n        return getAuthenticationManager().authenticate(new JwtAuthenticationToken(token));\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n                                            Authentication authResult) throws IOException, ServletException {\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n        context.setAuthentication(authResult);\n        SecurityContextHolder.setContext(context);\n    }\n}\n</code></pre>\n\n<p><strong>Update at Apr 22</strong></p>\n\n<p>To register the filter, just add the following code to the WebSecurityConfig</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final JwtAuthenticationProvider mJwtAuthenticationProvider;\n\n    @Autowired\n    public WebSecurityConfig(JwtAuthenticationProvider jwtAuthenticationProvider) {\n        this.mJwtAuthenticationProvider = jwtAuthenticationProvider;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        // When multiple authentication providers are defined, the providers will be queried in the order theyre\n        // declared.\n        auth.authenticationProvider(mJwtAuthenticationProvider);\n    }\n}\n</code></pre>\n\n<p>In the code, I only revealed the critical part about adding the filter. \nAll this implementation was inspired by <a href=\"http://www.svlada.com/jwt-token-authentication-with-spring-boot/#jwt-authentication\" rel=\"nofollow noreferrer\">this site</a>. Give credit to the author Vladimir Stankovic for his detail explanation.</p>\n"},{"comments":[{"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"score":9,"creation_date":1574089916,"post_id":58670637,"comment_id":104096619,"body_markdown":"I can&#39;t seem to find this in the javadoc. Are you sure this exists?\n\nedit: I found that it was moved to `OncePerRequestFilter` but thanks for pointing to the correct direction","body":"I can&#39;t seem to find this in the javadoc. Are you sure this exists?  edit: I found that it was moved to <code>OncePerRequestFilter</code> but thanks for pointing to the correct direction"}],"tags":[],"owner":{"account_id":94283,"reputation":8803,"user_id":257501,"accept_rate":74,"display_name":"Saa ijak"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1572694321,"creation_date":1572694321,"answer_id":58670637,"question_id":36795894,"body_markdown":"`GenericFilterBean` has a following method :\r\n\r\n\r\n\r\n    /**\r\n    \t * Can be overridden in subclasses for custom filtering control,\r\n    \t * returning {@code true} to avoid filtering of the given request.\r\n    \t * &lt;p&gt;The default implementation always returns {@code false}.\r\n    \t * @param request current HTTP request\r\n    \t * @return whether the given request should &lt;i&gt;not&lt;/i&gt; be filtered\r\n    \t * @throws ServletException in case of errors\r\n    \t */\r\n    \tprotected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n    \t\treturn false;\r\n    \t}\r\n\r\nSo in your filter that extends `GenericFilterBean` you can override that method and implement logic to run the filter only on the routes that you would like.","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p><code>GenericFilterBean</code> has a following method :</p>\n\n<pre><code>/**\n     * Can be overridden in subclasses for custom filtering control,\n     * returning {@code true} to avoid filtering of the given request.\n     * &lt;p&gt;The default implementation always returns {@code false}.\n     * @param request current HTTP request\n     * @return whether the given request should &lt;i&gt;not&lt;/i&gt; be filtered\n     * @throws ServletException in case of errors\n     */\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        return false;\n    }\n</code></pre>\n\n<p>So in your filter that extends <code>GenericFilterBean</code> you can override that method and implement logic to run the filter only on the routes that you would like.</p>\n"},{"comments":[{"owner":{"account_id":5305266,"reputation":415,"user_id":4233452,"accept_rate":78,"display_name":"mrClean"},"score":1,"creation_date":1606945443,"post_id":63602255,"comment_id":115120923,"body_markdown":"Thank you so much, this solved my problem! I could not use the `/api/**` approach mentioned in other places, so this suits my use-case. Can you explain why this works? Does `WebSecurity` get called first in the chain? I&#39;m just wondering why it works to `.ignore` end points on `WebSecurity` that `HttpSecurity` honors.","body":"Thank you so much, this solved my problem! I could not use the <code>&#47;api&#47;**</code> approach mentioned in other places, so this suits my use-case. Can you explain why this works? Does <code>WebSecurity</code> get called first in the chain? I&#39;m just wondering why it works to <code>.ignore</code> end points on <code>WebSecurity</code> that <code>HttpSecurity</code> honors."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1647953601,"post_id":63602255,"comment_id":126496269,"body_markdown":"This works, so upvoted, but the latest versions of spring boot log a WARN and advise you to use the HttpSecurity API to do this.","body":"This works, so upvoted, but the latest versions of spring boot log a WARN and advise you to use the HttpSecurity API to do this."}],"tags":[],"owner":{"account_id":11233980,"reputation":99,"user_id":8240897,"display_name":"Arpa Mukherjee"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598460768,"creation_date":1598460768,"answer_id":63602255,"question_id":36795894,"body_markdown":"My Requirement was to exclude the endpoint matching /api/auth/**, to achieve the same I have configured my WebSecurityConfig spring configuration component as follows:   \r\n\r\n \r\n\r\n    \r\n    /**\r\n     * The purpose of this method is to exclude the URL&#39;s specific to Login, Swagger UI and static files.\r\n     * Any URL that should be excluded from the Spring security chain should be added to the ignore list in this\r\n     * method only\r\n     */\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n    \tweb.ignoring().antMatchers(&quot;/api/auth/**&quot;,&quot;/v2/api-docs&quot;, \r\n    \t\t\t&quot;/configuration/ui&quot;, \r\n    \t\t\t&quot;/swagger-resources&quot;, \r\n    \t\t\t&quot;/configuration/security&quot;,\r\n    \t\t\t&quot;/swagger-ui.html&quot;, \r\n    \t\t\t&quot;/webjars/**&quot;,\r\n    \t\t\t&quot;/favicon.ico&quot;,\r\n                &quot;/**/*.png&quot;,\r\n                &quot;/**/*.gif&quot;,\r\n                &quot;/**/*.svg&quot;,\r\n                &quot;/**/*.jpg&quot;,\r\n                &quot;/**/*.html&quot;,\r\n                &quot;/**/*.css&quot;,\r\n                &quot;/**/*.js&quot;);\r\n    }\r\n \r\n\r\n       /**\r\n    \t * The purpose of this method is to define the HTTP configuration that defines how an HTTP request is \r\n    \t * going to be treated by the Spring Security chain. All the request URL&#39;s (excluding the URL&#39;s added\r\n    \t * in WebSecurity configuration ignore list) matching this configuration have to pass through the\r\n    \t * custom Spring security filter defined in this method\r\n    \t */\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.csrf().disable()\r\n    \t\t.cors().disable()\r\n    \t\t.authorizeRequests()\r\n    \t\t.anyRequest()\r\n    \t\t.authenticated()\r\n    \t\t.and()\r\n    \t\t.exceptionHandling()\r\n    \t\t.authenticationEntryPoint(unauthorizedHandler)\r\n    \t\t.and()\r\n    \t\t.sessionManagement()\r\n    \t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t.and()\r\n    \t\t.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n    \t}\r\n\r\n    /**\r\n     * The purpose of this method is to create a new instance of JWTAuthenticationFilter\r\n     * and return the same from the method body. It must be ensured that this filter should\r\n     * not be configured as a Spring bean or registered into the Spring Application context\r\n     * failing which the below filter shall be registered as a default web filter, and thus\r\n     * all the URL&#39;s even the excluded ones shall be intercepted by the below filter\r\n     */\r\n    public JWTAuthenticationFilter authenticationTokenFilterBean() {\r\n        return new JWTAuthenticationFilter();\r\n    }\r\n\r\n\r\n","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>My Requirement was to exclude the endpoint matching /api/auth/**, to achieve the same I have configured my WebSecurityConfig spring configuration component as follows:</p>\n<pre><code>/**\n * The purpose of this method is to exclude the URL's specific to Login, Swagger UI and static files.\n * Any URL that should be excluded from the Spring security chain should be added to the ignore list in this\n * method only\n */\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(&quot;/api/auth/**&quot;,&quot;/v2/api-docs&quot;, \n            &quot;/configuration/ui&quot;, \n            &quot;/swagger-resources&quot;, \n            &quot;/configuration/security&quot;,\n            &quot;/swagger-ui.html&quot;, \n            &quot;/webjars/**&quot;,\n            &quot;/favicon.ico&quot;,\n            &quot;/**/*.png&quot;,\n            &quot;/**/*.gif&quot;,\n            &quot;/**/*.svg&quot;,\n            &quot;/**/*.jpg&quot;,\n            &quot;/**/*.html&quot;,\n            &quot;/**/*.css&quot;,\n            &quot;/**/*.js&quot;);\n}\n\n\n   /**\n     * The purpose of this method is to define the HTTP configuration that defines how an HTTP request is \n     * going to be treated by the Spring Security chain. All the request URL's (excluding the URL's added\n     * in WebSecurity configuration ignore list) matching this configuration have to pass through the\n     * custom Spring security filter defined in this method\n     */\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n        .cors().disable()\n        .authorizeRequests()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .exceptionHandling()\n        .authenticationEntryPoint(unauthorizedHandler)\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n/**\n * The purpose of this method is to create a new instance of JWTAuthenticationFilter\n * and return the same from the method body. It must be ensured that this filter should\n * not be configured as a Spring bean or registered into the Spring Application context\n * failing which the below filter shall be registered as a default web filter, and thus\n * all the URL's even the excluded ones shall be intercepted by the below filter\n */\npublic JWTAuthenticationFilter authenticationTokenFilterBean() {\n    return new JWTAuthenticationFilter();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12212238,"reputation":2370,"user_id":8913704,"accept_rate":100,"display_name":"Artem"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677181744,"creation_date":1674552552,"answer_id":75219552,"question_id":36795894,"body_markdown":"We recently updated to Spring Boot 3.0.0 which uses Spring Security 6.0.0 and ran into a similar issue when a filter was applied to all requests, although the `authorizeHttpRequests()` was used with specific paths defined.\r\n\r\nTurned out, if you want the `HttpSecurity` to be configured for a specific path, you need to use `securityMatcher()` at the beginning.\r\n\r\nSo it will be something like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private SecurityFilterChain configureFilterChain(HttpSecurity http, String pattern, String... roles) throws Exception {\r\n        return http\r\n                   .securityMatcher(pattern)\r\n                   .authorizeHttpRequests(auth -&gt; auth.requestMatchers(AntPathRequestMatcher.antMatcher(pattern)).hasAnyRole(roles))\r\n                   .addFilterBefore(new TokenFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                   .sessionManagement()\r\n                       .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                       .and()\r\n                   .exceptionHandling()\r\n                       .authenticationEntryPoint(new AuthenticationEntryPointImpl())\r\n                       .accessDeniedHandler(new AccessDeniedHandlerImpl())\r\n                       .and()\r\n                   .csrf().disable()\r\n                   .build();\r\n    }\r\n\r\nSo in this case, `TokenFilter` will be applied to only requests which have this `pattern`.","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>We recently updated to Spring Boot 3.0.0 which uses Spring Security 6.0.0 and ran into a similar issue when a filter was applied to all requests, although the <code>authorizeHttpRequests()</code> was used with specific paths defined.</p>\n<p>Turned out, if you want the <code>HttpSecurity</code> to be configured for a specific path, you need to use <code>securityMatcher()</code> at the beginning.</p>\n<p>So it will be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private SecurityFilterChain configureFilterChain(HttpSecurity http, String pattern, String... roles) throws Exception {\n    return http\n               .securityMatcher(pattern)\n               .authorizeHttpRequests(auth -&gt; auth.requestMatchers(AntPathRequestMatcher.antMatcher(pattern)).hasAnyRole(roles))\n               .addFilterBefore(new TokenFilter(), UsernamePasswordAuthenticationFilter.class)\n               .sessionManagement()\n                   .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                   .and()\n               .exceptionHandling()\n                   .authenticationEntryPoint(new AuthenticationEntryPointImpl())\n                   .accessDeniedHandler(new AccessDeniedHandlerImpl())\n                   .and()\n               .csrf().disable()\n               .build();\n}\n</code></pre>\n<p>So in this case, <code>TokenFilter</code> will be applied to only requests which have this <code>pattern</code>.</p>\n"}],"owner":{"account_id":4108001,"reputation":1482,"user_id":3371414,"accept_rate":77,"display_name":"Bravo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103705,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":36875726,"answer_count":6,"score":60,"last_activity_date":1677181744,"creation_date":1461333697,"question_id":36795894,"body_markdown":"I have the following Spring Security configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    httpSecurity\r\n            .csrf().disable()\r\n            .exceptionHandling()\r\n                .authenticationEntryPoint(unauthorizedHandler)\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/api/**&quot;).fullyAuthenticated()\r\n                .and()\r\n            .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n\r\nThe `authenticationTokenFilterBean()` is applied even on endpoints that do not match `/api/**` expression. I also tried adding the following configuration code:\r\n\r\n    @Override\r\n    public void configure(WebSecurity webSecurity) {\r\n        webSecurity.ignoring().antMatchers(&quot;/some_endpoint&quot;);\r\n    }\r\n\r\nbut this still did not solve my problem. How can I tell Spring Security to apply filters only on endpoints that match the secured URI expression? ","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>I have the following Spring Security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>httpSecurity\n        .csrf().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(unauthorizedHandler)\n            .and()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .authorizeRequests()\n            .antMatchers(&quot;/api/**&quot;).fullyAuthenticated()\n            .and()\n        .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<p>The <code>authenticationTokenFilterBean()</code> is applied even on endpoints that do not match <code>/api/**</code> expression. I also tried adding the following configuration code:</p>\n<pre><code>@Override\npublic void configure(WebSecurity webSecurity) {\n    webSecurity.ignoring().antMatchers(&quot;/some_endpoint&quot;);\n}\n</code></pre>\n<p>but this still did not solve my problem. How can I tell Spring Security to apply filters only on endpoints that match the secured URI expression?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1677169329,"post_id":75547029,"comment_id":133288925,"body_markdown":"You have `if (false)` instead of something like `if (answer1.equals(&quot;...&quot;))`.","body":"You have <code>if (false)</code> instead of something like <code>if (answer1.equals(&quot;...&quot;))</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1677171057,"post_id":75547029,"comment_id":133289495,"body_markdown":"`if` evaluates a boolean (true or false) expression. In your case `false` evaluates to... `false`, so it runs the `else`. You need to actually evaluate `answer1` in some form.","body":"<code>if</code> evaluates a boolean (true or false) expression. In your case <code>false</code> evaluates to... <code>false</code>, so it runs the <code>else</code>. You need to actually evaluate <code>answer1</code> in some form."}],"owner":{"account_id":27861766,"reputation":1,"user_id":21274155,"display_name":"jihoon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677179916,"creation_date":1677166657,"question_id":75547029,"body_markdown":"When I try to run the program, it would always show &quot;Your answer is Wrong&quot; regardless of the answer.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ICTPETA {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n    Scanner input = new Scanner (System.in);\r\n    \r\n    System.out.print(&quot;Name: &quot;);\r\n    String name = input.nextLine();\r\n    \r\n    System.out.print(&quot;Date: &quot;);\r\n    String date = input.nextLine();\r\n    \r\n    System.out.println (&quot;A. True or False&quot;);\r\n    System.out.println (&quot;Directions: Read each statement carefully. If the statement is correct, type True. Otherwise, type False&quot;);\r\n    \r\n    String answer1 = &quot;&quot;;\r\n    \r\n    System.out.println (&quot;1. Can an identifier have spaces?&quot;);\r\n    answer1 = input.nextLine();\r\n    \r\n    if (false)\r\n    {\r\n    \tSystem.out.println(&quot;Your answer is Correct!&quot;);\r\n    }\r\n    \r\n    else\r\n    {\r\n    \tSystem.out.println(&quot;Your answer is Wrong&quot;);\r\n    }\r\n    \r\n\t}\r\n\r\n}\r\n```","title":"How to resolve unknown error on if, else statement in Eclipse IDE?","body":"<p>When I try to run the program, it would always show &quot;Your answer is Wrong&quot; regardless of the answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ICTPETA {\n\n    public static void main(String[] args) {\n        \n    Scanner input = new Scanner (System.in);\n    \n    System.out.print(&quot;Name: &quot;);\n    String name = input.nextLine();\n    \n    System.out.print(&quot;Date: &quot;);\n    String date = input.nextLine();\n    \n    System.out.println (&quot;A. True or False&quot;);\n    System.out.println (&quot;Directions: Read each statement carefully. If the statement is correct, type True. Otherwise, type False&quot;);\n    \n    String answer1 = &quot;&quot;;\n    \n    System.out.println (&quot;1. Can an identifier have spaces?&quot;);\n    answer1 = input.nextLine();\n    \n    if (false)\n    {\n        System.out.println(&quot;Your answer is Correct!&quot;);\n    }\n    \n    else\n    {\n        System.out.println(&quot;Your answer is Wrong&quot;);\n    }\n    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","serialization","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":7314864,"reputation":819,"user_id":5572869,"display_name":"aBnormaLz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548668736,"creation_date":1548668736,"answer_id":54399196,"question_id":54398975,"body_markdown":"You should use `@JsonProperty` (`com.fasterxml.jackson.annotation.JsonProperty`) instead of Gson&#39;s `@SerializedName` like\r\n\r\n    public class BusinessClusterData {\r\n        @JsonProperty(&quot;data&quot;)\r\n        List&lt;BusinessClusterContent&gt; businessClusterContentList;\r\n        Long count;\r\n    }\r\n\r\nAlso i think you should make `BusinessClusterData` a static class, since it&#39;s not dependent on an instance of the `DataResponse`","title":"How to deserialize nested list with RestTemplate?","body":"<p>You should use <code>@JsonProperty</code> (<code>com.fasterxml.jackson.annotation.JsonProperty</code>) instead of Gson's <code>@SerializedName</code> like</p>\n\n<pre><code>public class BusinessClusterData {\n    @JsonProperty(\"data\")\n    List&lt;BusinessClusterContent&gt; businessClusterContentList;\n    Long count;\n}\n</code></pre>\n\n<p>Also i think you should make <code>BusinessClusterData</code> a static class, since it's not dependent on an instance of the <code>DataResponse</code></p>\n"},{"tags":[],"owner":{"account_id":4189559,"reputation":59,"user_id":3851980,"display_name":"user3851980"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677179718,"creation_date":1677179718,"answer_id":75549364,"question_id":54398975,"body_markdown":"It works with @JsonProperty (com.fasterxml.jackson.annotation.JsonProperty):\r\n\r\n    public class DataResponse&lt;T&gt;\r\n    {\r\n        protected Long code;\r\n        ...\r\n        @JsonProperty(&quot;data&quot;)\r\n        protected List&lt;T&gt; list;\r\n    }\r\n\r\nDeserialization sample:\r\n\r\n    ParameterizedTypeReference&lt;ResultList&lt;BusinessClusterData&gt;&gt; typeRef = new ParameterizedTypeReference&lt;ResultList&lt;BusinessClusterData&gt;&gt;() {};\r\n\tResponseEntity&lt;ResultList&lt;BusinessClusterData&gt;&gt; response = new RestTemplate().exchange(uri, HttpMethod.GET, entity, typeRef);","title":"How to deserialize nested list with RestTemplate?","body":"<p>It works with @JsonProperty (com.fasterxml.jackson.annotation.JsonProperty):</p>\n<pre><code>public class DataResponse&lt;T&gt;\n{\n    protected Long code;\n    ...\n    @JsonProperty(&quot;data&quot;)\n    protected List&lt;T&gt; list;\n}\n</code></pre>\n<p>Deserialization sample:</p>\n<pre><code>ParameterizedTypeReference&lt;ResultList&lt;BusinessClusterData&gt;&gt; typeRef = new ParameterizedTypeReference&lt;ResultList&lt;BusinessClusterData&gt;&gt;() {};\nResponseEntity&lt;ResultList&lt;BusinessClusterData&gt;&gt; response = new RestTemplate().exchange(uri, HttpMethod.GET, entity, typeRef);\n</code></pre>\n"}],"owner":{"account_id":1509821,"reputation":35,"user_id":1412228,"display_name":"Ryder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54399196,"answer_count":2,"score":2,"last_activity_date":1677179718,"creation_date":1548667947,"question_id":54398975,"body_markdown":"I have a response which was get from calling RestTemplate. I have a problem in deserializing the response to the target class. I can get &quot;code&quot; and &quot;message&quot;, but I can not get data as a list.\r\nHere is the my response class and RestTemplate call.\r\n\r\n    public class DataResponse {\r\n        Long code;\r\n        String message;\r\n        BusinessClusterData data;\r\n        public class BusinessClusterData {\r\n            @SerializedName(&quot;data&quot;)\r\n            List&lt;BusinessClusterContent&gt; businessClusterContentList;\r\n            Long count;\r\n        }\r\n    }\r\n    ResponseEntity&lt;DataResponse&gt; response = \r\n            restTemplate.exchange(url, HttpMethod.GET, entity, DataResponse.class);\r\n\r\nHere is the response.\r\n\r\n    {\r\n        &quot;code&quot;: 0,\r\n        &quot;message&quot;: &quot;ok&quot;,\r\n        &quot;data&quot;: {\r\n            &quot;data&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;test_name&quot;,\r\n                &quot;host&quot;: &quot;test_host&quot;,\r\n                &quot;segInfo&quot;: [\r\n                {\r\n                    &quot;state&quot;: &quot;applyed&quot;,\r\n                    &quot;formId&quot;: 42158\r\n                }\r\n            ]}\r\n          ],\r\n        &quot;count&quot;: 1\r\n      }\r\n    }\r\n\r\n","title":"How to deserialize nested list with RestTemplate?","body":"<p>I have a response which was get from calling RestTemplate. I have a problem in deserializing the response to the target class. I can get \"code\" and \"message\", but I can not get data as a list.\nHere is the my response class and RestTemplate call.</p>\n\n<pre><code>public class DataResponse {\n    Long code;\n    String message;\n    BusinessClusterData data;\n    public class BusinessClusterData {\n        @SerializedName(\"data\")\n        List&lt;BusinessClusterContent&gt; businessClusterContentList;\n        Long count;\n    }\n}\nResponseEntity&lt;DataResponse&gt; response = \n        restTemplate.exchange(url, HttpMethod.GET, entity, DataResponse.class);\n</code></pre>\n\n<p>Here is the response.</p>\n\n<pre><code>{\n    \"code\": 0,\n    \"message\": \"ok\",\n    \"data\": {\n        \"data\": [\n        {\n            \"name\": \"test_name\",\n            \"host\": \"test_host\",\n            \"segInfo\": [\n            {\n                \"state\": \"applyed\",\n                \"formId\": 42158\n            }\n        ]}\n      ],\n    \"count\": 1\n  }\n}\n</code></pre>\n"},{"tags":["java","android","image","android-studio"],"owner":{"account_id":19574667,"reputation":1,"user_id":14324990,"display_name":"Mohammad Aamir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677179299,"creation_date":1677179084,"question_id":75549268,"body_markdown":"mainactivity (first activity from where i am sending)\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btn=findViewById(R.id.button);\r\n\r\n\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ImagePicker.Companion.with(MainActivity.this)\r\n                        //.crop()\t    \t\t\t//Crop image(Optional), Check Customization for more option\r\n                        //.compress(1024)\t\t\t//Final image size will be less than 1 MB(Optional)\r\n                        .maxResultSize(1080, 1080)\t//Final image resolution will be less than 1080 x 1080(Optional)\r\n                        .start();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        image.setDrawingCacheEnabled(true);\r\n        Bitmap b=image.getDrawingCache();\r\n        Intent i = new Intent(MainActivity.this, MainActivity2.class);\r\n\r\n        i.putExtra(&quot;Bitmap&quot;, b);\r\n        startActivity(i);\r\n    }\r\n}\r\nsecond activity\r\n\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        image=findViewById(R.id.imageView2);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        Bitmap bitmap = (Bitmap)this.getIntent().getParcelableExtra(&quot;Bitmap&quot;);\r\n        image.setImageBitmap(bitmap);\r\n    }\r\n}\r\nI am using Dhaval library to pick images from the camera and gallery. From one activity and i want to pass that image to another activity.\r\n\r\n\r\n","title":"taking image from gallery in one activity and send to another activity","body":"<p>mainactivity (first activity from where i am sending)</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    btn=findViewById(R.id.button);\n\n\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            ImagePicker.Companion.with(MainActivity.this)\n                    //.crop()                   //Crop image(Optional), Check Customization for more option\n                    //.compress(1024)           //Final image size will be less than 1 MB(Optional)\n                    .maxResultSize(1080, 1080)  //Final image resolution will be less than 1080 x 1080(Optional)\n                    .start();\n\n        }\n    });\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    image.setDrawingCacheEnabled(true);\n    Bitmap b=image.getDrawingCache();\n    Intent i = new Intent(MainActivity.this, MainActivity2.class);\n\n    i.putExtra(&quot;Bitmap&quot;, b);\n    startActivity(i);\n}\n</code></pre>\n<p>}\nsecond activity</p>\n<pre><code> protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main2);\n    image=findViewById(R.id.imageView2);\n\n\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    Bitmap bitmap = (Bitmap)this.getIntent().getParcelableExtra(&quot;Bitmap&quot;);\n    image.setImageBitmap(bitmap);\n}\n</code></pre>\n<p>}\nI am using Dhaval library to pick images from the camera and gallery. From one activity and i want to pass that image to another activity.</p>\n"},{"tags":["java","linux","jvm"],"comments":[{"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"score":2,"creation_date":1503146538,"post_id":45771615,"comment_id":78501450,"body_markdown":"Is it possible that you only have the JRE installed (which can run Java software, but cannot compile it), and have not yet installed the JDK (which can compile Java source code into class files)?","body":"Is it possible that you only have the JRE installed (which can run Java software, but cannot compile it), and have not yet installed the JDK (which can compile Java source code into class files)?"},{"owner":{"account_id":9918070,"reputation":1,"user_id":7767107,"display_name":"Gandhasiri Sandeep"},"score":0,"creation_date":1503146585,"post_id":45771615,"comment_id":78501465,"body_markdown":"refer this post :\nhttps://stackoverflow.com/questions/8864612/unable-to-run-javac-on-ubuntu","body":"refer this post : <a href=\"https://stackoverflow.com/questions/8864612/unable-to-run-javac-on-ubuntu\" title=\"unable to run javac on ubuntu\">stackoverflow.com/questions/8864612/&hellip;</a>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1503146745,"post_id":45771615,"comment_id":78501518,"body_markdown":"What is the output of `which javac`? You&#39;re saying that you cannot run `javac` so that would be the first thing to check. Also, how did you install Java?","body":"What is the output of <code>which javac</code>? You&#39;re saying that you cannot run <code>javac</code> so that would be the first thing to check. Also, how did you install Java?"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1503146883,"post_id":45771615,"comment_id":78501571,"body_markdown":"@ErwinBolwidt output of `which javac` comes out to be nothing!","body":"@ErwinBolwidt output of <code>which javac</code> comes out to be nothing!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1503147284,"post_id":45771615,"comment_id":78501704,"body_markdown":"So you don&#39;t have a JDK installed, or it isn&#39;t installed correctly.","body":"So you don&#39;t have a JDK installed, or it isn&#39;t installed correctly."},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1503148601,"post_id":45771615,"comment_id":78502078,"body_markdown":"No, its there. I followed steps from this link https://community.linuxmint.com/tutorial/view/1372","body":"No, its there. I followed steps from this link <a href=\"https://community.linuxmint.com/tutorial/view/1372\" rel=\"nofollow noreferrer\">community.linuxmint.com/tutorial/view/1372</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1503149343,"post_id":45771615,"comment_id":78502304,"body_markdown":"@JSK Well, obviously it (`javac`) is *not* there. Perhaps because the instructions you linked refer to `/opt/java`, but you&#39;re referring to `/usr/lib/jvm`.","body":"@JSK Well, obviously it (<code>javac</code>) is <i>not</i> there. Perhaps because the instructions you linked refer to <code>&#47;opt&#47;java</code>, but you&#39;re referring to <code>&#47;usr&#47;lib&#47;jvm</code>."},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1503149496,"post_id":45771615,"comment_id":78502356,"body_markdown":"@Andreas `/usr/lib/jvm/java-8-openjdk-amd64` clearly indicates, its there","body":"@Andreas <code>&#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64</code> clearly indicates, its there"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1503149535,"post_id":45771615,"comment_id":78502370,"body_markdown":"this is my JAVA_HOME environment variable","body":"this is my JAVA_HOME environment variable"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1503149680,"post_id":45771615,"comment_id":78502420,"body_markdown":"@JSK If `/usr/lib/jvm/java-8-openjdk-amd64` is in the `PATH`, like you claim, and it has a `javac`, then `which javac` would show it. Since the `which` command doesn&#39;t show it, it appears that `javac` is in fact not in the `/usr/lib/jvm/java-8-openjdk-amd64` folder.","body":"@JSK If <code>&#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64</code> is in the <code>PATH</code>, like you claim, and it has a <code>javac</code>, then <code>which javac</code> would show it. Since the <code>which</code> command doesn&#39;t show it, it appears that <code>javac</code> is in fact not in the <code>&#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64</code> folder."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1503147241,"post_id":45771680,"comment_id":78501692,"body_markdown":"Nobody said it was a directory. `which` reported it as an executable found on the PATH. The words you are looking for are  &#39;executable&#39; and &#39;execute&#39;.","body":"Nobody said it was a directory. <code>which</code> reported it as an executable found on the PATH. The words you are looking for are  &#39;executable&#39; and &#39;execute&#39;."}],"tags":[],"owner":{"account_id":11582220,"reputation":198,"user_id":8485750,"accept_rate":75,"display_name":"Jonas"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1503146567,"creation_date":1503146567,"answer_id":45771680,"question_id":45771615,"body_markdown":"&gt; /usr/lib/jvm/java-8-openjdk-amd64/bin/java\r\n\r\nis not an dir, its an excecuteable.\r\ntry excecute the following to use javac:\r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64/bin/javac\r\nor\r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64/bin/jstack","title":"javac command not working in linux environment","body":"<blockquote>\n  <p>/usr/lib/jvm/java-8-openjdk-amd64/bin/java</p>\n</blockquote>\n\n<p>is not an dir, its an excecuteable.\ntry excecute the following to use javac:</p>\n\n<pre><code>/usr/lib/jvm/java-8-openjdk-amd64/bin/javac\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/usr/lib/jvm/java-8-openjdk-amd64/bin/jstack\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1477900,"reputation":725,"user_id":1387867,"display_name":"charo"},"score":1,"creation_date":1630960632,"post_id":45771892,"comment_id":122091076,"body_markdown":"My linux install must have been JRE, maven complained, and javac was missing. After this install command, and defining JAVA_HOME in profile it is building!","body":"My linux install must have been JRE, maven complained, and javac was missing. After this install command, and defining JAVA_HOME in profile it is building!"}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503148011,"creation_date":1503148011,"answer_id":45771892,"question_id":45771615,"body_markdown":"Undo your environment settings and run `sudo apt install openjdk-8-jdk`.  javac should now be in your path.\r\n","title":"javac command not working in linux environment","body":"<p>Undo your environment settings and run <code>sudo apt install openjdk-8-jdk</code>.  javac should now be in your path.</p>\n"},{"comments":[{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1503148635,"post_id":45771924,"comment_id":78502086,"body_markdown":"I followed this link : https://community.linuxmint.com/tutorial/view/1372","body":"I followed this link : <a href=\"https://community.linuxmint.com/tutorial/view/1372\" rel=\"nofollow noreferrer\">community.linuxmint.com/tutorial/view/1372</a>"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1503148683,"post_id":45771924,"comment_id":78502096,"body_markdown":"@JSK Glad to hear it.","body":"@JSK Glad to hear it."},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1503149155,"post_id":45771924,"comment_id":78502245,"body_markdown":"so what do you say, do I have jdk installed or not","body":"so what do you say, do I have jdk installed or not"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1503149379,"post_id":45771924,"comment_id":78502321,"body_markdown":"@JSK When you ran the command and saw the output you documented, you did not have the JDK installed.  If you can run the command `javac -version` and get the version of the `javac` java compiler, you do have the JDK installed.  I don&#39;t know what your system looks like at the moment; but now you are prepared to test if the JDK is installed yourself.  Good luck!","body":"@JSK When you ran the command and saw the output you documented, you did not have the JDK installed.  If you can run the command <code>javac -version</code> and get the version of the <code>javac</code> java compiler, you do have the JDK installed.  I don&#39;t know what your system looks like at the moment; but now you are prepared to test if the JDK is installed yourself.  Good luck!"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1503149635,"post_id":45771924,"comment_id":78502411,"body_markdown":"but my JAVA_HOME environment variable clearly indicate, its there : `/usr/lib/jvm/java-8-openjdk-amd64`","body":"but my JAVA_HOME environment variable clearly indicate, its there : <code>&#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64</code>"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1503149932,"post_id":45771924,"comment_id":78502501,"body_markdown":"@JSK Ok, I see the confusion.  JAVA_HOME is for your JVM, the `javac` program is not part of your JVM, but is part of your JDK.  The JDK is what is used to create Java programs from Java source code.  It is not unusual to have the JVM installed without the JDK because more people need to run Java programs than need to write them.  You&#39;re starting to write Java programs, so you need to install the JDK to get the `javac` command.  So having a correct `JAVA_HOME` doesn&#39;t mean you have the JDK installed.  Running the test above will make sure it is installed.","body":"@JSK Ok, I see the confusion.  JAVA_HOME is for your JVM, the <code>javac</code> program is not part of your JVM, but is part of your JDK.  The JDK is what is used to create Java programs from Java source code.  It is not unusual to have the JVM installed without the JDK because more people need to run Java programs than need to write them.  You&#39;re starting to write Java programs, so you need to install the JDK to get the <code>javac</code> command.  So having a correct <code>JAVA_HOME</code> doesn&#39;t mean you have the JDK installed.  Running the test above will make sure it is installed."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1630969177,"post_id":45771924,"comment_id":122092813,"body_markdown":"The situation described in the question is clearly occurring on an Ubuntu system.","body":"The situation described in the question is clearly occurring on an Ubuntu system."},{"owner":{"account_id":6476857,"reputation":329,"user_id":5015219,"display_name":"The Grindfather"},"score":0,"creation_date":1685307168,"post_id":45771924,"comment_id":134639914,"body_markdown":"Thanks, this helped me get up and running on **Fedora 34 ARM64** Parallels Desktop version.\n\nI ran `which javac` and it provided me with `/usr/bin/javac`.","body":"Thanks, this helped me get up and running on <b>Fedora 34 ARM64</b> Parallels Desktop version.  I ran <code>which javac</code> and it provided me with <code>&#47;usr&#47;bin&#47;javac</code>."}],"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":8,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1503148195,"creation_date":1503148195,"answer_id":45771924,"question_id":45771615,"body_markdown":"The core problem is that you do not have the Java Develoment Toolkit (which is different than the Java runtime) installed on your system.  This means that utilities used to create Java programs (such as javac, jar, etc) are not on your system.\r\n\r\nThorbj&#248;rn Ravn Andersen gave the answer for Debian-family Linux systems, here&#39;s the answer for RedHat-family systems\r\n\r\n    yum install java-devel\r\n\r\nor if you are on the latest Fedora\r\n\r\n    dnf install java-devel\r\n","title":"javac command not working in linux environment","body":"<p>The core problem is that you do not have the Java Develoment Toolkit (which is different than the Java runtime) installed on your system.  This means that utilities used to create Java programs (such as javac, jar, etc) are not on your system.</p>\n\n<p>Thorbjrn Ravn Andersen gave the answer for Debian-family Linux systems, here's the answer for RedHat-family systems</p>\n\n<pre><code>yum install java-devel\n</code></pre>\n\n<p>or if you are on the latest Fedora</p>\n\n<pre><code>dnf install java-devel\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674701,"reputation":3061,"user_id":1540501,"accept_rate":60,"display_name":"ivan.ukr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632341377,"creation_date":1632341377,"answer_id":69290680,"question_id":45771615,"body_markdown":"Just my 5 cents.\r\nOn CentOS 7 (assuming you want LTS Java 11):\r\n```shell\r\nsudo yum install java-11-openjdk-devel\r\n```\r\n","title":"javac command not working in linux environment","body":"<p>Just my 5 cents.\nOn CentOS 7 (assuming you want LTS Java 11):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo yum install java-11-openjdk-devel\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27863339,"reputation":1,"user_id":21275374,"display_name":"nix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677179093,"creation_date":1677179093,"answer_id":75549269,"question_id":45771615,"body_markdown":"dont worry here is your solution:)\r\nfirst, find where is JVM in your Linux \r\n\r\n    whereis jvm \r\nin my case jvm in jvm: /usr/lib/jvm\r\nso now go to that directory \r\n[look at the image and checkout ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4QUEm.png\r\nafter coming here \r\n\r\n    rootkali)-[/usr/lib/jvm/java-17-openjdk-amd64/bin]\r\nsearch ls command \r\nlook in the image there is not a javac file present \r\n\r\n                                                                                                      \r\n    (rootkali)-[/usr/lib/jvm/java-17-openjdk-amd64/bin]\r\n    # apt-get install openjdk-17-jdk\r\n\r\ntry this if you are using OpenJDK-8 or any different kindly changes the number as your requirement.\r\nthis command download everything\r\nnow look what new things come \r\n\r\n \r\n\r\n                                                                                                   \r\n    (rootkali)-[/usr/lib/jvm/java-17-openjdk-amd64/bin]\r\n    # ls                            \r\n    jar        javadoc   jdb        jhsdb   jmap      jrunscript  jstatd\r\n    jarsigner  javap     jdeprscan  jimage  jmod      jshell      keytool\r\n    java       jcmd      jdeps      jinfo   jpackage  jstack      rmiregistry\r\n    javac      jconsole  jfr        jlink   jps       jstat       serialver\r\n                                                                               \r\nhurray all stuff is done ,\r\nlearn how to run java in terminal,\r\ncreate hello.java file in desktop,\r\nlet compile using javac ,\r\nthen run though java ,\r\n \r\n\r\n                                                                                               \r\n    (rootkali)-[~/Desktop/javac]\r\n    # javac hello.java\r\n    Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\r\n \r\n\r\n                    \r\n                                                                                       \r\n    (rootkali)-[~/Desktop/javac]\r\n    # java hello.java \r\n    Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\r\n    Hello World\r\n\r\n   \r\n\r\n\r\n\r\n\r\n","title":"javac command not working in linux environment","body":"<p>dont worry here is your solution:)\nfirst, find where is JVM in your Linux</p>\n<pre><code>whereis jvm \n</code></pre>\n<p>in my case jvm in jvm: /usr/lib/jvm\nso now go to that directory\n<a href=\"https://i.stack.imgur.com/4QUEm.png\" rel=\"nofollow noreferrer\">look at the image and checkout </a></p>\n<p>after coming here</p>\n<pre><code>rootkali)-[/usr/lib/jvm/java-17-openjdk-amd64/bin]\n</code></pre>\n<p>search ls command\nlook in the image there is not a javac file present</p>\n<pre><code>(rootkali)-[/usr/lib/jvm/java-17-openjdk-amd64/bin]\n# apt-get install openjdk-17-jdk\n</code></pre>\n<p>try this if you are using OpenJDK-8 or any different kindly changes the number as your requirement.\nthis command download everything\nnow look what new things come</p>\n<pre><code>(rootkali)-[/usr/lib/jvm/java-17-openjdk-amd64/bin]\n# ls                            \njar        javadoc   jdb        jhsdb   jmap      jrunscript  jstatd\njarsigner  javap     jdeprscan  jimage  jmod      jshell      keytool\njava       jcmd      jdeps      jinfo   jpackage  jstack      rmiregistry\njavac      jconsole  jfr        jlink   jps       jstat       serialver\n                                                                           \n</code></pre>\n<p>hurray all stuff is done ,\nlearn how to run java in terminal,\ncreate hello.java file in desktop,\nlet compile using javac ,\nthen run though java ,</p>\n<pre><code>(rootkali)-[~/Desktop/javac]\n# javac hello.java\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\n\n\n                \n                                                                                   \n(rootkali)-[~/Desktop/javac]\n# java hello.java \nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\nHello World\n</code></pre>\n"}],"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25566,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1677179093,"creation_date":1503146223,"question_id":45771615,"body_markdown":"I had successfully installed java on my `linux` system. When I ran a hello world test sample from desktop it ran successfully, but then after few days when I again tried to run it from terminal using `javac` command it gave me following response:\r\n\r\n    The program &#39;javac&#39; can be found in the following packages:\r\n     * default-jdk\r\n     * ecj\r\n     * gcj-5-jdk\r\n     * openjdk-8-jdk-headless\r\n     * gcj-4.8-jdk\r\n     * gcj-4.9-jdk\r\n     * openjdk-9-jdk-headless\r\n    Try: sudo apt install &lt;selected package&gt;\r\n\r\nWhen I test my `JAVA_HOME` env. variable using `echo $JAVA_HOME` its showing:\r\n`/usr/lib/jvm/java-8-openjdk-amd64`\r\n\r\nits also there with `PATH` variable.\r\nWhen I ran a `which java` command its showing:\r\n`/usr/lib/jvm/java-8-openjdk-amd64/bin/java`\r\n\r\nand with command `whereis java` its showing:\r\n`java: /usr/lib/jvm/java-8-openjdk-amd64/bin/java /usr/share/man/man1/java.1.gz`\r\n\r\n\r\nSo, I don&#39;t understand the problem, as I, myself applied the env. variables, and its showing everything perfect, then why is not `javac` command running? can any one look into this problem.\r\n\r\n","title":"javac command not working in linux environment","body":"<p>I had successfully installed java on my <code>linux</code> system. When I ran a hello world test sample from desktop it ran successfully, but then after few days when I again tried to run it from terminal using <code>javac</code> command it gave me following response:</p>\n\n<pre><code>The program 'javac' can be found in the following packages:\n * default-jdk\n * ecj\n * gcj-5-jdk\n * openjdk-8-jdk-headless\n * gcj-4.8-jdk\n * gcj-4.9-jdk\n * openjdk-9-jdk-headless\nTry: sudo apt install &lt;selected package&gt;\n</code></pre>\n\n<p>When I test my <code>JAVA_HOME</code> env. variable using <code>echo $JAVA_HOME</code> its showing:\n<code>/usr/lib/jvm/java-8-openjdk-amd64</code></p>\n\n<p>its also there with <code>PATH</code> variable.\nWhen I ran a <code>which java</code> command its showing:\n<code>/usr/lib/jvm/java-8-openjdk-amd64/bin/java</code></p>\n\n<p>and with command <code>whereis java</code> its showing:\n<code>java: /usr/lib/jvm/java-8-openjdk-amd64/bin/java /usr/share/man/man1/java.1.gz</code></p>\n\n<p>So, I don't understand the problem, as I, myself applied the env. variables, and its showing everything perfect, then why is not <code>javac</code> command running? can any one look into this problem.</p>\n"},{"tags":["java","xpath","html-table","selenium-chromedriver"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1677181263,"post_id":75549254,"comment_id":133292445,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example)","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"}],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677179023,"creation_date":1677179023,"question_id":75549254,"body_markdown":"Currently I am tasked with identifying all the columns in a table on the UI using selenium/java (for the first row which are header columns).  One thing these table columns have in common is a specific xpath, with the td index being the unique identifier for the column as seen below.  I have 54 columns and I want to validate the td are present/displayed.  Below is the xpath for the first column I want to validate (at **td[2]**), along with the example in the Chrome developer tools showing the element tree:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3UHt.png\r\n\r\nHow would I go about using selenium webdriver and java for identifying and iterating through each index in a clean and efficient way without having to implicitly find the element by xpath for so many different td elements?","title":"Using xpath and iterating through table columns based on index in Selenium java","body":"<p>Currently I am tasked with identifying all the columns in a table on the UI using selenium/java (for the first row which are header columns).  One thing these table columns have in common is a specific xpath, with the td index being the unique identifier for the column as seen below.  I have 54 columns and I want to validate the td are present/displayed.  Below is the xpath for the first column I want to validate (at <strong>td[2]</strong>), along with the example in the Chrome developer tools showing the element tree:</p>\n<p><a href=\"https://i.stack.imgur.com/r3UHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3UHt.png\" alt=\"enter image description here\" /></a></p>\n<p>How would I go about using selenium webdriver and java for identifying and iterating through each index in a clean and efficient way without having to implicitly find the element by xpath for so many different td elements?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":13096170,"reputation":109,"user_id":9462050,"display_name":"S.Ashok"},"score":0,"creation_date":1677173379,"post_id":75548238,"comment_id":133290236,"body_markdown":"Your controller does not have a mapping for `/` API. 404 simply means that there is no API mapped to that URL. Check you controller and then navigate to the respective URL, then login, respective page should appear.","body":"Your controller does not have a mapping for <code>&#47;</code> API. 404 simply means that there is no API mapped to that URL. Check you controller and then navigate to the respective URL, then login, respective page should appear."}],"answers":[{"comments":[{"owner":{"account_id":24736193,"reputation":21,"user_id":18623537,"display_name":"Ravi"},"score":0,"creation_date":1677250930,"post_id":75548457,"comment_id":133306481,"body_markdown":"Can you please elaborate &quot;Your controller does not have a mapping for / API&quot;. I already have controller for mapping for /  ... see here....  \t@GetMapping(&quot;/&quot;)\n\tpublic String homePage(Model modal) {\n\t\tmodal.addAttribute(&quot;title&quot;, &quot;Home&quot;);\n\t\treturn &quot;index&quot;;\n\t}","body":"Can you please elaborate &quot;Your controller does not have a mapping for / API&quot;. I already have controller for mapping for /  ... see here....  \t@GetMapping(&quot;/&quot;) \tpublic String homePage(Model modal) { \t\tmodal.addAttribute(&quot;title&quot;, &quot;Home&quot;); \t\treturn &quot;index&quot;; \t}"},{"owner":{"account_id":13096170,"reputation":109,"user_id":9462050,"display_name":"S.Ashok"},"score":0,"creation_date":1677258702,"post_id":75548457,"comment_id":133308771,"body_markdown":"There could be multiple possibilities, this is one of them. Maybe you have a `@RequestMapping` on the controller class along with the methods, but you&#39;re trying to use the URL considering only the method&#39;s `@RequestMapping` . In case you are confident, then check the second point that I have mentioned. Also, provide the code URL if possible, in case you face any further issues.","body":"There could be multiple possibilities, this is one of them. Maybe you have a <code>@RequestMapping</code> on the controller class along with the methods, but you&#39;re trying to use the URL considering only the method&#39;s <code>@RequestMapping</code> . In case you are confident, then check the second point that I have mentioned. Also, provide the code URL if possible, in case you face any further issues."}],"tags":[],"owner":{"account_id":13096170,"reputation":109,"user_id":9462050,"display_name":"S.Ashok"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677174250,"creation_date":1677174250,"answer_id":75548457,"question_id":75548238,"body_markdown":"* Your controller does not have a mapping for `/` API. `404` means that there is no API mapped for that URL. Check your controller and then navigate to the respective URL, then log in, and the respective page should appear.\r\n* Also, `HttpSecurity` class seems to have implemented a builder pattern.\r\nInstead of:\r\n```\r\n...\r\n http.authorizeHttpRequests()\r\n    .requestMatchers(&quot;/**&quot;).permitAll();\r\n    \r\n    http.authorizeHttpRequests()\r\n    .requestMatchers(&quot;/admin/**&quot;).authenticated().anyRequest()\r\n...\r\n```\r\nYou should do something like :\r\n```\r\n...\r\nhttp.authorizeHttpRequests()\r\n    .requestMatchers(&quot;/**&quot;).permitAll()\r\n    .and().authorizeHttpRequests()\r\n    .requestMatchers(&quot;/admin/**&quot;)\r\n    .authenticated().anyRequest()\r\n...\r\n```\r\nYou may refer to this [answer](https://stackoverflow.com/a/75516761/9462050)","title":"Multi login for normal user and admin user not working","body":"<ul>\n<li>Your controller does not have a mapping for <code>/</code> API. <code>404</code> means that there is no API mapped for that URL. Check your controller and then navigate to the respective URL, then log in, and the respective page should appear.</li>\n<li>Also, <code>HttpSecurity</code> class seems to have implemented a builder pattern.\nInstead of:</li>\n</ul>\n<pre><code>...\n http.authorizeHttpRequests()\n    .requestMatchers(&quot;/**&quot;).permitAll();\n    \n    http.authorizeHttpRequests()\n    .requestMatchers(&quot;/admin/**&quot;).authenticated().anyRequest()\n...\n</code></pre>\n<p>You should do something like :</p>\n<pre><code>...\nhttp.authorizeHttpRequests()\n    .requestMatchers(&quot;/**&quot;).permitAll()\n    .and().authorizeHttpRequests()\n    .requestMatchers(&quot;/admin/**&quot;)\n    .authenticated().anyRequest()\n...\n</code></pre>\n<p>You may refer to this <a href=\"https://stackoverflow.com/a/75516761/9462050\">answer</a></p>\n"}],"owner":{"account_id":24736193,"reputation":21,"user_id":18623537,"display_name":"Ravi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677444259,"accepted_answer_id":75548457,"answer_count":1,"score":0,"last_activity_date":1677178958,"creation_date":1677172982,"question_id":75548238,"body_markdown":"I am using two configuration, one for normal user login page and another fpr admin user login page.\r\n\r\nThis configuration is for my normal user:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Order(2)\r\n    public class Config {\r\n\r\n    \t@Bean\r\n    \tpublic UserDetailsService getUserDetailsService() {\r\n    \t\treturn new UserDetailsServiceImpl();\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic BCryptPasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic DaoAuthenticationProvider authenticationProvider() {\r\n    \t\tDaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n\t\t    daoAuthenticationProvider.setUserDetailsService(this.getUserDetailsService());\r\n    \t\tdaoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n\t    \treturn daoAuthenticationProvider;\r\n    \t}\r\n\r\n    \t// configure method\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.authenticationProvider(authenticationProvider());\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tprotected SecurityFilterChain filterChain1(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n            .authorizeHttpRequests()\r\n    \t\t    .requestMatchers(&quot;/registration/**&quot;, &quot;/signup&quot;, &quot;/user/plandetails&quot;).permitAll()\r\n        \t\t.requestMatchers(&quot;/registration&quot;, &quot;/user/plandetails&quot;).permitAll()\r\n\t        \t.requestMatchers(&quot;/registration&quot;, &quot;/user/checkout&quot;).permitAll()\r\n    \t    \t.requestMatchers(&quot;/registration/&quot;, &quot;/signup&quot;, &quot;/user/plandetails&quot;).permitAll()\r\n    \t\t    .requestMatchers(&quot;/signup/**&quot;, &quot;/signup&quot;, &quot;/user/plandetails&quot;).permitAll()\r\n        \t\t.requestMatchers(&quot;/signup&quot;, &quot;/signup&quot;, &quot;/user/plandetails&quot;).permitAll()\r\n        \t\t.requestMatchers(&quot;/signup&quot;, &quot;/registration&quot;, &quot;/user/plandetails&quot;).permitAll()\r\n    \t    \t.requestMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\r\n    \t\t    .requestMatchers(&quot;/**&quot;).permitAll()\r\n                .and()\r\n    \t\t.formLogin()\r\n                .loginPage(&quot;/signin&quot;)\r\n                .loginProcessingUrl(&quot;/dologin&quot;)\r\n                .defaultSuccessUrl(&quot;/user/dashboard&quot;)\r\n        \t\t.and()\r\n            .csrf().disable()\r\n            .authorizeHttpRequests()\r\n                .anyRequest().fullyAuthenticated()\r\n                .and()\r\n            .rememberMe();\r\n\t\t    return http.build();\r\n        }\r\n\r\nAnd this is my admin user configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    @Order(1)\r\n    public class AdminConfig{\r\n\r\n    \t@Bean\r\n    \tprotected SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n                .authorizeHttpRequests()\r\n            \t\t.requestMatchers(&quot;/**&quot;).permitAll();\r\n\t\t\r\n\t\t    http\r\n                .authorizeHttpRequests()\r\n            \t\t.requestMatchers(&quot;/admin/**&quot;).authenticated()\r\n                    .anyRequest().hasRole(&quot;ADMIN&quot;)\r\n            \t\t.and()\r\n        \t\t.formLogin()\r\n\t\t            .loginPage(&quot;/admin/login&quot;)\r\n            \t\t.loginProcessingUrl(&quot;/admin/doAdminLogin&quot;)\r\n            \t\t.defaultSuccessUrl(&quot;/admin/adminDashboard&quot;)\t\t      \r\n                    .permitAll()\r\n            \t\t.and()\r\n        \t\t.logout()\r\n                    .logoutUrl(&quot;/admin/logout&quot;)\r\n            \t\t.logoutSuccessUrl(&quot;/&quot;);\r\n\t    \thttp\r\n    \t    \t.csrf().disable();\r\n\t\t    return http.build();\r\n\t    }\r\n    }\r\n\r\nI am not able to login with normal as well as with admin user. When I am entering password, it is redirecting me to `http://localhost:8080/dologin` and user is not getting logged in. This is the error screenshot https://i.stack.imgur.com/tD7oE.png but when I am commenting the admin configuration page code, it start to work.\r\n\r\nAs I have read somewhere and I need to keep configuration file for Spring Security separately for normal user and admin user login.\r\n\r\nSo, please help in solving this issue.","title":"Multi login for normal user and admin user not working","body":"<p>I am using two configuration, one for normal user login page and another fpr admin user login page.</p>\n<p>This configuration is for my normal user:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@Order(2)\npublic class Config {\n\n    @Bean\n    public UserDetailsService getUserDetailsService() {\n        return new UserDetailsServiceImpl();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(this.getUserDetailsService());\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n\n        return daoAuthenticationProvider;\n    }\n\n    // configure method\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n    @Bean\n    protected SecurityFilterChain filterChain1(HttpSecurity http) throws Exception {\n        http\n        .authorizeHttpRequests()\n            .requestMatchers(&quot;/registration/**&quot;, &quot;/signup&quot;, &quot;/user/plandetails&quot;).permitAll()\n            .requestMatchers(&quot;/registration&quot;, &quot;/user/plandetails&quot;).permitAll()\n            .requestMatchers(&quot;/registration&quot;, &quot;/user/checkout&quot;).permitAll()\n            .requestMatchers(&quot;/registration/&quot;, &quot;/signup&quot;, &quot;/user/plandetails&quot;).permitAll()\n            .requestMatchers(&quot;/signup/**&quot;, &quot;/signup&quot;, &quot;/user/plandetails&quot;).permitAll()\n            .requestMatchers(&quot;/signup&quot;, &quot;/signup&quot;, &quot;/user/plandetails&quot;).permitAll()\n            .requestMatchers(&quot;/signup&quot;, &quot;/registration&quot;, &quot;/user/plandetails&quot;).permitAll()\n            .requestMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\n            .requestMatchers(&quot;/**&quot;).permitAll()\n            .and()\n        .formLogin()\n            .loginPage(&quot;/signin&quot;)\n            .loginProcessingUrl(&quot;/dologin&quot;)\n            .defaultSuccessUrl(&quot;/user/dashboard&quot;)\n            .and()\n        .csrf().disable()\n        .authorizeHttpRequests()\n            .anyRequest().fullyAuthenticated()\n            .and()\n        .rememberMe();\n        return http.build();\n    }\n</code></pre>\n<p>And this is my admin user configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Order(1)\npublic class AdminConfig{\n\n    @Bean\n    protected SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests()\n                .requestMatchers(&quot;/**&quot;).permitAll();\n    \n        http\n            .authorizeHttpRequests()\n                .requestMatchers(&quot;/admin/**&quot;).authenticated()\n                .anyRequest().hasRole(&quot;ADMIN&quot;)\n                .and()\n            .formLogin()\n                .loginPage(&quot;/admin/login&quot;)\n                .loginProcessingUrl(&quot;/admin/doAdminLogin&quot;)\n                .defaultSuccessUrl(&quot;/admin/adminDashboard&quot;)           \n                .permitAll()\n                .and()\n            .logout()\n                .logoutUrl(&quot;/admin/logout&quot;)\n                .logoutSuccessUrl(&quot;/&quot;);\n        http\n            .csrf().disable();\n        return http.build();\n    }\n}\n</code></pre>\n<p>I am not able to login with normal as well as with admin user. When I am entering password, it is redirecting me to <code>http://localhost:8080/dologin</code> and user is not getting logged in. This is the error screenshot <a href=\"https://i.stack.imgur.com/tD7oE.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/tD7oE.png</a> but when I am commenting the admin configuration page code, it start to work.</p>\n<p>As I have read somewhere and I need to keep configuration file for Spring Security separately for normal user and admin user login.</p>\n<p>So, please help in solving this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2205556,"reputation":371,"user_id":1948881,"accept_rate":78,"display_name":"FrenchFigaro"},"score":1,"creation_date":1561370566,"post_id":56705498,"comment_id":100027348,"body_markdown":"Can you add more details about what goes wrong ? Are you catching an Exception ? what&#39;s the message ?","body":"Can you add more details about what goes wrong ? Are you catching an Exception ? what&#39;s the message ?"},{"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"score":0,"creation_date":1561374610,"post_id":56705498,"comment_id":100029366,"body_markdown":"See this link:https://community.developer.atlassian.com/t/from-java-do-put-in-bitbucket/19141/2","body":"See this link:<a href=\"https://community.developer.atlassian.com/t/from-java-do-put-in-bitbucket/19141/2\" rel=\"nofollow noreferrer\">community.developer.atlassian.com/t/&hellip;</a>"},{"owner":{"account_id":11321882,"reputation":1,"user_id":8302006,"display_name":"PKK"},"score":0,"creation_date":1561385083,"post_id":56705498,"comment_id":100035282,"body_markdown":"I am not getting any error. Response code is 201. Its changing repository access time on bitbucket.org but its not uploading file.","body":"I am not getting any error. Response code is 201. Its changing repository access time on bitbucket.org but its not uploading file."}],"answers":[{"comments":[{"owner":{"account_id":11321882,"reputation":1,"user_id":8302006,"display_name":"PKK"},"score":0,"creation_date":1561543174,"post_id":56735536,"comment_id":100095696,"body_markdown":"I am not getting any error. Response code is 201. Its changing repository access time on bitbucket.org but its not uploading file","body":"I am not getting any error. Response code is 201. Its changing repository access time on bitbucket.org but its not uploading file"}],"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561375503,"creation_date":1561375503,"answer_id":56735536,"question_id":56705498,"body_markdown":"If this is all of your code, then your problem may be as simple as the fact that you&#39;re not making any sort of call to finalize the request...to tell HttpURLConnection that you&#39;re done forming the request and want it to complete.  There are two things you can do to help this:\r\n\r\n 1. close the output stream when you&#39;re done writing to it.  You&#39;re generally supposed to do this.  Here, you can call `output.close()`.  Better still, since you have a try/catch block already anyway, use a &quot;try with resources&quot; construct to make sure that the stream is closed no matter what happens (assuming you&#39;re using a newer version of Java that supports this).\r\n\r\n 2. make some sort of call to query the response to the request.  It may\r\n    be that the request is not being fully sent until you do this.  Try\r\n    calling `httpCon.getResponseCode()` at the bottom of your code.\r\n\r\nGiven that you have provided no information as to what &quot;it&#39;s not working with Java code&quot; means, this may be useful information but not the ultimate solution to your problem.  Your code does look good other than exhibiting these omissions.\r\n","title":"Upload file on server using Rest API","body":"<p>If this is all of your code, then your problem may be as simple as the fact that you're not making any sort of call to finalize the request...to tell HttpURLConnection that you're done forming the request and want it to complete.  There are two things you can do to help this:</p>\n\n<ol>\n<li><p>close the output stream when you're done writing to it.  You're generally supposed to do this.  Here, you can call <code>output.close()</code>.  Better still, since you have a try/catch block already anyway, use a \"try with resources\" construct to make sure that the stream is closed no matter what happens (assuming you're using a newer version of Java that supports this).</p></li>\n<li><p>make some sort of call to query the response to the request.  It may\nbe that the request is not being fully sent until you do this.  Try\ncalling <code>httpCon.getResponseCode()</code> at the bottom of your code.</p></li>\n</ol>\n\n<p>Given that you have provided no information as to what \"it's not working with Java code\" means, this may be useful information but not the ultimate solution to your problem.  Your code does look good other than exhibiting these omissions.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677586746,"post_id":75549225,"comment_id":133363516,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75549225/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27863244,"reputation":1,"user_id":21275302,"display_name":"Encash back "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677178933,"creation_date":1677178897,"answer_id":75549225,"question_id":56705498,"body_markdown":"        String username = &quot;test&quot;;\r\n        String appToken = &quot;********************&quot;;//enter your 20 character app password here\r\n        String encodedCredentials = Base64.getEncoder().encodeToString((username+&quot;:&quot;+appToken).getBytes(&quot;UTF-8&quot;)); //Bitbucket REST API needs the credentials to be Base64 encoded with &quot;UTF-8&quot; formatting\r\n        String repositoryName = &quot;test-java&quot;;\r\n        String branchName = &quot;master&quot;;\r\n        String filename = &quot;/data/hello.txt&quot;;\r\n        String sourceBranch = &quot;master&quot;;\r\n        String destinationBranch = &quot;branch-creted-via-java&quot;;\r\n        String pullRequestTitle = &quot;master-merge-pr&quot;\r\n    \r\n    static void getFileContentFromRepository(String username, String repositoryName, String branchName, String filename, String encodedCredentials){\r\n       String urlToAccess = &quot;https://api.bitbucket.org/2.0/repositories/&quot;+username+&quot;/&quot;+repositoryName+&quot;/src/&quot;+branchName+&quot;/&quot;+filename;\r\n       URL repositoryUrl = new URL (urlToAccess);\r\n       HttpURLConnection connection = (HttpURLConnection) repositoryUrl.openConnection();\r\n       //For authentication\r\n       connection.addRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+encodedCredentials); \r\n       connection.setRequestMethod(&quot;GET&quot;);\r\n       connection.connect();\r\n       System.out.println(connection.getResponseCode()+&quot; &quot;+connection.getResponseMessage());\r\n       //The InputStream is required to read in the data of the GET request\r\n       InputStream connectionDataStream = connection.getInputStream();\r\n       String connectionStreamData = IOUtils.toString(connectionDataStream, StandardCharsets.UTF_8);\r\n       System.out.println(connectionStreamData); \r\n       //the data can be returned as well, just change the return type of the function to String.\r\n    }\r\n    \r\n    \r\n    static void createBranch(String username, String repositoryName, String sourceBranch, String featureBranch, String filename, String encodedCredentials) throws IOException {\r\n            String urlToAccess = &quot;https://api.bitbucket.org/2.0/repositories/&quot;+username+&quot;/&quot;+repositoryName+&quot;/src/&quot;;\r\n    \t\tHttpURLConnection connection = (HttpURLConnection) urlToAccess.openConnection();\r\n    \t\t//For authentication\r\n    \t\tconnection.addRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+encodedCredentials);\r\n    \t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n    \t\tconnection.setDoOutput(true);\r\n    \t\t//OutputStreamWriter is used to set the form data in the post request to create A NEW BRANCH\r\n    \t\tOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\r\n    \t\tout.write(&quot;parents=&quot;+sourceBranch+&quot;&amp;branch=&quot;+featureBranch);\r\n    \t\tout.close();\r\n            try{\r\n                connection.connect();\r\n          \t\tSystem.out.println(connection.getResponseCode()+&quot; &quot;+connection.getResponseMessage());\r\n                System.out.println(&quot;Feature Branch &quot;+featureBranch+&quot; created&quot;);\r\n            }catch (Exception e){\r\n               System.out.println(&quot;Branch creation failed.&quot;);\r\n            }\r\n    \t}\r\n    \r\n    \r\n    static void createFileInRepository(String username, String repositoryName, String branchName, String data, String filename, String encodedCredentials) throws IOException {\r\n            String urlToAccess = &quot;https://api.bitbucket.org/2.0/repositories/&quot;+username+&quot;/&quot;+repositoryName+&quot;/src/&quot;;\r\n    \t\tHttpURLConnection connection = (HttpURLConnection) urlToAccess.openConnection();\r\n    \t\t//For authentication\r\n    \t\tconnection.addRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+encodedCredentials);\r\n    \t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n    \t\tconnection.setDoOutput(true);\r\n    \t\t//For setting the form data in the post request to add a new file and fill it with your data\r\n    \t\tOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\r\n    \t\tout.write(&quot;branch=&quot;+branchName+&quot;&amp;&quot;+&quot;/&quot;+filename+&quot;=&quot;+data);\r\n    \t\tout.close();\r\n            try{\r\n                connection.connect();\r\n          \t\tSystem.out.println(connection.getResponseCode()+&quot; &quot;+connection.getResponseMessage());\r\n                System.out.println(&quot;File Created&quot;);\r\n            }catch (Exception e){\r\n               System.out.println(&quot;File creation failed.&quot;);\r\n            }\r\n    \t}\r\n    \r\n    \r\n    static void createPR(String username, String repositoryName, String prFromBranch, String prToBranch, String filename, String encodedCredentials, String pullRequestTitle) throws IOException {\r\n    \t\tString pullRequestData = String.format(&quot;{\\&quot;title\\&quot;:\\&quot;%s\\&quot;,\\&quot;source\\&quot;:{\\&quot;branch\\&quot;:{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}},\\&quot;destination\\&quot;:{\\&quot;branch\\&quot;:{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}}}&quot;,pullRequestTitle,prFromBranch, prToBranch); //format of data required for rest API call.\r\n    \t\tSystem.out.println(pullRequestData);\r\n    \t\tbyte[] prRequestData = pullRequestData.getBytes(StandardCharsets.UTF_8);\r\n    \t\tint prRequestDataLen = prRequestData.length;\r\n    \t\tURL prURL = new URL (&quot;https://api.bitbucket.org/2.0/repositories/&quot;+username+&quot;/&quot;+repositoryName&quot;+/pullrequests&quot;);\r\n    \t\tHttpURLConnection prConnection = (HttpURLConnection) prURL.openConnection();\r\n    \t\t//For authentication\r\n    \t\tprConnection.addRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+encodedCredentials);\r\n    \t\tprConnection.setRequestMethod(&quot;POST&quot;);\r\n            //For setting the metadata in the POST request\r\n    \t\tprConnection.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n    \t\tprConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\tprConnection.setRequestProperty(&quot;Content-Length&quot;,Integer.toString(prRequestDataLen));\r\n    \t\tprConnection.setDoOutput(true);\r\n    \t\ttry(DataOutputStream wr = new DataOutputStream(prConnection.getOutputStream())) {\r\n    \t\t\twr.write(prRequestData);\r\n            }\r\n            try{\r\n                prConnection.connect();\r\n          \t\tSystem.out.println(prConnection.getResponseCode()+&quot; &quot;+prConnection.getResponseMessage());\r\n          \t\tSystem.out.println(&quot;Pull request created&quot;);\r\n            }catch (Exception e){\r\n               System.out.println(&quot;Pull request failed.&quot;);\r\n            }\r\n    \t}\r\n\r\n\r\n","title":"Upload file on server using Rest API","body":"<pre><code>    String username = &quot;test&quot;;\n    String appToken = &quot;********************&quot;;//enter your 20 character app password here\n    String encodedCredentials = Base64.getEncoder().encodeToString((username+&quot;:&quot;+appToken).getBytes(&quot;UTF-8&quot;)); //Bitbucket REST API needs the credentials to be Base64 encoded with &quot;UTF-8&quot; formatting\n    String repositoryName = &quot;test-java&quot;;\n    String branchName = &quot;master&quot;;\n    String filename = &quot;/data/hello.txt&quot;;\n    String sourceBranch = &quot;master&quot;;\n    String destinationBranch = &quot;branch-creted-via-java&quot;;\n    String pullRequestTitle = &quot;master-merge-pr&quot;\n\nstatic void getFileContentFromRepository(String username, String repositoryName, String branchName, String filename, String encodedCredentials){\n   String urlToAccess = &quot;https://api.bitbucket.org/2.0/repositories/&quot;+username+&quot;/&quot;+repositoryName+&quot;/src/&quot;+branchName+&quot;/&quot;+filename;\n   URL repositoryUrl = new URL (urlToAccess);\n   HttpURLConnection connection = (HttpURLConnection) repositoryUrl.openConnection();\n   //For authentication\n   connection.addRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+encodedCredentials); \n   connection.setRequestMethod(&quot;GET&quot;);\n   connection.connect();\n   System.out.println(connection.getResponseCode()+&quot; &quot;+connection.getResponseMessage());\n   //The InputStream is required to read in the data of the GET request\n   InputStream connectionDataStream = connection.getInputStream();\n   String connectionStreamData = IOUtils.toString(connectionDataStream, StandardCharsets.UTF_8);\n   System.out.println(connectionStreamData); \n   //the data can be returned as well, just change the return type of the function to String.\n}\n\n\nstatic void createBranch(String username, String repositoryName, String sourceBranch, String featureBranch, String filename, String encodedCredentials) throws IOException {\n        String urlToAccess = &quot;https://api.bitbucket.org/2.0/repositories/&quot;+username+&quot;/&quot;+repositoryName+&quot;/src/&quot;;\n        HttpURLConnection connection = (HttpURLConnection) urlToAccess.openConnection();\n        //For authentication\n        connection.addRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+encodedCredentials);\n        connection.setRequestMethod(&quot;POST&quot;);\n        connection.setDoOutput(true);\n        //OutputStreamWriter is used to set the form data in the post request to create A NEW BRANCH\n        OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\n        out.write(&quot;parents=&quot;+sourceBranch+&quot;&amp;branch=&quot;+featureBranch);\n        out.close();\n        try{\n            connection.connect();\n            System.out.println(connection.getResponseCode()+&quot; &quot;+connection.getResponseMessage());\n            System.out.println(&quot;Feature Branch &quot;+featureBranch+&quot; created&quot;);\n        }catch (Exception e){\n           System.out.println(&quot;Branch creation failed.&quot;);\n        }\n    }\n\n\nstatic void createFileInRepository(String username, String repositoryName, String branchName, String data, String filename, String encodedCredentials) throws IOException {\n        String urlToAccess = &quot;https://api.bitbucket.org/2.0/repositories/&quot;+username+&quot;/&quot;+repositoryName+&quot;/src/&quot;;\n        HttpURLConnection connection = (HttpURLConnection) urlToAccess.openConnection();\n        //For authentication\n        connection.addRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+encodedCredentials);\n        connection.setRequestMethod(&quot;POST&quot;);\n        connection.setDoOutput(true);\n        //For setting the form data in the post request to add a new file and fill it with your data\n        OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\n        out.write(&quot;branch=&quot;+branchName+&quot;&amp;&quot;+&quot;/&quot;+filename+&quot;=&quot;+data);\n        out.close();\n        try{\n            connection.connect();\n            System.out.println(connection.getResponseCode()+&quot; &quot;+connection.getResponseMessage());\n            System.out.println(&quot;File Created&quot;);\n        }catch (Exception e){\n           System.out.println(&quot;File creation failed.&quot;);\n        }\n    }\n\n\nstatic void createPR(String username, String repositoryName, String prFromBranch, String prToBranch, String filename, String encodedCredentials, String pullRequestTitle) throws IOException {\n        String pullRequestData = String.format(&quot;{\\&quot;title\\&quot;:\\&quot;%s\\&quot;,\\&quot;source\\&quot;:{\\&quot;branch\\&quot;:{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}},\\&quot;destination\\&quot;:{\\&quot;branch\\&quot;:{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}}}&quot;,pullRequestTitle,prFromBranch, prToBranch); //format of data required for rest API call.\n        System.out.println(pullRequestData);\n        byte[] prRequestData = pullRequestData.getBytes(StandardCharsets.UTF_8);\n        int prRequestDataLen = prRequestData.length;\n        URL prURL = new URL (&quot;https://api.bitbucket.org/2.0/repositories/&quot;+username+&quot;/&quot;+repositoryName&quot;+/pullrequests&quot;);\n        HttpURLConnection prConnection = (HttpURLConnection) prURL.openConnection();\n        //For authentication\n        prConnection.addRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+encodedCredentials);\n        prConnection.setRequestMethod(&quot;POST&quot;);\n        //For setting the metadata in the POST request\n        prConnection.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\n        prConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        prConnection.setRequestProperty(&quot;Content-Length&quot;,Integer.toString(prRequestDataLen));\n        prConnection.setDoOutput(true);\n        try(DataOutputStream wr = new DataOutputStream(prConnection.getOutputStream())) {\n            wr.write(prRequestData);\n        }\n        try{\n            prConnection.connect();\n            System.out.println(prConnection.getResponseCode()+&quot; &quot;+prConnection.getResponseMessage());\n            System.out.println(&quot;Pull request created&quot;);\n        }catch (Exception e){\n           System.out.println(&quot;Pull request failed.&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11321882,"reputation":1,"user_id":8302006,"display_name":"PKK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1677178933,"creation_date":1561127755,"question_id":56705498,"body_markdown":"I want to commit text file `&quot;demo2.txt&quot;` to bitbucket server using rest API. I can upload the same file using Postman but it&#39;s not working with Java code. As shown in the below code I want to send string object &quot;str&quot; as the body. Can someone help me here to upload the file on the bitbucket server? Also Please let me know if there is any other way to do this.\r\n\r\n    URL url = new URL(&quot;https://api.bitbucket.org/2.0/repositories/{team name}/{repository name}/src&quot;);\r\n    \t                       \r\n    HttpURLConnection httpCon = (HttpURLConnection) url.openConnection();\r\n                       \r\n    httpCon.setRequestProperty(&quot;X-Requested-with&quot;, &quot;Curl&quot;); \r\n    httpCon.setDoOutput(true);\r\n    httpCon.setDoInput(true); \r\n    httpCon.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n    httpCon.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot;+boundary);\r\n    httpCon.setRequestProperty(&quot;Accept&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    httpCon.setRequestProperty(&quot;Authorization&quot;, basicauth); \r\n    httpCon.setRequestMethod(&quot;POST&quot;); \r\n\r\n    \r\n    String str =\r\n     &quot;{&quot;\t\t\r\n    + &quot;\\&quot;-F\\&quot;:\\&quot;File3=@/D:/log/demo2.txt\\&quot; &quot;\r\n    + &quot;}&quot;;\r\n    \r\n    try { \r\n        OutputStream output = httpCon.getOutputStream();\r\n        output.write(str.getBytes()); \r\n        output.close();\r\n    } catch(Exception e){\r\n        System.out.println(e.getMessage());\r\n    }\r\n    int responseCode = httpCon.getResponseCode();\r\n    String inputLine; \r\n    StringBuffer response = new StringBuffer();\t\t\t\t\t\r\n    if (responseCode == HttpURLConnection.HTTP_OK || responseCode == HttpURLConnection.HTTP_CREATED){\r\n        BufferedReader in = new BufferedReader(new . \r\n        InputStreamReader(httpCon.getInputStream()));\t\t\t\t\r\n\r\n        while ((inputLine = in.readLine()) != null) { \r\n            response.append(inputLine); \r\n        }\t\t\t\t \r\n        in.close();\r\n        List&lt;String&gt; message = new ArrayList&lt;&gt;();\r\n        message.add(response.toString());\t\t\t\r\n    }\r\n","title":"Upload file on server using Rest API","body":"<p>I want to commit text file <code>\"demo2.txt\"</code> to bitbucket server using rest API. I can upload the same file using Postman but it's not working with Java code. As shown in the below code I want to send string object \"str\" as the body. Can someone help me here to upload the file on the bitbucket server? Also Please let me know if there is any other way to do this.</p>\n\n<pre><code>URL url = new URL(\"https://api.bitbucket.org/2.0/repositories/{team name}/{repository name}/src\");\n\nHttpURLConnection httpCon = (HttpURLConnection) url.openConnection();\n\nhttpCon.setRequestProperty(\"X-Requested-with\", \"Curl\"); \nhttpCon.setDoOutput(true);\nhttpCon.setDoInput(true); \nhttpCon.setRequestProperty(\"Connection\", \"Keep-Alive\");\nhttpCon.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\"+boundary);\nhttpCon.setRequestProperty(\"Accept\", \"application/x-www-form-urlencoded\");\nhttpCon.setRequestProperty(\"Authorization\", basicauth); \nhttpCon.setRequestMethod(\"POST\"); \n\n\nString str =\n \"{\"        \n+ \"\\\"-F\\\":\\\"File3=@/D:/log/demo2.txt\\\" \"\n+ \"}\";\n\ntry { \n    OutputStream output = httpCon.getOutputStream();\n    output.write(str.getBytes()); \n    output.close();\n} catch(Exception e){\n    System.out.println(e.getMessage());\n}\nint responseCode = httpCon.getResponseCode();\nString inputLine; \nStringBuffer response = new StringBuffer();                 \nif (responseCode == HttpURLConnection.HTTP_OK || responseCode == HttpURLConnection.HTTP_CREATED){\n    BufferedReader in = new BufferedReader(new . \n    InputStreamReader(httpCon.getInputStream()));               \n\n    while ((inputLine = in.readLine()) != null) { \n        response.append(inputLine); \n    }                \n    in.close();\n    List&lt;String&gt; message = new ArrayList&lt;&gt;();\n    message.add(response.toString());           \n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","jdbctemplate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677148466,"post_id":75543566,"comment_id":133282142,"body_markdown":"*Caused by: java.sql.SQLException: No database selected*","body":"<i>Caused by: java.sql.SQLException: No database selected</i>"},{"owner":{"account_id":27859231,"reputation":1,"user_id":21272118,"display_name":"simmons_vt"},"score":0,"creation_date":1677148689,"post_id":75543566,"comment_id":133282202,"body_markdown":"I&#39;ve already known, but how can I solve?","body":"I&#39;ve already known, but how can I solve?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677149914,"post_id":75543566,"comment_id":133282571,"body_markdown":"select a database?","body":"select a database?"},{"owner":{"account_id":27859231,"reputation":1,"user_id":21272118,"display_name":"simmons_vt"},"score":0,"creation_date":1677150213,"post_id":75543566,"comment_id":133282659,"body_markdown":"That&#39;s the point, how could I do? If I get the name from http request url and modifing the datasource url using the code posted before, it crashes :(","body":"That&#39;s the point, how could I do? If I get the name from http request url and modifing the datasource url using the code posted before, it crashes :("},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677154337,"post_id":75543566,"comment_id":133283757,"body_markdown":"You get the URL for flyway from an HTTTPService? sounds crazy. But anyway we need more information to help such like your configuration","body":"You get the URL for flyway from an HTTTPService? sounds crazy. But anyway we need more information to help such like your configuration"}],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677178684,"creation_date":1677178684,"answer_id":75549187,"question_id":75543566,"body_markdown":"I think your use cases are highly dangerous since you are basically providing secrets of a database through HTTP/s calls other inconveniences are:\r\n\r\n1. Loading a database for every request would significantly increase the response time of your application\r\n\r\n2. Causes issues with scalability and resource consumption.\r\n\r\nInstead, it&#39;s usually advised to set up your Spring Boot application to initiate a database connection as soon as it launches and to maintain it open for the rest of the program&#39;s lifetime. This strategy enables higher scalability and considerably quicker database access.\r\n\r\nIf there is a need to configure multiple databases for the same application you can manually define multiple data sources. Upon each request you can chose the database to query on\r\n\r\n","title":"Change database during execution Spring Boot using part of Http request Url","body":"<p>I think your use cases are highly dangerous since you are basically providing secrets of a database through HTTP/s calls other inconveniences are:</p>\n<ol>\n<li><p>Loading a database for every request would significantly increase the response time of your application</p>\n</li>\n<li><p>Causes issues with scalability and resource consumption.</p>\n</li>\n</ol>\n<p>Instead, it's usually advised to set up your Spring Boot application to initiate a database connection as soon as it launches and to maintain it open for the rest of the program's lifetime. This strategy enables higher scalability and considerably quicker database access.</p>\n<p>If there is a need to configure multiple databases for the same application you can manually define multiple data sources. Upon each request you can chose the database to query on</p>\n"}],"owner":{"account_id":27859231,"reputation":1,"user_id":21272118,"display_name":"simmons_vt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677178684,"creation_date":1677148318,"question_id":75543566,"body_markdown":"I need to change the current used DB everytime there is a new Http request and its name is part of Http URL request.\r\nI&#39;m trying using the following code, but when I call the service and it&#39;s executing, I can&#39;t call again until the prevoius one has finished otherwise it crashes.\r\nI noticed the problem is &#39;database not selected&#39; but I don&#39;t know how the change DB without crashing :(\r\nThe database and tables must be created automatically by code if there aren&#39;t yet so I&#39;m using Flyway.\r\n\r\nI need to use a name which is passed from user by the url of the request\r\nThe Url pattern is: \r\n.../api/v1/{db_name}/...\r\nI&#39;m using jdbcTemplate but JPA solutions are welcome :) \r\n\r\n    try {\r\n            DriverManagerDataSource dataSource = (DriverManagerDataSource) jdbcTemplate.getDataSource();\r\n    \r\n            String urlBase = env.getProperty(&quot;spring.datasource.url&quot;);\r\n            dataSource.setUrl(urlBase);\r\n    \r\n            dataSource.setSchema(name);\r\n    \r\n             Flyway flyway = Flyway.configure()\r\n                            .dataSource(dataSource)\r\n                            .defaultSchema(name)\r\n                            .load();\r\n             flyway.migrate();\r\n             dataSource.setUrl(urlBase+name);\r\n             return true;\r\n       }catch (Exception e){\r\n                e.printStackTrace();\r\n       }`\r\n\r\nThe exception when I call the link twice from two different clients:\r\n\r\n    StatementCallback; uncategorized SQLException for SQL [INSERT INTO statistiche_plu_giornaliere (id, id_dbLocale, idDevice, id_plu, descrizione, importo_totale, qta_totale_plu, qta_reso_storno, qta_reale, data, importo_sconti, importo_maggiorazioni, importo_reale, resi, id_reparto, tipo_riga)  VALUES (0,256,&#39;0AB1115556633569&#39;,0,&#39;1LT PROSECCO&#39;,24.000000,2.000000,0.000000,2.000000,&#39;&#39;,0.000000,0.000000,24.000000,0.000000,0,0)]; SQL state [3D000]; error code [1046]; No database selected; nested exception is java.sql.SQLException: No database selected\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1542)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:393)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:558)\r\n    \tat com.trei.statistiche_cloud.db.DbHandler.updateStatisticheGiornaliere(DbHandler.java:119)\r\n    \tat com.trei.statistiche_cloud.http.RestController.aggiornaDb(RestController.java:49)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)\r\n    \tat org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.sql.SQLException: No database selected\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\r\n    \tat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\r\n    \tat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate$1UpdateStatementCallback.doInStatement(JdbcTemplate.java:546)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate$1UpdateStatementCallback.doInStatement(JdbcTemplate.java:543)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:381)`\r\n\r\n\r\n\r\n\r\n\r\n","title":"Change database during execution Spring Boot using part of Http request Url","body":"<p>I need to change the current used DB everytime there is a new Http request and its name is part of Http URL request.\nI'm trying using the following code, but when I call the service and it's executing, I can't call again until the prevoius one has finished otherwise it crashes.\nI noticed the problem is 'database not selected' but I don't know how the change DB without crashing :(\nThe database and tables must be created automatically by code if there aren't yet so I'm using Flyway.</p>\n<p>I need to use a name which is passed from user by the url of the request\nThe Url pattern is:\n.../api/v1/{db_name}/...\nI'm using jdbcTemplate but JPA solutions are welcome :)</p>\n<pre><code>try {\n        DriverManagerDataSource dataSource = (DriverManagerDataSource) jdbcTemplate.getDataSource();\n\n        String urlBase = env.getProperty(&quot;spring.datasource.url&quot;);\n        dataSource.setUrl(urlBase);\n\n        dataSource.setSchema(name);\n\n         Flyway flyway = Flyway.configure()\n                        .dataSource(dataSource)\n                        .defaultSchema(name)\n                        .load();\n         flyway.migrate();\n         dataSource.setUrl(urlBase+name);\n         return true;\n   }catch (Exception e){\n            e.printStackTrace();\n   }`\n</code></pre>\n<p>The exception when I call the link twice from two different clients:</p>\n<pre><code>StatementCallback; uncategorized SQLException for SQL [INSERT INTO statistiche_plu_giornaliere (id, id_dbLocale, idDevice, id_plu, descrizione, importo_totale, qta_totale_plu, qta_reso_storno, qta_reale, data, importo_sconti, importo_maggiorazioni, importo_reale, resi, id_reparto, tipo_riga)  VALUES (0,256,'0AB1115556633569',0,'1LT PROSECCO',24.000000,2.000000,0.000000,2.000000,'',0.000000,0.000000,24.000000,0.000000,0,0)]; SQL state [3D000]; error code [1046]; No database selected; nested exception is java.sql.SQLException: No database selected\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1542)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:393)\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:558)\n    at com.trei.statistiche_cloud.db.DbHandler.updateStatisticheGiornaliere(DbHandler.java:119)\n    at com.trei.statistiche_cloud.http.RestController.aggiornaDb(RestController.java:49)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.sql.SQLException: No database selected\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\n    at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\n    at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\n    at org.springframework.jdbc.core.JdbcTemplate$1UpdateStatementCallback.doInStatement(JdbcTemplate.java:546)\n    at org.springframework.jdbc.core.JdbcTemplate$1UpdateStatementCallback.doInStatement(JdbcTemplate.java:543)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:381)`\n</code></pre>\n"},{"tags":["java","kotlin","aws-lambda","aws-api-gateway"],"owner":{"account_id":5037519,"reputation":516,"user_id":4045899,"display_name":"Aryan087"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677178595,"creation_date":1677178595,"question_id":75549168,"body_markdown":"I&#39;m using AWS lambda non proxy integration with the API gateway in Kotlin.\r\nI&#39;m always getting 200 status code even in case of a exception is thrown. \r\n\r\nThis is the lambda handler code : \r\n\r\n```\r\n  class CustomeException(\r\n    val errorMessage: String,\r\n    val statusCode: Int,\r\n    val e: Exception? = null\r\n) : Exception(errorMessage, e)\r\n\r\n\r\n  class MyHandler(){\r\n    override fun handleRequest(input: Request, context: Context): \r\n     Response {\r\n\r\n      if(request.getName == null){\r\n\r\n       throw CustomException(&quot;request attribute is not present&quot;, HttpStatusCode.BAD_REQUEST))\r\n\r\n  return Response(&quot;Success&quot;)\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nthis is part of the api gateway swagger file where response mapping is happenin\r\n```\r\nx-amazon-apigateway-integration:\r\n        uri: &lt;uri&gt;\r\n        credentials: &quot;&lt;RoleARN&gt;&quot;\r\n        responses:\r\n          &quot;500&quot;:\r\n            statusCode: &quot;500&quot;\r\n            responseTemplates:\r\n              application/json:  &quot;{\\&quot;message\\&quot;: \\&quot;Internal server error\\&quot;}&quot;\r\n         \r\n          &quot;400&quot;:\r\n            statusCode: &quot;400&quot;\r\n            responseTemplates:\r\n              application/json: &quot;#set($errorMessageObj = $input.path(&#39;$.errorMessage&#39;)){\\&quot;message\\&quot;: \\&quot;$errorMessageObj\\&quot;}&quot;\r\n          &quot;default&quot;:\r\n            statusCode: &quot;200&quot;\r\n        selectionPattern: &quot;^(?!4\\\\d{2}|5\\\\d{2}).*$&quot;\r\n```\r\n\r\n\r\n}\r\n\r\nNot sure where i&#39;m making the mistake.","title":"Map Lambda error response to api gateway response","body":"<p>I'm using AWS lambda non proxy integration with the API gateway in Kotlin.\nI'm always getting 200 status code even in case of a exception is thrown.</p>\n<p>This is the lambda handler code :</p>\n<pre><code>  class CustomeException(\n    val errorMessage: String,\n    val statusCode: Int,\n    val e: Exception? = null\n) : Exception(errorMessage, e)\n\n\n  class MyHandler(){\n    override fun handleRequest(input: Request, context: Context): \n     Response {\n\n      if(request.getName == null){\n\n       throw CustomException(&quot;request attribute is not present&quot;, HttpStatusCode.BAD_REQUEST))\n\n  return Response(&quot;Success&quot;)\n    }\n\n}\n\n</code></pre>\n<p>this is part of the api gateway swagger file where response mapping is happenin</p>\n<pre><code>x-amazon-apigateway-integration:\n        uri: &lt;uri&gt;\n        credentials: &quot;&lt;RoleARN&gt;&quot;\n        responses:\n          &quot;500&quot;:\n            statusCode: &quot;500&quot;\n            responseTemplates:\n              application/json:  &quot;{\\&quot;message\\&quot;: \\&quot;Internal server error\\&quot;}&quot;\n         \n          &quot;400&quot;:\n            statusCode: &quot;400&quot;\n            responseTemplates:\n              application/json: &quot;#set($errorMessageObj = $input.path('$.errorMessage')){\\&quot;message\\&quot;: \\&quot;$errorMessageObj\\&quot;}&quot;\n          &quot;default&quot;:\n            statusCode: &quot;200&quot;\n        selectionPattern: &quot;^(?!4\\\\d{2}|5\\\\d{2}).*$&quot;\n</code></pre>\n<p>}</p>\n<p>Not sure where i'm making the mistake.</p>\n"},{"tags":["java","excel"],"answers":[{"comments":[{"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"score":0,"creation_date":1676492435,"post_id":75080812,"comment_id":133150052,"body_markdown":"Thanks for your help. I want to be able to skip a column in the middle of my data. I have 5 columns of data, and then a space before 3 more columns. I created an extra field in my POJO (set to null) to give it that space but I have to manually delete the column name afterwards.","body":"Thanks for your help. I want to be able to skip a column in the middle of my data. I have 5 columns of data, and then a space before 3 more columns. I created an extra field in my POJO (set to null) to give it that space but I have to manually delete the column name afterwards."},{"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"score":1,"creation_date":1676650109,"post_id":75080812,"comment_id":133186095,"body_markdown":"@dbrewster I completely misread columns for rows. No, there is no current provision for writing empty columns except for inserting null values","body":"@dbrewster I completely misread columns for rows. No, there is no current provision for writing empty columns except for inserting null values"}],"tags":[],"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673429257,"creation_date":1673429257,"answer_id":75080812,"question_id":73198936,"body_markdown":"1. You can skip data rows with `XceliteOptions.firstDataRowIndex` or you can leave blank rows at the top with the header row pushed down with `XceliteOptions.headerRowIndex`.\r\n\r\n2. Should be possible if you have `null` values in your bean collection and set the `missingRowPolicy` accordingly. If you want to write to different tables to one spreadsheet with a set of blank rows in between, you should use two different bean collections and close and reopen the sheet.\r\n ","title":"how to format with a Xcelite writer","body":"<ol>\n<li><p>You can skip data rows with <code>XceliteOptions.firstDataRowIndex</code> or you can leave blank rows at the top with the header row pushed down with <code>XceliteOptions.headerRowIndex</code>.</p>\n</li>\n<li><p>Should be possible if you have <code>null</code> values in your bean collection and set the <code>missingRowPolicy</code> accordingly. If you want to write to different tables to one spreadsheet with a set of blank rows in between, you should use two different bean collections and close and reopen the sheet.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677178142,"creation_date":1676918894,"answer_id":75513105,"question_id":73198936,"body_markdown":"1. Columns can be skipped by adding an unused field to the pojo and then using the Xcelite @Column annotation to set the value to a space (can&#39;t be an empty string) -\r\n\r\n ```\r\n@Column(name = &quot; &quot;)\r\nprivate final String space = null;\r\n``` \r\n2. Two tables can be written to the same spreadsheet. After writing the 1st table, you simply grab the same sheet via ```getSheet``` and then proceed as normally and the 2nd table be written right next to it. To place the 2nd table below the 1st, you need to modify the XceliteOptions via the ```setHeaderRowIndex```. This needs to be done after writing the 1st dataset and before writing the 2nd. \r\n\r\n```\r\n\r\npublic void write2Tables(List&lt;Data&gt; firstList, List&lt;Stat&gt; secondList, String sheetName) {\r\n    Xcelite xcelite = new Xcelite()\r\n    xcelite.createSheet(sheetName).getBeanWriter(Data.class).write(firstList);\r\n    xcelite.write(outputFile)\r\n\r\n    XceliteOptions options = new XceliteOptions();\r\n    options.setHeaderRowIndex(firstList + 2); //single space between tables\r\n    xcelite.setOptions(options);\r\n\r\n    xcelite.getSheet(sheetName).getBeanWriter(Stat.class).write(secondList);\r\n    xcelite.write(outputFile)\r\n}\r\n```","title":"how to format with a Xcelite writer","body":"<ol>\n<li>Columns can be skipped by adding an unused field to the pojo and then using the Xcelite @Column annotation to set the value to a space (can't be an empty string) -</li>\n</ol>\n<pre><code>@Column(name = &quot; &quot;)\nprivate final String space = null;\n</code></pre>\n<ol start=\"2\">\n<li>Two tables can be written to the same spreadsheet. After writing the 1st table, you simply grab the same sheet via <code>getSheet</code> and then proceed as normally and the 2nd table be written right next to it. To place the 2nd table below the 1st, you need to modify the XceliteOptions via the <code>setHeaderRowIndex</code>. This needs to be done after writing the 1st dataset and before writing the 2nd.</li>\n</ol>\n<pre><code>\npublic void write2Tables(List&lt;Data&gt; firstList, List&lt;Stat&gt; secondList, String sheetName) {\n    Xcelite xcelite = new Xcelite()\n    xcelite.createSheet(sheetName).getBeanWriter(Data.class).write(firstList);\n    xcelite.write(outputFile)\n\n    XceliteOptions options = new XceliteOptions();\n    options.setHeaderRowIndex(firstList + 2); //single space between tables\n    xcelite.setOptions(options);\n\n    xcelite.getSheet(sheetName).getBeanWriter(Stat.class).write(secondList);\n    xcelite.write(outputFile)\n}\n</code></pre>\n"}],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75513105,"answer_count":2,"score":2,"last_activity_date":1677178142,"creation_date":1659383818,"question_id":73198936,"body_markdown":" 1. How do I skip columns (include spacing in the middle of my data to make it readable) when writing a new sheet using Xcelite?\r\n\r\n 2. Is it possible to write two tables on the same sheet with the 2nd table below the 1st?\r\n\r\n 3. Is Xcelite even the right tool for me to be using? Most of the information that I was able to find on using Excel writing tools for Java is over a decade old. Xcelite is very easy to use but it doesn&#39;t seem very customizable and the only documentation I can find for it is their Github page and its light on details","title":"how to format with a Xcelite writer","body":"<ol>\n<li><p>How do I skip columns (include spacing in the middle of my data to make it readable) when writing a new sheet using Xcelite?</p>\n</li>\n<li><p>Is it possible to write two tables on the same sheet with the 2nd table below the 1st?</p>\n</li>\n<li><p>Is Xcelite even the right tool for me to be using? Most of the information that I was able to find on using Excel writing tools for Java is over a decade old. Xcelite is very easy to use but it doesn't seem very customizable and the only documentation I can find for it is their Github page and its light on details</p>\n</li>\n</ol>\n"},{"tags":["java","android","android-intent"],"answers":[{"tags":[],"owner":{"account_id":23969355,"reputation":27,"user_id":17958294,"display_name":"king cannibal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677177876,"creation_date":1677177876,"answer_id":75549056,"question_id":75536769,"body_markdown":"Hello ive found the answer the main problem was i needed some implications\r\n````\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n ````\r\nand i needed to check if activity was null or not eg:\r\n````\r\nIntent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                if (activity != null) {\r\n                    activity.startActivityForResult(intent, 1);\r\n                }\r\n ","title":"intent crash android java","body":"<p>Hello ive found the answer the main problem was i needed some implications</p>\n<pre><code>    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.5.1'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n</code></pre>\n<p>and i needed to check if activity was null or not eg:</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                if (activity != null) {\n                    activity.startActivityForResult(intent, 1);\n                }\n \n</code></pre>\n"}],"owner":{"account_id":23969355,"reputation":27,"user_id":17958294,"display_name":"king cannibal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677177876,"creation_date":1677090372,"question_id":75536769,"body_markdown":"Hello ive been coding with android java trying to make a button which when pressed would let the user select a image from their gallery to then be displayed on the ImageView. The problem is it crashes each time the button is pressed. all of the needed manifest permissions i have read, write and manage external data. ive tried startActivityForResult but it was deprecated since android 11.The code is ran from a class which is called from the main activity (class is not static) how can i get the user to select a image then after display it in a image view.\r\ncode:\r\n````\r\n ActivityResultLauncher&lt;String&gt; launcher = registerForActivityResult\r\n            (new ActivityResultContracts.GetContent(), new ActivityResultCallback&lt;Uri&gt; () {\r\n                @Override public void onActivityResult (Uri uri) {\r\n        images.setImageURI(uri);\r\n                } });\r\nimage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n\r\n                launcher.launch(&quot;image/*&quot;);\r\n            }\r\n        });\r\n```\r\nerror:\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.an.rindr, PID: 13121\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()&#39; on a null object reference\r\n                                                                                                    \tat android.app.Activity.startActivityForResult(Activity.java:5584)\r\n                                                                                                    \tat androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\r\n                                                                                                    \tat androidx.core.app.ActivityCompat$Api16Impl.startActivityForResult(ActivityCompat.java:809)\r\n                                                                                                    \tat androidx.core.app.ActivityCompat.startActivityForResult(ActivityCompat.java:246)\r\n                                                                                                    \tat androidx.activity.ComponentActivity$2.onLaunch(ComponentActivity.java:243)\r\n                                                                                                    \tat androidx.activity.result.ActivityResultRegistry$2.launch(ActivityResultRegistry.java:175)\r\n                                                                                                    \tat androidx.activity.result.ActivityResultLauncher.launch(ActivityResultLauncher.java:47)\r\n                                                                                                    \tat com.an.rindr.home$2.onClick(home.java:152)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7881)\r\n                                                                                                    \tat android.widget.TextView.performClick(TextView.java:16201)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7858)\r\n                                                                                                    \tat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:30863)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:942)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:226)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:313)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8741)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n","title":"intent crash android java","body":"<p>Hello ive been coding with android java trying to make a button which when pressed would let the user select a image from their gallery to then be displayed on the ImageView. The problem is it crashes each time the button is pressed. all of the needed manifest permissions i have read, write and manage external data. ive tried startActivityForResult but it was deprecated since android 11.The code is ran from a class which is called from the main activity (class is not static) how can i get the user to select a image then after display it in a image view.\ncode:</p>\n<pre><code> ActivityResultLauncher&lt;String&gt; launcher = registerForActivityResult\n            (new ActivityResultContracts.GetContent(), new ActivityResultCallback&lt;Uri&gt; () {\n                @Override public void onActivityResult (Uri uri) {\n        images.setImageURI(uri);\n                } });\nimage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n                launcher.launch(&quot;image/*&quot;);\n            }\n        });\n```\nerror:\n```\nFATAL EXCEPTION: main\n                                                                                                    Process: com.an.rindr, PID: 13121\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method 'android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()' on a null object reference\n                                                                                                        at android.app.Activity.startActivityForResult(Activity.java:5584)\n                                                                                                        at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\n                                                                                                        at androidx.core.app.ActivityCompat$Api16Impl.startActivityForResult(ActivityCompat.java:809)\n                                                                                                        at androidx.core.app.ActivityCompat.startActivityForResult(ActivityCompat.java:246)\n                                                                                                        at androidx.activity.ComponentActivity$2.onLaunch(ComponentActivity.java:243)\n                                                                                                        at androidx.activity.result.ActivityResultRegistry$2.launch(ActivityResultRegistry.java:175)\n                                                                                                        at androidx.activity.result.ActivityResultLauncher.launch(ActivityResultLauncher.java:47)\n                                                                                                        at com.an.rindr.home$2.onClick(home.java:152)\n                                                                                                        at android.view.View.performClick(View.java:7881)\n                                                                                                        at android.widget.TextView.performClick(TextView.java:16201)\n                                                                                                        at android.view.View.performClickInternal(View.java:7858)\n                                                                                                        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n                                                                                                        at android.view.View$PerformClick.run(View.java:30863)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:942)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:226)\n                                                                                                        at android.os.Looper.loop(Looper.java:313)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8741)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\n</code></pre>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1677174356,"post_id":75548367,"comment_id":133290540,"body_markdown":"what about `text.replace(&quot;xyz&quot;, random.get());`? That simply invokes the `Supplier`. `replace` does not check if the &quot;xyz&quot; exists though.","body":"what about <code>text.replace(&quot;xyz&quot;, random.get());</code>? That simply invokes the <code>Supplier</code>. <code>replace</code> does not check if the &quot;xyz&quot; exists though."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677175481,"creation_date":1677175481,"answer_id":75548657,"question_id":75548367,"body_markdown":"You will have to make your own method for that:\r\n\r\n    public String replaceIfFound(String subject, String target, Supplier&lt;String&gt; replacement) {\r\n        if(!subject.contains(target)) {\r\n          return subject;\r\n        }\r\n        return subject.replace(target, replacement.get())\r\n    }\r\n\r\nThis way the `Supplier` will only be invoked if the subject contains the String you&#39;re looking for.\r\n","title":"Java String replace method with lambda funcion","body":"<p>You will have to make your own method for that:</p>\n<pre><code>public String replaceIfFound(String subject, String target, Supplier&lt;String&gt; replacement) {\n    if(!subject.contains(target)) {\n      return subject;\n    }\n    return subject.replace(target, replacement.get())\n}\n</code></pre>\n<p>This way the <code>Supplier</code> will only be invoked if the subject contains the String you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677177795,"creation_date":1677175524,"answer_id":75548669,"question_id":75548367,"body_markdown":"The `String.replace()` and `String.replaceAll()` functions do not accept a lambda but according to the [docs][1], &quot;*an invocation of this method of the form `str.replaceAll(regex, repl)` yields exactly the same result as the expression*:\r\n\r\n    Pattern.compile(regex).matcher(str).replaceAll(repl)\r\n\r\nTherefore, I suggest you try:\r\n\r\n    Pattern.compile(&quot;xyz&quot;).matcher(text).replaceFirst(mr -&gt; random.get());\r\n\r\nEdit: Matcher has `replaceFirst` ond `replaceAll`, not `replace()`.  Both take a `Function&lt;MatchResult,String&gt; replacer`.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)","title":"Java String replace method with lambda funcion","body":"<p>The <code>String.replace()</code> and <code>String.replaceAll()</code> functions do not accept a lambda but according to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">docs</a>, &quot;<em>an invocation of this method of the form <code>str.replaceAll(regex, repl)</code> yields exactly the same result as the expression</em>:</p>\n<pre><code>Pattern.compile(regex).matcher(str).replaceAll(repl)\n</code></pre>\n<p>Therefore, I suggest you try:</p>\n<pre><code>Pattern.compile(&quot;xyz&quot;).matcher(text).replaceFirst(mr -&gt; random.get());\n</code></pre>\n<p>Edit: Matcher has <code>replaceFirst</code> ond <code>replaceAll</code>, not <code>replace()</code>.  Both take a <code>Function&lt;MatchResult,String&gt; replacer</code>.</p>\n"}],"owner":{"account_id":12058599,"reputation":135,"user_id":8818453,"display_name":"dwbFrank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75548669,"answer_count":2,"score":0,"last_activity_date":1677177795,"creation_date":1677173713,"question_id":75548367,"body_markdown":"I want do String replace without specifying replacement String as literal String.\r\n\r\n\r\n``` java\r\nSupplier&lt;String&gt; random = () -&gt; anyExpensiveProcess();\r\nString text = &quot;abcd xyz&quot;;\r\ntext = text.replace(&quot;xyz&quot;, random);\r\n```\r\nIf &quot;xyz&quot; exists, then call `random` to generate replacement String.","title":"Java String replace method with lambda funcion","body":"<p>I want do String replace without specifying replacement String as literal String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Supplier&lt;String&gt; random = () -&gt; anyExpensiveProcess();\nString text = &quot;abcd xyz&quot;;\ntext = text.replace(&quot;xyz&quot;, random);\n</code></pre>\n<p>If &quot;xyz&quot; exists, then call <code>random</code> to generate replacement String.</p>\n"},{"tags":["java","sorting","record"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1677170789,"post_id":75547810,"comment_id":133289407,"body_markdown":"Does this answer your question? [How to sort a List/ArrayList?](https://stackoverflow.com/questions/16252269/how-to-sort-a-list-arraylist)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16252269/how-to-sort-a-list-arraylist\">How to sort a List/ArrayList?</a>"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1677171019,"post_id":75547810,"comment_id":133289483,"body_markdown":"Why do you think there&#39;s a difference in sorting between records and plain old classes?","body":"Why do you think there&#39;s a difference in sorting between records and plain old classes?"}],"answers":[{"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677171366,"post_id":75547917,"comment_id":133289601,"body_markdown":"You can also just let the `record` implement `Comparable`.","body":"You can also just let the <code>record</code> implement <code>Comparable</code>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1677171485,"post_id":75547917,"comment_id":133289637,"body_markdown":"That is true.  I will update the answer to mention it.","body":"That is true.  I will update the answer to mention it."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677176606,"creation_date":1677171217,"answer_id":75547917,"question_id":75547810,"body_markdown":"First, you should be using `LocalDate` and not `Date` as the latter is obsolete, deprecated and buggy.  That and other classes are available in the [java.time](https://stackoverflow.com/users/214525/f1sh) package and offer a wide range of capabilities.\r\n```\r\npublic record UserCourseSubscriptionRec(\r\n    Integer userId,\r\n    String userFirstName,\r\n    String userLastName,\r\n    Integer courseId,\r\n    String courseName,\r\n    Date startDate,         \r\n    Date endDate) {\r\n}\r\n```\r\nDefine a comparator.\r\n```\r\nComparator&lt;UserCourseSubscriptionRec&gt; comp = Comparator\r\n                .comparing(UserCourseSubscriptionRec::userId)\r\n                .thenComparing(UserCourseSubscriptionRec::startDate,\r\n                        Comparator.reverseOrder());\r\n\r\n```\r\nThen use the ArrayList sort method with the comparator.\r\n```\r\nYourList.sort(comp);\r\n```\r\nOr as [f1sh](https://stackoverflow.com/users/214525/f1sh) suggested in the comments, you can have your class or record implement the `Comparable` Here interface.  Here is how that might look.\r\n```\r\nrecord UserCourseSubscriptionRec(Integer userId, String userFirstName,\r\n        String userLastName, Integer courseId, String courseName,\r\n        Date startDate, Date endDate)\r\n        implements Comparable&lt;UserCourseSubscriptionRec&gt; { // implement the interface\r\n\r\n    public int compareTo(UserCourseSubscriptionRec ucs) {\r\n        // first, compare the userid&#39;s in ascending order\r\n        int result = userId.compareTo(ucs.userId);\r\n\r\n        // if non-zero, return the result.\r\n        // otherwise, return the result of sorting in reverse order\r\n        // (changing the `compareTo` argument order reverses the natural order). \r\n        return result != 0 ? result : \r\n                ucs.startDate.compareTo(startDate);\r\n               \r\n    }\r\n}\r\n```\r\nThen just call sort as follows. The `null` argument says use the ordering specified by the `Comparable` complementation.\r\n```\r\nYourList.sort(null);","title":"how to sort arraylist of java records","body":"<p>First, you should be using <code>LocalDate</code> and not <code>Date</code> as the latter is obsolete, deprecated and buggy.  That and other classes are available in the <a href=\"https://stackoverflow.com/users/214525/f1sh\">java.time</a> package and offer a wide range of capabilities.</p>\n<pre><code>public record UserCourseSubscriptionRec(\n    Integer userId,\n    String userFirstName,\n    String userLastName,\n    Integer courseId,\n    String courseName,\n    Date startDate,         \n    Date endDate) {\n}\n</code></pre>\n<p>Define a comparator.</p>\n<pre><code>Comparator&lt;UserCourseSubscriptionRec&gt; comp = Comparator\n                .comparing(UserCourseSubscriptionRec::userId)\n                .thenComparing(UserCourseSubscriptionRec::startDate,\n                        Comparator.reverseOrder());\n\n</code></pre>\n<p>Then use the ArrayList sort method with the comparator.</p>\n<pre><code>YourList.sort(comp);\n</code></pre>\n<p>Or as <a href=\"https://stackoverflow.com/users/214525/f1sh\">f1sh</a> suggested in the comments, you can have your class or record implement the <code>Comparable</code> Here interface.  Here is how that might look.</p>\n<pre><code>record UserCourseSubscriptionRec(Integer userId, String userFirstName,\n        String userLastName, Integer courseId, String courseName,\n        Date startDate, Date endDate)\n        implements Comparable&lt;UserCourseSubscriptionRec&gt; { // implement the interface\n\n    public int compareTo(UserCourseSubscriptionRec ucs) {\n        // first, compare the userid's in ascending order\n        int result = userId.compareTo(ucs.userId);\n\n        // if non-zero, return the result.\n        // otherwise, return the result of sorting in reverse order\n        // (changing the `compareTo` argument order reverses the natural order). \n        return result != 0 ? result : \n                ucs.startDate.compareTo(startDate);\n               \n    }\n}\n</code></pre>\n<p>Then just call sort as follows. The <code>null</code> argument says use the ordering specified by the <code>Comparable</code> complementation.</p>\n<pre><code>YourList.sort(null);\n</code></pre>\n"}],"owner":{"account_id":9747202,"reputation":185,"user_id":7226747,"display_name":"Eric Malalel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1677176606,"creation_date":1677170709,"question_id":75547810,"body_markdown":"I have a record definition like this:\r\n\r\n    public record UserCourseSubscriptionRec(\r\n\t\tInteger userId,\r\n\t\tString userFirstName,\r\n\t\tString userLastName,\r\n\t\tInteger courseId,\r\n\t\tString courseName,\r\n\t\tDate startDate,\r\n\t\tDate endDate) {\r\n\r\n}\r\n\r\nI have an arrayList of there records.\r\n\r\nHow can I sort this arrayList by userId ascending then startDate descending?\r\n\r\nI know how to do it for a class, but I cannot change this record to a class.","title":"how to sort arraylist of java records","body":"<p>I have a record definition like this:</p>\n<pre><code>public record UserCourseSubscriptionRec(\n    Integer userId,\n    String userFirstName,\n    String userLastName,\n    Integer courseId,\n    String courseName,\n    Date startDate,\n    Date endDate) {\n</code></pre>\n<p>}</p>\n<p>I have an arrayList of there records.</p>\n<p>How can I sort this arrayList by userId ascending then startDate descending?</p>\n<p>I know how to do it for a class, but I cannot change this record to a class.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23118833,"reputation":59,"user_id":17225652,"display_name":"BitOfaLegend"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677176567,"creation_date":1677135329,"answer_id":75541485,"question_id":75539139,"body_markdown":"If you would like to keep related data together, I would recommend using a tuple. More specifically a `Pair&lt;Integer, String&gt;()` in your case.\r\n\r\nSo for the most straight forward solution I could give you:\r\n\r\nReplace your `Integer[]` in your ImageAdapter with\r\n```\r\npublic ArrayList&lt;Pair&lt;Integer, String&gt;&gt; mThumbIdsAndText = new ArrayList&lt;&gt;(Arrays.asList(\r\n            new Pair&lt;&gt;(R.drawable.shrek1, &quot;shrek1 text&quot;),\r\n            new Pair&lt;&gt;(R.drawable.shrek2, &quot;shrek2 text&quot;),\r\n            new Pair&lt;&gt;(R.drawable.shrek3, &quot;shrek3 text&quot;),\r\n            new Pair&lt;&gt;(R.drawable.shrek4, &quot;shrek4 text&quot;),\r\n            new Pair&lt;&gt;(R.drawable.shrek5, &quot;shrek5 text&quot;),\r\n            new Pair&lt;&gt;(R.drawable.shrek6, &quot;shrek6 text&quot;)\r\n            ));\r\n```\r\n\r\nAnd then in your SingleView you can do\r\n```\r\nimageView.setImageResource(imageAdapter.mThumbIdsAndText.get(position).first);\r\n// some text view that you&#39;ll have to create\r\ntextView.setText(imageAdapter.mThumbIdsAndText.get(position).second);\r\n```\r\n\r\n---\r\n---\r\n---\r\n---\r\n\r\nHonestly though I would recommend moving this `ArrayList` to your MainActivity and instead of putting the position in the Intent, you would \r\n```\r\nInteger thumbId = mThumbIdsAndText.get(position).first;\r\nString text = mThumbIdsAndText.get(position).second;\r\ni.putExtra(&quot;thumbIdExtra&quot;, thumbId);\r\ni.putExtra(&quot;textExtra&quot;, text);\r\n```\r\n\r\nand then in the SingleView you are just being given the one image and its text, so you can do\r\n```\r\nInteger thumbId = i.getIntExtra(&quot;thumbIdExtra&quot;);\r\nString text = i.getStringExtra(&quot;textExtra&quot;);\r\n\r\nimageView.setImageResource(thumbId);\r\n// some text view that you&#39;ll have to create\r\ntextView.setText(text);\r\n```\r\nThen you can pass the ArrayList to the ImageAdapter and then you would replace things like mThumbIds.length with mThumbIds.size and mThumbIds[position] with mThumbIds.get(position)\r\n\r\nThis way you don&#39;t need to create an instance of the ImageAdapter in your SingleView, simply to get the image that you want to display \r\n","title":"display string in new activity on image click","body":"<p>If you would like to keep related data together, I would recommend using a tuple. More specifically a <code>Pair&lt;Integer, String&gt;()</code> in your case.</p>\n<p>So for the most straight forward solution I could give you:</p>\n<p>Replace your <code>Integer[]</code> in your ImageAdapter with</p>\n<pre><code>public ArrayList&lt;Pair&lt;Integer, String&gt;&gt; mThumbIdsAndText = new ArrayList&lt;&gt;(Arrays.asList(\n            new Pair&lt;&gt;(R.drawable.shrek1, &quot;shrek1 text&quot;),\n            new Pair&lt;&gt;(R.drawable.shrek2, &quot;shrek2 text&quot;),\n            new Pair&lt;&gt;(R.drawable.shrek3, &quot;shrek3 text&quot;),\n            new Pair&lt;&gt;(R.drawable.shrek4, &quot;shrek4 text&quot;),\n            new Pair&lt;&gt;(R.drawable.shrek5, &quot;shrek5 text&quot;),\n            new Pair&lt;&gt;(R.drawable.shrek6, &quot;shrek6 text&quot;)\n            ));\n</code></pre>\n<p>And then in your SingleView you can do</p>\n<pre><code>imageView.setImageResource(imageAdapter.mThumbIdsAndText.get(position).first);\n// some text view that you'll have to create\ntextView.setText(imageAdapter.mThumbIdsAndText.get(position).second);\n</code></pre>\n<hr />\n<hr />\n<hr />\n<hr />\n<p>Honestly though I would recommend moving this <code>ArrayList</code> to your MainActivity and instead of putting the position in the Intent, you would</p>\n<pre><code>Integer thumbId = mThumbIdsAndText.get(position).first;\nString text = mThumbIdsAndText.get(position).second;\ni.putExtra(&quot;thumbIdExtra&quot;, thumbId);\ni.putExtra(&quot;textExtra&quot;, text);\n</code></pre>\n<p>and then in the SingleView you are just being given the one image and its text, so you can do</p>\n<pre><code>Integer thumbId = i.getIntExtra(&quot;thumbIdExtra&quot;);\nString text = i.getStringExtra(&quot;textExtra&quot;);\n\nimageView.setImageResource(thumbId);\n// some text view that you'll have to create\ntextView.setText(text);\n</code></pre>\n<p>Then you can pass the ArrayList to the ImageAdapter and then you would replace things like mThumbIds.length with mThumbIds.size and mThumbIds[position] with mThumbIds.get(position)</p>\n<p>This way you don't need to create an instance of the ImageAdapter in your SingleView, simply to get the image that you want to display</p>\n"}],"owner":{"account_id":20555602,"reputation":43,"user_id":15087269,"display_name":"Magnus Marks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541485,"answer_count":1,"score":0,"last_activity_date":1677176567,"creation_date":1677108256,"question_id":75539139,"body_markdown":"I have a gridview with images where you can click on an image and a new activity will pop up displaying the image. What I want to do now is have text also display above the image that is specific to the image. Here is what I have so far, keep in mind, the pictures explaining what I want is basic XML.\r\n\r\n- [Gridview][1]\r\n- [Example Picture #1 of what I want][2]\r\n- [Example picture #2 of what I want][3]\r\n- [Image View][4]\r\n- [Main Activity][5]\r\n- [Single View][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y87sv.png\r\n  [2]: https://i.stack.imgur.com/5BUPS.png\r\n  [3]: https://i.stack.imgur.com/AU23v.png\r\n  [4]: https://i.stack.imgur.com/oUfB4.png\r\n  [5]: https://i.stack.imgur.com/pHTBO.png\r\n  [6]: https://i.stack.imgur.com/2sQcM.png","title":"display string in new activity on image click","body":"<p>I have a gridview with images where you can click on an image and a new activity will pop up displaying the image. What I want to do now is have text also display above the image that is specific to the image. Here is what I have so far, keep in mind, the pictures explaining what I want is basic XML.</p>\n<ul>\n<li><a href=\"https://i.stack.imgur.com/Y87sv.png\" rel=\"nofollow noreferrer\">Gridview</a></li>\n<li><a href=\"https://i.stack.imgur.com/5BUPS.png\" rel=\"nofollow noreferrer\">Example Picture #1 of what I want</a></li>\n<li><a href=\"https://i.stack.imgur.com/AU23v.png\" rel=\"nofollow noreferrer\">Example picture #2 of what I want</a></li>\n<li><a href=\"https://i.stack.imgur.com/oUfB4.png\" rel=\"nofollow noreferrer\">Image View</a></li>\n<li><a href=\"https://i.stack.imgur.com/pHTBO.png\" rel=\"nofollow noreferrer\">Main Activity</a></li>\n<li><a href=\"https://i.stack.imgur.com/2sQcM.png\" rel=\"nofollow noreferrer\">Single View</a></li>\n</ul>\n"},{"tags":["java","android","android-studio","gradle","kotlin"],"answers":[{"comments":[{"owner":{"account_id":1251158,"reputation":2294,"user_id":1211542,"accept_rate":88,"display_name":"Johan Paul"},"score":0,"creation_date":1510817154,"post_id":46129415,"comment_id":81598325,"body_markdown":"I am still seeing this with the stable Android Studio 3.0.0 release.","body":"I am still seeing this with the stable Android Studio 3.0.0 release."},{"owner":{"account_id":2737385,"reputation":8594,"user_id":2359762,"accept_rate":80,"display_name":"Mohsen Mirhoseini"},"score":0,"creation_date":1510818750,"post_id":46129415,"comment_id":81599084,"body_markdown":"@JohanPaul yes, this change is here to stay! You have to find the file and remove it.","body":"@JohanPaul yes, this change is here to stay! You have to find the file and remove it."},{"owner":{"account_id":1251158,"reputation":2294,"user_id":1211542,"accept_rate":88,"display_name":"Johan Paul"},"score":0,"creation_date":1510821687,"post_id":46129415,"comment_id":81600647,"body_markdown":"I did a Gradle build from the command line, which was successful. After this I could again build from AS 3.0 too. It makes no sense to me.","body":"I did a Gradle build from the command line, which was successful. After this I could again build from AS 3.0 too. It makes no sense to me."},{"owner":{"account_id":2737385,"reputation":8594,"user_id":2359762,"accept_rate":80,"display_name":"Mohsen Mirhoseini"},"score":0,"creation_date":1510830536,"post_id":46129415,"comment_id":81606811,"body_markdown":"@JohanPaul it is true. Syncing project with Gradle files (using the relevant button on AS toolbar) helps, mostly when you switch between different build tools versions.","body":"@JohanPaul it is true. Syncing project with Gradle files (using the relevant button on AS toolbar) helps, mostly when you switch between different build tools versions."},{"owner":{"account_id":17921458,"reputation":71,"user_id":13021198,"display_name":"Shruti Pahuja"},"score":0,"creation_date":1681208517,"post_id":46129415,"comment_id":134015775,"body_markdown":"@MohsenMirhoseini where do I find this Icon? I am unable to find it.","body":"@MohsenMirhoseini where do I find this Icon? I am unable to find it."}],"tags":[],"owner":{"account_id":2737385,"reputation":8594,"user_id":2359762,"accept_rate":80,"display_name":"Mohsen Mirhoseini"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1504951122,"creation_date":1504951122,"answer_id":46129415,"question_id":46129414,"body_markdown":"After more investigation using `gradle assemble --stacktrace` command I found that the issue is with APK zipping process:\r\n\r\n&gt; Error:org.gradle.tooling.BuildException: Failed to generate v1\r\n&gt; signature Error:java.io.IOException: Failed to generate v1 signature\r\n&gt; Error:com.android.apksig.apk.ApkFormatException: Unsupported character\r\n&gt; 0x0d in ZIP entry name &quot;assets/Icon?&quot;\r\n\r\nThere was a file named &quot;Icon?&quot; in my project which is a MacOS file that indicates folder&#39;s icon and it contains `CR, LF` characters inside.\r\n\r\nI deleted the file and now everything is working fine.\r\n\r\nThis issue showed up in all versions after Android Studio Canary 4 and I report the issue to Android Studio team on this thread https://issuetracker.google.com/issues/63885809\r\n\r\nand they mentioned:\r\n\r\n&gt; 3.0 Canary 4 is about the time we added that &quot;Unsupported character&quot; check, so that&#39;s why it happens from that version forward.\r\n\r\nThey are investigating more to solve this issue and I hope this answer helps others not to waste one month not updating their Android Studio. :)","title":"Android Studio - java.io.IOException: Failed to generate v1 signature","body":"<p>After more investigation using <code>gradle assemble --stacktrace</code> command I found that the issue is with APK zipping process:</p>\n\n<blockquote>\n  <p>Error:org.gradle.tooling.BuildException: Failed to generate v1\n  signature Error:java.io.IOException: Failed to generate v1 signature\n  Error:com.android.apksig.apk.ApkFormatException: Unsupported character\n  0x0d in ZIP entry name \"assets/Icon?\"</p>\n</blockquote>\n\n<p>There was a file named \"Icon?\" in my project which is a MacOS file that indicates folder's icon and it contains <code>CR, LF</code> characters inside.</p>\n\n<p>I deleted the file and now everything is working fine.</p>\n\n<p>This issue showed up in all versions after Android Studio Canary 4 and I report the issue to Android Studio team on this thread <a href=\"https://issuetracker.google.com/issues/63885809\" rel=\"noreferrer\">https://issuetracker.google.com/issues/63885809</a></p>\n\n<p>and they mentioned:</p>\n\n<blockquote>\n  <p>3.0 Canary 4 is about the time we added that \"Unsupported character\" check, so that's why it happens from that version forward.</p>\n</blockquote>\n\n<p>They are investigating more to solve this issue and I hope this answer helps others not to waste one month not updating their Android Studio. :)</p>\n"},{"tags":[],"owner":{"account_id":12284128,"reputation":1,"user_id":8964434,"display_name":"Han John Tse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520691367,"creation_date":1520691367,"answer_id":49210068,"question_id":46129414,"body_markdown":"Initially I started out with lots of errors &quot;file name must end in .xml or .png (Im using Mac OSX also) Then I started deleting a bunch of random icon files I found scattered around. Ending up getting a new error &quot;execution failed for task :app:packageDebug failed to generate v1 signature&quot;\r\n\r\nIn the end, got a good advice to try Build &gt; Clean Project and then recompile. This will force the IDE to take another look at the files and try again). If you deleted the icon files, Android Studio may need to re-index the project.","title":"Android Studio - java.io.IOException: Failed to generate v1 signature","body":"<p>Initially I started out with lots of errors \"file name must end in .xml or .png (Im using Mac OSX also) Then I started deleting a bunch of random icon files I found scattered around. Ending up getting a new error \"execution failed for task :app:packageDebug failed to generate v1 signature\"</p>\n\n<p>In the end, got a good advice to try Build > Clean Project and then recompile. This will force the IDE to take another look at the files and try again). If you deleted the icon files, Android Studio may need to re-index the project.</p>\n"},{"comments":[{"owner":{"account_id":937587,"reputation":552,"user_id":7807754,"display_name":"Datta Diware"},"score":0,"creation_date":1677554115,"post_id":75548806,"comment_id":133356666,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/33910425)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/33910425\">From Review</a>"}],"tags":[],"owner":{"account_id":18774069,"reputation":1,"user_id":13690276,"display_name":"Tony"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677176321,"creation_date":1677176321,"answer_id":75548806,"question_id":46129414,"body_markdown":"I fixed it by deleting ~/.android/debug.keystore file.","title":"Android Studio - java.io.IOException: Failed to generate v1 signature","body":"<p>I fixed it by deleting ~/.android/debug.keystore file.</p>\n"}],"owner":{"account_id":2737385,"reputation":8594,"user_id":2359762,"accept_rate":80,"display_name":"Mohsen Mirhoseini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10434,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":46129415,"answer_count":3,"score":14,"last_activity_date":1677176321,"creation_date":1504951122,"question_id":46129414,"body_markdown":"I get this error after updating my Android Studio to all new versions after 3.0 Canary 4. (I am using v3.0 cause it is much faster and there is no need to jack for Kotlin.)\r\n\r\nIt looks like there is an issue with build flow that it cannot generate or sign my APK file for both debug and release version.\r\n\r\nI also tried deleting my `debug.keystore`, restarting AndroidStudio and system(!!!) but it didn&#39;t solve.\r\n\r\nHere is a full Gradle log:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong: Execution failed for task &#39;:chris-app:packageDemoDebug&#39;.\r\n    java.io.IOException: Failed to generate v1 signature\r\n    \r\n    * Try: Run with --info or --debug option to get more log output.\r\n    \r\n    * Exception is: org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:chris-app:packageDemoDebug&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n            at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n            at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n            at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:243)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:236)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:225)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55) Caused by: org.gradle.tooling.BuildException: java.io.IOException: Failed to generate v1 signature\r\n            at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$10(OutputScope.java:240)\r\n            at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:235)\r\n            at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:196)\r\n            at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:180)\r\n            at com.android.build.gradle.tasks.PackageAndroidArtifact.doFullTaskAction(PackageAndroidArtifact.java:466)\r\n            at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:80)\r\n            at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n            at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:168)\r\n            at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\r\n            at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n            ... 27 more Caused by: java.lang.RuntimeException: java.io.IOException: Failed to generate v1 signature Caused by: java.io.IOException: Failed to generate v1 signature\r\n            at com.android.apkzlib.sign.SigningExtension.onOutputZipReadyForUpdate(SigningExtension.java:297)\r\n            at com.android.apkzlib.sign.SigningExtension.access$200(SigningExtension.java:55)\r\n            at com.android.apkzlib.sign.SigningExtension$1.lambda$beforeUpdate$2(SigningExtension.java:175)\r\n            at com.android.apkzlib.zip.ZFile.notify(ZFile.java:2099)\r\n            at com.android.apkzlib.zip.ZFile.update(ZFile.java:871)\r\n            at com.android.apkzlib.zip.ZFile.close(ZFile.java:1161)\r\n            at com.android.apkzlib.zfile.ApkZFileCreator.close(ApkZFileCreator.java:172)\r\n            at com.google.common.io.Closer.close(Closer.java:216)\r\n            at com.android.builder.internal.packaging.IncrementalPackager.close(IncrementalPackager.java:332)\r\n            at com.android.build.gradle.tasks.PackageAndroidArtifact.doTask(PackageAndroidArtifact.java:698)\r\n            at com.android.build.gradle.tasks.PackageAndroidArtifact.splitFullAction(PackageAndroidArtifact.java:520)\r\n            at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$6(OutputScope.java:185)\r\n            at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$7(OutputScope.java:202)\r\n            at com.android.build.gradle.internal.scope.OutputScope.lambda$null$8(OutputScope.java:224) &quot;\r\n            at com.android.apksig.internal.apk.v1.V1SchemeSigner.checkEntryNameValid(V1SchemeSigner.java:406)\r\n            at com.android.apksig.internal.apk.v1.V1SchemeSigner.generateManifestFile(V1SchemeSigner.java:373)\r\n            at com.android.apksig.internal.apk.v1.V1SchemeSigner.sign(V1SchemeSigner.java:253)\r\n            at com.android.apksig.DefaultApkSignerEngine.outputJarEntries(DefaultApkSignerEngine.java:372)\r\n            at com.android.apkzlib.sign.SigningExtension.onOutputZipReadyForUpdate(SigningExtension.java:295)\r\n            ... 13 more\r\n    \r\n    \r\n    BUILD FAILED in 2m 49s\r\n\r\n","title":"Android Studio - java.io.IOException: Failed to generate v1 signature","body":"<p>I get this error after updating my Android Studio to all new versions after 3.0 Canary 4. (I am using v3.0 cause it is much faster and there is no need to jack for Kotlin.)</p>\n\n<p>It looks like there is an issue with build flow that it cannot generate or sign my APK file for both debug and release version.</p>\n\n<p>I also tried deleting my <code>debug.keystore</code>, restarting AndroidStudio and system(!!!) but it didn't solve.</p>\n\n<p>Here is a full Gradle log:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong: Execution failed for task ':chris-app:packageDemoDebug'.\njava.io.IOException: Failed to generate v1 signature\n\n* Try: Run with --info or --debug option to get more log output.\n\n* Exception is: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':chris-app:packageDemoDebug'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:243)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:236)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:225)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55) Caused by: org.gradle.tooling.BuildException: java.io.IOException: Failed to generate v1 signature\n        at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$10(OutputScope.java:240)\n        at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:235)\n        at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:196)\n        at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:180)\n        at com.android.build.gradle.tasks.PackageAndroidArtifact.doFullTaskAction(PackageAndroidArtifact.java:466)\n        at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:80)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:168)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n        ... 27 more Caused by: java.lang.RuntimeException: java.io.IOException: Failed to generate v1 signature Caused by: java.io.IOException: Failed to generate v1 signature\n        at com.android.apkzlib.sign.SigningExtension.onOutputZipReadyForUpdate(SigningExtension.java:297)\n        at com.android.apkzlib.sign.SigningExtension.access$200(SigningExtension.java:55)\n        at com.android.apkzlib.sign.SigningExtension$1.lambda$beforeUpdate$2(SigningExtension.java:175)\n        at com.android.apkzlib.zip.ZFile.notify(ZFile.java:2099)\n        at com.android.apkzlib.zip.ZFile.update(ZFile.java:871)\n        at com.android.apkzlib.zip.ZFile.close(ZFile.java:1161)\n        at com.android.apkzlib.zfile.ApkZFileCreator.close(ApkZFileCreator.java:172)\n        at com.google.common.io.Closer.close(Closer.java:216)\n        at com.android.builder.internal.packaging.IncrementalPackager.close(IncrementalPackager.java:332)\n        at com.android.build.gradle.tasks.PackageAndroidArtifact.doTask(PackageAndroidArtifact.java:698)\n        at com.android.build.gradle.tasks.PackageAndroidArtifact.splitFullAction(PackageAndroidArtifact.java:520)\n        at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$6(OutputScope.java:185)\n        at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$7(OutputScope.java:202)\n        at com.android.build.gradle.internal.scope.OutputScope.lambda$null$8(OutputScope.java:224) \"\n        at com.android.apksig.internal.apk.v1.V1SchemeSigner.checkEntryNameValid(V1SchemeSigner.java:406)\n        at com.android.apksig.internal.apk.v1.V1SchemeSigner.generateManifestFile(V1SchemeSigner.java:373)\n        at com.android.apksig.internal.apk.v1.V1SchemeSigner.sign(V1SchemeSigner.java:253)\n        at com.android.apksig.DefaultApkSignerEngine.outputJarEntries(DefaultApkSignerEngine.java:372)\n        at com.android.apkzlib.sign.SigningExtension.onOutputZipReadyForUpdate(SigningExtension.java:295)\n        ... 13 more\n\n\nBUILD FAILED in 2m 49s\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677176910,"post_id":75548802,"comment_id":133291285,"body_markdown":"You can return Optionals from your methods, see the similar problem and my answer here https://stackoverflow.com/questions/75446307/webflux-combine-results-of-two-downstream-calls-and-ignore-failures/75447028#75447028","body":"You can return Optionals from your methods, see the similar problem and my answer here <a href=\"https://stackoverflow.com/questions/75446307/webflux-combine-results-of-two-downstream-calls-and-ignore-failures/75447028#75447028\" title=\"webflux combine results of two downstream calls and ignore failures\">stackoverflow.com/questions/75446307/&hellip;</a>"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1677187885,"post_id":75548802,"comment_id":133294104,"body_markdown":"according to doc &quot;empty completion of any source will cause other sources to be cancelled&quot;. As @kerbermeister mention you would need to wrap String into some object.","body":"according to doc &quot;empty completion of any source will cause other sources to be cancelled&quot;. As @kerbermeister mention you would need to wrap String into some object."}],"owner":{"account_id":4457428,"reputation":981,"user_id":3627233,"accept_rate":18,"display_name":"nanpakal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677176288,"creation_date":1677176288,"question_id":75548802,"body_markdown":"How to use two Monos and create an object using data from Monos even if one the mono is empty\r\n\r\nExample:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n   \r\n            Mono&lt;String&gt; firstName = Mono.just(&quot;Pavan&quot;);\r\n            Mono&lt;String&gt; lastName = Mono.empty();\r\n    \r\n            Mono&lt;Employee&gt; map = Mono.zip(firstName, lastName)\r\n                    .flatMap(t -&gt; Mono.just(Employee.builder()\r\n                            .firstName(t.getT1())\r\n                            .lastName(t.getT2())\r\n                            .build()));\r\n    \r\n            System.out.println(map.block());\r\n    \r\n        }\r\n    \r\n        @Builder\r\n        @ToString\r\n        public static class Employee {\r\n            private String firstName;\r\n            private String lastName;\r\n        }\r\n    \r\n    }\r\nI get firstName and lastName as two Mono. It could be that one of the Mono can be empty. I wanted to create Employee object even if one of them is null. Above solution works only if both firstName and lastName are not null.I wanted to create a empty Employee object when both of them are empty\r\n\r\nI tried using map like below which also works only when both are not empty\r\n\r\n    Mono&lt;Employee&gt; employeeMono = firstName\r\n            .flatMap(first -&gt; lastName.map(last -&gt; Employee.builder()\r\n                    .firstName(first)\r\n                    .lastName(last)\r\n                    .build()));","title":"Merge Mono and form response even if one of the Mono is empty","body":"<p>How to use two Monos and create an object using data from Monos even if one the mono is empty</p>\n<p>Example:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        Mono&lt;String&gt; firstName = Mono.just(&quot;Pavan&quot;);\n        Mono&lt;String&gt; lastName = Mono.empty();\n\n        Mono&lt;Employee&gt; map = Mono.zip(firstName, lastName)\n                .flatMap(t -&gt; Mono.just(Employee.builder()\n                        .firstName(t.getT1())\n                        .lastName(t.getT2())\n                        .build()));\n\n        System.out.println(map.block());\n\n    }\n\n    @Builder\n    @ToString\n    public static class Employee {\n        private String firstName;\n        private String lastName;\n    }\n\n}\n</code></pre>\n<p>I get firstName and lastName as two Mono. It could be that one of the Mono can be empty. I wanted to create Employee object even if one of them is null. Above solution works only if both firstName and lastName are not null.I wanted to create a empty Employee object when both of them are empty</p>\n<p>I tried using map like below which also works only when both are not empty</p>\n<pre><code>Mono&lt;Employee&gt; employeeMono = firstName\n        .flatMap(first -&gt; lastName.map(last -&gt; Employee.builder()\n                .firstName(first)\n                .lastName(last)\n                .build()));\n</code></pre>\n"},{"tags":["java","windows","javafx","elevated-privileges","elevation"],"comments":[{"owner":{"account_id":23429400,"reputation":21,"user_id":17488466,"display_name":"Eduardo_Altair"},"score":0,"creation_date":1674637862,"post_id":75219105,"comment_id":132754857,"body_markdown":"I don&#39;t know why my question is getting closed?!?!","body":"I don&#39;t know why my question is getting closed?!?!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675513709,"post_id":75219105,"comment_id":132947590,"body_markdown":"Consider using class `java.lang.ProcessBuilder`. Run `powershell.exe` directly. No need for `cmd.exe`. Look at the `powershell.exe` [options](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_powershell_exe?view=powershell-5.1). Maybe you can run a script file that first asks the user for elevated rights and then executes your desired command.","body":"Consider using class <code>java.lang.ProcessBuilder</code>. Run <code>powershell.exe</code> directly. No need for <code>cmd.exe</code>. Look at the <code>powershell.exe</code> <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_powershell_exe?view=powershell-5.1\" rel=\"nofollow noreferrer\">options</a>. Maybe you can run a script file that first asks the user for elevated rights and then executes your desired command."}],"owner":{"account_id":23429400,"reputation":21,"user_id":17488466,"display_name":"Eduardo_Altair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1677175479,"creation_date":1674549540,"question_id":75219105,"body_markdown":"I am working on a JavaFX project. At some point in the program I need to ask the user for elevated rights to perform a certain action. \r\n\r\nHow can I code this action?\r\n\r\nMy program is coded to work on Windows 10.\r\n\r\nMy program does not need any permission to work in the usual operation, only for this action is needed.\r\n\r\nMy program detects some devices that I have designed. The problem I have is that sometimes I need to change the VLAN ID of my network card. To do this I do it as follows:\r\n\r\n\r\n    public void VlanChanged (int vlanId) {\r\n        StopDeviceSearch();\r\n        try {\r\n            Runtime rt = Runtime.getRuntime();\r\n            String cmd = &quot;cmd /c \\&quot;Echo S|powershell set-netadapter -InterfaceDescription &#39;Killer E2400 Gigabit Ethernet Controller&#39; -VlanID &quot; + vlanId + &quot;\\&quot;&quot;;\r\n            rt.exec(cmd);\r\n        } catch (Exception e) {\r\n            System.out.println (e);\r\n        }\r\n        RestarDeviceSearch();\r\n    }\r\n\r\nIf I run `myProject.jar` as administrator the above code works correctly, but if I don&#39;t run it as administrator the above code doesn&#39;t work.\r\n\r\nCould I run my program and when the user activates the &quot;VlanChanged&quot; function that my program asks the user for administrator permissions to run CMD as administrator and be able to perform the VLAN ID change action correctly?\r\n\r\nI have tried with the command \r\n```none\r\n&quot;runas /profile /user: Administrator&quot;\r\n```\r\nbut it doesn&#39;t work.\r\n\r\nI would like the Windows banner to be opened that asks you:\r\n\r\n&quot;Do you want to allow this application to make changes to the device?&quot;\r\n\r\nThat the window has the title: &quot;User Account Control&quot;.\r\n\r\nI have been searching and I just want the &quot;UAC dialog&quot;.","title":"Open CMD with the User Account Control (UAC) dialog","body":"<p>I am working on a JavaFX project. At some point in the program I need to ask the user for elevated rights to perform a certain action.</p>\n<p>How can I code this action?</p>\n<p>My program is coded to work on Windows 10.</p>\n<p>My program does not need any permission to work in the usual operation, only for this action is needed.</p>\n<p>My program detects some devices that I have designed. The problem I have is that sometimes I need to change the VLAN ID of my network card. To do this I do it as follows:</p>\n<pre><code>public void VlanChanged (int vlanId) {\n    StopDeviceSearch();\n    try {\n        Runtime rt = Runtime.getRuntime();\n        String cmd = &quot;cmd /c \\&quot;Echo S|powershell set-netadapter -InterfaceDescription 'Killer E2400 Gigabit Ethernet Controller' -VlanID &quot; + vlanId + &quot;\\&quot;&quot;;\n        rt.exec(cmd);\n    } catch (Exception e) {\n        System.out.println (e);\n    }\n    RestarDeviceSearch();\n}\n</code></pre>\n<p>If I run <code>myProject.jar</code> as administrator the above code works correctly, but if I don't run it as administrator the above code doesn't work.</p>\n<p>Could I run my program and when the user activates the &quot;VlanChanged&quot; function that my program asks the user for administrator permissions to run CMD as administrator and be able to perform the VLAN ID change action correctly?</p>\n<p>I have tried with the command</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;runas /profile /user: Administrator&quot;\n</code></pre>\n<p>but it doesn't work.</p>\n<p>I would like the Windows banner to be opened that asks you:</p>\n<p>&quot;Do you want to allow this application to make changes to the device?&quot;</p>\n<p>That the window has the title: &quot;User Account Control&quot;.</p>\n<p>I have been searching and I just want the &quot;UAC dialog&quot;.</p>\n"},{"tags":["java","floating-point","epsilon"],"comments":[{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":1,"creation_date":1424956447,"post_id":28743401,"comment_id":45769495,"body_markdown":"Have you tried with `strictfp`?","body":"Have you tried with <code>strictfp</code>?"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1424965758,"post_id":28743401,"comment_id":45775870,"body_markdown":"Yes, `strictfp` didn&#39;t help here.","body":"Yes, <code>strictfp</code> didn&#39;t help here."}],"answers":[{"comments":[{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1424957887,"post_id":28743618,"comment_id":45770426,"body_markdown":"The mathematical ulp(x) is defined for any real x, so for most values of x, it doesn&#39;t matter whether the definition has  or &lt;. It is not generally agreed on what ulp(x) means when x is a power of two (the case for which it would matter whether it&#39;s  &lt; or &lt; ). There is a quite thorough treatment in http://www.ens-lyon.fr/LIP/Pub/Rapports/RR/RR2005/RR2005-09.pdf","body":"The mathematical ulp(x) is defined for any real x, so for most values of x, it doesn&#39;t matter whether the definition has  or &lt;. It is not generally agreed on what ulp(x) means when x is a power of two (the case for which it would matter whether it&#39;s  &lt; or &lt; ). There is a quite thorough treatment in <a href=\"http://www.ens-lyon.fr/LIP/Pub/Rapports/RR/RR2005/RR2005-09.pdf\" rel=\"nofollow noreferrer\">ens-lyon.fr/LIP/Pub/Rapports/RR/RR2005/RR2005-09.pdf</a>"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1424966562,"post_id":28743618,"comment_id":45776437,"body_markdown":"@davmac: I&#39;m also not sure that my approach is sound, that&#39;s why I asked :) But I don&#39;t understand: Why isn&#39;t `ulp(1.0)`, &quot;the positive distance between 1.0 and the double next larger in magnitude&quot;, the smallest value such that `1.0 + eps != 1.0`? There shouldn&#39;t be any smaller value with that property, as then `ulp(1.0)` *isn&#39;t* the distance to the *next* larger double. But, as @Pascal said, there doesn&#39;t seem to be a general definition of `ulp(1.0)`, so maybe my problem lies here. Still I don&#39;t get it...","body":"@davmac: I&#39;m also not sure that my approach is sound, that&#39;s why I asked :) But I don&#39;t understand: Why isn&#39;t <code>ulp(1.0)</code>, &quot;the positive distance between 1.0 and the double next larger in magnitude&quot;, the smallest value such that <code>1.0 + eps != 1.0</code>? There shouldn&#39;t be any smaller value with that property, as then <code>ulp(1.0)</code> <i>isn&#39;t</i> the distance to the <i>next</i> larger double. But, as @Pascal said, there doesn&#39;t seem to be a general definition of <code>ulp(1.0)</code>, so maybe my problem lies here. Still I don&#39;t get it..."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1424967036,"post_id":28743618,"comment_id":45776754,"body_markdown":"@FranzD. The value given by the definition as smallest representable double value x such that 1.0 + x != 1.0 is not a power of two, so it is not the result of the ulp function for any definition of the mathematical ulp, nor for the Java method named `ulp`.","body":"@FranzD. The value given by the definition as smallest representable double value x such that 1.0 + x != 1.0 is not a power of two, so it is not the result of the ulp function for any definition of the mathematical ulp, nor for the Java method named <code>ulp</code>."},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1424967807,"post_id":28743618,"comment_id":45777238,"body_markdown":"@Pascal: Huh? Who said ulp(x) returns only powers of two? I only said that the input x = 1.0 is a power of two, so ulp&#39;s results may be dubious.","body":"@Pascal: Huh? Who said ulp(x) returns only powers of two? I only said that the input x = 1.0 is a power of two, so ulp&#39;s results may be dubious."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":1,"creation_date":1424968214,"post_id":28743618,"comment_id":45777496,"body_markdown":"@FranzD. I said that ulp returns powers of two. You do not have to believe me. Did you read http://www.ens-lyon.fr/LIP/Pub/Rapports/RR/RR2005/RR2005-09.pdf ?","body":"@FranzD. I said that ulp returns powers of two. You do not have to believe me. Did you read <a href=\"http://www.ens-lyon.fr/LIP/Pub/Rapports/RR/RR2005/RR2005-09.pdf\" rel=\"nofollow noreferrer\">ens-lyon.fr/LIP/Pub/Rapports/RR/RR2005/RR2005-09.pdf</a> ?"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1424969044,"post_id":28743618,"comment_id":45778044,"body_markdown":"I believe you, but I hadn&#39;t read the link... It always amazes me how complex floating-point computation is, if you look closer.","body":"I believe you, but I hadn&#39;t read the link... It always amazes me how complex floating-point computation is, if you look closer."},{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1424971633,"post_id":28743618,"comment_id":45779715,"body_markdown":"@FranzD. &quot;I don&#39;t understand: Why isn&#39;t ulp(1.0), &quot;the positive distance between 1.0 and the double next larger in magnitude&quot;, the smallest value such that 1.0 + eps != 1.0?&quot; - because of rounding. (This is hinted at in my answer). `ulp` returns the difference between a value and the next largest (or smallest) value. But, you can take the original value, and add a smaller-than-ulp value, and the result might be _closer_ to the next-largest value than it was to the original value, and so it will be rounded up.","body":"@FranzD. &quot;I don&#39;t understand: Why isn&#39;t ulp(1.0), &quot;the positive distance between 1.0 and the double next larger in magnitude&quot;, the smallest value such that 1.0 + eps != 1.0?&quot; - because of rounding. (This is hinted at in my answer). <code>ulp</code> returns the difference between a value and the next largest (or smallest) value. But, you can take the original value, and add a smaller-than-ulp value, and the result might be <i>closer</i> to the next-largest value than it was to the original value, and so it will be rounded up."},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1424972345,"post_id":28743618,"comment_id":45780134,"body_markdown":"Yeah, got my problem now and summarized it in an edit to the question. Thank you all for your patience and insight.","body":"Yeah, got my problem now and summarized it in an edit to the question. Thank you all for your patience and insight."}],"tags":[],"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"comment_count":8,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1424966020,"creation_date":1424956891,"answer_id":28743618,"question_id":28743401,"body_markdown":"I&#39;m not sure your experimental method / theory is sound. The documentation for the Math class states:\r\n\r\n&gt; For a given floating-point format, an ulp of a specific real number value is the distance between the two floating-point values bracketing that numerical value\r\n\r\nThe documentation for the `ulp` method says:\r\n\r\n&gt;  An ulp of a double value is the positive distance between this floating-point value and the double value next larger in magnitude\r\n\r\nSo, if you want the smallest `eps` value such that `1.0 + eps != 1.0`, your eps really should generally be _less than_ `Math.ulp(1.0)`, since at least for any value greater than `Math.ulp(1.0) / 2`, the result will be rounded up.\r\n\r\nI think the smallest such value will be given by `Math.nextAfter(eps/2, 1.0)`.\r\n","title":"Java: Double machine epsilon is not the smallest x such that 1+x != 1?","body":"<p>I'm not sure your experimental method / theory is sound. The documentation for the Math class states:</p>\n\n<blockquote>\n  <p>For a given floating-point format, an ulp of a specific real number value is the distance between the two floating-point values bracketing that numerical value</p>\n</blockquote>\n\n<p>The documentation for the <code>ulp</code> method says:</p>\n\n<blockquote>\n  <p>An ulp of a double value is the positive distance between this floating-point value and the double value next larger in magnitude</p>\n</blockquote>\n\n<p>So, if you want the smallest <code>eps</code> value such that <code>1.0 + eps != 1.0</code>, your eps really should generally be <em>less than</em> <code>Math.ulp(1.0)</code>, since at least for any value greater than <code>Math.ulp(1.0) / 2</code>, the result will be rounded up.</p>\n\n<p>I think the smallest such value will be given by <code>Math.nextAfter(eps/2, 1.0)</code>.</p>\n"},{"comments":[{"owner":{"account_id":353892,"reputation":37745,"user_id":691884,"display_name":"Random832"},"score":0,"creation_date":1424959737,"post_id":28743619,"comment_id":45771675,"body_markdown":"Is `1.0 + x != 1.0 &amp;&amp; (1.0 + x) - 1.0 == x` an adequate definition? Or &quot;1.0 minus (the smallest double value greater than 1.0)&quot;?","body":"Is <code>1.0 + x != 1.0 &amp;&amp; (1.0 + x) - 1.0 == x</code> an adequate definition? Or &quot;1.0 minus (the smallest double value greater than 1.0)&quot;?"},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":2,"creation_date":1424960113,"post_id":28743619,"comment_id":45771906,"body_markdown":"@Random832 If you want to compute it, use `Math.nextAfter(1.0, Double.POSITIVE_INFINITY) - 1.0`. The first proposal is a property that is true for many numbers including 1.0 (this is true: 1.0 + 1.0 != 1.0 &amp;&amp; (1.0 + 1.0) - 1.0 == 1.0)","body":"@Random832 If you want to compute it, use <code>Math.nextAfter(1.0, Double.POSITIVE_INFINITY) - 1.0</code>. The first proposal is a property that is true for many numbers including 1.0 (this is true: 1.0 + 1.0 != 1.0 &amp;&amp; (1.0 + 1.0) - 1.0 == 1.0)"},{"owner":{"account_id":1591751,"reputation":694,"user_id":1474939,"display_name":"Brian J"},"score":0,"creation_date":1424964863,"post_id":28743619,"comment_id":45775197,"body_markdown":"So the proposed definition (1.0 + x != 1.0) is invalid because of rounding?  Is that the case?","body":"So the proposed definition (1.0 + x != 1.0) is invalid because of rounding?  Is that the case?"},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1424965109,"post_id":28743619,"comment_id":45775366,"body_markdown":"@BrianJ Yes. `1.0 + x` is generally inexact for values of `x` of the magnitude we are concerned with here. By contrast, though the definition by subtraction leaves this fact implicit, the distance between `0x1.0000000000001` and `0x1.0000000000000`  can be represented as a `double` and `0x1.0000000000001 - 0x1.0000000000000`, as a subtraction of close floating-point numbers, is exact and computes exactly this value.","body":"@BrianJ Yes. <code>1.0 + x</code> is generally inexact for values of <code>x</code> of the magnitude we are concerned with here. By contrast, though the definition by subtraction leaves this fact implicit, the distance between <code>0x1.0000000000001</code> and <code>0x1.0000000000000</code>  can be represented as a <code>double</code> and <code>0x1.0000000000001 - 0x1.0000000000000</code>, as a subtraction of close floating-point numbers, is exact and computes exactly this value."},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1424965975,"post_id":28743619,"comment_id":45776026,"body_markdown":"@Pascal: I don&#39;t think there is &quot;the&quot; definition of machine precision, I just used one of the definitions given in the cited wikipedia article, which according to wikipedia (I&#39;m not a numerics specialist), is the one used for C/C++. However, I don&#39;t see the difference between your definition and mine, since yours also boils down to `Math.ulp(1.0)`. Again, I may be wrong -- I just want to know *why*.","body":"@Pascal: I don&#39;t think there is &quot;the&quot; definition of machine precision, I just used one of the definitions given in the cited wikipedia article, which according to wikipedia (I&#39;m not a numerics specialist), is the one used for C/C++. However, I don&#39;t see the difference between your definition and mine, since yours also boils down to <code>Math.ulp(1.0)</code>. Again, I may be wrong -- I just want to know <i>why</i>."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":1,"creation_date":1424966775,"post_id":28743619,"comment_id":45776575,"body_markdown":"@FranzD. The wikipedia page claims that the C standard uses that definition. It does not. I **actually cite** the C standard in my blog post. Please **do check the reference for yourself**: http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf (the sentence to look for is given in the blog post). The wrong definition gives the wrong result, as anyone can check for themselves (and you have). The correct definition is used in glibc. What else do you need?","body":"@FranzD. The wikipedia page claims that the C standard uses that definition. It does not. I <b>actually cite</b> the C standard in my blog post. Please <b>do check the reference for yourself</b>: <a href=\"http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf\" rel=\"nofollow noreferrer\">open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf</a> (the sentence to look for is given in the blog post). The wrong definition gives the wrong result, as anyone can check for themselves (and you have). The correct definition is used in glibc. What else do you need?"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1424968383,"post_id":28743619,"comment_id":45777627,"body_markdown":"What else? Maybe the ability to read more attentively :) Got it now, the Java definition is simply not correct. Thanks.","body":"What else? Maybe the ability to read more attentively :) Got it now, the Java definition is simply not correct. Thanks."}],"tags":[],"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"comment_count":7,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1424957383,"creation_date":1424956895,"answer_id":28743619,"question_id":28743401,"body_markdown":"&gt; using the definition of it being the smallest representable double value x such that 1.0 + x != 1.0, just as in C/C++\r\n\r\nThis has never been the definition, not in Java and not in C and not in C++.\r\n\r\nThe definition is that the machine epsilon is the distance between one and the smallest float/double larger than one.\r\n\r\nYour definition is [wrong by a factor of nearly 2][1].\r\n\r\nAlso, the absence of `strictfp` only allows a larger exponent range and should not have any impact on the empirical measurement of epsilon, since that is computed from `1.0` and its successor, each of which and the difference of which can be represented with the standard exponent range.\r\n\r\n\r\n  [1]: http://blog.frama-c.com/index.php?post/2013/05/09/FLT_EPSILON","title":"Java: Double machine epsilon is not the smallest x such that 1+x != 1?","body":"<blockquote>\n  <p>using the definition of it being the smallest representable double value x such that 1.0 + x != 1.0, just as in C/C++</p>\n</blockquote>\n\n<p>This has never been the definition, not in Java and not in C and not in C++.</p>\n\n<p>The definition is that the machine epsilon is the distance between one and the smallest float/double larger than one.</p>\n\n<p>Your definition is <a href=\"http://blog.frama-c.com/index.php?post/2013/05/09/FLT_EPSILON\">wrong by a factor of nearly 2</a>.</p>\n\n<p>Also, the absence of <code>strictfp</code> only allows a larger exponent range and should not have any impact on the empirical measurement of epsilon, since that is computed from <code>1.0</code> and its successor, each of which and the difference of which can be represented with the standard exponent range.</p>\n"},{"tags":[],"owner":{"account_id":114866,"reputation":6707,"user_id":301877,"accept_rate":67,"display_name":"Dan Menes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677175084,"creation_date":1677175084,"answer_id":75548591,"question_id":28743401,"body_markdown":"In fairness to the OP, the definition he gives for machine epsilon is the same one I learned in Numerical Methods lo these many years ago. According to Wikipedia (https://en.wikipedia.org/wiki/Machine_epsilon), as of the date of this comment, both definitions are in widespread use. The two definitions may be either equivalent, or may differ by a factor of two, depending on whether the computer is using rounding or truncation.","title":"Java: Double machine epsilon is not the smallest x such that 1+x != 1?","body":"<p>In fairness to the OP, the definition he gives for machine epsilon is the same one I learned in Numerical Methods lo these many years ago. According to Wikipedia (<a href=\"https://en.wikipedia.org/wiki/Machine_epsilon\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Machine_epsilon</a>), as of the date of this comment, both definitions are in widespread use. The two definitions may be either equivalent, or may differ by a factor of two, depending on whether the computer is using rounding or truncation.</p>\n"}],"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3047,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":28743619,"answer_count":3,"score":20,"last_activity_date":1677175084,"creation_date":1424956304,"question_id":28743401,"body_markdown":"I am trying to determine the `double` [machine epsilon](http://en.wikipedia.org/wiki/Machine_epsilon) in Java, using the definition of it being the smallest representable `double` value `x` such that `1.0 + x != 1.0`, just as in C/C++. According to wikipedia, this machine epsilon is equal to `2^-52` (with 52 being the number of `double` mantissa bits - 1).\r\n\r\nMy implementation uses the `Math.ulp()` function:\r\n\r\n    double eps = Math.ulp(1.0);\r\n    System.out.println(&quot;eps = &quot; + eps);\r\n    System.out.println(&quot;eps == 2^-52? &quot; + (eps == Math.pow(2, -52)));\r\n\r\nand the results are what I expected:\r\n\r\n    eps = 2.220446049250313E-16\r\n    eps == 2^-52? true\r\n\r\nSo far, so good. However, if I check that the given `eps` is indeed the *smallest* `x` such that `1.0 + x != 1.0`, there seems to be a smaller one, aka the *previous* `double` value according to `Math.nextAfter()`:\r\n\r\n    double epsPred = Math.nextAfter(eps, Double.NEGATIVE_INFINITY);\r\n    System.out.println(&quot;epsPred = &quot; + epsPred);\r\n    System.out.println(&quot;epsPred &lt; eps? &quot; + (epsPred &lt; eps));\r\n    System.out.println(&quot;1.0 + epsPred == 1.0? &quot; + (1.0 + epsPred == 1.0));\r\n\r\nWhich yields:\r\n\r\n    epsPred = 2.2204460492503128E-16\r\n    epsPred &lt; eps? true\r\n    1.0 + epsPred == 1.0? false\r\n\r\nAs we see, we have a smaller than machine epsilon such which, added to 1, yields not 1, in contradiction to the definition.\r\n\r\nSo what is wrong with the commonly accepted value for machine epsilon according to this definition? Or did I miss something? I suspect another esoteric aspect of floating-point maths, but I can&#39;t see where I went wrong...\r\n\r\n**EDIT:** Thanks to the commenters, I finally got it. I actually used the wrong definition! `eps = Math.ulp(1.0)` computes the distance to the smallest representable double &gt; `1.0`, but -- and that&#39;s the point -- that `eps` is *not* the smallest `x` with `1.0 + x != 1.0`, but rather about *twice* that value: Adding `1.0 + Math.nextAfter(eps/2)` is rounded *up* to `1.0 + eps`.","title":"Java: Double machine epsilon is not the smallest x such that 1+x != 1?","body":"<p>I am trying to determine the <code>double</code> <a href=\"http://en.wikipedia.org/wiki/Machine_epsilon\">machine epsilon</a> in Java, using the definition of it being the smallest representable <code>double</code> value <code>x</code> such that <code>1.0 + x != 1.0</code>, just as in C/C++. According to wikipedia, this machine epsilon is equal to <code>2^-52</code> (with 52 being the number of <code>double</code> mantissa bits - 1).</p>\n\n<p>My implementation uses the <code>Math.ulp()</code> function:</p>\n\n<pre><code>double eps = Math.ulp(1.0);\nSystem.out.println(\"eps = \" + eps);\nSystem.out.println(\"eps == 2^-52? \" + (eps == Math.pow(2, -52)));\n</code></pre>\n\n<p>and the results are what I expected:</p>\n\n<pre><code>eps = 2.220446049250313E-16\neps == 2^-52? true\n</code></pre>\n\n<p>So far, so good. However, if I check that the given <code>eps</code> is indeed the <em>smallest</em> <code>x</code> such that <code>1.0 + x != 1.0</code>, there seems to be a smaller one, aka the <em>previous</em> <code>double</code> value according to <code>Math.nextAfter()</code>:</p>\n\n<pre><code>double epsPred = Math.nextAfter(eps, Double.NEGATIVE_INFINITY);\nSystem.out.println(\"epsPred = \" + epsPred);\nSystem.out.println(\"epsPred &lt; eps? \" + (epsPred &lt; eps));\nSystem.out.println(\"1.0 + epsPred == 1.0? \" + (1.0 + epsPred == 1.0));\n</code></pre>\n\n<p>Which yields:</p>\n\n<pre><code>epsPred = 2.2204460492503128E-16\nepsPred &lt; eps? true\n1.0 + epsPred == 1.0? false\n</code></pre>\n\n<p>As we see, we have a smaller than machine epsilon such which, added to 1, yields not 1, in contradiction to the definition.</p>\n\n<p>So what is wrong with the commonly accepted value for machine epsilon according to this definition? Or did I miss something? I suspect another esoteric aspect of floating-point maths, but I can't see where I went wrong...</p>\n\n<p><strong>EDIT:</strong> Thanks to the commenters, I finally got it. I actually used the wrong definition! <code>eps = Math.ulp(1.0)</code> computes the distance to the smallest representable double > <code>1.0</code>, but -- and that's the point -- that <code>eps</code> is <em>not</em> the smallest <code>x</code> with <code>1.0 + x != 1.0</code>, but rather about <em>twice</em> that value: Adding <code>1.0 + Math.nextAfter(eps/2)</code> is rounded <em>up</em> to <code>1.0 + eps</code>.</p>\n"},{"tags":["java","netty","socks5"],"owner":{"account_id":77511,"reputation":1167,"user_id":221169,"accept_rate":87,"display_name":"Arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677174670,"creation_date":1677174670,"question_id":75548540,"body_markdown":"I&#39;m currently working on a project that uses Netty&#39;s SOCKS5 implementation to proxy HTTP requests. I need to intercept and read the HTTP headers of the incoming requests to apply some custom logic.\r\n\r\nHowever, I&#39;m having trouble figuring out how to extract the HTTP headers from the incoming requests using Netty&#39;s SOCKS5 implementation. Can someone guide me on how to do this?\r\n\r\nHere&#39;s the code I&#39;m working with:\r\n\r\n    ch.pipeline().addLast(\r\n      ProxyChannelTrafficShapingHandler.PROXY_TRAFFIC,\r\n      new ProxyChannelTrafficShapingHandler(3000, proxyFlowLog, channelListener)\r\n    );\r\n    //channel\r\n    ch.pipeline().addLast(new IdleStateHandler(3, 30, 0));\r\n    ch.pipeline().addLast(new ProxyIdleHandler());\r\n    //netty\r\n    if (logging) {\r\n      ch.pipeline().addLast(new LoggingHandler());\r\n    }\r\n    \r\n    //Socks5MessagByteBuf\r\n    ch.pipeline().addLast(Socks5ServerEncoder.DEFAULT);\r\n    \r\n    //sock5 init\r\n    ch.pipeline().addLast(new Socks5InitialRequestDecoder());\r\n    \r\n    //sock5 init\r\n    ch.pipeline().addLast(new Socks5InitialRequestHandler(ProxyServer.this));\r\n    \r\n    if (isAuth()) {\r\n      //socks auth\r\n      ch.pipeline().addLast(new Socks5PasswordAuthRequestDecoder());\r\n      //socks auth\r\n      ch.pipeline().addLast(new Socks5PasswordAuthRequestHandler(getPasswordAuth()));\r\n    }\r\n    \r\n    //socks connection\r\n    ch.pipeline().addLast(new Socks5CommandRequestDecoder());\r\n    //Socks connection\r\n    \r\n    ch.pipeline().addLast(new Socks5CommandRequestHandler(ProxyServer.this.getBossGroup()));\r\n\r\n\r\nI&#39;d appreciate any help or guidance on this issue. Thank you in advance!","title":"How to read HTTP header from Netty SOCKS5 Server implementation?","body":"<p>I'm currently working on a project that uses Netty's SOCKS5 implementation to proxy HTTP requests. I need to intercept and read the HTTP headers of the incoming requests to apply some custom logic.</p>\n<p>However, I'm having trouble figuring out how to extract the HTTP headers from the incoming requests using Netty's SOCKS5 implementation. Can someone guide me on how to do this?</p>\n<p>Here's the code I'm working with:</p>\n<pre><code>ch.pipeline().addLast(\n  ProxyChannelTrafficShapingHandler.PROXY_TRAFFIC,\n  new ProxyChannelTrafficShapingHandler(3000, proxyFlowLog, channelListener)\n);\n//channel\nch.pipeline().addLast(new IdleStateHandler(3, 30, 0));\nch.pipeline().addLast(new ProxyIdleHandler());\n//netty\nif (logging) {\n  ch.pipeline().addLast(new LoggingHandler());\n}\n\n//Socks5MessagByteBuf\nch.pipeline().addLast(Socks5ServerEncoder.DEFAULT);\n\n//sock5 init\nch.pipeline().addLast(new Socks5InitialRequestDecoder());\n\n//sock5 init\nch.pipeline().addLast(new Socks5InitialRequestHandler(ProxyServer.this));\n\nif (isAuth()) {\n  //socks auth\n  ch.pipeline().addLast(new Socks5PasswordAuthRequestDecoder());\n  //socks auth\n  ch.pipeline().addLast(new Socks5PasswordAuthRequestHandler(getPasswordAuth()));\n}\n\n//socks connection\nch.pipeline().addLast(new Socks5CommandRequestDecoder());\n//Socks connection\n\nch.pipeline().addLast(new Socks5CommandRequestHandler(ProxyServer.this.getBossGroup()));\n</code></pre>\n<p>I'd appreciate any help or guidance on this issue. Thank you in advance!</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677174191,"post_id":75548200,"comment_id":133290491,"body_markdown":"Wouldn&#39;t it be sufficient to search for invocations of `System.loadLibrary` in all your jar files that make up your application? Yes, in theory code could call that reflectively, but I don&#39;t know why they&#39;d do that.","body":"Wouldn&#39;t it be sufficient to search for invocations of <code>System.loadLibrary</code> in all your jar files that make up your application? Yes, in theory code could call that reflectively, but I don&#39;t know why they&#39;d do that."},{"owner":{"account_id":27862216,"reputation":65,"user_id":21274485,"display_name":"Augustin Cayot "},"score":0,"creation_date":1677174514,"post_id":75548200,"comment_id":133290596,"body_markdown":"Ok, perhaps but help me understand your suggestion . . . my pom includes dozens of dependencies and those dependencies are jar files that get bundled with the application. . . given that I don&#39;t have access to the source code in those jar files, I&#39;m not clear how you propose to check for invocations of `System.loadLibrary` within them. Could you elaborate a bit? Thanks for the suggestion by the way.","body":"Ok, perhaps but help me understand your suggestion . . . my pom includes dozens of dependencies and those dependencies are jar files that get bundled with the application. . . given that I don&#39;t have access to the source code in those jar files, I&#39;m not clear how you propose to check for invocations of <code>System.loadLibrary</code> within them. Could you elaborate a bit? Thanks for the suggestion by the way."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677178563,"post_id":75548200,"comment_id":133291744,"body_markdown":"[Something like this](https://stackoverflow.com/questions/930289/how-can-i-find-all-the-methods-that-call-a-given-method-in-java) could quite easily search through all the libraries, but it seems you already got a better option.","body":"<a href=\"https://stackoverflow.com/questions/930289/how-can-i-find-all-the-methods-that-call-a-given-method-in-java\">Something like this</a> could quite easily search through all the libraries, but it seems you already got a better option."}],"answers":[{"comments":[{"owner":{"account_id":27862216,"reputation":65,"user_id":21274485,"display_name":"Augustin Cayot "},"score":0,"creation_date":1677174998,"post_id":75548470,"comment_id":133290757,"body_markdown":"Thanks, never heard of that. What&#39;s funny about that JVM option is that when I google it, the only result I can find is your blog post: https://jornvernee.github.io/java/panama-ffi/panama/jni/native/2021/09/13/debugging-unsatisfiedlinkerrors.html","body":"Thanks, never heard of that. What&#39;s funny about that JVM option is that when I google it, the only result I can find is your blog post: <a href=\"https://jornvernee.github.io/java/panama-ffi/panama/jni/native/2021/09/13/debugging-unsatisfiedlinkerrors.html\" rel=\"nofollow noreferrer\">jornvernee.github.io/java/panama-ffi/panama/jni/native/2021/&zwnj;&#8203;09/&hellip;</a>"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1677179002,"post_id":75548470,"comment_id":133291858,"body_markdown":"@AugustinCayot `-Xlog` is a bit of a treasure trove, but it got added in Java 9, so I think the ecosystem is still catching on. Check out `-Xlog:help` too if you&#39;re interested.","body":"@AugustinCayot <code>-Xlog</code> is a bit of a treasure trove, but it got added in Java 9, so I think the ecosystem is still catching on. Check out <code>-Xlog:help</code> too if you&#39;re interested."}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677174305,"creation_date":1677174305,"answer_id":75548470,"question_id":75548200,"body_markdown":"You can use the `-Xlog:library=trace` VM flag to print out information about libraries that are loaded and symbol lookups. For instance:\r\n\r\n    &gt; java &#39;-Xlog:library=info&#39; Main\r\n    [0.011s][info][library] Loaded library jsvml.dll, handle 0x00007ffbd4ab0000\r\n    [0.052s][info][library] Failed to find _JNI_OnLoad_jimage@8 in library with handle 0x00007ff6a9610000\r\n    [0.052s][info][library] Failed to find JNI_OnLoad_jimage in library with handle 0x00007ff6a9610000\r\n    [0.053s][info][library] Loaded library C:\\Program Files\\Java\\jdk-17\\bin\\jimage.dll, handle 0x00007ffbfd960000\r\n    [0.053s][info][library] Failed to find _JNI_OnLoad@8 in library with handle 0x00007ffbfd960000\r\n    [0.053s][info][library] Failed to find JNI_OnLoad in library with handle 0x00007ffbfd960000\r\n    [0.054s][info][library] Found Java_jdk_internal_jimage_NativeImageBuffer_getNativeMap in library with handle 0x00007ffbfd960000","title":"How to find native libraries in a JDK 17 application that are used via JNI?","body":"<p>You can use the <code>-Xlog:library=trace</code> VM flag to print out information about libraries that are loaded and symbol lookups. For instance:</p>\n<pre><code>&gt; java '-Xlog:library=info' Main\n[0.011s][info][library] Loaded library jsvml.dll, handle 0x00007ffbd4ab0000\n[0.052s][info][library] Failed to find _JNI_OnLoad_jimage@8 in library with handle 0x00007ff6a9610000\n[0.052s][info][library] Failed to find JNI_OnLoad_jimage in library with handle 0x00007ff6a9610000\n[0.053s][info][library] Loaded library C:\\Program Files\\Java\\jdk-17\\bin\\jimage.dll, handle 0x00007ffbfd960000\n[0.053s][info][library] Failed to find _JNI_OnLoad@8 in library with handle 0x00007ffbfd960000\n[0.053s][info][library] Failed to find JNI_OnLoad in library with handle 0x00007ffbfd960000\n[0.054s][info][library] Found Java_jdk_internal_jimage_NativeImageBuffer_getNativeMap in library with handle 0x00007ffbfd960000\n</code></pre>\n"}],"owner":{"account_id":27862216,"reputation":65,"user_id":21274485,"display_name":"Augustin Cayot "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75548470,"answer_count":1,"score":2,"last_activity_date":1677174305,"creation_date":1677172704,"question_id":75548200,"body_markdown":"I have profiled my Java application and know that it contains a memory leak in native code but not in the application&#39;s own Java source code. I&#39;m trying to identify the dependency or dependencies that might be at fault.\r\n\r\nBack in earlier versions of the JDK, you could find native libraries in a Java app with something like this:\r\n\r\n```\r\npublic class ClassScope {\r\n    private static final java.lang.reflect.Field LIBRARIES;\r\n    static {\r\n        LIBRARIES = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\r\n        LIBRARIES.setAccessible(true);\r\n    }\r\n    public static String[] getLoadedLibraries(final ClassLoader loader) {\r\n        final Vector&lt;String&gt; libraries = (Vector&lt;String&gt;) LIBRARIES.get(loader);\r\n        return libraries.toArray(new String[] {});\r\n    }\r\n}\r\n\r\nfinal String[] libraries = ClassScope.getLoadedClasses(ClassLoader.getSystemClassLoader()); \r\n\r\n```\r\n\r\nHowever, if you try this on JDKs after 9, you get warned that this access will be revoked from Java 12 om:\r\n\r\n```\r\n\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by &lt;class&gt; (file:&lt;file&gt;) to method|constructor\r\nWARNING: Please consider reporting this to the maintainers of &lt;file&gt;\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n```\r\n\r\nAnd in JDK 17 the field has been removed completely:\r\n\r\n```\r\nNo field loadedLibraryNames in class Ljava/lang/ClassLoader;\r\n\r\n```\r\n\r\nSo, in a JDK 17 app, what options are there to identify native libraries used via JNI?","title":"How to find native libraries in a JDK 17 application that are used via JNI?","body":"<p>I have profiled my Java application and know that it contains a memory leak in native code but not in the application's own Java source code. I'm trying to identify the dependency or dependencies that might be at fault.</p>\n<p>Back in earlier versions of the JDK, you could find native libraries in a Java app with something like this:</p>\n<pre><code>public class ClassScope {\n    private static final java.lang.reflect.Field LIBRARIES;\n    static {\n        LIBRARIES = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\n        LIBRARIES.setAccessible(true);\n    }\n    public static String[] getLoadedLibraries(final ClassLoader loader) {\n        final Vector&lt;String&gt; libraries = (Vector&lt;String&gt;) LIBRARIES.get(loader);\n        return libraries.toArray(new String[] {});\n    }\n}\n\nfinal String[] libraries = ClassScope.getLoadedClasses(ClassLoader.getSystemClassLoader()); \n\n</code></pre>\n<p>However, if you try this on JDKs after 9, you get warned that this access will be revoked from Java 12 om:</p>\n<pre><code>\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by &lt;class&gt; (file:&lt;file&gt;) to method|constructor\nWARNING: Please consider reporting this to the maintainers of &lt;file&gt;\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n\n</code></pre>\n<p>And in JDK 17 the field has been removed completely:</p>\n<pre><code>No field loadedLibraryNames in class Ljava/lang/ClassLoader;\n\n</code></pre>\n<p>So, in a JDK 17 app, what options are there to identify native libraries used via JNI?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677174274,"post_id":75548355,"comment_id":133290518,"body_markdown":"Files should be external to the application and configured via preferences, env or CLI vars, etc.","body":"Files should be external to the application and configured via preferences, env or CLI vars, etc."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677173968,"creation_date":1677173968,"answer_id":75548404,"question_id":75548355,"body_markdown":"You cannot write to a file inside the JAR.\r\n\r\nSorry.\r\n\r\nWrite to some other directory, like a temp dir.","title":"Maven project won&#39;t write to file in JAR","body":"<p>You cannot write to a file inside the JAR.</p>\n<p>Sorry.</p>\n<p>Write to some other directory, like a temp dir.</p>\n"}],"owner":{"account_id":27860530,"reputation":3,"user_id":21273180,"display_name":"Valloyd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677173968,"creation_date":1677173669,"question_id":75548355,"body_markdown":"I write a method to write to a file. It works when running the program in the IDE but not when it&#39;s a JAR file, because apparently JARs are ZIPs.\r\nHow do I get around this and write to the file in a JAR?\r\n\r\nThe code below has a method for writing content to the file and another method to read the content. The reading works but writing does not.\r\n\r\nThe contents written to the file will be read and printed. the test2() method is simply to show if the test() method worked.\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Main mainTest = new Main();\r\n        mainTest.test(&quot;hello world&quot;);\r\n        System.out.println(mainTest.test2());\r\n    }\r\n\r\n    private void test(String text) {\r\n        File file = new File(Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;test.txt&quot;)).getPath());\r\n\r\n        try (\r\n                FileWriter fileWriter = new FileWriter(file);\r\n                BufferedWriter bufferedWriter = new BufferedWriter(fileWriter)\r\n        ) {\r\n            bufferedWriter.write(text);\r\n        } catch (IOException e) {\r\n            e.getMessage();\r\n        }\r\n    }\r\n\r\n    private String test2() {\r\n        try (\r\n                InputStream file = getClass().getClassLoader().getResourceAsStream(&quot;test.txt&quot;);\r\n                Scanner scanner = new Scanner(file)\r\n        ) {\r\n            String line = &quot;&quot;;\r\n\r\n            while (scanner.hasNextLine()) {\r\n                line = scanner.nextLine();\r\n            }\r\n\r\n            return line;\r\n        } catch (IOException e) {\r\n            e.getMessage();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n","title":"Maven project won&#39;t write to file in JAR","body":"<p>I write a method to write to a file. It works when running the program in the IDE but not when it's a JAR file, because apparently JARs are ZIPs.\nHow do I get around this and write to the file in a JAR?</p>\n<p>The code below has a method for writing content to the file and another method to read the content. The reading works but writing does not.</p>\n<p>The contents written to the file will be read and printed. the test2() method is simply to show if the test() method worked.</p>\n<pre><code>import java.io.*;\nimport java.util.Objects;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Main mainTest = new Main();\n        mainTest.test(&quot;hello world&quot;);\n        System.out.println(mainTest.test2());\n    }\n\n    private void test(String text) {\n        File file = new File(Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;test.txt&quot;)).getPath());\n\n        try (\n                FileWriter fileWriter = new FileWriter(file);\n                BufferedWriter bufferedWriter = new BufferedWriter(fileWriter)\n        ) {\n            bufferedWriter.write(text);\n        } catch (IOException e) {\n            e.getMessage();\n        }\n    }\n\n    private String test2() {\n        try (\n                InputStream file = getClass().getClassLoader().getResourceAsStream(&quot;test.txt&quot;);\n                Scanner scanner = new Scanner(file)\n        ) {\n            String line = &quot;&quot;;\n\n            while (scanner.hasNextLine()) {\n                line = scanner.nextLine();\n            }\n\n            return line;\n        } catch (IOException e) {\n            e.getMessage();\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":27679285,"reputation":48,"user_id":21128393,"display_name":"Jason Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677173875,"creation_date":1677173875,"answer_id":75548390,"question_id":75466358,"body_markdown":"Seems like you are giving the path without the keyword &quot;file&quot; in it. Just add the following and it should be able to refer to your file if it exists on the path...\r\n\r\n            SparkConf sc = new SparkConf().setMaster(master)\r\n                                      .set(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Dlog4j.configuration=file:/app/spark/conf/log4j.properties&quot;)\r\n                                      .set(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Dlog4j.configuration=file:/app/spark/conf/log4j.properties&quot;)","title":"Spark application unable to read custom log4j.properties","body":"<p>Seems like you are giving the path without the keyword &quot;file&quot; in it. Just add the following and it should be able to refer to your file if it exists on the path...</p>\n<pre><code>        SparkConf sc = new SparkConf().setMaster(master)\n                                  .set(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Dlog4j.configuration=file:/app/spark/conf/log4j.properties&quot;)\n                                  .set(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Dlog4j.configuration=file:/app/spark/conf/log4j.properties&quot;)\n</code></pre>\n"}],"owner":{"account_id":13648285,"reputation":99,"user_id":9846841,"display_name":"Meet Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75548390,"answer_count":1,"score":1,"last_activity_date":1677173875,"creation_date":1676503456,"question_id":75466358,"body_markdown":"I have been at this for several days now, my objective is simple. \r\n\r\nI am setting up a `SparkConf()` object inside a Java Application and I need to specify a custom path to the log4j.properties file. The application is meant to run on a Spark Worker which has the custom `log4j.properties` file required. \r\n\r\nIt seems like my Spark configuration is unable to find this and is using the default file. \r\n\r\n\r\n\r\n\r\nI have added the log4j.properties file in several places inside the worker pod like :`/app/spark/conf/log4j.properties`. But it doesn&#39;t seem to work. \r\n\r\nHere&#39;s how I&#39;m trying to set the custom path:\r\n\r\n\r\n```\r\n        SparkConf sc = new SparkConf().setMaster(master)\r\n                                      .set(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Dlog4j.configuration=/app/spark/conf/log4j.properties&quot;)\r\n                                      .set(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Dlog4j.configuration=/app/spark/conf/log4j.properties&quot;)\r\n```\r\n\r\nThe last two statements are currently having no effect on the Spark Configuration. Any idea what&#39;s wrong with this? Is something missing on my end?\r\n\r\nHelp...\r\n","title":"Spark application unable to read custom log4j.properties","body":"<p>I have been at this for several days now, my objective is simple.</p>\n<p>I am setting up a <code>SparkConf()</code> object inside a Java Application and I need to specify a custom path to the log4j.properties file. The application is meant to run on a Spark Worker which has the custom <code>log4j.properties</code> file required.</p>\n<p>It seems like my Spark configuration is unable to find this and is using the default file.</p>\n<p>I have added the log4j.properties file in several places inside the worker pod like :<code>/app/spark/conf/log4j.properties</code>. But it doesn't seem to work.</p>\n<p>Here's how I'm trying to set the custom path:</p>\n<pre><code>        SparkConf sc = new SparkConf().setMaster(master)\n                                      .set(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Dlog4j.configuration=/app/spark/conf/log4j.properties&quot;)\n                                      .set(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Dlog4j.configuration=/app/spark/conf/log4j.properties&quot;)\n</code></pre>\n<p>The last two statements are currently having no effect on the Spark Configuration. Any idea what's wrong with this? Is something missing on my end?</p>\n<p>Help...</p>\n"},{"tags":["java","spring-boot","maven","openshift"],"answers":[{"tags":[],"owner":{"account_id":3236626,"reputation":729,"user_id":2730665,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677173792,"creation_date":1677173792,"answer_id":75548383,"question_id":75546767,"body_markdown":"Found out there was an issue with the service configuration. It was not linked to the pod. The deployment config needed to be referenced in the service yml.","title":"502 Bad Gateway when deploying and running Spring Maven app within Openshift","body":"<p>Found out there was an issue with the service configuration. It was not linked to the pod. The deployment config needed to be referenced in the service yml.</p>\n"}],"owner":{"account_id":3236626,"reputation":729,"user_id":2730665,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677173792,"creation_date":1677165409,"question_id":75546767,"body_markdown":"Generic Hello world Spring Maven application using Java 17\r\n\r\nDockerfile\r\n```\r\nfrom amazoncorretto:17-alpine-jdk as application-builder\r\n#copy project\r\nRUN mkdir /project\r\nCOPY . /project\r\nRUN apk add maven\r\n#get project and package it up\r\nWORKDIR /project\r\nRUN mvn clean package\r\n\r\nfrom amazoncorretto:17-alpine-jdk as application-runner\r\nCOPY --from=application-builder /project/target/colosseo-api-toolbelt-0.0.1-SNAPSHOT.jar /project/target/colosseo-api-toolbelt-0.0.1-SNAPSHOT.jar\r\nEXPOSE 8080\r\nCMD [&quot;java&quot;,&quot;-jar&quot;,&quot;/project/target/colosseo-api-toolbelt-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nLink to the public repo to assist in determining issues\r\nhttps://github.com/Epooch/spring-hello-world-maven.git\r\n\r\nI can build the docker image locally and run it successfully.\r\n\r\nWhen deploying to openshift \r\n\r\n```\r\ndocker build -t spring-hello-world-maven .\r\n\r\noc project $OC_PROJECT\r\nOC_PATCH_STATUS=$(oc patch deploymentconfig spring-hello-world-maven -p &quot;{\\&quot;spec\\&quot;:{\\&quot;template\\&quot;:{\\&quot;spec\\&quot;:{\\&quot;containers\\&quot;:[{\\&quot;name\\&quot;:\\&quot;spring-hello-world-maven\\&quot;,\\&quot;image\\&quot;: \\&quot;spring-hello-world-maven\\&quot;}]}}}}&quot;)\r\necho $OC_PATCH_STATUS\r\nif [[ &quot;$OC_PATCH_STATUS&quot; == *&quot;not patched&quot; ]]; then\r\n oc rollout latest dc/$SELECTOR\r\n oc rollout status dc/$SELECTOR\r\nfi\r\noc logout\r\n```\r\n\r\nWhen we view the logs of the running pod it is showing the successfully deployed spring application. However when navigating to the URL it is returning &quot;502 Bad Gateway&quot;.\r\n\r\nI do not have a lot of experience with Openshift so trying to understand were things may have slipped in the configuration.","title":"502 Bad Gateway when deploying and running Spring Maven app within Openshift","body":"<p>Generic Hello world Spring Maven application using Java 17</p>\n<p>Dockerfile</p>\n<pre><code>from amazoncorretto:17-alpine-jdk as application-builder\n#copy project\nRUN mkdir /project\nCOPY . /project\nRUN apk add maven\n#get project and package it up\nWORKDIR /project\nRUN mvn clean package\n\nfrom amazoncorretto:17-alpine-jdk as application-runner\nCOPY --from=application-builder /project/target/colosseo-api-toolbelt-0.0.1-SNAPSHOT.jar /project/target/colosseo-api-toolbelt-0.0.1-SNAPSHOT.jar\nEXPOSE 8080\nCMD [&quot;java&quot;,&quot;-jar&quot;,&quot;/project/target/colosseo-api-toolbelt-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>Link to the public repo to assist in determining issues\n<a href=\"https://github.com/Epooch/spring-hello-world-maven.git\" rel=\"nofollow noreferrer\">https://github.com/Epooch/spring-hello-world-maven.git</a></p>\n<p>I can build the docker image locally and run it successfully.</p>\n<p>When deploying to openshift</p>\n<pre><code>docker build -t spring-hello-world-maven .\n\noc project $OC_PROJECT\nOC_PATCH_STATUS=$(oc patch deploymentconfig spring-hello-world-maven -p &quot;{\\&quot;spec\\&quot;:{\\&quot;template\\&quot;:{\\&quot;spec\\&quot;:{\\&quot;containers\\&quot;:[{\\&quot;name\\&quot;:\\&quot;spring-hello-world-maven\\&quot;,\\&quot;image\\&quot;: \\&quot;spring-hello-world-maven\\&quot;}]}}}}&quot;)\necho $OC_PATCH_STATUS\nif [[ &quot;$OC_PATCH_STATUS&quot; == *&quot;not patched&quot; ]]; then\n oc rollout latest dc/$SELECTOR\n oc rollout status dc/$SELECTOR\nfi\noc logout\n</code></pre>\n<p>When we view the logs of the running pod it is showing the successfully deployed spring application. However when navigating to the URL it is returning &quot;502 Bad Gateway&quot;.</p>\n<p>I do not have a lot of experience with Openshift so trying to understand were things may have slipped in the configuration.</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"comments":[{"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"score":0,"creation_date":1677175098,"post_id":75548346,"comment_id":133290777,"body_markdown":"My issue here is, the UnexpectedRollbackException is not thrown by hibernate but by the proxy around my repository","body":"My issue here is, the UnexpectedRollbackException is not thrown by hibernate but by the proxy around my repository"}],"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677173644,"creation_date":1677173644,"answer_id":75548346,"question_id":75547755,"body_markdown":"In general, marking the transaction as rollback-only is the expected behavior in case of a runtime exception occurring during a transactional method. The purpose of the transactional annotation is to provide a consistent and atomic execution of a set of database operations, and if an error occurs, it&#39;s usually safer to roll back the transaction and start over rather than continuing with potentially inconsistent data.\r\n\r\nHowever, if you want to avoid the UnexpectedRollbackException being thrown, one possible solution would be to catch the exception in your calling code and handle it there. \r\nFor example:\r\n\r\n    public List&lt;Object&gt; someMethod() {\r\n      try {\r\n        return repository.hasData2();\r\n      } catch (UnexpectedRollbackException e) {\r\n        // handle the exception and return an empty collection\r\n        return Collections.emptyList();\r\n      }\r\n    }\r\n\r\nAnother option would be to configure Spring to treat the UnexpectedRollbackException as a non-fatal exception, which would prevent it from being propagated to the calling code. You can do this by adding the following to your Spring configuration:\r\n\r\n    &lt;bean id=&quot;transactionAttributeSource&quot; class=&quot;org.springframework.transaction.annotation.AnnotationTransactionAttributeSource&quot;/&gt;\r\n    &lt;bean id=&quot;transactionInterceptor&quot; class=&quot;org.springframework.transaction.interceptor.TransactionInterceptor&quot;&gt;\r\n      &lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot;/&gt;\r\n      &lt;property name=&quot;transactionAttributeSource&quot; ref=&quot;transactionAttributeSource&quot;/&gt;\r\n      &lt;property name=&quot;rollbackOn&quot; value=&quot;RuntimeException&quot;/&gt;\r\n      &lt;property name=&quot;nonTransactionalMethod&quot; value=&quot;readOnly&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    &lt;aop:config&gt;\r\n      &lt;aop:advisor advice-ref=&quot;transactionInterceptor&quot; pointcut=&quot;execution(* com.example.*.*(..))&quot;/&gt;\r\n    &lt;/aop:config&gt;\r\n\r\nThis configuration will cause the transaction to be rolled back only if a RuntimeException is thrown explicitly (such as by calling throw new RuntimeException()), rather than for all runtime exceptions including the UnexpectedRollbackException.","title":"How to handle Exceptions in Repository?","body":"<p>In general, marking the transaction as rollback-only is the expected behavior in case of a runtime exception occurring during a transactional method. The purpose of the transactional annotation is to provide a consistent and atomic execution of a set of database operations, and if an error occurs, it's usually safer to roll back the transaction and start over rather than continuing with potentially inconsistent data.</p>\n<p>However, if you want to avoid the UnexpectedRollbackException being thrown, one possible solution would be to catch the exception in your calling code and handle it there.\nFor example:</p>\n<pre><code>public List&lt;Object&gt; someMethod() {\n  try {\n    return repository.hasData2();\n  } catch (UnexpectedRollbackException e) {\n    // handle the exception and return an empty collection\n    return Collections.emptyList();\n  }\n}\n</code></pre>\n<p>Another option would be to configure Spring to treat the UnexpectedRollbackException as a non-fatal exception, which would prevent it from being propagated to the calling code. You can do this by adding the following to your Spring configuration:</p>\n<pre><code>&lt;bean id=&quot;transactionAttributeSource&quot; class=&quot;org.springframework.transaction.annotation.AnnotationTransactionAttributeSource&quot;/&gt;\n&lt;bean id=&quot;transactionInterceptor&quot; class=&quot;org.springframework.transaction.interceptor.TransactionInterceptor&quot;&gt;\n  &lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot;/&gt;\n  &lt;property name=&quot;transactionAttributeSource&quot; ref=&quot;transactionAttributeSource&quot;/&gt;\n  &lt;property name=&quot;rollbackOn&quot; value=&quot;RuntimeException&quot;/&gt;\n  &lt;property name=&quot;nonTransactionalMethod&quot; value=&quot;readOnly&quot;/&gt;\n&lt;/bean&gt;\n&lt;aop:config&gt;\n  &lt;aop:advisor advice-ref=&quot;transactionInterceptor&quot; pointcut=&quot;execution(* com.example.*.*(..))&quot;/&gt;\n&lt;/aop:config&gt;\n</code></pre>\n<p>This configuration will cause the transaction to be rolled back only if a RuntimeException is thrown explicitly (such as by calling throw new RuntimeException()), rather than for all runtime exceptions including the UnexpectedRollbackException.</p>\n"}],"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677173644,"creation_date":1677170355,"question_id":75547755,"body_markdown":"Using Spring 5.3 I have a repository\r\n\r\n    @Transactional(TransactionMode.REQUIRES_NEW)\r\n    public class Repository {\r\n      public List&lt;Object&gt; hasData() {\r\n        ...\r\n        return entityManager.createQuery(query).getResultList();\r\n      }\r\n    }\r\n\r\nThis method is called quite frequently and the database connection has to be assumed as non-reliable. So the code has to consider the possibility, the query fails because the database connection is closed. The desired behavior in this case is to return an empty `Collection`.\r\n\r\nI have wrapped the call within the repo like\r\n\r\n    @Transactional(TransactionMode.REQUIRES_NEW)\r\n    public class Repository {\r\n      public List&lt;Object&gt; hasData2() {\r\n        try {\r\n          return hasData();\r\n        } catch (RuntimeException e) {\r\n          // do some logging\r\n        }\r\n      }\r\n\r\n\r\n      public List&lt;Object&gt; hasData() {\r\n        ...\r\n        return entityManager.createQuery(query).getResultList();\r\n      }\r\n    }\r\n\r\nHowever, when the hibernate call fails, hibernate marks the connection as read-only. Consequently, the spring code closing the transaction will fail with an `UnexpectedRollbackException`. \r\n\r\nMy next step is either wrapping this `Repository` into a second one, only concerned catching the `UnexpectedRollbackException` or by wrapping every call of this repository.\r\n\r\nBoth solutions seem wrong somehow.\r\n\r\nIs there any way to prevent Spring from throwing the `UnexpectedRollbackException` or hibernate from setting the Transaction to rollback-only? What is the pattern when a failure of the database is not an exception but an accepted state (form the POV of the caller)?","title":"How to handle Exceptions in Repository?","body":"<p>Using Spring 5.3 I have a repository</p>\n<pre><code>@Transactional(TransactionMode.REQUIRES_NEW)\npublic class Repository {\n  public List&lt;Object&gt; hasData() {\n    ...\n    return entityManager.createQuery(query).getResultList();\n  }\n}\n</code></pre>\n<p>This method is called quite frequently and the database connection has to be assumed as non-reliable. So the code has to consider the possibility, the query fails because the database connection is closed. The desired behavior in this case is to return an empty <code>Collection</code>.</p>\n<p>I have wrapped the call within the repo like</p>\n<pre><code>@Transactional(TransactionMode.REQUIRES_NEW)\npublic class Repository {\n  public List&lt;Object&gt; hasData2() {\n    try {\n      return hasData();\n    } catch (RuntimeException e) {\n      // do some logging\n    }\n  }\n\n\n  public List&lt;Object&gt; hasData() {\n    ...\n    return entityManager.createQuery(query).getResultList();\n  }\n}\n</code></pre>\n<p>However, when the hibernate call fails, hibernate marks the connection as read-only. Consequently, the spring code closing the transaction will fail with an <code>UnexpectedRollbackException</code>.</p>\n<p>My next step is either wrapping this <code>Repository</code> into a second one, only concerned catching the <code>UnexpectedRollbackException</code> or by wrapping every call of this repository.</p>\n<p>Both solutions seem wrong somehow.</p>\n<p>Is there any way to prevent Spring from throwing the <code>UnexpectedRollbackException</code> or hibernate from setting the Transaction to rollback-only? What is the pattern when a failure of the database is not an exception but an accepted state (form the POV of the caller)?</p>\n"},{"tags":["java","android","androidx","preconditions"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1677192881,"post_id":75548227,"comment_id":133295150,"body_markdown":"It looks like the Preconditions you are trying to use is deliberately set up to be used only within androidx, not by users of androidx.","body":"It looks like the Preconditions you are trying to use is deliberately set up to be used only within androidx, not by users of androidx."}],"owner":{"account_id":27862665,"reputation":1,"user_id":21274838,"display_name":"Jgoieu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677173633,"creation_date":1677172909,"question_id":75548227,"body_markdown":"```Preconditions.checkNotNull can only be called from within the same library group prefix (referenced groupId=`androidx.core` with prefix androidx from groupId=`nfc_app`)```\r\n\r\nI am getting the above error when running my app. How do I fix this. I have imported the Preconditions library from AndroidX. \r\n\r\nI used legacy libraries before, but when I switched to AndroidX ones, I get this error. ","title":"Error when calling a function from Preconditions","body":"<p><code>Preconditions.checkNotNull can only be called from within the same library group prefix (referenced groupId=`androidx.core` with prefix androidx from groupId=`nfc_app`)</code></p>\n<p>I am getting the above error when running my app. How do I fix this. I have imported the Preconditions library from AndroidX.</p>\n<p>I used legacy libraries before, but when I switched to AndroidX ones, I get this error.</p>\n"},{"tags":["java","docusignapi","docusignconnect"],"answers":[{"comments":[{"owner":{"account_id":27862690,"reputation":11,"user_id":21274859,"display_name":"LMi"},"score":0,"creation_date":1677180377,"post_id":75548335,"comment_id":133292219,"body_markdown":"in which file of quickstart should I add this code?","body":"in which file of quickstart should I add this code?"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1677190412,"post_id":75548335,"comment_id":133294663,"body_markdown":"This code is already in quickstart","body":"This code is already in quickstart"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1677190426,"post_id":75548335,"comment_id":133294666,"body_markdown":"Which code example are you using? the main/first one for embedded signing?","body":"Which code example are you using? the main/first one for embedded signing?"}],"tags":[],"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677173588,"creation_date":1677173588,"answer_id":75548335,"question_id":75548283,"body_markdown":"The file is sent as a base64 encoded string.\r\n\r\nAll you have to do is encode your file as base64.\r\n\r\nIf you got the quickstart to to work just fine, then you&#39;re 90% of the way. The file that your app is handling should be loaded into memory and then you should do the same code:\r\n\r\n    public static Document createDocument(byte[] data, String documentName, String fileExtention, String documentId) {\r\n        Document document = new Document();\r\n        document.setDocumentBase64(Base64.getEncoder().encodeToString(data));\r\n        document.setName(documentName);\r\n        document.setFileExtension(fileExtention);\r\n        document.setDocumentId(documentId);\r\n        return document;","title":"Uploading pdf file from my app to Docusign","body":"<p>The file is sent as a base64 encoded string.</p>\n<p>All you have to do is encode your file as base64.</p>\n<p>If you got the quickstart to to work just fine, then you're 90% of the way. The file that your app is handling should be loaded into memory and then you should do the same code:</p>\n<pre><code>public static Document createDocument(byte[] data, String documentName, String fileExtention, String documentId) {\n    Document document = new Document();\n    document.setDocumentBase64(Base64.getEncoder().encodeToString(data));\n    document.setName(documentName);\n    document.setFileExtension(fileExtention);\n    document.setDocumentId(documentId);\n    return document;\n</code></pre>\n"}],"owner":{"account_id":27862690,"reputation":11,"user_id":21274859,"display_name":"LMi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677173588,"creation_date":1677173285,"question_id":75548283,"body_markdown":"How to get API to upload a PDF file from my app (Java language), to the docusign?\r\n\r\nI was trying to use the Quickstart files from DocuSign but they have only static and I could not find the way to upload the pdf files from my app.","title":"Uploading pdf file from my app to Docusign","body":"<p>How to get API to upload a PDF file from my app (Java language), to the docusign?</p>\n<p>I was trying to use the Quickstart files from DocuSign but they have only static and I could not find the way to upload the pdf files from my app.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1677169134,"post_id":75547428,"comment_id":133288854,"body_markdown":"Your Runnable stores a **strong** reference to your TempFile object. Therefore, I don&#39;t see how it could be garbage collected, since the cleaner keeps a reference to the cleaning action, which, in your case, keeps a reference to the temp file.","body":"Your Runnable stores a <b>strong</b> reference to your TempFile object. Therefore, I don&#39;t see how it could be garbage collected, since the cleaner keeps a reference to the cleaning action, which, in your case, keeps a reference to the temp file."},{"owner":{"account_id":13190039,"reputation":13,"user_id":9526601,"display_name":"mike"},"score":0,"creation_date":1677170478,"post_id":75547428,"comment_id":133289298,"body_markdown":"So how to modify my TempFile2 object to delete the file using Cleaner? (using finalize() works even though it also uses a reference to the same object).","body":"So how to modify my TempFile2 object to delete the file using Cleaner? (using finalize() works even though it also uses a reference to the same object)."}],"answers":[{"comments":[{"owner":{"account_id":13190039,"reputation":13,"user_id":9526601,"display_name":"mike"},"score":0,"creation_date":1677171797,"post_id":75547691,"comment_id":133289759,"body_markdown":"Thank you Mark. This indeed works. (I read the Cleaner Java doc, but wasn&#39;t aware that I&#39;m doing what it tells not to do). Anyway, I understand now.","body":"Thank you Mark. This indeed works. (I read the Cleaner Java doc, but wasn&#39;t aware that I&#39;m doing what it tells not to do). Anyway, I understand now."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677172205,"post_id":75547691,"comment_id":133289884,"body_markdown":"BTW, the code can be shortened a few lines by declaring `CleanupFileAction` as a record (if you&#39;re using Java 16 or higher).","body":"BTW, the code can be shortened a few lines by declaring <code>CleanupFileAction</code> as a record (if you&#39;re using Java 16 or higher)."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677172964,"creation_date":1677169991,"answer_id":75547691,"question_id":75547428,"body_markdown":"You&#39;re doing exactly what the javadoc of [Cleaner][1] tells you not to do: \r\n\r\n&gt; Note that the cleaning action must not refer to the object being\r\n&gt; registered. If so, the object will not become phantom reachable and\r\n&gt; the cleaning action will not be invoked automatically.\r\n\r\nIt is not recommended to use things like lambdas or (anonymous) inner classes, because that will (or in the case of lambdas, could) retain a strong reference. That is exactly what happens here because your lambda references `this`, which is the instance of `TempFile2`. \r\n\r\nYou cannot write a direct equivalent of your old finalizer. Either consider calling `File#deleteOnExit()` in the constructor (which might be too long a delay for long running programs), or register the path as a string or `Path` in your cleanup action, and do the cleanup action with that.\r\n\r\nFor example, something like this:\r\n\r\n```java\r\npublic class TempFile2 extends File {\r\n\r\n    private static final Cleaner cleaner = Cleaner.create();\r\n\r\n    public TempFile2(String pathname) {\r\n        super(pathname);\r\n        cleaner.register(this, new CleanupFileAction(this.toPath()));\r\n    }\r\n\r\n    private static class CleanupFileAction implements Runnable {\r\n\r\n        private final Path filePath;\r\n\r\n        private CleanupFileAction(Path filePath) {\r\n            this.filePath = filePath;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                Files.deleteIfExists(filePath);\r\n            } catch (IOException ignored) {\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote that if the `Path` object created by `File.toPath` would somehow retain a reference to the original `TempFile2` instance, this wouldn&#39;t work either, but luckily that is not how `Path` and (`File#toPath()`) is implemented.\r\n\r\nAs an aside, the general advice when it comes to `Cleaner` instances, is to create only one for your application or library, and not one for each class, unless you think so many cleanup actions will get triggered by your code that a single thread is not sufficient to keep up.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/Cleaner.html","title":"Why Java Cleaner is not working in this example?","body":"<p>You're doing exactly what the javadoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/Cleaner.html\" rel=\"nofollow noreferrer\">Cleaner</a> tells you not to do:</p>\n<blockquote>\n<p>Note that the cleaning action must not refer to the object being\nregistered. If so, the object will not become phantom reachable and\nthe cleaning action will not be invoked automatically.</p>\n</blockquote>\n<p>It is not recommended to use things like lambdas or (anonymous) inner classes, because that will (or in the case of lambdas, could) retain a strong reference. That is exactly what happens here because your lambda references <code>this</code>, which is the instance of <code>TempFile2</code>.</p>\n<p>You cannot write a direct equivalent of your old finalizer. Either consider calling <code>File#deleteOnExit()</code> in the constructor (which might be too long a delay for long running programs), or register the path as a string or <code>Path</code> in your cleanup action, and do the cleanup action with that.</p>\n<p>For example, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TempFile2 extends File {\n\n    private static final Cleaner cleaner = Cleaner.create();\n\n    public TempFile2(String pathname) {\n        super(pathname);\n        cleaner.register(this, new CleanupFileAction(this.toPath()));\n    }\n\n    private static class CleanupFileAction implements Runnable {\n\n        private final Path filePath;\n\n        private CleanupFileAction(Path filePath) {\n            this.filePath = filePath;\n        }\n\n        @Override\n        public void run() {\n            try {\n                Files.deleteIfExists(filePath);\n            } catch (IOException ignored) {\n            }\n        }\n    }\n}\n</code></pre>\n<p>Note that if the <code>Path</code> object created by <code>File.toPath</code> would somehow retain a reference to the original <code>TempFile2</code> instance, this wouldn't work either, but luckily that is not how <code>Path</code> and (<code>File#toPath()</code>) is implemented.</p>\n<p>As an aside, the general advice when it comes to <code>Cleaner</code> instances, is to create only one for your application or library, and not one for each class, unless you think so many cleanup actions will get triggered by your code that a single thread is not sufficient to keep up.</p>\n"}],"owner":{"account_id":13190039,"reputation":13,"user_id":9526601,"display_name":"mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75547691,"answer_count":1,"score":0,"last_activity_date":1677172964,"creation_date":1677168767,"question_id":75547428,"body_markdown":"I&#39;m using Java 11. I have a class that uses the deprecated finalize method, and I want to start using &#39;Cleaner&#39; instead.\r\n\r\nThis is the class I use:\r\n\r\n    public class TempFile2 extends File\r\n    {\r\n        private static final Cleaner cleaner = Cleaner.create();\r\n    \r\n        public TempFile2(String pathname)\r\n        {\r\n            super(pathname);\r\n            cleaner.register(this, cleanAction());\r\n        }\r\n    \r\n        private Runnable cleanAction() {\r\n            return () -&gt; {\r\n                System.out.println(&quot;inside cleanAction&quot;);\r\n                if (this.exists())\r\n                {\r\n                    System.out.println(&quot;deleting &quot; + this.getName());\r\n                    this.delete();\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nAnd using it like so:\r\n\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        String filePath = &quot;&lt;some_path&gt;&quot;;\r\n        TempFile2 tempFile2 = new TempFile2(filePath);\r\n        tempFile2.createNewFile();\r\n        tempFile2 = null;\r\n        System.gc();\r\n        Thread.sleep(10);\r\n    }\r\n\r\nWhy is the cleanAction() method inside TempFile2 not called? (by the way, I know that System.gc() doesn&#39;t guarantee GC to run, but I know that in my example it runs since I&#39;m also monitoring with VisualVM and trigger GC from there, and verify it runs).   \r\n\r\nWhen I run the same except TempFile2 is using a finalize() method then the finalize() is called. \r\n","title":"Why Java Cleaner is not working in this example?","body":"<p>I'm using Java 11. I have a class that uses the deprecated finalize method, and I want to start using 'Cleaner' instead.</p>\n<p>This is the class I use:</p>\n<pre><code>public class TempFile2 extends File\n{\n    private static final Cleaner cleaner = Cleaner.create();\n\n    public TempFile2(String pathname)\n    {\n        super(pathname);\n        cleaner.register(this, cleanAction());\n    }\n\n    private Runnable cleanAction() {\n        return () -&gt; {\n            System.out.println(&quot;inside cleanAction&quot;);\n            if (this.exists())\n            {\n                System.out.println(&quot;deleting &quot; + this.getName());\n                this.delete();\n            }\n        };\n    }\n}\n</code></pre>\n<p>And using it like so:</p>\n<pre><code>public static void main(String[] args) throws IOException, InterruptedException {\n    String filePath = &quot;&lt;some_path&gt;&quot;;\n    TempFile2 tempFile2 = new TempFile2(filePath);\n    tempFile2.createNewFile();\n    tempFile2 = null;\n    System.gc();\n    Thread.sleep(10);\n}\n</code></pre>\n<p>Why is the cleanAction() method inside TempFile2 not called? (by the way, I know that System.gc() doesn't guarantee GC to run, but I know that in my example it runs since I'm also monitoring with VisualVM and trigger GC from there, and verify it runs).</p>\n<p>When I run the same except TempFile2 is using a finalize() method then the finalize() is called.</p>\n"},{"tags":["java","module","casting","jboss","ironjacamar"],"owner":{"account_id":1561446,"reputation":1,"user_id":1451231,"display_name":"mel bouille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677172929,"creation_date":1677172929,"question_id":75548231,"body_markdown":"I&#39;m not able with byteman 4.0.15 and JBoss EAP 7.3 to have an helper class in order to get connection from IronJacamar module, I&#39;ve encountered a NoClassDefFoundException when my helper class try to get it.\r\n\r\nhere the btm, I&#39;ve added IMPORT with the module name of ironjacamar Jboss Module\r\n\r\n```\r\nRULE WrappedDataSource getcnx\r\nCLASS org.jboss.jca.adapters.jdbc.WrapperDataSource\r\nIMPORT org.jboss.ironjacamar.jdbcadapters\r\nMETHOD getConnection()\r\nHELPER org.jboss.byteman.ConnectionHelper\r\nAT EXIT\r\nIF true\r\n       DO traceConnection($!);\r\nENDRULE\r\n```\r\n\r\nHere my helper class (package named org.jboss.byteman and packaged in bytemanhelper-0.0.1-SNAPSHOT.jar):\r\n\r\n```\r\npackage org.jboss.byteman;\r\n\r\nimport org.jboss.byteman.rule.Rule;\r\nimport org.jboss.byteman.rule.helper.Helper;\r\nimport org.jboss.jca.adapters.jdbc.jdk8.WrappedConnectionJDK8;\r\n\r\nimport java.sql.SQLException;\r\n\r\npublic class ConnectionHelper  extends Helper {\r\n\r\n    protected ConnectionHelper(Rule rule) {\r\n        super(rule);\r\n    }\r\n\r\n    public void traceConnection(final Object connection) {\r\n            try {\r\n                System.out.println(&quot;Real connexion =&quot; + ((WrappedConnectionJDK8)connection).getUnderlyingConnection());\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve added the following properties to JBoss EAP:\r\n\r\n```\r\n -Djboss.modules.system.pkgs=org.jboss.byteman -javaagent:/var/byteman-download-4.0.15/lib/byteman.jar=script:/var/bytemanrules.btm,sys:/var/bytemanhelper-0.0.1-SNAPSHOT.jar,sys:/var/byteman-download-4.0.15/contrib/jboss-modules-system/byteman-jboss-modules-plugin.jar,modules:org.jboss.byteman.modules.jbossmodules.JBossModulesSystem  -Dorg.jboss.byteman.transform.all=true \r\n```\r\n\r\nBut when traceConnection method is executing\r\n\r\n```\r\n((WrappedConnectionJDK8)connection).getUnderlyingConnection()\r\n```\r\n\r\nI&#39;ve got a java.lang.NoClassDefFoundError: org/jboss/jca/adapters/jdbc/jdk8/WrappedConnectionJDK8\r\nwhile this class is present in ironjacamar-jdbc-1.4.30.Final-redhat-00001.jar stored in JBoss Module org.jboss.ironjacamar.jdbcadapters.\r\n\r\nIs there a way to intercept and handle JBoss module classes whit byteman rules?\r\n\r\nPierre","title":"Byteman and JBoss Module","body":"<p>I'm not able with byteman 4.0.15 and JBoss EAP 7.3 to have an helper class in order to get connection from IronJacamar module, I've encountered a NoClassDefFoundException when my helper class try to get it.</p>\n<p>here the btm, I've added IMPORT with the module name of ironjacamar Jboss Module</p>\n<pre><code>RULE WrappedDataSource getcnx\nCLASS org.jboss.jca.adapters.jdbc.WrapperDataSource\nIMPORT org.jboss.ironjacamar.jdbcadapters\nMETHOD getConnection()\nHELPER org.jboss.byteman.ConnectionHelper\nAT EXIT\nIF true\n       DO traceConnection($!);\nENDRULE\n</code></pre>\n<p>Here my helper class (package named org.jboss.byteman and packaged in bytemanhelper-0.0.1-SNAPSHOT.jar):</p>\n<pre><code>package org.jboss.byteman;\n\nimport org.jboss.byteman.rule.Rule;\nimport org.jboss.byteman.rule.helper.Helper;\nimport org.jboss.jca.adapters.jdbc.jdk8.WrappedConnectionJDK8;\n\nimport java.sql.SQLException;\n\npublic class ConnectionHelper  extends Helper {\n\n    protected ConnectionHelper(Rule rule) {\n        super(rule);\n    }\n\n    public void traceConnection(final Object connection) {\n            try {\n                System.out.println(&quot;Real connexion =&quot; + ((WrappedConnectionJDK8)connection).getUnderlyingConnection());\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n<p>I've added the following properties to JBoss EAP:</p>\n<pre><code> -Djboss.modules.system.pkgs=org.jboss.byteman -javaagent:/var/byteman-download-4.0.15/lib/byteman.jar=script:/var/bytemanrules.btm,sys:/var/bytemanhelper-0.0.1-SNAPSHOT.jar,sys:/var/byteman-download-4.0.15/contrib/jboss-modules-system/byteman-jboss-modules-plugin.jar,modules:org.jboss.byteman.modules.jbossmodules.JBossModulesSystem  -Dorg.jboss.byteman.transform.all=true \n</code></pre>\n<p>But when traceConnection method is executing</p>\n<pre><code>((WrappedConnectionJDK8)connection).getUnderlyingConnection()\n</code></pre>\n<p>I've got a java.lang.NoClassDefFoundError: org/jboss/jca/adapters/jdbc/jdk8/WrappedConnectionJDK8\nwhile this class is present in ironjacamar-jdbc-1.4.30.Final-redhat-00001.jar stored in JBoss Module org.jboss.ironjacamar.jdbcadapters.</p>\n<p>Is there a way to intercept and handle JBoss module classes whit byteman rules?</p>\n<p>Pierre</p>\n"},{"tags":["java"],"owner":{"account_id":27582406,"reputation":9,"user_id":21051325,"display_name":"ukasz K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677171827,"answer_count":0,"score":0,"last_activity_date":1677172890,"creation_date":1677171235,"question_id":75547920,"body_markdown":"When adding items using the while loop to the List, it is possible to interrupt it by clicking &quot;q&quot;. Unfortunately, it does not display all elements of this List. Every second item is displayed and not always the letter &quot;q&quot; will work the first time.\r\n\r\nThanks for any help in solving this problem.\r\n\r\n```\r\n// ListOfStudents class:\r\n\r\npackage collections;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class ListOfStudents {\r\n    private List&lt;String&gt; names;\r\n\r\n    public ListOfStudents() {\r\n        System.out.println(&quot;Enter students name or press &#39;q&#39; to quit: &quot;);\r\n        this.names = listOfStudents();\r\n    }\r\n\r\n    private List&lt;String&gt; listOfStudents() {\r\n\r\n        names = new ArrayList&lt;&gt;();\r\n\r\n        while (!getName().equals(&quot;q&quot;)) {\r\n            names.add(getName());\r\n        }\r\n\r\n        for (String s : names) {\r\n            System.out.println(s + &quot; &quot;);\r\n        }\r\n        return names;\r\n    }\r\n\r\n    private String getName() {\r\n        Scanner in = new Scanner(System.in);\r\n        return in.nextLine();\r\n    }\r\n}\r\n\r\n\r\n// Main class:\r\n\r\npackage collections;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ListOfStudents listOfStudents = new ListOfStudents();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried changing the loop to a for loop and setting the number of iterations to 5 and it works. I wanted to be able to set this List to any length, so I use a while loop.","title":"What should be the condition for stopping the while loop to finish adding items to the List?","body":"<p>When adding items using the while loop to the List, it is possible to interrupt it by clicking &quot;q&quot;. Unfortunately, it does not display all elements of this List. Every second item is displayed and not always the letter &quot;q&quot; will work the first time.</p>\n<p>Thanks for any help in solving this problem.</p>\n<pre><code>// ListOfStudents class:\n\npackage collections;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class ListOfStudents {\n    private List&lt;String&gt; names;\n\n    public ListOfStudents() {\n        System.out.println(&quot;Enter students name or press 'q' to quit: &quot;);\n        this.names = listOfStudents();\n    }\n\n    private List&lt;String&gt; listOfStudents() {\n\n        names = new ArrayList&lt;&gt;();\n\n        while (!getName().equals(&quot;q&quot;)) {\n            names.add(getName());\n        }\n\n        for (String s : names) {\n            System.out.println(s + &quot; &quot;);\n        }\n        return names;\n    }\n\n    private String getName() {\n        Scanner in = new Scanner(System.in);\n        return in.nextLine();\n    }\n}\n\n\n// Main class:\n\npackage collections;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        ListOfStudents listOfStudents = new ListOfStudents();\n\n    }\n}\n</code></pre>\n<p>I tried changing the loop to a for loop and setting the number of iterations to 5 and it works. I wanted to be able to set this List to any length, so I use a while loop.</p>\n"},{"tags":["java","class","object","types","integer"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1523624556,"post_id":49817663,"comment_id":86649792,"body_markdown":"&quot;*[...] `int` is an object of class CLASS [...]*&quot; - No. the `Class` instance returned by `int.class` is an instance of `Class`, representing the type of `int`. Primitives are not objects, they are no reference-types.","body":"&quot;<i>[...] <code>int</code> is an object of class CLASS [...]</i>&quot; - No. the <code>Class</code> instance returned by <code>int.class</code> is an instance of <code>Class</code>, representing the type of <code>int</code>. Primitives are not objects, they are no reference-types."},{"owner":{"account_id":2330814,"reputation":504,"user_id":2044296,"accept_rate":24,"display_name":"user2044296"},"score":0,"creation_date":1523624749,"post_id":49817663,"comment_id":86649907,"body_markdown":"fine, then what is &quot;int&quot; if it is neither CLASS nor OBJECT?","body":"fine, then what is &quot;int&quot; if it is neither CLASS nor OBJECT?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523624882,"post_id":49817663,"comment_id":86649988,"body_markdown":"Read [&#167;4 of the JLS](https://docs.oracle.com/javase/specs/jls/se9/html/jls-4.html). All types are defined there. Primitives (`boolean`, `byte`, `char`, `short`, `int`, `long`, `float` and `double` ) are primitives.","body":"Read <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-4.html\" rel=\"nofollow noreferrer\">&#167;4 of the JLS</a>. All types are defined there. Primitives (<code>boolean</code>, <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code> and <code>double</code> ) are primitives."},{"owner":{"account_id":2330814,"reputation":504,"user_id":2044296,"accept_rate":24,"display_name":"user2044296"},"score":0,"creation_date":1523625287,"post_id":49817663,"comment_id":86650227,"body_markdown":"The link(&#167;4 of the JLS) says int is primitive that is known to me so should I assume that on primitive data type .class holds an exception because it can only be used with class name and int is not a class name but a primitive data type?","body":"The link(&#167;4 of the JLS) says int is primitive that is known to me so should I assume that on primitive data type .class holds an exception because it can only be used with class name and int is not a class name but a primitive data type?"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523625340,"post_id":49817663,"comment_id":86650267,"body_markdown":"It is unclear since you ask in comment what is `int` but in the question you ask what is `int.class`. Make your choice please.","body":"It is unclear since you ask in comment what is <code>int</code> but in the question you ask what is <code>int.class</code>. Make your choice please."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1523625519,"post_id":49817663,"comment_id":86650405,"body_markdown":"Please look at [@Andrew &#39;s answer](https://stackoverflow.com/a/49817822/4216641). He cited the corresponding JLS section defining `Class` literals there.","body":"Please look at <a href=\"https://stackoverflow.com/a/49817822/4216641\">@Andrew &#39;s answer</a>. He cited the corresponding JLS section defining <code>Class</code> literals there."}],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523625072,"creation_date":1523624527,"answer_id":49817701,"question_id":49817663,"body_markdown":"This is because of [Class&lt;T&gt;][1] all primitives have this. Like said in the document. \r\n\r\n&gt; The primitive Java types (boolean, byte, char, short, int, long,\r\n&gt; float, and double), and the keyword void are also represented as Class\r\n&gt; objects.\r\n\r\nThis is useful for reflection. That is why you can use int.class and all primitives types. So all primitives have a class... Even if they  are primitives. Kind of confusing but useful in reflection for knowing if it is a `int.class or a Integer.class`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/Class.html","title":"In Java, a primitive data type like &quot;int&quot; a class or an object?","body":"<p>This is because of <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a> all primitives have this. Like said in the document. </p>\n\n<blockquote>\n  <p>The primitive Java types (boolean, byte, char, short, int, long,\n  float, and double), and the keyword void are also represented as Class\n  objects.</p>\n</blockquote>\n\n<p>This is useful for reflection. That is why you can use int.class and all primitives types. So all primitives have a class... Even if they  are primitives. Kind of confusing but useful in reflection for knowing if it is a <code>int.class or a Integer.class</code></p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1523625966,"creation_date":1523624957,"answer_id":49817822,"question_id":49817663,"body_markdown":"- `int` is a numeric type.\n- `int.class` is a class literal.\n\n&gt; A class literal is an expression consisting of the name of a class, interface, array, or **primitive type**, or the pseudo-type `void`, followed by a `.` and the token class.\n&gt;\n&gt; `ClassLiteral`:\n&gt;\n&gt; - `TypeName {[ ]} . class`\n&gt; - **`NumericType {[ ]} . class`** \n&gt; - `boolean {[ ]} . class `\n&gt; - `void . class`\n&gt; \n&gt; &lt;sup&gt;[JLS 10 - 15.8.2. Class Literals][1]&lt;/sup&gt;\n\nMoreover, \n\n    Class&lt;Integer&gt; intClass = int.class;\n\naccording to \n\n&gt; The type of `p.class`, where p is the name of a primitive type ([&#167;4.2][2]), is `Class&lt;B&gt;`, where `B` is the type of an expression of type `p` after boxing conversion ([&#167;5.1.7][3]).\n&gt; \n&gt; &lt;sup&gt;[JLS 10 - 15.8.2. Class Literals][1]&lt;/sup&gt;\n\n\n  [1]: https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.8.2\n  [2]: https://docs.oracle.com/javase/specs/jls/se10/html/jls-4.html#jls-4.2\n  [3]: https://docs.oracle.com/javase/specs/jls/se10/html/jls-5.html#jls-5.1.7","title":"In Java, a primitive data type like &quot;int&quot; a class or an object?","body":"<ul>\n<li><code>int</code> is a numeric type.</li>\n<li><code>int.class</code> is a class literal.</li>\n</ul>\n<blockquote>\n<p>A class literal is an expression consisting of the name of a class, interface, array, or <strong>primitive type</strong>, or the pseudo-type <code>void</code>, followed by a <code>.</code> and the token class.</p>\n<p><code>ClassLiteral</code>:</p>\n<ul>\n<li><code>TypeName {[ ]} . class</code></li>\n<li><strong><code>NumericType {[ ]} . class</code></strong></li>\n<li><code>boolean {[ ]} . class </code></li>\n<li><code>void . class</code></li>\n</ul>\n<p><sup><a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.8.2\" rel=\"nofollow noreferrer\">JLS 10 - 15.8.2. Class Literals</a></sup></p>\n</blockquote>\n<p>Moreover,</p>\n<pre><code>Class&lt;Integer&gt; intClass = int.class;\n</code></pre>\n<p>according to</p>\n<blockquote>\n<p>The type of <code>p.class</code>, where p is the name of a primitive type (<a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-4.html#jls-4.2\" rel=\"nofollow noreferrer\">4.2</a>), is <code>Class&lt;B&gt;</code>, where <code>B</code> is the type of an expression of type <code>p</code> after boxing conversion (<a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">5.1.7</a>).</p>\n<p><sup><a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.8.2\" rel=\"nofollow noreferrer\">JLS 10 - 15.8.2. Class Literals</a></sup></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13546615,"reputation":1,"user_id":9772728,"display_name":"user9772728"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1525978854,"creation_date":1525978854,"answer_id":50279799,"question_id":49817663,"body_markdown":"Java is a strong typed language, that&#39;s why variables must\r\n\r\nto be defined before use in the program later.\r\n\r\nVariables are the buckets or the containers which reserved memory locations to store values in computer memory. \r\nWhen you create a variable you reserve some space in the memory of the computer.\r\n\r\nOn the bases of the data type of a variable, Your operating system allocates memory and store\r\nthe value in the reserved memory. \r\n\r\nThere are two data types available in Java:\r\n\r\n1) Primitive Data Types\r\n2) Reference/Object Data Types\r\n\r\nThere are eight primitives in Java:\r\n\r\nbyte (number, 1 byte)\r\nshort (number, 2 bytes)\r\nint (number, 4 bytes)\r\nlong (number, 8 bytes)\r\nfloat (float number, 4 bytes)\r\ndouble (float number, 8 bytes)\r\nchar (a character, 2 bytes)\r\nboolean (true or false, 1 byte)\r\n\r\n\r\n[Checkout the Video Tutorial for Primitive data types in java][1]\r\n\r\n\r\n  [1]: https://youtu.be/QwRLwfpUfU4","title":"In Java, a primitive data type like &quot;int&quot; a class or an object?","body":"<p>Java is a strong typed language, that's why variables must</p>\n\n<p>to be defined before use in the program later.</p>\n\n<p>Variables are the buckets or the containers which reserved memory locations to store values in computer memory. \nWhen you create a variable you reserve some space in the memory of the computer.</p>\n\n<p>On the bases of the data type of a variable, Your operating system allocates memory and store\nthe value in the reserved memory. </p>\n\n<p>There are two data types available in Java:</p>\n\n<p>1) Primitive Data Types\n2) Reference/Object Data Types</p>\n\n<p>There are eight primitives in Java:</p>\n\n<p>byte (number, 1 byte)\nshort (number, 2 bytes)\nint (number, 4 bytes)\nlong (number, 8 bytes)\nfloat (float number, 4 bytes)\ndouble (float number, 8 bytes)\nchar (a character, 2 bytes)\nboolean (true or false, 1 byte)</p>\n\n<p><a href=\"https://youtu.be/QwRLwfpUfU4\" rel=\"nofollow noreferrer\">Checkout the Video Tutorial for Primitive data types in java</a></p>\n"}],"owner":{"account_id":2330814,"reputation":504,"user_id":2044296,"accept_rate":24,"display_name":"user2044296"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49817822,"answer_count":3,"score":3,"last_activity_date":1677172461,"creation_date":1523624401,"question_id":49817663,"body_markdown":"I read that primitive Java types (`boolean`, `byte`, `char`, `short`, **`int`**, `long`, `float`, and `double`) and the keyword `void` are also represented as class `Class` objects. Then it means that `int` is an object of class `Class` then how come following statement doesn&#39;t throw error because `.class` is only used with class name?\r\n\r\n    Class c = int.class\r\n\r\n","title":"In Java, a primitive data type like &quot;int&quot; a class or an object?","body":"<p>I read that primitive Java types (<code>boolean</code>, <code>byte</code>, <code>char</code>, <code>short</code>, <strong><code>int</code></strong>, <code>long</code>, <code>float</code>, and <code>double</code>) and the keyword <code>void</code> are also represented as class <code>Class</code> objects. Then it means that <code>int</code> is an object of class <code>Class</code> then how come following statement doesn't throw error because <code>.class</code> is only used with class name?</p>\n\n<pre><code>Class c = int.class\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","gradle"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1677061246,"post_id":75530954,"comment_id":133261419,"body_markdown":"This suggests that `productRepo` is null. Without a [mre] it is impossible to diagnose this in more detail.","body":"This suggests that <code>productRepo</code> is null. Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> it is impossible to diagnose this in more detail."},{"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"score":1,"creation_date":1677062530,"post_id":75530954,"comment_id":133261778,"body_markdown":"I join @MarkRotteveel - without a minimal reproducible example, it is impossible to investigate and diagnose this in more detail. \nFor example, Spring boot 2.7.8 is not the latest version, as far as I know, Spring 3.0.0 was released on November 24th, 2022 and by now there&#39;s even 3.1.0 or even later (did you check the version of Spring Boot in your project imported dependencies?). To be safe, state the Spring Boot version in the dependency.","body":"I join @MarkRotteveel - without a minimal reproducible example, it is impossible to investigate and diagnose this in more detail.  For example, Spring boot 2.7.8 is not the latest version, as far as I know, Spring 3.0.0 was released on November 24th, 2022 and by now there&#39;s even 3.1.0 or even later (did you check the version of Spring Boot in your project imported dependencies?). To be safe, state the Spring Boot version in the dependency."},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1677085787,"post_id":75530954,"comment_id":133269392,"body_markdown":"I updated, my question. Hopefully is ok now :)","body":"I updated, my question. Hopefully is ok now :)"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677061218,"answer_count":0,"score":0,"last_activity_date":1677172352,"creation_date":1677059542,"question_id":75530954,"body_markdown":"I created a spring boot app with ```application.properties``` containing this:\r\n\r\n```spring.data.mongodb.uri=mongodb://localhost:27017/product-service```\r\n\r\nI also added a new connection in my MongoDB Compass with this URI:\r\n```mongodb://localhost:27017/product-service```\r\n\r\n\r\nBut for some reason, **I get NPE when I try to get something from the repo**.\r\n\r\nI did a little bit of research and did the following steps to fix the issue, but I couldn&#39;t solve it:\r\n 1. I verified that MongoDB is running by accesing the URI\r\n 2. I made sure that I created a database with this name &quot;product-service&quot; in MongoDB Compass.\r\n 3. When I enable MongoDB logging I see nothing related to mongo.\r\n\r\nHere are the **logs** when I try to get something from the repository:\r\n```\r\njava.lang.NullPointerException: null\r\n\tat com.emanuel.productservice.controller.ProductController.getAllProducts(ProductController.java:29) ~[main/:na]\r\n```\r\n\r\nHere is my **controller**:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;api/product&quot;)\r\n@RequiredArgsConstructor\r\npublic class ProductController {\r\n\r\n    private ProductService productService;\r\n\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;ProductResponse&gt; getAllProducts(){\r\n        return productService.getAllProducts();\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is my **service**:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class ProductService {\r\n\r\n    private final ProductRepo productRepo;\r\n\r\n    public List&lt;ProductResponse&gt; getAllProducts() {\r\n        List&lt;Product&gt; products = productRepo.findAll(); // here is the line where I get NPE\r\n        return products.stream().map(this::mapToProductResponse).collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\nHere is my **repository**:\r\n```\r\npublic interface ProductRepo extends MongoRepository&lt;Product, String&gt; {\r\n\r\n}\r\n```\r\n\r\n\r\nI have MongoDB Community Server version **6.0.4** (current) &amp; Spring Boot **2.7.8**. This is the dependency that I use in Gradle:\r\n\r\n```\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb\r\n```\r\n\r\n\r\n","title":"Can&#39;t connect to Mongo DB","body":"<p>I created a spring boot app with <code>application.properties</code> containing this:</p>\n<p><code>spring.data.mongodb.uri=mongodb://localhost:27017/product-service</code></p>\n<p>I also added a new connection in my MongoDB Compass with this URI:\n<code>mongodb://localhost:27017/product-service</code></p>\n<p>But for some reason, <strong>I get NPE when I try to get something from the repo</strong>.</p>\n<p>I did a little bit of research and did the following steps to fix the issue, but I couldn't solve it:</p>\n<ol>\n<li>I verified that MongoDB is running by accesing the URI</li>\n<li>I made sure that I created a database with this name &quot;product-service&quot; in MongoDB Compass.</li>\n<li>When I enable MongoDB logging I see nothing related to mongo.</li>\n</ol>\n<p>Here are the <strong>logs</strong> when I try to get something from the repository:</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.emanuel.productservice.controller.ProductController.getAllProducts(ProductController.java:29) ~[main/:na]\n</code></pre>\n<p>Here is my <strong>controller</strong>:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/product&quot;)\n@RequiredArgsConstructor\npublic class ProductController {\n\n    private ProductService productService;\n\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;ProductResponse&gt; getAllProducts(){\n        return productService.getAllProducts();\n    }\n\n}\n</code></pre>\n<p>Here is my <strong>service</strong>:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class ProductService {\n\n    private final ProductRepo productRepo;\n\n    public List&lt;ProductResponse&gt; getAllProducts() {\n        List&lt;Product&gt; products = productRepo.findAll(); // here is the line where I get NPE\n        return products.stream().map(this::mapToProductResponse).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>Here is my <strong>repository</strong>:</p>\n<pre><code>public interface ProductRepo extends MongoRepository&lt;Product, String&gt; {\n\n}\n</code></pre>\n<p>I have MongoDB Community Server version <strong>6.0.4</strong> (current) &amp; Spring Boot <strong>2.7.8</strong>. This is the dependency that I use in Gradle:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-data-mongodb\n</code></pre>\n"},{"tags":["java","android","qt","android-ndk","development-environment"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1597691854,"post_id":63448011,"comment_id":112211376,"body_markdown":"You might want to try using JDK 8 instead.","body":"You might want to try using JDK 8 instead."},{"owner":{"account_id":14701984,"reputation":71,"user_id":10617776,"display_name":"Denis"},"score":0,"creation_date":1597819667,"post_id":63448011,"comment_id":112254252,"body_markdown":"I tried, but as you can see in the image, is the Android SDK that is having errors, not the JDK. Replacing the JDK the Android SDK errors remained.","body":"I tried, but as you can see in the image, is the Android SDK that is having errors, not the JDK. Replacing the JDK the Android SDK errors remained."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1597820063,"post_id":63448011,"comment_id":112254425,"body_markdown":"The image shows JDK 14 being used, and the error could be a result of the Android SDK Manager requiring a specific version of the JDK.","body":"The image shows JDK 14 being used, and the error could be a result of the Android SDK Manager requiring a specific version of the JDK."},{"owner":{"account_id":14701984,"reputation":71,"user_id":10617776,"display_name":"Denis"},"score":0,"creation_date":1597830484,"post_id":63448011,"comment_id":112259154,"body_markdown":"You were right. I tried but for some unknown reason Qt was not updating to the JDK 8.\nNow it works fine! Thank you Michael!","body":"You were right. I tried but for some unknown reason Qt was not updating to the JDK 8. Now it works fine! Thank you Michael!"}],"answers":[{"tags":[],"owner":{"account_id":22363681,"reputation":23,"user_id":16579846,"display_name":"Tony 186"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658677147,"creation_date":1658677147,"answer_id":73099789,"question_id":63448011,"body_markdown":"So what I did was simply tools &gt; options &gt; device &gt; andriod, then change the JDK loction to an empty folder, then a window will pop up asking you if you want to download everything","title":"Problems in setup QT for Android apps development: &quot;SDK manager runs (requires exactly java 1.8)&quot; and &quot;Platform SDK Installed&quot;","body":"<p>So what I did was simply tools &gt; options &gt; device &gt; andriod, then change the JDK loction to an empty folder, then a window will pop up asking you if you want to download everything</p>\n"},{"tags":[],"owner":{"account_id":116725,"reputation":540,"user_id":305977,"accept_rate":79,"display_name":"Dmytro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677171828,"creation_date":1677171828,"answer_id":75548041,"question_id":63448011,"body_markdown":"I&#39;ve found the same issue.\r\n\r\nIn my case (Ubuntu 22.04, QtCreator 9.0.1) QC expected sdkmanager executable at ~/android/sdk/cmdline-tools/latest/bin/sdkmanager.\r\n\r\nI&#39;ve downloaded command line tools from https://developer.android.com/studio , copied into ~/android/sdk and moved binaries to latest/ subdirectory.\r\n\r\nSo sdkmanager was found by QC; everything started to work.","title":"Problems in setup QT for Android apps development: &quot;SDK manager runs (requires exactly java 1.8)&quot; and &quot;Platform SDK Installed&quot;","body":"<p>I've found the same issue.</p>\n<p>In my case (Ubuntu 22.04, QtCreator 9.0.1) QC expected sdkmanager executable at ~/android/sdk/cmdline-tools/latest/bin/sdkmanager.</p>\n<p>I've downloaded command line tools from <a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">https://developer.android.com/studio</a> , copied into ~/android/sdk and moved binaries to latest/ subdirectory.</p>\n<p>So sdkmanager was found by QC; everything started to work.</p>\n"}],"owner":{"account_id":14701984,"reputation":71,"user_id":10617776,"display_name":"Denis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3131,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677171828,"creation_date":1597656105,"question_id":63448011,"body_markdown":"I&#39;m trying to setup Qt creator for development of Android Apps. I followed the steps in the Qt documentation guide but these problem are occuring and I&#39;m not finding a solution.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jWNzG.png\r\n\r\n\r\nQt version installed is: 1.14,\r\nQtCreator version is: 4.11,\r\nJava version is: jre1.8.0_261,\r\nJDK version is: jdk-14.0.2,\r\nNDK version is: 21.3.6528147\r\n\r\nOS: Windows 10 home edition.\r\n\r\nI setupped the environment variables for java and jdk.\r\nWhat I need more to make it works well?\r\n\r\nThank you for your help.\r\n\r\n\r\n","title":"Problems in setup QT for Android apps development: &quot;SDK manager runs (requires exactly java 1.8)&quot; and &quot;Platform SDK Installed&quot;","body":"<p>I'm trying to setup Qt creator for development of Android Apps. I followed the steps in the Qt documentation guide but these problem are occuring and I'm not finding a solution.</p>\n<p><a href=\"https://i.stack.imgur.com/jWNzG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jWNzG.png\" alt=\"enter image description here\" /></a></p>\n<p>Qt version installed is: 1.14,\nQtCreator version is: 4.11,\nJava version is: jre1.8.0_261,\nJDK version is: jdk-14.0.2,\nNDK version is: 21.3.6528147</p>\n<p>OS: Windows 10 home edition.</p>\n<p>I setupped the environment variables for java and jdk.\nWhat I need more to make it works well?</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","spring-boot","spring-batch","itemwriter"],"comments":[{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1677171011,"post_id":75547021,"comment_id":133289478,"body_markdown":"Can you try inserting those records into a temp file and load it using native db command to load into the table?","body":"Can you try inserting those records into a temp file and load it using native db command to load into the table?"}],"answers":[{"comments":[{"owner":{"account_id":14636984,"reputation":5,"user_id":10570817,"display_name":"dandelion"},"score":1,"creation_date":1677208476,"post_id":75548024,"comment_id":133297093,"body_markdown":"Thanks for your answer, I tried to use jdbcBatchItemWriter, and the time used by this job reduced to about 3 seconds. I will test related update and delete operations again , really appreciate your answer","body":"Thanks for your answer, I tried to use jdbcBatchItemWriter, and the time used by this job reduced to about 3 seconds. I will test related update and delete operations again , really appreciate your answer"}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677171773,"creation_date":1677171773,"answer_id":75548024,"question_id":75547021,"body_markdown":"The `JpaItemWriter` delegates item writing to a JPA `EntityManager`. So the performance of the writer is bound to the performance of the JPA implementation you use. What Spring Batch does is chunking items and then calling either `entityManager.persist` or `entityManager.merge` (depending on the `usePersist` parameter).\r\n\r\nThat said, raw JDBC inserts usually perform better than JPA, but this depends on the case. You need to try both approaches and compare the results.","title":"Spring Batch JpaItemWriter performance","body":"<p>The <code>JpaItemWriter</code> delegates item writing to a JPA <code>EntityManager</code>. So the performance of the writer is bound to the performance of the JPA implementation you use. What Spring Batch does is chunking items and then calling either <code>entityManager.persist</code> or <code>entityManager.merge</code> (depending on the <code>usePersist</code> parameter).</p>\n<p>That said, raw JDBC inserts usually perform better than JPA, but this depends on the case. You need to try both approaches and compare the results.</p>\n"}],"owner":{"account_id":14636984,"reputation":5,"user_id":10570817,"display_name":"dandelion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75548024,"answer_count":1,"score":0,"last_activity_date":1677171773,"creation_date":1677166635,"question_id":75547021,"body_markdown":"I use spring batch JpaItemWriter to insert db with 11500 records(8 columns for that table), and I thought its performance will be good, but it was not as fast as I expected.\r\n11500 records took about 60 seconds with chunk size 100, then I raise the size to 10000, but it still took about 50 seconds.\r\nCould any one suggest better way to do bulk insert or update by spring batch? \r\n\r\na better way to insert or update large amount of data by spring batch","title":"Spring Batch JpaItemWriter performance","body":"<p>I use spring batch JpaItemWriter to insert db with 11500 records(8 columns for that table), and I thought its performance will be good, but it was not as fast as I expected.\n11500 records took about 60 seconds with chunk size 100, then I raise the size to 10000, but it still took about 50 seconds.\nCould any one suggest better way to do bulk insert or update by spring batch?</p>\n<p>a better way to insert or update large amount of data by spring batch</p>\n"},{"tags":["java","json","get","hashmap"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677400674,"post_id":75547587,"comment_id":133327442,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677171738,"creation_date":1677171738,"answer_id":75548019,"question_id":75547587,"body_markdown":"You can use a JSON library such as [json-simple][1]\r\n\r\n        JSONParser parser = new JSONParser();\r\n        String jsonData = &quot;{\\&quot;count\\&quot;:2,\\&quot;elements\\&quot;:[{\\&quot;firstname\\&quot;:\\&quot;XXXXXXXXXX\\&quot;,\\&quot;lastname\\&quot;:\\&quot;A22\\&quot;},{\\&quot;firstname\\&quot;:\\&quot;YYYYYYYYYY\\&quot;,\\&quot;lastname\\&quot;:\\&quot;A23\\&quot;}]}&quot;;\r\n        Object obj = parser.parse(jsonData);\r\n        // A JSON object. Key value pairs are unordered. JSONObject supports java.util.Map interface.\r\n        JSONObject jsonObject = (JSONObject) obj;\r\n        // A JSON array. JSONObject supports java.util.List interface.\r\n        JSONArray elements = (JSONArray) jsonObject.get(&quot;elements&quot;);\r\n        elements.forEach(e -&gt;{\r\n            JSONObject element = (JSONObject) e;\r\n            System.out.println(element.get(&quot;lastname&quot;));\r\n        });\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple/1.1.1","title":"Get Parameters of JSON Object or a Map&lt;String, String&gt;","body":"<p>You can use a JSON library such as <a href=\"https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple/1.1.1\" rel=\"nofollow noreferrer\">json-simple</a></p>\n<pre><code>    JSONParser parser = new JSONParser();\n    String jsonData = &quot;{\\&quot;count\\&quot;:2,\\&quot;elements\\&quot;:[{\\&quot;firstname\\&quot;:\\&quot;XXXXXXXXXX\\&quot;,\\&quot;lastname\\&quot;:\\&quot;A22\\&quot;},{\\&quot;firstname\\&quot;:\\&quot;YYYYYYYYYY\\&quot;,\\&quot;lastname\\&quot;:\\&quot;A23\\&quot;}]}&quot;;\n    Object obj = parser.parse(jsonData);\n    // A JSON object. Key value pairs are unordered. JSONObject supports java.util.Map interface.\n    JSONObject jsonObject = (JSONObject) obj;\n    // A JSON array. JSONObject supports java.util.List interface.\n    JSONArray elements = (JSONArray) jsonObject.get(&quot;elements&quot;);\n    elements.forEach(e -&gt;{\n        JSONObject element = (JSONObject) e;\n        System.out.println(element.get(&quot;lastname&quot;));\n    });\n</code></pre>\n"}],"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75548019,"answer_count":1,"score":0,"last_activity_date":1677171738,"creation_date":1677169500,"question_id":75547587,"body_markdown":"how do I get the elements like &quot;firstname&quot;, &quot;lastname&quot;, etc. If they are in this format: \r\n\r\n```\r\n{     &quot;count&quot; : 2,\r\n\r\n     &quot;elements&quot; : [\r\n\r\n         {             &quot;firstname&quot; : &quot;XXXXXXXXXX&quot;,             &quot;lastname&quot; : &quot;A22&quot;         },\r\n\r\n         {             &quot;firstname&quot; : &quot;YYYYYYYYYY&quot;,             &quot;lastname&quot; : &quot;A23&quot;         }     \r\n\r\n]\r\n\r\n}\r\n```\r\n\r\n\r\nAnd how do I get elements[0], and elements[1]?\r\nThis is because I want to validate the content in each parameter.\r\n\r\n-Important-\r\n\r\nMy elements are coming form an API in Json Format, and I parse into Map&lt;String, String&gt; so I just need a solution to either a Json format or a Map&lt;String, String&gt; format.\r\n\r\nI try using userDetails.get(&quot;elements&quot;)[1], and userDetails.get(&quot;elements&quot;).[SOMETHING] but anything worked, and I didnt get anything in the autocompletion...","title":"Get Parameters of JSON Object or a Map&lt;String, String&gt;","body":"<p>how do I get the elements like &quot;firstname&quot;, &quot;lastname&quot;, etc. If they are in this format:</p>\n<pre><code>{     &quot;count&quot; : 2,\n\n     &quot;elements&quot; : [\n\n         {             &quot;firstname&quot; : &quot;XXXXXXXXXX&quot;,             &quot;lastname&quot; : &quot;A22&quot;         },\n\n         {             &quot;firstname&quot; : &quot;YYYYYYYYYY&quot;,             &quot;lastname&quot; : &quot;A23&quot;         }     \n\n]\n\n}\n</code></pre>\n<p>And how do I get elements[0], and elements[1]?\nThis is because I want to validate the content in each parameter.</p>\n<p>-Important-</p>\n<p>My elements are coming form an API in Json Format, and I parse into Map&lt;String, String&gt; so I just need a solution to either a Json format or a Map&lt;String, String&gt; format.</p>\n<p>I try using userDetails.get(&quot;elements&quot;)[1], and userDetails.get(&quot;elements&quot;).[SOMETHING] but anything worked, and I didnt get anything in the autocompletion...</p>\n"},{"tags":["java","json","spring","spring-boot","serialization"],"comments":[{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1677168692,"post_id":75547032,"comment_id":133288716,"body_markdown":"Can you paste your code snippet?","body":"Can you paste your code snippet?"},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1677169725,"post_id":75547032,"comment_id":133289050,"body_markdown":"Can you try the following?\n\nreturn ResponseEntity.ok().body(responseDto);","body":"Can you try the following?  return ResponseEntity.ok().body(responseDto);"},{"owner":{"account_id":12283422,"reputation":345,"user_id":8964071,"display_name":"Anonymous"},"score":0,"creation_date":1677169773,"post_id":75547032,"comment_id":133289062,"body_markdown":"I have tried this. but no luck.","body":"I have tried this. but no luck."},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1677170439,"post_id":75547032,"comment_id":133289278,"body_markdown":"May I know what version of spring boot and jdk you&#39;re using? I tried it in Jdk 19 and spring boot 3.0.0 and worked fine.","body":"May I know what version of spring boot and jdk you&#39;re using? I tried it in Jdk 19 and spring boot 3.0.0 and worked fine."},{"owner":{"account_id":12283422,"reputation":345,"user_id":8964071,"display_name":"Anonymous"},"score":0,"creation_date":1677170870,"post_id":75547032,"comment_id":133289433,"body_markdown":"I guess it&#39;s not an issue with the version. I have other controllers too and those are working fine. It might be related to serialization.","body":"I guess it&#39;s not an issue with the version. I have other controllers too and those are working fine. It might be related to serialization."},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1677171253,"post_id":75547032,"comment_id":133289556,"body_markdown":"Please provide the definition of ResponseDto","body":"Please provide the definition of ResponseDto"}],"answers":[{"comments":[{"owner":{"account_id":13096170,"reputation":109,"user_id":9462050,"display_name":"S.Ashok"},"score":0,"creation_date":1677172999,"post_id":75547971,"comment_id":133290123,"body_markdown":"There could be many possibilities and its difficult to figure out with just controller class. Are fields of `ResponseDto` marked as `final` or annotated with `@NonNull`?","body":"There could be many possibilities and its difficult to figure out with just controller class. Are fields of <code>ResponseDto</code> marked as <code>final</code> or annotated with <code>@NonNull</code>?"},{"owner":{"account_id":12283422,"reputation":345,"user_id":8964071,"display_name":"Anonymous"},"score":0,"creation_date":1677173228,"post_id":75547971,"comment_id":133290186,"body_markdown":"Fields were not marked as @NonNull or final.","body":"Fields were not marked as @NonNull or final."},{"owner":{"account_id":13096170,"reputation":109,"user_id":9462050,"display_name":"S.Ashok"},"score":0,"creation_date":1677173477,"post_id":75547971,"comment_id":133290262,"body_markdown":"and are you calling `ResponseDto` constructor somewhere?","body":"and are you calling <code>ResponseDto</code> constructor somewhere?"}],"tags":[],"owner":{"account_id":12283422,"reputation":345,"user_id":8964071,"display_name":"Anonymous"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677171475,"creation_date":1677171475,"answer_id":75547971,"question_id":75547032,"body_markdown":"This is really weird. \r\n\r\nFor my response object `ResponseDto` I used lombok&#39;s `@Data` for getters and setters. But somehow during serialization those getters were not working and I really don&#39;t know why `(If someone knows, please let me know)`. \r\n\r\nThen I replaced `@Data` annotation with traditional getters and it worked. \r\n\r\n","title":"Getting Empty JSON As Response From Spring Controller","body":"<p>This is really weird.</p>\n<p>For my response object <code>ResponseDto</code> I used lombok's <code>@Data</code> for getters and setters. But somehow during serialization those getters were not working and I really don't know why <code>(If someone knows, please let me know)</code>.</p>\n<p>Then I replaced <code>@Data</code> annotation with traditional getters and it worked.</p>\n"}],"owner":{"account_id":12283422,"reputation":345,"user_id":8964071,"display_name":"Anonymous"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677171475,"creation_date":1677166662,"question_id":75547032,"body_markdown":"In of my spring controllers I am returning response body like this `return new ResponseEntity(response, HttpStatus.OK);` But I am getting `{}` as response in postman. I have added a log line just before returning response and confirmed that I have a valid response body with members set to relevant values. \r\n\r\n    @RequestMapping(value = &quot;/v2/endpoint&quot;, method = {RequestMethod.POST}, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;ResponseDto&gt; getResponse(@Valid @RequestBody Request request,\r\n                                                               @RequestHeader(name = &quot;Accept-Language&quot;, defaultValue = &quot;en&quot;) String locale,\r\n                                                               @RequestHeader(name = &quot;App-Version&quot;, required = false) Integer appVersion)  {\r\n        try {\r\n           \r\n            ResponseDto responseDto = service.getResponse(request, locale, appVersion);\r\n            log.info(&quot;responseDto : {}&quot;, responseDto);\r\n            return new ResponseEntity(responseDto, HttpStatus.OK);\r\n        }  catch (Exception ex) {\r\n            log.error(&quot;Error &quot;,  ex);\r\n            throw  ex;\r\n        }\r\n    }\r\n\r\n","title":"Getting Empty JSON As Response From Spring Controller","body":"<p>In of my spring controllers I am returning response body like this <code>return new ResponseEntity(response, HttpStatus.OK);</code> But I am getting <code>{}</code> as response in postman. I have added a log line just before returning response and confirmed that I have a valid response body with members set to relevant values.</p>\n<pre><code>@RequestMapping(value = &quot;/v2/endpoint&quot;, method = {RequestMethod.POST}, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;ResponseDto&gt; getResponse(@Valid @RequestBody Request request,\n                                                           @RequestHeader(name = &quot;Accept-Language&quot;, defaultValue = &quot;en&quot;) String locale,\n                                                           @RequestHeader(name = &quot;App-Version&quot;, required = false) Integer appVersion)  {\n    try {\n       \n        ResponseDto responseDto = service.getResponse(request, locale, appVersion);\n        log.info(&quot;responseDto : {}&quot;, responseDto);\n        return new ResponseEntity(responseDto, HttpStatus.OK);\n    }  catch (Exception ex) {\n        log.error(&quot;Error &quot;,  ex);\n        throw  ex;\n    }\n}\n</code></pre>\n"},{"tags":["java","jakarta-ee","soap","jax-ws"],"owner":{"account_id":2919038,"reputation":473,"user_id":2501711,"display_name":"user2501711"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677171421,"creation_date":1677171421,"question_id":75547956,"body_markdown":"I am writing a SOAP client using Jakarta EE with Java 17. I would like to have the generated class using wrapper style. I believe I need to do it via the binding file. But after I have configured it using `enableWrapperStyle`, it is still generating the parameters as `Holder`\r\n\r\nMaven configuration\r\n```\r\n....\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n....\r\n\r\n       &lt;plugin&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\r\n          &lt;bindingDirectory&gt;src/main/resources/wsdl&lt;/bindingDirectory&gt;\r\n          &lt;wsdlFiles&gt;\r\n            &lt;wsdlFile&gt;myService.wsdl&lt;/wsdlFile&gt;\r\n          &lt;/wsdlFiles&gt;\r\n          &lt;args&gt;\r\n            &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\r\n          &lt;/args&gt;\r\n          &lt;bindingFiles&gt;\r\n            &lt;bindingFile&gt;bindings.xml&lt;/bindingFile&gt;\r\n          &lt;/bindingFiles&gt;\r\n          &lt;packageName&gt;com.company.myService&lt;/packageName&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;wsimport&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\nbinding file\r\n```\r\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxws&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxws\r\n                      https://jakarta.ee/xml/ns/jaxws/wsdl_customizationschema_3_0.xsd&quot;\r\n          version=&quot;3.0&quot;&gt;\r\n    &lt;enableWrapperStyle&gt;true&lt;/enableWrapperStyle&gt;\r\n&lt;/bindings&gt;\r\n```\r\nBut generated the client still uses `Holder`.","title":"jaxws jakarta generate soap client","body":"<p>I am writing a SOAP client using Jakarta EE with Java 17. I would like to have the generated class using wrapper style. I believe I need to do it via the binding file. But after I have configured it using <code>enableWrapperStyle</code>, it is still generating the parameters as <code>Holder</code></p>\n<p>Maven configuration</p>\n<pre><code>....\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n....\n\n       &lt;plugin&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\n          &lt;bindingDirectory&gt;src/main/resources/wsdl&lt;/bindingDirectory&gt;\n          &lt;wsdlFiles&gt;\n            &lt;wsdlFile&gt;myService.wsdl&lt;/wsdlFile&gt;\n          &lt;/wsdlFiles&gt;\n          &lt;args&gt;\n            &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\n          &lt;/args&gt;\n          &lt;bindingFiles&gt;\n            &lt;bindingFile&gt;bindings.xml&lt;/bindingFile&gt;\n          &lt;/bindingFiles&gt;\n          &lt;packageName&gt;com.company.myService&lt;/packageName&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>binding file</p>\n<pre><code>&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxws&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxws\n                      https://jakarta.ee/xml/ns/jaxws/wsdl_customizationschema_3_0.xsd&quot;\n          version=&quot;3.0&quot;&gt;\n    &lt;enableWrapperStyle&gt;true&lt;/enableWrapperStyle&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>But generated the client still uses <code>Holder</code>.</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677192715,"post_id":75547945,"comment_id":133295110,"body_markdown":"you could access your debug info n the reactive context and pass it along the exception instead","body":"you could access your debug info n the reactive context and pass it along the exception instead"},{"owner":{"account_id":92363,"reputation":1385,"user_id":253167,"accept_rate":79,"display_name":"woezelmann"},"score":0,"creation_date":1677223065,"post_id":75547945,"comment_id":133298942,"body_markdown":"actually that&#39;s what I am doing right now, but I was hoping to decouple these two things.","body":"actually that&#39;s what I am doing right now, but I was hoping to decouple these two things."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677224415,"post_id":75547945,"comment_id":133299203,"body_markdown":"Then mention that in your question so we dont sit here and put time into something you are already doing good luck","body":"Then mention that in your question so we dont sit here and put time into something you are already doing good luck"},{"owner":{"account_id":92363,"reputation":1385,"user_id":253167,"accept_rate":79,"display_name":"woezelmann"},"score":0,"creation_date":1677229054,"post_id":75547945,"comment_id":133300319,"body_markdown":"my question is: &quot;is there a way to access the ContextView object of a Mono/Flux in an @ExceptionHandler?&quot;. NOT: &quot;how to forward additional information to @ExceptionHandler?&quot;.","body":"my question is: &quot;is there a way to access the ContextView object of a Mono/Flux in an @ExceptionHandler?&quot;. NOT: &quot;how to forward additional information to @ExceptionHandler?&quot;."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677261496,"post_id":75547945,"comment_id":133309446,"body_markdown":"Easy answer, no","body":"Easy answer, no"}],"owner":{"account_id":92363,"reputation":1385,"user_id":253167,"accept_rate":79,"display_name":"woezelmann"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677171364,"creation_date":1677171364,"question_id":75547945,"body_markdown":"is there a way to access the ContextView object of a Mono/Flux in an `@ExceptionHandler`? \r\n\r\nHere is my simplyfied code:\r\n\r\n```\r\n@RestController\r\nclass Endpoint {\r\n\r\n   @Autowired\r\n   private Service service;\r\n\r\n   @GetMapping\r\n   Mono&lt;String&gt; get() {\r\n      return service.doStuff() // this throws an exception\r\n          contextWrite(context -&gt; context.put(&quot;debug_information&quot;, &quot;XYZ&quot;));\r\n   }\r\n}\r\n```\r\n\r\nNow I would like to access the &quot;debug_information&quot; during the exception handling, in order to log it.\r\n\r\nI would like to it like this:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class ExceptionHandler {\r\n   @ExceptionHandler(Exception.class)\r\n   public Mono&lt;ResponseEntity&gt; handleException(Exception ex) {\r\n      return Mono.deferContextual(contextView -&gt; Mono.just(contextView.get(&quot;debug_information&quot;)))\r\n          .map(s -&gt; {\r\n              logger.log(s)\r\n              return ResponseEntity.status(500).build();\r\n       }  \r\n   }\r\n}\r\n```\r\n\r\nUnfortunately `@ExceptionHandler` does not allow for `Mono&lt;&gt;` as return type, so this does not work. \r\n\r\nWhat would the correct way to access `ContextView`?","title":"Access Mono/Flux Context in @ExceptionHandler","body":"<p>is there a way to access the ContextView object of a Mono/Flux in an <code>@ExceptionHandler</code>?</p>\n<p>Here is my simplyfied code:</p>\n<pre><code>@RestController\nclass Endpoint {\n\n   @Autowired\n   private Service service;\n\n   @GetMapping\n   Mono&lt;String&gt; get() {\n      return service.doStuff() // this throws an exception\n          contextWrite(context -&gt; context.put(&quot;debug_information&quot;, &quot;XYZ&quot;));\n   }\n}\n</code></pre>\n<p>Now I would like to access the &quot;debug_information&quot; during the exception handling, in order to log it.</p>\n<p>I would like to it like this:</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandler {\n   @ExceptionHandler(Exception.class)\n   public Mono&lt;ResponseEntity&gt; handleException(Exception ex) {\n      return Mono.deferContextual(contextView -&gt; Mono.just(contextView.get(&quot;debug_information&quot;)))\n          .map(s -&gt; {\n              logger.log(s)\n              return ResponseEntity.status(500).build();\n       }  \n   }\n}\n</code></pre>\n<p>Unfortunately <code>@ExceptionHandler</code> does not allow for <code>Mono&lt;&gt;</code> as return type, so this does not work.</p>\n<p>What would the correct way to access <code>ContextView</code>?</p>\n"},{"tags":["java","excel","spring","list","arraylist"],"owner":{"account_id":17552122,"reputation":1,"user_id":14384719,"display_name":"Deiby Alejandro Casta&#241;o Gomez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677171217,"creation_date":1677167192,"question_id":75547150,"body_markdown":"I am working with excel files, I need to divide these 2-dimensional arraylists by orders, if any field of an order contains an incorrect data type, the order should not be processed, but if the order has all the correct fields, the order should be processed , an order is made up of several rows in excel and also in the arraylist\r\n\r\nclass that receives the valid and invalid rows from excel (ResponseCreditNoteDTO)\r\n\r\ngeneric class that reads the excel fields and checks if any of them contain an incorrect data type (CeldaReadDTO)\r\n\r\nI expect a 2d arraylist map separated by orders with correct fields and another separate map with incorrect and correct fields (if any of the orders contains an incorrect field, the order is listed as incorrect)\r\n\r\n    public class ResponseCreditNoteDTO extends BaseDTO implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private List&lt;CreditNoteResponseDTO&gt; rejecteds;\r\n        private ArrayList&lt;ArrayList&lt;CeldaReadDTO&gt;&gt; invalids;\r\n        private ArrayList&lt;ArrayList&lt;CeldaReadDTO&gt;&gt; valids;\r\n    }\r\n    \r\n    \r\n    public class CeldaReadDTO&lt;E&gt; {\r\n        private Tipos tipo;\r\n        private E valor;\r\n        private String errorDato;\r\n        private int length = 0;\r\n        private int lengthDecimal = 0;\r\n        \r\n        \r\n        public CeldaReadDTO(E valor) {\r\n        \tthis.valor = valor;\r\n        \ttipoDato();\r\n        }\r\n        \r\n        public CeldaReadDTO(E valor, int longitudMaxima) {\r\n        \tthis.valor = valor;\r\n        \tthis.length = longitudMaxima;\r\n        \ttipoDato();\r\n        }\r\n        \r\n        public CeldaReadDTO(E valor, int longitudMaxima, String error) {\r\n        \tthis.valor = valor;\r\n        \tthis.errorDato = error;\r\n        \tthis.length = longitudMaxima;\r\n        \ttipoDato();\r\n        }\r\n        \r\n        public CeldaReadDTO(E valor, int longitudMaxima, int longitudMaximaDecimales) {\r\n        \tthis.valor = valor;\r\n        \tthis.length = longitudMaxima;\r\n        \tthis.lengthDecimal = longitudMaximaDecimales;\r\n        \ttipoDato();\r\n        }\r\n        \r\n        private void tipoDato(){\r\n        \tif (valor instanceof String)\r\n        \t\ttipo = Tipos.STRING;\r\n        \tif (valor instanceof Integer)\r\n        \t\ttipo = Tipos.ENTERO;\r\n        \tif (valor instanceof Double)\r\n        \t\ttipo = Tipos.DECIMAL;\r\n        \tif (valor instanceof Long)\r\n        \t\ttipo = Tipos.LONG;\r\n        \tif (valor instanceof Date)\r\n        \t\ttipo = Tipos.DATE;\r\n        }\r\n        \r\n        public Tipos getTipo(){\r\n        \treturn tipo;\r\n        }\r\n        \r\n        public E getValor(){\r\n        \treturn valor;\r\n        }\r\n        public void setValor(E valor) {\r\n        \tthis.valor = valor;\r\n        }\r\n        \r\n        public int getLength() {\r\n        \treturn length;\r\n        }\r\n        \r\n        public int getLengthDecimal() {\r\n        \treturn lengthDecimal;\r\n        }\r\n        \r\n        public String toString(){\r\n        \tif (valor instanceof String)\r\n        \t\treturn (String)valor;\r\n        \tif (valor instanceof Integer)\r\n        \t\treturn ((Integer)valor).toString();\r\n        \tif (valor instanceof Double)\r\n        \t\treturn ((Double)valor).toString();\r\n        \tif (valor instanceof Long)\r\n        \t\treturn ((Long)valor).toString();\r\n        \treturn null;\r\n        }\r\n        \r\n        public String getErrorDato() {\r\n        \treturn errorDato;\r\n        }\r\n        \r\n        public void setErrorDato(String errorDato) {\r\n        \tthis.errorDato = errorDato;\r\n        }\r\n    }\r\n\r\nRows valid\r\n\r\n[enter image description here](https://i.stack.imgur.com/CjqQ2.png)\r\n\r\nRows invalid\r\n\r\n[enter image description here](https://i.stack.imgur.com/9UmEU.png) \r\n\r\n[enter image description here](https://i.stack.imgur.com/ZDYoQ.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/iUISt.png)","title":"split 2d arraylist of objects by order","body":"<p>I am working with excel files, I need to divide these 2-dimensional arraylists by orders, if any field of an order contains an incorrect data type, the order should not be processed, but if the order has all the correct fields, the order should be processed , an order is made up of several rows in excel and also in the arraylist</p>\n<p>class that receives the valid and invalid rows from excel (ResponseCreditNoteDTO)</p>\n<p>generic class that reads the excel fields and checks if any of them contain an incorrect data type (CeldaReadDTO)</p>\n<p>I expect a 2d arraylist map separated by orders with correct fields and another separate map with incorrect and correct fields (if any of the orders contains an incorrect field, the order is listed as incorrect)</p>\n<pre><code>public class ResponseCreditNoteDTO extends BaseDTO implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private List&lt;CreditNoteResponseDTO&gt; rejecteds;\n    private ArrayList&lt;ArrayList&lt;CeldaReadDTO&gt;&gt; invalids;\n    private ArrayList&lt;ArrayList&lt;CeldaReadDTO&gt;&gt; valids;\n}\n\n\npublic class CeldaReadDTO&lt;E&gt; {\n    private Tipos tipo;\n    private E valor;\n    private String errorDato;\n    private int length = 0;\n    private int lengthDecimal = 0;\n    \n    \n    public CeldaReadDTO(E valor) {\n        this.valor = valor;\n        tipoDato();\n    }\n    \n    public CeldaReadDTO(E valor, int longitudMaxima) {\n        this.valor = valor;\n        this.length = longitudMaxima;\n        tipoDato();\n    }\n    \n    public CeldaReadDTO(E valor, int longitudMaxima, String error) {\n        this.valor = valor;\n        this.errorDato = error;\n        this.length = longitudMaxima;\n        tipoDato();\n    }\n    \n    public CeldaReadDTO(E valor, int longitudMaxima, int longitudMaximaDecimales) {\n        this.valor = valor;\n        this.length = longitudMaxima;\n        this.lengthDecimal = longitudMaximaDecimales;\n        tipoDato();\n    }\n    \n    private void tipoDato(){\n        if (valor instanceof String)\n            tipo = Tipos.STRING;\n        if (valor instanceof Integer)\n            tipo = Tipos.ENTERO;\n        if (valor instanceof Double)\n            tipo = Tipos.DECIMAL;\n        if (valor instanceof Long)\n            tipo = Tipos.LONG;\n        if (valor instanceof Date)\n            tipo = Tipos.DATE;\n    }\n    \n    public Tipos getTipo(){\n        return tipo;\n    }\n    \n    public E getValor(){\n        return valor;\n    }\n    public void setValor(E valor) {\n        this.valor = valor;\n    }\n    \n    public int getLength() {\n        return length;\n    }\n    \n    public int getLengthDecimal() {\n        return lengthDecimal;\n    }\n    \n    public String toString(){\n        if (valor instanceof String)\n            return (String)valor;\n        if (valor instanceof Integer)\n            return ((Integer)valor).toString();\n        if (valor instanceof Double)\n            return ((Double)valor).toString();\n        if (valor instanceof Long)\n            return ((Long)valor).toString();\n        return null;\n    }\n    \n    public String getErrorDato() {\n        return errorDato;\n    }\n    \n    public void setErrorDato(String errorDato) {\n        this.errorDato = errorDato;\n    }\n}\n</code></pre>\n<p>Rows valid</p>\n<p><a href=\"https://i.stack.imgur.com/CjqQ2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Rows invalid</p>\n<p><a href=\"https://i.stack.imgur.com/9UmEU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/ZDYoQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/iUISt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","hibernate","spring-batch","spring-data-jpa"],"comments":[{"owner":{"account_id":2069349,"reputation":5382,"user_id":1844148,"accept_rate":67,"display_name":"Dileep"},"score":0,"creation_date":1418475049,"post_id":27422560,"comment_id":43354791,"body_markdown":"I have been doing some research with the batch insert for some times. But with my limited information i can say that. You can actually send a set of Query together. But not a query will a set of information together. ie; there will be multiple insert query but the turnaround time will be less.","body":"I have been doing some research with the batch insert for some times. But with my limited information i can say that. You can actually send a set of Query together. But not a query will a set of information together. ie; there will be multiple insert query but the turnaround time will be less."}],"answers":[{"tags":[],"owner":{"account_id":1717501,"reputation":541,"user_id":1574258,"accept_rate":43,"display_name":"vikeng21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418300435,"creation_date":1418300435,"answer_id":27422766,"question_id":27422560,"body_markdown":"When you set the chunk size then your reader will send data to the writer in specified chunks. so the chunk size is what governs the actual batch update to the db in spring batch. \r\n\r\nI don&#39;t think batch_size matters as you have already setup your job for a specific chunk size for a particular step.","title":"How to bulk insert using Spring-Batch?","body":"<p>When you set the chunk size then your reader will send data to the writer in specified chunks. so the chunk size is what governs the actual batch update to the db in spring batch. </p>\n\n<p>I don't think batch_size matters as you have already setup your job for a specific chunk size for a particular step.</p>\n"},{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1418472952,"post_id":27456930,"comment_id":43354267,"body_markdown":"Yes but the question was: how can I achieve bulk updates with `hibernate` (that is used by spring-batch)?","body":"Yes but the question was: how can I achieve bulk updates with <code>hibernate</code> (that is used by spring-batch)?"},{"owner":{"account_id":51694,"reputation":1101,"user_id":1616612,"display_name":"Saifuddin Merchant"},"score":0,"creation_date":1418479671,"post_id":27456930,"comment_id":43355969,"body_markdown":"ooops ok - sorry I don&#39;t know the answer to that","body":"ooops ok - sorry I don&#39;t know the answer to that"}],"tags":[],"owner":{"account_id":51694,"reputation":1101,"user_id":1616612,"display_name":"Saifuddin Merchant"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418458970,"creation_date":1418458970,"answer_id":27456930,"question_id":27422560,"body_markdown":"You also need to use the Bulk Update query when writing to the database. Google [JDBC Bulk updates][1] for details  - so depending on how you are doing the JDBC query you will need to use the corresponding bulk update mechanism\r\n\r\n\r\n  [1]: https://www.google.co.in/search?q=jdbc%20bulk%20update&amp;ie=utf-8&amp;oe=utf-8&amp;gws_rd=cr&amp;ei=8vaLVIK2DMKVuATZv4HABA","title":"How to bulk insert using Spring-Batch?","body":"<p>You also need to use the Bulk Update query when writing to the database. Google <a href=\"https://www.google.co.in/search?q=jdbc%20bulk%20update&amp;ie=utf-8&amp;oe=utf-8&amp;gws_rd=cr&amp;ei=8vaLVIK2DMKVuATZv4HABA\" rel=\"nofollow\">JDBC Bulk updates</a> for details  - so depending on how you are doing the JDBC query you will need to use the corresponding bulk update mechanism</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1677174821,"post_id":75547911,"comment_id":133290695,"body_markdown":"Please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;","body":"Please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\" title=\"why do i need 50 reputation to comment what can i do instead\">meta.stackexchange.com/questions/214173/&hellip;</a> ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;"}],"tags":[],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677171195,"creation_date":1677171195,"answer_id":75547911,"question_id":27422560,"body_markdown":"Can you write those records into a temp file and load it using native db command to load into the table instead of Hibernate? I&#39;ve used it in the past even though we used Hibernate and found it performing very well.","title":"How to bulk insert using Spring-Batch?","body":"<p>Can you write those records into a temp file and load it using native db command to load into the table instead of Hibernate? I've used it in the past even though we used Hibernate and found it performing very well.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4754,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677171195,"creation_date":1418299791,"question_id":27422560,"body_markdown":"I&#39;m using spring-batch and spring-data-jpa to read large csv data files and persist (or update existing) entries to a postgresql db using hibernate.\r\n\r\nHow do I have to configure spring to make using of batch/bulk inserts?\r\n\r\nWhen I configure the job `step`, I set the `chunk` size accordingly:\r\n\r\n    StepBuilderFactory step;\r\n    step.chunk(10000).reader(csvReader).writer(jpaItemWriter).build();\r\n\r\nDo I further have to be concerned about the `hibernate.jdbc.batch_size` property? Do I have to also set it, maybe to the same size as the chunk size?","title":"How to bulk insert using Spring-Batch?","body":"<p>I'm using spring-batch and spring-data-jpa to read large csv data files and persist (or update existing) entries to a postgresql db using hibernate.</p>\n\n<p>How do I have to configure spring to make using of batch/bulk inserts?</p>\n\n<p>When I configure the job <code>step</code>, I set the <code>chunk</code> size accordingly:</p>\n\n<pre><code>StepBuilderFactory step;\nstep.chunk(10000).reader(csvReader).writer(jpaItemWriter).build();\n</code></pre>\n\n<p>Do I further have to be concerned about the <code>hibernate.jdbc.batch_size</code> property? Do I have to also set it, maybe to the same size as the chunk size?</p>\n"},{"tags":["java","html","forms","submit","form-submit"],"comments":[{"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":1,"creation_date":1421268750,"post_id":27952182,"comment_id":44299403,"body_markdown":"That is completely impossible.  (you can hash in JS, but the client can still see the password) You&#39;re looking at the wrong request.","body":"That is completely impossible.  (you can hash in JS, but the client can still see the password) You&#39;re looking at the wrong request."},{"owner":{"account_id":4266071,"reputation":3858,"user_id":4044139,"display_name":"Mic"},"score":1,"creation_date":1421301023,"post_id":27952182,"comment_id":44309267,"body_markdown":"SLaks is entirely correct. For facebook, filter to the request to login.php, and check out the form data there. There is a value called &quot;pass&quot;. It&#39;s obviously hashed, but it&#39;s there.","body":"SLaks is entirely correct. For facebook, filter to the request to login.php, and check out the form data there. There is a value called &quot;pass&quot;. It&#39;s obviously hashed, but it&#39;s there."},{"owner":{"account_id":5897554,"reputation":18457,"user_id":4642212,"display_name":"Sebastian Simon"},"score":0,"creation_date":1599927756,"post_id":27952182,"comment_id":112929922,"body_markdown":"Related: [Username and password stored under form data in Chrome Dev Tools](https://security.stackexchange.com/q/51186).","body":"Related: <a href=\"https://security.stackexchange.com/q/51186\">Username and password stored under form data in Chrome Dev Tools</a>."}],"answers":[{"comments":[{"owner":{"account_id":2463159,"reputation":53,"user_id":2146834,"display_name":"EMPaguia"},"score":0,"creation_date":1610798036,"post_id":52184360,"comment_id":116248429,"body_markdown":"I saw a bank website encrypted the password value when I opened the developer console, so it is really needed&#39;","body":"I saw a bank website encrypted the password value when I opened the developer console, so it is really needed&#39;"},{"owner":{"account_id":3852882,"reputation":107,"user_id":3192532,"accept_rate":67,"display_name":"Liky"},"score":2,"creation_date":1626670604,"post_id":52184360,"comment_id":120945793,"body_markdown":"Just tried this on facebook and the password is already encrypted in dev tools","body":"Just tried this on facebook and the password is already encrypted in dev tools"},{"owner":{"account_id":11460748,"reputation":2906,"user_id":8400475,"accept_rate":64,"display_name":"Gel"},"score":6,"creation_date":1662137894,"post_id":52184360,"comment_id":129944625,"body_markdown":"so this goes back to the question - how then do we encrypt it in the dev tools ?","body":"so this goes back to the question - how then do we encrypt it in the dev tools ?"}],"tags":[],"owner":{"account_id":3042039,"reputation":548,"user_id":2578791,"accept_rate":20,"display_name":"Anishnirmal"},"comment_count":3,"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1536147871,"creation_date":1536147871,"answer_id":52184360,"question_id":27952182,"body_markdown":"We cannot hide from the developer network tab or the form data shown and no one else can see once the network tab clears after a new page is loaded. Once SSL is enabled, That is when the domain is HTTPS the data transferred will be encrypted based on the SSL certificate that could be decrypted at the server end.\r\n\r\nNormally, HTTPS protocol is built on TLS/SSL to encrypt the data that is transmitted over the network and to ensure that user is being sent towards the desired site.\r\n\r\nIf you need you can check the following websites. The username and the password will be shown in the network tab.\r\n\r\n - https://www.facebook.com\r\n - https://twitter.com/login\r\n - https://www.linkedin.com\r\n\r\nHence, I hope there is no need of doing this. Anyway if you are looking for an encryption at the client end, then use public key at the client to encrypt and use a private key at the server end as well.","title":"How make the form password data hidden in Chrome developer tools network pannel when login.do submit?","body":"<p>We cannot hide from the developer network tab or the form data shown and no one else can see once the network tab clears after a new page is loaded. Once SSL is enabled, That is when the domain is HTTPS the data transferred will be encrypted based on the SSL certificate that could be decrypted at the server end.</p>\n\n<p>Normally, HTTPS protocol is built on TLS/SSL to encrypt the data that is transmitted over the network and to ensure that user is being sent towards the desired site.</p>\n\n<p>If you need you can check the following websites. The username and the password will be shown in the network tab.</p>\n\n<ul>\n<li><a href=\"https://www.facebook.com\" rel=\"noreferrer\">https://www.facebook.com</a></li>\n<li><a href=\"https://twitter.com/login\" rel=\"noreferrer\">https://twitter.com/login</a></li>\n<li><a href=\"https://www.linkedin.com\" rel=\"noreferrer\">https://www.linkedin.com</a></li>\n</ul>\n\n<p>Hence, I hope there is no need of doing this. Anyway if you are looking for an encryption at the client end, then use public key at the client to encrypt and use a private key at the server end as well.</p>\n"}],"owner":{"account_id":256655,"reputation":2301,"user_id":2968663,"display_name":"sayingu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30121,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":52184360,"answer_count":1,"score":25,"last_activity_date":1677171131,"creation_date":1421268638,"question_id":27952182,"body_markdown":"When the normal log-in in simple html form submitting,\r\nChrome Developer Tools &quot;Network&quot; panel showing form data like this\r\n\r\n![enter image description here][1]\r\n\r\n\r\nBut at the major sites like Facebook, Google...\r\nThey don&#39;t show form data in network panel like this\r\n\r\n![enter image description here][2]\r\n\r\nHow can do that? Is there any example or tutorials?\r\n\r\n  [1]: http://i.stack.imgur.com/tDDO0.png\r\n  [2]: http://i.stack.imgur.com/YVon1.png","title":"How make the form password data hidden in Chrome developer tools network pannel when login.do submit?","body":"<p>When the normal log-in in simple html form submitting,\nChrome Developer Tools \"Network\" panel showing form data like this</p>\n\n<p><img src=\"https://i.stack.imgur.com/tDDO0.png\" alt=\"enter image description here\"></p>\n\n<p>But at the major sites like Facebook, Google...\nThey don't show form data in network panel like this</p>\n\n<p><img src=\"https://i.stack.imgur.com/YVon1.png\" alt=\"enter image description here\"></p>\n\n<p>How can do that? Is there any example or tutorials?</p>\n"},{"tags":["java","wsdl","keytool"],"comments":[{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1400597344,"post_id":23761504,"comment_id":36538611,"body_markdown":"Why do you think that .cer file can be used as pkcs12 keystore?","body":"Why do you think that .cer file can be used as pkcs12 keystore?"},{"owner":{"account_id":2371261,"reputation":5701,"user_id":2075839,"accept_rate":75,"display_name":"Purus"},"score":0,"creation_date":1400598194,"post_id":23761504,"comment_id":36539271,"body_markdown":"Sorry about that. I have never used these in my career and trying out in my new projects. Still learning. Please guide me on what to be used.","body":"Sorry about that. I have never used these in my career and trying out in my new projects. Still learning. Please guide me on what to be used."},{"owner":{"account_id":2371261,"reputation":5701,"user_id":2075839,"accept_rate":75,"display_name":"Purus"},"score":0,"creation_date":1400598409,"post_id":23761504,"comment_id":36539431,"body_markdown":"This is where I referred to this approach - http://code.google.com/p/misc-utils/wiki/JavaHttpsUrl","body":"This is where I referred to this approach - <a href=\"http://code.google.com/p/misc-utils/wiki/JavaHttpsUrl\" rel=\"nofollow noreferrer\">code.google.com/p/misc-utils/wiki/JavaHttpsUrl</a>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677179331,"post_id":23761504,"comment_id":133291957,"body_markdown":"You need to import your cert (cert.crt) into a Java Key Store (jks) with the keytool utility that comes with the jdk. This is a pretty good guide but you need to work out what format your cert is (PEM, DER) - https://www.baeldung.com/java-import-cer-certificate-into-keystore. Also put how you generated the certificate  with keytool in the question","body":"You need to import your cert (cert.crt) into a Java Key Store (jks) with the keytool utility that comes with the jdk. This is a pretty good guide but you need to work out what format your cert is (PEM, DER) - <a href=\"https://www.baeldung.com/java-import-cer-certificate-into-keystore\" rel=\"nofollow noreferrer\">baeldung.com/java-import-cer-certificate-into-keystore</a>. Also put how you generated the certificate  with keytool in the question"}],"answers":[{"tags":[],"owner":{"account_id":6949511,"reputation":959,"user_id":5332575,"accept_rate":29,"display_name":"Arjun Kalidas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677171067,"creation_date":1677171067,"answer_id":75547887,"question_id":23761504,"body_markdown":"This error usually occurs when the type of certificate the service expects is different from the one you created or are requesting with. One thing to make sure first is the type of cert you want either &quot;PKCS12&quot; or &quot;JKS&quot;.\r\n\r\nIn my case instead of using the default instance, I specified &quot;JKS&quot; like below and it worked. If you use default instance, it is &quot;PKCS12&quot;.\r\n\r\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    trustStore.load(null, null);\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\r\n    FileInputStream fis = null;\r\n    FileOutputStream fos = null;\r\n\r\n    fis = new FileInputStream(&lt;your cert file&gt;);\r\n    X509Certificate certificate = (X509Certificate)cf.generateCertificate(fis);\r\n    fis.close();\r\n\r\n    trustStore.setCertificateEntry(&lt;cert name/alias&gt;, certificate);\r\n    fos = new FileOutputStream(&lt;path of the file to write to&gt;);\r\n    // &quot;changeit&quot; is the default password that is used.\r\n    trustStore.store(fos, &quot;changeit&quot;.toCharArray());\r\n    fos.close();","title":"DER input, Integer tag error when connecting WSDL in Java","body":"<p>This error usually occurs when the type of certificate the service expects is different from the one you created or are requesting with. One thing to make sure first is the type of cert you want either &quot;PKCS12&quot; or &quot;JKS&quot;.</p>\n<p>In my case instead of using the default instance, I specified &quot;JKS&quot; like below and it worked. If you use default instance, it is &quot;PKCS12&quot;.</p>\n<pre><code>KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\ntrustStore.load(null, null);\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\nFileInputStream fis = null;\nFileOutputStream fos = null;\n\nfis = new FileInputStream(&lt;your cert file&gt;);\nX509Certificate certificate = (X509Certificate)cf.generateCertificate(fis);\nfis.close();\n\ntrustStore.setCertificateEntry(&lt;cert name/alias&gt;, certificate);\nfos = new FileOutputStream(&lt;path of the file to write to&gt;);\n// &quot;changeit&quot; is the default password that is used.\ntrustStore.store(fos, &quot;changeit&quot;.toCharArray());\nfos.close();\n</code></pre>\n"}],"owner":{"account_id":2371261,"reputation":5701,"user_id":2075839,"accept_rate":75,"display_name":"Purus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677171067,"creation_date":1400593313,"question_id":23761504,"body_markdown":"I generated a certificate using keytool from a .pfx file and included in the system property as mentioned below.\r\n\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;C:\\\\cert.crt&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.KeyPassword&quot;, &quot;password&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;pkcs12&quot;);\r\n    System.setProperty(&quot;javax.net.debug&quot;, &quot;SSL&quot;);\r\n\r\nAs I have included the &quot;debug&quot; property, I get the below message in Console when I execute the required method.\r\n\r\n    keyStore is : C:\\cert.crt\r\n    keyStore type is : pkcs12\r\n    keyStore provider is : \r\n    init keystore\r\n    default context init failed: java.io.IOException: DER input, Integer tag error\r\n\r\nThe exception details are provided below. What are the things that I am doing wrong here?\r\n\r\n\r\n    java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl).\r\n    \tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.tryWithMex(RuntimeWSDLParser.java:151)\r\n    \tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:133)\r\n    \tat com.sun.xml.internal.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:234)\r\n    \tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:197)\r\n    \tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:145)\r\n    \tat com.sun.xml.internal.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:93)\r\n    \tat javax.xml.ws.Service.&lt;init&gt;(Service.java:56)\r\n    Caused by: java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl)\r\n    \tat javax.net.ssl.DefaultSSLSocketFactory.throwException(SSLSocketFactory.java:179)\r\n    \tat javax.net.ssl.DefaultSSLSocketFactory.createSocket(SSLSocketFactory.java:186)\r\n    \tat sun.net.www.protocol.https.HttpsClient.createSocket(HttpsClient.java:362)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:145)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:411)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:525)\r\n    \tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:272)\r\n    \tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:329)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:172)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:923)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:158)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1195)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:234)\r\n    \tat java.net.URL.openStream(URL.java:1010)\r\n    \tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.createReader(RuntimeWSDLParser.java:793)\r\n    \tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.resolveWSDL(RuntimeWSDLParser.java:251)\r\n    \tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:118)\r\n    \t... 10 more\r\n    Caused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl)\r\n    \tat java.security.Provider$Service.newInstance(Provider.java:1245)\r\n    \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:220)\r\n    \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:147)\r\n    \tat javax.net.ssl.SSLContext.getInstance(SSLContext.java:125)\r\n    \tat javax.net.ssl.SSLContext.getDefault(SSLContext.java:68)\r\n    \tat javax.net.ssl.SSLSocketFactory.getDefault(SSLSocketFactory.java:102)\r\n    \tat javax.net.ssl.HttpsURLConnection.getDefaultSSLSocketFactory(HttpsURLConnection.java:327)\r\n    \tat javax.net.ssl.HttpsURLConnection.&lt;init&gt;(HttpsURLConnection.java:285)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.&lt;init&gt;(HttpsURLConnectionImpl.java:65)\r\n    \tat sun.net.www.protocol.https.Handler.openConnection(Handler.java:42)\r\n    \tat sun.net.www.protocol.https.Handler.openConnection(Handler.java:37)\r\n    \tat java.net.URL.openConnection(URL.java:945)\r\n    \t... 14 more\r\n    Caused by: java.io.IOException: DER input, Integer tag error\r\n    \tat sun.security.util.DerInputStream.getInteger(DerInputStream.java:151)\r\n    \tat com.sun.net.ssl.internal.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1202)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1185)\r\n    \tat com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl.getDefaultKeyManager(DefaultSSLContextImpl.java:150)\r\n    \tat com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl.&lt;init&gt;(DefaultSSLContextImpl.java:40)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    \tat java.lang.Class.newInstance0(Class.java:357)\r\n    \tat java.lang.Class.newInstance(Class.java:310)\r\n    \tat java.security.Provider$Service.newInstance(Provider.java:1221)\r\n    \t... 25 more\r\n\r\n","title":"DER input, Integer tag error when connecting WSDL in Java","body":"<p>I generated a certificate using keytool from a .pfx file and included in the system property as mentioned below.</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.keyStore\", \"C:\\\\cert.crt\");\nSystem.setProperty(\"javax.net.ssl.KeyPassword\", \"password\");\nSystem.setProperty(\"javax.net.ssl.keyStoreType\", \"pkcs12\");\nSystem.setProperty(\"javax.net.debug\", \"SSL\");\n</code></pre>\n\n<p>As I have included the \"debug\" property, I get the below message in Console when I execute the required method.</p>\n\n<pre><code>keyStore is : C:\\cert.crt\nkeyStore type is : pkcs12\nkeyStore provider is : \ninit keystore\ndefault context init failed: java.io.IOException: DER input, Integer tag error\n</code></pre>\n\n<p>The exception details are provided below. What are the things that I am doing wrong here?</p>\n\n<pre><code>java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl).\n    at com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.tryWithMex(RuntimeWSDLParser.java:151)\n    at com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:133)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:234)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:197)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:145)\n    at com.sun.xml.internal.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:93)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:56)\nCaused by: java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl)\n    at javax.net.ssl.DefaultSSLSocketFactory.throwException(SSLSocketFactory.java:179)\n    at javax.net.ssl.DefaultSSLSocketFactory.createSocket(SSLSocketFactory.java:186)\n    at sun.net.www.protocol.https.HttpsClient.createSocket(HttpsClient.java:362)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:145)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:411)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:525)\n    at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:272)\n    at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:329)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:172)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:923)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:158)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1195)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:234)\n    at java.net.URL.openStream(URL.java:1010)\n    at com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.createReader(RuntimeWSDLParser.java:793)\n    at com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.resolveWSDL(RuntimeWSDLParser.java:251)\n    at com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:118)\n    ... 10 more\nCaused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl)\n    at java.security.Provider$Service.newInstance(Provider.java:1245)\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:220)\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:147)\n    at javax.net.ssl.SSLContext.getInstance(SSLContext.java:125)\n    at javax.net.ssl.SSLContext.getDefault(SSLContext.java:68)\n    at javax.net.ssl.SSLSocketFactory.getDefault(SSLSocketFactory.java:102)\n    at javax.net.ssl.HttpsURLConnection.getDefaultSSLSocketFactory(HttpsURLConnection.java:327)\n    at javax.net.ssl.HttpsURLConnection.&lt;init&gt;(HttpsURLConnection.java:285)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.&lt;init&gt;(HttpsURLConnectionImpl.java:65)\n    at sun.net.www.protocol.https.Handler.openConnection(Handler.java:42)\n    at sun.net.www.protocol.https.Handler.openConnection(Handler.java:37)\n    at java.net.URL.openConnection(URL.java:945)\n    ... 14 more\nCaused by: java.io.IOException: DER input, Integer tag error\n    at sun.security.util.DerInputStream.getInteger(DerInputStream.java:151)\n    at com.sun.net.ssl.internal.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1202)\n    at java.security.KeyStore.load(KeyStore.java:1185)\n    at com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl.getDefaultKeyManager(DefaultSSLContextImpl.java:150)\n    at com.sun.net.ssl.internal.ssl.DefaultSSLContextImpl.&lt;init&gt;(DefaultSSLContextImpl.java:40)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at java.lang.Class.newInstance0(Class.java:357)\n    at java.lang.Class.newInstance(Class.java:310)\n    at java.security.Provider$Service.newInstance(Provider.java:1221)\n    ... 25 more\n</code></pre>\n"},{"tags":["java","spring-boot","native","graalvm"],"owner":{"account_id":4843120,"reputation":731,"user_id":3907616,"display_name":"Yuna Braska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677171046,"creation_date":1677171046,"question_id":75547880,"body_markdown":"GraalVM documentations without Spring Boot Parent are really rare.\r\n\r\nSo i tried to reproduce what the spring boot parent is doing.\r\n\r\n\r\nHere is my Solution with i came up with: https://github.com/codespacedev/spring-boot-native-example\r\nThe important part is this:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;finalName&gt;example-spring-boot&lt;/finalName&gt;\r\n        &lt;image&gt;\r\n            &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\r\n            &lt;env&gt;\r\n                &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n            &lt;/env&gt;\r\n        &lt;/image&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;process-aot&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;process-aot&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;0.9.18&lt;/version&gt;\r\n&lt;extensions&gt;true&lt;/extensions&gt;\r\n&lt;executions&gt;\r\n    &lt;execution&gt;\r\n        &lt;id&gt;build-native&lt;/id&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;compile-no-fork&lt;/goal&gt;\r\n            &lt;goal&gt;build&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;configuration&gt;\r\n            &lt;imageName&gt;app.native&lt;/imageName&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n    &lt;execution&gt;\r\n        &lt;id&gt;add-reachability-metadata&lt;/id&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;add-reachability-metadata&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n&lt;/executions&gt;\r\n&lt;configuration&gt;\r\n    &lt;imageName&gt;app.native&lt;/imageName&gt;\r\n    &lt;buildArgs&gt;\r\n        &lt;!-- Ob == fast build --&gt;\r\n        &lt;!-- &lt;buildArg&gt;-Ob&lt;/buildArg&gt; --&gt;\r\n        &lt;buildArg&gt;--no-fallback&lt;/buildArg&gt;\r\n    &lt;/buildArgs&gt;\r\n    &lt;metadataRepository&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n    &lt;/metadataRepository&gt;\r\n&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"How to Spring Boot Native / GraalVM without Parent","body":"<p>GraalVM documentations without Spring Boot Parent are really rare.</p>\n<p>So i tried to reproduce what the spring boot parent is doing.</p>\n<p>Here is my Solution with i came up with: <a href=\"https://github.com/codespacedev/spring-boot-native-example\" rel=\"nofollow noreferrer\">https://github.com/codespacedev/spring-boot-native-example</a>\nThe important part is this:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;finalName&gt;example-spring-boot&lt;/finalName&gt;\n        &lt;image&gt;\n            &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\n            &lt;env&gt;\n                &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n            &lt;/env&gt;\n        &lt;/image&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;process-aot&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;process-aot&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;0.9.18&lt;/version&gt;\n&lt;extensions&gt;true&lt;/extensions&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;build-native&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;compile-no-fork&lt;/goal&gt;\n            &lt;goal&gt;build&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;imageName&gt;app.native&lt;/imageName&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n        &lt;id&gt;add-reachability-metadata&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;add-reachability-metadata&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;configuration&gt;\n    &lt;imageName&gt;app.native&lt;/imageName&gt;\n    &lt;buildArgs&gt;\n        &lt;!-- Ob == fast build --&gt;\n        &lt;!-- &lt;buildArg&gt;-Ob&lt;/buildArg&gt; --&gt;\n        &lt;buildArg&gt;--no-fallback&lt;/buildArg&gt;\n    &lt;/buildArgs&gt;\n    &lt;metadataRepository&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/metadataRepository&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677227162,"post_id":75547871,"comment_id":133299840,"body_markdown":"Is it possible to share sample project example for investigation?","body":"Is it possible to share sample project example for investigation?"},{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1677487225,"post_id":75547871,"comment_id":133340124,"body_markdown":"Which version of IntelliJ are you using?","body":"Which version of IntelliJ are you using?"},{"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"score":0,"creation_date":1677563888,"post_id":75547871,"comment_id":133357809,"body_markdown":"IntelliJ IDEA 2022.1.4 (Ultimate Edition)\nBuild #IU-221.6008.13, built on July 19, 2022","body":"IntelliJ IDEA 2022.1.4 (Ultimate Edition) Build #IU-221.6008.13, built on July 19, 2022"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677663641,"post_id":75547871,"comment_id":133380578,"body_markdown":"Could you please check the issue with the latest IDE version?","body":"Could you please check the issue with the latest IDE version?"},{"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"score":0,"creation_date":1678354477,"post_id":75547871,"comment_id":133517286,"body_markdown":"With latest IDE, my target classes are not identified and regular build breaks. So I dont want to upgrade that","body":"With latest IDE, my target classes are not identified and regular build breaks. So I dont want to upgrade that"}],"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677171008,"creation_date":1677171008,"question_id":75547871,"body_markdown":"I have a multi-module setup with the maven tool. When I use the IntelliJ Dependency Analyzer tool to review my pom.xml file it shows conflicts between dependent versions of 2 pom dependencies I have added. \r\n\r\nHere is the image, [![enter image description here][1]][1]\r\n\r\nFirstly, my effective pom does not have a dependency for the following artifact in question,\r\n\r\n     &lt;groupId&gt;org.checkerframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;checker-qual&lt;/artifactId&gt;\r\n\r\nAnd secondly, Postgres has scope defined as runtime and guava has default scope.\r\n\r\nMy questions are:\r\n\r\n 1. If my effective pom does not show this dependency, why is the tool showing it under conflict?\r\n 2. If the effective pom does not show the dependency, will the packaged jar file will contain these dependencies?\r\n 3. Should I resolve this by excluding the lower version of the dependency in conflict? What happens to the scope runtime here?\r\n 4. Should I even fix this if it&#39;s not in the effective pom?\r\n\r\n  [1]: https://i.stack.imgur.com/KUlmm.png","title":"Intellij Dependency Anlyzer Tool Shows conflicts that are not part of the effective pom","body":"<p>I have a multi-module setup with the maven tool. When I use the IntelliJ Dependency Analyzer tool to review my pom.xml file it shows conflicts between dependent versions of 2 pom dependencies I have added.</p>\n<p>Here is the image, <a href=\"https://i.stack.imgur.com/KUlmm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KUlmm.png\" alt=\"enter image description here\" /></a></p>\n<p>Firstly, my effective pom does not have a dependency for the following artifact in question,</p>\n<pre><code> &lt;groupId&gt;org.checkerframework&lt;/groupId&gt;\n  &lt;artifactId&gt;checker-qual&lt;/artifactId&gt;\n</code></pre>\n<p>And secondly, Postgres has scope defined as runtime and guava has default scope.</p>\n<p>My questions are:</p>\n<ol>\n<li>If my effective pom does not show this dependency, why is the tool showing it under conflict?</li>\n<li>If the effective pom does not show the dependency, will the packaged jar file will contain these dependencies?</li>\n<li>Should I resolve this by excluding the lower version of the dependency in conflict? What happens to the scope runtime here?</li>\n<li>Should I even fix this if it's not in the effective pom?</li>\n</ol>\n"},{"tags":["java","processing","pong","tetris"],"answers":[{"comments":[{"owner":{"account_id":27862163,"reputation":11,"user_id":21274447,"display_name":"cdy"},"score":0,"creation_date":1677271487,"post_id":75547806,"comment_id":133311719,"body_markdown":"Thank you for your comment! It really helped me get closer to my goal! I managed to add the pong slider, and made it controllable by left-right arrow keys. But I couldn&#39;t figure out how to make it collide with the falling pieces. \n\nRight now, the program throws the error &quot;ArrayIndexOutOfBoundsException: Index 17 out of bounds for length 9&quot;, probably because the slider is only made of 9 blocks, and doesn&#39;t have enough space to accomodate the new pieces. It might be a totally different issue though, as I&#39;m pretty new to programming.","body":"Thank you for your comment! It really helped me get closer to my goal! I managed to add the pong slider, and made it controllable by left-right arrow keys. But I couldn&#39;t figure out how to make it collide with the falling pieces.   Right now, the program throws the error &quot;ArrayIndexOutOfBoundsException: Index 17 out of bounds for length 9&quot;, probably because the slider is only made of 9 blocks, and doesn&#39;t have enough space to accomodate the new pieces. It might be a totally different issue though, as I&#39;m pretty new to programming."}],"tags":[],"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677170692,"creation_date":1677170692,"answer_id":75547806,"question_id":75547636,"body_markdown":"I&#39;m assuming this code is just Tetris right now. If so, these would be my steps for creating this game. \r\n\r\n1.  I would start by adding the pong slider at the bottom, make it follow the mouse or moveable with arrow keys. \r\n\r\n2. Then add a check for collision between the slider and falling pieces. If they collide, add the shape of the piece to the slider so they act as one.\r\n\r\n3. When a new piece is added to the slider shape, check if there is a line complete, and if so, follow the usual Tetris rules.\r\n\r\nRight now, your program is built such that a piece is added to the board and is stationary, I think you should change it so that the slider is what you are adding pieces to and have it act as one moveable graphic component. Hope that helps! ","title":"How can I add a player controlled platform that catches the tetrominoes to my Tetris code?","body":"<p>I'm assuming this code is just Tetris right now. If so, these would be my steps for creating this game.</p>\n<ol>\n<li><p>I would start by adding the pong slider at the bottom, make it follow the mouse or moveable with arrow keys.</p>\n</li>\n<li><p>Then add a check for collision between the slider and falling pieces. If they collide, add the shape of the piece to the slider so they act as one.</p>\n</li>\n<li><p>When a new piece is added to the slider shape, check if there is a line complete, and if so, follow the usual Tetris rules.</p>\n</li>\n</ol>\n<p>Right now, your program is built such that a piece is added to the board and is stationary, I think you should change it so that the slider is what you are adding pieces to and have it act as one moveable graphic component. Hope that helps!</p>\n"}],"owner":{"account_id":27862163,"reputation":11,"user_id":21274447,"display_name":"cdy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677170761,"creation_date":1677169726,"question_id":75547636,"body_markdown":"I&#39;m a student and I was given the task of creating a retro arcade game on Processing (pong, space invaders, breakout, tetris etc.) but with a twist. The twist I thought was to create a Tetris Tower Stacker, which is like Tetris but instead of controlling the falling tetrominoes, we&#39;re just catching them using a platform that we can move from left to right. This eventually leads to a tower made out of tetris pieces. [Example sketch](https://i.stack.imgur.com/nv93Z.png)\r\n\r\nI may have chosen something that&#39;s a bit too hard for my current level (mega beginner). I managed to create the tetris code by watching tutorials, and it works fine with no issues, but I&#39;m having trouble adding the platform. Even if I manage to add the platform, how will I make it collide with the pieces? I could really use some advice.\r\n\r\nHere is my code so far that is just Tetris (written in Processing):\r\n```\r\nint[][] board = new int[40][40]; // 40 columns, 40 rows\r\nint cols = 40;\r\nint rows = 40;\r\ncolor col = color(random(70, 255), random(70, 255), random(70, 255));\r\nint[][][] pieces = {\r\n  {{1, 1, 1, 1}}, // I\r\n  {{1, 1, 0}, {0, 1, 1}}, // Z\r\n  {{0, 1, 1}, {1, 1, 0}}, // S\r\n  {{1, 1}, {1, 1}}, // O\r\n  {{1, 1, 1}, {0, 1, 0}}, // T\r\n  {{0, 1, 0}, {1, 1, 1}}, // L\r\n  {{1, 0, 0}, {1, 1, 1}}   // J\r\n};\r\nint[][] currentPiece;\r\nint currentX, currentY;\r\nint score = 0;\r\nint lines = 0;\r\nint timer = 0;\r\nint level = 1;\r\n\r\nvoid setup() {\r\n  size(800, 800);\r\n  frameRate(100); //to make the game a bit faster\r\n  currentPiece = pieces[int(random(7))];\r\n  currentX = int(random(39));\r\n  currentY = 0;\r\n}\r\n\r\nvoid draw() {\r\n  background(255);\r\n  drawBoard();\r\n  drawPieceFunction();\r\n  drawText();\r\n}\r\n\r\nvoid keyPressed() {\r\n  if (keyCode == LEFT) {\r\n    if (!checkCollision(currentPiece, currentX-1, currentY)) {\r\n      currentX--;\r\n    }\r\n  } else if (keyCode == RIGHT) {\r\n    if (!checkCollision(currentPiece, currentX+1, currentY)) {\r\n      currentX++;\r\n    }\r\n  } else if (keyCode == UP) {\r\n    rotatePiece();\r\n  } else if (keyCode == DOWN) {\r\n    if (!checkCollision(currentPiece, currentX, currentY+1)) {\r\n      currentY++;\r\n    }\r\n  }\r\n}\r\n\r\nvoid drawBoard() {\r\n  for (int x = 0; x &lt; cols; x++) {\r\n    for (int y = 0; y &lt; rows; y++) {\r\n      if (board[x][y] != 0) {\r\n        fill(0);\r\n        rect(x*20, y*20, 20, 20);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nvoid drawPiece(int[][] piece, int x, int y) {\r\n  for (int px = 0; px &lt; piece.length; px++) {\r\n    for (int py = 0; py &lt; piece[0].length; py++) {\r\n      if (piece[px][py] != 0) {\r\n        fill(col);\r\n        rect((x+px)*20, (y+py)*20, 20, 20);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nboolean checkCollision(int[][] piece, int x, int y) {\r\n  for (int px = 0; px &lt; piece.length; px++) {\r\n    for (int py = 0; py &lt; piece[0].length; py++) {\r\n      if (piece[px][py] != 0) {\r\n        if (x+px &lt; 0 || x+px &gt;= cols || y+py &gt;= rows || board[x+px][y+py] != 0) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nvoid rotatePiece() {\r\n  int[][] newPiece = new int[currentPiece[0].length][currentPiece.length];\r\n  for (int x = 0; x &lt; currentPiece.length; x++) {\r\n    for (int y = 0; y &lt; currentPiece[0].length; y++) {\r\n      newPiece[y][currentPiece.length-1-x] = currentPiece[x][y];\r\n    }\r\n  }\r\n  if (!checkCollision(newPiece, currentX, currentY)) {\r\n    currentPiece = newPiece;\r\n  }\r\n}\r\n\r\nvoid addToBoard(int[][] piece, int x, int y) {\r\n  for (int px = 0; px &lt; piece.length; px++) {\r\n    for (int py = 0; py &lt; piece[0].length; py++) {\r\n      if (piece[px][py] != 0) {\r\n        board[x+px][y+py] = piece[px][py];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nvoid clearLines() {\r\n  int numLines = 0;\r\n  for (int y = 0; y &lt; rows; y++) {\r\n    boolean full = true;\r\n    for (int x = 0; x &lt; cols; x++) {\r\n      if (board[x][y] == 0) {\r\n        full = false;\r\n      }\r\n    }\r\n    if (full) {\r\n      for (int yy = y; yy &gt; 0; yy--) {\r\n        for (int x = 0; x &lt; rows; x++) {\r\n          board[x][yy] = board[x][yy-1];\r\n        }\r\n      }\r\n      numLines++;\r\n    }\r\n  }\r\n  if (numLines &gt; 0) {\r\n    score += 100*numLines*numLines;\r\n    lines += numLines;\r\n    if (lines &gt;= 10) {  // level up after 10 lines\r\n      level++;\r\n      lines -= 10;\r\n    }\r\n  }\r\n}\r\nvoid drawText() {  //draws the score, lines, level texts on the screen\r\n  textAlign(LEFT);\r\n  textSize(18);\r\n  fill(112, 128, 144);\r\n  text(&quot;Score: &quot; + score, 10, height-40);\r\n  text(&quot;Lines: &quot; + lines, 10, height-15);\r\n  text(&quot;Level: &quot; + level, width-70, height-15);\r\n}\r\n\r\nvoid drawPieceFunction() {\r\n  drawPiece(currentPiece, currentX, currentY);\r\n  if (timer % (30 - level*2) == 0) {  // speed up over time\r\n    currentY++;\r\n    if (checkCollision(currentPiece, currentX, currentY)) {  // if collision, add piece to board and start new piece\r\n      addToBoard(currentPiece, currentX, currentY-1);\r\n      clearLines();\r\n      currentPiece = pieces[int(random(7))];\r\n      currentX = int(random(39));\r\n      currentY = 0;\r\n      if (checkCollision(currentPiece, currentX, currentY)) {  // if new piece collides, game over\r\n        textSize(64);\r\n        textAlign(CENTER);\r\n        fill(112, 128, 144);\r\n        text(&quot;Game Over&quot;, width/2, height/2);\r\n        noLoop();\r\n      }\r\n    }\r\n  }\r\n  timer++;\r\n}\r\n```","title":"How can I add a player controlled platform that catches the tetrominoes to my Tetris code?","body":"<p>I'm a student and I was given the task of creating a retro arcade game on Processing (pong, space invaders, breakout, tetris etc.) but with a twist. The twist I thought was to create a Tetris Tower Stacker, which is like Tetris but instead of controlling the falling tetrominoes, we're just catching them using a platform that we can move from left to right. This eventually leads to a tower made out of tetris pieces. <a href=\"https://i.stack.imgur.com/nv93Z.png\" rel=\"nofollow noreferrer\">Example sketch</a></p>\n<p>I may have chosen something that's a bit too hard for my current level (mega beginner). I managed to create the tetris code by watching tutorials, and it works fine with no issues, but I'm having trouble adding the platform. Even if I manage to add the platform, how will I make it collide with the pieces? I could really use some advice.</p>\n<p>Here is my code so far that is just Tetris (written in Processing):</p>\n<pre><code>int[][] board = new int[40][40]; // 40 columns, 40 rows\nint cols = 40;\nint rows = 40;\ncolor col = color(random(70, 255), random(70, 255), random(70, 255));\nint[][][] pieces = {\n  {{1, 1, 1, 1}}, // I\n  {{1, 1, 0}, {0, 1, 1}}, // Z\n  {{0, 1, 1}, {1, 1, 0}}, // S\n  {{1, 1}, {1, 1}}, // O\n  {{1, 1, 1}, {0, 1, 0}}, // T\n  {{0, 1, 0}, {1, 1, 1}}, // L\n  {{1, 0, 0}, {1, 1, 1}}   // J\n};\nint[][] currentPiece;\nint currentX, currentY;\nint score = 0;\nint lines = 0;\nint timer = 0;\nint level = 1;\n\nvoid setup() {\n  size(800, 800);\n  frameRate(100); //to make the game a bit faster\n  currentPiece = pieces[int(random(7))];\n  currentX = int(random(39));\n  currentY = 0;\n}\n\nvoid draw() {\n  background(255);\n  drawBoard();\n  drawPieceFunction();\n  drawText();\n}\n\nvoid keyPressed() {\n  if (keyCode == LEFT) {\n    if (!checkCollision(currentPiece, currentX-1, currentY)) {\n      currentX--;\n    }\n  } else if (keyCode == RIGHT) {\n    if (!checkCollision(currentPiece, currentX+1, currentY)) {\n      currentX++;\n    }\n  } else if (keyCode == UP) {\n    rotatePiece();\n  } else if (keyCode == DOWN) {\n    if (!checkCollision(currentPiece, currentX, currentY+1)) {\n      currentY++;\n    }\n  }\n}\n\nvoid drawBoard() {\n  for (int x = 0; x &lt; cols; x++) {\n    for (int y = 0; y &lt; rows; y++) {\n      if (board[x][y] != 0) {\n        fill(0);\n        rect(x*20, y*20, 20, 20);\n      }\n    }\n  }\n}\n\nvoid drawPiece(int[][] piece, int x, int y) {\n  for (int px = 0; px &lt; piece.length; px++) {\n    for (int py = 0; py &lt; piece[0].length; py++) {\n      if (piece[px][py] != 0) {\n        fill(col);\n        rect((x+px)*20, (y+py)*20, 20, 20);\n      }\n    }\n  }\n}\n\nboolean checkCollision(int[][] piece, int x, int y) {\n  for (int px = 0; px &lt; piece.length; px++) {\n    for (int py = 0; py &lt; piece[0].length; py++) {\n      if (piece[px][py] != 0) {\n        if (x+px &lt; 0 || x+px &gt;= cols || y+py &gt;= rows || board[x+px][y+py] != 0) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n}\n\nvoid rotatePiece() {\n  int[][] newPiece = new int[currentPiece[0].length][currentPiece.length];\n  for (int x = 0; x &lt; currentPiece.length; x++) {\n    for (int y = 0; y &lt; currentPiece[0].length; y++) {\n      newPiece[y][currentPiece.length-1-x] = currentPiece[x][y];\n    }\n  }\n  if (!checkCollision(newPiece, currentX, currentY)) {\n    currentPiece = newPiece;\n  }\n}\n\nvoid addToBoard(int[][] piece, int x, int y) {\n  for (int px = 0; px &lt; piece.length; px++) {\n    for (int py = 0; py &lt; piece[0].length; py++) {\n      if (piece[px][py] != 0) {\n        board[x+px][y+py] = piece[px][py];\n      }\n    }\n  }\n}\n\nvoid clearLines() {\n  int numLines = 0;\n  for (int y = 0; y &lt; rows; y++) {\n    boolean full = true;\n    for (int x = 0; x &lt; cols; x++) {\n      if (board[x][y] == 0) {\n        full = false;\n      }\n    }\n    if (full) {\n      for (int yy = y; yy &gt; 0; yy--) {\n        for (int x = 0; x &lt; rows; x++) {\n          board[x][yy] = board[x][yy-1];\n        }\n      }\n      numLines++;\n    }\n  }\n  if (numLines &gt; 0) {\n    score += 100*numLines*numLines;\n    lines += numLines;\n    if (lines &gt;= 10) {  // level up after 10 lines\n      level++;\n      lines -= 10;\n    }\n  }\n}\nvoid drawText() {  //draws the score, lines, level texts on the screen\n  textAlign(LEFT);\n  textSize(18);\n  fill(112, 128, 144);\n  text(&quot;Score: &quot; + score, 10, height-40);\n  text(&quot;Lines: &quot; + lines, 10, height-15);\n  text(&quot;Level: &quot; + level, width-70, height-15);\n}\n\nvoid drawPieceFunction() {\n  drawPiece(currentPiece, currentX, currentY);\n  if (timer % (30 - level*2) == 0) {  // speed up over time\n    currentY++;\n    if (checkCollision(currentPiece, currentX, currentY)) {  // if collision, add piece to board and start new piece\n      addToBoard(currentPiece, currentX, currentY-1);\n      clearLines();\n      currentPiece = pieces[int(random(7))];\n      currentX = int(random(39));\n      currentY = 0;\n      if (checkCollision(currentPiece, currentX, currentY)) {  // if new piece collides, game over\n        textSize(64);\n        textAlign(CENTER);\n        fill(112, 128, 144);\n        text(&quot;Game Over&quot;, width/2, height/2);\n        noLoop();\n      }\n    }\n  }\n  timer++;\n}\n</code></pre>\n"},{"tags":["java","database","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1677207571,"post_id":75547822,"comment_id":133297006,"body_markdown":"There is a [`get()` call](https://firebase.google.com/docs/database/android/read-and-write#read_data_once) in Android too, but it&#39;ll still need a listener as the data is loaded asynchronously to prevent it from blocking the process. The only alternative without a listener would be to use the REST API.","body":"There is a <a href=\"https://firebase.google.com/docs/database/android/read-and-write#read_data_once\" rel=\"nofollow noreferrer\"><code>get()</code> call</a> in Android too, but it&#39;ll still need a listener as the data is loaded asynchronously to prevent it from blocking the process. The only alternative without a listener would be to use the REST API."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677227822,"post_id":75547822,"comment_id":133299981,"body_markdown":"Do you understand Kotlin? There is a solution in Kotlin in which you can read the data without the use of a listener. Please respond using @AlexMamo","body":"Do you understand Kotlin? There is a solution in Kotlin in which you can read the data without the use of a listener. Please respond using @AlexMamo"},{"owner":{"account_id":21201999,"reputation":23,"user_id":15592452,"display_name":"atesteyimateste"},"score":0,"creation_date":1677496153,"post_id":75547822,"comment_id":133342434,"body_markdown":"@AlexMamo Sadly, I have no idea about Kotlin. I suppose I will stick with Postgresql instead of Firebase.","body":"@AlexMamo Sadly, I have no idea about Kotlin. I suppose I will stick with Postgresql instead of Firebase."}],"owner":{"account_id":21201999,"reputation":23,"user_id":15592452,"display_name":"atesteyimateste"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677170743,"creation_date":1677170743,"question_id":75547822,"body_markdown":"I would like to get a String from the realtime database without any event listener. There won&#39;t be any event on the database at all so event listeners won&#39;t help me in this case. I looked for hundreds of tutorials and guides about getting data from the database but every single one of them used event listeners. \r\n\r\nI used Firebase with Python before and there was a very simple way (`user = db.child(&quot;users&quot;).get()`) of doing what I am talking about. I couldn&#39;t find a similar thing for Java and would like to know if there is any way to do so. Thanks a lot in advance!\r\n\r\n","title":"Firebase with Java / How can I get a value without an event listener?","body":"<p>I would like to get a String from the realtime database without any event listener. There won't be any event on the database at all so event listeners won't help me in this case. I looked for hundreds of tutorials and guides about getting data from the database but every single one of them used event listeners.</p>\n<p>I used Firebase with Python before and there was a very simple way (<code>user = db.child(&quot;users&quot;).get()</code>) of doing what I am talking about. I couldn't find a similar thing for Java and would like to know if there is any way to do so. Thanks a lot in advance!</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677170648,"creation_date":1677170648,"answer_id":75547797,"question_id":75547710,"body_markdown":"You can achieve that by making the mapping function itself return different result based on a condition.\r\n```\r\nStream&lt;String&gt; stream = Stream.of(&quot;aaa&quot;, &quot;aaaa&quot;, &quot;aaaaaa&quot;);\r\nstream\r\n    .map(str -&gt; str.length() &lt; 5 ? str + &quot;-short&quot; : str + &quot;-long&quot;)\r\n    .forEach(System.out::println);\r\n```","title":"Is there any way to execute intermediate operations in a stream depending on a Predicate?","body":"<p>You can achieve that by making the mapping function itself return different result based on a condition.</p>\n<pre><code>Stream&lt;String&gt; stream = Stream.of(&quot;aaa&quot;, &quot;aaaa&quot;, &quot;aaaaaa&quot;);\nstream\n    .map(str -&gt; str.length() &lt; 5 ? str + &quot;-short&quot; : str + &quot;-long&quot;)\n    .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":26939656,"reputation":11,"user_id":21217530,"display_name":"Ketterle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677170648,"creation_date":1677170107,"question_id":75547710,"body_markdown":"The question may sound way obvious, but I haven&#39;t been able to find any intermediate operations that executes on a stream depending on a Predicate. For instance, imagine we have a stream of String and we want to append &quot;-short&quot; to the string if it has less than 5 characters and &quot;-long&quot; otherwise.\r\n\r\nThe thing is that, as far as I know, I&#39;m forced to apply    .filter(Predicate\\&lt;String\\&gt; predicate)    , which makes me unable to keep the whole stream, or mapping the stream somehow:    Map\\&lt;List\\&lt;String\\&gt;    , Boolean\\&gt;\r\n\r\nIs there any way I can execute such operations depending on Predicate or some conditional structure?","title":"Is there any way to execute intermediate operations in a stream depending on a Predicate?","body":"<p>The question may sound way obvious, but I haven't been able to find any intermediate operations that executes on a stream depending on a Predicate. For instance, imagine we have a stream of String and we want to append &quot;-short&quot; to the string if it has less than 5 characters and &quot;-long&quot; otherwise.</p>\n<p>The thing is that, as far as I know, I'm forced to apply    .filter(Predicate&lt;String&gt; predicate)    , which makes me unable to keep the whole stream, or mapping the stream somehow:    Map&lt;List&lt;String&gt;    , Boolean&gt;</p>\n<p>Is there any way I can execute such operations depending on Predicate or some conditional structure?</p>\n"},{"tags":["java","maven","gatling"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677170949,"post_id":75547774,"comment_id":133289459,"body_markdown":"In what IDE? Is it a Maven project (in the IDE)? There&#39;s no generic answer since it depends on the IDE and/or your Maven setup etc.","body":"In what IDE? Is it a Maven project (in the IDE)? There&#39;s no generic answer since it depends on the IDE and/or your Maven setup etc."},{"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"score":0,"creation_date":1677175113,"post_id":75547774,"comment_id":133290781,"body_markdown":"Try this - https://github.com/gatling/gatling-maven-plugin-demo-java","body":"Try this - <a href=\"https://github.com/gatling/gatling-maven-plugin-demo-java\" rel=\"nofollow noreferrer\">github.com/gatling/gatling-maven-plugin-demo-java</a>"},{"owner":{"account_id":12246014,"reputation":357,"user_id":8937649,"display_name":"Razvan"},"score":0,"creation_date":1677178019,"post_id":75547774,"comment_id":133291628,"body_markdown":"tried, but is the same, downloading dependencies but not able to import them in classes","body":"tried, but is the same, downloading dependencies but not able to import them in classes"},{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1677183233,"post_id":75547774,"comment_id":133292983,"body_markdown":"Are you really sure you&#39;re importing the project in your IDE as a maven project?","body":"Are you really sure you&#39;re importing the project in your IDE as a maven project?"},{"owner":{"account_id":12246014,"reputation":357,"user_id":8937649,"display_name":"Razvan"},"score":0,"creation_date":1677228570,"post_id":75547774,"comment_id":133300171,"body_markdown":"POM file was opened as project, yes.\nManaged to fix it, the problem was that the project was directly opened within my main team&#39;s project, as a new module, and the was a script blocking downloading dependencies already defined in main POM file, to avoid code duplication.","body":"POM file was opened as project, yes. Managed to fix it, the problem was that the project was directly opened within my main team&#39;s project, as a new module, and the was a script blocking downloading dependencies already defined in main POM file, to avoid code duplication."}],"owner":{"account_id":12246014,"reputation":357,"user_id":8937649,"display_name":"Razvan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677170593,"creation_date":1677170487,"question_id":75547774,"body_markdown":"Got a weird issue with a Gattling project (https://github.com/jecklgamis/gatling-java-example) , even if maven is able to download the dependency, when I go to a java class and try to import and use it, it doesn&#39;t appear.\r\nTried to add testng and lombok, but when trying **import lombok.** or **import org.testng.** is not working.\r\n\r\nMy pom file looks like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.jecklgamis&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gatling-java-example&lt;/artifactId&gt;\r\n    &lt;name&gt;gatling-java-example&lt;/name&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.gatling.highcharts&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gatling-charts-highcharts&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n&lt;!--        &lt;testResources&gt;--&gt;\r\n&lt;!--            &lt;testResource&gt;--&gt;\r\n&lt;!--                &lt;directory&gt;src/test/resources&lt;/directory&gt;--&gt;\r\n&lt;!--                &lt;includes&gt;--&gt;\r\n&lt;!--                    &lt;include&gt;**/*.xml&lt;/include&gt;--&gt;\r\n&lt;!--                    &lt;include&gt;**/*.conf&lt;/include&gt;--&gt;\r\n&lt;!--                &lt;/includes&gt;--&gt;\r\n&lt;!--            &lt;/testResource&gt;--&gt;\r\n&lt;!--        &lt;/testResources&gt;--&gt;\r\n        &lt;plugins&gt;\r\n&lt;!--            &lt;plugin&gt;--&gt;\r\n&lt;!--                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;--&gt;\r\n&lt;!--                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;--&gt;\r\n&lt;!--                &lt;version&gt;3.10.1&lt;/version&gt;--&gt;\r\n&lt;!--                &lt;configuration&gt;--&gt;\r\n&lt;!--                    &lt;target&gt;1.8&lt;/target&gt;--&gt;\r\n&lt;!--                    &lt;source&gt;1.8&lt;/source&gt;--&gt;\r\n&lt;!--                &lt;/configuration&gt;--&gt;\r\n&lt;!--            &lt;/plugin&gt;--&gt;\r\n&lt;!--            &lt;plugin&gt;--&gt;\r\n&lt;!--                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;--&gt;\r\n&lt;!--                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;--&gt;\r\n&lt;!--                &lt;version&gt;3.4.1&lt;/version&gt;--&gt;\r\n&lt;!--                &lt;configuration&gt;--&gt;\r\n&lt;!--                    &lt;finalName&gt;${project.name}&lt;/finalName&gt;--&gt;\r\n&lt;!--                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;--&gt;\r\n&lt;!--                    &lt;filters&gt;--&gt;\r\n&lt;!--                        &lt;filter&gt;--&gt;\r\n&lt;!--                            &lt;artifact&gt;*:*&lt;/artifact&gt;--&gt;\r\n&lt;!--                            &lt;excludes&gt;--&gt;\r\n&lt;!--                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;--&gt;\r\n&lt;!--                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;--&gt;\r\n&lt;!--                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;--&gt;\r\n&lt;!--                            &lt;/excludes&gt;--&gt;\r\n&lt;!--                        &lt;/filter&gt;--&gt;\r\n&lt;!--                    &lt;/filters&gt;--&gt;\r\n&lt;!--                &lt;/configuration&gt;--&gt;\r\n&lt;!--                &lt;executions&gt;--&gt;\r\n&lt;!--                    &lt;execution&gt;--&gt;\r\n&lt;!--                        &lt;phase&gt;package&lt;/phase&gt;--&gt;\r\n&lt;!--                        &lt;goals&gt;--&gt;\r\n&lt;!--                            &lt;goal&gt;shade&lt;/goal&gt;--&gt;\r\n&lt;!--                        &lt;/goals&gt;--&gt;\r\n&lt;!--                    &lt;/execution&gt;--&gt;\r\n&lt;!--                &lt;/executions&gt;--&gt;\r\n&lt;!--            &lt;/plugin&gt;--&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.gatling&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gatling-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.9&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;simulationsFolder&gt;src/main/java&lt;/simulationsFolder&gt;\r\n                    &lt;runMultipleSimulations&gt;false&lt;/runMultipleSimulations&gt;\r\n                    &lt;simulationClass&gt;gatling.simulation.SormasSimulation&lt;/simulationClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Gatling maven project downloads dependencies but cannot find them","body":"<p>Got a weird issue with a Gattling project (<a href=\"https://github.com/jecklgamis/gatling-java-example\" rel=\"nofollow noreferrer\">https://github.com/jecklgamis/gatling-java-example</a>) , even if maven is able to download the dependency, when I go to a java class and try to import and use it, it doesn't appear.\nTried to add testng and lombok, but when trying <strong>import lombok.</strong> or <strong>import org.testng.</strong> is not working.</p>\n<p>My pom file looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.jecklgamis&lt;/groupId&gt;\n    &lt;artifactId&gt;gatling-java-example&lt;/artifactId&gt;\n    &lt;name&gt;gatling-java-example&lt;/name&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.gatling.highcharts&lt;/groupId&gt;\n            &lt;artifactId&gt;gatling-charts-highcharts&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.16&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n&lt;!--        &lt;testResources&gt;--&gt;\n&lt;!--            &lt;testResource&gt;--&gt;\n&lt;!--                &lt;directory&gt;src/test/resources&lt;/directory&gt;--&gt;\n&lt;!--                &lt;includes&gt;--&gt;\n&lt;!--                    &lt;include&gt;**/*.xml&lt;/include&gt;--&gt;\n&lt;!--                    &lt;include&gt;**/*.conf&lt;/include&gt;--&gt;\n&lt;!--                &lt;/includes&gt;--&gt;\n&lt;!--            &lt;/testResource&gt;--&gt;\n&lt;!--        &lt;/testResources&gt;--&gt;\n        &lt;plugins&gt;\n&lt;!--            &lt;plugin&gt;--&gt;\n&lt;!--                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;--&gt;\n&lt;!--                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;--&gt;\n&lt;!--                &lt;version&gt;3.10.1&lt;/version&gt;--&gt;\n&lt;!--                &lt;configuration&gt;--&gt;\n&lt;!--                    &lt;target&gt;1.8&lt;/target&gt;--&gt;\n&lt;!--                    &lt;source&gt;1.8&lt;/source&gt;--&gt;\n&lt;!--                &lt;/configuration&gt;--&gt;\n&lt;!--            &lt;/plugin&gt;--&gt;\n&lt;!--            &lt;plugin&gt;--&gt;\n&lt;!--                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;--&gt;\n&lt;!--                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;--&gt;\n&lt;!--                &lt;version&gt;3.4.1&lt;/version&gt;--&gt;\n&lt;!--                &lt;configuration&gt;--&gt;\n&lt;!--                    &lt;finalName&gt;${project.name}&lt;/finalName&gt;--&gt;\n&lt;!--                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;--&gt;\n&lt;!--                    &lt;filters&gt;--&gt;\n&lt;!--                        &lt;filter&gt;--&gt;\n&lt;!--                            &lt;artifact&gt;*:*&lt;/artifact&gt;--&gt;\n&lt;!--                            &lt;excludes&gt;--&gt;\n&lt;!--                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;--&gt;\n&lt;!--                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;--&gt;\n&lt;!--                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;--&gt;\n&lt;!--                            &lt;/excludes&gt;--&gt;\n&lt;!--                        &lt;/filter&gt;--&gt;\n&lt;!--                    &lt;/filters&gt;--&gt;\n&lt;!--                &lt;/configuration&gt;--&gt;\n&lt;!--                &lt;executions&gt;--&gt;\n&lt;!--                    &lt;execution&gt;--&gt;\n&lt;!--                        &lt;phase&gt;package&lt;/phase&gt;--&gt;\n&lt;!--                        &lt;goals&gt;--&gt;\n&lt;!--                            &lt;goal&gt;shade&lt;/goal&gt;--&gt;\n&lt;!--                        &lt;/goals&gt;--&gt;\n&lt;!--                    &lt;/execution&gt;--&gt;\n&lt;!--                &lt;/executions&gt;--&gt;\n&lt;!--            &lt;/plugin&gt;--&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.gatling&lt;/groupId&gt;\n                &lt;artifactId&gt;gatling-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;simulationsFolder&gt;src/main/java&lt;/simulationsFolder&gt;\n                    &lt;runMultipleSimulations&gt;false&lt;/runMultipleSimulations&gt;\n                    &lt;simulationClass&gt;gatling.simulation.SormasSimulation&lt;/simulationClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"comments":[{"owner":{"account_id":3153335,"reputation":36790,"user_id":2666289,"accept_rate":70,"display_name":"Holt"},"score":0,"creation_date":1677170617,"post_id":75547765,"comment_id":133289343,"body_markdown":"Are you sure that your enum is properly ordered? Please add a fully reproducible example.","body":"Are you sure that your enum is properly ordered? Please add a fully reproducible example."},{"owner":{"account_id":3153335,"reputation":36790,"user_id":2666289,"accept_rate":70,"display_name":"Holt"},"score":0,"creation_date":1677170958,"post_id":75547765,"comment_id":133289460,"body_markdown":"Your comparator works fine if your enum is declared properly (https://ideone.com/mEvkOf), so you have something wrong elsewhere.","body":"Your comparator works fine if your enum is declared properly (<a href=\"https://ideone.com/mEvkOf\" rel=\"nofollow noreferrer\">ideone.com/mEvkOf</a>), so you have something wrong elsewhere."},{"owner":{"account_id":5943333,"reputation":553,"user_id":4673735,"display_name":"abler98"},"score":0,"creation_date":1677171489,"post_id":75547765,"comment_id":133289642,"body_markdown":"Maybe you need to sort by enum name? `a.getKey().name().compareTo(b.getKey().name())`","body":"Maybe you need to sort by enum name? <code>a.getKey().name().compareTo(b.getKey().name())</code>"},{"owner":{"account_id":5943333,"reputation":553,"user_id":4673735,"display_name":"abler98"},"score":0,"creation_date":1677171867,"post_id":75547765,"comment_id":133289786,"body_markdown":"In addition, you do not need to create a custom comparator: `Map.Entry.&lt;PassengerType, Integer&gt;comparingByValue().thenComparing(entry -&gt; entry.getKey().name())`","body":"In addition, you do not need to create a custom comparator: <code>Map.Entry.&lt;PassengerType, Integer&gt;comparingByValue().thenComparing(entry -&gt; entry.getKey().name())</code>"}],"owner":{"account_id":10369935,"reputation":1,"user_id":9897452,"display_name":"Roshan Saini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677170419,"creation_date":1677170419,"question_id":75547765,"body_markdown":"Here is my code : \r\n  \r\n```\r\n\r\n\r\n Map&lt;PassengerType,Integer&gt; test=new HashMap&lt;&gt;();\r\n            test.put(PassengerType.SENIOR_CITIZEN,1);\r\n            test.put(PassengerType.KID,1);\r\n            test.put(PassengerType.ADULT,1);\r\n\r\n            List&lt;Map.Entry&lt;PassengerType, Integer&gt;&gt; list =\r\n                    new ArrayList&lt;Map.Entry&lt;PassengerType, Integer&gt;&gt;(test.entrySet());\r\n\r\n            Collections.sort(list, new ValueThenKeyComparator());\r\n\r\n            list.stream().forEach(System.out::println);\r\n```\r\nHere is my custom comparator.\r\n\r\n```\r\npublic class ValueThenKeyComparator implements Comparator&lt;Map.Entry&lt;PassengerType, Integer&gt;&gt; {\r\n\r\n    public int compare(Map.Entry&lt;PassengerType, Integer&gt; a, Map.Entry&lt;PassengerType, Integer&gt; b) {\r\n        //System.out.println(a.getValue()+&quot; || &quot;+b.getValue()+&quot; :::&quot;+a.getValue().compareTo(b.getValue()));\r\n        int valueCompare=a.getValue().compareTo(b.getValue());\r\n        if(valueCompare!=0){\r\n            return valueCompare;\r\n        }else{\r\n           // System.out.println(a.getKey()+&quot; || &quot;+b.getKey()+&quot; :::&quot;+a.getKey().compareTo(b.getKey()));\r\n            return a.getKey().compareTo(b.getKey());\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nthe Output should be : \r\n\r\n```\r\nADULT=1\r\nKID=1\r\nSENIOR_CITIZEN=1\r\n```\r\nbut i am getting this.\r\n```\r\nKID=1\r\nADULT=1\r\nSENIOR_CITIZEN=1\r\n```\r\nPlease help me with this...\r\n\r\ni have tried using custom comparator but no luck. struggling with this from past 6+ hours. ","title":"How to sort a map by value and if two more value are same then sort these entries by keys?","body":"<p>Here is my code :</p>\n<pre><code>\n\n Map&lt;PassengerType,Integer&gt; test=new HashMap&lt;&gt;();\n            test.put(PassengerType.SENIOR_CITIZEN,1);\n            test.put(PassengerType.KID,1);\n            test.put(PassengerType.ADULT,1);\n\n            List&lt;Map.Entry&lt;PassengerType, Integer&gt;&gt; list =\n                    new ArrayList&lt;Map.Entry&lt;PassengerType, Integer&gt;&gt;(test.entrySet());\n\n            Collections.sort(list, new ValueThenKeyComparator());\n\n            list.stream().forEach(System.out::println);\n</code></pre>\n<p>Here is my custom comparator.</p>\n<pre><code>public class ValueThenKeyComparator implements Comparator&lt;Map.Entry&lt;PassengerType, Integer&gt;&gt; {\n\n    public int compare(Map.Entry&lt;PassengerType, Integer&gt; a, Map.Entry&lt;PassengerType, Integer&gt; b) {\n        //System.out.println(a.getValue()+&quot; || &quot;+b.getValue()+&quot; :::&quot;+a.getValue().compareTo(b.getValue()));\n        int valueCompare=a.getValue().compareTo(b.getValue());\n        if(valueCompare!=0){\n            return valueCompare;\n        }else{\n           // System.out.println(a.getKey()+&quot; || &quot;+b.getKey()+&quot; :::&quot;+a.getKey().compareTo(b.getKey()));\n            return a.getKey().compareTo(b.getKey());\n        }\n    }\n\n}\n\n</code></pre>\n<p>the Output should be :</p>\n<pre><code>ADULT=1\nKID=1\nSENIOR_CITIZEN=1\n</code></pre>\n<p>but i am getting this.</p>\n<pre><code>KID=1\nADULT=1\nSENIOR_CITIZEN=1\n</code></pre>\n<p>Please help me with this...</p>\n<p>i have tried using custom comparator but no luck. struggling with this from past 6+ hours.</p>\n"},{"tags":["java","arrays","string","integer"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1677164225,"post_id":75546492,"comment_id":133287084,"body_markdown":"You simply can&#39;t put a value that is not an `int` inside an array of `int`s. So are you sure you&#39;re not meant to print the array one element at a time and print a $ for even-indexed elements instead?","body":"You simply can&#39;t put a value that is not an <code>int</code> inside an array of <code>int</code>s. So are you sure you&#39;re not meant to print the array one element at a time and print a $ for even-indexed elements instead?"}],"answers":[{"comments":[{"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"score":2,"creation_date":1677169827,"post_id":75546570,"comment_id":133289080,"body_markdown":"`char[] result = new char[array.length]();` should not have parentheses at the end, otherwise correct","body":"<code>char[] result = new char[array.length]();</code> should not have parentheses at the end, otherwise correct"},{"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"score":1,"creation_date":1677169945,"post_id":75546570,"comment_id":133289120,"body_markdown":"Another solution which might be easier would be to print each value in the for loop unless it is even, in which case you would print $, but then it doesn&#39;t print as nicely with the braces and comma separators, unless you add them in print statements","body":"Another solution which might be easier would be to print each value in the for loop unless it is even, in which case you would print $, but then it doesn&#39;t print as nicely with the braces and comma separators, unless you add them in print statements"},{"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"score":0,"creation_date":1677171137,"post_id":75546570,"comment_id":133289520,"body_markdown":"yes you could just print instead of creating a new array","body":"yes you could just print instead of creating a new array"}],"tags":[],"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677169945,"creation_date":1677164456,"answer_id":75546570,"question_id":75546492,"body_markdown":"I think you need to switch the result array into char array\r\n\r\n```java\r\nchar specialChar = &#39;$&#39;;\r\nint[] array = {1, 2, 3, 4, 5, 6};\r\nchar[] result = new char[array.length];\r\n\r\nfor (int i = 0; i &lt; array.length; i++) {\r\n    if (array[i] % 2 == 0) {\r\n        result[i] = specialChar;\r\n    } else {\r\n        result[i] = (char)(array[i] + &#39;0&#39;);\r\n    }\r\n}\r\n\r\nSystem.out.println(Arrays.toString(result));\r\n```","title":"How to replace all even elements in an integer array with a special symbol &quot;$&quot; using java","body":"<p>I think you need to switch the result array into char array</p>\n<pre class=\"lang-java prettyprint-override\"><code>char specialChar = '$';\nint[] array = {1, 2, 3, 4, 5, 6};\nchar[] result = new char[array.length];\n\nfor (int i = 0; i &lt; array.length; i++) {\n    if (array[i] % 2 == 0) {\n        result[i] = specialChar;\n    } else {\n        result[i] = (char)(array[i] + '0');\n    }\n}\n\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n"}],"owner":{"account_id":20588609,"reputation":23,"user_id":15112872,"display_name":"Arya V L"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75546570,"answer_count":1,"score":0,"last_activity_date":1677169945,"creation_date":1677164083,"question_id":75546492,"body_markdown":"We have an integer array and all even numbers in that array must be replaced by &quot;$&quot;;\r\n\r\n\r\n\r\nHere is my code : \r\n\r\n```\r\nint[] array = {1, 2, 3, 4, 5, 6};\r\nchar specialChar = &#39;$&#39;;\r\n\r\nfor (int i = 0; i &lt; array.length; i++) {\r\nif (array[i] % 2 == 0) {\r\narray[i] = specialChar;\r\n    }\r\n}\r\n\r\nSystem.out.println(Arrays.toString(array));\r\n\r\n```\r\n\r\nOutput Obtained : [1, 42, 3, 42, 5, 42]\r\nExpected Output : [1, $, 3, $, 5, $]","title":"How to replace all even elements in an integer array with a special symbol &quot;$&quot; using java","body":"<p>We have an integer array and all even numbers in that array must be replaced by &quot;$&quot;;</p>\n<p>Here is my code :</p>\n<pre><code>int[] array = {1, 2, 3, 4, 5, 6};\nchar specialChar = '$';\n\nfor (int i = 0; i &lt; array.length; i++) {\nif (array[i] % 2 == 0) {\narray[i] = specialChar;\n    }\n}\n\nSystem.out.println(Arrays.toString(array));\n\n</code></pre>\n<p>Output Obtained : [1, 42, 3, 42, 5, 42]\nExpected Output : [1, $, 3, $, 5, $]</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9601,"page":624,"page_size":100}
