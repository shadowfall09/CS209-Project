{"items":[{"tags":["java","netbeans","ant","antlr4","code-generation"],"owner":{"account_id":56880,"reputation":2607,"user_id":170361,"accept_rate":90,"display_name":"Dennis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696275069,"creation_date":1696275069,"question_id":77218054,"body_markdown":"I&#39;m using ANTLR4 to generate a parser and lexer for a project with Netbeans and Ant.  I was able to add a &quot;-pre-compile&quot; target override to my build.xml that executes the ANTLR4 tool to generate Java files for the lexer and parser.\r\n\r\nBut how do I add those automatically generated .java files to my project so that my user code which depends on the generated code will compile?","title":"How do I add source code generated by a tool to my Netbeans Ant project?","body":"<p>I'm using ANTLR4 to generate a parser and lexer for a project with Netbeans and Ant.  I was able to add a &quot;-pre-compile&quot; target override to my build.xml that executes the ANTLR4 tool to generate Java files for the lexer and parser.</p>\n<p>But how do I add those automatically generated .java files to my project so that my user code which depends on the generated code will compile?</p>\n"},{"tags":["java","hibernate","annotations"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":1,"creation_date":1229550874,"post_id":376093,"comment_id":204118,"body_markdown":"Possible workaournd. If you name it dateofbirth the column in the DB would be named like that, but the attribute name should be the same.","body":"Possible workaournd. If you name it dateofbirth the column in the DB would be named like that, but the attribute name should be the same."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1229552687,"post_id":376093,"comment_id":204177,"body_markdown":"Let me put it as an answer then :)","body":"Let me put it as an answer then :)"}],"answers":[{"tags":[],"owner":{"account_id":2202,"reputation":24331,"user_id":3029,"accept_rate":63,"display_name":"davetron5000"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1229549565,"creation_date":1229549565,"answer_id":376102,"question_id":376093,"body_markdown":"I&#39;m not 100% sure, but don&#39;t you need to annotate the get method and not the private variable?","title":"hibernate column name issues","body":"<p>I'm not 100% sure, but don't you need to annotate the get method and not the private variable?</p>\n"},{"tags":[],"owner":{"account_id":7636,"reputation":502,"user_id":13308,"display_name":"Ryan Anderson"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1229550000,"creation_date":1229550000,"answer_id":376118,"question_id":376093,"body_markdown":"Put the @Column annotation on the getter:\r\n\r\n    @Column(name=&quot;DateOfBirth&quot;)\r\n    public Date getDateOfBirth() {\r\n    ...\r\n    }","title":"hibernate column name issues","body":"<p>Put the @Column annotation on the getter:</p>\n\n<pre><code>@Column(name=\"DateOfBirth\")\npublic Date getDateOfBirth() {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18282,"reputation":17675,"user_id":41754,"accept_rate":75,"display_name":"cliff.meyers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229551337,"creation_date":1229551337,"answer_id":376196,"question_id":376093,"body_markdown":"You can annotate either fields or getter methods, it doesn&#39;t make a difference.  Can you post your full hibernate.cfg.xml or persistence.xml file?","title":"hibernate column name issues","body":"<p>You can annotate either fields or getter methods, it doesn't make a difference.  Can you post your full hibernate.cfg.xml or persistence.xml file?</p>\n"},{"tags":[],"owner":{"account_id":14971,"reputation":6961,"user_id":31172,"accept_rate":86,"display_name":"lucas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1229552061,"creation_date":1229552061,"answer_id":376231,"question_id":376093,"body_markdown":"The workaround proposed was to use @Column(name=&quot;dateofbirth&quot;), which worked for my purposes.","title":"hibernate column name issues","body":"<p>The workaround proposed was to use @Column(name=\"dateofbirth\"), which worked for my purposes.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1449257840,"creation_date":1229552814,"answer_id":376275,"question_id":376093,"body_markdown":"Here is a possible workaround: if you name it `dateofbirth` the column in the DB would be named like that, but the attribute name should be the same.\r\n\r\nHibernate takes the camel case format to create/read database columns.\r\n\r\nI&#39;ve had this problem before. I worked with a legacy columns where there was no space in the column names &quot;employeename&quot;, &quot;employeerole&quot;, &quot;departmentlocation&quot;. I hate it because all my beans properties had to be without camel case. \r\n\r\nDatabase columns separated by &quot;_&quot; will be used to properly camelCase as you have just seen.","title":"hibernate column name issues","body":"<p>Here is a possible workaround: if you name it <code>dateofbirth</code> the column in the DB would be named like that, but the attribute name should be the same.</p>\n\n<p>Hibernate takes the camel case format to create/read database columns.</p>\n\n<p>I've had this problem before. I worked with a legacy columns where there was no space in the column names \"employeename\", \"employeerole\", \"departmentlocation\". I hate it because all my beans properties had to be without camel case. </p>\n\n<p>Database columns separated by \"_\" will be used to properly camelCase as you have just seen.</p>\n"},{"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1360691919,"creation_date":1229553502,"answer_id":376307,"question_id":376093,"body_markdown":"FYI: The reason for the insertion of underscores is probably because you&#39;re using an [ImprovedNamingStrategy][1]. It&#39;s set on your [Configuration][2] object. See [here][3] for an example...\r\n\r\nIf you don&#39;t want the underscores you can just not set the naming strategy, or set it to the DefaultNamingStrategy you discovered earlier.\r\n\r\n\r\n  [1]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/ImprovedNamingStrategy.html\r\n  [2]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#setNamingStrategy(org.hibernate.cfg.NamingStrategy)\r\n  [3]: http://www.javalobby.org/java/forums/t19838.html","title":"hibernate column name issues","body":"<p>FYI: The reason for the insertion of underscores is probably because you're using an <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/ImprovedNamingStrategy.html\" rel=\"noreferrer\">ImprovedNamingStrategy</a>. It's set on your <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#setNamingStrategy(org.hibernate.cfg.NamingStrategy)\" rel=\"noreferrer\">Configuration</a> object. See <a href=\"http://www.javalobby.org/java/forums/t19838.html\" rel=\"noreferrer\">here</a> for an example...</p>\n\n<p>If you don't want the underscores you can just not set the naming strategy, or set it to the DefaultNamingStrategy you discovered earlier.</p>\n"},{"tags":[],"owner":{"account_id":1941673,"reputation":51,"user_id":1747750,"display_name":"syedmuneer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350319207,"creation_date":1350319000,"answer_id":12900050,"question_id":376093,"body_markdown":"ImprovedNamingStrategy has method addUnderscores() which is called from tableName() and columnName()\r\nyou can implement your own naming strategy class and override these as per your choice\r\n\r\n        public class MyOwnNamingStrategy extends ImprovedNamingStrategy {\r\n    \t    @Override\r\n    \t    public String tableName(String tableName) {\r\n    \t\t//return addUnderscores(columnName); // skip this\r\n    \t\treturn columnName; // if you want column name variable name same\r\n    \t\t//return changeAsYouWant(columnName); // as name sames\r\n    \t   }\r\n       }\r\n\r\n","title":"hibernate column name issues","body":"<p>ImprovedNamingStrategy has method addUnderscores() which is called from tableName() and columnName()\nyou can implement your own naming strategy class and override these as per your choice</p>\n\n<pre><code>    public class MyOwnNamingStrategy extends ImprovedNamingStrategy {\n        @Override\n        public String tableName(String tableName) {\n        //return addUnderscores(columnName); // skip this\n        return columnName; // if you want column name variable name same\n        //return changeAsYouWant(columnName); // as name sames\n       }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1497374693,"creation_date":1497374693,"answer_id":44527914,"question_id":376093,"body_markdown":"Try putting this in \r\n\r\napplication.properties\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"hibernate column name issues","body":"<p>Try putting this in </p>\n\n<p>application.properties</p>\n\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4090990,"reputation":230,"user_id":3358959,"display_name":"ErSyyedS"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1696274479,"creation_date":1501440232,"answer_id":45403414,"question_id":376093,"body_markdown":"add below property in the case of spring boot.\r\n\r\n**spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl**","title":"hibernate column name issues","body":"<p>add below property in the case of spring boot.</p>\n<p><strong>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</strong></p>\n"},{"tags":[],"owner":{"account_id":23666848,"reputation":1,"user_id":17694208,"display_name":"Mateusz K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653300079,"creation_date":1653300079,"answer_id":72346654,"question_id":376093,"body_markdown":"I had a similar problem and adding the following two properties to my application.properties solved my issue: `spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl` `spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl` .","title":"hibernate column name issues","body":"<p>I had a similar problem and adding the following two properties to my application.properties solved my issue: <code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl</code> <code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</code> .</p>\n"}],"owner":{"account_id":14971,"reputation":6961,"user_id":31172,"accept_rate":86,"display_name":"lucas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62174,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":376275,"answer_count":10,"score":32,"last_activity_date":1696274479,"creation_date":1229549310,"question_id":376093,"body_markdown":"\t@Column(name=&quot;DateOfBirth&quot;)\r\n\tprivate Date dateOfBirth;\r\n\r\nI specifically need the above code to create a column named &quot;DateOfBirth,&quot; instead Hibernate gives me a column named date_of_birth.  How can I change this?  Is there a web.xml property?  I came across DefaultNamingStrategy and ImprovedNamingStrategy, but not sure how to specify one or the other.","title":"hibernate column name issues","body":"<pre><code>@Column(name=\"DateOfBirth\")\nprivate Date dateOfBirth;\n</code></pre>\n\n<p>I specifically need the above code to create a column named \"DateOfBirth,\" instead Hibernate gives me a column named date_of_birth.  How can I change this?  Is there a web.xml property?  I came across DefaultNamingStrategy and ImprovedNamingStrategy, but not sure how to specify one or the other.</p>\n"},{"tags":["java","activemq"],"answers":[{"tags":[],"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586538904,"creation_date":1586538904,"answer_id":61145273,"question_id":61145272,"body_markdown":"So looking at similar issues on StackOverflow and other sites, it seems like I need to add JVM arguments to ActiveMQ when its kicked off.\r\n\r\nThe **bin** folder of AMQ contains a script `activemq`, in the same bin folder that script kicks off an `activemq.jar` file.\r\n\r\nI needed to update part of the script file to include those JVM arguments (in your script don&#39;t include the # comments at the end of the line):\r\n\r\n\r\n    &lt;script code above&gt;\r\n           # Execute java binary\r\n           if [ -n &quot;$PIDFILE&quot; ] &amp;&amp; [ &quot;$PIDFILE&quot; != &quot;stop&quot; ];then\r\n        \r\n              $EXEC_OPTION $DOIT_PREFIX &quot;$JAVACMD $ACTIVEMQ_OPTS $ACTIVEMQ_DEBUG_OPTS \\\r\n                      -Dactivemq.classpath=\\&quot;${ACTIVEMQ_CLASSPATH}\\&quot; \\\r\n                      -Dactivemq.home=\\&quot;${ACTIVEMQ_HOME}\\&quot; \\\r\n                      -Dactivemq.base=\\&quot;${ACTIVEMQ_BASE}\\&quot; \\\r\n                      -Dactivemq.conf=\\&quot;${ACTIVEMQ_CONF}\\&quot; \\\r\n                      -Dactivemq.data=\\&quot;${ACTIVEMQ_DATA}\\&quot; \\\r\n                      -Dcom.sun.management.jmxremote \\                    #THIS is added\r\n                      -Dcom.sun.management.jmxremote.port=1099 \\          #THIS is added\r\n                      -Dcom.sun.management.jmxremote.rmi.port=1099 \\      #THIS is added \r\n                      -Dcom.sun.management.jmxremote.authenticate=false \\ #THIS is added\r\n                      -Dcom.sun.management.jmxremote.ssl=false \\          #THIS is added\r\n                      $ACTIVEMQ_CYGWIN \\\r\n                      -jar \\&quot;${ACTIVEMQ_HOME}/bin/activemq.jar\\&quot; $COMMANDLINE_ARGS &gt;/dev/null 2&gt;&amp;1 &amp;\r\n                      RET=\\&quot;\\$?\\&quot;; APID=\\&quot;\\$!\\&quot;;\r\n                      echo \\$APID &gt; $PIDFILE;\r\n                      echo \\&quot;INFO: pidfile created : &#39;$PIDFILE&#39; (pid &#39;\\$APID&#39;)\\&quot;;exit \\$RET&quot; $DOIT_POSTFIX\r\n              RET=&quot;$?&quot;\r\n    &lt;script code below&gt;\r\n\r\n\r\nAfterwards I just start the `./activemq` script, and now I&#39;m able to do the Command Lines as I could do on AMQ running on my machine.","title":"ActiveMQ command lines exception: &quot;Failed to retrieve RMIServer stub&quot;","body":"<p>So looking at similar issues on StackOverflow and other sites, it seems like I need to add JVM arguments to ActiveMQ when its kicked off.</p>\n\n<p>The <strong>bin</strong> folder of AMQ contains a script <code>activemq</code>, in the same bin folder that script kicks off an <code>activemq.jar</code> file.</p>\n\n<p>I needed to update part of the script file to include those JVM arguments (in your script don't include the # comments at the end of the line):</p>\n\n<pre><code>&lt;script code above&gt;\n       # Execute java binary\n       if [ -n \"$PIDFILE\" ] &amp;&amp; [ \"$PIDFILE\" != \"stop\" ];then\n\n          $EXEC_OPTION $DOIT_PREFIX \"$JAVACMD $ACTIVEMQ_OPTS $ACTIVEMQ_DEBUG_OPTS \\\n                  -Dactivemq.classpath=\\\"${ACTIVEMQ_CLASSPATH}\\\" \\\n                  -Dactivemq.home=\\\"${ACTIVEMQ_HOME}\\\" \\\n                  -Dactivemq.base=\\\"${ACTIVEMQ_BASE}\\\" \\\n                  -Dactivemq.conf=\\\"${ACTIVEMQ_CONF}\\\" \\\n                  -Dactivemq.data=\\\"${ACTIVEMQ_DATA}\\\" \\\n                  -Dcom.sun.management.jmxremote \\                    #THIS is added\n                  -Dcom.sun.management.jmxremote.port=1099 \\          #THIS is added\n                  -Dcom.sun.management.jmxremote.rmi.port=1099 \\      #THIS is added \n                  -Dcom.sun.management.jmxremote.authenticate=false \\ #THIS is added\n                  -Dcom.sun.management.jmxremote.ssl=false \\          #THIS is added\n                  $ACTIVEMQ_CYGWIN \\\n                  -jar \\\"${ACTIVEMQ_HOME}/bin/activemq.jar\\\" $COMMANDLINE_ARGS &gt;/dev/null 2&gt;&amp;1 &amp;\n                  RET=\\\"\\$?\\\"; APID=\\\"\\$!\\\";\n                  echo \\$APID &gt; $PIDFILE;\n                  echo \\\"INFO: pidfile created : '$PIDFILE' (pid '\\$APID')\\\";exit \\$RET\" $DOIT_POSTFIX\n          RET=\"$?\"\n&lt;script code below&gt;\n</code></pre>\n\n<p>Afterwards I just start the <code>./activemq</code> script, and now I'm able to do the Command Lines as I could do on AMQ running on my machine.</p>\n"}],"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696274167,"creation_date":1586538904,"question_id":61145272,"body_markdown":"I have ActiveMQ &quot;Classic&quot; 5.10.0 running on a server, and I&#39;m trying to use the command line to extract the information that I&#39;d see in the [web console][1].\r\n\r\nNone of the commands work. In the `bin` folder is the `activemq` script to do run commands, (e.g. `./activemq bstat` or `./activemq list`) but I keep getting this error:\r\n```\r\nConnecting to JMX URL: service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi\r\nERROR: java.lang.RuntimeException: Failed to execute list task. Reason: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:\r\n        java.net.ConnectException: Connection refused]\r\njava.lang.RuntimeException: Failed to execute list task. Reason: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:\r\n```\r\n\r\nOddly enough, when I download and start the same version of the broker on my local pc, the commands work.  This is the output I get when attempting the `list` command:\r\n```\r\n&gt; activemq list\r\nJava Runtime: Oracle Corporation 1.8.0_161 C:\\Program Files\\Java\\jdk1.8.0_161\\jre\r\n  Heap sizes: current=1005056k  free=989327k  max=1005056k\r\n    JVM args: -Dcom.sun.management.jmxremote -Xms1G -Xmx1G -Djava.util.logging.config.file=logging.properties -\r\n...........\r\n&lt;more log data&gt;\r\n...........\r\nuseJmxServiceUrl Found JMS Url: service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc5AAtVbmljYXN0UmVmMgAADjE2OS4yNTQuNjguMjM3AADDoqnwRJwaEyt6UvhZyAAAAXFkS9pNgAEAeA==\r\nConnecting to pid: 3332\r\nbrokerName = localhost\r\n```\r\n\r\nHow do I get the same commands to work that is running on the remote server?\r\n\r\n\r\n  [1]: https://activemq.apache.org/web-console","title":"ActiveMQ command lines exception: &quot;Failed to retrieve RMIServer stub&quot;","body":"<p>I have ActiveMQ &quot;Classic&quot; 5.10.0 running on a server, and I'm trying to use the command line to extract the information that I'd see in the <a href=\"https://activemq.apache.org/web-console\" rel=\"nofollow noreferrer\">web console</a>.</p>\n<p>None of the commands work. In the <code>bin</code> folder is the <code>activemq</code> script to do run commands, (e.g. <code>./activemq bstat</code> or <code>./activemq list</code>) but I keep getting this error:</p>\n<pre><code>Connecting to JMX URL: service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi\nERROR: java.lang.RuntimeException: Failed to execute list task. Reason: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:\n        java.net.ConnectException: Connection refused]\njava.lang.RuntimeException: Failed to execute list task. Reason: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:\n</code></pre>\n<p>Oddly enough, when I download and start the same version of the broker on my local pc, the commands work.  This is the output I get when attempting the <code>list</code> command:</p>\n<pre><code>&gt; activemq list\nJava Runtime: Oracle Corporation 1.8.0_161 C:\\Program Files\\Java\\jdk1.8.0_161\\jre\n  Heap sizes: current=1005056k  free=989327k  max=1005056k\n    JVM args: -Dcom.sun.management.jmxremote -Xms1G -Xmx1G -Djava.util.logging.config.file=logging.properties -\n...........\n&lt;more log data&gt;\n...........\nuseJmxServiceUrl Found JMS Url: service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc5AAtVbmljYXN0UmVmMgAADjE2OS4yNTQuNjguMjM3AADDoqnwRJwaEyt6UvhZyAAAAXFkS9pNgAEAeA==\nConnecting to pid: 3332\nbrokerName = localhost\n</code></pre>\n<p>How do I get the same commands to work that is running on the remote server?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1696266312,"post_id":77217191,"comment_id":136128127,"body_markdown":"This isn&#39;t nearly clear enough. Can you submit your `application.yml`? And, a sample of these bodies you&#39;re looking at? If I understand you correctly, the idea is that you get the retry value from the body payload? The server is actually telling you when to retry? And this set is actually a fixed pool of delay values?","body":"This isn&#39;t nearly clear enough. Can you submit your <code>application.yml</code>? And, a sample of these bodies you&#39;re looking at? If I understand you correctly, the idea is that you get the retry value from the body payload? The server is actually telling you when to retry? And this set is actually a fixed pool of delay values?"},{"owner":{"account_id":20316252,"reputation":7,"user_id":14902085,"display_name":"RZF"},"score":0,"creation_date":1696269623,"post_id":77217191,"comment_id":136128690,"body_markdown":"Not this way. I make a rest request and wait for 30 seconds, if the response contains null or the server returned 5... I will put the following value from the config and again make a rest request and wait for 30 seconds. And the call cycle repeats, but with a different time value.","body":"Not this way. I make a rest request and wait for 30 seconds, if the response contains null or the server returned 5... I will put the following value from the config and again make a rest request and wait for 30 seconds. And the call cycle repeats, but with a different time value."},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1696272678,"post_id":77217191,"comment_id":136129265,"body_markdown":"Ok, this already exists as functionality in `spring-retry` You can roll your own retry logic. And, it uses aspects, so you COULD technically introspect the body payload if that were needed. You still need to update your question to be a lot clearer so people know what you&#39;re dealing with concretely","body":"Ok, this already exists as functionality in <code>spring-retry</code> You can roll your own retry logic. And, it uses aspects, so you COULD technically introspect the body payload if that were needed. You still need to update your question to be a lot clearer so people know what you&#39;re dealing with concretely"},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1696272851,"post_id":77217191,"comment_id":136129300,"body_markdown":"I&#39;m looking at [Retry.from](https://projectreactor.io/docs/core/release/api/reactor/util/retry/Retry.html#from-java.util.function.Function-) which actually allows you to supply a lambda. I mean, it doesn&#39;t get more flexible than that","body":"I&#39;m looking at <a href=\"https://projectreactor.io/docs/core/release/api/reactor/util/retry/Retry.html#from-java.util.function.Function-\" rel=\"nofollow noreferrer\">Retry.from</a> which actually allows you to supply a lambda. I mean, it doesn&#39;t get more flexible than that"}],"answers":[{"tags":[],"owner":{"account_id":27748670,"reputation":1,"user_id":22671920,"display_name":"ALSED404"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1696274154,"creation_date":1696266434,"answer_id":77217292,"question_id":77217191,"body_markdown":"It seems that you have a challenge in changing the retry delay time in the Retry operation. To change the delay time during runtime, you can use the Retry&#39;s backoff function. You can try the following code to achieve this:\r\n\r\n    WebClient.create()\r\n        .get()\r\n        .uri(GET_STUDENTS_URL)\r\n        .retrieve()\r\n        .bodyToFlux(Student.class)\r\n        .retryWhen(Retry.backoff(4, Duration.ofSeconds(timeDelayInSeconds)));\r\n\r\nIn this code, the value of `timeDelayInSeconds` is converted to the required delay time. You can modify it according to your needs.","title":"Retry with different delay times Spring boot","body":"<p>It seems that you have a challenge in changing the retry delay time in the Retry operation. To change the delay time during runtime, you can use the Retry's backoff function. You can try the following code to achieve this:</p>\n<pre><code>WebClient.create()\n    .get()\n    .uri(GET_STUDENTS_URL)\n    .retrieve()\n    .bodyToFlux(Student.class)\n    .retryWhen(Retry.backoff(4, Duration.ofSeconds(timeDelayInSeconds)));\n</code></pre>\n<p>In this code, the value of <code>timeDelayInSeconds</code> is converted to the required delay time. You can modify it according to your needs.</p>\n"}],"owner":{"account_id":20316252,"reputation":7,"user_id":14902085,"display_name":"RZF"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696274154,"creation_date":1696265475,"question_id":77217191,"body_markdown":"I have a problem. In my application properties class has different request delay times. The application makes a rest call and waits 30 seconds. If the application gets response == null or == status 5... then the application gets the next delay value, makes a rest call again, and waits 30 seconds. There are different delay values in my `application.yml`. Delay values (second) are 1, 3, 10, 30, 120, 200, 360, 450. How do I solve this problem in Spring? I looked at the documentation in Spring webFlux, but I didn&#39;t find a way to change the delay time in runtime.\r\n\r\nI thought to use `Retry.backoff`, but I don&#39;t how to change the delay time in runtime.\r\n```\r\nWebClient.create()\r\n    .get()\r\n    .uri(GET_STUDENTS_URL)\r\n    .retrieve()\r\n    .bodyToFlux(Student.class)\r\n    .retryWhen(Retry.backoff(4, Duration.ofSeconds(3)));\r\n```","title":"Retry with different delay times Spring boot","body":"<p>I have a problem. In my application properties class has different request delay times. The application makes a rest call and waits 30 seconds. If the application gets response == null or == status 5... then the application gets the next delay value, makes a rest call again, and waits 30 seconds. There are different delay values in my <code>application.yml</code>. Delay values (second) are 1, 3, 10, 30, 120, 200, 360, 450. How do I solve this problem in Spring? I looked at the documentation in Spring webFlux, but I didn't find a way to change the delay time in runtime.</p>\n<p>I thought to use <code>Retry.backoff</code>, but I don't how to change the delay time in runtime.</p>\n<pre><code>WebClient.create()\n    .get()\n    .uri(GET_STUDENTS_URL)\n    .retrieve()\n    .bodyToFlux(Student.class)\n    .retryWhen(Retry.backoff(4, Duration.ofSeconds(3)));\n</code></pre>\n"},{"tags":["java","spring-boot","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":22513336,"reputation":66,"user_id":16707945,"display_name":"Kamil Krzywański"},"score":0,"creation_date":1696274284,"post_id":77217936,"comment_id":136129566,"body_markdown":"Did you tried just remove \nADD /src/main/resources/application.properties /application.properties\nand run:\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n\nproperties should be included in jar","body":"Did you tried just remove  ADD /src/main/resources/application.properties /application.properties and run: ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]  properties should be included in jar"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696274757,"post_id":77217936,"comment_id":136129635,"body_markdown":"I&#39;m curious why you are manually adding the properties file to the docker container and trying to reference it on the command line?  application.properties will be bundled in your jar automatically.  Also, I do believe it is working just fine.  All addresses in the 127/8 network are loopback addresses, some systems will resolve these to localhost.","body":"I&#39;m curious why you are manually adding the properties file to the docker container and trying to reference it on the command line?  application.properties will be bundled in your jar automatically.  Also, I do believe it is working just fine.  All addresses in the 127/8 network are loopback addresses, some systems will resolve these to localhost."},{"owner":{"account_id":29583172,"reputation":1,"user_id":22672476,"display_name":"Tim Misiewicz"},"score":0,"creation_date":1696275121,"post_id":77217936,"comment_id":136129696,"body_markdown":"Removing the add for application properties and the argument in entrypoint results in the exact same problem.","body":"Removing the add for application properties and the argument in entrypoint results in the exact same problem."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696275482,"post_id":77217936,"comment_id":136129765,"body_markdown":"A second thing to add is that I&#39;m a little surprised this works anywhere.  I believe the syntax for your URL isn&#39;t correct.  If you specify both a host and a database you&#39;ll need to it needs to follow this pattern, `jdbc:postgresql://host:port/database`. You&#39;re missing the `//`","body":"A second thing to add is that I&#39;m a little surprised this works anywhere.  I believe the syntax for your URL isn&#39;t correct.  If you specify both a host and a database you&#39;ll need to it needs to follow this pattern, <code>jdbc:postgresql:&#47;&#47;host:port&#47;database</code>. You&#39;re missing the <code>&#47;&#47;</code>"},{"owner":{"account_id":22513336,"reputation":66,"user_id":16707945,"display_name":"Kamil Krzywański"},"score":0,"creation_date":1696275532,"post_id":77217936,"comment_id":136129776,"body_markdown":"If you have correct properties in file try:\nFROM xxxx\nADD target/app-0.0.1-SNAPSHOT.jar app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\nand should work fine","body":"If you have correct properties in file try: FROM xxxx ADD target/app-0.0.1-SNAPSHOT.jar app.jar ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;] and should work fine"},{"owner":{"account_id":29583172,"reputation":1,"user_id":22672476,"display_name":"Tim Misiewicz"},"score":0,"creation_date":1696275544,"post_id":77217936,"comment_id":136129778,"body_markdown":"@lane.maxwell The manual application.properties was a failed attempt to get it to work. Removing it doesnt affect anything. When running the jar not in docker through the command line, it reads the set data source correctly, but in docker its always localhost. No matter what address i put as datasource, it will always use localhost:5432 in docker, which is exactly my problem.","body":"@lane.maxwell The manual application.properties was a failed attempt to get it to work. Removing it doesnt affect anything. When running the jar not in docker through the command line, it reads the set data source correctly, but in docker its always localhost. No matter what address i put as datasource, it will always use localhost:5432 in docker, which is exactly my problem."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696275992,"post_id":77217936,"comment_id":136129865,"body_markdown":"@TimMisiewicz see my follow-up comment.  I&#39;m not sure if this is the culprit, but the syntax of the URL is not correct.  This could be causing it to default to localhost, just a hunch.","body":"@TimMisiewicz see my follow-up comment.  I&#39;m not sure if this is the culprit, but the syntax of the URL is not correct.  This could be causing it to default to localhost, just a hunch."},{"owner":{"account_id":29583172,"reputation":1,"user_id":22672476,"display_name":"Tim Misiewicz"},"score":0,"creation_date":1696276227,"post_id":77217936,"comment_id":136129918,"body_markdown":"@lane.maxwell After reviewing, it seems youre hunch is in fact correct. It seems that postgres data source URLs without the // work on windows (which is what my dev machine is running on) but dont work on linux. Youre a livesaver mate, thanks!","body":"@lane.maxwell After reviewing, it seems youre hunch is in fact correct. It seems that postgres data source URLs without the // work on windows (which is what my dev machine is running on) but dont work on linux. Youre a livesaver mate, thanks!"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696276519,"post_id":77217936,"comment_id":136129979,"body_markdown":"@TimMisiewicz Glad that worked for you.  I hate bugs like this, almost impossible to find the cause.","body":"@TimMisiewicz Glad that worked for you.  I hate bugs like this, almost impossible to find the cause."}],"owner":{"account_id":29583172,"reputation":1,"user_id":22672476,"display_name":"Tim Misiewicz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696273984,"creation_date":1696273868,"question_id":77217936,"body_markdown":"I am running into issues with running my spring boot application from within a docker container. When i run my jar packaged with `mvn package` locally it works normally and the app picks up the configuration in application.properties.\r\n\r\nThe problem occurs when trying to run the jar in a docker container. When running it in a docker container it seems that the values in application.properties(data source etc) are no longer used when running, which makes them go back to default.\r\n\r\nI can tell this by the fact that spring tries to set the data source to localhost:5432, which is not what i have set in application.properties.\r\n\r\nThis is the application.properties i am using. For what is worth, Intellij Community indicates that the properties are unused. This file is located in src/main/resources/application.properties\r\n\r\n```\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\norg.app.jwtSecret= secret\r\norg.app.jwtExpirationMs=86400000\r\n\r\nspring.datasource.url=jdbc:postgresql:127.255.255.255:5432/database\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\n```\r\n\r\nI am using the following pom.xml. The `&lt;build&gt;&lt;plugin&gt;&lt;execution&gt;` tag was added so that application.properties is read properly in the jar, without this application.properties does not work when using `mvn package`. `mvn spring-boot:run` however does work without the execution tag. I have already tried using a `&lt;resources&gt;` tag in my `&lt;build&gt;` and it does not fix my problem.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;groupId&gt;com.org&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;project&lt;/name&gt;\r\n\t&lt;description&gt;project&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.8.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.7.2.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration combine.self=&quot;append&quot;&gt;\r\n\t\t\t\t\t&lt;includeTests&gt;false&lt;/includeTests&gt;\r\n\t\t\t\t\t&lt;effort&gt;Max&lt;/effort&gt;\r\n\t\t\t\t\t&lt;threshold&gt;High&lt;/threshold&gt;\r\n\t\t\t\t\t&lt;failOnError&gt;true&lt;/failOnError&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is the dockerfile I am using. I have tried manually passing application.properties but it does not seem to work for me. `&quot;-Dspring.config.location=file:/application.properties&quot;` does not seem to affect anything or fix my problem. Using `&quot;--spring.config.location=file:/application.properties&quot;` instead is an unresolved argument and does not do anything either. Removing the manual `spring.config.location` also does not do anything.\r\n\r\n```dockerfile\r\nFROM eclipse-temurin:17-jdk-alpine\r\nVOLUME /tmp\r\nARG DB_USERNAME\r\nARG DB_PASSWORD\r\nARG DB_URL\r\nENV DB_URL=$DB_URL\r\nENV DB_USERNAME=$DB_USERNAME\r\nENV DB_PASSWORD=$DB_PASSWORD\r\nADD /target/*.jar app.jar\r\nADD /src/main/resources/application.properties /application.properties\r\nENTRYPOINT [&quot;java&quot;, &quot;-Dspring.config.location=file:/application.properties&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n\r\n```\r\n\r\nThis is the start of the build log for running the application inside the docker container. You can see that spring is trying to connect to localhost:5432 which is not what has been set in application.properties\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.7)\r\n\r\n2023-10-02 18:01:47.269  INFO 1 --- [           main] com.org.project.projectApplication    : Starting projectApplication v0.0.1-SNAPSHOT using Java 17.0.8.1 on 681bd9eb3734 with PID 1 (/app.jar started by root in /)\r\n2023-10-02 18:01:47.273 DEBUG 1 --- [           main] com.org.project.projectApplication    : Running with Spring Boot v2.6.7, Spring v5.3.19\r\n2023-10-02 18:01:47.275  INFO 1 --- [           main] com.org.project.projectApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-02 18:01:48.585  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-02 18:01:48.721  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 12 JPA repository interfaces.\r\n2023-10-02 18:01:49.903  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-02 18:01:49.920  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-02 18:01:49.921  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\r\n2023-10-02 18:01:50.024  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-02 18:01:50.025  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2675 ms\r\n2023-10-02 18:01:50.131  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-10-02 18:01:50.330  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-10-02 18:01:50.426  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.8.Final\r\n2023-10-02 18:01:50.716  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2023-10-02 18:01:50.874  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-10-02 18:01:51.935 ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:301) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at org.postgresql.Driver.makeConnection(Driver.java:466) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at org.postgresql.Driver.connect(Driver.java:265) ~[postgresql-42.3.1.jar!/:42.3.1]\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1282) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1243) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.findEntityManagerFactory(EntityManagerFactoryUtils.java:121) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.orm.jpa.EntityManagerFactoryAccessor.setBeanFactory(EntityManagerFactoryAccessor.java:155) ~[spring-orm-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1791) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n```\r\n\r\nFor extra information. This project runs fine locally. Getting it to work in a jar took quite a bit of work and running the jar inside of docker has not worked at all for me. I would really appreciate any insights!","title":"Spring boot in docker does not seem to use application.properties","body":"<p>I am running into issues with running my spring boot application from within a docker container. When i run my jar packaged with <code>mvn package</code> locally it works normally and the app picks up the configuration in application.properties.</p>\n<p>The problem occurs when trying to run the jar in a docker container. When running it in a docker container it seems that the values in application.properties(data source etc) are no longer used when running, which makes them go back to default.</p>\n<p>I can tell this by the fact that spring tries to set the data source to localhost:5432, which is not what i have set in application.properties.</p>\n<p>This is the application.properties i am using. For what is worth, Intellij Community indicates that the properties are unused. This file is located in src/main/resources/application.properties</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\n\nspring.jpa.hibernate.ddl-auto=update\n\norg.app.jwtSecret= secret\norg.app.jwtExpirationMs=86400000\n\nspring.datasource.url=jdbc:postgresql:127.255.255.255:5432/database\nspring.datasource.username=postgres\nspring.datasource.password=password\n</code></pre>\n<p>I am using the following pom.xml. The <code>&lt;build&gt;&lt;plugin&gt;&lt;execution&gt;</code> tag was added so that application.properties is read properly in the jar, without this application.properties does not work when using <code>mvn package</code>. <code>mvn spring-boot:run</code> however does work without the execution tag. I have already tried using a <code>&lt;resources&gt;</code> tag in my <code>&lt;build&gt;</code> and it does not fix my problem.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;groupId&gt;com.org&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;project&lt;/name&gt;\n    &lt;description&gt;project&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n                &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.7.2.1&lt;/version&gt;\n                &lt;configuration combine.self=&quot;append&quot;&gt;\n                    &lt;includeTests&gt;false&lt;/includeTests&gt;\n                    &lt;effort&gt;Max&lt;/effort&gt;\n                    &lt;threshold&gt;High&lt;/threshold&gt;\n                    &lt;failOnError&gt;true&lt;/failOnError&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is the dockerfile I am using. I have tried manually passing application.properties but it does not seem to work for me. <code>&quot;-Dspring.config.location=file:/application.properties&quot;</code> does not seem to affect anything or fix my problem. Using <code>&quot;--spring.config.location=file:/application.properties&quot;</code> instead is an unresolved argument and does not do anything either. Removing the manual <code>spring.config.location</code> also does not do anything.</p>\n<pre><code>FROM eclipse-temurin:17-jdk-alpine\nVOLUME /tmp\nARG DB_USERNAME\nARG DB_PASSWORD\nARG DB_URL\nENV DB_URL=$DB_URL\nENV DB_USERNAME=$DB_USERNAME\nENV DB_PASSWORD=$DB_PASSWORD\nADD /target/*.jar app.jar\nADD /src/main/resources/application.properties /application.properties\nENTRYPOINT [&quot;java&quot;, &quot;-Dspring.config.location=file:/application.properties&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n\n</code></pre>\n<p>This is the start of the build log for running the application inside the docker container. You can see that spring is trying to connect to localhost:5432 which is not what has been set in application.properties</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.7)\n\n2023-10-02 18:01:47.269  INFO 1 --- [           main] com.org.project.projectApplication    : Starting projectApplication v0.0.1-SNAPSHOT using Java 17.0.8.1 on 681bd9eb3734 with PID 1 (/app.jar started by root in /)\n2023-10-02 18:01:47.273 DEBUG 1 --- [           main] com.org.project.projectApplication    : Running with Spring Boot v2.6.7, Spring v5.3.19\n2023-10-02 18:01:47.275  INFO 1 --- [           main] com.org.project.projectApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-02 18:01:48.585  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-02 18:01:48.721  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 12 JPA repository interfaces.\n2023-10-02 18:01:49.903  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-02 18:01:49.920  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-02 18:01:49.921  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\n2023-10-02 18:01:50.024  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-02 18:01:50.025  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2675 ms\n2023-10-02 18:01:50.131  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-10-02 18:01:50.330  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-10-02 18:01:50.426  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.8.Final\n2023-10-02 18:01:50.716  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-10-02 18:01:50.874  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-10-02 18:01:51.935 ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:301) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at org.postgresql.Driver.makeConnection(Driver.java:466) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at org.postgresql.Driver.connect(Driver.java:265) ~[postgresql-42.3.1.jar!/:42.3.1]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar!/:5.6.8.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1282) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1243) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.findEntityManagerFactory(EntityManagerFactoryUtils.java:121) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.orm.jpa.EntityManagerFactoryAccessor.setBeanFactory(EntityManagerFactoryAccessor.java:155) ~[spring-orm-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1791) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar!/:5.3.19]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\n</code></pre>\n<p>For extra information. This project runs fine locally. Getting it to work in a jar took quite a bit of work and running the jar inside of docker has not worked at all for me. I would really appreciate any insights!</p>\n"},{"tags":["java","nio","netty"],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340650191,"creation_date":1340650191,"answer_id":11195426,"question_id":11195186,"body_markdown":"You can pass it via the constructor. Just checkout the javadocs.","title":"Netty large POJO transfer error: TooLongFrameException","body":"<p>You can pass it via the constructor. Just checkout the javadocs.</p>\n"},{"tags":[],"owner":{"account_id":7298493,"reputation":304,"user_id":5562284,"display_name":"nouveu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696273474,"creation_date":1696273474,"answer_id":77217901,"question_id":11195186,"body_markdown":"For future readers. This exception is also thrown from `ObjectDecoder` when you send plain HTTP request. If you want to implement regular HTTP server then you should register `HttpServerCodec` instead.\r\n\r\nSee example [implementation][1] and `HttpServerCodec` [docs][2].\r\n\r\n\r\n  [1]: https://www.mastertheboss.com/jboss-frameworks/netty/how-to-create-an-http-server-with-netty/\r\n  [2]: https://netty.io/4.1/api/io/netty/handler/codec/http/HttpServerCodec.html","title":"Netty large POJO transfer error: TooLongFrameException","body":"<p>For future readers. This exception is also thrown from <code>ObjectDecoder</code> when you send plain HTTP request. If you want to implement regular HTTP server then you should register <code>HttpServerCodec</code> instead.</p>\n<p>See example <a href=\"https://www.mastertheboss.com/jboss-frameworks/netty/how-to-create-an-http-server-with-netty/\" rel=\"nofollow noreferrer\">implementation</a> and <code>HttpServerCodec</code> <a href=\"https://netty.io/4.1/api/io/netty/handler/codec/http/HttpServerCodec.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11195426,"answer_count":2,"score":2,"last_activity_date":1696273474,"creation_date":1340649200,"question_id":11195186,"body_markdown":"I have a netty pipeline such as:\r\n\r\n                return Channels.pipeline(\r\n                        new ObjectEncoder(),\r\n                        new ObjectDecoder(),\r\n                        new MyCustomCommandServerHandler());\r\n\r\nFor both the client and server where:\r\n\r\n    MyCustomCommandServerHandler extends SimpleChannelUpstreamHandler\r\n\r\nThe error I&#39;m getting is that the POJO I&#39;m trying to send back from the server to the client is too large and results in the following error:\r\n\r\n**org.jboss.netty.handler.codec.frame.TooLongFrameException: Adjusted frame length exceeds 1048576: 1816357 - discarded**\r\n\r\nHow do I adjust the ObjectEncoder/Decoder to take larger sized POJO objects?","title":"Netty large POJO transfer error: TooLongFrameException","body":"<p>I have a netty pipeline such as:</p>\n\n<pre><code>            return Channels.pipeline(\n                    new ObjectEncoder(),\n                    new ObjectDecoder(),\n                    new MyCustomCommandServerHandler());\n</code></pre>\n\n<p>For both the client and server where:</p>\n\n<pre><code>MyCustomCommandServerHandler extends SimpleChannelUpstreamHandler\n</code></pre>\n\n<p>The error I'm getting is that the POJO I'm trying to send back from the server to the client is too large and results in the following error:</p>\n\n<p><strong>org.jboss.netty.handler.codec.frame.TooLongFrameException: Adjusted frame length exceeds 1048576: 1816357 - discarded</strong></p>\n\n<p>How do I adjust the ObjectEncoder/Decoder to take larger sized POJO objects?</p>\n"},{"tags":["java","testng","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696273409,"creation_date":1695050844,"answer_id":77128483,"question_id":77119974,"body_markdown":"`current.teststep` property will return step currently under execution or last completed one if no step in execution state. You can use [step listener][1].\r\n\r\n\r\nIf you want to create custom reporting, best way is to implement [TestCaseResultUpdator][2] interface. Here you can find few reporting [examples][3] with TestCaseResultUpdator implementation.\r\n\r\n**EDIT:**\r\nsimilar to the example in question, below code works fine for me:\r\n\r\n```\r\n    @MetaData(&quot;{&#39;isSetup&#39;:true}&quot;)\r\n    @QAFTestStep(description = &quot;Test Step-1&quot;)\r\n    public static void step1() {\r\n    \tTestStep step = (TestStep) TestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;);\r\n\t\tMap&lt;String, Object&gt; metadata = step.getMetaData();\r\n    \tReporter.log(&quot;metadata: &quot; + metadata);\r\n    }\r\n```\r\nIn example above meta-data is optional, just added to demonstrate additional meta-data feature, available with step. Here is report:\r\n[![step report][4]][4]\r\n\r\nAgain, **this is not right way for reporting**. For reporting either step listener or result listener should be used.\r\n\r\n  [1]: https://qmetry.github.io/qaf/latest/qaf_listeners.html#teststep-listener\r\n  [2]: https://qmetry.github.io/qaf/latest/integration_with_other_tools.html\r\n  [3]: https://github.com/qmetry/qaf/tree/master/src/com/qmetry/qaf/automation/report\r\n  [4]: https://i.stack.imgur.com/SzK1y.png","title":"How to get current BDD step in QAF?","body":"<p><code>current.teststep</code> property will return step currently under execution or last completed one if no step in execution state. You can use <a href=\"https://qmetry.github.io/qaf/latest/qaf_listeners.html#teststep-listener\" rel=\"nofollow noreferrer\">step listener</a>.</p>\n<p>If you want to create custom reporting, best way is to implement <a href=\"https://qmetry.github.io/qaf/latest/integration_with_other_tools.html\" rel=\"nofollow noreferrer\">TestCaseResultUpdator</a> interface. Here you can find few reporting <a href=\"https://github.com/qmetry/qaf/tree/master/src/com/qmetry/qaf/automation/report\" rel=\"nofollow noreferrer\">examples</a> with TestCaseResultUpdator implementation.</p>\n<p><strong>EDIT:</strong>\nsimilar to the example in question, below code works fine for me:</p>\n<pre><code>    @MetaData(&quot;{'isSetup':true}&quot;)\n    @QAFTestStep(description = &quot;Test Step-1&quot;)\n    public static void step1() {\n        TestStep step = (TestStep) TestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;);\n        Map&lt;String, Object&gt; metadata = step.getMetaData();\n        Reporter.log(&quot;metadata: &quot; + metadata);\n    }\n</code></pre>\n<p>In example above meta-data is optional, just added to demonstrate additional meta-data feature, available with step. Here is report:\n<a href=\"https://i.stack.imgur.com/SzK1y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzK1y.png\" alt=\"step report\" /></a></p>\n<p>Again, <strong>this is not right way for reporting</strong>. For reporting either step listener or result listener should be used.</p>\n"}],"owner":{"account_id":12044988,"reputation":17,"user_id":10069320,"display_name":"Renish K.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696273409,"creation_date":1694907043,"question_id":77119974,"body_markdown":"I&#39;m writing a custom report in QAF and I want to pass the current BDD step with parameters into my custom report. I&#39;m looking to implement both inside StepDefinition code and listener.\r\n\r\nI have tried the below code inside Step Definition.\r\n\r\n```\r\nTestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;)\r\n```\r\n\r\n**EDITED:**\r\n```\r\n@QAFTestStep(description = &quot;Test step&quot;)\r\npublic void testStep() {\r\n    System.out.println(&quot;===CURRENT Test Step ===&gt; &quot;+ \r\n    getBundle().getPropertyValue(&quot;current.teststep&quot;));\r\n}\r\n```\r\n\r\nOUTPUT:\r\n```\r\n===CURRENT Test Step ===&gt; current.teststep\r\n```","title":"How to get current BDD step in QAF?","body":"<p>I'm writing a custom report in QAF and I want to pass the current BDD step with parameters into my custom report. I'm looking to implement both inside StepDefinition code and listener.</p>\n<p>I have tried the below code inside Step Definition.</p>\n<pre><code>TestBaseProvider.instance().get().getContext().getProperty(&quot;current.teststep&quot;)\n</code></pre>\n<p><strong>EDITED:</strong></p>\n<pre><code>@QAFTestStep(description = &quot;Test step&quot;)\npublic void testStep() {\n    System.out.println(&quot;===CURRENT Test Step ===&gt; &quot;+ \n    getBundle().getPropertyValue(&quot;current.teststep&quot;));\n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>===CURRENT Test Step ===&gt; current.teststep\n</code></pre>\n"},{"tags":["java","spring","activemq"],"answers":[{"tags":[],"owner":{"account_id":2595198,"reputation":3707,"user_id":2255293,"display_name":"Marco Behler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586000090,"creation_date":1586000090,"answer_id":61027476,"question_id":61027263,"body_markdown":"Yes, the property is different:\r\n\r\n    maximumActiveSessionPerConnection\r\n\r\nTry that instead in your Spring config.","title":"Invalid property &#39;maximumActive&#39; of bean class","body":"<p>Yes, the property is different:</p>\n\n<pre><code>maximumActiveSessionPerConnection\n</code></pre>\n\n<p>Try that instead in your Spring config.</p>\n"}],"owner":{"account_id":3777782,"reputation":81,"user_id":3138101,"accept_rate":0,"display_name":"user3138101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":61027476,"answer_count":1,"score":-1,"last_activity_date":1696273336,"creation_date":1585999040,"question_id":61027263,"body_markdown":"I am getting this error when trying to connect to ActiveMQ.\r\n```\r\nConnectException: Invalid property &#39;maximumActive&#39; of bean class [org.apache.activemq.pool.PooledConnectionFactory]: Bean property &#39;maximumActive&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\r\n```\r\nI&#39;m not sure what does it mean. Did I miss something in the bean creation? \r\n\r\nI have this setting :\r\n```xml\r\n&lt;bean id=&quot;llmJmsConnectionFactory&quot; class=&quot;org.apache.activemq.pool.PooledConnectionFactory&quot;&gt;\r\n\t&lt;property name=&quot;maximumActiveSessionPerConnection&quot; value=&quot;20&quot; /&gt;\r\n\t&lt;property name=&quot;maxConnections&quot; value=&quot;10&quot; /&gt;\r\n\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;llmJmsConnectionFactoryBase&quot; /&gt;\r\n&lt;/bean&gt;\r\n```","title":"Invalid property &#39;maximumActive&#39; of bean class","body":"<p>I am getting this error when trying to connect to ActiveMQ.</p>\n<pre><code>ConnectException: Invalid property 'maximumActive' of bean class [org.apache.activemq.pool.PooledConnectionFactory]: Bean property 'maximumActive' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n</code></pre>\n<p>I'm not sure what does it mean. Did I miss something in the bean creation?</p>\n<p>I have this setting :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;llmJmsConnectionFactory&quot; class=&quot;org.apache.activemq.pool.PooledConnectionFactory&quot;&gt;\n    &lt;property name=&quot;maximumActiveSessionPerConnection&quot; value=&quot;20&quot; /&gt;\n    &lt;property name=&quot;maxConnections&quot; value=&quot;10&quot; /&gt;\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;llmJmsConnectionFactoryBase&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","jdbc","oracle12c"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1581316309,"post_id":60145124,"comment_id":106376626,"body_markdown":"so do you have a question?","body":"so do you have a question?"},{"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"score":0,"creation_date":1581316568,"post_id":60145124,"comment_id":106376718,"body_markdown":"@ScaryWombat  Thanks for your valuable time. We need to understand why the error occurs and how we can avoid it.","body":"@ScaryWombat  Thanks for your valuable time. We need to understand why the error occurs and how we can avoid it."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1581316724,"post_id":60145124,"comment_id":106376766,"body_markdown":"well it says *Unknown host specified* so really you need to tell how you are connecting.  Are you connecting remotely? Using DNS? Maybe just have a flakey network","body":"well it says <i>Unknown host specified</i> so really you need to tell how you are connecting.  Are you connecting remotely? Using DNS? Maybe just have a flakey network"},{"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"score":0,"creation_date":1581316906,"post_id":60145124,"comment_id":106376823,"body_markdown":"@ScaryWombat We are using DNS to connect and here is the connection string \njdbc:oracle:thin:@SERVERNAME:1521/test","body":"@ScaryWombat We are using DNS to connect and here is the connection string  jdbc:oracle:thin:@SERVERNAME:1521/test"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1581317069,"post_id":60145124,"comment_id":106376882,"body_markdown":"Maybe use ip address instead ?","body":"Maybe use ip address instead ?"},{"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"score":0,"creation_date":1581317253,"post_id":60145124,"comment_id":106376950,"body_markdown":"@ScaryWombat Thanks for your suggestion. But is there any way to check the cause","body":"@ScaryWombat Thanks for your suggestion. But is there any way to check the cause"}],"answers":[{"tags":[],"owner":{"account_id":17439296,"reputation":637,"user_id":12647099,"display_name":"Maulik Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581317637,"creation_date":1581317208,"answer_id":60145318,"question_id":60145124,"body_markdown":"It&#39;s more of network issue, check your server configuration and make sure it is listening to right hosts and ports in both dev and production environment. \n\nUnknown host error suggests that it cannot resolve address to right machine IP. If you can use IP addresses it will stop resolving host and also reduce resolving latency at each connection request.\n\nChnaces are, Your DNS server isn&#39;t keeping up with requests made and failing to respond. Best way to fix this is to use static internal IP addresses to your hosts and use them directly. Or fine tune servers so they can handle the requests concurrency.\n\nEdit :\n\nSecond exceptions tells that your DB server is rejecting login credentials, or login process fails. Thus authentication failed exception is thrown.\n\nAs you may have network issues, I&#39;d suggest to check quality of network between two hosts and ensure that your packets are dropped without error.\n\nOtherwise as the error suggests, credentials are not honoured at database and it might have to do with server having multiple network interfaces but server only listening to one network interface and rejecting connections from all other ( assuming standard production server environment )","title":"Database connection problem - Caused by: java.sql.SQLRecoverableException: IO Error: Unknown host specified","body":"<p>It's more of network issue, check your server configuration and make sure it is listening to right hosts and ports in both dev and production environment. </p>\n\n<p>Unknown host error suggests that it cannot resolve address to right machine IP. If you can use IP addresses it will stop resolving host and also reduce resolving latency at each connection request.</p>\n\n<p>Chnaces are, Your DNS server isn't keeping up with requests made and failing to respond. Best way to fix this is to use static internal IP addresses to your hosts and use them directly. Or fine tune servers so they can handle the requests concurrency.</p>\n\n<p>Edit :</p>\n\n<p>Second exceptions tells that your DB server is rejecting login credentials, or login process fails. Thus authentication failed exception is thrown.</p>\n\n<p>As you may have network issues, I'd suggest to check quality of network between two hosts and ensure that your packets are dropped without error.</p>\n\n<p>Otherwise as the error suggests, credentials are not honoured at database and it might have to do with server having multiple network interfaces but server only listening to one network interface and rejecting connections from all other ( assuming standard production server environment )</p>\n"}],"owner":{"account_id":2401744,"reputation":486,"user_id":2127405,"accept_rate":88,"display_name":"User12345"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11335,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696273335,"creation_date":1581316159,"question_id":60145124,"body_markdown":"We have faced database connection issue suddenly in the production instance. After the restart, application working again. \r\n\r\nHere is the stack trace \r\n\r\n    06 Feb 2020 11:11:37,714 [http-nio-6060-exec-21] ERROR IntegrationDAOImpl : authenticate user failed\r\n    org.hibernate.exception.JDBCConnectionException: Cannot open connection\r\n    \tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:74)\r\n    \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)\r\n    \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:29)\r\n    \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:426)\r\n    \tat org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:144)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:139)\r\n    \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1547)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:673)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:236)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2220)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2099)\r\n    \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:289)\r\n    \tat org.hibernate.impl.SessionImpl.listCustomQuery(SessionImpl.java:1695)\r\n    \tat org.hibernate.impl.AbstractSessionImpl.list(AbstractSessionImpl.java:142)\r\n    \tat org.hibernate.impl.SQLQueryImpl.list(SQLQueryImpl.java:152)\r\n    \tat com.base.action.user.LoginUserAction.loginTouch(LoginUserAction.java:387)\r\n    \tat sun.reflect.GeneratedMethodAccessor1753.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:441)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:280)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:243)\r\n    \tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:165)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:252)\r\n    \tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:122)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:179)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:94)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:235)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:89)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:130)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:267)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:138)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:165)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:179)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:488)\r\n    \tat org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.sql.SQLRecoverableException: IO Error: Unknown host specified \r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:666)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:566)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:283)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:271)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:255)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:236)\r\n    \tat org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\r\n    \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)\r\n    \t... 85 more\r\n    Caused by: oracle.net.ns.NetException: Unknown host specified \r\n    \tat oracle.net.resolver.HostnameNamingAdapter.resolve(HostnameNamingAdapter.java:207)\r\n    \tat oracle.net.resolver.NameResolver.resolveName(NameResolver.java:131)\r\n    \tat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:475)\r\n    \tat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:595)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:230)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1452)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:496)\r\n    \t... 96 more\r\n\r\n\r\nWe are running another socket application on the same server. We faced the same error that application also. Here is the log of our second application\r\n\r\n    2020-02-06 11:05:18,589 [pool-2-thread-4] \r\n    ERROR DbConnection : Db error\r\n    java.sql.SQLRecoverableException: IO Error: Unknown host specified \r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:666)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:566)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n    \tat utils.DbConnection.getConnection(DbConnection.java:25)\r\n    \tat requestValidation.validatePcbEnd(PanaCIMRequestValidation.java:812)\r\n    \tat xmlConvert.ConvertReceivedXMLToObject.extractMaterialReqXmlToObjects(ConvertReceivedXMLToObject.java:73)\r\n    \tat clientapplication.SendResponseToClient.run(SendResponseToClient.java:68)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:835)\r\n    Caused by: oracle.net.ns.NetException: Unknown host specified \r\n    \tat oracle.net.resolver.HostnameNamingAdapter.resolve(HostnameNamingAdapter.java:207)\r\n    \tat oracle.net.resolver.NameResolver.resolveName(NameResolver.java:131)\r\n    \tat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:475)\r\n    \tat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:595)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:230)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1452)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:496)\r\n    \t... 12 more\t\r\n\r\n\r\nBut during that time ,we can able to establish connection with the database using Sql developer. \r\n\r\nWhat can be the issue here? How we can avoid it?\r\n\r\nHere is the connection string, \r\n\r\n**jdbc:oracle:thin:@SERVERNAME:1521/test** \r\nJDBC : https://mvnrepository.com/artifact/com.oracle/ojdbc7/12.1.0.2\r\n","title":"Database connection problem - Caused by: java.sql.SQLRecoverableException: IO Error: Unknown host specified","body":"<p>We have faced database connection issue suddenly in the production instance. After the restart, application working again. </p>\n\n<p>Here is the stack trace </p>\n\n<pre><code>06 Feb 2020 11:11:37,714 [http-nio-6060-exec-21] ERROR IntegrationDAOImpl : authenticate user failed\norg.hibernate.exception.JDBCConnectionException: Cannot open connection\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:74)\n    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)\n    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:29)\n    at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:426)\n    at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:144)\n    at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:139)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1547)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:673)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:236)\n    at org.hibernate.loader.Loader.doList(Loader.java:2220)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)\n    at org.hibernate.loader.Loader.list(Loader.java:2099)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:289)\n    at org.hibernate.impl.SessionImpl.listCustomQuery(SessionImpl.java:1695)\n    at org.hibernate.impl.AbstractSessionImpl.list(AbstractSessionImpl.java:142)\n    at org.hibernate.impl.SQLQueryImpl.list(SQLQueryImpl.java:152)\n    at com.base.action.user.LoginUserAction.loginTouch(LoginUserAction.java:387)\n    at sun.reflect.GeneratedMethodAccessor1753.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:441)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:280)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:243)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:165)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:252)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:122)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:179)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:94)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:235)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:89)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:130)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:267)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:138)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:165)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:179)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:488)\n    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.sql.SQLRecoverableException: IO Error: Unknown host specified \n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:666)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:566)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:283)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:271)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:255)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:236)\n    at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\n    at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)\n    ... 85 more\nCaused by: oracle.net.ns.NetException: Unknown host specified \n    at oracle.net.resolver.HostnameNamingAdapter.resolve(HostnameNamingAdapter.java:207)\n    at oracle.net.resolver.NameResolver.resolveName(NameResolver.java:131)\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:475)\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:595)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:230)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1452)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:496)\n    ... 96 more\n</code></pre>\n\n<p>We are running another socket application on the same server. We faced the same error that application also. Here is the log of our second application</p>\n\n<pre><code>2020-02-06 11:05:18,589 [pool-2-thread-4] \nERROR DbConnection : Db error\njava.sql.SQLRecoverableException: IO Error: Unknown host specified \n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:666)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:566)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at utils.DbConnection.getConnection(DbConnection.java:25)\n    at requestValidation.validatePcbEnd(PanaCIMRequestValidation.java:812)\n    at xmlConvert.ConvertReceivedXMLToObject.extractMaterialReqXmlToObjects(ConvertReceivedXMLToObject.java:73)\n    at clientapplication.SendResponseToClient.run(SendResponseToClient.java:68)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: oracle.net.ns.NetException: Unknown host specified \n    at oracle.net.resolver.HostnameNamingAdapter.resolve(HostnameNamingAdapter.java:207)\n    at oracle.net.resolver.NameResolver.resolveName(NameResolver.java:131)\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:475)\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:595)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:230)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1452)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:496)\n    ... 12 more \n</code></pre>\n\n<p>But during that time ,we can able to establish connection with the database using Sql developer. </p>\n\n<p>What can be the issue here? How we can avoid it?</p>\n\n<p>Here is the connection string, </p>\n\n<p><strong>jdbc:oracle:thin:@SERVERNAME:1521/test</strong> \nJDBC : <a href=\"https://mvnrepository.com/artifact/com.oracle/ojdbc7/12.1.0.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.oracle/ojdbc7/12.1.0.2</a></p>\n"},{"tags":["java","android","c","kotlin","math"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1696265116,"post_id":77217163,"comment_id":136127942,"body_markdown":"Those are (very nearly) the same number, just displayed differently?","body":"Those are (very nearly) the same number, just displayed differently?"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1696265863,"post_id":77217163,"comment_id":136128054,"body_markdown":"Read up on what functions kotlin has available for converting floating point numbers to strings and use one that gives your desired format.","body":"Read up on what functions kotlin has available for converting floating point numbers to strings and use one that gives your desired format."},{"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":1,"creation_date":1696265881,"post_id":77217163,"comment_id":136128060,"body_markdown":"Re “what I want to do is this `3.08e^(-4*bsix*bsix)`”: That does not make sense; `3.08e` is not a defined literal in C or Java source code. Do you want to compute 3.08e-4 to the power of (bsix*bsix)?","body":"Re “what I want to do is this <code>3.08e^(-4*bsix*bsix)</code>”: That does not make sense; <code>3.08e</code> is not a defined literal in C or Java source code. Do you want to compute 3.08e-4 to the power of (bsix*bsix)?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1696265917,"post_id":77217163,"comment_id":136128064,"body_markdown":"Note that the `e` in `3.08e-4` is not [Euler&#39;s number](https://en.wikipedia.org/wiki/E_(mathematical_constant)).  So if what you&#39;re trying to compute is `3.08 * 2.71828 ** (-4 * bsix * bsix)`, then you would need to use the `exp` function in C.","body":"Note that the <code>e</code> in <code>3.08e-4</code> is not <a href=\"https://en.wikipedia.org/wiki/E_(mathematical_constant)\" rel=\"nofollow noreferrer\">Euler&#39;s number</a>.  So if what you&#39;re trying to compute is <code>3.08 * 2.71828 ** (-4 * bsix * bsix)</code>, then you would need to use the <code>exp</code> function in C."},{"owner":{"account_id":8790688,"reputation":1,"user_id":6570619,"display_name":"Prasad Manjula"},"score":0,"creation_date":1696266757,"post_id":77217163,"comment_id":136128198,"body_markdown":"no not the exp.. the code in C language calculate the Planet positions in space. Its widely available C code..im trying to recreate in kotlin for my software","body":"no not the exp.. the code in C language calculate the Planet positions in space. Its widely available C code..im trying to recreate in kotlin for my software"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1696268425,"post_id":77217163,"comment_id":136128457,"body_markdown":"I don&#39;t see how your C code could be giving you expected results. The `e` in your image of the equation is Euler&#39;s number or some other constant, but you are using the E of scientific notation in your C code. But your C and Kotlin *results* are the same, just formatted differently.","body":"I don&#39;t see how your C code could be giving you expected results. The <code>e</code> in your image of the equation is Euler&#39;s number or some other constant, but you are using the E of scientific notation in your C code. But your C and Kotlin <i>results</i> are the same, just formatted differently."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1696269315,"post_id":77217163,"comment_id":136128635,"body_markdown":"You have correctly implemented the same thing in C and Kotlin.  However, that doesn&#39;t match the formula you have specified.","body":"You have correctly implemented the same thing in C and Kotlin.  However, that doesn&#39;t match the formula you have specified."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1696325891,"post_id":77217163,"comment_id":136135400,"body_markdown":"&quot;the code in C language calculate the Planet positions in space. Its widely available C code&quot; - please give us a link to where you found this code.","body":"&quot;the code in C language calculate the Planet positions in space. Its widely available C code&quot; - please give us a link to where you found this code."}],"answers":[{"tags":[],"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696269519,"creation_date":1696269519,"answer_id":77217551,"question_id":77217163,"body_markdown":"Given *b*&lt;sub&gt;6&lt;/sub&gt; stored in `bsix`, 3.08•&lt;i&gt;e&lt;/i&gt;&lt;sup&gt;−4•*b*&lt;sub&gt;6&lt;/sub&gt;•*b*&lt;sub&gt;6&lt;/sub&gt;&lt;/sup&gt; may be computed with `3.08*Math.exp(-4*bsix*bsix)`. The result is about 0.010779839926733713.\r\n\r\nThe C source code shown in the question does not compute the value of this expression. It computes 3.08•10&lt;sup&gt;−4&lt;/sup&gt;•*b*&lt;sub&gt;6&lt;/sub&gt;•*b*&lt;sub&gt;6&lt;/sub&gt;.","title":"Can&#39;t do e Calculations in Kotlin Correctly","body":"<p>Given <em>b</em><sub>6</sub> stored in <code>bsix</code>, 3.08•<i>e</i><sup>−4•<em>b</em><sub>6</sub>•<em>b</em><sub>6</sub></sup> may be computed with <code>3.08*Math.exp(-4*bsix*bsix)</code>. The result is about 0.010779839926733713.</p>\n<p>The C source code shown in the question does not compute the value of this expression. It computes 3.08•10<sup>−4</sup>•<em>b</em><sub>6</sub>•<em>b</em><sub>6</sub>.</p>\n"}],"owner":{"account_id":8790688,"reputation":1,"user_id":6570619,"display_name":"Prasad Manjula"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696311493,"answer_count":1,"score":-2,"last_activity_date":1696273112,"creation_date":1696265031,"question_id":77217163,"body_markdown":"I&#39;m trying to Calculate this in Kotlin but gives not expected results\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBelow is the code in C language and it gives expected result\r\n\r\n```\r\ndouble bsix=1.1890129477526807;\r\nint main() {\r\n    // Write C code here\r\n    printf(&quot;value = %f \\n&quot;,3.08e-4*bsix*bsix);\r\n}\r\n\r\nvalue = 0.000435 \r\n```\r\n\r\nBelow is the code in Kotlin it not give the expected result\r\n\r\n```\r\nval bsix=1.1890129477526807\r\nfun main() {\r\n     println(&quot;value = &quot;+ 3.08e-4*bsix*bsix);\r\n}\r\nvalue = 4.354355512964439E-4\r\n\r\n```\r\nwhat I want to do is this \r\n```\r\n3.08e^(-4*bsix*bsix)\r\n```\r\nis kotlin does calculation like this ?\r\n```\r\n3.08e^(-4)   *bsix*bsix\r\n```\r\nthank you very much\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MwxpU.png","title":"Can&#39;t do e Calculations in Kotlin Correctly","body":"<p>I'm trying to Calculate this in Kotlin but gives not expected results</p>\n<p><a href=\"https://i.stack.imgur.com/MwxpU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MwxpU.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the code in C language and it gives expected result</p>\n<pre><code>double bsix=1.1890129477526807;\nint main() {\n    // Write C code here\n    printf(&quot;value = %f \\n&quot;,3.08e-4*bsix*bsix);\n}\n\nvalue = 0.000435 \n</code></pre>\n<p>Below is the code in Kotlin it not give the expected result</p>\n<pre><code>val bsix=1.1890129477526807\nfun main() {\n     println(&quot;value = &quot;+ 3.08e-4*bsix*bsix);\n}\nvalue = 4.354355512964439E-4\n\n</code></pre>\n<p>what I want to do is this</p>\n<pre><code>3.08e^(-4*bsix*bsix)\n</code></pre>\n<p>is kotlin does calculation like this ?</p>\n<pre><code>3.08e^(-4)   *bsix*bsix\n</code></pre>\n<p>thank you very much</p>\n"},{"tags":["java","spring-boot","jms","classnotfoundexception"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1585761921,"post_id":60976647,"comment_id":107879188,"body_markdown":"Why are you using a JMS `ObjectMessage`? It&#39;s discouraged for multiple reasons.","body":"Why are you using a JMS <code>ObjectMessage</code>? It&#39;s discouraged for multiple reasons."},{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585791865,"post_id":60976647,"comment_id":107890123,"body_markdown":"@Justin: I understand that its discouraged for mulitple reasons but still I have a requirement to do it and so can&#39;t help it.","body":"@Justin: I understand that its discouraged for mulitple reasons but still I have a requirement to do it and so can&#39;t help it."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1585832926,"post_id":60976647,"comment_id":107905777,"body_markdown":"You have a specific requirement to use `ObjectMessage` even though technically the data could be transferred in other kinds of messages which are safer and don&#39;t suffer from the same limitations? Typically requirements aren&#39;t expressed at the implementation level like that.","body":"You have a specific requirement to use <code>ObjectMessage</code> even though technically the data could be transferred in other kinds of messages which are safer and don&#39;t suffer from the same limitations? Typically requirements aren&#39;t expressed at the implementation level like that."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585763375,"creation_date":1585762086,"answer_id":60976812,"question_id":60976647,"body_markdown":"You need `camelproject.EquityFeeds` on the classpath of the application consuming the JMS `ObjectMessage`. Apparently the JVM can&#39;t find it and therefore throws a `java.lang.ClassNotFoundException`.\r\n\r\nAlso, you don&#39;t need those changes to the broker&#39;s `wrapper.conf`. The *listener* is trying to deserialize the message, not the broker.","title":"ClassNotFound Exception Occured while consuming JMS ObjectMessage","body":"<p>You need <code>camelproject.EquityFeeds</code> on the classpath of the application consuming the JMS <code>ObjectMessage</code>. Apparently the JVM can't find it and therefore throws a <code>java.lang.ClassNotFoundException</code>.</p>\n\n<p>Also, you don't need those changes to the broker's <code>wrapper.conf</code>. The <em>listener</em> is trying to deserialize the message, not the broker.</p>\n"}],"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696273108,"creation_date":1585761502,"question_id":60976647,"body_markdown":"I am consuming a JMS `ObjectMessage` through a listener written in Spring Boot. I am sending the `ObjectMessage` through my Camel application to a JMS queue and I am listening to the queue from my listener class in my Spring Boot application. \r\n\r\nCode: \r\n```java\r\nfinal BindyCsvDataFormat bindy = new BindyCsvDataFormat(EquityFeeds.class);\r\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\r\nCamelContext _ctx = new DefaultCamelContext(); \r\n_ctx.addComponent(&quot;jms&quot;, JmsComponent.jmsComponentAutoAcknowledge(connectionFactory));\r\n_ctx.addRoutes(new RouteBuilder() {\r\n\r\n    public void configure() throws Exception {\r\n\t    from(&quot;file:src/main/resources?fileName=data.csv&quot;)\t\t\t\t\r\n   \t\t    .unmarshal(bindy)\r\n            .split(body())\r\n            .streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\r\n    }\r\n});\r\n```\r\n\r\nHere is my POJO class `EquityFeeds`: \r\n\r\n```java\r\n@CsvRecord(separator = &quot;,&quot;,skipFirstLine = true)\r\npublic class EquityFeeds implements Serializable {\r\n    \t\r\n\tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n\t@DataField(pos = 1)\t\r\n\tprivate String externalTransactionId;\r\n    \t\r\n\t@DataField(pos = 2)\r\n\tprivate String clientId;\r\n    \r\n    // other fields and getters setters\r\n    ...\r\n```\r\n\r\nIn the JMS queue I am receiving the message as: \r\n\r\n```\r\ncamelproject.EquityFeeds@1665425\r\n```\r\n\r\nMy JMS listener in Spring Boot: \r\n\r\n```java\r\n@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\r\npublic void capitalIQProcessor(final Message objectMessage) throws JMSException {\r\n    Object messageData = null;\r\n    \r\n    if(objectMessage instanceof ObjectMessage) {\r\n        ObjectMessage objMessage = (ObjectMessage) objectMessage;\r\n        System.out.println(&quot;Starting Object Message.&quot;);\r\n    \r\n        Object object = objMessage.getObject();\r\n    \r\n        EquityFeeds equityFeeds = (EquityFeeds) object;\r\n    \r\n        System.out.println(&quot;Object: &quot;+equityFeeds.toString());\r\n    }    \r\n}\r\n```\r\nI am getting an Exception @ line `Object object = objMessage.getObject();`: \r\n\r\n```\r\ncapitalIQProcessor(javax.jms.Message) throws javax.jms.JMSException&#39; threw exception; nested exception is javax.jms.JMSException: Failed to build body from content. Serializable class not available to broker. Reason: java.lang.ClassNotFoundException: camelproject.EquityFeeds. Caused by: javax.jms.JMSException: Failed to build body from content. Serializable class not available to broker. Reason: java.lang.ClassNotFoundException: camelproject.EquityFeeds. Caused by: java.lang.ClassNotFoundException: camelproject.EquityFeeds\r\n```\r\n\r\nThrough Stack Overflow and other posts on the net I made the following changes: \r\n\r\n 1. I made the changes to `wrapper.conf` (apache-activemq-5.15.11-bin\\apache-activemq-5.15.11\\bin\\win64)\r\n    1. Added then entry: \r\n`wrapper.java.classpath.3=C:\\Users\\sidbharg\\eclipse-workspace\\Sid\\target\\camelproject-0.0.1-SNAPSHOT.jar`\r\nThis is the location of the .jar file where I have my POJO (EquityFeeds).\r\n    2. Also added the entry: \r\n`wrapper.java.additional.13=-Dorg.apache.activemq.SERIALIZABLE_PACKAGES=&quot;*&quot;`\r\n\r\n 2. In My Consumer code I also added `activeMQConnectionFactory.setTrustAllPackages(true);`:\r\n\r\n```java\r\npublic ActiveMQConnectionFactory activeMQConnectionFactory() {\r\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n        activeMQConnectionFactory.setBrokerURL(brokerURL);\r\n        activeMQConnectionFactory.setTrustAllPackages(true);\r\n        return activeMQConnectionFactory;\r\n}\r\n```\r\n\r\nNow what is the issue? Why its giving me the exception. Where I am going wrong? Is there anything which I have forgotten and is needed to be added? ","title":"ClassNotFound Exception Occured while consuming JMS ObjectMessage","body":"<p>I am consuming a JMS <code>ObjectMessage</code> through a listener written in Spring Boot. I am sending the <code>ObjectMessage</code> through my Camel application to a JMS queue and I am listening to the queue from my listener class in my Spring Boot application.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final BindyCsvDataFormat bindy = new BindyCsvDataFormat(EquityFeeds.class);\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\nCamelContext _ctx = new DefaultCamelContext(); \n_ctx.addComponent(&quot;jms&quot;, JmsComponent.jmsComponentAutoAcknowledge(connectionFactory));\n_ctx.addRoutes(new RouteBuilder() {\n\n    public void configure() throws Exception {\n        from(&quot;file:src/main/resources?fileName=data.csv&quot;)               \n            .unmarshal(bindy)\n            .split(body())\n            .streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\n    }\n});\n</code></pre>\n<p>Here is my POJO class <code>EquityFeeds</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvRecord(separator = &quot;,&quot;,skipFirstLine = true)\npublic class EquityFeeds implements Serializable {\n        \n    private static final long serialVersionUID = 1L;\n        \n    @DataField(pos = 1) \n    private String externalTransactionId;\n        \n    @DataField(pos = 2)\n    private String clientId;\n    \n    // other fields and getters setters\n    ...\n</code></pre>\n<p>In the JMS queue I am receiving the message as:</p>\n<pre><code>camelproject.EquityFeeds@1665425\n</code></pre>\n<p>My JMS listener in Spring Boot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\npublic void capitalIQProcessor(final Message objectMessage) throws JMSException {\n    Object messageData = null;\n    \n    if(objectMessage instanceof ObjectMessage) {\n        ObjectMessage objMessage = (ObjectMessage) objectMessage;\n        System.out.println(&quot;Starting Object Message.&quot;);\n    \n        Object object = objMessage.getObject();\n    \n        EquityFeeds equityFeeds = (EquityFeeds) object;\n    \n        System.out.println(&quot;Object: &quot;+equityFeeds.toString());\n    }    \n}\n</code></pre>\n<p>I am getting an Exception @ line <code>Object object = objMessage.getObject();</code>:</p>\n<pre><code>capitalIQProcessor(javax.jms.Message) throws javax.jms.JMSException' threw exception; nested exception is javax.jms.JMSException: Failed to build body from content. Serializable class not available to broker. Reason: java.lang.ClassNotFoundException: camelproject.EquityFeeds. Caused by: javax.jms.JMSException: Failed to build body from content. Serializable class not available to broker. Reason: java.lang.ClassNotFoundException: camelproject.EquityFeeds. Caused by: java.lang.ClassNotFoundException: camelproject.EquityFeeds\n</code></pre>\n<p>Through Stack Overflow and other posts on the net I made the following changes:</p>\n<ol>\n<li><p>I made the changes to <code>wrapper.conf</code> (apache-activemq-5.15.11-bin\\apache-activemq-5.15.11\\bin\\win64)</p>\n<ol>\n<li>Added then entry:\n<code>wrapper.java.classpath.3=C:\\Users\\sidbharg\\eclipse-workspace\\Sid\\target\\camelproject-0.0.1-SNAPSHOT.jar</code>\nThis is the location of the .jar file where I have my POJO (EquityFeeds).</li>\n<li>Also added the entry:\n<code>wrapper.java.additional.13=-Dorg.apache.activemq.SERIALIZABLE_PACKAGES=&quot;*&quot;</code></li>\n</ol>\n</li>\n<li><p>In My Consumer code I also added <code>activeMQConnectionFactory.setTrustAllPackages(true);</code>:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public ActiveMQConnectionFactory activeMQConnectionFactory() {\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n        activeMQConnectionFactory.setBrokerURL(brokerURL);\n        activeMQConnectionFactory.setTrustAllPackages(true);\n        return activeMQConnectionFactory;\n}\n</code></pre>\n<p>Now what is the issue? Why its giving me the exception. Where I am going wrong? Is there anything which I have forgotten and is needed to be added?</p>\n"},{"tags":["java","discord","bots"],"comments":[{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1668581694,"post_id":74456070,"comment_id":131437451,"body_markdown":"It sounds like there is something wrong with the format (from discord) and your ide cant show it. Try to use getContentDisplay() which is a formatted text instead of getContentRaw which will return a raw textual content","body":"It sounds like there is something wrong with the format (from discord) and your ide cant show it. Try to use getContentDisplay() which is a formatted text instead of getContentRaw which will return a raw textual content"}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668595549,"creation_date":1668595549,"answer_id":74459101,"question_id":74456070,"body_markdown":"You are missing the message content intent. This is explained in the [troubleshooting guide](https://jda.wiki/using-jda/troubleshooting/#cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent).","title":"JDA Discord Bot not recognizing user messages properly","body":"<p>You are missing the message content intent. This is explained in the <a href=\"https://jda.wiki/using-jda/troubleshooting/#cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent\" rel=\"nofollow noreferrer\">troubleshooting guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":13412216,"reputation":1,"user_id":12416734,"display_name":"Drilon Aliu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696272673,"creation_date":1696272644,"answer_id":77217827,"question_id":74456070,"body_markdown":"This fixed it for me\r\n \r\n```\r\nJDABuilder builder = JDABuilder.createDefault(&quot;asdfafdas&quot;);\r\nbuilder.enableIntents(GatewayIntent.MESSAGE_CONTENT);\r\n```","title":"JDA Discord Bot not recognizing user messages properly","body":"<p>This fixed it for me</p>\n<pre><code>JDABuilder builder = JDABuilder.createDefault(&quot;asdfafdas&quot;);\nbuilder.enableIntents(GatewayIntent.MESSAGE_CONTENT);\n</code></pre>\n"}],"owner":{"account_id":25534230,"reputation":1,"user_id":19321632,"display_name":"Extrreme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696272673,"creation_date":1668580289,"question_id":74456070,"body_markdown":"Whenever a user in my discord sends a message, I try to log that message, however it thinks the message length is always zero. The one exception to this is that the bots own messages it detects perfectly fine.\r\n\r\n\r\n\r\n```\r\n@Override\r\npublic void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n    String message = event.getMessage().getContentRaw();\r\n\r\n    System.out.println(message + &quot; - &quot; + message.length());\r\n    if (!event.getAuthor().isBot()) {\r\n        event.getMessage().reply(&quot;test&quot;).queue();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe output of the above code in the terminal is as follows when I send a message of &quot;hello&quot;:\r\n\r\n\r\n```\r\n - 0\r\ntest - 4\r\n```\r\n\r\nAs it can be seen, the contents and length of my &quot;hello&quot; message is not being recognized, but my bots reply of &quot;test&quot; is recognized perfectly fine. I am quite puzzled by this issue and any help would be appreciated.\r\n\r\n","title":"JDA Discord Bot not recognizing user messages properly","body":"<p>Whenever a user in my discord sends a message, I try to log that message, however it thinks the message length is always zero. The one exception to this is that the bots own messages it detects perfectly fine.</p>\n<pre><code>@Override\npublic void onMessageReceived(@NotNull MessageReceivedEvent event) {\n    String message = event.getMessage().getContentRaw();\n\n    System.out.println(message + &quot; - &quot; + message.length());\n    if (!event.getAuthor().isBot()) {\n        event.getMessage().reply(&quot;test&quot;).queue();\n    }\n}\n</code></pre>\n<p>The output of the above code in the terminal is as follows when I send a message of &quot;hello&quot;:</p>\n<pre><code> - 0\ntest - 4\n</code></pre>\n<p>As it can be seen, the contents and length of my &quot;hello&quot; message is not being recognized, but my bots reply of &quot;test&quot; is recognized perfectly fine. I am quite puzzled by this issue and any help would be appreciated.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696314019,"post_id":77217583,"comment_id":136133426,"body_markdown":"`I have many (about 30 ..` That is not many. That is nothing. 3000 would not even be many.","body":"<code>I have many (about 30 ..</code> That is not many. That is nothing. 3000 would not even be many."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696314104,"post_id":77217583,"comment_id":136133438,"body_markdown":"Make a noteItem.getNoteDetailsShort(100) that delivers a certain amount of characters.","body":"Make a noteItem.getNoteDetailsShort(100) that delivers a certain amount of characters."}],"answers":[{"tags":[],"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696270951,"creation_date":1696270951,"answer_id":77217688,"question_id":77217583,"body_markdown":"You can use pagination and fetch data of a particular range. Like if you have total 300 items, get first 10 first, then next 10, continue till you get all the data\r\n\r\nFor items description, show max 2 lines in recycler and complete details can be shown in dialog or fragment. Restrict the lines of description text in layout with maxLines attribute.\r\n","title":"Android very long texts inside recyclerview items very laggy","body":"<p>You can use pagination and fetch data of a particular range. Like if you have total 300 items, get first 10 first, then next 10, continue till you get all the data</p>\n<p>For items description, show max 2 lines in recycler and complete details can be shown in dialog or fragment. Restrict the lines of description text in layout with maxLines attribute.</p>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696272577,"creation_date":1696269871,"question_id":77217583,"body_markdown":"I want to achieve fast scrolling because now it is very laggy when the code reaches this:\r\n\r\n\r\n            holderOneElement.noteTitleText.setText(noteItem.getNoteTitle());\r\n            holderOneElement.noteDetailsText.setText(noteItem.getNoteDetails());\r\n\r\n\r\nThis code is inside `onBindViewHolder()` of recyclerview.\r\n\r\nThe fact is I have many (about 30 recyclerview items, and it still growing up) and those two Strings especially noteItem.getNoteDetails() are very long, with width reaching even more than 60000 when I check width with this code:\r\n\r\n        Rect bounds = new Rect();\r\n        Paint textPaint = holderOneElement.noteDetailsText.getPaint();\r\n        textPaint.getTextBounds(noteItem.getNoteDetails(), 0, noteItem.getNoteDetails().length(), bounds);\r\n        int tvWidthWithText = bounds.width();\r\n\r\n\r\nMy idea is to show only as many `noteItem.getNoteDetails()` text as it can fit in a parent&#39;s view with `noteItem.getNoteDetails().replace(start, end)`. \r\n\r\nIt is Worth mentioning that these two textviews does not need to be showing full strings. If string is longer than text view parent size then it should be as many as it fits. \r\n\r\nMaybe then I will not be laggy... \r\n\r\nHow can I achieve that?","title":"Android very long texts inside recyclerview items very laggy","body":"<p>I want to achieve fast scrolling because now it is very laggy when the code reaches this:</p>\n<pre><code>        holderOneElement.noteTitleText.setText(noteItem.getNoteTitle());\n        holderOneElement.noteDetailsText.setText(noteItem.getNoteDetails());\n</code></pre>\n<p>This code is inside <code>onBindViewHolder()</code> of recyclerview.</p>\n<p>The fact is I have many (about 30 recyclerview items, and it still growing up) and those two Strings especially noteItem.getNoteDetails() are very long, with width reaching even more than 60000 when I check width with this code:</p>\n<pre><code>    Rect bounds = new Rect();\n    Paint textPaint = holderOneElement.noteDetailsText.getPaint();\n    textPaint.getTextBounds(noteItem.getNoteDetails(), 0, noteItem.getNoteDetails().length(), bounds);\n    int tvWidthWithText = bounds.width();\n</code></pre>\n<p>My idea is to show only as many <code>noteItem.getNoteDetails()</code> text as it can fit in a parent's view with <code>noteItem.getNoteDetails().replace(start, end)</code>.</p>\n<p>It is Worth mentioning that these two textviews does not need to be showing full strings. If string is longer than text view parent size then it should be as many as it fits.</p>\n<p>Maybe then I will not be laggy...</p>\n<p>How can I achieve that?</p>\n"},{"tags":["java","spring-boot","docker-compose"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1696303026,"post_id":77213246,"comment_id":136132564,"body_markdown":"I followed your link: __1)__ I don&#39;t think that a `maven-assembly-plugin` is mandatory, `spring-boot-maven-plugin` is enough to handle things. Try to remove assembly plugin. __2)__ In your `@SpringBootApplication` annotation, it&#39;s not `@ComponentScan(basePackages = {&quot;src.main.java.com.springlearn.learnspringdb&quot;})` but `@ComponentScan(basePackages = {&quot;com.springlearn.learnspringdb&quot;})` that you should mention. Source folder doesn&#39;t count in the path to a class.","body":"I followed your link: <b>1)</b> I don&#39;t think that a <code>maven-assembly-plugin</code> is mandatory, <code>spring-boot-maven-plugin</code> is enough to handle things. Try to remove assembly plugin. <b>2)</b> In your <code>@SpringBootApplication</code> annotation, it&#39;s not <code>@ComponentScan(basePackages = {&quot;src.main.java.com.springlearn.learnspringdb&quot;})</code> but <code>@ComponentScan(basePackages = {&quot;com.springlearn.learnspringdb&quot;})</code> that you should mention. Source folder doesn&#39;t count in the path to a class."}],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696228259,"creation_date":1696228259,"answer_id":77213587,"question_id":77213246,"body_markdown":"1. Do you have, somewhere, a class annotated `@SpringBootApplication` giving the main method?\r\n\r\n```java\r\n@SpringBootApplication\r\n@ComponentScan(basePackages={&quot;my.packages&quot;})\r\npublic class Application {\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(Application.class, args);\r\n   }\r\n}\r\n```\r\n\r\n2. Also, I don&#39;t know if it makes a difference, but I&#39;m calling the plugin that way, adding an `executable = true` configuration to it:\r\n\r\n```xml\r\n&lt;execution&gt;\r\n\t&lt;id&gt;executable-jar&lt;/id&gt;\r\n\t&lt;phase&gt;install&lt;/phase&gt;\r\n\r\n\t&lt;goals&gt;\r\n\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t&lt;/goals&gt;\r\n\r\n    &lt;configuration&gt;\r\n\t   &lt;executable&gt;true&lt;/executable&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n```\r\n","title":"Getting &quot;no main manifest attribute&quot; for spring boot application when using docker compose","body":"<ol>\n<li>Do you have, somewhere, a class annotated <code>@SpringBootApplication</code> giving the main method?</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@ComponentScan(basePackages={&quot;my.packages&quot;})\npublic class Application {\n   public static void main(String[] args) {\n      SpringApplication.run(Application.class, args);\n   }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Also, I don't know if it makes a difference, but I'm calling the plugin that way, adding an <code>executable = true</code> configuration to it:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;execution&gt;\n    &lt;id&gt;executable-jar&lt;/id&gt;\n    &lt;phase&gt;install&lt;/phase&gt;\n\n    &lt;goals&gt;\n        &lt;goal&gt;repackage&lt;/goal&gt;\n    &lt;/goals&gt;\n\n    &lt;configuration&gt;\n       &lt;executable&gt;true&lt;/executable&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":27792835,"reputation":21,"user_id":21218950,"display_name":"algouser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696272257,"creation_date":1696221341,"question_id":77213246,"body_markdown":"I am working on a simple scenario where i am launching a spring boot application and before that spinning off mysql container. I am doing this using docker-compose but i am getting `no main manifest attribute` error. \r\nFollowing is my `pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springlearn&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;learnspringdb&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;usermanagement&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;start-class&gt;om.springlearn.learnspringdb.UsermanagementApplication&lt;/start-class&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n and below is the docker-compose file.\r\n\r\n```yaml\r\nversion: &#39;3&#39;\r\nservices:\r\n  app:\r\n    container_name: spring_boot_app\r\n    build: ./\r\n    ports:\r\n     - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - mysql\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/user_management\r\n\r\n  mysql:\r\n    image: mysql:8.1.0\r\n    ports:\r\n      - &quot;3307:3036&quot;\r\n    environment:\r\n      MYSQL_ROOT_USER: root\r\n      MYSQL_ROOT_PASSWORD: password\r\n```\r\n\r\n\r\n\r\n\r\nI googled and made adjustments to pom.xml for this issue but still its not working. \r\n\r\nif i launch spring boot application individually then it works fine but giving error in docker-compose only. \r\n\r\nAny thoughts on what is missing here?   \r\n\r\nmy github repo: https://github.com/algouser/learnspringdb","title":"Getting &quot;no main manifest attribute&quot; for spring boot application when using docker compose","body":"<p>I am working on a simple scenario where i am launching a spring boot application and before that spinning off mysql container. I am doing this using docker-compose but i am getting <code>no main manifest attribute</code> error.\nFollowing is my <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springlearn&lt;/groupId&gt;\n    &lt;artifactId&gt;learnspringdb&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;usermanagement&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;start-class&gt;om.springlearn.learnspringdb.UsermanagementApplication&lt;/start-class&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>and below is the docker-compose file.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3'\nservices:\n  app:\n    container_name: spring_boot_app\n    build: ./\n    ports:\n     - &quot;8080:8080&quot;\n    depends_on:\n      - mysql\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/user_management\n\n  mysql:\n    image: mysql:8.1.0\n    ports:\n      - &quot;3307:3036&quot;\n    environment:\n      MYSQL_ROOT_USER: root\n      MYSQL_ROOT_PASSWORD: password\n</code></pre>\n<p>I googled and made adjustments to pom.xml for this issue but still its not working.</p>\n<p>if i launch spring boot application individually then it works fine but giving error in docker-compose only.</p>\n<p>Any thoughts on what is missing here?</p>\n<p>my github repo: <a href=\"https://github.com/algouser/learnspringdb\" rel=\"nofollow noreferrer\">https://github.com/algouser/learnspringdb</a></p>\n"},{"tags":["java","maven","tomcat","osx-mavericks","vraptor"],"comments":[{"owner":{"account_id":117248,"reputation":527,"user_id":307133,"accept_rate":53,"display_name":"Carlos Spohr"},"score":0,"creation_date":1391699790,"post_id":21605298,"comment_id":32644656,"body_markdown":"try remove javassist exclusion on vraptor dependency tag.","body":"try remove javassist exclusion on vraptor dependency tag."}],"answers":[{"tags":[],"owner":{"account_id":973510,"reputation":73,"user_id":995509,"accept_rate":50,"display_name":"andregnhoato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635891189,"creation_date":1391724864,"answer_id":21615228,"question_id":21605298,"body_markdown":"Figured out what was happening with the upgrade process. I&#39;m using the project, a jar that manages instances of EntityManager vraptor-jpa, when I kept the update, it occasioned the error. Compatibility could be:\n \nvraptor in version 3.4.2, use the plugin [vraptor-jpa-4.0.0.jar](https://github.com/caelum/vraptor-jpa)\n\nVraptor in version 3.5.3, the plugin uses [vraptor-jpa-1.0.1.jar](https://mvnrepository.com/artifact/br.com.caelum.vraptor/vraptor-jpa/1.0.1)\n\nThis change was enough to solve the problem.","title":"Upgrade vRaptor to 3.5.3 Java.lang.NoClassDefFoundError: br/com/caelum/vraptor/validator/Validator","body":"<p>Figured out what was happening with the upgrade process. I'm using the project, a jar that manages instances of EntityManager vraptor-jpa, when I kept the update, it occasioned the error. Compatibility could be:</p>\n<p>vraptor in version 3.4.2, use the plugin <a href=\"https://github.com/caelum/vraptor-jpa\" rel=\"nofollow noreferrer\">vraptor-jpa-4.0.0.jar</a></p>\n<p>Vraptor in version 3.5.3, the plugin uses <a href=\"https://mvnrepository.com/artifact/br.com.caelum.vraptor/vraptor-jpa/1.0.1\" rel=\"nofollow noreferrer\">vraptor-jpa-1.0.1.jar</a></p>\n<p>This change was enough to solve the problem.</p>\n"}],"owner":{"account_id":973510,"reputation":73,"user_id":995509,"accept_rate":50,"display_name":"andregnhoato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":21615228,"answer_count":1,"score":2,"last_activity_date":1696272048,"creation_date":1391695992,"question_id":21605298,"body_markdown":"I have trouble when update my pom.xml for upgrade some jars, like vraptor and hibernate... My environment is, Web project, maven, tomcat 7, vraptor, jpa, osx mavericks, before update jars, all work&#39;s fine, after the update I got this error on start tomcat:\n\n    SEVERE: Exception starting filter vraptor\n    java.lang.NoClassDefFoundError: br/com/caelum/vraptor/validator/Validator\n\tat java.lang.Class.getDeclaredConstructors0(Native Method)\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2483)\n\tat java.lang.Class.getDeclaredConstructors(Class.java:1891)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.getConstructor(GuiceComponentRegistry.java:154)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.bindToConstructor(GuiceComponentRegistry.java:140)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.register(GuiceComponentRegistry.java:84)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.deepRegister(GuiceComponentRegistry.java:101)\n\tat br.com.caelum.vraptor.scan.DynamicWebAppBootstrap.configure(DynamicWebAppBootstrap.java:46)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceProvider$2.configure(GuiceProvider.java:123)\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)\n\tat com.google.inject.spi.Elements.getElements(Elements.java:101)\n\tat com.google.inject.spi.Elements.getElements(Elements.java:92)\n\tat com.google.inject.util.Modules$RealOverriddenModuleBuilder$1.configure(Modules.java:172)\n\tat com.google.inject.AbstractModule.configure(AbstractModule.java:59)\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)\n\tat com.google.inject.spi.Elements.getElements(Elements.java:101)\n\tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:133)\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\n\tat com.google.inject.Guice.createInjector(Guice.java:95)\n\tat com.google.inject.Guice.createInjector(Guice.java:83)\n\tat br.com.caelum.vraptor.ioc.guice.GuiceProvider.start(GuiceProvider.java:97)\n\tat br.com.caelum.vraptor.VRaptor.init(VRaptor.java:119)\n\tat br.com.caelum.vraptor.VRaptor.init(VRaptor.java:113)\n\tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:281)\n\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:262)\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:107)\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4797)\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5473)\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\tat java.lang.Thread.run(Thread.java:724)\n    Caused by: java.lang.ClassNotFoundException: br.com.caelum.vraptor.validator.Validator\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\n\t... 36 more\n\n\nAbout the error I found this interface in other package: br.com.caelum.vraptor.Validator\nhere is my pom.xml:\n\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\t&lt;groupId&gt;br.com.eco&lt;/groupId&gt;\n\t&lt;artifactId&gt;e-co&lt;/artifactId&gt;\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\t&lt;packaging&gt;war&lt;/packaging&gt;\n\t&lt;properties&gt;\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\t\t&lt;project.vraptor.version&gt;3.5.3&lt;/project.vraptor.version&gt;\n\t&lt;/properties&gt;\n\n\t&lt;build&gt;\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n\t\t&lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n\t\t&lt;resources&gt;\n\t\t\t&lt;resource&gt;\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\n\t\t\t\t&lt;includes&gt;\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\n\t\t\t\t&lt;/includes&gt;\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\n\t\t\t&lt;/resource&gt;\n\t\t&lt;/resources&gt;\n\t\t&lt;plugins&gt;\n\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t&lt;source&gt;1.5&lt;/source&gt;\n\t\t\t\t\t&lt;target&gt;1.5&lt;/target&gt;\n\t\t\t\t&lt;/configuration&gt;\n\t\t\t&lt;/plugin&gt;\n\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;version&gt;2.1-beta-1&lt;/version&gt;\n\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t&lt;webappDirectory&gt;${project.basedir}/WebContent&lt;/webappDirectory&gt;\n\t\t\t\t\t&lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt;\n\t\t\t\t\t&lt;webXml&gt;${project.basedir}/WebContent/WEB-INF/web.xml&lt;/webXml&gt;\n\t\t\t\t\t&lt;packagingIncludes&gt;**/*.properties,**/*.jsp,**/*.jar,**/*.class,theme/**/*,images/**/*,**/*.xml,**/*.swf,**/*.tld,**/*.txt&lt;/packagingIncludes&gt;\n\t\t\t\t\t&lt;archive&gt;\n\t\t\t\t\t\t&lt;manifest&gt;\n\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\n\t\t\t\t\t\t&lt;/manifest&gt;\n\t\t\t\t\t&lt;/archive&gt;\n\t\t\t\t&lt;/configuration&gt;\n\t\t\t&lt;/plugin&gt;\n\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;executions&gt;\n\t\t\t\t\t&lt;execution&gt;\n\t\t\t\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\n\t\t\t\t\t\t&lt;goals&gt;\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\n\t\t\t\t\t\t&lt;/goals&gt;\n\t\t\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;WebContent/WEB-INF/lib/&lt;/outputDirectory&gt;\n\t\t\t\t\t\t&lt;/configuration&gt;\n\t\t\t\t\t&lt;/execution&gt;\n\t\t\t\t&lt;/executions&gt;\n\t\t\t&lt;/plugin&gt;\n\t\t&lt;/plugins&gt;\n\t&lt;/build&gt;\n\n\t&lt;dependencies&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;br.com.caelum&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;vraptor&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;${project.vraptor.version}&lt;/version&gt;\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\n\t\t\t&lt;exclusions&gt;\n\t\t\t\t&lt;exclusion&gt;\n\t\t\t\t\t&lt;groupId&gt;javassist&lt;/groupId&gt;\n\t\t\t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\n\t\t\t\t&lt;/exclusion&gt;\n\t\t\t&lt;/exclusions&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;br.com.caelum.vraptor&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;vraptor-environment&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;taglibs&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;standard&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;4.3.0.Final&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t        &lt;groupId&gt;br.com.caelum.vraptor&lt;/groupId&gt;\n\t        &lt;artifactId&gt;vraptor-jpa&lt;/artifactId&gt;\n\t        &lt;version&gt;4.0.0&lt;/version&gt; &lt;!-- or the latest version --&gt;\n\t    &lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;4.3.0.Final&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t&lt;/dependencies&gt;\n    &lt;/project&gt;\n\nI really can&#39;t find any reason for this, if someone have this trouble and can solved please help-me on this situation.","title":"Upgrade vRaptor to 3.5.3 Java.lang.NoClassDefFoundError: br/com/caelum/vraptor/validator/Validator","body":"<p>I have trouble when update my pom.xml for upgrade some jars, like vraptor and hibernate... My environment is, Web project, maven, tomcat 7, vraptor, jpa, osx mavericks, before update jars, all work's fine, after the update I got this error on start tomcat:</p>\n<pre><code>SEVERE: Exception starting filter vraptor\njava.lang.NoClassDefFoundError: br/com/caelum/vraptor/validator/Validator\nat java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.lang.Class.privateGetDeclaredConstructors(Class.java:2483)\nat java.lang.Class.getDeclaredConstructors(Class.java:1891)\nat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.getConstructor(GuiceComponentRegistry.java:154)\nat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.bindToConstructor(GuiceComponentRegistry.java:140)\nat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.register(GuiceComponentRegistry.java:84)\nat br.com.caelum.vraptor.ioc.guice.GuiceComponentRegistry.deepRegister(GuiceComponentRegistry.java:101)\nat br.com.caelum.vraptor.scan.DynamicWebAppBootstrap.configure(DynamicWebAppBootstrap.java:46)\nat br.com.caelum.vraptor.ioc.guice.GuiceProvider$2.configure(GuiceProvider.java:123)\nat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)\nat com.google.inject.spi.Elements.getElements(Elements.java:101)\nat com.google.inject.spi.Elements.getElements(Elements.java:92)\nat com.google.inject.util.Modules$RealOverriddenModuleBuilder$1.configure(Modules.java:172)\nat com.google.inject.AbstractModule.configure(AbstractModule.java:59)\nat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)\nat com.google.inject.spi.Elements.getElements(Elements.java:101)\nat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:133)\nat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\nat com.google.inject.Guice.createInjector(Guice.java:95)\nat com.google.inject.Guice.createInjector(Guice.java:83)\nat br.com.caelum.vraptor.ioc.guice.GuiceProvider.start(GuiceProvider.java:97)\nat br.com.caelum.vraptor.VRaptor.init(VRaptor.java:119)\nat br.com.caelum.vraptor.VRaptor.init(VRaptor.java:113)\nat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:281)\nat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:262)\nat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:107)\nat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4797)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5473)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\nat java.util.concurrent.FutureTask.run(FutureTask.java:166)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:724)\nCaused by: java.lang.ClassNotFoundException: br.com.caelum.vraptor.validator.Validator\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\n... 36 more\n</code></pre>\n<p>About the error I found this interface in other package: br.com.caelum.vraptor.Validator\nhere is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;br.com.eco&lt;/groupId&gt;\n&lt;artifactId&gt;e-co&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.vraptor.version&gt;3.5.3&lt;/project.vraptor.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.5&lt;/source&gt;\n                &lt;target&gt;1.5&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1-beta-1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;webappDirectory&gt;${project.basedir}/WebContent&lt;/webappDirectory&gt;\n                &lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt;\n                &lt;webXml&gt;${project.basedir}/WebContent/WEB-INF/web.xml&lt;/webXml&gt;\n                &lt;packagingIncludes&gt;**/*.properties,**/*.jsp,**/*.jar,**/*.class,theme/**/*,images/**/*,**/*.xml,**/*.swf,**/*.tld,**/*.txt&lt;/packagingIncludes&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;WebContent/WEB-INF/lib/&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.com.caelum&lt;/groupId&gt;\n        &lt;artifactId&gt;vraptor&lt;/artifactId&gt;\n        &lt;version&gt;${project.vraptor.version}&lt;/version&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javassist&lt;/groupId&gt;\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.com.caelum.vraptor&lt;/groupId&gt;\n        &lt;artifactId&gt;vraptor-environment&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;standard&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;4.3.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.com.caelum.vraptor&lt;/groupId&gt;\n        &lt;artifactId&gt;vraptor-jpa&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt; &lt;!-- or the latest version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n        &lt;version&gt;4.3.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I really can't find any reason for this, if someone have this trouble and can solved please help-me on this situation.</p>\n"},{"tags":["java","static","initialization"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696269935,"creation_date":1696269935,"answer_id":77217588,"question_id":77217570,"body_markdown":"Static initialization occurs in order.\r\n\r\nIn your first code snippet, the first action is to create a new instance of `A` for the static field. It needs the static field so that gets initialized to the default value, 0. The constructor then increases it to 1.\r\n\r\nIn your second code snippet, after the initialization of the static field, the value (1) is reset back to 0.","title":"different output for java static initialization","body":"<p>Static initialization occurs in order.</p>\n<p>In your first code snippet, the first action is to create a new instance of <code>A</code> for the static field. It needs the static field so that gets initialized to the default value, 0. The constructor then increases it to 1.</p>\n<p>In your second code snippet, after the initialization of the static field, the value (1) is reset back to 0.</p>\n"},{"tags":[],"owner":{"account_id":9932442,"reputation":25,"user_id":7351886,"display_name":"Robert Rowbax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696272043,"creation_date":1696271469,"answer_id":77217738,"question_id":77217570,"body_markdown":"thx [@Rob Spoor] - It makes it a bit clearer\r\nI might add this:\r\n\r\n    public class A {\r\n        public static int count=0;\r\n        public static A inst = new A();\r\n        public A() {\r\n            A.inst.count++;\r\n        }\r\n    }\r\n\r\n**output:**\r\ncount: 1 \r\ncount: 1 \r\ncount: 3\r\n\r\n    public class A {\r\n    \r\n        public static A inst = new A();\r\n        public static int count=0;\r\n        public A() {\r\n            A.inst.count++;\r\n        }\r\n    }\r\n\r\n**output:**\r\ncount: 0\r\ncount: 0\r\ncount: 2","title":"different output for java static initialization","body":"<p>thx [@Rob Spoor] - It makes it a bit clearer\nI might add this:</p>\n<pre><code>public class A {\n    public static int count=0;\n    public static A inst = new A();\n    public A() {\n        A.inst.count++;\n    }\n}\n</code></pre>\n<p><strong>output:</strong>\ncount: 1\ncount: 1\ncount: 3</p>\n<pre><code>public class A {\n\n    public static A inst = new A();\n    public static int count=0;\n    public A() {\n        A.inst.count++;\n    }\n}\n</code></pre>\n<p><strong>output:</strong>\ncount: 0\ncount: 0\ncount: 2</p>\n"}],"owner":{"account_id":9932442,"reputation":25,"user_id":7351886,"display_name":"Robert Rowbax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77217588,"answer_count":2,"score":1,"last_activity_date":1696272043,"creation_date":1696269723,"question_id":77217570,"body_markdown":"```\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;count: &quot;+A.count);\r\n\t\tSystem.out.println(&quot;count: &quot;+A.count);\r\n\t\tvar a1=new A();\r\n\t\tvar a2=new A();\r\n\t\tSystem.out.println(&quot;count: &quot;+A.count);\r\n\r\n\t}\r\n}\r\n```\r\n\r\n**1)**\r\n```\r\npublic class A {\r\n\r\n    public static A inst = new A();\r\n    public static int count;\r\n\r\n    public A() {\r\n        A.inst.count++;\r\n    }\r\n}\r\n```\r\n**output**:\r\n```\r\ncount: 1\r\ncount: 1\r\ncount: 3\r\n```\r\n\r\n**2)**\r\n```\r\npublic class A {\r\n\r\n    public static A inst = new A();\r\n    public static int count=0;\r\n    public A() {\r\n        A.inst.count++;\r\n    }\r\n}\r\n```\r\n**output**:\r\n```\r\ncount: 0\r\ncount: 0\r\ncount: 2\r\n```\r\n\r\n\r\nThe differences is in\r\n1) public static int count;\r\n2) public static int count=0;\r\n\r\nCan anyone explain this?","title":"different output for java static initialization","body":"<pre><code>public class DemoApplication {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;count: &quot;+A.count);\n        System.out.println(&quot;count: &quot;+A.count);\n        var a1=new A();\n        var a2=new A();\n        System.out.println(&quot;count: &quot;+A.count);\n\n    }\n}\n</code></pre>\n<p><strong>1)</strong></p>\n<pre><code>public class A {\n\n    public static A inst = new A();\n    public static int count;\n\n    public A() {\n        A.inst.count++;\n    }\n}\n</code></pre>\n<p><strong>output</strong>:</p>\n<pre><code>count: 1\ncount: 1\ncount: 3\n</code></pre>\n<p><strong>2)</strong></p>\n<pre><code>public class A {\n\n    public static A inst = new A();\n    public static int count=0;\n    public A() {\n        A.inst.count++;\n    }\n}\n</code></pre>\n<p><strong>output</strong>:</p>\n<pre><code>count: 0\ncount: 0\ncount: 2\n</code></pre>\n<p>The differences is in</p>\n<ol>\n<li>public static int count;</li>\n<li>public static int count=0;</li>\n</ol>\n<p>Can anyone explain this?</p>\n"},{"tags":["java","csv","apache-camel","bindy"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1585213254,"post_id":60863659,"comment_id":107684157,"body_markdown":"what is `bindy` in this line `.unmarshal(bindy)` also can u give a sample csv","body":"what is <code>bindy</code> in this line <code>.unmarshal(bindy)</code> also can u give a sample csv"},{"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"score":0,"creation_date":1585215723,"post_id":60863659,"comment_id":107685260,"body_markdown":"`final BindyCsvDataFormat bindy=new BindyCsvDataFormat(camelproject.EquityFeeds.class);`                                  sample csv **externalTransactionId,clientId,securityId,transactionType,transactionDate,marketValue,priorityFlag\nSAPEXTXN1,GS,ICICI,BUY,23/11/13,101.9,Y\nSAPEXTXN2,AS,REL,SELL,20/11/13,121.9,N  **","body":"<code>final BindyCsvDataFormat bindy=new BindyCsvDataFormat(camelproject.EquityFeeds.class);</code>                                  sample csv **externalTransactionId,clientId,securityId,transactionType,&zwnj;&#8203;transactionDate,mark&zwnj;&#8203;etValue,priorityFlag SAPEXTXN1,GS,ICICI,BUY,23/11/13,101.9,Y SAPEXTXN2,AS,REL,SELL,20/11/13,121.9,N  **"}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585218259,"creation_date":1585217848,"answer_id":60865008,"question_id":60863659,"body_markdown":"Try this. This should work\r\n\r\n\r\n            \r\n\r\n    from(&quot;file:src/main/resources?fileName=equityfeeds.csv&quot;)\r\n                        .unmarshal(new BindyCsvDataFormat(EquityFeeds.class))\r\n                        .split(body())\r\n                        .streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\r\n    // This route is for Testing\r\n    from(&quot;jms:queue:javaobjects.upstream.queue&quot;).to(&quot;bean:camelBeanComponent?method=processRoute&quot;); \r\n\r\nAnd write a consumer component bean\r\n\r\n    @Component\r\n    public class CamelBeanComponent {\r\n        public void processRoute(Exchange exchange) {\r\n            System.out.println(exchange.getIn().getBody());\r\n        }\r\n    }\r\n\r\nThis printed(You need to add `toString()` if you need output like this)\r\n\r\n    EquityFeeds(externalTransactionId=SAPEXTXN1, clientId=GS, securityId=ICICI, transactionType=BUY, transactionDate=Sun Dec 30 00:00:00 CET 2012, marketValue=101.9, priorityFlag=Y)\r\n    EquityFeeds(externalTransactionId=SAPEXTXN2, clientId=AS, securityId=REL, transactionType=SELL, transactionDate=Sun Dec 30 00:00:00 CET 2012, marketValue=121.9, priorityFlag=N)\r\n\r\n\r\nIf you use `.split().tokenize(&quot;,&quot;)` then, each field in each line(not complete line) is converted to EquityFeeds object (with other fields as null) is sent as a message to the queue\r\n\r\n","title":"Converting CSV file to Java Objects (POJO) and send it to ActiveMQ queue","body":"<p>Try this. This should work</p>\n\n<pre><code>from(\"file:src/main/resources?fileName=equityfeeds.csv\")\n                    .unmarshal(new BindyCsvDataFormat(EquityFeeds.class))\n                    .split(body())\n                    .streaming().to(\"jms:queue:javaobjects.upstream.queue\");\n// This route is for Testing\nfrom(\"jms:queue:javaobjects.upstream.queue\").to(\"bean:camelBeanComponent?method=processRoute\"); \n</code></pre>\n\n<p>And write a consumer component bean</p>\n\n<pre><code>@Component\npublic class CamelBeanComponent {\n    public void processRoute(Exchange exchange) {\n        System.out.println(exchange.getIn().getBody());\n    }\n}\n</code></pre>\n\n<p>This printed(You need to add <code>toString()</code> if you need output like this)</p>\n\n<pre><code>EquityFeeds(externalTransactionId=SAPEXTXN1, clientId=GS, securityId=ICICI, transactionType=BUY, transactionDate=Sun Dec 30 00:00:00 CET 2012, marketValue=101.9, priorityFlag=Y)\nEquityFeeds(externalTransactionId=SAPEXTXN2, clientId=AS, securityId=REL, transactionType=SELL, transactionDate=Sun Dec 30 00:00:00 CET 2012, marketValue=121.9, priorityFlag=N)\n</code></pre>\n\n<p>If you use <code>.split().tokenize(\",\")</code> then, each field in each line(not complete line) is converted to EquityFeeds object (with other fields as null) is sent as a message to the queue</p>\n"}],"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696271919,"creation_date":1585212661,"question_id":60863659,"body_markdown":"My aim is to read the csv file, convert it to Java Objects (POJO) and send the Java Objects one by one to a JMS queue. Below is the code: \r\n```java\r\npublic void configure() throws Exception {\r\n\tfrom(&quot;file:src/main/resources?fileName=data.csv&quot;)\t\t\t\t\r\n\t.unmarshal(bindy)\r\n\t.split(body())\r\n\t.to(&quot;file:src/main/resources/?fileName=equityfeeds.txt&quot;)\r\n\t.split().tokenize(&quot;,&quot;).streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\t\t\t\r\n}\r\n```\r\n**Issues:**\r\n1.When I execute the code no file(equityfeeds.txt) gets created and no objects goes to the queue. What&#39;s wrong? I don&#39;t need to do any processing right now. I just need to unmarshal the csv to POJOs and send the Java Objects one by one to the JMS queue. \r\n\r\n**EquityFeeds (POJO)**\r\n```\r\n@CsvRecord(separator = &quot;,&quot;, skipFirstLine = true)\r\npublic class EquityFeeds {\r\n\t\r\n\t@DataField(pos = 1)\t\r\n\tprivate String externalTransactionId;\r\n\t\r\n\t@DataField(pos = 2)\r\n\tprivate String clientId;\r\n\t\r\n\t@DataField(pos = 3)\r\n\tprivate String securityId;\r\n\t\r\n\t@DataField(pos = 4)\r\n\tprivate String transactionType;\r\n\t\r\n\t@DataField(pos = 5, pattern = &quot;dd/MM/YY&quot;)\r\n\tprivate Date transactionDate;\r\n\t\r\n\t@DataField(pos = 6)\r\n\tprivate float marketValue; \r\n\t\r\n\t@DataField(pos = 7)\r\n\tprivate String priorityFlag;\r\n```\r\n\r\nPlease kindly help. Please tell me where I am going wrong. \r\n\r\n@pvpkiran:Below is my Camel Code for producer: \r\n```\r\npublic void configure() throws Exception {\r\n\tfrom(&quot;file:src/main/resources?fileName=data.csv&quot;)\t\t\t\t\r\n\t\t.unmarshal(bindy)\r\n\t\t.split(body())\r\n\t\t.streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\r\n}\r\n```\r\nBelow is my Consumer Code (Using JMS API):\r\n```\r\n@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\r\npublic void javaObjectsListener(final Message objectMessage) throws JMSException {\r\n    Object messageData = null;\r\n    if(objectMessage instanceof ObjectMessage) {\r\n        ObjectMessage objMessage = (ObjectMessage) objectMessage;\r\n        messageData = objMessage.getObject();\r\n    }\r\n    System.out.println(&quot;Object: &quot;+messageData.toString());\r\n}\r\n```\r\nI am not using Camel for consuming the JMS message. In the consumer I am using JMS API for consuming the message (as above). Also I am not testing the code. In the terminal in am getting `NullPointerException`. Also 2 message have gone into the DLQ giving the below Error Message: \r\n```\r\njava.lang.Throwable: Delivery[7] exceeds redelivery policy limit:RedeliveryPolicy {destination = null, collisionAvoidanceFactor = 0.15, maximumRedeliveries = 6, maximumRedeliveryDelay = -1, initialRedeliveryDelay = 1000, useCollisionAvoidance = false, useExponentialBackOff = false, backOffMultiplier = 5.0, redeliveryDelay = 1000, preDispatchCheck = true}, cause:null\r\n```","title":"Converting CSV file to Java Objects (POJO) and send it to ActiveMQ queue","body":"<p>My aim is to read the csv file, convert it to Java Objects (POJO) and send the Java Objects one by one to a JMS queue. Below is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void configure() throws Exception {\n    from(&quot;file:src/main/resources?fileName=data.csv&quot;)               \n    .unmarshal(bindy)\n    .split(body())\n    .to(&quot;file:src/main/resources/?fileName=equityfeeds.txt&quot;)\n    .split().tokenize(&quot;,&quot;).streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);          \n}\n</code></pre>\n<p><strong>Issues:</strong>\n1.When I execute the code no file(equityfeeds.txt) gets created and no objects goes to the queue. What's wrong? I don't need to do any processing right now. I just need to unmarshal the csv to POJOs and send the Java Objects one by one to the JMS queue.</p>\n<p><strong>EquityFeeds (POJO)</strong></p>\n<pre><code>@CsvRecord(separator = &quot;,&quot;, skipFirstLine = true)\npublic class EquityFeeds {\n    \n    @DataField(pos = 1) \n    private String externalTransactionId;\n    \n    @DataField(pos = 2)\n    private String clientId;\n    \n    @DataField(pos = 3)\n    private String securityId;\n    \n    @DataField(pos = 4)\n    private String transactionType;\n    \n    @DataField(pos = 5, pattern = &quot;dd/MM/YY&quot;)\n    private Date transactionDate;\n    \n    @DataField(pos = 6)\n    private float marketValue; \n    \n    @DataField(pos = 7)\n    private String priorityFlag;\n</code></pre>\n<p>Please kindly help. Please tell me where I am going wrong.</p>\n<p>@pvpkiran:Below is my Camel Code for producer:</p>\n<pre><code>public void configure() throws Exception {\n    from(&quot;file:src/main/resources?fileName=data.csv&quot;)               \n        .unmarshal(bindy)\n        .split(body())\n        .streaming().to(&quot;jms:queue:javaobjects.upstream.queue&quot;);\n}\n</code></pre>\n<p>Below is my Consumer Code (Using JMS API):</p>\n<pre><code>@JmsListener(destination = &quot;javaobjects.upstream.queue&quot;)\npublic void javaObjectsListener(final Message objectMessage) throws JMSException {\n    Object messageData = null;\n    if(objectMessage instanceof ObjectMessage) {\n        ObjectMessage objMessage = (ObjectMessage) objectMessage;\n        messageData = objMessage.getObject();\n    }\n    System.out.println(&quot;Object: &quot;+messageData.toString());\n}\n</code></pre>\n<p>I am not using Camel for consuming the JMS message. In the consumer I am using JMS API for consuming the message (as above). Also I am not testing the code. In the terminal in am getting <code>NullPointerException</code>. Also 2 message have gone into the DLQ giving the below Error Message:</p>\n<pre><code>java.lang.Throwable: Delivery[7] exceeds redelivery policy limit:RedeliveryPolicy {destination = null, collisionAvoidanceFactor = 0.15, maximumRedeliveries = 6, maximumRedeliveryDelay = -1, initialRedeliveryDelay = 1000, useCollisionAvoidance = false, useExponentialBackOff = false, backOffMultiplier = 5.0, redeliveryDelay = 1000, preDispatchCheck = true}, cause:null\n</code></pre>\n"},{"tags":["java","docker","ssl","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618508576,"creation_date":1618508576,"answer_id":67113469,"question_id":67112947,"body_markdown":"The easiest way is probably to allow running the `keytool` command using sudo.\r\n\r\nYou may need to install sudo in your Dockerfile and then you can set up `/etc/sudoers` to allow the user running `entrypoint.sh` to run that specific command (without a password). Have a look at [this answer on Unix](https://unix.stackexchange.com/a/215419/110479) for how to do it.\r\n\r\nAll you need to do then is locate the certificate and run\r\n\r\n    sudo keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias myservicecert -file /home/myuser/.myservice/certs/public.crt\r\n\r\nIn `entrypoint.sh`\r\n\r\nAlternatively you can install a script when building your container that sets up the certificate and installs it and allow _that_ to be run with sudo. That way you don&#39;t open up the possibility to add more certificates if someone gains access to the container","title":"Loading a SSL certificate to container&#39;s JVM","body":"<p>The easiest way is probably to allow running the <code>keytool</code> command using sudo.</p>\n<p>You may need to install sudo in your Dockerfile and then you can set up <code>/etc/sudoers</code> to allow the user running <code>entrypoint.sh</code> to run that specific command (without a password). Have a look at <a href=\"https://unix.stackexchange.com/a/215419/110479\">this answer on Unix</a> for how to do it.</p>\n<p>All you need to do then is locate the certificate and run</p>\n<pre><code>sudo keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias myservicecert -file /home/myuser/.myservice/certs/public.crt\n</code></pre>\n<p>In <code>entrypoint.sh</code></p>\n<p>Alternatively you can install a script when building your container that sets up the certificate and installs it and allow <em>that</em> to be run with sudo. That way you don't open up the possibility to add more certificates if someone gains access to the container</p>\n"},{"tags":[],"owner":{"account_id":1524788,"reputation":3825,"user_id":1423507,"display_name":"masseyb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1618526605,"creation_date":1618526605,"answer_id":67116871,"question_id":67112947,"body_markdown":"## TL;DR\r\n\r\nYou can add the certificate to the keystore in an [`initContainer`](https://kubernetes.io/docs/concepts/workloads/pods/init-containers/). The keystore can be shared between the `initContainer` and the `container` using a [`volume`](https://kubernetes.io/docs/concepts/storage/volumes/).\r\n\r\n---\r\n\r\nIn this example we&#39;re mounting the `tls-secret` to the pod as a Kubernetes [Secret](https://kubernetes.io/docs/concepts/configuration/secret/). The `tls-secret` contains the `tls.crt` which needs to be added to the keystore. We add the certificate to the keystore in the `initContainer` after copying the security files into a `volume` which is mounted to the pod&#39;s `container`.\r\n\r\n```lang-yaml\r\napiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  name: myapp\r\n  labels:\r\n    app: myapp\r\nspec:\r\n  containers:\r\n  - name: myapp\r\n    image: openjdk:8-jdk-slim-buster\r\n    command:\r\n    - bash\r\n    - -c\r\n    - |\r\n      keytool -list -keystore /usr/local/openjdk-8/jre/lib/security/cacerts -alias local\r\n      sleep infinity\r\n    volumeMounts:\r\n    - mountPath: /usr/local/openjdk-8/jre/lib/security\r\n      name: cacerts\r\n  initContainers:\r\n  - name: init-cacerts\r\n    image: openjdk:8-jdk-slim-buster\r\n    command:\r\n    - bash\r\n    - -c\r\n    - |\r\n      cp -R /usr/local/openjdk-8/jre/lib/security/* /cacerts/\r\n      keytool -import -noprompt -trustcacerts -alias local -file /security/tls.crt -keystore /cacerts/cacerts -storepass changeit\r\n      keytool -list -keystore /cacerts/cacerts -alias local\r\n    volumeMounts:\r\n    - mountPath: /cacerts\r\n      name: cacerts\r\n    - mountPath: /security\r\n      name: tls\r\n  volumes:\r\n  - name: cacerts\r\n    emptyDir: {}\r\n  - name: tls\r\n    secret:\r\n      secretName: tls-secret\r\n      defaultMode: 0400\r\n```\r\n[![shared keystore][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GAEYK.png","title":"Loading a SSL certificate to container&#39;s JVM","body":"<h2>TL;DR</h2>\n<p>You can add the certificate to the keystore in an <a href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\" rel=\"nofollow noreferrer\"><code>initContainer</code></a>. The keystore can be shared between the <code>initContainer</code> and the <code>container</code> using a <a href=\"https://kubernetes.io/docs/concepts/storage/volumes/\" rel=\"nofollow noreferrer\"><code>volume</code></a>.</p>\n<hr />\n<p>In this example we're mounting the <code>tls-secret</code> to the pod as a Kubernetes <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/\" rel=\"nofollow noreferrer\">Secret</a>. The <code>tls-secret</code> contains the <code>tls.crt</code> which needs to be added to the keystore. We add the certificate to the keystore in the <code>initContainer</code> after copying the security files into a <code>volume</code> which is mounted to the pod's <code>container</code>.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: myapp\n  labels:\n    app: myapp\nspec:\n  containers:\n  - name: myapp\n    image: openjdk:8-jdk-slim-buster\n    command:\n    - bash\n    - -c\n    - |\n      keytool -list -keystore /usr/local/openjdk-8/jre/lib/security/cacerts -alias local\n      sleep infinity\n    volumeMounts:\n    - mountPath: /usr/local/openjdk-8/jre/lib/security\n      name: cacerts\n  initContainers:\n  - name: init-cacerts\n    image: openjdk:8-jdk-slim-buster\n    command:\n    - bash\n    - -c\n    - |\n      cp -R /usr/local/openjdk-8/jre/lib/security/* /cacerts/\n      keytool -import -noprompt -trustcacerts -alias local -file /security/tls.crt -keystore /cacerts/cacerts -storepass changeit\n      keytool -list -keystore /cacerts/cacerts -alias local\n    volumeMounts:\n    - mountPath: /cacerts\n      name: cacerts\n    - mountPath: /security\n      name: tls\n  volumes:\n  - name: cacerts\n    emptyDir: {}\n  - name: tls\n    secret:\n      secretName: tls-secret\n      defaultMode: 0400\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GAEYK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GAEYK.png\" alt=\"shared keystore\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1160165,"reputation":2166,"user_id":1139847,"display_name":"Gustavo F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696271192,"creation_date":1696271192,"answer_id":77217710,"question_id":67112947,"body_markdown":"Recently, I faced a problem like that, and my solution was based on @masseyb, but slightly different, I had an Elasticsearch deployment wich cannot update GeoIp internal database without a self signed certificate of my company.\r\n\r\nTo solve this, I configured and init container with the company official image (which includes all certificates inside `/usr/local/share/ca-certificates`, then installed openjdk (this will automatically create a new keystore), and finally, copied only the cacerts file (elasticsearch use other files inside the /usr/share/elasticsearch/jdk/lib/security/cacerts so we have to point a `subPath`)\r\n\r\n    kind: StatefulSet\r\n    apiVersion: apps/v1\r\n    [...]\r\n          containers:\r\n          - name: elasticsearch\r\n            image: docker.elastic.co/elasticsearch/elasticsearch:8.10.1\r\n    [...]\r\n            - name: mount-certificates\r\n              mountPath: /usr/share/elasticsearch/jdk/lib/security/cacerts\r\n              readOnly: false\r\n              subPath: cacerts\r\n    [...]\r\n          - name: fix-certificates\r\n            image: company.registry/ubuntu-customized-image-with-certs:latest\r\n            command:\r\n            - /bin/sh\r\n            - -c\r\n            - |\r\n              apt-get update --yes\r\n              apt-get install openjdk-17-jdk --yes\r\n              cp /etc/ssl/certs/java/cacerts /certificates-ubuntu/\r\n              echo &quot;certificates in java keystore:&quot;\r\n              keytool -list -keystore /etc/ssl/certs/java/cacerts\r\n            volumeMounts:\r\n            - name: mount-certificates\r\n              mountPath: /certificates-ubuntu\r\n              readOnly: false\r\n          volumes:\r\n    [...]\r\n          - name: mount-certificates\r\n            emptyDir: {}\r\n\r\n","title":"Loading a SSL certificate to container&#39;s JVM","body":"<p>Recently, I faced a problem like that, and my solution was based on @masseyb, but slightly different, I had an Elasticsearch deployment wich cannot update GeoIp internal database without a self signed certificate of my company.</p>\n<p>To solve this, I configured and init container with the company official image (which includes all certificates inside <code>/usr/local/share/ca-certificates</code>, then installed openjdk (this will automatically create a new keystore), and finally, copied only the cacerts file (elasticsearch use other files inside the /usr/share/elasticsearch/jdk/lib/security/cacerts so we have to point a <code>subPath</code>)</p>\n<pre><code>kind: StatefulSet\napiVersion: apps/v1\n[...]\n      containers:\n      - name: elasticsearch\n        image: docker.elastic.co/elasticsearch/elasticsearch:8.10.1\n[...]\n        - name: mount-certificates\n          mountPath: /usr/share/elasticsearch/jdk/lib/security/cacerts\n          readOnly: false\n          subPath: cacerts\n[...]\n      - name: fix-certificates\n        image: company.registry/ubuntu-customized-image-with-certs:latest\n        command:\n        - /bin/sh\n        - -c\n        - |\n          apt-get update --yes\n          apt-get install openjdk-17-jdk --yes\n          cp /etc/ssl/certs/java/cacerts /certificates-ubuntu/\n          echo &quot;certificates in java keystore:&quot;\n          keytool -list -keystore /etc/ssl/certs/java/cacerts\n        volumeMounts:\n        - name: mount-certificates\n          mountPath: /certificates-ubuntu\n          readOnly: false\n      volumes:\n[...]\n      - name: mount-certificates\n        emptyDir: {}\n</code></pre>\n"}],"owner":{"account_id":5913382,"reputation":696,"user_id":4652875,"accept_rate":20,"display_name":"Neelesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6135,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1696271192,"creation_date":1618506487,"question_id":67112947,"body_markdown":"I have a Helm Chart. Which on deployment creates the following Kubernetes resources:\r\n\r\n 1. A SSL enabled Service\r\n 1. A Container created with my Docker image which internally runs a Java process that communicates with the above service.\r\n 1. Kubernetes Secrets (SSL certificates and access keys), that are mounted inside the above container.\r\n\r\nThe problem is my Container can not talk to my Service unless I add the SSL certificate to Java certificates. I do this by running the following command **manually** inside my docker with **root** user.\r\n\r\n``` bash\r\ncd ${JAVA_HOME}/jre/lib/security \r\n\r\nkeytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias myservicecert -file /home/myuser/.myservice/certs/public.crt\r\n```\r\n\r\nI want to automate the above steps but facing issues:\r\n\r\n - I can not perform above steps inside the `Dockerfile` since the certificate is not available at that time. Obivious.\r\n - I can not add these steps in `entrypoint.sh` file of the docker because entrypoint file is executed by a different user than the root.\r\n - Another solution that I could think of is that change the permission of path `${JAVA_HOME}/jre/lib/security/cacerts` to `777` so that I can run these commands in `entrypoint.sh` without an issue. But I am not sure if this is the correct way to go due to security reasons. Suggestions on this ?\r\n - I do not want to set a custom location for certificates using `Djavax.net.ssl.trustStore` because then java will not have access to root certificates.\r\n\r\nWhat is correct way to achieve this?\r\n\r\n","title":"Loading a SSL certificate to container&#39;s JVM","body":"<p>I have a Helm Chart. Which on deployment creates the following Kubernetes resources:</p>\n<ol>\n<li>A SSL enabled Service</li>\n<li>A Container created with my Docker image which internally runs a Java process that communicates with the above service.</li>\n<li>Kubernetes Secrets (SSL certificates and access keys), that are mounted inside the above container.</li>\n</ol>\n<p>The problem is my Container can not talk to my Service unless I add the SSL certificate to Java certificates. I do this by running the following command <strong>manually</strong> inside my docker with <strong>root</strong> user.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>cd ${JAVA_HOME}/jre/lib/security \n\nkeytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias myservicecert -file /home/myuser/.myservice/certs/public.crt\n</code></pre>\n<p>I want to automate the above steps but facing issues:</p>\n<ul>\n<li>I can not perform above steps inside the <code>Dockerfile</code> since the certificate is not available at that time. Obivious.</li>\n<li>I can not add these steps in <code>entrypoint.sh</code> file of the docker because entrypoint file is executed by a different user than the root.</li>\n<li>Another solution that I could think of is that change the permission of path <code>${JAVA_HOME}/jre/lib/security/cacerts</code> to <code>777</code> so that I can run these commands in <code>entrypoint.sh</code> without an issue. But I am not sure if this is the correct way to go due to security reasons. Suggestions on this ?</li>\n<li>I do not want to set a custom location for certificates using <code>Djavax.net.ssl.trustStore</code> because then java will not have access to root certificates.</li>\n</ul>\n<p>What is correct way to achieve this?</p>\n"},{"tags":["java","spring","spring-jms"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1585059054,"post_id":60831837,"comment_id":107628687,"body_markdown":"You have some mismatched jars- you mention Spring 4.3.20 but your spring-jms jar is 5.1.5. All spring-* jars must be the same version.","body":"You have some mismatched jars- you mention Spring 4.3.20 but your spring-jms jar is 5.1.5. All spring-* jars must be the same version."},{"owner":{"account_id":14547264,"reputation":1,"user_id":10507182,"display_name":"Sandro"},"score":0,"creation_date":1585060762,"post_id":60831837,"comment_id":107629619,"body_markdown":"yeah I literally solved it a few seconds ago and yes, the reason was the mismatch of spring-framework dependency versions.","body":"yeah I literally solved it a few seconds ago and yes, the reason was the mismatch of spring-framework dependency versions."}],"owner":{"account_id":14547264,"reputation":1,"user_id":10507182,"display_name":"Sandro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696270670,"creation_date":1585055794,"question_id":60831837,"body_markdown":"So I am building a project using Spring Framework 4.3.20.RELEASE. It is sending and receiving messages to/from a JMS server (in this case I have it on `localhost`).\r\n\r\nI am able to send message to queue but unable to get it from there. Here is my `consumer` class and `consumerConfig` classes.\r\n\r\nHere are my dependencies in POM\r\n```xml\r\n&lt;!-- JMS --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.1.5.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nHere is my `ConsumerConfig` class:\r\n```java\r\n@Configuration\r\n@EnableJms\r\npublic class ReceiverConfig {\r\n\r\n    private String brokerUrl = &quot;tcp://localhost:61616&quot;;\r\n\r\n    @Bean\r\n    public ActiveMQConnectionFactory receiverActiveMQConnectionFactory() {\r\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n        activeMQConnectionFactory.setBrokerURL(brokerUrl);\r\n\r\n        return activeMQConnectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(receiverActiveMQConnectionFactory());\r\n        factory.setConcurrency(&quot;1-1&quot;);\r\n\r\n        return factory;\r\n    }\r\n    \r\n    @Bean\r\n    public Receiver receiver() {\r\n        return new Receiver();\r\n    }\r\n}\r\n```\r\n\r\nand Consumer Class\r\n```java\r\npublic class Receiver {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(Receiver.class);\r\n\r\n    @Autowired\r\n    private Processor processor;\r\n\r\n    @JmsListener(destination = &quot;my.queue&quot;, containerFactory = &quot;jmsListenerContainerFactory&quot;)\r\n    public void receive(String message) {\r\n        logger.info(&quot;We have read message &quot; + message + &quot; from Queue&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the Error I am getting \r\n```\r\n[2020-03-24 04:57:53,405] Artifact {my-project}:war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;: java.lang.AbstractMethodError: org.springframework.jms.config.JmsListenerEndpointRegistry.isAutoStartup()Z\r\n    Caused by: java.lang.AbstractMethodError: org.springframework.jms.config.JmsListenerEndpointRegistry.isAutoStartup()Z&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\r\n```","title":"How to resolve org.springframework.jms.config.JMSListenerEndpointRegister.isAutoStartUp()Z Error?","body":"<p>So I am building a project using Spring Framework 4.3.20.RELEASE. It is sending and receiving messages to/from a JMS server (in this case I have it on <code>localhost</code>).</p>\n<p>I am able to send message to queue but unable to get it from there. Here is my <code>consumer</code> class and <code>consumerConfig</code> classes.</p>\n<p>Here are my dependencies in POM</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- JMS --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n    &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\n    &lt;version&gt;5.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is my <code>ConsumerConfig</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\npublic class ReceiverConfig {\n\n    private String brokerUrl = &quot;tcp://localhost:61616&quot;;\n\n    @Bean\n    public ActiveMQConnectionFactory receiverActiveMQConnectionFactory() {\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n        activeMQConnectionFactory.setBrokerURL(brokerUrl);\n\n        return activeMQConnectionFactory;\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(receiverActiveMQConnectionFactory());\n        factory.setConcurrency(&quot;1-1&quot;);\n\n        return factory;\n    }\n    \n    @Bean\n    public Receiver receiver() {\n        return new Receiver();\n    }\n}\n</code></pre>\n<p>and Consumer Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Receiver {\n\n    private static final Logger logger = LoggerFactory.getLogger(Receiver.class);\n\n    @Autowired\n    private Processor processor;\n\n    @JmsListener(destination = &quot;my.queue&quot;, containerFactory = &quot;jmsListenerContainerFactory&quot;)\n    public void receive(String message) {\n        logger.info(&quot;We have read message &quot; + message + &quot; from Queue&quot;);\n    }\n}\n</code></pre>\n<p>And the Error I am getting</p>\n<pre><code>[2020-03-24 04:57:53,405] Artifact {my-project}:war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;: java.lang.AbstractMethodError: org.springframework.jms.config.JmsListenerEndpointRegistry.isAutoStartup()Z\n    Caused by: java.lang.AbstractMethodError: org.springframework.jms.config.JmsListenerEndpointRegistry.isAutoStartup()Z&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host.\\&quot;/{my-project}\\&quot;&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\n</code></pre>\n"},{"tags":["java","mysql","windows","tomcat","jdbc"],"comments":[{"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"score":2,"creation_date":1449057616,"post_id":34042198,"comment_id":55838920,"body_markdown":"We need to see the complete stack trace and the source code it points to.","body":"We need to see the complete stack trace and the source code it points to."},{"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"score":0,"creation_date":1449057930,"post_id":34042198,"comment_id":55839141,"body_markdown":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re\nsult set.\n        at com.mysql.jdbc.MysqlIO.extractNativeEncodedColumn(MysqlIO.java:3710)\n        at com.mysql.jdbc.MysqlIO.unpackBinaryResultSetRow(MysqlIO.java:3620)\n        at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1282)\n        at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2198)\n        at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:413)","body":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set.         at com.mysql.jdbc.MysqlIO.extractNativeEncodedColumn(MysqlIO.ja&zwnj;&#8203;va:3710)         at com.mysql.jdbc.MysqlIO.unpackBinaryResultSetRow(MysqlIO.java&zwnj;&#8203;:3620)         at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1282)         at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2198)         at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:413)"},{"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"score":0,"creation_date":1449057942,"post_id":34042198,"comment_id":55839147,"body_markdown":"at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:1899)\n\n        at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1347)\n        at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedSt\natement.java:1393)\n        at com.mysql.jdbc.ServerPreparedStatement.executeInternal(ServerPrepared\nStatement.java:958)\n        at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:\n1705)","body":"at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.j&zwnj;&#8203;ava:1899)          at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1347)         at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerP&zwnj;&#8203;reparedSt atement.java:1393)         at com.mysql.jdbc.ServerPreparedStatement.executeInternal(Serve&zwnj;&#8203;rPrepared Statement.java:958)         at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatem&zwnj;&#8203;ent.java: 1705)"},{"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"score":0,"creation_date":1449058266,"post_id":34042198,"comment_id":55839338,"body_markdown":"please find the above complete stacktrace.","body":"please find the above complete stacktrace."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1449058722,"post_id":34042198,"comment_id":55839627,"body_markdown":"Put it in the question, (properly formatted,) please.","body":"Put it in the question, (properly formatted,) please."},{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1449059507,"post_id":34042198,"comment_id":55840129,"body_markdown":"@satish , can you give your MySQL JDBC Driver version please.","body":"@satish , can you give your MySQL JDBC Driver version please."},{"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"score":0,"creation_date":1449059838,"post_id":34042198,"comment_id":55840327,"body_markdown":"@rjdkolb please find the MySQL connection version &quot;mysql-connector-java-5.1.21&quot;","body":"@rjdkolb please find the MySQL connection version &quot;mysql-connector-java-5.1.21&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449058767,"creation_date":1449058767,"answer_id":34042596,"question_id":34042198,"body_markdown":"This may be a known bug: https://bugs.mysql.com/bug.php?id=14609\r\n\r\nAccording to that bug tracker, an attempt to fix it was made for versions 5.0.1 and 3.1.13 *of the JDBC driver* (not on server side), and it might not be a full fix.\r\n\r\nAlso see https://stackoverflow.com/questions/1786654/mysqli-server-returned-unknown-type-246","title":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set","body":"<p>This may be a known bug: <a href=\"https://bugs.mysql.com/bug.php?id=14609\" rel=\"nofollow noreferrer\">https://bugs.mysql.com/bug.php?id=14609</a></p>\n\n<p>According to that bug tracker, an attempt to fix it was made for versions 5.0.1 and 3.1.13 <em>of the JDBC driver</em> (not on server side), and it might not be a full fix.</p>\n\n<p>Also see <a href=\"https://stackoverflow.com/questions/1786654/mysqli-server-returned-unknown-type-246\">MySQLi - Server returned unknown type 246</a></p>\n"},{"tags":[],"owner":{"account_id":8251642,"reputation":1,"user_id":6575383,"display_name":"Wilson Salazar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1495304998,"creation_date":1495299191,"answer_id":44088538,"question_id":34042198,"body_markdown":"This happens when your application expects a certain datatype, but you receive another type from the database. E.g. you expect a `double`, but the database gives you an `int`.\r\n\r\nYou should check the type you are expecting.","title":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set","body":"<p>This happens when your application expects a certain datatype, but you receive another type from the database. E.g. you expect a <code>double</code>, but the database gives you an <code>int</code>.</p>\n\n<p>You should check the type you are expecting.</p>\n"},{"tags":[],"owner":{"account_id":23037409,"reputation":11,"user_id":17155989,"display_name":"Shivam Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696270570,"creation_date":1696270570,"answer_id":77217652,"question_id":34042198,"body_markdown":"I was running into similar kind of issue: `java.sql.SQLException: Unknown type &#39;245 in column 6 of 10 in binary-encoded result set.` I got this when I was making a REST call to a Dao using JDBI to fetch result-set based on some criteria (Query: `SELECT * FROM entity WHERE id = :Id`). Entity had a JSON column and I was using outdated `mysql-connector-java` version. Updating it from `5.1.27` to `8.0.28` resolved the issue. ","title":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set","body":"<p>I was running into similar kind of issue: <code>java.sql.SQLException: Unknown type '245 in column 6 of 10 in binary-encoded result set.</code> I got this when I was making a REST call to a Dao using JDBI to fetch result-set based on some criteria (Query: <code>SELECT * FROM entity WHERE id = :Id</code>). Entity had a JSON column and I was using outdated <code>mysql-connector-java</code> version. Updating it from <code>5.1.27</code> to <code>8.0.28</code> resolved the issue.</p>\n"}],"owner":{"account_id":5320326,"reputation":19,"user_id":4243959,"display_name":"satish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2407,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696270570,"creation_date":1449057538,"question_id":34042198,"body_markdown":"When I start Tomcat on Windows, I receive the following exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java.sql.SQLException: Unknown type &#39;246&#39; in column 10 of 12 in binary-encoded result set.\r\n        at com.mysql.jdbc.MysqlIO.extractNativeEncodedColumn(MysqlIO.ja‌​va:3710)\r\n        at com.mysql.jdbc.MysqlIO.unpackBinaryResultSetRow(MysqlIO.java‌​:3620)\r\n        at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1282)\r\n        at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2198)\r\n        at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:413)\r\n        at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.j‌​ava:1899)\r\n        at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1347)\r\n        at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerP‌​reparedSt atement.java:1393)\r\n        at com.mysql.jdbc.ServerPreparedStatement.executeInternal(Serve‌​rPrepared Statement.java:958)\r\n        at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatem‌​ent.java:1705)\r\n\r\nI am using the `mysql-connector-java-5.1.21` JDBC driver.\r\n\r\nI have deployed my app in Tomcat as a `war`. I use both normal and prepared statements.","title":"java.sql.SQLException: Unknown type &#39;246 in column 10 of 12 in binary-encoded re sult set","body":"<p>When I start Tomcat on Windows, I receive the following exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLException: Unknown type '246' in column 10 of 12 in binary-encoded result set.\n    at com.mysql.jdbc.MysqlIO.extractNativeEncodedColumn(MysqlIO.ja‌​va:3710)\n    at com.mysql.jdbc.MysqlIO.unpackBinaryResultSetRow(MysqlIO.java‌​:3620)\n    at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1282)\n    at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2198)\n    at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:413)\n    at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.j‌​ava:1899)\n    at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1347)\n    at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerP‌​reparedSt atement.java:1393)\n    at com.mysql.jdbc.ServerPreparedStatement.executeInternal(Serve‌​rPrepared Statement.java:958)\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatem‌​ent.java:1705)\n</code></pre>\n\n<p>I am using the <code>mysql-connector-java-5.1.21</code> JDBC driver.</p>\n\n<p>I have deployed my app in Tomcat as a <code>war</code>. I use both normal and prepared statements.</p>\n"},{"tags":["java","jakarta-ee","jboss","jaxb"],"comments":[{"owner":{"account_id":152312,"reputation":4229,"user_id":366749,"display_name":"Patrice M."},"score":1,"creation_date":1333494030,"post_id":10002006,"comment_id":12786446,"body_markdown":"It is probably JAXB implementation dependent to some degree. Fo rinstance, the JAXB RI used to require the use of the JRE &#39;endorsed&#39; mechanism if memory serve. Can you please specify the details of your environment : app server, JDK version, JAXB impl form/to to begin with.","body":"It is probably JAXB implementation dependent to some degree. Fo rinstance, the JAXB RI used to require the use of the JRE &#39;endorsed&#39; mechanism if memory serve. Can you please specify the details of your environment : app server, JDK version, JAXB impl form/to to begin with."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1333508556,"post_id":10002006,"comment_id":12789135,"body_markdown":"@PatriceM - sorry; forgot to include that.  Just edited the orig question to add it in.","body":"@PatriceM - sorry; forgot to include that.  Just edited the orig question to add it in."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1333550253,"post_id":10002006,"comment_id":12802236,"body_markdown":"I edited the original post to add some additional information to indicate how I get the JAXB implementation being used, as well as a link indicating how overriding the JRE&#39;s default JAXB implementation does not seem to be working.","body":"I edited the original post to add some additional information to indicate how I get the JAXB implementation being used, as well as a link indicating how overriding the JRE&#39;s default JAXB implementation does not seem to be working."}],"answers":[{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1696270444,"creation_date":1333495160,"answer_id":10002848,"question_id":10002006,"body_markdown":"# *EclipseLink MOXy*\r\n\r\n**Note:**  I&#39;m the [**EclipseLink JAXB (MOXy)**][1] lead and a member of the [**JAXB 2 (JSR-222)**][2] expert group.\r\n\r\nTo specify a JAXB (JSR-222) implementation other than the default you need to include a file called `jaxb.properties` in the same package as your domain classes.  The following is an example of the `jaxb.properties` file used to specify the MOXy implementation of JAXB:\r\n\r\n    javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory\r\n\r\n**For More Information**\r\n\r\n  - http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\r\n\r\n\r\n  [1]: https://eclipse.dev/eclipselink/#moxy\r\n  [2]: http://jcp.org/en/jsr/detail?id=222","title":"How to specify a particular JAXB implementation?","body":"<h1><em>EclipseLink MOXy</em></h1>\n<p><strong>Note:</strong>  I'm the <a href=\"https://eclipse.dev/eclipselink/#moxy\" rel=\"nofollow noreferrer\"><strong>EclipseLink JAXB (MOXy)</strong></a> lead and a member of the <a href=\"http://jcp.org/en/jsr/detail?id=222\" rel=\"nofollow noreferrer\"><strong>JAXB 2 (JSR-222)</strong></a> expert group.</p>\n<p>To specify a JAXB (JSR-222) implementation other than the default you need to include a file called <code>jaxb.properties</code> in the same package as your domain classes.  The following is an example of the <code>jaxb.properties</code> file used to specify the MOXy implementation of JAXB:</p>\n<pre><code>javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory\n</code></pre>\n<p><strong>For More Information</strong></p>\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374481269,"creation_date":1374481269,"answer_id":17782854,"question_id":10002006,"body_markdown":"It is possible to load JAXB implementation from a specific library using the [Java Endorsed Standards Override Mechanism][1]. This is also suggested in the guide [Using JAXB 2.1/2.2 with JavaSE 6][2].\r\n\r\nAlternatively, in your application server you may modify the class-loader policy for your application to parent last so that classes are first looked up in the libraries bundled with your application before being searched in JRE.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/standards/\r\n  [2]: https://jaxb.java.net/guide/Migrating_JAXB_2_0_applications_to_JavaSE_6.html","title":"How to specify a particular JAXB implementation?","body":"<p>It is possible to load JAXB implementation from a specific library using the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/standards/\" rel=\"nofollow\">Java Endorsed Standards Override Mechanism</a>. This is also suggested in the guide <a href=\"https://jaxb.java.net/guide/Migrating_JAXB_2_0_applications_to_JavaSE_6.html\" rel=\"nofollow\">Using JAXB 2.1/2.2 with JavaSE 6</a>.</p>\n\n<p>Alternatively, in your application server you may modify the class-loader policy for your application to parent last so that classes are first looked up in the libraries bundled with your application before being searched in JRE.</p>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29125,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1696270444,"creation_date":1333490180,"question_id":10002006,"body_markdown":"It seems as though I have already done this once in the past, but I cannot find any reference to what I had done to get it to work.\r\n\r\nI have a web application in which I want to specify a different JAXB implementation than the one provided by my web server/jre.  I downloaded the appropriate artifact from maven, and see that the jar is properly packaged in my war, however, when I start my web app, I see that it is still using the bundled JRE implementation.\r\n\r\nI vaguely remember something about a properties file that I could configure, but cannot find a reference to how it needs to be configured.  Moreover, if the implementation I want to use is the same one (just a newer version), the class names would be the same as though packaged in the JRE.  How can I specify that I want to use the ones bundled in my WAR?\r\n\r\n**EDIT**\r\n\r\nI&#39;m currently running on JBoss 7.0.2, with Oracle JDK 1.6_0_27, JAXB RI that comes with the JRE (I think it is v2.1).  I&#39;m trying to upgrade to JAXB RI 2.2.5 (found on MvnRepository). \r\n\r\n\r\nI&#39;ve done a little more digging this morning, and noticed a strange error message in my logs:\r\n\r\n    09:43:18,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jaxb-api.jar in &quot;/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar&quot;  does not point to a valid jar for a Class-Path reference.\r\n    09:43:18,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry activation.jar in &quot;/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar&quot;  does not point to a valid jar for a Class-Path reference.\r\n    09:43:18,326 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jsr173_1.0_api.jar in &quot;/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar&quot;  does not point to a valid jar for a Class-Path reference.\r\n    09:43:18,326 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jaxb1-impl.jar in &quot;/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar&quot;  does not point to a valid jar for a Class-Path reference.\r\n\r\nWhich I found very strange.  I wasn&#39;t sure where it was finding that information.  A little more research found this line in the MANIFEST.MF:\r\n\r\n    Class-Path: jaxb-api.jar activation.jar jsr173_1.0_api.jar jaxb1-impl.jar\r\n\r\nSo now I&#39;m even more confused than ever.  It would appear that the jaxb implementation depends on the api, activation, jsr and jaxb1 implementation jars.  But they aren&#39;t listed in the jaxb pom.  A little digging online found me [this link][1] which discusses how to use JAXB 2.2 in a Java6SE environment.  Unfortunately, this has not seemed to work either; I still get the above WARN messages.\r\n\r\nI&#39;m using the following snippet to list the JAXB implementation that is running; perhaps this is incorrect?\r\n\r\n\t/**\r\n\t * Print the JAXB Implementation information\r\n\t */\r\n\tpublic static void outputJaxpImplementationInfo() {\r\n\t    logger.debug(getImplementationInfo(&quot;DocumentBuilderFactory&quot;, DocumentBuilderFactory.newInstance().getClass()));\r\n\t    logger.debug(getImplementationInfo(&quot;XPathFactory&quot;, XPathFactory.newInstance().getClass()));\r\n\t    logger.debug(getImplementationInfo(&quot;TransformerFactory&quot;, TransformerFactory.newInstance().getClass()));\r\n\t    logger.debug(getImplementationInfo(&quot;SAXParserFactory&quot;, SAXParserFactory.newInstance().getClass()));\r\n\t}\r\n\r\n\t/**\r\n\t * Get the JAXB implementation information for a particular class\r\n\t * @param componentName\r\n\t * @param componentClass\r\n\t * @return\r\n\t */\r\n\tprivate static String getImplementationInfo(String componentName, Class componentClass) {\r\n\t    CodeSource source = componentClass.getProtectionDomain().getCodeSource();\r\n\t    return MessageFormat.format(\r\n\t            &quot;{0} implementation: {1} loaded from: {2}&quot;,\r\n\t            componentName,\r\n\t            componentClass.getName(),\r\n\t            source == null ? &quot;Java Runtime&quot; : source.getLocation());\r\n\t}\r\n\r\n\r\nThis snippet produces the following log:\r\n\r\n    10:28:27,402 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,402 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - DocumentBuilderFactory implementation: __redirected.__DocumentBuilderFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\r\n    10:28:27,403 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,403 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - XPathFactory implementation: __redirected.__XPathFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\r\n    10:28:27,404 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,404 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - TransformerFactory implementation: __redirected.__TransformerFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\r\n    10:28:27,406 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,406 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - SAXParserFactory implementation: __redirected.__SAXParserFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\r\n\r\n\r\n  [1]: http://jaxb.java.net/guide/Migrating_JAXB_2_0_applications_to_JavaSE_6.html\r\n\r\n","title":"How to specify a particular JAXB implementation?","body":"<p>It seems as though I have already done this once in the past, but I cannot find any reference to what I had done to get it to work.</p>\n\n<p>I have a web application in which I want to specify a different JAXB implementation than the one provided by my web server/jre.  I downloaded the appropriate artifact from maven, and see that the jar is properly packaged in my war, however, when I start my web app, I see that it is still using the bundled JRE implementation.</p>\n\n<p>I vaguely remember something about a properties file that I could configure, but cannot find a reference to how it needs to be configured.  Moreover, if the implementation I want to use is the same one (just a newer version), the class names would be the same as though packaged in the JRE.  How can I specify that I want to use the ones bundled in my WAR?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I'm currently running on JBoss 7.0.2, with Oracle JDK 1.6_0_27, JAXB RI that comes with the JRE (I think it is v2.1).  I'm trying to upgrade to JAXB RI 2.2.5 (found on MvnRepository). </p>\n\n<p>I've done a little more digging this morning, and noticed a strange error message in my logs:</p>\n\n<pre><code>09:43:18,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jaxb-api.jar in \"/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar\"  does not point to a valid jar for a Class-Path reference.\n09:43:18,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry activation.jar in \"/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar\"  does not point to a valid jar for a Class-Path reference.\n09:43:18,326 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jsr173_1.0_api.jar in \"/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar\"  does not point to a valid jar for a Class-Path reference.\n09:43:18,326 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-12) Class Path entry jaxb1-impl.jar in \"/C:/servers/jboss-as-7.0.2.Final/standalone/deployments/LendingSimulationServiceEAR.ear/LendingSimulationService.war/WEB-INF/lib/jaxb-impl-2.2.5.jar\"  does not point to a valid jar for a Class-Path reference.\n</code></pre>\n\n<p>Which I found very strange.  I wasn't sure where it was finding that information.  A little more research found this line in the MANIFEST.MF:</p>\n\n<pre><code>Class-Path: jaxb-api.jar activation.jar jsr173_1.0_api.jar jaxb1-impl.jar\n</code></pre>\n\n<p>So now I'm even more confused than ever.  It would appear that the jaxb implementation depends on the api, activation, jsr and jaxb1 implementation jars.  But they aren't listed in the jaxb pom.  A little digging online found me <a href=\"http://jaxb.java.net/guide/Migrating_JAXB_2_0_applications_to_JavaSE_6.html\" rel=\"noreferrer\">this link</a> which discusses how to use JAXB 2.2 in a Java6SE environment.  Unfortunately, this has not seemed to work either; I still get the above WARN messages.</p>\n\n<p>I'm using the following snippet to list the JAXB implementation that is running; perhaps this is incorrect?</p>\n\n<pre><code>/**\n * Print the JAXB Implementation information\n */\npublic static void outputJaxpImplementationInfo() {\n    logger.debug(getImplementationInfo(\"DocumentBuilderFactory\", DocumentBuilderFactory.newInstance().getClass()));\n    logger.debug(getImplementationInfo(\"XPathFactory\", XPathFactory.newInstance().getClass()));\n    logger.debug(getImplementationInfo(\"TransformerFactory\", TransformerFactory.newInstance().getClass()));\n    logger.debug(getImplementationInfo(\"SAXParserFactory\", SAXParserFactory.newInstance().getClass()));\n}\n\n/**\n * Get the JAXB implementation information for a particular class\n * @param componentName\n * @param componentClass\n * @return\n */\nprivate static String getImplementationInfo(String componentName, Class componentClass) {\n    CodeSource source = componentClass.getProtectionDomain().getCodeSource();\n    return MessageFormat.format(\n            \"{0} implementation: {1} loaded from: {2}\",\n            componentName,\n            componentClass.getName(),\n            source == null ? \"Java Runtime\" : source.getLocation());\n}\n</code></pre>\n\n<p>This snippet produces the following log:</p>\n\n<pre><code>10:28:27,402 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,402 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - DocumentBuilderFactory implementation: __redirected.__DocumentBuilderFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\n10:28:27,403 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,403 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - XPathFactory implementation: __redirected.__XPathFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\n10:28:27,404 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,404 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - TransformerFactory implementation: __redirected.__TransformerFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\n10:28:27,406 INFO  [stdout] (MSC service thread 1-14) 2012-04-04 10:28:27,406 DEBUG cws.cs.lendingsimulationservice.util.JAXBUtil  - SAXParserFactory implementation: __redirected.__SAXParserFactory loaded from: file:/C:/servers/jboss-as-7.0.2.Final/jboss-modules.jar\n</code></pre>\n"},{"tags":["java","jax-rs","interceptor"],"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696269973,"creation_date":1696259049,"question_id":77216573,"body_markdown":"Payara 5, Jersey 2.37, JAX-RS 2.1\r\n\r\nI&#39;m attempting to create a logging &quot;transaction,&quot;  where a REST endpoint (either sub-resource method or terminal endpoint - I&#39;ll demonstrate both below) is annotated with a custom interceptor.  This works fine when the annotated method is on a root resource class, but fails on a sub-resource method. I understand why, and I&#39;ll walk through the process below, but I can&#39;t figure out how to accomplish what I&#39;m trying to achieve.  \r\n\r\nFirst, here is the interceptor classes:\r\n\r\n```java\r\n@Inherited\r\n@InterceptorBinding\r\n@Retention(RUNTIME)\r\n@Target({METHOD, TYPE})\r\npublic @interface Audited {\r\n\r\n    @Nonbinding\r\n    String description() default &quot;&quot;;\r\n\r\n}\r\n\r\n@Audited\r\n@Interceptor\r\npublic class AuditedInterceptor implements Serializable {\r\n\r\n    @Inject\r\n    private AuditedTransactionBeanLocal trx;\r\n    \r\n    @AroundInvoke\r\n    public Object intercept(InvocationContext context) throws Exception {\r\n        \r\n        Audited audit = getAnnotation(context);\r\n\r\n        trx.beginOrJoin()\r\n\r\n        Object o = context.proceed();\r\n\r\n\t    trx.end();\r\n    \r\n        return o;\r\n\r\n    }\r\n\r\n    private Audited getAnnotation(InvocationContext context) {\r\n        Method m = context.getMethod();\r\n        return (m.isAnnotationPresent(Audited.class)) ? \r\n               m.getAnnotation(Audited.class):\r\n               context.getTarget().getClass().getAnnotation(Audited.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere&#39;s an example endpoint:\r\n\r\n```java\r\n@RequestScoped\r\n@Path(&quot;/foo&quot;)\r\npublic class FooFacade {\r\n\r\n    @Inject\r\n\tprivate BarBeanLocal barBean;\r\n\r\n\t@Path(&quot;/do-something&quot;)\r\n\t@Audited(description = &quot;Foo Do Something (root) - works&quot;)\r\n\tpublic Response barFacade(@QueryParam(&quot;i&quot;) Integer i) {\r\n        \treturn Response.accepted(barBean.doSomething(i)).build();\r\n\t}\r\n\r\n\t@Path(&quot;/bar&quot;)\r\n\t@Audited(description = &quot;Bar Audit (root) - doesn&#39;t wrap returned sub resource&quot;)\r\n\tpublic BarFacade barFacade() {\r\n        \treturn new BarFacade();\r\n\t}\r\n\r\n}\r\n\r\npublic class BarFacade {\r\n\r\n\t@POST\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n    @Audited(description = &quot;Bar Audit Post (sub resource) - never triggered&quot;)\r\n\tpublic Response post(BarRequest payload) {\r\n\t    BarResponse response = barBean.run(payload);\r\n\t    return Response.accepted(response).build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe EJBs &quot;requests&quot; an audit action during their processing, which is handled by `AuditedTransactionBeanLocal`. I won&#39;t go into detail on that, but assume that audits can be nested, and the audit tree is managed by that bean.  \r\n\r\nHere is an example bean participating in that audit.\r\n\r\n```java\r\n@Local\r\npublic interface FooBarBeanLocal {\r\n   \r\n\tInteger doSomething();\r\n\tBarResponse run(BarRequest request);\r\n}\r\n\r\n@Stateless\r\npublic class FooBarBean implements FooBarBeanLocal, Serializable {\r\n\r\n    @Inject\r\n    private AuditedTransactionBeanLocal trx;\r\n\r\n\t@Override\r\n\tInteger doSomething(Integer i) {\r\n\t\tInteger r = i * 2;\r\n\t\ttrx.audit(String.format(&quot;%02d yielded %02d&quot;, i, r)); \r\n\t\treturn r;\r\n\t}\r\n\r\n\t@Override\r\n\tBarResponse run(BarRequest request) {\r\n\t\ttrx.audit(&quot;Bar run called with these values blah blah blah&quot;);              \r\n        return new BarResponse(&quot;ok&quot;);\r\n\t}\r\n\r\n} \r\n```\r\n\r\n\r\nThe clear problem is that the initial sub resource method interceptor completes it&#39;s transaction before any sub resource methods are called:\r\n\r\n```java\r\n\r\n        Audited audit = getAnnotationFromContext(context);\r\n\r\n        trx.beginOrJoin()\r\n\r\n        // Here, &quot;o&quot; is an instance of BarFacade\r\n        Object o = context.proceed();\r\n\r\n        // END THE CURRENT TRANSACTION BEFORE ANY BarFacade methods are called!!\r\n\t    trx.end();\r\n    \r\n        return o;  // We are no longer being audited\r\n\r\n```\r\n\r\nOf course, I can&#39;t just annotation the sub resource with `Audited` because it&#39;s not a container managed resource and it will just be ignored.\r\n\r\nHow to solve this issue?  I&#39;m going to go back and read the spec, but I thought I saw something about using a `@Provider` filter.  Is that how JAX-RS sniffs out endpoints on sub resources?  Is that filter type only called on JAX-RS endpoints (which will allow me to inspect/manage it like an interceptor)?\r\n\r\n\r\n-----\r\n\r\nAccording to the JAX-RS 2.1 spec, Chapter 4.1 &quot;Lifecycle and Environment&quot;:\r\n\r\n&gt; By default a single instance of each provider class is instantiated\r\n&gt; for each JAX-RS application.\r\n\r\nSo, I&#39;m not sure how a Provider filter could work in the context of request/session scope.\r\n\r\n-----\r\n\r\nMy current thought process on this after reading the spec could be to implement a `@Profider` filter, like such:\r\n\r\n```\r\n@Provider\r\npublic class AuditedFilter implements ContainerRequestFilter,\r\nContainerResponseFilter {\r\n\r\n    @Inject\r\n    private AuditedTransactionBeanLocal trx;\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) throws IOException {\r\n\r\n        trx.beginOrJoin();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext,\r\nContainerResponseContext responseContext) throws IOException {\r\n\r\n\t    trx.end();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis presents some complications.  First, since `@Audited` not specifically an endpoint interceptor (remember that I want to allow nested), EJB methods can also be annotated with `@Audited` to nest their sub-process.  In the filter, I could test if the method is `@Audited` and begin the &quot;transaction,&quot; but interceptors on resource methods will also initiate a transaction.  And if I remove the `@Audited` from locator methods and only put them on terminal methods (either root resource or sub class), I have to know which it is so I know if I need to initiate a transaction.\r\n\r\nConfused! :)\r\n\r\n------\r\n\r\nThe following doesn&#39;t work either:\r\n\r\n```\r\n@RequestScoped\r\n@Path(&quot;/foo&quot;)\r\npublic class FooFacade {\r\n\r\n    @Inject\r\n    private BarBeanLocal barBean;\r\n    \r\n    @Context\r\n    private ResourceContext rc;\r\n\r\n    @Path(&quot;/bar&quot;)\r\n    public BarFacade barFacade() {\r\n            return rc.initResource(new BarFacade());\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class BarFacade {\r\n\r\n    @POST\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Audited(description = &quot;Bar Audit Post (sub resource) - never triggered&quot;)\r\n    public Response post(BarRequest payload) {\r\n        BarResponse response = barBean.run(payload);\r\n        return Response.accepted(response).build();\r\n    }\r\n\r\n}\r\n\r\n```","title":"Interceptor not wrapping JAX-RS sub-resource endpoint methods","body":"<p>Payara 5, Jersey 2.37, JAX-RS 2.1</p>\n<p>I'm attempting to create a logging &quot;transaction,&quot;  where a REST endpoint (either sub-resource method or terminal endpoint - I'll demonstrate both below) is annotated with a custom interceptor.  This works fine when the annotated method is on a root resource class, but fails on a sub-resource method. I understand why, and I'll walk through the process below, but I can't figure out how to accomplish what I'm trying to achieve.</p>\n<p>First, here is the interceptor classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inherited\n@InterceptorBinding\n@Retention(RUNTIME)\n@Target({METHOD, TYPE})\npublic @interface Audited {\n\n    @Nonbinding\n    String description() default &quot;&quot;;\n\n}\n\n@Audited\n@Interceptor\npublic class AuditedInterceptor implements Serializable {\n\n    @Inject\n    private AuditedTransactionBeanLocal trx;\n    \n    @AroundInvoke\n    public Object intercept(InvocationContext context) throws Exception {\n        \n        Audited audit = getAnnotation(context);\n\n        trx.beginOrJoin()\n\n        Object o = context.proceed();\n\n        trx.end();\n    \n        return o;\n\n    }\n\n    private Audited getAnnotation(InvocationContext context) {\n        Method m = context.getMethod();\n        return (m.isAnnotationPresent(Audited.class)) ? \n               m.getAnnotation(Audited.class):\n               context.getTarget().getClass().getAnnotation(Audited.class);\n    }\n}\n\n</code></pre>\n<p>Here's an example endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestScoped\n@Path(&quot;/foo&quot;)\npublic class FooFacade {\n\n    @Inject\n    private BarBeanLocal barBean;\n\n    @Path(&quot;/do-something&quot;)\n    @Audited(description = &quot;Foo Do Something (root) - works&quot;)\n    public Response barFacade(@QueryParam(&quot;i&quot;) Integer i) {\n            return Response.accepted(barBean.doSomething(i)).build();\n    }\n\n    @Path(&quot;/bar&quot;)\n    @Audited(description = &quot;Bar Audit (root) - doesn't wrap returned sub resource&quot;)\n    public BarFacade barFacade() {\n            return new BarFacade();\n    }\n\n}\n\npublic class BarFacade {\n\n    @POST\n    @Produces(MediaType.APPLICATION_JSON)\n    @Audited(description = &quot;Bar Audit Post (sub resource) - never triggered&quot;)\n    public Response post(BarRequest payload) {\n        BarResponse response = barBean.run(payload);\n        return Response.accepted(response).build();\n    }\n\n}\n</code></pre>\n<p>The EJBs &quot;requests&quot; an audit action during their processing, which is handled by <code>AuditedTransactionBeanLocal</code>. I won't go into detail on that, but assume that audits can be nested, and the audit tree is managed by that bean.</p>\n<p>Here is an example bean participating in that audit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Local\npublic interface FooBarBeanLocal {\n   \n    Integer doSomething();\n    BarResponse run(BarRequest request);\n}\n\n@Stateless\npublic class FooBarBean implements FooBarBeanLocal, Serializable {\n\n    @Inject\n    private AuditedTransactionBeanLocal trx;\n\n    @Override\n    Integer doSomething(Integer i) {\n        Integer r = i * 2;\n        trx.audit(String.format(&quot;%02d yielded %02d&quot;, i, r)); \n        return r;\n    }\n\n    @Override\n    BarResponse run(BarRequest request) {\n        trx.audit(&quot;Bar run called with these values blah blah blah&quot;);              \n        return new BarResponse(&quot;ok&quot;);\n    }\n\n} \n</code></pre>\n<p>The clear problem is that the initial sub resource method interceptor completes it's transaction before any sub resource methods are called:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        Audited audit = getAnnotationFromContext(context);\n\n        trx.beginOrJoin()\n\n        // Here, &quot;o&quot; is an instance of BarFacade\n        Object o = context.proceed();\n\n        // END THE CURRENT TRANSACTION BEFORE ANY BarFacade methods are called!!\n        trx.end();\n    \n        return o;  // We are no longer being audited\n\n</code></pre>\n<p>Of course, I can't just annotation the sub resource with <code>Audited</code> because it's not a container managed resource and it will just be ignored.</p>\n<p>How to solve this issue?  I'm going to go back and read the spec, but I thought I saw something about using a <code>@Provider</code> filter.  Is that how JAX-RS sniffs out endpoints on sub resources?  Is that filter type only called on JAX-RS endpoints (which will allow me to inspect/manage it like an interceptor)?</p>\n<hr />\n<p>According to the JAX-RS 2.1 spec, Chapter 4.1 &quot;Lifecycle and Environment&quot;:</p>\n<blockquote>\n<p>By default a single instance of each provider class is instantiated\nfor each JAX-RS application.</p>\n</blockquote>\n<p>So, I'm not sure how a Provider filter could work in the context of request/session scope.</p>\n<hr />\n<p>My current thought process on this after reading the spec could be to implement a <code>@Profider</code> filter, like such:</p>\n<pre><code>@Provider\npublic class AuditedFilter implements ContainerRequestFilter,\nContainerResponseFilter {\n\n    @Inject\n    private AuditedTransactionBeanLocal trx;\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) throws IOException {\n\n        trx.beginOrJoin();\n\n    }\n\n    @Override\n    public void filter(ContainerRequestContext requestContext,\nContainerResponseContext responseContext) throws IOException {\n\n        trx.end();\n\n    }\n\n}\n</code></pre>\n<p>This presents some complications.  First, since <code>@Audited</code> not specifically an endpoint interceptor (remember that I want to allow nested), EJB methods can also be annotated with <code>@Audited</code> to nest their sub-process.  In the filter, I could test if the method is <code>@Audited</code> and begin the &quot;transaction,&quot; but interceptors on resource methods will also initiate a transaction.  And if I remove the <code>@Audited</code> from locator methods and only put them on terminal methods (either root resource or sub class), I have to know which it is so I know if I need to initiate a transaction.</p>\n<p>Confused! :)</p>\n<hr />\n<p>The following doesn't work either:</p>\n<pre><code>@RequestScoped\n@Path(&quot;/foo&quot;)\npublic class FooFacade {\n\n    @Inject\n    private BarBeanLocal barBean;\n    \n    @Context\n    private ResourceContext rc;\n\n    @Path(&quot;/bar&quot;)\n    public BarFacade barFacade() {\n            return rc.initResource(new BarFacade());\n    }\n\n}\n\n\npublic class BarFacade {\n\n    @POST\n    @Produces(MediaType.APPLICATION_JSON)\n    @Audited(description = &quot;Bar Audit Post (sub resource) - never triggered&quot;)\n    public Response post(BarRequest payload) {\n        BarResponse response = barBean.run(payload);\n        return Response.accepted(response).build();\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","postgresql","docker","maven","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":2046439,"reputation":2895,"user_id":1826422,"display_name":"bsideup"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591204047,"creation_date":1591204047,"answer_id":62178604,"question_id":62174634,"body_markdown":"Not really Testcontainers related.\r\n\r\nTestcontainers requires a valid Docker daemon. When you build images, there is no daemon mounted into the image build context.\r\n\r\nYou can easily verify that by doing:\r\n```\r\nRUN curl --unix-socket /var/run/docker.sock http:/_/_ping\r\n```\r\n\r\nMake this command return &quot;OK&quot; (no need to run the Testcontainers code), and your tests will pass as well.","title":"How do I get Java testcontainers to work in Docker Multistage builds?","body":"<p>Not really Testcontainers related.</p>\n\n<p>Testcontainers requires a valid Docker daemon. When you build images, there is no daemon mounted into the image build context.</p>\n\n<p>You can easily verify that by doing:</p>\n\n<pre><code>RUN curl --unix-socket /var/run/docker.sock http:/_/_ping\n</code></pre>\n\n<p>Make this command return \"OK\" (no need to run the Testcontainers code), and your tests will pass as well.</p>\n"},{"tags":[],"owner":{"account_id":21738307,"reputation":51,"user_id":16046019,"display_name":"Adam D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623331466,"creation_date":1623331466,"answer_id":67922086,"question_id":62174634,"body_markdown":"You can overwrite testcontainers default docker host by adding:\r\n\r\n    ENV DOCKER_HOST=tcp://host.docker.internal:2375\r\n\r\nto your build stage.","title":"How do I get Java testcontainers to work in Docker Multistage builds?","body":"<p>You can overwrite testcontainers default docker host by adding:</p>\n<pre><code>ENV DOCKER_HOST=tcp://host.docker.internal:2375\n</code></pre>\n<p>to your build stage.</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696269782,"creation_date":1691256264,"answer_id":76842771,"question_id":62174634,"body_markdown":"This is specifically for Docker Desktop for Windows.  First you need to expose the Docker daemon\r\n\r\n```shell\r\ndocker run -p 2375:2375 -v //var/run/docker.sock://var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\r\n\r\n# For extra security\r\n\r\ndocker run -p 127.0.0.1:2375:2375 -v //var/run/docker.sock://var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\r\n\r\n```\r\n\r\nFor Docker Desktop for macOS, same process as Windows.  First you need to expose the Docker daemon (just no `//` since there&#39;s no need to escape anymore)\r\n\r\n```shell\r\ndocker run -p 2375:2375 -v /var/run/docker.sock:/var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\r\n```\r\n\r\nThen in your Dockerfile you have\r\n```Dockerfile\r\nENV DOCKER_HOST=tcp://host.docker.internal:2375 \r\nENV TESTCONTAINERS_HOST_OVERRIDE=host.docker.internal \r\nRUN gradle --no-daemon test\r\n```\r\n\r\nFor Linux which does not have host.docker.internal it can be emulated by adding the host mapping\r\n```sh\r\ndocker build . --add-host host.docker.internal:host-gateway\r\n```","title":"How do I get Java testcontainers to work in Docker Multistage builds?","body":"<p>This is specifically for Docker Desktop for Windows.  First you need to expose the Docker daemon</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -p 2375:2375 -v //var/run/docker.sock://var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\n\n# For extra security\n\ndocker run -p 127.0.0.1:2375:2375 -v //var/run/docker.sock://var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\n\n</code></pre>\n<p>For Docker Desktop for macOS, same process as Windows.  First you need to expose the Docker daemon (just no <code>//</code> since there's no need to escape anymore)</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -p 2375:2375 -v /var/run/docker.sock:/var/run/docker.sock alpine/socat tcp-listen:2375,reuseaddr,fork unix-connect:/var/run/docker.sock\n</code></pre>\n<p>Then in your Dockerfile you have</p>\n<pre><code>ENV DOCKER_HOST=tcp://host.docker.internal:2375 \nENV TESTCONTAINERS_HOST_OVERRIDE=host.docker.internal \nRUN gradle --no-daemon test\n</code></pre>\n<p>For Linux which does not have host.docker.internal it can be emulated by adding the host mapping</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker build . --add-host host.docker.internal:host-gateway\n</code></pre>\n"}],"owner":{"account_id":4416918,"reputation":406,"user_id":3598229,"display_name":"Raymond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696269782,"creation_date":1591192459,"question_id":62174634,"body_markdown":"I have a problem similar to https://stackoverflow.com/q/59187893/3598229. The difference is that rather than my script running mvn directly it runs a docker multistage build that runs the test inside of the docker image. Unfortunately this doesn&#39;t appear to work for the PostgreSQL Test Container. \r\n\r\n**Dockerfile**\r\n```\r\n#############\r\n### build ###\r\n#############\r\n\r\n# base image\r\nFROM maven:3-jdk-11 as build\r\n\r\n# set working directory\r\nWORKDIR /app\r\n\r\n# add app\r\nCOPY . .\r\n\r\nRUN export MAVEN_OPTS=&quot;-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=WARN -Dorg.slf4j.simpleLogger.showDateTime=true -Djava.awt.headless=true&quot; &amp;&amp; export MAVEN_CLI_OPTS=&quot;-B -U --batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=true -DdeployAtEnd=true&quot;\r\n\r\nRUN mvn $MAVEN_CLI_OPTS clean install\r\n\r\n############\r\n### prod ###\r\n############\r\n\r\n# Yea this isn&#39;t right, but it crashes before it gets to this point. This is for example purposes only.\r\nFROM openjdk:15-jdk-alpine\r\nCOPY --from=build /app/reproducer-testcontainer/target/reproducer-testcontainer.jar /reproducer-testcontainer.jar\r\nCMD java -jar reproducer-testcontainer.jar\r\n```\r\n\r\nWhen I run ``` mvn clean install ``` it works properly and runs my test using the PostgreSQL Test Container. However, when I run ``` docker build . ``` it fails at the mvn clean install step with the below stack trace.\r\n\r\n**Stack trace:**\r\n```\r\n13:05:01.250 [main] ERROR org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy - ping failed with configuration Environment variables, system properties and defaults. Resolved: \r\n     dockerHost=unix:///var/run/docker.sock\r\n     apiVersion=&#39;{UNKNOWN_VERSION}&#39;\r\n     registryUrl=&#39;https://index.docker.io/v1/&#39;\r\n     registryUsername=&#39;root&#39;\r\n     registryPassword=&#39;null&#39;\r\n     registryEmail=&#39;null&#39;\r\n     dockerConfig=&#39;DefaultDockerClientConfig[dockerHost=unix:///var/run/docker.sock,registryUsername=root,registryPassword=&lt;null&gt;,registryEmail=&lt;null&gt;,registryUrl=https://index.docker.io/v1/,dockerConfigPath=/root/.docker,sslConfig=&lt;null&gt;,apiVersion={UNKNOWN_VERSION},dockerConfig=&lt;null&gt;]&#39;\r\n  due to org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\r\n org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\r\n \tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:51)\r\n&lt;snip&gt;\r\n \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n Caused by: java.io.IOException: com.sun.jna.LastErrorException: [2] No such file or directory\r\n \tat org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocket.&lt;init&gt;(UnixDomainSocket.java:62)\r\n&lt;snip&gt;\r\n \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n Caused by: com.sun.jna.LastErrorException: [2] No such file or directory\r\n \tat org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocketLibrary.connect(Native Method)\r\n \tat org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocket.&lt;init&gt;(UnixDomainSocket.java:57)\r\n \t... 35 common frames omitted\r\n```\r\n\r\nIn my CI pipeline I&#39;d like to only run ``` docker build . ``` and not worry about having another stage that does the ``` mvn clean install ```. \r\n\r\nHow do I fix the configuration to get the java PostgreSQL Testcontainers to work inside of a Docker build so that I can use it in a multi-stage build?\r\n\r\nFull Code example: https://gitlab.com/raymondcg/reproducer-testcontainer","title":"How do I get Java testcontainers to work in Docker Multistage builds?","body":"<p>I have a problem similar to <a href=\"https://stackoverflow.com/q/59187893/3598229\">Run (Docker) Test Container in gitlab with Maven</a>. The difference is that rather than my script running mvn directly it runs a docker multistage build that runs the test inside of the docker image. Unfortunately this doesn't appear to work for the PostgreSQL Test Container. </p>\n\n<p><strong>Dockerfile</strong></p>\n\n<pre><code>#############\n### build ###\n#############\n\n# base image\nFROM maven:3-jdk-11 as build\n\n# set working directory\nWORKDIR /app\n\n# add app\nCOPY . .\n\nRUN export MAVEN_OPTS=\"-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=WARN -Dorg.slf4j.simpleLogger.showDateTime=true -Djava.awt.headless=true\" &amp;&amp; export MAVEN_CLI_OPTS=\"-B -U --batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=true -DdeployAtEnd=true\"\n\nRUN mvn $MAVEN_CLI_OPTS clean install\n\n############\n### prod ###\n############\n\n# Yea this isn't right, but it crashes before it gets to this point. This is for example purposes only.\nFROM openjdk:15-jdk-alpine\nCOPY --from=build /app/reproducer-testcontainer/target/reproducer-testcontainer.jar /reproducer-testcontainer.jar\nCMD java -jar reproducer-testcontainer.jar\n</code></pre>\n\n<p>When I run <code>mvn clean install</code> it works properly and runs my test using the PostgreSQL Test Container. However, when I run <code>docker build .</code> it fails at the mvn clean install step with the below stack trace.</p>\n\n<p><strong>Stack trace:</strong></p>\n\n<pre><code>13:05:01.250 [main] ERROR org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy - ping failed with configuration Environment variables, system properties and defaults. Resolved: \n     dockerHost=unix:///var/run/docker.sock\n     apiVersion='{UNKNOWN_VERSION}'\n     registryUrl='https://index.docker.io/v1/'\n     registryUsername='root'\n     registryPassword='null'\n     registryEmail='null'\n     dockerConfig='DefaultDockerClientConfig[dockerHost=unix:///var/run/docker.sock,registryUsername=root,registryPassword=&lt;null&gt;,registryEmail=&lt;null&gt;,registryUrl=https://index.docker.io/v1/,dockerConfigPath=/root/.docker,sslConfig=&lt;null&gt;,apiVersion={UNKNOWN_VERSION},dockerConfig=&lt;null&gt;]'\n  due to org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\n org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:51)\n&lt;snip&gt;\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\n Caused by: java.io.IOException: com.sun.jna.LastErrorException: [2] No such file or directory\n    at org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocket.&lt;init&gt;(UnixDomainSocket.java:62)\n&lt;snip&gt;\n    at java.base/java.lang.Thread.run(Thread.java:834)\n Caused by: com.sun.jna.LastErrorException: [2] No such file or directory\n    at org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocketLibrary.connect(Native Method)\n    at org.testcontainers.shaded.org.scalasbt.ipcsocket.UnixDomainSocket.&lt;init&gt;(UnixDomainSocket.java:57)\n    ... 35 common frames omitted\n</code></pre>\n\n<p>In my CI pipeline I'd like to only run <code>docker build .</code> and not worry about having another stage that does the <code>mvn clean install</code>. </p>\n\n<p>How do I fix the configuration to get the java PostgreSQL Testcontainers to work inside of a Docker build so that I can use it in a multi-stage build?</p>\n\n<p>Full Code example: <a href=\"https://gitlab.com/raymondcg/reproducer-testcontainer\" rel=\"nofollow noreferrer\">https://gitlab.com/raymondcg/reproducer-testcontainer</a></p>\n"},{"tags":["java","spring","spring-boot","algorithm","timestamp"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1695365860,"post_id":77155248,"comment_id":136017222,"body_markdown":"On Stack Overflow, your post must focus on a single question. You seem to be asking about how to (a) parse CSV, and (b) make calculations across rows. The first has been addressed many times on existing Questions and Answers. The second should be its own post, and should be more carefully explained.","body":"On Stack Overflow, your post must focus on a single question. You seem to be asking about how to (a) parse CSV, and (b) make calculations across rows. The first has been addressed many times on existing Questions and Answers. The second should be its own post, and should be more carefully explained."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1695370357,"post_id":77155248,"comment_id":136018052,"body_markdown":"What is the expected result for your sample input above? How should the expected result look like?","body":"What is the expected result for your sample input above? How should the expected result look like?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695373069,"post_id":77155248,"comment_id":136018513,"body_markdown":"You need to build a &#39;state machine&#39;, maybe something [like this?](https://www.baeldung.com/java-enum-simple-state-machine)","body":"You need to build a &#39;state machine&#39;, maybe something <a href=\"https://www.baeldung.com/java-enum-simple-state-machine\" rel=\"nofollow noreferrer\">like this?</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695388358,"post_id":77155248,"comment_id":136021610,"body_markdown":"Design a class to represent the information from a line from the CSV. In your class represent the timestamp as `OffsetDateTime` and the state as an enum. Use a library that can read CSV, there are some out there, also some free ones. When your code detects a legal state change, calculate the difference using `ChronoUnit.MILLIS.between()`, for example `ChronoUnit.MILLIS.between(row1.getTimestammp(), row2.getTimestamp())`.","body":"Design a class to represent the information from a line from the CSV. In your class represent the timestamp as <code>OffsetDateTime</code> and the state as an enum. Use a library that can read CSV, there are some out there, also some free ones. When your code detects a legal state change, calculate the difference using <code>ChronoUnit.MILLIS.between()</code>, for example <code>ChronoUnit.MILLIS.between(row1.getTimestammp(), row2.getTimestamp())</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695388706,"post_id":77155248,"comment_id":136021678,"body_markdown":"Is a state change from one line to the next, or from one line to the next line having the same code, or how is it?? And are you asking us to design data structure and algorithm for you??? I am sorry to say, I still find the question both too broad and unclear.","body":"Is a state change from one line to the next, or from one line to the next line having the same code, or how is it?? And are you asking us to design data structure and algorithm for you??? I am sorry to say, I still find the question both too broad and unclear."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695400663,"post_id":77155248,"comment_id":136024223,"body_markdown":"You need to design your state machine first. The time delta aspect is relatively trivial once you&#39;ve done that","body":"You need to design your state machine first. The time delta aspect is relatively trivial once you&#39;ve done that"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695409001,"post_id":77155248,"comment_id":136025606,"body_markdown":"Your comments are really helpful. Please always add more information *as edits to the original question* so we have everything in one place. I added a couple times for you. Next time it’s your turn. :-)","body":"Your comments are really helpful. Please always add more information <i>as edits to the original question</i> so we have everything in one place. I added a couple times for you. Next time it’s your turn. :-)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695409333,"post_id":77155248,"comment_id":136025663,"body_markdown":"One idea is: Once you have designed your Java class, say, `LineInfo` (poor name, find a better one), use a `Map&lt;String, LineInfo&gt;` to hold the last line for each code. For each `LineInfo` read from CSV, check if the code is already in the map, if it is, whether the state change from the last state to the new one is legal, and if it is, calculate the time difference.  Under all circumstances add the new `LineInfo` to the map in place of the old one.","body":"One idea is: Once you have designed your Java class, say, <code>LineInfo</code> (poor name, find a better one), use a <code>Map&lt;String, LineInfo&gt;</code> to hold the last line for each code. For each <code>LineInfo</code> read from CSV, check if the code is already in the map, if it is, whether the state change from the last state to the new one is legal, and if it is, calculate the time difference.  Under all circumstances add the new <code>LineInfo</code> to the map in place of the old one."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695416202,"creation_date":1695364243,"answer_id":77155305,"question_id":77155248,"body_markdown":"CSV files are an easy to read format - in general.\r\nAnd then, due to format insufficiencies they come with a lot of addons or exceptions. Just think of storing strings that shall contain commas and linefeeds as value.\r\n\r\nTo not have to either create another quirky format but use already developed and tested code, you may want to use the [Apache Commons CSV][1] library.\r\n\r\nReading an Excel-compatible CSV may look like this:\r\n\r\n    Reader in = new FileReader(&quot;path/to/file.csv&quot;);\r\n    Iterable&lt;CSVRecord&gt; records = CSVFormat.EXCEL.parse(in);\r\n    for (CSVRecord record : records) {\r\n        String lastName = record.get(&quot;Last Name&quot;);\r\n        String firstName = record.get(&quot;First Name&quot;);\r\n    }\r\n\r\nNext step is to check the time difference between events. For that parse the timestamp into Instant using [Instant.parse()][2].\r\n\r\nOnce you have two Instant&#39;s calculate their difference using [Duration.between()][3].\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)","title":"How can I manipulate data that comes from a csv file in java?","body":"<p>CSV files are an easy to read format - in general.\nAnd then, due to format insufficiencies they come with a lot of addons or exceptions. Just think of storing strings that shall contain commas and linefeeds as value.</p>\n<p>To not have to either create another quirky format but use already developed and tested code, you may want to use the <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV</a> library.</p>\n<p>Reading an Excel-compatible CSV may look like this:</p>\n<pre><code>Reader in = new FileReader(&quot;path/to/file.csv&quot;);\nIterable&lt;CSVRecord&gt; records = CSVFormat.EXCEL.parse(in);\nfor (CSVRecord record : records) {\n    String lastName = record.get(&quot;Last Name&quot;);\n    String firstName = record.get(&quot;First Name&quot;);\n}\n</code></pre>\n<p>Next step is to check the time difference between events. For that parse the timestamp into Instant using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">Instant.parse()</a>.</p>\n<p>Once you have two Instant's calculate their difference using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)\" rel=\"nofollow noreferrer\">Duration.between()</a>.</p>\n"}],"owner":{"display_name":"user18722819"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696269155,"creation_date":1695363415,"question_id":77155248,"body_markdown":"I am trying to build a program in spring that reads files and does calculations with the data that comes from the files.\r\nWhat interests me more from the file is Timestamp, Code and State. I want to calculate the Timestamp difference between two different states.\r\nTo calculate this difference I have to keep in mind that the state UN should either go to ACK or RTNUN. From ACK/RTNUN it can go to NORM, but not any other form. For example RTNUN to ACK is considered an error and no calculations are done. (The code should be the same for both states).\r\nState UPR can only go to NORM. The rest is considered an error and no calculations are done.\r\n\r\nFile Structure example:\r\n\r\n```none\r\nTimestamp;ISPPE;Sequence;Code;Severity;State;Subsystem;\r\n2023-06-08T13:03:22.653+0200;1223085273;1;FW|110|;E;UN;;\r\n2023-06-08T13:03:28.498+0200;1223091118;1;FW|110|;E;ACK;;\r\n2023-06-08T13:03:28.499+0200;1223091119;1;FW|110|;E;RTNUN;;\r\n2023-06-08T13:03:28.500+0200;1223091120;1;FW|110|;E;NORM;;\r\n2023-06-08T13:04:44.546+0200;1223167018;1;FW|110|;E;UN;;\r\n2023-06-08T13:04:56.750+0200;1223179222;1;FW|110|;E;RTNUN;;\r\n2023-06-08T13:04:56.750+0200;1223179222;2;FW|110|;E;NORM;;\r\n2023-06-08T13:05:33.230+0200;1223215702;1;FW|110|;E;UN;;\r\n2023-06-08T13:05:33.500+0200;1223215972;1;FW|110|;E;RTNUN;;\r\n2023-06-08T13:05:33.500+0200;1223215972;2;FW|110|;E;NORM;;\r\n2023-06-08T13:13:32.562+0200;1223693667;1;FW|110|;E;UN;;\r\n2023-06-08T13:13:32.861+0200;1223693966;1;FW|110|;E;RTNUN;;\r\n2023-06-08T13:13:32.861+0200;1223693966;2;FW|110|;E;NORM;;\r\n2023-06-08T14:33:57.021+0200;1228506046;1;FW|115|;I;UN;Media Input;\r\n2023-06-08T14:35:02.177+0200;1228571031;1;FW|5|;E;UN;Carriage;\r\n2023-06-08T14:35:06.998+0200;1228575852;1;FW|5|;E;RTNUN;Carriage;\r\n2023-06-08T14:35:06.998+0200;1228575852;2;FW|5|;E;NORM;Carriage;\r\n2023-06-21T10:21:28.379+0200;898472;1;FW|2|0.1;F;UPR;E-Module;\r\n2023-06-21T10:21:28.380+0200;898473;1;FW|2|1.0;F;NORM;E-Module;\r\n2023-06-08T14:35:59.566+0200;1228628130;1;FW|110|;E;UN;Media Output Roll;\r\n2023-06-08T14:35:59.634+0200;1228628198;1;FW|115|;I;RTNUN;Media Input Roll;\r\n2023-06-08T14:35:59.634+0200;1228628198;2;FW|115|;I;NORM;Media Input Roll;\r\n2023-06-08T14:35:59.638+0200;1228628202;1;FW|110|;E;RTNUN;Media Output Roll;\r\n2023-06-08T14:35:59.638+0200;1228628202;2;FW|110|;E;NORM;Media Output Roll;\r\n```\r\n\r\nI will take an example of the first two lines code `FW|110|` passes from `UN` state to `ACK` state. So it is an allowed state change. In this moment I need to calculate how long did this state change took. In this case it would the difference between 2023-06-08T13:03:22.653+0200 and 2023-06-08T13:03:28.498+0200. The output can be different as long as time difference is part of it. An output example Sequence -&gt; timeDiff. So key would be 1223085273 and value 5845, which is the difference in millisecond.s The goal is to find how long it took a specific Code to change state (that are allowed).\r\n\r\nThe state changes randomly. It is called a state change when it has the same code and a regular state. For example it can start at the first row with UN state and change state at the last row.\r\n\r\nWhat I am currently doing is reading the file and putting the data in a list of String list, and loop through it, but there are too many edge cases and I feel like it is not the right approach.\r\n\r\nRight now I&#39;m looping through the whole data that I get from the file, but my code is messy due to too many if statements \r\n\r\nI would appreciate if anyone can give me other ideas or approach.","title":"How can I manipulate data that comes from a csv file in java?","body":"<p>I am trying to build a program in spring that reads files and does calculations with the data that comes from the files.\nWhat interests me more from the file is Timestamp, Code and State. I want to calculate the Timestamp difference between two different states.\nTo calculate this difference I have to keep in mind that the state UN should either go to ACK or RTNUN. From ACK/RTNUN it can go to NORM, but not any other form. For example RTNUN to ACK is considered an error and no calculations are done. (The code should be the same for both states).\nState UPR can only go to NORM. The rest is considered an error and no calculations are done.</p>\n<p>File Structure example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Timestamp;ISPPE;Sequence;Code;Severity;State;Subsystem;\n2023-06-08T13:03:22.653+0200;1223085273;1;FW|110|;E;UN;;\n2023-06-08T13:03:28.498+0200;1223091118;1;FW|110|;E;ACK;;\n2023-06-08T13:03:28.499+0200;1223091119;1;FW|110|;E;RTNUN;;\n2023-06-08T13:03:28.500+0200;1223091120;1;FW|110|;E;NORM;;\n2023-06-08T13:04:44.546+0200;1223167018;1;FW|110|;E;UN;;\n2023-06-08T13:04:56.750+0200;1223179222;1;FW|110|;E;RTNUN;;\n2023-06-08T13:04:56.750+0200;1223179222;2;FW|110|;E;NORM;;\n2023-06-08T13:05:33.230+0200;1223215702;1;FW|110|;E;UN;;\n2023-06-08T13:05:33.500+0200;1223215972;1;FW|110|;E;RTNUN;;\n2023-06-08T13:05:33.500+0200;1223215972;2;FW|110|;E;NORM;;\n2023-06-08T13:13:32.562+0200;1223693667;1;FW|110|;E;UN;;\n2023-06-08T13:13:32.861+0200;1223693966;1;FW|110|;E;RTNUN;;\n2023-06-08T13:13:32.861+0200;1223693966;2;FW|110|;E;NORM;;\n2023-06-08T14:33:57.021+0200;1228506046;1;FW|115|;I;UN;Media Input;\n2023-06-08T14:35:02.177+0200;1228571031;1;FW|5|;E;UN;Carriage;\n2023-06-08T14:35:06.998+0200;1228575852;1;FW|5|;E;RTNUN;Carriage;\n2023-06-08T14:35:06.998+0200;1228575852;2;FW|5|;E;NORM;Carriage;\n2023-06-21T10:21:28.379+0200;898472;1;FW|2|0.1;F;UPR;E-Module;\n2023-06-21T10:21:28.380+0200;898473;1;FW|2|1.0;F;NORM;E-Module;\n2023-06-08T14:35:59.566+0200;1228628130;1;FW|110|;E;UN;Media Output Roll;\n2023-06-08T14:35:59.634+0200;1228628198;1;FW|115|;I;RTNUN;Media Input Roll;\n2023-06-08T14:35:59.634+0200;1228628198;2;FW|115|;I;NORM;Media Input Roll;\n2023-06-08T14:35:59.638+0200;1228628202;1;FW|110|;E;RTNUN;Media Output Roll;\n2023-06-08T14:35:59.638+0200;1228628202;2;FW|110|;E;NORM;Media Output Roll;\n</code></pre>\n<p>I will take an example of the first two lines code <code>FW|110|</code> passes from <code>UN</code> state to <code>ACK</code> state. So it is an allowed state change. In this moment I need to calculate how long did this state change took. In this case it would the difference between 2023-06-08T13:03:22.653+0200 and 2023-06-08T13:03:28.498+0200. The output can be different as long as time difference is part of it. An output example Sequence -&gt; timeDiff. So key would be 1223085273 and value 5845, which is the difference in millisecond.s The goal is to find how long it took a specific Code to change state (that are allowed).</p>\n<p>The state changes randomly. It is called a state change when it has the same code and a regular state. For example it can start at the first row with UN state and change state at the last row.</p>\n<p>What I am currently doing is reading the file and putting the data in a list of String list, and loop through it, but there are too many edge cases and I feel like it is not the right approach.</p>\n<p>Right now I'm looping through the whole data that I get from the file, but my code is messy due to too many if statements</p>\n<p>I would appreciate if anyone can give me other ideas or approach.</p>\n"},{"tags":["java","date","timezone-offset"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1695922084,"post_id":77197039,"comment_id":136091727,"body_markdown":"For your sanity I strongly recommend you use [java.time, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/index.html) for your date and time work and avoid `DateFormat`, `SimpleDateFormat` and `Date`. The last three were troublesome and for that reason were supplanted by java.time a decade ago.","body":"For your sanity I strongly recommend you use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API,</a> for your date and time work and avoid <code>DateFormat</code>, <code>SimpleDateFormat</code> and <code>Date</code>. The last three were troublesome and for that reason were supplanted by java.time a decade ago."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1695922216,"post_id":77197039,"comment_id":136091748,"body_markdown":"You are asking too much. There are many time zones that use UTC offset `-04:00` in November. Don’t expect Java to guess which of them you were thinking of.","body":"You are asking too much. There are many time zones that use UTC offset <code>-04:00</code> in November. Don’t expect Java to guess which of them you were thinking of."},{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":1,"creation_date":1695923505,"post_id":77197039,"comment_id":136091960,"body_markdown":"You need to read this article https://stackoverflow.com/tags/timezone/info","body":"You need to read this article <a href=\"https://stackoverflow.com/tags/timezone/info\">stackoverflow.com/tags/timezone/info</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1695926620,"post_id":77197039,"comment_id":136092395,"body_markdown":"Does this answer your question, in whole or in part? [Get timeZone information from date with date with offset value](https://stackoverflow.com/questions/62297550/get-timezone-information-from-date-with-date-with-offset-value)","body":"Does this answer your question, in whole or in part? <a href=\"https://stackoverflow.com/questions/62297550/get-timezone-information-from-date-with-date-with-offset-value\">Get timeZone information from date with date with offset value</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1695927369,"post_id":77197039,"comment_id":136092499,"body_markdown":"43 different timezones have that offset at that date","body":"43 different timezones have that offset at that date"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695930488,"post_id":77197039,"comment_id":136092992,"body_markdown":"Of the 43 time zones, none is usually abbreviated `EST`. Many time zones use that abbreviation for North or Central American *Eastern Standard Time* , which is at offset -05:00, not -04:00. A few examples are America/Panama, America/Atikokan and America/Montreal.","body":"Of the 43 time zones, none is usually abbreviated <code>EST</code>. Many time zones use that abbreviation for North or Central American <i>Eastern Standard Time</i> , which is at offset -05:00, not -04:00. A few examples are America/Panama, America/Atikokan and America/Montreal."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695930287,"creation_date":1695930287,"answer_id":77197844,"question_id":77197039,"body_markdown":"&gt; _&quot;... This format dd/MMM/yyyy HH:mm aa zzz will default to server timezone but I want the timezone from the date.&quot;_\r\n\r\nDon&#39;t include the _timezone_ within the parse, it&#39;s just a notation.\r\n\r\n```java\r\nDate dateVal = df2.parse(dateStr.substring(0, dateStr.lastIndexOf(&#39;-&#39;)));\r\n```\r\n\r\nAnd, when printing the value, the _JVM_ is going to display the system&#39;s default time-zone, so manually append the time-zone text.\r\n\r\n```java\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MMM/yyyy HH:mm aa &quot;);\r\nDate dateVal = df2.parse(dateStr.substring(0, dateStr.lastIndexOf(&#39;-&#39;)));\r\nString formatted = sdf.format(dateVal) + &quot;EST&quot;;\r\n```","title":"Convert ISO date formatted string with appropriate timezone","body":"<blockquote>\n<p><em>&quot;... This format dd/MMM/yyyy HH:mm aa zzz will default to server timezone but I want the timezone from the date.&quot;</em></p>\n</blockquote>\n<p>Don't include the <em>timezone</em> within the parse, it's just a notation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date dateVal = df2.parse(dateStr.substring(0, dateStr.lastIndexOf('-')));\n</code></pre>\n<p>And, when printing the value, the <em>JVM</em> is going to display the system's default time-zone, so manually append the time-zone text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MMM/yyyy HH:mm aa &quot;);\nDate dateVal = df2.parse(dateStr.substring(0, dateStr.lastIndexOf('-')));\nString formatted = sdf.format(dateVal) + &quot;EST&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695972222,"creation_date":1695932293,"answer_id":77198016,"question_id":77197039,"body_markdown":"# tl;dr\r\n\r\n```java\r\nOffsetDateTime\r\n.parse( &quot;2020-11-22T10:02:13.501-04:00&quot; )\r\n.atZoneSameInstant( \r\n    ZoneId.of( &quot;America/New_York&quot; ) \r\n)\r\n.format( \r\n    DateTimeFormatter\r\n    .ofPattern ( &quot;dd/MMM/uuuu HH:mm a z&quot; )\r\n    .withLocale ( Locale.US )\r\n) \r\n```\r\n\r\nSee this code [run at Ideone][1].\r\n\r\n&gt;22/Nov/2020 09:02 AM EST\r\n\r\nNote the change in hour-of-day, 9 versus 10. On that date, most time zones likely intended by &quot;EST&quot; were using an offset of -05:00 not -04:00. The -04:00 offset is used only in the summer in observance of Daylight Saving Time (DST). So the example shown in the Question is contradictory/incorrect.\r\n\r\nUse real time zone names, not “EST”. \r\n\r\n# Avoid legacy classes\r\n\r\nYou are using terribly flawed date-time classes. These were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# *java.time*\r\n\r\n## `OffsetDateTime`\r\n\r\nParse your input string as a `OffsetDateTime` because that text includes a date, a time-of-day, and an offset from UTC (a count of hours-minutes-seconds ahead/behind the temporal meridian). \r\n\r\n## ISO 8601\r\n\r\nYour input is in standard [ISO 8601][2] format. So no need to specify a formatting pattern. The *java.time* classes use ISO 8601 formats by default when parsing/generating text.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse( &quot;2020-11-22T10:02:13.501-04:00&quot; ) ;\r\n\r\n## `EST` is not a real time zone\r\n\r\nYou want to produce text in a localized format that includes a pseudo time zone such as `EST`. Be aware that such pseudo-zones are not official, are not standardized, and are not even unique(!). \r\n\r\nSo you need to determine what real time zone you intend. [Real time zones][3] are named with a format of `Continent/Region` such as `Europe/Paris` or `Pacific/Auckland`. \r\n\r\n\r\nGiven your example of -04:00 and &quot;EST&quot;, I assume you intend a time zone on the east side of the Americas. Many such time zones may be intended by &quot;EST&quot;. These range from the northern edges of Canada and Greenland, all the way down through the Caribbean to parts of South America. Examples include `America/Detroit`, `America/Grand_Turk`, `America/Indiana/Indianapolis`, `America/New_York`, `America/Port-au-Prince`. \r\n\r\n## Your offset incorrect on that date\r\n\r\nIf you did intend one of these EST-implied time zones, then your offset is wrong. On that date, November 22 of 2020, the time zones implied by EST were using an offset of &quot;-05:00&quot;. \r\n\r\nIf your example data is wrong, is not what you truly intended, I suggest you edit your Question with corrections.\r\n\r\n## Example: `America/New_York`\r\n\r\nI will take a wild guess that you intended `America/New_York`. Apply that zone to our `OffsetDateTime` to get a `ZonedDateTime` object.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/New_York&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( zoneId ) ;\r\n\r\n### Generate standard text\r\n\r\nNow we can generate text. First, let&#39;s generate text in standard ISO 8601 format that has been wisely extended by appending the name of the time zone in square brackets.\r\n\r\n    String output = zdt.toString() ;\r\n\r\n&gt;2020-11-22T09:02:13.501-05:00[America/New_York]\r\n\r\nNotice how the hour has changed from 10 to 9, and the offset from -04:00 to -05:00. This still represents the same moment, the same point on the timeline. But adjustments have been made to suit how that moment was indeed seen by people in the region covered by the time zone of `America/New_York`. \r\n\r\n### Generate localized text\r\n\r\nYou can specify a custom format to be used in generating text. But I would generally recommend you let Java automatically localize while generating text.  \r\n\r\nTo generate localized text, specify [a locale][4].\r\n\r\n```java\r\nLocale locale = Locale.forLanguageTag ( &quot;en-CA&quot; );\r\nDateTimeFormatter formatter =\r\n        DateTimeFormatter\r\n                .ofLocalizedDateTime ( FormatStyle.LONG )\r\n                .withLocale ( locale );\r\nString output = zdt.format ( formatter );\r\n```\r\n\r\nOr build a custom formatter. Again, specify a `Locale` unless you want to implicitly rely upon the JVM’s current default time zone at runtime.\r\n\r\n```java\r\nLocale locale = Locale.US;\r\nDateTimeFormatter formatter =\r\n        DateTimeFormatter\r\n                .ofPattern ( &quot;dd/MMM/uuuu HH:mm a z&quot; )\r\n                .withLocale ( locale );\r\nString output = zdt.format ( formatter );\r\n```\r\n\r\n&gt;22/Nov/2020 09:02 AM EST\r\n\r\n\r\n  [1]: https://ideone.com/EvnDr6\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [4]: https://www.oracle.com/java/technologies/javase/jdk21-suported-locales.html","title":"Convert ISO date formatted string with appropriate timezone","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime\n.parse( &quot;2020-11-22T10:02:13.501-04:00&quot; )\n.atZoneSameInstant( \n    ZoneId.of( &quot;America/New_York&quot; ) \n)\n.format( \n    DateTimeFormatter\n    .ofPattern ( &quot;dd/MMM/uuuu HH:mm a z&quot; )\n    .withLocale ( Locale.US )\n) \n</code></pre>\n<p>See this code <a href=\"https://ideone.com/EvnDr6\" rel=\"nofollow noreferrer\">run at Ideone</a>.</p>\n<blockquote>\n<p>22/Nov/2020 09:02 AM EST</p>\n</blockquote>\n<p>Note the change in hour-of-day, 9 versus 10. On that date, most time zones likely intended by &quot;EST&quot; were using an offset of -05:00 not -04:00. The -04:00 offset is used only in the summer in observance of Daylight Saving Time (DST). So the example shown in the Question is contradictory/incorrect.</p>\n<p>Use real time zone names, not “EST”.</p>\n<h1>Avoid legacy classes</h1>\n<p>You are using terribly flawed date-time classes. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><em>java.time</em></h1>\n<h2><code>OffsetDateTime</code></h2>\n<p>Parse your input string as a <code>OffsetDateTime</code> because that text includes a date, a time-of-day, and an offset from UTC (a count of hours-minutes-seconds ahead/behind the temporal meridian).</p>\n<h2>ISO 8601</h2>\n<p>Your input is in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. So no need to specify a formatting pattern. The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse( &quot;2020-11-22T10:02:13.501-04:00&quot; ) ;\n</code></pre>\n<h2><code>EST</code> is not a real time zone</h2>\n<p>You want to produce text in a localized format that includes a pseudo time zone such as <code>EST</code>. Be aware that such pseudo-zones are not official, are not standardized, and are not even unique(!).</p>\n<p>So you need to determine what real time zone you intend. <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">Real time zones</a> are named with a format of <code>Continent/Region</code> such as <code>Europe/Paris</code> or <code>Pacific/Auckland</code>.</p>\n<p>Given your example of -04:00 and &quot;EST&quot;, I assume you intend a time zone on the east side of the Americas. Many such time zones may be intended by &quot;EST&quot;. These range from the northern edges of Canada and Greenland, all the way down through the Caribbean to parts of South America. Examples include <code>America/Detroit</code>, <code>America/Grand_Turk</code>, <code>America/Indiana/Indianapolis</code>, <code>America/New_York</code>, <code>America/Port-au-Prince</code>.</p>\n<h2>Your offset incorrect on that date</h2>\n<p>If you did intend one of these EST-implied time zones, then your offset is wrong. On that date, November 22 of 2020, the time zones implied by EST were using an offset of &quot;-05:00&quot;.</p>\n<p>If your example data is wrong, is not what you truly intended, I suggest you edit your Question with corrections.</p>\n<h2>Example: <code>America/New_York</code></h2>\n<p>I will take a wild guess that you intended <code>America/New_York</code>. Apply that zone to our <code>OffsetDateTime</code> to get a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/New_York&quot; ) ;\nZonedDateTime zdt = odt.atZoneSameInstant( zoneId ) ;\n</code></pre>\n<h3>Generate standard text</h3>\n<p>Now we can generate text. First, let's generate text in standard ISO 8601 format that has been wisely extended by appending the name of the time zone in square brackets.</p>\n<pre><code>String output = zdt.toString() ;\n</code></pre>\n<blockquote>\n<p>2020-11-22T09:02:13.501-05:00[America/New_York]</p>\n</blockquote>\n<p>Notice how the hour has changed from 10 to 9, and the offset from -04:00 to -05:00. This still represents the same moment, the same point on the timeline. But adjustments have been made to suit how that moment was indeed seen by people in the region covered by the time zone of <code>America/New_York</code>.</p>\n<h3>Generate localized text</h3>\n<p>You can specify a custom format to be used in generating text. But I would generally recommend you let Java automatically localize while generating text.</p>\n<p>To generate localized text, specify <a href=\"https://www.oracle.com/java/technologies/javase/jdk21-suported-locales.html\" rel=\"nofollow noreferrer\">a locale</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.forLanguageTag ( &quot;en-CA&quot; );\nDateTimeFormatter formatter =\n        DateTimeFormatter\n                .ofLocalizedDateTime ( FormatStyle.LONG )\n                .withLocale ( locale );\nString output = zdt.format ( formatter );\n</code></pre>\n<p>Or build a custom formatter. Again, specify a <code>Locale</code> unless you want to implicitly rely upon the JVM’s current default time zone at runtime.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.US;\nDateTimeFormatter formatter =\n        DateTimeFormatter\n                .ofPattern ( &quot;dd/MMM/uuuu HH:mm a z&quot; )\n                .withLocale ( locale );\nString output = zdt.format ( formatter );\n</code></pre>\n<blockquote>\n<p>22/Nov/2020 09:02 AM EST</p>\n</blockquote>\n"}],"owner":{"account_id":29557598,"reputation":1,"user_id":22652921,"display_name":"SC1"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696268200,"creation_date":1695921357,"question_id":77197039,"body_markdown":"I am trying to update date value which is in ISO format (with tz) 2020-11-22T10:02:13.501-04:00 to format like 11/Nov/2020 10:02 AM EST. \r\n\r\nI am using the below code but how do we get the timezone as (-04:00) is EST.\r\n\r\n    DateFormat df2 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MMM/yyyy HH:mm aa zzz&quot;);\r\n    Date dateVal = df2.parse(dateStr);\r\n    String formatted = sdf.format(dateVal);`\r\n\r\nThis format dd/MMM/yyyy HH:mm aa zzz will default to server timezone but I want the timezone from the date. \r\n","title":"Convert ISO date formatted string with appropriate timezone","body":"<p>I am trying to update date value which is in ISO format (with tz) 2020-11-22T10:02:13.501-04:00 to format like 11/Nov/2020 10:02 AM EST.</p>\n<p>I am using the below code but how do we get the timezone as (-04:00) is EST.</p>\n<pre><code>DateFormat df2 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MMM/yyyy HH:mm aa zzz&quot;);\nDate dateVal = df2.parse(dateStr);\nString formatted = sdf.format(dateVal);`\n</code></pre>\n<p>This format dd/MMM/yyyy HH:mm aa zzz will default to server timezone but I want the timezone from the date.</p>\n"},{"tags":["java","soap","jaxb"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":4,"creation_date":1696261693,"post_id":77216793,"comment_id":136127360,"body_markdown":"what is `xsr`? where is the processing code ?","body":"what is <code>xsr</code>? where is the processing code ?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1696262014,"post_id":77216793,"comment_id":136127423,"body_markdown":"Did you notice that your reference Postman shows JSON, and your expected answer is JSON? Where is the connection to parsing an XML string?","body":"Did you notice that your reference Postman shows JSON, and your expected answer is JSON? Where is the connection to parsing an XML string?"},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696263122,"post_id":77216793,"comment_id":136127627,"body_markdown":"@jhamon this is xsr &quot;XMLStreamReader xsr = xif.createXMLStreamReader(xml)&quot; My bad, I didn&#39;t upload it, but it&#39;s just like this https://stackoverflow.com/a/19401316/14839942","body":"@jhamon this is xsr &quot;XMLStreamReader xsr = xif.createXMLStreamReader(xml)&quot; My bad, I didn&#39;t upload it, but it&#39;s just like this <a href=\"https://stackoverflow.com/a/19401316/14839942\">stackoverflow.com/a/19401316/14839942</a>"},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696263287,"post_id":77216793,"comment_id":136127661,"body_markdown":"@Queeg That&#39;s in my parsing class, the while statement I mentioned is where I&#39;m trying to traverse through the xml string. My class is similar to this right here - https://stackoverflow.com/a/19401316/14839942","body":"@Queeg That&#39;s in my parsing class, the while statement I mentioned is where I&#39;m trying to traverse through the xml string. My class is similar to this right here - <a href=\"https://stackoverflow.com/a/19401316/14839942\">stackoverflow.com/a/19401316/14839942</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696263299,"post_id":77216793,"comment_id":136127664,"body_markdown":"And I suppose `xif` is an `XMLInputFactory`? Instead of making us guess, why don&#39;t you show your code?","body":"And I suppose <code>xif</code> is an <code>XMLInputFactory</code>? Instead of making us guess, why don&#39;t you show your code?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696263429,"post_id":77216793,"comment_id":136127691,"body_markdown":"Your XML doesn&#39;t have any root element. It&#39;s a forest, not a tree. Is that intentional?","body":"Your XML doesn&#39;t have any root element. It&#39;s a forest, not a tree. Is that intentional?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696263901,"post_id":77216793,"comment_id":136127768,"body_markdown":"`xsr.isStartElement() &amp;&amp; &quot;list&quot;.equals(xsr.getLocalName())` will be `true` as soon as it sees the first `&lt;list&gt;` tag, before it processes any data whatsoever, so that is completely wrong.","body":"<code>xsr.isStartElement() &amp;&amp; &quot;list&quot;.equals(xsr.getLocalName())</code> will be <code>true</code> as soon as it sees the first <code>&lt;list&gt;</code> tag, before it processes any data whatsoever, so that is completely wrong."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696264491,"post_id":77216793,"comment_id":136127859,"body_markdown":"I changed the code to iterate as long as `xsr.hasNext()` and after Ben_1 it throws: `Exception javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,54]\nMessage: The markup in the document following the root element must be well-formed.` You need an outer XML tag, like: `&lt;lists&gt;&lt;list&gt;...Ben_1...&lt;/list&gt;&lt;list&gt;...John...&lt;/list&gt;&lt;/lists&gt;`","body":"I changed the code to iterate as long as <code>xsr.hasNext()</code> and after Ben_1 it throws: <code>Exception javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,54] Message: The markup in the document following the root element must be well-formed.</code> You need an outer XML tag, like: <code>&lt;lists&gt;&lt;list&gt;...Ben_1...&lt;&#47;list&gt;&lt;list&gt;...John...&lt;&#47;list&gt;&lt;&#47;list&zwnj;&#8203;s&gt;</code>"},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696264975,"post_id":77216793,"comment_id":136127927,"body_markdown":"@DavidConrad my bad, I&#39;m new to all this so I apologize for not adding all of my code, in my while loop, instead of &#39;break;&#39; I added continue but I was not sure how to make it stop. So if I do add a outer XML tag, will this logic work? if not, please share the code you implemented. Thanks and again I&#39;m sorry for such a poor post.","body":"@DavidConrad my bad, I&#39;m new to all this so I apologize for not adding all of my code, in my while loop, instead of &#39;break;&#39; I added continue but I was not sure how to make it stop. So if I do add a outer XML tag, will this logic work? if not, please share the code you implemented. Thanks and again I&#39;m sorry for such a poor post."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696266622,"post_id":77216793,"comment_id":136128179,"body_markdown":"I&#39;ve added an answer with the code I used. There is still a problem with your logic in that it breaks as soon as it sees a `&lt;list&gt;` start element.","body":"I&#39;ve added an answer with the code I used. There is still a problem with your logic in that it breaks as soon as it sees a <code>&lt;list&gt;</code> start element."},{"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1696275432,"post_id":77216793,"comment_id":136129756,"body_markdown":"@DavidConrad This is what I was looking for!! Thank you! it prints everything and then I&#39;m running into the issue you mentioned.\nWere you referring to this error? \njava.lang.IllegalStateException: reader must be on a START_ELEMENT event, not a 8 event. \nI changed my xml string to &lt;Env&gt;&lt;lists&gt;&lt;list&gt;&lt;name&gt;&lt;assign&gt;&lt;/assign&gt;&lt;/name&gt;&lt;/list&gt;&lt;/lists&gt;&lt;/Env&gt;\nIs there a specific way to stop parsing when at the end of the xml string?","body":"@DavidConrad This is what I was looking for!! Thank you! it prints everything and then I&#39;m running into the issue you mentioned. Were you referring to this error?  java.lang.IllegalStateException: reader must be on a START_ELEMENT event, not a 8 event.  I changed my xml string to &lt;Env&gt;&lt;lists&gt;&lt;list&gt;&lt;name&gt;&lt;assign&gt;&lt;/assign&gt;&lt;/name&gt;&lt;/list&gt;&lt;/lis&zwnj;&#8203;ts&gt;&lt;/Env&gt; Is there a specific way to stop parsing when at the end of the xml string?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696276817,"post_id":77216793,"comment_id":136130033,"body_markdown":"In my answer I looped `while (xsr.hasNext()) ...` That should stop at the end.","body":"In my answer I looped <code>while (xsr.hasNext()) ...</code> That should stop at the end."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696266556,"creation_date":1696266556,"answer_id":77217303,"question_id":77216793,"body_markdown":"In this XML there is no one top-level element. There are two `list` elements:\r\n\r\n    &lt;list&gt;\r\n        &lt;name&gt;Ben_1&lt;/name&gt;\r\n        &lt;assign&gt;trac&lt;/name&gt;\r\n    &lt;/list&gt;\r\n    &lt;list&gt;\r\n        &lt;name&gt;John&lt;/name&gt;\r\n        &lt;assign&gt;task&lt;/name&gt;\r\n    &lt;/list&gt;\r\n\r\nIn this XML, there is a single top-level element, `lists`:\r\n\r\n    &lt;lists&gt;\r\n        &lt;list&gt;\r\n            &lt;name&gt;Ben_1&lt;/name&gt;\r\n            &lt;assign&gt;trac&lt;/name&gt;\r\n        &lt;/list&gt;\r\n        &lt;list&gt;\r\n            &lt;name&gt;John&lt;/name&gt;\r\n            &lt;assign&gt;task&lt;/name&gt;\r\n        &lt;/list&gt;\r\n    &lt;/lists&gt;\r\n\r\nIf you were to diagram it in a [tree structure](https://en.wikipedia.org/wiki/Tree_(data_structure)) it would be a single tree, whereas for the previous example, there would be one tree for each `list`: a &quot;forest.&quot; The `XMLStreamReader` requires a tree, not a forest.\r\n\r\n    import java.io.StringReader;\r\n    import javax.xml.stream.XMLInputFactory;\r\n    import javax.xml.stream.XMLStreamReader;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    \r\n    String xml = &quot;&lt;lists&gt;&lt;list&gt;&lt;name&gt;Ben_1&lt;/name&gt;&lt;assign&gt;trac&lt;/assign&gt;&lt;/list&gt;&quot; +\r\n        &quot;&lt;list&gt;&lt;name&gt;John&lt;/name&gt;&lt;assign&gt;task&lt;/assign&gt;&lt;/list&gt;&lt;/lists&gt;&quot;;\r\n    \r\n    var xif = XMLInputFactory.newInstance();\r\n    var xsr = xif.createXMLStreamReader(new StreamSource(new StringReader(xml)));\r\n    \r\n    while (xsr.hasNext()) {\r\n        if (xsr.hasText()) {\r\n            System.out.println(xsr.getText());\r\n        }\r\n        xsr.next();\r\n    }\r\n\r\nGiven the &quot;forest&quot; XML, this code will throw an `XMLStreamException` with the message &quot;The markup in the document following the root element must be well-formed.&quot; when it gets to the second `&lt;list&gt;` tag, but given the &quot;tree&quot; XML it will output:\r\n\r\n    Ben_1\r\n    trac\r\n    John\r\n    task\r\n\r\nI don&#39;t know how you intend to handle this data but this should get you past the point you are currently stuck at.","title":"While loop not looping through whole xml string when unmarshalling","body":"<p>In this XML there is no one top-level element. There are two <code>list</code> elements:</p>\n<pre><code>&lt;list&gt;\n    &lt;name&gt;Ben_1&lt;/name&gt;\n    &lt;assign&gt;trac&lt;/name&gt;\n&lt;/list&gt;\n&lt;list&gt;\n    &lt;name&gt;John&lt;/name&gt;\n    &lt;assign&gt;task&lt;/name&gt;\n&lt;/list&gt;\n</code></pre>\n<p>In this XML, there is a single top-level element, <code>lists</code>:</p>\n<pre><code>&lt;lists&gt;\n    &lt;list&gt;\n        &lt;name&gt;Ben_1&lt;/name&gt;\n        &lt;assign&gt;trac&lt;/name&gt;\n    &lt;/list&gt;\n    &lt;list&gt;\n        &lt;name&gt;John&lt;/name&gt;\n        &lt;assign&gt;task&lt;/name&gt;\n    &lt;/list&gt;\n&lt;/lists&gt;\n</code></pre>\n<p>If you were to diagram it in a <a href=\"https://en.wikipedia.org/wiki/Tree_(data_structure)\" rel=\"nofollow noreferrer\">tree structure</a> it would be a single tree, whereas for the previous example, there would be one tree for each <code>list</code>: a &quot;forest.&quot; The <code>XMLStreamReader</code> requires a tree, not a forest.</p>\n<pre><code>import java.io.StringReader;\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLStreamReader;\nimport javax.xml.transform.stream.StreamSource;\n\nString xml = &quot;&lt;lists&gt;&lt;list&gt;&lt;name&gt;Ben_1&lt;/name&gt;&lt;assign&gt;trac&lt;/assign&gt;&lt;/list&gt;&quot; +\n    &quot;&lt;list&gt;&lt;name&gt;John&lt;/name&gt;&lt;assign&gt;task&lt;/assign&gt;&lt;/list&gt;&lt;/lists&gt;&quot;;\n\nvar xif = XMLInputFactory.newInstance();\nvar xsr = xif.createXMLStreamReader(new StreamSource(new StringReader(xml)));\n\nwhile (xsr.hasNext()) {\n    if (xsr.hasText()) {\n        System.out.println(xsr.getText());\n    }\n    xsr.next();\n}\n</code></pre>\n<p>Given the &quot;forest&quot; XML, this code will throw an <code>XMLStreamException</code> with the message &quot;The markup in the document following the root element must be well-formed.&quot; when it gets to the second <code>&lt;list&gt;</code> tag, but given the &quot;tree&quot; XML it will output:</p>\n<pre><code>Ben_1\ntrac\nJohn\ntask\n</code></pre>\n<p>I don't know how you intend to handle this data but this should get you past the point you are currently stuck at.</p>\n"}],"owner":{"account_id":20234279,"reputation":3,"user_id":14839942,"display_name":"JustAnotherCoder"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77217303,"answer_count":1,"score":0,"last_activity_date":1696266556,"creation_date":1696261001,"question_id":77216793,"body_markdown":"I&#39;ve a xml string that I unmarshall but it only returns the first part. I believe my while loop isn&#39;t correct.\r\n\r\n```\r\nwhile(xsr.hasNext()){   \r\n     if(xsr.isStartElement() &amp;&amp; &quot;list&quot;.equals(xsr.getLocalName())) {           \r\n          break;        \r\n     }       \r\n     xsr.next(); \r\n}\r\n```\r\n\r\nMy Xml string is similar to this -\r\n\r\n```\r\n&lt;list&gt;&lt;name&gt;Ben_1&lt;/name&gt;&lt;assign&gt;trac&lt;/assign&gt;&lt;/list&gt;&lt;list&gt;&lt;name&gt;John&lt;/name&gt;&lt;assign&gt;task&lt;/assign&gt;&lt;/list&gt;\r\n```\r\n\r\nWhen I do a get request from postman, it only returns\r\n\r\n```\r\n{\r\n  &quot;list&quot;: {\r\n    &quot;name&quot;: &quot;Ben_1&quot;,\r\n    &quot;assign&quot;: &quot;trac&quot;\r\n  }\r\n}\r\n```\r\n\r\nI tried methods from these(and other) posts - [JAXB unmarshall with namespaces and prefix](https://stackoverflow.com/questions/19395400/jaxb-unmarshall-with-namespaces-and-prefix)\r\n\r\nMy expected answer should be\r\n\r\n```\r\n{\r\n  &quot;list&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Ben_1&quot;,\r\n      &quot;assign&quot;: &quot;trac&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;John&quot;,\r\n      &quot;assign&quot;: &quot;task&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"While loop not looping through whole xml string when unmarshalling","body":"<p>I've a xml string that I unmarshall but it only returns the first part. I believe my while loop isn't correct.</p>\n<pre><code>while(xsr.hasNext()){   \n     if(xsr.isStartElement() &amp;&amp; &quot;list&quot;.equals(xsr.getLocalName())) {           \n          break;        \n     }       \n     xsr.next(); \n}\n</code></pre>\n<p>My Xml string is similar to this -</p>\n<pre><code>&lt;list&gt;&lt;name&gt;Ben_1&lt;/name&gt;&lt;assign&gt;trac&lt;/assign&gt;&lt;/list&gt;&lt;list&gt;&lt;name&gt;John&lt;/name&gt;&lt;assign&gt;task&lt;/assign&gt;&lt;/list&gt;\n</code></pre>\n<p>When I do a get request from postman, it only returns</p>\n<pre><code>{\n  &quot;list&quot;: {\n    &quot;name&quot;: &quot;Ben_1&quot;,\n    &quot;assign&quot;: &quot;trac&quot;\n  }\n}\n</code></pre>\n<p>I tried methods from these(and other) posts - <a href=\"https://stackoverflow.com/questions/19395400/jaxb-unmarshall-with-namespaces-and-prefix\">JAXB unmarshall with namespaces and prefix</a></p>\n<p>My expected answer should be</p>\n<pre><code>{\n  &quot;list&quot;: [\n    {\n      &quot;name&quot;: &quot;Ben_1&quot;,\n      &quot;assign&quot;: &quot;trac&quot;\n    },\n    {\n      &quot;name&quot;: &quot;John&quot;,\n      &quot;assign&quot;: &quot;task&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","pdf","digital-signature","bouncycastle","pades"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696277570,"post_id":77217250,"comment_id":136130140,"body_markdown":"*&quot;Where should we include revocation information?&quot;* - You don&#39;t include them in the signature container. Instead you build specific pdf objects to hold them. Simply take a look at the specifications in question.","body":"<i>&quot;Where should we include revocation information?&quot;</i> - You don&#39;t include them in the signature container. Instead you build specific pdf objects to hold them. Simply take a look at the specifications in question."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1696308167,"post_id":77217250,"comment_id":136132900,"body_markdown":"For CAdES-LT we include revocation information in signed attributes.\nThis will make signature LTV enabled in PDF when embedded.\n\nCode: \n\nASN1EncodableVector revocationInfo = new ASN1EncodableVector();\n            revocationInfo.add(new DERTaggedObject(true, 1, new DERSequence(data.getOcsps())));\n            signedAttributes.add(new Attribute(new ASN1ObjectIdentifier(SIGNER_ATTR_ADOBE_REVOCATION_INFO_IDENTIFIER),\n                    new DERSet(new DERSequence(revocationInfo))));","body":"For CAdES-LT we include revocation information in signed attributes. This will make signature LTV enabled in PDF when embedded.  Code:   ASN1EncodableVector revocationInfo = new ASN1EncodableVector();             revocationInfo.add(new DERTaggedObject(true, 1, new DERSequence(data.getOcsps())));             signedAttributes.add(new Attribute(new ASN1ObjectIdentifier(SIGNER_ATTR_ADOBE_REVOCATION_INFO_IDENT&zwnj;&#8203;IFIER),                     new DERSet(new DERSequence(revocationInfo))));"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696319638,"post_id":77217250,"comment_id":136134299,"body_markdown":"&quot;LTV enabled&quot; is different from &quot;PAdES-LT&quot;. The former (non-standard, Adobe proprietary) profile accepts revocation information in many places. &quot;PAdES-LT&quot; requires them in DSS sections in the PDF.","body":"&quot;LTV enabled&quot; is different from &quot;PAdES-LT&quot;. The former (non-standard, Adobe proprietary) profile accepts revocation information in many places. &quot;PAdES-LT&quot; requires them in DSS sections in the PDF."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1696328769,"post_id":77217250,"comment_id":136135850,"body_markdown":"okay noted. \nSo where to include revocation information if I have to make it LTV enabled?\nSince PAdES does not have signed attributes in my case(signerBuilder.setDirectSignature(true)) where shall we include revocation data?","body":"okay noted.  So where to include revocation information if I have to make it LTV enabled? Since PAdES does not have signed attributes in my case(signerBuilder.setDirectSignature(true)) where shall we include revocation data?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696394769,"post_id":77217250,"comment_id":136145445,"body_markdown":"Which do you want? You mention both &quot;LTV enabled&quot; and &quot;PAdES&quot; while - as said before - they are completely different.","body":"Which do you want? You mention both &quot;LTV enabled&quot; and &quot;PAdES&quot; while - as said before - they are completely different."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1696395554,"post_id":77217250,"comment_id":136145505,"body_markdown":"how to make signature in PDF &quot;LTV enabled&quot;?","body":"how to make signature in PDF &quot;LTV enabled&quot;?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696405089,"post_id":77217250,"comment_id":136146870,"body_markdown":"If you need to add the revocation information in the signature container, use the Adobe `RevocationInfoArchival` signed attribute as specified in the PDF specification. But according to your first comment here you already know that attribute (even though you mention it for CAdES-LT which is wrong of course).","body":"If you need to add the revocation information in the signature container, use the Adobe <code>RevocationInfoArchival</code> signed attribute as specified in the PDF specification. But according to your first comment here you already know that attribute (even though you mention it for CAdES-LT which is wrong of course)."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1696414379,"post_id":77217250,"comment_id":136148861,"body_markdown":"I am setting signerBuilder.setDirectSignature(true);. Signed attributes will not be included. \nIn this case where shall we include revocation information to make the signature LTV enabled?","body":"I am setting signerBuilder.setDirectSignature(true);. Signed attributes will not be included.  In this case where shall we include revocation information to make the signature LTV enabled?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696416466,"post_id":77217250,"comment_id":136149271,"body_markdown":"There are two interoperable options where to put revocation information in a signed PDF, either the `RevocationInfoArchival` signed attribute or the DSS section. I&#39;ve not tested whether Adobe Acrobat supports other locations for revocation information. Even if it does, though, that might be just transiently.","body":"There are two interoperable options where to put revocation information in a signed PDF, either the <code>RevocationInfoArchival</code> signed attribute or the DSS section. I&#39;ve not tested whether Adobe Acrobat supports other locations for revocation information. Even if it does, though, that might be just transiently."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1697531270,"post_id":77217250,"comment_id":136288163,"body_markdown":"does adding &#39;PKCSObjectIdentifiers.id_aa_ets_revocationValues&#39; attribute in unsigned attributes make the signature LTV enabled?","body":"does adding &#39;PKCSObjectIdentifiers.id_aa_ets_revocationValues&#39; attribute in unsigned attributes make the signature LTV enabled?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1697545118,"post_id":77217250,"comment_id":136290910,"body_markdown":"Most likely not. That attribute is neither specified or referenced ifor use n the PDF specification nor in the PAdES specification. So if it was supported by Adobe Acrobat, that support would not be backed by any specification.","body":"Most likely not. That attribute is neither specified or referenced ifor use n the PDF specification nor in the PAdES specification. So if it was supported by Adobe Acrobat, that support would not be backed by any specification."}],"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696266030,"creation_date":1696266030,"question_id":77217250,"body_markdown":"I have code which generates PAdES-B CMSSignedData.\r\n\r\nAfter this I am including timestamp in usigned attributes which is making CMSSignedData PAdES-T.\r\n\r\nHow can I make it PAdES-LT? Where should we include revocation information?\r\n\r\nThanks in advance.\r\n\r\nCode to generate PAdES-B CMSSignedData\r\n\r\n```\r\nprivate CMSSignedDataGenerator getCmsSignedDataGenerator(ElectronicSignatureModel signatureModel) {\r\n        CMSSignedDataGenerator signGenerator = new CMSSignedDataGenerator();\r\n        signGenerator.addCertificates(new JcaCertStore(signatureModel.getChain()));\r\n        ContentSigner nonSigner = new ContentSigner() {\r\n\r\n            @Override\r\n            public byte[] getSignature() {\r\n                return signatureModel.getSignature();\r\n            }\r\n\r\n            @Override\r\n            public OutputStream getOutputStream() {\r\n                return new ByteArrayOutputStream();\r\n            }\r\n\r\n            @Override\r\n            public AlgorithmIdentifier getAlgorithmIdentifier() {\r\n                return new DefaultSignatureAlgorithmIdentifierFinder()\r\n                        .find(signatureModel.getSigningAlgorithm().getAlgoName());\r\n            }\r\n        };\r\n\r\n        JcaSignerInfoGeneratorBuilder signerBuilder = new JcaSignerInfoGeneratorBuilder(\r\n                new JcaDigestCalculatorProviderBuilder().build());\r\n        signerBuilder.setDirectSignature(true);\r\n       \r\n        //user certificate\r\n        Certificate userCertHolder = Certificate.getInstance(ASN1Primitive.fromByteArray(\r\n                signatureModel.getChain().get(0).getEncoded()));\r\n        signGenerator.addSignerInfoGenerator(signerBuilder.build(nonSigner, new X509CertificateHolder(userCertHolder)));\r\n        return signGenerator;\r\n    }\r\nCMSSignedDataGenerator signGenerator = getCmsSignedDataGenerator(signatureModel, false);\r\nCMSSignedData cmsSignedData = signGenerator.generate(new CMSProcessableByteArray(signatureModel.getSignature()), false);\r\n```","title":"Generating PAdES-LT signature(CMSSignedData) using bouncy castle without DSS","body":"<p>I have code which generates PAdES-B CMSSignedData.</p>\n<p>After this I am including timestamp in usigned attributes which is making CMSSignedData PAdES-T.</p>\n<p>How can I make it PAdES-LT? Where should we include revocation information?</p>\n<p>Thanks in advance.</p>\n<p>Code to generate PAdES-B CMSSignedData</p>\n<pre><code>private CMSSignedDataGenerator getCmsSignedDataGenerator(ElectronicSignatureModel signatureModel) {\n        CMSSignedDataGenerator signGenerator = new CMSSignedDataGenerator();\n        signGenerator.addCertificates(new JcaCertStore(signatureModel.getChain()));\n        ContentSigner nonSigner = new ContentSigner() {\n\n            @Override\n            public byte[] getSignature() {\n                return signatureModel.getSignature();\n            }\n\n            @Override\n            public OutputStream getOutputStream() {\n                return new ByteArrayOutputStream();\n            }\n\n            @Override\n            public AlgorithmIdentifier getAlgorithmIdentifier() {\n                return new DefaultSignatureAlgorithmIdentifierFinder()\n                        .find(signatureModel.getSigningAlgorithm().getAlgoName());\n            }\n        };\n\n        JcaSignerInfoGeneratorBuilder signerBuilder = new JcaSignerInfoGeneratorBuilder(\n                new JcaDigestCalculatorProviderBuilder().build());\n        signerBuilder.setDirectSignature(true);\n       \n        //user certificate\n        Certificate userCertHolder = Certificate.getInstance(ASN1Primitive.fromByteArray(\n                signatureModel.getChain().get(0).getEncoded()));\n        signGenerator.addSignerInfoGenerator(signerBuilder.build(nonSigner, new X509CertificateHolder(userCertHolder)));\n        return signGenerator;\n    }\nCMSSignedDataGenerator signGenerator = getCmsSignedDataGenerator(signatureModel, false);\nCMSSignedData cmsSignedData = signGenerator.generate(new CMSProcessableByteArray(signatureModel.getSignature()), false);\n</code></pre>\n"},{"tags":["java","spring-data-jpa","flyway","application.properties"],"comments":[{"owner":{"account_id":8115161,"reputation":776,"user_id":6113915,"display_name":"Stian J&#248;rgensrud"},"score":0,"creation_date":1696069475,"post_id":77204911,"comment_id":136108883,"body_markdown":"Have you looked at official documentation and other StackOverflow posts? For example this one https://stackoverflow.com/questions/53173291/flyway-cannot-find-migrations-location-in","body":"Have you looked at official documentation and other StackOverflow posts? For example this one <a href=\"https://stackoverflow.com/questions/53173291/flyway-cannot-find-migrations-location-in\" title=\"flyway cannot find migrations location in\">stackoverflow.com/questions/53173291/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696070262,"post_id":77204911,"comment_id":136108944,"body_markdown":"You should double-check if your migrations are in `db/migration` (so folder `migration` in folder `db`), not folder `db.migration`. The default rendering of resource folders in IntelliJ may obscure that. Also, double check your Spring Boot config that you didn&#39;t overwrite the `spring.flyway.locations` configuration property (it defaults to `classpath:db/migration`).","body":"You should double-check if your migrations are in <code>db&#47;migration</code> (so folder <code>migration</code> in folder <code>db</code>), not folder <code>db.migration</code>. The default rendering of resource folders in IntelliJ may obscure that. Also, double check your Spring Boot config that you didn&#39;t overwrite the <code>spring.flyway.locations</code> configuration property (it defaults to <code>classpath:db&#47;migration</code>)."},{"owner":{"account_id":26986668,"reputation":1,"user_id":20550220,"display_name":"Camila Alves"},"score":0,"creation_date":1696107722,"post_id":77204911,"comment_id":136112171,"body_markdown":"I&#39;ve changed the application.properties and included the configuration: &quot;spring.flyway.locations=classpath:db/migration&quot;. But I didn&#39;t change the folder &quot;db.migration&quot;. After that, I dropped my database, recreated it, and ran API. It&#39;s working now!","body":"I&#39;ve changed the application.properties and included the configuration: &quot;spring.flyway.locations=classpath:db/migration&quot;. But I didn&#39;t change the folder &quot;db.migration&quot;. After that, I dropped my database, recreated it, and ran API. It&#39;s working now!"}],"answers":[{"tags":[],"owner":{"account_id":26986668,"reputation":1,"user_id":20550220,"display_name":"Camila Alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696265914,"creation_date":1696265914,"answer_id":77217234,"question_id":77204911,"body_markdown":"I&#39;ve changed the application.properties and included the configuration: &quot;spring.flyway.locations=classpath:db/migration&quot;. But I didn&#39;t change the folder &quot;db.migration&quot;. After that, I dropped my database, recreated it, and ran API. It&#39;s working now!","title":"How to fix &quot;No migrations found. Are your locations set up correctly?&quot; Flyway migration at MySQL?","body":"<p>I've changed the application.properties and included the configuration: &quot;spring.flyway.locations=classpath:db/migration&quot;. But I didn't change the folder &quot;db.migration&quot;. After that, I dropped my database, recreated it, and ran API. It's working now!</p>\n"}],"owner":{"account_id":26986668,"reputation":1,"user_id":20550220,"display_name":"Camila Alves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696265914,"creation_date":1696023622,"question_id":77204911,"body_markdown":"I&#39;m creating a project Java with Spring Boot 3, using:\r\n\r\n1) Flyway migration with a file: application.properties:\r\n\r\n```\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=12345\r\n```\r\n\r\n2) resources/db.migration/V1__create-table-doctor.sql\r\n\r\n```\r\n    create table doctors(\r\n    id bigint not null auto_increment,\r\n    name varchar(100) not null,\r\n    email varchar(100) not null unique,\r\n    crm varchar(6) not null unique,\r\n    specialty varchar(100) not null,\r\n    street varchar(100) not null,\r\n    neighborhood varchar(100) not null,\r\n    zipcode varchar(9) not null,\r\n    complement varchar(100),\r\n    number varchar(20),\r\n    state char(2) not null,\r\n    city varchar(100) not null,\r\n\r\n    primary key(id)\r\n\r\n );\r\n```\r\n\r\n3) When I run de api.application, the terminal ALWAYS shows me the message:\r\n[enter image description here](https://i.stack.imgur.com/lUNng.png)\r\n\r\n4) I tried to create too, another file to change the table &quot;resources/db.migration/V2__alter-table-doctor.sql&quot;, but the issue persists, showing the same message at the terminal.\r\n\r\nObservation:\r\n- I&#39;ve tried to change the application.properties from:\r\n```\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=12345\r\n```\r\n\r\nto:\r\n```\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=12345\r\n```\r\n\r\nbut the issue persists too.\r\n\r\n- I&#39;ve tried to open my Workbench, drop and create database manually and it&#39;s working normally!\r\n\r\nPlease, could you help me?\r\n\r\nAnother question, I realized that I didn&#39;t get to run MySQL on my IntelliJ terminal:\r\n[enter image description here](https://i.stack.imgur.com/83hR2.png) I just got &quot;so so&quot; when I installed an extension DB Browser.\r\n\r\nCreate and change tables at MySQL using FLYWAY Migration from Spring Boot 3 (IntelliJ).","title":"How to fix &quot;No migrations found. Are your locations set up correctly?&quot; Flyway migration at MySQL?","body":"<p>I'm creating a project Java with Spring Boot 3, using:</p>\n<ol>\n<li>Flyway migration with a file: application.properties:</li>\n</ol>\n<pre><code>    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\n    spring.datasource.username=admin\n    spring.datasource.password=12345\n</code></pre>\n<ol start=\"2\">\n<li>resources/db.migration/V1__create-table-doctor.sql</li>\n</ol>\n<pre><code>    create table doctors(\n    id bigint not null auto_increment,\n    name varchar(100) not null,\n    email varchar(100) not null unique,\n    crm varchar(6) not null unique,\n    specialty varchar(100) not null,\n    street varchar(100) not null,\n    neighborhood varchar(100) not null,\n    zipcode varchar(9) not null,\n    complement varchar(100),\n    number varchar(20),\n    state char(2) not null,\n    city varchar(100) not null,\n\n    primary key(id)\n\n );\n</code></pre>\n<ol start=\"3\">\n<li><p>When I run de api.application, the terminal ALWAYS shows me the message:\n<a href=\"https://i.stack.imgur.com/lUNng.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>I tried to create too, another file to change the table &quot;resources/db.migration/V2__alter-table-doctor.sql&quot;, but the issue persists, showing the same message at the terminal.</p>\n</li>\n</ol>\n<p>Observation:</p>\n<ul>\n<li>I've tried to change the application.properties from:</li>\n</ul>\n<pre><code>    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\n    spring.datasource.username=admin\n    spring.datasource.password=12345\n</code></pre>\n<p>to:</p>\n<pre><code>    spring.datasource.url=jdbc:mysql://localhost:3306/vollmed_api\n    spring.datasource.username=admin\n    spring.datasource.password=12345\n</code></pre>\n<p>but the issue persists too.</p>\n<ul>\n<li>I've tried to open my Workbench, drop and create database manually and it's working normally!</li>\n</ul>\n<p>Please, could you help me?</p>\n<p>Another question, I realized that I didn't get to run MySQL on my IntelliJ terminal:\n<a href=\"https://i.stack.imgur.com/83hR2.png\" rel=\"nofollow noreferrer\">enter image description here</a> I just got &quot;so so&quot; when I installed an extension DB Browser.</p>\n<p>Create and change tables at MySQL using FLYWAY Migration from Spring Boot 3 (IntelliJ).</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692800231,"post_id":76961660,"comment_id":135673790,"body_markdown":"Jackson version?","body":"Jackson version?"},{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":1,"creation_date":1692800281,"post_id":76961660,"comment_id":135673810,"body_markdown":"@DiegoBorba 2.9.5","body":"@DiegoBorba 2.9.5"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692799801,"creation_date":1692796345,"answer_id":76961698,"question_id":76961660,"body_markdown":"Here, you need to convert your given string using `writeValueAsString` method and pass that string into the `readValue` method as shown below:\r\n\r\n**Code:**\r\n\r\n     public class Abc {\r\n        public static void main(String[] args) throws IOException {\r\n            ObjectMapper mapper2 = new ObjectMapper();\r\n            String json = mapper2.writeValueAsString(&quot;5 ttt&quot;);\r\n            TestClass testClass = mapper2.readValue(json, TestClass.class);\r\n            System.out.println(testClass.field);\r\n        }\r\n    \r\n        public static class TestClass {\r\n\r\n            public String field;\r\n    \r\n            public TestClass(){}\r\n    \r\n            public TestClass(String field) {\r\n                this.field = field;\r\n            }\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    5 ttt\r\n\r\n***Note:*** Incase we are using parameterised constructor, we need to add a default constructor explicitly.","title":"Jackson automatically expect string started by numbers as integer","body":"<p>Here, you need to convert your given string using <code>writeValueAsString</code> method and pass that string into the <code>readValue</code> method as shown below:</p>\n<p><strong>Code:</strong></p>\n<pre><code> public class Abc {\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper2 = new ObjectMapper();\n        String json = mapper2.writeValueAsString(&quot;5 ttt&quot;);\n        TestClass testClass = mapper2.readValue(json, TestClass.class);\n        System.out.println(testClass.field);\n    }\n\n    public static class TestClass {\n\n        public String field;\n\n        public TestClass(){}\n\n        public TestClass(String field) {\n            this.field = field;\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>5 ttt\n</code></pre>\n<p><em><strong>Note:</strong></em> Incase we are using parameterised constructor, we need to add a default constructor explicitly.</p>\n"},{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696265362,"creation_date":1692796414,"answer_id":76961711,"question_id":76961660,"body_markdown":"Try this way:\r\n\r\n```java\r\nTestClass testClass = mapper2.readValue(&quot;\\&quot;5 ttt\\&quot;&quot;, TestClass.class);\r\n```\r\n\r\nBy adding double quotes around the input string, like this: `&quot;5 ttt&quot;`, you **explicitly indicate to Jackson that the value should be treated as a string**.\r\n\r\n**NOTE**:\r\n\r\nIf you have any string value and you want it to wrap with quotes, than  you must use `writeValueAsString` ***carefully***.\r\n\r\n```java\r\npublic static void main(String[] args) throws JsonProcessingException {\r\n    String value = &quot;hello&quot;;\r\n\r\n    value = wrap(value);\r\n\r\n    assert &quot;\\&quot;hello\\&quot;&quot;.equals(value);\r\n\r\n    value = &quot;\\&quot;hello test 2 with quotes\\&quot;&quot;;\r\n\r\n    value = wrap(value);\r\n\r\n    assert &quot;\\&quot;hello test 2 with quotes\\&quot;&quot;.equals(value);\r\n}\r\n\r\nprivate static String wrap(final String value) throws JsonProcessingException {\r\n    if (!isQuotedString(value)) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.writeValueAsString(value);\r\n    }\r\n    return value;\r\n}\r\n\r\nprivate static boolean isQuotedString(Object value) {\r\n    if (value instanceof String) {\r\n        String stringValue = (String) value;\r\n        return stringValue.startsWith(&quot;\\&quot;&quot;) &amp;&amp; stringValue.endsWith(&quot;\\&quot;&quot;);\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nIf you don&#39;t check if the string already have quotes, it **will result in additional quotes around old quotes**, and that wrong!","title":"Jackson automatically expect string started by numbers as integer","body":"<p>Try this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TestClass testClass = mapper2.readValue(&quot;\\&quot;5 ttt\\&quot;&quot;, TestClass.class);\n</code></pre>\n<p>By adding double quotes around the input string, like this: <code>&quot;5 ttt&quot;</code>, you <strong>explicitly indicate to Jackson that the value should be treated as a string</strong>.</p>\n<p><strong>NOTE</strong>:</p>\n<p>If you have any string value and you want it to wrap with quotes, than  you must use <code>writeValueAsString</code> <em><strong>carefully</strong></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws JsonProcessingException {\n    String value = &quot;hello&quot;;\n\n    value = wrap(value);\n\n    assert &quot;\\&quot;hello\\&quot;&quot;.equals(value);\n\n    value = &quot;\\&quot;hello test 2 with quotes\\&quot;&quot;;\n\n    value = wrap(value);\n\n    assert &quot;\\&quot;hello test 2 with quotes\\&quot;&quot;.equals(value);\n}\n\nprivate static String wrap(final String value) throws JsonProcessingException {\n    if (!isQuotedString(value)) {\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper.writeValueAsString(value);\n    }\n    return value;\n}\n\nprivate static boolean isQuotedString(Object value) {\n    if (value instanceof String) {\n        String stringValue = (String) value;\n        return stringValue.startsWith(&quot;\\&quot;&quot;) &amp;&amp; stringValue.endsWith(&quot;\\&quot;&quot;);\n    }\n    return false;\n}\n</code></pre>\n<p>If you don't check if the string already have quotes, it <strong>will result in additional quotes around old quotes</strong>, and that wrong!</p>\n"}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961711,"answer_count":2,"score":0,"last_activity_date":1696265362,"creation_date":1692796020,"question_id":76961660,"body_markdown":"If you run such a test\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper2 = new ObjectMapper();\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(TestClass.class, new TestClassDeserializer());\r\n        mapper2.registerModule(module);\r\n\r\n        TestClass testClass = mapper2.readValue(&quot;5 ttt&quot;, TestClass.class);\r\n\r\n        System.out.println(testClass.field);\r\n    }\r\n\r\n    private static class TestClassDeserializer extends JsonDeserializer&lt;TestClass&gt; {\r\n        @Override\r\n        public TestClass deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException {\r\n            TestClass param = new TestClass();\r\n            param.field = p.getValueAsString();\r\n            return param;\r\n        }\r\n    }\r\n\r\n    public static class TestClass {\r\n        public String field;\r\n\r\n        public TestClass() {\r\n        }\r\n\r\n        public TestClass(final String field) {\r\n            this.field = field;\r\n        }\r\n    }\r\n\r\nYou will get &quot;5&quot; in result:\r\n\r\nI cant understand why jackson think that &quot;5 ttt&quot; is a integer, and is it possible to disable such behavior?\r\n\r\nP.S. (Thanks Diego Borba for idea, but unfortunately it also does not work)\r\n\r\nIf i add deserializer for field, like this \r\n\r\n    public static class TestClass {\r\n        @JsonDeserialize(using = TestClassDeserializerForInsideField.class)\r\n        public String field;\r\n\r\n        public TestClass() {\r\n        }\r\n\r\n        public TestClass(final String field) {\r\n            this.field = field;\r\n        }\r\n    }\r\n\r\nand add deserializer for field:\r\n\r\n    public class TestClassDeserializerForInsideField extends JsonDeserializer {\r\n        @Override\r\n        public Object deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n            final String valueAsString = p.getValueAsString();\r\n            return valueAsString;\r\n        }\r\n    }\r\n\r\nThis will not work. I need to make object `TestClass` from just a string &quot;5 ttt&quot;. So, if i remove module deserializer (`TestClassDeserializer`), than jackson can&#39;t understand how to parse input string (in which object) and throw an exception `MismatchedInputException: Cannot construct instance` but if i add the both deserializers (`TestClassDeserializer` and `TestClassDeserializerForInsideField`): jackson use only one - the first (`TestClassDeserializer`). And field deserializer is just skipped by jackson.\r\n\r\nP.S. \r\nhere is my query for google from browser history (for better search)\r\n`jackson convert any string to int`, `jackson trim string to int`, `JsonDeserializer trim symbols int text whitespace`","title":"Jackson automatically expect string started by numbers as integer","body":"<p>If you run such a test</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    ObjectMapper mapper2 = new ObjectMapper();\n\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(TestClass.class, new TestClassDeserializer());\n    mapper2.registerModule(module);\n\n    TestClass testClass = mapper2.readValue(&quot;5 ttt&quot;, TestClass.class);\n\n    System.out.println(testClass.field);\n}\n\nprivate static class TestClassDeserializer extends JsonDeserializer&lt;TestClass&gt; {\n    @Override\n    public TestClass deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException {\n        TestClass param = new TestClass();\n        param.field = p.getValueAsString();\n        return param;\n    }\n}\n\npublic static class TestClass {\n    public String field;\n\n    public TestClass() {\n    }\n\n    public TestClass(final String field) {\n        this.field = field;\n    }\n}\n</code></pre>\n<p>You will get &quot;5&quot; in result:</p>\n<p>I cant understand why jackson think that &quot;5 ttt&quot; is a integer, and is it possible to disable such behavior?</p>\n<p>P.S. (Thanks Diego Borba for idea, but unfortunately it also does not work)</p>\n<p>If i add deserializer for field, like this</p>\n<pre><code>public static class TestClass {\n    @JsonDeserialize(using = TestClassDeserializerForInsideField.class)\n    public String field;\n\n    public TestClass() {\n    }\n\n    public TestClass(final String field) {\n        this.field = field;\n    }\n}\n</code></pre>\n<p>and add deserializer for field:</p>\n<pre><code>public class TestClassDeserializerForInsideField extends JsonDeserializer {\n    @Override\n    public Object deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        final String valueAsString = p.getValueAsString();\n        return valueAsString;\n    }\n}\n</code></pre>\n<p>This will not work. I need to make object <code>TestClass</code> from just a string &quot;5 ttt&quot;. So, if i remove module deserializer (<code>TestClassDeserializer</code>), than jackson can't understand how to parse input string (in which object) and throw an exception <code>MismatchedInputException: Cannot construct instance</code> but if i add the both deserializers (<code>TestClassDeserializer</code> and <code>TestClassDeserializerForInsideField</code>): jackson use only one - the first (<code>TestClassDeserializer</code>). And field deserializer is just skipped by jackson.</p>\n<p>P.S.\nhere is my query for google from browser history (for better search)\n<code>jackson convert any string to int</code>, <code>jackson trim string to int</code>, <code>JsonDeserializer trim symbols int text whitespace</code></p>\n"},{"tags":["java","macos","java-17"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696266289,"post_id":77216920,"comment_id":136128125,"body_markdown":"maybe its &quot;Full Disk Access&quot; issue: https://stackoverflow.com/questions/65469536/why-does-a-jar-file-have-no-permissions-to-read-from-disk-when-started-via-doubl","body":"maybe its &quot;Full Disk Access&quot; issue: <a href=\"https://stackoverflow.com/questions/65469536/why-does-a-jar-file-have-no-permissions-to-read-from-disk-when-started-via-doubl\" title=\"why does a jar file have no permissions to read from disk when started via doubl\">stackoverflow.com/questions/65469536/&hellip;</a>"}],"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696264946,"creation_date":1696262181,"question_id":77216920,"body_markdown":"I have a java programm which used to work fine using Java 11. Lately we bumbed to Java 17 and Mac users have trouble to list their files of &quot;sensitive&quot; directories like the users Downloads or Documents directories. Other directories work fine. \r\n\r\n    FileSystem fs = FileSystems.getDefault();\r\n    File[] files = FileSystemView.getFileSystemView().getFiles(new File(folder), !showHidden);\r\n    try {\r\n      for (File file : files) {\r\n        // here files is an empty iterable even tho files do exist in those folders\r\n      }\r\n      // ...\r\n    } // no error in its catch\r\n\r\n\r\nWhat we tried:\r\nI am aware, that there are security settings for files and directories having switches for those directories, but I checked and all permissions are granted there.\r\n\r\nWhich further conditions have to be met in ordner to be able to list the file content?\r\n\r\n\r\n\r\nFurther Details:\r\n* The current app version was released around half a year after the previous version --&gt; maybe some security changes took place meanwhile?\r\n* The signing tool was changed from the deprecated altool to notarytool","title":"Get folder content of sensitive folders on mac","body":"<p>I have a java programm which used to work fine using Java 11. Lately we bumbed to Java 17 and Mac users have trouble to list their files of &quot;sensitive&quot; directories like the users Downloads or Documents directories. Other directories work fine.</p>\n<pre><code>FileSystem fs = FileSystems.getDefault();\nFile[] files = FileSystemView.getFileSystemView().getFiles(new File(folder), !showHidden);\ntry {\n  for (File file : files) {\n    // here files is an empty iterable even tho files do exist in those folders\n  }\n  // ...\n} // no error in its catch\n</code></pre>\n<p>What we tried:\nI am aware, that there are security settings for files and directories having switches for those directories, but I checked and all permissions are granted there.</p>\n<p>Which further conditions have to be met in ordner to be able to list the file content?</p>\n<p>Further Details:</p>\n<ul>\n<li>The current app version was released around half a year after the previous version --&gt; maybe some security changes took place meanwhile?</li>\n<li>The signing tool was changed from the deprecated altool to notarytool</li>\n</ul>\n"},{"tags":["java","set","java-11"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":13,"creation_date":1696238991,"post_id":77214475,"comment_id":136123059,"body_markdown":"I&#39;m afraid you&#39;re asking the wrong question, as there is most likely no (or very little) difference between vendors in this case. The real question that you should be following up is *which implementation of `java.util.Set` are you using*? The &quot;classic&quot; `java.util.HashSet` for example clearly supports `add`, but some `Set` implementation returned as a view onto some other data structure might not. What does `yourSet.getClass()` return?","body":"I&#39;m afraid you&#39;re asking the wrong question, as there is most likely no (or very little) difference between vendors in this case. The real question that you should be following up is <i>which implementation of <code>java.util.Set</code> are you using</i>? The &quot;classic&quot; <code>java.util.HashSet</code> for example clearly supports <code>add</code>, but some <code>Set</code> implementation returned as a view onto some other data structure might not. What does <code>yourSet.getClass()</code> return?"},{"owner":{"account_id":3739112,"reputation":409,"user_id":3109289,"accept_rate":52,"display_name":"cidy.long"},"score":0,"creation_date":1696239685,"post_id":77214475,"comment_id":136123186,"body_markdown":"Yeah, I am using HashSet to create the Set Instance.","body":"Yeah, I am using HashSet to create the Set Instance."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1696249471,"post_id":77214475,"comment_id":136124882,"body_markdown":"**Show us your code.**  There is no possibility that calling `add` on a HashSet is producing that exception.  However, if your code does `HashSet.of(element)`, that is actually calling `Set.of(element)` which produces an unmodifiable Set.","body":"<b>Show us your code.</b>  There is no possibility that calling <code>add</code> on a HashSet is producing that exception.  However, if your code does <code>HashSet.of(element)</code>, that is actually calling <code>Set.of(element)</code> which produces an unmodifiable Set."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696411579,"post_id":77214475,"comment_id":136148175,"body_markdown":"@VGR `static` interface methods are not inherited. Therefore, it’s not possible to accidentally invoke `Set.of(…)` via `HashSet.of(…)`.","body":"@VGR <code>static</code> interface methods are not inherited. Therefore, it’s not possible to accidentally invoke <code>Set.of(…)</code> via <code>HashSet.of(…)</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696419393,"post_id":77214475,"comment_id":136149839,"body_markdown":"@Holger Actually, they are.  Try it for yourself.","body":"@Holger Actually, they are.  Try it for yourself."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696419721,"post_id":77214475,"comment_id":136149901,"body_markdown":"@VGR I did. Not that it was necessary, as [the specification](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.8:~:text=A%20class%20does%20not%20inherit%20private%20or%20static%20methods%20from%20its%20superinterface%20types.) clearly says: *A class does not inherit private or static methods from its superinterface types*","body":"@VGR I did. Not that it was necessary, as <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.8:~:text=A%20class%20does%20not%20inherit%20private%20or%20static%20methods%20from%20its%20superinterface%20types.\" rel=\"nofollow noreferrer\">the specification</a> clearly says: <i>A class does not inherit private or static methods from its superinterface types</i>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1696420483,"post_id":77214475,"comment_id":136150065,"body_markdown":"@Holger Ah, okay, I didn’t read your statement carefully.  I glossed over the word ‘interface’ and was thinking of static methods in general.  You’re completely correct, static *interface* methods are indeed not inherited.  So my HashSet.of guess cannot be true.","body":"@Holger Ah, okay, I didn’t read your statement carefully.  I glossed over the word ‘interface’ and was thinking of static methods in general.  You’re completely correct, static <i>interface</i> methods are indeed not inherited.  So my HashSet.of guess cannot be true."}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696264925,"creation_date":1696238983,"answer_id":77214509,"question_id":77214475,"body_markdown":"It does not depend on the vendor but on the particular class implementing the `Set` interface: some sets are unmodifiable, so you cannot add anything to them.  The Javadoc specifies any usage limitation for each implementing class.  For example a `Set` returned by [`Collections.unmodifiableSet()`][1] is, obviously, unmodifiable.\r\n\r\nPerhaps during the upgrade of Java you have also upgraded some dependency and the new version of that dependency returns an unmodifiable `Set`.  Check the Javadoc of the method that returns that `Set`.\r\n\r\nYou&#39;ll probably have to modify your code and copy the content of that `Set` in a new modifiable instance, for example:\r\n\r\n```java \r\nSet&lt;YourClassGoesHere&gt; newSet = new HashSet&lt;&gt;(oldSet);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-","title":"java 17, which vendor supported Set to add an element?","body":"<p>It does not depend on the vendor but on the particular class implementing the <code>Set</code> interface: some sets are unmodifiable, so you cannot add anything to them.  The Javadoc specifies any usage limitation for each implementing class.  For example a <code>Set</code> returned by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableSet()</code></a> is, obviously, unmodifiable.</p>\n<p>Perhaps during the upgrade of Java you have also upgraded some dependency and the new version of that dependency returns an unmodifiable <code>Set</code>.  Check the Javadoc of the method that returns that <code>Set</code>.</p>\n<p>You'll probably have to modify your code and copy the content of that <code>Set</code> in a new modifiable instance, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;YourClassGoesHere&gt; newSet = new HashSet&lt;&gt;(oldSet);\n</code></pre>\n"}],"owner":{"account_id":3739112,"reputation":409,"user_id":3109289,"accept_rate":52,"display_name":"cidy.long"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1696252893,"accepted_answer_id":77214509,"answer_count":1,"score":-5,"last_activity_date":1696264925,"creation_date":1696238688,"question_id":77214475,"body_markdown":"I&#39;m trying to migrate my Oracle JDK 11 application to JDK 17.0.7, when I tried to access add() in java.utils.Set, It throws \r\n\r\n    java.lang.UnsupportedOperationException\r\n\r\nI checked with Stackoverflow and found, java.util.Set&#39;s implementation is not fully support add() function yet, it was marked as optional.\r\n\r\nMy question is, Which java vendor&#39;s Java 17 it already supported or implemented java Set add() methods?\r\n\r\nI have quite a lot Java objects need this function in my application.\r\n\r\nIf anyone have idea, Please advise.","title":"java 17, which vendor supported Set to add an element?","body":"<p>I'm trying to migrate my Oracle JDK 11 application to JDK 17.0.7, when I tried to access add() in java.utils.Set, It throws</p>\n<pre><code>java.lang.UnsupportedOperationException\n</code></pre>\n<p>I checked with Stackoverflow and found, java.util.Set's implementation is not fully support add() function yet, it was marked as optional.</p>\n<p>My question is, Which java vendor's Java 17 it already supported or implemented java Set add() methods?</p>\n<p>I have quite a lot Java objects need this function in my application.</p>\n<p>If anyone have idea, Please advise.</p>\n"},{"tags":["java","android","kotlin","webview","transactiontoolargeexception"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696245928,"post_id":77215123,"comment_id":136124243,"body_markdown":"You may have better luck getting help if you included a [mcve] with the *complete* stack trace and the code involved with it. Also, are you saying that if you comment out that one line and leave everything else alone that the exception does not occur?","body":"You may have better luck getting help if you included a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the <i>complete</i> stack trace and the code involved with it. Also, are you saying that if you comment out that one line and leave everything else alone that the exception does not occur?"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1696248534,"post_id":77215123,"comment_id":136124734,"body_markdown":"Can you share your `code snippet`. It would help a lot identifying issue","body":"Can you share your <code>code snippet</code>. It would help a lot identifying issue"}],"answers":[{"tags":[],"owner":{"account_id":14037507,"reputation":68,"user_id":10139837,"display_name":"coderAsk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696246156,"creation_date":1696246156,"answer_id":77215237,"question_id":77215123,"body_markdown":"It seems the HTML content that you are trying to load , is too large hence you are getting exception java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1110288 bytes.\r\n\r\nThere are few possible ways that I can think of./\r\n\r\n1. First of all see, if you can reduce HTML content size, it is better to remove redundant elements from it.\r\n\r\n2. Instead of opening it in the app web view, can you check if you can open it in an external browser from the app itself? You can use Andriod intent functionality for this - https://developer.android.com/reference/android/content/Intent\r\n\r\nSomething this will work \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n    startActivity(browserIntent);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n\r\n","title":"App is crashing while loading a url in WebView","body":"<p>It seems the HTML content that you are trying to load , is too large hence you are getting exception java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1110288 bytes.</p>\n<p>There are few possible ways that I can think of./</p>\n<ol>\n<li><p>First of all see, if you can reduce HTML content size, it is better to remove redundant elements from it.</p>\n</li>\n<li><p>Instead of opening it in the app web view, can you check if you can open it in an external browser from the app itself? You can use Andriod intent functionality for this - <a href=\"https://developer.android.com/reference/android/content/Intent\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent</a></p>\n</li>\n</ol>\n<p>Something this will work</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\nstartActivity(browserIntent);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29580196,"reputation":1,"user_id":22670170,"display_name":"Sheharyar Lodhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696264858,"creation_date":1696245086,"question_id":77215123,"body_markdown":"Hi i am trying to load a url in WebView that contains HTML. I am trying to load with \r\n```\r\nwebView.loadDataWithBaseURL(&quot;&quot;, url, &quot;text/html; charset=utf-8&quot;, &quot;UTF-8&quot;, &quot;&quot;);\r\n```\r\n\r\nBut once this method is called, my app crashes with this exception. \r\n\r\n```\r\n:E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1110288). java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1110288 bytes\r\n```\r\n\r\n\r\ni have tried even using content providers, compressing the url and decompressing, but nothing has changed","title":"App is crashing while loading a url in WebView","body":"<p>Hi i am trying to load a url in WebView that contains HTML. I am trying to load with</p>\n<pre><code>webView.loadDataWithBaseURL(&quot;&quot;, url, &quot;text/html; charset=utf-8&quot;, &quot;UTF-8&quot;, &quot;&quot;);\n</code></pre>\n<p>But once this method is called, my app crashes with this exception.</p>\n<pre><code>:E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1110288). java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1110288 bytes\n</code></pre>\n<p>i have tried even using content providers, compressing the url and decompressing, but nothing has changed</p>\n"},{"tags":["java","android","android-studio","ime","serial-number"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696269392,"post_id":77216566,"comment_id":136128656,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1696321741,"post_id":77216566,"comment_id":136134639,"body_markdown":"Related [https://stackoverflow.com/questions/58180656/how-do-i-get-information-about-a-phones-imei-in-android-10](https://stackoverflow.com/questions/58180656/how-do-i-get-information-about-a-phones-imei-in-android-10)","body":"Related <a href=\"https://stackoverflow.com/questions/58180656/how-do-i-get-information-about-a-phones-imei-in-android-10\">https://stackoverflow.com/questions/58180656/how-do-i-get-in&zwnj;&#8203;formation-about-a-ph&zwnj;&#8203;ones-imei-in-android&zwnj;&#8203;-10</a>"},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1696321772,"post_id":77216566,"comment_id":136134644,"body_markdown":"Does this answer your question? [I am getting IMEI null in Android Q?](https://stackoverflow.com/questions/55173823/i-am-getting-imei-null-in-android-q)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55173823/i-am-getting-imei-null-in-android-q\">I am getting IMEI null in Android Q?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696263346,"creation_date":1696261897,"answer_id":77216883,"question_id":77216566,"body_markdown":"Android has become increasingly restrictive in providing access to certain device identifiers like IMEI and serial number for privacy and security reasons. \r\n\r\nDevice Fingerprinting is something we can do. We can create a device fingerprint by collecting various device attributes such as device model, OS version, Build ID (a unique identifier for the software build running on the device. It includes information about the Android version and build date.), and available sensors. This can provide a reasonably unique identifier for each device within your organization.\r\n\r\nHere is the code\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android = &quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app = &quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools = &quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width = &quot;match_parent&quot;\r\n    android:gravity = &quot;center&quot;\r\n    android:layout_height = &quot;match_parent&quot;\r\n    tools:context = &quot;.MainActivity&quot;&gt;\r\n    &lt;TextView\r\n        android:id = &quot;@+id/text&quot;\r\n        android:textSize = &quot;30sp&quot;\r\n        android:layout_width = &quot;match_parent&quot;\r\n        android:layout_height = &quot;match_parent&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\nMainActivity.java\r\n\r\n```\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport android.Manifest;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView textView;\r\n    @RequiresApi(api = Build.VERSION_CODES.P)\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.text);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.READ_PHONE_STATE}, 101);\r\n        }\r\n\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 101:\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n                    return;\r\n                }\r\n                textView.setText(Build.FINGERPRINT);\r\n            } else {\r\n                //not granted\r\n            }\r\n            break;\r\n            default:\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        textView.setText(Build.FINGERPRINT);\r\n    }\r\n}\r\n```\r\n\r\nAdd these permissions to the manifest\r\n\r\n```\r\n &lt;uses-permission android:name = &quot;android.permission.INTERNET&quot;/&gt;\r\n &lt;uses-permission android:name = &quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n```\r\nYou can find the code here as well: [My GitHub][1]\r\n\r\n\r\nI hope it helps!\r\n\r\n\r\n  [1]: https://github.com/sarmadalij/DeviceFingerPrint/tree/master/app","title":"Is it possible to get IMEI number for above android 11? I want to use it within organization. App won&#39;t be uploaded on play store","body":"<p>Android has become increasingly restrictive in providing access to certain device identifiers like IMEI and serial number for privacy and security reasons.</p>\n<p>Device Fingerprinting is something we can do. We can create a device fingerprint by collecting various device attributes such as device model, OS version, Build ID (a unique identifier for the software build running on the device. It includes information about the Android version and build date.), and available sensors. This can provide a reasonably unique identifier for each device within your organization.</p>\n<p>Here is the code</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android = &quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app = &quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools = &quot;http://schemas.android.com/tools&quot;\n    android:layout_width = &quot;match_parent&quot;\n    android:gravity = &quot;center&quot;\n    android:layout_height = &quot;match_parent&quot;\n    tools:context = &quot;.MainActivity&quot;&gt;\n    &lt;TextView\n        android:id = &quot;@+id/text&quot;\n        android:textSize = &quot;30sp&quot;\n        android:layout_width = &quot;match_parent&quot;\n        android:layout_height = &quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>import android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.Manifest;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    TextView textView;\n    @RequiresApi(api = Build.VERSION_CODES.P)\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.text);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.READ_PHONE_STATE}, 101);\n        }\n\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        switch (requestCode) {\n            case 101:\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n                    return;\n                }\n                textView.setText(Build.FINGERPRINT);\n            } else {\n                //not granted\n            }\n            break;\n            default:\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE)\n                != PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n        textView.setText(Build.FINGERPRINT);\n    }\n}\n</code></pre>\n<p>Add these permissions to the manifest</p>\n<pre><code> &lt;uses-permission android:name = &quot;android.permission.INTERNET&quot;/&gt;\n &lt;uses-permission android:name = &quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>You can find the code here as well: <a href=\"https://github.com/sarmadalij/DeviceFingerPrint/tree/master/app\" rel=\"nofollow noreferrer\">My GitHub</a></p>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":14442585,"reputation":1,"user_id":10432739,"display_name":"Shaikh Danish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696263346,"creation_date":1696258987,"question_id":77216566,"body_markdown":"hope you are doing well,\r\nbasically I want save the value unique id for device which is non-resettable \r\nIs it possible to get IMEI, Serial number for above android 11? I want to use it within organization. App won&#39;t be uploaded on play store.\r\nIs there any workaround for it?\r\n\r\nand also you can suggest me the solution for how to find uniqueness in each devices.\r\n\r\nthank you!\r\n\r\nI am trying multiple solution for this but tired to get any solution for fetch the MAC Address,IME and Serail Number.\r\n","title":"Is it possible to get IMEI number for above android 11? I want to use it within organization. App won&#39;t be uploaded on play store","body":"<p>hope you are doing well,\nbasically I want save the value unique id for device which is non-resettable\nIs it possible to get IMEI, Serial number for above android 11? I want to use it within organization. App won't be uploaded on play store.\nIs there any workaround for it?</p>\n<p>and also you can suggest me the solution for how to find uniqueness in each devices.</p>\n<p>thank you!</p>\n<p>I am trying multiple solution for this but tired to get any solution for fetch the MAC Address,IME and Serail Number.</p>\n"},{"tags":["java","selenium-webdriver","ram"],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696263124,"creation_date":1696262562,"question_id":77216951,"body_markdown":"I have a java application that create 4 selenium drivers.\r\n\r\nWebDrivers are created in the following way\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    options.addArguments(&quot;-headless&quot;);\r\n    options.addPreference(&quot;gfx.webrender.all&quot;, false);\r\n    options.addPreference(&quot;gfx.webrender.enabled&quot;, false);\r\n    options.addPreference(&quot;pdfjs.disabled&quot;, true);\r\n    options.addPreference(&quot;layers.acceleration.disabled&quot;, true);\r\n    options.addPreference(&quot;extensions.enabled&quot;, false);\r\n    options.addPreference(&quot;dom.webnotifications.enabled&quot;, false);\r\n    options.addPreference(&quot;media.autoplay.enabled&quot;, false);\r\n    options.addPreference(&quot;dom.ipc.processCount&quot;, 1);\r\n    options.addPreference(&quot;media.peerconnection.enabled&quot;, false);\r\n    options.addPreference(&quot;geo.enabled&quot;, false);\r\n    WebDriver f = new FirefoxDriver(options);\r\n\r\nI run a periodically task (runnable) created with\r\n\r\n`ScheduledExecutorService scheduler1 = Executors.newScheduledThreadPool(1);` \r\n\r\nwhere I add and remove tabs on promise (when a window is closed an `driver.close` is performed and when added the logic add new on the driver where there are fewer tabs) \r\n\r\nI run also another periodically task (runnable) to process all tabs driver with a multithreading strategy with a static class variable. I I have to do a foreach `driver.getWindowHandles()` and get html page content to do my logic.\r\n\r\n`ExecutorService executorService = Executors.newFixedThreadPool(4);` \r\n\r\nWith that approach I can allocate 1 thread per each WebDriver to have more execution time performance and reuse always the same `ExecutorService`.\r\n\r\nSo in resume, all drivers instance are initialising once and never changed (closed or re-initialised) because the application should run 24/7 . \r\n\r\nWhen application starts and the first two hours the RAM is normally and stable (8GB~10GB) but, slowly and hour after hour, the RAM is increasing and goes close to the limite VPS RAM resource (24GB).\r\n\r\n - What could be generating this increase in RAM?\r\n   \r\n - What I can do to maintain the RAM stable?\r\n   \r\n - It&#39;s a good idea manage some Garbage Collector or JVM heap management\r\n   ?\r\n\r\nRegards,","title":"Java Selenium WebDriver Ram Accumulation","body":"<p>I have a java application that create 4 selenium drivers.</p>\n<p>WebDrivers are created in the following way</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions();\noptions.addArguments(&quot;-headless&quot;);\noptions.addPreference(&quot;gfx.webrender.all&quot;, false);\noptions.addPreference(&quot;gfx.webrender.enabled&quot;, false);\noptions.addPreference(&quot;pdfjs.disabled&quot;, true);\noptions.addPreference(&quot;layers.acceleration.disabled&quot;, true);\noptions.addPreference(&quot;extensions.enabled&quot;, false);\noptions.addPreference(&quot;dom.webnotifications.enabled&quot;, false);\noptions.addPreference(&quot;media.autoplay.enabled&quot;, false);\noptions.addPreference(&quot;dom.ipc.processCount&quot;, 1);\noptions.addPreference(&quot;media.peerconnection.enabled&quot;, false);\noptions.addPreference(&quot;geo.enabled&quot;, false);\nWebDriver f = new FirefoxDriver(options);\n</code></pre>\n<p>I run a periodically task (runnable) created with</p>\n<p><code>ScheduledExecutorService scheduler1 = Executors.newScheduledThreadPool(1);</code></p>\n<p>where I add and remove tabs on promise (when a window is closed an <code>driver.close</code> is performed and when added the logic add new on the driver where there are fewer tabs)</p>\n<p>I run also another periodically task (runnable) to process all tabs driver with a multithreading strategy with a static class variable. I I have to do a foreach <code>driver.getWindowHandles()</code> and get html page content to do my logic.</p>\n<p><code>ExecutorService executorService = Executors.newFixedThreadPool(4);</code></p>\n<p>With that approach I can allocate 1 thread per each WebDriver to have more execution time performance and reuse always the same <code>ExecutorService</code>.</p>\n<p>So in resume, all drivers instance are initialising once and never changed (closed or re-initialised) because the application should run 24/7 .</p>\n<p>When application starts and the first two hours the RAM is normally and stable (8GB~10GB) but, slowly and hour after hour, the RAM is increasing and goes close to the limite VPS RAM resource (24GB).</p>\n<ul>\n<li><p>What could be generating this increase in RAM?</p>\n</li>\n<li><p>What I can do to maintain the RAM stable?</p>\n</li>\n<li><p>It's a good idea manage some Garbage Collector or JVM heap management\n?</p>\n</li>\n</ul>\n<p>Regards,</p>\n"},{"tags":["java","image","url","webview","imageview"],"owner":{"account_id":29502678,"reputation":1,"user_id":22609340,"display_name":"Jes&#250;s Luvian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696263009,"creation_date":1696263009,"question_id":77216992,"body_markdown":"Good morning everyone, I have this issue with Android Gradle Java that I haven&#39;t been able to solve. I have this URL &quot;file://192.168.10.2/Pictures/logo.png&quot; which points to a shared folder on a computer in a local network. I can access it normally from a PC browser, but the problem arises when I try to open it from an Android application using a WebView or a web browser. I have also tried using Picasso, but I haven&#39;t received a successful response. Can someone please help me?\r\n\r\n\r\nThis is my actual code:\r\n\r\nUsing Picasso\r\n`Picasso.get().load(&quot;file://ip/Pictures/logo.png&quot;).into(imgImagen);`\r\n\r\nUsing Web View\r\n`detalleTagWebView.loadUrl(&quot;file://192.168.10.2/Pictures/logo.png&quot;);`","title":"Trouble Opening Android App WebView or Loading in Image View to Shared Image","body":"<p>Good morning everyone, I have this issue with Android Gradle Java that I haven't been able to solve. I have this URL &quot;file://192.168.10.2/Pictures/logo.png&quot; which points to a shared folder on a computer in a local network. I can access it normally from a PC browser, but the problem arises when I try to open it from an Android application using a WebView or a web browser. I have also tried using Picasso, but I haven't received a successful response. Can someone please help me?</p>\n<p>This is my actual code:</p>\n<p>Using Picasso\n<code>Picasso.get().load(&quot;file://ip/Pictures/logo.png&quot;).into(imgImagen);</code></p>\n<p>Using Web View\n<code>detalleTagWebView.loadUrl(&quot;file://192.168.10.2/Pictures/logo.png&quot;);</code></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":18212166,"reputation":11,"user_id":13254476,"display_name":"user13254476"},"score":0,"creation_date":1589603843,"post_id":61788329,"comment_id":109365627,"body_markdown":"public static void merge(File file) throws IOException {\n\t    XSSFWorkbook book = new XSSFWorkbook();\n\t   String directoryName = &quot;C: users\\\\documents&quot;;\n\t    File directory = new File(directoryName);\n\t    File[] fList = directory.listFiles();\n\t    for (File file1 : fList){\n\t        if (file1.isFile()){\n String ParticularFile = file1.getName();\nFile(directoryName+&quot;\\\\&quot;+ParticularFile));\n\t\t           FileInputStream fin = new FileInputStream(new File(directoryName+&quot;\\\\&quot;+ParticularFile));\nXSSFWorkbook b = new XSSFWorkbook(fin);","body":"public static void merge(File file) throws IOException { \t    XSSFWorkbook book = new XSSFWorkbook(); \t   String directoryName = &quot;C: users\\\\documents&quot;; \t    File directory = new File(directoryName); \t    File[] fList = directory.listFiles(); \t    for (File file1 : fList){ \t        if (file1.isFile()){  String ParticularFile = file1.getName(); File(directoryName+&quot;\\\\&quot;+ParticularFile)); \t\t           FileInputStream fin = new FileInputStream(new File(directoryName+&quot;\\\\&quot;+ParticularFile)); XSSFWorkbook b = new XSSFWorkbook(fin);"}],"answers":[{"tags":[],"owner":{"account_id":11864131,"reputation":381,"user_id":8682062,"display_name":"Aman Kumayu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589660544,"creation_date":1589483271,"answer_id":61805493,"question_id":61788329,"body_markdown":"    for(int i = 1; i &lt; sheet.getPhysicalNumberOfRows() - 1 ; i++){\r\n       Row row = sheet.getRow(i);\r\n       if(row != null){\r\n         // process your row\r\n       }\r\n    }\r\n\r\nThis way you can skip your heading and can read up to the rows which are not empty!\r\n\r\n**EDIT** - If you have a list of workbooks to read, you can manage a check to read headers only for the first workbook, not for remaining workbooks.\r\n\r\n\r\n    Boolean doNotReadHeaders = false;\r\n    for (int f = 0; f &lt; filesToReadCount; f++) {\r\n        doNotReadHeaders = (f == 0) ? false : true;\r\n        XSSFWorkbook workbook = new XSSFWorkbook(inputStream); // retrieve input stream acc. to your file lists\r\n        XSSFSheet sheet = workbook.getSheetAt(0);\r\n        for (int i = 1; i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\r\n            Row row = sheet.getRow(i);\r\n            if (row != null) {\r\n                // process your row\r\n            }\r\n        }\r\n    }\r\n\r\n**EDIT** -\r\n\r\n    public static void merge(File file) throws IOException {\r\n            XSSFWorkbook book = new XSSFWorkbook();\r\n            String directoryName = &quot;C: users\\\\documents&quot;;\r\n            File directory = new File(directoryName);\r\n            File[] fList = directory.listFiles();\r\n            Boolean doNotReadHeaders = false;\r\n            Integer fileCount = 0;\r\n            for (File file1: fList) {\r\n                if (file1.isFile()) {\r\n                \tdoNotReadHeaders = (fileCount == 0) ? false : true;\r\n                    String ParticularFile = file1.getName();\r\n                    FileInputStream fin = new FileInputStream(new File(directoryName + &quot;\\\\&quot; + ParticularFile));\r\n                    XSSFWorkbook workbook = new XSSFWorkbook(fin);\r\n                    XSSFSheet sheet = workbook.getSheetAt(0);\r\n                    for (int i = 1; i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\r\n                        Row row = sheet.getRow(i);\r\n                        if (row != null) {\r\n                            // process your row\r\n                        }\r\n                    }\r\n                    fileCount++;\r\n                }\r\n            }\r\n       }\r\n\r\nI just integrated your code with mine.\r\n\r\n**EDIT -** Final Code\r\n\r\n    private static void copySheets(XSSFSheet newSheet, XSSFSheet sheet, boolean doNotReadHeaders, boolean copyStyle) {\r\n    \r\n    \t    int newRownumber = newSheet.getLastRowNum() + 1;\r\n    \t    int maxColumnNum = 0;\r\n    \t    Map&lt; Integer, XSSFCellStyle &gt; styleMap = (copyStyle) ? new HashMap&lt; Integer, XSSFCellStyle &gt;() : null;\r\n    \r\n    \t    int FIRST_ROW_TO_GET = doNotReadHeaders ? 1 : 0;\r\n    \t    for (int ii = FIRST_ROW_TO_GET; ii &lt; sheet.getLastRowNum(); ii++) {\r\n    \t    \tXSSFRow row = sheet.getRow(ii);\r\n    \t        if (row != null) {\r\n    \t            // The whole row is blank\r\n    \t            //continue;\r\n    \t        } else {\r\n    \t            for (int i = (doNotReadHeaders ? sheet.getFirstRowNum() + 1 : sheet.getFirstRowNum()); i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() -1 : sheet.getPhysicalNumberOfRows()); i++) {\r\n    \t                XSSFRow srcRow = sheet.getRow(i);\r\n    \t                XSSFRow destRow = newSheet.createRow(i + newRownumber);\r\n    \t                if (srcRow != null) {\r\n    \t                    //copyRow(newWorkbook, sheet, newSheet, srcRow, destRow, styleMap);  \r\n    \t                    //copyRow(sheet, newSheet, srcRow, destRow, styleMap);\r\n    \t                    if (srcRow.getLastCellNum() &gt; maxColumnNum) {\r\n    \t                        maxColumnNum = srcRow.getLastCellNum();\r\n    \t                    }\r\n    \t                }\r\n    \t            }\r\n    \t        }\r\n    \t    }\r\n    \t    for (int i = 0; i &lt;= maxColumnNum; i++) {\r\n    \t        newSheet.setColumnWidth(i, sheet.getColumnWidth(i));\r\n    \t    }\r\n    \t}\r\n    \r\n    \tpublic static void merge(File file) throws IOException {\r\n            XSSFWorkbook book = new XSSFWorkbook();\r\n            String directoryName = &quot;C: users\\\\documents&quot;;\r\n            File directory = new File(directoryName);\r\n            File[] fList = directory.listFiles();\r\n            Boolean doNotReadHeaders = false;\r\n            Integer fileCount = 0;\r\n            for (File file1: fList) {\r\n                if (file1.isFile()) {\r\n                    doNotReadHeaders = (fileCount == 0) ? false : true;\r\n                    String ParticularFile = file1.getName();\r\n                    FileInputStream fin = new FileInputStream(new File(directoryName + &quot;\\\\&quot; + ParticularFile));\r\n                    XSSFWorkbook workbook = new XSSFWorkbook(fin);\r\n                    XSSFSheet sheet = workbook.getSheetAt(0);\r\n                \tfor (int j = 0; j &lt; workbook.getNumberOfSheets(); j++) {\r\n                        XSSFSheet innerSheet = workbook.getSheet(workbook.getSheetName(j));\r\n                        if (innerSheet == null)\r\n                        \tinnerSheet = workbook.createSheet(workbook.getSheetName(j));\r\n                        String worksheetName = &quot;Sample sheet &quot;;\r\n                        for (int worksheetIndex = 0; worksheetIndex &lt; workbook.getNumberOfSheets(); worksheetIndex++) {\r\n                        \tworkbook.setSheetName(worksheetIndex, worksheetName + worksheetIndex);\r\n                            System.out.println(&quot;test &quot; + worksheetIndex + &quot; &quot; + worksheetName);\r\n    \r\n                        }\r\n                        copySheets(sheet, workbook.getSheetAt(j),doNotReadHeaders,false);\r\n                    }\r\n                    fileCount++;\r\n                }\r\n                try {\r\n                    writeFile(workbook, file1);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n       }\r\n\r\nNow run this and let me know.","title":"Skipping the first row in subsequent worksheets using Java POI that are being copied into a Master file","body":"<pre><code>for(int i = 1; i &lt; sheet.getPhysicalNumberOfRows() - 1 ; i++){\n   Row row = sheet.getRow(i);\n   if(row != null){\n     // process your row\n   }\n}\n</code></pre>\n\n<p>This way you can skip your heading and can read up to the rows which are not empty!</p>\n\n<p><strong>EDIT</strong> - If you have a list of workbooks to read, you can manage a check to read headers only for the first workbook, not for remaining workbooks.</p>\n\n<pre><code>Boolean doNotReadHeaders = false;\nfor (int f = 0; f &lt; filesToReadCount; f++) {\n    doNotReadHeaders = (f == 0) ? false : true;\n    XSSFWorkbook workbook = new XSSFWorkbook(inputStream); // retrieve input stream acc. to your file lists\n    XSSFSheet sheet = workbook.getSheetAt(0);\n    for (int i = 1; i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\n        Row row = sheet.getRow(i);\n        if (row != null) {\n            // process your row\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong> -</p>\n\n<pre><code>public static void merge(File file) throws IOException {\n        XSSFWorkbook book = new XSSFWorkbook();\n        String directoryName = \"C: users\\\\documents\";\n        File directory = new File(directoryName);\n        File[] fList = directory.listFiles();\n        Boolean doNotReadHeaders = false;\n        Integer fileCount = 0;\n        for (File file1: fList) {\n            if (file1.isFile()) {\n                doNotReadHeaders = (fileCount == 0) ? false : true;\n                String ParticularFile = file1.getName();\n                FileInputStream fin = new FileInputStream(new File(directoryName + \"\\\\\" + ParticularFile));\n                XSSFWorkbook workbook = new XSSFWorkbook(fin);\n                XSSFSheet sheet = workbook.getSheetAt(0);\n                for (int i = 1; i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\n                    Row row = sheet.getRow(i);\n                    if (row != null) {\n                        // process your row\n                    }\n                }\n                fileCount++;\n            }\n        }\n   }\n</code></pre>\n\n<p>I just integrated your code with mine.</p>\n\n<p><strong>EDIT -</strong> Final Code</p>\n\n<pre><code>private static void copySheets(XSSFSheet newSheet, XSSFSheet sheet, boolean doNotReadHeaders, boolean copyStyle) {\n\n        int newRownumber = newSheet.getLastRowNum() + 1;\n        int maxColumnNum = 0;\n        Map&lt; Integer, XSSFCellStyle &gt; styleMap = (copyStyle) ? new HashMap&lt; Integer, XSSFCellStyle &gt;() : null;\n\n        int FIRST_ROW_TO_GET = doNotReadHeaders ? 1 : 0;\n        for (int ii = FIRST_ROW_TO_GET; ii &lt; sheet.getLastRowNum(); ii++) {\n            XSSFRow row = sheet.getRow(ii);\n            if (row != null) {\n                // The whole row is blank\n                //continue;\n            } else {\n                for (int i = (doNotReadHeaders ? sheet.getFirstRowNum() + 1 : sheet.getFirstRowNum()); i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() -1 : sheet.getPhysicalNumberOfRows()); i++) {\n                    XSSFRow srcRow = sheet.getRow(i);\n                    XSSFRow destRow = newSheet.createRow(i + newRownumber);\n                    if (srcRow != null) {\n                        //copyRow(newWorkbook, sheet, newSheet, srcRow, destRow, styleMap);  \n                        //copyRow(sheet, newSheet, srcRow, destRow, styleMap);\n                        if (srcRow.getLastCellNum() &gt; maxColumnNum) {\n                            maxColumnNum = srcRow.getLastCellNum();\n                        }\n                    }\n                }\n            }\n        }\n        for (int i = 0; i &lt;= maxColumnNum; i++) {\n            newSheet.setColumnWidth(i, sheet.getColumnWidth(i));\n        }\n    }\n\n    public static void merge(File file) throws IOException {\n        XSSFWorkbook book = new XSSFWorkbook();\n        String directoryName = \"C: users\\\\documents\";\n        File directory = new File(directoryName);\n        File[] fList = directory.listFiles();\n        Boolean doNotReadHeaders = false;\n        Integer fileCount = 0;\n        for (File file1: fList) {\n            if (file1.isFile()) {\n                doNotReadHeaders = (fileCount == 0) ? false : true;\n                String ParticularFile = file1.getName();\n                FileInputStream fin = new FileInputStream(new File(directoryName + \"\\\\\" + ParticularFile));\n                XSSFWorkbook workbook = new XSSFWorkbook(fin);\n                XSSFSheet sheet = workbook.getSheetAt(0);\n                for (int j = 0; j &lt; workbook.getNumberOfSheets(); j++) {\n                    XSSFSheet innerSheet = workbook.getSheet(workbook.getSheetName(j));\n                    if (innerSheet == null)\n                        innerSheet = workbook.createSheet(workbook.getSheetName(j));\n                    String worksheetName = \"Sample sheet \";\n                    for (int worksheetIndex = 0; worksheetIndex &lt; workbook.getNumberOfSheets(); worksheetIndex++) {\n                        workbook.setSheetName(worksheetIndex, worksheetName + worksheetIndex);\n                        System.out.println(\"test \" + worksheetIndex + \" \" + worksheetName);\n\n                    }\n                    copySheets(sheet, workbook.getSheetAt(j),doNotReadHeaders,false);\n                }\n                fileCount++;\n            }\n            try {\n                writeFile(workbook, file1);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n   }\n</code></pre>\n\n<p>Now run this and let me know.</p>\n"}],"owner":{"account_id":18212166,"reputation":11,"user_id":13254476,"display_name":"user13254476"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696262800,"creation_date":1589423681,"question_id":61788329,"body_markdown":"I have a merge process in which several workbooks containing multiple worksheets are combined into a Master File.  The sheets are group together by name. \r\n\r\nOnce the first workbook contents (sheets) are copied, the subsequent (2nd,3rd, 4th, etc) workbook contents (sheets) **should** skip the first row in each sheet and copy to the master file. \r\n\r\n- How would I iterate through the subsequent workbook sheets without copying the first row (the headings)?\r\n\r\n- Simply put, I want to keep the heading (first row) from the first iteration, then every workbook sheet afterwards that is copied. should skip the first row (heading)\r\n\r\nI&#39;ve included the sample code below.\r\n\r\n```\r\nprivate static void copySheets( XSSFSheet newSheet, XSSFSheet sheet, boolean copyStyle) {     \r\n   \r\n\t    int newRownumber = newSheet.getLastRowNum() + 1;\r\n\t    int maxColumnNum = 0;     \r\n\t    Map&lt;Integer, XSSFCellStyle&gt; styleMap = (copyStyle) ? new HashMap&lt;Integer, XSSFCellStyle&gt;() : null;    \r\n\t    \r\n\t    for (int i = sheet.getFirstRowNum(); i &lt;= sheet.getLastRowNum(); i++) {     \r\n\t      XSSFRow srcRow = sheet.getRow(i);     \r\n\t      XSSFRow destRow = newSheet.createRow(i + newRownumber); \r\n\t      \r\n     \t  if (srcRow != null) {     \r\n\t          //copyRow(newWorkbook, sheet, newSheet, srcRow, destRow, styleMap);  \r\n\t    \t  copyRow(sheet, newSheet, srcRow, destRow, styleMap); \r\n\r\n  \t          if (srcRow.getLastCellNum() &gt; maxColumnNum) {     \r\n\t              maxColumnNum = srcRow.getLastCellNum();     \r\n\t          }     \r\n \t       }     \r\n\t    }   \r\n\t    \t    \r\n\t    for (int i = 0; i &lt;= maxColumnNum; i++) {     \r\n\t      newSheet.setColumnWidth(i, sheet.getColumnWidth(i));     \r\n\t    }     \r\n}     \r\n\r\npublic static void merge(File file) throws IOException {\r\n       XSSFWorkbook book = new XSSFWorkbook();\r\n\t   String directoryName = &quot;C: users\\\\documents&quot;;\r\n\t    File directory = new File(directoryName);\r\n\t    File[] fList = directory.listFiles();\r\n\t    for (File file1 : fList){\r\n\t        if (file1.isFile()){\r\n String ParticularFile = file1.getName();\r\nFile(directoryName+&quot;\\\\&quot;+ParticularFile));\r\n\t\t           FileInputStream fin = new FileInputStream(new File(directoryName+&quot;\\\\&quot;+ParticularFile));\r\nXSSFWorkbook b = new XSSFWorkbook(fin);\r\n\r\n\r\n\r\n\r\nINTEGRATED CODE\r\n\r\n    public static void merge(File file) throws IOException {\r\n    \t    XSSFWorkbook book = new XSSFWorkbook();\r\n    \t    System.out.println(file.getName());\r\n    \t   String directoryName = &quot;C:\\\\ Users\\\\Documents&quot;;\r\n    \t   File directory = new File(directoryName);\r\n    \t   File[] fList = directory.listFiles();\r\n    \t    \r\n    \t    Boolean doNotReadHeaders = false;\r\n            Integer fileCount = 0;\r\n    \t    for (File file1 : fList){\r\n    \t        if (file1.isFile()){\r\n    \t        \tdoNotReadHeaders = (fileCount == 0) ? false : true;\r\n                    String ParticularFile = file1.getName();\r\n    \r\n                 XSSFSheet sheet = b.getSheetAt(0);\r\n                    for (int i = 1; i &lt; (doNotReadHeaders ? sheet2.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\r\n                        Row row = sheet.getRow(ii);\r\n                        if (row != null) { \r\n                   \r\n    \r\n                     for (int i = 0; i &lt; b.getNumberOfSheets(); i++) {\r\n    \t    \t  XSSFSheet sheet = book.getSheet(b.getSheetName(i)); \r\n    \t    \t  if (sheet == null) \r\n    \t    \t\t  sheet = book.createSheet(b.getSheetName(i));\r\n    \t       \r\n    \t        for(int worksheetIndex = 0; worksheetIndex&lt;b.getNumberOfSheets(); worksheetIndex++)\r\n    \t       {\t\r\n    \t\r\n       \t           b.setSheetName(worksheetIndex, worksheetName);\r\n    \t    \tSystem.out.println(&quot;test &quot;+ worksheetIndex+ &quot; &quot; + worksheetName);\r\n    \t  \r\n    \t     }\r\n    \t     \r\n    \t       copySheets(sheet, b.getSheetAt(i));\r\n    \t    \t\r\n    \t        }\r\n    \t    }\r\n    \t    try {\r\n    \t  \r\n    \t\twriteFile(book, file);\r\n    \t    }catch(Exception e) {\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t   } \r\n    \t  } ","title":"Skipping the first row in subsequent worksheets using Java POI that are being copied into a Master file","body":"<p>I have a merge process in which several workbooks containing multiple worksheets are combined into a Master File.  The sheets are group together by name.</p>\n<p>Once the first workbook contents (sheets) are copied, the subsequent (2nd,3rd, 4th, etc) workbook contents (sheets) <strong>should</strong> skip the first row in each sheet and copy to the master file.</p>\n<ul>\n<li><p>How would I iterate through the subsequent workbook sheets without copying the first row (the headings)?</p>\n</li>\n<li><p>Simply put, I want to keep the heading (first row) from the first iteration, then every workbook sheet afterwards that is copied. should skip the first row (heading)</p>\n</li>\n</ul>\n<p>I've included the sample code below.</p>\n<pre><code>private static void copySheets( XSSFSheet newSheet, XSSFSheet sheet, boolean copyStyle) {     \n   \n        int newRownumber = newSheet.getLastRowNum() + 1;\n        int maxColumnNum = 0;     \n        Map&lt;Integer, XSSFCellStyle&gt; styleMap = (copyStyle) ? new HashMap&lt;Integer, XSSFCellStyle&gt;() : null;    \n        \n        for (int i = sheet.getFirstRowNum(); i &lt;= sheet.getLastRowNum(); i++) {     \n          XSSFRow srcRow = sheet.getRow(i);     \n          XSSFRow destRow = newSheet.createRow(i + newRownumber); \n          \n          if (srcRow != null) {     \n              //copyRow(newWorkbook, sheet, newSheet, srcRow, destRow, styleMap);  \n              copyRow(sheet, newSheet, srcRow, destRow, styleMap); \n\n              if (srcRow.getLastCellNum() &gt; maxColumnNum) {     \n                  maxColumnNum = srcRow.getLastCellNum();     \n              }     \n           }     \n        }   \n                \n        for (int i = 0; i &lt;= maxColumnNum; i++) {     \n          newSheet.setColumnWidth(i, sheet.getColumnWidth(i));     \n        }     \n}     \n\npublic static void merge(File file) throws IOException {\n       XSSFWorkbook book = new XSSFWorkbook();\n       String directoryName = &quot;C: users\\\\documents&quot;;\n        File directory = new File(directoryName);\n        File[] fList = directory.listFiles();\n        for (File file1 : fList){\n            if (file1.isFile()){\n String ParticularFile = file1.getName();\nFile(directoryName+&quot;\\\\&quot;+ParticularFile));\n                   FileInputStream fin = new FileInputStream(new File(directoryName+&quot;\\\\&quot;+ParticularFile));\nXSSFWorkbook b = new XSSFWorkbook(fin);\n\n\n\n\nINTEGRATED CODE\n\n    public static void merge(File file) throws IOException {\n            XSSFWorkbook book = new XSSFWorkbook();\n            System.out.println(file.getName());\n           String directoryName = &quot;C:\\\\ Users\\\\Documents&quot;;\n           File directory = new File(directoryName);\n           File[] fList = directory.listFiles();\n            \n            Boolean doNotReadHeaders = false;\n            Integer fileCount = 0;\n            for (File file1 : fList){\n                if (file1.isFile()){\n                    doNotReadHeaders = (fileCount == 0) ? false : true;\n                    String ParticularFile = file1.getName();\n    \n                 XSSFSheet sheet = b.getSheetAt(0);\n                    for (int i = 1; i &lt; (doNotReadHeaders ? sheet2.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\n                        Row row = sheet.getRow(ii);\n                        if (row != null) { \n                   \n    \n                     for (int i = 0; i &lt; b.getNumberOfSheets(); i++) {\n                  XSSFSheet sheet = book.getSheet(b.getSheetName(i)); \n                  if (sheet == null) \n                      sheet = book.createSheet(b.getSheetName(i));\n               \n                for(int worksheetIndex = 0; worksheetIndex&lt;b.getNumberOfSheets(); worksheetIndex++)\n               {    \n        \n                   b.setSheetName(worksheetIndex, worksheetName);\n                System.out.println(&quot;test &quot;+ worksheetIndex+ &quot; &quot; + worksheetName);\n          \n             }\n             \n               copySheets(sheet, b.getSheetAt(i));\n                \n                }\n            }\n            try {\n          \n            writeFile(book, file);\n            }catch(Exception e) {\n                e.printStackTrace();\n            }\n           } \n          } \n</code></pre>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1492005146,"post_id":43371521,"comment_id":73804881,"body_markdown":"`forEach` runs your command on each element, but you are not capturing the result.","body":"<code>forEach</code> runs your command on each element, but you are not capturing the result."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1492005225,"post_id":43371521,"comment_id":73804950,"body_markdown":"Also, if you&#39;re not trying to use a regular expression, it would be easier to use [`replace`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)), not [`replaceAll`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String))","body":"Also, if you&#39;re not trying to use a regular expression, it would be easier to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>replace</code></a>, not <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceAll</code></a>"},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492005297,"post_id":43371521,"comment_id":73805001,"body_markdown":"Thanks. So can you show me the right way to do it with Java8?","body":"Thanks. So can you show me the right way to do it with Java8?"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1492005458,"post_id":43371521,"comment_id":73805132,"body_markdown":"Note that in your Java 8 version, there also seems to be a typo in the prefix of the regex: `&quot;\\\\{$\\\\{&quot;` instead of `&quot;\\\\$\\\\{&quot;`.","body":"Note that in your Java 8 version, there also seems to be a typo in the prefix of the regex: <code>&quot;\\\\{$\\\\{&quot;</code> instead of <code>&quot;\\\\$\\\\{&quot;</code>."},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492005534,"post_id":43371521,"comment_id":73805200,"body_markdown":"You are right. I&#39;ve just edited.","body":"You are right. I&#39;ve just edited."},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492005828,"post_id":43371521,"comment_id":73805478,"body_markdown":"@khelwood how do you capture the result inside the forEach in java8?","body":"@khelwood how do you capture the result inside the forEach in java8?"},{"owner":{"account_id":2899315,"reputation":303,"user_id":2486417,"accept_rate":40,"display_name":"Vijayakumar"},"score":0,"creation_date":1492005895,"post_id":43371521,"comment_id":73805541,"body_markdown":"replaceAll will not alter the actual value. In java 8 you can pass only the final or effective final value for processing. You cannot alter the out side variable in foreach.","body":"replaceAll will not alter the actual value. In java 8 you can pass only the final or effective final value for processing. You cannot alter the out side variable in foreach."},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492006061,"post_id":43371521,"comment_id":73805681,"body_markdown":"@Vijay thanks for clarifying this. Can you show me how to achieve the result I want with java8?","body":"@Vijay thanks for clarifying this. Can you show me how to achieve the result I want with java8?"},{"owner":{"account_id":3571848,"reputation":643,"user_id":2981971,"display_name":"Zhou"},"score":0,"creation_date":1604163304,"post_id":43371521,"comment_id":114265682,"body_markdown":"JavaScript has this from the beginning, unfortunately, Java doesn&#39;t. Actually Java&#39;s `String.repalceAll` only needs a small upgrade then we can have it :(","body":"JavaScript has this from the beginning, unfortunately, Java doesn&#39;t. Actually Java&#39;s <code>String.repalceAll</code> only needs a small upgrade then we can have it :("}],"answers":[{"tags":[],"owner":{"account_id":9363170,"reputation":1307,"user_id":6948900,"display_name":"Mikhail Antonov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492006850,"creation_date":1492006271,"answer_id":43372019,"question_id":43371521,"body_markdown":"    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class Repl {\r\n    \r\n        public static void main(String[] args) {\r\n            Map&lt;String, String&gt; variables = new HashMap&lt;&gt;();\r\n            String templateText = &quot;Hi, ${name} ${secondname}! My name is ${name} too :)&quot;;\r\n            variables.put(&quot;name&quot;, &quot;Joe&quot;);\r\n            variables.put(&quot;secondname&quot;, &quot;White&quot;);\r\n    \r\n            templateText = variables.keySet().stream().reduce(templateText, (acc, e) -&gt; acc.replaceAll(&quot;\\\\$\\\\{&quot; + e + &quot;\\\\}&quot;, variables.get(e)));\r\n            System.out.println(templateText);\r\n        }\r\n    \r\n    }\r\n\r\noutput:\r\n\r\n&gt;Hi, Joe White! My name is Joe too :)\r\n\r\n\r\n**However**, it&#39;s not the best idea to reinvent the wheel and the preferred way to achieve what you want would be to use [apache commons lang](https://commons.apache.org/proper/commons-lang/) as stated [here](https://stackoverflow.com/a/3655963/6948900).\r\n\r\n     Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();\r\n     valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n     valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n     String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\n     StrSubstitutor sub = new StrSubstitutor(valuesMap);\r\n     String resolvedString = sub.replace(templateString);\r\n\r\n","title":"ReplaceAll with java8 lambda functions","body":"<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class Repl {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; variables = new HashMap&lt;&gt;();\n        String templateText = \"Hi, ${name} ${secondname}! My name is ${name} too :)\";\n        variables.put(\"name\", \"Joe\");\n        variables.put(\"secondname\", \"White\");\n\n        templateText = variables.keySet().stream().reduce(templateText, (acc, e) -&gt; acc.replaceAll(\"\\\\$\\\\{\" + e + \"\\\\}\", variables.get(e)));\n        System.out.println(templateText);\n    }\n\n}\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>Hi, Joe White! My name is Joe too :)</p>\n</blockquote>\n\n<p><strong>However</strong>, it's not the best idea to reinvent the wheel and the preferred way to achieve what you want would be to use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">apache commons lang</a> as stated <a href=\"https://stackoverflow.com/a/3655963/6948900\">here</a>.</p>\n\n<pre><code> Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();\n valuesMap.put(\"animal\", \"quick brown fox\");\n valuesMap.put(\"target\", \"lazy dog\");\n String templateString = \"The ${animal} jumped over the ${target}.\";\n StrSubstitutor sub = new StrSubstitutor(valuesMap);\n String resolvedString = sub.replace(templateString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1696262688,"creation_date":1492006745,"answer_id":43372206,"question_id":43371521,"body_markdown":"Java 9 and above\r\n---\r\nJava 9 introduced [`Matcher.replaceAll(Function)`][5] which basically implements the same thing as the functional version for Java 8 below. See [Jesse Glick&#39;s answer][6] for more details.\r\n\r\nJava 8\r\n---\r\nThe proper way to implement this did not change in Java 8, it is based on [`appendReplacement()`][1]/[`appendTail()`][2]:\r\n\r\n    Pattern variablePattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\r\n    Matcher matcher = variablePattern.matcher(templateText);\r\n    StringBuffer result = new StringBuffer();\r\n    while (matcher.find()) {\r\n        matcher.appendReplacement(result, variables.get(matcher.group(1)));\r\n    }\r\n    matcher.appendTail(result);\r\n    System.out.println(result);\r\n\r\nNote that, as mentioned by [drrob][3] in the comments, the replacement String of `appendReplacement()` may contain group references using the `$` sign, and escaping using `\\`. If this is not desired, or if your replacement String can potentially contain those characters, you should escape them using [`Matcher.quoteReplacement()`][4].\r\n\r\nBeing more functional in Java 8\r\n---\r\n\r\nIf you want a more Java-8-style version, you can extract the search-and-replace boiler plate code into a generalized method that takes a replacement `Function`:\r\n\r\n    private static StringBuffer replaceAll(String templateText, Pattern pattern,\r\n                                           Function&lt;Matcher, String&gt; replacer) {\r\n        Matcher matcher = pattern.matcher(templateText);\r\n        StringBuffer result = new StringBuffer();\r\n        while (matcher.find()) {\r\n            matcher.appendReplacement(result, replacer.apply(matcher));\r\n        }\r\n        matcher.appendTail(result);\r\n        return result;\r\n    }\r\n\r\n\r\nand use it as\r\n\r\n    Pattern variablePattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\r\n    StringBuffer result = replaceAll(templateText, variablePattern,\r\n                                     m -&gt; variables.get(m.group(1)));\r\n\r\nNote that having a `Pattern` as parameter (instead of a `String`) allows it to be stored as a constant instead of recompiling it every time.\r\n\r\nSame remark applies as above concerning `$` and `\\` – you may want to enforce the `quoteReplacement()` inside the `replaceAll()` method if you don&#39;t want your `replacer` function to handle it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#appendReplacement-java.lang.StringBuffer-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#appendTail-java.lang.StringBuffer-\r\n  [3]: https://stackoverflow.com/users/1677920/drrob\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\r\n  [6]: https://stackoverflow.com/a/49699339/525036","title":"ReplaceAll with java8 lambda functions","body":"<h2>Java 9 and above</h2>\n<p>Java 9 introduced <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Matcher.replaceAll(Function)</code></a> which basically implements the same thing as the functional version for Java 8 below. See <a href=\"https://stackoverflow.com/a/49699339/525036\">Jesse Glick's answer</a> for more details.</p>\n<h2>Java 8</h2>\n<p>The proper way to implement this did not change in Java 8, it is based on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#appendReplacement-java.lang.StringBuffer-java.lang.String-\" rel=\"nofollow noreferrer\"><code>appendReplacement()</code></a>/<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#appendTail-java.lang.StringBuffer-\" rel=\"nofollow noreferrer\"><code>appendTail()</code></a>:</p>\n<pre><code>Pattern variablePattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\nMatcher matcher = variablePattern.matcher(templateText);\nStringBuffer result = new StringBuffer();\nwhile (matcher.find()) {\n    matcher.appendReplacement(result, variables.get(matcher.group(1)));\n}\nmatcher.appendTail(result);\nSystem.out.println(result);\n</code></pre>\n<p>Note that, as mentioned by <a href=\"https://stackoverflow.com/users/1677920/drrob\">drrob</a> in the comments, the replacement String of <code>appendReplacement()</code> may contain group references using the <code>$</code> sign, and escaping using <code>\\</code>. If this is not desired, or if your replacement String can potentially contain those characters, you should escape them using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Matcher.quoteReplacement()</code></a>.</p>\n<h2>Being more functional in Java 8</h2>\n<p>If you want a more Java-8-style version, you can extract the search-and-replace boiler plate code into a generalized method that takes a replacement <code>Function</code>:</p>\n<pre><code>private static StringBuffer replaceAll(String templateText, Pattern pattern,\n                                       Function&lt;Matcher, String&gt; replacer) {\n    Matcher matcher = pattern.matcher(templateText);\n    StringBuffer result = new StringBuffer();\n    while (matcher.find()) {\n        matcher.appendReplacement(result, replacer.apply(matcher));\n    }\n    matcher.appendTail(result);\n    return result;\n}\n</code></pre>\n<p>and use it as</p>\n<pre><code>Pattern variablePattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\nStringBuffer result = replaceAll(templateText, variablePattern,\n                                 m -&gt; variables.get(m.group(1)));\n</code></pre>\n<p>Note that having a <code>Pattern</code> as parameter (instead of a <code>String</code>) allows it to be stored as a constant instead of recompiling it every time.</p>\n<p>Same remark applies as above concerning <code>$</code> and <code>\\</code> – you may want to enforce the <code>quoteReplacement()</code> inside the <code>replaceAll()</code> method if you don't want your <code>replacer</code> function to handle it.</p>\n"},{"tags":[],"owner":{"account_id":2899315,"reputation":303,"user_id":2486417,"accept_rate":40,"display_name":"Vijayakumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492007565,"creation_date":1492007565,"answer_id":43372561,"question_id":43371521,"body_markdown":"Your code should be changed like below,\r\n\r\n    String templateText = &quot;Hi ${name}&quot;;\r\n\tMap&lt;String,String&gt; variables = new HashMap&lt;&gt;();\r\n\tvariables.put(&quot;name&quot;, &quot;Joe&quot;);\r\n\ttemplateText = variables.keySet().stream().reduce(templateText, (originalText, key) -&gt; originalText.replaceAll(&quot;\\\\$\\\\{&quot; + key + &quot;\\\\}&quot;, variables.get(key)));","title":"ReplaceAll with java8 lambda functions","body":"<p>Your code should be changed like below,</p>\n\n<pre><code>String templateText = \"Hi ${name}\";\nMap&lt;String,String&gt; variables = new HashMap&lt;&gt;();\nvariables.put(\"name\", \"Joe\");\ntemplateText = variables.keySet().stream().reduce(templateText, (originalText, key) -&gt; originalText.replaceAll(\"\\\\$\\\\{\" + key + \"\\\\}\", variables.get(key)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1492083989,"creation_date":1492011994,"answer_id":43374164,"question_id":43371521,"body_markdown":"you also can using [Stream.reduce(identity,accumulator,combiner)](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-).\r\n\r\n### identity\r\n\r\n`identity` is the initial value for reducing function which is `accumulator`.\r\n\r\n### accumulator\r\n\r\n`accumulator` reducing `identity` to `result`, which is the `identity` for the next reducing if the stream is **sequentially**.\r\n\r\n### combiner\r\nthis function never be called in **sequentially** stream. it calculate the next `identity` from `identity` &amp; `result` in **parallel** stream.\r\n\r\n    BinaryOperator&lt;String&gt; combinerNeverBeCalledInSequentiallyStream=(identity,t) -&gt; {\r\n       throw new IllegalStateException(&quot;Can&#39;t be used in parallel stream&quot;);\r\n    };\r\n\r\n    String result = variables.entrySet().stream()\r\n                .reduce(templateText\r\n                       , (it, var) -&gt; it.replaceAll(format(&quot;\\\\$\\\\{%s\\\\}&quot;, var.getKey())\r\n                                                   , var.getValue())\r\n                       , combinerNeverBeCalledInSequentiallyStream);","title":"ReplaceAll with java8 lambda functions","body":"<p>you also can using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"noreferrer\">Stream.reduce(identity,accumulator,combiner)</a>.</p>\n\n<h3>identity</h3>\n\n<p><code>identity</code> is the initial value for reducing function which is <code>accumulator</code>.</p>\n\n<h3>accumulator</h3>\n\n<p><code>accumulator</code> reducing <code>identity</code> to <code>result</code>, which is the <code>identity</code> for the next reducing if the stream is <strong>sequentially</strong>.</p>\n\n<h3>combiner</h3>\n\n<p>this function never be called in <strong>sequentially</strong> stream. it calculate the next <code>identity</code> from <code>identity</code> &amp; <code>result</code> in <strong>parallel</strong> stream.</p>\n\n<pre><code>BinaryOperator&lt;String&gt; combinerNeverBeCalledInSequentiallyStream=(identity,t) -&gt; {\n   throw new IllegalStateException(\"Can't be used in parallel stream\");\n};\n\nString result = variables.entrySet().stream()\n            .reduce(templateText\n                   , (it, var) -&gt; it.replaceAll(format(\"\\\\$\\\\{%s\\\\}\", var.getKey())\n                                               , var.getValue())\n                   , combinerNeverBeCalledInSequentiallyStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492094362,"creation_date":1492094362,"answer_id":43395226,"question_id":43371521,"body_markdown":"Performing `replaceAll` repeatedly, i.e. for every replaceable variable, can become quiet expensive, especially as the number of variables might grow. This doesn’t become more efficient when using the Stream API. The regex package contains the necessary building blocks to do this more efficiently:\r\n\r\n    public static String replaceAll(String template, Map&lt;String,String&gt; variables) {\r\n        String pattern = variables.keySet().stream()\r\n            .map(Pattern::quote)\r\n            .collect(Collectors.joining(&quot;|&quot;, &quot;\\\\$\\\\{(&quot;, &quot;)\\\\}&quot;));\r\n        Matcher m = Pattern.compile(pattern).matcher(template);\r\n        if(!m.find()) {\r\n            return template;\r\n        }\r\n        StringBuffer sb = new StringBuffer();\r\n        do {\r\n            m.appendReplacement(sb, Matcher.quoteReplacement(variables.get(m.group(1))));\r\n        } while(m.find());\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\nIf you are performing the operation with the same `Map` very often, you may consider keeping the result of `Pattern.compile(pattern)`, as it is immutable and safely shareable.\r\n\r\nOn the other hand, if you are using this operation with different maps frequently, it might be an option to use a generic pattern instead, combined with handling the possibility that the particular variable is not in the map. The adds the option to report occurrences of the `${…}` pattern with an unknown variable:\r\n\r\n    private static Pattern VARIABLE = Pattern.compile(&quot;\\\\$\\\\{([^}]*)\\\\}&quot;);\r\n    public static String replaceAll(String template, Map&lt;String,String&gt; variables) {\r\n        Matcher m = VARIABLE.matcher(template);\r\n        if(!m.find())\r\n            return template;\r\n        StringBuffer sb = new StringBuffer();\r\n        do {\r\n            m.appendReplacement(sb,\r\n                Matcher.quoteReplacement(variables.getOrDefault(m.group(1), m.group(0))));\r\n        } while(m.find());\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\n`m.group(0)` is the actual match, so using this as a fall-back for the replacement string establishes the original behavior of not replacing `${…}` occurrences when the key is not in the map. As said, alternative behaviors, like reporting the absent key or using a different fall-back text, are possible.\r\n","title":"ReplaceAll with java8 lambda functions","body":"<p>Performing <code>replaceAll</code> repeatedly, i.e. for every replaceable variable, can become quiet expensive, especially as the number of variables might grow. This doesn’t become more efficient when using the Stream API. The regex package contains the necessary building blocks to do this more efficiently:</p>\n\n<pre><code>public static String replaceAll(String template, Map&lt;String,String&gt; variables) {\n    String pattern = variables.keySet().stream()\n        .map(Pattern::quote)\n        .collect(Collectors.joining(\"|\", \"\\\\$\\\\{(\", \")\\\\}\"));\n    Matcher m = Pattern.compile(pattern).matcher(template);\n    if(!m.find()) {\n        return template;\n    }\n    StringBuffer sb = new StringBuffer();\n    do {\n        m.appendReplacement(sb, Matcher.quoteReplacement(variables.get(m.group(1))));\n    } while(m.find());\n    m.appendTail(sb);\n    return sb.toString();\n}\n</code></pre>\n\n<p>If you are performing the operation with the same <code>Map</code> very often, you may consider keeping the result of <code>Pattern.compile(pattern)</code>, as it is immutable and safely shareable.</p>\n\n<p>On the other hand, if you are using this operation with different maps frequently, it might be an option to use a generic pattern instead, combined with handling the possibility that the particular variable is not in the map. The adds the option to report occurrences of the <code>${…}</code> pattern with an unknown variable:</p>\n\n<pre><code>private static Pattern VARIABLE = Pattern.compile(\"\\\\$\\\\{([^}]*)\\\\}\");\npublic static String replaceAll(String template, Map&lt;String,String&gt; variables) {\n    Matcher m = VARIABLE.matcher(template);\n    if(!m.find())\n        return template;\n    StringBuffer sb = new StringBuffer();\n    do {\n        m.appendReplacement(sb,\n            Matcher.quoteReplacement(variables.getOrDefault(m.group(1), m.group(0))));\n    } while(m.find());\n    m.appendTail(sb);\n    return sb.toString();\n}\n</code></pre>\n\n<p><code>m.group(0)</code> is the actual match, so using this as a fall-back for the replacement string establishes the original behavior of not replacing <code>${…}</code> occurrences when the key is not in the map. As said, alternative behaviors, like reporting the absent key or using a different fall-back text, are possible.</p>\n"},{"tags":[],"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523040663,"creation_date":1523040663,"answer_id":49699339,"question_id":43371521,"body_markdown":"To update @didier-l’s answer, in Java 9 this is a one-liner!\r\n\r\n    Pattern.compile(&quot;[$][{](.+?)[}]&quot;).matcher(templateText).replaceAll(m -&gt; variables.get(m.group(1)))","title":"ReplaceAll with java8 lambda functions","body":"<p>To update @didier-l’s answer, in Java 9 this is a one-liner!</p>\n\n<pre><code>Pattern.compile(\"[$][{](.+?)[}]\").matcher(templateText).replaceAll(m -&gt; variables.get(m.group(1)))\n</code></pre>\n"}],"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15450,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43374164,"answer_count":6,"score":13,"last_activity_date":1696262688,"creation_date":1492005078,"question_id":43371521,"body_markdown":"Given the following variables\r\n\r\n    templateText = &quot;Hi ${name}&quot;;\r\n    variables.put(&quot;name&quot;, &quot;Joe&quot;);\r\n\r\nI would like to replace the placeholder ${name} with the value &quot;Joe&quot; using the following code (that does not work)\r\n\r\n     variables.keySet().forEach(k -&gt; templateText.replaceAll(&quot;\\\\${\\\\{&quot;+ k +&quot;\\\\}&quot;  variables.get(k)));\r\n\t\r\n\r\nHowever, if I do the &quot;old-style&quot; way, everything works perfectly:\r\n\r\n\r\n    for (Entry&lt;String, String&gt; entry : variables.entrySet()){\r\n     \tString  regex = &quot;\\\\$\\\\{&quot; + entry.getKey() + &quot;\\\\}&quot;; \t\t\t\r\n        templateText =  templateText.replaceAll(regex, entry.getValue()); \t\t\t\r\n       }\r\n\r\n\r\nSurely I am missing something here :) \r\n\r\n","title":"ReplaceAll with java8 lambda functions","body":"<p>Given the following variables</p>\n\n<pre><code>templateText = \"Hi ${name}\";\nvariables.put(\"name\", \"Joe\");\n</code></pre>\n\n<p>I would like to replace the placeholder ${name} with the value \"Joe\" using the following code (that does not work)</p>\n\n<pre><code> variables.keySet().forEach(k -&gt; templateText.replaceAll(\"\\\\${\\\\{\"+ k +\"\\\\}\"  variables.get(k)));\n</code></pre>\n\n<p>However, if I do the \"old-style\" way, everything works perfectly:</p>\n\n<pre><code>for (Entry&lt;String, String&gt; entry : variables.entrySet()){\n    String  regex = \"\\\\$\\\\{\" + entry.getKey() + \"\\\\}\";          \n    templateText =  templateText.replaceAll(regex, entry.getValue());           \n   }\n</code></pre>\n\n<p>Surely I am missing something here :) </p>\n"},{"tags":["java","android","networking","udp"],"answers":[{"tags":[],"owner":{"account_id":32240,"reputation":6717,"user_id":89233,"accept_rate":88,"display_name":"Jon Watte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683170881,"creation_date":1683170881,"answer_id":76169410,"question_id":76169344,"body_markdown":"Aaaand the answer is: `new DatagramSocket()` will immediately bind to some random port on construction. Despite `bind()` being an available method on the socket. I need to provide the interface address and port number to the constructor of `DatagramSocket` to bind it properly, or just the port number to bind to all interfaces.\r\n\r\nSo, the fixed code is:\r\n\r\n        discoverSocket = new DatagramSocket(DISCOVER_LOCAL_PORT);\r\n        discoverSocket.setBroadcast(true);\r\n        discoverSocket.setReuseAddress(true);\r\n        discoverSocket.setSoTimeout(100);\r\n\r\nAnd it seems you can still set the reuse-address option and broadcast option even after creation? Maybe it sets itself up for a port in the constructor, but doesn&#39;t *actually* bind until you send the first datagram, or attempt to read the first datagram?\r\n\r\nI also found that the emulator doesn&#39;t bridge to my local Wifi network, so I have to debug this on a real device anyway.\r\n\r\nBut at least now it works.\r\n","title":"Android Java UDP Socket: Already Bound (but not!)","body":"<p>Aaaand the answer is: <code>new DatagramSocket()</code> will immediately bind to some random port on construction. Despite <code>bind()</code> being an available method on the socket. I need to provide the interface address and port number to the constructor of <code>DatagramSocket</code> to bind it properly, or just the port number to bind to all interfaces.</p>\n<p>So, the fixed code is:</p>\n<pre><code>    discoverSocket = new DatagramSocket(DISCOVER_LOCAL_PORT);\n    discoverSocket.setBroadcast(true);\n    discoverSocket.setReuseAddress(true);\n    discoverSocket.setSoTimeout(100);\n</code></pre>\n<p>And it seems you can still set the reuse-address option and broadcast option even after creation? Maybe it sets itself up for a port in the constructor, but doesn't <em>actually</em> bind until you send the first datagram, or attempt to read the first datagram?</p>\n<p>I also found that the emulator doesn't bridge to my local Wifi network, so I have to debug this on a real device anyway.</p>\n<p>But at least now it works.</p>\n"}],"owner":{"account_id":32240,"reputation":6717,"user_id":89233,"accept_rate":88,"display_name":"Jon Watte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696261857,"creation_date":1683169921,"question_id":76169344,"body_markdown":"I am writing a Java program for Android phones, using UDP sockets including UDP broadcasting.\r\nI&#39;m using the current Android Studio (Flamingo) and SDK (33), and the default Pixel 3 Emulated device running Android 13, all of this installed and running on a MacBook Pro M2.\r\n\r\nIn the startup of my activity, I run this code:\r\n\r\n            discoverSocket = new DatagramSocket();\r\n            discoverSocket.setBroadcast(true);\r\n            discoverSocket.setReuseAddress(true);\r\n            discoverSocket.setSoTimeout(100);\r\n            discoverSocket.bind(new InetSocketAddress(&quot;0.0.0.0&quot;, DISCOVER_LOCAL_PORT));\r\n\r\nDISCOVER_LOCAL_PORT is 7001.\r\n\r\nWhen it runs this code, it throws the exception &quot;java.net.SocketException: Already Bound&quot;\r\nBut nothing else is running on this device/emulator -- in fact, I just cold booted it.\r\n\r\nI have no choice in the matter -- I have to talk to another device that uses a poorly designed protocol where the port of the device it responds to (e g, this device) must be this number. However, trying a few other port numbers, I get the same error.\r\n\r\nI have previously written a C++ program running on a Windows laptop that works fine, so I&#39;m moderately confident that the problem is in the Java code / runtime / Android / Emulator setup, rather than the underlying protocol or network.\r\n\r\nSo, why am I getting an &quot;already bound&quot; exception? Nothing else has bound here. This is the first launch after boot, so it can&#39;t be a previous iteration of my program, either.\r\n\r\nFWIW, the claims I make in the manifest are:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n\r\nCan emulated devices not bind to specified UDP ports, or is there some other gotcha I&#39;m missing?\r\nI also tried this on my Pixel 7 Pro over WiFi debugging, and got the same error.","title":"Android Java UDP Socket: Already Bound (but not!)","body":"<p>I am writing a Java program for Android phones, using UDP sockets including UDP broadcasting.\nI'm using the current Android Studio (Flamingo) and SDK (33), and the default Pixel 3 Emulated device running Android 13, all of this installed and running on a MacBook Pro M2.</p>\n<p>In the startup of my activity, I run this code:</p>\n<pre><code>        discoverSocket = new DatagramSocket();\n        discoverSocket.setBroadcast(true);\n        discoverSocket.setReuseAddress(true);\n        discoverSocket.setSoTimeout(100);\n        discoverSocket.bind(new InetSocketAddress(&quot;0.0.0.0&quot;, DISCOVER_LOCAL_PORT));\n</code></pre>\n<p>DISCOVER_LOCAL_PORT is 7001.</p>\n<p>When it runs this code, it throws the exception &quot;java.net.SocketException: Already Bound&quot;\nBut nothing else is running on this device/emulator -- in fact, I just cold booted it.</p>\n<p>I have no choice in the matter -- I have to talk to another device that uses a poorly designed protocol where the port of the device it responds to (e g, this device) must be this number. However, trying a few other port numbers, I get the same error.</p>\n<p>I have previously written a C++ program running on a Windows laptop that works fine, so I'm moderately confident that the problem is in the Java code / runtime / Android / Emulator setup, rather than the underlying protocol or network.</p>\n<p>So, why am I getting an &quot;already bound&quot; exception? Nothing else has bound here. This is the first launch after boot, so it can't be a previous iteration of my program, either.</p>\n<p>FWIW, the claims I make in the manifest are:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\n</code></pre>\n<p>Can emulated devices not bind to specified UDP ports, or is there some other gotcha I'm missing?\nI also tried this on my Pixel 7 Pro over WiFi debugging, and got the same error.</p>\n"},{"tags":["java","crystal-reports"],"owner":{"account_id":15458900,"reputation":11,"user_id":11152068,"display_name":"Viraj Kulathunga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696261709,"creation_date":1696227283,"question_id":77213522,"body_markdown":"I am getting below error when retriving report via crystal report. But this issue occuring time to time. I get below error on first trial, but it succeeds on second trial.\r\n\r\n```\r\njava.lang.RuntimeException: No Area with specified name was found\r\n\tat com.inet.report.Engine.getArea(Unknown Source)\r\n\tat aero.champ.reporting.utils.ImageDimensionUtil.setImageDim(ImageDimensionUtil.java:23)\r\n\tat aero.champ.reporting.utils.ImageDimensionUti\r\n```","title":"Crystal report error - No Area with specified name was found","body":"<p>I am getting below error when retriving report via crystal report. But this issue occuring time to time. I get below error on first trial, but it succeeds on second trial.</p>\n<pre><code>java.lang.RuntimeException: No Area with specified name was found\n    at com.inet.report.Engine.getArea(Unknown Source)\n    at aero.champ.reporting.utils.ImageDimensionUtil.setImageDim(ImageDimensionUtil.java:23)\n    at aero.champ.reporting.utils.ImageDimensionUti\n</code></pre>\n"},{"tags":["java","jms"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1582390731,"creation_date":1582344817,"answer_id":60348968,"question_id":60348330,"body_markdown":"Your expectation is based on a fundamental misunderstanding of JMS.\r\n\r\nOne of the basic tenets of brokered messaging is that producers and consumers are logically disconnected from each other. In other words...A producer sends a message to a broker and it doesn&#39;t necessarily care if it is consumed successfully or not, and it certainly won&#39;t know *who* consumes it or have any guarantee when it will be consumed. Likewise, a consumer doesn&#39;t necessarily know when or why the message was sent or who sent it. This provides great flexibility between producers and consumers. JMS adheres to this tenet of disconnected producers and consumers. \r\n\r\nThere is no *direct* way for a consumer to inform a producer about a problem with the consumption of the message it sent. That said, you *can* employ what&#39;s called a &quot;request/response pattern&quot; so that the consumer can provide some kind of feedback to the producer. You can find an explanation of this pattern along with example code [here][1].\r\n\r\nAlso, the `AsyncCallback` class you&#39;re using is not part of JMS. I believe it&#39;s [`org.apache.activemq.AsyncCallback`][2] provided exclusively by ActiveMQ itself and it only provides callbacks for success or failure for the actual *send* operation (i.e. not for the consumption of the message).\r\n\r\nLastly, you should know that throwing a `RuntimeException` from the `onMessage` method of a `javax.jms.MessageListener` is considered a &quot;programming error&quot; by the JMS specification and should be avoided. Section 8.7 of the JMS 2 specification states:\r\n\r\n&gt; It is possible for a listener to throw a `RuntimeException`; however, this is considered a client programming error. Well behaved listeners should catch such exceptions and attempt to divert messages causing them to some form of application-specific &#39;unprocessable message&#39; destination.\r\nThe result of a listener throwing a `RuntimeException` depends on the session&#39;s acknowledgment mode.\r\n&gt; \r\n&gt;  - `AUTO_ACKNOWLEDGE` or `DUPS_OK_ACKNOWLEDGE` - the message will be immediately redelivered. The number of times a JMS provider will redeliver the same message before giving up is provider-dependent. The JMSRedelivered message header field will be set, and the JMSXDeliveryCount message property incremented, for a message redelivered under these circumstances.\r\n&gt;\r\n&gt;  - `CLIENT_ACKNOWLEDGE` - the next message for the listener is delivered. If a client wishes to have the previous unacknowledged message redelivered, it must manually recover the session.\r\n&gt;\r\n&gt;  - Transacted Session - the next message for the listener is delivered. The client can either commit or roll back the session (in other words, a `RuntimeException` does not automatically rollback the session).\r\n\r\n\r\n  [1]: https://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReplyJmsExample.html\r\n  [2]: https://activemq.apache.org/maven/apidocs/org/apache/activemq/AsyncCallback.html","title":"Java JMS - Message Listener and onException","body":"<p>Your expectation is based on a fundamental misunderstanding of JMS.</p>\n\n<p>One of the basic tenets of brokered messaging is that producers and consumers are logically disconnected from each other. In other words...A producer sends a message to a broker and it doesn't necessarily care if it is consumed successfully or not, and it certainly won't know <em>who</em> consumes it or have any guarantee when it will be consumed. Likewise, a consumer doesn't necessarily know when or why the message was sent or who sent it. This provides great flexibility between producers and consumers. JMS adheres to this tenet of disconnected producers and consumers. </p>\n\n<p>There is no <em>direct</em> way for a consumer to inform a producer about a problem with the consumption of the message it sent. That said, you <em>can</em> employ what's called a \"request/response pattern\" so that the consumer can provide some kind of feedback to the producer. You can find an explanation of this pattern along with example code <a href=\"https://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReplyJmsExample.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Also, the <code>AsyncCallback</code> class you're using is not part of JMS. I believe it's <a href=\"https://activemq.apache.org/maven/apidocs/org/apache/activemq/AsyncCallback.html\" rel=\"nofollow noreferrer\"><code>org.apache.activemq.AsyncCallback</code></a> provided exclusively by ActiveMQ itself and it only provides callbacks for success or failure for the actual <em>send</em> operation (i.e. not for the consumption of the message).</p>\n\n<p>Lastly, you should know that throwing a <code>RuntimeException</code> from the <code>onMessage</code> method of a <code>javax.jms.MessageListener</code> is considered a \"programming error\" by the JMS specification and should be avoided. Section 8.7 of the JMS 2 specification states:</p>\n\n<blockquote>\n  <p>It is possible for a listener to throw a <code>RuntimeException</code>; however, this is considered a client programming error. Well behaved listeners should catch such exceptions and attempt to divert messages causing them to some form of application-specific 'unprocessable message' destination.\n  The result of a listener throwing a <code>RuntimeException</code> depends on the session's acknowledgment mode.</p>\n  \n  <ul>\n  <li><p><code>AUTO_ACKNOWLEDGE</code> or <code>DUPS_OK_ACKNOWLEDGE</code> - the message will be immediately redelivered. The number of times a JMS provider will redeliver the same message before giving up is provider-dependent. The JMSRedelivered message header field will be set, and the JMSXDeliveryCount message property incremented, for a message redelivered under these circumstances.</p></li>\n  <li><p><code>CLIENT_ACKNOWLEDGE</code> - the next message for the listener is delivered. If a client wishes to have the previous unacknowledged message redelivered, it must manually recover the session.</p></li>\n  <li><p>Transacted Session - the next message for the listener is delivered. The client can either commit or roll back the session (in other words, a <code>RuntimeException</code> does not automatically rollback the session).</p></li>\n  </ul>\n</blockquote>\n"}],"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60348968,"answer_count":1,"score":0,"last_activity_date":1696261417,"creation_date":1582336465,"question_id":60348330,"body_markdown":"I have an application with a main thread and a JMS thread which talk to each other through ActiveMQ 5.15.11. I am able to send messages just fine, however I would like a way to send back status or errors. I noticed that the `MessageListener` allows for `onSuccess()` and `onException(ex)` as two events to listen for, however I am finding that only `onSuccess()` is getting called. \r\n\r\nHere are snippets of my code.\r\n\r\n**JMS Thread:**\r\n\r\n```java\r\nConnectionFactory factory = super.getConnectionFactory();\r\nConnection connection = factory.createConnection();\r\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\nQueue queue = session.createQueue(super.getQueue());\r\nMessageConsumer consumer = session.createConsumer(queue);\r\nconsumer.setMessageListener(m -&gt; {\r\n   try {\r\n      super.processRmbnConfigMsg(m);\r\n   } catch (JMSException | IOException e) {\r\n      LOG.error(e.getMessage(), e);\r\n   \r\n      // I can only use RuntimeException. \r\n      // Also this exception is what I am expecting to get passed to the onException(..)\r\n      // call in the main thread.\r\n      throw new RuntimeException(e);\r\n   }\r\n});\r\nconnection.start();\r\n```\r\n\r\n**Main thread (sending messages to JMS):**\r\n```java\r\nsendMessage(xml, new AsyncCallback() {\r\n    @Override\r\n    public void onException(JMSException e) {\r\n        // I am expecting this to be that RuntimeException from the JMS thread.\r\n        LOG.error(&quot;Error&quot;, e);\r\n        doSomethingWithException(e);\r\n    }\r\n\r\n    @Override\r\n    public void onSuccess() {\r\n        LOG.info(&quot;Success&quot;);\r\n    }\r\n});\r\n```\r\nWhat I am expecting is that the exceptions thrown in the `new RuntimeException(e)` will get picked up on the `onException(JMSException e)` event listener, in some way, even if the `RuntimeException` is wrapped.\r\n\r\nInstead, I am always getting `onSuccess()` events. I suppose the `onException(..)` event happens during communication issues, but I would like a way to send back to the caller exceptions. \r\n\r\n**How do I accomplish that goal of collecting errors in the JMS thread and sending it back to my calling thread?**","title":"Java JMS - Message Listener and onException","body":"<p>I have an application with a main thread and a JMS thread which talk to each other through ActiveMQ 5.15.11. I am able to send messages just fine, however I would like a way to send back status or errors. I noticed that the <code>MessageListener</code> allows for <code>onSuccess()</code> and <code>onException(ex)</code> as two events to listen for, however I am finding that only <code>onSuccess()</code> is getting called. </p>\n\n<p>Here are snippets of my code.</p>\n\n<p><strong>JMS Thread:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ConnectionFactory factory = super.getConnectionFactory();\nConnection connection = factory.createConnection();\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nQueue queue = session.createQueue(super.getQueue());\nMessageConsumer consumer = session.createConsumer(queue);\nconsumer.setMessageListener(m -&gt; {\n   try {\n      super.processRmbnConfigMsg(m);\n   } catch (JMSException | IOException e) {\n      LOG.error(e.getMessage(), e);\n\n      // I can only use RuntimeException. \n      // Also this exception is what I am expecting to get passed to the onException(..)\n      // call in the main thread.\n      throw new RuntimeException(e);\n   }\n});\nconnection.start();\n</code></pre>\n\n<p><strong>Main thread (sending messages to JMS):</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>sendMessage(xml, new AsyncCallback() {\n    @Override\n    public void onException(JMSException e) {\n        // I am expecting this to be that RuntimeException from the JMS thread.\n        LOG.error(\"Error\", e);\n        doSomethingWithException(e);\n    }\n\n    @Override\n    public void onSuccess() {\n        LOG.info(\"Success\");\n    }\n});\n</code></pre>\n\n<p>What I am expecting is that the exceptions thrown in the <code>new RuntimeException(e)</code> will get picked up on the <code>onException(JMSException e)</code> event listener, in some way, even if the <code>RuntimeException</code> is wrapped.</p>\n\n<p>Instead, I am always getting <code>onSuccess()</code> events. I suppose the <code>onException(..)</code> event happens during communication issues, but I would like a way to send back to the caller exceptions. </p>\n\n<p><strong>How do I accomplish that goal of collecting errors in the JMS thread and sending it back to my calling thread?</strong></p>\n"},{"tags":["java","jquery","json","ajax","struts2"],"answers":[{"tags":[],"owner":{"account_id":4346013,"reputation":1904,"user_id":3547935,"display_name":"hari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403765986,"creation_date":1403765986,"answer_id":24424276,"question_id":24423234,"body_markdown":"sending my json objects it has not been written directly as data: EmployeejsonObjects. As it expects the JSON object passed to it written as key value pair. So we made employee the key. And since we have json objects stored in a variable, we need to expand the json objects list using stringify(), otherwise it would be sent as a java script object.\r\n\r\n\r\n\t$.getJSON(&#39;ajax/getPhoto.action&#39;, {employee: JSON.stringify(employee) } , function(data){\r\n        \tconsole.log(data);\r\n     \t}); \r\n\r\n\r\n     ","title":"How to bind JSON to a bean in Struts 2","body":"<p>sending my json objects it has not been written directly as data: EmployeejsonObjects. As it expects the JSON object passed to it written as key value pair. So we made employee the key. And since we have json objects stored in a variable, we need to expand the json objects list using stringify(), otherwise it would be sent as a java script object.</p>\n\n<pre><code>$.getJSON('ajax/getPhoto.action', {employee: JSON.stringify(employee) } , function(data){\n        console.log(data);\n    }); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617423530,"creation_date":1403770295,"answer_id":24425512,"question_id":24423234,"body_markdown":"Your `Employee` bean can&#39;t be `null` if it&#39;s instantiated and initialized the action bean. In this way the action bean should provide the getter for the `Employee` and a setter for `id` property. \r\n\r\nMake sure the [`params` interceptor][1] in included in the action config and your action class is not `ModelDriven`. \r\n\r\njQuery converts a JavaScript object like\r\n\r\n&gt; Data that is sent to the server is appended to the URL as a query string. If the value of the data parameter is a **plain object**, it is converted to a string and url-encoded before it is appended to the URL.\r\n\r\n\r\n----------\r\n\r\n\r\nThen you should check which parameters are passed to the action. You can do this if your action class implements `ParameterAware` or get parameters from the `ActionContext` like\r\n\r\n    Map parameters = ActionContext.getContext().getParameters();\r\n\r\n\r\n----------\r\n\r\n\r\nHere&#39; you can populate parameters yourself instead of `params` interceptor as you have access to them or to configure the interceptor *correctly*, so it&#39;s able to do a job. Use `devMode` turned on when you debug the issue because it prints which parameter it&#39;s not able to set. \r\n\r\n  [1]:  https://struts.apache.org/core-developers/parameters-interceptor.html","title":"How to bind JSON to a bean in Struts 2","body":"<p>Your <code>Employee</code> bean can't be <code>null</code> if it's instantiated and initialized the action bean. In this way the action bean should provide the getter for the <code>Employee</code> and a setter for <code>id</code> property.</p>\n<p>Make sure the <a href=\"https://struts.apache.org/core-developers/parameters-interceptor.html\" rel=\"nofollow noreferrer\"><code>params</code> interceptor</a> in included in the action config and your action class is not <code>ModelDriven</code>.</p>\n<p>jQuery converts a JavaScript object like</p>\n<blockquote>\n<p>Data that is sent to the server is appended to the URL as a query string. If the value of the data parameter is a <strong>plain object</strong>, it is converted to a string and url-encoded before it is appended to the URL.</p>\n</blockquote>\n<hr />\n<p>Then you should check which parameters are passed to the action. You can do this if your action class implements <code>ParameterAware</code> or get parameters from the <code>ActionContext</code> like</p>\n<pre><code>Map parameters = ActionContext.getContext().getParameters();\n</code></pre>\n<hr />\n<p>Here' you can populate parameters yourself instead of <code>params</code> interceptor as you have access to them or to configure the interceptor <em>correctly</em>, so it's able to do a job. Use <code>devMode</code> turned on when you debug the issue because it prints which parameter it's not able to set.</p>\n"}],"owner":{"account_id":4025631,"reputation":440,"user_id":3648678,"accept_rate":56,"display_name":"gyosida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696261152,"creation_date":1403761714,"question_id":24423234,"body_markdown":"Well, I want to make an Ajax call to an Struts 2 action, so I want to send a JSON with the specific `id` of an `Employee` bean from the client to the server. \r\n\r\nThe question is how it should be structured in order to set the `id` to the bean in the action.\r\n\r\nI think that it should be something like:\r\n\r\n&lt;!-- language-all: lang-js --&gt;\r\n\r\n    var employee = {Employee:{id:&quot;someId&quot;}}\r\n\r\nis it ok? \r\n\r\nthis is the jQuery function that i&#39;m using for\r\n\r\n     $(&#39;#select&#39;).change(function(){\r\n\t\t var id = $(this).val();\r\n\t\t var employee = {employee:{id:&quot;someid&quot;}};\r\n\t\t \r\n\t\t $.getJSON(&#39;ajax/getPhoto.action&#39;, employee , function(data){\r\n\t\t\tconsole.log(data);\r\n\t\t });\t\t \r\n\t\t\r\n\t });\r\n\r\nactually, after a debug I could see that the `Employee` bean is null in the `Action` at the moment of the call to the service.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to bind JSON to a bean in Struts 2","body":"<p>Well, I want to make an Ajax call to an Struts 2 action, so I want to send a JSON with the specific <code>id</code> of an <code>Employee</code> bean from the client to the server.</p>\n<p>The question is how it should be structured in order to set the <code>id</code> to the bean in the action.</p>\n<p>I think that it should be something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var employee = {Employee:{id:&quot;someId&quot;}}\n</code></pre>\n<p>is it ok?</p>\n<p>this is the jQuery function that i'm using for</p>\n<pre class=\"lang-js prettyprint-override\"><code> $('#select').change(function(){\n     var id = $(this).val();\n     var employee = {employee:{id:&quot;someid&quot;}};\n     \n     $.getJSON('ajax/getPhoto.action', employee , function(data){\n        console.log(data);\n     });         \n    \n });\n</code></pre>\n<p>actually, after a debug I could see that the <code>Employee</code> bean is null in the <code>Action</code> at the moment of the call to the service.</p>\n"},{"tags":["java","google-app-engine","utf-8","internationalization","resourcebundle"],"comments":[{"owner":{"account_id":268386,"reputation":6188,"user_id":557117,"accept_rate":92,"display_name":"Will"},"score":1,"creation_date":1391463926,"post_id":4659929,"comment_id":32524825,"body_markdown":"Java 1.6 Fixed this as you can pass in a Reader.  See the @Chinaxing answer way down below","body":"Java 1.6 Fixed this as you can pass in a Reader.  See the @Chinaxing answer way down below"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1410416271,"post_id":4659929,"comment_id":40319265,"body_markdown":"@Will: question is primarily about reading them via `java.util.ResourceBundle`, not `java.util.Properties`.","body":"@Will: question is primarily about reading them via <code>java.util.ResourceBundle</code>, not <code>java.util.Properties</code>."},{"owner":{"account_id":5366746,"reputation":1,"user_id":4276470,"display_name":"Majdy the programmer Bboy"},"score":1,"creation_date":1427775530,"post_id":4659929,"comment_id":46904940,"body_markdown":"Check this answered question,,, hope it helps you\r\n\r\n[http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse","body":"Check this answered question,,, hope it helps you    [<a href=\"http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse][1]\" title=\"problem with java properties utf8 encoding in eclipse%5d%5b1%5d\">stackoverflow.com/questions/863838/&hellip;</a>        [1]: <a href=\"http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse\" title=\"problem with java properties utf8 encoding in eclipse\">stackoverflow.com/questions/863838/&hellip;</a>"},{"owner":{"account_id":126748,"reputation":5288,"user_id":323447,"accept_rate":92,"display_name":"Paolo Fulgoni"},"score":8,"creation_date":1431096109,"post_id":4659929,"comment_id":48362689,"body_markdown":"JDK9 should support UTF-8 natively, see [JEP 226](http://openjdk.java.net/jeps/226)","body":"JDK9 should support UTF-8 natively, see <a href=\"http://openjdk.java.net/jeps/226\" rel=\"nofollow noreferrer\">JEP 226</a>"}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1643460685,"creation_date":1294763939,"answer_id":4660058,"question_id":4659929,"body_markdown":"Attention: In **Java &lt;= 8** java property files should be encoded in ISO 8859-1!\r\n\r\n&gt; ISO 8859-1 character encoding.\r\n&gt; Characters that cannot be directly\r\n&gt; represented in this encoding can be\r\n&gt; written using Unicode escapes  ; only\r\n&gt; a single &#39;u&#39; character is allowed in\r\n&gt; an escape sequence.\r\n\r\n@see Properties Java Doc\r\n\r\nIf you still really want to do this: have a look at:\r\nhttps://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse -- there are some code samples\r\n\r\n---\r\n**Since Java 9:** property files are encoded in UTF-8, so there should be no problem/doubt\r\n&gt; In Java SE 9, properties files are loaded in UTF-8 encoding. In previous releases, ISO-8859-1 encoding was used for loading property resource bundles.\r\n\r\n(https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA)","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Attention: In <strong>Java &lt;= 8</strong> java property files should be encoded in ISO 8859-1!</p>\n<blockquote>\n<p>ISO 8859-1 character encoding.\nCharacters that cannot be directly\nrepresented in this encoding can be\nwritten using Unicode escapes  ; only\na single 'u' character is allowed in\nan escape sequence.</p>\n</blockquote>\n<p>@see Properties Java Doc</p>\n<p>If you still really want to do this: have a look at:\n<a href=\"https://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse\">Java properties UTF-8 encoding in Eclipse</a> -- there are some code samples</p>\n<hr />\n<p><strong>Since Java 9:</strong> property files are encoded in UTF-8, so there should be no problem/doubt</p>\n<blockquote>\n<p>In Java SE 9, properties files are loaded in UTF-8 encoding. In previous releases, ISO-8859-1 encoding was used for loading property resource bundles.</p>\n</blockquote>\n<p>(<a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA</a>)</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":424,"is_accepted":false,"score":424,"last_activity_date":1696261107,"creation_date":1294764819,"answer_id":4660195,"question_id":4659929,"body_markdown":"# Java 9 and newer\r\n\r\n[From Java 9 onwards](https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm) property files are encoded as UTF-8 by default, and using characters outside of ISO-8859-1 should work out of the box.\r\n\r\nIn case you&#39;re using an IDE to edit them, then you need to take into account that it&#39;s currently (Oct 2023) only possible in IntelliJ to reinstruct the IDE to read them using UTF-8.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEclipse still stubbornly attempts to read them using ISO-8859-1, resulting in Mojibake being displayed in its properties file editor. You&#39;d need to fall back using a generic text editor for `*.properties` files or to edit the files outside the IDE.\r\n\r\n\r\n# Java 8 and older\r\n\r\nThe [`ResourceBundle#getBundle()`][2] uses under the covers [`PropertyResourceBundle`][3] when a `.properties` file is specified. This in turn uses by default [`Properties#load(InputStream)`][4] to load those properties files. As per [the javadoc][4], they are by default read as ISO-8859-1. \r\n\r\n&gt; `public void load(InputStream inStream) throws IOException`\r\n\r\n&gt; Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) **and is assumed to use the ISO 8859-1 character encoding**; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java™ Language Specification.\r\n\r\nSo, you&#39;d need to save them as ISO-8859-1. If you have any characters beyond ISO-8859-1 range and you can&#39;t use `\\uXXXX` off top of head and you&#39;re thus forced to save the file as UTF-8, then you&#39;d need to use the [*native2ascii*][5] tool to convert an UTF-8 saved properties file to an ISO-8859-1 saved properties file wherein all uncovered characters are converted into `\\uXXXX` format. The below example converts a UTF-8 encoded properties file `text_utf8.properties` to a valid ISO-8859-1 encoded properties file `text.properties`.\r\n\r\n&lt;pre&gt;native2ascii -encoding UTF-8 text_utf8.properties text.properties&lt;/pre&gt;\r\n\r\nWhen using an IDE such as Eclipse or IntelliJ, this is already automatically done when you create a `.properties` file in a Java based project and use IDE&#39;s own properties file editor. It will transparently convert the characters beyond ISO-8859-1 range to `\\uXXXX` format. See also below screenshots from Eclipse (note the &quot;Properties&quot; and &quot;Source&quot; tabs on bottom, click for large):\r\n\r\n[![&quot;Properties&quot; tab][6]][7] [![&quot;Source&quot; tab][8]][9]\r\n\r\nAlternatively, you could also create a custom [`ResourceBundle.Control`][10] implementation wherein you explicitly read the properties files as UTF-8 using [`InputStreamReader`][11], so that you can just save them as UTF-8 without the need to hassle with `native2ascii`. Here&#39;s a kickoff example:\r\n\r\n    public class UTF8Control extends Control {\r\n        public ResourceBundle newBundle\r\n            (String baseName, Locale locale, String format, ClassLoader loader, boolean reload)\r\n                throws IllegalAccessException, InstantiationException, IOException\r\n        {\r\n            // The below is a copy of the default implementation.\r\n            String bundleName = toBundleName(baseName, locale);\r\n            String resourceName = toResourceName(bundleName, &quot;properties&quot;);\r\n            ResourceBundle bundle = null;\r\n            InputStream stream = null;\r\n            if (reload) {\r\n                URL url = loader.getResource(resourceName);\r\n                if (url != null) {\r\n                    URLConnection connection = url.openConnection();\r\n                    if (connection != null) {\r\n                        connection.setUseCaches(false);\r\n                        stream = connection.getInputStream();\r\n                    }\r\n                }\r\n            } else {\r\n                stream = loader.getResourceAsStream(resourceName);\r\n            }\r\n            if (stream != null) {\r\n                try {\r\n                    // Only this line is changed to make it to read properties files as UTF-8.\r\n                    bundle = new PropertyResourceBundle(new InputStreamReader(stream, &quot;UTF-8&quot;));\r\n                } finally {\r\n                    stream.close();\r\n                }\r\n            }\r\n            return bundle;\r\n        }\r\n    }\r\n\r\nThis can be used as follows:\r\n\r\n    ResourceBundle bundle = ResourceBundle.getBundle(&quot;com.example.i18n.text&quot;, new UTF8Control());\r\n\r\n### See also:\r\n\r\n- [Unicode - How to get the characters right?][12]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2bnjS.png\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/PropertyResourceBundle.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\r\n  [5]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/native2ascii.html\r\n  [6]: http://i.stack.imgur.com/iQWWGm.png\r\n  [7]: http://i.stack.imgur.com/iQWWG.png\r\n  [8]: http://i.stack.imgur.com/kjOCbm.png\r\n  [9]: http://i.stack.imgur.com/kjOCb.png\r\n  [10]: http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\r\n  [11]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStreamReader.html#InputStreamReader(java.io.InputStream,%20java.lang.String)\r\n  [12]: http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<h1>Java 9 and newer</h1>\n<p><a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm\" rel=\"noreferrer\">From Java 9 onwards</a> property files are encoded as UTF-8 by default, and using characters outside of ISO-8859-1 should work out of the box.</p>\n<p>In case you're using an IDE to edit them, then you need to take into account that it's currently (Oct 2023) only possible in IntelliJ to reinstruct the IDE to read them using UTF-8.</p>\n<p><a href=\"https://i.stack.imgur.com/2bnjS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2bnjS.png\" alt=\"enter image description here\" /></a></p>\n<p>Eclipse still stubbornly attempts to read them using ISO-8859-1, resulting in Mojibake being displayed in its properties file editor. You'd need to fall back using a generic text editor for <code>*.properties</code> files or to edit the files outside the IDE.</p>\n<h1>Java 8 and older</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html\" rel=\"noreferrer\"><code>ResourceBundle#getBundle()</code></a> uses under the covers <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/PropertyResourceBundle.html\" rel=\"noreferrer\"><code>PropertyResourceBundle</code></a> when a <code>.properties</code> file is specified. This in turn uses by default <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\" rel=\"noreferrer\"><code>Properties#load(InputStream)</code></a> to load those properties files. As per <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\" rel=\"noreferrer\">the javadoc</a>, they are by default read as ISO-8859-1.</p>\n<blockquote>\n<p><code>public void load(InputStream inStream) throws IOException</code></p>\n</blockquote>\n<blockquote>\n<p>Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) <strong>and is assumed to use the ISO 8859-1 character encoding</strong>; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java™ Language Specification.</p>\n</blockquote>\n<p>So, you'd need to save them as ISO-8859-1. If you have any characters beyond ISO-8859-1 range and you can't use <code>\\uXXXX</code> off top of head and you're thus forced to save the file as UTF-8, then you'd need to use the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/native2ascii.html\" rel=\"noreferrer\"><em>native2ascii</em></a> tool to convert an UTF-8 saved properties file to an ISO-8859-1 saved properties file wherein all uncovered characters are converted into <code>\\uXXXX</code> format. The below example converts a UTF-8 encoded properties file <code>text_utf8.properties</code> to a valid ISO-8859-1 encoded properties file <code>text.properties</code>.</p>\n<pre>native2ascii -encoding UTF-8 text_utf8.properties text.properties</pre>\n<p>When using an IDE such as Eclipse or IntelliJ, this is already automatically done when you create a <code>.properties</code> file in a Java based project and use IDE's own properties file editor. It will transparently convert the characters beyond ISO-8859-1 range to <code>\\uXXXX</code> format. See also below screenshots from Eclipse (note the &quot;Properties&quot; and &quot;Source&quot; tabs on bottom, click for large):</p>\n<p><a href=\"https://i.stack.imgur.com/iQWWG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iQWWGm.png\" alt=\"&quot;Properties&quot; tab\" /></a> <a href=\"https://i.stack.imgur.com/kjOCb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kjOCbm.png\" alt=\"&quot;Source&quot; tab\" /></a></p>\n<p>Alternatively, you could also create a custom <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\" rel=\"noreferrer\"><code>ResourceBundle.Control</code></a> implementation wherein you explicitly read the properties files as UTF-8 using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStreamReader.html#InputStreamReader(java.io.InputStream,%20java.lang.String)\" rel=\"noreferrer\"><code>InputStreamReader</code></a>, so that you can just save them as UTF-8 without the need to hassle with <code>native2ascii</code>. Here's a kickoff example:</p>\n<pre><code>public class UTF8Control extends Control {\n    public ResourceBundle newBundle\n        (String baseName, Locale locale, String format, ClassLoader loader, boolean reload)\n            throws IllegalAccessException, InstantiationException, IOException\n    {\n        // The below is a copy of the default implementation.\n        String bundleName = toBundleName(baseName, locale);\n        String resourceName = toResourceName(bundleName, &quot;properties&quot;);\n        ResourceBundle bundle = null;\n        InputStream stream = null;\n        if (reload) {\n            URL url = loader.getResource(resourceName);\n            if (url != null) {\n                URLConnection connection = url.openConnection();\n                if (connection != null) {\n                    connection.setUseCaches(false);\n                    stream = connection.getInputStream();\n                }\n            }\n        } else {\n            stream = loader.getResourceAsStream(resourceName);\n        }\n        if (stream != null) {\n            try {\n                // Only this line is changed to make it to read properties files as UTF-8.\n                bundle = new PropertyResourceBundle(new InputStreamReader(stream, &quot;UTF-8&quot;));\n            } finally {\n                stream.close();\n            }\n        }\n        return bundle;\n    }\n}\n</code></pre>\n<p>This can be used as follows:</p>\n<pre><code>ResourceBundle bundle = ResourceBundle.getBundle(&quot;com.example.i18n.text&quot;, new UTF8Control());\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html\" rel=\"noreferrer\">Unicode - How to get the characters right?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":230303,"reputation":14381,"user_id":493823,"display_name":"fmucar"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1294765159,"creation_date":1294765159,"answer_id":4660258,"question_id":4659929,"body_markdown":"http://sourceforge.net/projects/eclipse-rbe/\r\n\r\nas already stated property files should be encoded in ISO 8859-1\r\n\r\nYou can use the above plugin for eclipse IDE to make the Unicode conversion for you.","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p><a href=\"http://sourceforge.net/projects/eclipse-rbe/\" rel=\"noreferrer\">http://sourceforge.net/projects/eclipse-rbe/</a></p>\n\n<p>as already stated property files should be encoded in ISO 8859-1</p>\n\n<p>You can use the above plugin for eclipse IDE to make the Unicode conversion for you.</p>\n"},{"tags":[],"owner":{"account_id":232687,"reputation":789,"user_id":497700,"display_name":"andykellr"},"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1294765578,"creation_date":1294765578,"answer_id":4660327,"question_id":4659929,"body_markdown":"We create a resources.utf8 file that contains the resources in UTF-8 and have a rule to run the following:\r\n\r\n    native2ascii -encoding utf8 resources.utf8 resources.properties","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>We create a resources.utf8 file that contains the resources in UTF-8 and have a rule to run the following:</p>\n\n<pre><code>native2ascii -encoding utf8 resources.utf8 resources.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1305624758,"creation_date":1305624758,"answer_id":6028900,"question_id":4659929,"body_markdown":"    package com.varaneckas.utils;  \r\n      \r\n    import java.io.UnsupportedEncodingException;  \r\n    import java.util.Enumeration;  \r\n    import java.util.PropertyResourceBundle;  \r\n    import java.util.ResourceBundle;  \r\n      \r\n    /** \r\n     * UTF-8 friendly ResourceBundle support \r\n     *  \r\n     * Utility that allows having multi-byte characters inside java .property files. \r\n     * It removes the need for Sun&#39;s native2ascii application, you can simply have \r\n     * UTF-8 encoded editable .property files. \r\n     *  \r\n     * Use:  \r\n     * ResourceBundle bundle = Utf8ResourceBundle.getBundle(&quot;bundle_name&quot;); \r\n     *  \r\n     * @author Tomas Varaneckas &lt;tomas.varaneckas@gmail.com&gt; \r\n     */  \r\n    public abstract class Utf8ResourceBundle {  \r\n          \r\n        /** \r\n         * Gets the unicode friendly resource bundle \r\n         *  \r\n         * @param baseName \r\n         * @see ResourceBundle#getBundle(String) \r\n         * @return Unicode friendly resource bundle \r\n         */  \r\n        public static final ResourceBundle getBundle(final String baseName) {  \r\n            return createUtf8PropertyResourceBundle(  \r\n                    ResourceBundle.getBundle(baseName));  \r\n        }  \r\n      \r\n        /** \r\n         * Creates unicode friendly {@link PropertyResourceBundle} if possible. \r\n         *  \r\n         * @param bundle  \r\n         * @return Unicode friendly property resource bundle \r\n         */  \r\n        private static ResourceBundle createUtf8PropertyResourceBundle(  \r\n                final ResourceBundle bundle) {  \r\n            if (!(bundle instanceof PropertyResourceBundle)) {  \r\n                return bundle;  \r\n            }  \r\n            return new Utf8PropertyResourceBundle((PropertyResourceBundle) bundle);  \r\n        }  \r\n      \r\n        /** \r\n         * Resource Bundle that does the hard work \r\n         */  \r\n        private static class Utf8PropertyResourceBundle extends ResourceBundle {  \r\n      \r\n            /** \r\n             * Bundle with unicode data \r\n             */  \r\n            private final PropertyResourceBundle bundle;  \r\n      \r\n            /** \r\n             * Initializing constructor \r\n             *  \r\n             * @param bundle \r\n             */  \r\n            private Utf8PropertyResourceBundle(final PropertyResourceBundle bundle) {  \r\n                this.bundle = bundle;  \r\n            }  \r\n      \r\n            @Override  \r\n            @SuppressWarnings(&quot;unchecked&quot;)  \r\n            public Enumeration getKeys() {  \r\n                return bundle.getKeys();  \r\n            }  \r\n      \r\n            @Override  \r\n            protected Object handleGetObject(final String key) {  \r\n                final String value = bundle.getString(key);  \r\n                if (value == null)  \r\n                    return null;  \r\n                try {  \r\n                    return new String(value.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);  \r\n                } catch (final UnsupportedEncodingException e) {  \r\n                    throw new RuntimeException(&quot;Encoding not supported&quot;, e);  \r\n                }  \r\n            }  \r\n        }  \r\n    }  ","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<pre><code>package com.varaneckas.utils;  \n\nimport java.io.UnsupportedEncodingException;  \nimport java.util.Enumeration;  \nimport java.util.PropertyResourceBundle;  \nimport java.util.ResourceBundle;  \n\n/** \n * UTF-8 friendly ResourceBundle support \n *  \n * Utility that allows having multi-byte characters inside java .property files. \n * It removes the need for Sun's native2ascii application, you can simply have \n * UTF-8 encoded editable .property files. \n *  \n * Use:  \n * ResourceBundle bundle = Utf8ResourceBundle.getBundle(\"bundle_name\"); \n *  \n * @author Tomas Varaneckas &lt;tomas.varaneckas@gmail.com&gt; \n */  \npublic abstract class Utf8ResourceBundle {  \n\n    /** \n     * Gets the unicode friendly resource bundle \n     *  \n     * @param baseName \n     * @see ResourceBundle#getBundle(String) \n     * @return Unicode friendly resource bundle \n     */  \n    public static final ResourceBundle getBundle(final String baseName) {  \n        return createUtf8PropertyResourceBundle(  \n                ResourceBundle.getBundle(baseName));  \n    }  \n\n    /** \n     * Creates unicode friendly {@link PropertyResourceBundle} if possible. \n     *  \n     * @param bundle  \n     * @return Unicode friendly property resource bundle \n     */  \n    private static ResourceBundle createUtf8PropertyResourceBundle(  \n            final ResourceBundle bundle) {  \n        if (!(bundle instanceof PropertyResourceBundle)) {  \n            return bundle;  \n        }  \n        return new Utf8PropertyResourceBundle((PropertyResourceBundle) bundle);  \n    }  \n\n    /** \n     * Resource Bundle that does the hard work \n     */  \n    private static class Utf8PropertyResourceBundle extends ResourceBundle {  \n\n        /** \n         * Bundle with unicode data \n         */  \n        private final PropertyResourceBundle bundle;  \n\n        /** \n         * Initializing constructor \n         *  \n         * @param bundle \n         */  \n        private Utf8PropertyResourceBundle(final PropertyResourceBundle bundle) {  \n            this.bundle = bundle;  \n        }  \n\n        @Override  \n        @SuppressWarnings(\"unchecked\")  \n        public Enumeration getKeys() {  \n            return bundle.getKeys();  \n        }  \n\n        @Override  \n        protected Object handleGetObject(final String key) {  \n            final String value = bundle.getString(key);  \n            if (value == null)  \n                return null;  \n            try {  \n                return new String(value.getBytes(\"ISO-8859-1\"), \"UTF-8\");  \n            } catch (final UnsupportedEncodingException e) {  \n                throw new RuntimeException(\"Encoding not supported\", e);  \n            }  \n        }  \n    }  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"down_vote_count":11,"up_vote_count":154,"is_accepted":false,"score":143,"last_activity_date":1368797345,"creation_date":1312888931,"answer_id":6995374,"question_id":4659929,"body_markdown":"Given that you have an instance of ResourceBundle and you can get String by:\r\n\r\n    String val = bundle.getString(key); \r\n\r\nI solved my Japanese display problem by:\r\n\r\n    return new String(val.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);\r\n","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Given that you have an instance of ResourceBundle and you can get String by:</p>\n\n<pre><code>String val = bundle.getString(key); \n</code></pre>\n\n<p>I solved my Japanese display problem by:</p>\n\n<pre><code>return new String(val.getBytes(\"ISO-8859-1\"), \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138917,"reputation":917,"user_id":344172,"display_name":"Kinjeiro"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1480426802,"creation_date":1332406367,"answer_id":9818962,"question_id":4659929,"body_markdown":"`ResourceBundle.Control` with UTF-8 and new String methods don&#39;t work, if the properties file uses cp1251 charset, for example. \r\n\r\nSo I recomended using a common method: **write in unicode** symbols. For this:\r\n\r\n**IDEA** -- has a special *&quot;[Transparent native-to-ASCII conversion][1]&quot;* option (Settings &gt; File Encoding).\r\n\r\n**Eclipse** -- has a plugin *&quot;[Properties Editor][2]&quot;*. It can work as separate application.\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/encoding.html\r\n  [2]: http://propedit.sourceforge.jp/index_en.html","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p><code>ResourceBundle.Control</code> with UTF-8 and new String methods don't work, if the properties file uses cp1251 charset, for example. </p>\n\n<p>So I recomended using a common method: <strong>write in unicode</strong> symbols. For this:</p>\n\n<p><strong>IDEA</strong> -- has a special <em>\"<a href=\"http://www.jetbrains.com/idea/webhelp/encoding.html\" rel=\"noreferrer\">Transparent native-to-ASCII conversion</a>\"</em> option (Settings > File Encoding).</p>\n\n<p><strong>Eclipse</strong> -- has a plugin <em>\"<a href=\"http://propedit.sourceforge.jp/index_en.html\" rel=\"noreferrer\">Properties Editor</a>\"</em>. It can work as separate application.</p>\n"},{"tags":[],"owner":{"account_id":1542062,"reputation":8274,"user_id":1436450,"accept_rate":63,"display_name":"Chinaxing"},"down_vote_count":3,"up_vote_count":60,"is_accepted":false,"score":57,"last_activity_date":1554390328,"creation_date":1374739332,"answer_id":17852323,"question_id":4659929,"body_markdown":"look at this : http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)\r\n\r\nthe properties accept an **Reader** object as arguments, which you can create from an InputStream.\r\n\r\nat the create time, you can specify the encoding of the Reader:\r\n\r\n    InputStreamReader isr = new InputStreamReader(stream, &quot;UTF-8&quot;);\r\n\r\nthen apply this Reader to the load method :\r\n\r\n    prop.load(isr);\r\n\r\nBTW: get the stream from **.properties** file :\r\n\r\n     InputStream stream = this.class.getClassLoader().getResourceAsStream(&quot;a.properties&quot;);\r\n\r\nBTW: get **resource bundle** from `InputStreamReader`:\r\n\r\n    ResourceBundle rb = new PropertyResourceBundle(isr);\r\n\r\n\r\nhope this can help you !","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>look at this : <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)</a></p>\n\n<p>the properties accept an <strong>Reader</strong> object as arguments, which you can create from an InputStream.</p>\n\n<p>at the create time, you can specify the encoding of the Reader:</p>\n\n<pre><code>InputStreamReader isr = new InputStreamReader(stream, \"UTF-8\");\n</code></pre>\n\n<p>then apply this Reader to the load method :</p>\n\n<pre><code>prop.load(isr);\n</code></pre>\n\n<p>BTW: get the stream from <strong>.properties</strong> file :</p>\n\n<pre><code> InputStream stream = this.class.getClassLoader().getResourceAsStream(\"a.properties\");\n</code></pre>\n\n<p>BTW: get <strong>resource bundle</strong> from <code>InputStreamReader</code>:</p>\n\n<pre><code>ResourceBundle rb = new PropertyResourceBundle(isr);\n</code></pre>\n\n<p>hope this can help you !</p>\n"},{"tags":[],"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1395329155,"creation_date":1395329155,"answer_id":22537607,"question_id":4659929,"body_markdown":"Here&#39;s a Java 7 solution that uses Guava&#39;s excellent support library and the try-with-resources construct. It reads and writes properties files using UTF-8 for the simplest overall experience.\r\n\r\nTo read a properties file as UTF-8:\r\n\r\n    File file =  new File(&quot;/path/to/example.properties&quot;);\r\n\r\n    // Create an empty set of properties\r\n    Properties properties = new Properties();\r\n\r\n    if (file.exists()) {\r\n\r\n      // Use a UTF-8 reader from Guava\r\n      try (Reader reader = Files.newReader(file, Charsets.UTF_8)) {\r\n        properties.load(reader);\r\n      } catch (IOException e) {\r\n        // Do something\r\n      }\r\n    }\r\n\r\nTo write a properties file as UTF-8:\r\n\r\n    File file =  new File(&quot;/path/to/example.properties&quot;);\r\n\r\n    // Use a UTF-8 writer from Guava\r\n    try (Writer writer = Files.newWriter(file, Charsets.UTF_8)) {\r\n      properties.store(writer, &quot;Your title here&quot;);\r\n      writer.flush();\r\n    } catch (IOException e) {\r\n      // Do something\r\n    }\r\n","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Here's a Java 7 solution that uses Guava's excellent support library and the try-with-resources construct. It reads and writes properties files using UTF-8 for the simplest overall experience.</p>\n\n<p>To read a properties file as UTF-8:</p>\n\n<pre><code>File file =  new File(\"/path/to/example.properties\");\n\n// Create an empty set of properties\nProperties properties = new Properties();\n\nif (file.exists()) {\n\n  // Use a UTF-8 reader from Guava\n  try (Reader reader = Files.newReader(file, Charsets.UTF_8)) {\n    properties.load(reader);\n  } catch (IOException e) {\n    // Do something\n  }\n}\n</code></pre>\n\n<p>To write a properties file as UTF-8:</p>\n\n<pre><code>File file =  new File(\"/path/to/example.properties\");\n\n// Use a UTF-8 writer from Guava\ntry (Writer writer = Files.newWriter(file, Charsets.UTF_8)) {\n  properties.store(writer, \"Your title here\");\n  writer.flush();\n} catch (IOException e) {\n  // Do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":310601,"reputation":3703,"user_id":623678,"display_name":"Zack Bartel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1417487712,"creation_date":1417487712,"answer_id":27240945,"question_id":4659929,"body_markdown":"For what it&#39;s worth my issue was that the files themselves were in the wrong encoding. Using iconv worked for me\r\n\r\n    iconv -f ISO-8859-15 -t UTF-8  messages_nl.properties &gt; messages_nl.properties.new","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>For what it's worth my issue was that the files themselves were in the wrong encoding. Using iconv worked for me</p>\n\n<pre><code>iconv -f ISO-8859-15 -t UTF-8  messages_nl.properties &gt; messages_nl.properties.new\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5963407,"reputation":63,"user_id":4687840,"accept_rate":17,"display_name":"Masoud"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443635283,"creation_date":1443635283,"answer_id":32872605,"question_id":4659929,"body_markdown":"As one suggested, i went through implementation of resource bundle.. but that did not help.. as the bundle was always called under en_US locale... i tried to set my default locale to a different language and still my implementation of resource bundle control was being called with en_US... i tried to put log messages and do a step through debug and see if a different local call was being made after i change locale at run time through xhtml and JSF calls... that did not happend... then i tried to do a system set default to a utf8 for reading files by my server (tomcat server).. but that caused pronlem as all my class libraries were not compiled under utf8 and tomcat started to read then in utf8 format and server was not running properly...  then i ended up with implementing a method in my java controller to be called from xhtml files.. in that method i did the following:\r\n\r\n            public String message(String key, boolean toUTF8) throws Throwable{\r\n                String result = &quot;&quot;;\r\n                try{\r\n                    FacesContext context = FacesContext.getCurrentInstance();\r\n                    String message = context.getApplication().getResourceBundle(context, &quot;messages&quot;).getString(key);\r\n\r\n                    result = message==null ? &quot;&quot; : toUTF8 ? new String(message.getBytes(&quot;iso8859-1&quot;), &quot;utf-8&quot;) : message;\r\n                }catch(Throwable t){}\r\n                return result;\r\n            }\r\n\r\nI was particularly nervous as this could slow down performance of my application... however, after implementing this, it looks like as if my application is faster now.. i think it is because, i am now directly accessing the properties instead of letting JSF parse its way into accessing properties... i specifically pass Boolean argument in this call because i know some of the properties would not be translated and do not need to be in utf8 format...\r\n\r\nNow I have saved my properties file in UTF8 format and it is working fine as each user in my application has a referent locale preference.\r\n","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>As one suggested, i went through implementation of resource bundle.. but that did not help.. as the bundle was always called under en_US locale... i tried to set my default locale to a different language and still my implementation of resource bundle control was being called with en_US... i tried to put log messages and do a step through debug and see if a different local call was being made after i change locale at run time through xhtml and JSF calls... that did not happend... then i tried to do a system set default to a utf8 for reading files by my server (tomcat server).. but that caused pronlem as all my class libraries were not compiled under utf8 and tomcat started to read then in utf8 format and server was not running properly...  then i ended up with implementing a method in my java controller to be called from xhtml files.. in that method i did the following:</p>\n\n<pre><code>        public String message(String key, boolean toUTF8) throws Throwable{\n            String result = \"\";\n            try{\n                FacesContext context = FacesContext.getCurrentInstance();\n                String message = context.getApplication().getResourceBundle(context, \"messages\").getString(key);\n\n                result = message==null ? \"\" : toUTF8 ? new String(message.getBytes(\"iso8859-1\"), \"utf-8\") : message;\n            }catch(Throwable t){}\n            return result;\n        }\n</code></pre>\n\n<p>I was particularly nervous as this could slow down performance of my application... however, after implementing this, it looks like as if my application is faster now.. i think it is because, i am now directly accessing the properties instead of letting JSF parse its way into accessing properties... i specifically pass Boolean argument in this call because i know some of the properties would not be translated and do not need to be in utf8 format...</p>\n\n<p>Now I have saved my properties file in UTF8 format and it is working fine as each user in my application has a referent locale preference.</p>\n"},{"tags":[],"owner":{"account_id":2147155,"reputation":4499,"user_id":2316433,"accept_rate":93,"display_name":"carlossierra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462405424,"creation_date":1462404927,"answer_id":37039868,"question_id":4659929,"body_markdown":"I tried to use the approach provided by Rod, but taking into consideration BalusC concern about not repeating the same work-around in all the application and came with this class:\r\n\r\n\timport java.io.UnsupportedEncodingException;\r\n\timport java.util.Locale;\r\n\timport java.util.ResourceBundle;\r\n\t\r\n\tpublic class MyResourceBundle {\r\n\t\r\n\t\t// feature variables\r\n\t    private ResourceBundle bundle;\r\n\t    private String fileEncoding;\r\n\t    \r\n\t    public MyResourceBundle(Locale locale, String fileEncoding){\r\n\t        this.bundle = ResourceBundle.getBundle(&quot;com.app.Bundle&quot;, locale);\r\n\t        this.fileEncoding = fileEncoding;\r\n\t    }\r\n\t\r\n\t    public MyResourceBundle(Locale locale){\r\n\t        this(locale, &quot;UTF-8&quot;);\r\n\t    }\r\n\r\n\t    public String getString(String key){\r\n\t    \tString value = bundle.getString(key); \r\n\t    \ttry {\r\n\t\t\t\treturn new String(value.getBytes(&quot;ISO-8859-1&quot;), fileEncoding);\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t    }\r\n\t}\r\n\r\nThe way to use this would be very similar than the regular ResourceBundle usage:\r\n\r\n\tprivate\tMyResourceBundle labels = new MyResourceBundle(&quot;es&quot;, &quot;UTF-8&quot;);\r\n    String label = labels.getString(key)\r\n\r\nOr you can use the alternate constructor which uses UTF-8 by default:\r\n\r\n\tprivate\tMyResourceBundle labels = new MyResourceBundle(&quot;es&quot;);","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>I tried to use the approach provided by Rod, but taking into consideration BalusC concern about not repeating the same work-around in all the application and came with this class:</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.util.Locale;\nimport java.util.ResourceBundle;\n\npublic class MyResourceBundle {\n\n    // feature variables\n    private ResourceBundle bundle;\n    private String fileEncoding;\n\n    public MyResourceBundle(Locale locale, String fileEncoding){\n        this.bundle = ResourceBundle.getBundle(\"com.app.Bundle\", locale);\n        this.fileEncoding = fileEncoding;\n    }\n\n    public MyResourceBundle(Locale locale){\n        this(locale, \"UTF-8\");\n    }\n\n    public String getString(String key){\n        String value = bundle.getString(key); \n        try {\n            return new String(value.getBytes(\"ISO-8859-1\"), fileEncoding);\n        } catch (UnsupportedEncodingException e) {\n            return value;\n        }\n    }\n}\n</code></pre>\n\n<p>The way to use this would be very similar than the regular ResourceBundle usage:</p>\n\n<pre><code>private MyResourceBundle labels = new MyResourceBundle(\"es\", \"UTF-8\");\nString label = labels.getString(key)\n</code></pre>\n\n<p>Or you can use the alternate constructor which uses UTF-8 by default:</p>\n\n<pre><code>private MyResourceBundle labels = new MyResourceBundle(\"es\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9356519,"reputation":61,"user_id":6944375,"display_name":"Вассесуарий Пупочкин"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501492415,"creation_date":1501492415,"answer_id":45411786,"question_id":4659929,"body_markdown":"    Properties prop = new Properties();\r\n    String fileName = &quot;./src/test/resources/predefined.properties&quot;;\r\n    FileInputStream inputStream = new FileInputStream(fileName);\r\n    InputStreamReader reader = new InputStreamReader(inputStream,&quot;UTF-8&quot;);","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<pre><code>Properties prop = new Properties();\nString fileName = \"./src/test/resources/predefined.properties\";\nFileInputStream inputStream = new FileInputStream(fileName);\nInputStreamReader reader = new InputStreamReader(inputStream,\"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":594316,"reputation":3088,"user_id":1737590,"accept_rate":60,"display_name":"stenix"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1510565326,"creation_date":1508915096,"answer_id":46926020,"question_id":4659929,"body_markdown":"This problem has finally been fixed in Java 9:\r\n[https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9][1]\r\n\r\nDefault encoding for properties files is now UTF-8.\r\n\r\n&gt; Most existing properties files should not be affected: UTF-8 and\r\n&gt; ISO-8859-1 have the same encoding for ASCII characters, and\r\n&gt; human-readable non-ASCII ISO-8859-1 encoding is not valid UTF-8. If an\r\n&gt; invalid UTF-8 byte sequence is detected, the Java runtime\r\n&gt; automatically rereads the file in ISO-8859-1.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-5ED91AA9-B2E3-4E05-8E99-6A009D2B36AF","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>This problem has finally been fixed in Java 9:\n<a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-5ED91AA9-B2E3-4E05-8E99-6A009D2B36AF\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9</a></p>\n\n<p>Default encoding for properties files is now UTF-8.</p>\n\n<blockquote>\n  <p>Most existing properties files should not be affected: UTF-8 and\n  ISO-8859-1 have the same encoding for ASCII characters, and\n  human-readable non-ASCII ISO-8859-1 encoding is not valid UTF-8. If an\n  invalid UTF-8 byte sequence is detected, the Java runtime\n  automatically rereads the file in ISO-8859-1.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10134957,"reputation":79,"user_id":7486867,"display_name":"Юра Чорнота"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1523551622,"creation_date":1523540321,"answer_id":49798091,"question_id":4659929,"body_markdown":"Open the Settings / Preferences dialog (&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt;), then click Editor and File Encodings.\r\n\r\n![Screenshot of window shown][1]\r\n\r\n\r\nThen, on the bottom, you will fing default encodings for properties files. Choose your encoding type.\r\n\r\nAlternatively you can use unicode symbols instead of text in your resource bundle (for example `&quot;ів&quot;` equals `\\u0456\\u0432`)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NLXei.png","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Open the Settings / Preferences dialog (<kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd>), then click Editor and File Encodings.</p>\n\n<p><img src=\"https://i.stack.imgur.com/NLXei.png\" alt=\"Screenshot of window shown\"></p>\n\n<p>Then, on the bottom, you will fing default encodings for properties files. Choose your encoding type.</p>\n\n<p>Alternatively you can use unicode symbols instead of text in your resource bundle (for example <code>\"ів\"</code> equals <code>\\u0456\\u0432</code>)</p>\n"},{"tags":[],"owner":{"account_id":1247468,"reputation":2031,"user_id":1208622,"accept_rate":59,"display_name":"Fran Garc&#237;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591808250,"creation_date":1591808250,"answer_id":62309021,"question_id":4659929,"body_markdown":"From Java 9, the default to load properties file has been changed to UTF-8. https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>From Java 9, the default to load properties file has been changed to UTF-8. <a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm</a></p>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613472690,"creation_date":1613464703,"answer_id":66221046,"question_id":4659929,"body_markdown":"Speaking for current (2021-2) Java versions there is still the old ISO-8859-1 function [utils.Properties#load](https://github.com/openjdk/jdk/blob/aa9c136d67a32cebcdf031f50d8d5cccdd354bed/src/java.base/share/classes/java/util/Properties.java#L514). \r\n\r\n- **If you use [Properties.load](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)) you must use ISO-8859-1.** \r\n- **If you use [ResourceBundle](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html) than UTF-8 should be fine.**\r\n\r\nAllow me to quote from the official doc.\r\n\r\n**PropertyResourceBundle**\r\n\r\n&gt;PropertyResourceBundle can be constructed either from an InputStream or a Reader, which represents a property file. Constructing a PropertyResourceBundle instance from an InputStream requires that the input stream be encoded in UTF-8. By default, if a MalformedInputException or an UnmappableCharacterException occurs on reading the input stream, then the PropertyResourceBundle instance resets to the state before the exception, re-reads the input stream in ISO-8859-1, and continues reading. **If the system property java.util.PropertyResourceBundle.encoding is set to either &quot;ISO-8859-1&quot; or &quot;UTF-8&quot;, the input stream is solely read in that encoding, and throws the exception if it encounters an invalid sequence**. If &quot;ISO-8859-1&quot; is specified, characters that cannot be represented in ISO-8859-1 encoding must be represented by Unicode Escapes as defined in section 3.3 of The Java™ Language Specification whereas the other constructor which takes a Reader does not have that limitation. Other encoding values are ignored for this system property. The system property is read and evaluated when initializing this class. Changing or removing the property has no effect after the initialization.\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html\r\n\r\n**Properties#load**\r\n&gt; Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) and is assumed to use the ISO 8859-1 character encoding; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java™ Language Specification.\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Speaking for current (2021-2) Java versions there is still the old ISO-8859-1 function <a href=\"https://github.com/openjdk/jdk/blob/aa9c136d67a32cebcdf031f50d8d5cccdd354bed/src/java.base/share/classes/java/util/Properties.java#L514\" rel=\"nofollow noreferrer\">utils.Properties#load</a>.</p>\n<ul>\n<li><strong>If you use <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\">Properties.load</a> you must use ISO-8859-1.</strong></li>\n<li><strong>If you use <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html\" rel=\"nofollow noreferrer\">ResourceBundle</a> than UTF-8 should be fine.</strong></li>\n</ul>\n<p>Allow me to quote from the official doc.</p>\n<p><strong>PropertyResourceBundle</strong></p>\n<blockquote>\n<p>PropertyResourceBundle can be constructed either from an InputStream or a Reader, which represents a property file. Constructing a PropertyResourceBundle instance from an InputStream requires that the input stream be encoded in UTF-8. By default, if a MalformedInputException or an UnmappableCharacterException occurs on reading the input stream, then the PropertyResourceBundle instance resets to the state before the exception, re-reads the input stream in ISO-8859-1, and continues reading. <strong>If the system property java.util.PropertyResourceBundle.encoding is set to either &quot;ISO-8859-1&quot; or &quot;UTF-8&quot;, the input stream is solely read in that encoding, and throws the exception if it encounters an invalid sequence</strong>. If &quot;ISO-8859-1&quot; is specified, characters that cannot be represented in ISO-8859-1 encoding must be represented by Unicode Escapes as defined in section 3.3 of The Java™ Language Specification whereas the other constructor which takes a Reader does not have that limitation. Other encoding values are ignored for this system property. The system property is read and evaluated when initializing this class. Changing or removing the property has no effect after the initialization.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html</a></p>\n<p><strong>Properties#load</strong></p>\n<blockquote>\n<p>Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) and is assumed to use the ISO 8859-1 character encoding; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java™ Language Specification.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)</a></p>\n"}],"owner":{"account_id":693573,"reputation":2981,"user_id":571538,"display_name":"nacho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280537,"favorite_count":0,"down_vote_count":0,"up_vote_count":298,"answer_count":17,"score":298,"last_activity_date":1696261107,"creation_date":1294763278,"question_id":4659929,"body_markdown":"I need to use UTF-8 in my resource properties using Java&#39;s `ResourceBundle`. When I enter the text directly into the properties file, it displays as mojibake.\r\n\r\nMy app runs on Google App Engine.\r\n\r\nCan anyone give me an example? I can&#39;t get this work.","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>I need to use UTF-8 in my resource properties using Java's <code>ResourceBundle</code>. When I enter the text directly into the properties file, it displays as mojibake.</p>\n\n<p>My app runs on Google App Engine.</p>\n\n<p>Can anyone give me an example? I can't get this work.</p>\n"},{"tags":["java","javascript","ajax","jsp","struts2"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617335798,"creation_date":1389083062,"answer_id":20966968,"question_id":20965826,"body_markdown":"\r\n\r\n&gt; Why is it giving an error in Firebug?\r\n\r\nBecause you have a trailing comma at the statement below\r\n\r\n    minDurationOc: $(&quot;[name=&#39;minDurationOc&#39;]&quot;).val(),","title":"Access POJO properties using ModelDriven in Struts 2?","body":"<blockquote>\n<p>Why is it giving an error in Firebug?</p>\n</blockquote>\n<p>Because you have a trailing comma at the statement below</p>\n<pre><code>minDurationOc: $(&quot;[name='minDurationOc']&quot;).val(),\n</code></pre>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696260999,"creation_date":1389078324,"question_id":20965826,"body_markdown":"I am using `ModelDriven` in Struts 2 such that my model object has inside itself another object with properties. I am doing an AJAX call and want my model object to be filled by the `User`.\r\n\r\n**JSP:**\r\n\r\n    &lt;s:select list=&quot;#session.circleIdNameMap&quot;\r\n      headerKey=&quot;-1&quot; headerValue=&quot;Select Circle&quot;\r\n      name=&quot;id.circleId&quot; id=&quot;selectCircleDropDown&quot;\r\n      onchange=&quot;findTspNameIdMap(this.value)&quot;&gt;\r\n    &lt;/s:select&gt;\r\n\r\n**JS:**\r\n   \r\n\r\n     $.ajax({\t\r\n\t\ttype: &#39;POST&#39;,\r\n\t\turl: &#39;/gma/findTspNameIdMap.action&#39;,\r\n\t\tdata: \r\n\t\t{ \r\n\t\t\tid.circleId: circleId,\r\n\t\t    minNumberOc: $(&quot;[name=&#39;minNumberOc&#39;]&quot;).val(),\r\n\t\t    minDurationOc: $(&quot;[name=&#39;minDurationOc&#39;]&quot;).val(),\r\n\t\t},\r\n\r\nHowever, here in firebug I get an error \r\n\r\n    SyntaxError: missing : after property id\r\n    id.circleId: circleId,\t\r\n but other direct propeties like `minNumberOc` work ok but not `id.anything`. I am posting my model object and the Action class.\r\n\r\n**GmaThresholdParameter:**\r\n\r\n    public class GmaThresholdParameter implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprivate GmaThresholdParameterPK id;\r\n       //getter/setters of id\r\n\r\n**GmaThresholdParameterPK:**\r\n\r\n    public class GmaThresholdParameterPK implements Serializable {\r\n \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Column(name=&quot;CIRCLE_ID&quot;)\r\n    \tprivate int circleId;\r\n    \r\n    \t@Column(name=&quot;TSP_ID&quot;)\r\n    \tprivate int tspId;\r\n    \r\n    \tprivate String flag;\r\n       //getter/setters\r\n\r\n**Action class:**\r\n\r\n    public class ConfigureTspThresholdAction extends ActionSupport implements SessionAware, ModelDriven&lt;GmaThresholdParameter&gt;{\r\n    \r\n    \tprivate Map&lt;String,String&gt; circleIdNameMap;\r\n    // MODEL object\r\n    \tGmaThresholdParameter gmaThresholdParameters = new GmaThresholdParameter();\r\n       .....\r\n       ...\r\n       public GmaThresholdParameter getGmaThresholdParameters() {\r\n\t\treturn gmaThresholdParameters;\r\n\t}\r\n\r\n\r\n\tpublic void setGmaThresholdParameters(\r\n\t\t\tGmaThresholdParameter gmaThresholdParameters) {\r\n\t\tthis.gmaThresholdParameters = gmaThresholdParameters;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic GmaThresholdParameter getModel() {\r\n\t\treturn gmaThresholdParameters;\r\n\t} \r\n\r\nHow to set properties corresponding to `id`? Why is it giving an error in Firebug?\r\n","title":"Access POJO properties using ModelDriven in Struts 2?","body":"<p>I am using <code>ModelDriven</code> in Struts 2 such that my model object has inside itself another object with properties. I am doing an AJAX call and want my model object to be filled by the <code>User</code>.</p>\n<p><strong>JSP:</strong></p>\n<pre><code>&lt;s:select list=&quot;#session.circleIdNameMap&quot;\n  headerKey=&quot;-1&quot; headerValue=&quot;Select Circle&quot;\n  name=&quot;id.circleId&quot; id=&quot;selectCircleDropDown&quot;\n  onchange=&quot;findTspNameIdMap(this.value)&quot;&gt;\n&lt;/s:select&gt;\n</code></pre>\n<p><strong>JS:</strong></p>\n<pre><code> $.ajax({   \n    type: 'POST',\n    url: '/gma/findTspNameIdMap.action',\n    data: \n    { \n        id.circleId: circleId,\n        minNumberOc: $(&quot;[name='minNumberOc']&quot;).val(),\n        minDurationOc: $(&quot;[name='minDurationOc']&quot;).val(),\n    },\n</code></pre>\n<p>However, here in firebug I get an error</p>\n<pre><code>SyntaxError: missing : after property id\nid.circleId: circleId,  \n</code></pre>\n<p>but other direct propeties like <code>minNumberOc</code> work ok but not <code>id.anything</code>. I am posting my model object and the Action class.</p>\n<p><strong>GmaThresholdParameter:</strong></p>\n<pre><code>public class GmaThresholdParameter implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @EmbeddedId\n    private GmaThresholdParameterPK id;\n   //getter/setters of id\n</code></pre>\n<p><strong>GmaThresholdParameterPK:</strong></p>\n<pre><code>public class GmaThresholdParameterPK implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name=&quot;CIRCLE_ID&quot;)\n    private int circleId;\n\n    @Column(name=&quot;TSP_ID&quot;)\n    private int tspId;\n\n    private String flag;\n   //getter/setters\n</code></pre>\n<p><strong>Action class:</strong></p>\n<pre><code>public class ConfigureTspThresholdAction extends ActionSupport implements SessionAware, ModelDriven&lt;GmaThresholdParameter&gt;{\n\n    private Map&lt;String,String&gt; circleIdNameMap;\n// MODEL object\n    GmaThresholdParameter gmaThresholdParameters = new GmaThresholdParameter();\n   .....\n   ...\n   public GmaThresholdParameter getGmaThresholdParameters() {\n    return gmaThresholdParameters;\n}\n\n\npublic void setGmaThresholdParameters(\n        GmaThresholdParameter gmaThresholdParameters) {\n    this.gmaThresholdParameters = gmaThresholdParameters;\n}\n\n@Override\npublic GmaThresholdParameter getModel() {\n    return gmaThresholdParameters;\n} \n</code></pre>\n<p>How to set properties corresponding to <code>id</code>? Why is it giving an error in Firebug?</p>\n"},{"tags":["java","spring","activemq"],"answers":[{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581980310,"creation_date":1581980310,"answer_id":60271522,"question_id":60271305,"body_markdown":"ActiveMQ 5.x creates Queues on demand by default so you may have changed the default configuration to disallow this in which case the error should be expected to happen if you are hitting a non-existent queue and you should check for and handle that.  If you need to be sure then the broker provides a [JMX][1] interface to query for information on broker statistics etc.  There are also other ways of [monitoring][2] such as using Rest style calls over the Jolokia management interface.\r\n\r\n\r\n  [1]: https://activemq.apache.org/jmx\r\n  [2]: https://","title":"How can I check if a queue exists on ActivemQ &quot;Classic&quot;?","body":"<p>ActiveMQ 5.x creates Queues on demand by default so you may have changed the default configuration to disallow this in which case the error should be expected to happen if you are hitting a non-existent queue and you should check for and handle that.  If you need to be sure then the broker provides a <a href=\"https://activemq.apache.org/jmx\" rel=\"nofollow noreferrer\">JMX</a> interface to query for information on broker statistics etc.  There are also other ways of monitoring such as using Rest style calls over the Jolokia management interface.</p>\n"},{"tags":[],"owner":{"account_id":17785257,"reputation":27,"user_id":12915503,"display_name":"Karenloh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696260772,"creation_date":1582051037,"answer_id":60287432,"question_id":60271305,"body_markdown":"I solved it with this:\r\n```java\r\npublic boolean existDataQueue(String dataQueue) throws JMSException {\r\n  \tboolean response = false;\r\n    ActiveMQConnectionFactory activeMQConnectionFactory =\r\n        new ActiveMQConnectionFactory();\r\n    activeMQConnectionFactory.setBrokerURL(brokerUrl);\r\n    ActiveMQConnection connection = (ActiveMQConnection)activeMQConnectionFactory.createConnection();\r\n\r\n    connection.start();\r\n\r\n    DestinationSource ds = connection.getDestinationSource();\r\n\r\n    Set&lt;ActiveMQQueue&gt; queues = ds.getQueues();\r\n\r\n    for (ActiveMQQueue activeMQQueue : queues) {\r\n        try {\r\n        \tif(activeMQQueue.getQueueName().equalsIgnoreCase(dataQueue)) {\r\n        \t\tresponse = true;\r\n        \t}\r\n        } catch (JMSException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    connection.close();\r\n    return response;\r\n}\r\n```","title":"How can I check if a queue exists on ActivemQ &quot;Classic&quot;?","body":"<p>I solved it with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean existDataQueue(String dataQueue) throws JMSException {\n    boolean response = false;\n    ActiveMQConnectionFactory activeMQConnectionFactory =\n        new ActiveMQConnectionFactory();\n    activeMQConnectionFactory.setBrokerURL(brokerUrl);\n    ActiveMQConnection connection = (ActiveMQConnection)activeMQConnectionFactory.createConnection();\n\n    connection.start();\n\n    DestinationSource ds = connection.getDestinationSource();\n\n    Set&lt;ActiveMQQueue&gt; queues = ds.getQueues();\n\n    for (ActiveMQQueue activeMQQueue : queues) {\n        try {\n            if(activeMQQueue.getQueueName().equalsIgnoreCase(dataQueue)) {\n                response = true;\n            }\n        } catch (JMSException e) {\n            e.printStackTrace();\n        }\n    }\n    connection.close();\n    return response;\n}\n</code></pre>\n"}],"owner":{"account_id":17785257,"reputation":27,"user_id":12915503,"display_name":"Karenloh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696260818,"creation_date":1581978890,"question_id":60271305,"body_markdown":"I have this method that throws me an exception when the data queue doesn&#39;t exists, but is not. Do you have other way to solve this?\r\n\r\n```java\r\npublic void checkDataQueue(String dataQueue) throws JMSException {\r\n    Connection connection = null;\r\n    Session session = null;\r\n    connection = jmsTemplate.getConnectionFactory().createConnection();\r\n    session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n    Queue queue = session.createQueue(dataQueue);\r\n    QueueBrowser browser = session.createBrowser(queue);\r\n}\r\n```","title":"How can I check if a queue exists on ActivemQ &quot;Classic&quot;?","body":"<p>I have this method that throws me an exception when the data queue doesn't exists, but is not. Do you have other way to solve this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void checkDataQueue(String dataQueue) throws JMSException {\n    Connection connection = null;\n    Session session = null;\n    connection = jmsTemplate.getConnectionFactory().createConnection();\n    session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n    Queue queue = session.createQueue(dataQueue);\n    QueueBrowser browser = session.createBrowser(queue);\n}\n</code></pre>\n"},{"tags":["java","canvas","playwright","autotest"],"comments":[{"owner":{"account_id":8306545,"reputation":47686,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1695787450,"post_id":77184584,"comment_id":136069478,"body_markdown":"&quot;It can&#39;t trigger a event that happened on a button or a table line&quot; -- what does this mean? Canvases don&#39;t have buttons or table lines, just pixels. I assume the default click will occur right in the middle of the canvas. If you want to add an offset, please provide a relevant sample canvas and explain what the logic is for where the buttons/&quot;table lines&quot; might appear, assuming they&#39;re on the canvas, where you need to click, and attempted Puppeteer code as a [mcve] so we have something to work from. Thanks.","body":"&quot;It can&#39;t trigger a event that happened on a button or a table line&quot; -- what does this mean? Canvases don&#39;t have buttons or table lines, just pixels. I assume the default click will occur right in the middle of the canvas. If you want to add an offset, please provide a relevant sample canvas and explain what the logic is for where the buttons/&quot;table lines&quot; might appear, assuming they&#39;re on the canvas, where you need to click, and attempted Puppeteer code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we have something to work from. Thanks."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695804456,"post_id":77184584,"comment_id":136071817,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":442966,"reputation":1244,"user_id":833910,"accept_rate":40,"display_name":"moefinley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696260797,"creation_date":1696260797,"answer_id":77216768,"question_id":77184584,"body_markdown":"You can provide X Y coordinates with the options object of the click action.\r\n```typescript\r\nawait page.locator(&#39;canvas&#39;).click({\r\n  button: &#39;right&#39;,\r\n  modifiers: [&#39;Shift&#39;],\r\n  position: { x: 23, y: 32 },\r\n});\r\n```\r\nhttps://playwright.dev/docs/api/class-locator#locator-click","title":"How to use Playwright to simulate the click event on a canvas element?","body":"<p>You can provide X Y coordinates with the options object of the click action.</p>\n<pre class=\"lang-js prettyprint-override\"><code>await page.locator('canvas').click({\n  button: 'right',\n  modifiers: ['Shift'],\n  position: { x: 23, y: 32 },\n});\n</code></pre>\n<p><a href=\"https://playwright.dev/docs/api/class-locator#locator-click\" rel=\"nofollow noreferrer\">https://playwright.dev/docs/api/class-locator#locator-click</a></p>\n"}],"owner":{"account_id":25425001,"reputation":1,"user_id":19230302,"display_name":"polar bear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696260797,"creation_date":1695786661,"question_id":77184584,"body_markdown":"When click everywhere on the canvas, the Playwright Inspector generates the same code: \r\n```\r\npage.click(&quot;:nth-match(canvas, 4)&quot;);\r\n```\r\n\r\nIt can&#39;t trigger a event that happened on a button or a table line. Anybody could give me a solution to work out a automated test script on canvas?\r\n","title":"How to use Playwright to simulate the click event on a canvas element?","body":"<p>When click everywhere on the canvas, the Playwright Inspector generates the same code:</p>\n<pre><code>page.click(&quot;:nth-match(canvas, 4)&quot;);\n</code></pre>\n<p>It can't trigger a event that happened on a button or a table line. Anybody could give me a solution to work out a automated test script on canvas?</p>\n"},{"tags":["java","ajax","jsp","struts2","jquery-validation-engine"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378462898,"creation_date":1378384943,"answer_id":18636659,"question_id":18635934,"body_markdown":"To submit to the action, needs to put the action URL. Using Struts tags requires taglib definition\r\n\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n\r\nchange the form tag to \r\n\r\n    &lt;form id=&quot;subform&quot; action=&quot;&lt;s:url action=&#39;submitForm&#39;/&gt;&quot; method=&quot;POST&quot;&gt;\r\n\r\nthe same you should write to get the url for the validation URL\r\n\r\n    ajaxFormValidationURL : &#39;&lt;s:url namespace=&quot;/ajaxVal&quot; action=&quot;FormVal&quot;/&gt;&#39;,\r\n\r\nremember always use URL tag to render URLs.","title":"jQuery validation engine in Struts 2 not working","body":"<p>To submit to the action, needs to put the action URL. Using Struts tags requires taglib definition</p>\n\n<pre><code>&lt;%@ taglib prefix=\"s\" uri=\"/struts-tags\" %&gt;\n</code></pre>\n\n<p>change the form tag to </p>\n\n<pre><code>&lt;form id=\"subform\" action=\"&lt;s:url action='submitForm'/&gt;\" method=\"POST\"&gt;\n</code></pre>\n\n<p>the same you should write to get the url for the validation URL</p>\n\n<pre><code>ajaxFormValidationURL : '&lt;s:url namespace=\"/ajaxVal\" action=\"FormVal\"/&gt;',\n</code></pre>\n\n<p>remember always use URL tag to render URLs.</p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378387871,"creation_date":1378387871,"answer_id":18637739,"question_id":18635934,"body_markdown":"You&#39;re using a relative URL for the validation action:\r\n\r\n    ajaxFormValidationURL : &#39;ajaxVal/FormVal&#39;\r\n\r\nYou should either use the `&lt;s:url&gt;` tag or make the paths absolute. That it worked until you moved it provides the biggest clue; relative URLs are inherently fragile when you start moving things around.\r\n\r\nIMO hand-coding URLs is a bit brittle, and this is one of the reasons.\r\n\r\nUnrelated, but I&#39;d probably set the `&quot;valaction&quot;` package namespace to `&quot;/&quot;`.","title":"jQuery validation engine in Struts 2 not working","body":"<p>You're using a relative URL for the validation action:</p>\n\n<pre><code>ajaxFormValidationURL : 'ajaxVal/FormVal'\n</code></pre>\n\n<p>You should either use the <code>&lt;s:url&gt;</code> tag or make the paths absolute. That it worked until you moved it provides the biggest clue; relative URLs are inherently fragile when you start moving things around.</p>\n\n<p>IMO hand-coding URLs is a bit brittle, and this is one of the reasons.</p>\n\n<p>Unrelated, but I'd probably set the <code>\"valaction\"</code> package namespace to <code>\"/\"</code>.</p>\n"}],"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696260776,"creation_date":1378382922,"question_id":18635934,"body_markdown":"My Eclipse Dynamic Web Project structure is as follows:\r\n\r\n**WebContent:**  \r\n\r\n* CSS  \r\n    * (Various css files used)  \r\n* JavaScript  \r\n    * (JS files)  \r\n* Pages  \r\n    * Page1.jsp  \r\n    * Page2.jsp  \r\n* META-INF  \r\n* WEB-INF  \r\n    * lib  \r\n    * web.xml  \r\n\r\nI&#39;m using the jQuery validation engine for front end and Ajax validation in `page1.jsp`, the Ajax part calls an action class which then validates the data.\r\n  \r\n**`page1.jsp`:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;script&gt;\r\n\t\t$(document).ready (function ()\r\n\t\t{\r\n\t\t\t$(&quot;#subform&quot;).validationEngine(&#39;attach&#39;, {\r\n\t\t\t\tautoHidePrompt : true , \r\n\t\t\t\tautoHideDelay : 5000,\r\n\t\t\t\tajaxFormValidation : true,\r\n\t\t\t\tajaxFormValidationURL : &#39;ajaxVal/FormVal&#39;,\r\n\t\t\t\tajaxFormValidationMethod : &#39;post&#39;,\r\n\t\t\t\tonBeforeAjaxFormValidation : function (form, options) {\r\n\t\t\t\t\tconsole.log (&quot;before ajax validation in function&quot;);\r\n\t\t\t\t\tform.validationEngine (&#39;hideAll&#39;);\r\n\t\t\t\t\t$(&#39;#txtlname&#39;).validationEngine (&#39;showPrompt&#39;, &#39;Validating your name please wait&#39;, &#39;load&#39;, true);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t},\r\n\t\t\t\tonAjaxFormComplete : function (status, form, json, option) {\r\n\t\t\t\t\tconsole.log (&quot;ajax validation done&quot;);\r\n\t\t\t\t\tconsole.log (&quot;status: &quot; + status);\r\n\t\t\t\t\tconsole.log (&quot;data returned &quot; + json);\r\n\t\t\t\t\tconsole.log (&quot;checking status now&quot;);\r\n\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\tconsole.log (&quot;status good, detaching now&quot;);\r\n\t\t\t\t\t\tform.validationEngine (&#39;hideAll&#39;);\r\n\t\t\t\t\t\tform.validationEngine (&#39;detach&#39;);\r\n\t\t\t\t\t\tform.submit ();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\t});\r\n\t&lt;/script&gt;\r\n\t\r\n\t\r\n\t&lt;title&gt;Form Validation test&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\t\r\n\t&lt;div&gt;\t\t\t\t\t\t\t\r\n\t\t&lt;form id = &quot;subform&quot; action = &quot;submitForm&quot; method = &quot;post&quot;&gt;\t\t\t&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\t\t\tFirst Name: &lt;input id = &quot;txtfname&quot; name = &quot;txtfname&quot; type = &quot;text&quot; class = &quot;validate[required]&quot; \r\n\t\t\t\tplaceholder = &quot;enter emp name&quot; /&gt;\r\n\t\t\tLast name: &lt;input id = &quot;txtlname&quot; name = &quot;txtlname&quot; type = &quot;text&quot; placeholder = &quot;enter emp lname&quot; \r\n\t\t\t\t\tclass = &quot;validate[required, ajax[ajaxStrutsCall]]&quot; /&gt;\r\n\t\t\tAge: &lt;input id = &quot;txtage&quot; name = &quot;txtage&quot; type = &quot;text&quot; placeholder = &quot;enter age&quot;  /&gt;\t\t\t\r\n\t\t\t&lt;input id =&quot;cmdsubmit&quot; type = &quot;submit&quot; name = &quot;cmdsubmit&quot; value = &quot;click here&quot; /&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/div&gt;\r\n\t\t\r\n    &lt;/body&gt;\r\n\r\nthe Ajax call in the class attribute of the `&quot;last name&quot;` input tag is in  `jquery.validationEngine-en.js` it is:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &quot;ajaxStrutsCall&quot;: {\r\n                    &quot;url&quot;: &quot;ajaxVal/LnameVal&quot;,\r\n                    &quot;alertTextOk&quot;: &quot;Your last name seems ok&quot;,\r\n                    &quot;alertText&quot;: &quot;Bad Last name&quot;,\r\n                    &quot;alertTextLoad&quot;: &quot;Validating, please wait&quot;\r\n                },\r\n\r\n**my `struts.xml`:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;struts&gt;\r\n\t&lt;constant name = &quot;struts.devMode&quot; value = &quot;true&quot; /&gt;\r\n\t\r\n\t&lt;package name = &quot;strutsaction&quot; extends = &quot;struts-default&quot;&gt;\r\n\t\t&lt;action name = &quot;submitForm&quot; class = &quot;validation.action.JqueryAction&quot; method = &quot;execute&quot;&gt;\r\n\t\t\t&lt;result name = &quot;success&quot;&gt;/Pages/page2.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\t\t\r\n\t&lt;/package&gt;\r\n\t\r\n\t\r\n\t&lt;package name = &quot;ajaxAction&quot; namespace = &quot;/ajaxVal&quot; extends = &quot;json-default&quot;&gt;\r\n\r\n\t\t&lt;action name = &quot;LnameVal&quot; class = &quot;validation.struts.AjaxStrutsAction&quot; method = &quot;execute&quot;&gt;\r\n\t\t\t&lt;result name = &quot;success&quot; type = &quot;json&quot; /&gt;\r\n\t\t&lt;/action&gt;\r\n\t\t\r\n\t\t&lt;action name = &quot;FormVal&quot; class = &quot;ajax.form.validator.FormValidation&quot; method = &quot;execute&quot;&gt;\r\n\t\t\t&lt;result name = &quot;success&quot; type = &quot;json&quot; /&gt;\r\n\t\t&lt;/action&gt;\r\n\t\t\r\n\t&lt;/package&gt;\r\n\r\n&lt;/struts&gt;\r\n\r\nNow, the thing is that all the code was working perfectly when `page1.jsp` and `page2.jsp` were one folder up, i.e. in the `WebContent`, as soon as I added them to the `Pages/` folder, the Ajax validation calls do not happen, even though the action to the next page does.  \r\n\r\nI figured that this this is because the URL is not matching, when i tried accessing the struts class in my tomcat server as the following URL worked:\r\n\r\n    http://localhost:8080/AjaxTest/ajaxVal/LnameVal\r\n\r\nHowever, this did not:\r\n\r\n    http://localhost:8080/AjaxTest/Pages/ajaxVal/LnameVal \r\n\r\nI even changed the namespace in my `ajaxAction` package in `struts.xml` to `/Pages/ajaxVal`, but no dice.","title":"jQuery validation engine in Struts 2 not working","body":"<p>My Eclipse Dynamic Web Project structure is as follows:</p>\n<p><strong>WebContent:</strong></p>\n<ul>\n<li>CSS\n<ul>\n<li>(Various css files used)</li>\n</ul>\n</li>\n<li>JavaScript\n<ul>\n<li>(JS files)</li>\n</ul>\n</li>\n<li>Pages\n<ul>\n<li>Page1.jsp</li>\n<li>Page2.jsp</li>\n</ul>\n</li>\n<li>META-INF</li>\n<li>WEB-INF\n<ul>\n<li>lib</li>\n<li>web.xml</li>\n</ul>\n</li>\n</ul>\n<p>I'm using the jQuery validation engine for front end and Ajax validation in <code>page1.jsp</code>, the Ajax part calls an action class which then validates the data.</p>\n<p><strong><code>page1.jsp</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;script&gt;\n    $(document).ready (function ()\n    {\n        $(&quot;#subform&quot;).validationEngine('attach', {\n            autoHidePrompt : true , \n            autoHideDelay : 5000,\n            ajaxFormValidation : true,\n            ajaxFormValidationURL : 'ajaxVal/FormVal',\n            ajaxFormValidationMethod : 'post',\n            onBeforeAjaxFormValidation : function (form, options) {\n                console.log (&quot;before ajax validation in function&quot;);\n                form.validationEngine ('hideAll');\n                $('#txtlname').validationEngine ('showPrompt', 'Validating your name please wait', 'load', true);\n                return true;\n            },\n            onAjaxFormComplete : function (status, form, json, option) {\n                console.log (&quot;ajax validation done&quot;);\n                console.log (&quot;status: &quot; + status);\n                console.log (&quot;data returned &quot; + json);\n                console.log (&quot;checking status now&quot;);\n                if (status) {\n                    console.log (&quot;status good, detaching now&quot;);\n                    form.validationEngine ('hideAll');\n                    form.validationEngine ('detach');\n                    form.submit ();\n                }\n            }\n        }); \n    });\n&lt;/script&gt;\n\n\n&lt;title&gt;Form Validation test&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div&gt;                           \n    &lt;form id = &quot;subform&quot; action = &quot;submitForm&quot; method = &quot;post&quot;&gt;         &lt;br&gt;&lt;br&gt;&lt;br&gt;\n        First Name: &lt;input id = &quot;txtfname&quot; name = &quot;txtfname&quot; type = &quot;text&quot; class = &quot;validate[required]&quot; \n            placeholder = &quot;enter emp name&quot; /&gt;\n        Last name: &lt;input id = &quot;txtlname&quot; name = &quot;txtlname&quot; type = &quot;text&quot; placeholder = &quot;enter emp lname&quot; \n                class = &quot;validate[required, ajax[ajaxStrutsCall]]&quot; /&gt;\n        Age: &lt;input id = &quot;txtage&quot; name = &quot;txtage&quot; type = &quot;text&quot; placeholder = &quot;enter age&quot;  /&gt;           \n        &lt;input id =&quot;cmdsubmit&quot; type = &quot;submit&quot; name = &quot;cmdsubmit&quot; value = &quot;click here&quot; /&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n    \n&lt;/body&gt;\n</code></pre>\n<p>the Ajax call in the class attribute of the <code>&quot;last name&quot;</code> input tag is in  <code>jquery.validationEngine-en.js</code> it is:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&quot;ajaxStrutsCall&quot;: {\n                &quot;url&quot;: &quot;ajaxVal/LnameVal&quot;,\n                &quot;alertTextOk&quot;: &quot;Your last name seems ok&quot;,\n                &quot;alertText&quot;: &quot;Bad Last name&quot;,\n                &quot;alertTextLoad&quot;: &quot;Validating, please wait&quot;\n            },\n</code></pre>\n<p><strong>my <code>struts.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;struts&gt;\n&lt;constant name = &quot;struts.devMode&quot; value = &quot;true&quot; /&gt;\n\n&lt;package name = &quot;strutsaction&quot; extends = &quot;struts-default&quot;&gt;\n    &lt;action name = &quot;submitForm&quot; class = &quot;validation.action.JqueryAction&quot; method = &quot;execute&quot;&gt;\n        &lt;result name = &quot;success&quot;&gt;/Pages/page2.jsp&lt;/result&gt;\n    &lt;/action&gt;       \n&lt;/package&gt;\n\n\n&lt;package name = &quot;ajaxAction&quot; namespace = &quot;/ajaxVal&quot; extends = &quot;json-default&quot;&gt;\n\n    &lt;action name = &quot;LnameVal&quot; class = &quot;validation.struts.AjaxStrutsAction&quot; method = &quot;execute&quot;&gt;\n        &lt;result name = &quot;success&quot; type = &quot;json&quot; /&gt;\n    &lt;/action&gt;\n    \n    &lt;action name = &quot;FormVal&quot; class = &quot;ajax.form.validator.FormValidation&quot; method = &quot;execute&quot;&gt;\n        &lt;result name = &quot;success&quot; type = &quot;json&quot; /&gt;\n    &lt;/action&gt;\n    \n&lt;/package&gt;\n</code></pre>\n\n<p>Now, the thing is that all the code was working perfectly when <code>page1.jsp</code> and <code>page2.jsp</code> were one folder up, i.e. in the <code>WebContent</code>, as soon as I added them to the <code>Pages/</code> folder, the Ajax validation calls do not happen, even though the action to the next page does.</p>\n<p>I figured that this this is because the URL is not matching, when i tried accessing the struts class in my tomcat server as the following URL worked:</p>\n<pre><code>http://localhost:8080/AjaxTest/ajaxVal/LnameVal\n</code></pre>\n<p>However, this did not:</p>\n<pre><code>http://localhost:8080/AjaxTest/Pages/ajaxVal/LnameVal \n</code></pre>\n<p>I even changed the namespace in my <code>ajaxAction</code> package in <code>struts.xml</code> to <code>/Pages/ajaxVal</code>, but no dice.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":67063,"reputation":1733,"user_id":196433,"display_name":"Jonathan "},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1268868083,"creation_date":1268868083,"answer_id":2466627,"question_id":2466610,"body_markdown":"I would read through these:\r\nhttp://java.sun.com/j2se/1.5.0/docs/relnotes/features.html\r\nhttp://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/beta2.html","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>I would read through these:\n<a href=\"http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html</a>\n<a href=\"http://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/beta2.html\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/beta2.html</a></p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1268868200,"creation_date":1268868200,"answer_id":2466634,"question_id":2466610,"body_markdown":"The main changes to the language it self were introduced in the Java 5 release. \r\n\r\n\r\nThese include:\r\n\r\n- generics\r\n- enchanced for loops\r\n- var args\r\n- autoboxing\r\n\r\nand a number of others \r\n\r\nHere&#39;s an interesting article with examples:\r\n\r\n\r\nhttp://java.sun.com/developer/technicalArticles/releases/j2se15/\r\n\r\nJava 6 changes were most on performance and new APIs you should start with the changes in 5 first ","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>The main changes to the language it self were introduced in the Java 5 release. </p>\n\n<p>These include:</p>\n\n<ul>\n<li>generics</li>\n<li>enchanced for loops</li>\n<li>var args</li>\n<li>autoboxing</li>\n</ul>\n\n<p>and a number of others </p>\n\n<p>Here's an interesting article with examples:</p>\n\n<p><a href=\"http://java.sun.com/developer/technicalArticles/releases/j2se15/\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/releases/j2se15/</a></p>\n\n<p>Java 6 changes were most on performance and new APIs you should start with the changes in 5 first </p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564351,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1268869799,"creation_date":1268869799,"answer_id":2466725,"question_id":2466610,"body_markdown":"Have a look at the **New Features of JDK 1.5** from the [Java 5 &amp; Java 6 Tutorials][1] (at coreservlets.com) for a quick overview:\r\n\r\n&gt; All the material in this section is\r\n&gt; covered in more detail in earlier\r\n&gt; sections. But, if you are a real\r\n&gt; old-timer and only know Java 1.4 or\r\n&gt; earlier (Gasp! How 20th century!),\r\n&gt; this section might be useful for you.\r\n&gt; \r\n&gt;  * [This tutorial section in PDF][2].\r\n&gt;  * Topics covered: \r\n&gt;   * The for/each loop \r\n&gt;   * Scanner and command-line input\r\n&gt;   * Generics\r\n&gt;   * Autoboxing\r\n&gt;   * Varargs  \r\n&gt;   * printf\r\n&gt;   * Reading command-line input\r\n\r\nAlso check the [Java Language Features][3] in the **New Features and Enhancements of J2SE 5.0**.\r\n\r\n\r\n  [1]: http://courses.coreservlets.com/Course-Materials/java5.html\r\n  [2]: http://courses.coreservlets.com/Course-Materials/pdf/java5/23-Java5-Features.pdf\r\n  [3]:  http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html#lang","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>Have a look at the <strong>New Features of JDK 1.5</strong> from the <a href=\"http://courses.coreservlets.com/Course-Materials/java5.html\" rel=\"nofollow noreferrer\">Java 5 &amp; Java 6 Tutorials</a> (at coreservlets.com) for a quick overview:</p>\n\n<blockquote>\n  <p>All the material in this section is\n  covered in more detail in earlier\n  sections. But, if you are a real\n  old-timer and only know Java 1.4 or\n  earlier (Gasp! How 20th century!),\n  this section might be useful for you.</p>\n  \n  <ul>\n  <li><a href=\"http://courses.coreservlets.com/Course-Materials/pdf/java5/23-Java5-Features.pdf\" rel=\"nofollow noreferrer\">This tutorial section in PDF</a>.</li>\n  <li>Topics covered: \n  \n  <ul>\n  <li>The for/each loop </li>\n  <li>Scanner and command-line input</li>\n  <li>Generics</li>\n  <li>Autoboxing</li>\n  <li>Varargs  </li>\n  <li>printf</li>\n  <li>Reading command-line input</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>Also check the <a href=\"http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html#lang\" rel=\"nofollow noreferrer\">Java Language Features</a> in the <strong>New Features and Enhancements of J2SE 5.0</strong>.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1268873033,"creation_date":1268873033,"answer_id":2466925,"question_id":2466610,"body_markdown":"Except for generics, most everything there is to learn can be done incrementally.  Nothing in Java *requires* you do something the new way.  Start with enhanced-for, autoboxing, varargs and formatted printing.  \r\n\r\nWith generics, read up on an overview, say [Angelika&#39;s FAQ][1], and then begin applying generics bit by bit - be prepared to invest some time for the more complex generics programming.\r\n\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>Except for generics, most everything there is to learn can be done incrementally.  Nothing in Java <em>requires</em> you do something the new way.  Start with enhanced-for, autoboxing, varargs and formatted printing.  </p>\n\n<p>With generics, read up on an overview, say <a href=\"http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html\" rel=\"nofollow noreferrer\">Angelika's FAQ</a>, and then begin applying generics bit by bit - be prepared to invest some time for the more complex generics programming.</p>\n"},{"tags":[],"owner":{"account_id":97602,"reputation":787,"user_id":264669,"accept_rate":78,"display_name":"Vinny"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1268874083,"creation_date":1268874083,"answer_id":2466983,"question_id":2466610,"body_markdown":"Just as a clarification, you mean that you currently use JDK 1.4.x right? I think Sun&#39;s marketing machine when from Java 1.0 Java 1.1 Java 2 ( 1.2 , 1.3, 1.4) to Java 5 (1.6) and finally Java 6 (1.6). I never heard of &quot;Java 4&quot; in the Sun literature. I agree that :\r\nhttp://java.sun.com/j2se/1.5.0/docs/relnotes/features.html give a nice summary from the horse&#39;s mouth","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>Just as a clarification, you mean that you currently use JDK 1.4.x right? I think Sun's marketing machine when from Java 1.0 Java 1.1 Java 2 ( 1.2 , 1.3, 1.4) to Java 5 (1.6) and finally Java 6 (1.6). I never heard of \"Java 4\" in the Sun literature. I agree that :\n<a href=\"http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html</a> give a nice summary from the horse's mouth</p>\n"}],"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1696261067,"accepted_answer_id":2466925,"answer_count":5,"score":-1,"last_activity_date":1696260657,"creation_date":1268867833,"question_id":2466610,"body_markdown":"Our company is finally coming out of the dark ages and embracing Java 6.  We have been using Java 4 for many years and I&#39;m interested in learning the new features offered by Java 5 and 6.  So, can anyone recommend any online resources to help me learn what&#39;s new since Java 4?","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>Our company is finally coming out of the dark ages and embracing Java 6.  We have been using Java 4 for many years and I'm interested in learning the new features offered by Java 5 and 6.  So, can anyone recommend any online resources to help me learn what's new since Java 4?</p>\n"},{"tags":["java","javascript","jquery","ajax","struts2"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1395674669,"post_id":22613278,"comment_id":34433179,"body_markdown":"Your code has some pieces missing ( Service =, and so on).  What is map ? Which value do the double variables have ? What is printed on page ?","body":"Your code has some pieces missing ( Service =, and so on).  What is map ? Which value do the double variables have ? What is printed on page ?"},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395675012,"post_id":22613278,"comment_id":34433427,"body_markdown":"private Service Service; // service connected to database with hibernate\nprivate Map&lt;String, String&gt; map= new HashMap&lt;String, String&gt;();","body":"private Service Service; // service connected to database with hibernate private Map&lt;String, String&gt; map= new HashMap&lt;String, String&gt;();"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1395685747,"creation_date":1395685747,"answer_id":22617693,"question_id":22613278,"body_markdown":"Make the `map` to map objects instead of strings. For example \r\n\r\n    Map&lt;String, Object&gt; map= new HashMap&lt;&gt;();\r\n\r\nNow you have to put objects inside it, if the value is `null` it will keep the value that you can get after JSON result is returned by the `success` handler. See also \r\n[how to exclude properties with `null` values from the JSON result][1]. \r\n\r\n\r\n  [1]: http://struts.apache.org/release/2.3.x/docs/json-plugin.html#JSONPlugin-Excludingpropertieswithnullvalues","title":"How to use a map which contains String and double values in Struts 2","body":"<p>Make the <code>map</code> to map objects instead of strings. For example </p>\n\n<pre><code>Map&lt;String, Object&gt; map= new HashMap&lt;&gt;();\n</code></pre>\n\n<p>Now you have to put objects inside it, if the value is <code>null</code> it will keep the value that you can get after JSON result is returned by the <code>success</code> handler. See also \n<a href=\"http://struts.apache.org/release/2.3.x/docs/json-plugin.html#JSONPlugin-Excludingpropertieswithnullvalues\" rel=\"nofollow\">how to exclude properties with <code>null</code> values from the JSON result</a>. </p>\n"}],"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22617693,"answer_count":1,"score":1,"last_activity_date":1696260573,"creation_date":1395673924,"question_id":22613278,"body_markdown":"I want to know How can i pass `HashMap` which contain String and double values from Action to javascript code ?\r\n\r\nWhen i edit some fields with double values, i have a null on those fields, how can i resolve that ?\r\n\r\n**Action :**\r\n   \r\n\r\n     public String query() {\r\n\t\tService = new ServiceImpl();\r\n\t\tv = new Vehicule();\r\n\t\tv= Service.getByImmat(im);\r\n\t\tmap.put(&quot;kilo&quot;, v.getKilo()); //double value\r\n\t\t/*SimpleDateFormat formatter5=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tString formats1 = formatter5.format(ss1);*/\r\n\t\tmap.put(&quot;datepicker&quot;, formats1);\r\n\t\tmap.put(&quot;etat&quot;, v.getEtat());//string value\r\n\t\tmap.put(&quot;capacite_bagages&quot;, v.getCapacite_bagage()); //double value\r\n\t\treturn &quot;success&quot;;\r\n    }\r\n\r\nAjax :\r\n\r\n    $.ajax({\r\n\t    type: &#39;POST&#39;, \r\n\t    url  : &quot;&lt;s:url action=&#39;query&#39;/&gt;&quot;,\r\n\t    dataType : &#39;json&#39;,\r\n\t    data: { imm : selectedValue},\r\n\t    success: function(result) {\r\n            $.each(result, function(key,value){ \r\n                $(&quot;#&quot;+key).val(value); \r\n            });\r\n        });\r\n    \r\n\r\n\t\r\n\r\n\r\n**EDIT :**\r\n\r\n\t\r\n  \t    \t  \t\r\nI want to update some values `(string,Date and double)` ,for this reason I pass those parameters into `map&lt;String,object&gt;` from action to jsp page.\r\n\r\n \r\n\r\n    public String query() {\r\n    \t\tService = new ServiceImpl();\r\n    \t\tv = new Vehicule();\r\n    \t\tv= Service.getByImmat(im);\r\n    \t\tmap.put(&quot;kilo&quot;, v.getKilo()); //double value\r\n    \t\tSimpleDateFormat formatter5=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\tString formats1 = formatter5.format(v.getDate());\r\n    \t\tmap.put(&quot;datepicker&quot;, formats1);\r\n    \t\tmap.put(&quot;etat&quot;, v.getEtat());//string value\r\n    \t\tmap.put(&quot;capacite_bagages&quot;, v.getCapacite_bagage()); //double value\r\n    \t\treturn &quot;success&quot;;\r\n        }\r\n\r\n I show it in my jsp,I edit it in my jsp page,but when I want to save the result,  double value take a NAN !! : \r\n\r\n    public String modifiervehicule () {\r\n    \t\t\r\n    \t\tService = new ServiceImpl();\r\n    \t\tv= new Vehicule();\r\n    \t\tv = vehiculeService.getVehiculeByImmat(immatricul);\r\n    \t\tv.setKilo((Double)getKilo());\r\n    \t\tv.setDate((Date)getDate());\r\n    \t\tv.setEtat(getEtat());\r\n    \t\tv.setCapacite_bagage((Double)getCapacite_bagages());\r\n    \t\t\r\n    \t\tv = Service.update(v);\r\n    \t\treturn &quot;success&quot;;\r\n    \t\t\r\n    \t}\r\n\r\n kilo field (double) has a null value after editing, but if I edit it with Integer value it will not have a null value, \r\n\r\nI think because `public double getkilo()` should return a double not object that i pass in the map !!)\r\n\r\n\t\t\t\t\t\t\t\t\r\n**EDIT 2 :**\r\n\r\n**jsp :**\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    $(document).ready(function() \r\n    \t{\r\n    \r\n    \t  $(&#39;#imm&#39;).change(function()\r\n    \t\t{\r\n    \r\n    \t\t  \r\n    \t\t  var selectedValue = $(&#39;#imm&#39;).val();\r\n    \t        if ($.trim(selectedValue).length &gt; 0) \r\n    \t\t     {\r\n    \t\t\t\t$.ajax(\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttype: &#39;POST&#39;, \r\n    \t\t\t\t    url  : &quot;&lt;s:url action=&#39;query&#39;/&gt;&quot;,\r\n    \t\t\t\t    dataType : &#39;json&#39;,\r\n    \t\t\t\t    data: { imm : selectedValue},\r\n    \t\t\t\t    success: function(result){\t\t\t\t\t\t\t\t\t\t\t   \t\t\t\t\t\t\t\t\t\t   \r\n    \t\t\t\t\t\t$.each(result, function(key,value)\r\n    \t\t\t\t\t\t{\t\t\t\t\t \r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t\t\t\t    $(&quot;#&quot;+key).val(value);\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} );\t\t\t\t\t\t\t\t\r\n    \t});\r\n    &lt;/script&gt;\r\n    \t\t\t\r\n    &lt;s:form  cssStyle=&quot;border:0;&quot; validate=&quot;true&quot; action=&quot;modifiervehicule&quot; namespace=&quot;/&quot; &gt;\r\n    &lt;s:select  id=&quot;imm&quot; label=&quot;immatriculation&quot; list=&quot;immatriculs&quot; name=&quot;immatricul&quot;&gt;&lt;/s:select&gt;\r\n    &lt;s:textfield id=&quot;kilo&quot;  name=&quot;kil&quot; label=&quot;kilometrage&quot; size=&quot;15&quot; &gt;&lt;/s:textfield&gt;\r\n    &lt;s:textfield  id=&quot;etat&quot; name=&quot;etat&quot; label=&quot;etat&quot; size=&quot;15&quot; &gt;&lt;/s:textfield&gt;\r\n     &lt;s:textfield  id=&quot;datepicker&quot; name=&quot;date&quot; label=&quot;date&quot;  size=&quot;15&quot; &gt;&lt;/s:textfield&gt; \r\n    &lt;s:textfield id=&quot;capacite_bagages&quot; name=&quot;capacite_bagages&quot; label=&quot;capacit&#233; de bagages&quot; size=&quot;15&quot;&gt;&lt;/s:textfield&gt;\r\n    \r\n    &lt;s:submit  style=&quot;height:30px; width:125px&quot; name=&quot;Valider&quot; value=&quot;Valider&quot;&gt;&lt;/s:submit&gt;\r\n    &lt;/s:form&gt;\r\n             \t\t\t\r\n**`Struts.xml`**\r\n\r\n\r\n\t\t\r\n\r\n    &lt;action name=&quot;query&quot; class=&quot;action.Gestion&quot; method=&quot;query&quot;&gt;\r\n\t    &lt;result name=&quot;success&quot; type=&quot;json&quot; &gt;\r\n\t\t    &lt;param name=&quot;root&quot;&gt;map&lt;/param&gt;\r\n\t\t    \r\n\t    &lt;/result&gt;\r\n\r\n    &lt;/action&gt;\r\n\r\n\t\t\r\n\r\n","title":"How to use a map which contains String and double values in Struts 2","body":"<p>I want to know How can i pass <code>HashMap</code> which contain String and double values from Action to javascript code ?</p>\n\n<p>When i edit some fields with double values, i have a null on those fields, how can i resolve that ?</p>\n\n<p><strong>Action :</strong></p>\n\n<pre><code> public String query() {\n    Service = new ServiceImpl();\n    v = new Vehicule();\n    v= Service.getByImmat(im);\n    map.put(\"kilo\", v.getKilo()); //double value\n    /*SimpleDateFormat formatter5=new SimpleDateFormat(\"yyyy-MM-dd\");\n    String formats1 = formatter5.format(ss1);*/\n    map.put(\"datepicker\", formats1);\n    map.put(\"etat\", v.getEtat());//string value\n    map.put(\"capacite_bagages\", v.getCapacite_bagage()); //double value\n    return \"success\";\n}\n</code></pre>\n\n<p>Ajax :</p>\n\n<pre><code>$.ajax({\n    type: 'POST', \n    url  : \"&lt;s:url action='query'/&gt;\",\n    dataType : 'json',\n    data: { imm : selectedValue},\n    success: function(result) {\n        $.each(result, function(key,value){ \n            $(\"#\"+key).val(value); \n        });\n    });\n</code></pre>\n\n<p><strong>EDIT :</strong></p>\n\n<p>I want to update some values <code>(string,Date and double)</code> ,for this reason I pass those parameters into <code>map&lt;String,object&gt;</code> from action to jsp page.</p>\n\n<pre><code>public String query() {\n        Service = new ServiceImpl();\n        v = new Vehicule();\n        v= Service.getByImmat(im);\n        map.put(\"kilo\", v.getKilo()); //double value\n        SimpleDateFormat formatter5=new SimpleDateFormat(\"yyyy-MM-dd\");\n        String formats1 = formatter5.format(v.getDate());\n        map.put(\"datepicker\", formats1);\n        map.put(\"etat\", v.getEtat());//string value\n        map.put(\"capacite_bagages\", v.getCapacite_bagage()); //double value\n        return \"success\";\n    }\n</code></pre>\n\n<p>I show it in my jsp,I edit it in my jsp page,but when I want to save the result,  double value take a NAN !! : </p>\n\n<pre><code>public String modifiervehicule () {\n\n        Service = new ServiceImpl();\n        v= new Vehicule();\n        v = vehiculeService.getVehiculeByImmat(immatricul);\n        v.setKilo((Double)getKilo());\n        v.setDate((Date)getDate());\n        v.setEtat(getEtat());\n        v.setCapacite_bagage((Double)getCapacite_bagages());\n\n        v = Service.update(v);\n        return \"success\";\n\n    }\n</code></pre>\n\n<p>kilo field (double) has a null value after editing, but if I edit it with Integer value it will not have a null value, </p>\n\n<p>I think because <code>public double getkilo()</code> should return a double not object that i pass in the map !!)</p>\n\n<p><strong>EDIT 2 :</strong></p>\n\n<p><strong>jsp :</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() \n    {\n\n      $('#imm').change(function()\n        {\n\n\n          var selectedValue = $('#imm').val();\n            if ($.trim(selectedValue).length &gt; 0) \n             {\n                $.ajax(\n                {\n                    type: 'POST', \n                    url  : \"&lt;s:url action='query'/&gt;\",\n                    dataType : 'json',\n                    data: { imm : selectedValue},\n                    success: function(result){                                                                                     \n                        $.each(result, function(key,value)\n                        {                    \n\n\n                                $(\"#\"+key).val(value);\n\n                                                            } );                                \n    });\n&lt;/script&gt;\n\n&lt;s:form  cssStyle=\"border:0;\" validate=\"true\" action=\"modifiervehicule\" namespace=\"/\" &gt;\n&lt;s:select  id=\"imm\" label=\"immatriculation\" list=\"immatriculs\" name=\"immatricul\"&gt;&lt;/s:select&gt;\n&lt;s:textfield id=\"kilo\"  name=\"kil\" label=\"kilometrage\" size=\"15\" &gt;&lt;/s:textfield&gt;\n&lt;s:textfield  id=\"etat\" name=\"etat\" label=\"etat\" size=\"15\" &gt;&lt;/s:textfield&gt;\n &lt;s:textfield  id=\"datepicker\" name=\"date\" label=\"date\"  size=\"15\" &gt;&lt;/s:textfield&gt; \n&lt;s:textfield id=\"capacite_bagages\" name=\"capacite_bagages\" label=\"capacité de bagages\" size=\"15\"&gt;&lt;/s:textfield&gt;\n\n&lt;s:submit  style=\"height:30px; width:125px\" name=\"Valider\" value=\"Valider\"&gt;&lt;/s:submit&gt;\n&lt;/s:form&gt;\n</code></pre>\n\n<p><strong><code>Struts.xml</code></strong></p>\n\n<pre><code>&lt;action name=\"query\" class=\"action.Gestion\" method=\"query\"&gt;\n    &lt;result name=\"success\" type=\"json\" &gt;\n        &lt;param name=\"root\"&gt;map&lt;/param&gt;\n\n    &lt;/result&gt;\n\n&lt;/action&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jsp"],"comments":[{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1643456285,"post_id":70904082,"comment_id":125347242,"body_markdown":"Are your jsp files inside static folder only or /static/jsp","body":"Are your jsp files inside static folder only or /static/jsp"},{"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"score":0,"creation_date":1643459447,"post_id":70904082,"comment_id":125347911,"body_markdown":"they&#39;re inside static folder only","body":"they&#39;re inside static folder only"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1643477174,"post_id":70904082,"comment_id":125352387,"body_markdown":"Can you share your project structure from your IDE as a picture and state which version of the IDE you are using","body":"Can you share your project structure from your IDE as a picture and state which version of the IDE you are using"},{"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"score":0,"creation_date":1643519862,"post_id":70904082,"comment_id":125359646,"body_markdown":"I added a picture of my project Structure. I am using IntelliJ 2021.3","body":"I added a picture of my project Structure. I am using IntelliJ 2021.3"}],"answers":[{"tags":[],"owner":{"display_name":"user14560339"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645044076,"creation_date":1645044076,"answer_id":71149000,"question_id":70904082,"body_markdown":"The main *template engines* for SpringBoot are Thymeleaf, Groovy, FreeMarker, Jade. In the reference guide: \r\n\r\n&gt; JSP should be avoided if possible, there are several known limitations\r\n&gt; when using them with embedded servlet containers.\r\n\r\n&gt; An executable jar will not work because of a hard coded file pattern\r\n&gt; in Tomcat.\r\n\r\nIf the JSPs are legacy or proprietary codes that you can&#39;t convert, you have to do a few things in order to develop/maintain, compile and kinda run a SpringBootApplication running them in Intellij:\r\n\r\n1) maven: your pom must be a &#39;**war**&#39; package.\r\nThat will makes intellij look for and compile the JSPs right.\r\n\r\n2) web facet: put your .jsp files in a folder where they are expected to be in a webapp: **src/main/webapp/WEB-INF/jsp/** \r\nThe jsp will never be &#39;compiled&#39;/&#39;interpretable&#39; in static.\r\n\r\n3) spring facet: set the prefix to /WEB-INF/jsp/ in your **application.properties**\r\n\r\n4) tomcat: have those dependencies:\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n&gt;        &lt;scope&gt;provided&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n&gt;        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n&gt;        &lt;scope&gt;provided&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n&gt;        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\n5) build runnable war: make an Intellij &quot;maven configuration&quot; that run :\r\n\r\n&gt; clean install -f pom.xml\r\n\r\n6) run that war: make an Intellij &quot;jar configuration&quot; with those settings:\r\n\r\n - path to jar : &lt;the path to the **war** file in the *target* folder&gt;\r\n - before launch : run the &quot;maven configuration&quot; you created\r\n\r\n\r\n","title":"SpringBoot Web MVC Application cannot resolve JSP views","body":"<p>The main <em>template engines</em> for SpringBoot are Thymeleaf, Groovy, FreeMarker, Jade. In the reference guide:</p>\n<blockquote>\n<p>JSP should be avoided if possible, there are several known limitations\nwhen using them with embedded servlet containers.</p>\n</blockquote>\n<blockquote>\n<p>An executable jar will not work because of a hard coded file pattern\nin Tomcat.</p>\n</blockquote>\n<p>If the JSPs are legacy or proprietary codes that you can't convert, you have to do a few things in order to develop/maintain, compile and kinda run a SpringBootApplication running them in Intellij:</p>\n<ol>\n<li><p>maven: your pom must be a '<strong>war</strong>' package.\nThat will makes intellij look for and compile the JSPs right.</p>\n</li>\n<li><p>web facet: put your .jsp files in a folder where they are expected to be in a webapp: <strong>src/main/webapp/WEB-INF/jsp/</strong>\nThe jsp will never be 'compiled'/'interpretable' in static.</p>\n</li>\n<li><p>spring facet: set the prefix to /WEB-INF/jsp/ in your <strong>application.properties</strong></p>\n</li>\n<li><p>tomcat: have those dependencies:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n   &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n   &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<ol start=\"5\">\n<li>build runnable war: make an Intellij &quot;maven configuration&quot; that run :</li>\n</ol>\n<blockquote>\n<p>clean install -f pom.xml</p>\n</blockquote>\n<ol start=\"6\">\n<li>run that war: make an Intellij &quot;jar configuration&quot; with those settings:</li>\n</ol>\n<ul>\n<li>path to jar : &lt;the path to the <strong>war</strong> file in the <em>target</em> folder&gt;</li>\n<li>before launch : run the &quot;maven configuration&quot; you created</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16166077,"reputation":617,"user_id":12219726,"display_name":"HenriDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652516475,"creation_date":1652516475,"answer_id":72238478,"question_id":70904082,"body_markdown":"i had a similar problem and for me specifying the web resource directory containing the JSP files resolved the issue.\r\n\r\n1. open project structure and under modules -&gt; web -&gt; web resource directory specify the directory in which your view are contained (in this case `webapp`) \r\n2. open `application.properties`\r\n3. specify the folder within your webresource directory which contains your views as prefix (in this case `/views/`)\r\n4. specify your view suffix `.jsp`\r\n\r\nthis should enable intelij to resolve the views returned by the controller.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q4EXS.png\r\n  [2]: https://i.stack.imgur.com/K8ihc.png","title":"SpringBoot Web MVC Application cannot resolve JSP views","body":"<p>i had a similar problem and for me specifying the web resource directory containing the JSP files resolved the issue.</p>\n<ol>\n<li>open project structure and under modules -&gt; web -&gt; web resource directory specify the directory in which your view are contained (in this case <code>webapp</code>)</li>\n<li>open <code>application.properties</code></li>\n<li>specify the folder within your webresource directory which contains your views as prefix (in this case <code>/views/</code>)</li>\n<li>specify your view suffix <code>.jsp</code></li>\n</ol>\n<p>this should enable intelij to resolve the views returned by the controller.</p>\n<p><a href=\"https://i.stack.imgur.com/q4EXS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4EXS.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/K8ihc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K8ihc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20609712,"reputation":1,"user_id":15129184,"display_name":"dhananjay dhawale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696260283,"creation_date":1696257949,"answer_id":77216435,"question_id":70904082,"body_markdown":"I have ultimate version of intellij, it was throwing me error saying **cannot resolve jsp**. Showing me warning. I created the module, specified the path. And it was working. Click on the + icon of web resource directory, and mention the path of your jsp file. It will work.","title":"SpringBoot Web MVC Application cannot resolve JSP views","body":"<p>I have ultimate version of intellij, it was throwing me error saying <strong>cannot resolve jsp</strong>. Showing me warning. I created the module, specified the path. And it was working. Click on the + icon of web resource directory, and mention the path of your jsp file. It will work.</p>\n"}],"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71149000,"answer_count":3,"score":0,"last_activity_date":1696260283,"creation_date":1643449508,"question_id":70904082,"body_markdown":"I am trying to implement a web application using Springboot. but when I request methods I get 404 Error. Springboot cannot find Jsp files.\r\n\r\nthis is my Controller Code:\r\n\r\n```\r\n@PostMapping(value = &quot;/loginSuccess&quot;)\r\npublic ModelAndView loginSuccess() {\r\n    System.out.println(&quot;in login success&quot;);\r\n    return new ModelAndView(&quot;index&quot;);\r\n}\r\n\r\n@GetMapping(value = &quot;/loginError&quot;)\r\npublic ModelAndView showLoginError() {\r\n    System.out.println(&quot;in login error&quot;);\r\n    return new ModelAndView(&quot;error&quot;);\r\n}\r\n```\r\n\r\nand this is my SecurityConfig:\r\n\r\n```\r\n@ComponentScan\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return  new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){\r\n        return new EmployeeDetailService(employeeRepository, passwordEncoder());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .formLogin()\r\n                .successForwardUrl(&quot;/loginSuccess&quot;)\r\n                .failureUrl(&quot;/loginError&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n}\r\n```\r\nI also specified prefix and suffix in application.properties:\r\n\r\n```\r\nspring.mvc.view.prefix=/static/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\nI also have these dependencies in my pom file:\r\n```\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\nand this is my Project Structure:\r\n\r\n[![enter image description here][1]][1]\r\ncan anyone tell me what is the problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pF8G2.png","title":"SpringBoot Web MVC Application cannot resolve JSP views","body":"<p>I am trying to implement a web application using Springboot. but when I request methods I get 404 Error. Springboot cannot find Jsp files.</p>\n<p>this is my Controller Code:</p>\n<pre><code>@PostMapping(value = &quot;/loginSuccess&quot;)\npublic ModelAndView loginSuccess() {\n    System.out.println(&quot;in login success&quot;);\n    return new ModelAndView(&quot;index&quot;);\n}\n\n@GetMapping(value = &quot;/loginError&quot;)\npublic ModelAndView showLoginError() {\n    System.out.println(&quot;in login error&quot;);\n    return new ModelAndView(&quot;error&quot;);\n}\n</code></pre>\n<p>and this is my SecurityConfig:</p>\n<pre><code>@ComponentScan\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private EmployeeRepository employeeRepository;\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return  new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(){\n        return new EmployeeDetailService(employeeRepository, passwordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .formLogin()\n                .successForwardUrl(&quot;/loginSuccess&quot;)\n                .failureUrl(&quot;/loginError&quot;)\n                .permitAll()\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .and()\n                .httpBasic();\n    }\n}\n</code></pre>\n<p>I also specified prefix and suffix in application.properties:</p>\n<pre><code>spring.mvc.view.prefix=/static/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>I also have these dependencies in my pom file:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>and this is my Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/pF8G2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pF8G2.png\" alt=\"enter image description here\" /></a>\ncan anyone tell me what is the problem?</p>\n"},{"tags":["java","spring","jms","activemq","jms-serializer"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1581219785,"post_id":60130803,"comment_id":106355670,"body_markdown":"I recommend you avoid using `javax.jms.ObjectMessage`. They depend on Java serialization to marshal and unmarshal their object payload which is generally considered unsafe because a malicious payload can exploit the host system. [Lots of CVEs](https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=objectmessage) have been created for this which is why most JMS providers force users to explicitly whitelist packages that can be exchanged using `ObjectMessage` messages. For example, here&#39;s the related documentation for [ActiveMQ 5.x](https://activemq.apache.org/objectmessage).","body":"I recommend you avoid using <code>javax.jms.ObjectMessage</code>. They depend on Java serialization to marshal and unmarshal their object payload which is generally considered unsafe because a malicious payload can exploit the host system. <a href=\"https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=objectmessage\" rel=\"nofollow noreferrer\">Lots of CVEs</a> have been created for this which is why most JMS providers force users to explicitly whitelist packages that can be exchanged using <code>ObjectMessage</code> messages. For example, here&#39;s the related documentation for <a href=\"https://activemq.apache.org/objectmessage\" rel=\"nofollow noreferrer\">ActiveMQ 5.x</a>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1581219817,"post_id":60130803,"comment_id":106355675,"body_markdown":"If possible, instead of using `javax.jms.ObjectMessage` define a data representation for the payload (JSON, protobuf, XML) and use a `javax.jms.TextMessage` or `javax.jms.BytesMessage` to carry it. There are a number of other issues with use JMS ObjectMessage not related to security that you should [read about](http://jmesnil.net/weblog/2012/07/27/on-jms-objectmessage-and-its-pitfalls/) as well.","body":"If possible, instead of using <code>javax.jms.ObjectMessage</code> define a data representation for the payload (JSON, protobuf, XML) and use a <code>javax.jms.TextMessage</code> or <code>javax.jms.BytesMessage</code> to carry it. There are a number of other issues with use JMS ObjectMessage not related to security that you should <a href=\"http://jmesnil.net/weblog/2012/07/27/on-jms-objectmessage-and-its-pitfalls/\" rel=\"nofollow noreferrer\">read about</a> as well."}],"owner":{"account_id":15531603,"reputation":13,"user_id":11611059,"display_name":"Gdd gffg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696260174,"creation_date":1581192947,"question_id":60130803,"body_markdown":"I am writing an application in Spring (I do not use Spring Boot). The application uses the JMS broker ActiveMQ.\r\n\r\nListener:\r\n```java\r\n@Component\r\npublic class ReceiveMessage {\r\n\r\n    private HistoryService historyService;\r\n\r\n    @Autowired\r\n    public void setHistoryService(HistoryService historyService) {\r\n\r\n        this.historyService = historyService;\r\n    }\r\n\r\n    @JmsListener(destination = &quot;my_topic&quot;)\r\n    public void receiveMessage(ObjectMessage objectMessage) throws JMSException {\r\n\r\n        Object object = ((ObjectMessage) objectMessage).getObject();\r\n        System.out.println(object);\r\n        if(objectMessage.getObject() instanceof History) {\r\n            History history = (History) objectMessage.getObject();\r\n            try {\r\n                historyService.add(history);\r\n            } catch (Exception e) {\r\n                System.out.println(e.toString());\r\n            }\r\n        }\r\n```\r\nMessage Producer:\r\n```java\r\n@Component\r\npublic class MessageProducer {\r\n\r\n    @Autowired\r\n    JmsTemplate jmsTemplate;\r\n\r\n    public void sendMessage(History history) {\r\n        jmsTemplate.send(&quot;my_topic&quot;, new MessageCreator() {\r\n            public Message createMessage(Session session) throws JMSException {\r\n                ObjectMessage objectMessage = session.createObjectMessage(history);\r\n                return objectMessage;\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nJMS Config:\r\n```java\r\n@Configuration\r\n@EnableJms\r\n@ComponentScan(basePackages = &quot;com.mycomp&quot;)\r\npublic class JMSConfig {\r\n\r\n    String BROKER_URL = &quot;tcp://localhost:61616&quot;;\r\n    String BROKER_USERNAME = &quot;admin&quot;;\r\n    String BROKER_PASSWORD = &quot;admin&quot;;\r\n\r\n    @Bean\r\n    public ActiveMQConnectionFactory connectionFactory(){\r\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\r\n        connectionFactory.setBrokerURL(BROKER_URL);\r\n        connectionFactory.setPassword(BROKER_USERNAME);\r\n        connectionFactory.setUserName(BROKER_PASSWORD);\r\n        return connectionFactory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public JmsTemplate jmsTemplate(){\r\n        JmsTemplate template = new JmsTemplate();\r\n        template.setConnectionFactory(connectionFactory());\r\n        template.setPubSubDomain(true); // для работы с topic\r\n        //утсановка места назначения для отправки и приема по умалчанию\r\n        // Destination defaultDestination = new ActiveMQTopic(&quot;my_topic&quot;);\r\n        // template.setDefaultDestination(defaultDestination);\r\n\r\n        return template;\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory());\r\n        factory.setConcurrency(&quot;1-1&quot;);\r\n\r\n        factory.setPubSubDomain(true); // для работы с topic\r\n        return factory;\r\n    }\r\n}\r\n```\r\nHistory class:\r\n```java\r\n@Entity (name = &quot;History&quot;)\r\n@Table(name = &quot;HISTORY&quot;, schema = &quot;PUBLIC&quot;)\r\npublic class History implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ID&quot;)\r\n    private long id;\r\n\r\n    @Column(name = &quot;CHANGETYPE&quot;)\r\n    private String changeType;\r\n\r\n    @Column(name = &quot;CHANGEENTITY&quot;)\r\n    private String changeEntity;\r\n\r\n    @Column(name = &quot;VALUE&quot;)\r\n    private String value;\r\n\r\n    public History(){\r\n    }\r\n    //..\r\n    //setters getters\r\n```\r\nActiveMQ:\r\n\r\n[![enter image description here][1]][1]\r\n \r\nProblems: \r\n\r\n1) instead of 1 listener, 2 listeners are implemented. \r\n\r\n2) I cannot cast an object when receiving a message to the type History.\r\n\r\nI tried to see what is sent and received in debug mode\r\n\r\nSending in the MessageProducer:\r\n\r\n[![enter image description here][2]][2]\r\n \r\nThat&#39;s what the listener gets:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut it seems that some data is here:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iFDAz.png\r\n  [2]: https://i.stack.imgur.com/OG02i.png\r\n  [3]: https://i.stack.imgur.com/cX06G.jpg\r\n  [4]: https://i.stack.imgur.com/l1US5.png","title":"2 identical JMS listeners are implemented instead of the 1st. ActiveMQ And cannot transmit and receive the object","body":"<p>I am writing an application in Spring (I do not use Spring Boot). The application uses the JMS broker ActiveMQ.</p>\n<p>Listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ReceiveMessage {\n\n    private HistoryService historyService;\n\n    @Autowired\n    public void setHistoryService(HistoryService historyService) {\n\n        this.historyService = historyService;\n    }\n\n    @JmsListener(destination = &quot;my_topic&quot;)\n    public void receiveMessage(ObjectMessage objectMessage) throws JMSException {\n\n        Object object = ((ObjectMessage) objectMessage).getObject();\n        System.out.println(object);\n        if(objectMessage.getObject() instanceof History) {\n            History history = (History) objectMessage.getObject();\n            try {\n                historyService.add(history);\n            } catch (Exception e) {\n                System.out.println(e.toString());\n            }\n        }\n</code></pre>\n<p>Message Producer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MessageProducer {\n\n    @Autowired\n    JmsTemplate jmsTemplate;\n\n    public void sendMessage(History history) {\n        jmsTemplate.send(&quot;my_topic&quot;, new MessageCreator() {\n            public Message createMessage(Session session) throws JMSException {\n                ObjectMessage objectMessage = session.createObjectMessage(history);\n                return objectMessage;\n            }\n        });\n    }\n}\n</code></pre>\n<p>JMS Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\n@ComponentScan(basePackages = &quot;com.mycomp&quot;)\npublic class JMSConfig {\n\n    String BROKER_URL = &quot;tcp://localhost:61616&quot;;\n    String BROKER_USERNAME = &quot;admin&quot;;\n    String BROKER_PASSWORD = &quot;admin&quot;;\n\n    @Bean\n    public ActiveMQConnectionFactory connectionFactory(){\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\n        connectionFactory.setBrokerURL(BROKER_URL);\n        connectionFactory.setPassword(BROKER_USERNAME);\n        connectionFactory.setUserName(BROKER_PASSWORD);\n        return connectionFactory;\n    }\n\n\n    @Bean\n    public JmsTemplate jmsTemplate(){\n        JmsTemplate template = new JmsTemplate();\n        template.setConnectionFactory(connectionFactory());\n        template.setPubSubDomain(true); // для работы с topic\n        //утсановка места назначения для отправки и приема по умалчанию\n        // Destination defaultDestination = new ActiveMQTopic(&quot;my_topic&quot;);\n        // template.setDefaultDestination(defaultDestination);\n\n        return template;\n    }\n\n\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory());\n        factory.setConcurrency(&quot;1-1&quot;);\n\n        factory.setPubSubDomain(true); // для работы с topic\n        return factory;\n    }\n}\n</code></pre>\n<p>History class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity (name = &quot;History&quot;)\n@Table(name = &quot;HISTORY&quot;, schema = &quot;PUBLIC&quot;)\npublic class History implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private long id;\n\n    @Column(name = &quot;CHANGETYPE&quot;)\n    private String changeType;\n\n    @Column(name = &quot;CHANGEENTITY&quot;)\n    private String changeEntity;\n\n    @Column(name = &quot;VALUE&quot;)\n    private String value;\n\n    public History(){\n    }\n    //..\n    //setters getters\n</code></pre>\n<p>ActiveMQ:</p>\n<p><a href=\"https://i.stack.imgur.com/iFDAz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iFDAz.png\" alt=\"enter image description here\" /></a></p>\n<p>Problems:</p>\n<ol>\n<li><p>instead of 1 listener, 2 listeners are implemented.</p>\n</li>\n<li><p>I cannot cast an object when receiving a message to the type History.</p>\n</li>\n</ol>\n<p>I tried to see what is sent and received in debug mode</p>\n<p>Sending in the MessageProducer:</p>\n<p><a href=\"https://i.stack.imgur.com/OG02i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OG02i.png\" alt=\"enter image description here\" /></a></p>\n<p>That's what the listener gets:</p>\n<p><a href=\"https://i.stack.imgur.com/cX06G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cX06G.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But it seems that some data is here:</p>\n<p><a href=\"https://i.stack.imgur.com/l1US5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l1US5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ajax","image","jsp","struts"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1380880992,"post_id":19178394,"comment_id":28373551,"body_markdown":"What is a src location?","body":"What is a src location?"},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1380882022,"post_id":19178394,"comment_id":28374040,"body_markdown":"thanks for quick reply src location is D:/resources/images/ i.e. outside server directory.","body":"thanks for quick reply src location is D:/resources/images/ i.e. outside server directory."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1380882246,"post_id":19178394,"comment_id":28374157,"body_markdown":"Post the code with comment where you are getting this.","body":"Post the code with comment where you are getting this."},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1380882723,"post_id":19178394,"comment_id":28374429,"body_markdown":"sorry I am getting this error while posting: Users with less than 10 reputation can&#39;t answer their own question for 8 hours after asking. You can answer in 7 hours. Until then please use comments, or edit your question instead.","body":"sorry I am getting this error while posting: Users with less than 10 reputation can&#39;t answer their own question for 8 hours after asking. You can answer in 7 hours. Until then please use comments, or edit your question instead."},{"owner":{"account_id":472669,"reputation":9843,"user_id":881272,"accept_rate":67,"display_name":"Angelo Fuchs"},"score":1,"creation_date":1380884730,"post_id":19178394,"comment_id":28375445,"body_markdown":"You should not answer your question EXCEPT when you have an ANSWER to your QUESTION. If you want to add details use the EDIT feature.","body":"You should not answer your question EXCEPT when you have an ANSWER to your QUESTION. If you want to add details use the EDIT feature."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380885419,"creation_date":1380885108,"answer_id":19179784,"question_id":19178394,"body_markdown":"You can&#39;t render images in such way. Web server treated your image path as relative and add qualifying url location on the server. You should create an action to serve images, for example \r\n\r\n    &lt;action path=&quot;/image&quot; ... scope=&quot;request&quot; validate=&quot;false&quot;/&gt;\r\n\r\nThen render HTML like\r\n\r\n    cell.innerHTML=&quot;&lt;img src=&#39;&quot; + &#39;/image?path=&#39; + imagePath + &quot;&#39; alt=&#39;&quot; + imagePath + &quot;&#39; height=&#39;42&#39; width=&#39;42&#39;&gt;&quot;;\r\n\r\nNow, create the action that write the binary image data to the response output stream. Take a parameter `path` in the action that let you find a file for binary output. After the flushing output return `null` so struts should not forward the action further. You could also add headers to turn off a `Cache-Control` to make sure the images are retrieved from the server.   ","title":"How to display an image which is outside of the server directory in Struts","body":"<p>You can't render images in such way. Web server treated your image path as relative and add qualifying url location on the server. You should create an action to serve images, for example </p>\n\n<pre><code>&lt;action path=\"/image\" ... scope=\"request\" validate=\"false\"/&gt;\n</code></pre>\n\n<p>Then render HTML like</p>\n\n<pre><code>cell.innerHTML=\"&lt;img src='\" + '/image?path=' + imagePath + \"' alt='\" + imagePath + \"' height='42' width='42'&gt;\";\n</code></pre>\n\n<p>Now, create the action that write the binary image data to the response output stream. Take a parameter <code>path</code> in the action that let you find a file for binary output. After the flushing output return <code>null</code> so struts should not forward the action further. You could also add headers to turn off a <code>Cache-Control</code> to make sure the images are retrieved from the server.   </p>\n"},{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396557050,"creation_date":1381732355,"answer_id":19354621,"question_id":19178394,"body_markdown":"Hi Below is the answer to my question, I have created `ImageServlet` for displaying image, steps to perform: \r\n\r\n**1. you need to add mapping in web.xml file:**\r\n\r\n\t\t&lt;servlet-name&gt;ImageServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/ImageServlet/*&lt;/url-pattern&gt;\r\n\r\n**2. create** `ImageServlet`:\r\n\r\n\r\n\r\n\r\n    public class ImageServlet extends HttpServlet {\r\n    \t\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException\r\n        {\r\n        \t\r\n        \t//Setting image path\r\n        \tImageLocationService locationService = new ImageLocationService();\r\n        \t\r\n        \ttry {\r\n        \t\tString imageCategory = request.getParameter(&quot;imageCategory&quot;);\r\n        \t\tif (imageCategory != null) {\r\n            \t\tthis.imagePath = locationService.getImageLocation(imageCategory);\r\n        \t\t}else{\r\n        \t\t\tthis.imagePath = ConfigConstants.imageLocation;\r\n        \t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        \t\r\n            // Get requested image by path info.\r\n            String requestedImage = request.getPathInfo();\r\n    \r\n            // Check if file name is actually supplied to the request URI.\r\n            if (requestedImage == null) {\r\n                // Do your thing if the image is not supplied to the request URI.\r\n                // Throw an exception, or send 404, or show default/warning image, or just ignore it.\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\r\n                return;\r\n            }\r\n    \r\n            // Decode the file name (might contain spaces and on) and prepare file object.\r\n            File image = new File(imagePath, URLDecoder.decode(requestedImage, &quot;UTF-8&quot;));\r\n    \r\n            // Check if file actually exists in filesystem.\r\n            if (!image.exists()) {\r\n                // Do your thing if the file appears to be non-existing.\r\n                // Throw an exception, or send 404, or show default/warning image, or just ignore it.\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\r\n                return;\r\n            }\r\n    \r\n            // Get content type by filename.\r\n            String contentType = getServletContext().getMimeType(image.getName());\r\n    \r\n            // Check if file is actually an image (avoid download of other files by hackers!).\r\n            // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\r\n            if (contentType == null || !contentType.startsWith(&quot;image&quot;)) {\r\n                // Do your thing if the file appears not being a real image.\r\n                // Throw an exception, or send 404, or show default/warning image, or just ignore it.\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\r\n                return;\r\n            }\r\n    \r\n            // Init servlet response.\r\n            response.reset();\r\n            response.setBufferSize(DEFAULT_BUFFER_SIZE);\r\n            response.setContentType(contentType);\r\n            response.setHeader(&quot;Content-Length&quot;, String.valueOf(image.length()));\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;inline; filename=\\&quot;&quot; + image.getName() + &quot;\\&quot;&quot;);\r\n    \r\n            // Prepare streams.\r\n            BufferedInputStream input = null;\r\n            BufferedOutputStream output = null;\r\n    \r\n            try {\r\n                // Open streams.\r\n                input = new BufferedInputStream(new FileInputStream(image), DEFAULT_BUFFER_SIZE);\r\n                output = new BufferedOutputStream(response.getOutputStream(), DEFAULT_BUFFER_SIZE);\r\n    \r\n                // Write file contents to response.\r\n                byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\r\n                int length;\r\n                while ((length = input.read(buffer)) &gt; 0) {\r\n                    output.write(buffer, 0, length);\r\n                }\r\n            } finally {\r\n                // Gently close streams.\r\n                close(output);\r\n                close(input);\r\n            }\r\n        }\r\n    \r\n    \tprivate static void close(Closeable resource) {\r\n            if (resource != null) {\r\n                try {\r\n                    resource.close();\r\n                } catch (IOException e) {\r\n                    // Do your thing with the exception. Print it, log it or mail it.\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**3. At jsp side you need to add the mapping in step 1 in your** `img` **tag i.e. input type=&#39;image&#39;:**\r\n\r\n    &lt;input  type=&quot;image&quot; alt=&#39;No image found&#39; src=&#39;../ImageServlet/append image name that you want to display&#39; /&gt;\r\n\r\n\r\nYou can even create `Action` class and use `execute` method for doing the same.","title":"How to display an image which is outside of the server directory in Struts","body":"<p>Hi Below is the answer to my question, I have created <code>ImageServlet</code> for displaying image, steps to perform: </p>\n\n<p><strong>1. you need to add mapping in web.xml file:</strong></p>\n\n<pre><code>    &lt;servlet-name&gt;ImageServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/ImageServlet/*&lt;/url-pattern&gt;\n</code></pre>\n\n<p><strong>2. create</strong> <code>ImageServlet</code>:</p>\n\n<pre><code>public class ImageServlet extends HttpServlet {\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException\n    {\n\n        //Setting image path\n        ImageLocationService locationService = new ImageLocationService();\n\n        try {\n            String imageCategory = request.getParameter(\"imageCategory\");\n            if (imageCategory != null) {\n                this.imagePath = locationService.getImageLocation(imageCategory);\n            }else{\n                this.imagePath = ConfigConstants.imageLocation;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // Get requested image by path info.\n        String requestedImage = request.getPathInfo();\n\n        // Check if file name is actually supplied to the request URI.\n        if (requestedImage == null) {\n            // Do your thing if the image is not supplied to the request URI.\n            // Throw an exception, or send 404, or show default/warning image, or just ignore it.\n            response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\n            return;\n        }\n\n        // Decode the file name (might contain spaces and on) and prepare file object.\n        File image = new File(imagePath, URLDecoder.decode(requestedImage, \"UTF-8\"));\n\n        // Check if file actually exists in filesystem.\n        if (!image.exists()) {\n            // Do your thing if the file appears to be non-existing.\n            // Throw an exception, or send 404, or show default/warning image, or just ignore it.\n            response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\n            return;\n        }\n\n        // Get content type by filename.\n        String contentType = getServletContext().getMimeType(image.getName());\n\n        // Check if file is actually an image (avoid download of other files by hackers!).\n        // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\n        if (contentType == null || !contentType.startsWith(\"image\")) {\n            // Do your thing if the file appears not being a real image.\n            // Throw an exception, or send 404, or show default/warning image, or just ignore it.\n            response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\n            return;\n        }\n\n        // Init servlet response.\n        response.reset();\n        response.setBufferSize(DEFAULT_BUFFER_SIZE);\n        response.setContentType(contentType);\n        response.setHeader(\"Content-Length\", String.valueOf(image.length()));\n        response.setHeader(\"Content-Disposition\", \"inline; filename=\\\"\" + image.getName() + \"\\\"\");\n\n        // Prepare streams.\n        BufferedInputStream input = null;\n        BufferedOutputStream output = null;\n\n        try {\n            // Open streams.\n            input = new BufferedInputStream(new FileInputStream(image), DEFAULT_BUFFER_SIZE);\n            output = new BufferedOutputStream(response.getOutputStream(), DEFAULT_BUFFER_SIZE);\n\n            // Write file contents to response.\n            byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\n            int length;\n            while ((length = input.read(buffer)) &gt; 0) {\n                output.write(buffer, 0, length);\n            }\n        } finally {\n            // Gently close streams.\n            close(output);\n            close(input);\n        }\n    }\n\n    private static void close(Closeable resource) {\n        if (resource != null) {\n            try {\n                resource.close();\n            } catch (IOException e) {\n                // Do your thing with the exception. Print it, log it or mail it.\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>3. At jsp side you need to add the mapping in step 1 in your</strong> <code>img</code> <strong>tag i.e. input type='image':</strong></p>\n\n<pre><code>&lt;input  type=\"image\" alt='No image found' src='../ImageServlet/append image name that you want to display' /&gt;\n</code></pre>\n\n<p>You can even create <code>Action</code> class and use <code>execute</code> method for doing the same.</p>\n"}],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19179784,"answer_count":2,"score":1,"last_activity_date":1696260166,"creation_date":1380880616,"question_id":19178394,"body_markdown":"This question is continuation to my previous question https://stackoverflow.com/questions/19089175/accessing-external-files-into-our-web-application, actually I am uploading file using Struts tag `&lt;html:file property=&quot;file&quot; /&gt;`\r\n\r\nBut now I wanted to show the uploaded images from that location but I am getting `src` location as `http://localhost:9443/D:/resources/images/img1.jpg` which is not a valid path for that image.\r\n\r\n**How to access that image which is outside my server directory.**\r\n\r\n\r\n\r\n\r\nThis is how I am sending Ajax response with **Absolute path** of images\r\n\r\n\r\n    public ActionForward getAjaxUploadedFiles(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\tString imagePath = &quot;D:/resources/images/&quot;;\r\n    \t\tArrayList&lt;String&gt; path = new ArrayList&lt;String&gt;();\r\n    \t\t\r\n    \t\tFile imageFile = new File(imagePath);\r\n    \t\tFile imageFiles[] = imageFile.listFiles();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; imageFiles.length; i++) {\r\n    \t\t\tpath.add(imageFiles[i].getAbsolutePath());\r\n    \t\t}\r\n    \t\t\r\n    \t\tPrintWriter out = response.getWriter();\r\n    \t\tresponse.setContentType(&quot;text/xml&quot;);\r\n    \t\tresponse.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n    \t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n    \t\t\r\n    \t\tStringBuffer strXMl = new StringBuffer();\r\n    \t\tstrXMl.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;);\r\n    \t\tstrXMl.append(&quot;&lt;start&gt;&quot;); \r\n    \t\t\r\n    \t\t\r\n    \t\tfor (String imagePth : path) {\r\n    \t\t\tstrXMl.append(&quot;&lt;imagePath&gt;&quot;);\r\n    \t\t\tstrXMl.append(imagePth);\r\n    \t\t\tstrXMl.append(&quot;&lt;/imagePath&gt;&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tstrXMl.append(&quot;&lt;/start&gt;&quot;);\r\n    \t\t\r\n    \t\tif(strXMl != null){ \r\n    \t\t\tString Xml = strXMl.toString();\r\n    \t\t\tout.write(Xml);\r\n    \t\t\tSystem.err.println(&quot;XMl Reponse is: &quot; + Xml);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tresponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n    \t\t}\r\n    \t\tout.flush();\r\n    \t\t\r\n    \t\treturn mapping.findForward(null);\r\n    \t}\r\n\r\n\r\n\r\nThis is how I am rendering images at JSP\r\n\r\n   \r\n\r\n     $(response).find(&quot;imagePath&quot;).each(function() {\r\n        \t\trow = tblReportList.insertRow(0);\r\n        \t\trow.className=&quot;TableBordergray&quot;;\r\n        \t\trow.style.width=&quot;100%&quot;;\r\n        \t\t\r\n        \t\tvar imagePath = $(this).text();\r\n        \t\t\t\t\r\n        \t\tcell = row.insertCell(0);\r\n        \t\tcell.innerHTML=&quot;&lt;img src=&#39;&quot; + imagePath + &quot;&#39; alt=&#39;&quot; + imagePath + &quot;&#39; height=&#39;42&#39; width=&#39;42&#39;&gt;&quot;;\r\n        \t});\r\n    \r\n\r\n\r\nbut at `&lt;img&gt;` tag I am getting image path as `http://localhost:9443/D:/resources/images/img1.jpg`","title":"How to display an image which is outside of the server directory in Struts","body":"<p>This question is continuation to my previous question <a href=\"https://stackoverflow.com/questions/19089175/accessing-external-files-into-our-web-application\">Accessing External Files Into Our Web Application</a>, actually I am uploading file using Struts tag <code>&lt;html:file property=&quot;file&quot; /&gt;</code></p>\n<p>But now I wanted to show the uploaded images from that location but I am getting <code>src</code> location as <code>http://localhost:9443/D:/resources/images/img1.jpg</code> which is not a valid path for that image.</p>\n<p><strong>How to access that image which is outside my server directory.</strong></p>\n<p>This is how I am sending Ajax response with <strong>Absolute path</strong> of images</p>\n<pre><code>public ActionForward getAjaxUploadedFiles(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception\n    {\n        \n        String imagePath = &quot;D:/resources/images/&quot;;\n        ArrayList&lt;String&gt; path = new ArrayList&lt;String&gt;();\n        \n        File imageFile = new File(imagePath);\n        File imageFiles[] = imageFile.listFiles();\n        \n        for (int i = 0; i &lt; imageFiles.length; i++) {\n            path.add(imageFiles[i].getAbsolutePath());\n        }\n        \n        PrintWriter out = response.getWriter();\n        response.setContentType(&quot;text/xml&quot;);\n        response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n        response.setStatus(HttpServletResponse.SC_OK);\n        \n        StringBuffer strXMl = new StringBuffer();\n        strXMl.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;);\n        strXMl.append(&quot;&lt;start&gt;&quot;); \n        \n        \n        for (String imagePth : path) {\n            strXMl.append(&quot;&lt;imagePath&gt;&quot;);\n            strXMl.append(imagePth);\n            strXMl.append(&quot;&lt;/imagePath&gt;&quot;);\n        }\n        \n        strXMl.append(&quot;&lt;/start&gt;&quot;);\n        \n        if(strXMl != null){ \n            String Xml = strXMl.toString();\n            out.write(Xml);\n            System.err.println(&quot;XMl Reponse is: &quot; + Xml);\n        }\n        else {\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n        }\n        out.flush();\n        \n        return mapping.findForward(null);\n    }\n</code></pre>\n<p>This is how I am rendering images at JSP</p>\n<pre><code> $(response).find(&quot;imagePath&quot;).each(function() {\n            row = tblReportList.insertRow(0);\n            row.className=&quot;TableBordergray&quot;;\n            row.style.width=&quot;100%&quot;;\n            \n            var imagePath = $(this).text();\n                    \n            cell = row.insertCell(0);\n            cell.innerHTML=&quot;&lt;img src='&quot; + imagePath + &quot;' alt='&quot; + imagePath + &quot;' height='42' width='42'&gt;&quot;;\n        });\n</code></pre>\n<p>but at <code>&lt;img&gt;</code> tag I am getting image path as <code>http://localhost:9443/D:/resources/images/img1.jpg</code></p>\n"},{"tags":["java","postgresql","migration","liquibase"],"comments":[{"owner":{"account_id":131902,"reputation":6273,"user_id":332248,"accept_rate":62,"display_name":"Jens"},"score":1,"creation_date":1454492973,"post_id":35172172,"comment_id":58064455,"body_markdown":"The documentation on postgresql says for the `default clause` (on `create table` statement): *The `DEFAULT` clause assigns a default data value for the column whose column definition it appears within. The value is any variable-free expression (subqueries and cross-references to other columns in the current table are not allowed)...* And I don&#39;t think that liquibase has some functionality to add this in any way...","body":"The documentation on postgresql says for the <code>default clause</code> (on <code>create table</code> statement): <i>The <code>DEFAULT</code> clause assigns a default data value for the column whose column definition it appears within. The value is any variable-free expression (subqueries and cross-references to other columns in the current table are not allowed)...</i> And I don&#39;t think that liquibase has some functionality to add this in any way..."}],"answers":[{"tags":[],"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454516525,"creation_date":1454516525,"answer_id":35182292,"question_id":35172172,"body_markdown":"You could use the `defaultValueComputed` attribute, which takes the name of a procedure or function. You would have to also create a changeset that creates the procedure. \r\n\r\nThat might look *something* like this:\r\n\r\n    &lt;changeSet author=&quot;steve&quot; id=&quot;createProcedureForDefaultValue&quot;&gt;\r\n        &lt;createProcedure procedureName=&quot;myCoolProc&quot;&gt;\r\n        CREATE OR REPLACE PROCEDURE myCoolProc IS\r\n        BEGIN\r\n           -- actual logic here\r\n        END;\r\n        &lt;/createProcedure&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet author=&quot;steve&quot; id=&quot;addDefaultValueColumn&quot;&gt;\r\n        &lt;addColumn tableName=&quot;ORDERS&quot;&gt;\r\n            &lt;column name=&quot;LAST_MODIFIED_BY&quot; type=&quot;VARCHAR&quot; defaultValueComputed=&quot;myCoolProc&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/addColumn&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nAlternatively, you could do this using the `&lt;sql&gt;` tag.\r\n","title":"How to add new column with default value from existing column in Liquibase","body":"<p>You could use the <code>defaultValueComputed</code> attribute, which takes the name of a procedure or function. You would have to also create a changeset that creates the procedure. </p>\n\n<p>That might look <em>something</em> like this:</p>\n\n<pre><code>&lt;changeSet author=\"steve\" id=\"createProcedureForDefaultValue\"&gt;\n    &lt;createProcedure procedureName=\"myCoolProc\"&gt;\n    CREATE OR REPLACE PROCEDURE myCoolProc IS\n    BEGIN\n       -- actual logic here\n    END;\n    &lt;/createProcedure&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet author=\"steve\" id=\"addDefaultValueColumn\"&gt;\n    &lt;addColumn tableName=\"ORDERS\"&gt;\n        &lt;column name=\"LAST_MODIFIED_BY\" type=\"VARCHAR\" defaultValueComputed=\"myCoolProc\"&gt;\n            &lt;constraints nullable=\"false\"/&gt;\n        &lt;/column&gt;\n    &lt;/addColumn&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>Alternatively, you could do this using the <code>&lt;sql&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":1173645,"reputation":3069,"user_id":1150189,"accept_rate":69,"display_name":"Noam"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1692468577,"creation_date":1456046277,"answer_id":35534339,"question_id":35172172,"body_markdown":"Since no one answered here I&#39;m posting the way I handled it:\r\n\r\n    &lt;changeSet id=&quot;Add MODIFY_USER_ID to ORDERS&quot; author=&quot;Noam&quot;&gt;\r\n        &lt;addColumn tableName=&quot;ORDERS&quot;&gt;\r\n            &lt;column name=&quot;MODIFY_USER_ID&quot; type=&quot;BIGINT&quot;&gt;\r\n                &lt;constraints foreignKeyName=&quot;ORDERS_MODIFY_FK&quot; referencedTableName=&quot;USERS&quot; referencedColumnNames=&quot;ID&quot; /&gt;\r\n            &lt;/column&gt;\r\n        &lt;/addColumn&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;update the new MODIFY_USER_ID column to get the CREATOR&quot; author=&quot;Noam&quot;&gt;\r\n        &lt;sql&gt;update ORDERS set MODIFY_USER_ID = CREATOR&lt;/sql&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;Add not nullable constraint on MODIFY_USER_ID column&quot; author=&quot;Noam&quot;&gt;\r\n        &lt;addNotNullConstraint tableName=&quot;ORDERS&quot; columnName=&quot;MODIFY_USER_ID&quot; columnDataType=&quot;BIGINT&quot; /&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nI&#39;ve done this in three different change-sets as the documentation recommends\r\n","title":"How to add new column with default value from existing column in Liquibase","body":"<p>Since no one answered here I'm posting the way I handled it:</p>\n<pre><code>&lt;changeSet id=&quot;Add MODIFY_USER_ID to ORDERS&quot; author=&quot;Noam&quot;&gt;\n    &lt;addColumn tableName=&quot;ORDERS&quot;&gt;\n        &lt;column name=&quot;MODIFY_USER_ID&quot; type=&quot;BIGINT&quot;&gt;\n            &lt;constraints foreignKeyName=&quot;ORDERS_MODIFY_FK&quot; referencedTableName=&quot;USERS&quot; referencedColumnNames=&quot;ID&quot; /&gt;\n        &lt;/column&gt;\n    &lt;/addColumn&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet id=&quot;update the new MODIFY_USER_ID column to get the CREATOR&quot; author=&quot;Noam&quot;&gt;\n    &lt;sql&gt;update ORDERS set MODIFY_USER_ID = CREATOR&lt;/sql&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet id=&quot;Add not nullable constraint on MODIFY_USER_ID column&quot; author=&quot;Noam&quot;&gt;\n    &lt;addNotNullConstraint tableName=&quot;ORDERS&quot; columnName=&quot;MODIFY_USER_ID&quot; columnDataType=&quot;BIGINT&quot; /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>I've done this in three different change-sets as the documentation recommends</p>\n"},{"tags":[],"owner":{"account_id":24364347,"reputation":11,"user_id":18298281,"display_name":"user18298281"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696260136,"creation_date":1645699793,"answer_id":71250770,"question_id":35172172,"body_markdown":"you can try this:\r\n\r\n    &lt;column name=&quot;columnName&quot; type=&quot;VARCHAR(255 BYTE)&quot; defaultValue=&quot;def_value&quot; value=&quot;def_value&quot;&gt;\r\n\r\n","title":"How to add new column with default value from existing column in Liquibase","body":"<p>you can try this:</p>\n<pre><code>&lt;column name=&quot;columnName&quot; type=&quot;VARCHAR(255 BYTE)&quot; defaultValue=&quot;def_value&quot; value=&quot;def_value&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":1173645,"reputation":3069,"user_id":1150189,"accept_rate":69,"display_name":"Noam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30595,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":35534339,"answer_count":3,"score":21,"last_activity_date":1696260136,"creation_date":1454489072,"question_id":35172172,"body_markdown":"I&#39;m using Postgres DB and for migration I&#39;m using Liquibase.\r\nI have an ORDERS table with the following columns:\r\n\r\n    ID | DATE | NAME | CREATOR | ...\r\nI need to add a new column which will hold the user who has last modified the order - this column should be not-nullable and should have default value which is the CREATOR.\r\nFor new orders I can solve the default value part of the business logic, **but** thing is I already have an existing orders and I need to set the default value when I create the new column.\r\nNow, I know I can set a hard-coded [default value in Liquibase][1] - but is there a way I could add the default value based on some other column of that table (for each entity).\r\n \r\n\r\n\r\n  [1]: http://www.liquibase.org/documentation/changes/add_default_value.html","title":"How to add new column with default value from existing column in Liquibase","body":"<p>I'm using Postgres DB and for migration I'm using Liquibase.\nI have an ORDERS table with the following columns:</p>\n\n<pre><code>ID | DATE | NAME | CREATOR | ...\n</code></pre>\n\n<p>I need to add a new column which will hold the user who has last modified the order - this column should be not-nullable and should have default value which is the CREATOR.\nFor new orders I can solve the default value part of the business logic, <strong>but</strong> thing is I already have an existing orders and I need to set the default value when I create the new column.\nNow, I know I can set a hard-coded <a href=\"http://www.liquibase.org/documentation/changes/add_default_value.html\" rel=\"noreferrer\">default value in Liquibase</a> - but is there a way I could add the default value based on some other column of that table (for each entity).</p>\n"},{"tags":["java","activemq","activemq-artemis","jbossfuse"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696259600,"creation_date":1581863968,"answer_id":60249616,"question_id":60247260,"body_markdown":"The &quot;Summary&quot; from the [linked example][1] says:\r\n\r\n&gt; This quickstart demonstrates how to use the camel-jms component to connect to an **AMQ 7** broker and use JMS messaging between two Camel routes. [emphasis added]\r\n\r\nAMQ 7 is based on [ActiveMQ Artemis][2], not ActiveMQ &quot;Classic&quot; (which you are using). ActiveMQ &quot;Classic&quot; doesn&#39;t support the &quot;core&quot; protocol which the Artemis JMS client implementation speaks.\r\n\r\nTherefore, you should either change the Camel configuration to use the ActiveMQ &quot;Classic&quot; OpenWire JMS client implementation or replace your ActiveMQ 5.15.11 instance with ActiveMQ Artemis.\r\n\r\n\r\n  [1]: https://github.com/jboss-fuse/karaf-quickstarts/tree/release-work-7.4.0.fuse-740/camel/camel-jms\r\n  [2]: http://activemq.apache.org/components/artemis/","title":"JBoss FUSE 7.4 with External ActiveMQ giving AMQ219013: Timed out waiting to receive cluster topology. Group:null","body":"<p>The &quot;Summary&quot; from the <a href=\"https://github.com/jboss-fuse/karaf-quickstarts/tree/release-work-7.4.0.fuse-740/camel/camel-jms\" rel=\"nofollow noreferrer\">linked example</a> says:</p>\n<blockquote>\n<p>This quickstart demonstrates how to use the camel-jms component to connect to an <strong>AMQ 7</strong> broker and use JMS messaging between two Camel routes. [emphasis added]</p>\n</blockquote>\n<p>AMQ 7 is based on <a href=\"http://activemq.apache.org/components/artemis/\" rel=\"nofollow noreferrer\">ActiveMQ Artemis</a>, not ActiveMQ &quot;Classic&quot; (which you are using). ActiveMQ &quot;Classic&quot; doesn't support the &quot;core&quot; protocol which the Artemis JMS client implementation speaks.</p>\n<p>Therefore, you should either change the Camel configuration to use the ActiveMQ &quot;Classic&quot; OpenWire JMS client implementation or replace your ActiveMQ 5.15.11 instance with ActiveMQ Artemis.</p>\n"},{"tags":[],"owner":{"account_id":469437,"reputation":2024,"user_id":876011,"display_name":"Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1582957324,"creation_date":1582957324,"answer_id":60462542,"question_id":60247260,"body_markdown":"As instructions mentioned in that example its not compatible with JBossFUSE 7.4.\r\nIn your case you have to install following features \r\n\r\n        &lt;feature&gt;camel-jms&lt;/feature&gt;\r\n        &lt;feature&gt;camel-activemq&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jms-activemq&lt;/feature&gt;\r\n\r\nThen you have to define your ActiveMQ endpoint inside your project blueprint.xml. Make sure to details correctly in here.\r\n\r\n      &lt;bean id=&quot;activemq&quot; class=&quot;org.apache.activemq.camel.component.ActiveMQComponent&quot;&gt;\r\n\r\n       &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://localhost:61616&quot;/&gt;\r\n\r\n      &lt;/bean&gt;\r\n\r\nThen you can read or right in to Queues. Following line show how you can read queue &quot;inbound.queue&quot;\r\n\r\n    &lt;from uri=&quot;activemq:queue:inbound.queue&quot;/&gt;\r\n\r\nYou can refer to following blog for more detail description about how to configure ActiveMQ in Fuse 7.4.\r\n\r\nhttps://nirmalbalasooriya.blogspot.com/2020/02/external-active-mq-hibernate-with-jboss.html","title":"JBoss FUSE 7.4 with External ActiveMQ giving AMQ219013: Timed out waiting to receive cluster topology. Group:null","body":"<p>As instructions mentioned in that example its not compatible with JBossFUSE 7.4.\nIn your case you have to install following features </p>\n\n<pre><code>    &lt;feature&gt;camel-jms&lt;/feature&gt;\n    &lt;feature&gt;camel-activemq&lt;/feature&gt;\n    &lt;feature&gt;pax-jms-activemq&lt;/feature&gt;\n</code></pre>\n\n<p>Then you have to define your ActiveMQ endpoint inside your project blueprint.xml. Make sure to details correctly in here.</p>\n\n<pre><code>  &lt;bean id=\"activemq\" class=\"org.apache.activemq.camel.component.ActiveMQComponent\"&gt;\n\n   &lt;property name=\"brokerURL\" value=\"tcp://localhost:61616\"/&gt;\n\n  &lt;/bean&gt;\n</code></pre>\n\n<p>Then you can read or right in to Queues. Following line show how you can read queue \"inbound.queue\"</p>\n\n<pre><code>&lt;from uri=\"activemq:queue:inbound.queue\"/&gt;\n</code></pre>\n\n<p>You can refer to following blog for more detail description about how to configure ActiveMQ in Fuse 7.4.</p>\n\n<p><a href=\"https://nirmalbalasooriya.blogspot.com/2020/02/external-active-mq-hibernate-with-jboss.html\" rel=\"nofollow noreferrer\">https://nirmalbalasooriya.blogspot.com/2020/02/external-active-mq-hibernate-with-jboss.html</a></p>\n"}],"owner":{"account_id":446393,"reputation":375,"user_id":6318555,"accept_rate":64,"display_name":"casper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4324,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60462542,"answer_count":2,"score":3,"last_activity_date":1696259600,"creation_date":1581846597,"question_id":60247260,"body_markdown":"I&#39;m trying to connect to ActiveMQ message broker on JBoss FUSE 7.4 (**fuse-karaf-7.4.0.fuse-740028-redhat-00001**). I found the [following example][1].\r\n\r\nI have downloaded and installed relevant features as instructed in the project. Also I have downloaded and installed ActiveMQ &quot;Classic&quot; 5.15.11 and created the `incomingOrders` Queue.\r\n\r\nI have added the `org.ops4j.connectionfactory-amq7.cfg` configuration file in to `FUSE_HOME/etc` folder with my local user name and password as follows:\r\n\r\n```\r\nurl      = tcp://LAPTOP-E0A1RCAN:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=10485760\r\nname     = activemq\r\ntype     = artemis\r\nuser     = admin\r\npassword = admin\r\n```\r\nAfter that when I install the application I&#39;m getting following error.\r\n\r\n    java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.PacketDecoder.decode(PacketDecoder.java:475) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:67) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:42) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:376) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [239:io.netty.codec:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [239:io.netty.codec:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905) [241:io.netty.common:4.1.34.Final-redhat-00001]\r\n    \tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    2020-02-16 17:41:34,755 | ERROR | lient-netty-threads) | o.a.a.a.c.client                 | 248 - org.apache.activemq.artemis-jms-client-osgi - 2.7.0.redhat-00056 | AMQ214031: Failed to decode buffer, disconnect immediately.\r\n    java.lang.IllegalStateException: java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:389) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [239:io.netty.codec:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [239:io.netty.codec:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905) [241:io.netty.common:4.1.34.Final-redhat-00001]\r\n    \tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    Caused by: java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.PacketDecoder.decode(PacketDecoder.java:475) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:67) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:42) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:376) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \t... 21 more\r\n\r\nIn ActiveMQ log, I could see following warning .\r\n\r\n    2020-02-16 17:44:29,802 | WARN  | Transport Connection to: tcp://127.0.0.1:51000 failed: java.io.IOException: Frame size of 1 GB larger than max allowed 100 MB | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///127.0.0.1:51000@61616\r\n\r\nDid any one have similar issues connecting to ActiveMQ with FUSE 7.4 or 7.1+?\r\n\r\n\r\n  [1]: https://github.com/jboss-fuse/karaf-quickstarts/tree/release-work-7.4.0.fuse-740/camel/camel-jms","title":"JBoss FUSE 7.4 with External ActiveMQ giving AMQ219013: Timed out waiting to receive cluster topology. Group:null","body":"<p>I'm trying to connect to ActiveMQ message broker on JBoss FUSE 7.4 (<strong>fuse-karaf-7.4.0.fuse-740028-redhat-00001</strong>). I found the <a href=\"https://github.com/jboss-fuse/karaf-quickstarts/tree/release-work-7.4.0.fuse-740/camel/camel-jms\" rel=\"nofollow noreferrer\">following example</a>.</p>\n<p>I have downloaded and installed relevant features as instructed in the project. Also I have downloaded and installed ActiveMQ &quot;Classic&quot; 5.15.11 and created the <code>incomingOrders</code> Queue.</p>\n<p>I have added the <code>org.ops4j.connectionfactory-amq7.cfg</code> configuration file in to <code>FUSE_HOME/etc</code> folder with my local user name and password as follows:</p>\n<pre><code>url      = tcp://LAPTOP-E0A1RCAN:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=10485760\nname     = activemq\ntype     = artemis\nuser     = admin\npassword = admin\n</code></pre>\n<p>After that when I install the application I'm getting following error.</p>\n<pre><code>java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\n    at org.apache.activemq.artemis.core.protocol.core.impl.PacketDecoder.decode(PacketDecoder.java:475) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:67) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:42) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:376) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [239:io.netty.codec:4.1.34.Final-redhat-00001]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [239:io.netty.codec:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905) [241:io.netty.common:4.1.34.Final-redhat-00001]\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n2020-02-16 17:41:34,755 | ERROR | lient-netty-threads) | o.a.a.a.c.client                 | 248 - org.apache.activemq.artemis-jms-client-osgi - 2.7.0.redhat-00056 | AMQ214031: Failed to decode buffer, disconnect immediately.\njava.lang.IllegalStateException: java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\n    at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:389) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [239:io.netty.codec:4.1.34.Final-redhat-00001]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [239:io.netty.codec:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905) [241:io.netty.common:4.1.34.Final-redhat-00001]\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\nCaused by: java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\n    at org.apache.activemq.artemis.core.protocol.core.impl.PacketDecoder.decode(PacketDecoder.java:475) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:67) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:42) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:376) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    ... 21 more\n</code></pre>\n<p>In ActiveMQ log, I could see following warning .</p>\n<pre><code>2020-02-16 17:44:29,802 | WARN  | Transport Connection to: tcp://127.0.0.1:51000 failed: java.io.IOException: Frame size of 1 GB larger than max allowed 100 MB | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///127.0.0.1:51000@61616\n</code></pre>\n<p>Did any one have similar issues connecting to ActiveMQ with FUSE 7.4 or 7.1+?</p>\n"},{"tags":["java","ajax","jsp","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1633871579,"post_id":69510511,"comment_id":122870793,"body_markdown":"Actions are mapped via the URL. If you want to execute another action then you should change the URL. You can do it different ways. Which one is used by you is unknown. One of the solution is to change configuration to reflect a web workflow for actions to return results. The result configuration might be defferent for those actions that should not appiar in the URL. The answer for you problem is [here](https://stackoverflow.com/a/42371170/573032)","body":"Actions are mapped via the URL. If you want to execute another action then you should change the URL. You can do it different ways. Which one is used by you is unknown. One of the solution is to change configuration to reflect a web workflow for actions to return results. The result configuration might be defferent for those actions that should not appiar in the URL. The answer for you problem is <a href=\"https://stackoverflow.com/a/42371170/573032\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":1513574,"reputation":168,"user_id":5899384,"display_name":"Rodrigo R. Coelho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634315565,"creation_date":1634314729,"answer_id":69587751,"question_id":69510511,"body_markdown":"Create a SuccessAction with redirectAction class. \r\n\r\n    &lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt; \r\n    &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n    &lt;action name=&quot;SuccessAction&quot; class=&quot;SuccessPage&quot;&gt;\r\n    &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/success.jsp&lt;/result&gt;\r\n    &lt;action name=&quot;manual_order&quot; class=&quot;materialTypeMasterAction&quot; method=&quot;enquiry_process&quot;&gt;\r\n    &lt;result type=&quot;redirectAction&quot;&gt;SuccessAction&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nLike this:\r\n[Prevent action resubmission](https://stackoverflow.com/a/24574053/5899384)\r\n\r\nPlease notice that if you do not change the URL, it will always resubmit the form. So if you implement this solution above, the url will change on success (redirectSuccess).\r\n\r\nYou don&#39;t have to really create a new success page, you can redirect to the original url/action in which the form is loaded (clean).\r\n\r\nI hope this helps. \r\n","title":"How to stop my action from executing when I refresh my page?","body":"<p>Create a SuccessAction with redirectAction class.</p>\n<pre><code>&lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt; \n&lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\n&lt;/action&gt;\n&lt;action name=&quot;SuccessAction&quot; class=&quot;SuccessPage&quot;&gt;\n&lt;result name=&quot;success&quot;&gt;/jsp/plantillas/success.jsp&lt;/result&gt;\n&lt;action name=&quot;manual_order&quot; class=&quot;materialTypeMasterAction&quot; method=&quot;enquiry_process&quot;&gt;\n&lt;result type=&quot;redirectAction&quot;&gt;SuccessAction&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<p>Like this:\n<a href=\"https://stackoverflow.com/a/24574053/5899384\">Prevent action resubmission</a></p>\n<p>Please notice that if you do not change the URL, it will always resubmit the form. So if you implement this solution above, the url will change on success (redirectSuccess).</p>\n<p>You don't have to really create a new success page, you can redirect to the original url/action in which the form is loaded (clean).</p>\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634581637,"creation_date":1634580839,"answer_id":69620705,"question_id":69510511,"body_markdown":"If you use Struts application the concept of an action is more wide than you use it in the JSP forms. Everything that is coming to Struts with a request is an action. So, refreshing a page means calling the action which is mapped by the URL.\r\n\r\nIf you follow a pattern of action first, then JSP is forwarded by the servlet dispatcher when Struts executes a [`dispatcher` result][1]. It is a default result type used by a result configuration. The action after it executes usually returns some result with the name. Actually it is a result code, that allows the action invocation to stop processing an action and execute a result immediately.\r\n\r\nAs I said, after result is executed the JSP is forwarded to the browser and URL is not the location of that JSP, but the action which returned that JSP as a result. If request is forwarded then URL doesn&#39;t change. If you want to change URL you should use a new request with updated URL. \r\n\r\nIn your scenario you render a JSP with the `\r\nviewUpdateTemplate()` action. And you want to show the same JSP after you execute `processUpdateNavigator()` action. Because the same result `updateCoordinates` is returned. \r\n\r\nYou should be aware that different actions are executed by deferent requests, different request methods, by different threads, and use new action instances per request. It means that everything that was rendered via OGNL or JSTL in by the first action might not be available to the second action if they don&#39;t share the same `prepare()` method by implementing the same [`Prepareable` interface][2]. So, JSP might not be rendered completely. \r\n\r\nOn the other hand you don&#39;t want to stay on the URL of the action that was executing a POST request. In this case you should return a redirect response. It&#39;s done by Struts [`redirect`][3] or [`reditectAction` result][4] type. Both of them changes the location in browser URL, and following a new GET request. \r\n\r\nIn you case you should configure this result type to the action and specify which action it is redirected. It should be the first action, because it returns the above JSP. The second action won&#39;t return JSP, instead it return  `reditectAction` result to the first action. \r\n\r\nNote, any attribute that you used in the JSP via the second action should be scoped to session or shared via `prepare()` because redireced response loses its attributes.\r\n\r\n**The code:**\r\n\r\n**In `struts.xml:`**\r\n\r\n```xml\r\n&lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt;           \r\n        &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\r\n        &lt;result name=&quot;templateUpload&quot;&gt;/jsp/plantillas/CreateCoordinates.jsp&lt;/result&gt;\r\n        &lt;result name=&quot;saveCoordinates&quot;&gt;/jsp/plantillas/SaveCoordinates.jsp&lt;/result&gt;\r\n        &lt;result name=&quot;updateCoordinates&quot;&gt;/jsp/plantillas/UpdateCoordinatesTemplate.jsp&lt;/result&gt; \r\n       &lt;result name=&quot;viewUpdateTemplate&quot; type=&quot;redirectAction&quot;&gt;plantillasAction_viewUpdateTemplate&lt;/result&gt;\r\n        &lt;interceptor-ref name=&quot;defaultSecurityStack&quot;&gt;\r\n            &lt;param name=&quot;tokenSession.excludeMethods&quot;&gt;init,templateFileUpload,processNavigator, \r\n                addCoordinateTemplate,deleteCoordinateToSave,saveTemplate,\r\n                deleteTemplate,viewUpdateTemplate,addCoordinatesTemplateUpdate,\r\n                searchTemplates,processUpdateNavigator&lt;/param&gt;\r\n        &lt;/interceptor-ref&gt;\r\n        &lt;allowed-methods&gt;\r\n            templateFileUpload,\r\n            processNavigator,\r\n            addCoordinateTemplate,\r\n            deleteCoordinateToSave,\r\n            saveTemplate,\r\n            deleteTemplate,\r\n            viewUpdateTemplate,\r\n            addCoordinatesTemplateUpdate,\r\n            processUpdateNavigator,\r\n            init, \r\n            searchTemplates\r\n            \r\n            \r\n        &lt;/allowed-methods&gt;\r\n&lt;/action&gt;\r\n```\r\n\r\n**In `Action` class:**\r\n\r\n```java\r\n    public String viewUpdateTemplate() {\r\n\r\n           //OPERATIONS\r\n            return &quot;updateCoordinates&quot;;\r\n       \r\n    }\r\n\r\n    public String processUpdateNavigator() {\r\n        //OPERATIONS\r\n       return &quot;viewUpdateTemplate&quot;;\r\n    }  \r\n```\r\n\r\n  [1]: https://struts.apache.org/core-developers/dispatcher-result.html\r\n  [2]: https://struts.apache.org/getting-started/preperable-interface.html\r\n  [3]: https://struts.apache.org/core-developers/redirect-result.html\r\n  [4]: https://struts.apache.org/core-developers/redirect-action-result.html","title":"How to stop my action from executing when I refresh my page?","body":"<p>If you use Struts application the concept of an action is more wide than you use it in the JSP forms. Everything that is coming to Struts with a request is an action. So, refreshing a page means calling the action which is mapped by the URL.</p>\n<p>If you follow a pattern of action first, then JSP is forwarded by the servlet dispatcher when Struts executes a <a href=\"https://struts.apache.org/core-developers/dispatcher-result.html\" rel=\"nofollow noreferrer\"><code>dispatcher</code> result</a>. It is a default result type used by a result configuration. The action after it executes usually returns some result with the name. Actually it is a result code, that allows the action invocation to stop processing an action and execute a result immediately.</p>\n<p>As I said, after result is executed the JSP is forwarded to the browser and URL is not the location of that JSP, but the action which returned that JSP as a result. If request is forwarded then URL doesn't change. If you want to change URL you should use a new request with updated URL.</p>\n<p>In your scenario you render a JSP with the <code> viewUpdateTemplate()</code> action. And you want to show the same JSP after you execute <code>processUpdateNavigator()</code> action. Because the same result <code>updateCoordinates</code> is returned.</p>\n<p>You should be aware that different actions are executed by deferent requests, different request methods, by different threads, and use new action instances per request. It means that everything that was rendered via OGNL or JSTL in by the first action might not be available to the second action if they don't share the same <code>prepare()</code> method by implementing the same <a href=\"https://struts.apache.org/getting-started/preperable-interface.html\" rel=\"nofollow noreferrer\"><code>Prepareable</code> interface</a>. So, JSP might not be rendered completely.</p>\n<p>On the other hand you don't want to stay on the URL of the action that was executing a POST request. In this case you should return a redirect response. It's done by Struts <a href=\"https://struts.apache.org/core-developers/redirect-result.html\" rel=\"nofollow noreferrer\"><code>redirect</code></a> or <a href=\"https://struts.apache.org/core-developers/redirect-action-result.html\" rel=\"nofollow noreferrer\"><code>reditectAction</code> result</a> type. Both of them changes the location in browser URL, and following a new GET request.</p>\n<p>In you case you should configure this result type to the action and specify which action it is redirected. It should be the first action, because it returns the above JSP. The second action won't return JSP, instead it return  <code>reditectAction</code> result to the first action.</p>\n<p>Note, any attribute that you used in the JSP via the second action should be scoped to session or shared via <code>prepare()</code> because redireced response loses its attributes.</p>\n<p><strong>The code:</strong></p>\n<p><strong>In <code>struts.xml:</code></strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt;           \n        &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\n        &lt;result name=&quot;templateUpload&quot;&gt;/jsp/plantillas/CreateCoordinates.jsp&lt;/result&gt;\n        &lt;result name=&quot;saveCoordinates&quot;&gt;/jsp/plantillas/SaveCoordinates.jsp&lt;/result&gt;\n        &lt;result name=&quot;updateCoordinates&quot;&gt;/jsp/plantillas/UpdateCoordinatesTemplate.jsp&lt;/result&gt; \n       &lt;result name=&quot;viewUpdateTemplate&quot; type=&quot;redirectAction&quot;&gt;plantillasAction_viewUpdateTemplate&lt;/result&gt;\n        &lt;interceptor-ref name=&quot;defaultSecurityStack&quot;&gt;\n            &lt;param name=&quot;tokenSession.excludeMethods&quot;&gt;init,templateFileUpload,processNavigator, \n                addCoordinateTemplate,deleteCoordinateToSave,saveTemplate,\n                deleteTemplate,viewUpdateTemplate,addCoordinatesTemplateUpdate,\n                searchTemplates,processUpdateNavigator&lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;allowed-methods&gt;\n            templateFileUpload,\n            processNavigator,\n            addCoordinateTemplate,\n            deleteCoordinateToSave,\n            saveTemplate,\n            deleteTemplate,\n            viewUpdateTemplate,\n            addCoordinatesTemplateUpdate,\n            processUpdateNavigator,\n            init, \n            searchTemplates\n            \n            \n        &lt;/allowed-methods&gt;\n&lt;/action&gt;\n</code></pre>\n<p><strong>In <code>Action</code> class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String viewUpdateTemplate() {\n\n           //OPERATIONS\n            return &quot;updateCoordinates&quot;;\n       \n    }\n\n    public String processUpdateNavigator() {\n        //OPERATIONS\n       return &quot;viewUpdateTemplate&quot;;\n    }  \n</code></pre>\n"}],"owner":{"account_id":19471191,"reputation":184,"user_id":15262402,"display_name":"Sebastian Ruiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1040,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1696259520,"creation_date":1633812926,"question_id":69510511,"body_markdown":"I have the following problem, I am working on a project with JSP and Struts technology, I am really new because it is an old technology but it is what I had to work with.\r\n\r\nI have the problem that calls are being made to the action when I refresh my page, I understand this is because in my URL is the last action that I send to call, so it is making a call back to that action, I have more than one form within my JSP which have different actions, I do not know if this is correct or have to change them to ajax or is there any way to solve it?\r\n\r\nI have already added a POST method for the actions but it still has not worked. \r\n\r\n**My actions in configuration file:**\r\n\r\n    &lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt;           \r\n            &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;templateUpload&quot;&gt;/jsp/plantillas/CreateCoordinates.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;saveCoordinates&quot;&gt;/jsp/plantillas/SaveCoordinates.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;updateCoordinates&quot;&gt;/jsp/plantillas/UpdateCoordinatesTemplate.jsp&lt;/result&gt; \r\n            &lt;interceptor-ref name=&quot;defaultSecurityStack&quot;&gt;\r\n                &lt;param name=&quot;tokenSession.excludeMethods&quot;&gt;init,templateFileUpload,processNavigator, \r\n                    addCoordinateTemplate,deleteCoordinateToSave,saveTemplate,\r\n                    deleteTemplate,viewUpdateTemplate,addCoordinatesTemplateUpdate,\r\n                    searchTemplates,processUpdateNavigator&lt;/param&gt;\r\n            &lt;/interceptor-ref&gt;\r\n            &lt;allowed-methods&gt;\r\n                templateFileUpload,\r\n                processNavigator,\r\n                addCoordinateTemplate,\r\n                deleteCoordinateToSave,\r\n                saveTemplate,\r\n                deleteTemplate,\r\n                viewUpdateTemplate,\r\n                addCoordinatesTemplateUpdate,\r\n                processUpdateNavigator,\r\n                init, \r\n                searchTemplates\r\n                \r\n                \r\n            &lt;/allowed-methods&gt;\r\n        &lt;/action&gt;\r\n\r\n**My `CreateCoordinates.jsp`:**\r\n\r\n\r\n    &lt;%@ page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;/WEB-INF/struts-tags.tld&quot; prefix=&quot;s&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;sjg&quot; uri=&quot;/struts-jquery-grid-tags&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n       &lt;head&gt;\r\n          &lt;meta name=&quot;decorator&quot; content=&quot;contentLayout&quot;/&gt;\r\n       &lt;/head&gt;\r\n       &lt;body&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/js/jquery/alerts/jquery.alerts.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n          &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/html/js/jquery/alerts/jquery.alerts.css&quot;&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/js/coordinatesTemplate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/js/templates.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n          &lt;script language=&quot;javascript&quot;&gt;\r\n             function update(value){\r\n             var url=&quot;myAction?someVariable=value&quot;;\r\n             window.open(url,&quot;_blank&quot;,&quot;directories=no, status=no,width=1400, height=870,top=0,left=0&quot;);\r\n             }\r\n                        \r\n             \r\n             \r\n             \r\n          &lt;/script&gt;\r\n          &lt;div id=&quot;content&quot;&gt;\r\n             &lt;div class=&quot;wrap&quot;&gt;\r\n                &lt;h1 style=&quot;margin-left:15px&quot;&gt;\r\n                   &lt;s:text name=&quot;label.module.template.header.update&quot;/&gt;\r\n                &lt;/h1&gt;\r\n                &lt;s:form action=&quot;plantillasAction_processUpdateNavigator&quot; method=&quot;post&quot; &gt;\r\n                   &lt;s:token /&gt;\r\n                   &lt;hr style=&quot;border:15px;&quot;&gt;\r\n                   &lt;hr style=&quot;border:2px;&quot;&gt;\r\n                   &lt;div id=&quot;navigator&quot; align=&quot;center&quot;&gt;\r\n                      &lt;table align=&quot;center&quot;&gt;\r\n                         &lt;tr&gt;\r\n                            &lt;s:if test=&quot;currentPosition==imagePDFs.size() &quot;&gt;\r\n                               &lt;script type=&quot;text/javascript&quot;&gt; disableFirstButtons()&lt;/script&gt;\r\n                            &lt;/s:if&gt;\r\n                            &lt;s:if test=&quot;currentPosition== 1 &amp;&amp; imagePDFs.size()  != 1&quot;&gt;\r\n                               &lt;script type=&quot;text/javascript&quot;&gt; enableFirstButtons()&lt;/script&gt;\r\n                            &lt;/s:if&gt;\r\n                            &lt;s:if test=&quot;currentPosition==1 &amp;&amp; imagePDFs.size()==1 &quot;&gt;\r\n                               &lt;script type=&quot;text/javascript&quot;&gt; enableAllButtons()&lt;/script&gt;\r\n                            &lt;/s:if&gt;\r\n                            &lt;td&gt;\r\n                               &lt;button id=&quot;firstPage&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;3&quot; &gt;&lt;&lt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td&gt;\r\n                               &lt;button id=&quot;backPage&quot; name=&quot;buttonAction&quot; class=&quot;previous&quot; type=&quot;submit&quot; value=&quot;2&quot; &gt;&lt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;center&quot;&gt;\r\n                               &lt;li&gt;${currentPosition}/${imagePDFs.size()}&lt;/li&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;right&quot;&gt;\r\n                               &lt;button id=&quot;nextPage&quot; name=&quot;buttonAction&quot; class=&quot;next&quot; type=&quot;submit&quot; value=&quot;1&quot;&gt;&gt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;right&quot;&gt;\r\n                               &lt;button id=&quot;endPage&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;4&quot;&gt;&gt;&gt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                         &lt;/tr&gt;\r\n                      &lt;/table&gt;\r\n                   &lt;/div&gt;\r\n                   &lt;div class=&quot;wrapper&quot;&gt;\r\n                      &lt;div id=&quot;content&quot;&gt;\r\n                         &lt;div id=&quot;pdf-container&quot; &gt;\r\n                            &lt;div id=&quot;signers-list&quot;&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;img id=&quot;pdf-page&quot; src=&quot;data:image/png;base64,${image}&quot; /&gt;\r\n                         &lt;/div&gt;\r\n                         &lt;!-- .\\pdf-container --&gt;\r\n                      &lt;/div&gt;\r\n                      &lt;!-- .\\content --&gt;\r\n                   &lt;/div&gt;\r\n                   &lt;!-- .\\wrapper --&gt;\r\n                   &lt;div id=&quot;navigator&quot; align=&quot;center&quot;&gt;\r\n                      &lt;table align=&quot;center&quot;&gt;\r\n                         &lt;tr&gt;\r\n                            &lt;td align=&quot;center&quot;&gt;\r\n                               &lt;button id=&quot;firstPage2&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;3&quot;&gt;&lt;&lt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;center&quot;&gt;\r\n                               &lt;button id=&quot;backPage2&quot; name=&quot;buttonAction&quot; class=&quot;previous&quot; type=&quot;submit&quot; value=&quot;2&quot;&gt;&lt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;center&quot;&gt;\r\n                               &lt;li&gt;${currentPosition}/${imagePDFs.size()}&lt;/li&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;rigth&quot;&gt;\r\n                               &lt;button id=&quot;nextPage2&quot; name=&quot;buttonAction&quot; class=&quot;next&quot; type=&quot;submit&quot; value=&quot;1&quot;&gt;&gt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;rigth&quot;&gt;\r\n                               &lt;button id=&quot;endPage2&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;4&quot;&gt;&gt;&gt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                         &lt;/tr&gt;\r\n                      &lt;/table&gt;\r\n                   &lt;/div&gt;\r\n                &lt;/s:form&gt;\r\n                &lt;s:form action=&quot;routeAction_updateRoute&quot; method=&quot;post&quot; validate=&quot;false&quot; namespace=&quot;/plantilla&quot; theme=&quot;simple&quot; onsubmit=&quot;return false;&quot;&gt;\r\n                   &lt;s:token /&gt;\r\n                   &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n                      &lt;tr height=&quot;10px&quot;&gt;\r\n                      &lt;/tr&gt;\r\n                      &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; class=&quot;tablecells&quot;&gt;\r\n                         &lt;td width=&quot;25%&quot; class=&quot;negritas&quot;&gt;\r\n                            &lt;s:text name =&quot;label.module.template.info.plantilla&quot; /&gt;\r\n                         &lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                      &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; class=&quot;tablecells&quot;&gt;\r\n                         &lt;td width=&quot;14%&quot;&gt;\r\n                            &lt;s:text name=&quot;label.module.template.add.nombre.plantilla&quot;/&gt;\r\n                         &lt;/td&gt;\r\n                         &lt;td&gt;\r\n                            &lt;s:textfield id=&quot;idTemplateName&quot; maxlength=&quot;80&quot; size=&quot;40&quot; \r\n                               value=&quot;%{currentTemplateView}&quot; cssClass=&quot;inputbox&quot;/&gt;\r\n                         &lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                      &lt;tr height=&quot;5px&quot;&gt;\r\n                      &lt;/tr&gt;\r\n                   &lt;/table&gt;\r\n                   &lt;/table&gt;\r\n                   &lt;!-- TABLA CON BOTONES PARA BUSCAR INTEGRANTES A LA NUEVA RUTA (GRID)--&gt;\r\n                   &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n                      &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; align=&quot;center&quot; class=&quot;tablecells&quot;&gt;\r\n                         &lt;td colspan=&quot;2&quot; class=&quot;leftElement&quot;&gt;\r\n                            &lt;button id=&quot;agregarFirma&quot; class=&quot;action green&quot; style=&quot;float:none&quot; name=&quot;buttonActionCoordiante&quot; type=&quot;submit&quot; value=&quot;2&quot;&gt;\r\n                            &lt;span id=&quot;fisnish&quot; class=&quot;label&quot; onClick=&#39;createDragDropElement()&#39;&gt;Agregar&lt;/span&gt;\r\n                            &lt;/button&gt;\r\n                            &lt;button class=&quot;action green&quot; style=&quot;float:none&quot; id=&quot;btnCancelar&quot; onClick=&quot;regresar(&#39;${pageContext.request.contextPath}&#39;)&quot;&gt;\r\n                               &lt;span id=&quot;iniciar&quot; class=&quot;label&quot;&gt;\r\n                                  &lt;s:text name=&quot;boton.cancelar&quot;/&gt;\r\n                               &lt;/span&gt;\r\n                            &lt;/button&gt;\r\n                         &lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                      &lt;tr height=&quot;15px&quot;&gt;\r\n                      &lt;/tr&gt;\r\n                   &lt;/table&gt;\r\n                &lt;/s:form&gt;\r\n                \r\n          &lt;/div&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/plugins/fontawesome/js/fontawesome-all.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/interact.js/1.10.11/interact.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.worker.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/utils/Draggable.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/js/mainPdfUpdate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n       &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhen I enter my JSP this is the URL:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/3O1yT.png\r\n\r\nWhen I press any button of my first form it changes the URL to \r\n\r\n[![enter image description here][2]][2]\r\n\r\n[2]: https://i.stack.imgur.com/zXT9W.png\r\n  \r\n\r\nIf I refresh my page there, the action name is `plantillasAction_processUpdateNavigator` ,what I want in this case is to execute the action `plantillasAction_viewUpdateTemplate`.\r\n\r\n**My `ActionPlantillas.java`:**\r\n\r\n    public class ActionPlantillas extends ActionSupport implements ServletRequestAware {\r\n    \r\n        private static Logger logger = LogManager.getLogger(ActionPlantillas.class);\r\n    \r\n        private HttpServletRequest request;\r\n        \r\n        public String viewUpdateTemplate() {\r\n\r\n               //OPERATIONS\r\n                return &quot;updateCoordinates&quot;;\r\n           \r\n        }\r\n\r\n        public String processUpdateNavigator() {\r\n            //OPERATIONS\r\n           return &quot;updateCoordinates&quot;;\r\n        }  \r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n  ","title":"How to stop my action from executing when I refresh my page?","body":"<p>I have the following problem, I am working on a project with JSP and Struts technology, I am really new because it is an old technology but it is what I had to work with.</p>\n<p>I have the problem that calls are being made to the action when I refresh my page, I understand this is because in my URL is the last action that I send to call, so it is making a call back to that action, I have more than one form within my JSP which have different actions, I do not know if this is correct or have to change them to ajax or is there any way to solve it?</p>\n<p>I have already added a POST method for the actions but it still has not worked.</p>\n<p><strong>My actions in configuration file:</strong></p>\n<pre><code>&lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt;           \n        &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\n        &lt;result name=&quot;templateUpload&quot;&gt;/jsp/plantillas/CreateCoordinates.jsp&lt;/result&gt;\n        &lt;result name=&quot;saveCoordinates&quot;&gt;/jsp/plantillas/SaveCoordinates.jsp&lt;/result&gt;\n        &lt;result name=&quot;updateCoordinates&quot;&gt;/jsp/plantillas/UpdateCoordinatesTemplate.jsp&lt;/result&gt; \n        &lt;interceptor-ref name=&quot;defaultSecurityStack&quot;&gt;\n            &lt;param name=&quot;tokenSession.excludeMethods&quot;&gt;init,templateFileUpload,processNavigator, \n                addCoordinateTemplate,deleteCoordinateToSave,saveTemplate,\n                deleteTemplate,viewUpdateTemplate,addCoordinatesTemplateUpdate,\n                searchTemplates,processUpdateNavigator&lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;allowed-methods&gt;\n            templateFileUpload,\n            processNavigator,\n            addCoordinateTemplate,\n            deleteCoordinateToSave,\n            saveTemplate,\n            deleteTemplate,\n            viewUpdateTemplate,\n            addCoordinatesTemplateUpdate,\n            processUpdateNavigator,\n            init, \n            searchTemplates\n            \n            \n        &lt;/allowed-methods&gt;\n    &lt;/action&gt;\n</code></pre>\n<p><strong>My <code>CreateCoordinates.jsp</code>:</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ taglib uri=&quot;/WEB-INF/struts-tags.tld&quot; prefix=&quot;s&quot; %&gt;\n&lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;sjg&quot; uri=&quot;/struts-jquery-grid-tags&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head&gt;\n      &lt;meta name=&quot;decorator&quot; content=&quot;contentLayout&quot;/&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/js/jquery/alerts/jquery.alerts.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/html/js/jquery/alerts/jquery.alerts.css&quot;&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/js/coordinatesTemplate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/js/templates.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n      &lt;script language=&quot;javascript&quot;&gt;\n         function update(value){\n         var url=&quot;myAction?someVariable=value&quot;;\n         window.open(url,&quot;_blank&quot;,&quot;directories=no, status=no,width=1400, height=870,top=0,left=0&quot;);\n         }\n                    \n         \n         \n         \n      &lt;/script&gt;\n      &lt;div id=&quot;content&quot;&gt;\n         &lt;div class=&quot;wrap&quot;&gt;\n            &lt;h1 style=&quot;margin-left:15px&quot;&gt;\n               &lt;s:text name=&quot;label.module.template.header.update&quot;/&gt;\n            &lt;/h1&gt;\n            &lt;s:form action=&quot;plantillasAction_processUpdateNavigator&quot; method=&quot;post&quot; &gt;\n               &lt;s:token /&gt;\n               &lt;hr style=&quot;border:15px;&quot;&gt;\n               &lt;hr style=&quot;border:2px;&quot;&gt;\n               &lt;div id=&quot;navigator&quot; align=&quot;center&quot;&gt;\n                  &lt;table align=&quot;center&quot;&gt;\n                     &lt;tr&gt;\n                        &lt;s:if test=&quot;currentPosition==imagePDFs.size() &quot;&gt;\n                           &lt;script type=&quot;text/javascript&quot;&gt; disableFirstButtons()&lt;/script&gt;\n                        &lt;/s:if&gt;\n                        &lt;s:if test=&quot;currentPosition== 1 &amp;&amp; imagePDFs.size()  != 1&quot;&gt;\n                           &lt;script type=&quot;text/javascript&quot;&gt; enableFirstButtons()&lt;/script&gt;\n                        &lt;/s:if&gt;\n                        &lt;s:if test=&quot;currentPosition==1 &amp;&amp; imagePDFs.size()==1 &quot;&gt;\n                           &lt;script type=&quot;text/javascript&quot;&gt; enableAllButtons()&lt;/script&gt;\n                        &lt;/s:if&gt;\n                        &lt;td&gt;\n                           &lt;button id=&quot;firstPage&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;3&quot; &gt;&lt;&lt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                           &lt;button id=&quot;backPage&quot; name=&quot;buttonAction&quot; class=&quot;previous&quot; type=&quot;submit&quot; value=&quot;2&quot; &gt;&lt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;center&quot;&gt;\n                           &lt;li&gt;${currentPosition}/${imagePDFs.size()}&lt;/li&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;right&quot;&gt;\n                           &lt;button id=&quot;nextPage&quot; name=&quot;buttonAction&quot; class=&quot;next&quot; type=&quot;submit&quot; value=&quot;1&quot;&gt;&gt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;right&quot;&gt;\n                           &lt;button id=&quot;endPage&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;4&quot;&gt;&gt;&gt;&lt;/button&gt;\n                        &lt;/td&gt;\n                     &lt;/tr&gt;\n                  &lt;/table&gt;\n               &lt;/div&gt;\n               &lt;div class=&quot;wrapper&quot;&gt;\n                  &lt;div id=&quot;content&quot;&gt;\n                     &lt;div id=&quot;pdf-container&quot; &gt;\n                        &lt;div id=&quot;signers-list&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;img id=&quot;pdf-page&quot; src=&quot;data:image/png;base64,${image}&quot; /&gt;\n                     &lt;/div&gt;\n                     &lt;!-- .\\pdf-container --&gt;\n                  &lt;/div&gt;\n                  &lt;!-- .\\content --&gt;\n               &lt;/div&gt;\n               &lt;!-- .\\wrapper --&gt;\n               &lt;div id=&quot;navigator&quot; align=&quot;center&quot;&gt;\n                  &lt;table align=&quot;center&quot;&gt;\n                     &lt;tr&gt;\n                        &lt;td align=&quot;center&quot;&gt;\n                           &lt;button id=&quot;firstPage2&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;3&quot;&gt;&lt;&lt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;center&quot;&gt;\n                           &lt;button id=&quot;backPage2&quot; name=&quot;buttonAction&quot; class=&quot;previous&quot; type=&quot;submit&quot; value=&quot;2&quot;&gt;&lt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;center&quot;&gt;\n                           &lt;li&gt;${currentPosition}/${imagePDFs.size()}&lt;/li&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;rigth&quot;&gt;\n                           &lt;button id=&quot;nextPage2&quot; name=&quot;buttonAction&quot; class=&quot;next&quot; type=&quot;submit&quot; value=&quot;1&quot;&gt;&gt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;rigth&quot;&gt;\n                           &lt;button id=&quot;endPage2&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;4&quot;&gt;&gt;&gt;&lt;/button&gt;\n                        &lt;/td&gt;\n                     &lt;/tr&gt;\n                  &lt;/table&gt;\n               &lt;/div&gt;\n            &lt;/s:form&gt;\n            &lt;s:form action=&quot;routeAction_updateRoute&quot; method=&quot;post&quot; validate=&quot;false&quot; namespace=&quot;/plantilla&quot; theme=&quot;simple&quot; onsubmit=&quot;return false;&quot;&gt;\n               &lt;s:token /&gt;\n               &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\n                  &lt;tr height=&quot;10px&quot;&gt;\n                  &lt;/tr&gt;\n                  &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; class=&quot;tablecells&quot;&gt;\n                     &lt;td width=&quot;25%&quot; class=&quot;negritas&quot;&gt;\n                        &lt;s:text name =&quot;label.module.template.info.plantilla&quot; /&gt;\n                     &lt;/td&gt;\n                  &lt;/tr&gt;\n                  &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; class=&quot;tablecells&quot;&gt;\n                     &lt;td width=&quot;14%&quot;&gt;\n                        &lt;s:text name=&quot;label.module.template.add.nombre.plantilla&quot;/&gt;\n                     &lt;/td&gt;\n                     &lt;td&gt;\n                        &lt;s:textfield id=&quot;idTemplateName&quot; maxlength=&quot;80&quot; size=&quot;40&quot; \n                           value=&quot;%{currentTemplateView}&quot; cssClass=&quot;inputbox&quot;/&gt;\n                     &lt;/td&gt;\n                  &lt;/tr&gt;\n                  &lt;tr height=&quot;5px&quot;&gt;\n                  &lt;/tr&gt;\n               &lt;/table&gt;\n               &lt;/table&gt;\n               &lt;!-- TABLA CON BOTONES PARA BUSCAR INTEGRANTES A LA NUEVA RUTA (GRID)--&gt;\n               &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\n                  &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; align=&quot;center&quot; class=&quot;tablecells&quot;&gt;\n                     &lt;td colspan=&quot;2&quot; class=&quot;leftElement&quot;&gt;\n                        &lt;button id=&quot;agregarFirma&quot; class=&quot;action green&quot; style=&quot;float:none&quot; name=&quot;buttonActionCoordiante&quot; type=&quot;submit&quot; value=&quot;2&quot;&gt;\n                        &lt;span id=&quot;fisnish&quot; class=&quot;label&quot; onClick='createDragDropElement()'&gt;Agregar&lt;/span&gt;\n                        &lt;/button&gt;\n                        &lt;button class=&quot;action green&quot; style=&quot;float:none&quot; id=&quot;btnCancelar&quot; onClick=&quot;regresar('${pageContext.request.contextPath}')&quot;&gt;\n                           &lt;span id=&quot;iniciar&quot; class=&quot;label&quot;&gt;\n                              &lt;s:text name=&quot;boton.cancelar&quot;/&gt;\n                           &lt;/span&gt;\n                        &lt;/button&gt;\n                     &lt;/td&gt;\n                  &lt;/tr&gt;\n                  &lt;tr height=&quot;15px&quot;&gt;\n                  &lt;/tr&gt;\n               &lt;/table&gt;\n            &lt;/s:form&gt;\n            \n      &lt;/div&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/plugins/fontawesome/js/fontawesome-all.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/interact.js/1.10.11/interact.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.worker.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/utils/Draggable.min.js'&gt;&lt;/script&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/js/mainPdfUpdate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When I enter my JSP this is the URL:</p>\n<p><a href=\"https://i.stack.imgur.com/3O1yT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3O1yT.png\" alt=\"enter image description here\" /></a></p>\n<p>When I press any button of my first form it changes the URL to</p>\n<p><a href=\"https://i.stack.imgur.com/zXT9W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXT9W.png\" alt=\"enter image description here\" /></a></p>\n<p>If I refresh my page there, the action name is <code>plantillasAction_processUpdateNavigator</code> ,what I want in this case is to execute the action <code>plantillasAction_viewUpdateTemplate</code>.</p>\n<p><strong>My <code>ActionPlantillas.java</code>:</strong></p>\n<pre><code>public class ActionPlantillas extends ActionSupport implements ServletRequestAware {\n\n    private static Logger logger = LogManager.getLogger(ActionPlantillas.class);\n\n    private HttpServletRequest request;\n    \n    public String viewUpdateTemplate() {\n\n           //OPERATIONS\n            return &quot;updateCoordinates&quot;;\n       \n    }\n\n    public String processUpdateNavigator() {\n        //OPERATIONS\n       return &quot;updateCoordinates&quot;;\n    }  \n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":14755297,"reputation":205,"user_id":10656102,"display_name":"Duman Zhanbolatov"},"score":0,"creation_date":1633961191,"post_id":62845550,"comment_id":122892380,"body_markdown":"Did you solve it?","body":"Did you solve it?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1634087541,"post_id":62845550,"comment_id":122930196,"body_markdown":"@DumanZhanbolatov this might help you  https://www.youtube.com/watch?v=utRxyPfFlDw&amp;feature=youtu.be and https://github.com/springdoc/springdoc-openapi-demos","body":"@DumanZhanbolatov this might help you  <a href=\"https://www.youtube.com/watch?v=utRxyPfFlDw&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">youtube.com/watch?v=utRxyPfFlDw&amp;feature=youtu.be</a> and <a href=\"https://github.com/springdoc/springdoc-openapi-demos\" rel=\"nofollow noreferrer\">github.com/springdoc/springdoc-openapi-demos</a>"},{"owner":{"account_id":5619902,"reputation":2178,"user_id":4450098,"accept_rate":35,"display_name":"Sagar Nayak"},"score":0,"creation_date":1655476268,"post_id":62845550,"comment_id":128348346,"body_markdown":"any update? did anyone find any solution to this?","body":"any update? did anyone find any solution to this?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1656508549,"post_id":62845550,"comment_id":128596598,"body_markdown":"Can be helpful from the spring.io conference https://www.youtube.com/watch?v=utRxyPfFlDw&amp;t=1895s","body":"Can be helpful from the spring.io conference <a href=\"https://www.youtube.com/watch?v=utRxyPfFlDw&amp;t=1895s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=utRxyPfFlDw&amp;t=1895s</a>"}],"answers":[{"tags":[],"owner":{"account_id":17181536,"reputation":206,"user_id":12436880,"display_name":"Mubaraka Bharucha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594450150,"creation_date":1594450150,"answer_id":62846075,"question_id":62845550,"body_markdown":"There is one common practice to make individual swagger endpoints available from gateway itself. I have seen this being done in many production level projects. \r\n\r\nFor example, for Order service the documentation would be at :\r\n\r\nhttp://gateway-url/order-service/swagger-ui.html\r\n\r\nSimilar approach could be followed for other micro-services.","title":"Swagger Api Documentation in Spring API Gateway","body":"<p>There is one common practice to make individual swagger endpoints available from gateway itself. I have seen this being done in many production level projects.</p>\n<p>For example, for Order service the documentation would be at :</p>\n<p>http://gateway-url/order-service/swagger-ui.html</p>\n<p>Similar approach could be followed for other micro-services.</p>\n"},{"tags":[],"owner":{"account_id":8428949,"reputation":11,"user_id":6325331,"display_name":"Artur Yolchyan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599217547,"creation_date":1594452952,"answer_id":62846442,"question_id":62845550,"body_markdown":"Make sure to have the below dependencies in your services: product, payment, order and api-gateway:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAdd `@EnableSwagger2` annotation in all of your services.\r\n\r\nAdd zuul proxy dependencies in your API gateway project. This should route the traffic from api-gateway swagger to your other services.\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAdd `@EnableZuulProxy` annotation in api-gateway.\r\n\r\nThen, put this config in api-gateway and things should work.\r\n\r\n    @Primary\r\n    @Configuration\r\n    public class Swagger2Config implements SwaggerResourcesProvider {\r\n\r\n    @Autowired\r\n    private RouteLocator routeLocator;\r\n\r\n    @Override\r\n    public List&lt;SwaggerResource&gt; get() {\r\n        List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;();\r\n\r\n        routeLocator.getRoutes().forEach(route -&gt; {\r\n            resources.add(swaggerResource(route.getId(), route.getFullPath().replace(&quot;**&quot;, &quot;v2/api-docs&quot;), &quot;1.0&quot;));\r\n        });\r\n\r\n        return resources;\r\n    }\r\n\r\n    private SwaggerResource swaggerResource(final String name, final String location, final String version) {\r\n        SwaggerResource swaggerResource = new SwaggerResource();\r\n        swaggerResource.setName(name);\r\n        swaggerResource.setLocation(location);\r\n        swaggerResource.setSwaggerVersion(version);\r\n        return swaggerResource;\r\n    }\r\n\r\n}\r\n\r\nWhen you will land in your api-gateway swagger page, in the top right you will see a select option for product, payment and order services. Select any of them and try to use the APIs.\r\n\r\n\r\n","title":"Swagger Api Documentation in Spring API Gateway","body":"<p>Make sure to have the below dependencies in your services: product, payment, order and api-gateway:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;${swagger.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;${swagger.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add <code>@EnableSwagger2</code> annotation in all of your services.</p>\n<p>Add zuul proxy dependencies in your API gateway project. This should route the traffic from api-gateway swagger to your other services.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add <code>@EnableZuulProxy</code> annotation in api-gateway.</p>\n<p>Then, put this config in api-gateway and things should work.</p>\n<pre><code>@Primary\n@Configuration\npublic class Swagger2Config implements SwaggerResourcesProvider {\n\n@Autowired\nprivate RouteLocator routeLocator;\n\n@Override\npublic List&lt;SwaggerResource&gt; get() {\n    List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;();\n\n    routeLocator.getRoutes().forEach(route -&gt; {\n        resources.add(swaggerResource(route.getId(), route.getFullPath().replace(&quot;**&quot;, &quot;v2/api-docs&quot;), &quot;1.0&quot;));\n    });\n\n    return resources;\n}\n\nprivate SwaggerResource swaggerResource(final String name, final String location, final String version) {\n    SwaggerResource swaggerResource = new SwaggerResource();\n    swaggerResource.setName(name);\n    swaggerResource.setLocation(location);\n    swaggerResource.setSwaggerVersion(version);\n    return swaggerResource;\n}\n</code></pre>\n<p>}</p>\n<p>When you will land in your api-gateway swagger page, in the top right you will see a select option for product, payment and order services. Select any of them and try to use the APIs.</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14203,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1696259270,"creation_date":1594445194,"question_id":62845550,"body_markdown":"[![w][1]][1]\r\n\r\n\r\nI have the above architecture in the project. Product, Order, Payment Microservice is a Rest API which currently has swagger integration, but now the flow is changed I can&#39;t expose the Microservice Rest API now all the REST API calls is been made from API Gateway.\r\n\r\nIs there any way to document the API through API gateway in swagger or what is the best practice for this case.\r\n\r\n\r\nThis is the routing configuration in API Gateway Spring boot\r\n\r\n    @Bean\r\n        public RouteLocator gatewayRoutes(RouteLocatorBuilder builder) {\r\n            return builder.routes()\r\n                    .route(r -&gt; r.path(&quot;/order/**&quot;)\r\n                            .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;order-service&quot;).\r\n                                    setFallbackUri(&quot;forward:/orderFallBack&quot;)))\r\n                            .uri(&quot;lb://ORDER-SERVICE&quot;)\r\n                            .id(&quot;order-service&quot;))\r\n    \r\n                    .route(r -&gt; r.path(&quot;/payment/**&quot;)\r\n                            .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;payment-service&quot;)\r\n                                    .setFallbackUri(&quot;forward:/paymentFallBack&quot;)))\r\n                            .uri(&quot;lb://PAYMENT-SERVICE&quot;)\r\n                            .id(&quot;payment-service&quot;))\r\n    \r\n                    .route(r -&gt; r.path(&quot;/product/**&quot;)\r\n                            .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;product-service&quot;)\r\n                                    .setFallbackUri(&quot;forward:/productFallBack&quot;)))\r\n                            .uri(&quot;lb://PRODUCT-SERVICE&quot;)\r\n                            .id(&quot;product-service&quot;))\r\n                    .build();\r\n        }\r\n\r\nSwagger configuration in Order Microservice Project\r\n\r\n    @Configuration\r\n    public class SwaggerConfiguration {\r\n        @Bean\r\n        public Docket orderApi() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\r\n                    .paths(PathSelectors.any())\r\n                    .build()\r\n                    .apiInfo(getApiInfo());\r\n        }\r\n    \r\n        //create api metadata that goes at the top of the generated page\r\n        private ApiInfo getApiInfo() {\r\n            return new ApiInfoBuilder()\r\n                    .title(&quot;Fete Bird Order Microservice&quot;)\r\n                    .version(&quot;1.0&quot;)\r\n                    .description(&quot;API for managing Fete Bird Order Microservice.&quot;)\r\n                    .license(&quot;Fete Bird License Version 1.0&quot;)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oesiH.png\r\n  [2]: https://i.stack.imgur.com/PczZX.png","title":"Swagger Api Documentation in Spring API Gateway","body":"<p><a href=\"https://i.stack.imgur.com/oesiH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oesiH.png\" alt=\"w\" /></a></p>\n<p>I have the above architecture in the project. Product, Order, Payment Microservice is a Rest API which currently has swagger integration, but now the flow is changed I can't expose the Microservice Rest API now all the REST API calls is been made from API Gateway.</p>\n<p>Is there any way to document the API through API gateway in swagger or what is the best practice for this case.</p>\n<p>This is the routing configuration in API Gateway Spring boot</p>\n<pre><code>@Bean\n    public RouteLocator gatewayRoutes(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(r -&gt; r.path(&quot;/order/**&quot;)\n                        .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;order-service&quot;).\n                                setFallbackUri(&quot;forward:/orderFallBack&quot;)))\n                        .uri(&quot;lb://ORDER-SERVICE&quot;)\n                        .id(&quot;order-service&quot;))\n\n                .route(r -&gt; r.path(&quot;/payment/**&quot;)\n                        .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;payment-service&quot;)\n                                .setFallbackUri(&quot;forward:/paymentFallBack&quot;)))\n                        .uri(&quot;lb://PAYMENT-SERVICE&quot;)\n                        .id(&quot;payment-service&quot;))\n\n                .route(r -&gt; r.path(&quot;/product/**&quot;)\n                        .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;product-service&quot;)\n                                .setFallbackUri(&quot;forward:/productFallBack&quot;)))\n                        .uri(&quot;lb://PRODUCT-SERVICE&quot;)\n                        .id(&quot;product-service&quot;))\n                .build();\n    }\n</code></pre>\n<p>Swagger configuration in Order Microservice Project</p>\n<pre><code>@Configuration\npublic class SwaggerConfiguration {\n    @Bean\n    public Docket orderApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(getApiInfo());\n    }\n\n    //create api metadata that goes at the top of the generated page\n    private ApiInfo getApiInfo() {\n        return new ApiInfoBuilder()\n                .title(&quot;Fete Bird Order Microservice&quot;)\n                .version(&quot;1.0&quot;)\n                .description(&quot;API for managing Fete Bird Order Microservice.&quot;)\n                .license(&quot;Fete Bird License Version 1.0&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PczZX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PczZX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","model-view-controller","portlet","liferay-6","forward"],"answers":[{"tags":[],"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374829686,"creation_date":1374825953,"answer_id":17876123,"question_id":17870593,"body_markdown":"Im not sure but my guess would be that you didnt set any render parameter when redirecting to your error page. \r\n\r\nTry this and see if it helps in any way (you can place it instead of the line with dispatcher): \r\n\r\n    response.setRenderParameter(&quot;jspPage&quot;, &quot;/WEB-INF/views/html/jsp/error.jsp&quot;);\r\n\r\nI am using this kind of redirects with **actionResponse** but it should work with **resourceResponse** as well...\r\n\r\nEDIT: resource response does not contain setRenderParameter method, but zou can try to use the following approach:\r\n\r\ncreate renderURL using `response.createRenderURL()`. If a request is triggered using this URL, it will result in render request/response (or action request which can access that method).\r\n\r\nThe problem is, that you are trying to redirect to another page during resource phase of the portlet (render phase in not called during this phase).","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>Im not sure but my guess would be that you didnt set any render parameter when redirecting to your error page. </p>\n\n<p>Try this and see if it helps in any way (you can place it instead of the line with dispatcher): </p>\n\n<pre><code>response.setRenderParameter(\"jspPage\", \"/WEB-INF/views/html/jsp/error.jsp\");\n</code></pre>\n\n<p>I am using this kind of redirects with <strong>actionResponse</strong> but it should work with <strong>resourceResponse</strong> as well...</p>\n\n<p>EDIT: resource response does not contain setRenderParameter method, but zou can try to use the following approach:</p>\n\n<p>create renderURL using <code>response.createRenderURL()</code>. If a request is triggered using this URL, it will result in render request/response (or action request which can access that method).</p>\n\n<p>The problem is, that you are trying to redirect to another page during resource phase of the portlet (render phase in not called during this phase).</p>\n"},{"tags":[],"owner":{"account_id":471515,"reputation":3093,"user_id":879368,"accept_rate":84,"display_name":"yannicuLar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375186500,"creation_date":1375186500,"answer_id":17946770,"question_id":17870593,"body_markdown":"I&#39;m not 100% sure this would work in the resourcePhase, but you could try \r\n\r\n   \r\n\r\n    com.liferay.portal.kernel.servlet.SessionErrors.add(request, &quot;your Error message here&quot;);","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>I'm not 100% sure this would work in the resourcePhase, but you could try </p>\n\n<pre><code>com.liferay.portal.kernel.servlet.SessionErrors.add(request, \"your Error message here\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3864218,"reputation":1,"user_id":3201127,"display_name":"sarM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389852313,"creation_date":1389851253,"answer_id":21154234,"question_id":17870593,"body_markdown":"I had a similar issue. This works - \r\n\r\n    PortletURL renderUrl = resourceResponse.createRenderURL();\t\r\n    renderUrl.setParameter(&quot;renderException&quot;, ex.toString());\t\r\n    resourceResponse.addProperty(&quot;Location&quot;, renderUrl.toString());","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>I had a similar issue. This works - </p>\n\n<pre><code>PortletURL renderUrl = resourceResponse.createRenderURL();  \nrenderUrl.setParameter(\"renderException\", ex.toString());   \nresourceResponse.addProperty(\"Location\", renderUrl.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2180357,"reputation":1020,"user_id":2455299,"display_name":"csierra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395922766,"creation_date":1395922766,"answer_id":22687442,"question_id":17870593,"body_markdown":"Maybe it is not forwarding because the response has already been committed because you have written something in it. That could explain why include works and forward doesn&#39;t. \r\n\r\nYou can check whether the response has already been committed using resourceResponse.isCommitted() in your catch block.\r\n\r\n","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>Maybe it is not forwarding because the response has already been committed because you have written something in it. That could explain why include works and forward doesn't. </p>\n\n<p>You can check whether the response has already been committed using resourceResponse.isCommitted() in your catch block.</p>\n"}],"owner":{"account_id":2216302,"reputation":116,"user_id":1956790,"accept_rate":0,"display_name":"stack user1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8138,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1696259270,"creation_date":1374795756,"question_id":17870593,"body_markdown":"I am trying to forward my request to error page when error occurs during generating excel sheet. Here is sample code below. I am not sure why it is not getting forwarded to error page when the exception is thrown, it is displaying blank page but not going to my error page for sure.`\r\n\r\n&gt;             @ResourceMapping(&quot;xyz&quot;)\r\n\t\tpublic void generateExcelExport(ResourceRequest request, ResourceResponse response)  {\r\n\t\t\ttry {\r\n\t\t\t\t//Do all the excel related logic\r\n\t\t\t\tresponse.setContentType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n\t\t\t\tresponse.setProperty(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + XYZ + &quot;\\&quot;&quot;);\r\n\t\t\t\tworkbook.write(response.getPortletOutputStream());\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t    response.setProperty(&quot;Content-Disposition&quot;, &quot;inline&quot; );\r\n\t\t\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\t\t\tPortletRequestDispatcher dispatcher = request.getPortletSession().getPortletContext().getRequestDispatcher(&quot;/WEB-INF/views/html/jsp/error.jsp&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdispatcher.forward(request, response);\t\t\t\t\r\n\t\t\t\t} catch (Exception e1) {\t\t\t\t\r\n\t\t\t\t\tlog.error(&quot;Unable to forward the request from the portlet&quot;, e1);\r\n\t\t\t\t} \r\n\t\t\t} }\r\n\t\r\n\t    ","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>I am trying to forward my request to error page when error occurs during generating excel sheet. Here is sample code below. I am not sure why it is not getting forwarded to error page when the exception is thrown, it is displaying blank page but not going to my error page for sure.`</p>\n\n<blockquote>\n<pre><code>        @ResourceMapping(\"xyz\")\n    public void generateExcelExport(ResourceRequest request, ResourceResponse response)  {\n        try {\n            //Do all the excel related logic\n            response.setContentType(\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n            response.setProperty(\"Content-Disposition\", \"attachment; filename=\\\"\" + XYZ + \"\\\"\");\n            workbook.write(response.getPortletOutputStream());\n        } catch (Exception e) {\n            response.setProperty(\"Content-Disposition\", \"inline\" );\n            response.setContentType(\"text/html\");\n            PortletRequestDispatcher dispatcher = request.getPortletSession().getPortletContext().getRequestDispatcher(\"/WEB-INF/views/html/jsp/error.jsp\");\n            try {\n                dispatcher.forward(request, response);              \n            } catch (Exception e1) {                \n                log.error(\"Unable to forward the request from the portlet\", e1);\n            } \n        } }\n</code></pre>\n</blockquote>\n"},{"tags":["java","spring","jpa","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696186844,"post_id":77211156,"comment_id":136118239,"body_markdown":"we need the full log, not just a little snippet, we need to know what i sleading up to the error and full stack trace","body":"we need the full log, not just a little snippet, we need to know what i sleading up to the error and full stack trace"},{"owner":{"account_id":20423522,"reputation":3,"user_id":14984034,"display_name":"Usz47eK"},"score":0,"creation_date":1696188878,"post_id":77211156,"comment_id":136118505,"body_markdown":"@Toerktumlare edited","body":"@Toerktumlare edited"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696195036,"post_id":77211156,"comment_id":136119093,"body_markdown":"ClassNotFoundException means you have problems with your dependencies, post your pom.xml","body":"ClassNotFoundException means you have problems with your dependencies, post your pom.xml"},{"owner":{"account_id":20423522,"reputation":3,"user_id":14984034,"display_name":"Usz47eK"},"score":0,"creation_date":1696259172,"post_id":77211156,"comment_id":136126828,"body_markdown":"@Toerktumlare in EDIT 1 I add pom.xml","body":"@Toerktumlare in EDIT 1 I add pom.xml"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696264209,"post_id":77211156,"comment_id":136127812,"body_markdown":"Why do you have `spring-security-config` added? And also with a really old version? Remove that fully, there is no reason for having that dependency. Dont you know what the purpose of the spring parent is?","body":"Why do you have <code>spring-security-config</code> added? And also with a really old version? Remove that fully, there is no reason for having that dependency. Dont you know what the purpose of the spring parent is?"},{"owner":{"account_id":20423522,"reputation":3,"user_id":14984034,"display_name":"Usz47eK"},"score":0,"creation_date":1696270102,"post_id":77211156,"comment_id":136128770,"body_markdown":"Im begginer and i try to learn it but im not programmer. I remove spring security config but  still the same errors","body":"Im begginer and i try to learn it but im not programmer. I remove spring security config but  still the same errors"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696270834,"post_id":77211156,"comment_id":136128923,"body_markdown":"there are several dependencies that i have no idea why you have added, this feels like you have just blindly copy pasted something `spring-cloud-dependencies` should be removed and `javax.servlet-api` should be removed. Saying you are a &quot;beginner&quot; doesn&#39;t matter. Before asking on stack overflow you should do proper research and have good knowledge of for instance all the items in your pom.xml etc. Stack overflow is not a forum, if you are a beginner means you just have to do more research. https://softwareengineering.meta.stackexchange.com/a/5149","body":"there are several dependencies that i have no idea why you have added, this feels like you have just blindly copy pasted something <code>spring-cloud-dependencies</code> should be removed and <code>javax.servlet-api</code> should be removed. Saying you are a &quot;beginner&quot; doesn&#39;t matter. Before asking on stack overflow you should do proper research and have good knowledge of for instance all the items in your pom.xml etc. Stack overflow is not a forum, if you are a beginner means you just have to do more research. <a href=\"https://softwareengineering.meta.stackexchange.com/a/5149\">softwareengineering.meta.stackexchange.com/a/5149</a>"}],"owner":{"account_id":20423522,"reputation":3,"user_id":14984034,"display_name":"Usz47eK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696259149,"creation_date":1696174962,"question_id":77211156,"body_markdown":"I want to implement in my application Spring Security to approve the display of pages.\r\nI created the User, Role and UserHasRole tables in my database. In the application, I created @Entity downloads connecting the application to the database. With various tutorials I created something preliminary but unfortunately it doesn&#39;t work for my case.\r\nI find this from the error in the InteliJ console ERROR IS INCLUDED BELLOW WHOLE CODE. I want to mention that the passwords in the database will be encrypted by Bcrypt\r\nBelow I am uploading the codes I created and @Entity\r\n\r\nInitially, I will send a database design:[Tables User, Role and User_Has_role][1]\r\n\r\nNow I will show the created Entity:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name=&quot;user_has_role&quot;)\r\npublic class UserHasRole {\r\n\r\n\r\n    @Id\r\n    @Column(name = &quot;id_roli&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id_uhr;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;role_id&quot;)\r\n    private Role role;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n + Getters Setters, added_id, modified_id and dates\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column(name = &quot;id_user&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id_user;\r\n\r\n    @Column(name = &quot;user_login&quot;)\r\n    private String user_login;\r\n\r\n    @Column(name = &quot;user_password&quot;)\r\n    private String user_password;\r\n\r\n    @Column(name = &quot;enabled&quot;)\r\n    private boolean enabled;\r\n\r\n    @Column(name = &quot;user_name&quot;)\r\n    private String user_name;\r\n\r\n    @Column(name = &quot;user_surname&quot;)\r\n    private String user_surname;\r\n\r\n```\r\nThe Role table was created identically to the User table. For each @Entity, I created Reepositories augmented with JpaRepository  in **UserRepository** posiadam \r\n```\r\nOptional&lt;User&gt; findByUserLogin(String user_login);\r\n```\r\nAt the very end, I upload 2 files **SecurityService** and **SecurityConfig**\r\n```\r\n@Service\r\npublic class SecurityService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private UserHasRoleRepository userHasRoleRepository;\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String user_login) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUserLogin(user_login)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n\r\n        List&lt;SimpleGrantedAuthority&gt; authorities = userHasRoleRepository.findAllByUser(user)\r\n                .stream()\r\n                .map(userHasRole -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + userHasRole.getRole().getRole_name()))\r\n                .collect(Collectors.toList());\r\n\r\n        return new org.springframework.security.core.userdetails.User(\r\n                user.getUser_login(),\r\n                user.getUser_password(),\r\n                authorities\r\n        );\r\n    }\r\n\r\n}\r\n\r\n```\r\n**SecurityConfig**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/devices&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin().loginPage(&quot;/login&quot;).permitAll()\r\n                .and()\r\n                .logout().permitAll()\r\n                .and()\r\n                .exceptionHandling().accessDeniedPage(&quot;/404&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n}\r\n```\r\n\r\nErrors from InteliJ console:\r\n\r\n```\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration.authenticationEventPublisher\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:427) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat figra.patryk.validationapp.ValidationAppApplication.main(ValidationAppApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3fee733d]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2601) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.9.jar:6.0.9]\r\n\t... 36 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 40 common frames omitted\r\n\r\n2023-10-01T17:10:22.149+02:00  WARN 20080 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3fee733d]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1302) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:866) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:854) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:841) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:781) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:324) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat figra.patryk.validationapp.ValidationAppApplication.main(ValidationAppApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2601) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.9.jar:6.0.9]\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 28 common frames omitted\r\n\r\n\r\n```\r\n\r\n\r\n**EDIT 1**\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;figra.patryk&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ValidationApp&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ValidationApp&lt;/name&gt;\r\n    &lt;description&gt;ValidationApp&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;20&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n        &lt;jakarta-servlet.version&gt;5.0.0&lt;/jakarta-servlet.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ohoO.png","title":"How to implement authentications using Spring Security with JPA RoleBased","body":"<p>I want to implement in my application Spring Security to approve the display of pages.\nI created the User, Role and UserHasRole tables in my database. In the application, I created @Entity downloads connecting the application to the database. With various tutorials I created something preliminary but unfortunately it doesn't work for my case.\nI find this from the error in the InteliJ console ERROR IS INCLUDED BELLOW WHOLE CODE. I want to mention that the passwords in the database will be encrypted by Bcrypt\nBelow I am uploading the codes I created and @Entity</p>\n<p>Initially, I will send a database design:<a href=\"https://i.stack.imgur.com/2ohoO.png\" rel=\"nofollow noreferrer\">Tables User, Role and User_Has_role</a></p>\n<p>Now I will show the created Entity:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;user_has_role&quot;)\npublic class UserHasRole {\n\n\n    @Id\n    @Column(name = &quot;id_roli&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id_uhr;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;role_id&quot;)\n    private Role role;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n + Getters Setters, added_id, modified_id and dates\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;user&quot;)\npublic class User {\n\n    @Id\n    @Column(name = &quot;id_user&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id_user;\n\n    @Column(name = &quot;user_login&quot;)\n    private String user_login;\n\n    @Column(name = &quot;user_password&quot;)\n    private String user_password;\n\n    @Column(name = &quot;enabled&quot;)\n    private boolean enabled;\n\n    @Column(name = &quot;user_name&quot;)\n    private String user_name;\n\n    @Column(name = &quot;user_surname&quot;)\n    private String user_surname;\n\n</code></pre>\n<p>The Role table was created identically to the User table. For each @Entity, I created Reepositories augmented with JpaRepository  in <strong>UserRepository</strong> posiadam</p>\n<pre><code>Optional&lt;User&gt; findByUserLogin(String user_login);\n</code></pre>\n<p>At the very end, I upload 2 files <strong>SecurityService</strong> and <strong>SecurityConfig</strong></p>\n<pre><code>@Service\npublic class SecurityService implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private UserHasRoleRepository userHasRoleRepository;\n\n    @Autowired\n    private RoleRepository roleRepository;\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String user_login) throws UsernameNotFoundException {\n        User user = userRepository.findByUserLogin(user_login)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n\n        List&lt;SimpleGrantedAuthority&gt; authorities = userHasRoleRepository.findAllByUser(user)\n                .stream()\n                .map(userHasRole -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + userHasRole.getRole().getRole_name()))\n                .collect(Collectors.toList());\n\n        return new org.springframework.security.core.userdetails.User(\n                user.getUser_login(),\n                user.getUser_password(),\n                authorities\n        );\n    }\n\n}\n\n</code></pre>\n<p><strong>SecurityConfig</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/devices&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .formLogin().loginPage(&quot;/login&quot;).permitAll()\n                .and()\n                .logout().permitAll()\n                .and()\n                .exceptionHandling().accessDeniedPage(&quot;/404&quot;);\n\n\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n}\n</code></pre>\n<p>Errors from InteliJ console:</p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration.authenticationEventPublisher\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:427) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at figra.patryk.validationapp.ValidationAppApplication.main(ValidationAppApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3fee733d]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.9.jar:6.0.9]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    ... 20 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2601) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.9.jar:6.0.9]\n    ... 36 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 40 common frames omitted\n\n2023-10-01T17:10:22.149+02:00  WARN 20080 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3fee733d]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.9.jar:6.0.9]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1302) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:866) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:854) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:841) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:781) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:324) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at figra.patryk.validationapp.ValidationAppApplication.main(ValidationAppApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2601) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.9.jar:6.0.9]\n    ... 24 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 28 common frames omitted\n\n\n</code></pre>\n<p><strong>EDIT 1</strong></p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;figra.patryk&lt;/groupId&gt;\n    &lt;artifactId&gt;ValidationApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ValidationApp&lt;/name&gt;\n    &lt;description&gt;ValidationApp&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n        &lt;jakarta-servlet.version&gt;5.0.0&lt;/jakarta-servlet.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","swing","jtable","jcombobox"],"comments":[{"owner":{"account_id":9540742,"reputation":89,"user_id":7089085,"display_name":"Nakuaga"},"score":0,"creation_date":1605864764,"post_id":3256086,"comment_id":114788869,"body_markdown":"Does this answer your question? [How to add JComboBox to a specific cell in the JTable](https://stackoverflow.com/questions/3426175/how-to-add-jcombobox-to-a-specific-cell-in-the-jtable)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3426175/how-to-add-jcombobox-to-a-specific-cell-in-the-jtable\">How to add JComboBox to a specific cell in the JTable</a>"}],"answers":[{"tags":[],"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1456334827,"creation_date":1279201748,"answer_id":3256139,"question_id":3256086,"body_markdown":"For the &lt;code&gt;JComboBox&lt;/code&gt; to be disaplyed, you have to use a &lt;code&gt;TableCellRenderer&lt;/code&gt;. Take a look at [*Using a Combo Box as an Editor*][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#combobox","title":"JComboBox in a JTable cell","body":"<p>For the <code>JComboBox</code> to be disaplyed, you have to use a <code>TableCellRenderer</code>. Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#combobox\" rel=\"nofollow noreferrer\"><em>Using a Combo Box as an Editor</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":165428,"reputation":910,"user_id":388875,"display_name":"Javaguru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279206497,"creation_date":1279201851,"answer_id":3256156,"question_id":3256086,"body_markdown":"Hehe, it&#39;s not to be used like you proposed.\r\n\r\nYou have to create a custom TableCellRenderer or TableCellEditor.\r\nThen you can specify for which class it will be used:\r\n\r\n    JTable.setDefaultRenderer(Class&lt;?&gt; columnClass, TableCellRenderer renderer)\r\n    JTable.setDefaultEditor(Class&lt;?&gt; columnClass, TableCellEditor editor)\r\n\r\nA detailed description can be found here: http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/uiswing/components/table.html#combobox\r\n\r\nFor a custom renderer in a specific row &amp; column, you can simply use:\r\n\r\n\r\n    final int specialRow = 1;\r\n    final int specialColumn = 5;\r\n    \r\n    JTable table = new JTable(myModel) {\r\n       private TableCellEditor mySpecialCellEditor = new SpecialCellEditor( ... );\r\n    \r\n       public TableCellEditor getCellEditor(int row, int column) {\r\n          int modelColumn = convertColumnIndexToModel(column);\r\n          int modelRow = convertRowIndexToModel(row);\r\n          if (modelColumn == specialColumn &amp;&amp; row == specialRow ) {\r\n             return mySpecialCellEditor;\r\n          } else {\r\n             return super.getCellEditor(row, column);\r\n          }\r\n       }\r\n    };\r\n\r\n","title":"JComboBox in a JTable cell","body":"<p>Hehe, it's not to be used like you proposed.</p>\n\n<p>You have to create a custom TableCellRenderer or TableCellEditor.\nThen you can specify for which class it will be used:</p>\n\n<pre><code>JTable.setDefaultRenderer(Class&lt;?&gt; columnClass, TableCellRenderer renderer)\nJTable.setDefaultEditor(Class&lt;?&gt; columnClass, TableCellEditor editor)\n</code></pre>\n\n<p>A detailed description can be found here: <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/uiswing/components/table.html#combobox\" rel=\"nofollow noreferrer\">http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/uiswing/components/table.html#combobox</a></p>\n\n<p>For a custom renderer in a specific row &amp; column, you can simply use:</p>\n\n<pre><code>final int specialRow = 1;\nfinal int specialColumn = 5;\n\nJTable table = new JTable(myModel) {\n   private TableCellEditor mySpecialCellEditor = new SpecialCellEditor( ... );\n\n   public TableCellEditor getCellEditor(int row, int column) {\n      int modelColumn = convertColumnIndexToModel(column);\n      int modelRow = convertRowIndexToModel(row);\n      if (modelColumn == specialColumn &amp;&amp; row == specialRow ) {\n         return mySpecialCellEditor;\n      } else {\n         return super.getCellEditor(row, column);\n      }\n   }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1279256899,"creation_date":1279204540,"answer_id":3256602,"question_id":3256086,"body_markdown":"One way is to override the getCellEditor() method to return an appropriate editor. Here is an example to get you started:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    \r\n    public class TableComboBoxByRow extends JFrame\r\n    {\r\n    \tList&lt;TableCellEditor&gt; editors = new ArrayList&lt;TableCellEditor&gt;(3);\r\n    \r\n    \tpublic TableComboBoxByRow()\r\n    \t{\r\n    \t\t// Create the editors to be used for each row\r\n    \r\n    \t\tString[] items1 = { &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot; };\r\n    \t\tJComboBox comboBox1 = new JComboBox( items1 );\r\n    \t\tDefaultCellEditor dce1 = new DefaultCellEditor( comboBox1 );\r\n    \t\teditors.add( dce1 );\r\n    \r\n    \t\tString[] items2 = { &quot;Circle&quot;, &quot;Square&quot;, &quot;Triangle&quot; };\r\n    \t\tJComboBox comboBox2 = new JComboBox( items2 );\r\n    \t\tDefaultCellEditor dce2 = new DefaultCellEditor( comboBox2 );\r\n    \t\teditors.add( dce2 );\r\n    \r\n    \t\tString[] items3 = { &quot;Apple&quot;, &quot;Orange&quot;, &quot;Banana&quot; };\r\n    \t\tJComboBox comboBox3 = new JComboBox( items3 );\r\n    \t\tDefaultCellEditor dce3 = new DefaultCellEditor( comboBox3 );\r\n    \t\teditors.add( dce3 );\r\n    \r\n    \t\t//  Create the table with default data\r\n    \r\n    \t\tObject[][] data =\r\n    \t\t{\r\n    \t\t\t{&quot;Color&quot;, &quot;Red&quot;},\r\n    \t\t\t{&quot;Shape&quot;, &quot;Square&quot;},\r\n    \t\t\t{&quot;Fruit&quot;, &quot;Banana&quot;},\r\n    \t\t\t{&quot;Plain&quot;, &quot;Text&quot;}\r\n    \t\t};\r\n    \t\tString[] columnNames = {&quot;Type&quot;,&quot;Value&quot;};\r\n    \t\tDefaultTableModel model = new DefaultTableModel(data, columnNames);\r\n    \t\tJTable table = new JTable(model)\r\n    \t\t{\r\n    \t\t\t//  Determine editor to be used by row\r\n    \t\t\tpublic TableCellEditor getCellEditor(int row, int column)\r\n    \t\t\t{\r\n    \t\t\t\tint modelColumn = convertColumnIndexToModel( column );\r\n    \r\n    \t\t\t\tif (modelColumn == 1 &amp;&amp; row &lt; 3)\r\n    \t\t\t\t\treturn editors.get(row);\r\n    \t\t\t\telse\r\n    \t\t\t\t\treturn super.getCellEditor(row, column);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tSystem.out.println(table.getCellEditor());\r\n    \r\n    \t\tJScrollPane scrollPane = new JScrollPane( table );\r\n    \t\tgetContentPane().add( scrollPane );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tTableComboBoxByRow frame = new TableComboBoxByRow();\r\n    \t\tframe.setDefaultCloseOperation( EXIT_ON_CLOSE );\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nEdit: code updated to use trashgod&#39;s suggestion.","title":"JComboBox in a JTable cell","body":"<p>One way is to override the getCellEditor() method to return an appropriate editor. Here is an example to get you started:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.List;\nimport java.util.ArrayList;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class TableComboBoxByRow extends JFrame\n{\n    List&lt;TableCellEditor&gt; editors = new ArrayList&lt;TableCellEditor&gt;(3);\n\n    public TableComboBoxByRow()\n    {\n        // Create the editors to be used for each row\n\n        String[] items1 = { \"Red\", \"Blue\", \"Green\" };\n        JComboBox comboBox1 = new JComboBox( items1 );\n        DefaultCellEditor dce1 = new DefaultCellEditor( comboBox1 );\n        editors.add( dce1 );\n\n        String[] items2 = { \"Circle\", \"Square\", \"Triangle\" };\n        JComboBox comboBox2 = new JComboBox( items2 );\n        DefaultCellEditor dce2 = new DefaultCellEditor( comboBox2 );\n        editors.add( dce2 );\n\n        String[] items3 = { \"Apple\", \"Orange\", \"Banana\" };\n        JComboBox comboBox3 = new JComboBox( items3 );\n        DefaultCellEditor dce3 = new DefaultCellEditor( comboBox3 );\n        editors.add( dce3 );\n\n        //  Create the table with default data\n\n        Object[][] data =\n        {\n            {\"Color\", \"Red\"},\n            {\"Shape\", \"Square\"},\n            {\"Fruit\", \"Banana\"},\n            {\"Plain\", \"Text\"}\n        };\n        String[] columnNames = {\"Type\",\"Value\"};\n        DefaultTableModel model = new DefaultTableModel(data, columnNames);\n        JTable table = new JTable(model)\n        {\n            //  Determine editor to be used by row\n            public TableCellEditor getCellEditor(int row, int column)\n            {\n                int modelColumn = convertColumnIndexToModel( column );\n\n                if (modelColumn == 1 &amp;&amp; row &lt; 3)\n                    return editors.get(row);\n                else\n                    return super.getCellEditor(row, column);\n            }\n        };\n        System.out.println(table.getCellEditor());\n\n        JScrollPane scrollPane = new JScrollPane( table );\n        getContentPane().add( scrollPane );\n    }\n\n    public static void main(String[] args)\n    {\n        TableComboBoxByRow frame = new TableComboBoxByRow();\n        frame.setDefaultCloseOperation( EXIT_ON_CLOSE );\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Edit: code updated to use trashgod's suggestion.</p>\n"},{"tags":[],"owner":{"account_id":1774855,"reputation":665,"user_id":1618817,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1369410297,"creation_date":1369410297,"answer_id":16738848,"question_id":3256086,"body_markdown":"Try something like this:\r\n\r\n     public void example(){  \r\n\r\n          TableColumn tmpColum =table.getColumnModel().getColumn(1);\r\n          String[] DATA = { &quot;Data 1&quot;, &quot;Data 2&quot;, &quot;Data 3&quot;, &quot;Data 4&quot; };\r\n          JComboBox comboBox = new JComboBox(DATA);\r\n\r\n          DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox);\r\n          tmpColum.setCellEditor(defaultCellEditor);\r\n          tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox));\r\n          table.repaint();\r\n       }\r\n\r\n\r\n    /**\r\n       Custom class for adding elements in the JComboBox.\r\n    */\r\n    class CheckBoxCellRenderer implements TableCellRenderer {\r\n            JComboBox combo;\r\n            public CheckBoxCellRenderer(JComboBox comboBox) {\r\n                this.combo = new JComboBox();\r\n                for (int i=0; i&lt;comboBox.getItemCount(); i++){\r\n                    combo.addItem(comboBox.getItemAt(i));\r\n                }\r\n            }\r\n            public Component getTableCellRendererComponent(JTable jtable, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n                combo.setSelectedItem(value);\r\n                return combo;\r\n            }\r\n        }\r\n","title":"JComboBox in a JTable cell","body":"<p>Try something like this:</p>\n\n<pre><code> public void example(){  \n\n      TableColumn tmpColum =table.getColumnModel().getColumn(1);\n      String[] DATA = { \"Data 1\", \"Data 2\", \"Data 3\", \"Data 4\" };\n      JComboBox comboBox = new JComboBox(DATA);\n\n      DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox);\n      tmpColum.setCellEditor(defaultCellEditor);\n      tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox));\n      table.repaint();\n   }\n\n\n/**\n   Custom class for adding elements in the JComboBox.\n*/\nclass CheckBoxCellRenderer implements TableCellRenderer {\n        JComboBox combo;\n        public CheckBoxCellRenderer(JComboBox comboBox) {\n            this.combo = new JComboBox();\n            for (int i=0; i&lt;comboBox.getItemCount(); i++){\n                combo.addItem(comboBox.getItemAt(i));\n            }\n        }\n        public Component getTableCellRendererComponent(JTable jtable, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            combo.setSelectedItem(value);\n            return combo;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29577003,"reputation":1,"user_id":22667717,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696259126,"creation_date":1696197749,"answer_id":77212476,"question_id":3256086,"body_markdown":"I was working on something similar where I need comboboxes on columns in certain rows.\r\n\r\n        Integer boolInt[]  = {0,1};\r\n        JComboBox comboBox = new JComboBox(boolInt);\r\n        DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox);\r\n        \r\n            for (int j = 1; j &lt; 5; j++) {//columns\r\n                TableColumn tmpColum =table.getColumnModel().getColumn(j);\r\n                JComboBox&lt;Integer&gt;(boolInt);\r\n                tmpColum.setCellEditor(defaultCellEditor);\r\n                tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox));\r\n                table.repaint();\r\n            }\r\n       \r\n","title":"JComboBox in a JTable cell","body":"<p>I was working on something similar where I need comboboxes on columns in certain rows.</p>\n<pre><code>    Integer boolInt[]  = {0,1};\n    JComboBox comboBox = new JComboBox(boolInt);\n    DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox);\n    \n        for (int j = 1; j &lt; 5; j++) {//columns\n            TableColumn tmpColum =table.getColumnModel().getColumn(j);\n            JComboBox&lt;Integer&gt;(boolInt);\n            tmpColum.setCellEditor(defaultCellEditor);\n            tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox));\n            table.repaint();\n        }\n   \n</code></pre>\n"}],"owner":{"account_id":113349,"reputation":117,"user_id":298562,"accept_rate":60,"display_name":"anna-k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13781,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1696259126,"creation_date":1279201405,"question_id":3256086,"body_markdown":"I have a JTable created using a model, which is based on a matrix of objects. \r\nFor each row, I want to put in a specific column (the 5th) some information using a JComboBox. I have tried the following:\r\n\r\n\r\n    for(int i=0; i &lt; n ; i++) {  \r\n        .....  \r\n        data[i][5] = new JComboBox(aux); // aux is a Vector of elements I wanna insert  \r\n    }  \r\n    table.setModel(new MyTableModel()); // MyTableModel() already takes into consideration the data[][] object  \r\n\r\nThe problem is that `data[i][5] = new JComboBox(aux);` does not create a JComboBox object in that specific cell of the JTable, but pastes a code into the row. What can I do to solve this problem?\r\n\r\n","title":"JComboBox in a JTable cell","body":"<p>I have a JTable created using a model, which is based on a matrix of objects.\nFor each row, I want to put in a specific column (the 5th) some information using a JComboBox. I have tried the following:</p>\n<pre><code>for(int i=0; i &lt; n ; i++) {  \n    .....  \n    data[i][5] = new JComboBox(aux); // aux is a Vector of elements I wanna insert  \n}  \ntable.setModel(new MyTableModel()); // MyTableModel() already takes into consideration the data[][] object  \n</code></pre>\n<p>The problem is that <code>data[i][5] = new JComboBox(aux);</code> does not create a JComboBox object in that specific cell of the JTable, but pastes a code into the row. What can I do to solve this problem?</p>\n"},{"tags":["java","jms","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1580989179,"creation_date":1580954129,"answer_id":60086655,"question_id":60069782,"body_markdown":"You should use the `setSessionAcknowledgeMode` method on your \r\n`org.springframework.jms.config.DefaultJmsListenerContainerFactory` instance to set [`CLIENT_ACKNOWLEDGE`][1] mode, e.g.:\r\n\r\n```java\r\n@Bean\r\npublic JmsListenerContainerFactory myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n    factory.setErrorHandler(t -&gt; {\r\n        logger.info(&quot;An error has occurred in the transaction&quot;);\r\n        logger.error(t.getCause().getMessage());\r\n    });\r\n\r\n    factory.setSessionAcknowledgeMode(javax.jms.Session.CLIENT_ACKNOWLEDGE);\r\n\r\n    configurer.configure(factory, connectionFactory);\r\n    factory.setConcurrency(&quot;4&quot;);\r\n\r\n    // You could still override some of Boot&#39;s default if necessary.\r\n    return factory;\r\n}\r\n```\r\nThis is discussed in the [Spring JMS JavaDoc][2]:\r\n\r\n&gt; The listener container offers the following message acknowledgment options:\r\n&gt;\r\n&gt; - &quot;sessionAcknowledgeMode&quot; set to &quot;AUTO_ACKNOWLEDGE&quot; (default): This mode is container-dependent: For [`DefaultMessageListenerContainer`][3], it means automatic message acknowledgment *before* listener execution, with no redelivery in case of an exception and no redelivery in case of other listener execution interruptions either. For [`SimpleMessageListenerContainer`][4], it means automatic message acknowledgment *after* listener execution, with no redelivery in case of a user exception thrown but potential redelivery in case of the JVM dying during listener execution. In order to consistently arrange for redelivery with any container variant, consider &quot;CLIENT_ACKNOWLEDGE&quot; mode or - preferably - setting &quot;sessionTransacted&quot; to &quot;true&quot; instead.\r\n&gt;\r\n&gt; - &quot;sessionAcknowledgeMode&quot; set to &quot;DUPS_OK_ACKNOWLEDGE&quot;: *Lazy* message acknowledgment during ([`DefaultMessageListenerContainer`][3]) or shortly after ([`SimpleMessageListenerContainer`][4]) listener execution; no redelivery in case of a user exception thrown but potential redelivery in case of the JVM dying during listener execution. In order to consistently arrange for redelivery with any container variant, consider &quot;CLIENT_ACKNOWLEDGE&quot; mode or - preferably - setting &quot;sessionTransacted&quot; to &quot;true&quot; instead.\r\n&gt;\r\n&gt; - &quot;sessionAcknowledgeMode&quot; set to &quot;CLIENT_ACKNOWLEDGE&quot;: Automatic message acknowledgment *after* successful listener execution; best-effort redelivery in case of a user exception thrown as well as in case of other listener execution interruptions (such as the JVM dying).\r\n&gt;\r\n&gt; - &quot;sessionTransacted&quot; set to &quot;true&quot;: Transactional acknowledgment after successful listener execution; *guaranteed redelivery* in case of a user exception thrown as well as in case of other listener execution interruptions (such as the JVM dying).\r\n\r\nYou could also use this in your Spring Boot `application.properties`:\r\n\r\n```\r\nspring.jms.listener.acknowledge-mode=CLIENT\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Session.html?#CLIENT_ACKNOWLEDGE\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/AbstractMessageListenerContainer.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/SimpleMessageListenerContainer.html","title":"How to manually acknowledge message from using Spring JmsListener","body":"<p>You should use the <code>setSessionAcknowledgeMode</code> method on your \n<code>org.springframework.jms.config.DefaultJmsListenerContainerFactory</code> instance to set <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Session.html?#CLIENT_ACKNOWLEDGE\" rel=\"noreferrer\"><code>CLIENT_ACKNOWLEDGE</code></a> mode, e.g.:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JmsListenerContainerFactory myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\n\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setErrorHandler(t -&gt; {\n        logger.info(\"An error has occurred in the transaction\");\n        logger.error(t.getCause().getMessage());\n    });\n\n    factory.setSessionAcknowledgeMode(javax.jms.Session.CLIENT_ACKNOWLEDGE);\n\n    configurer.configure(factory, connectionFactory);\n    factory.setConcurrency(\"4\");\n\n    // You could still override some of Boot's default if necessary.\n    return factory;\n}\n</code></pre>\n\n<p>This is discussed in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/AbstractMessageListenerContainer.html\" rel=\"noreferrer\">Spring JMS JavaDoc</a>:</p>\n\n<blockquote>\n  <p>The listener container offers the following message acknowledgment options:</p>\n  \n  <ul>\n  <li><p>\"sessionAcknowledgeMode\" set to \"AUTO_ACKNOWLEDGE\" (default): This mode is container-dependent: For <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\" rel=\"noreferrer\"><code>DefaultMessageListenerContainer</code></a>, it means automatic message acknowledgment <em>before</em> listener execution, with no redelivery in case of an exception and no redelivery in case of other listener execution interruptions either. For <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/SimpleMessageListenerContainer.html\" rel=\"noreferrer\"><code>SimpleMessageListenerContainer</code></a>, it means automatic message acknowledgment <em>after</em> listener execution, with no redelivery in case of a user exception thrown but potential redelivery in case of the JVM dying during listener execution. In order to consistently arrange for redelivery with any container variant, consider \"CLIENT_ACKNOWLEDGE\" mode or - preferably - setting \"sessionTransacted\" to \"true\" instead.</p></li>\n  <li><p>\"sessionAcknowledgeMode\" set to \"DUPS_OK_ACKNOWLEDGE\": <em>Lazy</em> message acknowledgment during (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\" rel=\"noreferrer\"><code>DefaultMessageListenerContainer</code></a>) or shortly after (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/SimpleMessageListenerContainer.html\" rel=\"noreferrer\"><code>SimpleMessageListenerContainer</code></a>) listener execution; no redelivery in case of a user exception thrown but potential redelivery in case of the JVM dying during listener execution. In order to consistently arrange for redelivery with any container variant, consider \"CLIENT_ACKNOWLEDGE\" mode or - preferably - setting \"sessionTransacted\" to \"true\" instead.</p></li>\n  <li><p>\"sessionAcknowledgeMode\" set to \"CLIENT_ACKNOWLEDGE\": Automatic message acknowledgment <em>after</em> successful listener execution; best-effort redelivery in case of a user exception thrown as well as in case of other listener execution interruptions (such as the JVM dying).</p></li>\n  <li><p>\"sessionTransacted\" set to \"true\": Transactional acknowledgment after successful listener execution; <em>guaranteed redelivery</em> in case of a user exception thrown as well as in case of other listener execution interruptions (such as the JVM dying).</p></li>\n  </ul>\n</blockquote>\n\n<p>You could also use this in your Spring Boot <code>application.properties</code>:</p>\n\n<pre><code>spring.jms.listener.acknowledge-mode=CLIENT\n</code></pre>\n"}],"owner":{"account_id":13669941,"reputation":154,"user_id":9862830,"display_name":"Sathya Narayan C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12583,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60086655,"answer_count":1,"score":4,"last_activity_date":1696259052,"creation_date":1580882363,"question_id":60069782,"body_markdown":"I am using JMS with Spring&#39;s JmsListener. I am able to consume messages from a JMS queue, but it is using `AUTO_ACKNOWLEDGE`. How can I set `CLIENT_ACKNOWLEDGE` so that I can consume the other message only after that acknowledgment.\r\n\r\n```java\r\n@Bean\r\npublic JmsListenerContainerFactory myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n    factory.setErrorHandler(t -&gt; {\r\n        logger.info(&quot;An error has occurred in the transaction&quot;);\r\n        logger.error(t.getCause().getMessage());\r\n    });\r\n\r\n    configurer.configure(factory, connectionFactory);\r\n    factory.setConcurrency(&quot;4&quot;);\r\n\r\n    // You could still override some of Boot&#39;s default if necessary.\r\n    return factory;\r\n}\r\n\r\n@Bean\r\npublic MessageConverter jacksonJmsMessageConverter() {\r\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    converter.setTargetType(MessageType.TEXT);\r\n    converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n    return converter;\r\n}\r\n\r\n@JmsListener(destination = &quot;QUEUE_1&quot;, containerFactory = &quot;myFactory&quot;, concurrency = &quot;2&quot;)\r\npublic void receiveImgGenerationMessage(String transaction) {\r\n    logger.info(&quot;message received in queue &quot; + transaction);\r\n    //I will call other api to process the message and do some operation \r\n    //after the message is processed \r\n    //I have to Acknowledge the message is processed\r\n    //so that i can consume the other message for process.\r\n}\r\n\r\n// jmsTemplate bean\r\npublic void sendmessage() {\r\n    for (int i =0 ; i &lt; 10 ; &lt; i++) { \r\n        jmsTemplate.convertAndSend(&quot;QUEUE_1&quot;, i);\r\n    }\r\n}\r\n```","title":"How to manually acknowledge message from using Spring JmsListener","body":"<p>I am using JMS with Spring's JmsListener. I am able to consume messages from a JMS queue, but it is using <code>AUTO_ACKNOWLEDGE</code>. How can I set <code>CLIENT_ACKNOWLEDGE</code> so that I can consume the other message only after that acknowledgment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JmsListenerContainerFactory myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\n\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setErrorHandler(t -&gt; {\n        logger.info(&quot;An error has occurred in the transaction&quot;);\n        logger.error(t.getCause().getMessage());\n    });\n\n    configurer.configure(factory, connectionFactory);\n    factory.setConcurrency(&quot;4&quot;);\n\n    // You could still override some of Boot's default if necessary.\n    return factory;\n}\n\n@Bean\npublic MessageConverter jacksonJmsMessageConverter() {\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setTargetType(MessageType.TEXT);\n    converter.setTypeIdPropertyName(&quot;_type&quot;);\n    return converter;\n}\n\n@JmsListener(destination = &quot;QUEUE_1&quot;, containerFactory = &quot;myFactory&quot;, concurrency = &quot;2&quot;)\npublic void receiveImgGenerationMessage(String transaction) {\n    logger.info(&quot;message received in queue &quot; + transaction);\n    //I will call other api to process the message and do some operation \n    //after the message is processed \n    //I have to Acknowledge the message is processed\n    //so that i can consume the other message for process.\n}\n\n// jmsTemplate bean\npublic void sendmessage() {\n    for (int i =0 ; i &lt; 10 ; &lt; i++) { \n        jmsTemplate.convertAndSend(&quot;QUEUE_1&quot;, i);\n    }\n}\n</code></pre>\n"},{"tags":["java","jquery","json","struts2","jquery-select2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1380347220,"post_id":18997699,"comment_id":28176745,"body_markdown":"What results are returned from the ajax call?","body":"What results are returned from the ajax call?"},{"owner":{"account_id":3346109,"reputation":71,"user_id":2811229,"display_name":"user2811229"},"score":0,"creation_date":1380695832,"post_id":18997699,"comment_id":28292740,"body_markdown":"At the end I just added &quot;getId&quot; and &quot;getText&quot; methods to the &quot;Orphanet&quot; object. I didn&#39;t want to parse the full json answer again. Anyway I still dont know why &quot;id: function(item)&quot; and &quot;formatResult: function(item)&quot; didn&#39;t work.","body":"At the end I just added &quot;getId&quot; and &quot;getText&quot; methods to the &quot;Orphanet&quot; object. I didn&#39;t want to parse the full json answer again. Anyway I still dont know why &quot;id: function(item)&quot; and &quot;formatResult: function(item)&quot; didn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380144399,"creation_date":1380144399,"answer_id":19015493,"question_id":18997699,"body_markdown":"I tried a bit searching but didn&#39;t found `id: function(item) {`\r\n\r\nAnyways, here&#39;s a quick-fix\r\n\r\n1. Consider the response as a normal string\r\n2. replace `idDiagOrphanet` with `id` and `nomDiagOrphanet` with `text` and then return this string instead of `return { results: data.orphanets };`\r\n\r\nHere&#39;s another way : \r\nhttps://stackoverflow.com/questions/7540071/modifying-a-json-object-by-creating-a-new-field-using-existing-elements\r\n\r\n    var ornts= data.orphanets;\r\n    var new_obj ;\r\n    for(var i=0; i&lt;data.orphanets.length; i++){\r\n        var person = persons[i];\r\n        new_obj.push({\r\n            id: ornts.idDiagOrphanet,\r\n            text: ornts.nomDiagOrphanet,\r\n        });\r\n    }\r\n    \r\n    return new_obj;\r\n\r\n","title":"How to populate a &lt;select&gt; tag with options using jQuery Select2 plugin in Struts 2","body":"<p>I tried a bit searching but didn't found <code>id: function(item) {</code></p>\n\n<p>Anyways, here's a quick-fix</p>\n\n<ol>\n<li>Consider the response as a normal string</li>\n<li>replace <code>idDiagOrphanet</code> with <code>id</code> and <code>nomDiagOrphanet</code> with <code>text</code> and then return this string instead of <code>return { results: data.orphanets };</code></li>\n</ol>\n\n<p>Here's another way : \n<a href=\"https://stackoverflow.com/questions/7540071/modifying-a-json-object-by-creating-a-new-field-using-existing-elements\">Modifying a JSON object by creating a New Field using existing Elements</a></p>\n\n<pre><code>var ornts= data.orphanets;\nvar new_obj ;\nfor(var i=0; i&lt;data.orphanets.length; i++){\n    var person = persons[i];\n    new_obj.push({\n        id: ornts.idDiagOrphanet,\n        text: ornts.nomDiagOrphanet,\n    });\n}\n\nreturn new_obj;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380393720,"creation_date":1380393720,"answer_id":19070417,"question_id":18997699,"body_markdown":"Try \r\n\r\n     $(&quot;#selCodOrphanet&quot;).select2({\r\n        placeholder: &quot;Buscar diag. Orphanet...&quot;,\r\n        minimumInputLength: 4,\r\n        ajax: {\r\n            url: &#39;&lt;s:url namespace=&quot;/json&quot; action=&quot;getOrphanets&quot;/&gt;&#39;,\r\n            dataType: &#39;json&#39;,\r\n            quietMillis: 100,\r\n            data: function (term, page) {\r\n              return {\r\n                term: term\r\n              };\r\n            },                  \r\n            results: function (data, page) {\r\n              return { results: data.orphanets };\r\n            },\r\n            id: function(item) {\r\n              return item.idDiagOrphanet; \r\n            },\r\n            formatResult: function(item) { \r\n                return &quot;&lt;div class=&#39;select2-user-result&#39;&gt;&quot; + item.nomDiagOrphanet + &quot;&lt;/div&gt;&quot;; \r\n            }\r\n            escapeMarkup: function (m) { return m; }  \r\n        }\r\n    });\r\n\r\nAdded the qualified URL mapping to `getOrphanets` action with namespace `/json`. Corresponding configuration should be made. Don&#39;t escape markup since you are displaying HTML in results. ","title":"How to populate a &lt;select&gt; tag with options using jQuery Select2 plugin in Struts 2","body":"<p>Try </p>\n\n<pre><code> $(\"#selCodOrphanet\").select2({\n    placeholder: \"Buscar diag. Orphanet...\",\n    minimumInputLength: 4,\n    ajax: {\n        url: '&lt;s:url namespace=\"/json\" action=\"getOrphanets\"/&gt;',\n        dataType: 'json',\n        quietMillis: 100,\n        data: function (term, page) {\n          return {\n            term: term\n          };\n        },                  \n        results: function (data, page) {\n          return { results: data.orphanets };\n        },\n        id: function(item) {\n          return item.idDiagOrphanet; \n        },\n        formatResult: function(item) { \n            return \"&lt;div class='select2-user-result'&gt;\" + item.nomDiagOrphanet + \"&lt;/div&gt;\"; \n        }\n        escapeMarkup: function (m) { return m; }  \n    }\n});\n</code></pre>\n\n<p>Added the qualified URL mapping to <code>getOrphanets</code> action with namespace <code>/json</code>. Corresponding configuration should be made. Don't escape markup since you are displaying HTML in results. </p>\n"}],"owner":{"account_id":3346109,"reputation":71,"user_id":2811229,"display_name":"user2811229"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696258848,"creation_date":1380090387,"question_id":18997699,"body_markdown":"I&#39;m trying to populate a `&lt;select&gt;`tag with [Struts2 JSON][1] and [Select2][2]. Server is returning a JSON like this:\r\n\r\n    {&quot;orphanets&quot;:[{&quot;idDiagOrphanet&quot;:11509,&quot;nomDiagOrphanet&quot;:&quot;FACOMATOSIS CESIOFLAMMEA&quot;},{&quot;idDiagOrphanet&quot;:21782,&quot;nomDiagOrphanet&quot;:&quot;AUTOINFLAMMATION&quot;}]}\r\n\r\n\r\n  [1]: https://struts.apache.org/plugins/json\r\n  [2]: http://ivaynberg.github.io/select2/\r\n\r\nHow can I format/parse the result to make it work? I know it expects `id` and `text` fields, but cant get it working:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     $(&quot;#selCodOrphanet&quot;).select2({\r\n\t\tquietMillis: 300,\r\n\t \tplaceholder: &quot;Buscar diag. Orphanet...&quot;,\r\n        minimumInputLength: 4,\r\n\t    ajax: {\r\n\t        url: &#39;../json/getOrphanets&#39;,\r\n\t        dataType: &#39;json&#39;,\r\n\t        data: function (term, page) {\r\n\t          return {\r\n\t            term: term\r\n\t          };\r\n\t        },\t\t\t\t\t\r\n\t        results: function (data, page) {\r\n\t          return { results: data.orphanets };\r\n\t        },\r\n\t\t\tid: function(item) {\r\n\t\t\t  return item.idDiagOrphanet; \r\n\t\t\t},\r\n\t\t\tformatResult: function(item) { \r\n\t\t\t\treturn &quot;&lt;div class=&#39;select2-user-result&#39;&gt;&quot; + item.nomDiagOrphanet + &quot;&lt;/div&gt;&quot;; \r\n\t\t\t}\r\n\t    }\r\n\t});","title":"How to populate a &lt;select&gt; tag with options using jQuery Select2 plugin in Struts 2","body":"<p>I'm trying to populate a <code>&lt;select&gt;</code>tag with <a href=\"https://struts.apache.org/plugins/json\" rel=\"nofollow noreferrer\">Struts2 JSON</a> and <a href=\"http://ivaynberg.github.io/select2/\" rel=\"nofollow noreferrer\">Select2</a>. Server is returning a JSON like this:</p>\n<pre><code>{&quot;orphanets&quot;:[{&quot;idDiagOrphanet&quot;:11509,&quot;nomDiagOrphanet&quot;:&quot;FACOMATOSIS CESIOFLAMMEA&quot;},{&quot;idDiagOrphanet&quot;:21782,&quot;nomDiagOrphanet&quot;:&quot;AUTOINFLAMMATION&quot;}]}\n</code></pre>\n<p>How can I format/parse the result to make it work? I know it expects <code>id</code> and <code>text</code> fields, but cant get it working:</p>\n<pre class=\"lang-js prettyprint-override\"><code> $(&quot;#selCodOrphanet&quot;).select2({\n    quietMillis: 300,\n    placeholder: &quot;Buscar diag. Orphanet...&quot;,\n    minimumInputLength: 4,\n    ajax: {\n        url: '../json/getOrphanets',\n        dataType: 'json',\n        data: function (term, page) {\n          return {\n            term: term\n          };\n        },                  \n        results: function (data, page) {\n          return { results: data.orphanets };\n        },\n        id: function(item) {\n          return item.idDiagOrphanet; \n        },\n        formatResult: function(item) { \n            return &quot;&lt;div class='select2-user-result'&gt;&quot; + item.nomDiagOrphanet + &quot;&lt;/div&gt;&quot;; \n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","postman","http-status-code-500"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":1,"creation_date":1696128410,"post_id":77208826,"comment_id":136113315,"body_markdown":"A 500 error indicates that you&#39;re reaching the line starting with `return ResponseEntity.internalServerError() ...`.  You would get more clarity if you were to also log the exception itself, rather than just the `processinstanceid`.","body":"A 500 error indicates that you&#39;re reaching the line starting with <code>return ResponseEntity.internalServerError() ...</code>.  You would get more clarity if you were to also log the exception itself, rather than just the <code>processinstanceid</code>."},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696159092,"post_id":77208826,"comment_id":136115309,"body_markdown":"Hi in the body of section of Postman , emailto , emailfrom , MessageID , subject , and processinstanceID needs to fetched in order for proper testing , Im not able to find what particular value of processinstanceID should be fed into body of API parameters as even while putting a dummy value i get the same error in console log     :-    2023-09-29 17:14:53,673 68384308 [https-jsse-nio-8006-exec-8] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultInstanceID","body":"Hi in the body of section of Postman , emailto , emailfrom , MessageID , subject , and processinstanceID needs to fetched in order for proper testing , Im not able to find what particular value of processinstanceID should be fed into body of API parameters as even while putting a dummy value i get the same error in console log     :-    2023-09-29 17:14:53,673 68384308 [https-jsse-nio-8006-exec-8] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultInstanceID"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1696171368,"post_id":77208826,"comment_id":136116512,"body_markdown":"Do you have access to the server logs?  If so, try adding `log.error(e);` just above `return ResponseEntity.internalServerError()                  .body(ApplicationConstants.ERROR_SAVING_DRAFT);`.  Then you&#39;ll see if the exception itself provided you with any additional clues.","body":"Do you have access to the server logs?  If so, try adding <code>log.error(e);</code> just above <code>return ResponseEntity.internalServerError()                  .body(ApplicationConstants.ERROR_SAVING_DRAFT);</code>.  Then you&#39;ll see if the exception itself provided you with any additional clues."},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696197281,"post_id":77208826,"comment_id":136119314,"body_markdown":"Hi , should remove the previously written log.error line and replace it with log.error(e);   the code will now look like this : -                                                                           } catch (Exception e) {\n                 log.error(e);\n                  return ResponseEntity.internalServerError()\n                  .body(ApplicationConstants.ERROR_SAVING_DRAFT);","body":"Hi , should remove the previously written log.error line and replace it with log.error(e);   the code will now look like this : -                                                                           } catch (Exception e) {                  log.error(e);                   return ResponseEntity.internalServerError()                   .body(ApplicationConstants.ERROR_SAVING_DRAFT);"},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696197380,"post_id":77208826,"comment_id":136119327,"body_markdown":"Multiple markers at this line\n\t- Line breakpoint:EmailController [line: 46] - saveAsDraft(EmailConfiguration, HttpServletRequest)\n\t- The method error(String) in the type Logger is not applicable for the arguments (Exception)    , this is the error im getting in the code when im replacing log.error(e); which current log.error statement","body":"Multiple markers at this line \t- Line breakpoint:EmailController [line: 46] - saveAsDraft(EmailConfiguration, HttpServletRequest) \t- The method error(String) in the type Logger is not applicable for the arguments (Exception)    , this is the error im getting in the code when im replacing log.error(e); which current log.error statement"},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696197444,"post_id":77208826,"comment_id":136119336,"body_markdown":"the error in console while testing API of the first listed code is coming out to be :- &quot;2023-10-01 19:22:16,174 102324 [https-jsse-nio-8006-exec-5] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultProcessID&quot;","body":"the error in console while testing API of the first listed code is coming out to be :- &quot;2023-10-01 19:22:16,174 102324 [https-jsse-nio-8006-exec-5] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultProcessID&quot;"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1696202914,"post_id":77208826,"comment_id":136119733,"body_markdown":"It looks like, from elsewhere in your code, that your Logger could handle this line instead:  `log.error(&quot;Error saving as draft for processinstanceid : {}, {}&quot;,          \n         emailConfiguration.getProcessinstanceid(), e);`","body":"It looks like, from elsewhere in your code, that your Logger could handle this line instead:  <code>log.error(&quot;Error saving as draft for processinstanceid : {}, {}&quot;,                    emailConfiguration.getProcessinstanceid(), e);</code>"},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696234238,"post_id":77208826,"comment_id":136122247,"body_markdown":"Hi I , replaced the code with the statement you provided in place of my log statement , this is the error im getting in the console although its the same 2023-10-02 13:38:57,351 97987 [https-jsse-nio-8006-exec-5] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultProcessID_1, {}\norg.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.IllegalStateException: Cannot determine target DataSource for lookup key [null]","body":"Hi I , replaced the code with the statement you provided in place of my log statement , this is the error im getting in the console although its the same 2023-10-02 13:38:57,351 97987 [https-jsse-nio-8006-exec-5] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultProcessID_1, {} org.springframework.transaction.CannotCreateTransactionExcep&zwnj;&#8203;tion: Could not open JDBC Connection for transaction; nested exception is java.lang.IllegalStateException: Cannot determine target DataSource for lookup key [null]"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1696260392,"post_id":77208826,"comment_id":136127100,"body_markdown":"Great.  So now you know you need to troubleshoot the connection to your SQL database.","body":"Great.  So now you know you need to troubleshoot the connection to your SQL database."}],"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696258738,"creation_date":1696118809,"question_id":77208826,"body_markdown":"I&#39;m Testing the API on Postman and the error while testing the API that I&#39;m getting in the console is:\r\n\r\n&gt; 2023-09-29 17:14:53,673 68384308 [https-jsse-nio-8006-exec-8] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultInstanceID\r\n \r\n \r\n I&#39;m not able to find in the correct input for the below listed API for  `processinstanceid`. Below listed is the information about the code and the API .\r\n \r\n The API is :- https://localhost:8006/app/Email/saveAsDraft,\r\n \r\n More Information about the API :-\r\n \r\n 1. it is being used in a Post Method \r\n 2. the name of functionality is SaveAsDraft \r\n 3. the body necessary for the testing the API is in JSON format that i have picked from                \r\n DataBase\r\n 4. the text in the JSON body of API in Postman is :-\r\n\r\n                  &quot;messageId&quot;: &quot;&lt;5432112345@xyz.com&gt;&quot;,\r\n                  &quot;mailFrom&quot;: &quot;kingissingh@xyz.com&quot;,\r\n                  &quot;processinstanceid&quot;: &quot;DefaultProcessID&quot;,\r\n                  &quot;mailTo&quot;: &quot;singhisking@xyz.com&quot;\r\n                  &quot;subject&quot;: &quot;Hi im singh&quot;,\r\n \r\n \r\n More Information about  Testing the API :-\r\n\r\n 1. While testing the API the response in postman is - Error while Saving as Draft \r\n 2. Not able to find the correct input for Body of &quot;processinstanceid&quot;:\r\n 3. Internal Server Error 500.\r\n\r\n![SCREENSHOT WHILE TESTING THE API ](https://i.stack.imgur.com/cQbXP.jpg)\r\n \r\n \r\n \r\n Below listed is the code for the functionality of `SaveAsDraft` from which the API is being used :-\r\n\r\n       @RequestMapping(&quot;/app/Email&quot;)\r\n       @RestController\r\n       public class EmailController {\r\n    \r\n       private Logger log = LoggerFactory.getLogger(EmailController.class);\r\n    \r\n       @Autowired\r\n       EmailService emailServices;\r\n    \r\n       \r\n       @PostMapping(value = &quot;/saveAsDraft&quot;)\r\n       public ResponseEntity&lt;Object&gt; saveAsDraft(@RequestBody EmailConfiguration                                           \r\n       emailConfiguration,HttpServletRequest httpRequest) {\r\n    \r\n                if (!emailServices.validateEmailConfiguration(emailConfiguration)) {\r\n                    return ResponseEntity.badRequest()\r\n                   .body(ApplicationConstants.INVALID_REQUEST);\r\n                                }\r\n    \r\n                 String currentStatus = &quot;&quot;;\r\n                    try {\r\n                     // Send the email using the GraphService\r\n                     currentStatus = emailServices.saveAsDraft(emailConfiguration, httpRequest);\r\n    \r\n                     } catch (Exception e) {\r\n                     log.error(&quot;Error saving as draft for processinstanceid : {}&quot;,          \r\n             emailConfiguration.getProcessinstanceid());\r\n                      return ResponseEntity.internalServerError()\r\n                      .body(ApplicationConstants.ERROR_SAVING_DRAFT);\r\n                        }\r\n              return ResponseEntity.ok(currentStatus);\r\n                         }\r\n\r\n\r\nBelow listed is the configuration format for SaveAsDraft API function \r\n\r\n\r\n\r\n\r\n\r\n\t @Override\r\n\t  public boolean validateEmailConfiguration(EmailConfiguration config) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tif(StringUtils.isBlank(config.getProcessinstanceid()) \r\n\t\t\t\t\t\t|| StringUtils.isBlank(config.getSubject())\r\n\t\t\t\t\t\t|| StringUtils.isBlank(config.getMailFrom())\r\n\t\t\t\t\t\t|| StringUtils.isBlank(config.getMailTo())\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}catch(Exception e) {\r\n\t\t\t\tlog.error(&quot;Validation of email configuration failed :{}, {}&quot;,e.getMessage(),e);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\r\n","title":"API not working in postman while testing it","body":"<p>I'm Testing the API on Postman and the error while testing the API that I'm getting in the console is:</p>\n<blockquote>\n<p>2023-09-29 17:14:53,673 68384308 [https-jsse-nio-8006-exec-8] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultInstanceID</p>\n</blockquote>\n<p>I'm not able to find in the correct input for the below listed API for  <code>processinstanceid</code>. Below listed is the information about the code and the API .</p>\n<p>The API is :- https://localhost:8006/app/Email/saveAsDraft,</p>\n<p>More Information about the API :-</p>\n<ol>\n<li><p>it is being used in a Post Method</p>\n</li>\n<li><p>the name of functionality is SaveAsDraft</p>\n</li>\n<li><p>the body necessary for the testing the API is in JSON format that i have picked from<br />\nDataBase</p>\n</li>\n<li><p>the text in the JSON body of API in Postman is :-</p>\n<pre><code>          &quot;messageId&quot;: &quot;&lt;5432112345@xyz.com&gt;&quot;,\n          &quot;mailFrom&quot;: &quot;kingissingh@xyz.com&quot;,\n          &quot;processinstanceid&quot;: &quot;DefaultProcessID&quot;,\n          &quot;mailTo&quot;: &quot;singhisking@xyz.com&quot;\n          &quot;subject&quot;: &quot;Hi im singh&quot;,\n</code></pre>\n</li>\n</ol>\n<p>More Information about  Testing the API :-</p>\n<ol>\n<li>While testing the API the response in postman is - Error while Saving as Draft</li>\n<li>Not able to find the correct input for Body of &quot;processinstanceid&quot;:</li>\n<li>Internal Server Error 500.</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/cQbXP.jpg\" alt=\"SCREENSHOT WHILE TESTING THE API \" /></p>\n<p>Below listed is the code for the functionality of <code>SaveAsDraft</code> from which the API is being used :-</p>\n<pre><code>   @RequestMapping(&quot;/app/Email&quot;)\n   @RestController\n   public class EmailController {\n\n   private Logger log = LoggerFactory.getLogger(EmailController.class);\n\n   @Autowired\n   EmailService emailServices;\n\n   \n   @PostMapping(value = &quot;/saveAsDraft&quot;)\n   public ResponseEntity&lt;Object&gt; saveAsDraft(@RequestBody EmailConfiguration                                           \n   emailConfiguration,HttpServletRequest httpRequest) {\n\n            if (!emailServices.validateEmailConfiguration(emailConfiguration)) {\n                return ResponseEntity.badRequest()\n               .body(ApplicationConstants.INVALID_REQUEST);\n                            }\n\n             String currentStatus = &quot;&quot;;\n                try {\n                 // Send the email using the GraphService\n                 currentStatus = emailServices.saveAsDraft(emailConfiguration, httpRequest);\n\n                 } catch (Exception e) {\n                 log.error(&quot;Error saving as draft for processinstanceid : {}&quot;,          \n         emailConfiguration.getProcessinstanceid());\n                  return ResponseEntity.internalServerError()\n                  .body(ApplicationConstants.ERROR_SAVING_DRAFT);\n                    }\n          return ResponseEntity.ok(currentStatus);\n                     }\n</code></pre>\n<p>Below listed is the configuration format for SaveAsDraft API function</p>\n<pre><code> @Override\n  public boolean validateEmailConfiguration(EmailConfiguration config) {\n        \n        try {\n            if(StringUtils.isBlank(config.getProcessinstanceid()) \n                    || StringUtils.isBlank(config.getSubject())\n                    || StringUtils.isBlank(config.getMailFrom())\n                    || StringUtils.isBlank(config.getMailTo())\n                    ) {\n                return false;\n            }\n        }catch(Exception e) {\n            log.error(&quot;Validation of email configuration failed :{}, {}&quot;,e.getMessage(),e);\n            return false;\n        }\n        \n        return true;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696258700,"creation_date":1696258700,"answer_id":77216533,"question_id":77215137,"body_markdown":"Both the BOM and the TOML do not include the dependencies, they merely provide versioning advice to the project.\r\n\r\nHence, the dependencies are not included in the project if they are not added by name, as you observed.\r\n\r\nSee more at the Gradle docs:\r\n\r\nhttps://docs.gradle.org/current/userguide/platforms.html","title":"gradle catalog does not work correctly with spring boot project","body":"<p>Both the BOM and the TOML do not include the dependencies, they merely provide versioning advice to the project.</p>\n<p>Hence, the dependencies are not included in the project if they are not added by name, as you observed.</p>\n<p>See more at the Gradle docs:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/platforms.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/platforms.html</a></p>\n"}],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77216533,"answer_count":1,"score":0,"last_activity_date":1696258700,"creation_date":1696245195,"question_id":77215137,"body_markdown":"I have a `libs.version.toml` file as \r\n\r\n    [versions]\r\n    boot-version = &#39;3.1.4&#39;\r\n    cloud-version = &#39;2022.0.4&#39;\r\n    openapi-version = &#39;2.2.0&#39;\r\n    \r\n    [libraries]\r\n    spring-boot-bom = { module = &quot;org.springframework.boot:spring-boot-dependencies&quot;, version.ref = &quot;boot-version&quot; }\r\n    spring-boot-actuator = { module = &#39;org.springframework.boot:spring-boot-starter-actuator&#39; }\r\n    spring-boot-data-jpa = { module = &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39; }\r\n    spring-boot-data-redis = { module = &#39;org.springframework.boot:spring-boot-starter-data-redis&#39; }\r\n    spring-boot-security = { module = &#39;org.springframework.boot:spring-boot-starter-security&#39; }\r\n    spring-boot-oauth2-resource-server = { module = &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39; }\r\n    spring-boot-test = { module = &#39;org.springframework.boot:spring-boot-starter-test&#39; }\r\n    spring-boot-validation = { module = &#39;org.springframework.boot:spring-boot-starter-validation&#39; }\r\n    spring-boot-web = { module = &#39;org.springframework.boot:spring-boot-starter-web&#39; }\r\n    spring-boot-web-services = { module = &#39;org.springframework.boot:spring-boot-starter-web-services&#39; }\r\n    \r\n    spring-cloud-bom = { module = &#39;org.springframework.cloud:spring-cloud-dependencies&#39;, version.ref = &#39;cloud-version&#39; }\r\n    spring-cloud-bootstrap = { module = &#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39; }\r\n    spring-cloud-config = { module = &#39;org.springframework.cloud:spring-cloud-starter-config&#39; }\r\n    spring-cloud-eureka-client = { module = &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39; }\r\n    spring-cloud-openfeign = { module = &#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39; }\r\n    \r\n    spring-kafka = { module = &#39;org.springframework.kafka:spring-kafka&#39; }\r\n    \r\n    spring-session-data-redis = { module = &quot;org.springframework.session:spring-session-data-redis&quot;, version = &quot;3.1.2&quot; }\r\n    \r\n    h2 = { module = &#39;com.h2database:h2&#39; }\r\n    poi-ooxml = { module = &#39;org.apache.poi:poi-ooxml&#39;, version = &#39;5.2.4&#39; }\r\n    \r\n    [bundles]\r\n    microservice = [&#39;openapi&#39;, &#39;spring-boot-actuator&#39;, &#39;spring-boot-data-jpa&#39;, &#39;spring-boot-validation&#39;, &#39;spring-boot-web&#39;,\r\n        &#39;spring-cloud-config&#39;, &#39;spring-cloud-eureka-client&#39;, &#39;spring-cloud-bootstrap&#39;, &#39;oracle&#39;]\r\n    \r\n    [plugins]\r\n    spring-boot-plugin = { id = &#39;org.springframework.boot&#39;, version.ref = &#39;boot-version&#39; }\r\n    spring-dependency-management-plugin = { id = &#39;io.spring.dependency-management&#39;, version = &#39;1.1.3&#39; }\r\n\r\nand I publish it to our company nexus with maven-publish plugin,\r\n\r\nThen I have a spring boot microservice, with following build.gradle:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        alias(libs.plugins.spring.boot.plugin)\r\n        alias(libs.plugins.spring.dependency.management.plugin)\r\n    }\r\n    \r\n    group = &#39;my.project.name&#39;\r\n    version = &#39;6.0.0&#39;\r\n    sourceCompatibility = JavaVersion.VERSION_17\r\n    \r\n    dependencies {\r\n        implementation platform(libs.spring.cloud.bom)\r\n        implementation libs.bundles.microservice\r\n    \r\n        compileOnly libs.lombok\r\n        testCompileOnly libs.lombok\r\n        annotationProcessor libs.lombok\r\n        testAnnotationProcessor libs.lombok\r\n    \r\n        testImplementation libs.spring.boot.test\r\n        testRuntimeOnly libs.h2\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n        jvmArgs = [&quot;-Xss8m&quot;]\r\n    }\r\n    \r\n\r\nwhen I create Spring boot fat jar many of dependencies are missing, but when I add them by name they are not missing. Why this happens?\r\n","title":"gradle catalog does not work correctly with spring boot project","body":"<p>I have a <code>libs.version.toml</code> file as</p>\n<pre><code>[versions]\nboot-version = '3.1.4'\ncloud-version = '2022.0.4'\nopenapi-version = '2.2.0'\n\n[libraries]\nspring-boot-bom = { module = &quot;org.springframework.boot:spring-boot-dependencies&quot;, version.ref = &quot;boot-version&quot; }\nspring-boot-actuator = { module = 'org.springframework.boot:spring-boot-starter-actuator' }\nspring-boot-data-jpa = { module = 'org.springframework.boot:spring-boot-starter-data-jpa' }\nspring-boot-data-redis = { module = 'org.springframework.boot:spring-boot-starter-data-redis' }\nspring-boot-security = { module = 'org.springframework.boot:spring-boot-starter-security' }\nspring-boot-oauth2-resource-server = { module = 'org.springframework.boot:spring-boot-starter-oauth2-resource-server' }\nspring-boot-test = { module = 'org.springframework.boot:spring-boot-starter-test' }\nspring-boot-validation = { module = 'org.springframework.boot:spring-boot-starter-validation' }\nspring-boot-web = { module = 'org.springframework.boot:spring-boot-starter-web' }\nspring-boot-web-services = { module = 'org.springframework.boot:spring-boot-starter-web-services' }\n\nspring-cloud-bom = { module = 'org.springframework.cloud:spring-cloud-dependencies', version.ref = 'cloud-version' }\nspring-cloud-bootstrap = { module = 'org.springframework.cloud:spring-cloud-starter-bootstrap' }\nspring-cloud-config = { module = 'org.springframework.cloud:spring-cloud-starter-config' }\nspring-cloud-eureka-client = { module = 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client' }\nspring-cloud-openfeign = { module = 'org.springframework.cloud:spring-cloud-starter-openfeign' }\n\nspring-kafka = { module = 'org.springframework.kafka:spring-kafka' }\n\nspring-session-data-redis = { module = &quot;org.springframework.session:spring-session-data-redis&quot;, version = &quot;3.1.2&quot; }\n\nh2 = { module = 'com.h2database:h2' }\npoi-ooxml = { module = 'org.apache.poi:poi-ooxml', version = '5.2.4' }\n\n[bundles]\nmicroservice = ['openapi', 'spring-boot-actuator', 'spring-boot-data-jpa', 'spring-boot-validation', 'spring-boot-web',\n    'spring-cloud-config', 'spring-cloud-eureka-client', 'spring-cloud-bootstrap', 'oracle']\n\n[plugins]\nspring-boot-plugin = { id = 'org.springframework.boot', version.ref = 'boot-version' }\nspring-dependency-management-plugin = { id = 'io.spring.dependency-management', version = '1.1.3' }\n</code></pre>\n<p>and I publish it to our company nexus with maven-publish plugin,</p>\n<p>Then I have a spring boot microservice, with following build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    alias(libs.plugins.spring.boot.plugin)\n    alias(libs.plugins.spring.dependency.management.plugin)\n}\n\ngroup = 'my.project.name'\nversion = '6.0.0'\nsourceCompatibility = JavaVersion.VERSION_17\n\ndependencies {\n    implementation platform(libs.spring.cloud.bom)\n    implementation libs.bundles.microservice\n\n    compileOnly libs.lombok\n    testCompileOnly libs.lombok\n    annotationProcessor libs.lombok\n    testAnnotationProcessor libs.lombok\n\n    testImplementation libs.spring.boot.test\n    testRuntimeOnly libs.h2\n}\n\ntest {\n    useJUnitPlatform()\n    jvmArgs = [&quot;-Xss8m&quot;]\n}\n</code></pre>\n<p>when I create Spring boot fat jar many of dependencies are missing, but when I add them by name they are not missing. Why this happens?</p>\n"},{"tags":["java","switch-statement","language-design"],"comments":[{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":14,"creation_date":1376608923,"post_id":18263489,"comment_id":26785919,"body_markdown":"No conclusive answer to this, since we&#39;re not the people who made the language.  All answers will be pure conjecture.","body":"No conclusive answer to this, since we&#39;re not the people who made the language.  All answers will be pure conjecture."},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":2,"creation_date":1376608950,"post_id":18263489,"comment_id":26785923,"body_markdown":"An attempt to switch on `null` will cause an exception. Perform an `if` check for `null`, then go into the `switch` statement.","body":"An attempt to switch on <code>null</code> will cause an exception. Perform an <code>if</code> check for <code>null</code>, then go into the <code>switch</code> statement."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1376609040,"post_id":18263489,"comment_id":26785952,"body_markdown":"Re: conjecture: It has taken more than ten years for this feature to land. I am sure there is ample discussion to be found about the reasoning behind the implementation that was finally chosen.","body":"Re: conjecture: It has taken more than ten years for this feature to land. I am sure there is ample discussion to be found about the reasoning behind the implementation that was finally chosen."},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":1,"creation_date":1376609125,"post_id":18263489,"comment_id":26785980,"body_markdown":"Speaking of which, this reminds me of an old bug in Eclipse that would execute the default case on `null` being passed into it, whereas the specification says that it should throw an NPE.","body":"Speaking of which, this reminds me of an old bug in Eclipse that would execute the default case on <code>null</code> being passed into it, whereas the specification says that it should throw an NPE."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1376609234,"post_id":18263489,"comment_id":26786009,"body_markdown":"If I am not mistaken cases for switch are based on int and to create them java uses hashcodes of strings.","body":"If I am not mistaken cases for switch are based on int and to create them java uses hashcodes of strings."},{"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"score":1,"creation_date":1376609327,"post_id":18263489,"comment_id":26786031,"body_markdown":"The link in the OP handles `NULL` before the switch statement is ever reached, you might consider doing likewise.","body":"The link in the OP handles <code>NULL</code> before the switch statement is ever reached, you might consider doing likewise."},{"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"score":0,"creation_date":1376609373,"post_id":18263489,"comment_id":26786042,"body_markdown":"@JeffGohlke May be This Q is actually intended to the people who made the language and we are just curious audience ;)","body":"@JeffGohlke May be This Q is actually intended to the people who made the language and we are just curious audience ;)"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1376609537,"post_id":18263489,"comment_id":26786098,"body_markdown":"@JeffGohlke: Just because you didn&#39;t make something doesn&#39;t mean you don&#39;t know why it works the way it does.","body":"@JeffGohlke: Just because you didn&#39;t make something doesn&#39;t mean you don&#39;t know why it works the way it does."},{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":1,"creation_date":1376609625,"post_id":18263489,"comment_id":26786126,"body_markdown":"@Mehrdad I completely agree.  That&#39;s why *how* questions are answerable.  *Why* questions are not.  Maybe it works that way because the creators were discussing it, then the lead developer spilled some coffee on his pants and got irritated, ending the meeting early.  There is no way to answer a *why* question unless you are the person who made the decision.","body":"@Mehrdad I completely agree.  That&#39;s why <i>how</i> questions are answerable.  <i>Why</i> questions are not.  Maybe it works that way because the creators were discussing it, then the lead developer spilled some coffee on his pants and got irritated, ending the meeting early.  There is no way to answer a <i>why</i> question unless you are the person who made the decision."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":7,"creation_date":1376610708,"post_id":18263489,"comment_id":26786381,"body_markdown":"@JeffGohlke: *&quot;There is no way to answer a why question unless you are the person who made the decision.&quot;*... well, gparyani&#39;s comment proves otherwise","body":"@JeffGohlke: <i>&quot;There is no way to answer a why question unless you are the person who made the decision.&quot;</i>... well, gparyani&#39;s comment proves otherwise"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1376616795,"post_id":18263489,"comment_id":26787629,"body_markdown":"@Mehrdad No it doesn&#39;t. It just moves the question to &#39;why did they form that judgment?&#39; And it doesn&#39;t address the actual question of why there isn&#39;t a case null: at all.","body":"@Mehrdad No it doesn&#39;t. It just moves the question to &#39;why did they form that judgment?&#39; And it doesn&#39;t address the actual question of why there isn&#39;t a case null: at all."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696207654,"post_id":18263489,"comment_id":136120028,"body_markdown":"@Pshemo You are mistaken. It is not based on the hashcode. [If one of the case constants is equal to the value of the expression, then we say that the case matches, and all statements after the matching case label in the switch block, if any, are executed in sequence.](https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11) Nothing there about hashcodes.","body":"@Pshemo You are mistaken. It is not based on the hashcode. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">If one of the case constants is equal to the value of the expression, then we say that the case matches, and all statements after the matching case label in the switch block, if any, are executed in sequence.</a> Nothing there about hashcodes."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1696278374,"post_id":18263489,"comment_id":136130261,"body_markdown":"@user207421 I can&#39;t find it now (since it was 10 years ago), but I remember reading discussion/?information? about how to improve performance in `switch` supporting Strings in comparison to series of `if (&quot;A&quot;.equals(s)).. else if(&quot;B&quot;.equals(s)).. else ...` (where to find proper if-else branch for instance while searching for `&quot;G&quot;`, an application would need to first check `&quot;A&quot;` ... `&quot;F&quot;`). Since already existing at that time switch/case handling *numerical* arguments could find proper case in O(1) time discussion was about converting Strings to numbers which would allow reusing that mechanism.","body":"@user207421 I can&#39;t find it now (since it was 10 years ago), but I remember reading discussion/?information? about how to improve performance in <code>switch</code> supporting Strings in comparison to series of <code>if (&quot;A&quot;.equals(s)).. else if(&quot;B&quot;.equals(s)).. else ...</code> (where to find proper if-else branch for instance while searching for <code>&quot;G&quot;</code>, an application would need to first check <code>&quot;A&quot;</code> ... <code>&quot;F&quot;</code>). Since already existing at that time switch/case handling <i>numerical</i> arguments could find proper case in O(1) time discussion was about converting Strings to numbers which would allow reusing that mechanism."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1696278545,"post_id":18263489,"comment_id":136130281,"body_markdown":"@user207421 And hashcode was proposed and accepted. Problem was that hashcodes are not unique, so mechanism would need to use mapping between `hash-&gt;listOfMatchingCases` instead of standard `hash-&gt;singleCase`. So to find proper `case` from `listOfMatchingCases` the `String#equals` is needed. I am speculating that since hashing is implementation detail related to optimization (which may change in future/updated versions) it was not mentioned in JLS, while usage of `equals` would always be necessary to pick correct `case`, so it was included in JLS. But again that is only my speculation.","body":"@user207421 And hashcode was proposed and accepted. Problem was that hashcodes are not unique, so mechanism would need to use mapping between <code>hash-&gt;listOfMatchingCases</code> instead of standard <code>hash-&gt;singleCase</code>. So to find proper <code>case</code> from <code>listOfMatchingCases</code> the <code>String#equals</code> is needed. I am speculating that since hashing is implementation detail related to optimization (which may change in future/updated versions) it was not mentioned in JLS, while usage of <code>equals</code> would always be necessary to pick correct <code>case</code>, so it was included in JLS. But again that is only my speculation."}],"answers":[{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"down_vote_count":0,"up_vote_count":163,"is_accepted":true,"score":163,"last_activity_date":1696206665,"creation_date":1376609454,"answer_id":18263594,"question_id":18263489,"body_markdown":"### Oct 2023 Update\r\n\r\nAs [Mark](https://stackoverflow.com/users/466862/mark-rotteveel) [points out in the comments](https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18263594?noredirect=1#comment136110327_18263594), as of Java 21 a `switch` statement does now support `case null` thanks to [JEP 441](https://openjdk.org/jeps/441). A `NullPointerException` will still be thrown by a switch lacking an explicit `case null` if `null` is passed into it.\r\n\r\nOriginal answer follows:\r\n\r\n---\r\n\r\nAs damryfbfnetsi [points out][1] in the comments, [JLS &#167;14.11][2] has the following note:\r\n\r\n&gt; The prohibition against using `null` as a switch label prevents one from writing code that can never be executed. If the `switch` expression is of a reference type, that is, `String` or a boxed primitive type or an enum type, then a run-time error will occur if the expression evaluates to `null` at run time. **In the judgment of the designers of the Java programming language, this is a better outcome than silently skipping the entire `switch` statement or choosing to execute the statements (if any) after the `default` label (if any).**\r\n\r\n(emphasis mine)\r\n\r\nWhile the last sentence skips over the possibility of using `case null:`, it seems reasonable and offers a view into the language designers&#39; intentions.\r\n\r\nIf we rather look at implementation details, [this blog post][3] by Christian Hujer has some insightful speculation about why `null` isn&#39;t allowed in switches (although it centers on the `enum` switch rather than the `String` switch):\r\n\r\n&gt; Under the hood, the `switch` statement will typically compile to a tablesswitch byte code. And the &quot;physical&quot; argument to `switch` as well as its cases are `int`s. The int value to switch on is determined by invoking the method `Enum.ordinal()`. The [...] ordinals start at zero.\r\n&gt;\r\n&gt; That means, mapping `null` to `0` wouldn&#39;t be a good idea. A switch on the first enum value would be indistinguishible from null. Maybe it would&#39;ve been a good idea to start counting the ordinals for enums at 1. However it hasn&#39;t been defined like that, and this definition can not be changed.\r\n\r\nWhile `String` switches [are implemented differently][4], the `enum` switch came first and set the precedent for how switching on a reference type should behave when the reference is `null`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18263489/why-string-switch-statment-does-not-support-null-case#comment26786191_18263489\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.11\r\n  [3]: http://www.riedquat.de/blog/2011-03-04-02\r\n  [4]: https://stackoverflow.com/a/338230/697449","title":"Why doesn&#39;t String switch statement support a null case?","body":"<h3>Oct 2023 Update</h3>\n<p>As <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">Mark</a> <a href=\"https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18263594?noredirect=1#comment136110327_18263594\">points out in the comments</a>, as of Java 21 a <code>switch</code> statement does now support <code>case null</code> thanks to <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">JEP 441</a>. A <code>NullPointerException</code> will still be thrown by a switch lacking an explicit <code>case null</code> if <code>null</code> is passed into it.</p>\n<p>Original answer follows:</p>\n<hr />\n<p>As damryfbfnetsi <a href=\"https://stackoverflow.com/questions/18263489/why-string-switch-statment-does-not-support-null-case#comment26786191_18263489\">points out</a> in the comments, <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">JLS §14.11</a> has the following note:</p>\n<blockquote>\n<p>The prohibition against using <code>null</code> as a switch label prevents one from writing code that can never be executed. If the <code>switch</code> expression is of a reference type, that is, <code>String</code> or a boxed primitive type or an enum type, then a run-time error will occur if the expression evaluates to <code>null</code> at run time. <strong>In the judgment of the designers of the Java programming language, this is a better outcome than silently skipping the entire <code>switch</code> statement or choosing to execute the statements (if any) after the <code>default</code> label (if any).</strong></p>\n</blockquote>\n<p>(emphasis mine)</p>\n<p>While the last sentence skips over the possibility of using <code>case null:</code>, it seems reasonable and offers a view into the language designers' intentions.</p>\n<p>If we rather look at implementation details, <a href=\"http://www.riedquat.de/blog/2011-03-04-02\" rel=\"nofollow noreferrer\">this blog post</a> by Christian Hujer has some insightful speculation about why <code>null</code> isn't allowed in switches (although it centers on the <code>enum</code> switch rather than the <code>String</code> switch):</p>\n<blockquote>\n<p>Under the hood, the <code>switch</code> statement will typically compile to a tablesswitch byte code. And the &quot;physical&quot; argument to <code>switch</code> as well as its cases are <code>int</code>s. The int value to switch on is determined by invoking the method <code>Enum.ordinal()</code>. The [...] ordinals start at zero.</p>\n<p>That means, mapping <code>null</code> to <code>0</code> wouldn't be a good idea. A switch on the first enum value would be indistinguishible from null. Maybe it would've been a good idea to start counting the ordinals for enums at 1. However it hasn't been defined like that, and this definition can not be changed.</p>\n</blockquote>\n<p>While <code>String</code> switches <a href=\"https://stackoverflow.com/a/338230/697449\">are implemented differently</a>, the <code>enum</code> switch came first and set the precedent for how switching on a reference type should behave when the reference is <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":3166473,"reputation":953,"user_id":2676790,"accept_rate":83,"display_name":"amrith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376609597,"creation_date":1376609597,"answer_id":18263617,"question_id":18263489,"body_markdown":"The answer is simply that if you use a switch with a reference type (such as a boxed primitive type), the run-time error will occur if the expression is null because unboxing it would throw the NPE.\r\n\r\nso case null (which is illegal) could never be executed anyway ;)","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>The answer is simply that if you use a switch with a reference type (such as a boxed primitive type), the run-time error will occur if the expression is null because unboxing it would throw the NPE.</p>\n\n<p>so case null (which is illegal) could never be executed anyway ;)</p>\n"},{"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376609742,"creation_date":1376609742,"answer_id":18263642,"question_id":18263489,"body_markdown":"According to Java Docs:\r\n\r\n&gt; A switch works with the byte, short, char, and int primitive data\r\n&gt; types. It also works with enumerated types (discussed in Enum Types),\r\n&gt; the String class, and a few special classes that wrap certain\r\n&gt; primitive types: Character, Byte, Short, and Integer (discussed in\r\n&gt; Numbers and Strings).\r\n\r\nSince `null` has no type, and is not an instance of anything, it will not work with a switch statement.","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>According to Java Docs:</p>\n\n<blockquote>\n  <p>A switch works with the byte, short, char, and int primitive data\n  types. It also works with enumerated types (discussed in Enum Types),\n  the String class, and a few special classes that wrap certain\n  primitive types: Character, Byte, Short, and Integer (discussed in\n  Numbers and Strings).</p>\n</blockquote>\n\n<p>Since <code>null</code> has no type, and is not an instance of anything, it will not work with a switch statement.</p>\n"},{"tags":[],"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1568780785,"creation_date":1376612576,"answer_id":18263975,"question_id":18263489,"body_markdown":"This is an attempt to answer why it throws `NullPointerException`\r\n-----------------------------------------------------------------\r\n\r\nThe output of the javap command below reveals that `case` is chosen based on the hashcode of the `switch` argument string and hence throws NPE when `.hashCode()` is invoked on null string.     \r\n  \r\n\r\n    6: invokevirtual #18                 // Method java/lang/String.hashCode:()I\r\n    9: lookupswitch  { // 3\r\n        -1826660246: 44\r\n         -263893086: 56\r\n          103666243: 68\r\n            default: 95\r\n       }\r\n\r\nThis means, based on answers to https://stackoverflow.com/questions/10102337/javas-hashcode-can-produce-same-hashcode-for-different-strings, though rare, there is still a possibility of two cases being matched (two strings with same hash code) See this example below\r\n\r\n\t\tint monthNumber;\r\n\t\tString month = args[0];\r\n\r\n\t\tswitch (month) {\r\n\t\tcase &quot;Ea&quot;:\r\n\t\t\tmonthNumber = 1;\r\n\t\t\tbreak;\r\n\t\tcase &quot;FB&quot;:\r\n\t\t\tmonthNumber = 2;\r\n\t\t\tbreak;\r\n\t\t// case null:\r\n\t\tdefault:\r\n\t\t\tmonthNumber = 0;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tSystem.out.println(monthNumber);\r\n\r\njavap for which\r\n\r\n      10: lookupswitch  { // 1\r\n                  2236: 28\r\n               default: 59\r\n          }\r\n      28: aload_3       \r\n      29: ldc           #22                 // String Ea\r\n      31: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\r\n      34: ifne          49\r\n      37: aload_3       \r\n      38: ldc           #28                 // String FB\r\n      40: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\r\n      43: ifne          54\r\n      46: goto          59 //Default\r\n\r\n\r\nAs you can see only one case gets generated for `&quot;Ea&quot;` and `&quot;FB&quot;` but with two `if` conditions to check for a match with each case string. Very interesting and complicated way of implementing this functionality!\r\n\r\n \r\n ","title":"Why doesn&#39;t String switch statement support a null case?","body":"<h2>This is an attempt to answer why it throws <code>NullPointerException</code></h2>\n\n<p>The output of the javap command below reveals that <code>case</code> is chosen based on the hashcode of the <code>switch</code> argument string and hence throws NPE when <code>.hashCode()</code> is invoked on null string.     </p>\n\n<pre><code>6: invokevirtual #18                 // Method java/lang/String.hashCode:()I\n9: lookupswitch  { // 3\n    -1826660246: 44\n     -263893086: 56\n      103666243: 68\n        default: 95\n   }\n</code></pre>\n\n<p>This means, based on answers to <a href=\"https://stackoverflow.com/questions/10102337/javas-hashcode-can-produce-same-hashcode-for-different-strings\">Can Java&#39;s hashCode produce same value for different strings?</a>, though rare, there is still a possibility of two cases being matched (two strings with same hash code) See this example below</p>\n\n<pre><code>    int monthNumber;\n    String month = args[0];\n\n    switch (month) {\n    case \"Ea\":\n        monthNumber = 1;\n        break;\n    case \"FB\":\n        monthNumber = 2;\n        break;\n    // case null:\n    default:\n        monthNumber = 0;\n        break;\n    }\n    System.out.println(monthNumber);\n</code></pre>\n\n<p>javap for which</p>\n\n<pre><code>  10: lookupswitch  { // 1\n              2236: 28\n           default: 59\n      }\n  28: aload_3       \n  29: ldc           #22                 // String Ea\n  31: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\n  34: ifne          49\n  37: aload_3       \n  38: ldc           #28                 // String FB\n  40: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\n  43: ifne          54\n  46: goto          59 //Default\n</code></pre>\n\n<p>As you can see only one case gets generated for <code>\"Ea\"</code> and <code>\"FB\"</code> but with two <code>if</code> conditions to check for a match with each case string. Very interesting and complicated way of implementing this functionality!</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1376618837,"creation_date":1376618837,"answer_id":18264731,"question_id":18263489,"body_markdown":"In general `null` is nasty to handle; maybe a better language can live without `null`.\r\n\r\nYour problem might be solved by\r\n\r\n\r\n        switch(month==null?&quot;&quot;:month)\r\n        {\r\n            ...\r\n            //case &quot;&quot;:\r\n            default: \r\n                monthNumber = 0;\r\n\r\n        }\r\n","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>In general <code>null</code> is nasty to handle; maybe a better language can live without <code>null</code>.</p>\n\n<p>Your problem might be solved by</p>\n\n<pre><code>    switch(month==null?\"\":month)\n    {\n        ...\n        //case \"\":\n        default: \n            monthNumber = 0;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1282242,"reputation":1254,"user_id":1236092,"accept_rate":80,"display_name":"krispy"},"down_vote_count":3,"up_vote_count":34,"is_accepted":false,"score":31,"last_activity_date":1512680148,"creation_date":1430016300,"answer_id":29873100,"question_id":18263489,"body_markdown":"It isn&#39;t pretty, but `String.valueOf()` allows you to use a null String in a switch. If it finds `null`, it converts it to `&quot;null&quot;`, otherwise it just returns the same String you passed it. If you don&#39;t handle `&quot;null&quot;` explicitly, then it will go to `default`. The only caveat is that there is no way of distinguishing between the String `&quot;null&quot;` and an actual `null` variable. \r\n    \r\n        String month = null;\r\n        switch (String.valueOf(month)) {\r\n            case &quot;january&quot;:\r\n                monthNumber = 1;\r\n                break;\r\n            case &quot;february&quot;:\r\n                monthNumber = 2;\r\n                break;\r\n            case &quot;march&quot;:\r\n                monthNumber = 3;\r\n                break;\r\n            case &quot;null&quot;:\r\n                monthNumber = -1;\r\n                break;\r\n            default: \r\n                monthNumber = 0;\r\n                break;\r\n        }\r\n        return monthNumber;\r\n    ","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>It isn't pretty, but <code>String.valueOf()</code> allows you to use a null String in a switch. If it finds <code>null</code>, it converts it to <code>\"null\"</code>, otherwise it just returns the same String you passed it. If you don't handle <code>\"null\"</code> explicitly, then it will go to <code>default</code>. The only caveat is that there is no way of distinguishing between the String <code>\"null\"</code> and an actual <code>null</code> variable. </p>\n\n<pre><code>    String month = null;\n    switch (String.valueOf(month)) {\n        case \"january\":\n            monthNumber = 1;\n            break;\n        case \"february\":\n            monthNumber = 2;\n            break;\n        case \"march\":\n            monthNumber = 3;\n            break;\n        case \"null\":\n            monthNumber = -1;\n            break;\n        default: \n            monthNumber = 0;\n            break;\n    }\n    return monthNumber;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435684212,"creation_date":1435683635,"answer_id":31144146,"question_id":18263489,"body_markdown":"Long story short ... (and hopefully interesting enough!!!)\r\n\r\n\r\n\r\nEnum were first introduced in [Java1.5](https://en.wikipedia.org/wiki/Java_version_history#J2SE_5.0_.28September_30.2C_2004.29) (**Sep&#39;2004**) and the [bug](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179) requesting to **allow switch on String** was filed long back (**Oct&#39;95**). If you look at the comment posted on that bug at **Jun&#39;2004**, it says `Don&#39;t hold your breath. Nothing resembling this is in our plans.` Looks like they deferred (_ignored_) this bug and eventually launched Java 1.5 in the same year in which they introduced &#39;enum&#39; with ordinal starting at 0 and decided (_missed_) not to support null for enum. Later in [Java1.7](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29) (**Jul&#39;2011**) they followed (_forced_) the same philosophy with String (i.e. while generating the bytecode no null check was performed before calling hashcode() method).\r\n\r\nSo I think it boils down to the fact enum came in first and was implemented with its ordinal begin at 0 due to which they couldn&#39;t support null value in switch block and later with String they decided to forced the same philosophy i.e. null value not allowed in switch block.\r\n\r\n**TL;DR** With String they could have take care of NPE (caused by attempt to generate hashcode for null) while implementing java code to byte code conversion but finally decided not to.\r\n\r\nRef:\r\n[TheBUG](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179), \r\n[JavaVersionHistory](https://en.wikipedia.org/wiki/Java_version_history),\r\n[JavaCodeToByteCode](http://blog.jamesdbloom.com/JavaCodeToByteCode_PartOne.html),\r\n[SO](https://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string/338230#338230)\r\n","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>Long story short ... (and hopefully interesting enough!!!)</p>\n\n<p>Enum were first introduced in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#J2SE_5.0_.28September_30.2C_2004.29\" rel=\"noreferrer\">Java1.5</a> (<strong>Sep'2004</strong>) and the <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179\" rel=\"noreferrer\">bug</a> requesting to <strong>allow switch on String</strong> was filed long back (<strong>Oct'95</strong>). If you look at the comment posted on that bug at <strong>Jun'2004</strong>, it says <code>Don't hold your breath. Nothing resembling this is in our plans.</code> Looks like they deferred (<em>ignored</em>) this bug and eventually launched Java 1.5 in the same year in which they introduced 'enum' with ordinal starting at 0 and decided (<em>missed</em>) not to support null for enum. Later in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\" rel=\"noreferrer\">Java1.7</a> (<strong>Jul'2011</strong>) they followed (<em>forced</em>) the same philosophy with String (i.e. while generating the bytecode no null check was performed before calling hashcode() method).</p>\n\n<p>So I think it boils down to the fact enum came in first and was implemented with its ordinal begin at 0 due to which they couldn't support null value in switch block and later with String they decided to forced the same philosophy i.e. null value not allowed in switch block.</p>\n\n<p><strong>TL;DR</strong> With String they could have take care of NPE (caused by attempt to generate hashcode for null) while implementing java code to byte code conversion but finally decided not to.</p>\n\n<p>Ref:\n<a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179\" rel=\"noreferrer\">TheBUG</a>, \n<a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"noreferrer\">JavaVersionHistory</a>,\n<a href=\"http://blog.jamesdbloom.com/JavaCodeToByteCode_PartOne.html\" rel=\"noreferrer\">JavaCodeToByteCode</a>,\n<a href=\"https://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string/338230#338230\">SO</a></p>\n"},{"tags":[],"owner":{"account_id":1049185,"reputation":3599,"user_id":1053496,"accept_rate":41,"display_name":"nantitv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501143725,"creation_date":1501143725,"answer_id":45345156,"question_id":18263489,"body_markdown":"I agree with insightful comments (Under the hood ....) in https://stackoverflow.com/a/18263594/1053496 in @Paul Bellora&#39;s answer. \r\n\r\nI found one more reason from my experience.\r\n\r\nIf &#39;case&#39; can be null that means  switch(variable) is null then as long as the developer provides a matching &#39;null&#39; case  then we can argue it&#39;s fine . But what will happen if the developer does not provide  any matching &#39;null&#39; case. Then we have to match it to a &#39;default&#39; case which may not be what developer has intended  to handle in the default case. Therefore matching &#39;null&#39; to a default could cause &#39;surprising behaviour&#39;.\r\nTherefore throwing &#39;NPE&#39; will make the developer to handle every cases explicitly. I found throwing NPE in this case very thoughtful.","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>I agree with insightful comments (Under the hood ....) in <a href=\"https://stackoverflow.com/a/18263594/1053496\">https://stackoverflow.com/a/18263594/1053496</a> in @Paul Bellora's answer. </p>\n\n<p>I found one more reason from my experience.</p>\n\n<p>If 'case' can be null that means  switch(variable) is null then as long as the developer provides a matching 'null' case  then we can argue it's fine . But what will happen if the developer does not provide  any matching 'null' case. Then we have to match it to a 'default' case which may not be what developer has intended  to handle in the default case. Therefore matching 'null' to a default could cause 'surprising behaviour'.\nTherefore throwing 'NPE' will make the developer to handle every cases explicitly. I found throwing NPE in this case very thoughtful.</p>\n"},{"tags":[],"owner":{"account_id":7252755,"reputation":29,"user_id":5671471,"display_name":"bhagat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554363088,"creation_date":1554363088,"answer_id":55510187,"question_id":18263489,"body_markdown":"Use Apache StringUtils class\r\n\r\n    String month = null;\r\n    switch (StringUtils.trimToEmpty(month)) {\r\n    \tcase &quot;xyz&quot;:\r\n    \t\tmonthNumber=1;\t\r\n    \tbreak;\r\n    \tdefault:\r\n    \t   monthNumber=0;\r\n        break;\r\n    }","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>Use Apache StringUtils class</p>\n\n<pre><code>String month = null;\nswitch (StringUtils.trimToEmpty(month)) {\n    case \"xyz\":\n        monthNumber=1;  \n    break;\n    default:\n       monthNumber=0;\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696258659,"creation_date":1696258659,"answer_id":77216526,"question_id":18263489,"body_markdown":"&gt; From the [JLS](https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11):\r\n&gt;\r\n&gt; &gt; In the judgment of the designers of the Java programming language, [throwing a `NullPointerException` if the expression evaluates to `null` at runtime] is a better outcome than silently skipping the entire switch statement or choosing to execute the statements (if any) after the default label (if any). \r\n&gt;\r\n&gt; \\- [gparyani](https://stackoverflow.com/users/2157772/gparyani) &amp;nbsp; [Aug 15, 2013 at 23:37](https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case#comment26786191_18263489)","title":"Why doesn&#39;t String switch statement support a null case?","body":"<blockquote>\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">JLS</a>:</p>\n<blockquote>\n<p>In the judgment of the designers of the Java programming language, [throwing a <code>NullPointerException</code> if the expression evaluates to <code>null</code> at runtime] is a better outcome than silently skipping the entire switch statement or choosing to execute the statements (if any) after the default label (if any).</p>\n</blockquote>\n<p>- <a href=\"https://stackoverflow.com/users/2157772/gparyani\">gparyani</a>   <a href=\"https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case#comment26786191_18263489\">Aug 15, 2013 at 23:37</a></p>\n</blockquote>\n"}],"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76877,"favorite_count":0,"down_vote_count":1,"up_vote_count":152,"accepted_answer_id":18263594,"answer_count":10,"score":151,"last_activity_date":1696258659,"creation_date":1376608805,"question_id":18263489,"body_markdown":"I am just wondering why the Java 7 `switch` statement does not support a `null` case and instead throws `NullPointerException`? See the commented line below (example taken from [the Java Tutorials article on `switch`][1]):\r\n\r\n    {\r\n        String month = null;\r\n        switch (month) {\r\n            case &quot;january&quot;:\r\n                monthNumber = 1;\r\n                break;\r\n            case &quot;february&quot;:\r\n                monthNumber = 2;\r\n                break;\r\n            case &quot;march&quot;:\r\n                monthNumber = 3;\r\n                break;\r\n            //case null:\r\n            default: \r\n                monthNumber = 0;\r\n                break;\r\n        }\r\n\r\n        return monthNumber;\r\n    }\r\n\r\nThis would have avoided an `if` condition for null check  before every `switch` use.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>I am just wondering why the Java 7 <code>switch</code> statement does not support a <code>null</code> case and instead throws <code>NullPointerException</code>? See the commented line below (example taken from <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"noreferrer\">the Java Tutorials article on <code>switch</code></a>):</p>\n\n<pre><code>{\n    String month = null;\n    switch (month) {\n        case \"january\":\n            monthNumber = 1;\n            break;\n        case \"february\":\n            monthNumber = 2;\n            break;\n        case \"march\":\n            monthNumber = 3;\n            break;\n        //case null:\n        default: \n            monthNumber = 0;\n            break;\n    }\n\n    return monthNumber;\n}\n</code></pre>\n\n<p>This would have avoided an <code>if</code> condition for null check  before every <code>switch</code> use.</p>\n"},{"tags":["java","jquery","json","struts2","getjson"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1405792300,"post_id":24843179,"comment_id":38573916,"body_markdown":"It&#39;s very unclear, at least show show are you calling an action.","body":"It&#39;s very unclear, at least show show are you calling an action."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1405793634,"creation_date":1405793634,"answer_id":24843501,"question_id":24843179,"body_markdown":"Other value for the second parameter should be a string\r\n\r\n    var object = {param1 : somevalue, param2 : &#39;&#39;+othervalue};\r\n\r\nand use \r\n\r\n    $.getJSON(&#39;ajax/getSomething.action&#39;, object, function(data){\r\n\r\nthe parameters would be added by `getJSON()`.\r\n\r\nNote that your action should be configured properly to handle parameters, i.e. getters/setters, interceptors, etc.","title":"Passing 2 parameters with JSON to action struts2","body":"<p>Other value for the second parameter should be a string</p>\n\n<pre><code>var object = {param1 : somevalue, param2 : ''+othervalue};\n</code></pre>\n\n<p>and use </p>\n\n<pre><code>$.getJSON('ajax/getSomething.action', object, function(data){\n</code></pre>\n\n<p>the parameters would be added by <code>getJSON()</code>.</p>\n\n<p>Note that your action should be configured properly to handle parameters, i.e. getters/setters, interceptors, etc.</p>\n"}],"owner":{"account_id":4025631,"reputation":440,"user_id":3648678,"accept_rate":56,"display_name":"gyosida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24843501,"answer_count":1,"score":1,"last_activity_date":1696258321,"creation_date":1405791643,"question_id":24843179,"body_markdown":"What I&#39;m trying to do is to pass something like this (I&#39;m using the struts2-json plugin)\r\n\r\n    var object = {param1 : somevalue, param2 : othervalue};\r\n\r\nthrough a `$.getJSON()` call. In my Struts2 action I have this two parameters like the following:\r\n\r\n    public class ActionExample extends ActionSupport {\r\n    private Integer param1;\r\n    private String param2;\r\n    .\r\n    .\r\n    }\r\nwith its respectives setters and getters. This two parameters are for a method in which  receives the first param correctly, but the other one always is null and when I sent it from the client side I saw that it has a value. What am I doing wrong? \r\n\r\nThis is how the call looks like\r\n\r\n    $.getJSON(&#39;ajax/getSomething.action&#39;, JSON.stringify(object), function(data){\r\n\t//response manipulation\r\n    .\r\n    .\r\n\t});\r\n\r\n \r\n\r\n\r\n\r\n   ","title":"Passing 2 parameters with JSON to action struts2","body":"<p>What I'm trying to do is to pass something like this (I'm using the struts2-json plugin)</p>\n<pre><code>var object = {param1 : somevalue, param2 : othervalue};\n</code></pre>\n<p>through a <code>$.getJSON()</code> call. In my Struts2 action I have this two parameters like the following:</p>\n<pre><code>public class ActionExample extends ActionSupport {\nprivate Integer param1;\nprivate String param2;\n.\n.\n}\n</code></pre>\n<p>with its respectives setters and getters. This two parameters are for a method in which  receives the first param correctly, but the other one always is null and when I sent it from the client side I saw that it has a value. What am I doing wrong?</p>\n<p>This is how the call looks like</p>\n<pre><code>$.getJSON('ajax/getSomething.action', JSON.stringify(object), function(data){\n//response manipulation\n.\n.\n});\n</code></pre>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1696243743,"post_id":77214950,"comment_id":136123883,"body_markdown":"Do you deploy it on an existing Tomcat or are you using the embedded Spring Boot Tomcat?","body":"Do you deploy it on an existing Tomcat or are you using the embedded Spring Boot Tomcat?"},{"owner":{"account_id":20541586,"reputation":11,"user_id":15076388,"display_name":"Federico Xella"},"score":0,"creation_date":1696250942,"post_id":77214950,"comment_id":136125139,"body_markdown":"@NicoVanBelle On an existing tomcat on which I have no control over configurations.","body":"@NicoVanBelle On an existing tomcat on which I have no control over configurations."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696251352,"post_id":77214950,"comment_id":136125211,"body_markdown":"The problem is your pages, whichm probably, have a src url of `/static/images` which will load them from the root. You will need to prefix it with the context root (or if you are using something like thymeleaf use `th:src` instead. The `server.*` properties don&#39;t have any effect when deploying the application to an external tomcat as those are only for controlling the embedded tomcat instance.","body":"The problem is your pages, whichm probably, have a src url of <code>&#47;static&#47;images</code> which will load them from the root. You will need to prefix it with the context root (or if you are using something like thymeleaf use <code>th:src</code> instead. The <code>server.*</code> properties don&#39;t have any effect when deploying the application to an external tomcat as those are only for controlling the embedded tomcat instance."},{"owner":{"account_id":20541586,"reputation":11,"user_id":15076388,"display_name":"Federico Xella"},"score":0,"creation_date":1696943463,"post_id":77214950,"comment_id":136215039,"body_markdown":"@M.Deinum yeah, the problem is definitly that, but I was wandering if there was a way to define the application context at build time, so it doesn&#39;t have to be defined in the code. At the moment I have solved it doing as you said, but I don&#39;t like it too much.\nThank you for the `server.*` properties clarification, didn&#39;t know that!","body":"@M.Deinum yeah, the problem is definitly that, but I was wandering if there was a way to define the application context at build time, so it doesn&#39;t have to be defined in the code. At the moment I have solved it doing as you said, but I don&#39;t like it too much. Thank you for the <code>server.*</code> properties clarification, didn&#39;t know that!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696944102,"post_id":77214950,"comment_id":136215140,"body_markdown":"Why would it need to be defined. THat is what the `${pageContext.request.contextPath}` is for (see also https://stackoverflow.com/questions/4764405/how-to-use-relative-paths-without-including-the-context-root-name). But as stated you would probably be better of ditching JSP and use Thymeleaf and then use `th:src` which will do it automatically for you.","body":"Why would it need to be defined. THat is what the <code>${pageContext.request.contextPath}</code> is for (see also <a href=\"https://stackoverflow.com/questions/4764405/how-to-use-relative-paths-without-including-the-context-root-name\" title=\"how to use relative paths without including the context root name\">stackoverflow.com/questions/4764405/&hellip;</a>). But as stated you would probably be better of ditching JSP and use Thymeleaf and then use <code>th:src</code> which will do it automatically for you."}],"owner":{"account_id":20541586,"reputation":11,"user_id":15076388,"display_name":"Federico Xella"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696258023,"creation_date":1696243206,"question_id":77214950,"body_markdown":"I&#39;m developing an application using Spring Boot and while in IDEA with an Application configuration all works fine, if I try deploying it on a web server which define a different context from &quot;/&quot;, all my resources aren&#39;t loaded because of URL mismatch.\r\n\r\nFor example, my test tomcat define the context &quot;localhost:8080/myApp&quot; but the application look for resources at &quot;localhost:8080&quot; instead.\r\n\r\nI tried to set the option `server.servlet.context-path=/myApp` in my application.properties but it doesn&#39;t seem to work.\r\n\r\nWhat am I missing?","title":"Spring Boot serves static content with wrong URL","body":"<p>I'm developing an application using Spring Boot and while in IDEA with an Application configuration all works fine, if I try deploying it on a web server which define a different context from &quot;/&quot;, all my resources aren't loaded because of URL mismatch.</p>\n<p>For example, my test tomcat define the context &quot;localhost:8080/myApp&quot; but the application look for resources at &quot;localhost:8080&quot; instead.</p>\n<p>I tried to set the option <code>server.servlet.context-path=/myApp</code> in my application.properties but it doesn't seem to work.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","android","singleton"],"comments":[{"owner":{"account_id":13518105,"reputation":137,"user_id":9752157,"display_name":"itsgenius_thulc"},"score":0,"creation_date":1696243598,"post_id":77214738,"comment_id":136123846,"body_markdown":"Please add complete stack trace, not able to see the error.","body":"Please add complete stack trace, not able to see the error."},{"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"score":0,"creation_date":1696245537,"post_id":77214738,"comment_id":136124169,"body_markdown":"I already added it but I edit the format to display error","body":"I already added it but I edit the format to display error"}],"answers":[{"tags":[],"owner":{"account_id":10045574,"reputation":771,"user_id":10388072,"display_name":"Manuel Mato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696245707,"creation_date":1696245707,"answer_id":77215185,"question_id":77214738,"body_markdown":"I think the wrong is your activity is null when you call to startDialog():\r\n\r\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.getRoot());\r\n    dialog = LoadingDialog.getInstance(MainActivity.this);\r\n    binding.btn.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n      public void onClick(View v) {\r\n        dialog.startDialog();\r\n        }\r\n    });\r\n\r\n\r\nBecause when you call getInstance you create the instance using the activity by param, but the activity in the scope of LoadingDialog is not initialized, so it is null.  Then, when you call the startDialog(), the activity in the Builder is null:\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n\r\n\r\nSo, a solution could be:\r\n\r\n     public static synchronized LoadingDialog getInstance(Activity activity) {\r\n            if (loadDialog == null &amp;&amp; this.activity == activity) {\r\n                this.activity = activity;\r\n                loadDialog = new LoadingDialog(activity);\r\n            }\r\n            return loadDialog;\r\n        }\r\n\r\n\r\nI am checking the activity instance too because if you call the singleton class from another activity, then it could cause a memory leak.\r\n\r\nAnyway, IMO It is not necessary a singleton class to show a dialog and the `synchronized` keyword neither\r\n","title":"Singleton with AlertDialog make my android application crashing","body":"<p>I think the wrong is your activity is null when you call to startDialog():</p>\n<pre><code>binding = ActivityMainBinding.inflate(getLayoutInflater());\nsetContentView(binding.getRoot());\ndialog = LoadingDialog.getInstance(MainActivity.this);\nbinding.btn.setOnClickListener(new View.OnClickListener() {\n  @Override\n  public void onClick(View v) {\n    dialog.startDialog();\n    }\n});\n</code></pre>\n<p>Because when you call getInstance you create the instance using the activity by param, but the activity in the scope of LoadingDialog is not initialized, so it is null.  Then, when you call the startDialog(), the activity in the Builder is null:</p>\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n</code></pre>\n<p>So, a solution could be:</p>\n<pre><code> public static synchronized LoadingDialog getInstance(Activity activity) {\n        if (loadDialog == null &amp;&amp; this.activity == activity) {\n            this.activity = activity;\n            loadDialog = new LoadingDialog(activity);\n        }\n        return loadDialog;\n    }\n</code></pre>\n<p>I am checking the activity instance too because if you call the singleton class from another activity, then it could cause a memory leak.</p>\n<p>Anyway, IMO It is not necessary a singleton class to show a dialog and the <code>synchronized</code> keyword neither</p>\n"},{"tags":[],"owner":{"account_id":27976889,"reputation":63,"user_id":21365487,"display_name":"Alpha Gaming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696257998,"creation_date":1696257998,"answer_id":77216445,"question_id":77214738,"body_markdown":"This error occurs when you are showing the dialog for a context/activity that no longer exists.\r\n\r\nBefore calling .show() check that activity/context is not finishing\r\n\r\n    public void startDialog() {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n        LayoutInflater inflater = activity.getLayoutInflater();\r\n        builder.setView(inflater.inflate(R.layout.loading,null));\r\n        builder.setCancelable(false);\r\n        dialog = builder.create();\r\n        \r\n        if (!activity.isFinishing()){\r\n             dialog.show();\r\n        }\r\n    }\r\n","title":"Singleton with AlertDialog make my android application crashing","body":"<p>This error occurs when you are showing the dialog for a context/activity that no longer exists.</p>\n<p>Before calling .show() check that activity/context is not finishing</p>\n<pre><code>public void startDialog() {\n    AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n    LayoutInflater inflater = activity.getLayoutInflater();\n    builder.setView(inflater.inflate(R.layout.loading,null));\n    builder.setCancelable(false);\n    dialog = builder.create();\n    \n    if (!activity.isFinishing()){\n         dialog.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696257998,"creation_date":1696240990,"question_id":77214738,"body_markdown":"I am new in android and I am trying to build an android application and I use singleton pattern to show alert dialog but when I run application it crashed.\r\nI tried to remove singleton it worked correctly.\r\nthis is my code\r\n***LoadingDialog.java***\r\n```\r\npublic class LoadingDialog {\r\n    private Activity activity;\r\n    private AlertDialog dialog;\r\n\r\n    private static LoadingDialog loadDialog;\r\n\r\n    public LoadingDialog(Activity activity) {\r\n        this.activity = activity;\r\n    }\r\n\r\n    public static synchronized LoadingDialog getInstance(Activity activity) {\r\n        if (loadDialog == null) {\r\n            loadDialog = new LoadingDialog(activity);\r\n        }\r\n        return loadDialog;\r\n    }\r\n\r\n    public void startDialog() {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n        LayoutInflater inflater = activity.getLayoutInflater();\r\n        builder.setView(inflater.inflate(R.layout.loading,null));\r\n        builder.setCancelable(false);\r\n        dialog = builder.create();\r\n        dialog.show();\r\n    }\r\n\r\n    public void closeDialog() {\r\n        dialog. Dismiss();\r\n    }\r\n}\r\n```\r\n***MainActivity.java***\r\n```\r\nprivate ActivityMainBinding binding;\r\nprivate LoadingDialog dialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        dialog = LoadingDialog.getInstance(MainActivity.this);\r\n        binding.btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                dialog.startDialog();\r\n            }\r\n        });\r\n```\r\nit gives me this error\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.mkandeel.gmarek, PID: 20063\r\nandroid.view.WindowManager$BadTokenException: Unable to add window -- token android.os.BinderProxy@4723521 is not valid; is your activity running?\r\nat android.view.ViewRootImpl.setView(ViewRootImpl.java:678)\r\nat android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:342)\r\nat android.view.WindowManagerImpl.addView(WindowManagerImpl.java:93)\r\nat android.app.Dialog.show(Dialog.java:316)\r\nat com.mkandeel.gmarek.LoadingDialog.startDialog(LoadingDialog.java:30)\r\nat com.mkandeel.gmarek.MainActivity$1.onClick(MainActivity.java:52)\r\nat android.view.View.performClick(View.java:5610)\r\nat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\nat android.view.View$PerformClick.run(View.java:22265)\r\nat android.os.Handler.handleCallback(Handler.java:751)\r\nat android.os.Handler.dispatchMessage(Handler.java:95)\r\nat android.os.Looper.loop(Looper.java:154)\r\nat android.app.ActivityThread.main(ActivityThread.java:6077)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n```\r\nso what is the problem with my code ?\r\nThanks in advance.\r\n\r\nI tried to use class without singleton by making my constrictor public and it work correctly","title":"Singleton with AlertDialog make my android application crashing","body":"<p>I am new in android and I am trying to build an android application and I use singleton pattern to show alert dialog but when I run application it crashed.\nI tried to remove singleton it worked correctly.\nthis is my code\n<em><strong>LoadingDialog.java</strong></em></p>\n<pre><code>public class LoadingDialog {\n    private Activity activity;\n    private AlertDialog dialog;\n\n    private static LoadingDialog loadDialog;\n\n    public LoadingDialog(Activity activity) {\n        this.activity = activity;\n    }\n\n    public static synchronized LoadingDialog getInstance(Activity activity) {\n        if (loadDialog == null) {\n            loadDialog = new LoadingDialog(activity);\n        }\n        return loadDialog;\n    }\n\n    public void startDialog() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n        LayoutInflater inflater = activity.getLayoutInflater();\n        builder.setView(inflater.inflate(R.layout.loading,null));\n        builder.setCancelable(false);\n        dialog = builder.create();\n        dialog.show();\n    }\n\n    public void closeDialog() {\n        dialog. Dismiss();\n    }\n}\n</code></pre>\n<p><em><strong>MainActivity.java</strong></em></p>\n<pre><code>private ActivityMainBinding binding;\nprivate LoadingDialog dialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        dialog = LoadingDialog.getInstance(MainActivity.this);\n        binding.btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dialog.startDialog();\n            }\n        });\n</code></pre>\n<p>it gives me this error</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.mkandeel.gmarek, PID: 20063\nandroid.view.WindowManager$BadTokenException: Unable to add window -- token android.os.BinderProxy@4723521 is not valid; is your activity running?\nat android.view.ViewRootImpl.setView(ViewRootImpl.java:678)\nat android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:342)\nat android.view.WindowManagerImpl.addView(WindowManagerImpl.java:93)\nat android.app.Dialog.show(Dialog.java:316)\nat com.mkandeel.gmarek.LoadingDialog.startDialog(LoadingDialog.java:30)\nat com.mkandeel.gmarek.MainActivity$1.onClick(MainActivity.java:52)\nat android.view.View.performClick(View.java:5610)\nat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\nat android.view.View$PerformClick.run(View.java:22265)\nat android.os.Handler.handleCallback(Handler.java:751)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6077)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n<p>so what is the problem with my code ?\nThanks in advance.</p>\n<p>I tried to use class without singleton by making my constrictor public and it work correctly</p>\n"},{"tags":["java","struts2","html-select"],"comments":[{"owner":{"account_id":489939,"reputation":1338,"user_id":1825052,"accept_rate":100,"display_name":"BillyBigPotatoes"},"score":0,"creation_date":1395165019,"post_id":22487053,"comment_id":34209619,"body_markdown":"Please confirm the code reads correctly - HTML looks malformed.","body":"Please confirm the code reads correctly - HTML looks malformed."},{"owner":{"account_id":4191913,"reputation":1,"user_id":3434338,"display_name":"Karan"},"score":0,"creation_date":1395165246,"post_id":22487053,"comment_id":34209745,"body_markdown":"i thought stackoverflow will not allow this to write exact code now, pls see above, i have written correct code, pls tell me the answer","body":"i thought stackoverflow will not allow this to write exact code now, pls see above, i have written correct code, pls tell me the answer"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696257980,"creation_date":1395167665,"answer_id":22488081,"question_id":22487053,"body_markdown":"When you change drop-down to `E(English)` the `change` event happens and you have used `onchange` event handler which submits the form to the server. \r\n\r\nThe server returns the page back to the client but it doesn&#39;t know the value it should set because it&#39;s not set. \r\n\r\nYou should either change the event handler to not submit the form at least with the ordinal request or use Ajax to send the data, or create getters and setters for the named field to hold the value of the key in the list. \r\n\r\nAlso you can&#39;t use empty keys as values of the list, because it doesn&#39;t match the selected key. \r\n\r\nYou can also use a `value` attribute of the `&lt;s:select&gt;` tag to pre-select the value from the list.    ","title":"Unable to fetch data from database","body":"<p>When you change drop-down to <code>E(English)</code> the <code>change</code> event happens and you have used <code>onchange</code> event handler which submits the form to the server.</p>\n<p>The server returns the page back to the client but it doesn't know the value it should set because it's not set.</p>\n<p>You should either change the event handler to not submit the form at least with the ordinal request or use Ajax to send the data, or create getters and setters for the named field to hold the value of the key in the list.</p>\n<p>Also you can't use empty keys as values of the list, because it doesn't match the selected key.</p>\n<p>You can also use a <code>value</code> attribute of the <code>&lt;s:select&gt;</code> tag to pre-select the value from the list.</p>\n"}],"owner":{"account_id":4191913,"reputation":1,"user_id":3434338,"display_name":"Karan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696257980,"creation_date":1395164686,"question_id":22487053,"body_markdown":"See a code below:\r\n\r\n    &lt;label&gt;Subject:&lt;/label&gt;\r\n    &lt;s:select onchange = &quot;form1.submit();&quot; \r\n                 theme = &quot;simple&quot; \r\n                  list = &quot;#{&#39;&#39;:&#39;All&#39;,&#39;E&#39;:&#39;English&#39;,&#39;M&#39;:&#39;Maths&#39;,&#39;S&#39;:&#39;Science&#39;,&#39;H&#39;:&#39;Humanities&#39;}&quot; \r\n                  name = &quot;Subject&quot; \r\n                    id = &quot;Subject&quot;  /&gt;\r\n\r\nBut when I change drop-down to `E(English)` when page loads, drop-down changes to `ALL` and data is also not showing.\r\n\r\n","title":"Unable to fetch data from database","body":"<p>See a code below:</p>\n<pre><code>&lt;label&gt;Subject:&lt;/label&gt;\n&lt;s:select onchange = &quot;form1.submit();&quot; \n             theme = &quot;simple&quot; \n              list = &quot;#{'':'All','E':'English','M':'Maths','S':'Science','H':'Humanities'}&quot; \n              name = &quot;Subject&quot; \n                id = &quot;Subject&quot;  /&gt;\n</code></pre>\n<p>But when I change drop-down to <code>E(English)</code> when page loads, drop-down changes to <code>ALL</code> and data is also not showing.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":6309546,"reputation":627,"user_id":7716944,"display_name":"Roman Kishchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544191913,"creation_date":1544191913,"answer_id":53671266,"question_id":53668370,"body_markdown":"How many brokers do you have in the cluster? The `default.replication.factor` is `2`, which means that you must have at least 2 brokers running.","title":"Unable to create topic when kafkaProducer tries to send record for the first time INVALID_REPLICATION_FACTOR","body":"<p>How many brokers do you have in the cluster? The <code>default.replication.factor</code> is <code>2</code>, which means that you must have at least 2 brokers running.</p>\n"},{"tags":[],"owner":{"account_id":2685573,"reputation":450,"user_id":2320055,"accept_rate":57,"display_name":"ivanorone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588298471,"creation_date":1588298471,"answer_id":61535720,"question_id":53668370,"body_markdown":"I experienced the same problem and on searching through the Kafka codebase I realized that in some instances, `Errors.COORDINATOR_NOT_AVAILABLE` is reported as `Errors.INVALID_REPLICATION_FACTOR` \r\n\r\nIn my case, the actual underlying problem was that the topic specified in the consumer config did not exist\r\n\r\nRef: https://github.com/apache/kafka/blob/322b10964ce71eac81da9e574be7dec59c0fc93d/core/src/main/scala/kafka/server/KafkaApis.scala#L1106","title":"Unable to create topic when kafkaProducer tries to send record for the first time INVALID_REPLICATION_FACTOR","body":"<p>I experienced the same problem and on searching through the Kafka codebase I realized that in some instances, <code>Errors.COORDINATOR_NOT_AVAILABLE</code> is reported as <code>Errors.INVALID_REPLICATION_FACTOR</code> </p>\n\n<p>In my case, the actual underlying problem was that the topic specified in the consumer config did not exist</p>\n\n<p>Ref: <a href=\"https://github.com/apache/kafka/blob/322b10964ce71eac81da9e574be7dec59c0fc93d/core/src/main/scala/kafka/server/KafkaApis.scala#L1106\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/322b10964ce71eac81da9e574be7dec59c0fc93d/core/src/main/scala/kafka/server/KafkaApis.scala#L1106</a></p>\n"},{"tags":[],"owner":{"account_id":28754310,"reputation":1,"user_id":22021645,"display_name":"ViKi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696257961,"creation_date":1696257961,"answer_id":77216436,"question_id":53668370,"body_markdown":"I had the same problem from the application side,\r\nSpringBoot 3.0.7\r\nJava 17.\r\n\r\nWhen I checked the Kafka server logs, this is what I got :\r\n\r\n&gt; Client requested connection close from node 0\r\n&gt; (org.apache.kafka.clients.NetworkClient) [2023-10-02 17:33:53,960]\r\n&gt; INFO [Admin Manager on Broker 0]: Error processing create topic\r\n&gt; request CreatableTopic(name=&#39;myKafkaTopic&#39;, numPartitions=1,\r\n&gt; replicationFactor=1, assignments=[], configs=[])\r\n&gt; (kafka.server.ZkAdminManager)\r\n&gt; org.apache.kafka.common.errors.InvalidReplicationFactorException:\r\n&gt; Replication factor: 1 larger than available brokers: 0.\r\n\r\nI restarted the Kafka server and the Zookeper and this worked for me.\r\n\r\n","title":"Unable to create topic when kafkaProducer tries to send record for the first time INVALID_REPLICATION_FACTOR","body":"<p>I had the same problem from the application side,\nSpringBoot 3.0.7\nJava 17.</p>\n<p>When I checked the Kafka server logs, this is what I got :</p>\n<blockquote>\n<p>Client requested connection close from node 0\n(org.apache.kafka.clients.NetworkClient) [2023-10-02 17:33:53,960]\nINFO [Admin Manager on Broker 0]: Error processing create topic\nrequest CreatableTopic(name='myKafkaTopic', numPartitions=1,\nreplicationFactor=1, assignments=[], configs=[])\n(kafka.server.ZkAdminManager)\norg.apache.kafka.common.errors.InvalidReplicationFactorException:\nReplication factor: 1 larger than available brokers: 0.</p>\n</blockquote>\n<p>I restarted the Kafka server and the Zookeper and this worked for me.</p>\n"}],"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9927,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1696257961,"creation_date":1544181113,"question_id":53668370,"body_markdown":"I am getting following error in the logs when trying to publish first message to a new topic.\r\n\r\n&gt; [WARN ] [o.a.kafka.clients.NetworkClient][[Producer\r\n&gt; clientId=producer-1] Error while fetching metadata with correlation id\r\n&gt; 766890 : {myTopic-1=INVALID_REPLICATION_FACTOR,\r\n&gt; myTopic-2=INVALID_REPLICATION_FACTOR}] []\r\n\r\nThe kafka fails hangs at:\r\n\r\n    &quot;Hashed wheel timer #1&quot; #521 prio=5 os_prio=0 tid=0x00007f932cd7d000 nid=0x199fa in Object.wait() [0x00007f9322b79000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        at org.apache.kafka.clients.Metadata.awaitUpdate(Metadata.java:177)\r\n        - locked &lt;0x000000047838b990&gt; (a org.apache.kafka.clients.Metadata)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:903)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:794)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:784)\r\n    \r\nThe kafka jar version we are using is: 0.10.0.1\r\n\r\nThe server.properties on broker is:\r\n\r\n    broker.id=3\r\n    host.name=&lt;&gt;\r\n    port=9092\r\n    \r\n    message.max.bytes=20971520\r\n    num.partitions=30\r\n    auto.create.topics.enable=true\r\n    \r\n    # Replication configurations\r\n    default.replication.factor=2\r\n    num.replica.fetchers=2\r\n    replica.fetch.max.bytes=20971520\r\n    \r\n    \r\n    log.dirs=/mnt1/data/kafka/kafka-logs-3\r\n    log.retention.hours=48\r\n    log.flush.interval.ms=10000\r\n    log.flush.interval.messages=20000\r\n    log.flush.scheduler.interval.ms=2000\r\n    log.cleanup.interval.mins=30\r\n    \r\n    zookeeper.connect=&lt;&gt;\r\n    zookeeper.connection.timeout.ms=1000000\r\n    \r\n    # Socket server configuration\r\n    num.io.threads=8\r\n    num.network.threads=8\r\n    socket.request.max.bytes=20971520\r\n    socket.receive.buffer.bytes=20971520\r\n    socket.send.buffer.bytes=20971520\r\n    queued.max.requests=32\r\n    fetch.purgatory.purge.interval.requests=100\r\n    producer.purgatory.purge.interval.requests=100\r\n    \r\n    inter.broker.protocol.version=0.10.2.0\r\n    log.message.format.version=0.10.0\r\n    delete.topic.enable=true\r\n\r\nWhy I am not able to send messages? The topic itself is not being created!\r\nThe producer properties being used are:\r\n\r\n    Properties props = new Properties();\r\n            props.put(&quot;acks&quot;, &quot;0&quot;);\r\n            props.put(&quot;retries&quot;, &quot;0&quot;);\r\n            props.put(&quot;batch.size&quot;, &quot;16384&quot;);\r\n            props.put(&quot;linger.ms&quot;, &quot;100&quot;);\r\n            props.put(&quot;buffer.memory&quot;, &quot;33554432&quot;);\r\n            props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;);\r\n            props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            props.put(&quot;max.request.size&quot;, String.valueOf(ByteUnit.MB.toBytes(10)));\r\n            return props;","title":"Unable to create topic when kafkaProducer tries to send record for the first time INVALID_REPLICATION_FACTOR","body":"<p>I am getting following error in the logs when trying to publish first message to a new topic.</p>\n\n<blockquote>\n  <p>[WARN ] [o.a.kafka.clients.NetworkClient][[Producer\n  clientId=producer-1] Error while fetching metadata with correlation id\n  766890 : {myTopic-1=INVALID_REPLICATION_FACTOR,\n  myTopic-2=INVALID_REPLICATION_FACTOR}] []</p>\n</blockquote>\n\n<p>The kafka fails hangs at:</p>\n\n<pre><code>\"Hashed wheel timer #1\" #521 prio=5 os_prio=0 tid=0x00007f932cd7d000 nid=0x199fa in Object.wait() [0x00007f9322b79000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at org.apache.kafka.clients.Metadata.awaitUpdate(Metadata.java:177)\n    - locked &lt;0x000000047838b990&gt; (a org.apache.kafka.clients.Metadata)\n    at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:903)\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:794)\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:784)\n</code></pre>\n\n<p>The kafka jar version we are using is: 0.10.0.1</p>\n\n<p>The server.properties on broker is:</p>\n\n<pre><code>broker.id=3\nhost.name=&lt;&gt;\nport=9092\n\nmessage.max.bytes=20971520\nnum.partitions=30\nauto.create.topics.enable=true\n\n# Replication configurations\ndefault.replication.factor=2\nnum.replica.fetchers=2\nreplica.fetch.max.bytes=20971520\n\n\nlog.dirs=/mnt1/data/kafka/kafka-logs-3\nlog.retention.hours=48\nlog.flush.interval.ms=10000\nlog.flush.interval.messages=20000\nlog.flush.scheduler.interval.ms=2000\nlog.cleanup.interval.mins=30\n\nzookeeper.connect=&lt;&gt;\nzookeeper.connection.timeout.ms=1000000\n\n# Socket server configuration\nnum.io.threads=8\nnum.network.threads=8\nsocket.request.max.bytes=20971520\nsocket.receive.buffer.bytes=20971520\nsocket.send.buffer.bytes=20971520\nqueued.max.requests=32\nfetch.purgatory.purge.interval.requests=100\nproducer.purgatory.purge.interval.requests=100\n\ninter.broker.protocol.version=0.10.2.0\nlog.message.format.version=0.10.0\ndelete.topic.enable=true\n</code></pre>\n\n<p>Why I am not able to send messages? The topic itself is not being created!\nThe producer properties being used are:</p>\n\n<pre><code>Properties props = new Properties();\n        props.put(\"acks\", \"0\");\n        props.put(\"retries\", \"0\");\n        props.put(\"batch.size\", \"16384\");\n        props.put(\"linger.ms\", \"100\");\n        props.put(\"buffer.memory\", \"33554432\");\n        props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.IntegerSerializer\");\n        props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n        props.put(\"max.request.size\", String.valueOf(ByteUnit.MB.toBytes(10)));\n        return props;\n</code></pre>\n"},{"tags":["java","spring-boot","jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1579717124,"post_id":59832220,"comment_id":105862970,"body_markdown":"The way this question is worded the answers will be based on opinion, not fact. This question should either be changed or closed.","body":"The way this question is worded the answers will be based on opinion, not fact. This question should either be changed or closed."}],"answers":[{"tags":[],"owner":{"account_id":1485563,"reputation":2200,"user_id":1520767,"display_name":"fabfas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579564738,"creation_date":1579564738,"answer_id":59832455,"question_id":59832220,"body_markdown":"The short answer is it depends. The longn answer is measure it. The use of small application criteria is flawed. You can have both on the same server if your server have all the resources required by your application and message queue broker, and not impacting the performance of end user. \r\n\r\nI would suggest run your performance tests to test your criteria then decide your target environment setup. ","title":"Should I install JMS broker on a separate machine?","body":"<p>The short answer is it depends. The longn answer is measure it. The use of small application criteria is flawed. You can have both on the same server if your server have all the resources required by your application and message queue broker, and not impacting the performance of end user. </p>\n\n<p>I would suggest run your performance tests to test your criteria then decide your target environment setup. </p>\n"},{"tags":[],"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1579565625,"creation_date":1579565625,"answer_id":59832551,"question_id":59832220,"body_markdown":"It&#39;s depends...\r\n\r\nThe size of the application is irrelevant. It depends more on your requirements for availability, scalability and data safety.  \r\n\r\nIf you have everything on the same machine you have a single point of risk. If the machine crash you lost everything on that machine. But this setup is the most \r\nsimple one (also for maintenance) and the change that the server will crash is low. Modern machines are able to handle a big load.\r\n\r\nIf you have a really high load and/or a requirement for guaranteed delivery you should use multiple systems with producers that sends messages to an ActiveMQ cluster (also distributed over multiple machines). The consumers, also on more than one machine. Use also load balancers to connect/interface to the machines.\r\n\r\nYou can also have a setup in the middle of both example setups (simple and \r\n complex). \r\n\r\nIf you are able to reproduce all the messages (email messages in your example), and the load is not so high, I will advise you to put it simple all on the same machine. ","title":"Should I install JMS broker on a separate machine?","body":"<p>It's depends...</p>\n\n<p>The size of the application is irrelevant. It depends more on your requirements for availability, scalability and data safety.  </p>\n\n<p>If you have everything on the same machine you have a single point of risk. If the machine crash you lost everything on that machine. But this setup is the most \nsimple one (also for maintenance) and the change that the server will crash is low. Modern machines are able to handle a big load.</p>\n\n<p>If you have a really high load and/or a requirement for guaranteed delivery you should use multiple systems with producers that sends messages to an ActiveMQ cluster (also distributed over multiple machines). The consumers, also on more than one machine. Use also load balancers to connect/interface to the machines.</p>\n\n<p>You can also have a setup in the middle of both example setups (simple and \n complex). </p>\n\n<p>If you are able to reproduce all the messages (email messages in your example), and the load is not so high, I will advise you to put it simple all on the same machine. </p>\n"},{"tags":[],"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579595968,"creation_date":1579595968,"answer_id":59837077,"question_id":59832220,"body_markdown":"The simplest setup is everything on the same box. If this one box has enough CPU and disk space, why not ? One (performance) advantage is that nothing needs to go over the network. \r\n\r\nIf you are concerned about fault-tolerance, replicate that whole setup on a second machine.","title":"Should I install JMS broker on a separate machine?","body":"<p>The simplest setup is everything on the same box. If this one box has enough CPU and disk space, why not ? One (performance) advantage is that nothing needs to go over the network. </p>\n\n<p>If you are concerned about fault-tolerance, replicate that whole setup on a second machine.</p>\n"}],"owner":{"account_id":8475871,"reputation":403,"user_id":6357152,"display_name":"PLee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59832551,"answer_count":3,"score":0,"last_activity_date":1696257866,"creation_date":1579562796,"question_id":59832220,"body_markdown":"I am using Spring Boot mail and a JMS broker to build an email system. I followed [this example project][1]. Because our application QPS is small one server is enough to handle the requests. In the example project the broker, sender, and receiver are all on the same server. Is this a good practice for small application? Or I should put the broker, sender, and receiver on three separate machines?\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/messaging-jms/","title":"Should I install JMS broker on a separate machine?","body":"<p>I am using Spring Boot mail and a JMS broker to build an email system. I followed <a href=\"https://spring.io/guides/gs/messaging-jms/\" rel=\"nofollow noreferrer\">this example project</a>. Because our application QPS is small one server is enough to handle the requests. In the example project the broker, sender, and receiver are all on the same server. Is this a good practice for small application? Or I should put the broker, sender, and receiver on three separate machines?</p>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1695908814,"post_id":77182515,"comment_id":136088849,"body_markdown":"Not sure I completely understand your issue, but `abortWith()` is a `void` method. You need to also `return` after calling it, otherwise the rest of the code will still be ran.","body":"Not sure I completely understand your issue, but <code>abortWith()</code> is a <code>void</code> method. You need to also <code>return</code> after calling it, otherwise the rest of the code will still be ran."},{"owner":{"account_id":29541162,"reputation":1,"user_id":22639792,"display_name":"Satish"},"score":0,"creation_date":1695996518,"post_id":77182515,"comment_id":136101314,"body_markdown":"@Paul i tried even with return but still i am not getting 401 error. I get 500 which is not expected","body":"@Paul i tried even with return but still i am not getting 401 error. I get 500 which is not expected"}],"owner":{"account_id":29541162,"reputation":1,"user_id":22639792,"display_name":"Satish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696257396,"creation_date":1695751936,"question_id":77182515,"body_markdown":"I have implemented Container Request and created filter method and i am trying to abort in case of authorization failure. I see that the application stops as expected but it is not returning any message to client. I was expecting 401 error but it just stops abruptly.\r\n\r\npublic class SecuredFilter implements ContainerRequestFilter {\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) {\r\n\r\n        String authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\r\n        if (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n             requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\r\n        }\r\n\r\n        String token = authorizationHeader.substring(&quot;Bearer&quot;.length()).trim();\r\n        // [...]\r\n        }\r\n}\r\n\r\nI am expecting to see 401 error not just stopping abruptly.","title":"ContainerRequest Response abortWith aborting and not providing response","body":"<p>I have implemented Container Request and created filter method and i am trying to abort in case of authorization failure. I see that the application stops as expected but it is not returning any message to client. I was expecting 401 error but it just stops abruptly.</p>\n<p>public class SecuredFilter implements ContainerRequestFilter {</p>\n<pre><code>@Override\npublic void filter(ContainerRequestContext requestContext) {\n\n    String authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\n    if (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n         requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n    }\n\n    String token = authorizationHeader.substring(&quot;Bearer&quot;.length()).trim();\n    // [...]\n    }\n</code></pre>\n<p>}</p>\n<p>I am expecting to see 401 error not just stopping abruptly.</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient","ilm","elasticsearch-client"],"owner":{"account_id":28754134,"reputation":1,"user_id":22021505,"display_name":"user22021505"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696257334,"creation_date":1696257334,"question_id":77216359,"body_markdown":"I&#39;m in the process of migrating from Elasticsearch version 7.17.0 to version 8.8.1. In my existing code, I&#39;m using the High-Level Rest Client (HLRC) to manage Index Lifecycle Policies. However, in Elasticsearch version 8.8.1, it seems that the `IndexLifecycleClient` has been removed, and I&#39;m unable to find an alternate method to perform the same functionality.\r\n\r\nSpecifically, I was using the `PutLifecyclePolicyRequest` to create a new policy. In Elasticsearch 8.8.1, it seems this is now named `PutLifecycleRequest`. Can anyone confirm if this performs the same functionality?\r\n\r\nAdditionally, any guidance or examples on how to implement Index Lifecycle Management using the ElasticsearchClient in version 8.8.1 would be greatly appreciated. Thank you.\r\n\r\nHLRC code:\r\n\r\n```\r\nprivate void createLifecyclePolicy(RestHighLevelClient client) throws IOException {\r\n    try {\r\n      IndexLifecycleClient lsClient = client.indexLifecycle();\r\n      Map&lt;String, Phase&gt; phases = new HashMap&lt;&gt;();\r\n      Map&lt;String, LifecycleAction&gt; hotActions = new HashMap&lt;&gt;();\r\n      hotActions.put(\r\n          RolloverAction.NAME,\r\n          new RolloverAction(new ByteSizeValue(25, ByteSizeUnit.GB), null, null, null));\r\n      phases.put(&quot;hot&quot;, new Phase(&quot;hot&quot;, TimeValue.ZERO, hotActions));\r\n      LifecyclePolicy lifecyclePolicy =\r\n          new LifecyclePolicy(elasticsearchPropertyProvider.getBulkFilterPolicyName(), phases);\r\n      AcknowledgedResponse response =\r\n          lsClient.putLifecyclePolicy(\r\n              new PutLifecyclePolicyRequest(lifecyclePolicy), RequestOptions.DEFAULT);\r\n      logger.info(&quot;Create policy acknowledgement : {}&quot;, response.isAcknowledged());\r\n    } catch (Exception e) {\r\n      logger.error(e, &quot;Error while creating lifecycle policy&quot;);\r\n      throw e;\r\n    }\r\n  }\r\nprivate boolean isLifecyclePolicyExists(RestHighLevelClient client) throws IOException {\r\n      GetLifecyclePolicyResponse lifecyclePolicy =\r\n          client\r\n              .indexLifecycle()\r\n              .getLifecyclePolicy(\r\n                  new GetLifecyclePolicyRequest(\r\n                      elasticsearchPropertyProvider.getBulkFilterPolicyName()),\r\n                  RequestOptions.DEFAULT);\r\n      logger.info(&quot;Policy found : {}&quot;, lifecyclePolicy.getPolicies());\r\n      return true;\r\n    \r\n```\r\n\r\n\r\nTried with methods PutLifecycleRequest, GetLifecycleRequest, IlmPolicy. Unable to implement the same functionality using new methods of ES-8.8.1 and need more examples.","title":"How to implement Index Lifecycle Mgt using ElasticsearchClient?","body":"<p>I'm in the process of migrating from Elasticsearch version 7.17.0 to version 8.8.1. In my existing code, I'm using the High-Level Rest Client (HLRC) to manage Index Lifecycle Policies. However, in Elasticsearch version 8.8.1, it seems that the <code>IndexLifecycleClient</code> has been removed, and I'm unable to find an alternate method to perform the same functionality.</p>\n<p>Specifically, I was using the <code>PutLifecyclePolicyRequest</code> to create a new policy. In Elasticsearch 8.8.1, it seems this is now named <code>PutLifecycleRequest</code>. Can anyone confirm if this performs the same functionality?</p>\n<p>Additionally, any guidance or examples on how to implement Index Lifecycle Management using the ElasticsearchClient in version 8.8.1 would be greatly appreciated. Thank you.</p>\n<p>HLRC code:</p>\n<pre><code>private void createLifecyclePolicy(RestHighLevelClient client) throws IOException {\n    try {\n      IndexLifecycleClient lsClient = client.indexLifecycle();\n      Map&lt;String, Phase&gt; phases = new HashMap&lt;&gt;();\n      Map&lt;String, LifecycleAction&gt; hotActions = new HashMap&lt;&gt;();\n      hotActions.put(\n          RolloverAction.NAME,\n          new RolloverAction(new ByteSizeValue(25, ByteSizeUnit.GB), null, null, null));\n      phases.put(&quot;hot&quot;, new Phase(&quot;hot&quot;, TimeValue.ZERO, hotActions));\n      LifecyclePolicy lifecyclePolicy =\n          new LifecyclePolicy(elasticsearchPropertyProvider.getBulkFilterPolicyName(), phases);\n      AcknowledgedResponse response =\n          lsClient.putLifecyclePolicy(\n              new PutLifecyclePolicyRequest(lifecyclePolicy), RequestOptions.DEFAULT);\n      logger.info(&quot;Create policy acknowledgement : {}&quot;, response.isAcknowledged());\n    } catch (Exception e) {\n      logger.error(e, &quot;Error while creating lifecycle policy&quot;);\n      throw e;\n    }\n  }\nprivate boolean isLifecyclePolicyExists(RestHighLevelClient client) throws IOException {\n      GetLifecyclePolicyResponse lifecyclePolicy =\n          client\n              .indexLifecycle()\n              .getLifecyclePolicy(\n                  new GetLifecyclePolicyRequest(\n                      elasticsearchPropertyProvider.getBulkFilterPolicyName()),\n                  RequestOptions.DEFAULT);\n      logger.info(&quot;Policy found : {}&quot;, lifecyclePolicy.getPolicies());\n      return true;\n    \n</code></pre>\n<p>Tried with methods PutLifecycleRequest, GetLifecycleRequest, IlmPolicy. Unable to implement the same functionality using new methods of ES-8.8.1 and need more examples.</p>\n"},{"tags":["java","loops","input","while-loop"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1444387458,"post_id":33036087,"comment_id":53893448,"body_markdown":"Your leap year logic is wrong.","body":"Your leap year logic is wrong."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696322075,"post_id":33036087,"comment_id":136134690,"body_markdown":"Although not really what you asked, I see that you posted after the release of JDK 8 which included the introduction of the [date-time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) and therefore you can use [static] method [isLeap](https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#isLeap-long-) (of class `java.time.Year`) rather than do the calculation yourself.","body":"Although not really what you asked, I see that you posted after the release of JDK 8 which included the introduction of the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">date-time API</a> and therefore you can use [static] method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#isLeap-long-\" rel=\"nofollow noreferrer\">isLeap</a> (of class <code>java.time.Year</code>) rather than do the calculation yourself."}],"answers":[{"tags":[],"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1444387839,"creation_date":1444387232,"answer_id":33036152,"question_id":33036087,"body_markdown":"Use a while loop above input line as:\r\n\r\n     while(true)\r\n\r\nAnd, use `if` condition to `break`.\r\n\r\n    if(year == 0)\r\n        break;\r\n\r\nAlso, condition for `leap year` is wrong in your code. It should be:\r\n\r\n    if((year % 100 == 0 &amp;&amp; year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0))\r\n        //its a leap year\r\n    else\r\n        //its not\r\n\r\nPS: As in comments, I&#39;ll give a complete code:\r\n\r\n    import java.util.*;\r\n\r\n    public class Task10 {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter a year to check if it is a leap year&quot;);\r\n        while(true){\r\n        Scanner input = new Scanner(System.in);\r\n            int year = input.nextInt();\r\n            if(year == 0)\r\n                break;\r\n            if((year % 100 == 0 &amp;&amp; year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0))\r\n                System.out.println(year + &quot; is a leap year&quot;);\r\n            else\r\n                System.out.println(year + &quot; is not a leap year&quot;);\r\n        }\r\n    }\r\n\r\n    }","title":"How would I use a while loop to keep requesting user input","body":"<p>Use a while loop above input line as:</p>\n\n<pre><code> while(true)\n</code></pre>\n\n<p>And, use <code>if</code> condition to <code>break</code>.</p>\n\n<pre><code>if(year == 0)\n    break;\n</code></pre>\n\n<p>Also, condition for <code>leap year</code> is wrong in your code. It should be:</p>\n\n<pre><code>if((year % 100 == 0 &amp;&amp; year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0))\n    //its a leap year\nelse\n    //its not\n</code></pre>\n\n<p>PS: As in comments, I'll give a complete code:</p>\n\n<pre><code>import java.util.*;\n\npublic class Task10 {\n\npublic static void main(String[] args) {\n    System.out.println(\"Enter a year to check if it is a leap year\");\n    while(true){\n    Scanner input = new Scanner(System.in);\n        int year = input.nextInt();\n        if(year == 0)\n            break;\n        if((year % 100 == 0 &amp;&amp; year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0))\n            System.out.println(year + \" is a leap year\");\n        else\n            System.out.println(year + \" is not a leap year\");\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2530058,"reputation":467,"user_id":2198540,"accept_rate":75,"display_name":"NightsWatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444387381,"creation_date":1444387381,"answer_id":33036200,"question_id":33036087,"body_markdown":"You should place your input taking code inside a while loop aned execute while loop untill year is 0 or lesser.\r\n\r\n    public static void main(String[] args) {\r\n    \t    int year = 1;\r\n    \t    while(year &gt; 0)\r\n    \t    {\r\n    \t    \tSystem.out.println(&quot;Enter a year to check if it is a leap year&quot;);\r\n    \t    \tScanner input = new Scanner(System.in);\r\n    \t    \tyear = input.nextInt();\r\n    \t    \tif ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 != 0)))\r\n    \t\t        System.out.println(year + &quot; is a leap year&quot;);\r\n    \t\t    else\r\n    \t\t        System.out.println(year + &quot; is not a leap year&quot;);\r\n    \t    }\r\n    \t    \r\n    \r\n    \t}","title":"How would I use a while loop to keep requesting user input","body":"<p>You should place your input taking code inside a while loop aned execute while loop untill year is 0 or lesser.</p>\n\n<pre><code>public static void main(String[] args) {\n        int year = 1;\n        while(year &gt; 0)\n        {\n            System.out.println(\"Enter a year to check if it is a leap year\");\n            Scanner input = new Scanner(System.in);\n            year = input.nextInt();\n            if ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 != 0)))\n                System.out.println(year + \" is a leap year\");\n            else\n                System.out.println(year + \" is not a leap year\");\n        }\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444387488,"creation_date":1444387488,"answer_id":33036238,"question_id":33036087,"body_markdown":"You need to do something to keep you input loop running until a stopping condition is encountered (which in your case is that when the user inputs `0`)\r\n\r\n    // First get the scanner object with the input stream\r\n\tScanner sc = new Scanner(System.in); \r\n\r\n    // Just using do-while here for no reason, you can use a simple while(true) as well\r\n\tdo{\r\n\t\tint input = sc.nextInt();  // read the next input\r\n\t\tif (int == 0) { // check if we need to exit out\r\n\t\t\t// break only if 0 is entered, this means we don&#39;t want to run the loop anymore\r\n\t\t\tbreak;\r\n\t\t} else {\r\n\t\t\t// otherwise, do something with the input\r\n\t\t}\r\n\t} while(true); // and keep repeating","title":"How would I use a while loop to keep requesting user input","body":"<p>You need to do something to keep you input loop running until a stopping condition is encountered (which in your case is that when the user inputs <code>0</code>)</p>\n\n<pre><code>// First get the scanner object with the input stream\nScanner sc = new Scanner(System.in); \n\n// Just using do-while here for no reason, you can use a simple while(true) as well\ndo{\n    int input = sc.nextInt();  // read the next input\n    if (int == 0) { // check if we need to exit out\n        // break only if 0 is entered, this means we don't want to run the loop anymore\n        break;\n    } else {\n        // otherwise, do something with the input\n    }\n} while(true); // and keep repeating\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26164597,"reputation":1,"user_id":19850601,"display_name":"Deep Narayan Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696257198,"creation_date":1696103162,"answer_id":77208226,"question_id":33036087,"body_markdown":"## Simple and best ## \r\n\r\n\r\nScanner sc=new Scanner(System.in);\r\n\r\nwhile(sc.hasNextInt()){\r\n       int year = input.nextInt();\r\n\r\n        if ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 !=0)))\r\n            System.out.println(year + &quot; is a leap year&quot;);\r\n        else\r\n            System.out.println(year + &quot; is not a leap year&quot;);\r\n}\r\n\r\n\r\n----------\r\n\r\n\r\nUntil you enter a valid input , the loop will contionue","title":"How would I use a while loop to keep requesting user input","body":"<h2>Simple and best</h2>\n<p>Scanner sc=new Scanner(System.in);</p>\n<p>while(sc.hasNextInt()){\nint year = input.nextInt();</p>\n<pre><code>    if ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 !=0)))\n        System.out.println(year + &quot; is a leap year&quot;);\n    else\n        System.out.println(year + &quot; is not a leap year&quot;);\n</code></pre>\n<p>}</p>\n<hr />\n<p>Until you enter a valid input , the loop will contionue</p>\n"}],"owner":{"account_id":7092412,"reputation":49,"user_id":5427205,"accept_rate":100,"display_name":"Imminence"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78834,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33036152,"answer_count":4,"score":4,"last_activity_date":1696257198,"creation_date":1444387056,"question_id":33036087,"body_markdown":"I&#39;ve tried a couple of things with the while loop and can&#39;t seem to get it to work. I want to keep requesting user input until the user inputs the number 0, here is the code I have so far:\r\n\r\n    import java.util.*;\r\n\r\n    public class Task10 {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Enter a year to check if it is a leap year&quot;);\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tint year = input.nextInt();\r\n    \t\t\r\n    \t\tif ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 != 0)))\r\n    \t\t\tSystem.out.println(year + &quot; is a leap year&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(year + &quot; is not a leap year&quot;);\r\n       \t}\r\n    }\r\n","title":"How would I use a while loop to keep requesting user input","body":"<p>I've tried a couple of things with the while loop and can't seem to get it to work. I want to keep requesting user input until the user inputs the number 0, here is the code I have so far:</p>\n\n<pre><code>import java.util.*;\n\npublic class Task10 {\n\n    public static void main(String[] args) {\n        System.out.println(\"Enter a year to check if it is a leap year\");\n        Scanner input = new Scanner(System.in);\n        int year = input.nextInt();\n\n        if ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 != 0)))\n            System.out.println(year + \" is a leap year\");\n        else\n            System.out.println(year + \" is not a leap year\");\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696257129,"creation_date":1696257129,"answer_id":77216333,"question_id":77215503,"body_markdown":"I would go back to thinking about why you want this, to decide between two options:\r\n\r\n - You _cannot_ use triggers to get an exact number of elements, by design: To achieve efficiency, Beam runners amortize costs by processing bundles of elements together. This is not just for batch, but also for streaming. So triggers say &quot;OK it is time to output&quot; but the runner is always allowed to wait until a &quot;good&quot; time. This is usually at the end of processing a bundle, when all the data will be flushed.\r\n - You _can_ use [`GroupIntoBatches`](https://beam.apache.org/documentation/transforms/java/aggregation/groupintobatches/) to get batches of _less than or equal_ to 10 elements. The last batch may be small and be flushed with less than 10. \r\n\r\nNow, in stream processing you may often go back and reprocess older data to fix bugs or run experiments. You should think about this to help you decide. \r\n\r\n**Important**:\r\n - For `GroupIntoBatches` the size of the batches is part of the input/output specification. You will get batches of 10 elements or less in both streaming and batch scenarios.\r\n - For triggers, it is _only_ a control for balancing cost/latency/completeness of results. In this case, a runner will probably produce _huge_ bundles and trigger only at the end.","title":"Apache Beam trigger a pane after equal number of elements","body":"<p>I would go back to thinking about why you want this, to decide between two options:</p>\n<ul>\n<li>You <em>cannot</em> use triggers to get an exact number of elements, by design: To achieve efficiency, Beam runners amortize costs by processing bundles of elements together. This is not just for batch, but also for streaming. So triggers say &quot;OK it is time to output&quot; but the runner is always allowed to wait until a &quot;good&quot; time. This is usually at the end of processing a bundle, when all the data will be flushed.</li>\n<li>You <em>can</em> use <a href=\"https://beam.apache.org/documentation/transforms/java/aggregation/groupintobatches/\" rel=\"nofollow noreferrer\"><code>GroupIntoBatches</code></a> to get batches of <em>less than or equal</em> to 10 elements. The last batch may be small and be flushed with less than 10.</li>\n</ul>\n<p>Now, in stream processing you may often go back and reprocess older data to fix bugs or run experiments. You should think about this to help you decide.</p>\n<p><strong>Important</strong>:</p>\n<ul>\n<li>For <code>GroupIntoBatches</code> the size of the batches is part of the input/output specification. You will get batches of 10 elements or less in both streaming and batch scenarios.</li>\n<li>For triggers, it is <em>only</em> a control for balancing cost/latency/completeness of results. In this case, a runner will probably produce <em>huge</em> bundles and trigger only at the end.</li>\n</ul>\n"}],"owner":{"account_id":5976980,"reputation":122,"user_id":4697471,"display_name":"Tomasz Kubat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696257129,"creation_date":1696249124,"question_id":77215503,"body_markdown":"we use a Apache Beam to send some data to the API. API accepts only certain amount of elements for single API call.\r\n\r\nTo group elements into micro batches we used mixed trigger which fires when one of the condition occurs: 1) after 30 seconds 2) when at least 10 elements will be gathered.\r\n\r\nNow it seems, that for some cases triggers passes more than 10 elements for a single pane. Any suggestion to force an exact number of record? I suppose, that as the method names suggests &#39;.elementsCountAtLeast(int x)` more then `x` elements can be passed.\r\n\r\n\r\n\r\n    // definition\r\n    public class WindowHelper {\r\n\r\n        public static Window&lt;KV&lt;String,String&gt;&gt; generateWIndow() {\r\n            Window &lt;KV&lt;String,String&gt;&gt; window = Window.&lt;KV&lt;String,String&gt;&gt;into(\r\n                new GlobalWindows()).triggering(\r\n                    Repeatedly.forever(AfterFirst.of(\r\n                        AfterPane.elementCountAtLeast(10),\r\n                        AfterProcessingTime.pastFirstElementInPane().plusDelayOf(Duration.standardSeconds(30))))\r\n        ).discardingFiredPanes();\r\n    \r\n        }\r\n    }\r\n    \r\n    // invocation\r\n    data.apply(WindowHelper.generateWindow())\r\n    \r\n    ...","title":"Apache Beam trigger a pane after equal number of elements","body":"<p>we use a Apache Beam to send some data to the API. API accepts only certain amount of elements for single API call.</p>\n<p>To group elements into micro batches we used mixed trigger which fires when one of the condition occurs: 1) after 30 seconds 2) when at least 10 elements will be gathered.</p>\n<p>Now it seems, that for some cases triggers passes more than 10 elements for a single pane. Any suggestion to force an exact number of record? I suppose, that as the method names suggests '.elementsCountAtLeast(int x)<code>more then</code>x` elements can be passed.</p>\n<pre><code>// definition\npublic class WindowHelper {\n\n    public static Window&lt;KV&lt;String,String&gt;&gt; generateWIndow() {\n        Window &lt;KV&lt;String,String&gt;&gt; window = Window.&lt;KV&lt;String,String&gt;&gt;into(\n            new GlobalWindows()).triggering(\n                Repeatedly.forever(AfterFirst.of(\n                    AfterPane.elementCountAtLeast(10),\n                    AfterProcessingTime.pastFirstElementInPane().plusDelayOf(Duration.standardSeconds(30))))\n    ).discardingFiredPanes();\n\n    }\n}\n\n// invocation\ndata.apply(WindowHelper.generateWindow())\n\n...\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","inversion-of-control"],"answers":[{"tags":[],"owner":{"account_id":10443956,"reputation":91,"user_id":7699656,"display_name":"Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531898950,"creation_date":1531898950,"answer_id":51396061,"question_id":51395592,"body_markdown":"I think it&#39;s depend on B scope. If B is singletone then B manage itslef life cycle, so the relation between A and B is Aggregation.\r\nIf B is not singletone (prototype) then every time A is creating a new instance of B created and injected into A and A manage B life cycle, so the relation between A and B in this scenario ll be Composition","title":"Spring DI : Aggregation or Composition","body":"<p>I think it's depend on B scope. If B is singletone then B manage itslef life cycle, so the relation between A and B is Aggregation.\nIf B is not singletone (prototype) then every time A is creating a new instance of B created and injected into A and A manage B life cycle, so the relation between A and B in this scenario ll be Composition</p>\n"},{"tags":[],"owner":{"account_id":12614574,"reputation":1355,"user_id":9172501,"display_name":"Javad Kargar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531904435,"creation_date":1531904435,"answer_id":51397786,"question_id":51395592,"body_markdown":"I think, in `Spring` `Autowire` means more `Aggregation` when classes service each other.\r\n\r\nFor example in `MVC` design pattern  in Service layer . you may have  two Service  class that service each other.like `Teacher` that teach student and `Student` learn from teacher.for implement sample like this you should have two classes like below:\r\n\r\n    Class Teacher(){\r\n         public void teach(Lesson lesson,Student student){\r\n          //...\r\n         }\r\n    }\r\n        \r\n    Class Student(){\r\n         @Autowire\r\n         private ITeacher iTeacher;\r\n        \r\n         public void learn(Lesson lesson){\r\n           iTeacher.teach(lesson,this);\r\n           //...\r\n         }\r\n    }\r\n\r\nAs you see `Student` depends to `interface` of `Teacher`. and `Spring` choose which implement of `Interface` choose for injection.From this point of view, beans not coupled together and you can remove and replace implementation by another.","title":"Spring DI : Aggregation or Composition","body":"<p>I think, in <code>Spring</code> <code>Autowire</code> means more <code>Aggregation</code> when classes service each other.</p>\n\n<p>For example in <code>MVC</code> design pattern  in Service layer . you may have  two Service  class that service each other.like <code>Teacher</code> that teach student and <code>Student</code> learn from teacher.for implement sample like this you should have two classes like below:</p>\n\n<pre><code>Class Teacher(){\n     public void teach(Lesson lesson,Student student){\n      //...\n     }\n}\n\nClass Student(){\n     @Autowire\n     private ITeacher iTeacher;\n\n     public void learn(Lesson lesson){\n       iTeacher.teach(lesson,this);\n       //...\n     }\n}\n</code></pre>\n\n<p>As you see <code>Student</code> depends to <code>interface</code> of <code>Teacher</code>. and <code>Spring</code> choose which implement of <code>Interface</code> choose for injection.From this point of view, beans not coupled together and you can remove and replace implementation by another.</p>\n"},{"tags":[],"owner":{"account_id":8906596,"reputation":401,"user_id":6648211,"display_name":"GUDDU KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696257074,"creation_date":1696256754,"answer_id":77216283,"question_id":51395592,"body_markdown":"To understand it first you should understand how spring bean is created and who maintains the lifecycle of spring bean(https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html), Spring bean instance is created by spring IOC container, and it&#39;s created when you start your application so there is loose coupling between your classes(because dependcy bean can exist without the second class exist)\r\n\r\n    Class A{\r\n      @Autowired  */ if B is bean class then it&#39;s created eagrly by spring IOC container, so object b is not created by class A.\r\n      B b;\r\n    }\r\n\r\n\r\nso I can say your interviwer is right in saying that spring is using Aggregation here not composition\r\n\r\nPS - just make sure class A and class B is bean class\r\n","title":"Spring DI : Aggregation or Composition","body":"<p>To understand it first you should understand how spring bean is created and who maintains the lifecycle of spring bean(<a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html</a>), Spring bean instance is created by spring IOC container, and it's created when you start your application so there is loose coupling between your classes(because dependcy bean can exist without the second class exist)</p>\n<pre><code>Class A{\n  @Autowired  */ if B is bean class then it's created eagrly by spring IOC container, so object b is not created by class A.\n  B b;\n}\n</code></pre>\n<p>so I can say your interviwer is right in saying that spring is using Aggregation here not composition</p>\n<p>PS - just make sure class A and class B is bean class</p>\n"}],"owner":{"account_id":8304881,"reputation":1165,"user_id":6242317,"accept_rate":100,"display_name":"Vicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1696257074,"creation_date":1531897546,"question_id":51395592,"body_markdown":"**Aggregation:** If two objects have there own life cycle and not tightly coupled with each other(can exists independently).\r\n\r\n    Class A {\r\n        B b;\r\n    } \r\nThe default value for `b` will be `null` and `A&#39;s` object can exists if there is no instance injected in A.\r\n\r\n**Composition:** if two objects are tightly coupled and one can not exists without second.\r\n\r\n    Class A{\r\n       B b;\r\n       A(B b){\r\n          this.b = b;\r\n        }\r\n    }\r\n **Spring DI:** In spring if we are using `@Autowired` annotation over a member then this member is required before instantiation of object.\r\n\r\n    Class A{\r\n      @Autowired  */ now this member is required before creating of object of A.\r\n      B b;\r\n    }\r\n**Query:** So from the above facts we can think `Spring DI` as a composition here .I am asking this question because in a interview I had a discussion over it and as per the interviewer `Spring` is using `Aggregation` here. \r\nCould any one please clarify if I am missing or not getting some thing here.","title":"Spring DI : Aggregation or Composition","body":"<p><strong>Aggregation:</strong> If two objects have there own life cycle and not tightly coupled with each other(can exists independently).</p>\n\n<pre><code>Class A {\n    B b;\n} \n</code></pre>\n\n<p>The default value for <code>b</code> will be <code>null</code> and <code>A's</code> object can exists if there is no instance injected in A.</p>\n\n<p><strong>Composition:</strong> if two objects are tightly coupled and one can not exists without second.</p>\n\n<pre><code>Class A{\n   B b;\n   A(B b){\n      this.b = b;\n    }\n}\n</code></pre>\n\n<p><strong>Spring DI:</strong> In spring if we are using <code>@Autowired</code> annotation over a member then this member is required before instantiation of object.</p>\n\n<pre><code>Class A{\n  @Autowired  */ now this member is required before creating of object of A.\n  B b;\n}\n</code></pre>\n\n<p><strong>Query:</strong> So from the above facts we can think <code>Spring DI</code> as a composition here .I am asking this question because in a interview I had a discussion over it and as per the interviewer <code>Spring</code> is using <code>Aggregation</code> here. \nCould any one please clarify if I am missing or not getting some thing here.</p>\n"},{"tags":["java","tomcat","struts2","netbeans-7"],"comments":[{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":1,"creation_date":1388227059,"post_id":20813496,"comment_id":31208055,"body_markdown":"Are you by any chance redirecting the user before some additional logic in your sevlet? `response.sendRedirect(SOMEWHERE);`","body":"Are you by any chance redirecting the user before some additional logic in your sevlet? <code>response.sendRedirect(SOMEWHERE);</code>"},{"owner":{"display_name":"user3117840"},"score":0,"creation_date":1388227419,"post_id":20813496,"comment_id":31208130,"body_markdown":"@PopoFibo I am doing web application in struts2 and I configured redirect attribute because My response will print the user list . Thanking you very much","body":"@PopoFibo I am doing web application in struts2 and I configured redirect attribute because My response will print the user list . Thanking you very much"},{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":0,"creation_date":1388228157,"post_id":20813496,"comment_id":31208332,"body_markdown":"Could you update your question with the piece of code which includes your redirect statement?","body":"Could you update your question with the piece of code which includes your redirect statement?"},{"owner":{"display_name":"user3117840"},"score":1,"creation_date":1388230270,"post_id":20813496,"comment_id":31208940,"body_markdown":"@PopoFibo sure update now see the updated code.","body":"@PopoFibo sure update now see the updated code."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1388328907,"post_id":20813496,"comment_id":31231934,"body_markdown":"You should check the Tomcat logs and post full stacktrace with the root cause.","body":"You should check the Tomcat logs and post full stacktrace with the root cause."},{"owner":{"account_id":3521038,"reputation":762,"user_id":2943307,"accept_rate":86,"display_name":"mik3fly-4steri5k"},"score":0,"creation_date":1524403903,"post_id":20813496,"comment_id":86948515,"body_markdown":"i meet this problem when configuring spring boot with security. In my AuthenticationEventHandler, i was using the method &quot;super.&quot; whereas i was sending a response after using it..","body":"i meet this problem when configuring spring boot with security. In my AuthenticationEventHandler, i was using the method &quot;super.&quot; whereas i was sending a response after using it.."},{"owner":{"account_id":7020430,"reputation":341,"user_id":5380038,"display_name":"Dipen Chawla"},"score":0,"creation_date":1527249147,"post_id":20813496,"comment_id":88068697,"body_markdown":"@JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\n   @JsonIdentityReference(alwaysAsId=true)","body":"@JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGener&zwnj;&#8203;ator.class, property=&quot;id&quot;)    @JsonIdentityReference(alwaysAsId=true)"}],"answers":[{"tags":[],"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1402694752,"creation_date":1402694752,"answer_id":24214003,"question_id":20813496,"body_markdown":"This error is a symptom of some other problem, not the root cause you&#39;re looking for.\r\n\r\nThis error explains why the user can&#39;t be redirected to the error page. (Reason: the server has already flushed part of the response buffer back to the client - it&#39;s too late to switch/redirect to the error page.)\r\n\r\nAs the error message points out, check elsewhere in your Apache Tomcat 7 logs (or debug your app another way) to find what is throwing an exception.\r\n","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>This error is a symptom of some other problem, not the root cause you're looking for.</p>\n\n<p>This error explains why the user can't be redirected to the error page. (Reason: the server has already flushed part of the response buffer back to the client - it's too late to switch/redirect to the error page.)</p>\n\n<p>As the error message points out, check elsewhere in your Apache Tomcat 7 logs (or debug your app another way) to find what is throwing an exception.</p>\n"},{"tags":[],"owner":{"account_id":1648854,"reputation":39,"user_id":1519819,"display_name":"Derry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433133475,"creation_date":1433133475,"answer_id":30565713,"question_id":20813496,"body_markdown":"if u use annotations like:@WebFilter,@WebServlet...,just add metadata-complete=&quot;true&quot; into web.xml\r\ne.g\r\n\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n             xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; \r\n             id=&quot;WebApp_ID&quot; metadata-complete=&quot;true&quot; version=&quot;3.0&quot;&gt;\r\n\r\nHope this is your need!","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>if u use annotations like:@WebFilter,@WebServlet...,just add metadata-complete=\"true\" into web.xml\ne.g</p>\n\n<pre><code>&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n         xmlns=\"http://java.sun.com/xml/ns/javaee\" \n         xmlns:web=\"http://java.sun.com/xml/ns/javaee\" \n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" \n         id=\"WebApp_ID\" metadata-complete=\"true\" version=\"3.0\"&gt;\n</code></pre>\n\n<p>Hope this is your need!</p>\n"},{"tags":[],"owner":{"account_id":9980190,"reputation":1,"user_id":7383398,"display_name":"young"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1483697437,"creation_date":1483697437,"answer_id":41503350,"question_id":20813496,"body_markdown":"I have overcome the exception,you may check your table structure.I execute the sql query produced by hibernate in mysql.\r\nAs excepted，an exception was thrown.\r\n\r\n    [Err] 1054 - Unknown column &#39;this_.ID&#39; in &#39;field list&#39;\r\n\r\nI found that a field ID is missing in the table.Add the ID into the table ,it&#39;s ok.\r\nHope it&#39;s helpful.","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I have overcome the exception,you may check your table structure.I execute the sql query produced by hibernate in mysql.\nAs excepted，an exception was thrown.</p>\n\n<pre><code>[Err] 1054 - Unknown column 'this_.ID' in 'field list'\n</code></pre>\n\n<p>I found that a field ID is missing in the table.Add the ID into the table ,it's ok.\nHope it's helpful.</p>\n"},{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1496207971,"creation_date":1496207971,"answer_id":44276269,"question_id":20813496,"body_markdown":"I solved this error by adding `@jsonIgnore` to all getters for a List of another object","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I solved this error by adding <code>@jsonIgnore</code> to all getters for a List of another object</p>\n"},{"tags":[],"owner":{"account_id":3286384,"reputation":3371,"user_id":2765792,"display_name":"Aman Goel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509430435,"creation_date":1509430435,"answer_id":47028958,"question_id":20813496,"body_markdown":"This is a common error and there can be various root cause can be identified. In my case I were opening pdf file from the web service and for this I were performing write operation in file using buffer. \r\n So kindly change below:\r\n\r\n            File outfile = File.createTempFile(&quot;temp&quot;, &quot;.pdf&quot;);\r\n\t\t\t\r\n\t\t\tOutputStream os=new FileOutputStream(outfile);\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\t \r\n    \t    int length;\r\n    \t    /*copying the contents from input stream to\r\n    \t     * output stream using read and write methods\r\n    \t     */\r\n    \t    while ((length = is.read(buffer)) &gt; 0){\r\n    \t    \tos.write(buffer, 0, length);\r\n    \t    }\r\n to\r\n\r\n            File outfile = File.createTempFile(&quot;temp&quot;, &quot;.pdf&quot;);\r\n\t\t\tIOUtils.copy(is, new FileOutputStream(outfile));\r\n\t\t\t\r\nand after this I were performing below operation:\r\n\r\n    \tjavax.ws.rs.core.Response.ResponseBuilder responseBuilder = javax.ws.rs.core.Response\r\n\t\t\t\t\t.ok(outfile, MediaType.APPLICATION_OCTET_STREAM);\r\n\t\t\t\t\tresponseBuilder.header(&quot;content-type&quot;,&quot;application/pdf&quot;);\r\n\t\t\t\r\n                 return responseBuilder.build();\r\n\r\nand error get resolved.\r\nCheers! \r\n\r\n ","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>This is a common error and there can be various root cause can be identified. In my case I were opening pdf file from the web service and for this I were performing write operation in file using buffer. \n So kindly change below:</p>\n\n<pre><code>        File outfile = File.createTempFile(\"temp\", \".pdf\");\n\n        OutputStream os=new FileOutputStream(outfile);\n        byte[] buffer = new byte[1024];\n\n        int length;\n        /*copying the contents from input stream to\n         * output stream using read and write methods\n         */\n        while ((length = is.read(buffer)) &gt; 0){\n            os.write(buffer, 0, length);\n        }\n</code></pre>\n\n<p>to</p>\n\n<pre><code>        File outfile = File.createTempFile(\"temp\", \".pdf\");\n        IOUtils.copy(is, new FileOutputStream(outfile));\n</code></pre>\n\n<p>and after this I were performing below operation:</p>\n\n<pre><code>    javax.ws.rs.core.Response.ResponseBuilder responseBuilder = javax.ws.rs.core.Response\n                .ok(outfile, MediaType.APPLICATION_OCTET_STREAM);\n                responseBuilder.header(\"content-type\",\"application/pdf\");\n\n             return responseBuilder.build();\n</code></pre>\n\n<p>and error get resolved.\nCheers! </p>\n"},{"tags":[],"owner":{"account_id":7020430,"reputation":341,"user_id":5380038,"display_name":"Dipen Chawla"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527249123,"creation_date":1527249123,"answer_id":50528595,"question_id":20813496,"body_markdown":"You can try this Annotation it will help as it fixed my issue.\r\n\r\nIt will definitely help if it will not be able to help you, then try to modify this as per your requirement.\r\n\r\n    @JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\r\n       @JsonIdentityReference(alwaysAsId=true)","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>You can try this Annotation it will help as it fixed my issue.</p>\n\n<p>It will definitely help if it will not be able to help you, then try to modify this as per your requirement.</p>\n\n<pre><code>@JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=\"id\")\n   @JsonIdentityReference(alwaysAsId=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13719602,"reputation":317,"user_id":9899890,"display_name":"FlexEast"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1543999097,"creation_date":1543999097,"answer_id":53628156,"question_id":20813496,"body_markdown":"For others in my situation--What was happening was that I had two @Entity objects with a many to many relationship causing infinite json to be generated, causing spring security to throw this error. Try adding @JsonIgnore above your hibernate relationships.","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>For others in my situation--What was happening was that I had two @Entity objects with a many to many relationship causing infinite json to be generated, causing spring security to throw this error. Try adding @JsonIgnore above your hibernate relationships.</p>\n"},{"tags":[],"owner":{"account_id":11434557,"reputation":970,"user_id":8382360,"display_name":"Asad"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1583715873,"creation_date":1549297421,"answer_id":54520283,"question_id":20813496,"body_markdown":"I was creating a @ManyToOne and @OneToMany relationship. I added ``` @JsonIgnore ``` above the @ManyToOne and it solved the error. ","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I was creating a @ManyToOne and @OneToMany relationship. I added <code>@JsonIgnore</code> above the @ManyToOne and it solved the error. </p>\n"},{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578786352,"creation_date":1578786352,"answer_id":59699712,"question_id":20813496,"body_markdown":"This is what caused it in my case.\r\n\r\nI have 2 filters that both have the capability to send an error through the `HttpServletResponse.sendError()` method. If Filter A discovered something wrong and called sendError on the HttpServletResponse object, then a second call in the same filter or in filter B will cause the `cannot call senderror` exception. This is because sendError does not cause the request itself to be aborted. The code in the filter continues to be executed after the sendError method had been called.","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>This is what caused it in my case.</p>\n\n<p>I have 2 filters that both have the capability to send an error through the <code>HttpServletResponse.sendError()</code> method. If Filter A discovered something wrong and called sendError on the HttpServletResponse object, then a second call in the same filter or in filter B will cause the <code>cannot call senderror</code> exception. This is because sendError does not cause the request itself to be aborted. The code in the filter continues to be executed after the sendError method had been called.</p>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1603704417,"creation_date":1603649659,"answer_id":64527138,"question_id":20813496,"body_markdown":"Note: there are 2 `@JsonIgnore` dependencies you can import. Make sure it&#39;s from Jackson library; that made the difference for me:\r\n\r\n    \r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n```\r\n","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>Note: there are 2 <code>@JsonIgnore</code> dependencies you can import. Make sure it's from Jackson library; that made the difference for me:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14589269,"reputation":233,"user_id":10537000,"display_name":"Nguyễn Dương"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1605177034,"creation_date":1605177034,"answer_id":64802199,"question_id":20813496,"body_markdown":"use @JsonIgnore above @ManyToOne","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>use @JsonIgnore above @ManyToOne</p>\n"},{"tags":[],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631039103,"creation_date":1626260827,"answer_id":68376918,"question_id":20813496,"body_markdown":"There are so many answers to use `@JsonIgnore` annotation. But I will not recommend it. If your parent class has a `many-to-one` relationship with a single entity then it is fine. But if your parent class has multiple many-to-one relationships then definitely it gives a headache to you. \r\n\r\nI will suggest going with a uni-directional approach and implement a separate `dto` class based on your requirement. ","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>There are so many answers to use <code>@JsonIgnore</code> annotation. But I will not recommend it. If your parent class has a <code>many-to-one</code> relationship with a single entity then it is fine. But if your parent class has multiple many-to-one relationships then definitely it gives a headache to you.</p>\n<p>I will suggest going with a uni-directional approach and implement a separate <code>dto</code> class based on your requirement.</p>\n"},{"tags":[],"owner":{"account_id":22716903,"reputation":29,"user_id":16882008,"display_name":"stephen"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1633992625,"creation_date":1633992625,"answer_id":69533258,"question_id":20813496,"body_markdown":"@JsonIgnore on the @ManyToOne mapping will resolve it.","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>@JsonIgnore on the @ManyToOne mapping will resolve it.</p>\n"},{"tags":[],"owner":{"account_id":2212801,"reputation":755,"user_id":1959140,"accept_rate":69,"display_name":"Gaurav Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637161357,"creation_date":1637161357,"answer_id":70006795,"question_id":20813496,"body_markdown":"I was using Jersey and I returned the following response\r\n\r\n    Response.status(HttpStatus.SC_MOVED_TEMPORARILY).header(&quot;Location&quot;, &quot;https://example.com?param1=foo bar&quot;).build()\r\n\r\nAfter URL encoding, the issue was solved\r\n\r\n    Response.status(HttpStatus.SC_MOVED_TEMPORARILY).header(&quot;Location&quot;, &quot;https://example.com?param1=foo%20bar&quot;).build()","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I was using Jersey and I returned the following response</p>\n<pre><code>Response.status(HttpStatus.SC_MOVED_TEMPORARILY).header(&quot;Location&quot;, &quot;https://example.com?param1=foo bar&quot;).build()\n</code></pre>\n<p>After URL encoding, the issue was solved</p>\n<pre><code>Response.status(HttpStatus.SC_MOVED_TEMPORARILY).header(&quot;Location&quot;, &quot;https://example.com?param1=foo%20bar&quot;).build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27698360,"reputation":9,"user_id":21143523,"display_name":"Xi Cao"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675466584,"creation_date":1675466584,"answer_id":75341931,"question_id":20813496,"body_markdown":"Adding @JsonIgnore solved the current error. However, it cause error when creating entry of entity with @ManyToOne annotation. \r\n\r\nUsing @JsonBackReference(value = &quot;**&quot;) (where ** is the property of the entity with @OneToMany annotation) can also solve this error while not causing other errors!\r\n\r\n(in my case, Im using User object with @ManyToOne annotation, but Im using the id of User as a column in sql table)","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>Adding @JsonIgnore solved the current error. However, it cause error when creating entry of entity with @ManyToOne annotation.</p>\n<p>Using @JsonBackReference(value = &quot;**&quot;) (where ** is the property of the entity with @OneToMany annotation) can also solve this error while not causing other errors!</p>\n<p>(in my case, Im using User object with @ManyToOne annotation, but Im using the id of User as a column in sql table)</p>\n"},{"tags":[],"owner":{"account_id":29581383,"reputation":11,"user_id":22671094,"display_name":"Marcio Santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696257032,"creation_date":1696256485,"answer_id":77216251,"question_id":20813496,"body_markdown":"I solved it using `@JsonBackReference` in the conflicting mapped entity","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I solved it using <code>@JsonBackReference</code> in the conflicting mapped entity</p>\n"}],"owner":{"display_name":"user3117840"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123855,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":16,"score":46,"last_activity_date":1696257032,"creation_date":1388226622,"question_id":20813496,"body_markdown":"While doing some operations in my application I got \r\n&gt; java.lang.IllegalStateException Cannot call sendError() \r\n\r\nWhen I reload the page again it work some time properly, but after some time again it shows the same exception. How can I overcome this exception? \r\n\r\nBelow is the exception:\r\n\r\n    HTTP Status 500 - Cannot call sendError() after the response has been committed\r\n    type Exception report\r\n    message Cannot call sendError() after the response has been committed\r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n    exception \r\n    java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\torg.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:451)\r\n\torg.apache.struts2.dispatcher.Dispatcher.sendError(Dispatcher.java:725)\r\n\torg.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:485)\r\n\torg.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/7.0.40 logs.\r\n\r\n\r\nStruts.xml\r\n\r\n    &lt;struts&gt;\r\n        &lt;package name=&quot;default&quot; extends=&quot;hibernate-default&quot;&gt;\r\n            &lt;action name=&quot;addUser&quot; method=&quot;add&quot; class=&quot;com.demo.action.UserAction&quot;&gt;\r\n                &lt;result name=&quot;input&quot;&gt;/register.jsp&lt;/result&gt;\r\n                &lt;result name=&quot;success&quot; type=&quot;redirect&quot;&gt;list&lt;/result&gt;\r\n            &lt;/action&gt;\r\n            &lt;action name=&quot;list&quot; method=&quot;list&quot; class=&quot;com.demo.action.UserAction&quot;&gt;\r\n                &lt;interceptor-ref name=&quot;basicStackHibernate&quot; /&gt;\r\n                &lt;result name=&quot;success&quot;&gt;/list.jsp&lt;/result&gt;\r\n            &lt;/action&gt;\r\n        &lt;/package&gt;\r\n    &lt;/struts&gt;\r\n","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>While doing some operations in my application I got </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException Cannot call sendError() </p>\n</blockquote>\n\n<p>When I reload the page again it work some time properly, but after some time again it shows the same exception. How can I overcome this exception? </p>\n\n<p>Below is the exception:</p>\n\n<pre><code>HTTP Status 500 - Cannot call sendError() after the response has been committed\ntype Exception report\nmessage Cannot call sendError() after the response has been committed\ndescription The server encountered an internal error that prevented it from fulfilling this request.\nexception \njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\norg.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:451)\norg.apache.struts2.dispatcher.Dispatcher.sendError(Dispatcher.java:725)\norg.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:485)\norg.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)\nnote The full stack trace of the root cause is available in the Apache Tomcat/7.0.40 logs.\n</code></pre>\n\n<p>Struts.xml</p>\n\n<pre><code>&lt;struts&gt;\n    &lt;package name=\"default\" extends=\"hibernate-default\"&gt;\n        &lt;action name=\"addUser\" method=\"add\" class=\"com.demo.action.UserAction\"&gt;\n            &lt;result name=\"input\"&gt;/register.jsp&lt;/result&gt;\n            &lt;result name=\"success\" type=\"redirect\"&gt;list&lt;/result&gt;\n        &lt;/action&gt;\n        &lt;action name=\"list\" method=\"list\" class=\"com.demo.action.UserAction\"&gt;\n            &lt;interceptor-ref name=\"basicStackHibernate\" /&gt;\n            &lt;result name=\"success\"&gt;/list.jsp&lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","bean-validation","hibernate-validator","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":10729600,"reputation":99,"user_id":7896120,"display_name":"Sergio Garrido Dom&#237;nguez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602054022,"creation_date":1602053664,"answer_id":64238759,"question_id":64238648,"body_markdown":"To Strings, I usually use @NotBlank for not empty strings, but im not sure at 100% that it doesnt allow null entries, but, in this case, use @NotNull annotation.\r\n\r\nEdit: I was looking for an example and I got this from an old project:\r\n```java\r\n@NotNull\r\n@NotBlank\r\n@Pattern(regexp = &quot;somePattern&quot;)\r\npublic String getEmail() {\r\n\treturn this.email;\r\n}\r\n\r\n```\r\n\r\nAs you can see, I use NotNull and NotBlank even though I have a pattern there.","title":"JSR Validation @Pattern allowing null values","body":"<p>To Strings, I usually use @NotBlank for not empty strings, but im not sure at 100% that it doesnt allow null entries, but, in this case, use @NotNull annotation.</p>\n<p>Edit: I was looking for an example and I got this from an old project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NotNull\n@NotBlank\n@Pattern(regexp = &quot;somePattern&quot;)\npublic String getEmail() {\n    return this.email;\n}\n\n</code></pre>\n<p>As you can see, I use NotNull and NotBlank even though I have a pattern there.</p>\n"},{"tags":[],"owner":{"account_id":4545425,"reputation":1704,"user_id":3742750,"accept_rate":59,"display_name":"KMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696256705,"creation_date":1696256705,"answer_id":77216278,"question_id":64238648,"body_markdown":"I know it&#39;s 3 year old question, but for the sake of those who stumble onto this question like myself, the only option I can think of is, to use @NotNull in conjunction with @Pattern. Use the pattern to handle the empty string.","title":"JSR Validation @Pattern allowing null values","body":"<p>I know it's 3 year old question, but for the sake of those who stumble onto this question like myself, the only option I can think of is, to use @NotNull in conjunction with @Pattern. Use the pattern to handle the empty string.</p>\n"}],"owner":{"account_id":13266298,"reputation":1211,"user_id":9578985,"display_name":"Jerald Baker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1710,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696256705,"creation_date":1602053282,"question_id":64238648,"body_markdown":"When I annotate a field with  @Pattern\r\n\r\n    @Pattern(regexp=&quot;someRegexp&quot;)\r\n    public String name;\r\n\r\nIf the JSON contains this field, with value as **null**, then I expect this regex to fail and thus invalid.\r\n\r\nif the JSON does NOT contain this field, then it is fine for the validation to pass.\r\n\r\nHow to achieve this?","title":"JSR Validation @Pattern allowing null values","body":"<p>When I annotate a field with  @Pattern</p>\n<pre><code>@Pattern(regexp=&quot;someRegexp&quot;)\npublic String name;\n</code></pre>\n<p>If the JSON contains this field, with value as <strong>null</strong>, then I expect this regex to fail and thus invalid.</p>\n<p>if the JSON does NOT contain this field, then it is fine for the validation to pass.</p>\n<p>How to achieve this?</p>\n"},{"tags":["java","jms","messaging","receiver","subscriber"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1574955867,"creation_date":1574955867,"answer_id":59092330,"question_id":59089777,"body_markdown":"What you&#39;re observing is the expected behavior. Since you&#39;re sending your message to a JMS *topic* you will be subject to publish/subscribe semantics. Publish/subscribe semantics dictate that messages are only placed in valid subscriptions. When your subscriber is offline it has no valid subscription on the broker to receive the messages therefore it will miss the messages sent to it when it is offline. \r\n\r\nYou can use a *durable* subscriber to receive messages when the subscriber is offline or you can use a traditional JMS *queue*.","title":"JMS message lost when receiver is not available","body":"<p>What you're observing is the expected behavior. Since you're sending your message to a JMS <em>topic</em> you will be subject to publish/subscribe semantics. Publish/subscribe semantics dictate that messages are only placed in valid subscriptions. When your subscriber is offline it has no valid subscription on the broker to receive the messages therefore it will miss the messages sent to it when it is offline. </p>\n\n<p>You can use a <em>durable</em> subscriber to receive messages when the subscriber is offline or you can use a traditional JMS <em>queue</em>.</p>\n"}],"owner":{"account_id":1967358,"reputation":378,"user_id":1767234,"accept_rate":71,"display_name":"abo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59092330,"answer_count":1,"score":1,"last_activity_date":1696256677,"creation_date":1574947027,"question_id":59089777,"body_markdown":"I am using JMS for message passing. And when both sender and receiver available I successfully received the message. But when I down the receiver and start again queued messages are not received to receiver again. Is there any configuration I need to do?\r\nI have increase the time to live as below to avoid expiring the session.\r\n\r\nThis is how my sender code looks like.\r\n```java\r\nSession session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\r\nDestination destination = session.createTopic(topic);\r\nMessageProducer producer = session.createProducer(destination);\r\nproducer.setTimeToLive(18000000L);\r\nTextMessage message = session.createTextMessage(customMessage.getContent());\r\nproducer.send(message);\r\n```","title":"JMS message lost when receiver is not available","body":"<p>I am using JMS for message passing. And when both sender and receiver available I successfully received the message. But when I down the receiver and start again queued messages are not received to receiver again. Is there any configuration I need to do?\nI have increase the time to live as below to avoid expiring the session.</p>\n<p>This is how my sender code looks like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Session session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\nDestination destination = session.createTopic(topic);\nMessageProducer producer = session.createProducer(destination);\nproducer.setTimeToLive(18000000L);\nTextMessage message = session.createTextMessage(customMessage.getContent());\nproducer.send(message);\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1696346370,"post_id":77216271,"comment_id":136139445,"body_markdown":"How are you joining exactly? We would need more details on what you are doing and the entities involved - and it is better to keep your question to a specific problem to avoid opinion based questions/answers which, as you said, are situational anyway.","body":"How are you joining exactly? We would need more details on what you are doing and the entities involved - and it is better to keep your question to a specific problem to avoid opinion based questions/answers which, as you said, are situational anyway."},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1696357233,"post_id":77216271,"comment_id":136141592,"body_markdown":"@Chris yes you are right, actually did not find anything related on the internet. \nSo, no explicit relation means there&#39;s no joins and foreign key defined. Its just there&#39;s a column in a table that has same values with the IDs of another, that&#39;s how we fetch any data by applying join where Customer.id = Order.customer_id\nAnd if I have a listing page that contains data from both tables, how can I achieve that using Specifications? Hope its a bit clear now!","body":"@Chris yes you are right, actually did not find anything related on the internet.  So, no explicit relation means there&#39;s no joins and foreign key defined. Its just there&#39;s a column in a table that has same values with the IDs of another, that&#39;s how we fetch any data by applying join where Customer.id = Order.customer_id And if I have a listing page that contains data from both tables, how can I achieve that using Specifications? Hope its a bit clear now!"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1696366598,"post_id":77216271,"comment_id":136143209,"body_markdown":"I usually create a relation in the entity to make querying easier, and make it lazy so it isn&#39;t required in reads. JPQL is easier though, as you can use &quot;select a from EntityA a join EntityB b on b.id = a.bId where ..&quot;. Specifications and criteria API don&#39;t allow the join ON without relationships, so you&#39;d have to set it up in the where clause entirely, similar to &quot;select a from EntityA a, EntityB b where b.id = a.bId AND ..&quot; using Root&lt;EntityB&gt; entityB = cq.from(EntityB.class);","body":"I usually create a relation in the entity to make querying easier, and make it lazy so it isn&#39;t required in reads. JPQL is easier though, as you can use &quot;select a from EntityA a join EntityB b on b.id = a.bId where ..&quot;. Specifications and criteria API don&#39;t allow the join ON without relationships, so you&#39;d have to set it up in the where clause entirely, similar to &quot;select a from EntityA a, EntityB b where b.id = a.bId AND ..&quot; using Root&lt;EntityB&gt; entityB = cq.from(EntityB.class);"}],"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696256644,"creation_date":1696256644,"question_id":77216271,"body_markdown":"So, I have this JPL query that fetches a list of users based on filters and search key. Instead of this big query, I want to implement custom Specifications for dynamic filtering. \r\n**My first question** is (though it might be unrelated) how to identify the good practice for filtration queries. It is mentioned that it differs from use-case to use-case, but is there any common hunch that we should opt for a specific solution?\r\nMy query has join on two tables, all the blogs or articles I have explored so far contain examples of joins in specifications where entities have explicit relations defined. But in my scenario, there is no explicit relation defined for the foreign key. Upon joining, I am getting the issue that ``` lang.IllegalArgumentException: Unable to locate Attribute  with the given name [&quot;fk_id&quot;] on this ManagedType ```\r\n**Second question** is how do I create custom specifications for the queries where there&#39;s no explicit relation between tables?\r\n\r\n\r\nNot a very good springboot developer so apologies for bad questions/concepts\r\n","title":"Converting JPQL not having explicit joins to Specifications","body":"<p>So, I have this JPL query that fetches a list of users based on filters and search key. Instead of this big query, I want to implement custom Specifications for dynamic filtering.\n<strong>My first question</strong> is (though it might be unrelated) how to identify the good practice for filtration queries. It is mentioned that it differs from use-case to use-case, but is there any common hunch that we should opt for a specific solution?\nMy query has join on two tables, all the blogs or articles I have explored so far contain examples of joins in specifications where entities have explicit relations defined. But in my scenario, there is no explicit relation defined for the foreign key. Upon joining, I am getting the issue that <code>lang.IllegalArgumentException: Unable to locate Attribute  with the given name [&quot;fk_id&quot;] on this ManagedType</code>\n<strong>Second question</strong> is how do I create custom specifications for the queries where there's no explicit relation between tables?</p>\n<p>Not a very good springboot developer so apologies for bad questions/concepts</p>\n"},{"tags":["java","jquery","ajax","jsp","struts2"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619669968,"creation_date":1388495747,"answer_id":20857989,"question_id":20852921,"body_markdown":"If you use only JSON response then you should set the *status* code of your action result. \r\n\r\nIf you return a `json` type result then you can use\r\n\r\n &lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;result name=&quot;error&quot; type=&quot;json&quot;&gt;\r\n        &lt;param name=&quot;statusCode&quot;&gt;400&lt;/param&gt;\r\n    &lt;/result&gt; \r\n\r\nIt will reach `error()` Ajax function.\r\n\r\nIf you use different response you could set the status code to the response object \r\n\r\n    response.setStatus(400);\r\n\r\nand on `error()` you can use `jqXHR` parameter to check for `jqXHR.status`.    ","title":"Differentiate between success data and error message to use in Struts 2?","body":"<p>If you use only JSON response then you should set the <em>status</em> code of your action result.</p>\n<p>If you return a <code>json</code> type result then you can use</p>\n <pre class=\"lang-xml prettyprint-override\"><code>&lt;result name=&quot;error&quot; type=&quot;json&quot;&gt;\n    &lt;param name=&quot;statusCode&quot;&gt;400&lt;/param&gt;\n&lt;/result&gt; \n</code></pre>\n<p>It will reach <code>error()</code> Ajax function.</p>\n<p>If you use different response you could set the status code to the response object</p>\n<pre><code>response.setStatus(400);\n</code></pre>\n<p>and on <code>error()</code> you can use <code>jqXHR</code> parameter to check for <code>jqXHR.status</code>.</p>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696256578,"creation_date":1388471411,"question_id":20852921,"body_markdown":"I am doing an AJAX call and using Struts 2 JSON plugin. \r\n\r\nWhen the code reaches `success()` of AJAX call, I don&#39;t know how to differentiate whether I should load the *success* data or *load message* or *errors*, which I want to display it to the user if something unusual happened during the AJAX call.\r\n\r\nAs code always reaches `success()` until the AJAX request itself fails.\r\n\r\nHow can I achieve this?\r\n\r\n**EDIT**: I came up with one idea which was to send a String too with response to Ajax and check string value (i.e) if string is set to success load the other JSON parameter returned, if error I load `error.jsp` ","title":"Differentiate between success data and error message to use in Struts 2?","body":"<p>I am doing an AJAX call and using Struts 2 JSON plugin.</p>\n<p>When the code reaches <code>success()</code> of AJAX call, I don't know how to differentiate whether I should load the <em>success</em> data or <em>load message</em> or <em>errors</em>, which I want to display it to the user if something unusual happened during the AJAX call.</p>\n<p>As code always reaches <code>success()</code> until the AJAX request itself fails.</p>\n<p>How can I achieve this?</p>\n<p><strong>EDIT</strong>: I came up with one idea which was to send a String too with response to Ajax and check string value (i.e) if string is set to success load the other JSON parameter returned, if error I load <code>error.jsp</code></p>\n"},{"tags":["java","jquery","jsp","struts2","struts2-jquery"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1372813935,"post_id":17437384,"comment_id":25331786,"body_markdown":"Define &quot;not working good&quot;. What&#39;s in your JS console? What&#39;s in the DEBUG-level devMode=true server logs? What if you just use the form&#39;s action instead of setting href?","body":"Define &quot;not working good&quot;. What&#39;s in your JS console? What&#39;s in the DEBUG-level devMode=true server logs? What if you just use the form&#39;s action instead of setting href?"},{"owner":{"account_id":2846129,"reputation":633,"user_id":2444474,"accept_rate":67,"display_name":"user2444474"},"score":0,"creation_date":1372828442,"post_id":17437384,"comment_id":25334876,"body_markdown":"&lt;sj:submit /&gt; page is refereshing  , but it should ot happen , because its ajax supported.I need to submit the page with out page refresh .","body":"&lt;sj:submit /&gt; page is refereshing  , but it should ot happen , because its ajax supported.I need to submit the page with out page refresh ."}],"answers":[{"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1372842465,"creation_date":1372842465,"answer_id":17443945,"question_id":17437384,"body_markdown":"In order `&lt;sj:submit&gt;` to work properly `targets` attribute must be set to some value and form must have `id` attribute.\r\n\r\n    &lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot;&gt;     \r\n      &lt;sj:submit targets=&quot;results&quot;/&gt;\r\n    &lt;/s:form&gt;","title":"Struts2 jQuery plugin - submit button","body":"<p>In order <code>&lt;sj:submit&gt;</code> to work properly <code>targets</code> attribute must be set to some value and form must have <code>id</code> attribute.</p>\n\n<pre><code>&lt;s:form action=\"product!list\" id=\"searchForm\"&gt;     \n  &lt;sj:submit targets=\"results\"/&gt;\n&lt;/s:form&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696256437,"creation_date":1372845762,"answer_id":17445065,"question_id":17437384,"body_markdown":"You should include `&lt;sj:head/&gt;` tag in the body of the `&lt;head&gt;`. This tag links JQuery and `stylesheet` on the page and other initial things, without it Ajax call has not made and as a result page refreshes. See examples of submitting tag [`&lt;sj:submit&gt;`][1]:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n&gt;     &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n&gt;     &lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n&gt;     &lt;html&gt;\r\n&gt;       &lt;head&gt;\r\n&gt;         &lt;sj:head/&gt;\r\n&gt;       &lt;/head&gt;\r\n&gt;       &lt;body&gt;\r\n&gt;         &lt;s:form id=&quot;form&quot; action=&quot;AjaxTest&quot;&gt;\r\n&gt;           &lt;input type=&quot;textbox&quot; name=&quot;data&quot;&gt;\r\n&gt;           &lt;sj:submit value=&quot;Submit Form&quot; /&gt;\r\n&gt;         &lt;/s:form&gt;\r\n&gt;       &lt;/body&gt;\r\n&gt;     &lt;/html&gt;\r\n\r\n  [1]: https://github.com/struts-community-plugins/struts2-jquery/wiki/SubmitTag\r\n","title":"Struts2 jQuery plugin - submit button","body":"<p>You should include <code>&lt;sj:head/&gt;</code> tag in the body of the <code>&lt;head&gt;</code>. This tag links JQuery and <code>stylesheet</code> on the page and other initial things, without it Ajax call has not made and as a result page refreshes. See examples of submitting tag <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/SubmitTag\" rel=\"nofollow noreferrer\"><code>&lt;sj:submit&gt;</code></a>:</p>\n\n<blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;sj:head/&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;s:form id=&quot;form&quot; action=&quot;AjaxTest&quot;&gt;\n      &lt;input type=&quot;textbox&quot; name=&quot;data&quot;&gt;\n      &lt;sj:submit value=&quot;Submit Form&quot; /&gt;\n    &lt;/s:form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":2846129,"reputation":633,"user_id":2444474,"accept_rate":67,"display_name":"user2444474"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2268,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":17443945,"answer_count":2,"score":0,"last_activity_date":1696256437,"creation_date":1372807461,"question_id":17437384,"body_markdown":"I have Struts 2 jQuery plugin submit button, when click the button its not firing the action class as Struts submit button. I need to keep the same page after click the button.Please look into below code difference.\r\n\r\n**Struts submit button - Working good:**\r\n\r\n&lt;!-- language-all: lang-jsp --&gt;\r\n\r\n    &lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot; theme=&quot;simple&quot; method=&quot;Post&quot;&gt;\r\n         &lt;s:submit action=&quot;product&quot; method=&quot;list&quot; value=&quot;Find&quot; /&gt;\r\n    &lt;/s:form&gt;\r\n\r\n**Converting Struts submit to Struts-jQuery submit submit button - Not Working good:**\r\n\r\n    &lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot; theme=&quot;simple&quot; method=&quot;Post&quot; &gt;     \r\n         &lt;sj:submit /&gt;\r\n    &lt;/s:form&gt;\r\n\r\nif using only form action `&lt;sj:submit/&gt;` , the page the refreshing and working as Struts tag, but it should not be.","title":"Struts2 jQuery plugin - submit button","body":"<p>I have Struts 2 jQuery plugin submit button, when click the button its not firing the action class as Struts submit button. I need to keep the same page after click the button.Please look into below code difference.</p>\n<p><strong>Struts submit button - Working good:</strong></p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot; theme=&quot;simple&quot; method=&quot;Post&quot;&gt;\n     &lt;s:submit action=&quot;product&quot; method=&quot;list&quot; value=&quot;Find&quot; /&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>Converting Struts submit to Struts-jQuery submit submit button - Not Working good:</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot; theme=&quot;simple&quot; method=&quot;Post&quot; &gt;     \n     &lt;sj:submit /&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p>if using only form action <code>&lt;sj:submit/&gt;</code> , the page the refreshing and working as Struts tag, but it should not be.</p>\n"},{"tags":["java","spring-boot","jms","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1573486906,"creation_date":1573486906,"answer_id":58804451,"question_id":58795931,"body_markdown":"There is no &quot;batch&quot; mode for JMS. A JMS consumer can only receive one message at a time. Typically the best way boost message throughput to deal with lots of messages is by increasing the number of consumers. This should be fairly simple to do with a Spring `JmsListener` using the [`concurrency`][1] setting.\r\n\r\nYou can, of course, use something like `cron` to schedule a job to deal with these messages or you use something like the [Quartz Job Scheduler][2] instead.\r\n\r\nIt&#39;s really impossible to give you the &quot;best&quot; way to deal with your situation on Stack Overflow. There are simply too many unknown variables.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jms/annotation/JmsListener.html#concurrency--\r\n  [2]: http://www.quartz-scheduler.org/","title":"How do I read from a redelivery queue in a batch way?","body":"<p>There is no \"batch\" mode for JMS. A JMS consumer can only receive one message at a time. Typically the best way boost message throughput to deal with lots of messages is by increasing the number of consumers. This should be fairly simple to do with a Spring <code>JmsListener</code> using the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jms/annotation/JmsListener.html#concurrency--\" rel=\"nofollow noreferrer\"><code>concurrency</code></a> setting.</p>\n\n<p>You can, of course, use something like <code>cron</code> to schedule a job to deal with these messages or you use something like the <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz Job Scheduler</a> instead.</p>\n\n<p>It's really impossible to give you the \"best\" way to deal with your situation on Stack Overflow. There are simply too many unknown variables.</p>\n"}],"owner":{"account_id":6375303,"reputation":179,"user_id":7072438,"display_name":"Arsalan Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58804451,"answer_count":1,"score":0,"last_activity_date":1696256285,"creation_date":1573449818,"question_id":58795931,"body_markdown":"I am using ActiveMQ classic as a queue manager. My message consumer (@JmsListener using Spring) writes to MongoDB. If MongoDB is unavailable, then it sends the message to a different queue, lets call it a redelivery queue.\r\n\r\nSo, imagine after mongoDB been down for many hours, its finally up. What is the best way to now read the message from this redelivery queue? \r\n\r\nI am thinking if there is a possibility to do this by creating a batch job that runs once a day? If so, what are the options that can be used to create a job like that or if there are any other better options available.\r\n","title":"How do I read from a redelivery queue in a batch way?","body":"<p>I am using ActiveMQ classic as a queue manager. My message consumer (@JmsListener using Spring) writes to MongoDB. If MongoDB is unavailable, then it sends the message to a different queue, lets call it a redelivery queue.</p>\n\n<p>So, imagine after mongoDB been down for many hours, its finally up. What is the best way to now read the message from this redelivery queue? </p>\n\n<p>I am thinking if there is a possibility to do this by creating a batch job that runs once a day? If so, what are the options that can be used to create a job like that or if there are any other better options available.</p>\n"},{"tags":["java","spring","spring-boot","spring-jms"],"comments":[{"owner":{"account_id":8685059,"reputation":1412,"user_id":6499760,"display_name":"Alexey  Usharovski"},"score":0,"creation_date":1573230144,"post_id":58770139,"comment_id":103826470,"body_markdown":"I don&#39;t think annotation `@Scheduled` and `@JmsListener` are compatible. Why do you need such behaviour?","body":"I don&#39;t think annotation <code>@Scheduled</code> and <code>@JmsListener</code> are compatible. Why do you need such behaviour?"},{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1573553574,"post_id":58770139,"comment_id":103910649,"body_markdown":"You should ask yourself : &quot;Why using a listener if you don&#39;t whant to listen ?&quot; And may be think about an other solutuion, like listening 100% of time, stackibng the massage into your application, AND processing the message at the moment you whant to do it.","body":"You should ask yourself : &quot;Why using a listener if you don&#39;t whant to listen ?&quot; And may be think about an other solutuion, like listening 100% of time, stackibng the massage into your application, AND processing the message at the moment you whant to do it."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573230905,"creation_date":1573230905,"answer_id":58770532,"question_id":58770139,"body_markdown":"You can&#39;t use `@Scheduled` there.\r\n\r\nUse the `JmsListenerEndpointRegistry` bean to start and stop the listener when needed.\r\n\r\n    @JmsListener(id = &quot;foo&quot; ...)\r\n    \r\n\r\n    registry.getListenerContainer(&quot;foo&quot;).start();\r\n    ...\r\n    registry.getListenerContainer(&quot;foo&quot;).stop();\r\n    ","title":"Scheduling JMS listener in SpringBoot","body":"<p>You can't use <code>@Scheduled</code> there.</p>\n\n<p>Use the <code>JmsListenerEndpointRegistry</code> bean to start and stop the listener when needed.</p>\n\n<pre><code>@JmsListener(id = \"foo\" ...)\n\n\nregistry.getListenerContainer(\"foo\").start();\n...\nregistry.getListenerContainer(\"foo\").stop();\n</code></pre>\n"}],"owner":{"account_id":4768458,"reputation":95,"user_id":9397941,"display_name":"apandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696256107,"creation_date":1573229434,"question_id":58770139,"body_markdown":"I have a method in a Spring Boot application that listens to a queue in ActiveMQ. I want to schedule the method so that it does not start listening to the queue on application startup and runs every X minutes. \r\n\r\nHere is the method that I wrote to accomplish the task. I have disabled the `JMSListener` auto startup so that it does not start listening on when the application is started. \r\n\r\n```java\r\n@Scheduled(fixedDelay = 1000, initialDelay = 1000)\r\n@JmsListener(destination = &quot;queueName&quot;)\r\npublic void receiveMessage(final Message jsonMessage) throws JMSException {\r\n   System.out.println(&quot;Received message &quot; + jsonMessage);\r\n\r\n}\r\n\r\n@Bean\r\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n   DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n   factory.setConnectionFactory(connectionFactory());\r\n   factory.setConcurrency(&quot;1-1&quot;);\r\n   factory.setAutoStartup(false);\r\n   return factory;\r\n}\r\n```\r\n\r\nBut when I run the application I get an exception which says that the scheduled method cannot have arguments:\r\n\r\n    Encountered invalid @Scheduled method &#39;receiveMessage&#39;: Only no-arg methods may be annotated with @Scheduled\r\n\r\nIs there a way I can schedule the `JMSListener` so that it starts after a delay on the application startup and is scheduled to run every X minutes and read messages from the queue?","title":"Scheduling JMS listener in SpringBoot","body":"<p>I have a method in a Spring Boot application that listens to a queue in ActiveMQ. I want to schedule the method so that it does not start listening to the queue on application startup and runs every X minutes. </p>\n\n<p>Here is the method that I wrote to accomplish the task. I have disabled the <code>JMSListener</code> auto startup so that it does not start listening on when the application is started. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedDelay = 1000, initialDelay = 1000)\n@JmsListener(destination = \"queueName\")\npublic void receiveMessage(final Message jsonMessage) throws JMSException {\n   System.out.println(\"Received message \" + jsonMessage);\n\n}\n\n@Bean\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n   DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n   factory.setConnectionFactory(connectionFactory());\n   factory.setConcurrency(\"1-1\");\n   factory.setAutoStartup(false);\n   return factory;\n}\n</code></pre>\n\n<p>But when I run the application I get an exception which says that the scheduled method cannot have arguments:</p>\n\n<pre><code>Encountered invalid @Scheduled method 'receiveMessage': Only no-arg methods may be annotated with @Scheduled\n</code></pre>\n\n<p>Is there a way I can schedule the <code>JMSListener</code> so that it starts after a delay on the application startup and is scheduled to run every X minutes and read messages from the queue?</p>\n"},{"tags":["javascript","java","jquery","jsp","struts2"],"comments":[{"owner":{"account_id":134302,"reputation":1272,"user_id":336336,"accept_rate":86,"display_name":"NeDark"},"score":0,"creation_date":1402732965,"post_id":24217813,"comment_id":37396240,"body_markdown":"What does `expenseList` contain?","body":"What does <code>expenseList</code> contain?"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1402733215,"post_id":24217813,"comment_id":37396300,"body_markdown":"expenseList is arrayList. That will store many instances of Expense object","body":"expenseList is arrayList. That will store many instances of Expense object"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615528272,"creation_date":1402733604,"answer_id":24217969,"question_id":24217813,"body_markdown":"You can&#39;t use Struts tags that generate HTML in the javascript variable as string, because the generated code should *escape* quotes. \r\n\r\njavascript string requires *quotes* around the content and every quote inside the content should be escaped, so it doesn&#39;t end a string content. \r\n\r\nYou can also try with single or double quotes to delimit a string value, but without properly escaping it will fail before it&#39;s rendered. \r\n\r\nInstead of generating HTML from the Struts tags in javascript variable use Ajax to load HTML returned as Ajax response.    ","title":"How to to use Struts 2 tags in jQuery as String","body":"<p>You can't use Struts tags that generate HTML in the javascript variable as string, because the generated code should <em>escape</em> quotes.</p>\n<p>javascript string requires <em>quotes</em> around the content and every quote inside the content should be escaped, so it doesn't end a string content.</p>\n<p>You can also try with single or double quotes to delimit a string value, but without properly escaping it will fail before it's rendered.</p>\n<p>Instead of generating HTML from the Struts tags in javascript variable use Ajax to load HTML returned as Ajax response.</p>\n"},{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402907719,"creation_date":1402907719,"answer_id":24239523,"question_id":24217813,"body_markdown":"Since you are using javascript only to append HTML (and not to manipulate it nor the DOM), consider returning a JSP snippet instead.\r\n\r\nYou can find the the [complete example here][1].\r\n\r\nAlso remember to map `keypress` too, or users using keyboard won&#39;t fire the event.\r\n\r\nIt would be something like:\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        $(document).ready(function() {\r\n            $(&quot;#add&quot;).on(&#39;keypress click&#39;, function(event) {\r\n                $.ajax({\r\n                    url: &quot;&lt;s:url action=&#39;loadNewRowTemplateWithAjaxAction&#39;/&gt;&quot;,\r\n                }).done(function(result) {\r\n                    $(&quot;.row&quot;).append(result);\r\n                });\r\n            });\r\n        });\r\n    &lt;/script&gt;\r\n\r\nThis let you keep a clean JSP and perform operations server-side, like checking if it&#39;s possible to add a new row, or updating a row counter in session, and so on...\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24181930/1654265\r\n","title":"How to to use Struts 2 tags in jQuery as String","body":"<p>Since you are using javascript only to append HTML (and not to manipulate it nor the DOM), consider returning a JSP snippet instead.</p>\n\n<p>You can find the the <a href=\"https://stackoverflow.com/a/24181930/1654265\">complete example here</a>.</p>\n\n<p>Also remember to map <code>keypress</code> too, or users using keyboard won't fire the event.</p>\n\n<p>It would be something like:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n        $(\"#add\").on('keypress click', function(event) {\n            $.ajax({\n                url: \"&lt;s:url action='loadNewRowTemplateWithAjaxAction'/&gt;\",\n            }).done(function(result) {\n                $(\".row\").append(result);\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>This let you keep a clean JSP and perform operations server-side, like checking if it's possible to add a new row, or updating a row counter in session, and so on...</p>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696256016,"creation_date":1402732291,"question_id":24217813,"body_markdown":"I&#39;m not able to use Struts 2 tags in jQuery as `String`.\r\n\r\n**This is my `div`:**\r\n\r\n  \r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\r\n                &lt;label&gt;Expensed Type&lt;/label&gt;\r\n                &lt;s:select name=&quot;expenseList[0].param&quot; \r\n                          list=&quot;&#39;advertisement&#39;,&#39;food&#39;&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\r\n                &lt;label&gt;Amount&lt;/label&gt;\r\n                &lt;s:textfield name=&quot;expenseList[0].value&quot; value=&quot;%{expenseList[0].value}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\r\n                &lt;label&gt;Date&lt;/label&gt;\r\n                &lt;s:textfield name=&quot;expenseList[0].dt&quot; value=&quot;%{expenseList[0].dt}&quot;/&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;div class=&quot;col-xs-4 right&quot;&gt;\r\n        &lt;span class=&quot;glyphicon-plus&quot;&gt;&lt;/span&gt;\r\n     &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Save&lt;/button&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\nI would like to use above as `String` in JavaScript, so that whenever a user clicks on `add` button It must generate a new row. I am adding above to a jQuery click event\r\n\r\n**As below:**\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n            $(document).ready(function() {\r\n                $(document).on(&#39;click&#39;, &#39;#add&#39;, function(event) {\r\n                    event.preventDefault();\r\n                    $(&quot;.row&quot;).append(&quot;&lt; /div  &lt;div class=\\&quot;row\\&quot;&gt;&quot;\r\n                        + &quot;&lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\r\n                        + &quot;&lt;label&gt; Expensed Type &lt;/label&gt;&quot;\r\n                        + &quot;&lt;s:select name=\\&quot;expenseList[1].param\\&quot; list=\\&quot;&#39;advertisement&#39;,&#39;food&#39;\\&quot;/&gt;&quot;\r\n                        + &quot;&lt;/div&gt;&quot;\r\n                        + &quot;&lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\r\n                        + &quot;&lt;label&gt; Amount &lt;/label&gt;&quot;\r\n                        + &quot;&lt;s:textfield name=\\&quot;expenseList[1].value\\&quot; value=\\&quot;%{expenseList[1].value}\\&quot;/&gt;&quot;\r\n                        + &quot;&lt;/div&gt;&quot;\r\n                        + &quot;  &lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\r\n                        + &quot;&lt;label&gt; Date &lt;/label&gt;&quot;\r\n                        + &quot;&lt;s:textfield name=\\&quot;expenseList[1].dt\\&quot; value=\\&quot;%{expenseList[1].dt}\\&quot;/&gt;\\&quot;/&gt; &quot;\r\n                        + &quot;&lt;/div&gt;&quot;\r\n                        + &quot;&lt;/div&gt;&quot;\r\n                        );\r\n            });\r\n        });\r\n        &lt;/script&gt;\r\n\r\n**It is showing following exception:**\r\n\r\n    org.apache.jasper.JasperException: /pages/expense/AddExpense.jsp (line: 88, column: 43) quote symbol expected\r\n    \torg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:42)\r\n    \torg.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:443)\r\n    \torg.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:89)\r\n    \torg.apache.jasper.compiler.Parser.parseAttribute(Parser.java:222)\r\n    \torg.apache.jasper.compiler.Parser.parseAttributes(Parser.java:162)\r\n    \torg.apache.jasper.compiler.Parser.parseAttributes(Parser.java:153)\r\n    \torg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1236)\r\n    \torg.apache.jasper.compiler.Parser.parseElements(Parser.java:1452)\r\n    \torg.apache.jasper.compiler.Parser.parse(Parser.java:138)\r\n    \torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\r\n    \torg.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\r\n    \torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\r\n\r\n\r\n\r\n    Line 88 is `+ &quot;&lt;s:select name=\\&quot;expenseList[1].param\\&quot; list=\\&quot;&#39;advertisement&#39;,&#39;food&#39;\\&quot;/&gt;&quot;`","title":"How to to use Struts 2 tags in jQuery as String","body":"<p>I'm not able to use Struts 2 tags in jQuery as <code>String</code>.</p>\n<p><strong>This is my <code>div</code>:</strong></p>\n<pre><code>&lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\n            &lt;label&gt;Expensed Type&lt;/label&gt;\n            &lt;s:select name=&quot;expenseList[0].param&quot; \n                      list=&quot;'advertisement','food'&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\n            &lt;label&gt;Amount&lt;/label&gt;\n            &lt;s:textfield name=&quot;expenseList[0].value&quot; value=&quot;%{expenseList[0].value}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\n            &lt;label&gt;Date&lt;/label&gt;\n            &lt;s:textfield name=&quot;expenseList[0].dt&quot; value=&quot;%{expenseList[0].dt}&quot;/&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;div class=&quot;col-xs-4 right&quot;&gt;\n    &lt;span class=&quot;glyphicon-plus&quot;&gt;&lt;/span&gt;\n &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Save&lt;/button&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>I would like to use above as <code>String</code> in JavaScript, so that whenever a user clicks on <code>add</code> button It must generate a new row. I am adding above to a jQuery click event</p>\n<p><strong>As below:</strong></p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\n        $(document).ready(function() {\n            $(document).on('click', '#add', function(event) {\n                event.preventDefault();\n                $(&quot;.row&quot;).append(&quot;&lt; /div  &lt;div class=\\&quot;row\\&quot;&gt;&quot;\n                    + &quot;&lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\n                    + &quot;&lt;label&gt; Expensed Type &lt;/label&gt;&quot;\n                    + &quot;&lt;s:select name=\\&quot;expenseList[1].param\\&quot; list=\\&quot;'advertisement','food'\\&quot;/&gt;&quot;\n                    + &quot;&lt;/div&gt;&quot;\n                    + &quot;&lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\n                    + &quot;&lt;label&gt; Amount &lt;/label&gt;&quot;\n                    + &quot;&lt;s:textfield name=\\&quot;expenseList[1].value\\&quot; value=\\&quot;%{expenseList[1].value}\\&quot;/&gt;&quot;\n                    + &quot;&lt;/div&gt;&quot;\n                    + &quot;  &lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\n                    + &quot;&lt;label&gt; Date &lt;/label&gt;&quot;\n                    + &quot;&lt;s:textfield name=\\&quot;expenseList[1].dt\\&quot; value=\\&quot;%{expenseList[1].dt}\\&quot;/&gt;\\&quot;/&gt; &quot;\n                    + &quot;&lt;/div&gt;&quot;\n                    + &quot;&lt;/div&gt;&quot;\n                    );\n        });\n    });\n    &lt;/script&gt;\n</code></pre>\n<p><strong>It is showing following exception:</strong></p>\n<pre><code>org.apache.jasper.JasperException: /pages/expense/AddExpense.jsp (line: 88, column: 43) quote symbol expected\n    org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:42)\n    org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:443)\n    org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:89)\n    org.apache.jasper.compiler.Parser.parseAttribute(Parser.java:222)\n    org.apache.jasper.compiler.Parser.parseAttributes(Parser.java:162)\n    org.apache.jasper.compiler.Parser.parseAttributes(Parser.java:153)\n    org.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1236)\n    org.apache.jasper.compiler.Parser.parseElements(Parser.java:1452)\n    org.apache.jasper.compiler.Parser.parse(Parser.java:138)\n    org.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\n    org.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\n    org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\n\n\n\nLine 88 is `+ &quot;&lt;s:select name=\\&quot;expenseList[1].param\\&quot; list=\\&quot;'advertisement','food'\\&quot;/&gt;&quot;`\n</code></pre>\n"},{"tags":["java","maven","github","jenkins","build"],"answers":[{"tags":[],"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695976139,"creation_date":1695976139,"answer_id":77200461,"question_id":77200114,"body_markdown":"This error means that maven could not find any artefacts for `fr.dawan:calculatrice:0.0.1-SNAPSHOT`.\r\n\r\nThis seems to be your own library so it could run fine in your local machine. If you are fetching project from other environments, it would fail because that lib is only available in your machine.\r\n\r\nYou could try to publish it to your own artifactory and config maven to use that.","title":"The POM for fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT is missing, no dependency information available","body":"<p>This error means that maven could not find any artefacts for <code>fr.dawan:calculatrice:0.0.1-SNAPSHOT</code>.</p>\n<p>This seems to be your own library so it could run fine in your local machine. If you are fetching project from other environments, it would fail because that lib is only available in your machine.</p>\n<p>You could try to publish it to your own artifactory and config maven to use that.</p>\n"}],"owner":{"account_id":12521411,"reputation":27,"user_id":9112645,"display_name":"woodson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696255854,"creation_date":1695972017,"question_id":77200114,"body_markdown":"I am using Jenkins, Maven, and GitHub. In Jenkins, I fetch the project from the remote repository (GitHub) and execute it (trigger Maven builds).\r\n\r\nWhen I do this, it displays the following error: : [ERROR] Failed to execute goal on project calculatrice-web: \r\n\r\n**Could not resolve dependencies for project fr.dawan:calculatrice-web:war:0.0.1-SNAPSHOT: The following artifacts could not be resolved: fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT (absent): Could not find artifact fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT -&gt; [Help 1]**\r\n\r\nIn my &quot;calculatrice-web&quot; project, I am using the dependency from &quot;calculatrice&quot; Here is my pom.xml file:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;fr.dawan&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;calculatrice-web&lt;/artifactId&gt;\r\n\t\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;calculatrice-web&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t\r\n\t\t &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;fr.dawan&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;calculatrice&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t&lt;finalName&gt;calculator-app&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t    &lt;configuration&gt;\r\n\t\t\t        &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\r\n\t\t\t        &lt;username&gt;admin&lt;/username&gt;\r\n\t\t\t\t\t&lt;password&gt;admin&lt;/password&gt;\r\n\t\t\t        &lt;path&gt;/calculator-app&lt;/path&gt;\r\n\t\t\t    &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nCould you help me solve the problem? Thank you.\r\n","title":"The POM for fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT is missing, no dependency information available","body":"<p>I am using Jenkins, Maven, and GitHub. In Jenkins, I fetch the project from the remote repository (GitHub) and execute it (trigger Maven builds).</p>\n<p>When I do this, it displays the following error: : [ERROR] Failed to execute goal on project calculatrice-web:</p>\n<p><strong>Could not resolve dependencies for project fr.dawan:calculatrice-web:war:0.0.1-SNAPSHOT: The following artifacts could not be resolved: fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT (absent): Could not find artifact fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT -&gt; [Help 1]</strong></p>\n<p>In my &quot;calculatrice-web&quot; project, I am using the dependency from &quot;calculatrice&quot; Here is my pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;fr.dawan&lt;/groupId&gt;\n    &lt;artifactId&gt;calculatrice-web&lt;/artifactId&gt;\n    \n    &lt;packaging&gt;war&lt;/packaging&gt;\n    \n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;calculatrice-web&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        \n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.dawan&lt;/groupId&gt;\n            &lt;artifactId&gt;calculatrice&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n    &lt;finalName&gt;calculator-app&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\n                    &lt;username&gt;admin&lt;/username&gt;\n                    &lt;password&gt;admin&lt;/password&gt;\n                    &lt;path&gt;/calculator-app&lt;/path&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Could you help me solve the problem? Thank you.</p>\n"},{"tags":["java","mockito","junit5","spring-test"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696357327,"post_id":77215735,"comment_id":136141605,"body_markdown":"`mockThread.getName()` returns `null`, not &quot;org.slf4j.Logger&quot;. You call two methods on your mock: `start()` and `getName()`, but you only verify one. I&#39;d expect the code as shown to fail. (But what is this test really testing? Nothing much, it only uses mocks and doesn&#39;t test any real behavior)","body":"<code>mockThread.getName()</code> returns <code>null</code>, not &quot;org.slf4j.Logger&quot;. You call two methods on your mock: <code>start()</code> and <code>getName()</code>, but you only verify one. I&#39;d expect the code as shown to fail. (But what is this test really testing? Nothing much, it only uses mocks and doesn&#39;t test any real behavior)"},{"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"score":0,"creation_date":1696420625,"post_id":77215735,"comment_id":136150094,"body_markdown":"I just showed an example.   But there are similar cases where old mockito was rot recording the interactions.","body":"I just showed an example.   But there are similar cases where old mockito was rot recording the interactions."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696255764,"creation_date":1696254718,"answer_id":77216060,"question_id":77215735,"body_markdown":"Firstly, the reason for Mockito 4 skipping the mock interactions has nothing to do with logging. In fact, when you run this line:\r\n\r\n    logger.info(&quot;name ={}&quot;, mockThread.getName() );   //org.slf4j.Logger\r\n\r\nyou are not calling `mockThread.getName()` from your log method. You are in fact calling it directly from your test method, getting the resulting string and passing it to the log method.\r\n\r\nA test using Mockito 4 passes even the following:\r\n\r\n    @Test\r\n    void name() {\r\n        Thread mockThread = Mockito.mock(Thread.class);\r\n        String x = mockThread.getName();\r\n        mockThread.start();\r\n\r\n        Mockito.verify(mockThread).start();\r\n        Mockito.verifyNoMoreInteractions(mockThread);\r\n    }\r\n\r\nThe reason seems to be that Mockito 4, for some strange reason, doesn&#39;t register `Thread.getName()` as an invocation. This seems like a bug or unintuitive behaviour, and I would recommend upgrading to Mockito 5 and adding \r\n\r\n    Mockito.verify(mockThread).getName();\r\n\r\nbefore `verifyNoMoreInteractions` to make your test pass.","title":"Mockito 5.x.x fails Junit tests due to mock interaction inside log method","body":"<p>Firstly, the reason for Mockito 4 skipping the mock interactions has nothing to do with logging. In fact, when you run this line:</p>\n<pre><code>logger.info(&quot;name ={}&quot;, mockThread.getName() );   //org.slf4j.Logger\n</code></pre>\n<p>you are not calling <code>mockThread.getName()</code> from your log method. You are in fact calling it directly from your test method, getting the resulting string and passing it to the log method.</p>\n<p>A test using Mockito 4 passes even the following:</p>\n<pre><code>@Test\nvoid name() {\n    Thread mockThread = Mockito.mock(Thread.class);\n    String x = mockThread.getName();\n    mockThread.start();\n\n    Mockito.verify(mockThread).start();\n    Mockito.verifyNoMoreInteractions(mockThread);\n}\n</code></pre>\n<p>The reason seems to be that Mockito 4, for some strange reason, doesn't register <code>Thread.getName()</code> as an invocation. This seems like a bug or unintuitive behaviour, and I would recommend upgrading to Mockito 5 and adding</p>\n<pre><code>Mockito.verify(mockThread).getName();\n</code></pre>\n<p>before <code>verifyNoMoreInteractions</code> to make your test pass.</p>\n"}],"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696255764,"creation_date":1696251438,"question_id":77215735,"body_markdown":"After upgrading to Mockito 5.x.x, test cases started failing showing interactions on mocks, mentioned inside log message.\r\n\r\nPrior to Mockito 5.x.x, the below code was working fine.  \r\n\r\n```java\r\n  @Test\r\n  void name() {\r\n    Thread mockThread = Mockito.mock(Thread.class);\r\n    logger.info(&quot;name ={}&quot;, mockThread.getName() );   //org.slf4j.Logger\r\n\r\n    mockThread.start();\r\n\r\n    Mockito.verify(mockThread).start();\r\n    Mockito.verifyNoMoreInteractions(mockThread);\r\n  }\r\n```\r\n\r\nIs it possible to skip the mock interactions uncounted within log message, as it was in Mockito 4.x.x ?","title":"Mockito 5.x.x fails Junit tests due to mock interaction inside log method","body":"<p>After upgrading to Mockito 5.x.x, test cases started failing showing interactions on mocks, mentioned inside log message.</p>\n<p>Prior to Mockito 5.x.x, the below code was working fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void name() {\n    Thread mockThread = Mockito.mock(Thread.class);\n    logger.info(&quot;name ={}&quot;, mockThread.getName() );   //org.slf4j.Logger\n\n    mockThread.start();\n\n    Mockito.verify(mockThread).start();\n    Mockito.verifyNoMoreInteractions(mockThread);\n  }\n</code></pre>\n<p>Is it possible to skip the mock interactions uncounted within log message, as it was in Mockito 4.x.x ?</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1616575250,"post_id":66767800,"comment_id":118042321,"body_markdown":"You should not view the data when you click on the preview button of your table. But if you perform a query, without any partition value, you should vue your data.","body":"You should not view the data when you click on the preview button of your table. But if you perform a query, without any partition value, you should vue your data."}],"answers":[{"tags":[],"owner":{"account_id":21423470,"reputation":142,"user_id":15781201,"display_name":"Sunandini Ravada"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1620636406,"creation_date":1620636406,"answer_id":67467418,"question_id":66767800,"body_markdown":"As per documentation on data availability,looks like when streaming to a partitioned table, data in the streaming buffer has a NULL value for the _PARTITIONTIME pseudo column. Also i could see we have some fields through which we can check the streamingBuffer.oldestEntryTime etc., \r\n\r\nFor a table where we are doing streaming insert its also mentioned that Data can take up to 90 minutes to become available for copy operations.\r\n\r\nhttps://cloud.google.com/bigquery/streaming-data-into-bigquery#dataavailability\r\n","title":"Google BigQuery - Streaming Data Into BigQuery","body":"<p>As per documentation on data availability,looks like when streaming to a partitioned table, data in the streaming buffer has a NULL value for the _PARTITIONTIME pseudo column. Also i could see we have some fields through which we can check the streamingBuffer.oldestEntryTime etc.,</p>\n<p>For a table where we are doing streaming insert its also mentioned that Data can take up to 90 minutes to become available for copy operations.</p>\n<p><a href=\"https://cloud.google.com/bigquery/streaming-data-into-bigquery#dataavailability\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/streaming-data-into-bigquery#dataavailability</a></p>\n"},{"tags":[],"owner":{"account_id":5976980,"reputation":122,"user_id":4697471,"display_name":"Tomasz Kubat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696255626,"creation_date":1696255626,"answer_id":77216174,"question_id":66767800,"body_markdown":"As @Sunandini Ravanda mentioned, the data loading via STREAMING INSERT goes to the buffer first, and than after a couple of minutes the data is being redistributed to proper partition.\r\n\r\nTo get the data from the buffer try:\r\n\r\n    select *\r\n    from `myprojectname.mydatasetname.mytablename`\r\n    where _PARTITIONTIME is null\r\n\r\n\r\n\r\n","title":"Google BigQuery - Streaming Data Into BigQuery","body":"<p>As @Sunandini Ravanda mentioned, the data loading via STREAMING INSERT goes to the buffer first, and than after a couple of minutes the data is being redistributed to proper partition.</p>\n<p>To get the data from the buffer try:</p>\n<pre><code>select *\nfrom `myprojectname.mydatasetname.mytablename`\nwhere _PARTITIONTIME is null\n</code></pre>\n"}],"owner":{"account_id":10055124,"reputation":609,"user_id":7433571,"accept_rate":45,"display_name":"Alexander Chandra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67467418,"answer_count":2,"score":1,"last_activity_date":1696255626,"creation_date":1616518901,"question_id":66767800,"body_markdown":"I&#39;am using Google BigQuery for my project\r\nRight now i&#39;am trying to insert a new row to BQ based on this https://cloud.google.com/bigquery/streaming-data-into-bigquery#bigquery-stream-data-java\r\n\r\n    private void insertRowsToBQ(MyCustomObject data) {\r\n\t\tString datasetName = &quot;mydatasetname&quot;;\r\n\t\tString tableName = &quot;mytablename&quot;;\r\n\t\tMap&lt;String, Object&gt; rowContent = new HashMap&lt;&gt;();\r\n\t\trowContent.put(&quot;field_1&quot;, data.getdata1());\r\n\t\trowContent.put(&quot;field_2&quot;, data.getdata2());\r\n\t\trowContent.put(&quot;field_3&quot;, data.getdata3());\r\n\t\trowContent.put(&quot;field_4&quot;, data.getdata4());\r\n\r\n\t\ttry {\r\n\t\t\tBigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n\t\t\tTableId tableId = TableId.of(datasetName, tableName);\r\n\t\t\tInsertAllResponse response =\r\n\t\t\t\t\tbigquery.insertAll(\r\n\t\t\t\t\t\t\tInsertAllRequest.newBuilder(tableId)\r\n\t\t\t\t\t\t\t\t\t.addRow(rowContent)\r\n\t\t\t\t\t\t\t\t\t.build());\r\n\r\n\t\t\tif (response.hasErrors()) {\r\n\t\t\t\tfor (Map.Entry&lt;Long, List&lt;BigQueryError&gt;&gt; entry : response.getInsertErrors().entrySet()) {\r\n\t\t\t\t\tLogger.error(&quot;Response error: \\n&quot; + entry.getValue());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tLogger.info(&quot;Rows successfully inserted into table&quot;);\r\n\t\t} catch (BigQueryException e) {\r\n\t\t\tLogger.error(&quot;Insert operation not performed \\n&quot; + e.toString());\r\n\t\t}\r\n\t}\r\n\r\nthe code is working fine, got no error log \r\nBUT when i&#39;am trying to view it on google console\r\nhttps://console.cloud.google.com/bigquery?project=myprojectname\r\n\r\n    select * from `myprojectname.mydatasetname.mytablename` where DATE(_PARTITIONTIME) = &quot;2021-03-24&quot;\r\n\r\nthe data on google BQ console, the data is not displayed.\r\nIt&#39;s turn out that the data is delayed more than 1 hour, until it can be view on the BQ\r\n\r\nis this expected? or there are some issue?\r\n\r\ni&#39;ve been trying recreate the dataset and table, but still no luck\r\n","title":"Google BigQuery - Streaming Data Into BigQuery","body":"<p>I'am using Google BigQuery for my project\nRight now i'am trying to insert a new row to BQ based on this <a href=\"https://cloud.google.com/bigquery/streaming-data-into-bigquery#bigquery-stream-data-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/streaming-data-into-bigquery#bigquery-stream-data-java</a></p>\n<pre><code>private void insertRowsToBQ(MyCustomObject data) {\n    String datasetName = &quot;mydatasetname&quot;;\n    String tableName = &quot;mytablename&quot;;\n    Map&lt;String, Object&gt; rowContent = new HashMap&lt;&gt;();\n    rowContent.put(&quot;field_1&quot;, data.getdata1());\n    rowContent.put(&quot;field_2&quot;, data.getdata2());\n    rowContent.put(&quot;field_3&quot;, data.getdata3());\n    rowContent.put(&quot;field_4&quot;, data.getdata4());\n\n    try {\n        BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n        TableId tableId = TableId.of(datasetName, tableName);\n        InsertAllResponse response =\n                bigquery.insertAll(\n                        InsertAllRequest.newBuilder(tableId)\n                                .addRow(rowContent)\n                                .build());\n\n        if (response.hasErrors()) {\n            for (Map.Entry&lt;Long, List&lt;BigQueryError&gt;&gt; entry : response.getInsertErrors().entrySet()) {\n                Logger.error(&quot;Response error: \\n&quot; + entry.getValue());\n            }\n        }\n        Logger.info(&quot;Rows successfully inserted into table&quot;);\n    } catch (BigQueryException e) {\n        Logger.error(&quot;Insert operation not performed \\n&quot; + e.toString());\n    }\n}\n</code></pre>\n<p>the code is working fine, got no error log\nBUT when i'am trying to view it on google console\n<a href=\"https://console.cloud.google.com/bigquery?project=myprojectname\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/bigquery?project=myprojectname</a></p>\n<pre><code>select * from `myprojectname.mydatasetname.mytablename` where DATE(_PARTITIONTIME) = &quot;2021-03-24&quot;\n</code></pre>\n<p>the data on google BQ console, the data is not displayed.\nIt's turn out that the data is delayed more than 1 hour, until it can be view on the BQ</p>\n<p>is this expected? or there are some issue?</p>\n<p>i've been trying recreate the dataset and table, but still no luck</p>\n"},{"tags":["java","jquery","jsp","struts2","double-submit-problem"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":1,"creation_date":1364601531,"post_id":15711443,"comment_id":22317626,"body_markdown":"You can&#39;t double submit","body":"You can&#39;t double submit"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1364643752,"post_id":15711443,"comment_id":22325941,"body_markdown":"WTQ? Why do you need to submit two forms?","body":"WTQ? Why do you need to submit two forms?"},{"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"score":0,"creation_date":1364845046,"post_id":15711443,"comment_id":22382642,"body_markdown":"@RomanC: Since I have display pattern where I have to use some details on top of page and other that are inside jquery tab. Also there are various tabs and each selection will result in a different combination. its like selection from top+ selection from one of the tabs will give me a special database entry. Hope it s clear now.","body":"@RomanC: Since I have display pattern where I have to use some details on top of page and other that are inside jquery tab. Also there are various tabs and each selection will result in a different combination. its like selection from top+ selection from one of the tabs will give me a special database entry. Hope it s clear now."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1364847223,"post_id":15711443,"comment_id":22383715,"body_markdown":"I don&#39;t understand what is not working the form submission or action?","body":"I don&#39;t understand what is not working the form submission or action?"},{"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"score":0,"creation_date":1364847818,"post_id":15711443,"comment_id":22383994,"body_markdown":"both forms are not getting submitted only the one inside jquery tab is getting submitted. the one on top is not.","body":"both forms are not getting submitted only the one inside jquery tab is getting submitted. the one on top is not."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1364851584,"post_id":15711443,"comment_id":22385704,"body_markdown":"@anshulankush: Why are you not using `.serialize`?","body":"@anshulankush: Why are you not using <code>.serialize</code>?"},{"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"score":0,"creation_date":1364851939,"post_id":15711443,"comment_id":22385865,"body_markdown":"@AleksandrM: I have no idea about `.serialize`, i dont know where to start with.","body":"@AleksandrM: I have no idea about <code>.serialize</code>, i dont know where to start with."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1364851983,"post_id":15711443,"comment_id":22385893,"body_markdown":"@anshulankush: How about starting with my answer and link in it.","body":"@anshulankush: How about starting with my answer and link in it."}],"answers":[{"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457804419,"creation_date":1364650864,"answer_id":15719179,"question_id":15711443,"body_markdown":"You can use jQuery [`.serialize`][1] to do what you want. Give some class to your forms then use it to select your forms and call serialize to get a string in the standard URL-encoded notation. After that you can use some AJAX method to post it to your action.\r\n\r\n\r\n    $(function() {\r\n      $(&quot;#saveNoteButton&quot;).click(function() {\r\n        alert($(&quot;.forms&quot;).serialize());\r\n      });\r\n    });\r\n\r\n\r\n  [1]: http://api.jquery.com/serialize/","title":"Submit two HTML forms in JSP using single submit button with Ajax","body":"<p>You can use jQuery <a href=\"http://api.jquery.com/serialize/\" rel=\"nofollow\"><code>.serialize</code></a> to do what you want. Give some class to your forms then use it to select your forms and call serialize to get a string in the standard URL-encoded notation. After that you can use some AJAX method to post it to your action.</p>\n\n<pre><code>$(function() {\n  $(\"#saveNoteButton\").click(function() {\n    alert($(\".forms\").serialize());\n  });\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696255473,"creation_date":1364849808,"answer_id":15751755,"question_id":15711443,"body_markdown":"You can use Struts2 jQuery to submit multiple forms\r\n\r\n    &lt;sj:submit formIds=&quot;visitType,patientCondition&quot; targets=&quot;result&quot; value=&quot;Submit&quot; /&gt;  \r\n\r\n**`formIds`:**\r\n\r\n&gt; Comma delimited list of form ids for which to serialize all fields during submission when this element is clicked (if multiple forms have overlapping element names, it is indeterminate which will be used)","title":"Submit two HTML forms in JSP using single submit button with Ajax","body":"<p>You can use Struts2 jQuery to submit multiple forms</p>\n<pre><code>&lt;sj:submit formIds=&quot;visitType,patientCondition&quot; targets=&quot;result&quot; value=&quot;Submit&quot; /&gt;  \n</code></pre>\n<p><strong><code>formIds</code>:</strong></p>\n<blockquote>\n<p>Comma delimited list of form ids for which to serialize all fields during submission when this element is clicked (if multiple forms have overlapping element names, it is indeterminate which will be used)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1364859642,"creation_date":1364859642,"answer_id":15753747,"question_id":15711443,"body_markdown":"Found an easy solution to it.\r\n\r\njavascript:\r\n\r\n\r\n    submitForms = function() {\r\n      $(&#39;#form2 :input&#39;).not(&#39;:submit&#39;).clone().hide().appendTo(&#39;#form1&#39;);\r\n        document.getElementById(&quot;form1&quot;).submit();\r\n    };\r\n\r\nSubmit button :\r\n\r\n    &lt;input type=&quot;button&quot; value=&quot;Save Note&quot; onclick=&quot;submitForms()&quot; /&gt;","title":"Submit two HTML forms in JSP using single submit button with Ajax","body":"<p>Found an easy solution to it.</p>\n\n<p>javascript:</p>\n\n<pre><code>submitForms = function() {\n  $('#form2 :input').not(':submit').clone().hide().appendTo('#form1');\n    document.getElementById(\"form1\").submit();\n};\n</code></pre>\n\n<p>Submit button :</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Save Note\" onclick=\"submitForms()\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4184,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15753747,"answer_count":3,"score":2,"last_activity_date":1696255473,"creation_date":1364591348,"question_id":15711443,"body_markdown":"My page design is such that I have to use two forms that submit on single click and then saved to database and vice verse.\r\n\r\nI am using this on a JSP page with Struts 2 Framework.\r\nI have tried the Ajax solutions but they are not working for me.\r\n\r\n**Here is my script(UPDATED):**\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(&quot;#visitType&quot;).buttonset();\r\n    $(&quot;#patientCondition&quot;).buttonset();\r\n    $(&quot;input[type=submit], a, button&quot;).button().click(function(event) {\r\n      event.preventDefault();\r\n      var inputs=$(&#39;#visitType,#patientCondition &#39;).find(&#39;:input&#39;).not(this);\r\n      var form_data={};\r\n      inputs.each(function(){\r\n        form_data[this.name]=$(this).val();\r\n      });\r\n      $.post(&#39;patientSoapAll&#39;,  form_data, function(response){  \r\n      });\r\n    });\r\n\r\n**My form1:**\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;s:form action=&quot;PatientSoapAll&quot; method=&quot;post&quot;&gt;\r\n    \r\n            &lt;div id=&quot;visitType&quot;&gt;\r\n            \t&lt;input type=&quot;radio&quot; id=&quot;I&quot; value=&quot;I&quot; &lt;s:if test=&#39;pSB.rOS == &quot;I&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;I&quot;&gt;I V&lt;/label&gt; \r\n            \t&lt;input type=&quot;radio&quot; id=&quot;R&quot; value=&quot;R&quot;&lt;s:if test=&#39;pSB.rOS == &quot;R&quot;&#39;&gt;checked&lt;/s:if&gt;name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;R&quot;&gt;Regular\tVisit&lt;/label&gt; \r\n            \t&lt;input type=&quot;radio&quot; id=&quot;P/N&quot; &lt;s:if test=&#39;pSB.rOS == &quot;P/N&quot;&#39;&gt;checked&lt;/s:if&gt;name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;D/N&quot;&gt;Re- Evaluation&lt;/label&gt; \r\n            \t&lt;input type=&quot;radio&quot; id=&quot;D/N&quot;&lt;s:if test=&#39;pSB.rOS == &quot;D/N&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;\r\n        \r\n        P/N&quot;&gt;Discharge&lt;/label&gt;\r\n        &lt;/div&gt;\r\n    &lt;/s:form&gt;\r\n\r\n\r\n**My form2:**\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;s:form action=&quot;PatientSoapAll&quot; method=&quot;post&quot;&gt;\r\n    \r\n        &lt;div id=&quot;patientCondition&quot;&gt;\r\n        \t&lt;input type=&quot;radio&quot; id=&quot;new&quot; value=&quot;n&quot;&lt;s:if test=&#39;pSB.r2 == &quot;n&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt; &lt;label for=&quot;new&quot;&gt;New&lt;/label&gt;\r\n        \t&lt;input type=&quot;radio&quot; id=&quot;noChange&quot; value=&quot;nC&quot; &lt;s:if test=&#39;pSB.r2 == &quot;nC&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;noChange&quot;&gt;No Change&lt;/label&gt; \r\n        \t&lt;input type=&quot;radio&quot; id=&quot;progressing&quot; value=&quot;p&quot;&lt;s:if test=&#39;pSB.r2 == &quot;p&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;progressing&quot;&gt;Progressing&lt;/label&gt; \r\n        \t&lt;input type=&quot;radio&quot;\tid=&quot;notProgressing&quot; value=&quot;nP&quot; &lt;s:if test=&#39;pSB.r2 == &quot;nP&quot;&#39;&gt;checked&lt;/s:if&gt;\tname=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;notProgressing&quot;&gt;Not Progressing&lt;/label&gt;\r\n        &lt;/div&gt;\r\n    &lt;/s:form&gt;\r\n\r\n**This is my Updated Submitted Button. Removed from `&lt;div&gt;` and placed inside a table.**\r\n&lt;!-- language: lang-html --&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;&lt;/td&gt;\r\n      &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Save Note&quot; /&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nI am using Struts 2 and I want to redirect this submit button to an action `PatientSoapAll`. I am using custom extension of `.do` instead of `.action`(by default). Please tell me how can I redirect this submit button to respective action class in Struts 2.","title":"Submit two HTML forms in JSP using single submit button with Ajax","body":"<p>My page design is such that I have to use two forms that submit on single click and then saved to database and vice verse.</p>\n<p>I am using this on a JSP page with Struts 2 Framework.\nI have tried the Ajax solutions but they are not working for me.</p>\n<p><strong>Here is my script(UPDATED):</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>$(&quot;#visitType&quot;).buttonset();\n$(&quot;#patientCondition&quot;).buttonset();\n$(&quot;input[type=submit], a, button&quot;).button().click(function(event) {\n  event.preventDefault();\n  var inputs=$('#visitType,#patientCondition ').find(':input').not(this);\n  var form_data={};\n  inputs.each(function(){\n    form_data[this.name]=$(this).val();\n  });\n  $.post('patientSoapAll',  form_data, function(response){  \n  });\n});\n</code></pre>\n<p><strong>My form1:</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:form action=&quot;PatientSoapAll&quot; method=&quot;post&quot;&gt;\n\n        &lt;div id=&quot;visitType&quot;&gt;\n            &lt;input type=&quot;radio&quot; id=&quot;I&quot; value=&quot;I&quot; &lt;s:if test='pSB.rOS == &quot;I&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;I&quot;&gt;I V&lt;/label&gt; \n            &lt;input type=&quot;radio&quot; id=&quot;R&quot; value=&quot;R&quot;&lt;s:if test='pSB.rOS == &quot;R&quot;'&gt;checked&lt;/s:if&gt;name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;R&quot;&gt;Regular   Visit&lt;/label&gt; \n            &lt;input type=&quot;radio&quot; id=&quot;P/N&quot; &lt;s:if test='pSB.rOS == &quot;P/N&quot;'&gt;checked&lt;/s:if&gt;name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;D/N&quot;&gt;Re- Evaluation&lt;/label&gt; \n            &lt;input type=&quot;radio&quot; id=&quot;D/N&quot;&lt;s:if test='pSB.rOS == &quot;D/N&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;\n    \n    P/N&quot;&gt;Discharge&lt;/label&gt;\n    &lt;/div&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>My form2:</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:form action=&quot;PatientSoapAll&quot; method=&quot;post&quot;&gt;\n\n    &lt;div id=&quot;patientCondition&quot;&gt;\n        &lt;input type=&quot;radio&quot; id=&quot;new&quot; value=&quot;n&quot;&lt;s:if test='pSB.r2 == &quot;n&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt; &lt;label for=&quot;new&quot;&gt;New&lt;/label&gt;\n        &lt;input type=&quot;radio&quot; id=&quot;noChange&quot; value=&quot;nC&quot; &lt;s:if test='pSB.r2 == &quot;nC&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;noChange&quot;&gt;No Change&lt;/label&gt; \n        &lt;input type=&quot;radio&quot; id=&quot;progressing&quot; value=&quot;p&quot;&lt;s:if test='pSB.r2 == &quot;p&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;progressing&quot;&gt;Progressing&lt;/label&gt; \n        &lt;input type=&quot;radio&quot; id=&quot;notProgressing&quot; value=&quot;nP&quot; &lt;s:if test='pSB.r2 == &quot;nP&quot;'&gt;checked&lt;/s:if&gt;   name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;notProgressing&quot;&gt;Not Progressing&lt;/label&gt;\n    &lt;/div&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>This is my Updated Submitted Button. Removed from <code>&lt;div&gt;</code> and placed inside a table.</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr&gt;\n  &lt;td&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Save Note&quot; /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>I am using Struts 2 and I want to redirect this submit button to an action <code>PatientSoapAll</code>. I am using custom extension of <code>.do</code> instead of <code>.action</code>(by default). Please tell me how can I redirect this submit button to respective action class in Struts 2.</p>\n"},{"tags":["java","tomcat","deployment","web-applications","sequence"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1696253522,"post_id":77215854,"comment_id":136125628,"body_markdown":"What version of Tomcat?  And why do you think that names determine the deployment order?","body":"What version of Tomcat?  And why do you think that names determine the deployment order?"},{"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"score":0,"creation_date":1696254575,"post_id":77215854,"comment_id":136125844,"body_markdown":"@Pino if i rename as below then  the deployment order works ---&gt; `1.war ---&gt; Phonix.war\n2.war ---&gt; usapp.war\n3.war ---&gt; VelotownAPI.war` Tomcat version is `9.0.56`","body":"@Pino if i rename as below then  the deployment order works ---&gt; <code>1.war ---&gt; Phonix.war 2.war ---&gt; usapp.war 3.war ---&gt; VelotownAPI.war</code> Tomcat version is <code>9.0.56</code>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1696268871,"post_id":77215854,"comment_id":136128543,"body_markdown":"Works to solve...what?","body":"Works to solve...what?"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696255316,"creation_date":1696255316,"answer_id":77216130,"question_id":77215854,"body_markdown":"The [only deployment order][1] that&#39;s specified for tomcat is this:\r\n\r\n\r\n1. Any Context Descriptors will be deployed first.\r\n1. Exploded web applications not referenced by any Context Descriptor will then be deployed. If they have an associated .WAR file in the appBase and it is newer than the exploded web application, the exploded directory will be removed and the webapp will be redeployed from the .WAR\r\n1. .WAR files will be deployed\r\n\r\nRelying on anything else is relying on unspecified current behavior. You should instead equip your applications to gracefully handle if another app they depend on is not available. (You should do that anyway, and test for their behavior in that case)\r\n\r\nEven if you find the magic names, or if you assume that a context descriptor is read in a certain order: It might not be the order you expect (e.g. it *might* be by date, and sometimes it *might* correlate with the alphabetical order - until the next update)\r\n\r\nAccept that deployment order is unspecified (also by the underlying specification) and prepare for it.\r\n\r\nAlternatively (though still not recommended) you can script your deployment. E.g. start up an empty tomcat, and remote-control it through the manager-app and its API - there, of course, you can implement any order you like.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/deployer-howto.html","title":"Need to dictate tomcat deployment order by renaming deployable war files","body":"<p>The <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/deployer-howto.html\" rel=\"nofollow noreferrer\">only deployment order</a> that's specified for tomcat is this:</p>\n<ol>\n<li>Any Context Descriptors will be deployed first.</li>\n<li>Exploded web applications not referenced by any Context Descriptor will then be deployed. If they have an associated .WAR file in the appBase and it is newer than the exploded web application, the exploded directory will be removed and the webapp will be redeployed from the .WAR</li>\n<li>.WAR files will be deployed</li>\n</ol>\n<p>Relying on anything else is relying on unspecified current behavior. You should instead equip your applications to gracefully handle if another app they depend on is not available. (You should do that anyway, and test for their behavior in that case)</p>\n<p>Even if you find the magic names, or if you assume that a context descriptor is read in a certain order: It might not be the order you expect (e.g. it <em>might</em> be by date, and sometimes it <em>might</em> correlate with the alphabetical order - until the next update)</p>\n<p>Accept that deployment order is unspecified (also by the underlying specification) and prepare for it.</p>\n<p>Alternatively (though still not recommended) you can script your deployment. E.g. start up an empty tomcat, and remote-control it through the manager-app and its API - there, of course, you can implement any order you like.</p>\n"}],"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696255316,"creation_date":1696252615,"question_id":77215854,"body_markdown":"I have the following war files for deployment\r\n\r\n    usapp.war\r\n    Phonix.war\r\n    VelotownAPI.war\r\n\r\nI wish to have the deployment-order as below:\r\n\r\n    Phonix.war -- First\r\n    usapp.war -- Second\r\n    VelotownAPI.war -- Third\r\n\r\nThere are many solutions offered for setting the deployment order. However, The only solution I m looking for is by renaming the deployment files as the filename is considered in the order of deployment. \r\n\r\nThus, I renamed the deployments as below:\r\n\r\n    a_Phonix.war\r\n    b_usapp.war\r\n    c_VelotownAPI.war\r\n\r\nHowever, once the tomcat server starts it does not explode/deploy the above renamed wars in the desired order. \r\n\r\nI also tried the below rename but it too did not help get me the desired order.\r\n\r\n    1_Phonix.war\r\n    2_usapp.war\r\n    3_VelotownAPI.war\r\n\r\n**Note:**\r\n\r\nIf I rename the wars like below then the deployment order works!\r\n\r\nI also tried the below rename but it too did not help get me the desired order.\r\n\r\n    1.war ---&gt; Phonix.war\r\n    2.war ---&gt; usapp.war\r\n    3.war ---&gt; VelotownAPI.war\r\n\r\nCan you please suggest how to rename my war files best so that Tomcat deploys them in the desired order?","title":"Need to dictate tomcat deployment order by renaming deployable war files","body":"<p>I have the following war files for deployment</p>\n<pre><code>usapp.war\nPhonix.war\nVelotownAPI.war\n</code></pre>\n<p>I wish to have the deployment-order as below:</p>\n<pre><code>Phonix.war -- First\nusapp.war -- Second\nVelotownAPI.war -- Third\n</code></pre>\n<p>There are many solutions offered for setting the deployment order. However, The only solution I m looking for is by renaming the deployment files as the filename is considered in the order of deployment.</p>\n<p>Thus, I renamed the deployments as below:</p>\n<pre><code>a_Phonix.war\nb_usapp.war\nc_VelotownAPI.war\n</code></pre>\n<p>However, once the tomcat server starts it does not explode/deploy the above renamed wars in the desired order.</p>\n<p>I also tried the below rename but it too did not help get me the desired order.</p>\n<pre><code>1_Phonix.war\n2_usapp.war\n3_VelotownAPI.war\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>If I rename the wars like below then the deployment order works!</p>\n<p>I also tried the below rename but it too did not help get me the desired order.</p>\n<pre><code>1.war ---&gt; Phonix.war\n2.war ---&gt; usapp.war\n3.war ---&gt; VelotownAPI.war\n</code></pre>\n<p>Can you please suggest how to rename my war files best so that Tomcat deploys them in the desired order?</p>\n"},{"tags":["java","html","arraylist","struts2"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1453290086,"post_id":34896246,"comment_id":57534489,"body_markdown":"Just use a plain div-s.","body":"Just use a plain div-s."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1453298553,"post_id":34896246,"comment_id":57540250,"body_markdown":"Struts div is Ajax based, and recommended to use jQuery plugin","body":"Struts div is Ajax based, and recommended to use jQuery plugin"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1453305105,"post_id":34896246,"comment_id":57545089,"body_markdown":"`&lt;s:div &quot;  id=&quot;questionNumber&lt;s:property value=&#39;sortOrder&#39;/&gt;&quot;&gt;` is non-sensical in multiple ways, the most critical being that you cannot nest JSP tags like that.","body":"<code>&lt;s:div &quot;  id=&quot;questionNumber&lt;s:property value=&#39;sortOrder&#39;&#47;&gt;&quot;&gt;</code> is non-sensical in multiple ways, the most critical being that you cannot nest JSP tags like that."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1453373368,"post_id":34896246,"comment_id":57577020,"body_markdown":"`&lt;s:div&gt;` is not ajax based.","body":"<code>&lt;s:div&gt;</code> is not ajax based."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696255306,"creation_date":1453556614,"answer_id":34964202,"question_id":34896246,"body_markdown":"You are tried to use [`&lt;s:div&gt;`][1] tag like HTML `&lt;div&gt;` but it&#39;s wrong tag usage. The `&lt;s:div&gt;` is an Ajax tag used to load HTML content via Ajax call. But you don&#39;t need it, just use HTML `&lt;div&gt;`. \r\n\r\nAlso note, if you are using Struts tags make sure you don&#39;t nest them in Struts tag&#39;s head or attributes. You can nest tags only in the body of Struts tags. \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;div id=&quot;questionNumber&lt;s:property value=&#39;sortOrder&#39;/&gt;&quot;&gt;\r\n        &lt;span class=&quot;questionCode&quot;&gt;&lt;s:property value=&quot;questioncode&quot;/&gt;. &lt;/span&gt; \r\n\r\n        &lt;span class=&quot;questionText&quot;&gt;&lt;s:property value=&quot;questionname&quot;/&gt; &lt;/span&gt;\r\n\r\n        &lt;div class=&quot;answersBlock&quot;&gt;\r\n            &lt;div&gt;&lt;label class=&quot;answerLabel&quot;&gt;Ans. &lt;s:property value=&quot;answername&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n  [1]: http://struts.apache.org/docs/dojo-div.html","title":"How to use &lt;div&gt; properly in Struts 2","body":"<p>You are tried to use <a href=\"http://struts.apache.org/docs/dojo-div.html\" rel=\"nofollow noreferrer\"><code>&lt;s:div&gt;</code></a> tag like HTML <code>&lt;div&gt;</code> but it's wrong tag usage. The <code>&lt;s:div&gt;</code> is an Ajax tag used to load HTML content via Ajax call. But you don't need it, just use HTML <code>&lt;div&gt;</code>.</p>\n<p>Also note, if you are using Struts tags make sure you don't nest them in Struts tag's head or attributes. You can nest tags only in the body of Struts tags.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div id=&quot;questionNumber&lt;s:property value='sortOrder'/&gt;&quot;&gt;\n    &lt;span class=&quot;questionCode&quot;&gt;&lt;s:property value=&quot;questioncode&quot;/&gt;. &lt;/span&gt; \n\n    &lt;span class=&quot;questionText&quot;&gt;&lt;s:property value=&quot;questionname&quot;/&gt; &lt;/span&gt;\n\n    &lt;div class=&quot;answersBlock&quot;&gt;\n        &lt;div&gt;&lt;label class=&quot;answerLabel&quot;&gt;Ans. &lt;s:property value=&quot;answername&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":7267384,"reputation":2171,"user_id":5541565,"accept_rate":67,"display_name":"Shakti Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3009,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1696255306,"creation_date":1453282343,"question_id":34896246,"body_markdown":"I have a list in JSP page which is iterated by Struts tag and when I try to create `&lt;div&gt;` for each iteration it is not working fine.\r\n\r\n**Here is my code:**\r\n\r\n    &lt;div style=&quot;height:300px;width:700px;border:solid 2px white;overflow:scroll;overflow-x:hidden;overflow-y:scroll;&quot;&gt;\r\n    \r\n    \t\t&lt;s:if test=&quot;#request.questions !=null &amp;&amp; #request.questions.size()&gt;0&quot;&gt;\r\n              &lt;s:set var=&quot;id&quot;  value=&quot;-1&quot; /&gt;\r\n                   \r\n               &lt;s:iterator value=&quot;#request.questions&quot; status=&quot;index&quot; var=&quot;ques&quot;&gt;\r\n                    \r\n    \t\t\t &lt;s:if test=&quot;%{#id != surveyId}&quot;&gt; \r\n    \t\t\t   name &lt;s:property value=&quot;surveyId&quot;/&gt;\r\n    \t\t\t    &lt;s:set var=&quot;id&quot;  value=&quot;surveyId&quot;/&gt;\r\n    \t\t\t\t&lt;/s:if&gt;\r\n    \t\t\t  \r\n    \t\t\t  &lt;s:div &quot;  id=&quot;questionNumber&lt;s:property value=&#39;sortOrder&#39;/&gt;&quot;&gt;\r\n    \t\t\t\t\t&lt;span class=&quot;questionCode&quot;&gt;&lt;s:property value=&quot;questioncode&quot;/&gt;. &lt;/span&gt; \r\n    \t\t\t\t\t \r\n    \t\t\t\t\t&lt;span class=&quot;questionText&quot;&gt;&lt;s:property value=&quot;questionname&quot;/&gt; &lt;/span&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t\t&lt;s:div class=&quot;answersBlock&quot;&gt;\r\n    \t\t\t\t\t\t&lt;s:div&gt;&lt;label class=&quot;answerLabel&quot;&gt;Ans. &lt;s:property value=&quot;answername&quot;/&gt; &lt;/label&gt;&lt;/s:div&gt;\r\n    \t\t\t\t\t&lt;/s:div&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t&lt;/s:div&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t&lt;/s:iterator&gt;\r\n    \t\t&lt;/s:if&gt;\r\n    \t\t&lt;s:else&gt;\r\n    \t\t\tNo Survey Taken Yet.\r\n    \t\t&lt;/s:else&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\nHere I am getting date like in below format \r\n\r\n    id 281\r\n    q1: question\r\n    ans: -----\r\n    \r\n    id: 282\r\n    q1:question\r\n    ans: ---\r\n    q2: question\r\n    ans:----\r\n    q3:question\r\n    and:----\r\n\r\nnow what I want here is to create two separate `&lt;div&gt;` for `id`s 281, 282, and put content of  each `id` in a different `&lt;div&gt;`.\r\n\r\nI am getting data dynamically, so it could be  more then  2 `id`&#39;s, so on the bases of them create a `&lt;div&gt;` and one `id` can have multiple question answer.\r\n","title":"How to use &lt;div&gt; properly in Struts 2","body":"<p>I have a list in JSP page which is iterated by Struts tag and when I try to create <code>&lt;div&gt;</code> for each iteration it is not working fine.</p>\n<p><strong>Here is my code:</strong></p>\n<pre><code>&lt;div style=&quot;height:300px;width:700px;border:solid 2px white;overflow:scroll;overflow-x:hidden;overflow-y:scroll;&quot;&gt;\n\n        &lt;s:if test=&quot;#request.questions !=null &amp;&amp; #request.questions.size()&gt;0&quot;&gt;\n          &lt;s:set var=&quot;id&quot;  value=&quot;-1&quot; /&gt;\n               \n           &lt;s:iterator value=&quot;#request.questions&quot; status=&quot;index&quot; var=&quot;ques&quot;&gt;\n                \n             &lt;s:if test=&quot;%{#id != surveyId}&quot;&gt; \n               name &lt;s:property value=&quot;surveyId&quot;/&gt;\n                &lt;s:set var=&quot;id&quot;  value=&quot;surveyId&quot;/&gt;\n                &lt;/s:if&gt;\n              \n              &lt;s:div &quot;  id=&quot;questionNumber&lt;s:property value='sortOrder'/&gt;&quot;&gt;\n                    &lt;span class=&quot;questionCode&quot;&gt;&lt;s:property value=&quot;questioncode&quot;/&gt;. &lt;/span&gt; \n                     \n                    &lt;span class=&quot;questionText&quot;&gt;&lt;s:property value=&quot;questionname&quot;/&gt; &lt;/span&gt;\n                \n                    &lt;s:div class=&quot;answersBlock&quot;&gt;\n                        &lt;s:div&gt;&lt;label class=&quot;answerLabel&quot;&gt;Ans. &lt;s:property value=&quot;answername&quot;/&gt; &lt;/label&gt;&lt;/s:div&gt;\n                    &lt;/s:div&gt;\n                \n                &lt;/s:div&gt;\n                \n                &lt;/s:iterator&gt;\n        &lt;/s:if&gt;\n        &lt;s:else&gt;\n            No Survey Taken Yet.\n        &lt;/s:else&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Here I am getting date like in below format</p>\n<pre><code>id 281\nq1: question\nans: -----\n\nid: 282\nq1:question\nans: ---\nq2: question\nans:----\nq3:question\nand:----\n</code></pre>\n<p>now what I want here is to create two separate <code>&lt;div&gt;</code> for <code>id</code>s 281, 282, and put content of  each <code>id</code> in a different <code>&lt;div&gt;</code>.</p>\n<p>I am getting data dynamically, so it could be  more then  2 <code>id</code>'s, so on the bases of them create a <code>&lt;div&gt;</code> and one <code>id</code> can have multiple question answer.</p>\n"},{"tags":["java","android","kotlin","templates"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695070267,"post_id":77130306,"comment_id":135972490,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695073257,"creation_date":1695073257,"answer_id":77130544,"question_id":77130306,"body_markdown":"You can use the &quot;Empty Views Activity&quot; in Giraffe instead of the &quot;Basic Activity&quot; template in older versions, both are the same.","title":"Can&#39;t find basic activity template in Android Studio","body":"<p>You can use the &quot;Empty Views Activity&quot; in Giraffe instead of the &quot;Basic Activity&quot; template in older versions, both are the same.</p>\n"},{"tags":[],"owner":{"account_id":7194850,"reputation":1480,"user_id":5493999,"accept_rate":71,"display_name":"Abdul Mateen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696255264,"creation_date":1696255264,"answer_id":77216124,"question_id":77130306,"body_markdown":"This is the option that you are looking for. You need to select `Basic Views Activity` from the templates. The code for this will likely be a bit different than what the tutorial has. You might need to modify a few things in your Java/Kotlin code and in your XML. If you need any further help, we can continue this discussion in chat.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h2uD0.png","title":"Can&#39;t find basic activity template in Android Studio","body":"<p>This is the option that you are looking for. You need to select <code>Basic Views Activity</code> from the templates. The code for this will likely be a bit different than what the tutorial has. You might need to modify a few things in your Java/Kotlin code and in your XML. If you need any further help, we can continue this discussion in chat.</p>\n<p><a href=\"https://i.stack.imgur.com/h2uD0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2uD0.png\" alt=\"Screenshot\" /></a></p>\n"}],"owner":{"account_id":29476890,"reputation":11,"user_id":22588459,"display_name":"JAT06"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1696255264,"creation_date":1695070177,"question_id":77130306,"body_markdown":"I am a beginner programmer. I was following a tutorial and it used basic activity template, but I can&#39;t find it. Is there a place to download it or a way to make it available in Android Studio?\r\n\r\nI am using Android Studio Giraffe 2022.3.1 patch 1\r\n\r\nI have tried downloading 2021 version and I have found the basic activity but it had too many Gradle issues/system errors that I can&#39;t seem to solve.\r\n","title":"Can&#39;t find basic activity template in Android Studio","body":"<p>I am a beginner programmer. I was following a tutorial and it used basic activity template, but I can't find it. Is there a place to download it or a way to make it available in Android Studio?</p>\n<p>I am using Android Studio Giraffe 2022.3.1 patch 1</p>\n<p>I have tried downloading 2021 version and I have found the basic activity but it had too many Gradle issues/system errors that I can't seem to solve.</p>\n"},{"tags":["java","spring","rest","post"],"answers":[{"tags":[],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615397598,"creation_date":1615397598,"answer_id":66569980,"question_id":66554363,"body_markdown":"All I had to do was add:\r\n\r\n    @XmlRootElement(name=&quot;Template&quot;)\r\n    @JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\n    public class Template{\r\n\r\nAnd now it works the way I want it.","title":"How to accept PascalCase instead of camelCase in post request body nodes using Spring Boot Framework","body":"<p>All I had to do was add:</p>\n<pre><code>@XmlRootElement(name=&quot;Template&quot;)\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\npublic class Template{\n</code></pre>\n<p>And now it works the way I want it.</p>\n"},{"tags":[],"owner":{"account_id":5554348,"reputation":3,"user_id":4406302,"display_name":"Horv&#225;th P&#233;ter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696255184,"creation_date":1696254806,"answer_id":77216074,"question_id":66554363,"body_markdown":"This is *Deprecated* now, you have to use `PropertyNamingStrategies` instead of `PropertyNamingStrategy`. \r\n\r\n```java\r\n@XmlRootElement(name=&quot;Template&quot;)\r\n@JsonNaming(PropertyNamingStrategies.UpperCamelCaseStrategy.class)\r\npublic class Template{\r\n```","title":"How to accept PascalCase instead of camelCase in post request body nodes using Spring Boot Framework","body":"<p>This is <em>Deprecated</em> now, you have to use <code>PropertyNamingStrategies</code> instead of <code>PropertyNamingStrategy</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name=&quot;Template&quot;)\n@JsonNaming(PropertyNamingStrategies.UpperCamelCaseStrategy.class)\npublic class Template{\n</code></pre>\n"}],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696255184,"creation_date":1615321843,"question_id":66554363,"body_markdown":"Im am developing a REST API using Spring Framework. I have a post controller set up:\r\n\r\n    \r\n    @PostMapping(path=&quot;/v2/document&quot;, consumes= {&quot;application/xml&quot;,&quot;application/json&quot;}, produces={&quot;application/xml&quot;,&quot;application/json&quot;})\r\n    @ResponseBody\r\n    public ResponseEntity&lt;Object&gt; postDocument(HttpServletRequest request,@RequestBody Template template) throws Exception\r\n\r\nIt takes in a Template object:\r\npublic class Template{\r\n\r\n\t@XmlElement(name = &quot;Callback&quot;)\t\r\n\tprivate String Callback;\r\n\t\r\n\t@XmlElement(name = &quot;OutputFormat&quot;)\t\r\n\tprivate String OutputFormat;\r\n\t\r\n\t@XmlElement(name = &quot;Data&quot;)\t\r\n\tprivate byte[] Data;\r\n\t\r\n\t@XmlElement(name = &quot;ConnectionString&quot;)\t\r\n\tprivate String ConnectionString;\r\n\t\t\r\n\t@XmlElement(name = &quot;Format&quot;)\t\r\n\tprivate String Format;\r\n\t\r\n\t@XmlElementWrapper(name=&quot;Properties&quot;)\r\n\t@XmlElement(name = &quot;Property&quot;)\r\n\tprivate Property[] Properties;\r\n\r\nRight now this is the request body that works:\r\n\r\n        &lt;Template&gt;\r\n        &lt;connectionString&gt;ConString&lt;/connectionString&gt;\r\n        &lt;outputFormat&gt;pdf&lt;/outputFormat&gt;\r\n         &lt;datasources&gt;\r\n            &lt;datasource&gt;\r\n                    &lt;connectionString&gt;ConString&lt;/connectionString&gt;\r\n            &lt;/datasource&gt;\r\n        &lt;/datasources&gt;\r\n    &lt;/Template&gt;\r\n    \r\nWhere the outer tags are the proper PascalCase format &lt;Template&gt;, but the inner tags have to be camelCase. This is how I want the body to look:\r\n    \r\n    &lt;Template&gt;\r\n        &lt;ConnectionString&gt;ConString&lt;/ConnectionString&gt;\r\n        &lt;OutputFormat&gt;pdf&lt;/OutputFormat&gt;\r\n         &lt;Datasources&gt;\r\n            &lt;Datasource&gt;\r\n                    &lt;ConnectionString&gt;ConString&lt;/ConnectionString&gt;\r\n            &lt;/Datasource&gt;\r\n        &lt;/Datasources&gt;\r\n    &lt;/Template&gt;\r\n\r\n","title":"How to accept PascalCase instead of camelCase in post request body nodes using Spring Boot Framework","body":"<p>Im am developing a REST API using Spring Framework. I have a post controller set up:</p>\n<pre><code>@PostMapping(path=&quot;/v2/document&quot;, consumes= {&quot;application/xml&quot;,&quot;application/json&quot;}, produces={&quot;application/xml&quot;,&quot;application/json&quot;})\n@ResponseBody\npublic ResponseEntity&lt;Object&gt; postDocument(HttpServletRequest request,@RequestBody Template template) throws Exception\n</code></pre>\n<p>It takes in a Template object:\npublic class Template{</p>\n<pre><code>@XmlElement(name = &quot;Callback&quot;)  \nprivate String Callback;\n\n@XmlElement(name = &quot;OutputFormat&quot;)  \nprivate String OutputFormat;\n\n@XmlElement(name = &quot;Data&quot;)  \nprivate byte[] Data;\n\n@XmlElement(name = &quot;ConnectionString&quot;)  \nprivate String ConnectionString;\n    \n@XmlElement(name = &quot;Format&quot;)    \nprivate String Format;\n\n@XmlElementWrapper(name=&quot;Properties&quot;)\n@XmlElement(name = &quot;Property&quot;)\nprivate Property[] Properties;\n</code></pre>\n<p>Right now this is the request body that works:</p>\n<pre><code>    &lt;Template&gt;\n    &lt;connectionString&gt;ConString&lt;/connectionString&gt;\n    &lt;outputFormat&gt;pdf&lt;/outputFormat&gt;\n     &lt;datasources&gt;\n        &lt;datasource&gt;\n                &lt;connectionString&gt;ConString&lt;/connectionString&gt;\n        &lt;/datasource&gt;\n    &lt;/datasources&gt;\n&lt;/Template&gt;\n</code></pre>\n<p>Where the outer tags are the proper PascalCase format , but the inner tags have to be camelCase. This is how I want the body to look:</p>\n<pre><code>&lt;Template&gt;\n    &lt;ConnectionString&gt;ConString&lt;/ConnectionString&gt;\n    &lt;OutputFormat&gt;pdf&lt;/OutputFormat&gt;\n     &lt;Datasources&gt;\n        &lt;Datasource&gt;\n                &lt;ConnectionString&gt;ConString&lt;/ConnectionString&gt;\n        &lt;/Datasource&gt;\n    &lt;/Datasources&gt;\n&lt;/Template&gt;\n</code></pre>\n"},{"tags":["java","jco","sapjco3"],"answers":[{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576875111,"creation_date":1576875111,"answer_id":59431221,"question_id":59408200,"body_markdown":"The technical RFC connection design does not allow to reuse an RFC connection with a different user. An RFC connection is bound to a user identity which cannot be switched. Therefore a connection pool with multiple physical connections that will use different user ids on demand cannot be implemented.\r\nThis is not a limitation of JCo but of RFC in general.\r\n\r\nHowever this is not so tragic as the most expensive part of RFC connection establishment is not the opening of a new physical connection via TCP/IP but the RFC user authorization process with its RFC context object creations and internal initializations. So having connection pools per destination and user is what really helps for achieving better performance. You do not need to worry and to take care for optimizing the internal JCo connection pooling. This already works fairly good out-of-the-box even with an own pool for each user ID.","title":"reuse jco 3 connection pool for different sso tickets","body":"<p>The technical RFC connection design does not allow to reuse an RFC connection with a different user. An RFC connection is bound to a user identity which cannot be switched. Therefore a connection pool with multiple physical connections that will use different user ids on demand cannot be implemented.\nThis is not a limitation of JCo but of RFC in general.</p>\n\n<p>However this is not so tragic as the most expensive part of RFC connection establishment is not the opening of a new physical connection via TCP/IP but the RFC user authorization process with its RFC context object creations and internal initializations. So having connection pools per destination and user is what really helps for achieving better performance. You do not need to worry and to take care for optimizing the internal JCo connection pooling. This already works fairly good out-of-the-box even with an own pool for each user ID.</p>\n"}],"owner":{"account_id":318349,"reputation":1633,"user_id":635524,"accept_rate":25,"display_name":"archie_by"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59431221,"answer_count":1,"score":1,"last_activity_date":1696255105,"creation_date":1576752646,"question_id":59408200,"body_markdown":"We&#39;ve created a java application that uses JCo3 to access the remote SAP system data.\r\n\r\nWe are using SSO Tickets connect to that system.\r\n\r\nThe question is if there is some way to reuse the same connection pool for all the user SSO Tickets instead of creating a dedicated pool for each token.\r\n\r\nCurrently we have a DestinationDataProvider.getDestinationProperties implementation that takes SSO Ticket as a parameter and returns the corresponding Properties instance, ending up, I believe, with a connection pool per user.\r\n\r\nI&#39;m not sure how efficient this configuration is and would probably like to know if those connections could somehow be reused.","title":"reuse jco 3 connection pool for different sso tickets","body":"<p>We've created a java application that uses JCo3 to access the remote SAP system data.</p>\n\n<p>We are using SSO Tickets connect to that system.</p>\n\n<p>The question is if there is some way to reuse the same connection pool for all the user SSO Tickets instead of creating a dedicated pool for each token.</p>\n\n<p>Currently we have a DestinationDataProvider.getDestinationProperties implementation that takes SSO Ticket as a parameter and returns the corresponding Properties instance, ending up, I believe, with a connection pool per user.</p>\n\n<p>I'm not sure how efficient this configuration is and would probably like to know if those connections could somehow be reused.</p>\n"},{"tags":["java","javascript","jsp","struts2","csrf-protection"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1399458226,"post_id":23515095,"comment_id":36066429,"body_markdown":"What do you mean *jsp pages makes more than one call to server* ?","body":"What do you mean <i>jsp pages makes more than one call to server</i> ?"},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399458367,"post_id":23515095,"comment_id":36066523,"body_markdown":"I need to make multiple ajax request using the same token in the client page.","body":"I need to make multiple ajax request using the same token in the client page."},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399458429,"post_id":23515095,"comment_id":36066556,"body_markdown":"While jsp is converted to js a struts token is added to js. In this js there are multiple Ajax request. I hope I am making myself clear.","body":"While jsp is converted to js a struts token is added to js. In this js there are multiple Ajax request. I hope I am making myself clear."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1399458529,"post_id":23515095,"comment_id":36066620,"body_markdown":"You need to make each ajax request with a new token.","body":"You need to make each ajax request with a new token."},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399458687,"post_id":23515095,"comment_id":36066739,"body_markdown":"Yes you are right, but I will have only one token rt. Is there a way I can get the new token in the same js page ?","body":"Yes you are right, but I will have only one token rt. Is there a way I can get the new token in the same js page ?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1399458744,"post_id":23515095,"comment_id":36066782,"body_markdown":"See my answer to this question: http://stackoverflow.com/q/18822095/1700321.","body":"See my answer to this question: <a href=\"http://stackoverflow.com/q/18822095/1700321\">stackoverflow.com/q/18822095/1700321</a>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1399459007,"post_id":23515095,"comment_id":36066945,"body_markdown":"But this is not js :), one solution is coming to my mind and probably I had answered before is to use a parameter token.","body":"But this is not js :), one solution is coming to my mind and probably I had answered before is to use a parameter token."},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399461413,"post_id":23515095,"comment_id":36068536,"body_markdown":"@AleksandrM : The solution mentioned in the link, includes how to use token with hyperlink. my request is little different from that. \nThanks :)","body":"@AleksandrM : The solution mentioned in the link, includes how to use token with hyperlink. my request is little different from that.  Thanks :)"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1399463923,"post_id":23515095,"comment_id":36070324,"body_markdown":"Can you show a sample code ?","body":"Can you show a sample code ?"},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399464811,"post_id":23515095,"comment_id":36070969,"body_markdown":"@RomanC : can you please elaborate your solution. Thanks","body":"@RomanC : can you please elaborate your solution. Thanks"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1399469854,"post_id":23515095,"comment_id":36074752,"body_markdown":"JS or not JS what difference it makes? Build url with S2 tags and use it in ajax call.","body":"JS or not JS what difference it makes? Build url with S2 tags and use it in ajax call."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696255038,"creation_date":1399466491,"answer_id":23518147,"question_id":23515095,"body_markdown":"You can use the code in my answer for [Unable to implement Struts 2 token interceptor with hyperlink][1] to create an action that returns a token. You can use any of the results `stream` or `json` or `dispatcher` to return a token as a Ajax success callback result. You can find an example in [the issue returning JSON value][2]. Now you can use the token to make your Ajax requests. Each time you need to make a new request you should call a token action to get a new token. Use the token as a parameter to your request and put the token interceptor in front of your actions. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18823084/573032\r\n  [2]: https://stackoverflow.com/a/17096564/573032","title":"Struts2 token interceptor: CSRF protection","body":"<p>You can use the code in my answer for <a href=\"https://stackoverflow.com/a/18823084/573032\">Unable to implement Struts 2 token interceptor with hyperlink</a> to create an action that returns a token. You can use any of the results <code>stream</code> or <code>json</code> or <code>dispatcher</code> to return a token as a Ajax success callback result. You can find an example in <a href=\"https://stackoverflow.com/a/17096564/573032\">the issue returning JSON value</a>. Now you can use the token to make your Ajax requests. Each time you need to make a new request you should call a token action to get a new token. Use the token as a parameter to your request and put the token interceptor in front of your actions.</p>\n"}],"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13044,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":23518147,"answer_count":1,"score":8,"last_activity_date":1696255038,"creation_date":1399458049,"question_id":23515095,"body_markdown":"I am trying to protect my web application from CSRF attacks by using struts token interceptor.\r\n\r\nThe problem I am facing right now is our JSP pages makes more than one call to server (While JSP is converted to JS a struts token is added to JS.But in this JS there are multiple Ajax request. I hope I am making myself clear.), because of token interceptor only first request to the server is getting validated. Other requests are getting invalidated because struts token is reset after each validation.\r\n\r\nIs there a way I stop Struts from resetting the token every time it validates? \r\nIS there any other solutions to handle this in struts interceptor.\r\n\r\nI am also looking at `tomcatcsrfprotection` module, I guess I will end up with same problem here also.\r\n\r\n\r\n**`managepage.jsp`:**\r\n\r\n    &lt;s:token /&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    var strutsToken = &quot;&lt;s:property value=&quot;#session[&#39;struts.tokens.token&#39;]&quot; /&gt;&quot;;\r\n    var requestParams = {mainAction: &#39;loadGroups&#39;,&#39;struts.token.name&#39;: &#39;token&#39; , token:strutsToken};\r\n    \r\n    Ext.Ajax.request({\r\n                  url: &#39;manageUserAccount.action&#39;,\r\n                  params: Ext.urlEncode(requestParams),\r\n                  disableCaching: true,\r\n                  success: this.actionCallback\r\n                  });\r\n    \r\n    \r\n    \r\n    //loading widgets\r\n    \r\n    var requestParams = {mainAction: &#39;loadusers&#39;,&#39;struts.token.name&#39;: &#39;token&#39; , token:strutsToken};\r\n    \r\n    Ext.Ajax.request({\r\n                  url: &#39;manageUserAccount.action&#39;,\r\n                  params: Ext.urlEncode(requestParams),\r\n                  disableCaching: true,\r\n                  success: this.actionCallback\r\n                  });\r\n    \r\n    &lt;/script&gt;\r\n\r\n--------------------\r\n\r\n**`Struts.xml`:**\r\n\r\n      &lt;action name=&quot;manageUserAccountEdit&quot; class=&quot;ManageUserAccountEditAction&quot;&gt;\r\n         &lt;interceptor-ref name=&quot;csrf-protection&quot; /&gt; \r\n         &lt;result name=&quot;success&quot;&gt;/pages/manageUserAccount.jsp&lt;/result&gt;\r\n     &lt;/action&gt;\r\n\r\nI have just added minimum code so that understanding it will be easier.\r\n\r\n\r\n\r\n","title":"Struts2 token interceptor: CSRF protection","body":"<p>I am trying to protect my web application from CSRF attacks by using struts token interceptor.</p>\n\n<p>The problem I am facing right now is our JSP pages makes more than one call to server (While JSP is converted to JS a struts token is added to JS.But in this JS there are multiple Ajax request. I hope I am making myself clear.), because of token interceptor only first request to the server is getting validated. Other requests are getting invalidated because struts token is reset after each validation.</p>\n\n<p>Is there a way I stop Struts from resetting the token every time it validates? \nIS there any other solutions to handle this in struts interceptor.</p>\n\n<p>I am also looking at <code>tomcatcsrfprotection</code> module, I guess I will end up with same problem here also.</p>\n\n<p><strong><code>managepage.jsp</code>:</strong></p>\n\n<pre><code>&lt;s:token /&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar strutsToken = \"&lt;s:property value=\"#session['struts.tokens.token']\" /&gt;\";\nvar requestParams = {mainAction: 'loadGroups','struts.token.name': 'token' , token:strutsToken};\n\nExt.Ajax.request({\n              url: 'manageUserAccount.action',\n              params: Ext.urlEncode(requestParams),\n              disableCaching: true,\n              success: this.actionCallback\n              });\n\n\n\n//loading widgets\n\nvar requestParams = {mainAction: 'loadusers','struts.token.name': 'token' , token:strutsToken};\n\nExt.Ajax.request({\n              url: 'manageUserAccount.action',\n              params: Ext.urlEncode(requestParams),\n              disableCaching: true,\n              success: this.actionCallback\n              });\n\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<p><strong><code>Struts.xml</code>:</strong></p>\n\n<pre><code>  &lt;action name=\"manageUserAccountEdit\" class=\"ManageUserAccountEditAction\"&gt;\n     &lt;interceptor-ref name=\"csrf-protection\" /&gt; \n     &lt;result name=\"success\"&gt;/pages/manageUserAccount.jsp&lt;/result&gt;\n &lt;/action&gt;\n</code></pre>\n\n<p>I have just added minimum code so that understanding it will be easier.</p>\n"},{"tags":["java","spring","microservices","circuit-breaker","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653304722,"creation_date":1653304120,"answer_id":72347539,"question_id":71612676,"body_markdown":"Seems that the property is defined in the [docs][1] but actually, it does not work. There is a pull request for that -&gt; [CircuitBreakerConfigurationProperties has no ignoreException property][2].\r\n\r\nYou can use the common Spring+java configuration to achieve that in the meantime:\r\n```\r\n@Bean\r\nCircuitBreaker reportingApiCircuitBreaker(CircuitBreakerRegistry registry) {\r\n    CircuitBreakerConfig config = CircuitBreakerConfig.custom()\r\n        .ignoreExceptions(ApiException.class, BadRequestApiException.class)\r\n        .build();\r\n\r\n    return registry.circuitBreaker(&quot;yourCircuitBreakername&quot;, config);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/circuitbreaker\r\n  [2]: https://github.com/resilience4j/resilience4j/issues/1586","title":"Resilience4j Not Ignoring Exceptions","body":"<p>Seems that the property is defined in the <a href=\"https://resilience4j.readme.io/docs/circuitbreaker\" rel=\"nofollow noreferrer\">docs</a> but actually, it does not work. There is a pull request for that -&gt; <a href=\"https://github.com/resilience4j/resilience4j/issues/1586\" rel=\"nofollow noreferrer\">CircuitBreakerConfigurationProperties has no ignoreException property</a>.</p>\n<p>You can use the common Spring+java configuration to achieve that in the meantime:</p>\n<pre><code>@Bean\nCircuitBreaker reportingApiCircuitBreaker(CircuitBreakerRegistry registry) {\n    CircuitBreakerConfig config = CircuitBreakerConfig.custom()\n        .ignoreExceptions(ApiException.class, BadRequestApiException.class)\n        .build();\n\n    return registry.circuitBreaker(&quot;yourCircuitBreakername&quot;, config);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10208055,"reputation":917,"user_id":7697901,"display_name":"Alexandr Kovalenko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685459279,"creation_date":1685459279,"answer_id":76366228,"question_id":71612676,"body_markdown":"Pls try this way \r\n\r\n    resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions[0]=ccp.shared.platform.exception.ApiException\r\n    resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions[1]=ccp.shared.platform.exception.BadRequestApiException","title":"Resilience4j Not Ignoring Exceptions","body":"<p>Pls try this way</p>\n<pre><code>resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions[0]=ccp.shared.platform.exception.ApiException\nresilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions[1]=ccp.shared.platform.exception.BadRequestApiException\n</code></pre>\n"}],"owner":{"account_id":6357992,"reputation":539,"user_id":4934549,"display_name":"Arshad Yusuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5563,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696254773,"creation_date":1648187288,"question_id":71612676,"body_markdown":"JobServiceImpl.java:\r\n\r\n    @CircuitBreaker(name = &quot;jobsApiServiceGetAllJobs&quot;, fallbackMethod = &quot;getAllJobsFallback&quot;)\r\n    public ResponseEntity&lt;JobsResponse&gt; getAllJobs() {\r\n        ...\r\n        throw new ApiException();\r\n    }\r\n\r\n    public ResponseEntity&lt;JobsResponse&gt; getAllJobsFallback(Throwable throwable) {\r\n        log.error(&quot;Fallback method called&quot;);\r\n    }\r\n\r\napplication.properties:\r\n\r\n    resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions=ccp.shared.platform.exception.ApiException,ccp.shared.platform.exception.BadRequestApiException\r\n\r\n\r\nWhenever `ccp.shared.platform.exception.ApiException` is thrown, the fallback method is called even though I have added it in the `ignoreExceptions` list in the `application.properties` file. I want it to not trigger the fallback method when `ApiException` is thrown. I have tried similar questions on stack overflow and those does not work for me. Am I doing anything wrong?","title":"Resilience4j Not Ignoring Exceptions","body":"<p>JobServiceImpl.java:</p>\n<pre><code>@CircuitBreaker(name = &quot;jobsApiServiceGetAllJobs&quot;, fallbackMethod = &quot;getAllJobsFallback&quot;)\npublic ResponseEntity&lt;JobsResponse&gt; getAllJobs() {\n    ...\n    throw new ApiException();\n}\n\npublic ResponseEntity&lt;JobsResponse&gt; getAllJobsFallback(Throwable throwable) {\n    log.error(&quot;Fallback method called&quot;);\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions=ccp.shared.platform.exception.ApiException,ccp.shared.platform.exception.BadRequestApiException\n</code></pre>\n<p>Whenever <code>ccp.shared.platform.exception.ApiException</code> is thrown, the fallback method is called even though I have added it in the <code>ignoreExceptions</code> list in the <code>application.properties</code> file. I want it to not trigger the fallback method when <code>ApiException</code> is thrown. I have tried similar questions on stack overflow and those does not work for me. Am I doing anything wrong?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696234308,"post_id":77214012,"comment_id":136122256,"body_markdown":"The cartesian product is the reason you get the multiple bag exception. 4, no it wouldn&#39;t load the lazy-loaded data, only will load the data that you are using. You might want to rethink your model, do you really need all those relationships? Aren&#39;t some of them easier with just a basic query (like all child products, does that really need to be mapped, or can it simply be queried when needed).","body":"The cartesian product is the reason you get the multiple bag exception. 4, no it wouldn&#39;t load the lazy-loaded data, only will load the data that you are using. You might want to rethink your model, do you really need all those relationships? Aren&#39;t some of them easier with just a basic query (like all child products, does that really need to be mapped, or can it simply be queried when needed)."},{"owner":{"account_id":16258491,"reputation":159,"user_id":11740548,"display_name":"Mattmmmmm"},"score":0,"creation_date":1696235645,"post_id":77214012,"comment_id":136122451,"body_markdown":"@M.Deinum Thank you, but do you mean that when in a method with @Transactional annotation, lazy-loaded fields such as ```products``` and ```childCategories``` still would not be loaded when the entity is fetched until I explicitly access them like using ```c.getProducts```?","body":"@M.Deinum Thank you, but do you mean that when in a method with @Transactional annotation, lazy-loaded fields such as <code>products</code> and <code>childCategories</code> still would not be loaded when the entity is fetched until I explicitly access them like using <code>c.getProducts</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696236467,"post_id":77214012,"comment_id":136122595,"body_markdown":"Yes, that is the whole point of lazy loading.","body":"Yes, that is the whole point of lazy loading."},{"owner":{"account_id":16258491,"reputation":159,"user_id":11740548,"display_name":"Mattmmmmm"},"score":0,"creation_date":1696237093,"post_id":77214012,"comment_id":136122702,"body_markdown":"@M.Deinum Thank you. I always thought that using Transactional on a method would make all the lazy-loaded field of the entities fetched in that method loaded even when not used. Didn&#39;t realize I was wrong until now","body":"@M.Deinum Thank you. I always thought that using Transactional on a method would make all the lazy-loaded field of the entities fetched in that method loaded even when not used. Didn&#39;t realize I was wrong until now"}],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696254767,"creation_date":1696254767,"answer_id":77216067,"question_id":77214012,"body_markdown":"When using Hibernate you could use approach 3. with this improvement:\r\n\r\n```\r\n...\r\n@Fetch(FetchMode.SUBSELECT)\r\nprivate List&lt;ProductImg&gt; productImages;\r\n```\r\n\r\nAs soon as you access the images from one of your products **all** the images for any product will be fetched within a single select.","title":"How to fetch a 3-level relationships where all foreign fields are lazy-loaded Lists without causing MultipleBagFetchException?","body":"<p>When using Hibernate you could use approach 3. with this improvement:</p>\n<pre><code>...\n@Fetch(FetchMode.SUBSELECT)\nprivate List&lt;ProductImg&gt; productImages;\n</code></pre>\n<p>As soon as you access the images from one of your products <strong>all</strong> the images for any product will be fetched within a single select.</p>\n"}],"owner":{"account_id":16258491,"reputation":159,"user_id":11740548,"display_name":"Mattmmmmm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77216067,"answer_count":1,"score":0,"last_activity_date":1696254767,"creation_date":1696233895,"question_id":77214012,"body_markdown":"I have an entity ```Category```, and it has a foreign key fields ```allChildProducs```(a product have both a ```category_id``` and a ```root_category_id```) that are all products whose top-level category is this ```Category```, and ```Product``` entity has a field ```productImages``` that references all images belonging to this ```Product``` \r\n\r\nHere are their relationships:\r\n\r\n```Category``` --1:N-- ```Product``` --1:N-- ```ProductImage```\r\n\r\n```\r\npublic class Category {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;category_id&quot;)\r\n    private Integer categoryId;\r\n\r\n    @Column(name = &quot;category_name&quot;)\r\n    @NotNull\r\n    private String categoryName;\r\n\r\n    @Column(name = &quot;category_level&quot;)\r\n    @NotNull\r\n    private Integer categoryLevel;\r\n\r\n    @Column(name = &quot;parent_id&quot;)\r\n    @NotNull\r\n    private Long parentId;\r\n\r\n    @Column(name = &quot;category_icon&quot;)\r\n    private String categoryIcon;\r\n\r\n    @Column(name = &quot;category_slogan&quot;)\r\n    private String categorySlogan;\r\n\r\n    @Column(name = &quot;category_pic&quot;)\r\n    private String categoryPic;\r\n\r\n    @Column(name = &quot;category_bg_color&quot;)\r\n    private String categoryBgColor;\r\n\r\n    @ToString.Exclude\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;category_id&quot;, insertable = false, updatable = false)\r\n    private Category parentCategory;\r\n\r\n    @ToString.Exclude\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parentCategory&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Category&gt; childCategories;\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;Product&gt; products;\r\n\r\n    @OneToMany(mappedBy = &quot;rootCategory&quot;, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;Product&gt; allChildProducts;\r\n}\r\n\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @NotNull\r\n    private int productId;\r\n\r\n    @Column(name = &quot;product_name&quot;)\r\n    @NotNull\r\n    private String productName;\r\n\r\n    @Column(name = &quot;sold_num&quot;)\r\n    @NotNull\r\n    private int soldNum;\r\n\r\n    @Column(name = &quot;product_status&quot;)\r\n    @NotNull\r\n    private int productStatus;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    @NotNull\r\n    private String content;\r\n\r\n    @Column(name = &quot;create_time&quot;)\r\n    @NotNull\r\n    @CreationTimestamp\r\n    private Date createTime;\r\n\r\n    @Column(name = &quot;update_time&quot;)\r\n    @NotNull\r\n    @UpdateTimestamp\r\n    private Date updateTime;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;category_id&quot;, insertable = false, updatable = false)\r\n    @ToString.Exclude\r\n    private Category category;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;root_category_id&quot;, insertable = false, updatable = false)\r\n    @ToString.Exclude\r\n    private Category rootCategory;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;ProductImg&gt; productImages;\r\n}\r\n\r\npublic class ProductImage {\r\n    @Id\r\n    @Column(length = 64)\r\n    @NotNull\r\n    private String id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    @NotNull\r\n    @ToString.Exclude\r\n    private Product product;\r\n\r\n    @Column(name = &quot;url&quot;, length = 128)\r\n    @NotNull\r\n    private String url;\r\n\r\n    @Column(name = &quot;sort&quot;)\r\n    @NotNull\r\n    private int sort;\r\n\r\n    @Column(name = &quot;is_main&quot;)\r\n    @NotNull\r\n    private int isMain;\r\n\r\n    @Column(name = &quot;created_time&quot;)\r\n    @CreationTimestamp\r\n    @NotNull\r\n    private Date createdTime;\r\n\r\n    @Column(name = &quot;updated_time&quot;)\r\n    @UpdateTimestamp\r\n    @NotNull\r\n    private Date updatedTime;\r\n}\r\n``` \r\n\r\nNow I am trying to fetch a list of ```Category```, each element must have their ```allChildProducts``` loaded, and each ```Product``` in ```allChildProducts``` must also have their ```productImages``` loaded.\r\n\r\nHere are all the failed attempts I have tried:\r\n\r\n**1: Using multiple Join Fetch**\r\n```\r\npublic interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\r\n    @Query(&quot;SELECT DISTINCT c FROM Category c &quot; +\r\n        &quot;LEFT JOIN FETCH c.allChildProducts acp &quot; +\r\n        &quot;LEFT JOIN FETCH acp.productImages &quot; +\r\n        &quot;WHERE c.categoryLevel = :categoryLevel&quot;)\r\nList&lt;Category&gt; findAllWithAllChildProductsAndImages(@Param(&quot;categoryLevel&quot;) int categoryLevel);\r\n}\r\n```\r\nI got a ```MultipleBagFetchException```\r\n\r\n**2: Using Entity Graph**\r\n```\r\n@NamedEntityGraph(\r\n        name = &quot;category-with-products-and-images&quot;,\r\n        attributeNodes = {\r\n                @NamedAttributeNode(value = &quot;allChildProducts&quot;, subgraph = &quot;products-subgraph&quot;)\r\n        },\r\n        subgraphs = {\r\n                @NamedSubgraph(\r\n                        name = &quot;products-subgraph&quot;,\r\n                        attributeNodes = {\r\n                                @NamedAttributeNode(value = &quot;productImages&quot;)\r\n                        }\r\n                )\r\n        }\r\n)\r\npublic class Category { ... }\r\n\r\n@EntityGraph(value = &quot;category-with-products-and-images&quot;)\r\n@Query(&quot;SELECT DISTINCT c FROM Category c &quot; +\r\n       &quot;WHERE c.categoryLevel = :categoryLevel&quot;\r\n)\r\nList&lt;Category&gt; findAllWithAllChildProducts(@Param(&quot;categoryLevel&quot;) int categoryLevel);\r\n```\r\n\r\nI also got a ```MultipleBagFetchException```\r\n\r\n\r\nHere are all methods I have **NOT** tried that probably contains some serious flaws:\r\n\r\n**1: Using FetchType.EAGER**\r\n\r\nMade ```allChildProducts``` and ```productImages``` eager-loaded would solve the problem, but they would also cause some serious performance issues\r\n\r\n**2: Changing lazy-loaded foreign key collection type from List to Set**\r\n\r\n[This article][1] says it is also a bad idea as that would lead to Cartesian Product\r\n\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-multiplebagfetchexception/\r\n\r\n**3: JOIN FETCH ```allChildProducts``` field of each Category entity, iterate through products and fetch the ProductImages field once by one**\r\n\r\nWould cause too many I/O operations.\r\n\r\n**4: Using @Transactional at the service-layer method that need to fetch the data**\r\n\r\nThis would made all lazy-loaded fields loaded, even the unused ones.\r\n\r\n\r\nAfter all these attempts, I have come to the conclusion that I need to make a choice between having a Cartesian Product and Multiple I/O operations, so I have been thinking about just living with Cartesian Product and going with 2th or 4th unattempted methods. I am not sure if there is another way that would cause neither problems, so please give me some advice.\r\n","title":"How to fetch a 3-level relationships where all foreign fields are lazy-loaded Lists without causing MultipleBagFetchException?","body":"<p>I have an entity <code>Category</code>, and it has a foreign key fields <code>allChildProducs</code>(a product have both a <code>category_id</code> and a <code>root_category_id</code>) that are all products whose top-level category is this <code>Category</code>, and <code>Product</code> entity has a field <code>productImages</code> that references all images belonging to this <code>Product</code></p>\n<p>Here are their relationships:</p>\n<p><code>Category</code> --1:N-- <code>Product</code> --1:N-- <code>ProductImage</code></p>\n<pre><code>public class Category {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;category_id&quot;)\n    private Integer categoryId;\n\n    @Column(name = &quot;category_name&quot;)\n    @NotNull\n    private String categoryName;\n\n    @Column(name = &quot;category_level&quot;)\n    @NotNull\n    private Integer categoryLevel;\n\n    @Column(name = &quot;parent_id&quot;)\n    @NotNull\n    private Long parentId;\n\n    @Column(name = &quot;category_icon&quot;)\n    private String categoryIcon;\n\n    @Column(name = &quot;category_slogan&quot;)\n    private String categorySlogan;\n\n    @Column(name = &quot;category_pic&quot;)\n    private String categoryPic;\n\n    @Column(name = &quot;category_bg_color&quot;)\n    private String categoryBgColor;\n\n    @ToString.Exclude\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;category_id&quot;, insertable = false, updatable = false)\n    private Category parentCategory;\n\n    @ToString.Exclude\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parentCategory&quot;, cascade = CascadeType.ALL)\n    private List&lt;Category&gt; childCategories;\n\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private List&lt;Product&gt; products;\n\n    @OneToMany(mappedBy = &quot;rootCategory&quot;, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private List&lt;Product&gt; allChildProducts;\n}\n\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @NotNull\n    private int productId;\n\n    @Column(name = &quot;product_name&quot;)\n    @NotNull\n    private String productName;\n\n    @Column(name = &quot;sold_num&quot;)\n    @NotNull\n    private int soldNum;\n\n    @Column(name = &quot;product_status&quot;)\n    @NotNull\n    private int productStatus;\n\n    @Column(name = &quot;content&quot;)\n    @NotNull\n    private String content;\n\n    @Column(name = &quot;create_time&quot;)\n    @NotNull\n    @CreationTimestamp\n    private Date createTime;\n\n    @Column(name = &quot;update_time&quot;)\n    @NotNull\n    @UpdateTimestamp\n    private Date updateTime;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, insertable = false, updatable = false)\n    @ToString.Exclude\n    private Category category;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;root_category_id&quot;, insertable = false, updatable = false)\n    @ToString.Exclude\n    private Category rootCategory;\n\n    @OneToMany(mappedBy = &quot;product&quot;, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private List&lt;ProductImg&gt; productImages;\n}\n\npublic class ProductImage {\n    @Id\n    @Column(length = 64)\n    @NotNull\n    private String id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;product_id&quot;)\n    @NotNull\n    @ToString.Exclude\n    private Product product;\n\n    @Column(name = &quot;url&quot;, length = 128)\n    @NotNull\n    private String url;\n\n    @Column(name = &quot;sort&quot;)\n    @NotNull\n    private int sort;\n\n    @Column(name = &quot;is_main&quot;)\n    @NotNull\n    private int isMain;\n\n    @Column(name = &quot;created_time&quot;)\n    @CreationTimestamp\n    @NotNull\n    private Date createdTime;\n\n    @Column(name = &quot;updated_time&quot;)\n    @UpdateTimestamp\n    @NotNull\n    private Date updatedTime;\n}\n</code></pre>\n<p>Now I am trying to fetch a list of <code>Category</code>, each element must have their <code>allChildProducts</code> loaded, and each <code>Product</code> in <code>allChildProducts</code> must also have their <code>productImages</code> loaded.</p>\n<p>Here are all the failed attempts I have tried:</p>\n<p><strong>1: Using multiple Join Fetch</strong></p>\n<pre><code>public interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\n    @Query(&quot;SELECT DISTINCT c FROM Category c &quot; +\n        &quot;LEFT JOIN FETCH c.allChildProducts acp &quot; +\n        &quot;LEFT JOIN FETCH acp.productImages &quot; +\n        &quot;WHERE c.categoryLevel = :categoryLevel&quot;)\nList&lt;Category&gt; findAllWithAllChildProductsAndImages(@Param(&quot;categoryLevel&quot;) int categoryLevel);\n}\n</code></pre>\n<p>I got a <code>MultipleBagFetchException</code></p>\n<p><strong>2: Using Entity Graph</strong></p>\n<pre><code>@NamedEntityGraph(\n        name = &quot;category-with-products-and-images&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;allChildProducts&quot;, subgraph = &quot;products-subgraph&quot;)\n        },\n        subgraphs = {\n                @NamedSubgraph(\n                        name = &quot;products-subgraph&quot;,\n                        attributeNodes = {\n                                @NamedAttributeNode(value = &quot;productImages&quot;)\n                        }\n                )\n        }\n)\npublic class Category { ... }\n\n@EntityGraph(value = &quot;category-with-products-and-images&quot;)\n@Query(&quot;SELECT DISTINCT c FROM Category c &quot; +\n       &quot;WHERE c.categoryLevel = :categoryLevel&quot;\n)\nList&lt;Category&gt; findAllWithAllChildProducts(@Param(&quot;categoryLevel&quot;) int categoryLevel);\n</code></pre>\n<p>I also got a <code>MultipleBagFetchException</code></p>\n<p>Here are all methods I have <strong>NOT</strong> tried that probably contains some serious flaws:</p>\n<p><strong>1: Using FetchType.EAGER</strong></p>\n<p>Made <code>allChildProducts</code> and <code>productImages</code> eager-loaded would solve the problem, but they would also cause some serious performance issues</p>\n<p><strong>2: Changing lazy-loaded foreign key collection type from List to Set</strong></p>\n<p><a href=\"https://vladmihalcea.com/hibernate-multiplebagfetchexception/\" rel=\"nofollow noreferrer\">This article</a> says it is also a bad idea as that would lead to Cartesian Product</p>\n<p><strong>3: JOIN FETCH <code>allChildProducts</code> field of each Category entity, iterate through products and fetch the ProductImages field once by one</strong></p>\n<p>Would cause too many I/O operations.</p>\n<p><strong>4: Using @Transactional at the service-layer method that need to fetch the data</strong></p>\n<p>This would made all lazy-loaded fields loaded, even the unused ones.</p>\n<p>After all these attempts, I have come to the conclusion that I need to make a choice between having a Cartesian Product and Multiple I/O operations, so I have been thinking about just living with Cartesian Product and going with 2th or 4th unattempted methods. I am not sure if there is another way that would cause neither problems, so please give me some advice.</p>\n"},{"tags":["java","cookies","jboss","cookie-httponly"],"owner":{"account_id":28105867,"reputation":11,"user_id":21474467,"display_name":"andreiiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696254445,"creation_date":1696254172,"question_id":77216009,"body_markdown":"I&#39;m using JBoss and Jersey for my java web application, and I need to set the flags httpOnly and secure to true in my cookies. To achieve this, I implemented a filter that adds the secure and httpOnly flags to all responses. However, I&#39;ve encountered an issue where it seems like the cookies are being split. Specifically, for session cookies (e.g., JSESSIONID), subsequent calls are made on different JBoss sessions, resulting in an inability to find profile data because it appears as if I have different sessions for every call.\r\n\r\n\r\n\r\n\r\nIn my web.xml, I already have the following configuration:\r\n\r\n```\r\n&lt;session-config&gt;\r\n\t&lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n\t&lt;cookie-config&gt;\r\n\t\t\r\n\t\t&lt;http-only&gt;true&lt;/http-only&gt;\r\n\t\t&lt;secure&gt;true&lt;/secure&gt;\r\n\t&lt;/cookie-config&gt;\r\n\t&lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n  &lt;/session-config&gt;\r\n```\r\nHowever, when I check the response in the web console, I don&#39;t see the flags set on the cookie response.\r\n\r\nCan someone please provide guidance on how to set these flags to true, if I need to set to true only one of those and why the filter is not working as expected? \r\n","title":"Problem when httpOnly and secure flag are setted to true on cookies using jsessionId","body":"<p>I'm using JBoss and Jersey for my java web application, and I need to set the flags httpOnly and secure to true in my cookies. To achieve this, I implemented a filter that adds the secure and httpOnly flags to all responses. However, I've encountered an issue where it seems like the cookies are being split. Specifically, for session cookies (e.g., JSESSIONID), subsequent calls are made on different JBoss sessions, resulting in an inability to find profile data because it appears as if I have different sessions for every call.</p>\n<p>In my web.xml, I already have the following configuration:</p>\n<pre><code>&lt;session-config&gt;\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;cookie-config&gt;\n        \n        &lt;http-only&gt;true&lt;/http-only&gt;\n        &lt;secure&gt;true&lt;/secure&gt;\n    &lt;/cookie-config&gt;\n    &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n  &lt;/session-config&gt;\n</code></pre>\n<p>However, when I check the response in the web console, I don't see the flags set on the cookie response.</p>\n<p>Can someone please provide guidance on how to set these flags to true, if I need to set to true only one of those and why the filter is not working as expected?</p>\n"},{"tags":["java","struts2","struts","struts2-jquery","actionresult"],"comments":[{"owner":{"account_id":209800,"reputation":1661,"user_id":461055,"accept_rate":78,"display_name":"Sumit"},"score":0,"creation_date":1365268013,"post_id":15853558,"comment_id":22561949,"body_markdown":"I think your action method needs to be mapped to jsp/template/view, you would also need to specify an object/model from which your view will be rendered.","body":"I think your action method needs to be mapped to jsp/template/view, you would also need to specify an object/model from which your view will be rendered."},{"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"score":0,"creation_date":1365268397,"post_id":15853558,"comment_id":22562075,"body_markdown":"can i do it by just getters and setters, will try n post back","body":"can i do it by just getters and setters, will try n post back"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1365269981,"creation_date":1365268487,"answer_id":15853765,"question_id":15853558,"body_markdown":"Classically to return something from the action you need to put the result annotation on the action or method\r\n\r\n    @Result(location = &quot;/pages/success.jsp&quot;) \r\n\r\nin the result you write the markup that will be inserted in the targets. You may need to supply http headers to turn off cache-control while the page is not reloaded. \r\n\r\nDoing with the response you need your action to implement `ServletResponseAware`.","title":"How to return a line from the action method in Struts2?","body":"<p>Classically to return something from the action you need to put the result annotation on the action or method</p>\n\n<pre><code>@Result(location = \"/pages/success.jsp\") \n</code></pre>\n\n<p>in the result you write the markup that will be inserted in the targets. You may need to supply http headers to turn off cache-control while the page is not reloaded. </p>\n\n<p>Doing with the response you need your action to implement <code>ServletResponseAware</code>.</p>\n"}],"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15853765,"answer_count":1,"score":1,"last_activity_date":1696254394,"creation_date":1365267434,"question_id":15853558,"body_markdown":"I want to return a line from the action method. My JSP is below\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;sj:head/&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;div id=&quot;div1&quot;&gt;Div 1&lt;/div&gt;\r\n        &lt;s:url id=&quot;ajaxTest&quot; value=&quot;/test.action&quot;/&gt;\r\n    \r\n        &lt;sj:a id=&quot;link1&quot; href=&quot;%{ajaxTest}&quot; targets=&quot;div1&quot;&gt;\r\n          Update Content\r\n        &lt;/sj:a&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**The action:** \r\n\r\n    @Action(value=&quot;test&quot;)\r\n        public String jquery() throws IOException\r\n        {\r\n           System.out.println(&quot;hello&quot;);\r\n            return SUCCESS;\r\n        }\r\n\r\nCurrently, I am getting the output as success and I think it&#39;s due to the return `SUCCESS`. What I need is to popup some custom text sent from the test action. How can I achieve that?\r\n","title":"How to return a line from the action method in Struts2?","body":"<p>I want to return a line from the action method. My JSP is below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;sj:head/&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=&quot;div1&quot;&gt;Div 1&lt;/div&gt;\n    &lt;s:url id=&quot;ajaxTest&quot; value=&quot;/test.action&quot;/&gt;\n\n    &lt;sj:a id=&quot;link1&quot; href=&quot;%{ajaxTest}&quot; targets=&quot;div1&quot;&gt;\n      Update Content\n    &lt;/sj:a&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>The action:</strong></p>\n<pre><code>@Action(value=&quot;test&quot;)\n    public String jquery() throws IOException\n    {\n       System.out.println(&quot;hello&quot;);\n        return SUCCESS;\n    }\n</code></pre>\n<p>Currently, I am getting the output as success and I think it's due to the return <code>SUCCESS</code>. What I need is to popup some custom text sent from the test action. How can I achieve that?</p>\n"},{"tags":["java","sorting","lambda","java-8","comparator"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1403804632,"post_id":24436871,"comment_id":37810592,"body_markdown":"It would be helpful if you include in your question all the compilation error messages you are getting in all your tests.","body":"It would be helpful if you include in your question all the compilation error messages you are getting in all your tests."},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":1,"creation_date":1403805589,"post_id":24436871,"comment_id":37811027,"body_markdown":"to be honest, I think it would be easiest for someone to see what the issues are by running the source code themselves.","body":"to be honest, I think it would be easiest for someone to see what the issues are by running the source code themselves."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1403807493,"post_id":24436871,"comment_id":37812049,"body_markdown":"What are the types of `t1` and `t2` in the `Objects.compare` example? I&#39;m trying to infer them, but layering my type inference over the compiler&#39;s type inference is intractable. :-)","body":"What are the types of <code>t1</code> and <code>t2</code> in the <code>Objects.compare</code> example? I&#39;m trying to infer them, but layering my type inference over the compiler&#39;s type inference is intractable. :-)"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1403807596,"post_id":24436871,"comment_id":37812109,"body_markdown":"Also what compiler are you using?","body":"Also what compiler are you using?"},{"owner":{"account_id":195331,"reputation":275388,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1403807691,"post_id":24436871,"comment_id":37812177,"body_markdown":"Yeah, the error with `Comparator.sort` happens with Eclipse&#39;s, but not the JDK&#39;s compiler.","body":"Yeah, the error with <code>Comparator.sort</code> happens with Eclipse&#39;s, but not the JDK&#39;s compiler."},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":0,"creation_date":1403808792,"post_id":24436871,"comment_id":37812793,"body_markdown":"I am using Eclipse Kepler SR2 with patches for Java 8. Also, t1 and t2 are of type Song, sorry, should have posted: Song t1 = new Song(&quot;Only girl in world&quot;, 238, &quot;Rhianna&quot;); Song t2 = new Song(&quot;Other song&quot;, 99, &quot;Rhianna&quot;);","body":"I am using Eclipse Kepler SR2 with patches for Java 8. Also, t1 and t2 are of type Song, sorry, should have posted: Song t1 = new Song(&quot;Only girl in world&quot;, 238, &quot;Rhianna&quot;); Song t2 = new Song(&quot;Other song&quot;, 99, &quot;Rhianna&quot;);"},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":0,"creation_date":1403809129,"post_id":24436871,"comment_id":37813001,"body_markdown":"Stuart Marks - another question I have for you is does the comparing and thenComparing methods use the compareTo method on the value passed to them, e.g. if a string is passed p1.getTitle() then I assume the compareTo method is used to compare the two title strings? I realised this by creating a field in my Song class of a custom type, e.g. class Name then trying to pass this to the comparator, e.g. comparing((Song p1) -&gt; p1.getName()) and found it gave me a syntax error until I made the Name class implement Comparable. The javadoc is not clear on this.","body":"Stuart Marks - another question I have for you is does the comparing and thenComparing methods use the compareTo method on the value passed to them, e.g. if a string is passed p1.getTitle() then I assume the compareTo method is used to compare the two title strings? I realised this by creating a field in my Song class of a custom type, e.g. class Name then trying to pass this to the comparator, e.g. comparing((Song p1) -&gt; p1.getName()) and found it gave me a syntax error until I made the Name class implement Comparable. The javadoc is not clear on this."},{"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"score":0,"creation_date":1403809898,"post_id":24436871,"comment_id":37813431,"body_markdown":"@user3780370 yes the 2nd generic type in the `comparing` and `thenComparing` must implement `Comparable` unless you call the overloaded methods which take a 2nd function to do the comparison.","body":"@user3780370 yes the 2nd generic type in the <code>comparing</code> and <code>thenComparing</code> must implement <code>Comparable</code> unless you call the overloaded methods which take a 2nd function to do the comparison."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1403811398,"post_id":24436871,"comment_id":37814274,"body_markdown":"You&#39;ve got two separate issues going here.  One of the answerers pointed out you could use method references, which you sorta brushed off.  Just as lambdas come in both &quot;explicitly typed&quot; and &quot;implicitly typed&quot; flavors, method references come in &quot;exact&quot; (one overload) and &quot;inexact&quot; (multiple overloads) flavors.  Either an exact method ref or an explicit lambda can be used to provide additional typing information if not present.  (Explicit type witnesses and casts can also be used, but are often bigger hammers.)","body":"You&#39;ve got two separate issues going here.  One of the answerers pointed out you could use method references, which you sorta brushed off.  Just as lambdas come in both &quot;explicitly typed&quot; and &quot;implicitly typed&quot; flavors, method references come in &quot;exact&quot; (one overload) and &quot;inexact&quot; (multiple overloads) flavors.  Either an exact method ref or an explicit lambda can be used to provide additional typing information if not present.  (Explicit type witnesses and casts can also be used, but are often bigger hammers.)"},{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671403863,"post_id":24436871,"comment_id":132086595,"body_markdown":"Note to future readers: Do not post images of error messages. Post the error message as text. [See here](https://meta.stackoverflow.com/a/285557/11107541) for why.","body":"Note to future readers: Do not post images of error messages. Post the error message as text. <a href=\"https://meta.stackoverflow.com/a/285557/11107541\">See here</a> for why."}],"answers":[{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1403806793,"creation_date":1403805575,"answer_id":24437207,"question_id":24436871,"body_markdown":"The problem is type inferencing.  Without adding a `(Song s)` to the first comparison, `comparator.comparing` doesn&#39;t know the type of the input so it defaults to Object.\r\n\r\nYou can fix this problem 1 of 3 ways:\r\n\r\n1.  Use the new Java 8 method reference syntax\r\n    \r\n         Collections.sort(playlist,\r\n\t\t            Comparator.comparing(Song::getTitle)\r\n\t\t            .thenComparing(Song::getDuration)\r\n\t\t            .thenComparing(Song::getArtist)\r\n\t\t            );\r\n\r\n2. Pull out each comparison step into a local reference\r\n\r\n \r\n          Comparator&lt;Song&gt; byName = (s1, s2) -&gt; s1.getArtist().compareTo(s2.getArtist());\r\n    \r\n          Comparator&lt;Song&gt; byDuration = (s1, s2) -&gt; Integer.compare(s1.getDuration(), s2.getDuration());\r\n\t\t    \r\n\t\t    Collections.sort(playlist,\r\n\t\t            byName\r\n\t\t            .thenComparing(byDuration)\r\n\t\t            );\r\n**EDIT**\r\n3.  Forcing the type returned by the Comparator (note you need both the input type and the comparison key type)\r\n         \r\n        sort(\r\n          Comparator.&lt;Song, String&gt;comparing((s) -&gt; s.getTitle())\r\n\t\t            .thenComparing(p1 -&gt; p1.getDuration())\r\n\t\t            .thenComparing(p1 -&gt; p1.getArtist())\r\n\t\t            );\r\n\r\nI think the &quot;last&quot; `thenComparing` syntax error is misleading you.  It&#39;s actually a type problem with the whole chain, it&#39;s just the compiler only marking the end of the chain as a syntax error because that&#39;s when the final return type doesn&#39;t match I guess.\r\n\r\nI&#39;m not sure why `List` is doing a better inferencing job than `Collection` since it should do the same capture type but apparently not.","title":"Very confused by Java 8 Comparator type inference","body":"<p>The problem is type inferencing.  Without adding a <code>(Song s)</code> to the first comparison, <code>comparator.comparing</code> doesn't know the type of the input so it defaults to Object.</p>\n\n<p>You can fix this problem 1 of 3 ways:</p>\n\n<ol>\n<li><p>Use the new Java 8 method reference syntax</p>\n\n<pre><code> Collections.sort(playlist,\n            Comparator.comparing(Song::getTitle)\n            .thenComparing(Song::getDuration)\n            .thenComparing(Song::getArtist)\n            );\n</code></pre></li>\n<li><p>Pull out each comparison step into a local reference</p>\n\n<pre><code>  Comparator&lt;Song&gt; byName = (s1, s2) -&gt; s1.getArtist().compareTo(s2.getArtist());\n\n  Comparator&lt;Song&gt; byDuration = (s1, s2) -&gt; Integer.compare(s1.getDuration(), s2.getDuration());\n\n    Collections.sort(playlist,\n            byName\n            .thenComparing(byDuration)\n            );\n</code></pre>\n\n<p><strong>EDIT</strong></p></li>\n<li><p>Forcing the type returned by the Comparator (note you need both the input type and the comparison key type)</p>\n\n<pre><code>sort(\n  Comparator.&lt;Song, String&gt;comparing((s) -&gt; s.getTitle())\n            .thenComparing(p1 -&gt; p1.getDuration())\n            .thenComparing(p1 -&gt; p1.getArtist())\n            );\n</code></pre></li>\n</ol>\n\n<p>I think the \"last\" <code>thenComparing</code> syntax error is misleading you.  It's actually a type problem with the whole chain, it's just the compiler only marking the end of the chain as a syntax error because that's when the final return type doesn't match I guess.</p>\n\n<p>I'm not sure why <code>List</code> is doing a better inferencing job than <code>Collection</code> since it should do the same capture type but apparently not.</p>\n"},{"tags":[],"owner":{"account_id":311679,"reputation":89812,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403806623,"creation_date":1403806623,"answer_id":24437480,"question_id":24436871,"body_markdown":"`playlist1.sort(...)` creates a bound of Song for the type variable E, from the declaration of playlist1, which &quot;ripples&quot; to the comparator. \r\n\r\nIn `Collections.sort(...)`, there is no such bound, and the inference from the type of the first comparator is not enough for the compiler to infer the rest. \r\n\r\nI think you would get &quot;correct&quot; behavior from `Collections.&lt;Song&gt;sort(...)`, but don&#39;t have a java 8 install to test it out for you.","title":"Very confused by Java 8 Comparator type inference","body":"<p><code>playlist1.sort(...)</code> creates a bound of Song for the type variable E, from the declaration of playlist1, which \"ripples\" to the comparator. </p>\n\n<p>In <code>Collections.sort(...)</code>, there is no such bound, and the inference from the type of the first comparator is not enough for the compiler to infer the rest. </p>\n\n<p>I think you would get \"correct\" behavior from <code>Collections.&lt;Song&gt;sort(...)</code>, but don't have a java 8 install to test it out for you.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":140,"is_accepted":true,"score":140,"last_activity_date":1508872818,"creation_date":1403834629,"answer_id":24442897,"question_id":24436871,"body_markdown":"First, all the examples you say cause errors compile fine with the reference implementation (javac from JDK 8.)  They also work fine in IntelliJ, so its quite possible the errors you&#39;re seeing are Eclipse-specific.  \r\n\r\nYour underlying question seems to be: &quot;why does it stop working when I start chaining.&quot;  The reason is, while lambda expressions and generic method invocations are _poly expressions_ (their type is context-sensitive) when they appear as method parameters, when they appear instead as method receiver expressions, they are not.  \r\n\r\nWhen you say\r\n\r\n    Collections.sort(playlist1, comparing(p1 -&gt; p1.getTitle()));\r\n\r\nthere is enough type information to solve for both the type argument of `comparing()` and the argument type `p1`.  The `comparing()` call gets its target type from the signature of `Collections.sort`, so it is known `comparing()` must return a `Comparator&lt;Song&gt;`, and therefore `p1` must be `Song`.  \r\n\r\nBut when you start chaining:\r\n\r\n    Collections.sort(playlist1,\r\n                     comparing(p1 -&gt; p1.getTitle())\r\n                         .thenComparing(p1 -&gt; p1.getDuration())\r\n                         .thenComparing(p1 -&gt; p1.getArtist()));\r\n\r\nnow we&#39;ve got a problem.  We know that the compound expression `comparing(...).thenComparing(...)` has a target type of `Comparator&lt;Song&gt;`, but because the receiver expression for the chain, `comparing(p -&gt; p.getTitle())`, is a generic method call, and we can&#39;t infer its type parameters from its other arguments, we&#39;re kind of out of luck.  Since we don&#39;t know the type of this expression, we don&#39;t know that it has a `thenComparing` method, etc.  \r\n\r\nThere are several ways to fix this, all of which involve injecting more type information so that the initial object in the chain can be properly typed. Here they are, in rough order of decreasing desirability and increasing intrusiveness:\r\n\r\n  - Use an exact method reference (one with no overloads), like `Song::getTitle`.  This then gives enough type information to infer the type variables for the `comparing()` call, and therefore give it a type, and therefore continue down the chain.\r\n  - Use an explicit lambda (as you did in your example).\r\n  - Provide a type witness for the `comparing()` call: `Comparator.&lt;Song, String&gt;comparing(...)`.  \r\n  - Provide an explicit target type with a cast, by casting the receiver expression to `Comparator&lt;Song&gt;`.  \r\n\r\n","title":"Very confused by Java 8 Comparator type inference","body":"<p>First, all the examples you say cause errors compile fine with the reference implementation (javac from JDK 8.)  They also work fine in IntelliJ, so its quite possible the errors you're seeing are Eclipse-specific.  </p>\n\n<p>Your underlying question seems to be: \"why does it stop working when I start chaining.\"  The reason is, while lambda expressions and generic method invocations are <em>poly expressions</em> (their type is context-sensitive) when they appear as method parameters, when they appear instead as method receiver expressions, they are not.  </p>\n\n<p>When you say</p>\n\n<pre><code>Collections.sort(playlist1, comparing(p1 -&gt; p1.getTitle()));\n</code></pre>\n\n<p>there is enough type information to solve for both the type argument of <code>comparing()</code> and the argument type <code>p1</code>.  The <code>comparing()</code> call gets its target type from the signature of <code>Collections.sort</code>, so it is known <code>comparing()</code> must return a <code>Comparator&lt;Song&gt;</code>, and therefore <code>p1</code> must be <code>Song</code>.  </p>\n\n<p>But when you start chaining:</p>\n\n<pre><code>Collections.sort(playlist1,\n                 comparing(p1 -&gt; p1.getTitle())\n                     .thenComparing(p1 -&gt; p1.getDuration())\n                     .thenComparing(p1 -&gt; p1.getArtist()));\n</code></pre>\n\n<p>now we've got a problem.  We know that the compound expression <code>comparing(...).thenComparing(...)</code> has a target type of <code>Comparator&lt;Song&gt;</code>, but because the receiver expression for the chain, <code>comparing(p -&gt; p.getTitle())</code>, is a generic method call, and we can't infer its type parameters from its other arguments, we're kind of out of luck.  Since we don't know the type of this expression, we don't know that it has a <code>thenComparing</code> method, etc.  </p>\n\n<p>There are several ways to fix this, all of which involve injecting more type information so that the initial object in the chain can be properly typed. Here they are, in rough order of decreasing desirability and increasing intrusiveness:</p>\n\n<ul>\n<li>Use an exact method reference (one with no overloads), like <code>Song::getTitle</code>.  This then gives enough type information to infer the type variables for the <code>comparing()</code> call, and therefore give it a type, and therefore continue down the chain.</li>\n<li>Use an explicit lambda (as you did in your example).</li>\n<li>Provide a type witness for the <code>comparing()</code> call: <code>Comparator.&lt;Song, String&gt;comparing(...)</code>.  </li>\n<li>Provide an explicit target type with a cast, by casting the receiver expression to <code>Comparator&lt;Song&gt;</code>.  </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4977846,"reputation":96,"user_id":4003699,"display_name":"Rajni Gangwar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501068937,"creation_date":1501068937,"answer_id":45325781,"question_id":24436871,"body_markdown":"Another way to deal with this compile time error:\r\n\r\nCast your first comparing function&#39;s variable explicitly and then good to go. I have sort the list of org.bson.Documents object. Please look at sample code\r\n\r\n    Comparator&lt;Document&gt; comparator = Comparator.comparing((Document hist) -&gt; (String) hist.get(&quot;orderLineStatus&quot;), reverseOrder())\r\n                           .thenComparing(hist -&gt; (Date) hist.get(&quot;promisedShipDate&quot;))\r\n                           .thenComparing(hist -&gt; (Date) hist.get(&quot;lastShipDate&quot;));\r\n    list = list.stream().sorted(comparator).collect(Collectors.toList());","title":"Very confused by Java 8 Comparator type inference","body":"<p>Another way to deal with this compile time error:</p>\n\n<p>Cast your first comparing function's variable explicitly and then good to go. I have sort the list of org.bson.Documents object. Please look at sample code</p>\n\n<pre><code>Comparator&lt;Document&gt; comparator = Comparator.comparing((Document hist) -&gt; (String) hist.get(\"orderLineStatus\"), reverseOrder())\n                       .thenComparing(hist -&gt; (Date) hist.get(\"promisedShipDate\"))\n                       .thenComparing(hist -&gt; (Date) hist.get(\"lastShipDate\"));\nlist = list.stream().sorted(comparator).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38690,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":24442897,"answer_count":4,"score":112,"last_activity_date":1696254268,"creation_date":1403804217,"question_id":24436871,"body_markdown":"I&#39;ve been looking at the difference between `Collections.sort` and `list.sort`, specifically regarding using the `Comparator` static methods and whether param types are required in the lambda expressions. Before we start, I know I could use method references, e.g. `Song::getTitle` to overcome my problems, but my query here is not so much something I want to fix but something I want an answer to, i.e. why is the Java compiler handling it in this way. \r\n\r\nThese are my finding. Suppose we have an `ArrayList` of type `Song`, with some songs added, there are 3 standard get methods:\r\n\r\n```java\r\nArrayList&lt;Song&gt; playlist1 = new ArrayList&lt;Song&gt;();\r\n\r\n//add some new Song objects\r\nplaylist.addSong( new Song(&quot;Only Girl (In The World)&quot;, 235, &quot;Rihanna&quot;) );\r\nplaylist.addSong( new Song(&quot;Thinking of Me&quot;, 206, &quot;Olly Murs&quot;) );\r\nplaylist.addSong( new Song(&quot;Raise Your Glass&quot;, 202,&quot;P!nk&quot;) );\r\n```\r\n\r\nHere is a call to both types of sort method that works, no problem:\r\n\r\n```java\r\nCollections.sort(playlist1, \r\n        Comparator.comparing(p1 -&gt; p1.getTitle()));\r\n\r\nplaylist1.sort(\r\n        Comparator.comparing(p1 -&gt; p1.getTitle()));\r\n```\r\n\r\nAs soon as I start to chain `thenComparing`, the following happens:\r\n\r\n```java\r\nCollections.sort(playlist1,\r\n        Comparator.comparing(p1 -&gt; p1.getTitle())\r\n        .thenComparing(p1 -&gt; p1.getDuration())\r\n        .thenComparing(p1 -&gt; p1.getArtist())\r\n      );\r\n  \r\nplaylist1.sort(\r\n    Comparator.comparing(p1 -&gt; p1.getTitle())\r\n      .thenComparing(p1 -&gt; p1.getDuration())\r\n      .thenComparing(p1 -&gt; p1.getArtist())\r\n    );\r\n```\r\n\r\ni.e. syntax errors because it does not know the type of `p1` anymore. So to fix this I add the type `Song` to the first parameter (of comparing):\r\n\r\n```java\r\nCollections.sort(playlist1,\r\n            Comparator.comparing((Song p1) -&gt; p1.getTitle())\r\n            .thenComparing(p1 -&gt; p1.getDuration())\r\n            .thenComparing(p1 -&gt; p1.getArtist())\r\n            );\r\n    \r\nplaylist1.sort(\r\n        Comparator.comparing((Song p1) -&gt; p1.getTitle())\r\n        .thenComparing(p1 -&gt; p1.getDuration())\r\n        .thenComparing(p1 -&gt; p1.getArtist())\r\n        );\r\n```\r\n\r\nNow here comes the CONFUSING part. For p`laylist1.sort`, i.e. the List, this solve all compilation errors, for both the following `thenComparing` calls. However, for `Collections.sort`, it solves it for the first one, but not the last one. I tested added several extra calls to `thenComparing` and it always shows an error for the last one, unless I put `(Song p1)` for the parameter.\r\n\r\nNow I went on to test this further with creating a `TreeSet` and with using `Objects.compare`:\r\n\r\n```java\r\nint x = Objects.compare(t1, t2, \r\n    Comparator.comparing((Song p1) -&gt; p1.getTitle())\r\n    .thenComparing(p1 -&gt; p1.getDuration())\r\n    .thenComparing(p1 -&gt; p1.getArtist())\r\n    );\r\n    \r\n    \r\nSet&lt;Song&gt; set = new TreeSet&lt;Song&gt;(\r\n    Comparator.comparing((Song p1) -&gt; p1.getTitle())\r\n    .thenComparing(p1 -&gt; p1.getDuration())\r\n    .thenComparing(p1 -&gt; p1.getArtist())\r\n    );\r\n```\r\n\r\nThe same thing happens as in, for the `TreeSet`, there are no compilation errors but for `Objects.compare` the last call to `thenComparing` shows an error.\r\n\r\nCan anyone please explain why this is happening and also why there is no need to use `(Song p1)` at all when simply calling the comparing method (without further `thenComparing` calls).\r\n\r\n\r\nOne other query on the same topic is when I do this to the `TreeSet`:\r\n\r\n```java\r\nSet&lt;Song&gt; set = new TreeSet&lt;Song&gt;(\r\n            Comparator.comparing(p1 -&gt; p1.getTitle())\r\n            .thenComparing(p1 -&gt; p1.getDuration())\r\n            .thenComparing(p1 -&gt; p1.getArtist())\r\n            );\r\n```\r\n\r\ni.e. remove the type `Song` from the first lambda parameter for the comparing method call, it shows syntax errors under the call to comparing and the first call to `thenComparing` but not to the final call to `thenComparing` - almost the opposite of what was happening above! Whereas, for all the other 3 examples i.e. with `Objects.compare`, `List.sort` and `Collections.sort` when I remove that first `Song` param type it shows syntax errors for all the calls.\r\n\r\nEdited to include screenshot of errors I was receiving in Eclipse Kepler SR2, which I have now since found are Eclipse specific because when compiled using the JDK8 java compiler on the command-line it compiles OK. \r\n\r\n![Sort errors in Eclipse][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cPEfH.jpg","title":"Very confused by Java 8 Comparator type inference","body":"<p>I've been looking at the difference between <code>Collections.sort</code> and <code>list.sort</code>, specifically regarding using the <code>Comparator</code> static methods and whether param types are required in the lambda expressions. Before we start, I know I could use method references, e.g. <code>Song::getTitle</code> to overcome my problems, but my query here is not so much something I want to fix but something I want an answer to, i.e. why is the Java compiler handling it in this way.</p>\n<p>These are my finding. Suppose we have an <code>ArrayList</code> of type <code>Song</code>, with some songs added, there are 3 standard get methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Song&gt; playlist1 = new ArrayList&lt;Song&gt;();\n\n//add some new Song objects\nplaylist.addSong( new Song(&quot;Only Girl (In The World)&quot;, 235, &quot;Rihanna&quot;) );\nplaylist.addSong( new Song(&quot;Thinking of Me&quot;, 206, &quot;Olly Murs&quot;) );\nplaylist.addSong( new Song(&quot;Raise Your Glass&quot;, 202,&quot;P!nk&quot;) );\n</code></pre>\n<p>Here is a call to both types of sort method that works, no problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(playlist1, \n        Comparator.comparing(p1 -&gt; p1.getTitle()));\n\nplaylist1.sort(\n        Comparator.comparing(p1 -&gt; p1.getTitle()));\n</code></pre>\n<p>As soon as I start to chain <code>thenComparing</code>, the following happens:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(playlist1,\n        Comparator.comparing(p1 -&gt; p1.getTitle())\n        .thenComparing(p1 -&gt; p1.getDuration())\n        .thenComparing(p1 -&gt; p1.getArtist())\n      );\n  \nplaylist1.sort(\n    Comparator.comparing(p1 -&gt; p1.getTitle())\n      .thenComparing(p1 -&gt; p1.getDuration())\n      .thenComparing(p1 -&gt; p1.getArtist())\n    );\n</code></pre>\n<p>i.e. syntax errors because it does not know the type of <code>p1</code> anymore. So to fix this I add the type <code>Song</code> to the first parameter (of comparing):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(playlist1,\n            Comparator.comparing((Song p1) -&gt; p1.getTitle())\n            .thenComparing(p1 -&gt; p1.getDuration())\n            .thenComparing(p1 -&gt; p1.getArtist())\n            );\n    \nplaylist1.sort(\n        Comparator.comparing((Song p1) -&gt; p1.getTitle())\n        .thenComparing(p1 -&gt; p1.getDuration())\n        .thenComparing(p1 -&gt; p1.getArtist())\n        );\n</code></pre>\n<p>Now here comes the CONFUSING part. For p<code>laylist1.sort</code>, i.e. the List, this solve all compilation errors, for both the following <code>thenComparing</code> calls. However, for <code>Collections.sort</code>, it solves it for the first one, but not the last one. I tested added several extra calls to <code>thenComparing</code> and it always shows an error for the last one, unless I put <code>(Song p1)</code> for the parameter.</p>\n<p>Now I went on to test this further with creating a <code>TreeSet</code> and with using <code>Objects.compare</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = Objects.compare(t1, t2, \n    Comparator.comparing((Song p1) -&gt; p1.getTitle())\n    .thenComparing(p1 -&gt; p1.getDuration())\n    .thenComparing(p1 -&gt; p1.getArtist())\n    );\n    \n    \nSet&lt;Song&gt; set = new TreeSet&lt;Song&gt;(\n    Comparator.comparing((Song p1) -&gt; p1.getTitle())\n    .thenComparing(p1 -&gt; p1.getDuration())\n    .thenComparing(p1 -&gt; p1.getArtist())\n    );\n</code></pre>\n<p>The same thing happens as in, for the <code>TreeSet</code>, there are no compilation errors but for <code>Objects.compare</code> the last call to <code>thenComparing</code> shows an error.</p>\n<p>Can anyone please explain why this is happening and also why there is no need to use <code>(Song p1)</code> at all when simply calling the comparing method (without further <code>thenComparing</code> calls).</p>\n<p>One other query on the same topic is when I do this to the <code>TreeSet</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Song&gt; set = new TreeSet&lt;Song&gt;(\n            Comparator.comparing(p1 -&gt; p1.getTitle())\n            .thenComparing(p1 -&gt; p1.getDuration())\n            .thenComparing(p1 -&gt; p1.getArtist())\n            );\n</code></pre>\n<p>i.e. remove the type <code>Song</code> from the first lambda parameter for the comparing method call, it shows syntax errors under the call to comparing and the first call to <code>thenComparing</code> but not to the final call to <code>thenComparing</code> - almost the opposite of what was happening above! Whereas, for all the other 3 examples i.e. with <code>Objects.compare</code>, <code>List.sort</code> and <code>Collections.sort</code> when I remove that first <code>Song</code> param type it shows syntax errors for all the calls.</p>\n<p>Edited to include screenshot of errors I was receiving in Eclipse Kepler SR2, which I have now since found are Eclipse specific because when compiled using the JDK8 java compiler on the command-line it compiles OK.</p>\n<p><img src=\"https://i.stack.imgur.com/cPEfH.jpg\" alt=\"Sort errors in Eclipse\" /></p>\n"},{"tags":["java","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":240499,"reputation":230,"user_id":510778,"display_name":"Sevich"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1696254006,"creation_date":1291293118,"answer_id":4335002,"question_id":4334917,"body_markdown":"__System.getProperty(String propertyName)__ - this method is used for getting properties and not for the environment variables. \r\n\r\nTo get environment variable you can use __System.getenv(String envName)__ method. \r\n\r\nFirst link in google leads to this: [*Get Environment Variables in Java*][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20111105105906/http://blog.codebeach.com/2008/02/get-environment-variables-in-java.html","title":"Eclipse environment variables","body":"<p><strong>System.getProperty(String propertyName)</strong> - this method is used for getting properties and not for the environment variables.</p>\n<p>To get environment variable you can use <strong>System.getenv(String envName)</strong> method.</p>\n<p>First link in google leads to this: <a href=\"https://web.archive.org/web/20111105105906/http://blog.codebeach.com/2008/02/get-environment-variables-in-java.html\" rel=\"nofollow noreferrer\"><em>Get Environment Variables in Java</em></a></p>\n"}],"owner":{"account_id":192944,"reputation":1394,"user_id":434374,"accept_rate":94,"display_name":"Victoria Seniuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4490,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4335002,"answer_count":1,"score":4,"last_activity_date":1696254006,"creation_date":1291292569,"question_id":4334917,"body_markdown":"I use Eclipse. I set for my project some environment variables. Can I get it from my java code with `System.getProperty(&quot;SOME_VAR&quot;)` ?\r\n\r\nHow can I get the environment variables from java code in Eclipse?\r\n\r\n\r\n \r\n\r\n","title":"Eclipse environment variables","body":"<p>I use Eclipse. I set for my project some environment variables. Can I get it from my java code with <code>System.getProperty(\"SOME_VAR\")</code> ?</p>\n\n<p>How can I get the environment variables from java code in Eclipse?</p>\n"},{"tags":["java","database","neo4j","linkurious"],"comments":[{"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1686357207,"post_id":76420810,"comment_id":134792391,"body_markdown":"You may want to submit a [neo4j issue](https://github.com/neo4j/neo4j/issues) for this.","body":"You may want to submit a <a href=\"https://github.com/neo4j/neo4j/issues\" rel=\"nofollow noreferrer\">neo4j issue</a> for this."},{"owner":{"account_id":10112741,"reputation":606,"user_id":7472416,"accept_rate":0,"display_name":"Arjun G"},"score":0,"creation_date":1686814963,"post_id":76420810,"comment_id":134851825,"body_markdown":"@cybersam Created a new issue: https://github.com/neo4j/neo4j/issues/13217","body":"@cybersam Created a new issue: <a href=\"https://github.com/neo4j/neo4j/issues/13217\" rel=\"nofollow noreferrer\">github.com/neo4j/neo4j/issues/13217</a>"},{"owner":{"account_id":10112741,"reputation":606,"user_id":7472416,"accept_rate":0,"display_name":"Arjun G"},"score":0,"creation_date":1687503145,"post_id":76420810,"comment_id":134948623,"body_markdown":"This issue is resolved now- https://github.com/neo4j/neo4j/issues/13217 Solution is available here.","body":"This issue is resolved now- <a href=\"https://github.com/neo4j/neo4j/issues/13217\" rel=\"nofollow noreferrer\">github.com/neo4j/neo4j/issues/13217</a> Solution is available here."},{"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1687534715,"post_id":76420810,"comment_id":134955411,"body_markdown":"You should [create an answer with the solution](https://stackoverflow.com/help/self-answer).","body":"You should <a href=\"https://stackoverflow.com/help/self-answer\">create an answer with the solution</a>."}],"answers":[{"tags":[],"owner":{"account_id":10112741,"reputation":606,"user_id":7472416,"accept_rate":0,"display_name":"Arjun G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687781976,"creation_date":1687781976,"answer_id":76556630,"question_id":76420810,"body_markdown":"When migrating the database should be very careful to migrate to the requested target store format.\r\n\r\n**This is for v5.8.0 release:**\r\n\r\nTo check the storeformat version run the database info check cmd `$neo4j/bin/neo4j-admin database info YOUR_DB_NAME_HERE`\r\n\r\nFor Example **I&#39;m migrating from v4.4.4 to v5.8.0** It will give below:\r\n\r\n\r\nDatabase name:               YOUR_DB_NAME \r\nDatabase in use:              false \r\nStore format version:         record-standard-0.1 \r\n\r\n&gt; Store format introduced in:   4.3.0\r\n&gt; **Store format superseded in:   5.0.0**\r\n\r\nLast committed transaction id:15234 \r\nStore needs recovery:         false\r\n\r\nStore format superseded - Shows the required target store format.\r\n\r\nTo update the store format run: `$neo4j/bin/neo4j-admin database migrate --force-btree-indexes-to-range YOUR_DB_NAME_HERE`\r\n\r\nAfter this check whether store format is updated or not with database info check cmd It should show below:\r\n\r\nDatabase name:                neo4j\r\nDatabase in use:              false\r\nStore format version:         record-standard-1.1\r\n**Store format introduced in:   5.0.0**\r\nLast committed transaction id:15235\r\nStore needs recovery:         false\r\n\r\nThe same migration is to be done to the system folder database ($neo4j...data/databases/system) as well - Don&#39;t forget to do this.\r\n\r\n**For migration both the databases in data/databases has to be migrated for successful upgradation.**\r\n\r\nHope this solution works for others too! I will be glad if it helped.\r\n","title":"UnableToMigrateException: The selected target store format &#39;AF4.3.0&#39; (introduced in 4.3.0) is no longer supported","body":"<p>When migrating the database should be very careful to migrate to the requested target store format.</p>\n<p><strong>This is for v5.8.0 release:</strong></p>\n<p>To check the storeformat version run the database info check cmd <code>$neo4j/bin/neo4j-admin database info YOUR_DB_NAME_HERE</code></p>\n<p>For Example <strong>I'm migrating from v4.4.4 to v5.8.0</strong> It will give below:</p>\n<p>Database name:               YOUR_DB_NAME\nDatabase in use:              false\nStore format version:         record-standard-0.1</p>\n<blockquote>\n<p>Store format introduced in:   4.3.0\n<strong>Store format superseded in:   5.0.0</strong></p>\n</blockquote>\n<p>Last committed transaction id:15234\nStore needs recovery:         false</p>\n<p>Store format superseded - Shows the required target store format.</p>\n<p>To update the store format run: <code>$neo4j/bin/neo4j-admin database migrate --force-btree-indexes-to-range YOUR_DB_NAME_HERE</code></p>\n<p>After this check whether store format is updated or not with database info check cmd It should show below:</p>\n<p>Database name:                neo4j\nDatabase in use:              false\nStore format version:         record-standard-1.1\n<strong>Store format introduced in:   5.0.0</strong>\nLast committed transaction id:15235\nStore needs recovery:         false</p>\n<p>The same migration is to be done to the system folder database ($neo4j...data/databases/system) as well - Don't forget to do this.</p>\n<p><strong>For migration both the databases in data/databases has to be migrated for successful upgradation.</strong></p>\n<p>Hope this solution works for others too! I will be glad if it helped.</p>\n"}],"owner":{"account_id":10112741,"reputation":606,"user_id":7472416,"accept_rate":0,"display_name":"Arjun G"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76556630,"answer_count":1,"score":0,"last_activity_date":1696253989,"creation_date":1686122577,"question_id":76420810,"body_markdown":"I am trying to upgrade Neo4J from version 4.4.4 to 5.8.0 but getting below Exception:\r\n\r\n&gt; UnableToMigrateException: The selected target store format &#39;AF4.3.0&#39;\r\n&gt; (introduced in 4.3.0) is no longer supported\r\n\r\nHow do I resolve this? Can anyone please help me!","title":"UnableToMigrateException: The selected target store format &#39;AF4.3.0&#39; (introduced in 4.3.0) is no longer supported","body":"<p>I am trying to upgrade Neo4J from version 4.4.4 to 5.8.0 but getting below Exception:</p>\n<blockquote>\n<p>UnableToMigrateException: The selected target store format 'AF4.3.0'\n(introduced in 4.3.0) is no longer supported</p>\n</blockquote>\n<p>How do I resolve this? Can anyone please help me!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9857,"page":148,"page_size":100}
