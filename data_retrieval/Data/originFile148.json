{"items":[{"tags":["java","spring","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1679425034,"post_id":44429730,"comment_id":133719294,"body_markdown":"What if you have multiple @RequestParam parameters?","body":"What if you have multiple @RequestParam parameters?"},{"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"score":1,"creation_date":1679474831,"post_id":44429730,"comment_id":133726855,"body_markdown":"@pixel [`RequestMapping.params`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params()) is an array. You can pass several param names there.","body":"@pixel <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params()\" rel=\"nofollow noreferrer\"><code>RequestMapping.params</code></a> is an array. You can pass several param names there."}],"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1678348530,"creation_date":1496908163,"answer_id":44429730,"question_id":44429656,"body_markdown":"You can achieve this by explicitly specifying query parameters with `params` annotation property:\r\n\r\n```java\r\n@RequestMapping(\r\n    value  = &quot;problemAPI/ticket&quot;,\r\n    params = &quot;customerId&quot;,\r\n    method = RequestMethod.GET\r\n)\r\npublic @ResponseBody String getTicketData(\r\n    @RequestParam(&quot;customerId&quot;) int customerId\r\n){\r\n    return &quot;customer Id: &quot; + customerId + &quot; has active Ticket:1010101&quot;;\r\n}\r\n\r\n@RequestMapping(\r\n    value  = &quot;problemAPI/ticket&quot;,\r\n    params = &quot;customerName&quot;,\r\n    method = RequestMethod.GET\r\n)\r\npublic @ResponseBody String getTicketStatusByCustomerName(\r\n    @RequestParam(&quot;customerName&quot;) String customerName\r\n){\r\n    return &quot;Mr.&quot; + customerName + &quot; Your Ticket is Work in Progress&quot;;\r\n}\r\n```\r\n\r\nTo make it cleaner you can use alias annotations like `@GetMapping` and `@PostMapping`:\r\n\r\n```java\r\n@GetMapping(\r\n    value  = &quot;problemAPI/ticket&quot;,\r\n    params = &quot;customerName&quot;\r\n)\r\npublic @ResponseBody String getTicketStatusByCustname(\r\n    @RequestParam(&quot;customerName&quot;) String customerName\r\n) {\r\n    return &quot;Mr.&quot; + customerName + &quot; Your Ticket is Work in Progress&quot;;\r\n}\r\n\r\n@PostMapping(\r\n    value = &quot;problemAPI/ticket&quot;\r\n)\r\npublic @ResponseBody String saveTicket(@RequestBody TicketBean bean) {\r\n    return &quot;Mr.&quot; + bean.getCustomerName() + &quot; Ticket&quot; +  bean.getTicketNo() + &quot; has been submitted successfuly&quot;;\r\n}\r\n```","title":"How to resolve request mapping &quot;ambiguous&quot; situation in spring controller?","body":"<p>You can achieve this by explicitly specifying query parameters with <code>params</code> annotation property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(\n    value  = &quot;problemAPI/ticket&quot;,\n    params = &quot;customerId&quot;,\n    method = RequestMethod.GET\n)\npublic @ResponseBody String getTicketData(\n    @RequestParam(&quot;customerId&quot;) int customerId\n){\n    return &quot;customer Id: &quot; + customerId + &quot; has active Ticket:1010101&quot;;\n}\n\n@RequestMapping(\n    value  = &quot;problemAPI/ticket&quot;,\n    params = &quot;customerName&quot;,\n    method = RequestMethod.GET\n)\npublic @ResponseBody String getTicketStatusByCustomerName(\n    @RequestParam(&quot;customerName&quot;) String customerName\n){\n    return &quot;Mr.&quot; + customerName + &quot; Your Ticket is Work in Progress&quot;;\n}\n</code></pre>\n<p>To make it cleaner you can use alias annotations like <code>@GetMapping</code> and <code>@PostMapping</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(\n    value  = &quot;problemAPI/ticket&quot;,\n    params = &quot;customerName&quot;\n)\npublic @ResponseBody String getTicketStatusByCustname(\n    @RequestParam(&quot;customerName&quot;) String customerName\n) {\n    return &quot;Mr.&quot; + customerName + &quot; Your Ticket is Work in Progress&quot;;\n}\n\n@PostMapping(\n    value = &quot;problemAPI/ticket&quot;\n)\npublic @ResponseBody String saveTicket(@RequestBody TicketBean bean) {\n    return &quot;Mr.&quot; + bean.getCustomerName() + &quot; Ticket&quot; +  bean.getTicketNo() + &quot; has been submitted successfuly&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12075733,"reputation":1,"user_id":8829269,"display_name":"Ravi Kumar Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625850549,"creation_date":1625850549,"answer_id":68320520,"question_id":44429656,"body_markdown":"The answer mentioned by https://stackoverflow.com/users/5091346/andrii-abramov is correct. However the JSR-311 specifications for RESTful services mentions what is written below :\r\n\r\nSuch methods, known as sub-resource methods, are treated like a normal resource method (see section 3.3) except the method is only invoked for request URIs that match a URI template created by concatenating the URI template of the resource class with the URI template of the method.\r\n\r\nThough, with spring framework we can achieve this.","title":"How to resolve request mapping &quot;ambiguous&quot; situation in spring controller?","body":"<p>The answer mentioned by <a href=\"https://stackoverflow.com/users/5091346/andrii-abramov\">https://stackoverflow.com/users/5091346/andrii-abramov</a> is correct. However the JSR-311 specifications for RESTful services mentions what is written below :</p>\n<p>Such methods, known as sub-resource methods, are treated like a normal resource method (see section 3.3) except the method is only invoked for request URIs that match a URI template created by concatenating the URI template of the resource class with the URI template of the method.</p>\n<p>Though, with spring framework we can achieve this.</p>\n"}],"owner":{"account_id":9147490,"reputation":89,"user_id":6803119,"accept_rate":25,"display_name":"Rushikesh Maliye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4920,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44429730,"answer_count":2,"score":6,"last_activity_date":1696342321,"creation_date":1496907934,"question_id":44429656,"body_markdown":"I have written a spring controller in which I just wanted to use a single URL for all methods.\r\nEven if I am using different method signature **int, string, object** i am getting error.\r\n\r\n    @RequestMapping(value=&quot;problemAPI/ticket&quot;, method = RequestMethod.GET )\r\n\tpublic @ResponseBody String getTicketData(@RequestParam(&quot;customerId&quot;) int customerId) {\r\n\t\treturn &quot;customer Id: &quot; + customerId + &quot; has active Ticket:1010101&quot;;\r\n\t}\r\n\r\n    @RequestMapping(value=&quot;problemAPI/ticket&quot;, method = RequestMethod.GET )\r\n\tpublic @ResponseBody String getTicketStatusByCustname(@RequestParam(&quot;customerName&quot;) String customerName) {\t\r\n\t\treturn &quot;Mr.&quot; + customerName + &quot; Your Ticket is Work in Progress&quot;;\r\n\t}\r\n\r\n    @RequestMapping(value=&quot;problemAPI/ticket&quot;, method = RequestMethod.POST )\r\n\tpublic @ResponseBody String saveTicket(@RequestBody TicketBean bean) {\r\n\t\treturn &quot;Mr.&quot; + bean.getCustomerName() + &quot; Ticket&quot; +  bean.getTicketNo() + &quot; has been submitted successfuly&quot;;\r\n\t}\r\n\r\n**Error:**\r\n \r\n\r\n    java.lang.IllegalStateException: Ambiguous mapping found. Cannot map &#39;problemTicketController&#39; bean method \r\n    public String com.nm.controller.webservice.ticket.problem.ProblemTicketController.getTicketData(int)\r\n    to {[/problemAPI/ticket],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}: There is already &#39;problemTicketController&#39; bean method\r\n    public java.lang.String com.nm.controller.webservice.ticket.problem.ProblemTicketController.getTicketByCustname(int) mapped.","title":"How to resolve request mapping &quot;ambiguous&quot; situation in spring controller?","body":"<p>I have written a spring controller in which I just wanted to use a single URL for all methods.\nEven if I am using different method signature <strong>int, string, object</strong> i am getting error.</p>\n<pre><code>@RequestMapping(value=&quot;problemAPI/ticket&quot;, method = RequestMethod.GET )\npublic @ResponseBody String getTicketData(@RequestParam(&quot;customerId&quot;) int customerId) {\n    return &quot;customer Id: &quot; + customerId + &quot; has active Ticket:1010101&quot;;\n}\n\n@RequestMapping(value=&quot;problemAPI/ticket&quot;, method = RequestMethod.GET )\npublic @ResponseBody String getTicketStatusByCustname(@RequestParam(&quot;customerName&quot;) String customerName) {  \n    return &quot;Mr.&quot; + customerName + &quot; Your Ticket is Work in Progress&quot;;\n}\n\n@RequestMapping(value=&quot;problemAPI/ticket&quot;, method = RequestMethod.POST )\npublic @ResponseBody String saveTicket(@RequestBody TicketBean bean) {\n    return &quot;Mr.&quot; + bean.getCustomerName() + &quot; Ticket&quot; +  bean.getTicketNo() + &quot; has been submitted successfuly&quot;;\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>java.lang.IllegalStateException: Ambiguous mapping found. Cannot map 'problemTicketController' bean method \npublic String com.nm.controller.webservice.ticket.problem.ProblemTicketController.getTicketData(int)\nto {[/problemAPI/ticket],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}: There is already 'problemTicketController' bean method\npublic java.lang.String com.nm.controller.webservice.ticket.problem.ProblemTicketController.getTicketByCustname(int) mapped.\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":2,"creation_date":1576828903,"post_id":59418494,"comment_id":105029867,"body_markdown":"There is really no context to work with, so I don&#39;t think the question is suited for SO. This is why comments are good for humans","body":"There is really no context to work with, so I don&#39;t think the question is suited for SO. This is why comments are good for humans"},{"owner":{"account_id":13641709,"reputation":184,"user_id":11173058,"display_name":"Theikon"},"score":0,"creation_date":1576829213,"post_id":59418494,"comment_id":105029993,"body_markdown":"I agree. I just think that there should be awareness raised towards this particular bug in the `JVM`. It doesn‘t just affect this particular program. It affects every program that does any sort of time based computations.","body":"I agree. I just think that there should be awareness raised towards this particular bug in the <code>JVM</code>. It doesn‘t just affect this particular program. It affects every program that does any sort of time based computations."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1576873302,"post_id":59418494,"comment_id":105047798,"body_markdown":"Why is the sleep time in hexadecimal? Same with the priority, why? And whatrs going on with the `θ`. Looks like the goal of the author was to do some code golf...","body":"Why is the sleep time in hexadecimal? Same with the priority, why? And whatrs going on with the <code>θ</code>. Looks like the goal of the author was to do some code golf..."}],"answers":[{"tags":[],"owner":{"account_id":13641709,"reputation":184,"user_id":11173058,"display_name":"Theikon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1576928260,"creation_date":1576803202,"answer_id":59418671,"question_id":59418494,"body_markdown":"After doing a lot of digging and asking around on various forums, I actually found something that looks quite promising. It all boils down to this particular issue here: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6435126.\r\n\r\nLet me try to describe what’s actually going on here. I‘ll try my best, although I‘m not entirely sure that I understood this bug entirely.\r\n\r\nWhat‘s happening there seems to be that the `VM` is not initialising correctly. This bug seems to there for quite some time now and fixing it would likely create more problems for existing software than it would actually resolve. The bug itself is related to the inaccuracy of timing functions such as `System.nanoTime()` while `Thread#sleep(long)` is invoked, causing the returned `long` to be off by quite a significant margin.","title":"Purpose of daemon thread that‘s sleeping indefinitely","body":"<p>After doing a lot of digging and asking around on various forums, I actually found something that looks quite promising. It all boils down to this particular issue here: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6435126\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6435126</a>.</p>\n\n<p>Let me try to describe what’s actually going on here. I‘ll try my best, although I‘m not entirely sure that I understood this bug entirely.</p>\n\n<p>What‘s happening there seems to be that the <code>VM</code> is not initialising correctly. This bug seems to there for quite some time now and fixing it would likely create more problems for existing software than it would actually resolve. The bug itself is related to the inaccuracy of timing functions such as <code>System.nanoTime()</code> while <code>Thread#sleep(long)</code> is invoked, causing the returned <code>long</code> to be off by quite a significant margin.</p>\n"}],"owner":{"account_id":13641709,"reputation":184,"user_id":11173058,"display_name":"Theikon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59418671,"answer_count":1,"score":3,"last_activity_date":1696342093,"creation_date":1576801471,"question_id":59418494,"body_markdown":"I‘m in the process of reverse engineering a program written in the *Java* language. So far, everything‘s making sense, except for a single segment of code that I don‘t comprehend at all. The program itself is a server for the popular game *Minecraft*, although I strongly think that this issue is not related to it per se. Let me show you what I‘m actually talking about:\r\n\r\n    new Thread(() -&gt; {\r\n        while (true)\r\n        {\r\n            try\r\n            {\r\n                Thread.sleep(Long.MAX_VALUE);\r\n            }\r\n            catch (InterruptedException cause)\r\n            {\r\n                cause.printStackTrace();\r\n            }\r\n        }\r\n    }, &quot;Sleeper&quot;) {{\r\n        this.setPriority(Thread.MIN_PRIORITY);\r\n        this.setDaemon(true);\r\n        this.start();\r\n    }};\r\n\r\nAnd I‘m not talking about the odd `{{` instance initialiser segment down there. It’s about the purpose of the thread in the first place. Is there any reason for it to actually exist? And what would that be?","title":"Purpose of daemon thread that‘s sleeping indefinitely","body":"<p>I‘m in the process of reverse engineering a program written in the <em>Java</em> language. So far, everything‘s making sense, except for a single segment of code that I don‘t comprehend at all. The program itself is a server for the popular game <em>Minecraft</em>, although I strongly think that this issue is not related to it per se. Let me show you what I‘m actually talking about:</p>\n<pre><code>new Thread(() -&gt; {\n    while (true)\n    {\n        try\n        {\n            Thread.sleep(Long.MAX_VALUE);\n        }\n        catch (InterruptedException cause)\n        {\n            cause.printStackTrace();\n        }\n    }\n}, &quot;Sleeper&quot;) {{\n    this.setPriority(Thread.MIN_PRIORITY);\n    this.setDaemon(true);\n    this.start();\n}};\n</code></pre>\n<p>And I‘m not talking about the odd <code>{{</code> instance initialiser segment down there. It’s about the purpose of the thread in the first place. Is there any reason for it to actually exist? And what would that be?</p>\n"},{"tags":["java","netbeans","xssfworkbook"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696346661,"post_id":77222988,"comment_id":136139510,"body_markdown":"*&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;* is wrong. If jars are present in a classpath (and they *are* in your case)  they need to be listed separately or globbed. I would suggest the former in your case. Alternatively use a &#39;fat jar&#39; approach such as Maven Shade","body":"<i>&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;</i> is wrong. If jars are present in a classpath (and they <i>are</i> in your case)  they need to be listed separately or globbed. I would suggest the former in your case. Alternatively use a &#39;fat jar&#39; approach such as Maven Shade"}],"answers":[{"tags":[],"owner":{"account_id":1880361,"reputation":144,"user_id":1700716,"display_name":"Nikolaj Hansen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696342084,"creation_date":1696342084,"answer_id":77223030,"question_id":77222988,"body_markdown":"Adding the dependency jars in your IDE does not automatically add them to the jar file you are trying to execute. That file contains your own code. You need to specify what to put on the classpath when running from a console either via\r\n\r\n    java -cp &lt;classpath&gt; -jar &lt;jarfile&gt;\r\n\r\nOr better create a startup script, that does this for you. Like for example the script that starts maven from your console (mvnw/mwnw.bat).\r\n\r\nI do not know your IDE, maybe it can produce such a file for you based on the cp you have defined in your IDE.","title":"java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook when running a .jar file from NetBeans IDE","body":"<p>Adding the dependency jars in your IDE does not automatically add them to the jar file you are trying to execute. That file contains your own code. You need to specify what to put on the classpath when running from a console either via</p>\n<pre><code>java -cp &lt;classpath&gt; -jar &lt;jarfile&gt;\n</code></pre>\n<p>Or better create a startup script, that does this for you. Like for example the script that starts maven from your console (mvnw/mwnw.bat).</p>\n<p>I do not know your IDE, maybe it can produce such a file for you based on the cp you have defined in your IDE.</p>\n"}],"owner":{"account_id":29555776,"reputation":1,"user_id":22651479,"display_name":"ohotnx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696342084,"creation_date":1696341764,"question_id":77222988,"body_markdown":"I am creating a program with NetBeans IDE 17 that can write to a .xlsx file when I press a button in on a JFrame. When I run the code in NetBeans, it works as intended but, when I build the program and try to run the .jar executable through the console, I get java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook and I am not sure why. I have added the dependencies with the &quot;Add dependencies&quot; button in NetBeans. This is what the pom.xml looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;workbookTesting&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;exec.mainClass&gt;com.mycompany.workbooktesting.NewJFrame&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;!-- Build an executable JAR --&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n            &lt;mainClass&gt;com.mycompany.workbooktesting.NewJFrame&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook when running a .jar file from NetBeans IDE","body":"<p>I am creating a program with NetBeans IDE 17 that can write to a .xlsx file when I press a button in on a JFrame. When I run the code in NetBeans, it works as intended but, when I build the program and try to run the .jar executable through the console, I get java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook and I am not sure why. I have added the dependencies with the &quot;Add dependencies&quot; button in NetBeans. This is what the pom.xml looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;workbookTesting&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;com.mycompany.workbooktesting.NewJFrame&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;!-- Build an executable JAR --&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;com.mycompany.workbooktesting.NewJFrame&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1596342596,"post_id":63212377,"comment_id":111778799,"body_markdown":"Not exactly; you access a publicly facing method `access()` which in turn internally called the private method `print()`.  This is how encapsulation is supposed to work, and there is nothing wrong/unexpected about your current approach.","body":"Not exactly; you access a publicly facing method <code>access()</code> which in turn internally called the private method <code>print()</code>.  This is how encapsulation is supposed to work, and there is nothing wrong/unexpected about your current approach."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1596342985,"post_id":63212377,"comment_id":111778854,"body_markdown":"To expand @Tim&#39;s comment, if you tried to put your `access` on `SubClass`, it wouldn&#39;t work (presuming they&#39;re in different files). Your `main` isn&#39;t accessing `print`, the (publicly visible) `PrivateImp.access` is.","body":"To expand @Tim&#39;s comment, if you tried to put your <code>access</code> on <code>SubClass</code>, it wouldn&#39;t work (presuming they&#39;re in different files). Your <code>main</code> isn&#39;t accessing <code>print</code>, the (publicly visible) <code>PrivateImp.access</code> is."}],"answers":[{"tags":[],"owner":{"account_id":9254167,"reputation":359,"user_id":6873644,"display_name":"Ayush28"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596342944,"creation_date":1596342944,"answer_id":63212429,"question_id":63212377,"body_markdown":"A subclass does not inherit the private members of its parent class. However, if the superclass has public or protected methods for accessing its private fields, these can also be used by the subclass.\r\n\r\nA nested class has access to all the private members of its enclosing class—both fields and methods. Therefore, a public or protected nested class inherited by a subclass has indirect access to all of the private members of the superclass.\r\n\r\nRead official docs [here][1] for more.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html","title":"Accessing Private methods in subclass using super class reference","body":"<p>A subclass does not inherit the private members of its parent class. However, if the superclass has public or protected methods for accessing its private fields, these can also be used by the subclass.</p>\n<p>A nested class has access to all the private members of its enclosing class—both fields and methods. Therefore, a public or protected nested class inherited by a subclass has indirect access to all of the private members of the superclass.</p>\n<p>Read official docs <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">here</a> for more.</p>\n"},{"tags":[],"owner":{"display_name":"user10428958"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596343166,"creation_date":1596343166,"answer_id":63212443,"question_id":63212377,"body_markdown":"In Java, you cannot directly access a private method from outside the class, that is you cannot invoke the private method by its name.\r\n\r\nSo, in order to access a private method from outside the class, you need to call one of its public proxies, i.e. one of the public methods of the class which have access to the private method and act as an interface to it, which is what you&#39;re doing.\r\n\r\nThis is the fundamental principle of Data Abstraction/Data Hiding in action.","title":"Accessing Private methods in subclass using super class reference","body":"<p>In Java, you cannot directly access a private method from outside the class, that is you cannot invoke the private method by its name.</p>\n<p>So, in order to access a private method from outside the class, you need to call one of its public proxies, i.e. one of the public methods of the class which have access to the private method and act as an interface to it, which is what you're doing.</p>\n<p>This is the fundamental principle of Data Abstraction/Data Hiding in action.</p>\n"},{"tags":[],"owner":{"account_id":12640536,"reputation":1386,"user_id":9188214,"display_name":"Franz Andel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596343278,"creation_date":1596343278,"answer_id":63212456,"question_id":63212377,"body_markdown":"If you don&#39;t want to override the `access()` function and doesn&#39;t want the `print()` function being accessed by other classes but only the members of that class can access it.\r\n\r\nyou can simply change the modifier of `print()` function from `private` to `protected`. Also you can delete `access()` function as you no longer need it.","title":"Accessing Private methods in subclass using super class reference","body":"<p>If you don't want to override the <code>access()</code> function and doesn't want the <code>print()</code> function being accessed by other classes but only the members of that class can access it.</p>\n<p>you can simply change the modifier of <code>print()</code> function from <code>private</code> to <code>protected</code>. Also you can delete <code>access()</code> function as you no longer need it.</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596343291,"creation_date":1596343291,"answer_id":63212457,"question_id":63212377,"body_markdown":"Access control in Java is not based on which class is calling the method at run time. It&#39;s based on where the calling code is in the source code.\r\n\r\nHere, the call to the private method is in the `privateImp` class, so it&#39;s allowed. It does not matter that you have created a subclass, and called `access` on an instance of the subclass.","title":"Accessing Private methods in subclass using super class reference","body":"<p>Access control in Java is not based on which class is calling the method at run time. It's based on where the calling code is in the source code.</p>\n<p>Here, the call to the private method is in the <code>privateImp</code> class, so it's allowed. It does not matter that you have created a subclass, and called <code>access</code> on an instance of the subclass.</p>\n"},{"tags":[],"owner":{"account_id":18042825,"reputation":33,"user_id":13114517,"display_name":"Aritra Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596343798,"creation_date":1596343798,"answer_id":63212491,"question_id":63212377,"body_markdown":"SubClass main method is calling the access() in privateImp class and from there print() is called. You can see this if you open the call hierarchy of print(). Whenever you override access() and again open call hierarchy you can see the difference. This is the default behavior if you extend a class and don&#39;t override visible methods.\r\n\r\nBy the way class names should not start with small case.","title":"Accessing Private methods in subclass using super class reference","body":"<p>SubClass main method is calling the access() in privateImp class and from there print() is called. You can see this if you open the call hierarchy of print(). Whenever you override access() and again open call hierarchy you can see the difference. This is the default behavior if you extend a class and don't override visible methods.</p>\n<p>By the way class names should not start with small case.</p>\n"},{"tags":[],"owner":{"account_id":12490223,"reputation":11,"user_id":9092024,"display_name":"Senozoid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696341607,"creation_date":1696341607,"answer_id":77222968,"question_id":63212377,"body_markdown":"The subclass is calling a public method, but how the called method works, ie., what private fields or methods it accesses, is not the calling method&#39;s business. The subclass itself is not directly calling the private method, so there is no problem.  \r\nThis is also how getters and setters work...\r\n\r\n    private String name;\r\n    public void setName(String name){\r\n      //do something\r\n      this.name=name;\r\n    }\r\n    public String getName(){\r\n      //do something\r\n      return name;\r\n    }\r\n\r\nIf methods from other classes could not call the getters and setters, they would have no reason to exist.  \r\nIn fact, if you think about it, **if public methods could not be called because somewhere in the chain of execution a private field or method is accessed, then private fields or methods would not be used anywhere other than the main class.**","title":"Accessing Private methods in subclass using super class reference","body":"<p>The subclass is calling a public method, but how the called method works, ie., what private fields or methods it accesses, is not the calling method's business. The subclass itself is not directly calling the private method, so there is no problem.<br />\nThis is also how getters and setters work...</p>\n<pre><code>private String name;\npublic void setName(String name){\n  //do something\n  this.name=name;\n}\npublic String getName(){\n  //do something\n  return name;\n}\n</code></pre>\n<p>If methods from other classes could not call the getters and setters, they would have no reason to exist.<br />\nIn fact, if you think about it, <strong>if public methods could not be called because somewhere in the chain of execution a private field or method is accessed, then private fields or methods would not be used anywhere other than the main class.</strong></p>\n"}],"owner":{"account_id":18570325,"reputation":13,"user_id":13532278,"display_name":"Varun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1696341607,"creation_date":1596342380,"question_id":63212377,"body_markdown":"    package privatePkg;\r\n    class privateImp {\r\n        private void print() {\r\n            System.out.println(&quot;Inside the PrivateImp class method &quot;+this);\r\n        }\r\n\r\n        public void access() {\r\n            print();\r\n        }\r\n    }\r\n    \r\n    class SubClass extends privateImp {\r\n        public static void main(String ... args) {\r\n            System.out.println(&quot;In the subclass&quot;);\r\n            SubClass sb = new SubClass();\r\n            sb.access();\r\n        }\r\n    }\r\n\r\nHere as the `print()` method is declared private in the super class `privateImp`, and we extend that class. When I create a subclass object and try to access the inherited method `access()` it is also invoking the private method of the super class. As it is a private method it should not be accessed in other classes but only the members of that class can access it. Then how did the private method get invoked by the `access()` on subclass object?\r\n\r\nCan please tell me as I did not override the `access()` method inherited from superclass will the compiler replace the line inside `accesss()` in the subclass as follows:\r\n\r\n    class SubClass extends privateImp() {\r\n        public void access() {\r\n            super.access();\r\n        }\r\n    }\r\n    \r\n","title":"Accessing Private methods in subclass using super class reference","body":"<pre><code>package privatePkg;\nclass privateImp {\n    private void print() {\n        System.out.println(&quot;Inside the PrivateImp class method &quot;+this);\n    }\n\n    public void access() {\n        print();\n    }\n}\n\nclass SubClass extends privateImp {\n    public static void main(String ... args) {\n        System.out.println(&quot;In the subclass&quot;);\n        SubClass sb = new SubClass();\n        sb.access();\n    }\n}\n</code></pre>\n<p>Here as the <code>print()</code> method is declared private in the super class <code>privateImp</code>, and we extend that class. When I create a subclass object and try to access the inherited method <code>access()</code> it is also invoking the private method of the super class. As it is a private method it should not be accessed in other classes but only the members of that class can access it. Then how did the private method get invoked by the <code>access()</code> on subclass object?</p>\n<p>Can please tell me as I did not override the <code>access()</code> method inherited from superclass will the compiler replace the line inside <code>accesss()</code> in the subclass as follows:</p>\n<pre><code>class SubClass extends privateImp() {\n    public void access() {\n        super.access();\n    }\n}\n</code></pre>\n"},{"tags":["java","math","primes"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":6,"creation_date":1696334334,"post_id":77222055,"comment_id":136136859,"body_markdown":"No. The closest thing in the stdlib is `BigInteger.isProbablePrime`.","body":"No. The closest thing in the stdlib is <code>BigInteger.isProbablePrime</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696339515,"post_id":77222055,"comment_id":136137918,"body_markdown":"If you searched and didn’t find it, then probably not. I’d be surprised if you couldn’t find it in a 3rd party library, though. Also you can code a na&#239;ve method in less than 10 lines (an efficient one requires a bit more).","body":"If you searched and didn’t find it, then probably not. I’d be surprised if you couldn’t find it in a 3rd party library, though. Also you can code a na&#239;ve method in less than 10 lines (an efficient one requires a bit more)."},{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1696341579,"post_id":77222055,"comment_id":136138407,"body_markdown":"@user85421 note that probabilistic prime checks are the way to go; naive, 100% accurate &quot;sieves&quot; are unacceptably inefficient. The chance of a probabilistic prime check failing can be kept well below the chance of a hardware fault occurring by passing a properly high value for the `certainity` parameter.","body":"@user85421 note that probabilistic prime checks are the way to go; naive, 100% accurate &quot;sieves&quot; are unacceptably inefficient. The chance of a probabilistic prime check failing can be kept well below the chance of a hardware fault occurring by passing a properly high value for the <code>certainity</code> parameter."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696342076,"post_id":77222055,"comment_id":136138523,"body_markdown":"@Luatic That&#39;s true for big numbers, but sieving numbers up to `Integer.MAX_VALUE` should be fine and fast enough.","body":"@Luatic That&#39;s true for big numbers, but sieving numbers up to <code>Integer.MAX_VALUE</code> should be fine and fast enough."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1696346210,"post_id":77222055,"comment_id":136139413,"body_markdown":"[guava.dev/IntMath](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/math/IntMath.html) has a very fast implementation.","body":"<a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/math/IntMath.html\" rel=\"nofollow noreferrer\">guava.dev/IntMath</a> has a very fast implementation."}],"answers":[{"comments":[{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":1,"creation_date":1696341593,"post_id":77222922,"comment_id":136138411,"body_markdown":"Why use such a low certainity?","body":"Why use such a low certainity?"},{"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"score":1,"creation_date":1696341789,"post_id":77222922,"comment_id":136138457,"body_markdown":"If I put large certainty value, it will take much time to compute. The lower values will work fine for small numbers. I thought to keep it as minimal. We can increase the value if required.","body":"If I put large certainty value, it will take much time to compute. The lower values will work fine for small numbers. I thought to keep it as minimal. We can increase the value if required."},{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1696344874,"post_id":77222922,"comment_id":136139141,"body_markdown":"The probability that the test gives the wrong result drops exponentially with the certainity whereas the runtime only increases linearly (IIRC), so I don&#39;t see why you should go as low as `10`.","body":"The probability that the test gives the wrong result drops exponentially with the certainity whereas the runtime only increases linearly (IIRC), so I don&#39;t see why you should go as low as <code>10</code>."}],"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696341207,"creation_date":1696341207,"answer_id":77222922,"question_id":77222055,"body_markdown":"The Java Standard Library (java.util) does not provide a built-in method specifically named `isPrime(int)` for checking whether a given integer is prime. If you want to check it using built in method, then use `BigInteger.isProbablePrime`.\r\n\r\n    import java.math.BigInteger;\r\n    \r\n    public class PrimeChecker {\r\n        public static void main(String[] args) {\r\n            BigInteger bigInteger = new BigInteger(&quot;17&quot;);\r\n            int certainty = 10;\r\n    \r\n            if (bigInteger.isProbablePrime(certainty))\r\n                System.out.println(bigInteger + &quot; is a prime number.&quot;);\r\n            else\r\n                System.out.println(bigInteger + &quot; is not a prime number.&quot;);\r\n        }\r\n    }\r\n\r\n","title":"is there a java std method such as &quot;static boolean isPrime(int)&quot;","body":"<p>The Java Standard Library (java.util) does not provide a built-in method specifically named <code>isPrime(int)</code> for checking whether a given integer is prime. If you want to check it using built in method, then use <code>BigInteger.isProbablePrime</code>.</p>\n<pre><code>import java.math.BigInteger;\n\npublic class PrimeChecker {\n    public static void main(String[] args) {\n        BigInteger bigInteger = new BigInteger(&quot;17&quot;);\n        int certainty = 10;\n\n        if (bigInteger.isProbablePrime(certainty))\n            System.out.println(bigInteger + &quot; is a prime number.&quot;);\n        else\n            System.out.println(bigInteger + &quot; is not a prime number.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696341571,"accepted_answer_id":77222922,"answer_count":1,"score":0,"last_activity_date":1696341207,"creation_date":1696334268,"question_id":77222055,"body_markdown":"is there a similar class to &quot;Math&quot; that defines a method such as &quot;static boolean isPrime(int)&quot;.","title":"is there a java std method such as &quot;static boolean isPrime(int)&quot;","body":"<p>is there a similar class to &quot;Math&quot; that defines a method such as &quot;static boolean isPrime(int)&quot;.</p>\n"},{"tags":["java","error-handling","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":7614983,"reputation":81,"user_id":5774745,"display_name":"Joel"},"score":0,"creation_date":1696194522,"post_id":77211323,"comment_id":136119051,"body_markdown":"if bridgeErrorHandler is enabled then exceptionHandler is not in use from the doc. I would like to handle the exceptions from my code to implement a different reconnection strategy not just reconnecting at fixed interval, so i was trying to avoid to use consumer settings as  reconnectTimeWait","body":"if bridgeErrorHandler is enabled then exceptionHandler is not in use from the doc. I would like to handle the exceptions from my code to implement a different reconnection strategy not just reconnecting at fixed interval, so i was trying to avoid to use consumer settings as  reconnectTimeWait"}],"tags":[],"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696177574,"creation_date":1696177574,"answer_id":77211323,"question_id":77210375,"body_markdown":"For point 2, have you tried setting [reconnectTimeWait][1] parameter? And for point 1, handling exceptions, may be you can try [exceptionHandler][2] \r\n\r\n\r\n  [1]: https://camel.apache.org/components/4.0.x/nats-component.html#_endpoint_query_option_reconnectTimeWait\r\n  [2]: https://camel.apache.org/components/4.0.x/nats-component.html#_endpoint_query_option_exceptionHandler","title":"Apache camel endpoints handling failures at startup","body":"<p>For point 2, have you tried setting <a href=\"https://camel.apache.org/components/4.0.x/nats-component.html#_endpoint_query_option_reconnectTimeWait\" rel=\"nofollow noreferrer\">reconnectTimeWait</a> parameter? And for point 1, handling exceptions, may be you can try <a href=\"https://camel.apache.org/components/4.0.x/nats-component.html#_endpoint_query_option_exceptionHandler\" rel=\"nofollow noreferrer\">exceptionHandler</a></p>\n"}],"owner":{"account_id":7614983,"reputation":81,"user_id":5774745,"display_name":"Joel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696341090,"creation_date":1696161345,"question_id":77210375,"body_markdown":"I would like to build a high reliable service, so i need to handle every kind of network issues at a NATS endpoint;\r\n1. startup exception, handling the exceptions at the startup, i noticed that if the server is not responding at startup the apche camel app exits.. \r\n2. handling reconnection after startup. So the defaul behavior is reconnecting every two seconds and i would like to overwrite it. \r\n\r\nI am aware of  bridgeErrorHandler paramter, but it doesn&#39;t seem to work properly for this scenarios in fact int the following route:\r\n\r\n    errorHandler(defaultErrorHandler()\r\n                .maximumRedeliveries(5).redeliveryDelay(10000));\r\n    // receiving from NATS\r\n    from(&quot;nats:{{test_topic}}?bridgeErrorHandler=true&quot;)\r\n     //and print it to system out via stream component         \r\n     .errorHandler(defaultErrorHandler().maximumRedeliveries(5).redeliveryDelay(10000))\r\n     .to(&quot;stream:out&quot;)\r\n     .log(&quot;${body}&quot;); \r\n\r\nThe code&#39;s behavior is weird, it doesn&#39;t solve the 1. the app is exiting if NATS server is down, if the server goes down after the start up the default strategy is executed (2 seconds retry), ignoring my settings at route and context level. \r\nHow can i handle the point 1 and 2? ","title":"Apache camel endpoints handling failures at startup","body":"<p>I would like to build a high reliable service, so i need to handle every kind of network issues at a NATS endpoint;</p>\n<ol>\n<li>startup exception, handling the exceptions at the startup, i noticed that if the server is not responding at startup the apche camel app exits..</li>\n<li>handling reconnection after startup. So the defaul behavior is reconnecting every two seconds and i would like to overwrite it.</li>\n</ol>\n<p>I am aware of  bridgeErrorHandler paramter, but it doesn't seem to work properly for this scenarios in fact int the following route:</p>\n<pre><code>errorHandler(defaultErrorHandler()\n            .maximumRedeliveries(5).redeliveryDelay(10000));\n// receiving from NATS\nfrom(&quot;nats:{{test_topic}}?bridgeErrorHandler=true&quot;)\n //and print it to system out via stream component         \n .errorHandler(defaultErrorHandler().maximumRedeliveries(5).redeliveryDelay(10000))\n .to(&quot;stream:out&quot;)\n .log(&quot;${body}&quot;); \n</code></pre>\n<p>The code's behavior is weird, it doesn't solve the 1. the app is exiting if NATS server is down, if the server goes down after the start up the default strategy is executed (2 seconds retry), ignoring my settings at route and context level.\nHow can i handle the point 1 and 2?</p>\n"},{"tags":["java","spring","spring-boot","httpexchange"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692099591,"post_id":76905332,"comment_id":135576050,"body_markdown":"Did you try to pass it as a String ?","body":"Did you try to pass it as a String ?"},{"owner":{"account_id":29228896,"reputation":21,"user_id":22393021,"display_name":"random"},"score":0,"creation_date":1692109657,"post_id":76905332,"comment_id":135578093,"body_markdown":"Hi, I&#39;ve testet your suggestion. However, it seems like `http%3A%2F%2Fsome-url.com%2Fsome-path` is still called","body":"Hi, I&#39;ve testet your suggestion. However, it seems like <code>http%3A%2F%2Fsome-url.com%2Fsome-path</code> is still called"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692110484,"post_id":76905332,"comment_id":135578286,"body_markdown":"One more think, just replace : `String getData(@PathVariable URI baseUrl);` to `String getData(@PathVariable(name = &quot;baseUrl&quot;) URI baseUrl);`","body":"One more think, just replace : <code>String getData(@PathVariable URI baseUrl);</code> to <code>String getData(@PathVariable(name = &quot;baseUrl&quot;) URI baseUrl);</code>"},{"owner":{"account_id":29228896,"reputation":21,"user_id":22393021,"display_name":"random"},"score":0,"creation_date":1692111653,"post_id":76905332,"comment_id":135578521,"body_markdown":"Yes sure i can name the path variable. However, this still leads to escaping of the base url","body":"Yes sure i can name the path variable. However, this still leads to escaping of the base url"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692118910,"post_id":76905332,"comment_id":135579997,"body_markdown":"One more question, did you try to pass the url in method so: `getData(URI.create(&quot;http://some-url.com/some-path&quot;)); ` ?","body":"One more question, did you try to pass the url in method so: <code>getData(URI.create(&quot;http:&#47;&#47;some-url.com&#47;some-path&quot;)); </code> ?"},{"owner":{"account_id":29228896,"reputation":21,"user_id":22393021,"display_name":"random"},"score":0,"creation_date":1692128674,"post_id":76905332,"comment_id":135581656,"body_markdown":"Sure it works to set url with your path. However, for more complicated calls you lose the possibility to set some path segments via @pathvariable like\n```public interface MyClient {\n\n    @GetExchange(value = &quot;/some-path/{path-variable}/some-thing&quot;)\n    String getData(URI baseUrl, @PathVariable(&quot;path-variable&quot;) String pathVariable);\n}\n```\nTherefore i would like to set the path directly in the httpexchange.","body":"Sure it works to set url with your path. However, for more complicated calls you lose the possibility to set some path segments via @pathvariable like <code>public interface MyClient {      @GetExchange(value = &quot;&#47;some-path&#47;{path-variable}&#47;some-thing&quot;)     String getData(URI baseUrl, @PathVariable(&quot;path-variable&quot;) String pathVariable); } </code> Therefore i would like to set the path directly in the httpexchange."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692168034,"post_id":76905332,"comment_id":135585447,"body_markdown":"what if, you will try next one approach: in method signature declare something like this, `String getData(URI baseUrl, @PathVariable(&quot;id&quot;) Long variable);`  and invoke of this method `.getData(URI.create(&quot;http://127.0.0.1:8080/api/{id}&quot;), 1L));`","body":"what if, you will try next one approach: in method signature declare something like this, <code>String getData(URI baseUrl, @PathVariable(&quot;id&quot;) Long variable);</code>  and invoke of this method <code>.getData(URI.create(&quot;http:&#47;&#47;127.0.0.1:8080&#47;api&#47;{id}&quot;), 1L));</code>"},{"owner":{"account_id":29228896,"reputation":21,"user_id":22393021,"display_name":"random"},"score":0,"creation_date":1692172184,"post_id":76905332,"comment_id":135586188,"body_markdown":"I don&#39;t think, that `http://127.0.0.1:8080/api/{id}` is a valid URI","body":"I don&#39;t think, that <code>http:&#47;&#47;127.0.0.1:8080&#47;api&#47;{id}</code> is a valid URI"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692172725,"post_id":76905332,"comment_id":135586280,"body_markdown":"just try it, in runtime {id} will be replaced with value from `@PathVariable` if i understood correct the documentation about httpexchanges","body":"just try it, in runtime {id} will be replaced with value from <code>@PathVariable</code> if i understood correct the documentation about httpexchanges"},{"owner":{"account_id":29228896,"reputation":21,"user_id":22393021,"display_name":"random"},"score":0,"creation_date":1692178477,"post_id":76905332,"comment_id":135587420,"body_markdown":"`URI.create(&quot;http://127.0.0.1:8080/api/{id}&quot;)` does not work since `{id}` is not valid","body":"<code>URI.create(&quot;http:&#47;&#47;127.0.0.1:8080&#47;api&#47;{id}&quot;)</code> does not work since <code>{id}</code> is not valid"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692178759,"post_id":76905332,"comment_id":135587481,"body_markdown":"did you replace my example about how it can be to your exact implementation ?","body":"did you replace my example about how it can be to your exact implementation ?"}],"answers":[{"tags":[],"owner":{"account_id":29228896,"reputation":21,"user_id":22393021,"display_name":"random"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696340975,"creation_date":1696340975,"answer_id":77222878,"question_id":76905332,"body_markdown":"This will be possible with Spring 6.1 (Spring Boot 3.2)\r\nhttps://github.com/spring-projects/spring-framework/issues/30935","title":"Dynamic url value in spring 6 httpexchanges","body":"<p>This will be possible with Spring 6.1 (Spring Boot 3.2)\n<a href=\"https://github.com/spring-projects/spring-framework/issues/30935\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30935</a></p>\n"}],"owner":{"account_id":29228896,"reputation":21,"user_id":22393021,"display_name":"random"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77222878,"answer_count":1,"score":2,"last_activity_date":1696340975,"creation_date":1692097093,"question_id":76905332,"body_markdown":"I am migrating my clients from Feign to spring 6 httpexchanges. With Feign it is possible to set the base url dynamically. However, I am not able to achieve this with httpexchanges. With httpexchanges an URI can be set. However, this will overwrite the whole path.\r\n\r\nI&#39;ve created the following client:\r\n\r\n```\r\npublic interface MyClient {\r\n\r\n    @GetExchange(value = &quot;/some-path&quot;)\r\n    String getData(URI baseUrl);\r\n}\r\n```\r\n\r\nIf I now call `getData(URI.create(&quot;http://some-url.com&quot;)` the resulting request is made to just `http://some-url.com`. Is it possible to call `http://some-url.com/some-path`?\r\n\r\nI&#39;ve also tried to set the base url as path variable\r\n\r\n```\r\npublic interface MyClient {\r\n\r\n    @GetExchange(value = &quot;{baseUrl}/some-path&quot;)\r\n    String getData(@PathVariable URI baseUrl);\r\n}\r\n```\r\n\r\nHowever, this will encode my baseUrl and something like `http%3A%2F%2Fsome-url.com%2Fsome-path` is called.","title":"Dynamic url value in spring 6 httpexchanges","body":"<p>I am migrating my clients from Feign to spring 6 httpexchanges. With Feign it is possible to set the base url dynamically. However, I am not able to achieve this with httpexchanges. With httpexchanges an URI can be set. However, this will overwrite the whole path.</p>\n<p>I've created the following client:</p>\n<pre><code>public interface MyClient {\n\n    @GetExchange(value = &quot;/some-path&quot;)\n    String getData(URI baseUrl);\n}\n</code></pre>\n<p>If I now call <code>getData(URI.create(&quot;http://some-url.com&quot;)</code> the resulting request is made to just <code>http://some-url.com</code>. Is it possible to call <code>http://some-url.com/some-path</code>?</p>\n<p>I've also tried to set the base url as path variable</p>\n<pre><code>public interface MyClient {\n\n    @GetExchange(value = &quot;{baseUrl}/some-path&quot;)\n    String getData(@PathVariable URI baseUrl);\n}\n</code></pre>\n<p>However, this will encode my baseUrl and something like <code>http%3A%2F%2Fsome-url.com%2Fsome-path</code> is called.</p>\n"},{"tags":["java","linux","spring","ubuntu","window"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696340078,"post_id":77222742,"comment_id":136138056,"body_markdown":"When you say &quot;doesn&#39;t return the right result&quot;, what *exactly* is wrong? Unexpected output? Error message?","body":"When you say &quot;doesn&#39;t return the right result&quot;, what <i>exactly</i> is wrong? Unexpected output? Error message?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696340369,"post_id":77222742,"comment_id":136138113,"body_markdown":"please share an [mcve]","body":"please share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":23562806,"reputation":27,"user_id":17603942,"display_name":"Mohamed Laajili"},"score":0,"creation_date":1696340373,"post_id":77222742,"comment_id":136138115,"body_markdown":"it return a num&#249;ber format exception because the whitespaces are still there. for exmaple, the string value=&#39;9 100 100&#39;, to convert it to a bigDecimal i need to replace its value to &#39;9100100&#39;.","body":"it return a num&#249;ber format exception because the whitespaces are still there. for exmaple, the string value=&#39;9 100 100&#39;, to convert it to a bigDecimal i need to replace its value to &#39;9100100&#39;."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696340506,"post_id":77222742,"comment_id":136138153,"body_markdown":"You are shure that these are withspaces, not other unprintable character? You can remove `is the same replaceAll(&quot; &quot;, &quot;&quot;)` as it is the same as `replaceAll(&quot;\\\\s+&quot;, &quot; &quot;)`","body":"You are shure that these are withspaces, not other unprintable character? You can remove <code>is the same replaceAll(&quot; &quot;, &quot;&quot;)</code> as it is the same as <code>replaceAll(&quot;\\\\s+&quot;, &quot; &quot;)</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1696340782,"post_id":77222742,"comment_id":136138220,"body_markdown":"You could simply discard every character that isn’t valid for a BigDecimal:  `stringValue = stringValue.replace(&quot;,&quot;, &quot;.&quot;).replaceAll(&quot;[^-.0-9]&quot;, &quot;&quot;);`","body":"You could simply discard every character that isn’t valid for a BigDecimal:  <code>stringValue = stringValue.replace(&quot;,&quot;, &quot;.&quot;).replaceAll(&quot;[^-.0-9]&quot;, &quot;&quot;);</code>"},{"owner":{"account_id":23562806,"reputation":27,"user_id":17603942,"display_name":"Mohamed Laajili"},"score":0,"creation_date":1696340789,"post_id":77222742,"comment_id":136138222,"body_markdown":"@jens I tried using all space values to check if it&#39;s up to the whitespace value type.","body":"@jens I tried using all space values to check if it&#39;s up to the whitespace value type."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696340908,"post_id":77222742,"comment_id":136138264,"body_markdown":"BTW: Stop using outdated classes like `SimpleDateFormat` and `java.util.Date`. use the more modern `java.time` API","body":"BTW: Stop using outdated classes like <code>SimpleDateFormat</code> and <code>java.util.Date</code>. use the more modern <code>java.time</code> API"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696341427,"post_id":77222742,"comment_id":136138372,"body_markdown":"@MohamedLaajili *I tried using all space values* a non printable characcter is not a whitespace","body":"@MohamedLaajili <i>I tried using all space values</i> a non printable characcter is not a whitespace"},{"owner":{"account_id":23562806,"reputation":27,"user_id":17603942,"display_name":"Mohamed Laajili"},"score":0,"creation_date":1696344815,"post_id":77222742,"comment_id":136139129,"body_markdown":"yes, the proposition of @VGR solved the issue.","body":"yes, the proposition of @VGR solved the issue."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696340802,"creation_date":1696340802,"answer_id":77222860,"question_id":77222742,"body_markdown":"I guess what you are have between the numbers is not a blank, it is an unprintable character, so try to use\r\n`stringvalue = stringvalue.replace(&quot;,&quot;, &quot;.&quot;).replaceAll(&quot;[^\\\\d\\\\.]*&quot;, &quot;&quot;)`\r\nwhich replaces all character which are not numbers or a dot with nothing\r\n","title":"Replacement of whitespaces in a string using java on ubuntu server","body":"<p>I guess what you are have between the numbers is not a blank, it is an unprintable character, so try to use\n<code>stringvalue = stringvalue.replace(&quot;,&quot;, &quot;.&quot;).replaceAll(&quot;[^\\\\d\\\\.]*&quot;, &quot;&quot;)</code>\nwhich replaces all character which are not numbers or a dot with nothing</p>\n"}],"owner":{"account_id":23562806,"reputation":27,"user_id":17603942,"display_name":"Mohamed Laajili"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696340835,"creation_date":1696339978,"question_id":77222742,"body_markdown":"i&#39;m importing some data using csv files, i should read them line by line and assign values to a string then set every value to its fieldname in my object class.\r\nmy problem is that some fields are numbers and i need to replace whitespaces with an empty string so i can convert the string value to a new BigDecimal.\r\n\r\ncode in java:\r\n```\r\n public static &lt;T&gt; T transformCsvToData(String ligneCsv, Class clazz, String[] fieldNames) {\r\n\r\n        T t = null;\r\n        try {\r\n            if (!StringUtils.isBlank(ligneCsv)) {\r\n                String[] listValues = ligneCsv.split(String.valueOf(DEFAULT_SEPARATOR));\r\n                t = (T) clazz.newInstance();\r\n\r\n                for (int i=0; i&lt;fieldNames.length; i++) {\r\n                    String fieldName = fieldNames[i];\r\n                    String stringValue = listValues.length &gt; i ? listValues[i] : null;\r\n\r\n                    PropertyDescriptor pd = new PropertyDescriptor(fieldName, clazz);\r\n                    Class fieldType = pd.getPropertyType();\r\n\r\n\r\n                    // verifier qu&#39;il existe une methode set\r\n                    if (pd.getWriteMethod() != null &amp;&amp; !&quot;class&quot;.equals(pd.getName())) {\r\n\r\n                        // recuperer la methode set\r\n                        Method writeMethod = pd.getWriteMethod();\r\n\r\n                        Object castedValue = null;\r\n                        if (StringUtils.isNotBlank(stringValue)) {\r\n                            try {\r\n                                stringValue = stringValue.trim();\r\n\r\n                                if (fieldType == String.class) {\r\n                                    castedValue = stringValue;\r\n                                } else if (fieldType == Boolean.class) {\r\n                                    castedValue = Boolean.valueOf(stringValue.toLowerCase());\r\n                                } else if (fieldType == Date.class) {\r\n                                    castedValue = new SimpleDateFormat(FORMAT_INPUT_DATE, Locale.FRANCE).parse(stringValue);\r\n                                } else if (fieldType == Integer.class) {\r\n                                    castedValue = Integer.valueOf(stringValue);\r\n                                } else {\r\n                                    stringValue = stringValue.replace(&quot;,&quot;, &quot;.&quot;).replace(&quot;%&quot;, &quot;&quot;).replace(&quot;\\u00A0&quot;, &quot;&quot;).replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).replaceAll(&quot; &quot;, &quot;&quot;);\r\n                                    if (fieldType == BigDecimal.class) {\r\n                                        castedValue = new BigDecimal(stringValue);\r\n                                    } else if (fieldType == Long.class) {\r\n                                        castedValue = Long.valueOf(stringValue);\r\n                                    } else if (fieldType == Double.class) {\r\n                                        castedValue = Double.valueOf(stringValue);\r\n                                    }\r\n                                }\r\n\r\n                            } catch (NumberFormatException | ParseException ex) {\r\n                                castedValue = null;\r\n                            }\r\n                        }\r\n\r\n                        writeMethod.invoke(t, castedValue);\r\n                    }\r\n                }\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n\r\n        return t;\r\n    }\r\n```\r\n\r\nmy dev local environment is running on windows and everything is working but when i build the artifact to test it on ubuntu server through jenkins. the functionality doesn&#39;t return the right result.\r\n\r\n\r\n\r\nwhat can bee the difference between ubuntu and windows servers ? and how can i solve this issue ?\r\nNB: i deployed the same war on windows server too and everything is working also. ","title":"Replacement of whitespaces in a string using java on ubuntu server","body":"<p>i'm importing some data using csv files, i should read them line by line and assign values to a string then set every value to its fieldname in my object class.\nmy problem is that some fields are numbers and i need to replace whitespaces with an empty string so i can convert the string value to a new BigDecimal.</p>\n<p>code in java:</p>\n<pre><code> public static &lt;T&gt; T transformCsvToData(String ligneCsv, Class clazz, String[] fieldNames) {\n\n        T t = null;\n        try {\n            if (!StringUtils.isBlank(ligneCsv)) {\n                String[] listValues = ligneCsv.split(String.valueOf(DEFAULT_SEPARATOR));\n                t = (T) clazz.newInstance();\n\n                for (int i=0; i&lt;fieldNames.length; i++) {\n                    String fieldName = fieldNames[i];\n                    String stringValue = listValues.length &gt; i ? listValues[i] : null;\n\n                    PropertyDescriptor pd = new PropertyDescriptor(fieldName, clazz);\n                    Class fieldType = pd.getPropertyType();\n\n\n                    // verifier qu'il existe une methode set\n                    if (pd.getWriteMethod() != null &amp;&amp; !&quot;class&quot;.equals(pd.getName())) {\n\n                        // recuperer la methode set\n                        Method writeMethod = pd.getWriteMethod();\n\n                        Object castedValue = null;\n                        if (StringUtils.isNotBlank(stringValue)) {\n                            try {\n                                stringValue = stringValue.trim();\n\n                                if (fieldType == String.class) {\n                                    castedValue = stringValue;\n                                } else if (fieldType == Boolean.class) {\n                                    castedValue = Boolean.valueOf(stringValue.toLowerCase());\n                                } else if (fieldType == Date.class) {\n                                    castedValue = new SimpleDateFormat(FORMAT_INPUT_DATE, Locale.FRANCE).parse(stringValue);\n                                } else if (fieldType == Integer.class) {\n                                    castedValue = Integer.valueOf(stringValue);\n                                } else {\n                                    stringValue = stringValue.replace(&quot;,&quot;, &quot;.&quot;).replace(&quot;%&quot;, &quot;&quot;).replace(&quot;\\u00A0&quot;, &quot;&quot;).replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).replaceAll(&quot; &quot;, &quot;&quot;);\n                                    if (fieldType == BigDecimal.class) {\n                                        castedValue = new BigDecimal(stringValue);\n                                    } else if (fieldType == Long.class) {\n                                        castedValue = Long.valueOf(stringValue);\n                                    } else if (fieldType == Double.class) {\n                                        castedValue = Double.valueOf(stringValue);\n                                    }\n                                }\n\n                            } catch (NumberFormatException | ParseException ex) {\n                                castedValue = null;\n                            }\n                        }\n\n                        writeMethod.invoke(t, castedValue);\n                    }\n                }\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n\n        return t;\n    }\n</code></pre>\n<p>my dev local environment is running on windows and everything is working but when i build the artifact to test it on ubuntu server through jenkins. the functionality doesn't return the right result.</p>\n<p>what can bee the difference between ubuntu and windows servers ? and how can i solve this issue ?\nNB: i deployed the same war on windows server too and everything is working also.</p>\n"},{"tags":["java","docker","delta-lake","apache-pulsar"],"answers":[{"tags":[],"owner":{"account_id":3901577,"reputation":1056,"user_id":3229301,"display_name":"David Kjerrumgaard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663715803,"creation_date":1663715803,"answer_id":73793512,"question_id":73791829,"body_markdown":"Since you are running this as a bild-in connector, have you confirmed that the connector is available, e.g. `$ pulsar-admin sinks available-sinks`\r\n\r\n\r\nHave you tried running it as non-built-in connector, e.g. \r\n\r\n    PULSAR_HOME/bin/pulsar-admin sinks create \\\r\n    --sink-config-file &lt;lakehouse-sink-config.yaml&gt;\r\n\r\n","title":"Delta Lake Sink Connector for Apache Pulsar with miniO throws (java.lang.IllegalArgumentException)","body":"<p>Since you are running this as a bild-in connector, have you confirmed that the connector is available, e.g. <code>$ pulsar-admin sinks available-sinks</code></p>\n<p>Have you tried running it as non-built-in connector, e.g.</p>\n<pre><code>PULSAR_HOME/bin/pulsar-admin sinks create \\\n--sink-config-file &lt;lakehouse-sink-config.yaml&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1499092,"reputation":515,"user_id":1404332,"display_name":"Tim Spann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663769105,"creation_date":1663769105,"answer_id":73802135,"question_id":73791829,"body_markdown":"Take a look at my example\r\n\r\nhttps://github.com/tspannhw/FLiP-Pi-DeltaLake-Thermal\r\n\r\nYou may need the file type\r\n\r\nconfigs:\r\n        type: &quot;delta&quot;\r\n        maxCommitInterval: 120\r\n        maxRecordsPerCommit: 10_000_000\r\n        tablePath: &quot;file:///opt/demo/lakehouse&quot;\r\n        processingGuarantees: &quot;EXACTLY_ONCE&quot;\r\n        deltaFileType: &quot;parquet&quot;\r\n        subscriptionType: &quot;Failover&quot;\r\n\r\nAlso don&#39;t do a localrun, do a create\r\n\r\nbin/pulsar-admin sinks create --archive ./connectors/pulsar-io-lakehouse-2.9.2.24.nar --tenant public --namespace default --name delta_sink --sink-config-file conf/deltalakesink.yml --inputs &quot;persistent://public/default/pi-sensors&quot; --parallelism 1  --subs-name pisensorwatch --processing-guarantees EFFECTIVELY_ONCE\r\n\r\nAlso try the YML configuration not JSON","title":"Delta Lake Sink Connector for Apache Pulsar with miniO throws (java.lang.IllegalArgumentException)","body":"<p>Take a look at my example</p>\n<p><a href=\"https://github.com/tspannhw/FLiP-Pi-DeltaLake-Thermal\" rel=\"nofollow noreferrer\">https://github.com/tspannhw/FLiP-Pi-DeltaLake-Thermal</a></p>\n<p>You may need the file type</p>\n<p>configs:\ntype: &quot;delta&quot;\nmaxCommitInterval: 120\nmaxRecordsPerCommit: 10_000_000\ntablePath: &quot;file:///opt/demo/lakehouse&quot;\nprocessingGuarantees: &quot;EXACTLY_ONCE&quot;\ndeltaFileType: &quot;parquet&quot;\nsubscriptionType: &quot;Failover&quot;</p>\n<p>Also don't do a localrun, do a create</p>\n<p>bin/pulsar-admin sinks create --archive ./connectors/pulsar-io-lakehouse-2.9.2.24.nar --tenant public --namespace default --name delta_sink --sink-config-file conf/deltalakesink.yml --inputs &quot;persistent://public/default/pi-sensors&quot; --parallelism 1  --subs-name pisensorwatch --processing-guarantees EFFECTIVELY_ONCE</p>\n<p>Also try the YML configuration not JSON</p>\n"}],"owner":{"account_id":4033651,"reputation":63,"user_id":3318904,"display_name":"sejuba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73802135,"answer_count":2,"score":1,"last_activity_date":1696340777,"creation_date":1663702772,"question_id":73791829,"body_markdown":"I am trying to run the new apache pulsar `Lakehouse Sink Connector` and I am getting `java.lang.IllegalArgumentException`   \r\n\r\nBelow is my setup. \r\ndocker-compose.yaml file:\r\n```\r\nversion: &#39;3.7&#39;\r\nvolumes:\r\n  mssql-data:\r\n  minio-data:\r\nnetworks:\r\n  oentity:\r\n    driver: bridge\r\nservices:\r\n  pulsar:\r\n    image: apachepulsar/pulsar:latest\r\n    command: bin/pulsar standalone\r\n    hostname: pulsar\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n      - &quot;6650:6650&quot;\r\n    restart: unless-stopped\r\n    networks:\r\n      oentity:\r\n    volumes:\r\n      - &quot;./data/:/pulsar/data&quot;\r\n      - &quot;./connectors/:/pulsar/connectors&quot;\r\n  dashboard:\r\n    image: apachepulsar/pulsar-manager:latest\r\n    ports:\r\n      - &quot;9528:9527&quot;\r\n      - &quot;7750:7750&quot;\r\n    networks:\r\n      oentity:\r\n    depends_on:\r\n      - pulsar\r\n    links:\r\n      - pulsar\r\n    environment:\r\n      SPRING_CONFIGURATION_FILE: /pulsar-manager/pulsar-manager/application.properties\r\n  minio:\r\n    image: &#39;minio/minio:latest&#39;\r\n    hostname: minio\r\n    container_name: minio\r\n    ports:\r\n      - &#39;9000:9000&#39;\r\n      - &#39;9001:9001&#39;\r\n    volumes:\r\n      - minio-data:/data\r\n    environment:\r\n      MINIO_ROOT_USER: minio\r\n      MINIO_ROOT_PASSWORD: minio123\r\n      MINIO_ACCESS_KEY: minio\r\n      MINIO_SECRET_KEY: minio123\r\n    command: server --console-address &quot;:9001&quot; /data\r\n    networks:\r\n      oentity:\r\n```\r\n - I download the connector for [here](https://github.com/streamnative/pulsar-io-lakehouse/releases/download/v2.9.3.7/pulsar-io-lakehouse-2.9.3.7-cloud.nar) and copied the NAR package to the Pulsar connectors directory `$PULSAR_HOME/connectors` in the container.\r\n\r\n - I logged in to miniO from http://localhost:9001/login and created a bucket call lakehouse.\r\n\r\n- I used the cconfiguration similar to one described\r\n   [here](https://hub.streamnative.io/connectors/lakehouse-sink/v2.9.3.7/) and ureplacing the `tablePath` value with my miniO path.\r\nI named the file `sink-connector-config.json`.\r\n```\r\n{\r\n  &quot;tenant&quot;:&quot;public&quot;,\r\n  &quot;namespace&quot;:&quot;default&quot;,\r\n  &quot;name&quot;:&quot;delta_sink&quot;,\r\n  &quot;parallelism&quot;:1,\r\n  &quot;inputs&quot;: [\r\n    &quot;test-delta-pulsar&quot;\r\n  ],\r\n  &quot;archive&quot;: &quot;connectors/pulsar-io-lakehouse-2.9.3.7-cloud.nar&quot;,\r\n  &quot;processingGuarantees&quot;:&quot;EFFECTIVELY_ONCE&quot;,\r\n  &quot;configs&quot;:{\r\n      &quot;type&quot;:&quot;delta&quot;,\r\n      &quot;maxCommitInterval&quot;:120,\r\n      &quot;maxRecordsPerCommit&quot;:10000000,\r\n      &quot;tablePath&quot;: &quot;s3a://lakehouse/delta_sink&quot;,\r\n      &quot;hadoop.fs.s3a.aws.credentials.provider&quot;: &quot;com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;\r\n  }\r\n}\r\n```\r\n\r\n- I ran the lakehouse sink connector from the container. `docker exec -it &lt;container name&gt; bash`\r\n\r\nthen I executed\r\n```\r\nPULSAR_HOME/bin/pulsar-admin sink localrun \\\r\n--sink-config-file sink-connector-config.json\r\n```\r\n\r\nAnd I got the error below;\r\n```\r\n2022-09-06T16:53:08,396+0000 [main] INFO  org.apache.pulsar.functions.utils.io.ConnectorUtils - Found connector ConnectorDefinition(name=lakehouse, description=Lakehouse connectors, sourceClass=org.apache.pulsar.ecosystem.io.lakehouse.SourceConnector, sinkClass=org.apache.pulsar.ecosystem.io.lakehouse.SinkConnector, sourceConfigClass=org.apache.pulsar.ecosystem.io.lakehouse.SourceConnectorConfig, sinkConfigClass=org.apache.pulsar.ecosystem.io.lakehouse.SinkConnectorConfig) from /pulsar/connectors/pulsar-io-lakehouse-2.9.3.7-cloud.nar\r\n2022-09-06T16:53:44,562+0000 [main] ERROR org.apache.pulsar.functions.LocalRunner - Encountered error starting localrunner\r\njava.lang.IllegalArgumentException: Could not validate sink config: Cannot construct instance of `org.apache.pulsar.ecosystem.io.lakehouse.SinkConnectorConfig` (no Creators, like default constructor, exist): abstract types either need to be mapped \r\nto concrete types, have custom deserializer, or contain additional type information\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n        at org.apache.pulsar.functions.utils.SinkConfigUtils.validateSinkConfig(SinkConfigUtils.java:594) ~[org.apache.pulsar-pulsar-functions-utils-2.9.3.jar:2.9.3]\r\n        at org.apache.pulsar.functions.utils.SinkConfigUtils.validateAndExtractDetails(SinkConfigUtils.java:441) ~[org.apache.pulsar-pulsar-functions-utils-2.9.3.jar:2.9.3]\r\n        at org.apache.pulsar.functions.LocalRunner.start(LocalRunner.java:439) ~[org.apache.pulsar-pulsar-functions-local-runner-original-2.9.3.jar:2.9.3]\r\n        at org.apache.pulsar.functions.LocalRunner.main(LocalRunner.java:198) [org.apache.pulsar-pulsar-functions-local-runner-original-2.9.3.jar:2.9.3]\r\nroot@pulsar:/pulsar#\r\n```\r\n*************************************************\r\ncredit to @Tim Spann who pointed me to his repo:\r\nhttps://github.com/tspannhw/FLiP-Pi-DeltaLake-Thermal\r\n\r\n**What i was doing wrong are**:\r\n - sending the message to the queue from cli\r\n - No schema definition\r\n\r\n**what worked for me are**:\r\n- created schema for the queue\r\n- used yaml for connector properties instead of json. \r\n e.g\r\n\r\n**miniO config**\r\n```\r\ntenant: public\r\nnamespace: default\r\nname: delta_sink\r\nparallelism: 1\r\ninputs:\r\n- raw.ro\r\narchive: connectors/pulsar-io-lakehouse-2.9.3.7-cloud.nar\r\nprocessingGuarantees: EFFECTIVELY_ONCE\r\nconfigs:\r\n  type: delta\r\n  maxCommitInterval: 120\r\n  maxRecordsPerCommit: 10000000\r\n  tablePath: s3a://lakehouse/delta_sink\r\n  processingGuarantees: &quot;EXACTLY_ONCE&quot;\r\n  deltaFileType: &quot;parquet&quot;\r\n  subscriptionType: &quot;Failover&quot;\r\n  hadoop.fs.s3a.aws.credentials.provider: org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider\r\n  hadoop.fs.s3a.endpoint: http://minio:9000\r\n  hadoop.fs.s3a.access.key: minio\r\n  hadoop.fs.s3a.secret.key: minio123\r\n  hadoop.fs.s3a.path.style.access: true\r\n```\r\n\r\n**local File system**\r\n\r\n ```\r\ntenant: public\r\nnamespace: default\r\nname: delta_sink\r\nparallelism: 1\r\ninputs:\r\n- raw.ro\r\narchive: connectors/pulsar-io-lakehouse-2.9.3.7.nar\r\nprocessingGuarantees: EFFECTIVELY_ONCE\r\nconfigs:\r\n  type: delta\r\n  maxCommitInterval: 120\r\n  maxRecordsPerCommit: 10000000\r\n  tablePath: file:///opt/demo/lakehouse\r\n  processingGuarantees: &quot;EXACTLY_ONCE&quot;\r\n  deltaFileType: &quot;parquet&quot;\r\n  subscriptionType: &quot;Failover&quot;\r\n ```\r\ncreated schema in python script to send message to pulsar\r\n\r\n```\r\nimport pulsar\r\nfrom pulsar.schema import *\r\n\r\nclass CciMessage(Record):\r\n    message = String()\r\n    id = Integer()\r\n\r\nclient = pulsar.Client(&#39;pulsar://pulsar:6650&#39;)\r\nproducer = client.create_producer(topic=&#39;raw.ro&#39;,\r\n                            schema=JsonSchema(CciMessage))\r\n\r\nproducer.send(CciMessage(message=&quot;Sandbox&quot;, id=1))\r\n```\r\n\r\nThe remaining steps i can summarize in bash script below. \r\n\r\n```\r\nSLEEP_TIME=2\r\nSINK_NAME=delta_sink\r\nNAME_SPACE=default\r\nTENANT=public\r\nTOPIC=raw.ro\r\n\r\nsleep $SLEEP_TIME &amp;&amp; echo &quot;removing existing sink&quot;\r\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sink stop --name $SINK_NAME --namespace $NAME_SPACE --tenant $TENANT\r\n\r\nsleep $SLEEP_TIME &amp;&amp; echo &quot;copying connectors&quot;\r\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks delete --tenant $TENANT --namespace $NAME_SPACE --name $SINK_NAME\r\n\r\nsleep $SLEEP_TIME &amp;&amp; echo &quot;copying connectors&quot;\r\ndocker cp connectors/pulsar-io-lakehouse-2.9.3.7-cloud.nar solution_pulsar_1:/pulsar/connectors\r\ndocker cp connectors/pulsar-io-lakehouse-2.9.3.7.nar solution_pulsar_1:/pulsar/connectors\r\ndocker cp l_conf/deltalake_sink.yaml solution_pulsar_1:/pulsar/connectors\r\ndocker cp l_conf/source-cloud-config.json solution_pulsar_1:/pulsar/connectors\r\n\r\nsleep $SLEEP_TIME &amp;&amp; echo &quot;creating sink&quot;\r\n sinks create --sink-config-file connectors/sink-cloud-config.json\r\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks create --sink-config-file connectors/deltalake_sink.yaml\r\n\r\nsleep $SLEEP_TIME &amp;&amp; echo &quot;get sink properties&quot;\r\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks get --tenant $TENANT --namespace $NAME_SPACE --name $SINK_NAME\r\n\r\nsleep $SLEEP_TIME &amp;&amp; echo &quot;listing sink&quot;\r\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks list\r\n\r\nsleep $SLEEP_TIME &amp;&amp; echo &quot;get status of sink&quot;\r\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks status --tenant $TENANT --namespace $NAME_SPACE --name $SINK_NAME\r\n\r\nsleep $SLEEP_TIME &amp;&amp; echo &quot;sending test message to sink&quot;\r\ndocker  exec -it solution_pulsar_1 python connectors/prducer_simple_schema.py\r\n```\r\nI hope it helps someone trying this next. and yes I am able to see entry in my delta lake, for file system target. \r\n\r\n`_delta_log  part-0000-a7539e24-7eaa-4c43-9f4d-a8ebe24c8c7f-c000.snappy.parquet`","title":"Delta Lake Sink Connector for Apache Pulsar with miniO throws (java.lang.IllegalArgumentException)","body":"<p>I am trying to run the new apache pulsar <code>Lakehouse Sink Connector</code> and I am getting <code>java.lang.IllegalArgumentException</code></p>\n<p>Below is my setup.\ndocker-compose.yaml file:</p>\n<pre><code>version: '3.7'\nvolumes:\n  mssql-data:\n  minio-data:\nnetworks:\n  oentity:\n    driver: bridge\nservices:\n  pulsar:\n    image: apachepulsar/pulsar:latest\n    command: bin/pulsar standalone\n    hostname: pulsar\n    ports:\n      - &quot;8080:8080&quot;\n      - &quot;6650:6650&quot;\n    restart: unless-stopped\n    networks:\n      oentity:\n    volumes:\n      - &quot;./data/:/pulsar/data&quot;\n      - &quot;./connectors/:/pulsar/connectors&quot;\n  dashboard:\n    image: apachepulsar/pulsar-manager:latest\n    ports:\n      - &quot;9528:9527&quot;\n      - &quot;7750:7750&quot;\n    networks:\n      oentity:\n    depends_on:\n      - pulsar\n    links:\n      - pulsar\n    environment:\n      SPRING_CONFIGURATION_FILE: /pulsar-manager/pulsar-manager/application.properties\n  minio:\n    image: 'minio/minio:latest'\n    hostname: minio\n    container_name: minio\n    ports:\n      - '9000:9000'\n      - '9001:9001'\n    volumes:\n      - minio-data:/data\n    environment:\n      MINIO_ROOT_USER: minio\n      MINIO_ROOT_PASSWORD: minio123\n      MINIO_ACCESS_KEY: minio\n      MINIO_SECRET_KEY: minio123\n    command: server --console-address &quot;:9001&quot; /data\n    networks:\n      oentity:\n</code></pre>\n<ul>\n<li><p>I download the connector for <a href=\"https://github.com/streamnative/pulsar-io-lakehouse/releases/download/v2.9.3.7/pulsar-io-lakehouse-2.9.3.7-cloud.nar\" rel=\"nofollow noreferrer\">here</a> and copied the NAR package to the Pulsar connectors directory <code>$PULSAR_HOME/connectors</code> in the container.</p>\n</li>\n<li><p>I logged in to miniO from http://localhost:9001/login and created a bucket call lakehouse.</p>\n</li>\n<li><p>I used the cconfiguration similar to one described\n<a href=\"https://hub.streamnative.io/connectors/lakehouse-sink/v2.9.3.7/\" rel=\"nofollow noreferrer\">here</a> and ureplacing the <code>tablePath</code> value with my miniO path.\nI named the file <code>sink-connector-config.json</code>.</p>\n</li>\n</ul>\n<pre><code>{\n  &quot;tenant&quot;:&quot;public&quot;,\n  &quot;namespace&quot;:&quot;default&quot;,\n  &quot;name&quot;:&quot;delta_sink&quot;,\n  &quot;parallelism&quot;:1,\n  &quot;inputs&quot;: [\n    &quot;test-delta-pulsar&quot;\n  ],\n  &quot;archive&quot;: &quot;connectors/pulsar-io-lakehouse-2.9.3.7-cloud.nar&quot;,\n  &quot;processingGuarantees&quot;:&quot;EFFECTIVELY_ONCE&quot;,\n  &quot;configs&quot;:{\n      &quot;type&quot;:&quot;delta&quot;,\n      &quot;maxCommitInterval&quot;:120,\n      &quot;maxRecordsPerCommit&quot;:10000000,\n      &quot;tablePath&quot;: &quot;s3a://lakehouse/delta_sink&quot;,\n      &quot;hadoop.fs.s3a.aws.credentials.provider&quot;: &quot;com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;\n  }\n}\n</code></pre>\n<ul>\n<li>I ran the lakehouse sink connector from the container. <code>docker exec -it &lt;container name&gt; bash</code></li>\n</ul>\n<p>then I executed</p>\n<pre><code>PULSAR_HOME/bin/pulsar-admin sink localrun \\\n--sink-config-file sink-connector-config.json\n</code></pre>\n<p>And I got the error below;</p>\n<pre><code>2022-09-06T16:53:08,396+0000 [main] INFO  org.apache.pulsar.functions.utils.io.ConnectorUtils - Found connector ConnectorDefinition(name=lakehouse, description=Lakehouse connectors, sourceClass=org.apache.pulsar.ecosystem.io.lakehouse.SourceConnector, sinkClass=org.apache.pulsar.ecosystem.io.lakehouse.SinkConnector, sourceConfigClass=org.apache.pulsar.ecosystem.io.lakehouse.SourceConnectorConfig, sinkConfigClass=org.apache.pulsar.ecosystem.io.lakehouse.SinkConnectorConfig) from /pulsar/connectors/pulsar-io-lakehouse-2.9.3.7-cloud.nar\n2022-09-06T16:53:44,562+0000 [main] ERROR org.apache.pulsar.functions.LocalRunner - Encountered error starting localrunner\njava.lang.IllegalArgumentException: Could not validate sink config: Cannot construct instance of `org.apache.pulsar.ecosystem.io.lakehouse.SinkConnectorConfig` (no Creators, like default constructor, exist): abstract types either need to be mapped \nto concrete types, have custom deserializer, or contain additional type information\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n        at org.apache.pulsar.functions.utils.SinkConfigUtils.validateSinkConfig(SinkConfigUtils.java:594) ~[org.apache.pulsar-pulsar-functions-utils-2.9.3.jar:2.9.3]\n        at org.apache.pulsar.functions.utils.SinkConfigUtils.validateAndExtractDetails(SinkConfigUtils.java:441) ~[org.apache.pulsar-pulsar-functions-utils-2.9.3.jar:2.9.3]\n        at org.apache.pulsar.functions.LocalRunner.start(LocalRunner.java:439) ~[org.apache.pulsar-pulsar-functions-local-runner-original-2.9.3.jar:2.9.3]\n        at org.apache.pulsar.functions.LocalRunner.main(LocalRunner.java:198) [org.apache.pulsar-pulsar-functions-local-runner-original-2.9.3.jar:2.9.3]\nroot@pulsar:/pulsar#\n</code></pre>\n<hr />\n<p>credit to @Tim Spann who pointed me to his repo:\n<a href=\"https://github.com/tspannhw/FLiP-Pi-DeltaLake-Thermal\" rel=\"nofollow noreferrer\">https://github.com/tspannhw/FLiP-Pi-DeltaLake-Thermal</a></p>\n<p><strong>What i was doing wrong are</strong>:</p>\n<ul>\n<li>sending the message to the queue from cli</li>\n<li>No schema definition</li>\n</ul>\n<p><strong>what worked for me are</strong>:</p>\n<ul>\n<li>created schema for the queue</li>\n<li>used yaml for connector properties instead of json.\ne.g</li>\n</ul>\n<p><strong>miniO config</strong></p>\n<pre><code>tenant: public\nnamespace: default\nname: delta_sink\nparallelism: 1\ninputs:\n- raw.ro\narchive: connectors/pulsar-io-lakehouse-2.9.3.7-cloud.nar\nprocessingGuarantees: EFFECTIVELY_ONCE\nconfigs:\n  type: delta\n  maxCommitInterval: 120\n  maxRecordsPerCommit: 10000000\n  tablePath: s3a://lakehouse/delta_sink\n  processingGuarantees: &quot;EXACTLY_ONCE&quot;\n  deltaFileType: &quot;parquet&quot;\n  subscriptionType: &quot;Failover&quot;\n  hadoop.fs.s3a.aws.credentials.provider: org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider\n  hadoop.fs.s3a.endpoint: http://minio:9000\n  hadoop.fs.s3a.access.key: minio\n  hadoop.fs.s3a.secret.key: minio123\n  hadoop.fs.s3a.path.style.access: true\n</code></pre>\n<p><strong>local File system</strong></p>\n<pre><code>tenant: public\nnamespace: default\nname: delta_sink\nparallelism: 1\ninputs:\n- raw.ro\narchive: connectors/pulsar-io-lakehouse-2.9.3.7.nar\nprocessingGuarantees: EFFECTIVELY_ONCE\nconfigs:\n type: delta\n maxCommitInterval: 120\n maxRecordsPerCommit: 10000000\n tablePath: file:///opt/demo/lakehouse\n processingGuarantees: &quot;EXACTLY_ONCE&quot;\n deltaFileType: &quot;parquet&quot;\n subscriptionType: &quot;Failover&quot;\n</code></pre>\n<p>created schema in python script to send message to pulsar</p>\n<pre><code>import pulsar\nfrom pulsar.schema import *\n\nclass CciMessage(Record):\n    message = String()\n    id = Integer()\n\nclient = pulsar.Client('pulsar://pulsar:6650')\nproducer = client.create_producer(topic='raw.ro',\n                            schema=JsonSchema(CciMessage))\n\nproducer.send(CciMessage(message=&quot;Sandbox&quot;, id=1))\n</code></pre>\n<p>The remaining steps i can summarize in bash script below.</p>\n<pre><code>SLEEP_TIME=2\nSINK_NAME=delta_sink\nNAME_SPACE=default\nTENANT=public\nTOPIC=raw.ro\n\nsleep $SLEEP_TIME &amp;&amp; echo &quot;removing existing sink&quot;\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sink stop --name $SINK_NAME --namespace $NAME_SPACE --tenant $TENANT\n\nsleep $SLEEP_TIME &amp;&amp; echo &quot;copying connectors&quot;\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks delete --tenant $TENANT --namespace $NAME_SPACE --name $SINK_NAME\n\nsleep $SLEEP_TIME &amp;&amp; echo &quot;copying connectors&quot;\ndocker cp connectors/pulsar-io-lakehouse-2.9.3.7-cloud.nar solution_pulsar_1:/pulsar/connectors\ndocker cp connectors/pulsar-io-lakehouse-2.9.3.7.nar solution_pulsar_1:/pulsar/connectors\ndocker cp l_conf/deltalake_sink.yaml solution_pulsar_1:/pulsar/connectors\ndocker cp l_conf/source-cloud-config.json solution_pulsar_1:/pulsar/connectors\n\nsleep $SLEEP_TIME &amp;&amp; echo &quot;creating sink&quot;\n sinks create --sink-config-file connectors/sink-cloud-config.json\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks create --sink-config-file connectors/deltalake_sink.yaml\n\nsleep $SLEEP_TIME &amp;&amp; echo &quot;get sink properties&quot;\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks get --tenant $TENANT --namespace $NAME_SPACE --name $SINK_NAME\n\nsleep $SLEEP_TIME &amp;&amp; echo &quot;listing sink&quot;\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks list\n\nsleep $SLEEP_TIME &amp;&amp; echo &quot;get status of sink&quot;\ndocker  exec -it solution_pulsar_1 bin/pulsar-admin sinks status --tenant $TENANT --namespace $NAME_SPACE --name $SINK_NAME\n\nsleep $SLEEP_TIME &amp;&amp; echo &quot;sending test message to sink&quot;\ndocker  exec -it solution_pulsar_1 python connectors/prducer_simple_schema.py\n</code></pre>\n<p>I hope it helps someone trying this next. and yes I am able to see entry in my delta lake, for file system target.</p>\n<p><code>_delta_log  part-0000-a7539e24-7eaa-4c43-9f4d-a8ebe24c8c7f-c000.snappy.parquet</code></p>\n"},{"tags":["java","swing","jscrollpane"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696338436,"post_id":77222319,"comment_id":136137688,"body_markdown":"I don&#39;t know if I missed it, but I don&#39;t see the code that calls `addVideos`. Also, not really a good idea to call your class &#39;Window&#39; (the same as one in your imports)","body":"I don&#39;t know if I missed it, but I don&#39;t see the code that calls <code>addVideos</code>. Also, not really a good idea to call your class &#39;Window&#39; (the same as one in your imports)"}],"answers":[{"tags":[],"owner":{"account_id":26164017,"reputation":21,"user_id":19850078,"display_name":"Tristan Maisonneuve"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696340728,"creation_date":1696340728,"answer_id":77222848,"question_id":77222319,"body_markdown":"Okay I found out where it came :\r\n\r\n    contentPane.add(leftPanel, BorderLayout.WEST);\r\n    \r\nYou have to put the leftScrollPanel instead of the leftPanel in the contentPane :\r\n\r\n    contentPane.add(leftScrollPane, BorderLayout.WEST);","title":"Java Swing - I don&#39;t know why my JScrollPane wont scroll down","body":"<p>Okay I found out where it came :</p>\n<pre><code>contentPane.add(leftPanel, BorderLayout.WEST);\n</code></pre>\n<p>You have to put the leftScrollPanel instead of the leftPanel in the contentPane :</p>\n<pre><code>contentPane.add(leftScrollPane, BorderLayout.WEST);\n</code></pre>\n"}],"owner":{"account_id":26164017,"reputation":21,"user_id":19850078,"display_name":"Tristan Maisonneuve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696340728,"creation_date":1696336569,"question_id":77222319,"body_markdown":"I have some issues making a JScrollPane scrolling in Swing. I don&#39;t know why it is doing that.\r\nIt worked before when I just created a pane on top of the contentPane. But it is not working anymore now that I added 2 other pane to the contentPane. (There is a total of 25 videos fetched here so I should have a scroll bar on the right side of the leftPannel).\r\n\r\n```\r\npackage projet.interfaces;\r\n\r\nimport projet.listeners.BouttonAddListener;\r\nimport projet.model.Musique;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.List;\r\n\r\npublic class Window extends JFrame {\r\n\r\n    private final JTextArea lien = new JTextArea();\r\n    private final JButton linkButton = new JButton();\r\n    private JPanel topPanel;\r\n    private JPanel leftPanel;\r\n    private JPanel rightPanel;\r\n    private JScrollPane leftScrollPane;\r\n    private int nombreVideos = 0;\r\n\r\n    public Window() {\r\n        super(&quot;Youtube and Soundcloud playlist downloader&quot;);\r\n        this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        this.setSize(1920,1080);\r\n        this.setLocationRelativeTo(null);\r\n    }\r\n\r\n    public void initializeWindow() {\r\n        topPanel = new JPanel();\r\n        topPanel.setPreferredSize(new Dimension(this.getWidth(), 100));\r\n        addLien();\r\n        addButtonLien();\r\n\r\n        leftPanel = new JPanel();\r\n        leftPanel.setLayout(new BoxLayout(leftPanel, BoxLayout.Y_AXIS));\r\n        leftPanel.setMaximumSize(new Dimension(leftPanel.getWidth(),Integer.MAX_VALUE));\r\n        leftScrollPane = new JScrollPane(leftPanel);\r\n        leftScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\r\n        rightPanel = new JPanel();\r\n\r\n        Container contentPane = this.getContentPane();\r\n        contentPane.setLayout(new BorderLayout());\r\n\r\n        contentPane.add(topPanel, BorderLayout.NORTH);\r\n        contentPane.add(leftPanel, BorderLayout.WEST);\r\n        contentPane.add(rightPanel, BorderLayout.CENTER);\r\n    }\r\n\r\n    private void addLien() {\r\n        lien.setBounds(25,15,200,20);\r\n        lien.setText(&quot;Copiez votre URL ici.&quot;);\r\n        topPanel.add(lien);\r\n    }\r\n\r\n    private void addButtonLien() {\r\n        linkButton.setBounds(245,15,20,20);\r\n        linkButton.setText(&quot;V&quot;);\r\n        linkButton.addActionListener(new BouttonAddListener(this));\r\n        topPanel.add(linkButton);\r\n    }\r\n\r\n\r\n    public void addVideos(List&lt;Musique&gt; musiques) {\r\n        for (Musique musique:musiques) {\r\n            JPanel box = createBox(musique.getTitre(), musique.getArtiste().getNom(), musique.getImage());\r\n            leftPanel.add(box);\r\n            nombreVideos++;\r\n        }\r\n        leftPanel.revalidate();\r\n        leftPanel.repaint();\r\n    }\r\n\r\n    private JPanel createBox(String title, String artist, String imagePath) {\r\n        JPanel box = new JPanel();\r\n        box.setLayout(new BorderLayout(10, 10));\r\n        box.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n\r\n        JLabel titleLabel = new JLabel(&quot;Title: &quot; + title);\r\n        JLabel artistLabel = new JLabel(&quot;Artist: &quot; + artist);\r\n\r\n        // Load and display the image\r\n        BufferedImage image = loadImage(imagePath);\r\n        if (image != null) {\r\n            JLabel imageLabel = new JLabel(new ImageIcon(image));\r\n            box.add(imageLabel, BorderLayout.CENTER);\r\n        }\r\n\r\n        box.add(titleLabel, BorderLayout.NORTH);\r\n        box.add(artistLabel, BorderLayout.SOUTH);\r\n\r\n        return box;\r\n    }\r\n\r\n    private BufferedImage loadImage(String imagePath) {\r\n        try {\r\n            return ImageIO.read(new URL(imagePath));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public JTextArea getLien() {\r\n        return lien;\r\n    }\r\n}\r\n\r\n```\r\n[the result is here](https://i.stack.imgur.com/dsNrc.png)\r\nThanks for your help :).\r\nHave a good day.\r\n\r\n\r\nI tried /\r\n- leftPanel.setLayout(new GridLayout(0,1)); (it is the one solution that worked before i added 2 other panes)\r\n- Just having a JscrollPane and adding elements into it but it is not showing anything :/","title":"Java Swing - I don&#39;t know why my JScrollPane wont scroll down","body":"<p>I have some issues making a JScrollPane scrolling in Swing. I don't know why it is doing that.\nIt worked before when I just created a pane on top of the contentPane. But it is not working anymore now that I added 2 other pane to the contentPane. (There is a total of 25 videos fetched here so I should have a scroll bar on the right side of the leftPannel).</p>\n<pre><code>package projet.interfaces;\n\nimport projet.listeners.BouttonAddListener;\nimport projet.model.Musique;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.List;\n\npublic class Window extends JFrame {\n\n    private final JTextArea lien = new JTextArea();\n    private final JButton linkButton = new JButton();\n    private JPanel topPanel;\n    private JPanel leftPanel;\n    private JPanel rightPanel;\n    private JScrollPane leftScrollPane;\n    private int nombreVideos = 0;\n\n    public Window() {\n        super(&quot;Youtube and Soundcloud playlist downloader&quot;);\n        this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        this.setSize(1920,1080);\n        this.setLocationRelativeTo(null);\n    }\n\n    public void initializeWindow() {\n        topPanel = new JPanel();\n        topPanel.setPreferredSize(new Dimension(this.getWidth(), 100));\n        addLien();\n        addButtonLien();\n\n        leftPanel = new JPanel();\n        leftPanel.setLayout(new BoxLayout(leftPanel, BoxLayout.Y_AXIS));\n        leftPanel.setMaximumSize(new Dimension(leftPanel.getWidth(),Integer.MAX_VALUE));\n        leftScrollPane = new JScrollPane(leftPanel);\n        leftScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n\n        rightPanel = new JPanel();\n\n        Container contentPane = this.getContentPane();\n        contentPane.setLayout(new BorderLayout());\n\n        contentPane.add(topPanel, BorderLayout.NORTH);\n        contentPane.add(leftPanel, BorderLayout.WEST);\n        contentPane.add(rightPanel, BorderLayout.CENTER);\n    }\n\n    private void addLien() {\n        lien.setBounds(25,15,200,20);\n        lien.setText(&quot;Copiez votre URL ici.&quot;);\n        topPanel.add(lien);\n    }\n\n    private void addButtonLien() {\n        linkButton.setBounds(245,15,20,20);\n        linkButton.setText(&quot;V&quot;);\n        linkButton.addActionListener(new BouttonAddListener(this));\n        topPanel.add(linkButton);\n    }\n\n\n    public void addVideos(List&lt;Musique&gt; musiques) {\n        for (Musique musique:musiques) {\n            JPanel box = createBox(musique.getTitre(), musique.getArtiste().getNom(), musique.getImage());\n            leftPanel.add(box);\n            nombreVideos++;\n        }\n        leftPanel.revalidate();\n        leftPanel.repaint();\n    }\n\n    private JPanel createBox(String title, String artist, String imagePath) {\n        JPanel box = new JPanel();\n        box.setLayout(new BorderLayout(10, 10));\n        box.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n\n        JLabel titleLabel = new JLabel(&quot;Title: &quot; + title);\n        JLabel artistLabel = new JLabel(&quot;Artist: &quot; + artist);\n\n        // Load and display the image\n        BufferedImage image = loadImage(imagePath);\n        if (image != null) {\n            JLabel imageLabel = new JLabel(new ImageIcon(image));\n            box.add(imageLabel, BorderLayout.CENTER);\n        }\n\n        box.add(titleLabel, BorderLayout.NORTH);\n        box.add(artistLabel, BorderLayout.SOUTH);\n\n        return box;\n    }\n\n    private BufferedImage loadImage(String imagePath) {\n        try {\n            return ImageIO.read(new URL(imagePath));\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public JTextArea getLien() {\n        return lien;\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dsNrc.png\" rel=\"nofollow noreferrer\">the result is here</a>\nThanks for your help :).\nHave a good day.</p>\n<p>I tried /</p>\n<ul>\n<li>leftPanel.setLayout(new GridLayout(0,1)); (it is the one solution that worked before i added 2 other panes)</li>\n<li>Just having a JscrollPane and adding elements into it but it is not showing anything :/</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-mvc","maven-3"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1696341099,"post_id":77222828,"comment_id":136138301,"body_markdown":"You have to add the the package of the CustomerController to your `component-scan`","body":"You have to add the the package of the CustomerController to your <code>component-scan</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1696341151,"post_id":77222828,"comment_id":136138312,"body_markdown":"BTW: I wouldnt  name the path `&quot;/getCustomer&quot;` more `&quot;/customer&quot;`.","body":"BTW: I wouldnt  name the path <code>&quot;&#47;getCustomer&quot;</code> more <code>&quot;&#47;customer&quot;</code>."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696341197,"post_id":77222828,"comment_id":136138321,"body_markdown":"The Customer module probably needs to be added as a dependency to the login module.  Or, have a third module, name something like WebApp, move `MainApplication` to the WebApp module, and add Customer and login modules as dependencies.","body":"The Customer module probably needs to be added as a dependency to the login module.  Or, have a third module, name something like WebApp, move <code>MainApplication</code> to the WebApp module, and add Customer and login modules as dependencies."},{"owner":{"account_id":2213365,"reputation":2521,"user_id":4101826,"accept_rate":75,"display_name":"Mitesh Vanaliya"},"score":0,"creation_date":1696343096,"post_id":77222828,"comment_id":136138762,"body_markdown":"@Jens I have tried add this line into main application class @ComponentScan(basePackages = &quot;com.multimodulecustomer.customer&quot;) but still not getting any success :(","body":"@Jens I have tried add this line into main application class @ComponentScan(basePackages = &quot;com.multimodulecustomer.customer&quot;) but still not getting any success :("},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696343201,"post_id":77222828,"comment_id":136138780,"body_markdown":"Can you share the package names, the pom.xml and the `MainApplication` class","body":"Can you share the package names, the pom.xml and the <code>MainApplication</code> class"}],"owner":{"account_id":2213365,"reputation":2521,"user_id":4101826,"accept_rate":75,"display_name":"Mitesh Vanaliya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696340615,"creation_date":1696340615,"question_id":77222828,"body_markdown":"I have spring boot project with two module, Below is the project structure\r\n\r\n    MultimoduleApplication\r\n    -------pom.xml\r\n    -------login\r\n              pom.xml\r\n              MainApplication\r\n              LoginController\r\n\r\n    -------Customer\r\n              pom.xml\r\n              CustomerController\r\n\r\nLoginController like this\r\n\r\n    @RestController\r\n    public class LoginController {\r\n    \t@GetMapping(&quot;/login&quot;)\r\n    \tpublic String getLogin() {\r\n    \t\treturn &quot;Welcome to login module&quot;;\r\n    \t}\r\n    }\r\n\r\nAnd CustomerController like this\r\n\r\n    @RestController\r\n    public class CustomerController {\r\n    \r\n    \t@GetMapping(&quot;/getCustomer&quot;)\r\n    \tpublic String getCustomer() {\r\n    \t\treturn &quot;Welcome to customer module&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nI run login module because main method include into login module.\r\nafter maven clean and install and successfully we run spring boot application\r\n\r\ntry to hit below url into browser\r\n\r\n    http://localhost:8080/login\r\n    \r\n    we got response like **Welcome to login module**\r\n\r\nBut when we call  http://localhost:8080/getCustomer\r\nwe are getting error like \r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Tue Oct 03 18:44:29 IST 2023\r\n    There was an unexpected error (type=Not Found, status=404).\r\n    No message available\r\n\r\n\r\nSince the main module is login module I am getting success response form loginController but when I call url of CustomerController unable to get response.\r\n\r\nHow can I fix it ?\r\nYour help is save my day! ","title":"How to call another module controller&#39;s method in multi module spring boot application","body":"<p>I have spring boot project with two module, Below is the project structure</p>\n<pre><code>MultimoduleApplication\n-------pom.xml\n-------login\n          pom.xml\n          MainApplication\n          LoginController\n\n-------Customer\n          pom.xml\n          CustomerController\n</code></pre>\n<p>LoginController like this</p>\n<pre><code>@RestController\npublic class LoginController {\n    @GetMapping(&quot;/login&quot;)\n    public String getLogin() {\n        return &quot;Welcome to login module&quot;;\n    }\n}\n</code></pre>\n<p>And CustomerController like this</p>\n<pre><code>@RestController\npublic class CustomerController {\n\n    @GetMapping(&quot;/getCustomer&quot;)\n    public String getCustomer() {\n        return &quot;Welcome to customer module&quot;;\n    }\n}\n</code></pre>\n<p>I run login module because main method include into login module.\nafter maven clean and install and successfully we run spring boot application</p>\n<p>try to hit below url into browser</p>\n<pre><code>http://localhost:8080/login\n\nwe got response like **Welcome to login module**\n</code></pre>\n<p>But when we call  http://localhost:8080/getCustomer\nwe are getting error like</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nTue Oct 03 18:44:29 IST 2023\nThere was an unexpected error (type=Not Found, status=404).\nNo message available\n</code></pre>\n<p>Since the main module is login module I am getting success response form loginController but when I call url of CustomerController unable to get response.</p>\n<p>How can I fix it ?\nYour help is save my day!</p>\n"},{"tags":["java","jakarta-ee","wildfly","jax-ws","java-17"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1667258142,"post_id":74263700,"comment_id":131123002,"body_markdown":"JDK 17 has nothing to do with Oracle hating the Java community and forcing the change to the `jarkarta` namespace.  JEE9 is what does that.  If you are using JAX-RS and ActiveMQ you&#39;re past worrying about heavy weight.  What is the end goal - just EE9?  JDK 17 can be used with all of the newer Wildfly releases.  To really thin down look at something like [Quarkus](https://quarkus.io/) though JMS is still going to be a beast.","body":"JDK 17 has nothing to do with Oracle hating the Java community and forcing the change to the <code>jarkarta</code> namespace.  JEE9 is what does that.  If you are using JAX-RS and ActiveMQ you&#39;re past worrying about heavy weight.  What is the end goal - just EE9?  JDK 17 can be used with all of the newer Wildfly releases.  To really thin down look at something like <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a> though JMS is still going to be a beast."}],"answers":[{"comments":[{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1667279965,"post_id":74265493,"comment_id":131125980,"body_markdown":"Thanks in advance, how do I get my solution as same as https://start.spring.io/?","body":"Thanks in advance, how do I get my solution as same as <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>?"},{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1667280730,"post_id":74265493,"comment_id":131126082,"body_markdown":"I did not see any specification about JAX-WS of https://openliberty.io/docs/latest/jakarta-ee.html. I want both JAX-WS and JMS but there is not JAX-WS","body":"I did not see any specification about JAX-WS of <a href=\"https://openliberty.io/docs/latest/jakarta-ee.html\" rel=\"nofollow noreferrer\">openliberty.io/docs/latest/jakarta-ee.html</a>. I want both JAX-WS and JMS but there is not JAX-WS"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1667297423,"post_id":74265493,"comment_id":131129861,"body_markdown":"@rezaramezanimatin Jax-ws is now called [Jakarta XML Web Services 3.0](https://openliberty.io/docs/latest/reference/feature/xmlWS-3.0.html) and it is provided also. If you need older spec - 2.2 - it is also available https://openliberty.io/docs/latest/reference/feature/jaxws-2.2.html","body":"@rezaramezanimatin Jax-ws is now called <a href=\"https://openliberty.io/docs/latest/reference/feature/xmlWS-3.0.html\" rel=\"nofollow noreferrer\">Jakarta XML Web Services 3.0</a> and it is provided also. If you need older spec - 2.2 - it is also available <a href=\"https://openliberty.io/docs/latest/reference/feature/jaxws-2.2.html\" rel=\"nofollow noreferrer\">openliberty.io/docs/latest/reference/feature/jaxws-2.2.html</a>"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1667297598,"post_id":74265493,"comment_id":131129905,"body_markdown":"[OpenLiberty starter is here](https://openliberty.io/blog/2021/08/20/open-liberty-starter.html)","body":"<a href=\"https://openliberty.io/blog/2021/08/20/open-liberty-starter.html\" rel=\"nofollow noreferrer\">OpenLiberty starter is here</a>"}],"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667229795,"creation_date":1667229795,"answer_id":74265493,"question_id":74263700,"body_markdown":"Check out [OpenLiberty][1], it is fully open source and supports [Java 17][2] and [Jakarta EE 8 and 9][3]. Moreover its fully composable, so you can pick and choose what [features][4] (APIs) you need in the server.\r\n\r\n\r\n  [1]: https://openliberty.io/\r\n  [2]: https://openliberty.io/blog/2021/10/01/java17-210010.html\r\n  [3]: https://openliberty.io/docs/latest/jakarta-ee.html\r\n  [4]: https://openliberty.io/docs/latest/reference/feature/feature-overview.html","title":"Which Jakarta-light-web-server is to implement jax-ws and JMS specification?","body":"<p>Check out <a href=\"https://openliberty.io/\" rel=\"nofollow noreferrer\">OpenLiberty</a>, it is fully open source and supports <a href=\"https://openliberty.io/blog/2021/10/01/java17-210010.html\" rel=\"nofollow noreferrer\">Java 17</a> and <a href=\"https://openliberty.io/docs/latest/jakarta-ee.html\" rel=\"nofollow noreferrer\">Jakarta EE 8 and 9</a>. Moreover its fully composable, so you can pick and choose what <a href=\"https://openliberty.io/docs/latest/reference/feature/feature-overview.html\" rel=\"nofollow noreferrer\">features</a> (APIs) you need in the server.</p>\n"},{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667816057,"creation_date":1667816057,"answer_id":74344939,"question_id":74263700,"body_markdown":"WildFly can be easily reduced to your usage since you can easily disable what you don&#39;t need. You may want to take a look at [Galleon][1] as a way to provision your server tailored to your need.\r\n\r\n\r\n  [1]: https://docs.wildfly.org/26/Galleon_Guide.html","title":"Which Jakarta-light-web-server is to implement jax-ws and JMS specification?","body":"<p>WildFly can be easily reduced to your usage since you can easily disable what you don't need. You may want to take a look at <a href=\"https://docs.wildfly.org/26/Galleon_Guide.html\" rel=\"nofollow noreferrer\">Galleon</a> as a way to provision your server tailored to your need.</p>\n"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1696340482,"creation_date":1667221302,"question_id":74263700,"body_markdown":"I have an application in which the following modules are:\r\n\r\n1- `Jax-ws`\r\n\r\n2- `JMS` and its implementation by `ActiveMQ Artemis` with the following dependency:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n3- the version of `JDK` is 1.8\r\n\r\n4- Its application server is `Wildfly`\r\n\r\nI want to change and upgrade my application to `JDK 17`(LTS), due to this migration the javax package is replaced with jakarta package.\r\n\r\nMy question is:\r\n\r\n1- What except Wildfly is which supports `Jakarta-ws and jakarta-jms`? because Wildfly is so heavy for my solution.\r\n\r\n2- Before for JMS configuration, the following dependency were:\r\n\r\n   \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\r\n            &lt;version&gt;5.15.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nafter migration to JDK-17, which dependency should to add to implement jakarta-jms by activemq","title":"Which Jakarta-light-web-server is to implement jax-ws and JMS specification?","body":"<p>I have an application in which the following modules are:</p>\n<p>1- <code>Jax-ws</code></p>\n<p>2- <code>JMS</code> and its implementation by <code>ActiveMQ Artemis</code> with the following dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>3- the version of <code>JDK</code> is 1.8</p>\n<p>4- Its application server is <code>Wildfly</code></p>\n<p>I want to change and upgrade my application to <code>JDK 17</code>(LTS), due to this migration the javax package is replaced with jakarta package.</p>\n<p>My question is:</p>\n<p>1- What except Wildfly is which supports <code>Jakarta-ws and jakarta-jms</code>? because Wildfly is so heavy for my solution.</p>\n<p>2- Before for JMS configuration, the following dependency were:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\n        &lt;version&gt;5.15.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>after migration to JDK-17, which dependency should to add to implement jakarta-jms by activemq</p>\n"},{"tags":["java","spring","serialization","jackson","annotations"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696325581,"post_id":77221111,"comment_id":136135342,"body_markdown":"Can you just use `ignoreUnknown=true`?","body":"Can you just use <code>ignoreUnknown=true</code>?"},{"owner":{"account_id":17994687,"reputation":63,"user_id":13078026,"display_name":"smeds"},"score":0,"creation_date":1696326158,"post_id":77221111,"comment_id":136135447,"body_markdown":"Not really. All the objects I am using `@JsonIgnoreProperties` on are extensions of other DTO objects, which have been marked with the `@Data` lombok annotation, since getters and setters are needed for other uses. I would like to be able to just straight select a number of fields to add to the Json manually, with a similar mechanism to `@JsonIgnoreProperties`.","body":"Not really. All the objects I am using <code>@JsonIgnoreProperties</code> on are extensions of other DTO objects, which have been marked with the <code>@Data</code> lombok annotation, since getters and setters are needed for other uses. I would like to be able to just straight select a number of fields to add to the Json manually, with a similar mechanism to <code>@JsonIgnoreProperties</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1696326408,"post_id":77221111,"comment_id":136135489,"body_markdown":"I would recommend to have dedicated classes for the JSON representation (which only has the fields we want to serialize), and use a mapper between the JSON-representation and the DTO.","body":"I would recommend to have dedicated classes for the JSON representation (which only has the fields we want to serialize), and use a mapper between the JSON-representation and the DTO."},{"owner":{"account_id":17994687,"reputation":63,"user_id":13078026,"display_name":"smeds"},"score":0,"creation_date":1696327421,"post_id":77221111,"comment_id":136135660,"body_markdown":"@Turing85 That could work, but I also need to extend the original DTO classes, as that allows me for a easy conversion from the updateDTO object to the original DTO object,  so this solution unfortunately would not fit my specific needs.","body":"@Turing85 That could work, but I also need to extend the original DTO classes, as that allows me for a easy conversion from the updateDTO object to the original DTO object,  so this solution unfortunately would not fit my specific needs."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1696327482,"post_id":77221111,"comment_id":136135671,"body_markdown":"You cannot have the cake and eat it at the same time. Either segregate the concnern, or live with the long list of exlcudes.","body":"You cannot have the cake and eat it at the same time. Either segregate the concnern, or live with the long list of exlcudes."}],"owner":{"account_id":17994687,"reputation":63,"user_id":13078026,"display_name":"smeds"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696340304,"creation_date":1696325542,"question_id":77221111,"body_markdown":"I am currently working on a Sprint Boot project and am using Jackson to handle DTO serialization and deserialization. \r\nI am using the `@JsonIgnoreProperties` annotation to exclude certain fields from the mapped JSON.\r\n\r\nHowever, I have found myself with the issue of selecting only a small number of fields to serialize, for instance in an update DTO or an insert DTO. Right now I have classes which look like this:\r\n\r\n    // Only serialize ClassToSerializeDTO containing &quot;field2&quot;.\r\n\t@JsonIgnoreProperties{&quot;field1&quot;, &quot;field3&quot;, [...], &quot;field24&quot;, &quot;field25&quot;}\r\n\tpublic class ClassToSerializeDTO {\r\n\t\t\r\n\t\tObject field1;\r\n\t\tObject field2;\r\n\t\t// ...\r\n\t\tObject field25;\r\n\r\n\t} \r\n\r\nThis requires a bit of too much overthinking that could be easily solved by having an annotation, say `@JsonIgnoreAllExcept`, which does the reciprocal of `@JsonIgnoreProperties`.\r\n\r\n    // This would do the exact same thing, and is much less verbose!\r\n\t@JsonIgnoreAllExcept(value = {&quot;field2&quot;})\r\n\tpublic class ClassToSerializeDTO {\r\n\t\t\r\n\t\tObject field1;\r\n\t\tObject field2;\r\n\t\t// ...\r\n\t\tObject field25;\r\n\r\n\t} \r\n\r\nIs there a way to achieve this? I have tried extending `@JsonIgnoreProperties`, but have not found a way to do this.","title":"Jackson annotation to exclude all fields except those specified","body":"<p>I am currently working on a Sprint Boot project and am using Jackson to handle DTO serialization and deserialization.\nI am using the <code>@JsonIgnoreProperties</code> annotation to exclude certain fields from the mapped JSON.</p>\n<p>However, I have found myself with the issue of selecting only a small number of fields to serialize, for instance in an update DTO or an insert DTO. Right now I have classes which look like this:</p>\n<pre><code>// Only serialize ClassToSerializeDTO containing &quot;field2&quot;.\n@JsonIgnoreProperties{&quot;field1&quot;, &quot;field3&quot;, [...], &quot;field24&quot;, &quot;field25&quot;}\npublic class ClassToSerializeDTO {\n    \n    Object field1;\n    Object field2;\n    // ...\n    Object field25;\n\n} \n</code></pre>\n<p>This requires a bit of too much overthinking that could be easily solved by having an annotation, say <code>@JsonIgnoreAllExcept</code>, which does the reciprocal of <code>@JsonIgnoreProperties</code>.</p>\n<pre><code>// This would do the exact same thing, and is much less verbose!\n@JsonIgnoreAllExcept(value = {&quot;field2&quot;})\npublic class ClassToSerializeDTO {\n    \n    Object field1;\n    Object field2;\n    // ...\n    Object field25;\n\n} \n</code></pre>\n<p>Is there a way to achieve this? I have tried extending <code>@JsonIgnoreProperties</code>, but have not found a way to do this.</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"score":0,"creation_date":1696255723,"post_id":77213862,"comment_id":136126092,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696340039,"creation_date":1696232030,"question_id":77213862,"body_markdown":"I want to create an index using elastic 8.9 with a java client.\r\nI have tried\r\n```\r\nvar build = new CreateIndexRequest.Builder()\r\n                .index(createYearMonthlyIndex(indexName))\r\n                .withJson(new StringReader(mapToJson(json)))\r\n                .settings(s -&gt;\r\n                        s.numberOfReplicas(&quot;2&quot;).numberOfShards(&quot;3&quot;)).build();\r\n```\r\nby specifying &quot;replica&quot; and &quot;shards&quot;, but I get this exception: \r\n`co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.indices.CreateIndexRequest: Unknown field &#39;executionTime&#39; (JSON path: executionTime) (line no=1, column no=17, offset=16)`\r\n\r\nWhen I try, \r\n```\r\nesClient.index(i -&gt; i\r\n                .index(createYearMonthlyIndex(indexName))\r\n                .withJson(new StringReader(mapToJson(json))));\r\n```\r\nit works correctly. However, if I use CreateIndexRequest it returns the exception -- and I need to set replica and shards. ","title":"co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.indices.CreateIndexRequest: Unknown field &#39;log&#39;","body":"<p>I want to create an index using elastic 8.9 with a java client.\nI have tried</p>\n<pre><code>var build = new CreateIndexRequest.Builder()\n                .index(createYearMonthlyIndex(indexName))\n                .withJson(new StringReader(mapToJson(json)))\n                .settings(s -&gt;\n                        s.numberOfReplicas(&quot;2&quot;).numberOfShards(&quot;3&quot;)).build();\n</code></pre>\n<p>by specifying &quot;replica&quot; and &quot;shards&quot;, but I get this exception:\n<code>co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.indices.CreateIndexRequest: Unknown field 'executionTime' (JSON path: executionTime) (line no=1, column no=17, offset=16)</code></p>\n<p>When I try,</p>\n<pre><code>esClient.index(i -&gt; i\n                .index(createYearMonthlyIndex(indexName))\n                .withJson(new StringReader(mapToJson(json))));\n</code></pre>\n<p>it works correctly. However, if I use CreateIndexRequest it returns the exception -- and I need to set replica and shards.</p>\n"},{"tags":["java","spring","karate","api-versioning"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1696340048,"post_id":77221938,"comment_id":136138047,"body_markdown":"please note that you have never `accepted` an answer on stack overflow, please do so if possible: https://stackoverflow.com/help/someone-answers","body":"please note that you have never <code>accepted</code> an answer on stack overflow, please do so if possible: <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696339968,"creation_date":1696339968,"answer_id":77222740,"question_id":77221938,"body_markdown":"I don&#39;t think this is reasonably expected from Karate, it depends a lot on your environment and how you can set up the previous and current versions. Maybe a data-driven test where you loop over all versions is the way to go.\r\n\r\nConsider this not directly supported by Karate, but I know teams that have written some routines over Karate to get this to work. We welcome contributions to Karate, it is open source.\r\n\r\nPersonally, I consider the returns you get from just testing schemas (which is what you seem to be doing) not really worth it: https://www.linkedin.com/pulse/api-contract-testing-visual-guide-peter-thomas/","title":"How Karate contract testing handles API versioning?","body":"<p>I don't think this is reasonably expected from Karate, it depends a lot on your environment and how you can set up the previous and current versions. Maybe a data-driven test where you loop over all versions is the way to go.</p>\n<p>Consider this not directly supported by Karate, but I know teams that have written some routines over Karate to get this to work. We welcome contributions to Karate, it is open source.</p>\n<p>Personally, I consider the returns you get from just testing schemas (which is what you seem to be doing) not really worth it: <a href=\"https://www.linkedin.com/pulse/api-contract-testing-visual-guide-peter-thomas/\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/api-contract-testing-visual-guide-peter-thomas/</a></p>\n"}],"owner":{"account_id":8611883,"reputation":43,"user_id":22504890,"display_name":"user22504890"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77222740,"answer_count":1,"score":1,"last_activity_date":1696339968,"creation_date":1696333208,"question_id":77221938,"body_markdown":"I am new in Karatate contract testing. I have a spring boot application, and I wrote a Karate test for it like this: \r\n\r\n    Background:\r\n      * call read(&#39;docker-operations.feature&#39;)\r\n    \r\n      * url &#39;http://localhost:8080&#39;\r\n      * def path = &#39;myController/filter&#39;\r\n      * def openApiSpec = read(&#39;schemas/filtering.json&#39;)\r\n      * def requestSchema = openApiSpec.components.schemas.filtering_request\r\n      * def responseSchema = openApiSpec.components.schemas.filtering_200_response\r\n      # needs to be converted to String because if it stays as JSON, karate will automatically convert that JSON into Map in Java class\r\n      * def requestSchemaString = karate.toString(requestSchema)\r\n      * def responseSchemaString = karate.toString(responseSchema)\r\n      * def validRequest = read(&#39;schemas/valid-request.json&#39;)\r\n      * def invalidRequest = read(&#39;schemas/invalid-request.json&#39;)\r\n      * def invalidResponse = read(&#39;schemas/invalid-response.json&#39;)\r\n    \r\n      Scenario: Valid Response Scenario\r\n    \r\n      Given path path\r\n      And request validRequest\r\n      When method POST\r\n      Then status 200\r\n      * print &#39;Schema JSON:&#39;, responseSchema\r\n      * print &#39;Response JSON:&#39;, response\r\n      * def responseString = karate.toString(response)\r\n      And  assert Java.type(&#39;feature.JsonValidator&#39;).isValid(responseSchemaString, responseString)\r\n\r\nJust to mention that I am using generated openAPI specification(filtering.json). But I have this situation: I need to run test with current API version, with previous API version and with all previous API versions that we are supporting. How to handle that situation with Karate, if that is possible? I know that with SPring cloud I can do that via Maven for example.","title":"How Karate contract testing handles API versioning?","body":"<p>I am new in Karatate contract testing. I have a spring boot application, and I wrote a Karate test for it like this:</p>\n<pre><code>Background:\n  * call read('docker-operations.feature')\n\n  * url 'http://localhost:8080'\n  * def path = 'myController/filter'\n  * def openApiSpec = read('schemas/filtering.json')\n  * def requestSchema = openApiSpec.components.schemas.filtering_request\n  * def responseSchema = openApiSpec.components.schemas.filtering_200_response\n  # needs to be converted to String because if it stays as JSON, karate will automatically convert that JSON into Map in Java class\n  * def requestSchemaString = karate.toString(requestSchema)\n  * def responseSchemaString = karate.toString(responseSchema)\n  * def validRequest = read('schemas/valid-request.json')\n  * def invalidRequest = read('schemas/invalid-request.json')\n  * def invalidResponse = read('schemas/invalid-response.json')\n\n  Scenario: Valid Response Scenario\n\n  Given path path\n  And request validRequest\n  When method POST\n  Then status 200\n  * print 'Schema JSON:', responseSchema\n  * print 'Response JSON:', response\n  * def responseString = karate.toString(response)\n  And  assert Java.type('feature.JsonValidator').isValid(responseSchemaString, responseString)\n</code></pre>\n<p>Just to mention that I am using generated openAPI specification(filtering.json). But I have this situation: I need to run test with current API version, with previous API version and with all previous API versions that we are supporting. How to handle that situation with Karate, if that is possible? I know that with SPring cloud I can do that via Maven for example.</p>\n"},{"tags":["java","tomcat","caching","migration","browser-cache"],"answers":[{"tags":[],"owner":{"account_id":29326700,"reputation":1,"user_id":22469018,"display_name":"mon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696339948,"creation_date":1696334284,"answer_id":77222060,"question_id":77205907,"body_markdown":"After 3 days was able to resolve this by adding the filters in web.xml\r\nfor details see: [*How to improve performance for serving static files with TOMCAT*][1]\r\n\r\n\r\n  [1]: https://support.auraplayer.com/hc/en-us/articles/360059032194-How-to-improve-performance-for-serving-static-files-with-TOMCAT","title":"js, css, png files are not able to get from memory cache or disc space which result in slowness of application","body":"<p>After 3 days was able to resolve this by adding the filters in web.xml\nfor details see: <a href=\"https://support.auraplayer.com/hc/en-us/articles/360059032194-How-to-improve-performance-for-serving-static-files-with-TOMCAT\" rel=\"nofollow noreferrer\"><em>How to improve performance for serving static files with TOMCAT</em></a></p>\n"}],"owner":{"account_id":29326700,"reputation":1,"user_id":22469018,"display_name":"mon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696339948,"creation_date":1696055599,"question_id":77205907,"body_markdown":"Recetely upgraded my application and updated application is not able to store js, css, png etc files in cache which result in slowness of application\r\n\r\n[old application where cache is working](https://i.stack.imgur.com/GnttG.png)\r\n\r\n\r\n[new application where cache is not working](https://i.stack.imgur.com/laJ7h.png)\r\n\r\nthe js/css used in below way:-\r\n \r\n\r\n    &lt;script src=&quot;${pageContext.request.contextPath}/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n\r\nThis result in increse transer bytes and thus increases the load time.\r\n\r\nI tried adding below code(`https://community.ptc.com/t5/IoT-Tips/Enable-compression-in-Tomcat-to-speed-up-network-performance-in/ta-p/817687`) in connector port which thus result in less transfer byte but still the js, css are not in cache which inded result in same load time and thus application slowness.\r\n```\r\n &quot;compression=&quot;on&quot; compressibleMimeType=&quot;text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json&quot;&quot;\r\n```\r\nI also added below lined in httpd.conf but no result\r\n\r\n    LoadModule expires_module modules/mod_expires.so\r\n    LoadModule cache_module modules/mod_cache.so\r\n    LoadModule disk_cache_module modules/mod_disk_cache.so\r\n\r\nI also added meta tag but no result.\r\n\r\n    &lt;meta http-equiv=&quot;Cache-control&quot; content=&quot;public,max-age:3600&quot;&gt;\r\n\r\nHELP Can some please point what sould i change globally so that js, css etc files are stored in cache.\r\nIts a struts, tomcat, mysql, apache based application and updated tomcat version is 9","title":"js, css, png files are not able to get from memory cache or disc space which result in slowness of application","body":"<p>Recetely upgraded my application and updated application is not able to store js, css, png etc files in cache which result in slowness of application</p>\n<p><a href=\"https://i.stack.imgur.com/GnttG.png\" rel=\"nofollow noreferrer\">old application where cache is working</a></p>\n<p><a href=\"https://i.stack.imgur.com/laJ7h.png\" rel=\"nofollow noreferrer\">new application where cache is not working</a></p>\n<p>the js/css used in below way:-</p>\n<pre><code>&lt;script src=&quot;${pageContext.request.contextPath}/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>This result in increse transer bytes and thus increases the load time.</p>\n<p>I tried adding below code(<code>https://community.ptc.com/t5/IoT-Tips/Enable-compression-in-Tomcat-to-speed-up-network-performance-in/ta-p/817687</code>) in connector port which thus result in less transfer byte but still the js, css are not in cache which inded result in same load time and thus application slowness.</p>\n<pre><code> &quot;compression=&quot;on&quot; compressibleMimeType=&quot;text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json&quot;&quot;\n</code></pre>\n<p>I also added below lined in httpd.conf but no result</p>\n<pre><code>LoadModule expires_module modules/mod_expires.so\nLoadModule cache_module modules/mod_cache.so\nLoadModule disk_cache_module modules/mod_disk_cache.so\n</code></pre>\n<p>I also added meta tag but no result.</p>\n<pre><code>&lt;meta http-equiv=&quot;Cache-control&quot; content=&quot;public,max-age:3600&quot;&gt;\n</code></pre>\n<p>HELP Can some please point what sould i change globally so that js, css etc files are stored in cache.\nIts a struts, tomcat, mysql, apache based application and updated tomcat version is 9</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1696332742,"post_id":77221765,"comment_id":136136529,"body_markdown":"Please [edit] your question to include a more detailed description of the (actual) problem you have. There are other questions like https://stackoverflow.com/questions/1572322/overloaded-method-selection-based-on-the-parameters-real-type which might be related to your problem.","body":"Please <a href=\"https://stackoverflow.com/posts/77221765/edit\">edit</a> your question to include a more detailed description of the (actual) problem you have. There are other questions like <a href=\"https://stackoverflow.com/questions/1572322/overloaded-method-selection-based-on-the-parameters-real-type\" title=\"overloaded method selection based on the parameters real type\">stackoverflow.com/questions/1572322/&hellip;</a> which might be related to your problem."},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1696333400,"post_id":77221765,"comment_id":136136670,"body_markdown":"side note: **`extends Object`** in `T extends Object` is redundant, as all classes in Java extend (directly or indirectly) `Object`","body":"side note: <b><code>extends Object</code></b> in <code>T extends Object</code> is redundant, as all classes in Java extend (directly or indirectly) <code>Object</code>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":3,"creation_date":1696333767,"post_id":77221765,"comment_id":136136746,"body_markdown":"You may want to consider using the visitor pattern: https://www.digitalocean.com/community/tutorials/visitor-design-pattern-java","body":"You may want to consider using the visitor pattern: <a href=\"https://www.digitalocean.com/community/tutorials/visitor-design-pattern-java\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1696339202,"post_id":77221765,"comment_id":136137851,"body_markdown":"This sure is tricky :) The way I understand it is that when the compiler tries to compile `GenericOverwrite.foo(bar)`, all it knows is that `T` (the type of `bar`) is `Object`. So, it selects to compile an invocation to `foo(Object)` every time. It is because the compiler decides which overloaded method to call, not the runtime. And, even though at the specific call site (`new Foo&lt;String&gt;()`) the compiler knows the generic type, it has to compile method `basedOnGeneric` only once, as above - i.e. a call to `foo(Object)`. I feel that you should try the visitor pattern, as mentioned above.","body":"This sure is tricky :) The way I understand it is that when the compiler tries to compile <code>GenericOverwrite.foo(bar)</code>, all it knows is that <code>T</code> (the type of <code>bar</code>) is <code>Object</code>. So, it selects to compile an invocation to <code>foo(Object)</code> every time. It is because the compiler decides which overloaded method to call, not the runtime. And, even though at the specific call site (<code>new Foo&lt;String&gt;()</code>) the compiler knows the generic type, it has to compile method <code>basedOnGeneric</code> only once, as above - i.e. a call to <code>foo(Object)</code>. I feel that you should try the visitor pattern, as mentioned above."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696339900,"post_id":77221765,"comment_id":136138012,"body_markdown":"One idea is if you inside `foo(Object)` can check `bar instanceof String` and delegate if so.","body":"One idea is if you inside <code>foo(Object)</code> can check <code>bar instanceof String</code> and delegate if so."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696339878,"creation_date":1696339878,"answer_id":77222726,"question_id":77221765,"body_markdown":"You can workaround the issue by passing the method to the constructor:\r\n\r\n    class Foo &lt;T extends Object&gt; {\r\n        private final Consumer&lt;T&gt; cons;\r\n    \r\n        Foo(Consumer&lt;T&gt; cons) {\r\n            this.cons = cons;\r\n        }\r\n    \r\n        public void basedOnGeneric(T bar){\r\n            cons.accept(bar);\r\n        }\r\n    }\r\n    \r\n    public class Test{\r\n        public static void main(String[] args){\r\n            Foo&lt;String&gt; a = new Foo&lt;String&gt;(GenericOverwrite::foo);\r\n            a.basedOnGeneric(&quot;I wish this could print string, but uses the object overloaded method&quot;);\r\n    \r\n            Foo&lt;Object&gt; b = new Foo&lt;Object&gt;(GenericOverwrite::foo);\r\n            b.basedOnGeneric(&quot;This should print object&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Java Generic method overload","body":"<p>You can workaround the issue by passing the method to the constructor:</p>\n<pre><code>class Foo &lt;T extends Object&gt; {\n    private final Consumer&lt;T&gt; cons;\n\n    Foo(Consumer&lt;T&gt; cons) {\n        this.cons = cons;\n    }\n\n    public void basedOnGeneric(T bar){\n        cons.accept(bar);\n    }\n}\n\npublic class Test{\n    public static void main(String[] args){\n        Foo&lt;String&gt; a = new Foo&lt;String&gt;(GenericOverwrite::foo);\n        a.basedOnGeneric(&quot;I wish this could print string, but uses the object overloaded method&quot;);\n\n        Foo&lt;Object&gt; b = new Foo&lt;Object&gt;(GenericOverwrite::foo);\n        b.basedOnGeneric(&quot;This should print object&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18315315,"reputation":90,"user_id":13337212,"display_name":"Anders Aaen Springborg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77222726,"answer_count":1,"score":2,"last_activity_date":1696339878,"creation_date":1696331785,"question_id":77221765,"body_markdown":"I would like to create a method that have different behaviour, based on the the input type. Basically method overloading. \r\nI&#39;m using the method in a other generic class. The method overload falls back onto the base of the generic. Is there a way i can get it to use the final generic class `String` in this case, instead of falling back onto `Object` type.\r\n\r\n\r\n\r\n Is there a better pattern than method overloading, to have different behaviour based on the final type of a generic?\r\n\r\n```java\r\nclass GenericOverwrite {\r\n    public static void foo(String bar){\r\n        System.out.println(&quot;string&quot;);\r\n    }\r\n\r\n    public static void foo(Object bar){\r\n        System.out.println(&quot;object&quot;);\r\n    }\r\n}\r\n\r\nclass Foo &lt;T extends Object&gt; {\r\n    public void basedOnGeneric(T bar){\r\n        GenericOverwrite.foo(bar);\r\n    }\r\n}\r\n\r\nclass Test{\r\n    void test(){\r\n        var a = new Foo&lt;String&gt;();\r\n        a.basedOnGeneric(&quot;I wish this could print string, but uses the object overloaded method&quot;);\r\n\r\n        var b = new Foo&lt;Object&gt;();\r\n        b.basedOnGeneric(&quot;This should print object&quot;);\r\n    }\r\n}\r\n```","title":"Java Generic method overload","body":"<p>I would like to create a method that have different behaviour, based on the the input type. Basically method overloading.\nI'm using the method in a other generic class. The method overload falls back onto the base of the generic. Is there a way i can get it to use the final generic class <code>String</code> in this case, instead of falling back onto <code>Object</code> type.</p>\n<p>Is there a better pattern than method overloading, to have different behaviour based on the final type of a generic?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GenericOverwrite {\n    public static void foo(String bar){\n        System.out.println(&quot;string&quot;);\n    }\n\n    public static void foo(Object bar){\n        System.out.println(&quot;object&quot;);\n    }\n}\n\nclass Foo &lt;T extends Object&gt; {\n    public void basedOnGeneric(T bar){\n        GenericOverwrite.foo(bar);\n    }\n}\n\nclass Test{\n    void test(){\n        var a = new Foo&lt;String&gt;();\n        a.basedOnGeneric(&quot;I wish this could print string, but uses the object overloaded method&quot;);\n\n        var b = new Foo&lt;Object&gt;();\n        b.basedOnGeneric(&quot;This should print object&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","jms","spring-jms"],"answers":[{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1560288422,"post_id":56551161,"comment_id":99685382,"body_markdown":"Got it. But where does the JNDI Provider come from? Doesn&#39;t this assume that every JMS Provider library also comes with JNDI Provider in it? Is that really the case? (given that JNDI Provider is typically something embedded with the Java EE server).","body":"Got it. But where does the JNDI Provider come from? Doesn&#39;t this assume that every JMS Provider library also comes with JNDI Provider in it? Is that really the case? (given that JNDI Provider is typically something embedded with the Java EE server)."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1560317077,"post_id":56551161,"comment_id":99691044,"body_markdown":"Yeah, well, I&#39;m confident that Amazon SQS doesn&#39;t provide a JNDI way of instantiating a `ConnectionFactory`. As far as I can tell it is not mandatory for a JMS Provider to use JNDI, or at least the JMS spec doesn&#39;t use the word MUST.","body":"Yeah, well, I&#39;m confident that Amazon SQS doesn&#39;t provide a JNDI way of instantiating a <code>ConnectionFactory</code>. As far as I can tell it is not mandatory for a JMS Provider to use JNDI, or at least the JMS spec doesn&#39;t use the word MUST."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1560343014,"post_id":56551161,"comment_id":99704204,"body_markdown":"I updated my answer to address your comment. There is no other option aside from JNDI to connect in a broker-agnostic way.","body":"I updated my answer to address your comment. There is no other option aside from JNDI to connect in a broker-agnostic way."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696339677,"creation_date":1560284319,"answer_id":56551161,"question_id":56550682,"body_markdown":"JNDI *is* the way you write your JMS application to connect in a broker-agnostic way. JNDI client classes are part of Java SE. Both Spring and non-Spring Java SE applications use JNDI for this kind of integration.\r\n\r\nAny JMS implementation should also provide a JNDI implementation that can be plugged into your application. Typically this is done by placing a file named `jndi.properties` on your classpath and putting the proper configuration for whatever JNDI implementation you&#39;re using into that file. When you create an empty [`InitialContext`][1] the `jndi.properties` file on your classpath is read automatically. The key=value pairs in `jndi.properties` are put into the `InitialContext` so that when you perform a lookup everything works with the implementation you&#39;ve chosen. You can also configure this programmatically if you like by supplying the implementation specific details to the `InitialContext` via [a constructor][2].\r\n\r\nBy using both the JMS and JNDI APIs in your Java SE application and externalizing broker-specific connection details to your `jndi.properties` file you can effectively isolate your applications from broker-specific code so you can deploy your app and work with different brokers with a few simple changes in a properties file.\r\n\r\nThe JNDI client implementation will come from whoever is providing the JMS implementation. The JNDI client essentially comes in the form of an `javax.naming.spi.InitialContextFactory` implementation packaged in a jar and there is usually documentation describing the available properties. \r\n\r\nHere are a few examples:\r\n\r\n - The ActiveMQ &quot;Classic&quot; 5.x broker provides `org.apache.activemq.jndi.ActiveMQInitialContextFactory` available in their `activemq-client-&lt;version&gt;.jar`. Documentation is available [here][3].\r\n - The ActiveMQ Artemis broker provides `org.apache.activemq.artemis.jndi.ActiveMQInitialContextFactory` available in their `artemis-jms-client-&lt;version&gt;.jar`. Documentation is available [here][4].\r\n\r\nTo be clear, the JMS specification doesn&#39;t *require* the use of JNDI to look-up admin objects, but it establishes the *convention* and *expectation* that JMS providers will do so. Section 4.2 of the JMS 1.1 specification states:\r\n\r\n&gt; Although the interfaces for administered objects do not explicitly depend on JNDI, JMS establishes the convention that JMS clients find them by looking them up in a namespace using JNDI.\r\n\r\nand later it says:\r\n\r\n&gt; It is expected that JMS providers will provide the tools an administrator needs to create and configure administered objects in a JNDI namespace. JMS\r\nprovider implementations of administered objects should be both javax.naming.Referenceable and java.io.Serializable so that they can be stored in all JNDI naming contexts.\r\n\r\nIn my experience, JMS providers are usually eager to provide a JNDI implementation because they won&#39;t be as competitive without it since any alternative solution will not be standards compliant and will force users to implement non-portable code.\r\n\r\nIf you run into a provider that doesn&#39;t provide a JNDI implementation you could implement your own following the same pattern used by [ActiveMQ &quot;Classic&quot; 5.x][5], [ActiveMQ Artemis][6], and [Qpid JMS][7]. These 3 implementations are client-side only and simply instantiate the admin objects based on the configuration provided to the `InitialContext`. Most of the code is boiler plate, and what isn&#39;t is very straight-forward.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/naming/InitialContext.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/naming/InitialContext.html#InitialContext-java.util.Hashtable-\r\n  [3]: https://activemq.apache.org/jndi-support.html\r\n  [4]: http://activemq.apache.org/components/artemis/documentation/latest/using-jms.html\r\n  [5]: https://github.com/apache/activemq/blob/master/activemq-client/src/main/java/org/apache/activemq/jndi/ActiveMQInitialContextFactory.java\r\n  [6]: https://github.com/apache/activemq-artemis/blob/master/artemis-jms-client/src/main/java/org/apache/activemq/artemis/jndi/ActiveMQInitialContextFactory.java\r\n  [7]: https://github.com/apache/qpid-jms/blob/master/qpid-jms-client/src/main/java/org/apache/qpid/jms/jndi/JmsInitialContextFactory.java","title":"JMS connection from Java SE","body":"<p>JNDI <em>is</em> the way you write your JMS application to connect in a broker-agnostic way. JNDI client classes are part of Java SE. Both Spring and non-Spring Java SE applications use JNDI for this kind of integration.</p>\n<p>Any JMS implementation should also provide a JNDI implementation that can be plugged into your application. Typically this is done by placing a file named <code>jndi.properties</code> on your classpath and putting the proper configuration for whatever JNDI implementation you're using into that file. When you create an empty <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/naming/InitialContext.html\" rel=\"nofollow noreferrer\"><code>InitialContext</code></a> the <code>jndi.properties</code> file on your classpath is read automatically. The key=value pairs in <code>jndi.properties</code> are put into the <code>InitialContext</code> so that when you perform a lookup everything works with the implementation you've chosen. You can also configure this programmatically if you like by supplying the implementation specific details to the <code>InitialContext</code> via <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/naming/InitialContext.html#InitialContext-java.util.Hashtable-\" rel=\"nofollow noreferrer\">a constructor</a>.</p>\n<p>By using both the JMS and JNDI APIs in your Java SE application and externalizing broker-specific connection details to your <code>jndi.properties</code> file you can effectively isolate your applications from broker-specific code so you can deploy your app and work with different brokers with a few simple changes in a properties file.</p>\n<p>The JNDI client implementation will come from whoever is providing the JMS implementation. The JNDI client essentially comes in the form of an <code>javax.naming.spi.InitialContextFactory</code> implementation packaged in a jar and there is usually documentation describing the available properties.</p>\n<p>Here are a few examples:</p>\n<ul>\n<li>The ActiveMQ &quot;Classic&quot; 5.x broker provides <code>org.apache.activemq.jndi.ActiveMQInitialContextFactory</code> available in their <code>activemq-client-&lt;version&gt;.jar</code>. Documentation is available <a href=\"https://activemq.apache.org/jndi-support.html\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>The ActiveMQ Artemis broker provides <code>org.apache.activemq.artemis.jndi.ActiveMQInitialContextFactory</code> available in their <code>artemis-jms-client-&lt;version&gt;.jar</code>. Documentation is available <a href=\"http://activemq.apache.org/components/artemis/documentation/latest/using-jms.html\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ul>\n<p>To be clear, the JMS specification doesn't <em>require</em> the use of JNDI to look-up admin objects, but it establishes the <em>convention</em> and <em>expectation</em> that JMS providers will do so. Section 4.2 of the JMS 1.1 specification states:</p>\n<blockquote>\n<p>Although the interfaces for administered objects do not explicitly depend on JNDI, JMS establishes the convention that JMS clients find them by looking them up in a namespace using JNDI.</p>\n</blockquote>\n<p>and later it says:</p>\n<blockquote>\n<p>It is expected that JMS providers will provide the tools an administrator needs to create and configure administered objects in a JNDI namespace. JMS\nprovider implementations of administered objects should be both javax.naming.Referenceable and java.io.Serializable so that they can be stored in all JNDI naming contexts.</p>\n</blockquote>\n<p>In my experience, JMS providers are usually eager to provide a JNDI implementation because they won't be as competitive without it since any alternative solution will not be standards compliant and will force users to implement non-portable code.</p>\n<p>If you run into a provider that doesn't provide a JNDI implementation you could implement your own following the same pattern used by <a href=\"https://github.com/apache/activemq/blob/master/activemq-client/src/main/java/org/apache/activemq/jndi/ActiveMQInitialContextFactory.java\" rel=\"nofollow noreferrer\">ActiveMQ &quot;Classic&quot; 5.x</a>, <a href=\"https://github.com/apache/activemq-artemis/blob/master/artemis-jms-client/src/main/java/org/apache/activemq/artemis/jndi/ActiveMQInitialContextFactory.java\" rel=\"nofollow noreferrer\">ActiveMQ Artemis</a>, and <a href=\"https://github.com/apache/qpid-jms/blob/master/qpid-jms-client/src/main/java/org/apache/qpid/jms/jndi/JmsInitialContextFactory.java\" rel=\"nofollow noreferrer\">Qpid JMS</a>. These 3 implementations are client-side only and simply instantiate the admin objects based on the configuration provided to the <code>InitialContext</code>. Most of the code is boiler plate, and what isn't is very straight-forward.</p>\n"}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56551161,"answer_count":1,"score":0,"last_activity_date":1696339677,"creation_date":1560281970,"question_id":56550682,"body_markdown":"I would like to create a JMS connection from a Java SE application in a ***broker-agnostic*** way.\r\n\r\nI&#39;m comparing to JDBC with its URL scheme for database connections. This creates independence from the actual implementation.\r\n\r\nFor JMS I haven&#39;t found something similar. I&#39;m aware that in Java EE the JNDI will fulfill this role, but this is Java SE.\r\n\r\nI don&#39;t want to tie my code to any particular queue broker as my needs are pretty simple JMS 1.1 send/receive of text messages.\r\n\r\nI&#39;ve looked at Spring Boot too because it is usually good at providing some level of agnosticism. But even with Spring Boot, I do not see such possibility.\r\n\r\n","title":"JMS connection from Java SE","body":"<p>I would like to create a JMS connection from a Java SE application in a <strong><em>broker-agnostic</em></strong> way.</p>\n\n<p>I'm comparing to JDBC with its URL scheme for database connections. This creates independence from the actual implementation.</p>\n\n<p>For JMS I haven't found something similar. I'm aware that in Java EE the JNDI will fulfill this role, but this is Java SE.</p>\n\n<p>I don't want to tie my code to any particular queue broker as my needs are pretty simple JMS 1.1 send/receive of text messages.</p>\n\n<p>I've looked at Spring Boot too because it is usually good at providing some level of agnosticism. But even with Spring Boot, I do not see such possibility.</p>\n"},{"tags":["java","logging"],"answers":[{"comments":[{"owner":{"account_id":12837,"reputation":35403,"user_id":25472,"accept_rate":93,"display_name":"VolkA"},"score":0,"creation_date":1244312180,"post_id":960110,"comment_id":768907,"body_markdown":"Well, it does seam to have something to do with the readConfiguration line - I stepped through this with a debugger and all the properties of the LogManager are cleared after this call.","body":"Well, it does seam to have something to do with the readConfiguration line - I stepped through this with a debugger and all the properties of the LogManager are cleared after this call."},{"owner":{"account_id":12837,"reputation":35403,"user_id":25472,"accept_rate":93,"display_name":"VolkA"},"score":5,"creation_date":1244312397,"post_id":960110,"comment_id":768914,"body_markdown":"Oh yes, got it - I&#39;m using the same input stream twice, so I need to reposition it using configFile.reset() - otherwise the loadConfiguration() call will have nothing to read. Btw. the ) was just a copying error from my working code.","body":"Oh yes, got it - I&#39;m using the same input stream twice, so I need to reposition it using configFile.reset() - otherwise the loadConfiguration() call will have nothing to read. Btw. the ) was just a copying error from my working code."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":3,"creation_date":1538513743,"post_id":960110,"comment_id":92166771,"body_markdown":"I am not quite sure what&#39;s the answer here?","body":"I am not quite sure what&#39;s the answer here?"},{"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":0,"creation_date":1538670871,"post_id":960110,"comment_id":92234877,"body_markdown":"@OndraŽižka the answer is &quot;your code didn&#39;t work because of a syntax error.&quot;","body":"@OndraŽižka the answer is &quot;your code didn&#39;t work because of a syntax error.&quot;"}],"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":4,"down_vote_count":2,"up_vote_count":32,"is_accepted":true,"score":30,"last_activity_date":1655978900,"creation_date":1244307534,"answer_id":960110,"question_id":960099,"body_markdown":"Okay, first intuition is here:\r\n\r\n    handlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\r\n    .level = ALL\r\n\r\nThe Java prop file parser isn&#39;t all that smart, I&#39;m not sure it&#39;ll handle this.  But I&#39;ll go look at the docs again....\r\n\r\nIn the mean time, try:\r\n\r\n    handlers = java.util.logging.FileHandler\r\n    java.util.logging.ConsoleHandler.level = ALL\r\n\r\n# Update\r\nNo, duh, needed more coffee.  Nevermind.\r\n\r\nWhile I think more, note that you can use the methods in [Properties][1] to load and print a prop-file: it might be worth writing a minimal program to see what java thinks it reads in that file.\r\n\r\n# Another update\r\nThis line:\r\n\r\n        FileInputStream configFile = new FileInputStream(&quot;/path/to/app.properties&quot;));\r\n\r\nhas an extra end-paren.  It won&#39;t compile.  Make sure you&#39;re working with the class file you think you are.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Properties.html","title":"How to set up java logging using a properties file? (java.util.logging)","body":"<p>Okay, first intuition is here:</p>\n<pre><code>handlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\n.level = ALL\n</code></pre>\n<p>The Java prop file parser isn't all that smart, I'm not sure it'll handle this.  But I'll go look at the docs again....</p>\n<p>In the mean time, try:</p>\n<pre><code>handlers = java.util.logging.FileHandler\njava.util.logging.ConsoleHandler.level = ALL\n</code></pre>\n<h1>Update</h1>\n<p>No, duh, needed more coffee.  Nevermind.</p>\n<p>While I think more, note that you can use the methods in <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Properties.html\" rel=\"nofollow noreferrer\">Properties</a> to load and print a prop-file: it might be worth writing a minimal program to see what java thinks it reads in that file.</p>\n<h1>Another update</h1>\n<p>This line:</p>\n<pre><code>    FileInputStream configFile = new FileInputStream(&quot;/path/to/app.properties&quot;));\n</code></pre>\n<p>has an extra end-paren.  It won't compile.  Make sure you're working with the class file you think you are.</p>\n"},{"comments":[{"owner":{"account_id":12837,"reputation":35403,"user_id":25472,"accept_rate":93,"display_name":"VolkA"},"score":1,"creation_date":1244311578,"post_id":960133,"comment_id":768885,"body_markdown":"Yes, I&#39;ll probably add a check if this property is set and let it overwrite my config - having this all in one configuration file which works out-of-the box would be nice, though. Thanks!","body":"Yes, I&#39;ll probably add a check if this property is set and let it overwrite my config - having this all in one configuration file which works out-of-the box would be nice, though. Thanks!"},{"owner":{"display_name":"user1191027"},"score":0,"creation_date":1648057327,"post_id":960133,"comment_id":126530276,"body_markdown":"this will only work locally though, once you deploy you need the properties file as as stream","body":"this will only work locally though, once you deploy you need the properties file as as stream"}],"tags":[],"owner":{"account_id":17226,"reputation":16138,"user_id":38333,"accept_rate":71,"display_name":"cd1"},"comment_count":2,"down_vote_count":0,"up_vote_count":113,"is_accepted":false,"score":113,"last_activity_date":1453681060,"creation_date":1244308611,"answer_id":960133,"question_id":960099,"body_markdown":"you can set your logging configuration file through command line:\r\n\r\n&gt; `$ java -Djava.util.logging.config.file=/path/to/app.properties MainClass`\r\n\r\nthis way seems cleaner and easier to maintain.","title":"How to set up java logging using a properties file? (java.util.logging)","body":"<p>you can set your logging configuration file through command line:</p>\n\n<blockquote>\n  <p><code>$ java -Djava.util.logging.config.file=/path/to/app.properties MainClass</code></p>\n</blockquote>\n\n<p>this way seems cleaner and easier to maintain.</p>\n"},{"comments":[{"owner":{"account_id":12399473,"reputation":1295,"user_id":10189759,"display_name":"Luk Aron"},"score":0,"creation_date":1571629365,"post_id":1287249,"comment_id":103291116,"body_markdown":"Sir, may I know where is the online documentation that state %h resolves to my home, %u resolve to something else ,etc.","body":"Sir, may I know where is the online documentation that state %h resolves to my home, %u resolve to something else ,etc."}],"tags":[],"owner":{"account_id":12925,"reputation":2915,"user_id":25713,"accept_rate":73,"display_name":"techzen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1250505231,"creation_date":1250505231,"answer_id":1287249,"question_id":960099,"body_markdown":"Are you searching for the log file in the right path: \r\n %h/one%u.log  \r\n\r\nHere %h resolves to your home : In windows this defaults to :\r\nC:\\Documents and Settings\\(user_name).\r\n\r\nI have tried the sample code you have posted and it works fine after you specify the configuration file path (logging.properties either through code or java args) .\r\n\r\n","title":"How to set up java logging using a properties file? (java.util.logging)","body":"<p>Are you searching for the log file in the right path: \n %h/one%u.log  </p>\n\n<p>Here %h resolves to your home : In windows this defaults to :\nC:\\Documents and Settings(user_name).</p>\n\n<p>I have tried the sample code you have posted and it works fine after you specify the configuration file path (logging.properties either through code or java args) .</p>\n"},{"comments":[{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":1,"creation_date":1451407019,"post_id":3750129,"comment_id":56771142,"body_markdown":"where should be the p.properties in relation to main class?","body":"where should be the p.properties in relation to main class?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1679482966,"post_id":3750129,"comment_id":133728875,"body_markdown":"You should close the stream in the finally block, or use a try-with-resource.","body":"You should close the stream in the finally block, or use a try-with-resource."}],"tags":[],"owner":{"account_id":651154,"reputation":341,"user_id":452549,"display_name":"Rana"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1621937078,"creation_date":1284975026,"answer_id":3750129,"question_id":960099,"body_markdown":"I have tried your code in above code don&#39;t use \r\n[preferences.load(configFile);]\r\nstatement and it will work. Here is a running sample code\r\n\r\n    public static void main(String[] s) {\r\n\t\t\r\n\t\tLogger log = Logger.getLogger(&quot;MyClass&quot;);\r\n\t\ttry {\r\n\t\t    FileInputStream fis =  new FileInputStream(&quot;p.properties&quot;);\r\n\t\t    LogManager.getLogManager().readConfiguration(fis);\r\n\t\t    \r\n            log.setLevel(Level.FINE);\r\n\t\t    log.addHandler(new java.util.logging.ConsoleHandler());\r\n\t\t    log.setUseParentHandlers(false);\r\n\t\t\r\n\t\t    log.info(&quot;starting myApp&quot;);\r\n\t\t    fis.close();\r\n\t\t\r\n\t\t} catch(IOException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t}\r\n\t}","title":"How to set up java logging using a properties file? (java.util.logging)","body":"<p>I have tried your code in above code don't use\n[preferences.load(configFile);]\nstatement and it will work. Here is a running sample code</p>\n<pre><code>public static void main(String[] s) {\n    \n    Logger log = Logger.getLogger(&quot;MyClass&quot;);\n    try {\n        FileInputStream fis =  new FileInputStream(&quot;p.properties&quot;);\n        LogManager.getLogManager().readConfiguration(fis);\n        \n        log.setLevel(Level.FINE);\n        log.addHandler(new java.util.logging.ConsoleHandler());\n        log.setUseParentHandlers(false);\n    \n        log.info(&quot;starting myApp&quot;);\n        fis.close();\n    \n    } catch(IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7573435,"reputation":91,"user_id":5746497,"display_name":"Vikky Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1451977479,"creation_date":1451977086,"answer_id":34605846,"question_id":960099,"body_markdown":"    Logger log = Logger.getLogger(&quot;myApp&quot;);\r\n    log.setLevel(Level.ALL);\r\n    log.info(&quot;initializing - trying to load configuration file ...&quot;);\r\n    \r\n    //Properties preferences = new Properties();\r\n    try {\r\n        //FileInputStream configFile = new //FileInputStream(&quot;/path/to/app.properties&quot;);\r\n        //preferences.load(configFile);\r\n        InputStream configFile = myApp.class.getResourceAsStream(&quot;app.properties&quot;);\r\n        LogManager.getLogManager().readConfiguration(configFile);\r\n    } catch (IOException ex)\r\n    {\r\n        System.out.println(&quot;WARNING: Could not open configuration file&quot;);\r\n        System.out.println(&quot;WARNING: Logging not configured (console output only)&quot;);\r\n    }\r\n    log.info(&quot;starting myApp&quot;);\r\n\r\n\r\nthis is working..:)\r\nyou have to pass InputStream in readConfiguration().\r\n","title":"How to set up java logging using a properties file? (java.util.logging)","body":"<pre><code>Logger log = Logger.getLogger(\"myApp\");\nlog.setLevel(Level.ALL);\nlog.info(\"initializing - trying to load configuration file ...\");\n\n//Properties preferences = new Properties();\ntry {\n    //FileInputStream configFile = new //FileInputStream(\"/path/to/app.properties\");\n    //preferences.load(configFile);\n    InputStream configFile = myApp.class.getResourceAsStream(\"app.properties\");\n    LogManager.getLogManager().readConfiguration(configFile);\n} catch (IOException ex)\n{\n    System.out.println(\"WARNING: Could not open configuration file\");\n    System.out.println(\"WARNING: Logging not configured (console output only)\");\n}\nlog.info(\"starting myApp\");\n</code></pre>\n\n<p>this is working..:)\nyou have to pass InputStream in readConfiguration().</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696339602,"creation_date":1696339602,"answer_id":77222694,"question_id":960099,"body_markdown":"`java.util.logging.config.file` is a file system path, which is less convenient than classpath in Java world.\r\n\r\nThere is `java.util.logging.config.class` option that specifies initialization class with a no-arg constructor, which will be on classpath...\r\n\r\nThis way your initialization logic is outside of `main()` method and you could search for a properties file in classpath:\r\n\r\n```java\r\ntry (Inputstream stream : JulBootstrap.class.getResourceAsStream(&quot;/logging.properties&quot;)){\r\n    LogManager.readConfiguration(stream);\r\n}\r\n```\r\n\r\nOther examples are here: https://stackoverflow.com/questions/13306014/setting-java-util-logging-config-file-at-runtime/77222638#77222638","title":"How to set up java logging using a properties file? (java.util.logging)","body":"<p><code>java.util.logging.config.file</code> is a file system path, which is less convenient than classpath in Java world.</p>\n<p>There is <code>java.util.logging.config.class</code> option that specifies initialization class with a no-arg constructor, which will be on classpath...</p>\n<p>This way your initialization logic is outside of <code>main()</code> method and you could search for a properties file in classpath:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Inputstream stream : JulBootstrap.class.getResourceAsStream(&quot;/logging.properties&quot;)){\n    LogManager.readConfiguration(stream);\n}\n</code></pre>\n<p>Other examples are here: <a href=\"https://stackoverflow.com/questions/13306014/setting-java-util-logging-config-file-at-runtime/77222638#77222638\">Setting java.util.logging.config.file at runtime</a></p>\n"}],"owner":{"account_id":12837,"reputation":35403,"user_id":25472,"accept_rate":93,"display_name":"VolkA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289876,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":960110,"answer_count":6,"score":91,"last_activity_date":1696339602,"creation_date":1244307150,"question_id":960099,"body_markdown":"I have a stupid java logging problem: I&#39;m loading the logging configuration from my app configuration file - but it just doesn&#39;t log anything after reading the file (which looks pretty much like the examples you will find on the net except for the additional application configuration - removing this also doesn&#39;t help). The &quot;initializing...&quot; log line appears just fine, but the &quot;starting app&quot; and any further messages are neither logged to the console, nor is the logfile ever created. What am I missing here?\r\n\r\nThe Logger code looks like this:\r\n\r\n    ...\r\n    Logger log = Logger.getLogger(&quot;myApp&quot;);\r\n    log.setLevel(Level.ALL);\r\n    log.info(&quot;initializing - trying to load configuration file ...&quot;);\r\n        \r\n    Properties preferences = new Properties();\r\n    try {\r\n        FileInputStream configFile = new FileInputStream(&quot;/path/to/app.properties&quot;);\r\n        preferences.load(configFile);\r\n        LogManager.getLogManager().readConfiguration(configFile);\r\n    } catch (IOException ex)\r\n    {\r\n        System.out.println(&quot;WARNING: Could not open configuration file&quot;);\r\n        System.out.println(&quot;WARNING: Logging not configured (console output only)&quot;);\r\n    }\r\n    log.info(&quot;starting myApp&quot;);\r\n    ...\r\n\r\nAnd this is the configuration file:\r\n\r\n    appconfig1 = foo\r\n    appconfig2 = bar\r\n\r\n    # Logging\r\n    handlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\r\n    .level = ALL\r\n\r\n    # File Logging\r\n    java.util.logging.FileHandler.pattern = %h/myApp.log\r\n    java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\n    java.util.logging.FileHandler.level = INFO\r\n\r\n    # Console Logging\r\n    java.util.logging.ConsoleHandler.level = ALL\r\n\r\n","title":"How to set up java logging using a properties file? (java.util.logging)","body":"<p>I have a stupid java logging problem: I'm loading the logging configuration from my app configuration file - but it just doesn't log anything after reading the file (which looks pretty much like the examples you will find on the net except for the additional application configuration - removing this also doesn't help). The \"initializing...\" log line appears just fine, but the \"starting app\" and any further messages are neither logged to the console, nor is the logfile ever created. What am I missing here?</p>\n\n<p>The Logger code looks like this:</p>\n\n<pre><code>...\nLogger log = Logger.getLogger(\"myApp\");\nlog.setLevel(Level.ALL);\nlog.info(\"initializing - trying to load configuration file ...\");\n\nProperties preferences = new Properties();\ntry {\n    FileInputStream configFile = new FileInputStream(\"/path/to/app.properties\");\n    preferences.load(configFile);\n    LogManager.getLogManager().readConfiguration(configFile);\n} catch (IOException ex)\n{\n    System.out.println(\"WARNING: Could not open configuration file\");\n    System.out.println(\"WARNING: Logging not configured (console output only)\");\n}\nlog.info(\"starting myApp\");\n...\n</code></pre>\n\n<p>And this is the configuration file:</p>\n\n<pre><code>appconfig1 = foo\nappconfig2 = bar\n\n# Logging\nhandlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\n.level = ALL\n\n# File Logging\njava.util.logging.FileHandler.pattern = %h/myApp.log\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.FileHandler.level = INFO\n\n# Console Logging\njava.util.logging.ConsoleHandler.level = ALL\n</code></pre>\n"},{"tags":["java","jpa","one-to-one"],"answers":[{"comments":[{"owner":{"account_id":348359,"reputation":1361,"user_id":683008,"accept_rate":45,"display_name":"Michael"},"score":0,"creation_date":1311758728,"post_id":6839336,"comment_id":8133115,"body_markdown":"Thanks, but I&#39;m afraid this doesn&#39;t really help.  You&#39;ve put an id field in VitalStats in addition to the Person field, whereas I can&#39;t add a new field to the schema and have to use the FK that underlies &#39;person&#39; as the PK of VitalStats.  That was the whole point.","body":"Thanks, but I&#39;m afraid this doesn&#39;t really help.  You&#39;ve put an id field in VitalStats in addition to the Person field, whereas I can&#39;t add a new field to the schema and have to use the FK that underlies &#39;person&#39; as the PK of VitalStats.  That was the whole point."},{"owner":{"account_id":426475,"reputation":3175,"user_id":807699,"display_name":"Joel Hudon"},"score":2,"creation_date":1311857617,"post_id":6839336,"comment_id":8157620,"body_markdown":"No need to add another column because of the MapById annotation on the person attribute. The exemple i post was not really clear, i modify the exemple to add more details to VitalStats (See #JoinColumn on the person attribute). I add the VitalStats and Person database table and you can see that the VitalStats table contain only a PK that is the FK for person. I think is the same as what you want? If it&#39;s not what you want can you add more details on the table layout ? @MapId has the advantage that the person entity does not need to be serializable. I updated the exemple.","body":"No need to add another column because of the MapById annotation on the person attribute. The exemple i post was not really clear, i modify the exemple to add more details to VitalStats (See #JoinColumn on the person attribute). I add the VitalStats and Person database table and you can see that the VitalStats table contain only a PK that is the FK for person. I think is the same as what you want? If it&#39;s not what you want can you add more details on the table layout ? @MapId has the advantage that the person entity does not need to be serializable. I updated the exemple."},{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1416089914,"post_id":6839336,"comment_id":42443634,"body_markdown":"@JoelHudon How did you know to put the `@JoinColumn` annotation in place?","body":"@JoelHudon How did you know to put the <code>@JoinColumn</code> annotation in place?"},{"owner":{"account_id":4194234,"reputation":410,"user_id":3436010,"display_name":"kondu"},"score":0,"creation_date":1428990413,"post_id":6839336,"comment_id":47384138,"body_markdown":"I tried this but I get an error like - &quot;trying to store a null one-to-one property from person&quot;. The only difference between the above snippet and mine is I used a sequence for generating the primary key in person entity.","body":"I tried this but I get an error like - &quot;trying to store a null one-to-one property from person&quot;. The only difference between the above snippet and mine is I used a sequence for generating the primary key in person entity."},{"owner":{"account_id":4194234,"reputation":410,"user_id":3436010,"display_name":"kondu"},"score":0,"creation_date":1428998750,"post_id":6839336,"comment_id":47388111,"body_markdown":"I solved my above issue by setting the parent object in child as described in Person.java","body":"I solved my above issue by setting the parent object in child as described in Person.java"},{"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"score":0,"creation_date":1457148193,"post_id":6839336,"comment_id":59288281,"body_markdown":"Merci Jo&#235;l.  Thank you for also including the sql definition of both tables. Your answer also solved  my problem.  The annotations seem to be the same if you use EclipseLink as the JPA provider instead of Hibernate.","body":"Merci Jo&#235;l.  Thank you for also including the sql definition of both tables. Your answer also solved  my problem.  The annotations seem to be the same if you use EclipseLink as the JPA provider instead of Hibernate."},{"owner":{"account_id":4317888,"reputation":638,"user_id":3527156,"accept_rate":100,"display_name":"Nier"},"score":0,"creation_date":1458879698,"post_id":6839336,"comment_id":60060618,"body_markdown":"I&#39;m exhausted debugging the poorly-described exception information all day, trial-and-error for every entity to find which cause the exception. Finally I found this solution to solve it. I can&#39;t thank you enough.","body":"I&#39;m exhausted debugging the poorly-described exception information all day, trial-and-error for every entity to find which cause the exception. Finally I found this solution to solve it. I can&#39;t thank you enough."},{"owner":{"account_id":295257,"reputation":1091,"user_id":599570,"accept_rate":44,"display_name":"ievgen"},"score":0,"creation_date":1524564056,"post_id":6839336,"comment_id":87013544,"body_markdown":"This does work with JPA 2.1, however you still need to manually assign the instance of a parent object to a child before saving the parent.","body":"This does work with JPA 2.1, however you still need to manually assign the instance of a parent object to a child before saving the parent."},{"owner":{"account_id":1494447,"reputation":2413,"user_id":1400737,"accept_rate":78,"display_name":"rogue lad"},"score":0,"creation_date":1530286420,"post_id":6839336,"comment_id":89197309,"body_markdown":"I am getting error in spring boot project, here is my git repo https://github.com/m-aslam/demo","body":"I am getting error in spring boot project, here is my git repo <a href=\"https://github.com/m-aslam/demo\" rel=\"nofollow noreferrer\">github.com/m-aslam/demo</a>"},{"owner":{"account_id":85391,"reputation":5204,"user_id":238089,"accept_rate":76,"display_name":"Yura Shinkarev"},"score":2,"creation_date":1576659275,"post_id":6839336,"comment_id":104967380,"body_markdown":"This case does not support optional one-to-one (attempted to assign id from null one-to-one property).","body":"This case does not support optional one-to-one (attempted to assign id from null one-to-one property)."}],"tags":[],"owner":{"account_id":426475,"reputation":3175,"user_id":807699,"display_name":"Joel Hudon"},"comment_count":10,"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1516014540,"creation_date":1311739753,"answer_id":6839336,"question_id":6833370,"body_markdown":"To map one-to-one association using shared primary keys use `@PrimaryKeyJoinColumn` and `@MapsId` annotation.\r\n\r\nRelevant sections of the Hibernate Reference Documentation:\r\n\r\n  [PrimaryKeyJoinColumn][1]  \r\n\r\n&gt; The PrimaryKeyJoinColumn annotation does say that the primary key of\r\n&gt; the entity is used as the foreign key value to the associated entity.\r\n\r\n\r\n  [MapsId][2]   \r\n\r\n&gt; The MapsId annotation ask Hibernate to copy the identifier from\r\n&gt; another associated entity. In the Hibernate jargon, it is known as a\r\n&gt; foreign generator but the JPA mapping reads better and is encouraged\r\n\r\n***Person.java***\r\n\r\n    @Entity\r\n    public class Person {\r\n            \t\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;person_id&quot;)\r\n        private Long id;\r\n                \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @PrimaryKeyJoinColumn\r\n        private VitalStats vitalStats;       \r\n    }\r\n\r\n***VitalStats.java***\r\n\r\n\r\n\r\n    @Entity\r\n    public class VitalStats \r\n    {\r\n        @Id @Column(name=&quot;vitalstats_id&quot;) Long id;\r\n    \r\n    \t@MapsId \r\n        @OneToOne(mappedBy = &quot;vitalStats&quot;)\r\n        @JoinColumn(name = &quot;vitalstats_id&quot;)\t  //same name as id @Column\r\n        private Person person;\r\n        \r\n        private String stats;\r\n    }\r\n\r\n\r\n**Person Database Table**\r\n\r\n    CREATE TABLE  person (\r\n      person_id   bigint(20) NOT NULL auto_increment,\r\n      name        varchar(255) default NULL,\r\n      PRIMARY KEY  (`person_id`)\r\n    ) \r\n\r\n**VitalStats Database Table**\r\n\r\n    CREATE TABLE  vitalstats \r\n    (\r\n      vitalstats_id  bigint(20) NOT NULL,\r\n      stats          varchar(255) default NULL,\r\n      PRIMARY KEY  (`vitalstats_id`)\r\n    )\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-association\r\n  [2]: http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-identifier\r\n\r\n\r\n\r\n","title":"JPA @OneToOne with Shared ID -- Can I do this Better?","body":"<p>To map one-to-one association using shared primary keys use <code>@PrimaryKeyJoinColumn</code> and <code>@MapsId</code> annotation.</p>\n\n<p>Relevant sections of the Hibernate Reference Documentation:</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-association\" rel=\"noreferrer\">PrimaryKeyJoinColumn</a>  </p>\n\n<blockquote>\n  <p>The PrimaryKeyJoinColumn annotation does say that the primary key of\n  the entity is used as the foreign key value to the associated entity.</p>\n</blockquote>\n\n<p><a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-identifier\" rel=\"noreferrer\">MapsId</a>   </p>\n\n<blockquote>\n  <p>The MapsId annotation ask Hibernate to copy the identifier from\n  another associated entity. In the Hibernate jargon, it is known as a\n  foreign generator but the JPA mapping reads better and is encouraged</p>\n</blockquote>\n\n<p><strong><em>Person.java</em></strong></p>\n\n<pre><code>@Entity\npublic class Person {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"person_id\")\n    private Long id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @PrimaryKeyJoinColumn\n    private VitalStats vitalStats;       \n}\n</code></pre>\n\n<p><strong><em>VitalStats.java</em></strong></p>\n\n<pre><code>@Entity\npublic class VitalStats \n{\n    @Id @Column(name=\"vitalstats_id\") Long id;\n\n    @MapsId \n    @OneToOne(mappedBy = \"vitalStats\")\n    @JoinColumn(name = \"vitalstats_id\")   //same name as id @Column\n    private Person person;\n\n    private String stats;\n}\n</code></pre>\n\n<p><strong>Person Database Table</strong></p>\n\n<pre><code>CREATE TABLE  person (\n  person_id   bigint(20) NOT NULL auto_increment,\n  name        varchar(255) default NULL,\n  PRIMARY KEY  (`person_id`)\n) \n</code></pre>\n\n<p><strong>VitalStats Database Table</strong></p>\n\n<pre><code>CREATE TABLE  vitalstats \n(\n  vitalstats_id  bigint(20) NOT NULL,\n  stats          varchar(255) default NULL,\n  PRIMARY KEY  (`vitalstats_id`)\n)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6113705,"reputation":925,"user_id":4769403,"accept_rate":100,"display_name":"dorsz"},"score":2,"creation_date":1466235538,"post_id":36528193,"comment_id":63242859,"body_markdown":"This is a correct answer to me. It creates a foreign key in the database, and this is a problem with other answers. Unfortunately, I couldn&#39;t force hibernate to do just 1 query to get entities like User &amp; Setting. Always doing 2 queries, even if the foreign key is created and fetch=FetchType.EAGER...","body":"This is a correct answer to me. It creates a foreign key in the database, and this is a problem with other answers. Unfortunately, I couldn&#39;t force hibernate to do just 1 query to get entities like User &amp; Setting. Always doing 2 queries, even if the foreign key is created and fetch=FetchType.EAGER..."},{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":0,"creation_date":1583246752,"post_id":36528193,"comment_id":107046642,"body_markdown":"`@MapsId` should be `@MapsId(&quot;id&quot;)`. Read [the problem that I had](https://stackoverflow.com/questions/60508864/hibernate-complains-for-null-id-in-onetoone-even-if-it-is-not-null) without it.","body":"<code>@MapsId</code> should be <code>@MapsId(&quot;id&quot;)</code>. Read <a href=\"https://stackoverflow.com/questions/60508864/hibernate-complains-for-null-id-in-onetoone-even-if-it-is-not-null\">the problem that I had</a> without it."}],"tags":[],"owner":{"account_id":3713600,"reputation":5282,"user_id":3090309,"display_name":"camposer"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1460281491,"creation_date":1460281491,"answer_id":36528193,"question_id":6833370,"body_markdown":"In my case this made the trick:\r\n\r\nParent class:\r\n\r\n    public class User implements Serializable {\r\n\t  private static final long serialVersionUID = 1L;\r\n\r\n\t  /** auto generated id (primary key) */\r\n\t  @Id\r\n\t  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t  @Column(unique = true, nullable = false)\r\n\t  private Long id;\r\n\t\t\r\n\t  /** user settings */\r\n\t  @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\r\n\t  private Setting setting;\r\n    }\r\n\r\nChild class:\r\n\r\n    public class Setting implements Serializable {\r\n\t  private static final long serialVersionUID = 1L;\r\n\r\n\t  /** setting id = user id */\r\n\t  @Id\r\n\t  @Column(unique = true, nullable = false)\r\n\t  private Long id;\r\n\t\r\n\t  /** user with this associated settings */\r\n      @MapsId\r\n      @OneToOne\r\n      @JoinColumn(name = &quot;id&quot;)\r\n      private User user;\r\n    }\r\n","title":"JPA @OneToOne with Shared ID -- Can I do this Better?","body":"<p>In my case this made the trick:</p>\n\n<p>Parent class:</p>\n\n<pre><code>public class User implements Serializable {\n  private static final long serialVersionUID = 1L;\n\n  /** auto generated id (primary key) */\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(unique = true, nullable = false)\n  private Long id;\n\n  /** user settings */\n  @OneToOne(cascade = CascadeType.ALL, mappedBy = \"user\")\n  private Setting setting;\n}\n</code></pre>\n\n<p>Child class:</p>\n\n<pre><code>public class Setting implements Serializable {\n  private static final long serialVersionUID = 1L;\n\n  /** setting id = user id */\n  @Id\n  @Column(unique = true, nullable = false)\n  private Long id;\n\n  /** user with this associated settings */\n  @MapsId\n  @OneToOne\n  @JoinColumn(name = \"id\")\n  private User user;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26469180,"reputation":11,"user_id":20110017,"display_name":"Damian Tański"},"score":0,"creation_date":1696249549,"post_id":77215509,"comment_id":136124900,"body_markdown":"For two querries u should read about n+1 problem. EAGER and LAZY describes when associated data will be fetch. If u want to get all of the data in a single querry write either a JPQL querry or criteria query that will add additional data by INNER FETCH JOIN","body":"For two querries u should read about n+1 problem. EAGER and LAZY describes when associated data will be fetch. If u want to get all of the data in a single querry write either a JPQL querry or criteria query that will add additional data by INNER FETCH JOIN"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1696253016,"post_id":77215509,"comment_id":136125548,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77215509/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26469180,"reputation":11,"user_id":20110017,"display_name":"Damian Tański"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696339228,"creation_date":1696249164,"answer_id":77215509,"question_id":6833370,"body_markdown":"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/ see this :)\r\n\r\n@JoinColumn(name = &quot;id&quot;) is redundant should be:\r\n\r\n    public class Setting implements Serializable {\r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      /** setting id = user id */\r\n      @Id\r\n      @Column(unique = true, nullable = false)\r\n      private Long id;\r\n    \r\n      /** user with this associated settings */\r\n      @MapsId(&quot;id&quot;)\r\n      @OneToOne\r\n      private User user;\r\n    }","title":"JPA @OneToOne with Shared ID -- Can I do this Better?","body":"<p><a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/</a> see this :)</p>\n<p>@JoinColumn(name = &quot;id&quot;) is redundant should be:</p>\n<pre><code>public class Setting implements Serializable {\n  private static final long serialVersionUID = 1L;\n\n  /** setting id = user id */\n  @Id\n  @Column(unique = true, nullable = false)\n  private Long id;\n\n  /** user with this associated settings */\n  @MapsId(&quot;id&quot;)\n  @OneToOne\n  private User user;\n}\n</code></pre>\n"}],"owner":{"account_id":348359,"reputation":1361,"user_id":683008,"accept_rate":45,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69276,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":6839336,"answer_count":3,"score":79,"last_activity_date":1696339228,"creation_date":1311697712,"question_id":6833370,"body_markdown":"I’m working with an existing schema that I’d rather not change.  The schema has a one-to-one relationship between tables Person and VitalStats, where Person has a primary key and VitalStats uses the same field as both its primary key and its foreign key to Person, meaning its value is the value of the corresponding PK of Person.\r\n\r\nThese records are created by external processes, and my JPA code never needs to update VitalStats.\r\nFor my object model I’d like my Person class to contain a VitalStats member, BUT:\r\n\r\nWhen I try \r\n\r\n    @Entity\r\n    public class Person{\r\n        private long id;\r\n        @Id\r\n        public long getId(){ return id; }\r\n    \r\n        private VitalStats vs;\r\n        @OneToOne(mappedBy = “person”)\r\n        public VitalStats getVs() { return vs; }\r\n    }\r\n    \r\n    @Entity\r\n        public class VitalStats{\r\n         private Person person;\r\n        @OneToOne\r\n        public Person getPerson() { return person; }\r\n    }\r\n\r\nI have the problem that VitalStats lacks an @Id, which doesn’t work for an @Entity.\\\r\n\r\nIf I try\r\n\r\n    @Id @OneToOne\r\n    public Person getPerson() { return person; }\r\n\r\nthat solves the @Id problem but requires that Person be Serializable.  We’ll get back to that.\r\n\r\nI could make VitalStats @Embeddable and connect it to Person via an @ElementCollection, but then it would have to be accessed as a collection, even though I know that there’s only one element.  Doable, but both a little bit annoying and a little bit confusing.\r\n\r\nSo what’s preventing me from just saying that Person implements Serializable?  Nothing, really, except that I like everything in my code to be there for a reason, and I can’t see any logic to this, which makes my code less readable.\r\n\r\nIn the meantime I just replaced the Person field in VitalStats with a long personId and made that VitalStats’s @Id, so now the @OneToOne works.\r\n\r\nAll of these solutions to what seems (to me) like a straightforward issue are a bit clunky, so I’m wondering whether I’m missing anything, or whether someone can at least explain to me why Person has to be Serializable.\r\n\r\nTIA\r\n\r\n\r\n","title":"JPA @OneToOne with Shared ID -- Can I do this Better?","body":"<p>I’m working with an existing schema that I’d rather not change.  The schema has a one-to-one relationship between tables Person and VitalStats, where Person has a primary key and VitalStats uses the same field as both its primary key and its foreign key to Person, meaning its value is the value of the corresponding PK of Person.</p>\n\n<p>These records are created by external processes, and my JPA code never needs to update VitalStats.\nFor my object model I’d like my Person class to contain a VitalStats member, BUT:</p>\n\n<p>When I try </p>\n\n<pre><code>@Entity\npublic class Person{\n    private long id;\n    @Id\n    public long getId(){ return id; }\n\n    private VitalStats vs;\n    @OneToOne(mappedBy = “person”)\n    public VitalStats getVs() { return vs; }\n}\n\n@Entity\n    public class VitalStats{\n     private Person person;\n    @OneToOne\n    public Person getPerson() { return person; }\n}\n</code></pre>\n\n<p>I have the problem that VitalStats lacks an @Id, which doesn’t work for an @Entity.\\</p>\n\n<p>If I try</p>\n\n<pre><code>@Id @OneToOne\npublic Person getPerson() { return person; }\n</code></pre>\n\n<p>that solves the @Id problem but requires that Person be Serializable.  We’ll get back to that.</p>\n\n<p>I could make VitalStats @Embeddable and connect it to Person via an @ElementCollection, but then it would have to be accessed as a collection, even though I know that there’s only one element.  Doable, but both a little bit annoying and a little bit confusing.</p>\n\n<p>So what’s preventing me from just saying that Person implements Serializable?  Nothing, really, except that I like everything in my code to be there for a reason, and I can’t see any logic to this, which makes my code less readable.</p>\n\n<p>In the meantime I just replaced the Person field in VitalStats with a long personId and made that VitalStats’s @Id, so now the @OneToOne works.</p>\n\n<p>All of these solutions to what seems (to me) like a straightforward issue are a bit clunky, so I’m wondering whether I’m missing anything, or whether someone can at least explain to me why Person has to be Serializable.</p>\n\n<p>TIA</p>\n"},{"tags":["java","logback"],"answers":[{"comments":[{"owner":{"account_id":6173800,"reputation":625,"user_id":5609463,"accept_rate":0,"display_name":"Mike"},"score":0,"creation_date":1547118941,"post_id":54108267,"comment_id":95086189,"body_markdown":"thanks for your comments. However i am looking to zip the whole directory and start fresh.","body":"thanks for your comments. However i am looking to zip the whole directory and start fresh."},{"owner":{"account_id":10655561,"reputation":482,"user_id":10867487,"display_name":"Echoinacup"},"score":0,"creation_date":1547119408,"post_id":54108267,"comment_id":95086441,"body_markdown":"@Mike you are welcome ;) you could check https://stackoverflow.com/questions/25844215/create-new-log-file-each-run-in-logback    but I can not find zipping folder :) Could you let me know if you find it? Thank you","body":"@Mike you are welcome ;) you could check <a href=\"https://stackoverflow.com/questions/25844215/create-new-log-file-each-run-in-logback\" title=\"create new log file each run in logback\">stackoverflow.com/questions/25844215/&hellip;</a>    but I can not find zipping folder :) Could you let me know if you find it? Thank you"}],"tags":[],"owner":{"account_id":10655561,"reputation":482,"user_id":10867487,"display_name":"Echoinacup"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547031062,"creation_date":1547030585,"answer_id":54108267,"question_id":54107925,"body_markdown":"With the help of logback. Rolling policy is for that purpose. Set the retantion days and the pass for storing the zip log. MaxHistory  amount of days after the file will be archived. \r\n \r\n\r\n       &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;logs/yourLog.log&lt;/file&gt;\r\n          &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;FileNamePattern&gt;../../logs/backup/yourLog_%d{yyyy-MM-dd}.log.gz&lt;/FileNamePattern&gt;\r\n            &lt;MaxHistory&gt;32&lt;/MaxHistory&gt;\r\n          &lt;/rollingPolicy&gt;\r\n       &lt;/appender&gt;\r\n\r\n","title":"Zip the complete logs directory via logback.xml","body":"<p>With the help of logback. Rolling policy is for that purpose. Set the retantion days and the pass for storing the zip log. MaxHistory  amount of days after the file will be archived. </p>\n\n<pre><code>   &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;file&gt;logs/yourLog.log&lt;/file&gt;\n      &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n        &lt;FileNamePattern&gt;../../logs/backup/yourLog_%d{yyyy-MM-dd}.log.gz&lt;/FileNamePattern&gt;\n        &lt;MaxHistory&gt;32&lt;/MaxHistory&gt;\n      &lt;/rollingPolicy&gt;\n   &lt;/appender&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696339199,"creation_date":1696339199,"answer_id":77222640,"question_id":54107925,"body_markdown":"Logback do not have any out of the box functionality to create zip from achieved log folder. However you shell script (Unix) or batch script (Windows) and schedule it to run as per needed timeline.","title":"Zip the complete logs directory via logback.xml","body":"<p>Logback do not have any out of the box functionality to create zip from achieved log folder. However you shell script (Unix) or batch script (Windows) and schedule it to run as per needed timeline.</p>\n"}],"owner":{"account_id":6173800,"reputation":625,"user_id":5609463,"accept_rate":0,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696339199,"creation_date":1547029451,"question_id":54107925,"body_markdown":"is there any way i can zip the previous logs directory if exists and start fresh(creating new dir everytime system starts) in slf4j with logback.xml ? \r\n\r\nPS: I am using java7.\r\n\r\nThanks \r\n\r\n\r\n\r\n","title":"Zip the complete logs directory via logback.xml","body":"<p>is there any way i can zip the previous logs directory if exists and start fresh(creating new dir everytime system starts) in slf4j with logback.xml ? </p>\n\n<p>PS: I am using java7.</p>\n\n<p>Thanks </p>\n"},{"tags":["java","logging","runtime","java.util.logging"],"comments":[{"owner":{"account_id":2024376,"reputation":745,"user_id":1809825,"accept_rate":67,"display_name":"Captain Obvious"},"score":1,"creation_date":1352456212,"post_id":13306014,"comment_id":18146734,"body_markdown":"this might help you: http://stackoverflow.com/questions/6315699/why-are-my-level-fine-logging-messages-not-showing","body":"this might help you: <a href=\"http://stackoverflow.com/questions/6315699/why-are-my-level-fine-logging-messages-not-showing\" title=\"why are my level fine logging messages not showing\">stackoverflow.com/questions/6315699/&hellip;</a>"},{"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"score":0,"creation_date":1352456722,"post_id":13306014,"comment_id":18146956,"body_markdown":"No, it doesn&#39;t help. Maybe I misunderstand your suggestion, but that question and its answer talk about configuring the logger fully programmatically. I want to use the logging.properties file, but read it at runtime (since I don&#39;t want to set a VM parameter at the commandline). Also, what is confusing me, is that the `readConfiguration()` methods don&#39;t seem to do what they are meant to do.","body":"No, it doesn&#39;t help. Maybe I misunderstand your suggestion, but that question and its answer talk about configuring the logger fully programmatically. I want to use the logging.properties file, but read it at runtime (since I don&#39;t want to set a VM parameter at the commandline). Also, what is confusing me, is that the <code>readConfiguration()</code> methods don&#39;t seem to do what they are meant to do."},{"owner":{"account_id":1931201,"reputation":5150,"user_id":1740554,"display_name":"Udo Klimaschewski"},"score":0,"creation_date":1352457316,"post_id":13306014,"comment_id":18147214,"body_markdown":"I tested it, it works for me. `readConfiguration()` reads configuration and after this, the new logger config is used. JDK 1.6.0_27.","body":"I tested it, it works for me. <code>readConfiguration()</code> reads configuration and after this, the new logger config is used. JDK 1.6.0_27."},{"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"score":0,"creation_date":1352459368,"post_id":13306014,"comment_id":18148036,"body_markdown":"I tried with JDK 1.6.0_26, 1.6.0_31 and 1.7.0_07. All under Linux. Neither of them works. Did you try my code snippet above? If yes, what was the output? If not, can you provide an example that worked for you, so I can try it out with this?","body":"I tried with JDK 1.6.0_26, 1.6.0_31 and 1.7.0_07. All under Linux. Neither of them works. Did you try my code snippet above? If yes, what was the output? If not, can you provide an example that worked for you, so I can try it out with this?"}],"answers":[{"comments":[{"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"score":1,"creation_date":1352469491,"post_id":13309117,"comment_id":18152291,"body_markdown":"You are right. The problem was in my logging.properties. It was the `handlers` directive. In my logging.properties I wrote it with a dot in front of it: `.handlers`. After removing the dot, it works. But what puzzles me, is that the very same logging.properties file works correct when setting it via VM parameter. That&#39;s quite strange (and I would call it a bug).","body":"You are right. The problem was in my logging.properties. It was the <code>handlers</code> directive. In my logging.properties I wrote it with a dot in front of it: <code>.handlers</code>. After removing the dot, it works. But what puzzles me, is that the very same logging.properties file works correct when setting it via VM parameter. That&#39;s quite strange (and I would call it a bug)."}],"tags":[],"owner":{"account_id":1931201,"reputation":5150,"user_id":1740554,"display_name":"Udo Klimaschewski"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1352468636,"creation_date":1352468150,"answer_id":13309117,"question_id":13306014,"body_markdown":"Probably a problem with your logging properties. I noticed that I had to use both level specifications in the config (root and console) to get the result.\r\n&lt;br&gt;\r\nMaybe your root logger level is below `FINEST`, e.g. `INFO` (`.level=INFO`).\r\n&lt;br&gt;\r\nOr not set at all, in which case I suppose it to be `INFO`. \r\n\r\nI ran your code with the following logging.properties:\r\n&lt;br&gt;\r\n\r\n    handlers=java.util.logging.ConsoleHandler\r\n    .level=FINEST\r\n    java.util.logging.ConsoleHandler.level=FINEST\r\n\r\nWithout specifying the `-Djava.util.logging.config.file=/tmp/logging.properties` output was:\r\n\r\n    --- start\r\n    09.11.2012 14:25:49 testing.Scribble main\r\n    SCHWERWIEGEND: SEVERE 1\r\n    09.11.2012 14:25:49 testing.Scribble main\r\n    SCHWERWIEGEND: SEVERE 2\r\n    09.11.2012 14:25:49 testing.Scribble main\r\n    SCHWERWIEGEND: SEVERE 3\r\n    09.11.2012 14:25:49 testing.Scribble main\r\n    AM FEINSTEN: FINEST 3\r\n    --- end\r\n\r\nLooks correct!\r\n(My test class is called testing.Scribble, thats the only difference)\r\n\r\nUsing `-Djava.util.logging.config.file=/tmp/logging.properties` output is:\r\n\r\n    --- start\r\n    09.11.2012 14:31:06 testing.Scribble main\r\n    SCHWERWIEGEND: SEVERE 1\r\n    09.11.2012 14:31:06 testing.Scribble main\r\n    AM FEINSTEN: FINEST 1\r\n    09.11.2012 14:31:06 testing.Scribble main\r\n    SCHWERWIEGEND: SEVERE 2\r\n    09.11.2012 14:31:06 testing.Scribble main\r\n    AM FEINSTEN: FINEST 2\r\n    09.11.2012 14:31:06 testing.Scribble main\r\n    SCHWERWIEGEND: SEVERE 3\r\n    09.11.2012 14:31:06 testing.Scribble main\r\n    AM FEINSTEN: FINEST 3\r\n    --- end\r\n\r\nLooks also correct!","title":"Setting java.util.logging.config.file at runtime","body":"<p>Probably a problem with your logging properties. I noticed that I had to use both level specifications in the config (root and console) to get the result.\n<br>\nMaybe your root logger level is below <code>FINEST</code>, e.g. <code>INFO</code> (<code>.level=INFO</code>).\n<br>\nOr not set at all, in which case I suppose it to be <code>INFO</code>. </p>\n\n<p>I ran your code with the following logging.properties:\n<br></p>\n\n<pre><code>handlers=java.util.logging.ConsoleHandler\n.level=FINEST\njava.util.logging.ConsoleHandler.level=FINEST\n</code></pre>\n\n<p>Without specifying the <code>-Djava.util.logging.config.file=/tmp/logging.properties</code> output was:</p>\n\n<pre><code>--- start\n09.11.2012 14:25:49 testing.Scribble main\nSCHWERWIEGEND: SEVERE 1\n09.11.2012 14:25:49 testing.Scribble main\nSCHWERWIEGEND: SEVERE 2\n09.11.2012 14:25:49 testing.Scribble main\nSCHWERWIEGEND: SEVERE 3\n09.11.2012 14:25:49 testing.Scribble main\nAM FEINSTEN: FINEST 3\n--- end\n</code></pre>\n\n<p>Looks correct!\n(My test class is called testing.Scribble, thats the only difference)</p>\n\n<p>Using <code>-Djava.util.logging.config.file=/tmp/logging.properties</code> output is:</p>\n\n<pre><code>--- start\n09.11.2012 14:31:06 testing.Scribble main\nSCHWERWIEGEND: SEVERE 1\n09.11.2012 14:31:06 testing.Scribble main\nAM FEINSTEN: FINEST 1\n09.11.2012 14:31:06 testing.Scribble main\nSCHWERWIEGEND: SEVERE 2\n09.11.2012 14:31:06 testing.Scribble main\nAM FEINSTEN: FINEST 2\n09.11.2012 14:31:06 testing.Scribble main\nSCHWERWIEGEND: SEVERE 3\n09.11.2012 14:31:06 testing.Scribble main\nAM FEINSTEN: FINEST 3\n--- end\n</code></pre>\n\n<p>Looks also correct!</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696339185,"creation_date":1696339185,"answer_id":77222638,"question_id":13306014,"body_markdown":"Instead of `java.util.logging.config.file` (which requires absolute or relative file system path) you could use `java.util.logging.config.class` which will take a class from classpath.\r\n\r\nIn Gradle build:\r\n\r\n```\r\nsubprojects {\r\n    // JavaForkOptions is base interface for JavaExec, BootRun, Test tasks...\r\n    tasks.withType(JavaForkOptions) {\r\n        systemProperty(&quot;java.util.logging.config.class&quot;, &quot;com.evil.JulBootstrap&quot;)\r\n    }\r\n}\r\n```\r\n\r\n`JulBootstrap` has trivial implementation - a no-arg constructor:\r\n\r\n```java\r\npublic class JulBootstrap {\r\n    public JulBootstrap() {\r\n        final Logger rootLogger = Logger.getLogger(&quot;&quot;);\r\n        rootLogger.setLevel(Level.FINER);\r\n        // See SLF4JBridgeHandler.install().\r\n        rootLogger.addHandler(new SLF4JBridgeHandler());\r\n    }\r\n}\r\n```\r\n\r\nYou could do fancy things, like load properties file (and maybe tweak some settings programmaticly):\r\n\r\n```java\r\ntry (Inputstream stream : JulBootstrap.class.getResourceAsStream(&quot;/logging.properties&quot;)){\r\n    LogManager.readConfiguration(stream);\r\n}\r\n...\r\n```","title":"Setting java.util.logging.config.file at runtime","body":"<p>Instead of <code>java.util.logging.config.file</code> (which requires absolute or relative file system path) you could use <code>java.util.logging.config.class</code> which will take a class from classpath.</p>\n<p>In Gradle build:</p>\n<pre><code>subprojects {\n    // JavaForkOptions is base interface for JavaExec, BootRun, Test tasks...\n    tasks.withType(JavaForkOptions) {\n        systemProperty(&quot;java.util.logging.config.class&quot;, &quot;com.evil.JulBootstrap&quot;)\n    }\n}\n</code></pre>\n<p><code>JulBootstrap</code> has trivial implementation - a no-arg constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JulBootstrap {\n    public JulBootstrap() {\n        final Logger rootLogger = Logger.getLogger(&quot;&quot;);\n        rootLogger.setLevel(Level.FINER);\n        // See SLF4JBridgeHandler.install().\n        rootLogger.addHandler(new SLF4JBridgeHandler());\n    }\n}\n</code></pre>\n<p>You could do fancy things, like load properties file (and maybe tweak some settings programmaticly):</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Inputstream stream : JulBootstrap.class.getResourceAsStream(&quot;/logging.properties&quot;)){\n    LogManager.readConfiguration(stream);\n}\n...\n</code></pre>\n"}],"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21232,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":13309117,"answer_count":2,"score":12,"last_activity_date":1696339185,"creation_date":1352455878,"question_id":13306014,"body_markdown":"I am trying to set the java util logging config file at runtime to avoid having to set it as a VM parameter.\r\nBut this just doesn&#39;t work. Whenever I am trying to reread the configuration, logging is disabled at all.\r\n\r\nSee the following code snippet:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package test;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.LogManager;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class A {\r\n      private static final Logger LOGGER= Logger.getLogger(A.class.getName());\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        System.out.println(&quot;--- start&quot;);\r\n        LOGGER.log(Level.SEVERE, &quot;SEVERE 1&quot;);\r\n        LOGGER.log(Level.FINEST, &quot;FINEST 1&quot;);\r\n        LogManager.getLogManager().readConfiguration();\r\n        LOGGER.log(Level.SEVERE, &quot;SEVERE 2&quot;);\r\n        LOGGER.log(Level.FINEST, &quot;FINEST 2&quot;);\r\n        LogManager.getLogManager().readConfiguration(new FileInputStream(&quot;/tmp/logging.properties&quot;));\r\n        LOGGER.log(Level.SEVERE, &quot;SEVERE 3&quot;);\r\n        LOGGER.log(Level.FINEST, &quot;FINEST 3&quot;);\r\n        System.out.println(&quot;--- end&quot;);\r\n      }\r\n    }\r\n\r\nThis is the output if I run the class without any VM argument:\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    --- start\r\n    09.11.2012 09:59:25 test.A main\r\n    SCHWERWIEGEND: SEVERE 1\r\n    09.11.2012 09:59:25 test.A main\r\n    SCHWERWIEGEND: SEVERE 2\r\n    --- end\r\n\r\nAs you can see, only the SEVERE levels are logged, as this is the default of the JREs logging.properties. Calling `LogManager#readConfiguration()` doesn&#39;t change anything. But when trying to read the configuration from my logging.properties, absolutely nothing is logged. There is no difference in calling `LogManager#readConfiguration(InputStream)` or setting the `java.util.logging.config.file` property and calling `LogManager#readConfiguration()`.\r\n\r\nNow see the next output, when I run the same code with the VM property `-Djava.util.logging.config.file=/tmp/logging.properties` :\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    --- start\r\n    2012-11-09 10:03:44.0838 SEVERE  [test.A#main()] - SEVERE 1\r\n    2012-11-09 10:03:44.0843 FINEST  [test.A#main()] - FINEST 1\r\n    --- end\r\n\r\nAs you can see, both the SEVERE and the FINEST levels are logged and they are logged in a different format. Both is specified in my custom `logging.properties`.\r\nBut logging stops here after calling `LogManager#readConfiguration()`! This is different from the example above and I don&#39;t understand it. Also, just as in the example above, calling `LogManager#readConfiguration(InputStream)` doesn&#39;t work.\r\n\r\nSo what is the problem? According to the [javadoc](http://docs.oracle.com/javase/6/docs/api/java/util/logging/LogManager.html) setting the java.util.logging.config.file property at runtime should work. Also both readConfiguration() methods should work as I expect. So what is the problem?","title":"Setting java.util.logging.config.file at runtime","body":"<p>I am trying to set the java util logging config file at runtime to avoid having to set it as a VM parameter.\nBut this just doesn't work. Whenever I am trying to reread the configuration, logging is disabled at all.</p>\n\n<p>See the following code snippet:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport java.io.FileInputStream;\nimport java.util.logging.Level;\nimport java.util.logging.LogManager;\nimport java.util.logging.Logger;\n\npublic class A {\n  private static final Logger LOGGER= Logger.getLogger(A.class.getName());\n\n  public static void main(String[] args) throws Exception {\n    System.out.println(\"--- start\");\n    LOGGER.log(Level.SEVERE, \"SEVERE 1\");\n    LOGGER.log(Level.FINEST, \"FINEST 1\");\n    LogManager.getLogManager().readConfiguration();\n    LOGGER.log(Level.SEVERE, \"SEVERE 2\");\n    LOGGER.log(Level.FINEST, \"FINEST 2\");\n    LogManager.getLogManager().readConfiguration(new FileInputStream(\"/tmp/logging.properties\"));\n    LOGGER.log(Level.SEVERE, \"SEVERE 3\");\n    LOGGER.log(Level.FINEST, \"FINEST 3\");\n    System.out.println(\"--- end\");\n  }\n}\n</code></pre>\n\n<p>This is the output if I run the class without any VM argument:\n</p>\n\n<pre><code>--- start\n09.11.2012 09:59:25 test.A main\nSCHWERWIEGEND: SEVERE 1\n09.11.2012 09:59:25 test.A main\nSCHWERWIEGEND: SEVERE 2\n--- end\n</code></pre>\n\n<p>As you can see, only the SEVERE levels are logged, as this is the default of the JREs logging.properties. Calling <code>LogManager#readConfiguration()</code> doesn't change anything. But when trying to read the configuration from my logging.properties, absolutely nothing is logged. There is no difference in calling <code>LogManager#readConfiguration(InputStream)</code> or setting the <code>java.util.logging.config.file</code> property and calling <code>LogManager#readConfiguration()</code>.</p>\n\n<p>Now see the next output, when I run the same code with the VM property <code>-Djava.util.logging.config.file=/tmp/logging.properties</code> :\n</p>\n\n<pre><code>--- start\n2012-11-09 10:03:44.0838 SEVERE  [test.A#main()] - SEVERE 1\n2012-11-09 10:03:44.0843 FINEST  [test.A#main()] - FINEST 1\n--- end\n</code></pre>\n\n<p>As you can see, both the SEVERE and the FINEST levels are logged and they are logged in a different format. Both is specified in my custom <code>logging.properties</code>.\nBut logging stops here after calling <code>LogManager#readConfiguration()</code>! This is different from the example above and I don't understand it. Also, just as in the example above, calling <code>LogManager#readConfiguration(InputStream)</code> doesn't work.</p>\n\n<p>So what is the problem? According to the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/logging/LogManager.html\" rel=\"noreferrer\">javadoc</a> setting the java.util.logging.config.file property at runtime should work. Also both readConfiguration() methods should work as I expect. So what is the problem?</p>\n"},{"tags":["javascript","java","xss","owasp","html-encode"],"comments":[{"owner":{"account_id":22226004,"reputation":13342,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":0,"creation_date":1696326876,"post_id":77218037,"comment_id":136135562,"body_markdown":"What is your app supposed to do with _legitimate_ input? Interpret it as HTML code? Or just as text? Or...?","body":"What is your app supposed to do with <i>legitimate</i> input? Interpret it as HTML code? Or just as text? Or...?"},{"owner":{"account_id":15553591,"reputation":45,"user_id":11220648,"display_name":"NAVOZ"},"score":0,"creation_date":1696333816,"post_id":77218037,"comment_id":136136752,"body_markdown":"@HeikoThei&#223;en Thanks for replying!\nSo in the application the value of the parameter gets picked up and then being used in javascript function. It is mainly simple string/text value.            See the code below:                                                                                                    \n `function set() {\nvar span = window.parent.document.all.&lt;%=Encode.forHtml(request.getParameter(&quot;address&quot;))%&gt;;\nvar action = &#39;&lt;%=Encode.forHtml(request.getParameter(&quot;action&quot;))%&gt;&#39;;`","body":"@HeikoThei&#223;en Thanks for replying! So in the application the value of the parameter gets picked up and then being used in javascript function. It is mainly simple string/text value.            See the code below:                                                                                                      <code>function set() { var span = window.parent.document.all.&lt;%=Encode.forHtml(request.getPara&zwnj;&#8203;meter(&quot;address&quot;))%&gt;; var action = &#39;&lt;%=Encode.forHtml(request.getParameter(&quot;action&quot;))%&gt;&#39;;</code>"},{"owner":{"account_id":22226004,"reputation":13342,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":0,"creation_date":1696334147,"post_id":77218037,"comment_id":136136825,"body_markdown":"Can you give an example of what this Javascript code shall do for _legitimate_ input? It currently seems that attackers can produce arbitrary Javascript by supplying suitable input.","body":"Can you give an example of what this Javascript code shall do for <i>legitimate</i> input? It currently seems that attackers can produce arbitrary Javascript by supplying suitable input."},{"owner":{"account_id":15553591,"reputation":45,"user_id":11220648,"display_name":"NAVOZ"},"score":0,"creation_date":1696335473,"post_id":77218037,"comment_id":136137087,"body_markdown":"@HeikoThei&#223;en It varies. I pasted the code snippet for this particular jsp:","body":"@HeikoThei&#223;en It varies. I pasted the code snippet for this particular jsp:"},{"owner":{"account_id":15553591,"reputation":45,"user_id":11220648,"display_name":"NAVOZ"},"score":0,"creation_date":1696339602,"post_id":77218037,"comment_id":136137943,"body_markdown":"@HeikoThei&#223;en Thanks for your support. I have like more that 100 JSPs en definitely more than that javascript functions. Is there no generic way to do it may be? If I make a filter and intercept all the request and filter out because otherwise i have to like change every var or field in a jsp/javascript..","body":"@HeikoThei&#223;en Thanks for your support. I have like more that 100 JSPs en definitely more than that javascript functions. Is there no generic way to do it may be? If I make a filter and intercept all the request and filter out because otherwise i have to like change every var or field in a jsp/javascript.."},{"owner":{"account_id":22226004,"reputation":13342,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":0,"creation_date":1696339811,"post_id":77218037,"comment_id":136137994,"body_markdown":"Since your parameters differ in their meaning (`action` is a string but `address` is not), I doubt there is a simple generic solution. Unless you are very restrictive and disallow all special characters (allowing only letters and digits, say).","body":"Since your parameters differ in their meaning (<code>action</code> is a string but <code>address</code> is not), I doubt there is a simple generic solution. Unless you are very restrictive and disallow all special characters (allowing only letters and digits, say)."}],"answers":[{"tags":[],"owner":{"account_id":22226004,"reputation":13342,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696338712,"creation_date":1696338388,"answer_id":77222542,"question_id":77218037,"body_markdown":"Complexity is greatly decreased if all your request parameters are string values that occur in Javascript code. You need then only make sure that\r\n- any string delimiters that occur in a request parameter are properly escaped (`&quot;` becomes `\\&quot;`) and\r\n- the backslash is escaped (`\\` becomes `\\\\`) so that parameters cannot themselves contain escape sequences.\r\n\r\nNo HTML encoding is necessary for that.\r\n\r\nYou current code does not treat `address` as a string value, you should write `window.parent.document.all[&quot;XXX&quot;]` instead of `window.parent.document.all.XXX`. This is produced with the following server-side code:\r\n```\r\nvar span = window.parent.document.all[&quot;&lt;%=\r\n  request.getParameter(&quot;address&quot;)\r\n   .replaceAll(&#39;&quot;&#39;, &#39;\\\\&quot;&#39;)\r\n   .replaceAll(&#39;\\\\&#39;, &#39;\\\\\\\\&#39;)\r\n%&gt;&quot;];\r\nvar action = &quot;&lt;%=\r\n  request.getParameter(&quot;action&quot;)\r\n   .replaceAll(&#39;&quot;&#39;, &#39;\\\\&quot;&#39;)\r\n   .replaceAll(&#39;\\\\&#39;, &#39;\\\\\\\\&#39;)\r\n%&gt;&quot;;\r\n```\r\nEven if an attacker set `address` to the value `&quot;];alert(1)`, this would still be treated as a string:\r\n```\r\nvar span = window.parent.document.all[&quot;\\&quot;];alert(1)&quot;];\r\n```\r\n\r\n(I do not understand your current treatment of `houseNumber`, but this must also be handled as a string.)","title":"XSS mitigation with url encoded input","body":"<p>Complexity is greatly decreased if all your request parameters are string values that occur in Javascript code. You need then only make sure that</p>\n<ul>\n<li>any string delimiters that occur in a request parameter are properly escaped (<code>&quot;</code> becomes <code>\\&quot;</code>) and</li>\n<li>the backslash is escaped (<code>\\</code> becomes <code>\\\\</code>) so that parameters cannot themselves contain escape sequences.</li>\n</ul>\n<p>No HTML encoding is necessary for that.</p>\n<p>You current code does not treat <code>address</code> as a string value, you should write <code>window.parent.document.all[&quot;XXX&quot;]</code> instead of <code>window.parent.document.all.XXX</code>. This is produced with the following server-side code:</p>\n<pre><code>var span = window.parent.document.all[&quot;&lt;%=\n  request.getParameter(&quot;address&quot;)\n   .replaceAll('&quot;', '\\\\&quot;')\n   .replaceAll('\\\\', '\\\\\\\\')\n%&gt;&quot;];\nvar action = &quot;&lt;%=\n  request.getParameter(&quot;action&quot;)\n   .replaceAll('&quot;', '\\\\&quot;')\n   .replaceAll('\\\\', '\\\\\\\\')\n%&gt;&quot;;\n</code></pre>\n<p>Even if an attacker set <code>address</code> to the value <code>&quot;];alert(1)</code>, this would still be treated as a string:</p>\n<pre><code>var span = window.parent.document.all[&quot;\\&quot;];alert(1)&quot;];\n</code></pre>\n<p>(I do not understand your current treatment of <code>houseNumber</code>, but this must also be handled as a string.)</p>\n"}],"owner":{"account_id":15553591,"reputation":45,"user_id":11220648,"display_name":"NAVOZ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696338712,"creation_date":1696274931,"question_id":77218037,"body_markdown":"In one of my application to mitigate XSS attack I am using Encoder for html from OWASP but unfortunately it is not sufficient. \r\n\r\nThe pentesters have found a reflected cross site scripting threat where the input field content or the payload is URL encoded, the XSS encode/filter does not encode the data and allow the input to pass to the Javascript function.\r\n\r\nThe input is: %3Cscript%3Ealert%285%29%3C%2Fscript%3E or 39848%3balert(1)%2f%2f920 \r\n\r\n\r\n\r\nI have also tried Jsoup en html sanitize. They all are filtering the output/input only for html but this is already in a encoded form. \r\n\r\n        function set() {\r\n    var span = window.parent.document.all.&lt;%=Encode.forHtml(request.getParameter(&quot;address&quot;))%&gt;;\r\n    var action = &#39;&lt;%=Encode.forHtml(request.getParameter(&quot;action&quot;))%&gt;&#39;;\r\n    \r\n    &lt;logic:present name=&quot;postcodeForm&quot; property=&quot;result&quot;&gt;\r\n    &lt;bean:size id=&quot;resultSize&quot; name=&quot;postcodeForm&quot; property=&quot;result&quot;/&gt;\r\n    &lt;logic:notMatch name=&quot;resultSize&quot; value=&quot;1&quot;&gt;\r\n    span.innerHTML = &quot;&lt;bean:message key=&#39;error.result&#39;/&gt;&quot;;\r\n    span.className = &quot;errSpec&quot;;\r\n    \r\n    &lt;/logic:notMatch&gt;\r\n    &lt;logic:match name=&quot;resultSize&quot; value=&quot;1&quot;&gt;\r\n    &lt;logic:iterate id=&quot;adres&quot; name=&quot;postcodeForm&quot; property=&quot;result&quot;&gt;\r\n    span.innerHTML = &quot;&lt;bean:write name=&#39;address&#39; property=&#39;Street&#39;/&gt;&amp;nbsp;&quot;\r\n    + &lt;%=Integer.parseInt(Encode.forHtml(searchString.substring(searchString.indexOf(&#39;,&#39;) + 1)))%&gt;\r\n    &lt;logic:present parameter=&quot;houseNumber&quot;&gt;\r\n    &lt;%=Encode.forHtml(request.getParameter(&quot;houseNumber&quot;))%&gt;\r\n    &lt;/logic:present&gt;\r\n    + &quot;&lt;br/&gt;&quot; + &quot;&lt;bean:write name=&#39;address&#39; property=&#39;postcode&#39;/&gt;&amp;nbsp;&lt;bean:write name=&#39;address&#39; property=&#39;houseNr&#39;/&gt;&quot;;\r\n    span.className = &quot;&quot;;\r\n    \r\n    if (action == &#39;postcode&#39;) {\r\n    var streetname= &quot;&lt;bean:write name=&#39;address&#39; property=&#39;streetName&#39; filter=&quot;false&quot;/&gt;&quot;;\r\n\r\nAny idea or help is highly appreciated. \r\n\r\nThanks In Advance!","title":"XSS mitigation with url encoded input","body":"<p>In one of my application to mitigate XSS attack I am using Encoder for html from OWASP but unfortunately it is not sufficient.</p>\n<p>The pentesters have found a reflected cross site scripting threat where the input field content or the payload is URL encoded, the XSS encode/filter does not encode the data and allow the input to pass to the Javascript function.</p>\n<p>The input is: %3Cscript%3Ealert%285%29%3C%2Fscript%3E or 39848%3balert(1)%2f%2f920</p>\n<p>I have also tried Jsoup en html sanitize. They all are filtering the output/input only for html but this is already in a encoded form.</p>\n<pre><code>    function set() {\nvar span = window.parent.document.all.&lt;%=Encode.forHtml(request.getParameter(&quot;address&quot;))%&gt;;\nvar action = '&lt;%=Encode.forHtml(request.getParameter(&quot;action&quot;))%&gt;';\n\n&lt;logic:present name=&quot;postcodeForm&quot; property=&quot;result&quot;&gt;\n&lt;bean:size id=&quot;resultSize&quot; name=&quot;postcodeForm&quot; property=&quot;result&quot;/&gt;\n&lt;logic:notMatch name=&quot;resultSize&quot; value=&quot;1&quot;&gt;\nspan.innerHTML = &quot;&lt;bean:message key='error.result'/&gt;&quot;;\nspan.className = &quot;errSpec&quot;;\n\n&lt;/logic:notMatch&gt;\n&lt;logic:match name=&quot;resultSize&quot; value=&quot;1&quot;&gt;\n&lt;logic:iterate id=&quot;adres&quot; name=&quot;postcodeForm&quot; property=&quot;result&quot;&gt;\nspan.innerHTML = &quot;&lt;bean:write name='address' property='Street'/&gt;&amp;nbsp;&quot;\n+ &lt;%=Integer.parseInt(Encode.forHtml(searchString.substring(searchString.indexOf(',') + 1)))%&gt;\n&lt;logic:present parameter=&quot;houseNumber&quot;&gt;\n&lt;%=Encode.forHtml(request.getParameter(&quot;houseNumber&quot;))%&gt;\n&lt;/logic:present&gt;\n+ &quot;&lt;br/&gt;&quot; + &quot;&lt;bean:write name='address' property='postcode'/&gt;&amp;nbsp;&lt;bean:write name='address' property='houseNr'/&gt;&quot;;\nspan.className = &quot;&quot;;\n\nif (action == 'postcode') {\nvar streetname= &quot;&lt;bean:write name='address' property='streetName' filter=&quot;false&quot;/&gt;&quot;;\n</code></pre>\n<p>Any idea or help is highly appreciated.</p>\n<p>Thanks In Advance!</p>\n"},{"tags":["java","async-await","completable-future"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696338508,"post_id":77222371,"comment_id":136137701,"body_markdown":"What does `graphQLService.postGraphQLQuery(id), customExecutor)` do?  Perhaps it is I/O bound, and must wait?","body":"What does <code>graphQLService.postGraphQLQuery(id), customExecutor)</code> do?  Perhaps it is I/O bound, and must wait?"},{"owner":{"account_id":1921009,"reputation":115,"user_id":5504547,"accept_rate":80,"display_name":"uniQ"},"score":0,"creation_date":1696338707,"post_id":77222371,"comment_id":136137737,"body_markdown":"@AndrewS it calls a `RestTemplate.exchange()` function to post to a endpoint and get response. It is always the last call that is taking longer.","body":"@AndrewS it calls a <code>RestTemplate.exchange()</code> function to post to a endpoint and get response. It is always the last call that is taking longer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696421796,"post_id":77222371,"comment_id":136150319,"body_markdown":"That’s a circular reasoning. The call that takes the longest time finishes last and is printed last, so it’s always the last that takes longer.","body":"That’s a circular reasoning. The call that takes the longest time finishes last and is printed last, so it’s always the last that takes longer."},{"owner":{"account_id":1921009,"reputation":115,"user_id":5504547,"accept_rate":80,"display_name":"uniQ"},"score":0,"creation_date":1696457383,"post_id":77222371,"comment_id":136157207,"body_markdown":"@Holger but I know for a fact that the calls should only be 100-300ms (including last call) since they are all same calls","body":"@Holger but I know for a fact that the calls should only be 100-300ms (including last call) since they are all same calls"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696489883,"post_id":77222371,"comment_id":136160029,"body_markdown":"There are no timing guarantees. It happens all the time that the same code has different execution times. Let garbage collection happen. Let there be a background process utilizing one of the CPU cores. We can’t tell you why one execution of a method we know nothing about occasionally takes more time. By the way, factory methods like `Lists.newArrayList()` were useful back in Java&#160;5 when constructors had no type inference but nowadays, there is no advantage over `new ArrayList&lt;&gt;()`.","body":"There are no timing guarantees. It happens all the time that the same code has different execution times. Let garbage collection happen. Let there be a background process utilizing one of the CPU cores. We can’t tell you why one execution of a method we know nothing about occasionally takes more time. By the way, factory methods like <code>Lists.newArrayList()</code> were useful back in Java 5 when constructors had no type inference but nowadays, there is no advantage over <code>new ArrayList&lt;&gt;()</code>."}],"owner":{"account_id":1921009,"reputation":115,"user_id":5504547,"accept_rate":80,"display_name":"uniQ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696337019,"creation_date":1696337019,"question_id":77222371,"body_markdown":"I am trying to create `x` amount of parallel calls using the `CompletableFuture.supplyAsync` function with the below code:\r\n\r\n```java\r\n    ExecutorService customExecutor = Executors.newFixedThreadPool(5,new ThreadFactoryBuilder()\r\n        .setNameFormat(&quot;EXECUTOR-%d&quot;)\r\n        .setThreadFactory(Executors.defaultThreadFactory())\r\n        .build());\r\n\r\n    long start = System.currentTimeMillis();\r\n    List&lt;CompletableFuture&lt;Customer&gt;&gt; graphQLCalls = Lists.newArrayList();\r\n    for (String id : ids) {\r\n      System.out.println(id);\r\n      graphQLCalls.add(CompletableFuture.supplyAsync(\r\n          () -&gt; graphQLService.postGraphQLQuery(id), customExecutor));\r\n    }\r\n\r\n    CompletableFuture&lt;?&gt;[] futureResultArray = graphQLCalls.toArray(new CompletableFuture&lt;?&gt;[0]);\r\n    CompletableFuture&lt;Void&gt; combinedFuture = CompletableFuture.allOf(futureResultArray);\r\n    combinedFuture.get();\r\n    LOGGER.info(&quot;Completed multiple parallel calls: &quot; + (System.currentTimeMillis() - start));\r\n```\r\n\r\nBut I am getting the following time stamps for my threads:\r\n```\r\n2023-10-03 11:55:31.647  INFO 20776 --- [ ODS-EXECUTOR-1] a.RestClient: POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :78ms\r\n2023-10-03 11:55:31.666  INFO 20776 --- [ ODS-EXECUTOR-2] a.RestClient: POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :97ms\r\n2023-10-03 11:55:31.734  INFO 20776 --- [ ODS-EXECUTOR-0] a.RestClient: POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :165ms\r\n2023-10-03 11:55:33.011  INFO 20776 --- [ ODS-EXECUTOR-3] a.RestClient: POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :1442ms\r\n```\r\n\r\n```\r\n2023-10-03 13:41:15.164  INFO 20776 --- [EXECUTOR-0] c.RestClient  : POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :194ms\r\n2023-10-03 13:41:15.330  INFO 20776 --- [EXECUTOR-2] c.RestClient  : POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :360ms\r\n2023-10-03 13:41:18.008  INFO 20776 --- [EXECUTOR-1] c.RestClient  : POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :3038ms\r\n```\r\n\r\nwhere the last request is always taking longer.\r\n\r\nAny idea on why this is the case.\r\n\r\n","title":"Java Threading with CompletableFuture Threads","body":"<p>I am trying to create <code>x</code> amount of parallel calls using the <code>CompletableFuture.supplyAsync</code> function with the below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ExecutorService customExecutor = Executors.newFixedThreadPool(5,new ThreadFactoryBuilder()\n        .setNameFormat(&quot;EXECUTOR-%d&quot;)\n        .setThreadFactory(Executors.defaultThreadFactory())\n        .build());\n\n    long start = System.currentTimeMillis();\n    List&lt;CompletableFuture&lt;Customer&gt;&gt; graphQLCalls = Lists.newArrayList();\n    for (String id : ids) {\n      System.out.println(id);\n      graphQLCalls.add(CompletableFuture.supplyAsync(\n          () -&gt; graphQLService.postGraphQLQuery(id), customExecutor));\n    }\n\n    CompletableFuture&lt;?&gt;[] futureResultArray = graphQLCalls.toArray(new CompletableFuture&lt;?&gt;[0]);\n    CompletableFuture&lt;Void&gt; combinedFuture = CompletableFuture.allOf(futureResultArray);\n    combinedFuture.get();\n    LOGGER.info(&quot;Completed multiple parallel calls: &quot; + (System.currentTimeMillis() - start));\n</code></pre>\n<p>But I am getting the following time stamps for my threads:</p>\n<pre><code>2023-10-03 11:55:31.647  INFO 20776 --- [ ODS-EXECUTOR-1] a.RestClient: POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :78ms\n2023-10-03 11:55:31.666  INFO 20776 --- [ ODS-EXECUTOR-2] a.RestClient: POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :97ms\n2023-10-03 11:55:31.734  INFO 20776 --- [ ODS-EXECUTOR-0] a.RestClient: POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :165ms\n2023-10-03 11:55:33.011  INFO 20776 --- [ ODS-EXECUTOR-3] a.RestClient: POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :1442ms\n</code></pre>\n<pre><code>2023-10-03 13:41:15.164  INFO 20776 --- [EXECUTOR-0] c.RestClient  : POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :194ms\n2023-10-03 13:41:15.330  INFO 20776 --- [EXECUTOR-2] c.RestClient  : POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :360ms\n2023-10-03 13:41:18.008  INFO 20776 --- [EXECUTOR-1] c.RestClient  : POST DOWNSTREAM SUCCESS: Time Taken by Downstream System :3038ms\n</code></pre>\n<p>where the last request is always taking longer.</p>\n<p>Any idea on why this is the case.</p>\n"},{"tags":["java","dry"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":5,"creation_date":1696336193,"post_id":77222260,"comment_id":136137214,"body_markdown":"Frame challenge - You don&#39;t need to check this inside the object. Simply make sure that your initialization code (for example a DI framework) only gives you a single instance of each object. Most DI frameworks allow you to bind something as singleton.","body":"Frame challenge - You don&#39;t need to check this inside the object. Simply make sure that your initialization code (for example a DI framework) only gives you a single instance of each object. Most DI frameworks allow you to bind something as singleton."},{"owner":{"account_id":13334183,"reputation":285,"user_id":9624535,"display_name":"404 Name Not Found"},"score":0,"creation_date":1696336560,"post_id":77222260,"comment_id":136137285,"body_markdown":"@Jorn I suppose I should mention this is a simplified example of the problem I have in my actual project, which is a Minecraft mod. I&#39;m not sure what, if any DI framework I can use in that context - thus my manual handling of everything.","body":"@Jorn I suppose I should mention this is a simplified example of the problem I have in my actual project, which is a Minecraft mod. I&#39;m not sure what, if any DI framework I can use in that context - thus my manual handling of everything."},{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":1,"creation_date":1696336574,"post_id":77222260,"comment_id":136137289,"body_markdown":"In addition to what @Jorn said, if you don&#39;t want to integrate a whole DI framework, you can also use the factory pattern to centralize the logic to provide a singleton object of the class in question. Using a factory also avoids duplication along different classes.","body":"In addition to what @Jorn said, if you don&#39;t want to integrate a whole DI framework, you can also use the factory pattern to centralize the logic to provide a singleton object of the class in question. Using a factory also avoids duplication along different classes."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1696336799,"post_id":77222260,"comment_id":136137343,"body_markdown":"Your check doesn&#39;t work in a multithreaded environment (trivially imagine 2 threads `new X()` at the same time. They both do not warn, then they both set `initialized = true`. A trivial fix is to use an `AtomicBoolean` for `initialized`, and warn at the end (try to set `initialized` to `true`. If it already ways, emit a warning).","body":"Your check doesn&#39;t work in a multithreaded environment (trivially imagine 2 threads <code>new X()</code> at the same time. They both do not warn, then they both set <code>initialized = true</code>. A trivial fix is to use an <code>AtomicBoolean</code> for <code>initialized</code>, and warn at the end (try to set <code>initialized</code> to <code>true</code>. If it already ways, emit a warning)."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1696336968,"post_id":77222260,"comment_id":136137380,"body_markdown":"@rzwitserloot As you only ever set the flag to true, `volatile` also works here.","body":"@rzwitserloot As you only ever set the flag to true, <code>volatile</code> also works here."},{"owner":{"account_id":13334183,"reputation":285,"user_id":9624535,"display_name":"404 Name Not Found"},"score":0,"creation_date":1696337221,"post_id":77222260,"comment_id":136137439,"body_markdown":"@rzwitserloot I don&#39;t think I need to handle that in the context of my actual project (Minecraft mod), since I can rely on someone else (the mod loader) to not do that.","body":"@rzwitserloot I don&#39;t think I need to handle that in the context of my actual project (Minecraft mod), since I can rely on someone else (the mod loader) to not do that."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1696337953,"post_id":77222260,"comment_id":136137585,"body_markdown":"In your abstract class approach, instead of using a single variable you could use a `Set&lt;Class&lt;?&gt;&gt;` and put the classes you&#39;ve already initialized in there. I do agree with the other comments though: it might be preferable to let a factory handle this logic if your code allows for that.","body":"In your abstract class approach, instead of using a single variable you could use a <code>Set&lt;Class&lt;?&gt;&gt;</code> and put the classes you&#39;ve already initialized in there. I do agree with the other comments though: it might be preferable to let a factory handle this logic if your code allows for that."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696340362,"post_id":77222260,"comment_id":136138112,"body_markdown":"The DI framework was just an example. You can achieve the same thing with manually written code.","body":"The DI framework was just an example. You can achieve the same thing with manually written code."}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696336935,"post_id":77222351,"comment_id":136137369,"body_markdown":"This won&#39;t work if your singleton needs dependencies of its own","body":"This won&#39;t work if your singleton needs dependencies of its own"},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1696337166,"post_id":77222351,"comment_id":136137424,"body_markdown":"@Jorn Do you mean circular references?","body":"@Jorn Do you mean circular references?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696337216,"post_id":77222351,"comment_id":136137436,"body_markdown":"Not necessarily, any dependencies will do. Because those won&#39;t be available when you initialize the class (and thus the `INSTANCE`).","body":"Not necessarily, any dependencies will do. Because those won&#39;t be available when you initialize the class (and thus the <code>INSTANCE</code>)."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1696338049,"post_id":77222351,"comment_id":136137603,"body_markdown":"@Jorn If the class that is being initialized has dependencies, but doesn&#39;t know what these dependencies are at compile time, you probably shouldn&#39;t use a singleton pattern.","body":"@Jorn If the class that is being initialized has dependencies, but doesn&#39;t know what these dependencies are at compile time, you probably shouldn&#39;t use a singleton pattern."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1696338671,"post_id":77222351,"comment_id":136137731,"body_markdown":"@Jorn If WidgetManager knows what it depends on at compile time, for example FooWidget and BarWidget, it can simply reference their INSTANCE fields and the class loader will load them first and then WidgetManager. I may not be understanding you correctly.","body":"@Jorn If WidgetManager knows what it depends on at compile time, for example FooWidget and BarWidget, it can simply reference their INSTANCE fields and the class loader will load them first and then WidgetManager. I may not be understanding you correctly."},{"owner":{"account_id":13334183,"reputation":285,"user_id":9624535,"display_name":"404 Name Not Found"},"score":0,"creation_date":1696340577,"post_id":77222351,"comment_id":136138174,"body_markdown":"`WidgetManager` does indeed know exactly what it needs at compile time, I can reference all the `*Widget` `INSTANCE`s in its private constructor. Despite the downvotes, this answer helped push me in the right direction, thank you for that.","body":"<code>WidgetManager</code> does indeed know exactly what it needs at compile time, I can reference all the <code>*Widget</code> <code>INSTANCE</code>s in its private constructor. Despite the downvotes, this answer helped push me in the right direction, thank you for that."}],"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"comment_count":6,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1696336870,"creation_date":1696336870,"answer_id":77222351,"question_id":77222260,"body_markdown":"You can make the constructor `private`, the class `final` and create exactly one instance:\r\n\r\n    public final class WidgetManager {\r\n        public static final WidgetManager INSTANCE = new WidgetManager();\r\n    \r\n        private WidgetManager() {\r\n        }\r\n    }\r\n\r\nBut I don&#39;t think you need to have singletons for listeners, just create a new instance each time, even if nothing about the instances is different.","title":"Java DRY without leaking functions","body":"<p>You can make the constructor <code>private</code>, the class <code>final</code> and create exactly one instance:</p>\n<pre><code>public final class WidgetManager {\n    public static final WidgetManager INSTANCE = new WidgetManager();\n\n    private WidgetManager() {\n    }\n}\n</code></pre>\n<p>But I don't think you need to have singletons for listeners, just create a new instance each time, even if nothing about the instances is different.</p>\n"}],"owner":{"account_id":13334183,"reputation":285,"user_id":9624535,"display_name":"404 Name Not Found"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77222351,"answer_count":1,"score":1,"last_activity_date":1696336870,"creation_date":1696336025,"question_id":77222260,"body_markdown":"Suppose I have several classes that are &quot;weak singletons&quot; - things that shouldn&#39;t be initialized more than once (registering listeners, etc.), but for whatever reason I can&#39;t make them real singletons or even static classes, so the best I can do is warn myself (or throw a `RuntimeException` I guess, but for this question&#39;s purposes it doesn&#39;t matter how I handle it).\r\n\r\n```java\r\npublic class WidgetManager {\r\n\tprivate static boolean initialized = false;\r\n\r\n\t// stuff to be initialized only once\r\n\r\n\tpublic WidgetManager() {\r\n\t\tif (initialized) Main.LOGGER.warn(&quot;Instantiating multiple instances of &quot; + getClass().getName() + &quot;!&quot;);\r\n\r\n\t\t// initialize stuff\r\n\r\n\t\tinitialized = true;\r\n\t}\r\n}\r\n```\r\n\r\nThere are several of these &quot;weak singletons&quot;, so typing them by hand gets tiring. Plus it also feels like there should be a better way to do my checks, so as not to repeat myself.\r\n\r\n```java\r\npublic class FooWidget {\r\n\tprivate static boolean initialized = false;\r\n\r\n\t// stuff\r\n\r\n\tpublic FooWidget() {\r\n\t\tif (initialized) // ...\r\n\t\t// ...\r\n\t}\r\n}\r\n\r\npublic class BarWidget {\r\n\t// this gets tiring\r\n}\r\n```\r\n\r\nPrivate functions in interfaces don&#39;t work - `private` makes the functions in it only available within the interface definition.\r\n\r\n```java\r\npublic interface WeakSingleton {\r\n\tprivate void warnReinitialization(boolean initialized) {\r\n\t\tif (initialized) Main.LOGGER.warn(&quot;...&quot;);\r\n\t}\r\n}\r\n\r\npublic class WidgetManager implements WeakSingleton {\r\n\tprivate static boolean initialized = false;\r\n\r\n\tpublic WidgetManager() {\r\n\t\twarnReinitialization(initialized); // &lt;-- Error, function not visible\r\n\r\n\t\tinitialized = true;\r\n\t}\r\n}\r\n```\r\n\r\n`default` works, but it exposes it everywhere.\r\n\r\n```java\r\npublic interface WeakSingleton {\r\n\tdefault void warnReinitialization(boolean initialized) {\r\n\t\t// ...\r\n\t}\r\n}\r\n\r\npublic class WidgetManager implements WeakSingleton {\r\n\tprivate static boolean initialized = false;\r\n\r\n\tpublic WidgetManager() {\r\n\t\twarnReinitialization(initialized); // &lt;-- Works here\r\n\r\n\t\tinitialized = true;\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew WidgetManager().warnReinitialization(); // &lt;-- Oops, the interface &quot;leaked&quot; ...\r\n\t}\r\n}\r\n```\r\n\r\nOn the surface an abstract class saved me defining the boolean and checking it:\r\n\r\n```java\r\npublic abstract class WeakSingleton {\r\n\tprotected static boolean initialized = false;\r\n\r\n\tprotected void warnReinitialization() {\r\n\t\tif (initialized) System.out.println(&quot;Warning: Reinitializing &quot; + getClass().getName() + &quot;!&quot;);\r\n\t}\r\n}\r\n\r\npublic class WidgetManager extends WeakSingleton {\r\n\tprivate FooWidget foo;\r\n\tprivate BarWidget bar;\r\n\r\n\tpublic WidgetManager() {\r\n\t\twarnReinitialization();\r\n\t\t\r\n\t\tSystem.out.println(&quot;WidgetManager ctor&quot;);\r\n\r\n\t\tinitialized = true;\r\n\t}\r\n}\r\n\r\npublic class FooWidget extends WeakSingleton {\r\n\tpublic FooWidget() {\r\n\t\twarnReinitialization();\r\n\r\n\t\tSystem.out.println(&quot;FooWidget ctor&quot;);\r\n\r\n\t\tinitialized = true;\r\n\t}\r\n}\r\n\r\npublic class BarWidget extends WeakSingleton {\r\n\tpublic BarWidget() {\r\n\t\twarnReinitialization();\r\n\r\n\t\tSystem.out.println(&quot;BarWidget ctor&quot;);\r\n\r\n\t\tfoo = new FooWidget();\r\n\t\tbar = new BarWidget();\r\n\r\n\t\tinitialized = true;\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew WidgetManager();\r\n\t}\r\n}\r\n```\r\n\r\nUnfortunately it breaks in other ways:\r\n\r\n```console\r\nuser@host:~ $ javac *\r\nuser@host:~ $ java Main\r\nWidgetManager ctor\r\nFooWidget ctor\r\nWarning: Reinitializing BarWidget!\r\nBarWidget ctor\r\nuser@host:~ $\r\n```\r\n\r\nQuestionable design aside, is there a way to achieve my goals of reducing the amount of typing I need for my check without leaking the checking function?\r\n\r\nThank you for your time.","title":"Java DRY without leaking functions","body":"<p>Suppose I have several classes that are &quot;weak singletons&quot; - things that shouldn't be initialized more than once (registering listeners, etc.), but for whatever reason I can't make them real singletons or even static classes, so the best I can do is warn myself (or throw a <code>RuntimeException</code> I guess, but for this question's purposes it doesn't matter how I handle it).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WidgetManager {\n    private static boolean initialized = false;\n\n    // stuff to be initialized only once\n\n    public WidgetManager() {\n        if (initialized) Main.LOGGER.warn(&quot;Instantiating multiple instances of &quot; + getClass().getName() + &quot;!&quot;);\n\n        // initialize stuff\n\n        initialized = true;\n    }\n}\n</code></pre>\n<p>There are several of these &quot;weak singletons&quot;, so typing them by hand gets tiring. Plus it also feels like there should be a better way to do my checks, so as not to repeat myself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooWidget {\n    private static boolean initialized = false;\n\n    // stuff\n\n    public FooWidget() {\n        if (initialized) // ...\n        // ...\n    }\n}\n\npublic class BarWidget {\n    // this gets tiring\n}\n</code></pre>\n<p>Private functions in interfaces don't work - <code>private</code> makes the functions in it only available within the interface definition.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface WeakSingleton {\n    private void warnReinitialization(boolean initialized) {\n        if (initialized) Main.LOGGER.warn(&quot;...&quot;);\n    }\n}\n\npublic class WidgetManager implements WeakSingleton {\n    private static boolean initialized = false;\n\n    public WidgetManager() {\n        warnReinitialization(initialized); // &lt;-- Error, function not visible\n\n        initialized = true;\n    }\n}\n</code></pre>\n<p><code>default</code> works, but it exposes it everywhere.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface WeakSingleton {\n    default void warnReinitialization(boolean initialized) {\n        // ...\n    }\n}\n\npublic class WidgetManager implements WeakSingleton {\n    private static boolean initialized = false;\n\n    public WidgetManager() {\n        warnReinitialization(initialized); // &lt;-- Works here\n\n        initialized = true;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        new WidgetManager().warnReinitialization(); // &lt;-- Oops, the interface &quot;leaked&quot; ...\n    }\n}\n</code></pre>\n<p>On the surface an abstract class saved me defining the boolean and checking it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class WeakSingleton {\n    protected static boolean initialized = false;\n\n    protected void warnReinitialization() {\n        if (initialized) System.out.println(&quot;Warning: Reinitializing &quot; + getClass().getName() + &quot;!&quot;);\n    }\n}\n\npublic class WidgetManager extends WeakSingleton {\n    private FooWidget foo;\n    private BarWidget bar;\n\n    public WidgetManager() {\n        warnReinitialization();\n        \n        System.out.println(&quot;WidgetManager ctor&quot;);\n\n        initialized = true;\n    }\n}\n\npublic class FooWidget extends WeakSingleton {\n    public FooWidget() {\n        warnReinitialization();\n\n        System.out.println(&quot;FooWidget ctor&quot;);\n\n        initialized = true;\n    }\n}\n\npublic class BarWidget extends WeakSingleton {\n    public BarWidget() {\n        warnReinitialization();\n\n        System.out.println(&quot;BarWidget ctor&quot;);\n\n        foo = new FooWidget();\n        bar = new BarWidget();\n\n        initialized = true;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        new WidgetManager();\n    }\n}\n</code></pre>\n<p>Unfortunately it breaks in other ways:</p>\n<pre><code>user@host:~ $ javac *\nuser@host:~ $ java Main\nWidgetManager ctor\nFooWidget ctor\nWarning: Reinitializing BarWidget!\nBarWidget ctor\nuser@host:~ $\n</code></pre>\n<p>Questionable design aside, is there a way to achieve my goals of reducing the amount of typing I need for my check without leaking the checking function?</p>\n<p>Thank you for your time.</p>\n"},{"tags":["java","web-applications","jar"],"comments":[{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":1,"creation_date":1520765643,"post_id":49219113,"comment_id":85442034,"body_markdown":"Possible duplicate of [Embedding JAR file into HTML?](https://stackoverflow.com/questions/9562092/embedding-jar-file-into-html)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/9562092/embedding-jar-file-into-html\">Embedding JAR file into HTML?</a>"},{"owner":{"account_id":8743780,"reputation":966,"user_id":6540008,"accept_rate":43,"display_name":"Ali Akbarpour"},"score":0,"creation_date":1520765715,"post_id":49219113,"comment_id":85442055,"body_markdown":"https://docs.oracle.com/javase/tutorial/deployment/applet/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/deployment/applet/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/applet</a>"},{"owner":{"account_id":7528275,"reputation":755,"user_id":5717546,"accept_rate":92,"display_name":"itsMe"},"score":0,"creation_date":1520765889,"post_id":49219113,"comment_id":85442100,"body_markdown":"But I mentioned clearly , it is a JAR","body":"But I mentioned clearly , it is a JAR"},{"owner":{"account_id":7528275,"reputation":755,"user_id":5717546,"accept_rate":92,"display_name":"itsMe"},"score":0,"creation_date":1520765910,"post_id":49219113,"comment_id":85442109,"body_markdown":"I know how to run  applet","body":"I know how to run  applet"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1520766512,"post_id":49219113,"comment_id":85442278,"body_markdown":"Err, applets are classes, and classes are bundled in jar files. So, if you know how to run an applet, that shouldn&#39;t be a problem. Note however that applets are de facto dead for years, and officially dead now. Browsers don&#39;t run them anymore. Java doesn&#39;t run in browsers anymore.","body":"Err, applets are classes, and classes are bundled in jar files. So, if you know how to run an applet, that shouldn&#39;t be a problem. Note however that applets are de facto dead for years, and officially dead now. Browsers don&#39;t run them anymore. Java doesn&#39;t run in browsers anymore."},{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1522821492,"post_id":49219113,"comment_id":86295138,"body_markdown":"@itsMe You should probably explain what are you trying to achieve with that jar. Because running jar in html makes not sense - what it will do if it is not applet? Using [GWT](http://www.gwtproject.org/) you could run jar in browser but that is only because it is compiled into javascript including some client UI code.","body":"@itsMe You should probably explain what are you trying to achieve with that jar. Because running jar in html makes not sense - what it will do if it is not applet? Using <a href=\"http://www.gwtproject.org/\" rel=\"nofollow noreferrer\">GWT</a> you could run jar in browser but that is only because it is compiled into javascript including some client UI code."}],"owner":{"account_id":7528275,"reputation":755,"user_id":5717546,"accept_rate":92,"display_name":"itsMe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4013,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1696336842,"creation_date":1520765112,"question_id":49219113,"body_markdown":"I need to run a jar inside a web app ( well in html file). I know there is applet , but i have only a jar which i need to run in html. \r\nHow to do that ?  some advice , links or anything useful is highly appreciated. I have looking for it, may be not looking for it in right way(?)\r\n\r\nThanks ","title":"Running A Jar In Browser","body":"<p>I need to run a jar inside a web app ( well in html file). I know there is applet , but i have only a jar which i need to run in html. \nHow to do that ?  some advice , links or anything useful is highly appreciated. I have looking for it, may be not looking for it in right way(?)</p>\n\n<p>Thanks </p>\n"},{"tags":["java","android","youtube-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1696339691,"post_id":77222344,"comment_id":136137966,"body_markdown":"I think thats working as intended","body":"I think thats working as intended"},{"owner":{"account_id":2075361,"reputation":363,"user_id":1848876,"accept_rate":27,"display_name":"Subramanian"},"score":0,"creation_date":1696405770,"post_id":77222344,"comment_id":136146994,"body_markdown":"@LindaLawton-DaImTo Monetization is still enabled status is showing as OFF\n\nUnable to make it as ON","body":"@LindaLawton-DaImTo Monetization is still enabled status is showing as OFF  Unable to make it as ON"}],"owner":{"account_id":2075361,"reputation":363,"user_id":1848876,"accept_rate":27,"display_name":"Subramanian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696336794,"creation_date":1696336794,"question_id":77222344,"body_markdown":"This is my Java Code to YouTube API for Live Streaming\r\n\r\n            LiveBroadcastSnippet broadcastSnippet = new LiveBroadcastSnippet();\r\n            broadcastSnippet.setTitle(name);\r\n            broadcastSnippet.setDescription(description);\r\n            broadcastSnippet.setScheduledStartTime(new DateTime(futureDate));\r\n            broadcastSnippet.set(&quot;categoryId&quot;,17);\r\n\r\n            LiveBroadcastContentDetails contentDetails = new LiveBroadcastContentDetails();\r\n            MonitorStreamInfo monitorStream = new MonitorStreamInfo();\r\n            monitorStream.setEnableMonitorStream(true);\r\n            contentDetails.setMonitorStream(monitorStream);\r\n            contentDetails.setEnableAutoStart(true);\r\n            contentDetails.setEnableAutoStop(false);\r\n            contentDetails.setEnableEmbed(true);\r\n            contentDetails.setEnableClosedCaptions(true);\r\n            // Create LiveBroadcastStatus with privacy status.\r\n            LiveBroadcastStatus status = new LiveBroadcastStatus();\r\n            status.setPrivacyStatus(&quot;public&quot;);\r\n            //status.setPrivacyStatus(&quot;unlisted&quot;);\r\n\r\n            LiveBroadcast broadcast = new LiveBroadcast();\r\n            broadcast.setKind(&quot;youtube#liveBroadcast&quot;);\r\n            broadcast.setSnippet(broadcastSnippet);\r\n            broadcast.setStatus(status);\r\n            broadcast.setContentDetails(contentDetails);\r\n\r\n            LiveBroadcastMonetizationDetails monetizationDetails = new LiveBroadcastMonetizationDetails();\r\n            CuepointSchedule cuepointSchedule = new CuepointSchedule();\r\n            cuepointSchedule.setEnabled(true);\r\n            monetizationDetails.setCuepointSchedule(cuepointSchedule);\r\n            broadcast.setMonetizationDetails(monetizationDetails);\r\n\r\n            // Create the insert request\r\n            String[] lbInsert = {&quot;snippet&quot;, &quot;status&quot;,&quot;contentDetails&quot;, &quot;monetizationDetails&quot;};\r\n\r\n            YouTube.LiveBroadcasts.Insert liveBroadcastInsert = youtube\r\n                    .liveBroadcasts().insert(Arrays.asList(lbInsert),\r\n                            broadcast);\r\n            // Request is executed and inserted broadcast is returned\r\n            LiveBroadcast returnedBroadcast = liveBroadcastInsert.execute();\r\n\r\nThis code is working fine. But the issue I am facing is, it is not enabling Monetization On (true), it is always False, I have to enable it manually.\r\n\r\nI guess this code that enables monetization for live streaming video.\r\n\r\n        LiveBroadcastMonetizationDetails monetizationDetails = new LiveBroadcastMonetizationDetails();\r\n        CuepointSchedule cuepointSchedule = new CuepointSchedule();\r\n        cuepointSchedule.setEnabled(true);\r\n        monetizationDetails.setCuepointSchedule(cuepointSchedule);\r\n        broadcast.setMonetizationDetails(monetizationDetails);\r\n\r\n        // Create the insert request\r\n        String[] lbInsert = {&quot;snippet&quot;, &quot;status&quot;,&quot;contentDetails&quot;, &quot;monetizationDetails&quot;};\r\n\r\n        YouTube.LiveBroadcasts.Insert liveBroadcastInsert = youtube\r\n                .liveBroadcasts().insert(Arrays.asList(lbInsert),\r\n                        broadcast);\r\n\r\nThis is the return value I am getting \r\n\r\n    {&quot;contentDetails&quot;:{&quot;closedCaptionsType&quot;:&quot;closedCaptionsHttpPost&quot;,&quot;enableAutoStart&quot;:true,&quot;enableAutoStop&quot;:false,&quot;enableClosedCaptions&quot;:true,&quot;enableContentEncryption&quot;:false,&quot;enableDvr&quot;:true,&quot;enableEmbed&quot;:true,&quot;enableLowLatency&quot;:false,&quot;latencyPreference&quot;:&quot;normal&quot;,&quot;monitorStream&quot;:{&quot;broadcastStreamDelayMs&quot;:0,&quot;embedHtml&quot;:&quot;&lt;iframe width=\\&quot;425\\&quot; height=\\&quot;344\\&quot; src=\\&quot;https://www.youtube.com/embed/tttt?autoplay=1&amp;livemonitor=1\\&quot; frameborder=\\&quot;0\\&quot; allow=\\&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\\&quot; allowfullscreen&gt;&lt;/iframe&gt;&quot;,&quot;enableMonitorStream&quot;:true},&quot;projection&quot;:&quot;rectangular&quot;,&quot;recordFromStart&quot;:true,&quot;startWithSlate&quot;:false},&quot;etag&quot;:&quot;WJp38q19VZEauJyCUyTVdDiVUc8&quot;,&quot;id&quot;:&quot;tttt&quot;,&quot;kind&quot;:&quot;youtube#liveBroadcast&quot;,&quot;monetizationDetails&quot;:{}\r\nLike to know whether I am doing any mistake ?","title":"YouTube API for Monetization","body":"<p>This is my Java Code to YouTube API for Live Streaming</p>\n<pre><code>        LiveBroadcastSnippet broadcastSnippet = new LiveBroadcastSnippet();\n        broadcastSnippet.setTitle(name);\n        broadcastSnippet.setDescription(description);\n        broadcastSnippet.setScheduledStartTime(new DateTime(futureDate));\n        broadcastSnippet.set(&quot;categoryId&quot;,17);\n\n        LiveBroadcastContentDetails contentDetails = new LiveBroadcastContentDetails();\n        MonitorStreamInfo monitorStream = new MonitorStreamInfo();\n        monitorStream.setEnableMonitorStream(true);\n        contentDetails.setMonitorStream(monitorStream);\n        contentDetails.setEnableAutoStart(true);\n        contentDetails.setEnableAutoStop(false);\n        contentDetails.setEnableEmbed(true);\n        contentDetails.setEnableClosedCaptions(true);\n        // Create LiveBroadcastStatus with privacy status.\n        LiveBroadcastStatus status = new LiveBroadcastStatus();\n        status.setPrivacyStatus(&quot;public&quot;);\n        //status.setPrivacyStatus(&quot;unlisted&quot;);\n\n        LiveBroadcast broadcast = new LiveBroadcast();\n        broadcast.setKind(&quot;youtube#liveBroadcast&quot;);\n        broadcast.setSnippet(broadcastSnippet);\n        broadcast.setStatus(status);\n        broadcast.setContentDetails(contentDetails);\n\n        LiveBroadcastMonetizationDetails monetizationDetails = new LiveBroadcastMonetizationDetails();\n        CuepointSchedule cuepointSchedule = new CuepointSchedule();\n        cuepointSchedule.setEnabled(true);\n        monetizationDetails.setCuepointSchedule(cuepointSchedule);\n        broadcast.setMonetizationDetails(monetizationDetails);\n\n        // Create the insert request\n        String[] lbInsert = {&quot;snippet&quot;, &quot;status&quot;,&quot;contentDetails&quot;, &quot;monetizationDetails&quot;};\n\n        YouTube.LiveBroadcasts.Insert liveBroadcastInsert = youtube\n                .liveBroadcasts().insert(Arrays.asList(lbInsert),\n                        broadcast);\n        // Request is executed and inserted broadcast is returned\n        LiveBroadcast returnedBroadcast = liveBroadcastInsert.execute();\n</code></pre>\n<p>This code is working fine. But the issue I am facing is, it is not enabling Monetization On (true), it is always False, I have to enable it manually.</p>\n<p>I guess this code that enables monetization for live streaming video.</p>\n<pre><code>    LiveBroadcastMonetizationDetails monetizationDetails = new LiveBroadcastMonetizationDetails();\n    CuepointSchedule cuepointSchedule = new CuepointSchedule();\n    cuepointSchedule.setEnabled(true);\n    monetizationDetails.setCuepointSchedule(cuepointSchedule);\n    broadcast.setMonetizationDetails(monetizationDetails);\n\n    // Create the insert request\n    String[] lbInsert = {&quot;snippet&quot;, &quot;status&quot;,&quot;contentDetails&quot;, &quot;monetizationDetails&quot;};\n\n    YouTube.LiveBroadcasts.Insert liveBroadcastInsert = youtube\n            .liveBroadcasts().insert(Arrays.asList(lbInsert),\n                    broadcast);\n</code></pre>\n<p>This is the return value I am getting</p>\n<pre><code>{&quot;contentDetails&quot;:{&quot;closedCaptionsType&quot;:&quot;closedCaptionsHttpPost&quot;,&quot;enableAutoStart&quot;:true,&quot;enableAutoStop&quot;:false,&quot;enableClosedCaptions&quot;:true,&quot;enableContentEncryption&quot;:false,&quot;enableDvr&quot;:true,&quot;enableEmbed&quot;:true,&quot;enableLowLatency&quot;:false,&quot;latencyPreference&quot;:&quot;normal&quot;,&quot;monitorStream&quot;:{&quot;broadcastStreamDelayMs&quot;:0,&quot;embedHtml&quot;:&quot;&lt;iframe width=\\&quot;425\\&quot; height=\\&quot;344\\&quot; src=\\&quot;https://www.youtube.com/embed/tttt?autoplay=1&amp;livemonitor=1\\&quot; frameborder=\\&quot;0\\&quot; allow=\\&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\\&quot; allowfullscreen&gt;&lt;/iframe&gt;&quot;,&quot;enableMonitorStream&quot;:true},&quot;projection&quot;:&quot;rectangular&quot;,&quot;recordFromStart&quot;:true,&quot;startWithSlate&quot;:false},&quot;etag&quot;:&quot;WJp38q19VZEauJyCUyTVdDiVUc8&quot;,&quot;id&quot;:&quot;tttt&quot;,&quot;kind&quot;:&quot;youtube#liveBroadcast&quot;,&quot;monetizationDetails&quot;:{}\n</code></pre>\n<p>Like to know whether I am doing any mistake ?</p>\n"},{"tags":["java","slf4j"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1696371808,"post_id":77222295,"comment_id":136143828,"body_markdown":"Try to add those dependency in your pom:\n\t\t\t&lt;dependency&gt;\n\t\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n\t\t\t    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n\t\t\t    &lt;version&gt;${slf4j-api.version}&lt;/version&gt;\n\t\t\t&lt;/dependency&gt;\n\t\t\t&lt;dependency&gt;\n\t\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n\t\t\t    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n\t\t\t    &lt;version&gt;${slf4j-api.version}&lt;/version&gt;\n\t\t\t&lt;/dependency&gt;\n\t\t\t&lt;dependency&gt;\n\t\t    \t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\t\t    \t    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n\t\t    \t    &lt;version&gt;${log4j-slf4j-impl.version}&lt;/version&gt;\n\t\t        &lt;/dependency&gt;","body":"Try to add those dependency in your pom: \t\t\t&lt;dependency&gt; \t\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt; \t\t\t    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; \t\t\t    &lt;version&gt;${slf4j-api.version}&lt;/version&gt; \t\t\t&lt;/dependency&gt; \t\t\t&lt;dependency&gt; \t\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt; \t\t\t    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt; \t\t\t    &lt;version&gt;${slf4j-api.version}&lt;/version&gt; \t\t\t&lt;/dependency&gt; \t\t\t&lt;dependency&gt; \t\t    \t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \t\t    \t    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt; \t\t    \t    &lt;version&gt;${log4j-slf4j-impl.version}&lt;/version&gt; \t\t        &lt;/dependency&gt;"}],"owner":{"account_id":2372691,"reputation":83,"user_id":2076936,"accept_rate":43,"display_name":"tarik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696336307,"creation_date":1696336307,"question_id":77222295,"body_markdown":"There are a lot of solutions for this on the web and in StackOverflow.   \r\nI have implemented them (at least I tried): Without success.   \r\nThe idea I understood I just have to have the right classes from sfl4j.   \r\nAs the instruction at https://www.slf4j.org/codes.html#StaticLoggerBinder tells, \r\n\r\n&gt; &quot;Placing one (and only one) of slf4j-nop.jar slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem&quot;\r\n \r\nSome other instructions call for making the &quot;api&quot; class available.   \r\nI tried different combinations, but something I got wrong - the problem is not solved yet. \r\nI dealt with:    \r\nslf4j-api-2.0.9.jar   \r\nslf4j-simple-2.0.9.jar   \r\nslf4j-reload4j-2.0.9.jar   \r\nslf4j-log4j12.jar   \r\nslf4j-jdk14-2.0.9.jar   \r\nlog4j-1.2-api-2.20.0.jar   \r\nAs I m using simples eclipse without add-ons, I just added the jar files to classpath (Project Properties - Java Build Path - Libraries).   \r\nHere is the resulting classpath currently in use:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;/jchart2d/jchart2d-3.2.2.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;E:/Documents/Java WS/jssc/jssc-2.9.5.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;E:/Documents/Java WS/Lkmt/slf4j-api-2.0.9.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;E:/Documents/Java WS/Lkmt/slf4j-simple-2.0.9.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n&lt;/classpath&gt;```   \r\n\r\nIt could be it&#39;s more of an eclipse build issue, less than a slf4j issue.   \r\nBTW, the logger is not needed by my design, but by the external lib jssc-2.9.5.jar.\r\n\r\nAny ideas?\r\nThanks - Tarik\r\n","title":"SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot; (Eclipse IDE)","body":"<p>There are a lot of solutions for this on the web and in StackOverflow.<br />\nI have implemented them (at least I tried): Without success.<br />\nThe idea I understood I just have to have the right classes from sfl4j.<br />\nAs the instruction at <a href=\"https://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html#StaticLoggerBinder</a> tells,</p>\n<blockquote>\n<p>&quot;Placing one (and only one) of slf4j-nop.jar slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem&quot;</p>\n</blockquote>\n<p>Some other instructions call for making the &quot;api&quot; class available.<br />\nI tried different combinations, but something I got wrong - the problem is not solved yet.\nI dealt with:<br />\nslf4j-api-2.0.9.jar<br />\nslf4j-simple-2.0.9.jar<br />\nslf4j-reload4j-2.0.9.jar<br />\nslf4j-log4j12.jar<br />\nslf4j-jdk14-2.0.9.jar<br />\nlog4j-1.2-api-2.20.0.jar<br />\nAs I m using simples eclipse without add-ons, I just added the jar files to classpath (Project Properties - Java Build Path - Libraries).<br />\nHere is the resulting classpath currently in use:</p>\n<pre><code>&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/jchart2d/jchart2d-3.2.2.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;E:/Documents/Java WS/jssc/jssc-2.9.5.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;E:/Documents/Java WS/Lkmt/slf4j-api-2.0.9.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;E:/Documents/Java WS/Lkmt/slf4j-simple-2.0.9.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;```   \n\nIt could be it's more of an eclipse build issue, less than a slf4j issue.   \nBTW, the logger is not needed by my design, but by the external lib jssc-2.9.5.jar.\n\nAny ideas?\nThanks - Tarik\n</code></pre>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":7236580,"reputation":16360,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"score":0,"creation_date":1507564274,"post_id":46650268,"comment_id":80249758,"body_markdown":"You can just mock `SpringApplication` class using mockito and verify it has been called with the correct arguments when you are executing the main `method`","body":"You can just mock <code>SpringApplication</code> class using mockito and verify it has been called with the correct arguments when you are executing the main <code>method</code>"},{"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"score":0,"creation_date":1529066979,"post_id":46650268,"comment_id":88753486,"body_markdown":"See also jacoco gradle solution: https://stackoverflow.com/a/43196918/907576","body":"See also jacoco gradle solution: <a href=\"https://stackoverflow.com/a/43196918/907576\">stackoverflow.com/a/43196918/907576</a>"}],"answers":[{"tags":[],"owner":{"account_id":8186124,"reputation":4869,"user_id":6161898,"display_name":"fg78nc"},"comment_count":0,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1507564364,"creation_date":1507564364,"answer_id":46650435,"question_id":46650268,"body_markdown":"You can do something like this\r\n\r\n    @Test\r\n    public void applicationContextLoaded() {\r\n    }\r\n\r\n    @Test\r\n    public void applicationContextTest() {\r\n        mainApp.main(new String[] {});\r\n    }","title":"How to test main class of Spring-boot application","body":"<p>You can do something like this</p>\n\n<pre><code>@Test\npublic void applicationContextLoaded() {\n}\n\n@Test\npublic void applicationContextTest() {\n    mainApp.main(new String[] {});\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1614369552,"post_id":47424033,"comment_id":117374424,"body_markdown":"This solution doesn&#39;t give me any coverage in Jacoco.","body":"This solution doesn&#39;t give me any coverage in Jacoco."}],"tags":[],"owner":{"account_id":1879942,"reputation":131,"user_id":1700373,"display_name":"marcpa00"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1566095943,"creation_date":1511304429,"answer_id":47424033,"question_id":46650268,"body_markdown":"I had the same goal (having a test that runs the main() method) and I noticed that simply adding a test method like @fg78nc said will in fact &quot;start&quot; the application twice : once by spring boot test framework, once via the explicit invocation of `mainApp.main(new String[] {})`, which I don&#39;t find elegant.\r\n\r\nI ended up writing two test classes : one with `@SpringBootTest` annotation and the empty test method _applicationContextLoaded()_, another one without `@SpringBootTest` (only `RunWith(SpringRunner.class)`) that calls the main method.\r\n\r\n\r\n**SpringBootApplicationTest**\r\n\r\n    package example;\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class SpringBootApplicationTest {\r\n    \r\n      @Test\r\n      public void contextLoads() {\r\n      }\r\n    }\r\n\r\n**ApplicationStartTest**\r\n\r\n    package example;\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class ApplicationStartTest {\r\n      @Test\r\n      public void applicationStarts() {\r\n\t    ExampleApplication.main(new String[] {});\r\n      }\r\n    }\r\n\r\nOverall, the application is still started two times, but because there is now two test classes. Of course, with only these two tests methods, it seems overkill, but usually more tests will be added to the class `SpringBootApplicationTest` taking advantage of `@SpringBootTest` setup.","title":"How to test main class of Spring-boot application","body":"<p>I had the same goal (having a test that runs the main() method) and I noticed that simply adding a test method like @fg78nc said will in fact \"start\" the application twice : once by spring boot test framework, once via the explicit invocation of <code>mainApp.main(new String[] {})</code>, which I don't find elegant.</p>\n\n<p>I ended up writing two test classes : one with <code>@SpringBootTest</code> annotation and the empty test method <em>applicationContextLoaded()</em>, another one without <code>@SpringBootTest</code> (only <code>RunWith(SpringRunner.class)</code>) that calls the main method.</p>\n\n<p><strong>SpringBootApplicationTest</strong></p>\n\n<pre><code>package example;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class SpringBootApplicationTest {\n\n  @Test\n  public void contextLoads() {\n  }\n}\n</code></pre>\n\n<p><strong>ApplicationStartTest</strong></p>\n\n<pre><code>package example;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\npublic class ApplicationStartTest {\n  @Test\n  public void applicationStarts() {\n    ExampleApplication.main(new String[] {});\n  }\n}\n</code></pre>\n\n<p>Overall, the application is still started two times, but because there is now two test classes. Of course, with only these two tests methods, it seems overkill, but usually more tests will be added to the class <code>SpringBootApplicationTest</code> taking advantage of <code>@SpringBootTest</code> setup.</p>\n"},{"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":14,"creation_date":1521445305,"post_id":49345638,"comment_id":85715755,"body_markdown":"yeah you are right. Just wanted to make the tool happy. Thanks for your useful workarounds.","body":"yeah you are right. Just wanted to make the tool happy. Thanks for your useful workarounds."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":2,"creation_date":1521495483,"post_id":49345638,"comment_id":85746681,"body_markdown":"You are very welcome :) And thanks for this interesting question :)","body":"You are very welcome :) And thanks for this interesting question :)"},{"owner":{"account_id":6512308,"reputation":186,"user_id":5039145,"accept_rate":10,"display_name":"Rohit"},"score":2,"creation_date":1528281948,"post_id":49345638,"comment_id":88445219,"body_markdown":"@davidxxx I used the same approach and working fine as well. But SonarQube says that method annotated with Test should have at least one assert method. What can be used here. Please suggest.","body":"@davidxxx I used the same approach and working fine as well. But SonarQube says that method annotated with Test should have at least one assert method. What can be used here. Please suggest."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":8,"creation_date":1528282911,"post_id":49345638,"comment_id":88445875,"body_markdown":"@ Rohit You could add a silly assertion such as `Assert.assertTrue(true, &quot;silly assertion to be compliant with Sonar&quot;)`","body":"@ Rohit You could add a silly assertion such as <code>Assert.assertTrue(true, &quot;silly assertion to be compliant with Sonar&quot;)</code>"},{"owner":{"account_id":1362594,"reputation":6622,"user_id":1299675,"accept_rate":69,"display_name":"Sam Su"},"score":2,"creation_date":1528946082,"post_id":49345638,"comment_id":88701139,"body_markdown":"I use your second workaround, and it will start a real spring-boot application (in my case which costs almost 20 seconds) and try to connect to a real database defined in in yaml file (which might not be connected successfully everytime)","body":"I use your second workaround, and it will start a real spring-boot application (in my case which costs almost 20 seconds) and try to connect to a real database defined in in yaml file (which might not be connected successfully everytime)"},{"owner":{"account_id":4845615,"reputation":1065,"user_id":3909315,"accept_rate":33,"display_name":"Thiagarajan Ramanathan"},"score":0,"creation_date":1561148543,"post_id":49345638,"comment_id":99983216,"body_markdown":"I keep getting - org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myApiController&#39;: Unsatisfied dependency expressed through field &#39;myBusinessImpl&#39;  | Could not resolve placeholder &#39;http.client.connection.timeout&#39; in value &quot;${http.client.connection.timeout}&quot;. I tried adding @TestPropertySource(&quot;classpath:test-manifest.yml&quot;) above my test class but still it is not working","body":"I keep getting - org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;myApiController&#39;: Unsatisfied dependency expressed through field &#39;myBusinessImpl&#39;  | Could not resolve placeholder &#39;http.client.connection.timeout&#39; in value &quot;${http.client.connection.timeout}&quot;. I tried adding @TestPropertySource(&quot;classpath:test-manifest.yml&quot;) above my test class but still it is not working"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1561149212,"post_id":49345638,"comment_id":99983428,"body_markdown":"I am afraid that your issue needs a specific post because its resolution requires to have more information (the maven layout, which works, which doesn&#39;t work, what you tried so far).","body":"I am afraid that your issue needs a specific post because its resolution requires to have more information (the maven layout, which works, which doesn&#39;t work, what you tried so far)."},{"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"score":0,"creation_date":1630629922,"post_id":49345638,"comment_id":122015802,"body_markdown":"True. I was using `@SpringBootTest` a lot in my unit test until I found it takes time for loading.","body":"True. I was using <code>@SpringBootTest</code> a lot in my unit test until I found it takes time for loading."},{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1638192361,"post_id":49345638,"comment_id":124014970,"body_markdown":"I don&#39;t think this answer is correct. It&#39;s going to start up the entire container, and if that container is a web based one the test may never end. The question is just about testing the main method for coverage, so the best way of doing this is just to exclude it from the coverage analysis, because, as you pointed out the test is pointless.","body":"I don&#39;t think this answer is correct. It&#39;s going to start up the entire container, and if that container is a web based one the test may never end. The question is just about testing the main method for coverage, so the best way of doing this is just to exclude it from the coverage analysis, because, as you pointed out the test is pointless."},{"owner":{"account_id":1999698,"reputation":148,"user_id":1920108,"display_name":"bladefist"},"score":0,"creation_date":1663078722,"post_id":49345638,"comment_id":130151683,"body_markdown":"for anyone reading this answer in 2022: just bypass this class via sonar config:\nsonar.exclusions=path/to/file/ElectronicGiftCardApplicationApp.java","body":"for anyone reading this answer in 2022: just bypass this class via sonar config: sonar.exclusions=path/to/file/ElectronicGiftCardApplicationA&zwnj;&#8203;pp.java"},{"owner":{"account_id":3660787,"reputation":351,"user_id":3050664,"display_name":"Ryan Deschamps"},"score":0,"creation_date":1679511695,"post_id":49345638,"comment_id":133737035,"body_markdown":"A good standard approach would be `Assertions.assertDoesNotThrow(() -&gt; MyApplication.main(new String[]{}));` It gives a hint as to how to test main if parameters are included somehow as well.","body":"A good standard approach would be <code>Assertions.assertDoesNotThrow(() -&gt; MyApplication.main(new String[]{}));</code> It gives a hint as to how to test main if parameters are included somehow as well."},{"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"score":0,"creation_date":1692210944,"post_id":49345638,"comment_id":135594136,"body_markdown":"`useMainMethod=ALWAYS` is a much better solution as per https://stackoverflow.com/a/75896841/443422","body":"<code>useMainMethod=ALWAYS</code> is a much better solution as per <a href=\"https://stackoverflow.com/a/75896841/443422\">stackoverflow.com/a/75896841/443422</a>"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":12,"down_vote_count":3,"up_vote_count":131,"is_accepted":true,"score":128,"last_activity_date":1533892914,"creation_date":1521359329,"answer_id":49345638,"question_id":46650268,"body_markdown":"All these answers seem overkill.  \r\nYou don&#39;t add tests to make a metric tool happy.  \r\nLoading a Spring context of the application **takes time**. Don&#39;t add it in each developer build just to win about 0.1% of coverage in your application.  \r\nHere **you don&#39;t cover only 1 statement** from 1 public method. It represents nothing in terms of coverage in an application where **thousands of statements are generally written**.    \r\n\r\nFirst workaround : make your Spring Boot application class with no bean declared inside. If you have them, move them in a configuration class (for make them still cover by unit test). And then ignore your Spring Boot application class in the [test coverage configuration.][1]\r\n\r\nSecond workaround : if you really need to to cover the `main()` invocation (for organizational reasons for example), create a test for it but an integration test (executed by an continuous integration tool and not in each developer build) and document clearly the test class purpose :\r\n\r\n\r\n    import org.junit.Test;\r\n    \r\n    // Test class added ONLY to cover main() invocation not covered by application tests.\r\n    public class MyApplicationIT {\r\n       @Test\r\n       public void main() {\r\n          MyApplication.main(new String[] {});\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12135939/how-to-make-sonar-ignore-some-classes-for-codecoverage-metric/27133765","title":"How to test main class of Spring-boot application","body":"<p>All these answers seem overkill.<br>\nYou don't add tests to make a metric tool happy.<br>\nLoading a Spring context of the application <strong>takes time</strong>. Don't add it in each developer build just to win about 0.1% of coverage in your application.<br>\nHere <strong>you don't cover only 1 statement</strong> from 1 public method. It represents nothing in terms of coverage in an application where <strong>thousands of statements are generally written</strong>.    </p>\n\n<p>First workaround : make your Spring Boot application class with no bean declared inside. If you have them, move them in a configuration class (for make them still cover by unit test). And then ignore your Spring Boot application class in the <a href=\"https://stackoverflow.com/questions/12135939/how-to-make-sonar-ignore-some-classes-for-codecoverage-metric/27133765\">test coverage configuration.</a></p>\n\n<p>Second workaround : if you really need to to cover the <code>main()</code> invocation (for organizational reasons for example), create a test for it but an integration test (executed by an continuous integration tool and not in each developer build) and document clearly the test class purpose :</p>\n\n<pre><code>import org.junit.Test;\n\n// Test class added ONLY to cover main() invocation not covered by application tests.\npublic class MyApplicationIT {\n   @Test\n   public void main() {\n      MyApplication.main(new String[] {});\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2580726,"reputation":1066,"user_id":2237474,"display_name":"Mariano LEANCE"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521742097,"creation_date":1521740843,"answer_id":49435286,"question_id":46650268,"body_markdown":"    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;your.awesome.package.Application&lt;/mainClass&gt; \r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIf you aim for 100% coverage, one thing you can do is simply not having a main method at all. You still require a class annotated with `@SpringBootApplication` but it can be empty.\r\n\r\nBe warned though as it has its drawbacks and other tools that rely on `main` can break.","title":"How to test main class of Spring-boot application","body":"<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;your.awesome.package.Application&lt;/mainClass&gt; \n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>If you aim for 100% coverage, one thing you can do is simply not having a main method at all. You still require a class annotated with <code>@SpringBootApplication</code> but it can be empty.</p>\n\n<p>Be warned though as it has its drawbacks and other tools that rely on <code>main</code> can break.</p>\n"},{"comments":[{"owner":{"account_id":11214877,"reputation":141,"user_id":8227834,"display_name":"Radhesh Khanna"},"score":0,"creation_date":1598283357,"post_id":56585997,"comment_id":112401257,"body_markdown":"Its just simply `verifyStatic()`, without passing any arguments","body":"Its just simply <code>verifyStatic()</code>, without passing any arguments"}],"tags":[],"owner":{"account_id":1658694,"reputation":1592,"user_id":1527469,"display_name":"awgtek"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560448009,"creation_date":1560448009,"answer_id":56585997,"question_id":46650268,"body_markdown":"You can Mock `SpringApplication` since that is a dependency of the method under test. See how [here][1].\r\nI.e.\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    \r\n    import static org.powermock.api.mockito.PowerMockito.mockStatic;\r\n    import static org.powermock.api.mockito.PowerMockito.verifyStatic;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    public class ElectronicGiftcardServiceApplicationTest {\r\n    \r\n        @Test\r\n        @PrepareForTest(SpringApplication.class)\r\n        public void main() {\r\n            mockStatic(SpringApplication.class);\r\n            ElectronicGiftcardServiceApplication.main(new String[]{&quot;Hello&quot;, &quot;World&quot;});\r\n            verifyStatic(SpringApplication.class);\r\n            SpringApplication.run(ElectronicGiftcardServiceApplication.class, new String[]{&quot;Hello&quot;, &quot;World&quot;});\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://github.com/torstenwalter/spring-starter/blob/master/src/test/java/de/torstenwalter/spring/starter/StarterMockTest.java\r\n","title":"How to test main class of Spring-boot application","body":"<p>You can Mock <code>SpringApplication</code> since that is a dependency of the method under test. See how <a href=\"https://github.com/torstenwalter/spring-starter/blob/master/src/test/java/de/torstenwalter/spring/starter/StarterMockTest.java\" rel=\"nofollow noreferrer\">here</a>.\nI.e.</p>\n\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.springframework.boot.SpringApplication;\n\nimport static org.powermock.api.mockito.PowerMockito.mockStatic;\nimport static org.powermock.api.mockito.PowerMockito.verifyStatic;\n\n@RunWith(PowerMockRunner.class)\npublic class ElectronicGiftcardServiceApplicationTest {\n\n    @Test\n    @PrepareForTest(SpringApplication.class)\n    public void main() {\n        mockStatic(SpringApplication.class);\n        ElectronicGiftcardServiceApplication.main(new String[]{\"Hello\", \"World\"});\n        verifyStatic(SpringApplication.class);\n        SpringApplication.run(ElectronicGiftcardServiceApplication.class, new String[]{\"Hello\", \"World\"});\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1614446218,"post_id":61945142,"comment_id":117390398,"body_markdown":"Interesting idea.  I&#39;ll try it.","body":"Interesting idea.  I&#39;ll try it."},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":0,"creation_date":1658297597,"post_id":61945142,"comment_id":129013391,"body_markdown":"Thanks this is what we need rather than just making tool happy, we need to tell tool to ignore it","body":"Thanks this is what we need rather than just making tool happy, we need to tell tool to ignore it"}],"tags":[],"owner":{"account_id":424779,"reputation":3166,"user_id":804976,"accept_rate":92,"display_name":"Polyana Fontes"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1590101861,"creation_date":1590101861,"answer_id":61945142,"question_id":46650268,"body_markdown":"I solved in a different way here. Since this method is there only as a bridge to Spring&#39;s run, I annotated the method with `@lombok.Generated` and now sonar ignores it when calculating the test coverage.\r\n\r\nOther `@Generated` annotations, like `javax.annotation.processing.Generated` or `javax.annotation.Generated` might also work but I can&#39;t test now because my issue ticket was closed.\r\n\r\n```java\r\npackage com.stackoverflow;\r\n\r\nimport lombok.Generated;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n    @Generated\r\n    public static void main(String... args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```","title":"How to test main class of Spring-boot application","body":"<p>I solved in a different way here. Since this method is there only as a bridge to Spring's run, I annotated the method with <code>@lombok.Generated</code> and now sonar ignores it when calculating the test coverage.</p>\n\n<p>Other <code>@Generated</code> annotations, like <code>javax.annotation.processing.Generated</code> or <code>javax.annotation.Generated</code> might also work but I can't test now because my issue ticket was closed.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow;\n\nimport lombok.Generated;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    @Generated\n    public static void main(String... args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370719,"reputation":3063,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601107818,"creation_date":1601107498,"answer_id":64075316,"question_id":46650268,"body_markdown":"Even though this question has been answered extensively I had a use case that is not covered here that is perhaps interesting to share. I am validating some properties at startup and I wanted to assert that the application would fail to start if these properties were configured wrong. In JUnit4 I could have done something like this:\r\n\r\n    @ActiveProfiles(&quot;incorrect&quot;)\r\n    @SpringBoot\r\n    public class NetworkProbeApplicationTest {\r\n    \r\n        @Test(expected=ConfigurationPropertiesBindException.class)\r\n        public void contextShouldNotLoadWhenPropertiesIncorrect() {\r\n        }\r\n    }\r\n\r\nBut in JUnit5 you can no longer add the &quot;expected&quot; value to your @Test annotation and you have to do it differently. And since I wanted to start the application with an incorrect set of properties I needed to pass in which profile to use as a main() argument. I could not really find this documented anywhere, but passing in arguments through the main() method requires you to prefix your arguments with a double hyphen and separate the key and value with an equals sign. A complete test would look like this:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.context.properties.ConfigurationPropertiesBindException;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    public class NetworkProbeApplicationTest {\r\n    \r\n        @Test\r\n        public void contextShouldNotLoadWhenPropertiesIncorrect() {\r\n            Exception exception = assertThrows(ConfigurationPropertiesBindException.class, () -&gt; {\r\n                SpringApplication.run(NetworkProbeApplication.class, &quot;--spring.profiles.active=incorrect&quot;);\r\n            });\r\n    \r\n            String expectedMessage = &quot;Error creating bean with name &#39;dnsConfiguration&#39;: Could not bind properties to &#39;DnsConfiguration&#39; : prefix=dns&quot;;\r\n    \r\n            assertTrue(exception.getMessage().contains(expectedMessage));\r\n        }\r\n    }","title":"How to test main class of Spring-boot application","body":"<p>Even though this question has been answered extensively I had a use case that is not covered here that is perhaps interesting to share. I am validating some properties at startup and I wanted to assert that the application would fail to start if these properties were configured wrong. In JUnit4 I could have done something like this:</p>\n<pre><code>@ActiveProfiles(&quot;incorrect&quot;)\n@SpringBoot\npublic class NetworkProbeApplicationTest {\n\n    @Test(expected=ConfigurationPropertiesBindException.class)\n    public void contextShouldNotLoadWhenPropertiesIncorrect() {\n    }\n}\n</code></pre>\n<p>But in JUnit5 you can no longer add the &quot;expected&quot; value to your @Test annotation and you have to do it differently. And since I wanted to start the application with an incorrect set of properties I needed to pass in which profile to use as a main() argument. I could not really find this documented anywhere, but passing in arguments through the main() method requires you to prefix your arguments with a double hyphen and separate the key and value with an equals sign. A complete test would look like this:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.context.properties.ConfigurationPropertiesBindException;\n\nimport static org.junit.jupiter.api.Assertions.assertThrows;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\npublic class NetworkProbeApplicationTest {\n\n    @Test\n    public void contextShouldNotLoadWhenPropertiesIncorrect() {\n        Exception exception = assertThrows(ConfigurationPropertiesBindException.class, () -&gt; {\n            SpringApplication.run(NetworkProbeApplication.class, &quot;--spring.profiles.active=incorrect&quot;);\n        });\n\n        String expectedMessage = &quot;Error creating bean with name 'dnsConfiguration': Could not bind properties to 'DnsConfiguration' : prefix=dns&quot;;\n\n        assertTrue(exception.getMessage().contains(expectedMessage));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1614446174,"post_id":64532652,"comment_id":117390387,"body_markdown":"Powermockito is no longer necessary.  Mockito 3.4+  can do that I think.","body":"Powermockito is no longer necessary.  Mockito 3.4+  can do that I think."},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1663073283,"post_id":64532652,"comment_id":130149231,"body_markdown":"@djangofan How?","body":"@djangofan How?"}],"tags":[],"owner":{"account_id":9134977,"reputation":121,"user_id":6794989,"display_name":"Ramji"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603695444,"creation_date":1603695444,"answer_id":64532652,"question_id":46650268,"body_markdown":"This simple mock test for SpringApplication does not invoke any methods but just tests the starter app. [uses PowerMockRunner.class]\r\n\r\n```\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PowerMockIgnore;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\nimport org.springframework.boot.SpringApplication;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({&quot;com.sun.org.apache.xerces.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;javax.management.*&quot;})\r\npublic class JobsAppStarterTest {\r\n\r\n\t@Test\r\n\t@PrepareForTest(SpringApplication.class)\r\n\tpublic void testSpringStartUp() {\r\n\t\tPowerMockito.mockStatic(SpringApplication.class);\r\n\t\tSpringApplication.run(JobsAppStarter.class, new String[] {&quot;args&quot;});\r\n\t\tJobsAppStarter.main(new String[] {&quot;args&quot;});\r\n\t}\r\n}\r\n```\r\n","title":"How to test main class of Spring-boot application","body":"<p>This simple mock test for SpringApplication does not invoke any methods but just tests the starter app. [uses PowerMockRunner.class]</p>\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PowerMockIgnore;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.springframework.boot.SpringApplication;\n\n@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({&quot;com.sun.org.apache.xerces.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;javax.management.*&quot;})\npublic class JobsAppStarterTest {\n\n    @Test\n    @PrepareForTest(SpringApplication.class)\n    public void testSpringStartUp() {\n        PowerMockito.mockStatic(SpringApplication.class);\n        SpringApplication.run(JobsAppStarter.class, new String[] {&quot;args&quot;});\n        JobsAppStarter.main(new String[] {&quot;args&quot;});\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"score":0,"creation_date":1692382209,"post_id":65077913,"comment_id":135620385,"body_markdown":"Thanks, @Valentjin! This is the only thing that worked for me.","body":"Thanks, @Valentjin! This is the only thing that worked for me."}],"tags":[],"owner":{"account_id":12444286,"reputation":119,"user_id":9061013,"display_name":"Valentijn"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1614446275,"creation_date":1606755648,"answer_id":65077913,"question_id":46650268,"body_markdown":"In addition to the answers above, here is a unit test of a SpringBoot application&#39;s main method for if you are using JUnit 5 and Mockito 3.4+:\r\n```\r\ntry (MockedStatic&lt;SpringApplication&gt; mocked = mockStatic(SpringApplication.class)) {\r\n\t\t\t\r\n   mocked.when(() -&gt; { SpringApplication.run(ElectronicGiftCardServiceApplication.class, \r\n      new String[] { &quot;foo&quot;, &quot;bar&quot; }); })\r\n\t     .thenReturn(Mockito.mock(ConfigurableApplicationContext.class));\r\n\t\t\t\r\n   ElectronicGiftCardServiceApplication.main(new String[] { &quot;foo&quot;, &quot;bar&quot; });\r\n\t\t\t\r\n   mocked.verify(() -&gt; { SpringApplication.run(ElectronicGiftCardServiceApplication.class, \r\n      new String[] { &quot;foo&quot;, &quot;bar&quot; }); });\r\n\r\n}\t\r\n```\r\n\r\nIt verifies that the static method run() on the SpringApplication class is called with the expected String array when we call ElectronicGiftCardServiceApplication.main().\r\n\r\nSame idea as awgtek and Ramji Sridaran, but their solutions are for JUnit 4.","title":"How to test main class of Spring-boot application","body":"<p>In addition to the answers above, here is a unit test of a SpringBoot application's main method for if you are using JUnit 5 and Mockito 3.4+:</p>\n<pre><code>try (MockedStatic&lt;SpringApplication&gt; mocked = mockStatic(SpringApplication.class)) {\n            \n   mocked.when(() -&gt; { SpringApplication.run(ElectronicGiftCardServiceApplication.class, \n      new String[] { &quot;foo&quot;, &quot;bar&quot; }); })\n         .thenReturn(Mockito.mock(ConfigurableApplicationContext.class));\n            \n   ElectronicGiftCardServiceApplication.main(new String[] { &quot;foo&quot;, &quot;bar&quot; });\n            \n   mocked.verify(() -&gt; { SpringApplication.run(ElectronicGiftCardServiceApplication.class, \n      new String[] { &quot;foo&quot;, &quot;bar&quot; }); });\n\n}   \n</code></pre>\n<p>It verifies that the static method run() on the SpringApplication class is called with the expected String array when we call ElectronicGiftCardServiceApplication.main().</p>\n<p>Same idea as awgtek and Ramji Sridaran, but their solutions are for JUnit 4.</p>\n"},{"comments":[{"owner":{"account_id":1189631,"reputation":139,"user_id":1162778,"display_name":"alexjosesilva"},"score":0,"creation_date":1677820271,"post_id":71257280,"comment_id":133416595,"body_markdown":"functions perfect!","body":"functions perfect!"}],"tags":[],"owner":{"account_id":17309925,"reputation":402,"user_id":12537799,"display_name":"Siddharth Vaish"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1645730948,"creation_date":1645730948,"answer_id":71257280,"question_id":46650268,"body_markdown":"Using junit \r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.boot.SpringApplication;\r\n\r\nimport static org.assertj.core.api.Assertions.*;\r\nclass WebsiteApplicationTests {\r\n    \r\n    @Test\r\n    void testApplication() {\r\n        MockedStatic&lt;SpringApplication&gt; utilities = Mockito.mockStatic(SpringApplication.class);\r\n        utilities.when((MockedStatic.Verification) SpringApplication.run(WebsiteApplication.class, new String[]{})).thenReturn(null);\r\n        WebsiteApplication.main(new String[]{});\r\n        assertThat(SpringApplication.run(WebsiteApplication.class, new String[]{})).isEqualTo(null);\r\n    }\r\n}\r\n```\r\nAdd these dependencies in `pom.xml`\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mockito.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"How to test main class of Spring-boot application","body":"<p>Using junit</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\nimport org.springframework.boot.SpringApplication;\n\nimport static org.assertj.core.api.Assertions.*;\nclass WebsiteApplicationTests {\n    \n    @Test\n    void testApplication() {\n        MockedStatic&lt;SpringApplication&gt; utilities = Mockito.mockStatic(SpringApplication.class);\n        utilities.when((MockedStatic.Verification) SpringApplication.run(WebsiteApplication.class, new String[]{})).thenReturn(null);\n        WebsiteApplication.main(new String[]{});\n        assertThat(SpringApplication.run(WebsiteApplication.class, new String[]{})).isEqualTo(null);\n    }\n}\n</code></pre>\n<p>Add these dependencies in <code>pom.xml</code></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;${mockito.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657327596,"creation_date":1657327596,"answer_id":72918178,"question_id":46650268,"body_markdown":"If the idea is to exclude the SpringApplication class from sonar scan (which is the recommended way of doing it), you can exclude it with the following configuration in the build.gradle\r\n\r\n    plugins {\r\n         id &#39;org.sonarqube&#39; version &#39;3.4.0.2513&#39;\r\n     }\r\n     \r\n     \r\n    sonarqube {\r\n        properties {\r\n           property &quot;sonar.exclusions&quot;, &quot;**/*Application.java&quot;\r\n        }\r\n    }","title":"How to test main class of Spring-boot application","body":"<p>If the idea is to exclude the SpringApplication class from sonar scan (which is the recommended way of doing it), you can exclude it with the following configuration in the build.gradle</p>\n<pre><code>plugins {\n     id 'org.sonarqube' version '3.4.0.2513'\n }\n \n \nsonarqube {\n    properties {\n       property &quot;sonar.exclusions&quot;, &quot;**/*Application.java&quot;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"score":2,"creation_date":1692210905,"post_id":75896841,"comment_id":135594130,"body_markdown":"This is the best answer if excluding from coverage is not an option. All the other answers have potential unwanted side-effects.","body":"This is the best answer if excluding from coverage is not an option. All the other answers have potential unwanted side-effects."},{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":0,"creation_date":1696624022,"post_id":75896841,"comment_id":136182090,"body_markdown":"I agree this is the cleanest solution.","body":"I agree this is the cleanest solution."}],"tags":[],"owner":{"account_id":1035633,"reputation":2545,"user_id":1042989,"accept_rate":80,"display_name":"matteo.cajani"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1692210832,"creation_date":1680254789,"answer_id":75896841,"question_id":46650268,"body_markdown":"A bit late, but actually there&#39;s a simpler and cleaner way to get the main method of a SpringBoot application covered by tests.\r\n\r\nAdd `useMainMethod` set to `ALWAYS` or `WHEN_AVAILABLE` to your `@SpringBootTest` annotation:\r\n\r\n```java\r\n@SpringBootTest(useMainMethod = SpringBootTest.UseMainMethod.ALWAYS)\r\nclass MyApplicationTest {\r\n    @Test\r\n    void main() {}\r\n}\r\n```\r\n\r\nIf not specified, the default value of `useMainMethod` is `NEVER`, hence the main method will never be used when creating the SpringApplication under test.\r\n\r\nSetting it to `WHEN_AVAILABLE`, it will make the main method be used, if it actually exists.\r\n\r\nThis will make the coverage checks happy and avoid the test to be breaking even when no `@SpringBootConfiguration`-annotated class exists or that class does not have a main method.\r\n\r\nFor more details, see: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/context/SpringBootTest.java#L193","title":"How to test main class of Spring-boot application","body":"<p>A bit late, but actually there's a simpler and cleaner way to get the main method of a SpringBoot application covered by tests.</p>\n<p>Add <code>useMainMethod</code> set to <code>ALWAYS</code> or <code>WHEN_AVAILABLE</code> to your <code>@SpringBootTest</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(useMainMethod = SpringBootTest.UseMainMethod.ALWAYS)\nclass MyApplicationTest {\n    @Test\n    void main() {}\n}\n</code></pre>\n<p>If not specified, the default value of <code>useMainMethod</code> is <code>NEVER</code>, hence the main method will never be used when creating the SpringApplication under test.</p>\n<p>Setting it to <code>WHEN_AVAILABLE</code>, it will make the main method be used, if it actually exists.</p>\n<p>This will make the coverage checks happy and avoid the test to be breaking even when no <code>@SpringBootConfiguration</code>-annotated class exists or that class does not have a main method.</p>\n<p>For more details, see: <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/context/SpringBootTest.java#L193\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/context/SpringBootTest.java#L193</a></p>\n"},{"tags":[],"owner":{"account_id":1630161,"reputation":48,"user_id":4114727,"display_name":"Hack Kampbj&#248;rn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696335834,"creation_date":1696335834,"answer_id":77222235,"question_id":46650268,"body_markdown":"I was looking for arguments to main that would stop Spring Application fast like a do nothing and ignore everything, or make it fail fast to avoid all the initialization.\r\n\r\n    class ApplicationTest {\r\n\r\n      @Test\r\n      void main() {\r\n          assertThrows(IllegalArgumentException.class, () -&gt; Application.main(null));\r\n      }\r\n    }\r\n\r\n`null` does the trick","title":"How to test main class of Spring-boot application","body":"<p>I was looking for arguments to main that would stop Spring Application fast like a do nothing and ignore everything, or make it fail fast to avoid all the initialization.</p>\n<pre><code>class ApplicationTest {\n\n  @Test\n  void main() {\n      assertThrows(IllegalArgumentException.class, () -&gt; Application.main(null));\n  }\n}\n</code></pre>\n<p><code>null</code> does the trick</p>\n"}],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167184,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":49345638,"answer_count":13,"score":99,"last_activity_date":1696335834,"creation_date":1507563811,"question_id":46650268,"body_markdown":"I have a `spring-boot` application where my `@SpringBootApplication` starter class looks like a standard one. So I created many tests for all my functionalities and send the summary to [sonarqube][1] to see my coverage. \r\n\r\nFor my starter class Sonarqube tells me that I just have 60% coverage. So the average coverage is not good as expected.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy Test class is just the default one.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = ElectronicGiftcardServiceApplication.class)\r\n    public class ElectronicGiftcardServiceApplicationTests {\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \t}\r\n    }\r\n\r\nSo how can I test my main class in the starter class of my application?\r\n  [1]: https://www.sonarqube.org/\r\n  [2]: https://i.stack.imgur.com/VCqsd.png","title":"How to test main class of Spring-boot application","body":"<p>I have a <code>spring-boot</code> application where my <code>@SpringBootApplication</code> starter class looks like a standard one. So I created many tests for all my functionalities and send the summary to <a href=\"https://www.sonarqube.org/\" rel=\"noreferrer\">sonarqube</a> to see my coverage. </p>\n\n<p>For my starter class Sonarqube tells me that I just have 60% coverage. So the average coverage is not good as expected.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VCqsd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VCqsd.png\" alt=\"enter image description here\"></a></p>\n\n<p>My Test class is just the default one.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = ElectronicGiftcardServiceApplication.class)\npublic class ElectronicGiftcardServiceApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n}\n</code></pre>\n\n<p>So how can I test my main class in the starter class of my application?</p>\n"},{"tags":["java","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696334787,"creation_date":1696334787,"answer_id":77222119,"question_id":77190768,"body_markdown":"I don&#39;t think this problem is due to Spring GraphQL, but rather a GraphQL Java upgrade. The graphql-java project has introduced changes in this area in 17.0+ and your schema is being rejected during the validation process.\r\n\r\nI think your schema is breaking a validation rule implemented by graphql-java in its [OverlappingFieldsCanBeMerged][1]. I&#39;m not sure if your schema is invalid or if there is a bug in the [field merging checks][2] implementation. I think it&#39;s worth creating a new graphql-java issue with a minimal project that only uses graphql-java and loads a minimal schema.\r\n\r\n\r\n  [1]: https://github.com/graphql-java/graphql-java/blob/master/src/main/java/graphql/validation/rules/OverlappingFieldsCanBeMerged.java\r\n  [2]: http://spec.graphql.org/draft/#sec-Field-Selection-Merging","title":"Spring GraphQL - Validation error FieldsConflict returns different types &#39;Int&#39; and &#39;String&#39;&quot;","body":"<p>I don't think this problem is due to Spring GraphQL, but rather a GraphQL Java upgrade. The graphql-java project has introduced changes in this area in 17.0+ and your schema is being rejected during the validation process.</p>\n<p>I think your schema is breaking a validation rule implemented by graphql-java in its <a href=\"https://github.com/graphql-java/graphql-java/blob/master/src/main/java/graphql/validation/rules/OverlappingFieldsCanBeMerged.java\" rel=\"nofollow noreferrer\">OverlappingFieldsCanBeMerged</a>. I'm not sure if your schema is invalid or if there is a bug in the <a href=\"http://spec.graphql.org/draft/#sec-Field-Selection-Merging\" rel=\"nofollow noreferrer\">field merging checks</a> implementation. I think it's worth creating a new graphql-java issue with a minimal project that only uses graphql-java and loads a minimal schema.</p>\n"}],"owner":{"account_id":29550520,"reputation":1,"user_id":22647302,"display_name":"Sou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696334787,"creation_date":1695847367,"question_id":77190768,"body_markdown":"I just start migrating from com.graphql to Spring with graphql but I&#39;m struggling with an error when running my query, here&#39;s the error :\r\n&quot;message&quot;: &quot;Validation error (FieldsConflict@[getProductsByCategory/facets]) : &#39;values/value&#39; : returns different types &#39;Int&#39; and &#39;String&#39;&quot;\r\n \r\n```\r\nquery {\r\n    getProductsByCategory(\r\n        lang: &quot;fr&quot;,\r\n        categoryCode:&quot;C600_C605_C603&quot;\r\n\t\t) {\r\n        facets {\r\n\r\n            ...on RatingFacet {\r\n                code\r\n                description\r\n                name\r\n                multiSelect\r\n                order\r\n                values {\r\n                    code\r\n                    description\r\n                    count\r\n                    selected\r\n                    value\r\n                }\r\n            }\r\n            ...on ChoicesFacet {\r\n                code\r\n                description\r\n                name\r\n                multiSelect\r\n                order\r\n                values {\r\n                    code\r\n                    description\r\n                    count\r\n                    selected\r\n                    value\r\n                }\r\n            }\r\n        }\r\n      \r\n    }\r\n}\r\n```\r\nThe types definitions :\r\n\r\n```\r\ntype CategorySearchResult {\r\n    facets: [Facet!]!\r\n   ...\r\n}\r\n\r\nunion Facet =  RatingFacet | ChoicesFacet\r\n\r\ninterface FacetInterface {\r\n    code: String!\r\n    description: String\r\n    name: String!\r\n    multiSelect: Boolean\r\n    order: Int!\r\n}\r\n\r\ninterface FacetValue {\r\n    code: String!\r\n    description: String\r\n    count: Int\r\n    selected: Boolean!\r\n}\r\n\r\ntype ChoicesFacet implements FacetInterface {\r\n    ...\r\n    values: [ChoiceFacetValue!]!\r\n}\r\ntype ChoiceFacetValue implements FacetValue {\r\n    ...\r\n    value: String! &lt;-- the error\r\n}\r\n\r\ntype RatingFacet implements FacetInterface {\r\n    ...\r\n    values: [RatingFacetValue!]!\r\n}\r\ntype RatingFacetValue implements FacetValue {\r\n    ...\r\n    value: Int! &lt;-- the error\r\n}\r\n```\r\n\r\nI don&#39;t understand what I missed and I don&#39;t know how to resolve it. Do I need to create a type resolver for my union ? Because it seems to refer to my types (RatingFacetValue and ChoiceFacetValue) that implements FacetValue\r\n\r\nThank you !\r\n\r\n","title":"Spring GraphQL - Validation error FieldsConflict returns different types &#39;Int&#39; and &#39;String&#39;&quot;","body":"<p>I just start migrating from com.graphql to Spring with graphql but I'm struggling with an error when running my query, here's the error :\n&quot;message&quot;: &quot;Validation error (FieldsConflict@[getProductsByCategory/facets]) : 'values/value' : returns different types 'Int' and 'String'&quot;</p>\n<pre><code>query {\n    getProductsByCategory(\n        lang: &quot;fr&quot;,\n        categoryCode:&quot;C600_C605_C603&quot;\n        ) {\n        facets {\n\n            ...on RatingFacet {\n                code\n                description\n                name\n                multiSelect\n                order\n                values {\n                    code\n                    description\n                    count\n                    selected\n                    value\n                }\n            }\n            ...on ChoicesFacet {\n                code\n                description\n                name\n                multiSelect\n                order\n                values {\n                    code\n                    description\n                    count\n                    selected\n                    value\n                }\n            }\n        }\n      \n    }\n}\n</code></pre>\n<p>The types definitions :</p>\n<pre><code>type CategorySearchResult {\n    facets: [Facet!]!\n   ...\n}\n\nunion Facet =  RatingFacet | ChoicesFacet\n\ninterface FacetInterface {\n    code: String!\n    description: String\n    name: String!\n    multiSelect: Boolean\n    order: Int!\n}\n\ninterface FacetValue {\n    code: String!\n    description: String\n    count: Int\n    selected: Boolean!\n}\n\ntype ChoicesFacet implements FacetInterface {\n    ...\n    values: [ChoiceFacetValue!]!\n}\ntype ChoiceFacetValue implements FacetValue {\n    ...\n    value: String! &lt;-- the error\n}\n\ntype RatingFacet implements FacetInterface {\n    ...\n    values: [RatingFacetValue!]!\n}\ntype RatingFacetValue implements FacetValue {\n    ...\n    value: Int! &lt;-- the error\n}\n</code></pre>\n<p>I don't understand what I missed and I don't know how to resolve it. Do I need to create a type resolver for my union ? Because it seems to refer to my types (RatingFacetValue and ChoiceFacetValue) that implements FacetValue</p>\n<p>Thank you !</p>\n"},{"tags":["java","swt","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1696335642,"post_id":77222113,"comment_id":136137115,"body_markdown":"A drop-down from what? A menu? A button? In any case there isn&#39;t a simple why to do this, you would have to construct a temporary shell to hold the drop down. You could look at the source of `CCombo` which displays a drop down using a shell and `List`. Or may look at Eclipse Nebula [TableCombo](https://eclipse.dev/nebula/widgets/tablecombo/tablecombo.php)","body":"A drop-down from what? A menu? A button? In any case there isn&#39;t a simple why to do this, you would have to construct a temporary shell to hold the drop down. You could look at the source of <code>CCombo</code> which displays a drop down using a shell and <code>List</code>. Or may look at Eclipse Nebula <a href=\"https://eclipse.dev/nebula/widgets/tablecombo/tablecombo.php\" rel=\"nofollow noreferrer\">TableCombo</a>"},{"owner":{"account_id":18016429,"reputation":53,"user_id":13094836,"display_name":"Rishikesh-12"},"score":0,"creation_date":1696336187,"post_id":77222113,"comment_id":136137212,"body_markdown":"Earlier I was using a combo to display some text but now I want to display images as well to differentiate between same named options. I want to replace this combo","body":"Earlier I was using a combo to display some text but now I want to display images as well to differentiate between same named options. I want to replace this combo"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1696338550,"post_id":77222113,"comment_id":136137706,"body_markdown":"Look at TableCombo then","body":"Look at TableCombo then"}],"owner":{"account_id":18016429,"reputation":53,"user_id":13094836,"display_name":"Rishikesh-12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696334759,"creation_date":1696334759,"question_id":77222113,"body_markdown":"Every list item should have an image and a text. So far I have tried using ListViewer, ComboViewer and TableViewer. My requirement is to have a dropdown list and every list item should be have an image and a text.","title":"Can i create a drop down list using SWT, in Eclipse - RCP based java application?","body":"<p>Every list item should have an image and a text. So far I have tried using ListViewer, ComboViewer and TableViewer. My requirement is to have a dropdown list and every list item should be have an image and a text.</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1687243245,"post_id":75925955,"comment_id":134905173,"body_markdown":"any idea to fix this issue?","body":"any idea to fix this issue?"}],"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696334470,"creation_date":1680588134,"question_id":75925955,"body_markdown":"I have a java application with pid as 1. \r\nwe were trying to get the heap dump. The application is running in docker.\r\nThe base image is alpine:latest\r\n\r\n```\r\njmap -dump:format=b,file=heap.hprof 1\r\n1: Unable to get pid of LinuxThreads manager thread\r\n\r\ntried \r\njcmd 1 GC.heap_dump dump.hprof\r\n1:\r\ncom.sun.tools.attach.AttachNotSupportedException: Unable to get pid of LinuxThreads manager thread\r\n\tat sun.tools.attach.LinuxVirtualMachine.&lt;init&gt;(LinuxVirtualMachine.java:86)\r\n\tat sun.tools.attach.LinuxAttachProvider.attachVirtualMachine(LinuxAttachProvider.java:63)\r\n\tat com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:208)\r\n\tat sun.tools.jcmd.JCmd.executeCommandForPid(JCmd.java:147)\r\n\tat sun.tools.jcmd.JCmd.main(JCmd.java:131)\r\n\r\n```\r\n\r\n```\r\nps\r\nPID   USER     TIME  COMMAND\r\n    1 root      2:16 {java} thejavaprogram\r\n   52 root      0:00 sh\r\n  309 root      0:00 ps\r\n```\r\n\r\n\r\nplease help me.","title":"why it is not able to obtain Heap dump in alphine docker with pid as 1","body":"<p>I have a java application with pid as 1.\nwe were trying to get the heap dump. The application is running in docker.\nThe base image is alpine:latest</p>\n<pre><code>jmap -dump:format=b,file=heap.hprof 1\n1: Unable to get pid of LinuxThreads manager thread\n\ntried \njcmd 1 GC.heap_dump dump.hprof\n1:\ncom.sun.tools.attach.AttachNotSupportedException: Unable to get pid of LinuxThreads manager thread\n    at sun.tools.attach.LinuxVirtualMachine.&lt;init&gt;(LinuxVirtualMachine.java:86)\n    at sun.tools.attach.LinuxAttachProvider.attachVirtualMachine(LinuxAttachProvider.java:63)\n    at com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:208)\n    at sun.tools.jcmd.JCmd.executeCommandForPid(JCmd.java:147)\n    at sun.tools.jcmd.JCmd.main(JCmd.java:131)\n\n</code></pre>\n<pre><code>ps\nPID   USER     TIME  COMMAND\n    1 root      2:16 {java} thejavaprogram\n   52 root      0:00 sh\n  309 root      0:00 ps\n</code></pre>\n<p>please help me.</p>\n"},{"tags":["java","sql","sqlite"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1696331505,"post_id":77221675,"comment_id":136136347,"body_markdown":"I don’t see keyword in the form. This code will return anything that matches _either_ keyword or genre, so if either one is blank it will return all results.","body":"I don’t see keyword in the form. This code will return anything that matches <i>either</i> keyword or genre, so if either one is blank it will return all results."},{"owner":{"account_id":29587658,"reputation":13,"user_id":22675978,"display_name":"Furkan &#214;zdemir"},"score":0,"creation_date":1696331780,"post_id":77221675,"comment_id":136136378,"body_markdown":"@TimMoore \n\n&lt;form action=&quot;ItemListController&quot;&gt;\n    &lt;div class=&quot;btn-group me-2&quot; role=&quot;group&quot; aria-label=&quot;Genres&quot;&gt;\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\n    value=&quot;&lt;%= genre = &quot;Fantasy&quot; %&gt;&quot;&gt;Fantasy&lt;/button&gt;\n\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\n    value=&quot;&lt;%= genre = &quot;Action&quot; %&gt;&quot;&gt;Action&lt;/button&gt;\n\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\n    value=&quot;&lt;%= genre = &quot;FPS&quot; %&gt;&quot;&gt;FPS&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n\nhere is the gnr key. search by keyword works completely fine.","body":"@TimMoore   &lt;form action=&quot;ItemListController&quot;&gt;     &lt;div class=&quot;btn-group me-2&quot; role=&quot;group&quot; aria-label=&quot;Genres&quot;&gt;     &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;     value=&quot;&lt;%= genre = &quot;Fantasy&quot; %&gt;&quot;&gt;Fantasy&lt;/button&gt;      &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;     value=&quot;&lt;%= genre = &quot;Action&quot; %&gt;&quot;&gt;Action&lt;/button&gt;      &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;     value=&quot;&lt;%= genre = &quot;FPS&quot; %&gt;&quot;&gt;FPS&lt;/button&gt;     &lt;/div&gt; &lt;/form&gt;  here is the gnr key. search by keyword works completely fine."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1696332040,"post_id":77221675,"comment_id":136136428,"body_markdown":"At the start of the `findByKeyword` method, add `System.out.println(&quot;word: &#39;&quot;+word+&quot;&#39;&quot;);`. Is it blank? (Updated to add missing quote)","body":"At the start of the <code>findByKeyword</code> method, add <code>System.out.println(&quot;word: &#39;&quot;+word+&quot;&#39;&quot;);</code>. Is it blank? (Updated to add missing quote)"},{"owner":{"account_id":29587658,"reputation":13,"user_id":22675978,"display_name":"Furkan &#214;zdemir"},"score":0,"creation_date":1696332315,"post_id":77221675,"comment_id":136136474,"body_markdown":"Yes, it is. I fill it when I push it by search.\n\n`&lt;form action=&quot;ItemListController&quot;&gt;\n\t\t\t\t&lt;div class=&quot;mb-3 input-group&quot;&gt;\n\t\t\t\t\t&lt;input class=&quot;form-control text-bg-secondary&quot; type=&quot;text&quot;\n\t\t\t\t\t\tname=&quot;keyword&quot; value=&quot;&lt;%= word %&gt;&quot; placeholder=&quot;keyword&quot;&gt;\n\t\t\t\t\t&lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;\n\t\t\t\t\t\t&lt;i class=&quot;bi bi-search&quot;&gt;&lt;/i&gt;&amp;nbsp;Search\n\t\t\t\t\t&lt;/button&gt;\n\t\t\t\t&lt;/div&gt;\n\t\t\t&lt;/form&gt;`","body":"Yes, it is. I fill it when I push it by search.  <code>&lt;form action=&quot;ItemListController&quot;&gt; \t\t\t\t&lt;div class=&quot;mb-3 input-group&quot;&gt; \t\t\t\t\t&lt;input class=&quot;form-control text-bg-secondary&quot; type=&quot;text&quot; \t\t\t\t\t\tname=&quot;keyword&quot; value=&quot;&lt;%= word %&gt;&quot; placeholder=&quot;keyword&quot;&gt; \t\t\t\t\t&lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt; \t\t\t\t\t\t&lt;i class=&quot;bi bi-search&quot;&gt;&lt;&#47;i&gt;&amp;nbsp;Search \t\t\t\t\t&lt;&#47;button&gt; \t\t\t\t&lt;&#47;div&gt; \t\t\t&lt;&#47;form&gt;</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1696332994,"post_id":77221675,"comment_id":136136584,"body_markdown":"OK so on each form submission _either_ the keyword or the genre will be sent to the back end, but the back end does two queries for _both_ of them and combines the results.","body":"OK so on each form submission <i>either</i> the keyword or the genre will be sent to the back end, but the back end does two queries for <i>both</i> of them and combines the results."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1696333419,"post_id":77221675,"comment_id":136136675,"body_markdown":"if `word`is null, you search with `GameName like &#39;%%&#39;`, so with any name not null (i.e. all items)","body":"if <code>word</code>is null, you search with <code>GameName like &#39;%%&#39;</code>, so with any name not null (i.e. all items)"},{"owner":{"account_id":29587658,"reputation":13,"user_id":22675978,"display_name":"Furkan &#214;zdemir"},"score":0,"creation_date":1696333927,"post_id":77221675,"comment_id":136136777,"body_markdown":"I want **word** to be working as blank too so it doesn’t filter queries and shows all the data when I run application at the start. When I fill the **keyword key** with data, it works as it supposed to be and shows search queries. But for the **genre** part, it doesn’t work that way for some reason. I want it to do same kinda search as search submit but not on game name but on genre as a button group.\n\n@TimMoore so should I separate the work by different methods?","body":"I want <b>word</b> to be working as blank too so it doesn’t filter queries and shows all the data when I run application at the start. When I fill the <b>keyword key</b> with data, it works as it supposed to be and shows search queries. But for the <b>genre</b> part, it doesn’t work that way for some reason. I want it to do same kinda search as search submit but not on game name but on genre as a button group.  @TimMoore so should I separate the work by different methods?"}],"answers":[{"comments":[{"owner":{"account_id":29587658,"reputation":13,"user_id":22675978,"display_name":"Furkan &#214;zdemir"},"score":0,"creation_date":1696334836,"post_id":77222040,"comment_id":136136965,"body_markdown":"I see. So I should make things work in the same line by between if codes so it gonna choose either depending on the case. Thanks, helped me a lot!","body":"I see. So I should make things work in the same line by between if codes so it gonna choose either depending on the case. Thanks, helped me a lot!"}],"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696334169,"creation_date":1696334169,"answer_id":77222040,"question_id":77221675,"body_markdown":"first you can assign the values directly \r\n\r\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot; value=&quot;Fantasy&quot;&gt;Fantasy&lt;/button&gt;\r\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot; value=&quot;Action&quot;&gt;Action&lt;/button&gt;\r\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot; value=&quot;FPS&quot;&gt;FPS&lt;/button&gt;\r\n\r\nfurther you are closing the database connection after executing the first query\r\n\r\n    public List&lt;Item&gt; findByKeyword(ServletContext context, String word, String genre) {\r\n        List&lt;Item&gt; result = new ArrayList&lt;&gt;();\r\n    \r\n        try {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n    \r\n            String url = &quot;jdbc:sqlite:&quot; + context.getRealPath(&quot;WEB-INF/webapp.db&quot;);\r\n            Connection conn = DriverManager.getConnection(url);\r\n    \r\n            String sql;\r\n            PreparedStatement stmt;\r\n    \r\n            if (genre != null &amp;&amp; !genre.isEmpty()) {\r\n                sql = &quot;select * from games where Genre like ? order by GameID&quot;;\r\n                stmt = conn.prepareStatement(sql);\r\n                stmt.setString(1, &quot;%&quot; + genre + &quot;%&quot;);\r\n            } else {\r\n                sql = &quot;select * from games where GameName like ? order by GameID&quot;;\r\n                stmt = conn.prepareStatement(sql);\r\n                stmt.setString(1, &quot;%&quot; + word + &quot;%&quot;);\r\n            }\r\n    \r\n            ResultSet rs = stmt.executeQuery();\r\n    \r\n            while (rs.next()) {\r\n                Item item = new Item();\r\n                item.setItemId(rs.getInt(&quot;GameID&quot;));\r\n                item.setItemName(rs.getString(&quot;GameName&quot;));\r\n                item.setGenre(rs.getString(&quot;Genre&quot;));\r\n                item.setDescription(rs.getString(&quot;Description&quot;));\r\n                item.setImage(rs.getString(&quot;GameCover&quot;));\r\n                item.setPrice(rs.getInt(&quot;Price&quot;));\r\n                item.setLink(rs.getString(&quot;Link&quot;));\r\n                result.add(item);\r\n            }\r\n            conn.close();\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        return result;\r\n    }\r\n\r\n\r\n","title":"Trying to add &quot;Search by Genre&quot; on Web Application but don&#39;t know what&#39;s wrong with the code","body":"<p>first you can assign the values directly</p>\n<pre><code>&lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot; value=&quot;Fantasy&quot;&gt;Fantasy&lt;/button&gt;\n&lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot; value=&quot;Action&quot;&gt;Action&lt;/button&gt;\n&lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot; value=&quot;FPS&quot;&gt;FPS&lt;/button&gt;\n</code></pre>\n<p>further you are closing the database connection after executing the first query</p>\n<pre><code>public List&lt;Item&gt; findByKeyword(ServletContext context, String word, String genre) {\n    List&lt;Item&gt; result = new ArrayList&lt;&gt;();\n\n    try {\n        Class.forName(&quot;org.sqlite.JDBC&quot;);\n\n        String url = &quot;jdbc:sqlite:&quot; + context.getRealPath(&quot;WEB-INF/webapp.db&quot;);\n        Connection conn = DriverManager.getConnection(url);\n\n        String sql;\n        PreparedStatement stmt;\n\n        if (genre != null &amp;&amp; !genre.isEmpty()) {\n            sql = &quot;select * from games where Genre like ? order by GameID&quot;;\n            stmt = conn.prepareStatement(sql);\n            stmt.setString(1, &quot;%&quot; + genre + &quot;%&quot;);\n        } else {\n            sql = &quot;select * from games where GameName like ? order by GameID&quot;;\n            stmt = conn.prepareStatement(sql);\n            stmt.setString(1, &quot;%&quot; + word + &quot;%&quot;);\n        }\n\n        ResultSet rs = stmt.executeQuery();\n\n        while (rs.next()) {\n            Item item = new Item();\n            item.setItemId(rs.getInt(&quot;GameID&quot;));\n            item.setItemName(rs.getString(&quot;GameName&quot;));\n            item.setGenre(rs.getString(&quot;Genre&quot;));\n            item.setDescription(rs.getString(&quot;Description&quot;));\n            item.setImage(rs.getString(&quot;GameCover&quot;));\n            item.setPrice(rs.getInt(&quot;Price&quot;));\n            item.setLink(rs.getString(&quot;Link&quot;));\n            result.add(item);\n        }\n        conn.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":29587658,"reputation":13,"user_id":22675978,"display_name":"Furkan &#214;zdemir"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77222040,"answer_count":1,"score":1,"last_activity_date":1696334169,"creation_date":1696330793,"question_id":77221675,"body_markdown":"First of all I&#39;m a total beginner in this.\r\n\r\nSo, trying to make a simple database search both by Search bar and Genre filters by using Genre table I&#39;ve put on the sql database.\r\n\r\n```\r\n&lt;form action=&quot;ItemListController&quot;&gt;\r\n    &lt;div class=&quot;btn-group me-2&quot; role=&quot;group&quot; aria-label=&quot;Genres&quot;&gt;\r\n\t&lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\r\n\tvalue=&quot;&lt;%= genre = &quot;Fantasy&quot; %&gt;&quot;&gt;Fantasy&lt;/button&gt;\r\n\r\n\t&lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\r\n\tvalue=&quot;&lt;%= genre = &quot;Action&quot; %&gt;&quot;&gt;Action&lt;/button&gt;\r\n\r\n\t&lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\r\n\tvalue=&quot;&lt;%= genre = &quot;FPS&quot; %&gt;&quot;&gt;FPS&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n```\r\npublic List&lt;Item&gt; findByKeyword(ServletContext context, String word, String genre) {\r\n\t\tList&lt;Item&gt; result = new ArrayList&lt;&gt;();\r\n\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n\r\n\t\t\tString url = &quot;jdbc:sqlite:&quot; + context.getRealPath(&quot;WEB-INF/webapp.db&quot;);\r\n\r\n\t\t\tConnection conn = DriverManager.getConnection(url);\r\n\t\t\tString sql = &quot;select * from games where GameName like ? order by GameID&quot;;\r\n\t\t\tString sql2 = &quot;select * from games where Genre like ? order by GameID&quot;;\r\n\t\t\tPreparedStatement stmt1 = conn.prepareStatement(sql);\r\n\t\t\tPreparedStatement stmt2 = conn.prepareStatement(sql2);\r\n\t\t\tstmt1.setString(1, &quot;%&quot; + word + &quot;%&quot;);\r\n\t\t\tstmt2.setString(1, &quot;%&quot; + genre + &quot;%&quot;);\r\n\r\n\t\t\tResultSet rs = stmt1.executeQuery();\r\n\t\t\tResultSet rs1 = stmt2.executeQuery();\r\n\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tItem item = new Item();\r\n\t\t\t\titem.setItemId(rs.getInt(&quot;GameID&quot;));\r\n\t\t\t\titem.setItemName(rs.getString(&quot;GameName&quot;));\r\n\t\t\t\titem.setGenre(rs.getString(&quot;Genre&quot;));\r\n\t\t\t\titem.setDescription(rs.getString(&quot;Description&quot;));\r\n\t\t\t\titem.setImage(rs.getString(&quot;GameCover&quot;));\r\n\t\t\t\titem.setPrice(rs.getInt(&quot;Price&quot;));\r\n\t\t\t\titem.setLink(rs.getString(&quot;Link&quot;));\r\n\t\t\t\tresult.add(item);\r\n\t\t\t}\r\n\t\t\tconn.close();\r\n\r\n\t\t\twhile (rs1.next()) {\r\n\t\t\t\tItem item = new Item();\r\n\t\t\t\titem.setItemId(rs1.getInt(&quot;GameID&quot;));\r\n\t\t\t\titem.setItemName(rs1.getString(&quot;GameName&quot;));\r\n\t\t\t\titem.setGenre(rs1.getString(&quot;Genre&quot;));\r\n\t\t\t\titem.setDescription(rs1.getString(&quot;Description&quot;));\r\n\t\t\t\titem.setImage(rs1.getString(&quot;GameCover&quot;));\r\n\t\t\t\titem.setPrice(rs1.getInt(&quot;Price&quot;));\r\n\t\t\t\titem.setLink(rs1.getString(&quot;Link&quot;));\r\n\t\t\t\tresult.add(item);\r\n\t\t\t}\r\n\t\t\tconn.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn result;\r\n```\r\n\r\n```\r\n@WebServlet(&quot;/ItemListController&quot;)\r\npublic class ItemListController extends HttpServlet {\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\r\n\t\t\r\n\t\tString word = request.getParameter(&quot;keyword&quot;);\r\n\t\tString genre = request.getParameter(&quot;gnr&quot;);\r\n\r\n\t\tif (word == null) {\r\n\t\t\tword = &quot;&quot;;\r\n\t\t}\r\n\r\n\t\tL\r\n\t\tItemModel im = new ItemModel();\r\n\t\t// List&lt;Item&gt; items = im.findAll(getServletContext());\r\n\t\tList&lt;Item&gt; items = im.findByKeyword(getServletContext(), word, genre);\r\n\r\n\t\t\r\n\t\trequest.setAttribute(&quot;items&quot;, items);\r\n\t\trequest.setAttribute(&quot;word&quot;, word);\r\n\t\trequest.setAttribute(&quot;genre&quot;, genre);\r\n\t\trequest.getRequestDispatcher(&quot;/itemListView3.jsp&quot;).forward(request, response);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nthe thing is, paramaters work on the URL and I can see that but doesn&#39;t do any searchs based on the filter. It returns as if it is blank and shows all the data.","title":"Trying to add &quot;Search by Genre&quot; on Web Application but don&#39;t know what&#39;s wrong with the code","body":"<p>First of all I'm a total beginner in this.</p>\n<p>So, trying to make a simple database search both by Search bar and Genre filters by using Genre table I've put on the sql database.</p>\n<pre><code>&lt;form action=&quot;ItemListController&quot;&gt;\n    &lt;div class=&quot;btn-group me-2&quot; role=&quot;group&quot; aria-label=&quot;Genres&quot;&gt;\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\n    value=&quot;&lt;%= genre = &quot;Fantasy&quot; %&gt;&quot;&gt;Fantasy&lt;/button&gt;\n\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\n    value=&quot;&lt;%= genre = &quot;Action&quot; %&gt;&quot;&gt;Action&lt;/button&gt;\n\n    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;submit&quot; name=&quot;gnr&quot;\n    value=&quot;&lt;%= genre = &quot;FPS&quot; %&gt;&quot;&gt;FPS&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<pre><code>public List&lt;Item&gt; findByKeyword(ServletContext context, String word, String genre) {\n        List&lt;Item&gt; result = new ArrayList&lt;&gt;();\n\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n\n            String url = &quot;jdbc:sqlite:&quot; + context.getRealPath(&quot;WEB-INF/webapp.db&quot;);\n\n            Connection conn = DriverManager.getConnection(url);\n            String sql = &quot;select * from games where GameName like ? order by GameID&quot;;\n            String sql2 = &quot;select * from games where Genre like ? order by GameID&quot;;\n            PreparedStatement stmt1 = conn.prepareStatement(sql);\n            PreparedStatement stmt2 = conn.prepareStatement(sql2);\n            stmt1.setString(1, &quot;%&quot; + word + &quot;%&quot;);\n            stmt2.setString(1, &quot;%&quot; + genre + &quot;%&quot;);\n\n            ResultSet rs = stmt1.executeQuery();\n            ResultSet rs1 = stmt2.executeQuery();\n\n            while (rs.next()) {\n                Item item = new Item();\n                item.setItemId(rs.getInt(&quot;GameID&quot;));\n                item.setItemName(rs.getString(&quot;GameName&quot;));\n                item.setGenre(rs.getString(&quot;Genre&quot;));\n                item.setDescription(rs.getString(&quot;Description&quot;));\n                item.setImage(rs.getString(&quot;GameCover&quot;));\n                item.setPrice(rs.getInt(&quot;Price&quot;));\n                item.setLink(rs.getString(&quot;Link&quot;));\n                result.add(item);\n            }\n            conn.close();\n\n            while (rs1.next()) {\n                Item item = new Item();\n                item.setItemId(rs1.getInt(&quot;GameID&quot;));\n                item.setItemName(rs1.getString(&quot;GameName&quot;));\n                item.setGenre(rs1.getString(&quot;Genre&quot;));\n                item.setDescription(rs1.getString(&quot;Description&quot;));\n                item.setImage(rs1.getString(&quot;GameCover&quot;));\n                item.setPrice(rs1.getInt(&quot;Price&quot;));\n                item.setLink(rs1.getString(&quot;Link&quot;));\n                result.add(item);\n            }\n            conn.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return result;\n</code></pre>\n<pre><code>@WebServlet(&quot;/ItemListController&quot;)\npublic class ItemListController extends HttpServlet {\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n\n        \n        String word = request.getParameter(&quot;keyword&quot;);\n        String genre = request.getParameter(&quot;gnr&quot;);\n\n        if (word == null) {\n            word = &quot;&quot;;\n        }\n\n        L\n        ItemModel im = new ItemModel();\n        // List&lt;Item&gt; items = im.findAll(getServletContext());\n        List&lt;Item&gt; items = im.findByKeyword(getServletContext(), word, genre);\n\n        \n        request.setAttribute(&quot;items&quot;, items);\n        request.setAttribute(&quot;word&quot;, word);\n        request.setAttribute(&quot;genre&quot;, genre);\n        request.getRequestDispatcher(&quot;/itemListView3.jsp&quot;).forward(request, response);\n    }\n\n}\n</code></pre>\n<p>the thing is, paramaters work on the URL and I can see that but doesn't do any searchs based on the filter. It returns as if it is blank and shows all the data.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1696325498,"post_id":77220932,"comment_id":136135333,"body_markdown":"What&#39;s preventing you from running it and seeing for yourself?","body":"What&#39;s preventing you from running it and seeing for yourself?"},{"owner":{"account_id":17817181,"reputation":21,"user_id":12940464,"display_name":"BlueInf"},"score":0,"creation_date":1696333200,"post_id":77220932,"comment_id":136136630,"body_markdown":"I ran it and the test failed, that&#39;s why I am asking if I have not added correctly the option or it is just impossible. Are you aware of that @Michael?","body":"I ran it and the test failed, that&#39;s why I am asking if I have not added correctly the option or it is just impossible. Are you aware of that @Michael?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696333936,"post_id":77220932,"comment_id":136136782,"body_markdown":"If you tried and it didn&#39;t work, then obviously you can&#39;t. Using `--add-exports` and `--add-opens` should only be used in exceptional circumstances. Likely this also informed a design where wildcards are not supported. If you find the need to add it a lot (or for a lot of packages), then you&#39;&#39;re probably doing something wrong.","body":"If you tried and it didn&#39;t work, then obviously you can&#39;t. Using <code>--add-exports</code> and <code>--add-opens</code> should only be used in exceptional circumstances. Likely this also informed a design where wildcards are not supported. If you find the need to add it a lot (or for a lot of packages), then you&#39;&#39;re probably doing something wrong."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696350685,"post_id":77220932,"comment_id":136140373,"body_markdown":"I don’t think there’s any way to do this.  I sympathize with your problem, but honestly, the difficult solution is probably the better solution:  find out what each library is trying to access and grant that permission explicitly.  If possible, upgrade to versions of libraries which are themselves Java modules.","body":"I don’t think there’s any way to do this.  I sympathize with your problem, but honestly, the difficult solution is probably the better solution:  find out what each library is trying to access and grant that permission explicitly.  If possible, upgrade to versions of libraries which are themselves Java modules."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1696409609,"post_id":77220932,"comment_id":136147793,"body_markdown":"You can expect those 3rd party libraries to crash anyway, as internal APIs have changed or been removed. And you can expect more changes and more removals in the future.","body":"You can expect those 3rd party libraries to crash anyway, as internal APIs have changed or been removed. And you can expect more changes and more removals in the future."}],"owner":{"account_id":17817181,"reputation":21,"user_id":12940464,"display_name":"BlueInf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696333473,"creation_date":1696323792,"question_id":77220932,"body_markdown":"\r\n**NB! I know I can open access to that particular package, however my goal is to open access to all internal JDK APIs**\r\nI want to open the access to internal JDK APIs for my project, which I am migrating to JRE 17. I do not know which 3rd party libraries use which internal jdk apis so to be safe I want to open the access to all internal packages like that:\r\n\r\n```\r\n--add-exports java.*/sun.*=ALL-UNNAMED --add-exports java.*/com.sun.*=ALL-UNNAMED\r\n```\r\nI started the VM with that option, no complaints were printed but the test that was failing continued to fail with \r\n``` \r\ncannot access class sun.security.provider.certpath.OCSP (in module java.base) because module java.base does not export sun.security.provider.certpath to unnamed module @0x23f682d2\r\n```\r\n","title":"Is it possible to use &quot;*&quot; in &quot;--add-exports&quot; JVM option?","body":"<p><strong>NB! I know I can open access to that particular package, however my goal is to open access to all internal JDK APIs</strong>\nI want to open the access to internal JDK APIs for my project, which I am migrating to JRE 17. I do not know which 3rd party libraries use which internal jdk apis so to be safe I want to open the access to all internal packages like that:</p>\n<pre><code>--add-exports java.*/sun.*=ALL-UNNAMED --add-exports java.*/com.sun.*=ALL-UNNAMED\n</code></pre>\n<p>I started the VM with that option, no complaints were printed but the test that was failing continued to fail with</p>\n<pre><code>cannot access class sun.security.provider.certpath.OCSP (in module java.base) because module java.base does not export sun.security.provider.certpath to unnamed module @0x23f682d2\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4985639,"reputation":317,"user_id":4009347,"display_name":"haart"},"score":0,"creation_date":1611762413,"post_id":46948136,"comment_id":116555972,"body_markdown":"if someone needs a mime type instead, you can use: context.getContentResolver().getType(uri)","body":"if someone needs a mime type instead, you can use: context.getContentResolver().getType(uri)"}],"answers":[{"tags":[],"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1509003795,"creation_date":1509003795,"answer_id":46948487,"question_id":46948136,"body_markdown":"Call the content resolver and do a query() on the uri for display name.\r\n\r\nAll solutions with path, get path or get real path from uri are bull shit.","title":"How to get file extension of a file picked with Intent.ACTION_OPEN_DOCUMENT?","body":"<p>Call the content resolver and do a query() on the uri for display name.</p>\n\n<p>All solutions with path, get path or get real path from uri are bull shit.</p>\n"},{"comments":[{"owner":{"account_id":11856372,"reputation":175,"user_id":8676268,"accept_rate":40,"display_name":"Swifty Swift"},"score":0,"creation_date":1509004532,"post_id":46948492,"comment_id":80844535,"body_markdown":"Thanks! This solved my problem, but I have another quick question about this subject. What is a good way to get the File itself? I am using  File file = new File(uri.getPath()); Is this safe?","body":"Thanks! This solved my problem, but I have another quick question about this subject. What is a good way to get the File itself? I am using  File file = new File(uri.getPath()); Is this safe?"},{"owner":{"display_name":"user4696837"},"score":0,"creation_date":1509014708,"post_id":46948492,"comment_id":80851487,"body_markdown":"File file = new File(filePath);","body":"File file = new File(filePath);"},{"owner":{"account_id":11856372,"reputation":175,"user_id":8676268,"accept_rate":40,"display_name":"Swifty Swift"},"score":0,"creation_date":1509014833,"post_id":46948492,"comment_id":80851554,"body_markdown":"Thanks again! However there is one problem with this, I cant get Uri or files I select from Google Drive. Any solutions to this?","body":"Thanks again! However there is one problem with this, I cant get Uri or files I select from Google Drive. Any solutions to this?"},{"owner":{"display_name":"user4696837"},"score":0,"creation_date":1509015170,"post_id":46948492,"comment_id":80851748,"body_markdown":"When you are using Google Drive its not showing file from your device storage. So you can&#39;t choose them using normal Intent. Try this link https://stackoverflow.com/questions/18188653/how-to-select-files-from-google-drive-in-android","body":"When you are using Google Drive its not showing file from your device storage. So you can&#39;t choose them using normal Intent. Try this link <a href=\"https://stackoverflow.com/questions/18188653/how-to-select-files-from-google-drive-in-android\" title=\"how to select files from google drive in android\">stackoverflow.com/questions/18188653/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user4696837"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1509014891,"creation_date":1509003813,"answer_id":46948492,"question_id":46948136,"body_markdown":"Create this two method...   \r\n \r\n    public  String getPath(Context context, Uri uri) throws URISyntaxException {\r\n        if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            String[] projection = { &quot;_data&quot; };\r\n            Cursor cursor = null;\r\n            try {\r\n                cursor = context.getContentResolver().query(uri, projection, null, null, null);\r\n                int column_index = cursor.getColumnIndexOrThrow(&quot;_data&quot;);\r\n                if (cursor.moveToFirst()) {\r\n                    return cursor.getString(column_index);\r\n                }\r\n            } catch (Exception e) {\r\n                // Eat it\r\n            }\r\n        }\r\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            return uri.getPath();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public String getFileExtension(String filePath){\r\n        String extension = &quot;&quot;;\r\n        try{\r\n            extension = filePath.substring(filePath.lastIndexOf(&quot;.&quot;));\r\n        }catch(Exception exception){\r\n          e(&quot;Err&quot;, exception.toString()+&quot;&quot;);\r\n        }\r\n        return  extension;\r\n    }\r\n\r\nthen use this..\r\n\r\n    if (data.getData() != null){\r\n       try{\r\n         Uri uri = data.getData();\r\n         //Get file extension here.\r\n         String filePath = getPath(YourActivity.this, uri);\r\n         String fileExtension = getFileExtension(filePath);\r\n         File file = new File(filePath);\r\n        }catch(Exception e){\r\n             e(&quot;Err&quot;, e.toString()+&quot;&quot;);\r\n        }\r\n    }","title":"How to get file extension of a file picked with Intent.ACTION_OPEN_DOCUMENT?","body":"<p>Create this two method...   </p>\n\n<pre><code>public  String getPath(Context context, Uri uri) throws URISyntaxException {\n    if (\"content\".equalsIgnoreCase(uri.getScheme())) {\n        String[] projection = { \"_data\" };\n        Cursor cursor = null;\n        try {\n            cursor = context.getContentResolver().query(uri, projection, null, null, null);\n            int column_index = cursor.getColumnIndexOrThrow(\"_data\");\n            if (cursor.moveToFirst()) {\n                return cursor.getString(column_index);\n            }\n        } catch (Exception e) {\n            // Eat it\n        }\n    }\n    else if (\"file\".equalsIgnoreCase(uri.getScheme())) {\n        return uri.getPath();\n    }\n\n    return null;\n}\n\npublic String getFileExtension(String filePath){\n    String extension = \"\";\n    try{\n        extension = filePath.substring(filePath.lastIndexOf(\".\"));\n    }catch(Exception exception){\n      e(\"Err\", exception.toString()+\"\");\n    }\n    return  extension;\n}\n</code></pre>\n\n<p>then use this..</p>\n\n<pre><code>if (data.getData() != null){\n   try{\n     Uri uri = data.getData();\n     //Get file extension here.\n     String filePath = getPath(YourActivity.this, uri);\n     String fileExtension = getFileExtension(filePath);\n     File file = new File(filePath);\n    }catch(Exception e){\n         e(\"Err\", e.toString()+\"\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4205423,"reputation":1,"user_id":3444476,"display_name":"user3444476"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696333123,"creation_date":1695988072,"answer_id":77201679,"question_id":46948136,"body_markdown":"**Retrieve a file&#39;s MIME type**\r\n\r\nA file&#39;s data type indicates to the client app how it should handle the file&#39;s contents. To get the data type of a shared file given its content URI, the client app calls ContentResolver.getType(). This method returns the file&#39;s MIME type. By default, a FileProvider determines the file&#39;s MIME type from its filename extension.\r\n\r\nThe following code snippet demonstrates how a client app retrieves the MIME type of a file once the server app has returned the content URI to the client:\r\n```java\r\n/*\r\n * Get the file&#39;s content URI from the incoming Intent, then\r\n * get the file&#39;s MIME type\r\n */\r\n\r\nUri returnUri = returnIntent.getData();\r\n\r\nString mimeType = getContentResolver().getType(returnUri);\r\n```\r\nFrom here: *[Retrieving file information][1]*\r\n\r\n\r\n  [1]: https://developer.android.com/training/secure-file-sharing/retrieve-info","title":"How to get file extension of a file picked with Intent.ACTION_OPEN_DOCUMENT?","body":"<p><strong>Retrieve a file's MIME type</strong></p>\n<p>A file's data type indicates to the client app how it should handle the file's contents. To get the data type of a shared file given its content URI, the client app calls ContentResolver.getType(). This method returns the file's MIME type. By default, a FileProvider determines the file's MIME type from its filename extension.</p>\n<p>The following code snippet demonstrates how a client app retrieves the MIME type of a file once the server app has returned the content URI to the client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Get the file's content URI from the incoming Intent, then\n * get the file's MIME type\n */\n\nUri returnUri = returnIntent.getData();\n\nString mimeType = getContentResolver().getType(returnUri);\n</code></pre>\n<p>From here: <em><a href=\"https://developer.android.com/training/secure-file-sharing/retrieve-info\" rel=\"nofollow noreferrer\">Retrieving file information</a></em></p>\n"}],"owner":{"account_id":11856372,"reputation":175,"user_id":8676268,"accept_rate":40,"display_name":"Swifty Swift"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46948492,"answer_count":3,"score":1,"last_activity_date":1696333123,"creation_date":1509002683,"question_id":46948136,"body_markdown":"I want to get the file extension of a file I picked with Intent.ACTION_OPEN_DOCUMENT. How to get it?\r\n\r\nThis is how I start the picker:\r\n\r\n    private void startFilePicker(){\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;*/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n        startActivityForResult(intent, CODE_ACTION_OPEN_DOCUMENT_FILE);\r\n    }\r\n\r\nThis is callback when file is picked:\r\n\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n    \r\n            //region New Picker\r\n    \r\n            if (requestCode == CODE_ACTION_OPEN_DOCUMENT_FILE){\r\n                if (resultCode == RESULT_OK){\r\n    \r\n                    if (data != null){\r\n                        if (data.getData() != null){\r\n                            Uri uri = data.getData();\r\n                            //Get file extension here.\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nWhen I try to get file path by doing `uri.getPath()`, I get something like `image:105571`, or `acc=1;doc=9204`. So I can&#39;t get it from path. \r\n\r\nThe question is how to determine the file extension of picked file?","title":"How to get file extension of a file picked with Intent.ACTION_OPEN_DOCUMENT?","body":"<p>I want to get the file extension of a file I picked with Intent.ACTION_OPEN_DOCUMENT. How to get it?</p>\n\n<p>This is how I start the picker:</p>\n\n<pre><code>private void startFilePicker(){\n    Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\n    intent.setType(\"*/*\");\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n    startActivityForResult(intent, CODE_ACTION_OPEN_DOCUMENT_FILE);\n}\n</code></pre>\n\n<p>This is callback when file is picked:</p>\n\n<pre><code>    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n\n        //region New Picker\n\n        if (requestCode == CODE_ACTION_OPEN_DOCUMENT_FILE){\n            if (resultCode == RESULT_OK){\n\n                if (data != null){\n                    if (data.getData() != null){\n                        Uri uri = data.getData();\n                        //Get file extension here.\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>When I try to get file path by doing <code>uri.getPath()</code>, I get something like <code>image:105571</code>, or <code>acc=1;doc=9204</code>. So I can't get it from path. </p>\n\n<p>The question is how to determine the file extension of picked file?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1695547052,"post_id":77165931,"comment_id":136036750,"body_markdown":"posting code as images is against the stack overflow rules, please update your question with well formatted code. Its very rude to not read the rules before posting https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors voted to close","body":"posting code as images is against the stack overflow rules, please update your question with well formatted code. Its very rude to not read the rules before posting <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a> voted to close"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695744512,"post_id":77166030,"comment_id":136064222,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77166030/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":29427183,"reputation":11,"user_id":22547588,"display_name":"babyybiss"},"score":0,"creation_date":1700109418,"post_id":77166030,"comment_id":136615107,"body_markdown":"Hey! thank you for your response! It took a hot minute for me to figure this out and I just started commenting out everything in my SecurityConfiguration class and it was the WebSecurity ignore code I had written out! \n\n@Bean\n    public WebSecurityCustomizer configure() {\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/css/**&quot;, &quot;/images/**&quot;, &quot;/js/**&quot;, &quot;/lib/**&quot;); \n\nI didn&#39;t provide this code in the post because I didn&#39;t think it would be the problem and I still don&#39;t know why.... Although thank you for your response and if you have any advice on this, would love to hear back!","body":"Hey! thank you for your response! It took a hot minute for me to figure this out and I just started commenting out everything in my SecurityConfiguration class and it was the WebSecurity ignore code I had written out!   @Bean     public WebSecurityCustomizer configure() {         return (web) -&gt; web.ignoring().antMatchers(&quot;/css/**&quot;, &quot;/images/**&quot;, &quot;/js/**&quot;, &quot;/lib/**&quot;);   I didn&#39;t provide this code in the post because I didn&#39;t think it would be the problem and I still don&#39;t know why.... Although thank you for your response and if you have any advice on this, would love to hear back!"}],"tags":[],"owner":{"account_id":12264682,"reputation":1,"user_id":8951527,"display_name":"swapnil"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696333074,"creation_date":1695539001,"answer_id":77166030,"question_id":77165931,"body_markdown":"Spring Security provides inbuilt functionality so can directly access login page by sharing api in formLogin method. As per new updates it uses lambda expression. Please check this github example. \r\nI have attached link. Please verify : https://github.com/mMosiur/bookystore/blob/main/src/main/java/edu/umcs/bookystore/configurations/SecurityConfiguration.java\r\nTry this below code :\r\n    `.formLogin((login) -&gt; login\r\n\t    //.loginPage(&quot;/user/login&quot;)\r\n\t    //.failureUrl(&quot;/user/login?error&quot;)\r\n\t    .loginPage( &quot;/login&quot; ).permitAll()\r\n\t    .failureUrl( &quot;/failed&quot; )\r\n\t    .defaultSuccessUrl(&quot;/verifyLogin&quot;))`\r\n\r\nIt worked for me.","title":"I&#39;m having a problem with setting my custom login page on Spring Security","body":"<p>Spring Security provides inbuilt functionality so can directly access login page by sharing api in formLogin method. As per new updates it uses lambda expression. Please check this github example.\nI have attached link. Please verify : <a href=\"https://github.com/mMosiur/bookystore/blob/main/src/main/java/edu/umcs/bookystore/configurations/SecurityConfiguration.java\" rel=\"nofollow noreferrer\">https://github.com/mMosiur/bookystore/blob/main/src/main/java/edu/umcs/bookystore/configurations/SecurityConfiguration.java</a>\nTry this below code :\n<code>.formLogin((login) -&gt; login //.loginPage(&quot;/user/login&quot;) //.failureUrl(&quot;/user/login?error&quot;) .loginPage( &quot;/login&quot; ).permitAll() .failureUrl( &quot;/failed&quot; ) .defaultSuccessUrl(&quot;/verifyLogin&quot;))</code></p>\n<p>It worked for me.</p>\n"}],"owner":{"account_id":29427183,"reputation":11,"user_id":22547588,"display_name":"babyybiss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696333074,"creation_date":1695536453,"question_id":77165931,"body_markdown":"I definitely set my SecurityConfiguration class correctly(at least from my knowledge) but if I direct to localhost:8001 on my browser, the default Spring login page seems to keep showing up. \r\n\r\nmy login.html is under resources/templates/user/login\r\n \r\nAnd in my SecurityConfiguration, I set the loginPage() method to exactly &quot;/user/login&quot;\r\n\r\nI set the Authentication manager and UserDetails etc login logic but there may be little errors to where the authentication process isn&#39;t working (I can&#39;t test it because I can&#39;t even get through the default login page) \r\nbut I&#39;m sure that wont be of any disruption for my custom login page not being set.\r\n\r\nI even set to disable Spring default on my Application class&#39; main method. \r\n\r\nI&#39;ll provide as much of my codes.\r\n\r\n\r\n\r\n[[[[enter image description here](https://i.stack.imgur.com/W3O2P.png)](https://i.stack.imgur.com/V5b3y.png)](https://i.stack.imgur.com/91dAd.png)](https://i.stack.imgur.com/elY4C.png)","title":"I&#39;m having a problem with setting my custom login page on Spring Security","body":"<p>I definitely set my SecurityConfiguration class correctly(at least from my knowledge) but if I direct to localhost:8001 on my browser, the default Spring login page seems to keep showing up.</p>\n<p>my login.html is under resources/templates/user/login</p>\n<p>And in my SecurityConfiguration, I set the loginPage() method to exactly &quot;/user/login&quot;</p>\n<p>I set the Authentication manager and UserDetails etc login logic but there may be little errors to where the authentication process isn't working (I can't test it because I can't even get through the default login page)\nbut I'm sure that wont be of any disruption for my custom login page not being set.</p>\n<p>I even set to disable Spring default on my Application class' main method.</p>\n<p>I'll provide as much of my codes.</p>\n<p>[[[<a href=\"https://i.stack.imgur.com/W3O2P.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/V5b3y.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/V5b3y.png</a>)](<a href=\"https://i.stack.imgur.com/91dAd.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/91dAd.png</a>)](<a href=\"https://i.stack.imgur.com/elY4C.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/elY4C.png</a>)</p>\n"},{"tags":["java","performance","collections","hashset"],"comments":[{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":2,"creation_date":1424690171,"post_id":28671903,"comment_id":45638443,"body_markdown":"I tested your code and it worked fast. For you case, it took ~12ms to finished. I&#39;ve also increase both input values by 10 and it took 36ms. Maybe your PC does some intensive CPU tasks while you run the tests?","body":"I tested your code and it worked fast. For you case, it took ~12ms to finished. I&#39;ve also increase both input values by 10 and it took 36ms. Maybe your PC does some intensive CPU tasks while you run the tests?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1424690252,"post_id":28671903,"comment_id":45638483,"body_markdown":"I tested it, and had the same result as the OP (well, I stopped it before the end). Strange indeed. Windows, JDK 1.7.0_55","body":"I tested it, and had the same result as the OP (well, I stopped it before the end). Strange indeed. Windows, JDK 1.7.0_55"},{"owner":{"account_id":247049,"reputation":6390,"user_id":521525,"accept_rate":86,"display_name":"Haozhun"},"score":2,"creation_date":1515721125,"post_id":28671903,"comment_id":83418719,"body_markdown":"There is an open ticket on this: [JDK-6982173](https://bugs.openjdk.java.net/browse/JDK-6982173)","body":"There is an open ticket on this: <a href=\"https://bugs.openjdk.java.net/browse/JDK-6982173\" rel=\"nofollow noreferrer\">JDK-6982173</a>"},{"owner":{"account_id":1891677,"reputation":145566,"user_id":1709587,"accept_rate":71,"display_name":"Mark Amery"},"score":52,"creation_date":1557066044,"post_id":28671903,"comment_id":98633526,"body_markdown":"As [discussed on Meta](https://meta.stackoverflow.com/q/384564/1709587), this question was originally plagiarised from Jon Skeet&#39;s blog (now directly quoted from and linked to in the question, due to a moderator&#39;s edit). Future readers should note that the blog post it was plagiarised from does in fact explain the cause of the behaviour, similarly to the accepted answer here. As such, instead of reading the answers here, you may instead wish to simply click through and read [the full blog post](https://codeblog.jonskeet.uk/2010/07/29/there-s-a-hole-in-my-abstraction-dear-liza-dear-liza/).","body":"As <a href=\"https://meta.stackoverflow.com/q/384564/1709587\">discussed on Meta</a>, this question was originally plagiarised from Jon Skeet&#39;s blog (now directly quoted from and linked to in the question, due to a moderator&#39;s edit). Future readers should note that the blog post it was plagiarised from does in fact explain the cause of the behaviour, similarly to the accepted answer here. As such, instead of reading the answers here, you may instead wish to simply click through and read <a href=\"https://codeblog.jonskeet.uk/2010/07/29/there-s-a-hole-in-my-abstraction-dear-liza-dear-liza/\" rel=\"nofollow noreferrer\">the full blog post</a>."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1582691121,"post_id":28671903,"comment_id":106860623,"body_markdown":"The bug will be fixed in Java 15: [JDK-6394757](https://bugs.openjdk.java.net/browse/JDK-6394757)","body":"The bug will be fixed in Java 15: <a href=\"https://bugs.openjdk.java.net/browse/JDK-6394757\" rel=\"nofollow noreferrer\">JDK-6394757</a>"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1658500074,"post_id":28671903,"comment_id":129074086,"body_markdown":"@ZhekaKozlov: No, the problem is still not fixed in Java 18. Look at the resolution for the bug ticket, it is set to &quot;Unresolved&quot;. The reason is probably that possible solutions have subtle iterations for performance and semantics between `HashSet` and `TreeSet`. See [this discussion](https://mail.openjdk.org/pipermail/core-libs-dev/2020-May/066196.html) on the JDK mailing list for more information.","body":"@ZhekaKozlov: No, the problem is still not fixed in Java 18. Look at the resolution for the bug ticket, it is set to &quot;Unresolved&quot;. The reason is probably that possible solutions have subtle iterations for performance and semantics between <code>HashSet</code> and <code>TreeSet</code>. See <a href=\"https://mail.openjdk.org/pipermail/core-libs-dev/2020-May/066196.html\" rel=\"nofollow noreferrer\">this discussion</a> on the JDK mailing list for more information."}],"answers":[{"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":16,"creation_date":1424690719,"post_id":28672583,"comment_id":45638714,"body_markdown":"Wow. I learnt something today. This looks like a bad implementation choice to me. They should not do that if the other collection is not a Set.","body":"Wow. I learnt something today. This looks like a bad implementation choice to me. They should not do that if the other collection is not a Set."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1424690839,"post_id":28672583,"comment_id":45638780,"body_markdown":"@JBNizet Yes that&#39;s weird - it been discussed [here](http://mail.openjdk.java.net/pipermail/core-libs-dev/2011-July/007148.html) with your suggestion - not sure why it did not go through...","body":"@JBNizet Yes that&#39;s weird - it been discussed <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2011-July/007148.html\" rel=\"nofollow noreferrer\">here</a> with your suggestion - not sure why it did not go through..."},{"owner":{"display_name":"anon"},"score":2,"creation_date":1424696319,"post_id":28672583,"comment_id":45641940,"body_markdown":"Thanks a lot @assylias ..But really wondering how did you figure it out..:)\nNice really nice....Did u faced this problem???","body":"Thanks a lot @assylias ..But really wondering how did you figure it out..:) Nice really nice....Did u faced this problem???"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":8,"creation_date":1424697575,"post_id":28672583,"comment_id":45642618,"body_markdown":"@show_stopper I just ran a profiler and saw that `ArrayList#contains` was the culprit. A look at the code of `AbstractSet#removeAll` gave the rest of the answer.","body":"@show_stopper I just ran a profiler and saw that <code>ArrayList#contains</code> was the culprit. A look at the code of <code>AbstractSet#removeAll</code> gave the rest of the answer."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":4,"down_vote_count":0,"up_vote_count":155,"is_accepted":true,"score":155,"last_activity_date":1685607601,"creation_date":1424690442,"answer_id":28672583,"question_id":28671903,"body_markdown":"The behaviour is (somewhat) documented in the [javadoc][1]:\r\n\r\n&gt; This implementation determines which is the smaller of this set and the specified collection, by invoking the size method on each. ***If this set has fewer elements***, then the implementation iterates over this set, checking each element returned by the iterator in turn to see ***if it is contained in the specified collection***. If it is so contained, it is removed from this set with the iterator&#39;s remove method. If the specified collection has fewer elements, then the implementation iterates over the specified collection, removing from this set each element returned by the iterator, using this set&#39;s remove method.\r\n\r\nWhat this means in practice, when you call `source.removeAll(removals);`: \r\n\r\n- if the `removals` collection is of a smaller size than `source`, the `remove` method of `HashSet` is called, which is fast.\r\n\r\n- if the `removals` collection is of equal or larger size than the `source`, then `removals.contains` is called, which is slow for an ArrayList.\r\n\r\nQuick fix:\r\n\r\n    Collection&lt;Integer&gt; removals = new HashSet&lt;Integer&gt;();\r\n\r\nNote that there is [an open bug][2] that is very similar to what you describe. The bottom line seems to be that it is probably a poor choice but can&#39;t be changed because it is documented in the javadoc.\r\n\r\n---\r\n\r\nFor reference, this is the code of `removeAll` (in Java 8 - haven&#39;t checked other versions):\r\n\r\n    public boolean removeAll(Collection&lt;?&gt; c) {\r\n        Objects.requireNonNull(c);\r\n        boolean modified = false;\r\n\r\n        if (size() &gt; c.size()) {\r\n            for (Iterator&lt;?&gt; i = c.iterator(); i.hasNext(); )\r\n                modified |= remove(i.next());\r\n        } else {\r\n            for (Iterator&lt;?&gt; i = iterator(); i.hasNext(); ) {\r\n                if (c.contains(i.next())) {\r\n                    i.remove();\r\n                    modified = true;\r\n                }\r\n            }\r\n        }\r\n        return modified;\r\n    }\r\n\r\n [1]: http://docs.oracle.com/javase/8/docs/api/java/util/AbstractSet.html#removeAll-java.util.Collection-\r\n [2]: https://bugs.openjdk.java.net/browse/JDK-6982173","title":"The HashSet&lt;T&gt;.removeAll method is surprisingly slow","body":"<p>The behaviour is (somewhat) documented in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/AbstractSet.html#removeAll-java.util.Collection-\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>This implementation determines which is the smaller of this set and the specified collection, by invoking the size method on each. <em><strong>If this set has fewer elements</strong></em>, then the implementation iterates over this set, checking each element returned by the iterator in turn to see <em><strong>if it is contained in the specified collection</strong></em>. If it is so contained, it is removed from this set with the iterator's remove method. If the specified collection has fewer elements, then the implementation iterates over the specified collection, removing from this set each element returned by the iterator, using this set's remove method.</p>\n</blockquote>\n<p>What this means in practice, when you call <code>source.removeAll(removals);</code>:</p>\n<ul>\n<li><p>if the <code>removals</code> collection is of a smaller size than <code>source</code>, the <code>remove</code> method of <code>HashSet</code> is called, which is fast.</p>\n</li>\n<li><p>if the <code>removals</code> collection is of equal or larger size than the <code>source</code>, then <code>removals.contains</code> is called, which is slow for an ArrayList.</p>\n</li>\n</ul>\n<p>Quick fix:</p>\n<pre><code>Collection&lt;Integer&gt; removals = new HashSet&lt;Integer&gt;();\n</code></pre>\n<p>Note that there is <a href=\"https://bugs.openjdk.java.net/browse/JDK-6982173\" rel=\"nofollow noreferrer\">an open bug</a> that is very similar to what you describe. The bottom line seems to be that it is probably a poor choice but can't be changed because it is documented in the javadoc.</p>\n<hr />\n<p>For reference, this is the code of <code>removeAll</code> (in Java 8 - haven't checked other versions):</p>\n<pre><code>public boolean removeAll(Collection&lt;?&gt; c) {\n    Objects.requireNonNull(c);\n    boolean modified = false;\n\n    if (size() &gt; c.size()) {\n        for (Iterator&lt;?&gt; i = c.iterator(); i.hasNext(); )\n            modified |= remove(i.next());\n    } else {\n        for (Iterator&lt;?&gt; i = iterator(); i.hasNext(); ) {\n            if (c.contains(i.next())) {\n                i.remove();\n                modified = true;\n            }\n        }\n    }\n    return modified;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696332919,"creation_date":1696332919,"answer_id":77221905,"question_id":28671903,"body_markdown":"Intellij Idea has a built-in code inspection for this usage and a quick fix (provided that you can use java 1.8):\r\n\r\n[![&#39;set.removeAll(list)&#39; may work slowly ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aEN6M.png","title":"The HashSet&lt;T&gt;.removeAll method is surprisingly slow","body":"<p>Intellij Idea has a built-in code inspection for this usage and a quick fix (provided that you can use java 1.8):</p>\n<p><a href=\"https://i.stack.imgur.com/aEN6M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEN6M.png\" alt=\"'set.removeAll(list)' may work slowly \" /></a></p>\n"}],"owner":{"display_name":"anon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22348,"favorite_count":0,"down_vote_count":14,"up_vote_count":120,"accepted_answer_id":28672583,"answer_count":2,"score":106,"last_activity_date":1696332919,"creation_date":1424688319,"question_id":28671903,"body_markdown":"Jon Skeet recently raised an interesting programming topic on his blog: [&quot;There&#39;s a hole in my abstraction, dear Liza, dear Liza&quot;](https://codeblog.jonskeet.uk/2010/07/29/there-s-a-hole-in-my-abstraction-dear-liza-dear-liza/) (emphasis added):\n\n&gt; I have a set – a `HashSet`, in fact. I want to remove some items from it… and many of the items may well not exist. In fact, in our test case, *none* of the items in the &quot;removals&quot; collection will be in the original set. This sounds – and indeed *is* – extremely easy to code. After all, we’ve got [`Set&lt;T&gt;.removeAll`](https://docs.oracle.com/javase/6/docs/api/java/util/Set.html#removeAll(java.util.Collection)) to help us, right?\n&gt;\n&gt; We specify the size of the &quot;source&quot; set and the size of the &quot;removals&quot; collection on the command line, and build both of them. The source set contains only non-negative integers; the removals set contains only negative integers. We measure how long it takes to remove all the elements using `System.currentTimeMillis()`, which isn’t the world most accurate stopwatch but is more than adequate in this case, as you’ll see. Here’s the code:\n&gt; \n&gt;     import java.util.*;\n&gt;     public class Test \n&gt;     { \n&gt;         public static void main(String[] args) \n&gt;         { \n&gt;            int sourceSize = Integer.parseInt(args[0]); \n&gt;            int removalsSize = Integer.parseInt(args[1]); \n&gt;             \n&gt;            Set&lt;Integer&gt; source = new HashSet&lt;Integer&gt;(); \n&gt;            Collection&lt;Integer&gt; removals = new ArrayList&lt;Integer&gt;(); \n&gt;             \n&gt;            for (int i = 0; i &lt; sourceSize; i++) \n&gt;            { \n&gt;                source.add(i); \n&gt;            } \n&gt;            for (int i = 1; i &lt;= removalsSize; i++) \n&gt;            { \n&gt;                removals.add(-i); \n&gt;            } \n&gt;             \n&gt;            long start = System.currentTimeMillis(); \n&gt;            source.removeAll(removals); \n&gt;            long end = System.currentTimeMillis(); \n&gt;            System.out.println(&quot;Time taken: &quot; + (end - start) + &quot;ms&quot;); \n&gt;         }\n&gt;     }\n&gt;\n&gt; Let’s start off by giving it an easy job: **a source set of 100 items, and 100 to remove:**\n&gt;\n&gt; &lt;!-- language: lang-none --&gt;\n&gt;\n&gt;     c:UsersJonTest&gt;java Test 100 100\n&gt;     Time taken: 1ms\n&gt;\n&gt; Okay, so we hadn’t expected it to be slow… clearly we can ramp things up a bit. How about a source of one million items and 300,000 items to remove?\n&gt;\n&gt; &lt;!-- language: lang-none --&gt;\n&gt;\n&gt;     c:UsersJonTest&gt;java Test 1000000 300000\n&gt;     Time taken: 38ms\n&gt;\n&gt; Hmm. That still seems pretty speedy. Now I feel I’ve been a little bit cruel, asking it to do all that removing. Let’s make it a bit easier – 300,000 source items and 300,000 removals:\n&gt;\n&gt; &lt;!-- language: lang-none --&gt;\n&gt;\n&gt;     c:UsersJonTest&gt;java Test 300000 300000\n&gt;     Time taken: 178131ms\n&gt;\n&gt; Excuse me? Nearly three *minutes*? Yikes! Surely it ought to be easier to remove items from a *smaller* collection than the one we managed in 38ms?\n\nCan someone explain why this is happening? Why is the `HashSet&lt;T&gt;.removeAll` method so slow?\n\n","title":"The HashSet&lt;T&gt;.removeAll method is surprisingly slow","body":"<p>Jon Skeet recently raised an interesting programming topic on his blog: <a href=\"https://codeblog.jonskeet.uk/2010/07/29/there-s-a-hole-in-my-abstraction-dear-liza-dear-liza/\" rel=\"noreferrer\">&quot;There's a hole in my abstraction, dear Liza, dear Liza&quot;</a> (emphasis added):</p>\n<blockquote>\n<p>I have a set – a <code>HashSet</code>, in fact. I want to remove some items from it… and many of the items may well not exist. In fact, in our test case, <em>none</em> of the items in the &quot;removals&quot; collection will be in the original set. This sounds – and indeed <em>is</em> – extremely easy to code. After all, we’ve got <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Set.html#removeAll(java.util.Collection)\" rel=\"noreferrer\"><code>Set&lt;T&gt;.removeAll</code></a> to help us, right?</p>\n<p>We specify the size of the &quot;source&quot; set and the size of the &quot;removals&quot; collection on the command line, and build both of them. The source set contains only non-negative integers; the removals set contains only negative integers. We measure how long it takes to remove all the elements using <code>System.currentTimeMillis()</code>, which isn’t the world most accurate stopwatch but is more than adequate in this case, as you’ll see. Here’s the code:</p>\n<pre><code>import java.util.*;\npublic class Test \n{ \n    public static void main(String[] args) \n    { \n       int sourceSize = Integer.parseInt(args[0]); \n       int removalsSize = Integer.parseInt(args[1]); \n        \n       Set&lt;Integer&gt; source = new HashSet&lt;Integer&gt;(); \n       Collection&lt;Integer&gt; removals = new ArrayList&lt;Integer&gt;(); \n        \n       for (int i = 0; i &lt; sourceSize; i++) \n       { \n           source.add(i); \n       } \n       for (int i = 1; i &lt;= removalsSize; i++) \n       { \n           removals.add(-i); \n       } \n        \n       long start = System.currentTimeMillis(); \n       source.removeAll(removals); \n       long end = System.currentTimeMillis(); \n       System.out.println(&quot;Time taken: &quot; + (end - start) + &quot;ms&quot;); \n    }\n}\n</code></pre>\n<p>Let’s start off by giving it an easy job: <strong>a source set of 100 items, and 100 to remove:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>c:UsersJonTest&gt;java Test 100 100\nTime taken: 1ms\n</code></pre>\n<p>Okay, so we hadn’t expected it to be slow… clearly we can ramp things up a bit. How about a source of one million items and 300,000 items to remove?</p>\n<pre class=\"lang-none prettyprint-override\"><code>c:UsersJonTest&gt;java Test 1000000 300000\nTime taken: 38ms\n</code></pre>\n<p>Hmm. That still seems pretty speedy. Now I feel I’ve been a little bit cruel, asking it to do all that removing. Let’s make it a bit easier – 300,000 source items and 300,000 removals:</p>\n<pre class=\"lang-none prettyprint-override\"><code>c:UsersJonTest&gt;java Test 300000 300000\nTime taken: 178131ms\n</code></pre>\n<p>Excuse me? Nearly three <em>minutes</em>? Yikes! Surely it ought to be easier to remove items from a <em>smaller</em> collection than the one we managed in 38ms?</p>\n</blockquote>\n<p>Can someone explain why this is happening? Why is the <code>HashSet&lt;T&gt;.removeAll</code> method so slow?</p>\n"},{"tags":["java","spring","spring-boot","matlab","maven"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1695970858,"post_id":77199966,"comment_id":136096788,"body_markdown":"well, the warning clearly states the problem. The library you imported tried to use reflection which was not allowed and caused your application to shutdown","body":"well, the warning clearly states the problem. The library you imported tried to use reflection which was not allowed and caused your application to shutdown"},{"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"score":0,"creation_date":1695970945,"post_id":77199966,"comment_id":136096804,"body_markdown":"Any way to solve this problem?","body":"Any way to solve this problem?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1695971099,"post_id":77199966,"comment_id":136096832,"body_markdown":"This other thread seems to solve the same issue, so you could refer to it https://stackoverflow.com/a/68964308/16034206","body":"This other thread seems to solve the same issue, so you could refer to it <a href=\"https://stackoverflow.com/a/68964308/16034206\">stackoverflow.com/a/68964308/16034206</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1695971107,"post_id":77199966,"comment_id":136096836,"body_markdown":"Does this answer your question? [Spring boot - An illegal reflective access operation has occurred](https://stackoverflow.com/questions/67956945/spring-boot-an-illegal-reflective-access-operation-has-occurred)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67956945/spring-boot-an-illegal-reflective-access-operation-has-occurred\">Spring boot - An illegal reflective access operation has occurred</a>"},{"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"score":0,"creation_date":1695976380,"post_id":77199966,"comment_id":136097668,"body_markdown":"@experimentunit1998X  I tried  `java --illegal-access=deny peridynamics.demoApp -jar demo.jar` but i get could not find the main class error. This is the main class, i also checked in Manifest.mf.","body":"@experimentunit1998X  I tried  <code>java --illegal-access=deny peridynamics.demoApp -jar demo.jar</code> but i get could not find the main class error. This is the main class, i also checked in Manifest.mf."},{"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"score":0,"creation_date":1695976745,"post_id":77199966,"comment_id":136097720,"body_markdown":"@experimentunit1998X Btw, I run ` java --illegal-access=deny  -jar demo.jar`. I couldn&#39;t see warning messages. However the system closing.","body":"@experimentunit1998X Btw, I run ` java --illegal-access=deny  -jar demo.jar`. I couldn&#39;t see warning messages. However the system closing."},{"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"score":0,"creation_date":1696313548,"post_id":77199966,"comment_id":136133353,"body_markdown":"@experimentunit1998X I edited the question. Could you check it?","body":"@experimentunit1998X I edited the question. Could you check it?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1696316132,"post_id":77199966,"comment_id":136133729,"body_markdown":"Not sure if you tried this before? https://www.baeldung.com/java-illegal-reflective-access#:~:text=And%2C%20to%20add%20opens%20to%20all%20unnamed%20modules%2C%20we%20can%20use%20the%20ALL%2DUNNAMED but if ALL_UNNAMED doesnt work, maybe you can try naming to the specific peridynamics module?","body":"Not sure if you tried this before? <a href=\"https://www.baeldung.com/java-illegal-reflective-access#:~:text=And%2C%20to%20add%20opens%20to%20all%20unnamed%20modules%2C%20we%20can%20use%20the%20ALL%2DUNNAMED\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a> but if ALL_UNNAMED doesnt work, maybe you can try naming to the specific peridynamics module?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1696316424,"post_id":77199966,"comment_id":136133783,"body_markdown":"You could also see this: https://learn.microsoft.com/en-us/java/openjdk/transition-from-java-8-to-java-11#:~:text=The%20warning%20in%20the,named%20ALL%2DUNNAMED.","body":"You could also see this: <a href=\"https://learn.microsoft.com/en-us/java/openjdk/transition-from-java-8-to-java-11#:~:text=The%20warning%20in%20the,named%20ALL%2DUNNAMED\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/openjdk/&hellip;</a>."},{"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"score":0,"creation_date":1696317404,"post_id":77199966,"comment_id":136133939,"body_markdown":"@experimentunit1998X difference between Matlab java version and the project java version be a problem? There is a jar file that uses Matlab, the jar file&#39;s Java version is Java 11 and Matlab version is R2018a JRE 1.8. I thought the version difference could make these errors. What do you think? For instance, what about updating the jar file Matlab version (R2023a Java 11)?","body":"@experimentunit1998X difference between Matlab java version and the project java version be a problem? There is a jar file that uses Matlab, the jar file&#39;s Java version is Java 11 and Matlab version is R2018a JRE 1.8. I thought the version difference could make these errors. What do you think? For instance, what about updating the jar file Matlab version (R2023a Java 11)?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1696317456,"post_id":77199966,"comment_id":136133942,"body_markdown":"that could help. why dont you try it out&gt;","body":"that could help. why dont you try it out&gt;"},{"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"score":0,"creation_date":1696317483,"post_id":77199966,"comment_id":136133946,"body_markdown":"I am gonna try it.","body":"I am gonna try it."}],"answers":[{"tags":[],"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696332915,"creation_date":1696326449,"answer_id":77221199,"question_id":77199966,"body_markdown":"Finally I solved the problem. As you can see in the pom.xml file, i added some `&lt;scope&gt;&lt;/scope&gt;`. And also as you can see in the errors it couldn&#39;t find `javabuilder`. After adding this in plugin: \r\n\r\n    &lt;configuration&gt;\r\n       &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n    &lt;/configuration&gt;\r\n\r\nthe problem was solved successfully.\r\n\r\nReference: https:https://stackoverflow.com/a/72439269/17051811","title":"How to solve Spring Boot .jar file problem?","body":"<p>Finally I solved the problem. As you can see in the pom.xml file, i added some <code>&lt;scope&gt;&lt;/scope&gt;</code>. And also as you can see in the errors it couldn't find <code>javabuilder</code>. After adding this in plugin:</p>\n<pre><code>&lt;configuration&gt;\n   &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>the problem was solved successfully.</p>\n<p>Reference: https:<a href=\"https://stackoverflow.com/a/72439269/17051811\">https://stackoverflow.com/a/72439269/17051811</a></p>\n"}],"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77221199,"answer_count":1,"score":-1,"last_activity_date":1696332915,"creation_date":1695970430,"question_id":77199966,"body_markdown":"I have a RESTful API project where I use Spring Boot Maven. I&#39;m also processing in Matlab with a jar file. I converted this project to .jar file, but running it with `java -jar demo.jar` closes after running. I got some errors. However, since it was a restful API, it had to remain open so that I could access the APIs. \r\n\r\nJava : Java 11\r\n\r\nMatlab: R2018a, JRE 1.8\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.16&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo1&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo1&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;cholSolver.path&gt;C:\\Users\\user\\Desktop\\PDTO-Project\\pdtopolys\\cholSolver.jar&lt;/cholSolver.path&gt;\r\n        &lt;javabuilder.path&gt;C:\\Program Files\\MATLAB\\R2018a\\toolbox\\javabuilder\\jar\\javabuilder.jar&lt;/javabuilder.path&gt;     \r\n         \r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.matrix-toolkits-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mtj&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;peridynamics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cholSolver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${cholSolver.path}&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mathworks&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javabuilder&lt;/artifactId&gt;\r\n        &lt;version&gt;R2018a&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${javabuilder.path}&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.1&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAfter running:java -jar demo.jar, a few errors and closed:\r\n\r\n``` \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::               (v2.7.16)\r\n\r\n2023-10-02 10:33:45.924  INFO 25648 --- [           main] peridynamics.demoApp                     : Starting demoApp v0.0.1-SNAPSHOT using Java 17.0.8 on IMC-RYILDIZ with PID 25648 (C:\\Users\\suuser\\Desktop\\PDTO-Deneme\\PDTO-Project\\pdtopolys\\fea\\target\\demo1-0.0.1-SNAPSHOT.jar started by rozerin.yildiz in C:\\Users\\suuser\\Desktop\\PDTO-Deneme\\PDTO-Project\\pdtopolys\\fea)\r\n2023-10-02 10:33:45.928  INFO 25648 --- [           main] peridynamics.demoApp                     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-02 10:33:46.798  INFO 25648 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-02 10:33:46.807  INFO 25648 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-02 10:33:46.807  INFO 25648 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.80]\r\n2023-10-02 10:33:46.889  INFO 25648 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-02 10:33:46.890  INFO 25648 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 906 ms\r\n2023-10-02 10:33:46.940  WARN 25648 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;beso3D_PD&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [peridynamics.Beso3D_PD] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@1ed6993a]\r\n2023-10-02 10:33:46.940  INFO 25648 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-10-02 10:33:46.956  INFO 25648 --- [           main] ConditionEvaluationReportLoggingListener :\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.        \r\n2023-10-02 10:33:46.974 ERROR 25648 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;beso3D_PD&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [peridynamics.Beso3D_PD] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@1ed6993a]\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:298) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921) ~[spring-context-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.16.jar!/:2.7.16]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.16.jar!/:2.7.16]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.16.jar!/:2.7.16]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.16.jar!/:2.7.16] \r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.16.jar!/:2.7.16]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.16.jar!/:2.7.16]\r\n        at peridynamics.demoApp.main(demoApp.java:11) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]     \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] \r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]  \r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [peridynamics.Beso3D_PD] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@1ed6993a]\r\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.30.jar!/:5.3.30]\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:276) ~[spring-beans-5.3.30.jar!/:5.3.30]\r\n        ... 26 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: com/mathworks/toolbox/javabuilder/MWException\r\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.30.jar!/:5.3.30]\r\n        ... 28 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.mathworks.toolbox.javabuilder.MWException\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n        ... 32 common frames omitted\r\n```\r\n\r\nHow to fix these problems?","title":"How to solve Spring Boot .jar file problem?","body":"<p>I have a RESTful API project where I use Spring Boot Maven. I'm also processing in Matlab with a jar file. I converted this project to .jar file, but running it with <code>java -jar demo.jar</code> closes after running. I got some errors. However, since it was a restful API, it had to remain open so that I could access the APIs.</p>\n<p>Java : Java 11</p>\n<p>Matlab: R2018a, JRE 1.8\npom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.16&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;cholSolver.path&gt;C:\\Users\\user\\Desktop\\PDTO-Project\\pdtopolys\\cholSolver.jar&lt;/cholSolver.path&gt;\n        &lt;javabuilder.path&gt;C:\\Program Files\\MATLAB\\R2018a\\toolbox\\javabuilder\\jar\\javabuilder.jar&lt;/javabuilder.path&gt;     \n         \n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.matrix-toolkits-java&lt;/groupId&gt;\n            &lt;artifactId&gt;mtj&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;peridynamics&lt;/groupId&gt;\n            &lt;artifactId&gt;cholSolver&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${cholSolver.path}&lt;/systemPath&gt;\n        &lt;/dependency&gt;    \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mathworks&lt;/groupId&gt;\n        &lt;artifactId&gt;javabuilder&lt;/artifactId&gt;\n        &lt;version&gt;R2018a&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${javabuilder.path}&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt; \n&lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                \n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>After running:java -jar demo.jar, a few errors and closed:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.7.16)\n\n2023-10-02 10:33:45.924  INFO 25648 --- [           main] peridynamics.demoApp                     : Starting demoApp v0.0.1-SNAPSHOT using Java 17.0.8 on IMC-RYILDIZ with PID 25648 (C:\\Users\\suuser\\Desktop\\PDTO-Deneme\\PDTO-Project\\pdtopolys\\fea\\target\\demo1-0.0.1-SNAPSHOT.jar started by rozerin.yildiz in C:\\Users\\suuser\\Desktop\\PDTO-Deneme\\PDTO-Project\\pdtopolys\\fea)\n2023-10-02 10:33:45.928  INFO 25648 --- [           main] peridynamics.demoApp                     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-02 10:33:46.798  INFO 25648 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-02 10:33:46.807  INFO 25648 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-02 10:33:46.807  INFO 25648 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.80]\n2023-10-02 10:33:46.889  INFO 25648 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-02 10:33:46.890  INFO 25648 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 906 ms\n2023-10-02 10:33:46.940  WARN 25648 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'beso3D_PD': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [peridynamics.Beso3D_PD] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@1ed6993a]\n2023-10-02 10:33:46.940  INFO 25648 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-10-02 10:33:46.956  INFO 25648 --- [           main] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.        \n2023-10-02 10:33:46.974 ERROR 25648 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'beso3D_PD': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [peridynamics.Beso3D_PD] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@1ed6993a]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:298) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921) ~[spring-context-5.3.30.jar!/:5.3.30]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.30.jar!/:5.3.30]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.16.jar!/:2.7.16]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.16.jar!/:2.7.16]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.16.jar!/:2.7.16]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.16.jar!/:2.7.16] \n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.16.jar!/:2.7.16]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.16.jar!/:2.7.16]\n        at peridynamics.demoApp.main(demoApp.java:11) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]     \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] \n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]  \n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [peridynamics.Beso3D_PD] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@1ed6993a]\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.30.jar!/:5.3.30]\n        at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.30.jar!/:5.3.30]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:276) ~[spring-beans-5.3.30.jar!/:5.3.30]\n        ... 26 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/mathworks/toolbox/javabuilder/MWException\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.30.jar!/:5.3.30]\n        ... 28 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.mathworks.toolbox.javabuilder.MWException\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[demo1-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        ... 32 common frames omitted\n</code></pre>\n<p>How to fix these problems?</p>\n"},{"tags":["java","spring-boot","azureservicebus","jms-topic","jmstemplate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693859299,"post_id":77039251,"comment_id":135812641,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":28158497,"reputation":695,"user_id":21518858,"display_name":"Balaji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696332850,"creation_date":1696332850,"answer_id":77221894,"question_id":77039251,"body_markdown":"Spring Boot always using same SPRING-DATASOURCE-USERNAME &amp; SPRING-DATASOURCE-PASSWORD from Azure Key Vault for two separate application\r\n\r\nAzure Service Bus uses its own proprietary protocol for communication, so you can’t use the `ActiveMQConnectionFactory` for this purpose. Instead, use the Azure Service Bus JMS library for configuration. configure JMS to work with Azure Service Bus in the Spring Boot 2.2.11-RELEASE application.\r\n\r\n-   Remove the `org.springframework.boot:spring-boot-starter-activemq` dependency from your `build.gradle` as you won’t be using ActiveMQ for Azure Service Bus.\r\n    \r\n-   Update the `JmsConfig` class to configure JMS for Azure Service Bus. Use the `ServiceBusJMSConnectionFactory` provided by the Azure Service Bus JMS library.\r\n    \r\n\r\n```java\r\nimport com.microsoft.azure.servicebus.jms.ServiceBusJMSConnectionFactory;\r\nimport com.microsoft.azure.servicebus.jms.ServiceBusJMSClientConfig;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.jms.core.JmsTemplate;\r\nimport org.springframework.jms.support.converter.MappingJackson2MessageConverter;\r\nimport org.springframework.jms.support.converter.MessageConverter;\r\n\r\n@Configuration\r\npublic class JmsConfig {\r\n\r\n    @Value(&quot;${spring.jms.servicebus.connection-string}&quot;)\r\n    private String connectionString;\r\n    @Value(&quot;${app.azure.service-bus.topic}&quot;)\r\n    private String topic;\r\n\r\n    @Bean\r\n    public ServiceBusJMSConnectionFactory jmsConnectionFactory() {\r\n        ServiceBusJMSClientConfig config = new ServiceBusJMSClientConfig();\r\n        config.setConnectionString(connectionString);\r\n        return new ServiceBusJMSConnectionFactory(config);\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate jmsTemplate() {\r\n        JmsTemplate jmsTemplate = new JmsTemplate(jmsConnectionFactory());\r\n        jmsTemplate.setDefaultDestinationName(topic);\r\n        jmsTemplate.setMessageConverter(jacksonJmsMessageConverter());\r\n        return jmsTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public MessageConverter jacksonJmsMessageConverter() {\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setTargetType(MessageType.TEXT);\r\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n        return converter;\r\n    }\r\n}\r\n\r\n```\r\n\r\n-   Now, I am able to send messages to an Azure Service Bus topic using JMS.\r\n\r\n![enter image description here](https://i.imgur.com/xvUBC3j.png)","title":"Spring Boot JmsConfig for Azure Service Bus","body":"<p>Spring Boot always using same SPRING-DATASOURCE-USERNAME &amp; SPRING-DATASOURCE-PASSWORD from Azure Key Vault for two separate application</p>\n<p>Azure Service Bus uses its own proprietary protocol for communication, so you can’t use the <code>ActiveMQConnectionFactory</code> for this purpose. Instead, use the Azure Service Bus JMS library for configuration. configure JMS to work with Azure Service Bus in the Spring Boot 2.2.11-RELEASE application.</p>\n<ul>\n<li><p>Remove the <code>org.springframework.boot:spring-boot-starter-activemq</code> dependency from your <code>build.gradle</code> as you won’t be using ActiveMQ for Azure Service Bus.</p>\n</li>\n<li><p>Update the <code>JmsConfig</code> class to configure JMS for Azure Service Bus. Use the <code>ServiceBusJMSConnectionFactory</code> provided by the Azure Service Bus JMS library.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import com.microsoft.azure.servicebus.jms.ServiceBusJMSConnectionFactory;\nimport com.microsoft.azure.servicebus.jms.ServiceBusJMSClientConfig;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jms.core.JmsTemplate;\nimport org.springframework.jms.support.converter.MappingJackson2MessageConverter;\nimport org.springframework.jms.support.converter.MessageConverter;\n\n@Configuration\npublic class JmsConfig {\n\n    @Value(&quot;${spring.jms.servicebus.connection-string}&quot;)\n    private String connectionString;\n    @Value(&quot;${app.azure.service-bus.topic}&quot;)\n    private String topic;\n\n    @Bean\n    public ServiceBusJMSConnectionFactory jmsConnectionFactory() {\n        ServiceBusJMSClientConfig config = new ServiceBusJMSClientConfig();\n        config.setConnectionString(connectionString);\n        return new ServiceBusJMSConnectionFactory(config);\n    }\n\n    @Bean\n    public JmsTemplate jmsTemplate() {\n        JmsTemplate jmsTemplate = new JmsTemplate(jmsConnectionFactory());\n        jmsTemplate.setDefaultDestinationName(topic);\n        jmsTemplate.setMessageConverter(jacksonJmsMessageConverter());\n        return jmsTemplate;\n    }\n\n    @Bean\n    public MessageConverter jacksonJmsMessageConverter() {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        return converter;\n    }\n}\n\n</code></pre>\n<ul>\n<li>Now, I am able to send messages to an Azure Service Bus topic using JMS.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/xvUBC3j.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":24428609,"reputation":1,"user_id":18353857,"display_name":"Siyamcela Nxuseka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696332850,"creation_date":1693843671,"question_id":77039251,"body_markdown":"I am developing a Spring Boot producer that sends data to Azure Service Bus. The project is currently running on version 2.2.11.RELEASE. However, I encountered a roadblock when I realized that there is no Azure Service Bus library support for this version. Azure Service Bus support begins from version 2.5.0 and above. Since upgrading to a newer Spring Boot version poses significant challenges, I decided to implement the producer using JMS to send data to Azure Service Bus.\r\n\r\nI have successfully implemented a similar exercise in our new project using ServiceBusSenderClient, which works flawlessly with the latest Spring Boot versions. Unfortunately, achieving the same functionality with Spring Boot 2.2.11-RELEASE has proven to be a challenge. This is why I turned to JMS as an alternative.\r\n\r\n\r\nBelow is what I have done and tried so far\r\n\r\napplication.yml\r\n\r\n\r\n```\r\nspring\r\n  jms:\r\n    servicebus:\r\n      connection-string: ${AZURE_ENDPOINT}\r\n\t  topic: ${TOPIC}\r\n      topic-client-id: ${TOPIC_CLIENT_ID}\r\n      pricing-tier: standard\r\n```\r\n\r\nbelow are new dependencies I added in my build.gradle\r\n\r\n\r\n```\r\nimplementation &#39;com.azure.spring:spring-cloud-azure-starter-servicebus-jms:5.5.0&#39;\r\nimplementation &#39;com.microsoft.azure:azure-servicebus-jms:2.0.6&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-activemq&#39;\r\n```\r\n \r\nPart of code implementation\r\n\r\n     \r\n```\r\n    @Autowired\r\n    private JmsTemplate ***jmsTemplate***;\r\n        List&lt;TradeEntity&gt; tradeEntityList = eventsToBeSent.stream().map(DisruptionEventEntity::getTrade).distinct().collect(Collectors.toList());\r\n        List&lt;String&gt; dateList = eventsToBeSent.stream().map(\r\n                DisruptionEventEntity::getMeasureDate).distinct().collect(Collectors.toList());\r\n\r\n            for (String date1: dateList){\r\n                SendMeasureRequestPayload sendMeasureRequestPayload =\r\n                        new SendMeasureRequestPayload(sendMeasureValues,date1,&quot;Daily&quot;)\r\n\t\t\t\t\t\t\r\n                    if (!CollectionUtils.isEmpty(eventEntities)){\r\n                        if (tradeEntity.getSfmConfiguration() !=null){\r\n                            List&lt;SendMeasureValues&gt; measureValues = getMeasureValues(sfmConfiguration, sfmMeasureDTO);\r\n                            sendMeasureValues.addAll(measureValues);\r\n                            sendMeasureRequestPayload.setValues(sendMeasureValues);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                log.info(&quot;Sending Data ...... {}&quot;, topic);\r\n                jmsTemplate.send(topic,session -&gt; session.createTextMessage(sendMeasureRequestPayload.toString())); // code to send data\r\n                \r\n            }\r\n```\r\n\r\nMy Struggle is on the JmsConfig class and I would love any assistance that one could assist with \r\n\r\nBelow is the piece of code I tried but since I am using azure service bus it&#39;s not working because it&#39;s expecting an endpoint with tcp at the beging\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableJms\r\npublic class **JmsConfig** {\r\n\r\n    @Value(&quot;${spring.jms.service.connection-string}&quot;)\r\n    private String connectionString;\r\n    @Value(&quot;${app.azure.service-bus.topic}&quot;)\r\n    private String topic;\r\n\r\n    @Bean\r\n    public MessageConverter jacksonJmsMessageConverter(){\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setTargetType(MessageType.TEXT);\r\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public ActiveMQConnectionFactory amqConnectionFactory(){\r\n        return new ActiveMQConnectionFactory(connectionString);\r\n    }\r\n\r\n    @Bean\r\n    public CachingConnectionFactory connectionFactory(){\r\n        return new CachingConnectionFactory(amqConnectionFactory());\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate jmsTemplate(){\r\n        JmsTemplate jmsTemplate = new JmsTemplate(connectionFactory());\r\n        jmsTemplate.setDefaultDestinationName(topic);\r\n        jmsTemplate.setConnectionFactory(connectionFactory());\r\n        jmsTemplate.setMessageConverter(jacksonJmsMessageConverter());\r\n        return jmsTemplate;\r\n    }\r\n}\r\n```\r\n\r\nYour guidance would be very appreciated thanks","title":"Spring Boot JmsConfig for Azure Service Bus","body":"<p>I am developing a Spring Boot producer that sends data to Azure Service Bus. The project is currently running on version 2.2.11.RELEASE. However, I encountered a roadblock when I realized that there is no Azure Service Bus library support for this version. Azure Service Bus support begins from version 2.5.0 and above. Since upgrading to a newer Spring Boot version poses significant challenges, I decided to implement the producer using JMS to send data to Azure Service Bus.</p>\n<p>I have successfully implemented a similar exercise in our new project using ServiceBusSenderClient, which works flawlessly with the latest Spring Boot versions. Unfortunately, achieving the same functionality with Spring Boot 2.2.11-RELEASE has proven to be a challenge. This is why I turned to JMS as an alternative.</p>\n<p>Below is what I have done and tried so far</p>\n<p>application.yml</p>\n<pre><code>spring\n  jms:\n    servicebus:\n      connection-string: ${AZURE_ENDPOINT}\n      topic: ${TOPIC}\n      topic-client-id: ${TOPIC_CLIENT_ID}\n      pricing-tier: standard\n</code></pre>\n<p>below are new dependencies I added in my build.gradle</p>\n<pre><code>implementation 'com.azure.spring:spring-cloud-azure-starter-servicebus-jms:5.5.0'\nimplementation 'com.microsoft.azure:azure-servicebus-jms:2.0.6'\nimplementation 'org.springframework.boot:spring-boot-starter-activemq'\n</code></pre>\n<p>Part of code implementation</p>\n<pre><code>    @Autowired\n    private JmsTemplate ***jmsTemplate***;\n        List&lt;TradeEntity&gt; tradeEntityList = eventsToBeSent.stream().map(DisruptionEventEntity::getTrade).distinct().collect(Collectors.toList());\n        List&lt;String&gt; dateList = eventsToBeSent.stream().map(\n                DisruptionEventEntity::getMeasureDate).distinct().collect(Collectors.toList());\n\n            for (String date1: dateList){\n                SendMeasureRequestPayload sendMeasureRequestPayload =\n                        new SendMeasureRequestPayload(sendMeasureValues,date1,&quot;Daily&quot;)\n                        \n                    if (!CollectionUtils.isEmpty(eventEntities)){\n                        if (tradeEntity.getSfmConfiguration() !=null){\n                            List&lt;SendMeasureValues&gt; measureValues = getMeasureValues(sfmConfiguration, sfmMeasureDTO);\n                            sendMeasureValues.addAll(measureValues);\n                            sendMeasureRequestPayload.setValues(sendMeasureValues);\n                        }\n                    }\n                }\n\n                log.info(&quot;Sending Data ...... {}&quot;, topic);\n                jmsTemplate.send(topic,session -&gt; session.createTextMessage(sendMeasureRequestPayload.toString())); // code to send data\n                \n            }\n</code></pre>\n<p>My Struggle is on the JmsConfig class and I would love any assistance that one could assist with</p>\n<p>Below is the piece of code I tried but since I am using azure service bus it's not working because it's expecting an endpoint with tcp at the beging</p>\n<pre><code>@Configuration\n@EnableJms\npublic class **JmsConfig** {\n\n    @Value(&quot;${spring.jms.service.connection-string}&quot;)\n    private String connectionString;\n    @Value(&quot;${app.azure.service-bus.topic}&quot;)\n    private String topic;\n\n    @Bean\n    public MessageConverter jacksonJmsMessageConverter(){\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        return converter;\n    }\n\n    @Bean\n    public ActiveMQConnectionFactory amqConnectionFactory(){\n        return new ActiveMQConnectionFactory(connectionString);\n    }\n\n    @Bean\n    public CachingConnectionFactory connectionFactory(){\n        return new CachingConnectionFactory(amqConnectionFactory());\n    }\n\n    @Bean\n    public JmsTemplate jmsTemplate(){\n        JmsTemplate jmsTemplate = new JmsTemplate(connectionFactory());\n        jmsTemplate.setDefaultDestinationName(topic);\n        jmsTemplate.setConnectionFactory(connectionFactory());\n        jmsTemplate.setMessageConverter(jacksonJmsMessageConverter());\n        return jmsTemplate;\n    }\n}\n</code></pre>\n<p>Your guidance would be very appreciated thanks</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":10610062,"reputation":59,"user_id":7814245,"display_name":"spaghety"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525788940,"creation_date":1525788940,"answer_id":50235810,"question_id":50234335,"body_markdown":"I wrote onreactionAdded instead of onMessageReactionAdd.","title":"JDA reaction event listener java","body":"<p>I wrote onreactionAdded instead of onMessageReactionAdd.</p>\n"},{"comments":[{"owner":{"account_id":4736084,"reputation":894,"user_id":3830432,"display_name":"Doug F"},"score":2,"creation_date":1553130749,"post_id":55272321,"comment_id":97275879,"body_markdown":"Can you please post the relevant code from that link into your answer?","body":"Can you please post the relevant code from that link into your answer?"}],"tags":[],"owner":{"account_id":15573354,"reputation":1,"user_id":11235082,"display_name":"anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696332792,"creation_date":1553130236,"answer_id":55272321,"question_id":50234335,"body_markdown":"Here&#39;s the java doc, it has all the events in it: \r\n\r\n[ListenerAdapter#onMessageReactionAdd(MessageReactionAddEvent)][1]\r\n\r\nyou want: `onMessageReactionAdd`, hope this was useful.\r\n\r\n\r\n  [1]: https://docs.jda.wiki/net/dv8tion/jda/api/hooks/ListenerAdapter.html#onMessageReactionAdd(net.dv8tion.jda.api.events.message.react.MessageReactionAddEvent)","title":"JDA reaction event listener java","body":"<p>Here's the java doc, it has all the events in it:</p>\n<p><a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/hooks/ListenerAdapter.html#onMessageReactionAdd(net.dv8tion.jda.api.events.message.react.MessageReactionAddEvent)\" rel=\"nofollow noreferrer\">ListenerAdapter#onMessageReactionAdd(MessageReactionAddEvent)</a></p>\n<p>you want: <code>onMessageReactionAdd</code>, hope this was useful.</p>\n"}],"owner":{"account_id":10610062,"reputation":59,"user_id":7814245,"display_name":"spaghety"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7419,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1696332792,"creation_date":1525784659,"question_id":50234335,"body_markdown":"I&#39;m trying to create an event listener for reactions on discord messages for a java discord bot. I haven&#39;t found any docs relating to this and my attempts have been futile, the idea is that users who react to the message are subscribed to a mailing list.\r\n\r\n    public class accept extends ListenerAdapter {\r\n        public void onreactionAdded(MessageReactionAddEvent event) {\r\n    \r\n            MessageReaction reaction = event.getReaction();\r\n            ReactionEmote emote = reaction.getReactionEmote();\r\n            MessageChannel channel = event.getChannel();\r\n            System.out.println(&quot;test&quot;);\r\n            channel.sendMessage(&quot;Commands:\\n !notify - notifies users who have subscribed to mailing list&quot;).queue();\r\n        }\r\n    }","title":"JDA reaction event listener java","body":"<p>I'm trying to create an event listener for reactions on discord messages for a java discord bot. I haven't found any docs relating to this and my attempts have been futile, the idea is that users who react to the message are subscribed to a mailing list.</p>\n\n<pre><code>public class accept extends ListenerAdapter {\n    public void onreactionAdded(MessageReactionAddEvent event) {\n\n        MessageReaction reaction = event.getReaction();\n        ReactionEmote emote = reaction.getReactionEmote();\n        MessageChannel channel = event.getChannel();\n        System.out.println(\"test\");\n        channel.sendMessage(\"Commands:\\n !notify - notifies users who have subscribed to mailing list\").queue();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1549508502,"post_id":54565632,"comment_id":95929856,"body_markdown":"see https://www.baeldung.com/spring-cache-tutorial - where is your CacheManager defined?","body":"see <a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/spring-cache-tutorial</a> - where is your CacheManager defined?"},{"owner":{"account_id":14698891,"reputation":31,"user_id":11026109,"display_name":"irfanhasan"},"score":0,"creation_date":1549508981,"post_id":54565632,"comment_id":95929924,"body_markdown":"@ScaryWombat I didn&#39;t explicitly define a CacheManager. My understanding is in Spring Boot with `@EnableCaching`, if no CacheManager is found Spring Boot automatically sets one up for you. However I tried to define my own, still not working - https://codeboje.de/caching-spring-boot/","body":"@ScaryWombat I didn&#39;t explicitly define a CacheManager. My understanding is in Spring Boot with <code>@EnableCaching</code>, if no CacheManager is found Spring Boot automatically sets one up for you. However I tried to define my own, still not working - <a href=\"https://codeboje.de/caching-spring-boot/\" rel=\"nofollow noreferrer\">codeboje.de/caching-spring-boot</a>"},{"owner":{"account_id":4473796,"reputation":314,"user_id":3639386,"display_name":"Himanshu Shekhar"},"score":1,"creation_date":1549520974,"post_id":54565632,"comment_id":95933109,"body_markdown":"Your code seems correct. More details of code can help to find out out mistake. Some things that I can think of is :  1.) check your imports . 2.) Bean scope","body":"Your code seems correct. More details of code can help to find out out mistake. Some things that I can think of is :  1.) check your imports . 2.) Bean scope"},{"owner":{"account_id":14698891,"reputation":31,"user_id":11026109,"display_name":"irfanhasan"},"score":0,"creation_date":1549552780,"post_id":54565632,"comment_id":95950643,"body_markdown":"I imported the wrong package. Thank you so much for pointing that out, can&#39;t believe that was the issue.","body":"I imported the wrong package. Thank you so much for pointing that out, can&#39;t believe that was the issue."},{"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"score":0,"creation_date":1611699941,"post_id":54565632,"comment_id":116534844,"body_markdown":"@irfanhasan what package was wrong? I have the same issue","body":"@irfanhasan what package was wrong? I have the same issue"},{"owner":{"account_id":11220328,"reputation":1,"user_id":8231692,"display_name":"Andrea Mauro"},"score":0,"creation_date":1623931678,"post_id":54565632,"comment_id":120238982,"body_markdown":"In my case the problem was that I was calling the method annotated with `@Cacheable` within the same class and this doesn&#39;t seem to work","body":"In my case the problem was that I was calling the method annotated with <code>@Cacheable</code> within the same class and this doesn&#39;t seem to work"}],"answers":[{"tags":[],"owner":{"account_id":17809710,"reputation":146,"user_id":12934609,"display_name":"artin2"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616112639,"creation_date":1616112639,"answer_id":66700878,"question_id":54565632,"body_markdown":"In the comments under this question, @irfanhasan mentions that they had imported the wrong package and @xetra11 replied asking which package was wrong which there was no reply to. I am not @irfanhasan but it might have been the following mixup: &quot;You can also use the standard JSR-107 (JCache) annotations (such as @CacheResult) transparently. However, we strongly advise you to not mix and match the Spring Cache and JCache annotations.&quot; ","title":"Spring Boot - cache not working, how to set cache up correctly?","body":"<p>In the comments under this question, @irfanhasan mentions that they had imported the wrong package and @xetra11 replied asking which package was wrong which there was no reply to. I am not @irfanhasan but it might have been the following mixup: &quot;You can also use the standard JSR-107 (JCache) annotations (such as @CacheResult) transparently. However, we strongly advise you to not mix and match the Spring Cache and JCache annotations.&quot;</p>\n"},{"tags":[],"owner":{"account_id":3013356,"reputation":133,"user_id":2556249,"display_name":"NoisyFlasher"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1617661158,"creation_date":1617661158,"answer_id":66960478,"question_id":54565632,"body_markdown":"In the comments under this question @irfanhasan mentions that they had imported the wrong package but there was no certain response. \r\nI faced the same problem. I tried to use @Cachable annotation but it wasn&#39;t work. I found that it was imported as:\r\n\r\n    import springfox.documentation.annotations.Cacheable\r\n\r\nInstead of:\r\n\r\n    import org.springframework.cache.annotation.Cacheable;\r\n\r\nLook carefully for your IDE imports.","title":"Spring Boot - cache not working, how to set cache up correctly?","body":"<p>In the comments under this question @irfanhasan mentions that they had imported the wrong package but there was no certain response.\nI faced the same problem. I tried to use @Cachable annotation but it wasn't work. I found that it was imported as:</p>\n<pre><code>import springfox.documentation.annotations.Cacheable\n</code></pre>\n<p>Instead of:</p>\n<pre><code>import org.springframework.cache.annotation.Cacheable;\n</code></pre>\n<p>Look carefully for your IDE imports.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696332621,"creation_date":1696332621,"answer_id":77221865,"question_id":54565632,"body_markdown":"Below is an End to end working code to show case Caching implementation using SpringBoot.\r\n\r\n    @Cacheable(&quot;movies&quot;)\r\n      public List&lt;String&gt; getMoviesList() {\r\n       //logic to fetch movies using API call over webClient\r\n      return moviesList;\r\n    }\r\n\r\nNow this code makes the response of getMoviesList cacheable due to annotation `@Cacheable(&quot;movies&quot;)`\r\nHowever this is not enough, as it needs bean of `CacheManager` as well.\r\nIn SpringBoot this is simplified, so all you need is `@EnableCaching`\r\nThis annotation can go in your main class with `@SpringBootApplication` as shown below\r\n\r\n    @SpringBootApplication\r\n    @ConfigurationPropertiesScan\r\n    @EnableCaching\r\n    public class MoviesApplication {\r\n      public static void main(final String[] args) {\r\n        SpringApplication.run(MoviesApplication.class, args);\r\n      }\r\n    }\r\n\r\nNow depending on your business workflow, you can decide the cache eviction policy.\r\n\r\n    @CacheEvict(value = &quot;movies&quot;, allEntries = true)\r\n      @Scheduled(fixedDelay = 12, timeUnit = TimeUnit.HOURS)\r\n      public void evictMoviesFromCache() {\r\n        // Nothing to do. Annotations cover functionality\r\n        log.info(&quot;Evicting Movies from cache.&quot;);\r\n      }\r\nAbove code evicts the code at scheduled interval of 12 hrs.\r\n\r\nAlternatively, you could evict it manually, as shown below.\r\n\r\n    @Component\r\n    public class CacheManagerService {\r\n      @CacheEvict(&quot;movies&quot;)\r\n      public void evictMoviesFromCache(final String networkRef) {\r\n        // nothing to add as this method is to evict the cache\r\n      }\r\n    }\r\n\r\nAnd Autowire CacheManagerService in your code and invoke the method explicitly. for e.g.\r\n\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class MoviesCacheManager {\r\n      private final CacheManagerService cacheManagerService;\r\n      private final MoviesClient moviesClient;\r\n    \r\n    public List&lt;Location&gt; refreshMovies() {\r\n        cacheManagerService.evictMoviesFromCache();\r\n        var movies = moviesClient.getMovies().collectList().block();\r\n        return Optional.ofNullable(movies).orElse(emptyList());\r\n      }\r\n    }\r\n\r\nReference: https://www.baeldung.com/spring-cache-tutorial ","title":"Spring Boot - cache not working, how to set cache up correctly?","body":"<p>Below is an End to end working code to show case Caching implementation using SpringBoot.</p>\n<pre><code>@Cacheable(&quot;movies&quot;)\n  public List&lt;String&gt; getMoviesList() {\n   //logic to fetch movies using API call over webClient\n  return moviesList;\n}\n</code></pre>\n<p>Now this code makes the response of getMoviesList cacheable due to annotation <code>@Cacheable(&quot;movies&quot;)</code>\nHowever this is not enough, as it needs bean of <code>CacheManager</code> as well.\nIn SpringBoot this is simplified, so all you need is <code>@EnableCaching</code>\nThis annotation can go in your main class with <code>@SpringBootApplication</code> as shown below</p>\n<pre><code>@SpringBootApplication\n@ConfigurationPropertiesScan\n@EnableCaching\npublic class MoviesApplication {\n  public static void main(final String[] args) {\n    SpringApplication.run(MoviesApplication.class, args);\n  }\n}\n</code></pre>\n<p>Now depending on your business workflow, you can decide the cache eviction policy.</p>\n<pre><code>@CacheEvict(value = &quot;movies&quot;, allEntries = true)\n  @Scheduled(fixedDelay = 12, timeUnit = TimeUnit.HOURS)\n  public void evictMoviesFromCache() {\n    // Nothing to do. Annotations cover functionality\n    log.info(&quot;Evicting Movies from cache.&quot;);\n  }\n</code></pre>\n<p>Above code evicts the code at scheduled interval of 12 hrs.</p>\n<p>Alternatively, you could evict it manually, as shown below.</p>\n<pre><code>@Component\npublic class CacheManagerService {\n  @CacheEvict(&quot;movies&quot;)\n  public void evictMoviesFromCache(final String networkRef) {\n    // nothing to add as this method is to evict the cache\n  }\n}\n</code></pre>\n<p>And Autowire CacheManagerService in your code and invoke the method explicitly. for e.g.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class MoviesCacheManager {\n  private final CacheManagerService cacheManagerService;\n  private final MoviesClient moviesClient;\n\npublic List&lt;Location&gt; refreshMovies() {\n    cacheManagerService.evictMoviesFromCache();\n    var movies = moviesClient.getMovies().collectList().block();\n    return Optional.ofNullable(movies).orElse(emptyList());\n  }\n}\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cache-tutorial</a></p>\n"}],"owner":{"account_id":14698891,"reputation":31,"user_id":11026109,"display_name":"irfanhasan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10565,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696332621,"creation_date":1549508099,"question_id":54565632,"body_markdown":"My application is on Spring boot 1.5.1\r\n\r\nI have looked up all common problems related to caching not working in spring boot (calling a cacheable method from the same class, etc) and I still can&#39;t seem to pinpoint why my method is not cacheing. I am just trying to use the simple cache built into Spring (ie the concurrent hashmap).\r\n\r\nSetup: in pom.xml I added this\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy configuration class is the following:\r\n\r\n    @SpringBootApplication\r\n    @Configuration\r\n    @EnableCaching\r\n    @EnableScheduling\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n           SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n    }\r\n\r\nI have a controller class that has the following method to get a list of versions.\r\n\r\n     @RequestMapping(value = &quot;/getVersionList&quot;, method = RequestMethod.GET)\r\n     public JSONObject getVersionList() {\r\n        JSONObject retJSON = new JSONObject();\r\n        List&lt;String&gt; versions = fetchVersionService.getVersionList();\r\n        retJSON.put(&quot;versions&quot;, versions);\r\n        return retJSON;\r\n    }\r\n\r\nAnd the FetchVersionService class where I have the cacheable method to cache this versions list\r\n\r\n    @Cacheable(&quot;versions&quot;)\r\n    public List&lt;String&gt; getVersionList() {\r\n        System.out.println(&quot;If there is something in the cache, it should not hit here.&quot;);\r\n        return randomService.getVersions(); //another service class that gets versions from a remote location, which takes a long time\r\n    }\r\n\r\nWhenever I make multiple GET calls to this function, it always goes inside the function even though I only expect to it execute the function once. For some reason it isn&#39;t cacheing the results. \r\nAny ideas where I went wrong with my setup? Thanks a lot.","title":"Spring Boot - cache not working, how to set cache up correctly?","body":"<p>My application is on Spring boot 1.5.1</p>\n\n<p>I have looked up all common problems related to caching not working in spring boot (calling a cacheable method from the same class, etc) and I still can't seem to pinpoint why my method is not cacheing. I am just trying to use the simple cache built into Spring (ie the concurrent hashmap).</p>\n\n<p>Setup: in pom.xml I added this</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>My configuration class is the following:</p>\n\n<pre><code>@SpringBootApplication\n@Configuration\n@EnableCaching\n@EnableScheduling\npublic class Application {\n    public static void main(String[] args) {\n       SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n\n<p>I have a controller class that has the following method to get a list of versions.</p>\n\n<pre><code> @RequestMapping(value = \"/getVersionList\", method = RequestMethod.GET)\n public JSONObject getVersionList() {\n    JSONObject retJSON = new JSONObject();\n    List&lt;String&gt; versions = fetchVersionService.getVersionList();\n    retJSON.put(\"versions\", versions);\n    return retJSON;\n}\n</code></pre>\n\n<p>And the FetchVersionService class where I have the cacheable method to cache this versions list</p>\n\n<pre><code>@Cacheable(\"versions\")\npublic List&lt;String&gt; getVersionList() {\n    System.out.println(\"If there is something in the cache, it should not hit here.\");\n    return randomService.getVersions(); //another service class that gets versions from a remote location, which takes a long time\n}\n</code></pre>\n\n<p>Whenever I make multiple GET calls to this function, it always goes inside the function even though I only expect to it execute the function once. For some reason it isn't cacheing the results. \nAny ideas where I went wrong with my setup? Thanks a lot.</p>\n"},{"tags":["java","spring-boot","http","okhttp","resttemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696324330,"post_id":77220948,"comment_id":136135115,"body_markdown":"You are creating `Product` instances, doe they map all the information? Also if you are only proxying the content, why read it fully, create objects and recreate the json. Just pass it through as is instead of the intermediate step. It is faster and uses less memory.","body":"You are creating <code>Product</code> instances, doe they map all the information? Also if you are only proxying the content, why read it fully, create objects and recreate the json. Just pass it through as is instead of the intermediate step. It is faster and uses less memory."},{"owner":{"account_id":18045956,"reputation":41,"user_id":13116949,"display_name":"Kstackr"},"score":0,"creation_date":1696329865,"post_id":77220948,"comment_id":136136037,"body_markdown":"No. They do not map all information. Some data are missing. How can I create objects to recreate the json.?  @M.Deinum","body":"No. They do not map all information. Some data are missing. How can I create objects to recreate the json.?  @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696330200,"post_id":77220948,"comment_id":136136097,"body_markdown":"Again why would you map if you only proxy.. Just pass the JSON as is as that is what you need to do.","body":"Again why would you map if you only proxy.. Just pass the JSON as is as that is what you need to do."},{"owner":{"account_id":18045956,"reputation":41,"user_id":13116949,"display_name":"Kstackr"},"score":0,"creation_date":1696340817,"post_id":77220948,"comment_id":136138232,"body_markdown":"As I mentioned in the question I have used OkHttpClient as well. So it returns response body as a String. When I check this String it has all the data. Where the data loss is when  I convert String to Java object class using object mapper.  Why is that and any solution for this? @M.Deinum","body":"As I mentioned in the question I have used OkHttpClient as well. So it returns response body as a String. When I check this String it has all the data. Where the data loss is when  I convert String to Java object class using object mapper.  Why is that and any solution for this? @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696340998,"post_id":77220948,"comment_id":136138277,"body_markdown":"The solution is, as mentioned twice before, don&#39;t convert to objects. Apparently you don&#39;t need the conversion and you should be just passing along the raw data. If you don&#39;t map everything in your product what should happen with the unmapped data, how shold that automagically appear in the respoinse? If you need the data as is, then just read the String (or even better an inputstream) and copy that directly to the client. It is faster, uses less memory.","body":"The solution is, as mentioned twice before, don&#39;t convert to objects. Apparently you don&#39;t need the conversion and you should be just passing along the raw data. If you don&#39;t map everything in your product what should happen with the unmapped data, how shold that automagically appear in the respoinse? If you need the data as is, then just read the String (or even better an inputstream) and copy that directly to the client. It is faster, uses less memory."},{"owner":{"account_id":18045956,"reputation":41,"user_id":13116949,"display_name":"Kstackr"},"score":0,"creation_date":1696341723,"post_id":77220948,"comment_id":136138441,"body_markdown":"Yes. I agree with you. But the problem is I need to persist these data into the database. That is why I am trying to convert it to object to persist the data easily. @M.Deinum","body":"Yes. I agree with you. But the problem is I need to persist these data into the database. That is why I am trying to convert it to object to persist the data easily. @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696355729,"post_id":77220948,"comment_id":136141309,"body_markdown":"Which is something you left conveniently out of the question and is mentioned nowhere. If you map to objects and don&#39;t map all the fields you will obviously get a different result. Also is the json you receive initially formatted, if so it will have more content due to spaces.","body":"Which is something you left conveniently out of the question and is mentioned nowhere. If you map to objects and don&#39;t map all the fields you will obviously get a different result. Also is the json you receive initially formatted, if so it will have more content due to spaces."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696332533,"creation_date":1696332533,"answer_id":77221853,"question_id":77220948,"body_markdown":"There is an older HttpClient based on `HttpURLConnection`. May be you can try this and check the content length that you see from it. Although, since you got the same problematic response content length from 2 different clients doesn&#39;t bode well for my idea, but still. `HttpClient` I am talking about comes with Open Source MgntUtils java library written and maintained by me. Here is [HttpClient Javadoc][1]. The library can be obtained from [Maven central][2] or from [Github][3] (including source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Data loss when calling a HTTP request with huge response body in Spring Boot","body":"<p>There is an older HttpClient based on <code>HttpURLConnection</code>. May be you can try this and check the content length that you see from it. Although, since you got the same problematic response content length from 2 different clients doesn't bode well for my idea, but still. <code>HttpClient</code> I am talking about comes with Open Source MgntUtils java library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">HttpClient Javadoc</a>. The library can be obtained from <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":18045956,"reputation":41,"user_id":13116949,"display_name":"Kstackr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696332533,"creation_date":1696323934,"question_id":77220948,"body_markdown":"I have a Spring boot app that reads a S3 presigned URL that contains a huge amount of data in JSON format.\r\nWhen I directly fetch the data using POSTMAN I can see the content length is around 102MB but in the application it is 22.27 MB.\r\n\r\nI tried with both RestTemplate and OkHttp. Both give the same results.\r\n\r\nWhen Calling S3 URL directly:\r\n[![enter image description here][1]][1]\r\n\r\nWhen Calling via RestTemplate and OkHttp:\r\n[![enter image description here][2]][2]\r\n\r\nThis is my sample code with RestTemplate.\r\n\r\n    ResponseEntity&lt;List&lt;Product&gt;&gt; responseEntity = restTemplate.exchange(\r\n                new URI(fileUrl),\r\n                HttpMethod.GET,\r\n                null,\r\n                new ParameterizedTypeReference&lt;List&lt;Product&gt;&gt;() {}\r\n        );\r\n\r\n        if (responseEntity.getStatusCode() == HttpStatus.OK) {\r\n            return responseEntity.getBody();\r\n        } else {\r\n            return Collections.emptyList();\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/M6LZp.png\r\n  [2]: https://i.stack.imgur.com/VEAk4.png\r\n\r\nWhy this is happening so? How can I get the whole data amount contains in the S3 URL?","title":"Data loss when calling a HTTP request with huge response body in Spring Boot","body":"<p>I have a Spring boot app that reads a S3 presigned URL that contains a huge amount of data in JSON format.\nWhen I directly fetch the data using POSTMAN I can see the content length is around 102MB but in the application it is 22.27 MB.</p>\n<p>I tried with both RestTemplate and OkHttp. Both give the same results.</p>\n<p>When Calling S3 URL directly:\n<a href=\"https://i.stack.imgur.com/M6LZp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M6LZp.png\" alt=\"enter image description here\" /></a></p>\n<p>When Calling via RestTemplate and OkHttp:\n<a href=\"https://i.stack.imgur.com/VEAk4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEAk4.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my sample code with RestTemplate.</p>\n<pre><code>ResponseEntity&lt;List&lt;Product&gt;&gt; responseEntity = restTemplate.exchange(\n            new URI(fileUrl),\n            HttpMethod.GET,\n            null,\n            new ParameterizedTypeReference&lt;List&lt;Product&gt;&gt;() {}\n    );\n\n    if (responseEntity.getStatusCode() == HttpStatus.OK) {\n        return responseEntity.getBody();\n    } else {\n        return Collections.emptyList();\n    }\n</code></pre>\n<p>Why this is happening so? How can I get the whole data amount contains in the S3 URL?</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":7486642,"reputation":2817,"user_id":5689605,"accept_rate":58,"display_name":"Debanjan"},"score":1,"creation_date":1507636162,"post_id":46665621,"comment_id":80280111,"body_markdown":"Can you provide the proper logcat error, you are getting?","body":"Can you provide the proper logcat error, you are getting?"},{"owner":{"account_id":5047486,"reputation":2810,"user_id":4052998,"accept_rate":43,"display_name":"pratik deshai"},"score":2,"creation_date":1507636784,"post_id":46665621,"comment_id":80280556,"body_markdown":"Caused by: java.lang.RuntimeException: cannot find implementation for AppDatabase. AppDatabase_Impl does not exist","body":"Caused by: java.lang.RuntimeException: cannot find implementation for AppDatabase. AppDatabase_Impl does not exist"},{"owner":{"account_id":7486642,"reputation":2817,"user_id":5689605,"accept_rate":58,"display_name":"Debanjan"},"score":0,"creation_date":1507647103,"post_id":46665621,"comment_id":80288013,"body_markdown":"Have you provided the room schema location in gradle?","body":"Have you provided the room schema location in gradle?"},{"owner":{"account_id":7411429,"reputation":78038,"user_id":5638630,"accept_rate":88,"display_name":"Krunal"},"score":1,"creation_date":1514969637,"post_id":46665621,"comment_id":83121654,"body_markdown":"@pratikdeshai Did you get any solution to this issue? I&#39;m also having the same problem.","body":"@pratikdeshai Did you get any solution to this issue? I&#39;m also having the same problem."},{"owner":{"account_id":1646830,"reputation":5363,"user_id":1518273,"accept_rate":50,"display_name":"Napolean"},"score":0,"creation_date":1566971752,"post_id":46665621,"comment_id":101817054,"body_markdown":"In my case I removed the kotlin plugin to get it fixed.\napply plugin: &#39;kotlin-kapt&#39;","body":"In my case I removed the kotlin plugin to get it fixed. apply plugin: &#39;kotlin-kapt&#39;"}],"answers":[{"comments":[{"owner":{"account_id":5047486,"reputation":2810,"user_id":4052998,"accept_rate":43,"display_name":"pratik deshai"},"score":0,"creation_date":1507636650,"post_id":46665788,"comment_id":80280456,"body_markdown":"i didn&#39;t create constructor, i am using directly via static instance.","body":"i didn&#39;t create constructor, i am using directly via static instance."},{"owner":{"account_id":6901716,"reputation":5270,"user_id":5301119,"accept_rate":88,"display_name":"Burhanuddin Rashid"},"score":0,"creation_date":1507636825,"post_id":46665788,"comment_id":80280582,"body_markdown":"I have created a Sample Project for Room Database you can check it here: https://github.com/burhanrashid52/Android-Room-Data-Persistent","body":"I have created a Sample Project for Room Database you can check it here: <a href=\"https://github.com/burhanrashid52/Android-Room-Data-Persistent\" rel=\"nofollow noreferrer\">github.com/burhanrashid52/Android-Room-Data-Persistent</a>"},{"owner":{"account_id":5047486,"reputation":2810,"user_id":4052998,"accept_rate":43,"display_name":"pratik deshai"},"score":2,"creation_date":1507640882,"post_id":46665788,"comment_id":80283546,"body_markdown":"yes i updated but sill same error, AppDatabase_Impl does not exist","body":"yes i updated but sill same error, AppDatabase_Impl does not exist"},{"owner":{"account_id":917413,"reputation":3691,"user_id":949903,"accept_rate":39,"display_name":"Jayesh"},"score":0,"creation_date":1530706176,"post_id":46665788,"comment_id":89329409,"body_markdown":"@pratikdeshai: Have you fixed that error ?? I also get same error, get stuck because of this.","body":"@pratikdeshai: Have you fixed that error ?? I also get same error, get stuck because of this."}],"tags":[],"owner":{"account_id":6901716,"reputation":5270,"user_id":5301119,"accept_rate":88,"display_name":"Burhanuddin Rashid"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637093085,"creation_date":1507635463,"answer_id":46665788,"question_id":46665621,"body_markdown":"Use the following gradle link:\r\n\r\n  \r\n\r\n    compile &#39;android.arch.persistence.room:runtime:1.0.0-alpha9&#39;\r\n    annotationProcessor &#39;android.arch.persistence.room:compiler:1.0.0-alpha9&#39;\r\n\r\nYou need to create a different singleton class and get the AppDatabase from there like this:\r\n\r\n**RoomDB.java**\r\n\r\n    public class RoomDB {\r\n    \r\n    private static RoomDB INSTANCE;\r\n    \r\n    public static AppDatabase getInstance(Context context) {\r\n        if (INSTANCE == null) {\r\n            INSTANCE =\r\n                    Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, Constant.DATABASE).allowMainThreadQueries().build();\r\n    \r\n                    //Room.inMemoryDatabaseBuilder(context.getApplicationContext(),AppDatabase.class).allowMainThreadQueries().build();\r\n        }\r\n        return INSTANCE;\r\n    }\r\n    \r\n    public static void destroyInstance() {\r\n        INSTANCE = null;\r\n    }\r\n\r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n    \r\n    private boolean appRunning = false;\r\n    \r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        RoomDB.getInstance(this); //This will provide AppDatabase Instance\r\n    }","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Use the following gradle link:</p>\n<pre><code>compile 'android.arch.persistence.room:runtime:1.0.0-alpha9'\nannotationProcessor 'android.arch.persistence.room:compiler:1.0.0-alpha9'\n</code></pre>\n<p>You need to create a different singleton class and get the AppDatabase from there like this:</p>\n<p><strong>RoomDB.java</strong></p>\n<pre><code>public class RoomDB {\n\nprivate static RoomDB INSTANCE;\n\npublic static AppDatabase getInstance(Context context) {\n    if (INSTANCE == null) {\n        INSTANCE =\n                Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, Constant.DATABASE).allowMainThreadQueries().build();\n\n                //Room.inMemoryDatabaseBuilder(context.getApplicationContext(),AppDatabase.class).allowMainThreadQueries().build();\n    }\n    return INSTANCE;\n}\n\npublic static void destroyInstance() {\n    INSTANCE = null;\n}\n</code></pre>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n\nprivate boolean appRunning = false;\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    RoomDB.getInstance(this); //This will provide AppDatabase Instance\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2756254,"reputation":123,"user_id":2374243,"display_name":"ahsiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1516792178,"creation_date":1516792178,"answer_id":48421025,"question_id":46665621,"body_markdown":"I met this problem because I have forgotten the apt dependences \r\n\r\n    implementation &quot;android.arch.lifecycle:extensions:$archLifecycleVersion&quot;\r\n    implementation &quot;android.arch.persistence.room:runtime:$archRoomVersion&quot;\r\n    annotationProcessor &quot;android.arch.lifecycle:compiler:$archLifecycleVersion&quot;\r\n    annotationProcessor &quot;android.arch.persistence.room:compiler:$archRoomVersion&quot;\r\n\r\nafter added the annotationProcessor, and rebuild it, the problem solved.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>I met this problem because I have forgotten the apt dependences </p>\n\n<pre><code>implementation \"android.arch.lifecycle:extensions:$archLifecycleVersion\"\nimplementation \"android.arch.persistence.room:runtime:$archRoomVersion\"\nannotationProcessor \"android.arch.lifecycle:compiler:$archLifecycleVersion\"\nannotationProcessor \"android.arch.persistence.room:compiler:$archRoomVersion\"\n</code></pre>\n\n<p>after added the annotationProcessor, and rebuild it, the problem solved.</p>\n"},{"tags":[],"owner":{"account_id":8742188,"reputation":1897,"user_id":6538897,"accept_rate":17,"display_name":"Idee"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1521036360,"creation_date":1521036360,"answer_id":49279841,"question_id":46665621,"body_markdown":"It is not just about updating your dependencies. Make sure all your Room dependencies have the same version.\r\n\r\n    implementation &#39;android.arch.persistence.room:rxjava2:1.1.0-alpha2&#39;\r\n    implementation &#39;android.arch.persistence.room:runtime:1.1.0-alpha2&#39;\r\n    annotationProcessor &quot;android.arch.persistence.room:compiler:1.1.0-alpha2&quot;\r\n\r\nIn the sample snippet above, all my Room dependencies have the same version `1.1.0-alpha2`","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>It is not just about updating your dependencies. Make sure all your Room dependencies have the same version.</p>\n\n<pre><code>implementation 'android.arch.persistence.room:rxjava2:1.1.0-alpha2'\nimplementation 'android.arch.persistence.room:runtime:1.1.0-alpha2'\nannotationProcessor \"android.arch.persistence.room:compiler:1.1.0-alpha2\"\n</code></pre>\n\n<p>In the sample snippet above, all my Room dependencies have the same version <code>1.1.0-alpha2</code></p>\n"},{"comments":[{"owner":{"account_id":905932,"reputation":126,"user_id":940841,"display_name":"Ozeetee"},"score":2,"creation_date":1521514729,"post_id":49323956,"comment_id":85752453,"body_markdown":"Thanks a lot. Just moving to Kotlin and all my test cases started failing. Was banging my head. Then I accidentally saw this comment. Saved my day.","body":"Thanks a lot. Just moving to Kotlin and all my test cases started failing. Was banging my head. Then I accidentally saw this comment. Saved my day."},{"owner":{"account_id":429820,"reputation":3270,"user_id":812919,"display_name":"olfek"},"score":100,"creation_date":1528315921,"post_id":49323956,"comment_id":88465516,"body_markdown":"Also need to add `apply plugin: &#39;kotlin-kapt&#39;` to the top of the app level `build.gradle` file","body":"Also need to add <code>apply plugin: &#39;kotlin-kapt&#39;</code> to the top of the app level <code>build.gradle</code> file"},{"owner":{"account_id":338798,"reputation":7618,"user_id":667879,"accept_rate":74,"display_name":"anoop4real"},"score":3,"creation_date":1545648715,"post_id":49323956,"comment_id":94668547,"body_markdown":"This saved me....I think Google should work more on showing proper error...I had kapt call but I didnt add apply kapt-plugin","body":"This saved me....I think Google should work more on showing proper error...I had kapt call but I didnt add apply kapt-plugin"},{"owner":{"account_id":8339437,"reputation":591,"user_id":6265187,"display_name":"Shubham Anand"},"score":0,"creation_date":1569067681,"post_id":49323956,"comment_id":102480862,"body_markdown":"Was stuck since yesterday. thanks a lot. I don&#39;t understand why don&#39;t google people mention this in the documentation.","body":"Was stuck since yesterday. thanks a lot. I don&#39;t understand why don&#39;t google people mention this in the documentation."},{"owner":{"account_id":10647346,"reputation":5559,"user_id":7839518,"display_name":"Tonnie"},"score":0,"creation_date":1574137667,"post_id":49323956,"comment_id":104114164,"body_markdown":"You&#39;re the GOAT saved me with that quick gradle fix","body":"You&#39;re the GOAT saved me with that quick gradle fix"},{"owner":{"account_id":121722,"reputation":2004,"user_id":315016,"accept_rate":62,"display_name":"Daniel"},"score":0,"creation_date":1578849186,"post_id":49323956,"comment_id":105564805,"body_markdown":"Works for me but I&#39;d love to understand why, could you elaborate?","body":"Works for me but I&#39;d love to understand why, could you elaborate?"},{"owner":{"account_id":8219799,"reputation":1321,"user_id":6184771,"display_name":"Joe Gasewicz"},"score":3,"creation_date":1626717541,"post_id":49323956,"comment_id":120963538,"body_markdown":"It now has changed to `implementation &quot;androidx.room:room-ktx:$room_version&quot;`","body":"It now has changed to <code>implementation &quot;androidx.room:room-ktx:$room_version&quot;</code>"},{"owner":{"account_id":6210742,"reputation":3114,"user_id":4837103,"display_name":"Chandler"},"score":0,"creation_date":1633777408,"post_id":49323956,"comment_id":122854071,"body_markdown":"FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task &#39;:app:kaptDebugKotlin&#39;.\n&gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\n   &gt; java.lang.reflect.InvocationTargetException (no error message)","body":"FAILURE: Build failed with an exception.  * What went wrong: Execution failed for task &#39;:app:kaptDebugKotlin&#39;. &gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$&zwnj;&#8203;KaptExecutionWorkAct&zwnj;&#8203;ion    &gt; java.lang.reflect.InvocationTargetException (no error message)"},{"owner":{"account_id":6962023,"reputation":164,"user_id":5341154,"display_name":"Ali Salehi"},"score":0,"creation_date":1644623553,"post_id":49323956,"comment_id":125664475,"body_markdown":"it worked for me","body":"it worked for me"},{"owner":{"account_id":1824182,"reputation":879,"user_id":1657457,"accept_rate":82,"display_name":"dexter00x"},"score":0,"creation_date":1701921995,"post_id":49323956,"comment_id":136835780,"body_markdown":"I tried to add that line of ksp\nand when I try to sync, I get the error:\n\nPlugin [id: &#39;com.google.devtools.ksp&#39;] was not found in any of the following source","body":"I tried to add that line of ksp and when I try to sync, I get the error:  Plugin [id: &#39;com.google.devtools.ksp&#39;] was not found in any of the following source"}],"tags":[],"owner":{"account_id":4567441,"reputation":8829,"user_id":3708094,"display_name":"RWIL"},"comment_count":10,"down_vote_count":2,"up_vote_count":550,"is_accepted":true,"score":548,"last_activity_date":1696332508,"creation_date":1521212910,"answer_id":49323956,"question_id":46665621,"body_markdown":"For those working with **Kotlin**, try changing `annotationProcessor` to `kapt` in the apps `build.gradle`\r\n\r\nfor example:\r\n\r\n&lt;!-- language-all: DSL--&gt;\r\n\r\n    // Extensions = ViewModel + LiveData\r\n    implementation &quot;android.arch.lifecycle:extensions:1.1.0&quot;\r\n    kapt &quot;android.arch.lifecycle:compiler:1.1.0&quot;\r\n    // Room\r\n    implementation &quot;android.arch.persistence.room:runtime:1.0.0&quot;\r\n    kapt &quot;android.arch.persistence.room:compiler:1.0.0&quot;\r\n\r\nalso remember to  add this plugin\r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n\r\n to the top of the app level build.gradle file and do a clean and rebuild (according to https://codelabs.developers.google.com/codelabs/android-room-with-a-view/#6)\r\n\r\n&gt;In Android Studio, if you get errors when you paste code or during the build process, select Build &gt;Clean Project. Then select Build &gt; Rebuild Project, and then build again.  \r\n\r\n----------\r\n\r\nUPDATE\r\n======\r\n\r\n\r\nIf you have migrated to androidx\r\n\r\n    def room_version = &quot;2.3.0&quot; // check latest version from docs\r\n    \r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n\r\nUPDATE 2 (since July 2021)\r\n======\r\n\r\n    def room_version = &quot;2.3.0&quot; // check latest version from docs\r\n\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\nUPDATE 3 (since October 2023)\r\n======\r\n\r\nFor those working with Kotlin and Android Room, consider using KSP (Kotlin Symbol Processing) instead of KAPT (Kotlin Annotation Processing Tool) for Room annotations. KSP is aprox 2x faster than KAPT, making your build process more efficient.\r\n\r\n\r\n    ksp(&quot;androidx.room:room-compiler:$roomVersion&quot;)\r\n\r\nDon&#39;t forget to add ksp plugin\r\n\r\n    id(&quot;com.google.devtools.ksp&quot;)\r\n\r\nFor more details and the latest updates on using KSP, refer to the official Android documentation: *https://developer.android.com/build/migrate-to-ksp.\r\n","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>For those working with <strong>Kotlin</strong>, try changing <code>annotationProcessor</code> to <code>kapt</code> in the apps <code>build.gradle</code></p>\n<p>for example:</p>\n\n<pre><code>// Extensions = ViewModel + LiveData\nimplementation &quot;android.arch.lifecycle:extensions:1.1.0&quot;\nkapt &quot;android.arch.lifecycle:compiler:1.1.0&quot;\n// Room\nimplementation &quot;android.arch.persistence.room:runtime:1.0.0&quot;\nkapt &quot;android.arch.persistence.room:compiler:1.0.0&quot;\n</code></pre>\n<p>also remember to  add this plugin</p>\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n<p>to the top of the app level build.gradle file and do a clean and rebuild (according to <a href=\"https://codelabs.developers.google.com/codelabs/android-room-with-a-view/#6\" rel=\"noreferrer\">https://codelabs.developers.google.com/codelabs/android-room-with-a-view/#6</a>)</p>\n<blockquote>\n<p>In Android Studio, if you get errors when you paste code or during the build process, select Build &gt;Clean Project. Then select Build &gt; Rebuild Project, and then build again.</p>\n</blockquote>\n<hr />\n<h1>UPDATE</h1>\n<p>If you have migrated to androidx</p>\n<pre><code>def room_version = &quot;2.3.0&quot; // check latest version from docs\n\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\n</code></pre>\n<h1>UPDATE 2 (since July 2021)</h1>\n<pre><code>def room_version = &quot;2.3.0&quot; // check latest version from docs\n\nimplementation &quot;androidx.room:room-ktx:$room_version&quot;\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\n</code></pre>\n<h1>UPDATE 3 (since October 2023)</h1>\n<p>For those working with Kotlin and Android Room, consider using KSP (Kotlin Symbol Processing) instead of KAPT (Kotlin Annotation Processing Tool) for Room annotations. KSP is aprox 2x faster than KAPT, making your build process more efficient.</p>\n<pre><code>ksp(&quot;androidx.room:room-compiler:$roomVersion&quot;)\n</code></pre>\n<p>Don't forget to add ksp plugin</p>\n<pre><code>id(&quot;com.google.devtools.ksp&quot;)\n</code></pre>\n<p>For more details and the latest updates on using KSP, refer to the official Android documentation: *<a href=\"https://developer.android.com/build/migrate-to-ksp\" rel=\"noreferrer\">https://developer.android.com/build/migrate-to-ksp</a>.</p>\n"},{"comments":[{"owner":{"account_id":222994,"reputation":7663,"user_id":481927,"accept_rate":91,"display_name":"winwaed"},"score":2,"creation_date":1527906994,"post_id":49902521,"comment_id":88316629,"body_markdown":"For clarity, this goes immediately above the DB class definition. It appears to have fixed my problem - thanks!","body":"For clarity, this goes immediately above the DB class definition. It appears to have fixed my problem - thanks!"},{"owner":{"account_id":8167017,"reputation":2883,"user_id":6148931,"display_name":"Martynas B"},"score":0,"creation_date":1611750180,"post_id":49902521,"comment_id":116549808,"body_markdown":"make sure you don&#39;t have empty constructors (constructor(){}) in your entities https://stackoverflow.com/a/60494924/6148931","body":"make sure you don&#39;t have empty constructors (constructor(){}) in your entities <a href=\"https://stackoverflow.com/a/60494924/6148931\">stackoverflow.com/a/60494924/6148931</a>"},{"owner":{"account_id":206479,"reputation":11678,"user_id":455796,"accept_rate":67,"display_name":"Damn Vegetables"},"score":0,"creation_date":1640478563,"post_id":49902521,"comment_id":124593612,"body_markdown":"I had this problem and changing the build.gradle as the accepted answer did not solve the problem. Adding this annotation solved the problem, but in [the tutorial I was following](https://developer.android.com/training/data-storage/room#groovy), the &quot;user&quot; class has only `@Entity`, not `@Entity(tablename=&quot;table name&quot; )`. If this is required, why does the tutorial lack this annotation?","body":"I had this problem and changing the build.gradle as the accepted answer did not solve the problem. Adding this annotation solved the problem, but in <a href=\"https://developer.android.com/training/data-storage/room#groovy\" rel=\"nofollow noreferrer\">the tutorial I was following</a>, the &quot;user&quot; class has only <code>@Entity</code>, not <code>@Entity(tablename=&quot;table name&quot; )</code>. If this is required, why does the tutorial lack this annotation?"}],"tags":[],"owner":{"account_id":9900742,"reputation":1103,"user_id":7330836,"display_name":"Thadeus Ajayi"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1524062252,"creation_date":1524062252,"answer_id":49902521,"question_id":46665621,"body_markdown":"I had this error when I missed \r\n\r\n    @Database(entity=&quot;{&lt;model.class&gt;})\r\n\r\nEnsure that the entity model specified in the annotation above refers to the particular model class and also ensure that the necessary annotation:\r\n\r\n    @Entity(tableName = &quot;&lt;table_name&gt;&quot; ...)\r\nis properly defined and you&#39;d be good","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>I had this error when I missed </p>\n\n<pre><code>@Database(entity=\"{&lt;model.class&gt;})\n</code></pre>\n\n<p>Ensure that the entity model specified in the annotation above refers to the particular model class and also ensure that the necessary annotation:</p>\n\n<pre><code>@Entity(tableName = \"&lt;table_name&gt;\" ...)\n</code></pre>\n\n<p>is properly defined and you'd be good</p>\n"},{"tags":[],"owner":{"account_id":3401720,"reputation":1813,"user_id":2853718,"display_name":"Jahangir Kabir"},"comment_count":0,"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1542171376,"creation_date":1526889929,"answer_id":50444460,"question_id":46665621,"body_markdown":"Just use \r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\nin app build.gradle\r\n\r\nAnd keep both in dependencies\r\n\r\n    annotationProcessor &quot;android.arch.persistence.room:compiler:$rootProject.roomVersion&quot;\r\n    kapt &quot;android.arch.persistence.room:compiler:$rootProject.roomVersion&quot;\r\n\r\n**EDIT**\r\n\r\nIn newer version don&#39;t need to add both dependencies at a time \r\nJust use, hope it will work.\r\n\r\n    kapt &#39;android.arch.persistence.room:compiler:1.1.1&#39;","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Just use </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>in app build.gradle</p>\n\n<p>And keep both in dependencies</p>\n\n<pre><code>annotationProcessor \"android.arch.persistence.room:compiler:$rootProject.roomVersion\"\nkapt \"android.arch.persistence.room:compiler:$rootProject.roomVersion\"\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>In newer version don't need to add both dependencies at a time \nJust use, hope it will work.</p>\n\n<pre><code>kapt 'android.arch.persistence.room:compiler:1.1.1'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1470570,"reputation":214,"user_id":1382250,"display_name":"Eduardo"},"score":0,"creation_date":1537189614,"post_id":51974562,"comment_id":91681170,"body_markdown":"This is my issue too. Any idea why this is happening and how to avoid this? I&#39;d rather prefer not to have a `TestDatabase` in the release code.","body":"This is my issue too. Any idea why this is happening and how to avoid this? I&#39;d rather prefer not to have a <code>TestDatabase</code> in the release code."}],"tags":[],"owner":{"account_id":4412700,"reputation":2352,"user_id":4465373,"accept_rate":67,"display_name":"Farruh Habibullaev"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534969373,"creation_date":1534969373,"answer_id":51974562,"question_id":46665621,"body_markdown":"In my case, I was testing the connectivity for room database and I have put the testing class inside the directory which I have created inside the AndroidTest folder. I have moved it out of the custom directory, then it worked pretty well.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>In my case, I was testing the connectivity for room database and I have put the testing class inside the directory which I have created inside the AndroidTest folder. I have moved it out of the custom directory, then it worked pretty well.</p>\n"},{"comments":[{"owner":{"account_id":12635654,"reputation":4389,"user_id":9185192,"display_name":"Pedro Massango"},"score":0,"creation_date":1589466276,"post_id":53187335,"comment_id":109310782,"body_markdown":"Different answers!","body":"Different answers!"},{"owner":{"account_id":11457299,"reputation":530,"user_id":8397910,"display_name":"Patrick Prakash"},"score":0,"creation_date":1589559533,"post_id":53187335,"comment_id":109351900,"body_markdown":"How come this is different dude?","body":"How come this is different dude?"},{"owner":{"account_id":6962023,"reputation":164,"user_id":5341154,"display_name":"Ali Salehi"},"score":0,"creation_date":1644623633,"post_id":53187335,"comment_id":125664489,"body_markdown":"it&#39;s the solution , it helped me to get over the error","body":"it&#39;s the solution , it helped me to get over the error"}],"tags":[],"owner":{"account_id":12635654,"reputation":4389,"user_id":9185192,"display_name":"Pedro Massango"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1541585450,"creation_date":1541585450,"answer_id":53187335,"question_id":46665621,"body_markdown":"**For Kotlin Developers**\r\n\r\nUse this:\r\n\r\n    implementation &quot;android.arch.persistence.room:runtime:1.0.0&quot;\r\n    kapt &quot;android.arch.persistence.room:compiler:1.0.0&quot;\r\n\r\nAnd add `apply plugin: &#39;kotlin-kapt&#39;` to the top of the app level `build.gradle`.\r\n\r\n**For Java Developers**\r\n\r\n    implementation &quot;android.arch.persistence.room:runtime:1.0.0&quot;\r\n    annotationProcessor &quot;android.arch.persistence.room:compiler:1.0.0&quot;","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p><strong>For Kotlin Developers</strong></p>\n\n<p>Use this:</p>\n\n<pre><code>implementation \"android.arch.persistence.room:runtime:1.0.0\"\nkapt \"android.arch.persistence.room:compiler:1.0.0\"\n</code></pre>\n\n<p>And add <code>apply plugin: 'kotlin-kapt'</code> to the top of the app level <code>build.gradle</code>.</p>\n\n<p><strong>For Java Developers</strong></p>\n\n<pre><code>implementation \"android.arch.persistence.room:runtime:1.0.0\"\nannotationProcessor \"android.arch.persistence.room:compiler:1.0.0\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11940151,"reputation":2311,"user_id":8737224,"accept_rate":46,"display_name":" coinhndp"},"score":0,"creation_date":1541854771,"post_id":53237139,"comment_id":93364257,"body_markdown":"I forgot it too. Thank you :) But still crashh :(","body":"I forgot it too. Thank you :) But still crashh :("},{"owner":{"account_id":11940151,"reputation":2311,"user_id":8737224,"accept_rate":46,"display_name":" coinhndp"},"score":1,"creation_date":1541855005,"post_id":53237139,"comment_id":93364305,"body_markdown":"Fix by adding kapt","body":"Fix by adding kapt"}],"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1541837202,"creation_date":1541837202,"answer_id":53237139,"question_id":46665621,"body_markdown":"I meet with the problem, because I forget `@Dao` annotation\r\n\r\n    @Dao\r\n    public interface SearchHistoryDao {\r\n        @Query(&quot;SELECT * FROM search_history&quot;)\r\n        List&lt;SearchHistory&gt; getAll();\r\n    \r\n        @Insert\r\n        void insertAll(SearchHistory... histories);\r\n    \r\n        @Delete()\r\n        void delete(SearchHistory history);\r\n    }\r\n\r\n[Room Official tutorial][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/room/","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>I meet with the problem, because I forget <code>@Dao</code> annotation</p>\n\n<pre><code>@Dao\npublic interface SearchHistoryDao {\n    @Query(\"SELECT * FROM search_history\")\n    List&lt;SearchHistory&gt; getAll();\n\n    @Insert\n    void insertAll(SearchHistory... histories);\n\n    @Delete()\n    void delete(SearchHistory history);\n}\n</code></pre>\n\n<p><a href=\"https://developer.android.com/training/data-storage/room/\" rel=\"noreferrer\">Room Official tutorial</a></p>\n"},{"comments":[{"owner":{"account_id":1853541,"reputation":965,"user_id":1679571,"accept_rate":60,"display_name":"Randy"},"score":1,"creation_date":1545897929,"post_id":53448495,"comment_id":94722427,"body_markdown":"Running ./gradlew clean build from the terminal was the key.\nFor me I got this message:\napp: &#39;annotationProcessor&#39; dependencies won&#39;t be recognized as kapt annotation processors. Please change the configuration name to &#39;kapt&#39; for these artifacts: &#39;android.arch.lifecycle:compiler:1.1.1&#39; and apply the kapt plugin: &quot;apply plugin: &#39;kotlin-kapt&#39;&quot;.","body":"Running ./gradlew clean build from the terminal was the key. For me I got this message: app: &#39;annotationProcessor&#39; dependencies won&#39;t be recognized as kapt annotation processors. Please change the configuration name to &#39;kapt&#39; for these artifacts: &#39;android.arch.lifecycle:compiler:1.1.1&#39; and apply the kapt plugin: &quot;apply plugin: &#39;kotlin-kapt&#39;&quot;."},{"owner":{"account_id":3945173,"reputation":71,"user_id":3258117,"display_name":"Hajo"},"score":0,"creation_date":1546092186,"post_id":53448495,"comment_id":94777921,"body_markdown":"Ah yes, executing the tasks in terminal also helped me a lot in the past. The build tools messages in the IDE often &quot;hide&quot; the original error message","body":"Ah yes, executing the tasks in terminal also helped me a lot in the past. The build tools messages in the IDE often &quot;hide&quot; the original error message"}],"tags":[],"owner":{"account_id":3945173,"reputation":71,"user_id":3258117,"display_name":"Hajo"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1542983667,"creation_date":1542983246,"answer_id":53448495,"question_id":46665621,"body_markdown":"Had the same problem. Implemented the few classes and interface as officially told in a new example project created by Android Studio:\r\nhttps://developer.android.com/training/data-storage/room/\r\n\r\nAll mentioned solutions above did not help, the necessary _Impl files according to my database class were not generated by Room. Finally executing gradle clean build in terminal gave me the hint that lead to the solution:\r\n\r\n&quot;warning: Schema export directory is not provided to the annotation processor so we cannot export the schema. You can either provide `room.schemaLocation` annotation processor argument OR set exportSchema to false.&quot;\r\n\r\nI added the parameter exportSchema = false in the database class\r\n\r\n    @Database(entities = arrayOf(User::class), version = 1, exportSchema = false)\r\n    abstract class AppDatabase : RoomDatabase() {\r\n        abstract fun userDao(): UserDao\r\n    }\r\n\r\nAnd then it worked, found these two generated files in the app module under generatedJava:\r\n\r\n - AppDatabase_Impl\r\n - UserDao_Impl\r\n\r\nI don&#39;t understand this behaviour as the parameter is said to be optional, see\r\nhttps://stackoverflow.com/a/44645943/3258117","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Had the same problem. Implemented the few classes and interface as officially told in a new example project created by Android Studio:\n<a href=\"https://developer.android.com/training/data-storage/room/\" rel=\"noreferrer\">https://developer.android.com/training/data-storage/room/</a></p>\n\n<p>All mentioned solutions above did not help, the necessary _Impl files according to my database class were not generated by Room. Finally executing gradle clean build in terminal gave me the hint that lead to the solution:</p>\n\n<p>\"warning: Schema export directory is not provided to the annotation processor so we cannot export the schema. You can either provide <code>room.schemaLocation</code> annotation processor argument OR set exportSchema to false.\"</p>\n\n<p>I added the parameter exportSchema = false in the database class</p>\n\n<pre><code>@Database(entities = arrayOf(User::class), version = 1, exportSchema = false)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun userDao(): UserDao\n}\n</code></pre>\n\n<p>And then it worked, found these two generated files in the app module under generatedJava:</p>\n\n<ul>\n<li>AppDatabase_Impl</li>\n<li>UserDao_Impl</li>\n</ul>\n\n<p>I don't understand this behaviour as the parameter is said to be optional, see\n<a href=\"https://stackoverflow.com/a/44645943/3258117\">https://stackoverflow.com/a/44645943/3258117</a></p>\n"},{"tags":[],"owner":{"account_id":3126443,"reputation":155,"user_id":3065504,"display_name":"Saurabh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546156563,"creation_date":1546156563,"answer_id":53976046,"question_id":46665621,"body_markdown":"The issue is more around the correct library that is not included in the gradle build. I had a similar issue and added the missing \r\n\r\n&gt; testImplementation &quot;android.arch.persistence.room:testing:$room_version","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>The issue is more around the correct library that is not included in the gradle build. I had a similar issue and added the missing </p>\n\n<blockquote>\n  <p>testImplementation \"android.arch.persistence.room:testing:$room_version</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15555066,"reputation":59,"user_id":11221761,"display_name":"user11221761"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552925279,"creation_date":1552925279,"answer_id":55225546,"question_id":46665621,"body_markdown":"The same phenomenon occurred to me.\r\n\r\nfollowing\r\n```\r\nimplementation &quot;android.arch.persistence.room:runtime:1.1.1&quot;\r\n```\r\nAdding causes another build error but tracks the cause from the log.\r\n\r\nIn my case, there was an error in the SQL implementation.\r\nAfter fixing, the build was successful.\r\n\r\nSo you may want to check the implementation of the entire room library instead of looking at the crashed locals.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>The same phenomenon occurred to me.</p>\n\n<p>following</p>\n\n<pre><code>implementation \"android.arch.persistence.room:runtime:1.1.1\"\n</code></pre>\n\n<p>Adding causes another build error but tracks the cause from the log.</p>\n\n<p>In my case, there was an error in the SQL implementation.\nAfter fixing, the build was successful.</p>\n\n<p>So you may want to check the implementation of the entire room library instead of looking at the crashed locals.</p>\n"},{"tags":[],"owner":{"account_id":16107674,"reputation":401,"user_id":11626782,"display_name":"Deepak"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1560239584,"creation_date":1560239584,"answer_id":56538942,"question_id":46665621,"body_markdown":"make sure to add correct dependency for room in build.gradle\r\n    \r\n    ext {\r\n       roomVersion = &#39;2.1.0-alpha06&#39;\r\n    }\r\n    \r\n    // Room components\r\n    implementation &quot;androidx.room:room-runtime:$rootProject.roomVersion&quot;\r\n    implementation &quot;androidx.room:room-ktx:$rootProject.roomVersion&quot;\r\n    kapt &quot;androidx.room:room-compiler:$rootProject.roomVersion&quot;\r\n    androidTestImplementation &quot;androidx.room:room-testing:$rootProject.roomVersion&quot;\r\n    \r\nAnd below line at the top-\r\n     \r\n    apply plugin: &#39;kotlin-kapt&#39;","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>make sure to add correct dependency for room in build.gradle</p>\n\n<pre><code>ext {\n   roomVersion = '2.1.0-alpha06'\n}\n\n// Room components\nimplementation \"androidx.room:room-runtime:$rootProject.roomVersion\"\nimplementation \"androidx.room:room-ktx:$rootProject.roomVersion\"\nkapt \"androidx.room:room-compiler:$rootProject.roomVersion\"\nandroidTestImplementation \"androidx.room:room-testing:$rootProject.roomVersion\"\n</code></pre>\n\n<p>And below line at the top-</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2540793,"reputation":1637,"user_id":2206638,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1560791949,"creation_date":1560791949,"answer_id":56636095,"question_id":46665621,"body_markdown":"The question is pretty old, but I&#39;ve stumbled on this today and none of the provided answers helped me. Finally I managed to resolve it by noticing that google [documentation][1] actually is still adopted to Java and not Kotlin by default, actually they have added a comment which I&#39;ve ignored\r\n\r\n&gt; For Kotlin use kapt instead of annotationProcessor\r\n\r\nSo, instead of \r\n\r\n`annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;`\r\n\r\nIf you are developing with Kotlin, you should use:\r\n\r\n        kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/room","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>The question is pretty old, but I've stumbled on this today and none of the provided answers helped me. Finally I managed to resolve it by noticing that google <a href=\"https://developer.android.com/jetpack/androidx/releases/room\" rel=\"noreferrer\">documentation</a> actually is still adopted to Java and not Kotlin by default, actually they have added a comment which I've ignored</p>\n\n<blockquote>\n  <p>For Kotlin use kapt instead of annotationProcessor</p>\n</blockquote>\n\n<p>So, instead of </p>\n\n<p><code>annotationProcessor \"androidx.room:room-compiler:$room_version\"</code></p>\n\n<p>If you are developing with Kotlin, you should use:</p>\n\n<pre><code>    kapt \"androidx.room:room-compiler:$room_version\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12561968,"reputation":5864,"user_id":9139384,"display_name":"Yennefer"},"score":0,"creation_date":1568133645,"post_id":56931922,"comment_id":102174988,"body_markdown":"This works on Android Studio 3.5 (however the current room compiler version is 2.1.0)","body":"This works on Android Studio 3.5 (however the current room compiler version is 2.1.0)"},{"owner":{"account_id":2148833,"reputation":543,"user_id":1905786,"display_name":"navalkishoreb"},"score":1,"creation_date":1568191995,"post_id":56931922,"comment_id":102193272,"body_markdown":"I think most of the people were not using androidx library in whole project... that why I suggested 1.1.1... I myself faced compilation issues and felt safe with minimal changes using older version.","body":"I think most of the people were not using androidx library in whole project... that why I suggested 1.1.1... I myself faced compilation issues and felt safe with minimal changes using older version."}],"tags":[],"owner":{"account_id":2148833,"reputation":543,"user_id":1905786,"display_name":"navalkishoreb"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1562577936,"creation_date":1562577936,"answer_id":56931922,"question_id":46665621,"body_markdown":"if you are using kotlin classes to implement database then \r\nuse \r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n\r\nand \r\n\r\n    kapt &quot;android.arch.persistence.room:compiler:1.1.1&quot;\r\n\r\nin your gradle file, it will work.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>if you are using kotlin classes to implement database then \nuse </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>and </p>\n\n<pre><code>kapt \"android.arch.persistence.room:compiler:1.1.1\"\n</code></pre>\n\n<p>in your gradle file, it will work.</p>\n"},{"comments":[{"owner":{"account_id":5919211,"reputation":181,"user_id":4656975,"display_name":"pjwin"},"score":0,"creation_date":1575523591,"post_id":59026548,"comment_id":104597125,"body_markdown":"this is what i missed","body":"this is what i missed"}],"tags":[],"owner":{"account_id":6317460,"reputation":68,"user_id":4906875,"display_name":"Wajhia Maqsood"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574664569,"creation_date":1574664569,"answer_id":59026548,"question_id":46665621,"body_markdown":"Changing the dependencies in my gradle file did&#39;nt help me in fixing the error.I had missed this Database annotation in class where Room database was initialized which was causing this issue.\r\n\r\n&gt; @Database(entities = [UserModel::class], version = 1)\r\n\r\nEnsure that the entity model specified in the annotation above refers to the particular model class","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Changing the dependencies in my gradle file did'nt help me in fixing the error.I had missed this Database annotation in class where Room database was initialized which was causing this issue.</p>\n\n<blockquote>\n  <p>@Database(entities = [UserModel::class], version = 1)</p>\n</blockquote>\n\n<p>Ensure that the entity model specified in the annotation above refers to the particular model class</p>\n"},{"tags":[],"owner":{"account_id":5455454,"reputation":1291,"user_id":4339032,"accept_rate":0,"display_name":"Rujoota Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578539228,"creation_date":1578539228,"answer_id":59656683,"question_id":46665621,"body_markdown":"For me, the Android Studio automatically updated dependencies as soon as you include any of the Room database related imports. But as per https://developer.android.com/jetpack/androidx/releases/room#declaring_dependencies you need to update few. Here is how my code-base looks like:\r\n\r\nAppDatabase.kt\r\n    \r\n    \r\n    import android.content.Context\r\n    import androidx.room.Database\r\n    import androidx.room.Room\r\n    import androidx.room.RoomDatabase\r\n    \r\n    @Database(entities = arrayOf(MyEntity::class), version = 1)\r\n    abstract class AppDatabase : RoomDatabase() {\r\n        abstract fun myDAO(): MyDAO\r\n    \r\n        companion object {\r\n            @Volatile private var instance: AppDatabase? = null\r\n            private val LOCK = Any()\r\n    \r\n            operator fun invoke(context: Context)= instance ?: synchronized(LOCK){\r\n                instance ?: buildDatabase(context).also { instance = it}\r\n            }\r\n    \r\n            private fun buildDatabase(context: Context) = Room.databaseBuilder(context,\r\n                AppDatabase::class.java, &quot;db-name.db&quot;)\r\n                .build()\r\n        }\r\n    }\r\n\r\nUpdate the build.gradle as specified in one of the answers:\r\n\r\n    apply plugin: &#39;kotlin-kapt&#39; // this goes with other declared plugin at top\r\n    dependencies { // add/update the following in dependencies section\r\n        implementation &#39;androidx.room:room-runtime:2.2.3&#39;\r\n    //    annotationProcessor &#39;androidx.room:room-compiler:2.2.3&#39; // remove this and use the following\r\n        kapt &quot;androidx.room:room-compiler:2.2.3&quot;\r\n\r\n    }\r\nSync the gradle and you should be good to go.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>For me, the Android Studio automatically updated dependencies as soon as you include any of the Room database related imports. But as per <a href=\"https://developer.android.com/jetpack/androidx/releases/room#declaring_dependencies\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/room#declaring_dependencies</a> you need to update few. Here is how my code-base looks like:</p>\n\n<p>AppDatabase.kt</p>\n\n<pre><code>import android.content.Context\nimport androidx.room.Database\nimport androidx.room.Room\nimport androidx.room.RoomDatabase\n\n@Database(entities = arrayOf(MyEntity::class), version = 1)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun myDAO(): MyDAO\n\n    companion object {\n        @Volatile private var instance: AppDatabase? = null\n        private val LOCK = Any()\n\n        operator fun invoke(context: Context)= instance ?: synchronized(LOCK){\n            instance ?: buildDatabase(context).also { instance = it}\n        }\n\n        private fun buildDatabase(context: Context) = Room.databaseBuilder(context,\n            AppDatabase::class.java, \"db-name.db\")\n            .build()\n    }\n}\n</code></pre>\n\n<p>Update the build.gradle as specified in one of the answers:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt' // this goes with other declared plugin at top\ndependencies { // add/update the following in dependencies section\n    implementation 'androidx.room:room-runtime:2.2.3'\n//    annotationProcessor 'androidx.room:room-compiler:2.2.3' // remove this and use the following\n    kapt \"androidx.room:room-compiler:2.2.3\"\n\n}\n</code></pre>\n\n<p>Sync the gradle and you should be good to go.</p>\n"},{"tags":[],"owner":{"account_id":2758747,"reputation":1051,"user_id":2376076,"display_name":"Anibal Itriago"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583878941,"creation_date":1583878941,"answer_id":60626735,"question_id":46665621,"body_markdown":"Reading the example here:\r\n[Room Example][1]\r\n\r\n  [1]: https://android.jlelse.eu/android-architecture-components-room-livedata-and-viewmodel-fca5da39e26b\r\n\r\nI fixed this error just using the correct (I guess it is) annotationProcessorFile, as follows:\r\n\r\n    annotationProcessor &quot;android.arch.persistence.room:compiler:&lt;latest_version&gt;&quot;\r\n\r\nAlso, I upgraded to 2.2.0 either in Room Version as in Lifecycle version.\r\n\r\nOnce synchronized the graddle, I could start working with Room.\r\n\r\nSo, Good luck! And let the code be with you!","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Reading the example here:\n<a href=\"https://android.jlelse.eu/android-architecture-components-room-livedata-and-viewmodel-fca5da39e26b\" rel=\"nofollow noreferrer\">Room Example</a></p>\n\n<p>I fixed this error just using the correct (I guess it is) annotationProcessorFile, as follows:</p>\n\n<pre><code>annotationProcessor \"android.arch.persistence.room:compiler:&lt;latest_version&gt;\"\n</code></pre>\n\n<p>Also, I upgraded to 2.2.0 either in Room Version as in Lifecycle version.</p>\n\n<p>Once synchronized the graddle, I could start working with Room.</p>\n\n<p>So, Good luck! And let the code be with you!</p>\n"},{"tags":[],"owner":{"account_id":3699372,"reputation":589,"user_id":4813946,"accept_rate":100,"display_name":"Zakaria"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584651936,"creation_date":1584651936,"answer_id":60765049,"question_id":46665621,"body_markdown":"In my kotlin app, I just added the following line at the top of my build.gradle file :\r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\nAnd the following line in the dependencies section:\r\n\r\n    kapt &quot;androidx.room:room-compiler:2.2.5&quot;\r\n\r\nI hope it fixes your issue.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>In my kotlin app, I just added the following line at the top of my build.gradle file :</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>And the following line in the dependencies section:</p>\n\n<pre><code>kapt \"androidx.room:room-compiler:2.2.5\"\n</code></pre>\n\n<p>I hope it fixes your issue.</p>\n"},{"tags":[],"owner":{"account_id":7894011,"reputation":1575,"user_id":6086532,"display_name":"artenson.art98"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593165427,"creation_date":1593165427,"answer_id":62592312,"question_id":46665621,"body_markdown":"Not in the case of OP, but this also happens when you mistakenly use **implementation** instead of **annotationProcessor** like this:\r\n```\r\nimplementation &quot;android.arch.persistence.room:compiler:x.x.x&quot;\r\n```\r\nInstead of this:\r\n```\r\nannotationProcessor &quot;android.arch.persistence.room:compiler:x.x.x&quot;\r\n```\r\n\r\n\r\n","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Not in the case of OP, but this also happens when you mistakenly use <strong>implementation</strong> instead of <strong>annotationProcessor</strong> like this:</p>\n<pre><code>implementation &quot;android.arch.persistence.room:compiler:x.x.x&quot;\n</code></pre>\n<p>Instead of this:</p>\n<pre><code>annotationProcessor &quot;android.arch.persistence.room:compiler:x.x.x&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10105165,"reputation":700,"user_id":7467965,"display_name":"hamid Mahmoodi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605522065,"creation_date":1605522065,"answer_id":64856222,"question_id":46665621,"body_markdown":"**For Kotlin Developers**\r\n\r\n\r\n----------\r\n\r\n\r\nif you checked Dao and Entity and also used Kapt and there is no problem, I guess there is a problem with your kotlin version if you are using kotlin 1.4 and above.\r\nupdate Room to last version from this [link][1].\r\n\r\n\r\n----------\r\n\r\n\r\n**2.3.0-alpha03** solved my problem.\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/room","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p><strong>For Kotlin Developers</strong></p>\n<hr />\n<p>if you checked Dao and Entity and also used Kapt and there is no problem, I guess there is a problem with your kotlin version if you are using kotlin 1.4 and above.\nupdate Room to last version from this <a href=\"https://developer.android.com/jetpack/androidx/releases/room\" rel=\"nofollow noreferrer\">link</a>.</p>\n<hr />\n<p><strong>2.3.0-alpha03</strong> solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":5655596,"reputation":314,"user_id":4514909,"accept_rate":50,"display_name":"Meenohara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608473421,"creation_date":1608473421,"answer_id":65380780,"question_id":46665621,"body_markdown":"In addition to missing \r\n\r\n`annotationProcessor &quot;android.arch.persistence.room:compiler:x.x.x&quot;` \r\n\r\nI had also missed adding the below annotation in my class\r\n\r\n    @Entity(tableName = &quot;mytablename&quot;)\r\n\r\n","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>In addition to missing</p>\n<p><code>annotationProcessor &quot;android.arch.persistence.room:compiler:x.x.x&quot;</code></p>\n<p>I had also missed adding the below annotation in my class</p>\n<pre><code>@Entity(tableName = &quot;mytablename&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3875392,"reputation":488,"user_id":3209572,"display_name":"John R. Hilles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614258554,"creation_date":1614258554,"answer_id":66369124,"question_id":46665621,"body_markdown":"Just in case anyone out there should make the same mistake as I did, don&#39;t call your database class &quot;Database&quot; or you&#39;ll get the same error.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Just in case anyone out there should make the same mistake as I did, don't call your database class &quot;Database&quot; or you'll get the same error.</p>\n"},{"comments":[{"owner":{"account_id":14891443,"reputation":415,"user_id":10752962,"display_name":"Vivek Thummar"},"score":0,"creation_date":1677576286,"post_id":68413358,"comment_id":133360576,"body_markdown":"tried adding `plugins {...}` and replacing `kapt` with `annotationProcessor` but separately, thank you very much for answering..","body":"tried adding <code>plugins {...}</code> and replacing <code>kapt</code> with <code>annotationProcessor</code> but separately, thank you very much for answering.."}],"tags":[],"owner":{"account_id":13109291,"reputation":2682,"user_id":9470914,"display_name":"UdaraWanasinghe"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1626458067,"creation_date":1626458067,"answer_id":68413358,"question_id":46665621,"body_markdown":"If you are using `kotlin`, add kotlin annotation processor plugin to app level `build.gradle`\r\n```\r\nplugins {\r\n    id &quot;org.jetbrains.kotlin.kapt&quot;\r\n}\r\n```\r\nAlso remove `annotationProcessor` and replace it with `kapt`\r\n\r\n* Instead of\r\n```\r\ndependencies {\r\n    def room_version = &quot;2.3.0&quot;\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n}\r\n```\r\n\r\n* Use\r\n```\r\ndependencies {\r\n    def room_version = &quot;2.3.0&quot;\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n}\r\n```\r\n\r\nThe `annotationProcessor` only works in java environment. The `kapt` takes care of both java and kotlin. If something wrong with your implementation, those plugins will show them at the compile time.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>If you are using <code>kotlin</code>, add kotlin annotation processor plugin to app level <code>build.gradle</code></p>\n<pre><code>plugins {\n    id &quot;org.jetbrains.kotlin.kapt&quot;\n}\n</code></pre>\n<p>Also remove <code>annotationProcessor</code> and replace it with <code>kapt</code></p>\n<ul>\n<li>Instead of</li>\n</ul>\n<pre><code>dependencies {\n    def room_version = &quot;2.3.0&quot;\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n}\n</code></pre>\n<ul>\n<li>Use</li>\n</ul>\n<pre><code>dependencies {\n    def room_version = &quot;2.3.0&quot;\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\n}\n</code></pre>\n<p>The <code>annotationProcessor</code> only works in java environment. The <code>kapt</code> takes care of both java and kotlin. If something wrong with your implementation, those plugins will show them at the compile time.</p>\n"},{"tags":[],"owner":{"account_id":115538,"reputation":13612,"user_id":303347,"accept_rate":52,"display_name":"Arunabh Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1643494352,"creation_date":1643494352,"answer_id":70910174,"question_id":46665621,"body_markdown":"Agreed with the above answers\r\n\r\nThe solution is as below. Change annotationProcessor to kapt as below\r\n\r\n    // annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Agreed with the above answers</p>\n<p>The solution is as below. Change annotationProcessor to kapt as below</p>\n<pre><code>// annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8599273,"reputation":280,"user_id":6441416,"display_name":"zekromWex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650554953,"creation_date":1650554953,"answer_id":71957077,"question_id":46665621,"body_markdown":"Nothing works from above answers and I noticed that the issue persists for me when I&#39;m using room version`2.3.0` or `2.4.2`. However, `2.5.0-alpha01` version works well when I applied it.\r\n\r\n\r\n`build.gradle:app`\r\n```\r\ndef roomVersion = &#39;2.5.0-alpha01&#39;\r\nimplementation &quot;androidx.room:room-ktx:$roomVersion&quot;\r\nkapt &quot;androidx.room:room-compiler:$roomVersion&quot;\r\ntestImplementation &quot;android.arch.persistence.room:testing:$roomVersion&quot;\r\n```","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Nothing works from above answers and I noticed that the issue persists for me when I'm using room version<code>2.3.0</code> or <code>2.4.2</code>. However, <code>2.5.0-alpha01</code> version works well when I applied it.</p>\n<p><code>build.gradle:app</code></p>\n<pre><code>def roomVersion = '2.5.0-alpha01'\nimplementation &quot;androidx.room:room-ktx:$roomVersion&quot;\nkapt &quot;androidx.room:room-compiler:$roomVersion&quot;\ntestImplementation &quot;android.arch.persistence.room:testing:$roomVersion&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25312852,"reputation":324,"user_id":19135379,"display_name":"Đức L&#234; C&#244;ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660631091,"creation_date":1660631091,"answer_id":73369601,"question_id":46665621,"body_markdown":"check this annotation above class\r\n\r\n    @Database(entities = arrayOf(Schedule::class), version = 1)\r\n    abstract class AppDatabase : RoomDatabase() {\r\n    // ....\r\n    }","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>check this annotation above class</p>\n<pre><code>@Database(entities = arrayOf(Schedule::class), version = 1)\nabstract class AppDatabase : RoomDatabase() {\n// ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8314575,"reputation":143,"user_id":6248378,"accept_rate":50,"display_name":"Rodrigo Salomao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669111257,"creation_date":1669111257,"answer_id":74530750,"question_id":46665621,"body_markdown":"In my case just by changing `annotationProcessor` to `kapt` on my `room-compiler` dependency, did the work.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>In my case just by changing <code>annotationProcessor</code> to <code>kapt</code> on my <code>room-compiler</code> dependency, did the work.</p>\n"},{"comments":[{"owner":{"account_id":13458893,"reputation":441,"user_id":9711661,"display_name":"Alessandro Krasota"},"score":0,"creation_date":1693575231,"post_id":75240342,"comment_id":135783128,"body_markdown":"It is recommended to use KSP instead of KAPT.","body":"It is recommended to use KSP instead of KAPT."}],"tags":[],"owner":{"account_id":2500167,"reputation":179,"user_id":2175517,"display_name":"awaqar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674684710,"creation_date":1674684253,"answer_id":75240342,"question_id":46665621,"body_markdown":"As of Jan 2023 - I faced a similar issue after refactoring my code to use ServiceLocator class. \r\n\r\nI resolved it by going on a spree of changing room versions. It worked with 2.5.0-alpha02\r\n\r\nversion_room = &quot;2.5.0-alpha02&quot; &lt;-- build.gradle (project)\r\n\r\n     //Room\r\n    implementation &quot;androidx.room:room-runtime:$version_room&quot;\r\n    kapt &quot;androidx.room:room-compiler:$version_room&quot;\r\n    // optional - Kotlin Extensions and Coroutines support for Room\r\n    implementation &quot;androidx.room:room-ktx:$version_room&quot;\r\n    implementation(&quot;androidx.room:room-guava:$version_room&quot;)\r\n\r\nI am running the following on Android Eel 2020.1.1:\r\n\r\nversion_kotlin = &quot;1.7.21&quot;\r\nversion_android_gradle_plugin = &quot;4.0.1&quot;","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>As of Jan 2023 - I faced a similar issue after refactoring my code to use ServiceLocator class.</p>\n<p>I resolved it by going on a spree of changing room versions. It worked with 2.5.0-alpha02</p>\n<p>version_room = &quot;2.5.0-alpha02&quot; &lt;-- build.gradle (project)</p>\n<pre><code> //Room\nimplementation &quot;androidx.room:room-runtime:$version_room&quot;\nkapt &quot;androidx.room:room-compiler:$version_room&quot;\n// optional - Kotlin Extensions and Coroutines support for Room\nimplementation &quot;androidx.room:room-ktx:$version_room&quot;\nimplementation(&quot;androidx.room:room-guava:$version_room&quot;)\n</code></pre>\n<p>I am running the following on Android Eel 2020.1.1:</p>\n<p>version_kotlin = &quot;1.7.21&quot;\nversion_android_gradle_plugin = &quot;4.0.1&quot;</p>\n"},{"tags":[],"owner":{"account_id":23012720,"reputation":216,"user_id":17135014,"display_name":"Mudit Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683177433,"creation_date":1683177433,"answer_id":76169783,"question_id":46665621,"body_markdown":"Following are the dependencies I have used to resolve this issue :\r\n\r\n    plugins {\r\n        id &#39;kotlin-kapt&#39;\r\n    }\r\n\r\n    dependencies {\r\n        //dependencies for room\r\n         implementation(&quot;androidx.room:room-runtime:2.5.1&quot;)\r\n         kapt &quot;androidx.room:room-compiler:2.5.1&quot;\r\n         kapt &quot;android.arch.persistence.room:compiler:1.1.1&quot;\r\n    }","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Following are the dependencies I have used to resolve this issue :</p>\n<pre><code>plugins {\n    id 'kotlin-kapt'\n}\n\ndependencies {\n    //dependencies for room\n     implementation(&quot;androidx.room:room-runtime:2.5.1&quot;)\n     kapt &quot;androidx.room:room-compiler:2.5.1&quot;\n     kapt &quot;android.arch.persistence.room:compiler:1.1.1&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3060380,"reputation":3501,"user_id":3378075,"accept_rate":36,"display_name":"Intsab Haider"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683226684,"creation_date":1683226684,"answer_id":76176554,"question_id":46665621,"body_markdown":"**Update Answer 2023** \r\n\r\nI was facing the same issue and after wasting 10 hours and all the above solutions, the following steps worked.\r\n\r\nFirst I changed my gradle version to the latest i.e\r\n\r\n  \r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\r\n\r\nTO\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.1-bin.zip\r\n\r\nplus I changed Java version in all modules from\r\n\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n\r\nTO\r\n\r\n    sourceCompatibility JavaVersion.VERSION_11\r\n    targetCompatibility JavaVersion.VERSION_11\r\n\r\n After That I did clean and Run but had No Luck, Then I added the following dependencies in my gradle file as per someone&#39;s answer. \r\n \r\n\r\n    implementation &quot;androidx.room:room-runtime:2.4.0-alpha01&quot;\r\n    annotationProcessor  &quot;androidx.room:room-compiler:2.4.0-alpha01&quot;\r\n    kapt  &quot;androidx.room:room-compiler:2.4.0-alpha01&quot;\r\n\r\nIt didn&#39;t work as well but I found suggestion that latest version of room is available for alpha i.e\r\n\r\n    implementation &quot;androidx.room:room-runtime:2.6.0-alpha01&quot;\r\n    annotationProcessor  &quot;androidx.room:room-compiler:2.6.0-alpha01&quot;\r\n    kapt  &quot;androidx.room:room-compiler:2.6.0-alpha01&quot;\r\nNow after updating that, it started working!\r\n\r\nSo I suggest that Update your gradle version, Kotlin version, and Java version and use the latest room it will work. \r\nAs I am using the multi-module app with Dagger, Many people suggested that add dependencies of Room in the *APP Module* as well, But I found that there is no need of adding Room in *APP Module*, Just add it in the core module where required.","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p><strong>Update Answer 2023</strong></p>\n<p>I was facing the same issue and after wasting 10 hours and all the above solutions, the following steps worked.</p>\n<p>First I changed my gradle version to the latest i.e</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\n</code></pre>\n<p>TO</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.1-bin.zip\n</code></pre>\n<p>plus I changed Java version in all modules from</p>\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_8\ntargetCompatibility JavaVersion.VERSION_1_8\n</code></pre>\n<p>TO</p>\n<pre><code>sourceCompatibility JavaVersion.VERSION_11\ntargetCompatibility JavaVersion.VERSION_11\n</code></pre>\n<p>After That I did clean and Run but had No Luck, Then I added the following dependencies in my gradle file as per someone's answer.</p>\n<pre><code>implementation &quot;androidx.room:room-runtime:2.4.0-alpha01&quot;\nannotationProcessor  &quot;androidx.room:room-compiler:2.4.0-alpha01&quot;\nkapt  &quot;androidx.room:room-compiler:2.4.0-alpha01&quot;\n</code></pre>\n<p>It didn't work as well but I found suggestion that latest version of room is available for alpha i.e</p>\n<pre><code>implementation &quot;androidx.room:room-runtime:2.6.0-alpha01&quot;\nannotationProcessor  &quot;androidx.room:room-compiler:2.6.0-alpha01&quot;\nkapt  &quot;androidx.room:room-compiler:2.6.0-alpha01&quot;\n</code></pre>\n<p>Now after updating that, it started working!</p>\n<p>So I suggest that Update your gradle version, Kotlin version, and Java version and use the latest room it will work.\nAs I am using the multi-module app with Dagger, Many people suggested that add dependencies of Room in the <em>APP Module</em> as well, But I found that there is no need of adding Room in <em>APP Module</em>, Just add it in the core module where required.</p>\n"},{"tags":[],"owner":{"account_id":26055760,"reputation":448,"user_id":19758138,"display_name":"DraftyHat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683485390,"creation_date":1683485390,"answer_id":76195732,"question_id":46665621,"body_markdown":"Here&#39;s an answer using ksp. Android developer documentation asserts that kapt is now (May 2023) in maintenance mode. I&#39;m writing a Kotlin app.\r\n\r\nAdd to your project-level build.gradle:\r\n```\r\nplugins {\r\n...\r\n   id &#39;com.google.devtools.ksp&#39; version &quot;1.8.21-1.0.11&quot; apply false\r\n}\r\n```\r\n\r\nAdd to your module-level build.gradle:\r\n```\r\nplugins {\r\n...\r\n   id &#39;com.google.devtools.ksp&#39;\r\n}\r\n```\r\n```\r\nandroid {\r\n...\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n                     // was JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = 11\r\n        // was jvmTarget = &#39;1.8&#39;\r\n    }\r\n    // this may not be necessary but my app has it\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.4.7&#39;\r\n    }\r\n...\r\n}\r\n```\r\n```\r\nkotlin {\r\n    jvmToolchain(11)\r\n}\r\n```\r\n```\r\ndependencies {\r\n...\r\n    def room_version = &quot;2.5.1&quot;\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n    ksp &quot;androidx.room:room-compiler:$room_version&quot;\r\n}\r\n```\r\n\r\nIn addition, because I was updating the Java version, I got an error about a `jlink` executable not existing, and solved that by installing the latest JDK on my machine.\r\n\r\n&gt; Fedora: `sudo dnf install java-11-openjdk-devel`\r\n\r\n&gt; Ubuntu: `sudo apt install default-jdk default-jre`\r\n\r\n\r\nReferences:\r\n\r\nGoogle developer documentation on migrating from `kapt` to `ksp`: https://developer.android.com/build/migrate-to-ksp\r\n\r\nlatest `ksp` release listed here (web search &quot;android latest ksp release&quot;): https://github.com/google/ksp/releases\r\n\r\nlatest Room release listed here (web search &quot;android latest room release&quot;): https://developer.android.com/jetpack/androidx/releases/room\r\n\r\nlatest `kotlinCompilerExtensionVersion` release listed here (web search &quot;android latest kotlinCompilerExtensionVersion release&quot;): https://developer.android.com/jetpack/androidx/releases/compose-compiler\r\n\r\nStack Overflow posts about an error I hit along the way which caused me to update the JDK:\r\n```\r\nExecution failed for task &#39;:app:kspDebugKotlin&#39;. Unable to build with ksp\r\n\r\n&#39;compileDebugJavaWithJavac&#39; task (current target is 1.8) and &#39;kspDebugKotlin&#39; task (current target is 17) jvm target compatibility should be set to the same Java version.\r\n```\r\nanswers found here: \r\n\r\nhttps://stackoverflow.com/questions/69079963/how-to-set-compilejava-task-11-and-compilekotlin-task-1-8-jvm-target-com\r\n\r\nhttps://stackoverflow.com/questions/75650195/build-error-kspdebugkotlin-task-current-target-is-17\r\n\r\nStack overflow posts about how to fix the error I got (&quot;jlink does not exist&quot;) once I&#39;d updated the Java version in build.gradle: https://stackoverflow.com/questions/73107234/how-to-fix-jlink-does-not-exist","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>Here's an answer using ksp. Android developer documentation asserts that kapt is now (May 2023) in maintenance mode. I'm writing a Kotlin app.</p>\n<p>Add to your project-level build.gradle:</p>\n<pre><code>plugins {\n...\n   id 'com.google.devtools.ksp' version &quot;1.8.21-1.0.11&quot; apply false\n}\n</code></pre>\n<p>Add to your module-level build.gradle:</p>\n<pre><code>plugins {\n...\n   id 'com.google.devtools.ksp'\n}\n</code></pre>\n<pre><code>android {\n...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n                     // was JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = 11\n        // was jvmTarget = '1.8'\n    }\n    // this may not be necessary but my app has it\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.4.7'\n    }\n...\n}\n</code></pre>\n<pre><code>kotlin {\n    jvmToolchain(11)\n}\n</code></pre>\n<pre><code>dependencies {\n...\n    def room_version = &quot;2.5.1&quot;\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\n    ksp &quot;androidx.room:room-compiler:$room_version&quot;\n}\n</code></pre>\n<p>In addition, because I was updating the Java version, I got an error about a <code>jlink</code> executable not existing, and solved that by installing the latest JDK on my machine.</p>\n<blockquote>\n<p>Fedora: <code>sudo dnf install java-11-openjdk-devel</code></p>\n</blockquote>\n<blockquote>\n<p>Ubuntu: <code>sudo apt install default-jdk default-jre</code></p>\n</blockquote>\n<p>References:</p>\n<p>Google developer documentation on migrating from <code>kapt</code> to <code>ksp</code>: <a href=\"https://developer.android.com/build/migrate-to-ksp\" rel=\"nofollow noreferrer\">https://developer.android.com/build/migrate-to-ksp</a></p>\n<p>latest <code>ksp</code> release listed here (web search &quot;android latest ksp release&quot;): <a href=\"https://github.com/google/ksp/releases\" rel=\"nofollow noreferrer\">https://github.com/google/ksp/releases</a></p>\n<p>latest Room release listed here (web search &quot;android latest room release&quot;): <a href=\"https://developer.android.com/jetpack/androidx/releases/room\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/room</a></p>\n<p>latest <code>kotlinCompilerExtensionVersion</code> release listed here (web search &quot;android latest kotlinCompilerExtensionVersion release&quot;): <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-compiler\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-compiler</a></p>\n<p>Stack Overflow posts about an error I hit along the way which caused me to update the JDK:</p>\n<pre><code>Execution failed for task ':app:kspDebugKotlin'. Unable to build with ksp\n\n'compileDebugJavaWithJavac' task (current target is 1.8) and 'kspDebugKotlin' task (current target is 17) jvm target compatibility should be set to the same Java version.\n</code></pre>\n<p>answers found here:</p>\n<p><a href=\"https://stackoverflow.com/questions/69079963/how-to-set-compilejava-task-11-and-compilekotlin-task-1-8-jvm-target-com\">How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/75650195/build-error-kspdebugkotlin-task-current-target-is-17\">Build Error: &#39;kspDebugKotlin&#39; task (current target is 17)</a></p>\n<p>Stack overflow posts about how to fix the error I got (&quot;jlink does not exist&quot;) once I'd updated the Java version in build.gradle: <a href=\"https://stackoverflow.com/questions/73107234/how-to-fix-jlink-does-not-exist\">How to fix jlink does not exist?</a></p>\n"}],"owner":{"account_id":5047486,"reputation":2810,"user_id":4052998,"accept_rate":43,"display_name":"pratik deshai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146690,"favorite_count":0,"down_vote_count":0,"up_vote_count":260,"accepted_answer_id":49323956,"answer_count":32,"score":260,"last_activity_date":1696332508,"creation_date":1507634946,"question_id":46665621,"body_markdown":"  My app database class\r\n\r\n \r\n\r\n    @Database(entities = {Detail.class}, version = Constant.DATABASE_VERSION)\r\n    public abstract class AppDatabase extends RoomDatabase {\r\n    \r\n        private static AppDatabase INSTANCE;\r\n    \r\n        public abstract FavoritesDao favoritesDao();\r\n    \r\n        public static AppDatabase getAppDatabase(Context context) {\r\n            if (INSTANCE == null) {\r\n                INSTANCE =\r\n                        Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, Constant.DATABASE).allowMainThreadQueries().build();\r\n    \r\n                        //Room.inMemoryDatabaseBuilder(context.getApplicationContext(),AppDatabase.class).allowMainThreadQueries().build();\r\n            }\r\n            return INSTANCE;\r\n        }\r\n    \r\n        public static void destroyInstance() {\r\n            INSTANCE = null;\r\n        }\r\n    }\r\n\r\nGradle lib:&lt;br&gt;\r\n\r\n     compile &quot;android.arch.persistence.room:runtime:+&quot;   \r\n     annotationProcessor &quot;android.arch.persistence.room:compiler:+&quot;\r\n\r\nAnd when i ask for instance it will give this error,  AppDatabase_Impl does not exist\r\nin my application class\r\n&lt;br&gt;\r\n\r\n   \r\n\r\n    public class APp extends Application {\r\n    \r\n        private boolean appRunning = false;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            AppDatabase.getAppDatabase(this); //--AppDatabase_Impl does not exist\r\n            \r\n        }   \r\n    \r\n    }\r\n\r\n","title":"Android room persistent: AppDatabase_Impl does not exist","body":"<p>My app database class</p>\n\n<pre><code>@Database(entities = {Detail.class}, version = Constant.DATABASE_VERSION)\npublic abstract class AppDatabase extends RoomDatabase {\n\n    private static AppDatabase INSTANCE;\n\n    public abstract FavoritesDao favoritesDao();\n\n    public static AppDatabase getAppDatabase(Context context) {\n        if (INSTANCE == null) {\n            INSTANCE =\n                    Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, Constant.DATABASE).allowMainThreadQueries().build();\n\n                    //Room.inMemoryDatabaseBuilder(context.getApplicationContext(),AppDatabase.class).allowMainThreadQueries().build();\n        }\n        return INSTANCE;\n    }\n\n    public static void destroyInstance() {\n        INSTANCE = null;\n    }\n}\n</code></pre>\n\n<p>Gradle lib:<br></p>\n\n<pre><code> compile \"android.arch.persistence.room:runtime:+\"   \n annotationProcessor \"android.arch.persistence.room:compiler:+\"\n</code></pre>\n\n<p>And when i ask for instance it will give this error,  AppDatabase_Impl does not exist\nin my application class\n<br></p>\n\n<pre><code>public class APp extends Application {\n\n    private boolean appRunning = false;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        AppDatabase.getAppDatabase(this); //--AppDatabase_Impl does not exist\n\n    }   \n\n}\n</code></pre>\n"},{"tags":["java","java-stream","comparator","date-comparison","zoneddatetime"],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1571817782,"post_id":58511241,"comment_id":103362404,"body_markdown":"The two will not always give the same result in corner cases. `isAfter` compares the times, the instants, only. `compareTo` goes on to compare the local times if the instants are equal. So if `a` is `2019-10-31T02:00+01:00[Europe/Stockholm]` and `b` is `2019-10-31T01:00Z[Europe/London]`, then `a.isAfter(b)` is false, but `a.compareTo(b) &gt; 0` is true.","body":"The two will not always give the same result in corner cases. <code>isAfter</code> compares the times, the instants, only. <code>compareTo</code> goes on to compare the local times if the instants are equal. So if <code>a</code> is <code>2019-10-31T02:00+01:00[Europe&#47;Stockholm]</code> and <code>b</code> is <code>2019-10-31T01:00Z[Europe&#47;London]</code>, then <code>a.isAfter(b)</code> is false, but <code>a.compareTo(b) &gt; 0</code> is true."},{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1571829231,"post_id":58511241,"comment_id":103368301,"body_markdown":"@OleV.V. So what you are saying is that `isAfter` is more correct because it handles time zones while `compareTo` should be used if you want to compare two local times with each other independent of time zone.","body":"@OleV.V. So what you are saying is that <code>isAfter</code> is more correct because it handles time zones while <code>compareTo</code> should be used if you want to compare two local times with each other independent of time zone."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1571829491,"post_id":58511241,"comment_id":103368433,"body_markdown":"No, @JoakimDanielson, not exactly. `compareTo` compares the instants first, so if the two objects denote different points in time (even just 1 nanosecond apart), it works the way you expect. Only if they denote the same point in time, will it compare the local times instead. So both your snippets live up to the requirements as stated by the questioner. Only their way of breaking ties differs. (For comparison how `Collections.max` used in the other answer breaks ties is not specified at all.)","body":"No, @JoakimDanielson, not exactly. <code>compareTo</code> compares the instants first, so if the two objects denote different points in time (even just 1 nanosecond apart), it works the way you expect. Only if they denote the same point in time, will it compare the local times instead. So both your snippets live up to the requirements as stated by the questioner. Only their way of breaking ties differs. (For comparison how <code>Collections.max</code> used in the other answer breaks ties is not specified at all.)"}],"tags":[],"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1696331943,"creation_date":1571773318,"answer_id":58511241,"question_id":58510990,"body_markdown":"You can simply call `isAfter`:\r\n\r\n    ZonedDateTime max = a.isAfter(b) ? a : b;\r\n\r\nor since the class implements `Comparable`:\r\n\r\n    a.compareTo(b);\r\n\r\nAs pointed out by OleV.V. in the comments, there&#39;s a difference between the two methods for comparing times. So they might produce different results for the same values\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\r\n    ZonedDateTime time1 = ZonedDateTime.from(formatter.parse(&quot;2019-10-31T02:00+01:00&quot;));\r\n    ZonedDateTime time2 = ZonedDateTime.from(formatter.parse(&quot;2019-10-31T01:00Z&quot;));\r\n\r\n    System.out.println(time1.isAfter(time2) + &quot; - &quot; + time1.isBefore(time1) + &quot; - &quot; + time1.isEqual(time2));\r\n    System.out.println(time1.compareTo(time2));\r\n\r\nGenerates \r\n\r\n&gt;false - false - true  \r\n1","title":"How to get the maximum of two ZonedDateTime instances?","body":"<p>You can simply call <code>isAfter</code>:</p>\n<pre><code>ZonedDateTime max = a.isAfter(b) ? a : b;\n</code></pre>\n<p>or since the class implements <code>Comparable</code>:</p>\n<pre><code>a.compareTo(b);\n</code></pre>\n<p>As pointed out by OleV.V. in the comments, there's a difference between the two methods for comparing times. So they might produce different results for the same values</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\nZonedDateTime time1 = ZonedDateTime.from(formatter.parse(&quot;2019-10-31T02:00+01:00&quot;));\nZonedDateTime time2 = ZonedDateTime.from(formatter.parse(&quot;2019-10-31T01:00Z&quot;));\n\nSystem.out.println(time1.isAfter(time2) + &quot; - &quot; + time1.isBefore(time1) + &quot; - &quot; + time1.isEqual(time2));\nSystem.out.println(time1.compareTo(time2));\n</code></pre>\n<p>Generates</p>\n<blockquote>\n<p>false - false - true<br />\n1</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":16949432,"reputation":93,"user_id":12259366,"display_name":"thatsme"},"score":3,"creation_date":1571825789,"post_id":58511665,"comment_id":103366549,"body_markdown":"This is also what Guava suggests. See for example https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Ordering.html#max-E-E-.","body":"This is also what Guava suggests. See for example <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Ordering.html#max-E-E-\" rel=\"nofollow noreferrer\">guava.dev/releases/23.0/api/docs/com/google/common/collect/&hellip;</a>&zwnj;&#8203;."},{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1571830165,"post_id":58511665,"comment_id":103368774,"body_markdown":"@thatsme That link is a general recommendation to use the above method instead of their own similar method and is not specific to date/time comparisons. I can&#39;t see how it is more effective to first create a list object and then call compareTo rather than calling compareTo directly","body":"@thatsme That link is a general recommendation to use the above method instead of their own similar method and is not specific to date/time comparisons. I can&#39;t see how it is more effective to first create a list object and then call compareTo rather than calling compareTo directly"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1571831283,"post_id":58511665,"comment_id":103369406,"body_markdown":"@JoakimDanielson To me the point is that calling a method named `max` is more readily readable. Either approach is valid and the choice probably a matter of taste (I upvoted both answers).","body":"@JoakimDanielson To me the point is that calling a method named <code>max</code> is more readily readable. Either approach is valid and the choice probably a matter of taste (I upvoted both answers)."}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1571775294,"creation_date":1571775294,"answer_id":58511665,"question_id":58510990,"body_markdown":"[ZonedDateTime][1] implements `Comparable` interface so you can simple use `Collections.max`\r\n\r\n    Collections.max(Arrays.asList(a,b));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html","title":"How to get the maximum of two ZonedDateTime instances?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\">ZonedDateTime</a> implements <code>Comparable</code> interface so you can simple use <code>Collections.max</code></p>\n\n<pre><code>Collections.max(Arrays.asList(a,b));\n</code></pre>\n"}],"owner":{"account_id":16949432,"reputation":93,"user_id":12259366,"display_name":"thatsme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6401,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":58511241,"answer_count":2,"score":9,"last_activity_date":1696331943,"creation_date":1571772099,"question_id":58510990,"body_markdown":"I have two `ZonedDateTime` instances:\r\n\r\n    final ZonedDateTime a = ...;\r\n    final ZonedDateTime b = ...;\r\n\r\nI want to get the maximum of those two values. I want to avoid having to write custom ad-hoc code.\r\n\r\nWhat is the best way to do this in Java 8? I am currently doing it as following:\r\n\r\n    final ZonedDateTime c = Stream.of(a, b).max(ChronoZonedDateTime::compareTo).get();\r\n\r\nAre there better approaches?","title":"How to get the maximum of two ZonedDateTime instances?","body":"<p>I have two <code>ZonedDateTime</code> instances:</p>\n\n<pre><code>final ZonedDateTime a = ...;\nfinal ZonedDateTime b = ...;\n</code></pre>\n\n<p>I want to get the maximum of those two values. I want to avoid having to write custom ad-hoc code.</p>\n\n<p>What is the best way to do this in Java 8? I am currently doing it as following:</p>\n\n<pre><code>final ZonedDateTime c = Stream.of(a, b).max(ChronoZonedDateTime::compareTo).get();\n</code></pre>\n\n<p>Are there better approaches?</p>\n"},{"tags":["java","maven","plugins","pom.xml","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":5324934,"reputation":1,"user_id":4247220,"display_name":"ErC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696331807,"creation_date":1696331807,"answer_id":77221770,"question_id":74154582,"body_markdown":"remove from **/pluginManagement/plugins** and just put it in **/plugins**. \r\n**/pluginManagement &amp; /dependencyManagement** are merely for defining the configs, for actual usage you need to invoke using **/plugins &amp; /dependencies**. ","title":"Running plugins in child- from parent-pom in maven","body":"<p>remove from <strong>/pluginManagement/plugins</strong> and just put it in <strong>/plugins</strong>.\n<strong>/pluginManagement &amp; /dependencyManagement</strong> are merely for defining the configs, for actual usage you need to invoke using <strong>/plugins &amp; /dependencies</strong>.</p>\n"}],"owner":{"account_id":6202636,"reputation":39,"user_id":4831853,"display_name":"Spaceman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696331807,"creation_date":1666359868,"question_id":74154582,"body_markdown":"I want to create a parent pom which over 100 child poms will use it and I want each child using just `maven install` running the plugins from parent, but unfortunately it won&#39;t run parent plugins in child plugins.\r\n\r\nThis is my parent pom and my 2 checkstyle and spotbugs plugins are in it\r\n\r\n      &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n\t\r\n      &lt;plugins&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven.checkstyle.plugin}&lt;/version&gt;\r\n\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n              &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n              &lt;version&gt;${maven.puppycrawl.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n\r\n          &lt;configuration&gt;\r\n            &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n            &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n            &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n            &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\r\n          &lt;/configuration&gt;\r\n\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;validate&lt;/id&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;check&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${spotbugs.plugin.version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;threshold&gt;Low&lt;/threshold&gt;\r\n            &lt;xmlOutput&gt;true&lt;/xmlOutput&gt;\r\n          &lt;/configuration&gt;\r\n\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;check&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n\r\nand this is in my child pom\r\n\r\n      &lt;parent&gt;\r\n    &lt;groupId&gt;org.parent&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent_name&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nnow I want to use `mvn install` or `mvn clean install` to run the child pom and run these two plugins without rewriting them in each child pom, but it doesn&#39;t run the plugins.\r\n\r\ncan anyone tell me what should I do?\r\n\r\n\r\n","title":"Running plugins in child- from parent-pom in maven","body":"<p>I want to create a parent pom which over 100 child poms will use it and I want each child using just <code>maven install</code> running the plugins from parent, but unfortunately it won't run parent plugins in child plugins.</p>\n<p>This is my parent pom and my 2 checkstyle and spotbugs plugins are in it</p>\n<pre><code>  &lt;build&gt;\n&lt;pluginManagement&gt;\n\n  &lt;plugins&gt;\n\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${maven.checkstyle.plugin}&lt;/version&gt;\n\n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n          &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n          &lt;version&gt;${maven.puppycrawl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n\n      &lt;configuration&gt;\n        &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n        &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n        &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n        &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\n      &lt;/configuration&gt;\n\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;validate&lt;/id&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;check&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;phase&gt;validate&lt;/phase&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n      &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n      &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${spotbugs.plugin.version}&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;threshold&gt;Low&lt;/threshold&gt;\n        &lt;xmlOutput&gt;true&lt;/xmlOutput&gt;\n      &lt;/configuration&gt;\n\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;check&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n\n&lt;/pluginManagement&gt;\n</code></pre>\n  \n<p>and this is in my child pom</p>\n<pre><code>  &lt;parent&gt;\n&lt;groupId&gt;org.parent&lt;/groupId&gt;\n&lt;artifactId&gt;parent_name&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>now I want to use <code>mvn install</code> or <code>mvn clean install</code> to run the child pom and run these two plugins without rewriting them in each child pom, but it doesn't run the plugins.</p>\n<p>can anyone tell me what should I do?</p>\n"},{"tags":["java","mockito"],"answers":[{"comments":[{"owner":{"account_id":2189883,"reputation":5162,"user_id":1937263,"accept_rate":90,"display_name":"makasprzak"},"score":2,"creation_date":1403981373,"post_id":24468549,"comment_id":37871825,"body_markdown":"add `import static org.mockito.Mockito.*;`","body":"add <code>import static org.mockito.Mockito.*;</code>"},{"owner":{"account_id":4675849,"reputation":563,"user_id":3786227,"display_name":"Anwar"},"score":1,"creation_date":1403981419,"post_id":24468549,"comment_id":37871838,"body_markdown":"above change gives compile time error as                                 &quot;The method eq(Class&lt;String&gt;) is undefined for the type test class","body":"above change gives compile time error as                                 &quot;The method eq(Class&lt;String&gt;) is undefined for the type test class"},{"owner":{"account_id":2189883,"reputation":5162,"user_id":1937263,"accept_rate":90,"display_name":"makasprzak"},"score":0,"creation_date":1403981490,"post_id":24468549,"comment_id":37871850,"body_markdown":"add the static import I just mentioned","body":"add the static import I just mentioned"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":2,"creation_date":1526454115,"post_id":24468549,"comment_id":87744798,"body_markdown":"Hope my understanding is correct: If you are using any matcher for any 1 argument then you need to use matcher for all other arguments as well for a method or do not use matcher at all and pass actual value/object.","body":"Hope my understanding is correct: If you are using any matcher for any 1 argument then you need to use matcher for all other arguments as well for a method or do not use matcher at all and pass actual value/object."},{"owner":{"account_id":7082234,"reputation":453,"user_id":5420229,"accept_rate":78,"display_name":"Hannon Queiroz"},"score":3,"creation_date":1528888823,"post_id":24468549,"comment_id":88675504,"body_markdown":"Very old post, but for the Scala programmers that end up here (like myself), you&#39;ll find out that adding `import org.mockito.Mockito._` and then calling `eq(classOf[String])` won&#39;t work. The solution is to use the full path of the `eq()` function: `org.mockito.Matchers.eq(classOf[String]))` as stated [here](https://stackoverflow.com/a/29524445/5420229).","body":"Very old post, but for the Scala programmers that end up here (like myself), you&#39;ll find out that adding <code>import org.mockito.Mockito._</code> and then calling <code>eq(classOf[String])</code> won&#39;t work. The solution is to use the full path of the <code>eq()</code> function: <code>org.mockito.Matchers.eq(classOf[String]))</code> as stated <a href=\"https://stackoverflow.com/a/29524445/5420229\">here</a>."},{"owner":{"account_id":1419599,"reputation":4885,"user_id":1344509,"accept_rate":52,"display_name":"Ikrom"},"score":0,"creation_date":1596578283,"post_id":24468549,"comment_id":111855181,"body_markdown":"(scala) org.mockito.Matchers is deprecated, alternative is \n org.mockito.ArgumentMatchers.eq","body":"(scala) org.mockito.Matchers is deprecated, alternative is   org.mockito.ArgumentMatchers.eq"},{"owner":{"account_id":7589207,"reputation":81,"user_id":5757341,"display_name":"Odravison"},"score":0,"creation_date":1627294575,"post_id":24468549,"comment_id":121108694,"body_markdown":"I&#39;m getting this error using none of &quot;real value&quot;, only matchers static functions.","body":"I&#39;m getting this error using none of &quot;real value&quot;, only matchers static functions."}],"tags":[],"owner":{"account_id":2189883,"reputation":5162,"user_id":1937263,"accept_rate":90,"display_name":"makasprzak"},"comment_count":7,"down_vote_count":1,"up_vote_count":118,"is_accepted":true,"score":117,"last_activity_date":1685654357,"creation_date":1403971117,"answer_id":24468549,"question_id":24468456,"body_markdown":"Mockito requires you to either use only raw values or only matchers when stubbing a method call. The full exception (not posted by you here) surely explains everything.\r\n\r\nSimple change the line: \r\n```java\r\nwhen(jdbcTemplate.queryForObject(\r\n    anyString(),\r\n    any(SqlParameterSource.class), \r\n    String.class\r\n)).thenReturn(&quot;Test&quot;);\r\n```\r\nto\r\n```java\r\nwhen(jdbcTemplate.queryForObject(\r\n    anyString(), \r\n    any(SqlParameterSource.class), \r\n    eq(String.class)\r\n)).thenReturn(&quot;Test&quot;);\r\n```\r\nand it should work.","title":"Invalid use of argument matchers","body":"<p>Mockito requires you to either use only raw values or only matchers when stubbing a method call. The full exception (not posted by you here) surely explains everything.</p>\n<p>Simple change the line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(jdbcTemplate.queryForObject(\n    anyString(),\n    any(SqlParameterSource.class), \n    String.class\n)).thenReturn(&quot;Test&quot;);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(jdbcTemplate.queryForObject(\n    anyString(), \n    any(SqlParameterSource.class), \n    eq(String.class)\n)).thenReturn(&quot;Test&quot;);\n</code></pre>\n<p>and it should work.</p>\n"},{"tags":[],"owner":{"account_id":11911643,"reputation":184,"user_id":8716705,"display_name":"Ahmad Alhaj-Karim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685630242,"creation_date":1685630242,"answer_id":76383054,"question_id":24468456,"body_markdown":"For me I was using EasyMock and it was the wrong import. Make sure you have the correct imports of (anyString, any, anyInt). \r\n","title":"Invalid use of argument matchers","body":"<p>For me I was using EasyMock and it was the wrong import. Make sure you have the correct imports of (anyString, any, anyInt).</p>\n"},{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696331684,"creation_date":1696331684,"answer_id":77221758,"question_id":24468456,"body_markdown":"I was having Autowired annotation on the bean I was trying to mock. But, it should have been MockBean annotation.","title":"Invalid use of argument matchers","body":"<p>I was having Autowired annotation on the bean I was trying to mock. But, it should have been MockBean annotation.</p>\n"}],"owner":{"account_id":4675849,"reputation":563,"user_id":3786227,"display_name":"Anwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150842,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":24468549,"answer_count":3,"score":56,"last_activity_date":1696331684,"creation_date":1403970354,"question_id":24468456,"body_markdown":"The simple test case below is failing with an exception.\r\n\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException:\r\n    Invalid use of argument matchers! 3 matchers expected, 2 recorded:\r\n\r\nI am not sure what is wrong\r\n\r\n    @Test\r\n    public void testGetStringTest(){\r\n        final long testId = 1;\r\n        String dlrBAC = null;\r\n        NamedParameterJdbcTemplate jdbcTemplate = mock(NamedParameterJdbcTemplate.class);\r\n        when(this.dao.getNamedParameterJdbcTemplate()).thenReturn(jdbcTemplate);\r\n        when(jdbcTemplate.queryForObject(\r\n            anyString(), \r\n            any(SqlParameterSource.class), \r\n            String.class\r\n    \t)).thenReturn(&quot;Test&quot;);\r\n        dlrBAC =  dao.getStringTest(testId);\r\n        assertNotNull(dlrBAC);\r\n    }\r\n\r\n\r\n","title":"Invalid use of argument matchers","body":"<p>The simple test case below is failing with an exception.</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:\nInvalid use of argument matchers! 3 matchers expected, 2 recorded:\n</code></pre>\n<p>I am not sure what is wrong</p>\n<pre><code>@Test\npublic void testGetStringTest(){\n    final long testId = 1;\n    String dlrBAC = null;\n    NamedParameterJdbcTemplate jdbcTemplate = mock(NamedParameterJdbcTemplate.class);\n    when(this.dao.getNamedParameterJdbcTemplate()).thenReturn(jdbcTemplate);\n    when(jdbcTemplate.queryForObject(\n        anyString(), \n        any(SqlParameterSource.class), \n        String.class\n    )).thenReturn(&quot;Test&quot;);\n    dlrBAC =  dao.getStringTest(testId);\n    assertNotNull(dlrBAC);\n}\n</code></pre>\n"},{"tags":["java","stringbuilder","zipstream"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696331449,"post_id":77221714,"comment_id":136136341,"body_markdown":"Does this answer your question? [How to increase Heap size of JVM](https://stackoverflow.com/questions/6452765/how-to-increase-heap-size-of-jvm)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6452765/how-to-increase-heap-size-of-jvm\">How to increase Heap size of JVM</a>"},{"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"score":0,"creation_date":1696332889,"post_id":77221714,"comment_id":136136558,"body_markdown":"Not sure, I am running this as a Kubernetes cron job. It works alright in tomcat in my local machine","body":"Not sure, I am running this as a Kubernetes cron job. It works alright in tomcat in my local machine"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696333063,"post_id":77221714,"comment_id":136136593,"body_markdown":"Then in crontab, edit and add that flag.","body":"Then in crontab, edit and add that flag."},{"owner":{"account_id":341492,"reputation":1861,"user_id":672135,"accept_rate":88,"display_name":"HectorLector"},"score":0,"creation_date":1696333593,"post_id":77221714,"comment_id":136136704,"body_markdown":"If this is Kubernetes, what are the requests/limits configured for your container/pod and how much resources are available on your Node(s)?","body":"If this is Kubernetes, what are the requests/limits configured for your container/pod and how much resources are available on your Node(s)?"},{"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"score":0,"creation_date":1696333895,"post_id":77221714,"comment_id":136136770,"body_markdown":"MEMORY_REQUEST=600\nCPU_REQUEST=100\nMEMORY_LIMIT=1500\nCPU_LIMIT=500","body":"MEMORY_REQUEST=600 CPU_REQUEST=100 MEMORY_LIMIT=1500 CPU_LIMIT=500"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696339950,"post_id":77221714,"comment_id":136138023,"body_markdown":"Why can&#39;t you output the string incrementally instead of first building the full string and then printing it?","body":"Why can&#39;t you output the string incrementally instead of first building the full string and then printing it?"},{"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"score":0,"creation_date":1696403290,"post_id":77221714,"comment_id":136146518,"body_markdown":"how do i do that @MarkRotteveel","body":"how do i do that @MarkRotteveel"},{"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"score":0,"creation_date":1696406290,"post_id":77221714,"comment_id":136147106,"body_markdown":"I have solved the issue by directly printing the lines instead of string Builder. \n                                                                                                            \n BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\n                    String nextLine;\n                    while ((nextLine = reader.readLine()) != null) {\n                        LOG.debug(&quot;{}&quot;,nextLine);\n                    }","body":"I have solved the issue by directly printing the lines instead of string Builder.                                                                                                                BufferedReader reader = new BufferedReader(new InputStreamReader(stream));                     String nextLine;                     while ((nextLine = reader.readLine()) != null) {                         LOG.debug(&quot;{}&quot;,nextLine);                     }"}],"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696331501,"creation_date":1696331272,"question_id":77221714,"body_markdown":"I have a scenario to read zip files from a server URL. But I get a Java heap error when i append the string in the stringbuilder\r\n\r\n```java\r\n\r\n    public static void main(String args[]) {  \r\n  \r\n    String url = &quot;https://server/test.zip&quot;;\r\n    LOG.info(&quot;Url {}&quot;, url);\r\n    String content = readZipFileFromRemote(url);\r\n    System.out.println(content);\r\n        \r\n    }\r\n\r\n  \r\n    private static String readZipFileFromRemote(String remoteFileUrl) {\r\n        StringBuilder sb = new StringBuilder();\r\n        try {\r\n        URL url = new URL(remoteFileUrl);\r\n        InputStream in = new BufferedInputStream(url.openStream(), 1024);\r\n\r\n         ZipInputStream stream = new ZipInputStream(in);\r\n         byte[] buffer = new byte[1024];\r\n         ZipEntry entry;\r\n         while ((entry = stream.getNextEntry()) != null) {\r\n             int read;\r\n             while ((read = stream.read(buffer, 0, 1024)) &gt;= 0) {\r\n              sb.append(new String(buffer, 0, read));\r\n            }\r\n        }\r\n      } catch (Exception e) {\r\n                e.printStackTrace();\r\n     }\r\n    return sb.toString();\r\n    }\r\n\r\n ```\r\n\r\nError \r\n ```\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.Arrays.copyOf(Unknown Source) ~[?:?]\r\n\tat java.lang.AbstractStringBuilder.ensureCapacityInternal(Unknown Source) ~[?:?]\r\n\tat java.lang.AbstractStringBuilder.append(Unknown Source) ~[?:?]\r\n\tat java.lang.StringBuilder.append(Unknown Source) ~[?:?]\r\n ```\r\nCan someone help me with this?\r\n","title":"Java Heap Error for StringBuilder while reading zips","body":"<p>I have a scenario to read zip files from a server URL. But I get a Java heap error when i append the string in the stringbuilder</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public static void main(String args[]) {  \n  \n    String url = &quot;https://server/test.zip&quot;;\n    LOG.info(&quot;Url {}&quot;, url);\n    String content = readZipFileFromRemote(url);\n    System.out.println(content);\n        \n    }\n\n  \n    private static String readZipFileFromRemote(String remoteFileUrl) {\n        StringBuilder sb = new StringBuilder();\n        try {\n        URL url = new URL(remoteFileUrl);\n        InputStream in = new BufferedInputStream(url.openStream(), 1024);\n\n         ZipInputStream stream = new ZipInputStream(in);\n         byte[] buffer = new byte[1024];\n         ZipEntry entry;\n         while ((entry = stream.getNextEntry()) != null) {\n             int read;\n             while ((read = stream.read(buffer, 0, 1024)) &gt;= 0) {\n              sb.append(new String(buffer, 0, read));\n            }\n        }\n      } catch (Exception e) {\n                e.printStackTrace();\n     }\n    return sb.toString();\n    }\n\n</code></pre>\n<p>Error</p>\n<pre><code>\njava.lang.OutOfMemoryError: Java heap space\n   at java.util.Arrays.copyOf(Unknown Source) ~[?:?]\n   at java.lang.AbstractStringBuilder.ensureCapacityInternal(Unknown Source) ~[?:?]\n   at java.lang.AbstractStringBuilder.append(Unknown Source) ~[?:?]\n   at java.lang.StringBuilder.append(Unknown Source) ~[?:?]\n</code></pre>\n<p>Can someone help me with this?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1670684552,"post_id":74753955,"comment_id":131932469,"body_markdown":"Thank you very much, it seems like I missed a lot in my 6 months pause&#128517; They also changed from javax.persistenc to jakarte.persistence and now the thing with the antMatchers. Seems like I am going to have to get used to all the new things now, but really thanks for your answer and the link you provided ^^","body":"Thank you very much, it seems like I missed a lot in my 6 months pause😅 They also changed from javax.persistenc to jakarte.persistence and now the thing with the antMatchers. Seems like I am going to have to get used to all the new things now, but really thanks for your answer and the link you provided ^^"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670685367,"post_id":74753955,"comment_id":131932625,"body_markdown":"@Gabriel Many interesting things has come with the latest Spring release, I guess the most important change in regard to Spring Security (if you&#39;re using OAuth 2.0 or OpenID in your projects) is a new production-ready Authorization Server.","body":"@Gabriel Many interesting things has come with the latest Spring release, I guess the most important change in regard to Spring Security (if you&#39;re using OAuth 2.0 or OpenID in your projects) is a new production-ready Authorization Server."},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1670686638,"post_id":74753955,"comment_id":131932914,"body_markdown":"yeah that sounds interesting, but currently I am only using JPA Authentication or want to, but because this update is new or at least it seems like that there a not so many tutorials out there so I have to watch the whole new Amigoscode course on spring security xD","body":"yeah that sounds interesting, but currently I am only using JPA Authentication or want to, but because this update is new or at least it seems like that there a not so many tutorials out there so I have to watch the whole new Amigoscode course on spring security xD"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680462775,"post_id":74753955,"comment_id":133898824,"body_markdown":"Why do you think this worked: `.requestMatchers(&quot;/user/**&quot;).hasAuthority(&quot;USER&quot;)`, but this didn&#39;t: `.requestMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)`? _Even though_ I explicitly removed the default prefix and never set it or used anywhere: `@Bean\n    public GrantedAuthorityDefaults grantedAuthorityDefaults() {\n        return new GrantedAuthorityDefaults(&quot;&quot;);\n    }`. When I configured Spring Security with `WebSecurityConfigurerAdapter`, `hasRole()` worked just fine (as long as I removed the prefix)","body":"Why do you think this worked: <code>.requestMatchers(&quot;&#47;user&#47;**&quot;).hasAuthority(&quot;USER&quot;)</code>, but this didn&#39;t: <code>.requestMatchers(&quot;&#47;user&#47;**&quot;).hasRole(&quot;USER&quot;)</code>? <i>Even though</i> I explicitly removed the default prefix and never set it or used anywhere: <code>@Bean     public GrantedAuthorityDefaults grantedAuthorityDefaults() {         return new GrantedAuthorityDefaults(&quot;&quot;);     }</code>. When I configured Spring Security with <code>WebSecurityConfigurerAdapter</code>, <code>hasRole()</code> worked just fine (as long as I removed the prefix)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1680482411,"post_id":74753955,"comment_id":133901162,"body_markdown":"@SergeyZolotarev There&#39;s not enough code to reproduce the problem, but I&#39;ll try to clarify things. Firstly, in Spring Security we have a notion of `GrantedAuthority` which might be represented either as a Role or an Authorities (it&#39;s advisable to stick with either of the two, although technically you can use both, but it can cause a mess). In essence, both Roles and Authorities are plain strings (`GrantedAuthority` interface defines a single method `getAuthority()` returning a string). Roles describe who you are (USER, ADMIN, VISITOR, etc.), Authorities what you can do (READ, WRITE, etc.).","body":"@SergeyZolotarev There&#39;s not enough code to reproduce the problem, but I&#39;ll try to clarify things. Firstly, in Spring Security we have a notion of <code>GrantedAuthority</code> which might be represented either as a Role or an Authorities (it&#39;s advisable to stick with either of the two, although technically you can use both, but it can cause a mess). In essence, both Roles and Authorities are plain strings (<code>GrantedAuthority</code> interface defines a single method <code>getAuthority()</code> returning a string). Roles describe who you are (USER, ADMIN, VISITOR, etc.), Authorities what you can do (READ, WRITE, etc.)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1680482487,"post_id":74753955,"comment_id":133901171,"body_markdown":"@SergeyZolotarev By convention, Roles are prefixed with `&quot;ROLE_&quot;` and methods like [`hasRole()`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer.AuthorizedUrl.html#hasRole(java.lang.String)) would add this prefix automatically to the argument, so that `&quot;ADMIN&quot;` becomes `&quot;ROLE_ADMIN&quot;`, Authorities are not prefixed. By defining `GrantedAuthorityDefaults` Bean, you can alter this prefix (what you have done by changing it to empty string).","body":"@SergeyZolotarev By convention, Roles are prefixed with <code>&quot;ROLE_&quot;</code> and methods like <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer.AuthorizedUrl.html#hasRole(java.lang.String)\" rel=\"nofollow noreferrer\"><code>hasRole()</code></a> would add this prefix automatically to the argument, so that <code>&quot;ADMIN&quot;</code> becomes <code>&quot;ROLE_ADMIN&quot;</code>, Authorities are not prefixed. By defining <code>GrantedAuthorityDefaults</code> Bean, you can alter this prefix (what you have done by changing it to empty string)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1680482539,"post_id":74753955,"comment_id":133901182,"body_markdown":"@SergeyZolotarev If you look closer at [`hasRole()`](https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer.java#L261) and `hasAuthority()` methods, you&#39;ll find that they are using `AuthorityAuthorizationManager`.","body":"@SergeyZolotarev If you look closer at <a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer.java#L261\" rel=\"nofollow noreferrer\"><code>hasRole()</code></a> and <code>hasAuthority()</code> methods, you&#39;ll find that they are using <code>AuthorityAuthorizationManager</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1680482637,"post_id":74753955,"comment_id":133901191,"body_markdown":"@SergeyZolotarev And [`AuthorityAuthorizationManager.hasRole()`](https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/authorization/AuthorityAuthorizationManager.java#L65) under the hood invokes `hasAuthority(ROLE_PREFIX + role)`, since you&#39;ve set the prefix to an empty string `hasAuthorie()` and `hasRole()` should behave in the same way when provided with the same string as an argument. Note that if there are multiple matching security rules, the one which is specified first wins.","body":"@SergeyZolotarev And <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/authorization/AuthorityAuthorizationManager.java#L65\" rel=\"nofollow noreferrer\"><code>AuthorityAuthorizationManager.hasRole()</code></a> under the hood invokes <code>hasAuthority(ROLE_PREFIX + role)</code>, since you&#39;ve set the prefix to an empty string <code>hasAuthorie()</code> and <code>hasRole()</code> should behave in the same way when provided with the same string as an argument. Note that if there are multiple matching security rules, the one which is specified first wins."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1680483105,"post_id":74753955,"comment_id":133901237,"body_markdown":"@SergeyZolotarev Regarding `WebSecurityConfigurerAdapter` it was deprecated a while ago and eventually removed in Spring Security 6, hence you&#39;re not advised to use it. In case if the explanation doesn&#39;t clarify the problem, please post a separate Question with your security configuration and contents of the pom file.","body":"@SergeyZolotarev Regarding <code>WebSecurityConfigurerAdapter</code> it was deprecated a while ago and eventually removed in Spring Security 6, hence you&#39;re not advised to use it. In case if the explanation doesn&#39;t clarify the problem, please post a separate Question with your security configuration and contents of the pom file."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":9,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1679662933,"creation_date":1670683884,"answer_id":74753955,"question_id":74753700,"body_markdown":"In &lt;del&gt;`antMatchers()`&lt;/del&gt; (*as well as* &lt;del&gt;`mvcMathcers()`&lt;/del&gt; *and* &lt;del&gt;`regexMatchers()`&lt;/del&gt;) have been deprecated and removed with Spring Security 6.0. Thus, you can&#39;t use them in a Spring Boot 3 project.\r\n\r\nHave a look at this link if you wonder what was the rationale behind this change: [*Deprecate trailing slash match*][git deprecate trailing slash match].\r\n\r\nOverloaded method [`requestMatchers()`][requestMatchers] was provided as a uniform mean for securing requests. It facilitates all the functionality of the configuration methods that have been removed from the API.\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests(requests -&gt; requests\r\n                .requestMatchers(&quot;/vertretungsplan&quot;).hasAnyRole(&quot;SCHUELER&quot;, &quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\r\n                .anyRequest().authenticated()\r\n            )\r\n            .formLogin(form -&gt; form\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n            )\r\n            .logout(logout -&gt; logout\r\n                .permitAll());\r\n        \r\n        return http.build();\r\n    }\r\n\r\n\r\n\r\n\r\n   [requestMatchers]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/AbstractRequestMatcherRegistry.html#requestMatchers(java.lang.String...)\r\n\r\n   [git deprecate trailing slash match]: https://github.com/spring-projects/spring-framework/issues/28552","title":"Cannot resolve method &#39;antMatchers()&#39; in AuthorizationManagerRequestMatcherRegistry","body":"<p>In <del><code>antMatchers()</code></del> (<em>as well as</em> <del><code>mvcMathcers()</code></del> <em>and</em> <del><code>regexMatchers()</code></del>) have been deprecated and removed with Spring Security 6.0. Thus, you can't use them in a Spring Boot 3 project.</p>\n<p>Have a look at this link if you wonder what was the rationale behind this change: <a href=\"https://github.com/spring-projects/spring-framework/issues/28552\" rel=\"noreferrer\"><em>Deprecate trailing slash match</em></a>.</p>\n<p>Overloaded method <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/AbstractRequestMatcherRegistry.html#requestMatchers(java.lang.String...)\" rel=\"noreferrer\"><code>requestMatchers()</code></a> was provided as a uniform mean for securing requests. It facilitates all the functionality of the configuration methods that have been removed from the API.</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests(requests -&gt; requests\n            .requestMatchers(&quot;/vertretungsplan&quot;).hasAnyRole(&quot;SCHUELER&quot;, &quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\n            .anyRequest().authenticated()\n        )\n        .formLogin(form -&gt; form\n            .loginPage(&quot;/login&quot;)\n            .permitAll()\n        )\n        .logout(logout -&gt; logout\n            .permitAll());\n    \n    return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23194333,"reputation":7,"user_id":17290191,"display_name":"hongyu yang"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1677133344,"creation_date":1677132873,"answer_id":75541189,"question_id":74753700,"body_markdown":"\r\n.requestMatchers(&quot;/assets/**&quot;).permitAll()\r\n\r\nworks for me But make sure you check your link is the same with where you insert\r\n \r\n**for example** \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    If you use:\r\n      &lt;link href=&quot;assets/css/style.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n      \r\n    Here you need to use:\r\n      .requestMatchers(&quot;/assets/**&quot;).permitAll()\r\n      \r\n    If you use:\r\n      &lt;link href=&quot;resources/**&quot; rel=&quot;stylesheet&quot;&gt;\r\n      \r\n    Here you need to use:\r\n      .requestMatchers(&quot;/resources/**&quot;).permitAll()\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Cannot resolve method &#39;antMatchers()&#39; in AuthorizationManagerRequestMatcherRegistry","body":"<p>.requestMatchers(&quot;/assets/**&quot;).permitAll()</p>\n<p>works for me But make sure you check your link is the same with where you insert</p>\n<p><strong>for example</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>If you use:\n  &lt;link href=\"assets/css/style.css\" rel=\"stylesheet\"&gt;\n  \nHere you need to use:\n  .requestMatchers(\"/assets/**\").permitAll()\n  \nIf you use:\n  &lt;link href=\"resources/**\" rel=\"stylesheet\"&gt;\n  \nHere you need to use:\n  .requestMatchers(\"/resources/**\").permitAll()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n"},{"tags":[],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696330826,"creation_date":1696330826,"answer_id":77221677,"question_id":74753700,"body_markdown":"RequestMatcher works if you are talking about requests, but if you used antMatchers before the authorizeHttpRequests now you need to use **.securityMatcher**\r\n\r\nLike this: \r\n\r\n        http\r\n        .securityMatcher(&quot;/api/**&quot;, &quot;/app/**&quot;)\r\n        .authorizeHttpRequests((authz) -&gt; authz\r\n            .requestMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n            .anyRequest().authenticated()\r\n        );\r\n\r\nSee more in spring documentation: \r\n[Spring Documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\r\n\r\nLeaving this awnser here because this was the solution I needed.","title":"Cannot resolve method &#39;antMatchers()&#39; in AuthorizationManagerRequestMatcherRegistry","body":"<p>RequestMatcher works if you are talking about requests, but if you used antMatchers before the authorizeHttpRequests now you need to use <strong>.securityMatcher</strong></p>\n<p>Like this:</p>\n<pre><code>    http\n    .securityMatcher(&quot;/api/**&quot;, &quot;/app/**&quot;)\n    .authorizeHttpRequests((authz) -&gt; authz\n        .requestMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n        .anyRequest().authenticated()\n    );\n</code></pre>\n<p>See more in spring documentation:\n<a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Spring Documentation</a></p>\n<p>Leaving this awnser here because this was the solution I needed.</p>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33252,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":74753955,"answer_count":3,"score":21,"last_activity_date":1696330826,"creation_date":1670681851,"question_id":74753700,"body_markdown":"I am currently following the [Spring Documentation](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter) and some tutorials on Web Security. But now I have a problem, that I can&#39;t call the method `antMatchers`. This is the error I&#39;m getting when building the project:\r\n```\r\njava: cannot find symbol\r\n  symbol:   method antMatchers(java.lang.String)\r\n  location: variable requests of type org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer&lt;org.springframework.security.config.annotation.web.builders.HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\r\n```\r\nIn terms of my understanding, I should be able to use this method, so I can permit or not permit HTTP Requests to a certain URL. So my question is, why can&#39;t I use the `antMatchers()` method?\r\n\r\n`SecurityConfiguration` class:\r\n```java\r\npackage de.gabriel.vertretungsplan.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .antMatchers(&quot;/vertretungsplan&quot;).hasAnyRole(&quot;SCHUELER&quot;, &quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n`pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;de.gabriel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;vertretungsplan&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;vertretungsplan&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Cannot resolve method &#39;antMatchers()&#39; in AuthorizationManagerRequestMatcherRegistry","body":"<p>I am currently following the <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"noreferrer\">Spring Documentation</a> and some tutorials on Web Security. But now I have a problem, that I can't call the method <code>antMatchers</code>. This is the error I'm getting when building the project:</p>\n<pre><code>java: cannot find symbol\n  symbol:   method antMatchers(java.lang.String)\n  location: variable requests of type org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer&lt;org.springframework.security.config.annotation.web.builders.HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\n</code></pre>\n<p>In terms of my understanding, I should be able to use this method, so I can permit or not permit HTTP Requests to a certain URL. So my question is, why can't I use the <code>antMatchers()</code> method?</p>\n<p><code>SecurityConfiguration</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.gabriel.vertretungsplan.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .antMatchers(&quot;/vertretungsplan&quot;).hasAnyRole(&quot;SCHUELER&quot;, &quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n}\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.gabriel&lt;/groupId&gt;\n    &lt;artifactId&gt;vertretungsplan&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;vertretungsplan&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven","checkstyle"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666021036,"post_id":74098386,"comment_id":130830863,"body_markdown":"[this method](https://codehaus-plexus.github.io/plexus-utils/apidocs/org/codehaus/plexus/util/FileUtils.html#getFiles(java.io.File,java.lang.String,java.lang.String)) is called [&quot;behind the scenes&quot;](https://github.com/apache/maven-checkstyle-plugin/blob/master/src/main/java/org/apache/maven/plugins/checkstyle/exec/DefaultCheckstyleExecutor.java) ..but javadoc is also &quot;thin&quot; on these :)","body":"<a href=\"https://codehaus-plexus.github.io/plexus-utils/apidocs/org/codehaus/plexus/util/FileUtils.html#getFiles(java.io.File,java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">this method</a> is called <a href=\"https://github.com/apache/maven-checkstyle-plugin/blob/master/src/main/java/org/apache/maven/plugins/checkstyle/exec/DefaultCheckstyleExecutor.java\" rel=\"nofollow noreferrer\">&quot;behind the scenes&quot;</a> ..but javadoc is also &quot;thin&quot; on these :)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666021315,"post_id":74098386,"comment_id":130830988,"body_markdown":"[Ant patterns](https://ant.apache.org/manual/dirtasks.html#patterns)!! of source files (relatively to src/main/java(, src/test/java, src/main/resources ...);) ..so `-Dincludes=MyClass.java` could do the job..in your case (but &quot;default package&quot; is badong)","body":"<a href=\"https://ant.apache.org/manual/dirtasks.html#patterns\" rel=\"nofollow noreferrer\">Ant patterns</a>!! of source files (relatively to src/main/java(, src/test/java, src/main/resources ...);) ..so <code>-Dincludes=MyClass.java</code> could do the job..in your case (but &quot;default package&quot; is badong)"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1686612420,"post_id":74098386,"comment_id":134820039,"body_markdown":"You should mark this answered.","body":"You should mark this answered."}],"answers":[{"comments":[{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1686676761,"post_id":74099416,"comment_id":134830948,"body_markdown":"I needed to do `-Dcheckstyle.includes`.","body":"I needed to do <code>-Dcheckstyle.includes</code>."},{"owner":{"account_id":9054285,"reputation":136,"user_id":6743192,"display_name":"rellabacode"},"score":1,"creation_date":1688749115,"post_id":74099416,"comment_id":135120371,"body_markdown":"@EllenSpertus Yes, you can use the &quot;user property&quot; instead of the &quot;parameter&quot;. I needed to execute the command using double quotes, \nmaybe it&#39;s a problem of system&#39;s default encoding:   \n\n`mvn &quot;checkstyle:check&quot; &quot;-Dincludes=src/main/java/MyClass.java&quot;`\n\n\nThis is working with maven 3.8.6, Windows and plugin version 3.3","body":"@EllenSpertus Yes, you can use the &quot;user property&quot; instead of the &quot;parameter&quot;. I needed to execute the command using double quotes,  maybe it&#39;s a problem of system&#39;s default encoding:     <code>mvn &quot;checkstyle:check&quot; &quot;-Dincludes=src&#47;main&#47;java&#47;MyClass.java&quot;</code>   This is working with maven 3.8.6, Windows and plugin version 3.3"}],"tags":[],"owner":{"account_id":9054285,"reputation":136,"user_id":6743192,"display_name":"rellabacode"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666019642,"creation_date":1666019642,"answer_id":74099416,"question_id":74098386,"body_markdown":"You need to specify the parameter with the right syntax:\r\n\r\n    mvn checkstyle:check -Dincludes=&quot;src/main/java/MyClass.java&quot;\r\n\r\nFor further information: https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html","title":"Can Checkstyle target a specific file when run through Maven?","body":"<p>You need to specify the parameter with the right syntax:</p>\n<pre><code>mvn checkstyle:check -Dincludes=&quot;src/main/java/MyClass.java&quot;\n</code></pre>\n<p>For further information: <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html</a></p>\n"},{"tags":[],"owner":{"account_id":2597908,"reputation":4303,"user_id":2251135,"accept_rate":40,"display_name":"Daniel Teleginski Camargo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676654652,"creation_date":1676654652,"answer_id":75487427,"question_id":74098386,"body_markdown":"I am visiting this question after a couple of years so here is what I did to make it work:\r\n\r\n\r\n```bash\r\n mvn checkstyle:check -Dcheckstyle.includes=&quot;**\\/Foo.java&quot;\r\n```\r\n\r\nAs mentioned in the previous answer, you can refer to the [documentation][1] for more details.\r\n\r\nHere is what you need to know about the property `checkstyle.includes`:\r\n\r\n&gt; Specifies the names filter of the source files to be used for Checkstyle.\r\n\r\n```  \r\nType: java.lang.String  \r\nRequired: Yes  \r\nUser Property: checkstyle.includes  \r\nDefault: **\\/*.java\r\n```\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html#includes","title":"Can Checkstyle target a specific file when run through Maven?","body":"<p>I am visiting this question after a couple of years so here is what I did to make it work:</p>\n<pre class=\"lang-bash prettyprint-override\"><code> mvn checkstyle:check -Dcheckstyle.includes=&quot;**\\/Foo.java&quot;\n</code></pre>\n<p>As mentioned in the previous answer, you can refer to the <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html#includes\" rel=\"nofollow noreferrer\">documentation</a> for more details.</p>\n<p>Here is what you need to know about the property <code>checkstyle.includes</code>:</p>\n<blockquote>\n<p>Specifies the names filter of the source files to be used for Checkstyle.</p>\n</blockquote>\n<pre><code>Type: java.lang.String  \nRequired: Yes  \nUser Property: checkstyle.includes  \nDefault: **\\/*.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696330731,"creation_date":1696330731,"answer_id":77221666,"question_id":74098386,"body_markdown":"The path should be relative to your [source directory][1].\r\n\r\nThis uniquely identifies the single file `src/main/java/MyClass.java` as it doesn&#39;t use a wildcard path.\r\n\r\n    mvn checkstyle:check -Dcheckstyle.includes=&quot;MyClass.java&quot;\r\n\r\n\r\nMore typically you would be using java packages to namespace your classes.\r\n\r\n    mvn checkstyle:check -Dcheckstyle.includes=&quot;com/example/myapp/MyClass.java&quot;\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html#sourceDirectories","title":"Can Checkstyle target a specific file when run through Maven?","body":"<p>The path should be relative to your <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html#sourceDirectories\" rel=\"nofollow noreferrer\">source directory</a>.</p>\n<p>This uniquely identifies the single file <code>src/main/java/MyClass.java</code> as it doesn't use a wildcard path.</p>\n<pre><code>mvn checkstyle:check -Dcheckstyle.includes=&quot;MyClass.java&quot;\n</code></pre>\n<p>More typically you would be using java packages to namespace your classes.</p>\n<pre><code>mvn checkstyle:check -Dcheckstyle.includes=&quot;com/example/myapp/MyClass.java&quot;\n</code></pre>\n"}],"owner":{"account_id":3019250,"reputation":2067,"user_id":2560666,"accept_rate":42,"display_name":"Alec"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74099416,"answer_count":3,"score":2,"last_activity_date":1696330731,"creation_date":1666014580,"question_id":74098386,"body_markdown":"**Background**\r\n\r\nI have a Maven project with Checkstyle.\r\n\r\nI run `mvn checkstyle:check` to run Checkstyle against all project files.\r\n\r\nI want to run it against a specific file.\r\n\r\nAs an example, I want to run it against `src/main/java/MyClass.java`.\r\n\r\n**The following works:**\r\n\r\n    mvn checkstyle:check -Dcheckstyle.includes=&quot;**\\/MyClass.java&quot;\r\n\r\nBut if I had any other classes with the same name elsewhere in the codebase, it would also check those. This is unfortunate.\r\n\r\n**The following does NOT work:**\r\n\r\n    mvn checkstyle:check -Dcheckstyle.includes=&quot;src/main/java/MyClass.java&quot;\r\n\r\nIt simply succeeds, telling me I have 0 errors. And for the record, it has errors. So it&#39;s clearly not checking that file.\r\n\r\n**Question**\r\n\r\nHow can I adjust this command to run Checkstyle against a specific file given by its path, without using wildcards?","title":"Can Checkstyle target a specific file when run through Maven?","body":"<p><strong>Background</strong></p>\n<p>I have a Maven project with Checkstyle.</p>\n<p>I run <code>mvn checkstyle:check</code> to run Checkstyle against all project files.</p>\n<p>I want to run it against a specific file.</p>\n<p>As an example, I want to run it against <code>src/main/java/MyClass.java</code>.</p>\n<p><strong>The following works:</strong></p>\n<pre><code>mvn checkstyle:check -Dcheckstyle.includes=&quot;**\\/MyClass.java&quot;\n</code></pre>\n<p>But if I had any other classes with the same name elsewhere in the codebase, it would also check those. This is unfortunate.</p>\n<p><strong>The following does NOT work:</strong></p>\n<pre><code>mvn checkstyle:check -Dcheckstyle.includes=&quot;src/main/java/MyClass.java&quot;\n</code></pre>\n<p>It simply succeeds, telling me I have 0 errors. And for the record, it has errors. So it's clearly not checking that file.</p>\n<p><strong>Question</strong></p>\n<p>How can I adjust this command to run Checkstyle against a specific file given by its path, without using wildcards?</p>\n"},{"tags":["java","cucumber","gherkin","serenity-bdd"],"comments":[{"owner":{"account_id":9317260,"reputation":165,"user_id":6917208,"display_name":"Adam McClenaghan"},"score":0,"creation_date":1696329614,"post_id":77221295,"comment_id":136135988,"body_markdown":"Does this help? https://stackoverflow.com/questions/23602953/how-to-get-name-of-scenario-in-cucumber-java","body":"Does this help? <a href=\"https://stackoverflow.com/questions/23602953/how-to-get-name-of-scenario-in-cucumber-java\" title=\"how to get name of scenario in cucumber java\">stackoverflow.com/questions/23602953/&hellip;</a>"},{"owner":{"account_id":126652,"reputation":2740,"user_id":323303,"accept_rate":84,"display_name":"amadain"},"score":0,"creation_date":1696331791,"post_id":77221295,"comment_id":136136380,"body_markdown":"it does indeed. exactly what I needed. thx","body":"it does indeed. exactly what I needed. thx"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696330366,"creation_date":1696329599,"answer_id":77221541,"question_id":77221295,"body_markdown":"You can use hooks (see https://www.baeldung.com/java-cucumber-hooks)\r\n\r\n```java\r\n@Before\r\npublic void beforeScenario(Scenario scenario) { \r\n    System.out.println(&quot;Before scenario &quot; + scenario.getName());\r\n}\r\n```\r\n\r\nIf you want to share this between steps, and you are using cucumber-spring, you may want to use the `cucumber-glue` scope.\r\n\r\n```java\r\npublic class MyContext {\r\n   private Scenario scenario;\r\n\r\n   public void setScenario(Scenario scenario) {\r\n      this.scenario = scenario;\r\n   }\r\n\r\n   public Scenario getScenario() {\r\n      if (this.scenario == null) {\r\n         throw new RuntimeException(&quot;Scenario has not been set&quot;);\r\n      }\r\n      return this.scenario;\r\n   }\r\n}\r\n\r\n@Configuration\r\npublic class MyConfiguration {\r\n   @Bean @Scope(&quot;cucumber-glue&quot;)\r\n   public MyContext myContext() {\r\n      return new MyContext();\r\n   }\r\n}\r\n\r\npublic class MySteps1 {\r\n   @Autowired\r\n   private MyContext myContext;\r\n\r\n   @Before\r\n   public void beforeScenario(Scenario scenario) { \r\n      myContext.setScenario(scenario);\r\n   }\r\n\r\n   @When(...) \r\n   public void whenX() { ... }\r\n}\r\n\r\npublic class MySteps2 {\r\n   @Autowired\r\n   private MyContext myContext;\r\n\r\n   @When(&quot;something happens&quot;)\r\n   public void whenSomethingHappens() { \r\n      System.out.println(&quot;About to do something for &quot; + scenario.getName());\r\n   }\r\n}\r\n```\r\n\r\n","title":"Can I get the scenario description for use within the test","body":"<p>You can use hooks (see <a href=\"https://www.baeldung.com/java-cucumber-hooks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-cucumber-hooks</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Before\npublic void beforeScenario(Scenario scenario) { \n    System.out.println(&quot;Before scenario &quot; + scenario.getName());\n}\n</code></pre>\n<p>If you want to share this between steps, and you are using cucumber-spring, you may want to use the <code>cucumber-glue</code> scope.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyContext {\n   private Scenario scenario;\n\n   public void setScenario(Scenario scenario) {\n      this.scenario = scenario;\n   }\n\n   public Scenario getScenario() {\n      if (this.scenario == null) {\n         throw new RuntimeException(&quot;Scenario has not been set&quot;);\n      }\n      return this.scenario;\n   }\n}\n\n@Configuration\npublic class MyConfiguration {\n   @Bean @Scope(&quot;cucumber-glue&quot;)\n   public MyContext myContext() {\n      return new MyContext();\n   }\n}\n\npublic class MySteps1 {\n   @Autowired\n   private MyContext myContext;\n\n   @Before\n   public void beforeScenario(Scenario scenario) { \n      myContext.setScenario(scenario);\n   }\n\n   @When(...) \n   public void whenX() { ... }\n}\n\npublic class MySteps2 {\n   @Autowired\n   private MyContext myContext;\n\n   @When(&quot;something happens&quot;)\n   public void whenSomethingHappens() { \n      System.out.println(&quot;About to do something for &quot; + scenario.getName());\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":126652,"reputation":2740,"user_id":323303,"accept_rate":84,"display_name":"amadain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77221541,"answer_count":1,"score":-1,"last_activity_date":1696330366,"creation_date":1696327304,"question_id":77221295,"body_markdown":"In my feature files I have scenario and scenario outlines in gherkin. I would like to get those descriptions within the tests that they define. For example\r\n\r\n    Scenario: Create a customer\r\n\r\nor \r\n\r\n    Scenario Outline: Create a customer that has &lt;item&gt; items (item fed by a table)\r\n\r\nI want to use the description above in the test it defines for ease of knowing what test put what user into the database. Is there a way to get this description from within the test?\r\n\r\nA","title":"Can I get the scenario description for use within the test","body":"<p>In my feature files I have scenario and scenario outlines in gherkin. I would like to get those descriptions within the tests that they define. For example</p>\n<pre><code>Scenario: Create a customer\n</code></pre>\n<p>or</p>\n<pre><code>Scenario Outline: Create a customer that has &lt;item&gt; items (item fed by a table)\n</code></pre>\n<p>I want to use the description above in the test it defines for ease of knowing what test put what user into the database. Is there a way to get this description from within the test?</p>\n<p>A</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"score":2,"creation_date":1309927873,"post_id":6591665,"comment_id":7776084,"body_markdown":"Can you describe what you expect this single &quot;merged&quot; object to look like?","body":"Can you describe what you expect this single &quot;merged&quot; object to look like?"},{"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"score":1,"creation_date":1309928259,"post_id":6591665,"comment_id":7776129,"body_markdown":"If `obj1.a = &quot;George&quot;` and `obj2.a = &quot;Lucas&quot;` what should the value of `obj3.a` in the &quot;merged&quot; object be?","body":"If <code>obj1.a = &quot;George&quot;</code> and <code>obj2.a = &quot;Lucas&quot;</code> what should the value of <code>obj3.a</code> in the &quot;merged&quot; object be?"},{"owner":{"account_id":244332,"reputation":1654,"user_id":517060,"accept_rate":84,"display_name":"Ganesh"},"score":0,"creation_date":1309928446,"post_id":6591665,"comment_id":7776148,"body_markdown":"You can assume the objects are mutually exclusive","body":"You can assume the objects are mutually exclusive"}],"answers":[{"tags":[],"owner":{"account_id":203302,"reputation":941,"user_id":450879,"accept_rate":100,"display_name":"Thiago Duarte"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1309927814,"creation_date":1309927814,"answer_id":6591689,"question_id":6591665,"body_markdown":"If you create getters and setters for the attributes, you can use the [copyProperties][1] method from Commons BeanUtils.\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/api/org/apache/commons/beanutils/BeanUtils.html#copyProperties%28java.lang.Object,%20java.lang.Object%29","title":"Merging two objects in Java","body":"<p>If you create getters and setters for the attributes, you can use the <a href=\"http://commons.apache.org/beanutils/api/org/apache/commons/beanutils/BeanUtils.html#copyProperties%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\">copyProperties</a> method from Commons BeanUtils.</p>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1309928222,"post_id":6591712,"comment_id":7776122,"body_markdown":"That&#39;s what I was going to recommend--you have to clearly codify the rules somewhere anyway--you don&#39;t want to add &quot;Magic&quot; like reflection to your code unless it&#39;s absolutely the last resort--and this case is by no means that difficult.","body":"That&#39;s what I was going to recommend--you have to clearly codify the rules somewhere anyway--you don&#39;t want to add &quot;Magic&quot; like reflection to your code unless it&#39;s absolutely the last resort--and this case is by no means that difficult."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1316768628,"post_id":6591712,"comment_id":9117312,"body_markdown":"NullPointerException since `this.b` might be `null`, and it is not fulfilling the &quot;same arraylist from obj2&quot; request for `b`","body":"NullPointerException since <code>this.b</code> might be <code>null</code>, and it is not fulfilling the &quot;same arraylist from obj2&quot; request for <code>b</code>"}],"tags":[],"owner":{"account_id":92109,"reputation":44036,"user_id":252591,"accept_rate":64,"display_name":"Crozin"},"comment_count":2,"down_vote_count":2,"up_vote_count":16,"is_accepted":true,"score":14,"last_activity_date":1309928075,"creation_date":1309928075,"answer_id":6591712,"question_id":6591665,"body_markdown":"Maybe something like\r\n\r\n    class A {\r\n        String a;\r\n        List&lt;..&gt; b;\r\n        int c;\r\n\r\n        public void merge(A other) {\r\n            this.a = other.a == null ? this.a : other.a;\r\n            this.b.addAll(other.b);\r\n            this.c = other.c == 0 ? this.c : other.c;\r\n        }\r\n    }\r\n\r\n    A a1 = new A();\r\n    A a2 = new A();\r\n\r\n    a1.a = &quot;a prop&quot;;\r\n    a2.c = 34;\r\n\r\n    a1.merge(a2);\r\n\r\n`A.merge` might return a new `A` object instead of modifing current.","title":"Merging two objects in Java","body":"<p>Maybe something like</p>\n\n<pre><code>class A {\n    String a;\n    List&lt;..&gt; b;\n    int c;\n\n    public void merge(A other) {\n        this.a = other.a == null ? this.a : other.a;\n        this.b.addAll(other.b);\n        this.c = other.c == 0 ? this.c : other.c;\n    }\n}\n\nA a1 = new A();\nA a2 = new A();\n\na1.a = \"a prop\";\na2.c = 34;\n\na1.merge(a2);\n</code></pre>\n\n<p><code>A.merge</code> might return a new <code>A</code> object instead of modifing current.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309928498,"creation_date":1309928498,"answer_id":6591756,"question_id":6591665,"body_markdown":"In your very special case it looks like you want a new object that takes the *real* values from both instances. Here is an implementation that will do that. The method should be add to class `A` so that it can access the fields.\r\n\r\n     public A specialMergeWith(A other) {\r\n       A result = new A();\r\n       \r\n       result.a = (a == null ? other.a : a);\r\n       result.b = (b == null ? other.b : b);\r\n       result.c = (c == DEFAULT_VALUE ? other.c : c);\r\n\r\n       return result;\r\n     }\r\n       ","title":"Merging two objects in Java","body":"<p>In your very special case it looks like you want a new object that takes the <em>real</em> values from both instances. Here is an implementation that will do that. The method should be add to class <code>A</code> so that it can access the fields.</p>\n\n<pre><code> public A specialMergeWith(A other) {\n   A result = new A();\n\n   result.a = (a == null ? other.a : a);\n   result.b = (b == null ? other.b : b);\n   result.c = (c == DEFAULT_VALUE ? other.c : c);\n\n   return result;\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":244332,"reputation":1654,"user_id":517060,"accept_rate":84,"display_name":"Ganesh"},"score":0,"creation_date":1316768701,"post_id":7526414,"comment_id":9117338,"body_markdown":"Thanks for the answer... But my object have a lot of primitive types like int,float e.t.c. It also has List as members.","body":"Thanks for the answer... But my object have a lot of primitive types like int,float e.t.c. It also has List as members."},{"owner":{"account_id":929124,"reputation":367,"user_id":959332,"display_name":"Alex Mart&#237;n Jim&#233;nez"},"score":0,"creation_date":1317054982,"post_id":7526414,"comment_id":9161558,"body_markdown":"Nevermind. As long as both object have getXX and its corresponding setXX, this will work. It will copy just values with a getter AND a setter","body":"Nevermind. As long as both object have getXX and its corresponding setXX, this will work. It will copy just values with a getter AND a setter"},{"owner":{"account_id":198797,"reputation":4115,"user_id":443682,"accept_rate":60,"display_name":"tarkeshwar"},"score":0,"creation_date":1363674858,"post_id":7526414,"comment_id":21933239,"body_markdown":"Use obj.getClass().getDeclaredMethods() to skip getClass/setClass etc and get methods defined in that class or corresponding interface only.","body":"Use obj.getClass().getDeclaredMethods() to skip getClass/setClass etc and get methods defined in that class or corresponding interface only."},{"owner":{"account_id":1447392,"reputation":437,"user_id":1365399,"display_name":"Mariana B."},"score":0,"creation_date":1472380675,"post_id":7526414,"comment_id":65721328,"body_markdown":"I am confused by the first if. what is that trying to achieve?","body":"I am confused by the first if. what is that trying to achieve?"},{"owner":{"account_id":1175992,"reputation":920,"user_id":1152021,"accept_rate":85,"display_name":"jon"},"score":0,"creation_date":1485550423,"post_id":7526414,"comment_id":70987897,"body_markdown":"isn&#39;t it supposed to return an object...?","body":"isn&#39;t it supposed to return an object...?"},{"owner":{"account_id":4320000,"reputation":74,"user_id":3528557,"accept_rate":100,"display_name":"Cybrus"},"score":0,"creation_date":1504516806,"post_id":7526414,"comment_id":79027705,"body_markdown":"@jon The function _updates_ the `obj` parameter object so all changes are saved to the `obj` instance instead of returning an updated object. You could return `obj` at the end of the function, but it will be unnecessary.","body":"@jon The function <i>updates</i> the <code>obj</code> parameter object so all changes are saved to the <code>obj</code> instance instead of returning an updated object. You could return <code>obj</code> at the end of the function, but it will be unnecessary."},{"owner":{"account_id":4775979,"reputation":388,"user_id":3859086,"display_name":"HuyTTQ"},"score":3,"creation_date":1555647024,"post_id":7526414,"comment_id":98188714,"body_markdown":"`String toName = fromName.replace(&quot;get&quot;, &quot;set&quot;);`\nwhat happen if I have a field have name `thisisfieldsetted`?","body":"<code>String toName = fromName.replace(&quot;get&quot;, &quot;set&quot;);</code> what happen if I have a field have name <code>thisisfieldsetted</code>?"},{"owner":{"account_id":5910705,"reputation":541,"user_id":4651070,"display_name":"Bret Royster"},"score":0,"creation_date":1562599338,"post_id":7526414,"comment_id":100416424,"body_markdown":"In general, this code is hard to understand at a glance. There&#39;s got to be a better way to write this. As such I&#39;m a fan of Zon&#39;s answer below.","body":"In general, this code is hard to understand at a glance. There&#39;s got to be a better way to write this. As such I&#39;m a fan of Zon&#39;s answer below."},{"owner":{"account_id":15450081,"reputation":885,"user_id":12208030,"display_name":"lyh543"},"score":0,"creation_date":1656668079,"post_id":7526414,"comment_id":128633543,"body_markdown":"@HuyTTQ you can use `String toName = fromName.replaceFirst(&quot;get&quot;, &quot;set&quot;);`. Since the if condition asserts the method starts with `&quot;get&quot;`, only the beginning `get` will be replaced.","body":"@HuyTTQ you can use <code>String toName = fromName.replaceFirst(&quot;get&quot;, &quot;set&quot;);</code>. Since the if condition asserts the method starts with <code>&quot;get&quot;</code>, only the beginning <code>get</code> will be replaced."}],"tags":[],"owner":{"account_id":929124,"reputation":367,"user_id":959332,"display_name":"Alex Mart&#237;n Jim&#233;nez"},"comment_count":9,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1316767625,"creation_date":1316767625,"answer_id":7526414,"question_id":6591665,"body_markdown":"This works as long as you have POJOs with their own getters and setters. The method updates **obj** with non-null values from **update**. It calls setParameter() on **obj** with the return value of getParameter() on **update**:\r\n\r\n\r\n    public void merge(Object obj, Object update){\r\n        if(!obj.getClass().isAssignableFrom(update.getClass())){\r\n            return;\r\n        }\r\n        \r\n        Method[] methods = obj.getClass().getMethods();\r\n        \r\n        for(Method fromMethod: methods){\r\n            if(fromMethod.getDeclaringClass().equals(obj.getClass())\r\n                    &amp;&amp; fromMethod.getName().startsWith(&quot;get&quot;)){\r\n                \r\n                String fromName = fromMethod.getName();\r\n                String toName = fromName.replace(&quot;get&quot;, &quot;set&quot;);\r\n                \r\n                try {\r\n                    Method toMetod = obj.getClass().getMethod(toName, fromMethod.getReturnType());\r\n                    Object value = fromMethod.invoke(update, (Object[])null);\r\n                    if(value != null){\r\n                        toMetod.invoke(obj, value);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } \r\n            }\r\n        }\r\n    }","title":"Merging two objects in Java","body":"<p>This works as long as you have POJOs with their own getters and setters. The method updates <strong>obj</strong> with non-null values from <strong>update</strong>. It calls setParameter() on <strong>obj</strong> with the return value of getParameter() on <strong>update</strong>:</p>\n\n<pre><code>public void merge(Object obj, Object update){\n    if(!obj.getClass().isAssignableFrom(update.getClass())){\n        return;\n    }\n\n    Method[] methods = obj.getClass().getMethods();\n\n    for(Method fromMethod: methods){\n        if(fromMethod.getDeclaringClass().equals(obj.getClass())\n                &amp;&amp; fromMethod.getName().startsWith(\"get\")){\n\n            String fromName = fromMethod.getName();\n            String toName = fromName.replace(\"get\", \"set\");\n\n            try {\n                Method toMetod = obj.getClass().getMethod(toName, fromMethod.getReturnType());\n                Object value = fromMethod.invoke(update, (Object[])null);\n                if(value != null){\n                    toMetod.invoke(obj, value);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1457460,"reputation":79,"user_id":1372692,"display_name":"Abhay Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1336053887,"creation_date":1336053887,"answer_id":10433069,"question_id":6591665,"body_markdown":"Just accommodating boolean sync. and case sensitive(camel notation)    \r\n\r\n\tpublic boolean merge(Object obj){\r\n\t\t\r\n\t\tif(this.equals(obj)){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t    if(!obj.getClass().isAssignableFrom(this.getClass())){\r\n\t    \treturn false;\r\n\t    }\r\n\r\n\t    Method[] methods = obj.getClass().getMethods();\r\n\r\n\t    for(Method fromMethod: methods){\r\n\t        if(fromMethod.getDeclaringClass().equals(obj.getClass())\r\n\t                &amp;&amp; (fromMethod.getName().matches(&quot;^get[A-Z].*$&quot;)||fromMethod.getName().matches(&quot;^is[A-Z].*$&quot;))){\r\n\r\n\t            String fromName = fromMethod.getName();\r\n\t            String toName ;\r\n\t            if(fromName.matches(&quot;^get[A-Z].*&quot;)){\r\n\t            \ttoName = fromName.replace(&quot;get&quot;, &quot;set&quot;);\r\n\t            }else{\r\n\t            \ttoName = fromName.replace(&quot;is&quot;, &quot;set&quot;);\r\n\t            }\r\n\t           \r\n\t            try {\r\n\t                Method toMetod = obj.getClass().getMethod(toName, fromMethod.getReturnType());\r\n\t                Object value = fromMethod.invoke(this, (Object[])null);\r\n\t                if(value != null){\r\n\t                    toMetod.invoke(obj, value);\r\n\t                }\r\n\t            } catch (Exception e) {\r\n\t                e.printStackTrace();\r\n\t            } \r\n\t        }\r\n\t    }\r\n\t    \r\n\t    return true;\r\n\t}","title":"Merging two objects in Java","body":"<p>Just accommodating boolean sync. and case sensitive(camel notation)    </p>\n\n<pre><code>public boolean merge(Object obj){\n\n    if(this.equals(obj)){\n        return false;\n    }\n\n    if(!obj.getClass().isAssignableFrom(this.getClass())){\n        return false;\n    }\n\n    Method[] methods = obj.getClass().getMethods();\n\n    for(Method fromMethod: methods){\n        if(fromMethod.getDeclaringClass().equals(obj.getClass())\n                &amp;&amp; (fromMethod.getName().matches(\"^get[A-Z].*$\")||fromMethod.getName().matches(\"^is[A-Z].*$\"))){\n\n            String fromName = fromMethod.getName();\n            String toName ;\n            if(fromName.matches(\"^get[A-Z].*\")){\n                toName = fromName.replace(\"get\", \"set\");\n            }else{\n                toName = fromName.replace(\"is\", \"set\");\n            }\n\n            try {\n                Method toMetod = obj.getClass().getMethod(toName, fromMethod.getReturnType());\n                Object value = fromMethod.invoke(this, (Object[])null);\n                if(value != null){\n                    toMetod.invoke(obj, value);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } \n        }\n    }\n\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":314650,"reputation":1571,"user_id":745828,"display_name":"nabster"},"score":2,"creation_date":1660947572,"post_id":28797480,"comment_id":129662317,"body_markdown":"`BeanUtils.copyProperties` does not check if copied over properties have `null` and ignore them.","body":"<code>BeanUtils.copyProperties</code> does not check if copied over properties have <code>null</code> and ignore them."}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1425235304,"creation_date":1425235304,"answer_id":28797480,"question_id":6591665,"body_markdown":"I am using Spring Framework. I was facing the same issue on a project.  \r\nTo solve it i used the class [BeanUtils][1] and the above method,\r\n  \r\n    public static void copyProperties(Object source, Object target)\r\n  \r\nThis is an example,  \r\n  \r\n    public class Model1 {\r\n        private String propertyA;\r\n        private String propertyB;\r\n  \r\n        public Model1() {\r\n            this.propertyA = &quot;&quot;;\r\n            this.propertyB = &quot;&quot;;\r\n        }\r\n\r\n        public String getPropertyA() {\r\n            return this.propertyA;\r\n        }\r\n  \r\n        public void setPropertyA(String propertyA) {\r\n            this.propertyA = propertyA;\r\n        }\r\n\r\n        public String getPropertyB() {\r\n            return this.propertyB;\r\n        }\r\n  \r\n        public void setPropertyB(String propertyB) {\r\n            this.propertyB = propertyB;\r\n        }\r\n    }\r\n  \r\n    public class Model2 {\r\n        private String propertyA;\r\n  \r\n        public Model2() {\r\n            this.propertyA = &quot;&quot;;\r\n        }\r\n\r\n        public String getPropertyA() {\r\n            return this.propertyA;\r\n        }\r\n  \r\n        public void setPropertyA(String propertyA) {\r\n            this.propertyA = propertyA;\r\n        }\r\n    }\r\n  \r\n    public class JustATest {\r\n\r\n        public void makeATest() {\r\n            // Initalize one model per class.\r\n            Model1 model1 = new Model1();\r\n            model1.setPropertyA(&quot;1a&quot;);\r\n            model1.setPropertyB(&quot;1b&quot;);\r\n\r\n            Model2 model2 = new Model2();\r\n            model2.setPropertyA(&quot;2a&quot;);\r\n  \r\n            // Merge properties using BeanUtils class.\r\n            BeanUtils.copyProperties(model2, model1);\r\n\r\n            // The output.\r\n            System.out.println(&quot;Model1.propertyA:&quot; + model1.getPropertyA(); //=&gt; 2a\r\n            System.out.println(&quot;Model1.propertyB:&quot; + model1.getPropertyB(); //=&gt; 1b\r\n        }\r\n    }\r\n\r\n\r\n\r\n[1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html","title":"Merging two objects in Java","body":"<p>I am using Spring Framework. I was facing the same issue on a project.<br>\nTo solve it i used the class <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html\" rel=\"noreferrer\">BeanUtils</a> and the above method,</p>\n\n<pre><code>public static void copyProperties(Object source, Object target)\n</code></pre>\n\n<p>This is an example,  </p>\n\n<pre><code>public class Model1 {\n    private String propertyA;\n    private String propertyB;\n\n    public Model1() {\n        this.propertyA = \"\";\n        this.propertyB = \"\";\n    }\n\n    public String getPropertyA() {\n        return this.propertyA;\n    }\n\n    public void setPropertyA(String propertyA) {\n        this.propertyA = propertyA;\n    }\n\n    public String getPropertyB() {\n        return this.propertyB;\n    }\n\n    public void setPropertyB(String propertyB) {\n        this.propertyB = propertyB;\n    }\n}\n\npublic class Model2 {\n    private String propertyA;\n\n    public Model2() {\n        this.propertyA = \"\";\n    }\n\n    public String getPropertyA() {\n        return this.propertyA;\n    }\n\n    public void setPropertyA(String propertyA) {\n        this.propertyA = propertyA;\n    }\n}\n\npublic class JustATest {\n\n    public void makeATest() {\n        // Initalize one model per class.\n        Model1 model1 = new Model1();\n        model1.setPropertyA(\"1a\");\n        model1.setPropertyB(\"1b\");\n\n        Model2 model2 = new Model2();\n        model2.setPropertyA(\"2a\");\n\n        // Merge properties using BeanUtils class.\n        BeanUtils.copyProperties(model2, model1);\n\n        // The output.\n        System.out.println(\"Model1.propertyA:\" + model1.getPropertyA(); //=&gt; 2a\n        System.out.println(\"Model1.propertyB:\" + model1.getPropertyB(); //=&gt; 1b\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5910705,"reputation":541,"user_id":4651070,"display_name":"Bret Royster"},"score":0,"creation_date":1562599111,"post_id":56289053,"comment_id":100416278,"body_markdown":"This is the BEST solution if you don&#39;t want to constantly maintain the method when adding/removing fields etc.\n\nI&#39;d go a step further and NOT ignore &quot;IllegalAccessException&quot; as it might hide problems, but instead have alternative cases for specific fields you don&#39;t want to merge - or you want to handle differently etc.","body":"This is the BEST solution if you don&#39;t want to constantly maintain the method when adding/removing fields etc.  I&#39;d go a step further and NOT ignore &quot;IllegalAccessException&quot; as it might hide problems, but instead have alternative cases for specific fields you don&#39;t want to merge - or you want to handle differently etc."}],"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1558687905,"creation_date":1558687905,"answer_id":56289053,"question_id":6591665,"body_markdown":"Add this **method to your POJO**, then use it like `myObject.merge(newObject)`. It uses generics to loop through your POJO&#39;s fields, so you **don&#39;t mention any field names**:\r\n\r\n    /**\r\n     * Fill current object fields with new object values, ignoring new NULLs. Old values are overwritten.\r\n     *\r\n     * @param newObject Same type object with new values.\r\n     */\r\n    public void merge(Object newObject) {\r\n\r\n      assert this.getClass().getName().equals(newObject.getClass().getName());\r\n\r\n      for (Field field : this.getClass().getDeclaredFields()) {\r\n\r\n        for (Field newField : newObject.getClass().getDeclaredFields()) {\r\n\r\n          if (field.getName().equals(newField.getName())) {\r\n\r\n            try {\r\n\r\n              field.set(\r\n                  this,\r\n                  newField.get(newObject) == null\r\n                      ? field.get(this)\r\n                      : newField.get(newObject));\r\n\r\n            } catch (IllegalAccessException ignore) {\r\n              // Field update exception on final modifier and other cases.\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }","title":"Merging two objects in Java","body":"<p>Add this <strong>method to your POJO</strong>, then use it like <code>myObject.merge(newObject)</code>. It uses generics to loop through your POJO's fields, so you <strong>don't mention any field names</strong>:</p>\n\n<pre><code>/**\n * Fill current object fields with new object values, ignoring new NULLs. Old values are overwritten.\n *\n * @param newObject Same type object with new values.\n */\npublic void merge(Object newObject) {\n\n  assert this.getClass().getName().equals(newObject.getClass().getName());\n\n  for (Field field : this.getClass().getDeclaredFields()) {\n\n    for (Field newField : newObject.getClass().getDeclaredFields()) {\n\n      if (field.getName().equals(newField.getName())) {\n\n        try {\n\n          field.set(\n              this,\n              newField.get(newObject) == null\n                  ? field.get(this)\n                  : newField.get(newObject));\n\n        } catch (IllegalAccessException ignore) {\n          // Field update exception on final modifier and other cases.\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8715070,"reputation":405,"user_id":6519989,"display_name":"Kartik Nigam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562124752,"creation_date":1562124136,"answer_id":56862487,"question_id":6591665,"body_markdown":"There is a dynamic solution to merge any two objects which require Reflection and Recursion. \r\n\r\n    public &lt;T&gt; T merge(T local, T remote, ArrayList&lt;String&gt; listOfClass)\r\n            throws IllegalAccessException, InstantiationException {\r\n        Class&lt;?&gt; clazz = local.getClass();\r\n        Object merged = clazz.newInstance();\r\n        for (Field field : clazz.getDeclaredFields()) {\r\n            field.setAccessible(true);\r\n            Object localValue = field.get(local);\r\n            Object remoteValue = field.get(remote);\r\n            if (localValue != null) {\r\n                if (listOfClass.contains(localValue.getClass().getSimpleName())) {\r\n                    field.set(merged, this.merge(localValue, remoteValue, listOfClass));\r\n                } else {\r\n                    field.set(merged, (remoteValue != null) ? remoteValue : localValue);\r\n                }\r\n            } else if (remoteValue != null) {\r\n                field.set(merged, remoteValue);\r\n            }\r\n        }\r\n        return (T) merged;\r\n    }\r\n\r\n\r\n\r\nVariable Description: \r\n\r\n - local: The object on to which the other will be merged\r\n - remote: The object which will be merged to the local object\r\n - listOfClass: The ArrayList&lt;String&gt; of custom classes in the given object\r\n\r\nThe function returns a merged object which is good to go.\r\n\r\nKudos! :)\r\n\r\n","title":"Merging two objects in Java","body":"<p>There is a dynamic solution to merge any two objects which require Reflection and Recursion. </p>\n\n<pre><code>public &lt;T&gt; T merge(T local, T remote, ArrayList&lt;String&gt; listOfClass)\n        throws IllegalAccessException, InstantiationException {\n    Class&lt;?&gt; clazz = local.getClass();\n    Object merged = clazz.newInstance();\n    for (Field field : clazz.getDeclaredFields()) {\n        field.setAccessible(true);\n        Object localValue = field.get(local);\n        Object remoteValue = field.get(remote);\n        if (localValue != null) {\n            if (listOfClass.contains(localValue.getClass().getSimpleName())) {\n                field.set(merged, this.merge(localValue, remoteValue, listOfClass));\n            } else {\n                field.set(merged, (remoteValue != null) ? remoteValue : localValue);\n            }\n        } else if (remoteValue != null) {\n            field.set(merged, remoteValue);\n        }\n    }\n    return (T) merged;\n}\n</code></pre>\n\n<p>Variable Description: </p>\n\n<ul>\n<li>local: The object on to which the other will be merged</li>\n<li>remote: The object which will be merged to the local object</li>\n<li>listOfClass: The ArrayList of custom classes in the given object</li>\n</ul>\n\n<p>The function returns a merged object which is good to go.</p>\n\n<p>Kudos! :)</p>\n"},{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650601611,"creation_date":1650601611,"answer_id":71963472,"question_id":6591665,"body_markdown":"    public static Object mergeObjects(Object source, Object target) throws Exception {\r\n            Field[] allFields = source.getClass().getDeclaredFields();\r\n            for (Field field : allFields) {\r\n                if(Modifier.isStatic(field.getModifiers()) || Modifier.isFinal(field.getModifiers())){\r\n                    continue;\r\n                }\r\n    \r\n                if (!field.isAccessible() &amp;&amp; Modifier.isPrivate(field.getModifiers()))\r\n                    field.setAccessible(true);\r\n                if (field.get(source) != null) {\r\n                    field.set(target, field.get(source));\r\n                }\r\n            }\r\n    \r\n            return target;\r\n        }\r\n\r\nUsing java reflection, support only for the same class.","title":"Merging two objects in Java","body":"<pre><code>public static Object mergeObjects(Object source, Object target) throws Exception {\n        Field[] allFields = source.getClass().getDeclaredFields();\n        for (Field field : allFields) {\n            if(Modifier.isStatic(field.getModifiers()) || Modifier.isFinal(field.getModifiers())){\n                continue;\n            }\n\n            if (!field.isAccessible() &amp;&amp; Modifier.isPrivate(field.getModifiers()))\n                field.setAccessible(true);\n            if (field.get(source) != null) {\n                field.set(target, field.get(source));\n            }\n        }\n\n        return target;\n    }\n</code></pre>\n<p>Using java reflection, support only for the same class.</p>\n"},{"tags":[],"owner":{"account_id":4897324,"reputation":317,"user_id":3946481,"display_name":"RAMAZAN CESUR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696330286,"creation_date":1696330286,"answer_id":77221621,"question_id":6591665,"body_markdown":"\r\n\r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T&gt; T mergeObjects(T first, T second) throws IllegalAccessException, InstantiationException {\r\n           Class&lt;?&gt; clazz = first.getClass();\r\n           Field[] fields = clazz.getDeclaredFields();\r\n           Object returnValue = clazz.newInstance();\r\n           for (Field field : fields) {\r\n              field.setAccessible(true);\r\n              Object value1 = field.get(first);\r\n              Object value2 = field.get(second);\r\n              if( value1.getClass().isPrimitive()){\r\n                 Object value = (value2 != null) ? value2 : value1;\r\n                 field.set(returnValue, value);\r\n              }\r\n              mergeObjects(value1, value2);  \r\n           }\r\n           return (T) returnValue;\r\n        }\r\n\r\n","title":"Merging two objects in Java","body":"<pre><code>   @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; T mergeObjects(T first, T second) throws IllegalAccessException, InstantiationException {\n       Class&lt;?&gt; clazz = first.getClass();\n       Field[] fields = clazz.getDeclaredFields();\n       Object returnValue = clazz.newInstance();\n       for (Field field : fields) {\n          field.setAccessible(true);\n          Object value1 = field.get(first);\n          Object value2 = field.get(second);\n          if( value1.getClass().isPrimitive()){\n             Object value = (value2 != null) ? value2 : value1;\n             field.set(returnValue, value);\n          }\n          mergeObjects(value1, value2);  \n       }\n       return (T) returnValue;\n    }\n</code></pre>\n"}],"owner":{"account_id":244332,"reputation":1654,"user_id":517060,"accept_rate":84,"display_name":"Ganesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98106,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"accepted_answer_id":6591712,"answer_count":10,"score":24,"last_activity_date":1696330286,"creation_date":1309927631,"question_id":6591665,"body_markdown":"I have two objects of same type.\r\n\r\n    Class A {\r\n      String a;\r\n      List b;\r\n      int c;\r\n    }\r\n    \r\n    A obj1 = new A();\r\n    A obj2 = new A();\r\n    \r\n    obj1 =&gt; {a = &quot;hello&quot;; b = null; c = 10}\r\n    obj2 =&gt; {a = null; b = new ArrayList(); c = default value}\r\n\r\nCan you please let me know what is the best way to combine this objects into single object?\r\n\r\n    obj3 = {a = &quot;hello&quot;; b = (same arraylist from obj2); c = 10}","title":"Merging two objects in Java","body":"<p>I have two objects of same type.</p>\n\n<pre><code>Class A {\n  String a;\n  List b;\n  int c;\n}\n\nA obj1 = new A();\nA obj2 = new A();\n\nobj1 =&gt; {a = \"hello\"; b = null; c = 10}\nobj2 =&gt; {a = null; b = new ArrayList(); c = default value}\n</code></pre>\n\n<p>Can you please let me know what is the best way to combine this objects into single object?</p>\n\n<pre><code>obj3 = {a = \"hello\"; b = (same arraylist from obj2); c = 10}\n</code></pre>\n"},{"tags":["java","android","kotlin","junit","android-junit"],"comments":[{"owner":{"account_id":7419981,"reputation":2083,"user_id":5644761,"display_name":"JakeB"},"score":1,"creation_date":1696275415,"post_id":77218072,"comment_id":136129751,"body_markdown":"gradle command. https://stackoverflow.com/questions/22505533/how-to-run-only-one-unit-test-class-using-gradle","body":"gradle command. <a href=\"https://stackoverflow.com/questions/22505533/how-to-run-only-one-unit-test-class-using-gradle\" title=\"how to run only one unit test class using gradle\">stackoverflow.com/questions/22505533/&hellip;</a>"},{"owner":{"account_id":23239,"reputation":4528,"user_id":58100,"accept_rate":67,"display_name":"E.M."},"score":0,"creation_date":1696541504,"post_id":77218072,"comment_id":136170329,"body_markdown":"A bit off topic, but why does the order matter? Generally tests should be able to run in arbitrary order, especially JUnit and instrumentation tests.","body":"A bit off topic, but why does the order matter? Generally tests should be able to run in arbitrary order, especially JUnit and instrumentation tests."},{"owner":{"account_id":1070322,"reputation":374,"user_id":1069783,"accept_rate":50,"display_name":"Maverick"},"score":0,"creation_date":1696611923,"post_id":77218072,"comment_id":136180254,"body_markdown":"I have a scenario, I need to execute shell script (CURL) from junit to trigger notification (POST call) and use Instrument test to tap the notification from Notification tray. Its kind of integration testing..","body":"I have a scenario, I need to execute shell script (CURL) from junit to trigger notification (POST call) and use Instrument test to tap the notification from Notification tray. Its kind of integration testing.."}],"answers":[{"comments":[{"owner":{"account_id":1070322,"reputation":374,"user_id":1069783,"accept_rate":50,"display_name":"Maverick"},"score":0,"creation_date":1696430636,"post_id":77221597,"comment_id":136152375,"body_markdown":"After adding this in build.gradle. How to execute this script. On using ./gradlew test in terminal will trigger this?","body":"After adding this in build.gradle. How to execute this script. On using ./gradlew test in terminal will trigger this?"},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1696431171,"post_id":77221597,"comment_id":136152488,"body_markdown":"@Maverick Yes, using ./gradlew test in the terminal will trigger the test scripts you added to your build.gradle file. Gradle will execute the test scripts in the order that they are specified in the build file.","body":"@Maverick Yes, using ./gradlew test in the terminal will trigger the test scripts you added to your build.gradle file. Gradle will execute the test scripts in the order that they are specified in the build file."},{"owner":{"account_id":1070322,"reputation":374,"user_id":1069783,"accept_rate":50,"display_name":"Maverick"},"score":0,"creation_date":1696439162,"post_id":77221597,"comment_id":136154167,"body_markdown":"No. When I add test method in build.gradle, I&#39;m getting build error.\n\nA problem occurred evaluating project &#39;:app&#39;.\n&gt; Could not find method test() for arguments [build_aroj2w6mjnkhyiftgvds6h2ax$_run_closure2@1da9d1b5] on project &#39;:app&#39; of type org.gradle.api.Project.","body":"No. When I add test method in build.gradle, I&#39;m getting build error.  A problem occurred evaluating project &#39;:app&#39;. &gt; Could not find method test() for arguments [build_aroj2w6mjnkhyiftgvds6h2ax$_run_closure2@1da9d1b5] on project &#39;:app&#39; of type org.gradle.api.Project."}],"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696330159,"creation_date":1696330159,"answer_id":77221597,"question_id":77218072,"body_markdown":"\r\n\r\nI consider Gradle build script would work for you. It can be used to specify the order in which the test methods should be executed:\r\n\r\n```\r\ntest {\r\n    include &#39;**/JunitTest.class&#39;\r\n    include &#39;**/AndroidTest.class&#39;\r\n}\r\n```","title":"Execute Junit and Android Test In Sequence","body":"<p>I consider Gradle build script would work for you. It can be used to specify the order in which the test methods should be executed:</p>\n<pre><code>test {\n    include '**/JunitTest.class'\n    include '**/AndroidTest.class'\n}\n</code></pre>\n"}],"owner":{"account_id":1070322,"reputation":374,"user_id":1069783,"accept_rate":50,"display_name":"Maverick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696330159,"creation_date":1696275271,"question_id":77218072,"body_markdown":"I&#39;m trying to execute two test methods, one of which is a junit and the other is an Android Test in a sequential manner. The first junit test method will be executed, followed by an Android Test. I don&#39;t want to execute it manually, and is there any way to achieve this?","title":"Execute Junit and Android Test In Sequence","body":"<p>I'm trying to execute two test methods, one of which is a junit and the other is an Android Test in a sequential manner. The first junit test method will be executed, followed by an Android Test. I don't want to execute it manually, and is there any way to achieve this?</p>\n"},{"tags":["javascript","java","scala","http4s","openpdf"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1696274481,"post_id":77216350,"comment_id":136129590,"body_markdown":"Does this answer your question? [How do I force files to open in the browser instead of downloading (PDF)?](https://stackoverflow.com/questions/6293893/how-do-i-force-files-to-open-in-the-browser-instead-of-downloading-pdf)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6293893/how-do-i-force-files-to-open-in-the-browser-instead-of-downloading-pdf\">How do I force files to open in the browser instead of downloading (PDF)?</a>"},{"owner":{"account_id":13153664,"reputation":61,"user_id":9501421,"display_name":"Stanislav"},"score":0,"creation_date":1696314330,"post_id":77216350,"comment_id":136133471,"body_markdown":"Unfortunately, no. \nMy problem is to convert val baos: ByteArrayOutputStream = new ByteArrayOutputStream() to readable pdf. I as a user can download something as a pdf document, but then I open it there is an error: this array of bytes is not a valid pdf document.\nI collect bytes from this function val b = createPdfSingleBook(bookF) and make a http-response Ok(b, headers). But this file in the end is broken.","body":"Unfortunately, no.  My problem is to convert val baos: ByteArrayOutputStream = new ByteArrayOutputStream() to readable pdf. I as a user can download something as a pdf document, but then I open it there is an error: this array of bytes is not a valid pdf document. I collect bytes from this function val b = createPdfSingleBook(bookF) and make a http-response Ok(b, headers). But this file in the end is broken."}],"answers":[{"comments":[{"owner":{"account_id":13153664,"reputation":61,"user_id":9501421,"display_name":"Stanislav"},"score":0,"creation_date":1696324929,"post_id":77220277,"comment_id":136135220,"body_markdown":"baosWriter has type PdfWriter and there is no method toByteArray on it. If I invoke this method on baos: ByteArrayOutputStream I see the same error then I try to open this pdf document.","body":"baosWriter has type PdfWriter and there is no method toByteArray on it. If I invoke this method on baos: ByteArrayOutputStream I see the same error then I try to open this pdf document."},{"owner":{"account_id":12833,"reputation":2679,"user_id":25466,"accept_rate":95,"display_name":"Philluminati"},"score":0,"creation_date":1696325488,"post_id":77220277,"comment_id":136135331,"body_markdown":"Sorry it should be `baos` the `ByteArrayOutputStream` object. Basically don&#39;t turn the `Array[Byte]` into a string here: `val res = Base64.getEncoder.encodeToString(baos.toByteArray)`","body":"Sorry it should be <code>baos</code> the <code>ByteArrayOutputStream</code> object. Basically don&#39;t turn the <code>Array[Byte]</code> into a string here: <code>val res = Base64.getEncoder.encodeToString(baos.toByteArray)</code>"},{"owner":{"account_id":13153664,"reputation":61,"user_id":9501421,"display_name":"Stanislav"},"score":0,"creation_date":1696326355,"post_id":77220277,"comment_id":136135481,"body_markdown":"I have already tried to get this ByteArrayOutputStream as String and as Array[Byte]. Same result: pdf document is broken, I can&#39;t open it. But pdf document that made by the same function via FileOutputStream is valid and opens well.","body":"I have already tried to get this ByteArrayOutputStream as String and as Array[Byte]. Same result: pdf document is broken, I can&#39;t open it. But pdf document that made by the same function via FileOutputStream is valid and opens well."},{"owner":{"account_id":12833,"reputation":2679,"user_id":25466,"accept_rate":95,"display_name":"Philluminati"},"score":0,"creation_date":1696329856,"post_id":77220277,"comment_id":136136035,"body_markdown":"You&#39;ve got two `pdfWriters`: `baosWriter` and `pdfWriter`. Maybe you need to remove pdfWriter and change all the commands that use `pdfWriter` to use `baosWriter` instead. Then you&#39;re actually writing your document into the `baos: ByteArrayOutputStream`.","body":"You&#39;ve got two <code>pdfWriters</code>: <code>baosWriter</code> and <code>pdfWriter</code>. Maybe you need to remove pdfWriter and change all the commands that use <code>pdfWriter</code> to use <code>baosWriter</code> instead. Then you&#39;re actually writing your document into the <code>baos: ByteArrayOutputStream</code>."},{"owner":{"account_id":12833,"reputation":2679,"user_id":25466,"accept_rate":95,"display_name":"Philluminati"},"score":0,"creation_date":1696330004,"post_id":77220277,"comment_id":136136061,"body_markdown":"Remove any calls to `pdfOutputFile` and make sure all the document is being created through `baosWriter`.","body":"Remove any calls to <code>pdfOutputFile</code> and make sure all the document is being created through <code>baosWriter</code>."}],"tags":[],"owner":{"account_id":12833,"reputation":2679,"user_id":25466,"accept_rate":95,"display_name":"Philluminati"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696329903,"creation_date":1696316841,"answer_id":77220277,"question_id":77216350,"body_markdown":"Have your PDF book return the raw `Array[Byte]` rather than a `String`:\r\n\r\n```\r\ndef createPdfSingleBook(bookF: BookF): Array[Byte] = {\r\n\r\n    val monolingualBook = new Document()\r\n\r\n    val baos: ByteArrayOutputStream = new ByteArrayOutputStream()\r\n    val baosWriter = PdfWriter.getInstance(monolingualBook, baos)\r\n\r\n    monolingualBook.open()\r\n\r\n    //Content of a pdf-document\r\n    // Use baosWriter here....\r\n\r\n    monolingualBook.close()\r\n    baosWriter.close()\r\n\r\n    baos.toByteArray\r\n  }\r\n```\r\n\r\n\r\nReturn 200 OK with the body being the pdf and the content-type set:\r\n\r\n```\r\nval pdfData :Array[Byte] = createPdfSingleBook(...)\r\n\r\nOk(pdfData, Header(&quot;Content-type&quot;, &quot;application/pdf&quot;))\r\n```","title":"How to convert an OutputStream created by OpenPdf (java library) to readable and downloadable via http response (http4s, scala) pdf document?","body":"<p>Have your PDF book return the raw <code>Array[Byte]</code> rather than a <code>String</code>:</p>\n<pre><code>def createPdfSingleBook(bookF: BookF): Array[Byte] = {\n\n    val monolingualBook = new Document()\n\n    val baos: ByteArrayOutputStream = new ByteArrayOutputStream()\n    val baosWriter = PdfWriter.getInstance(monolingualBook, baos)\n\n    monolingualBook.open()\n\n    //Content of a pdf-document\n    // Use baosWriter here....\n\n    monolingualBook.close()\n    baosWriter.close()\n\n    baos.toByteArray\n  }\n</code></pre>\n<p>Return 200 OK with the body being the pdf and the content-type set:</p>\n<pre><code>val pdfData :Array[Byte] = createPdfSingleBook(...)\n\nOk(pdfData, Header(&quot;Content-type&quot;, &quot;application/pdf&quot;))\n</code></pre>\n"}],"owner":{"account_id":13153664,"reputation":61,"user_id":9501421,"display_name":"Stanislav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696329903,"creation_date":1696257267,"question_id":77216350,"body_markdown":"I want my http-service (Scala, http4s, Ember) to receive a http-request, create a pdf document using OpenPdf library and make a http-response to user&#39;s browser with this pdf document. User should see pdf inside the browser or download it.\r\n\r\nI have a route for GET request:\r\n\r\n```scala\r\ncase GET -&gt; Root / &quot;pdf&quot; / IntVar(book) =&gt; getBookF(book) match {\r\n\r\n        case Some(bookF: BookF) =&gt;\r\n          val b = createPdfSingleBook(bookF)\r\n          Ok(b, Header.Raw(CIString(&quot;Expires&quot;), &quot;0&quot;),\r\n            Header.Raw(CIString(&quot;Cache-Control&quot;), &quot;must-revalidate, post-check=0, pre-check=0&quot;),\r\n            Header.Raw(CIString(&quot;Pragma&quot;), &quot;public&quot;), Header.Raw(CIString(&quot;Content-Length&quot;), s&quot;${b.length}&quot;),\r\n            Header.Raw(CIString(&quot;Content-Type&quot;), &quot;application/pdf&quot;))\r\n\r\n        case None =&gt; NotFound()\r\n```\r\n```scala\r\ndef createPdfSingleBook(bookF: BookF): String = {\r\n\r\n    val monolingualBook = new Document()\r\n\r\n    val pdfOutputFile: FileOutputStream = new FileOutputStream(s&quot;${book.id}.pdf&quot;)\r\n    val baos: ByteArrayOutputStream = new ByteArrayOutputStream()\r\n\r\n    val baosWriter = PdfWriter.getInstance(monolingualBook, baos)\r\n    val pdfWriter: PdfWriter = PdfWriter.getInstance(monolingualBook, pdfOutputFile)\r\n\r\n    monolingualBook.open()\r\n\r\n    //Content of a pdf-document\r\n\r\n    val res = Base64.getEncoder.encodeToString(baos.toByteArray)\r\n\r\n    monolingualBook.close()\r\n    baosWriter.close()\r\n    pdfWriter.close()\r\n\r\n    res\r\n  }\r\n```\r\n\r\nThere are two OutputStreams in the code. FileOutputStream works and I have a pdf document saved on my disk. I want the same result in the browser: same document opened in the browser. Please, help!","title":"How to convert an OutputStream created by OpenPdf (java library) to readable and downloadable via http response (http4s, scala) pdf document?","body":"<p>I want my http-service (Scala, http4s, Ember) to receive a http-request, create a pdf document using OpenPdf library and make a http-response to user's browser with this pdf document. User should see pdf inside the browser or download it.</p>\n<p>I have a route for GET request:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>case GET -&gt; Root / &quot;pdf&quot; / IntVar(book) =&gt; getBookF(book) match {\n\n        case Some(bookF: BookF) =&gt;\n          val b = createPdfSingleBook(bookF)\n          Ok(b, Header.Raw(CIString(&quot;Expires&quot;), &quot;0&quot;),\n            Header.Raw(CIString(&quot;Cache-Control&quot;), &quot;must-revalidate, post-check=0, pre-check=0&quot;),\n            Header.Raw(CIString(&quot;Pragma&quot;), &quot;public&quot;), Header.Raw(CIString(&quot;Content-Length&quot;), s&quot;${b.length}&quot;),\n            Header.Raw(CIString(&quot;Content-Type&quot;), &quot;application/pdf&quot;))\n\n        case None =&gt; NotFound()\n</code></pre>\n<pre class=\"lang-scala prettyprint-override\"><code>def createPdfSingleBook(bookF: BookF): String = {\n\n    val monolingualBook = new Document()\n\n    val pdfOutputFile: FileOutputStream = new FileOutputStream(s&quot;${book.id}.pdf&quot;)\n    val baos: ByteArrayOutputStream = new ByteArrayOutputStream()\n\n    val baosWriter = PdfWriter.getInstance(monolingualBook, baos)\n    val pdfWriter: PdfWriter = PdfWriter.getInstance(monolingualBook, pdfOutputFile)\n\n    monolingualBook.open()\n\n    //Content of a pdf-document\n\n    val res = Base64.getEncoder.encodeToString(baos.toByteArray)\n\n    monolingualBook.close()\n    baosWriter.close()\n    pdfWriter.close()\n\n    res\n  }\n</code></pre>\n<p>There are two OutputStreams in the code. FileOutputStream works and I have a pdf document saved on my disk. I want the same result in the browser: same document opened in the browser. Please, help!</p>\n"},{"tags":["java","mysql","spring","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1696340474,"post_id":77221535,"comment_id":136138144,"body_markdown":"It probably works if you add `allowMultiQueries=true` to the JDBC connection URL. But it is usually better to put each INSERT in separate `&lt;insert&gt;` and execute them in the same transaction.","body":"It probably works if you add <code>allowMultiQueries=true</code> to the JDBC connection URL. But it is usually better to put each INSERT in separate <code>&lt;insert&gt;</code> and execute them in the same transaction."}],"owner":{"account_id":27241347,"reputation":1,"user_id":20767489,"display_name":"SectionPJY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696329794,"creation_date":1696329539,"question_id":77221535,"body_markdown":"I&#39;m working on a spring project with IntelliJ.\r\n\r\nMy DAO\r\n\r\n```\r\n// Board Insert\r\n    public int boardInsert(String rb_uid, String rb_sub, String r_name, String r_address, String rb_contents, int rb_rating) {\r\n        System.out.println(&quot;===== Board Insert DAO =====&quot;);\r\n\r\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n        map.put(&quot;rb_uid&quot;, rb_uid);\r\n        map.put(&quot;rb_sub&quot;, rb_sub);\r\n        map.put(&quot;r_name&quot;, r_name);\r\n        map.put(&quot;r_address&quot;, r_address);\r\n        map.put(&quot;rb_contents&quot;, rb_contents);\r\n        map.put(&quot;rb_rating&quot;, rb_rating);\r\n\r\n        return sqlSession.insert(&quot;ResBoardMapper.boardInsert&quot;, map);\r\n    }\r\n```\r\n\r\n\r\nMy XML\r\n\r\n```\r\n&lt;insert id=&quot;boardInsert&quot;&gt;\r\n        &lt;!-- Duplicate Check --&gt;\r\n        INSERT IGNORE\r\n        INTO m_restaurant(r_name, r_address)\r\n        VALUES(#{r_name }, #{r_address });\r\n\r\n        &lt;!-- INSERT --&gt;\r\n        INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents)\r\n        VALUES((SELECT r_id FROM m_restaurant WHERE r_name = #{r_name }), #{rb_uid }, #{rb_sub }, #{rb_ratring }, #{rb_contents });\r\n    &lt;/insert&gt;\r\n```\r\n\r\n\r\nError\r\n```\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: ### Error updating database. Cause: java.sql.SQLSyntaxErrorException: (conn:135) You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents) ### The error may involve defaultParameterMap ### The error occurred while setting parameters ### SQL: INSERT IGNORE INTO m_restaurant(r_name, r_address) VALUES(?, ?); INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents) VALUES((SELECT r_id FROM m_restaurant WHERE r_name = ?), ?, ?, ?, ?); ### Cause: java.sql.SQLSyntaxErrorException: (conn:135) You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents) ; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: (conn:135) You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents) org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) javax.servlet.http.HttpServlet.service(HttpServlet.java:681) org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) javax.servlet.http.HttpServlet.service(HttpServlet.java:764) org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n```\r\n\r\n\r\nWhen checking the console before executing the query, the value is inserted normally.\r\nPlease tell me how to resolve BadSqlGrammarException. The login function runs normally.","title":"No values ​are entered into Mybatis SQL in Spring project","body":"<p>I'm working on a spring project with IntelliJ.</p>\n<p>My DAO</p>\n<pre><code>// Board Insert\n    public int boardInsert(String rb_uid, String rb_sub, String r_name, String r_address, String rb_contents, int rb_rating) {\n        System.out.println(&quot;===== Board Insert DAO =====&quot;);\n\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n        map.put(&quot;rb_uid&quot;, rb_uid);\n        map.put(&quot;rb_sub&quot;, rb_sub);\n        map.put(&quot;r_name&quot;, r_name);\n        map.put(&quot;r_address&quot;, r_address);\n        map.put(&quot;rb_contents&quot;, rb_contents);\n        map.put(&quot;rb_rating&quot;, rb_rating);\n\n        return sqlSession.insert(&quot;ResBoardMapper.boardInsert&quot;, map);\n    }\n</code></pre>\n<p>My XML</p>\n<pre><code>&lt;insert id=&quot;boardInsert&quot;&gt;\n        &lt;!-- Duplicate Check --&gt;\n        INSERT IGNORE\n        INTO m_restaurant(r_name, r_address)\n        VALUES(#{r_name }, #{r_address });\n\n        &lt;!-- INSERT --&gt;\n        INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents)\n        VALUES((SELECT r_id FROM m_restaurant WHERE r_name = #{r_name }), #{rb_uid }, #{rb_sub }, #{rb_ratring }, #{rb_contents });\n    &lt;/insert&gt;\n</code></pre>\n<p>Error</p>\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: ### Error updating database. Cause: java.sql.SQLSyntaxErrorException: (conn:135) You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents) ### The error may involve defaultParameterMap ### The error occurred while setting parameters ### SQL: INSERT IGNORE INTO m_restaurant(r_name, r_address) VALUES(?, ?); INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents) VALUES((SELECT r_id FROM m_restaurant WHERE r_name = ?), ?, ?, ?, ?); ### Cause: java.sql.SQLSyntaxErrorException: (conn:135) You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents) ; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: (conn:135) You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSERT INTO m_resboard(rb_rid, rb_uid, rb_sub, rb_rating, rb_contents) org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) javax.servlet.http.HttpServlet.service(HttpServlet.java:681) org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) javax.servlet.http.HttpServlet.service(HttpServlet.java:764) org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n</code></pre>\n<p>When checking the console before executing the query, the value is inserted normally.\nPlease tell me how to resolve BadSqlGrammarException. The login function runs normally.</p>\n"},{"tags":["java","spring","jwt"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696328957,"post_id":77221028,"comment_id":136135884,"body_markdown":"Well the message is pretty clear. It expects `RS256` and you are using `HS256` which are different. So either your signing is wrong or your validation is wrong (judging from the message I suspect the validation part, which isn&#39;t part of the question).","body":"Well the message is pretty clear. It expects <code>RS256</code> and you are using <code>HS256</code> which are different. So either your signing is wrong or your validation is wrong (judging from the message I suspect the validation part, which isn&#39;t part of the question)."},{"owner":{"account_id":26925944,"reputation":13,"user_id":20499242,"display_name":"Ciube"},"score":0,"creation_date":1696330027,"post_id":77221028,"comment_id":136136064,"body_markdown":"Correct suggestions, but problem is that I don t want to use an RS algortith, the idea is to use an HS256 with the key SECRET. How can modified the application? Thanks","body":"Correct suggestions, but problem is that I don t want to use an RS algortith, the idea is to use an HS256 with the key SECRET. How can modified the application? Thanks"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696330167,"post_id":77221028,"comment_id":136136087,"body_markdown":"Then modify the validation, you cannot change one side of the implementation. You cannot just decide well lets sign differently without changing the validation side of things.","body":"Then modify the validation, you cannot change one side of the implementation. You cannot just decide well lets sign differently without changing the validation side of things."}],"owner":{"account_id":26925944,"reputation":13,"user_id":20499242,"display_name":"Ciube"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696328806,"creation_date":1696324769,"question_id":77221028,"body_markdown":"During jwt token checking I receive this error:\r\n\r\n\r\n```\r\nio.jsonwebtoken.UnsupportedJwtException: The parsed JWT indicates it was signed with the &#39;RS256&#39; signature algorithm, but the provided javax.crypto.spec.SecretKeySpec key may not be used to verify RS256 signatures.  Because the specified key reflects a specific and expected algorithm, and the JWT does not reflect this algorithm, it is likely that the JWT was not expected and therefore should not be trusted.  Another possibility is that the parser was provided the incorrect signature verification key, but this cannot be assumed for security reasons. \tat\r\n io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:393)\r\n ~[jjwt-impl-0.11.5.jar:0.11.5] \tat\r\n io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)\r\n ~[jjwt-impl-0.11.5.jar:0.11.5] \tat\r\n io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)\r\n ~[jjwt-impl-0.11.5.jar:0.11.5] \tat\r\n io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\r\n ~[jjwt-impl-0.11.5.jar:0.11.5] \tat\r\n techpoc.authenticationsample.service.JwtService.extractAllClaims(JwtService.java:58)\r\n ~[classes/:na]\r\n```\r\n\r\n\r\n\r\nThe token is generated with the below code\r\n \r\n\r\n    public class JwtService {\r\n        \r\n        public static final String SECRET = &quot;5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437&quot;;\r\n        public String generateToken(String userName) {\r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            return createToken(claims, userName);\r\n        }\r\n    \r\n        private String createToken(Map&lt;String, Object&gt; claims, String userName) {\r\n            return Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setSubject(userName)\r\n                    .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                    .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 30))\r\n                    .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();\r\n        }\r\n    \r\n        private Key getSignKey() {\r\n            byte[] keyBytes= Decoders.BASE64.decode(SECRET);\r\n            return Keys.hmacShaKeyFor(keyBytes);\r\n        }\r\n    }\r\n\r\nHow can I solve this mistake?\r\n\r\nthanks\r\n\r\n","title":"Spring security jwt error The parsed JWT indicates it was signed with the &#39;RS256&#39; signature algorithm","body":"<p>During jwt token checking I receive this error:</p>\n<pre><code>io.jsonwebtoken.UnsupportedJwtException: The parsed JWT indicates it was signed with the 'RS256' signature algorithm, but the provided javax.crypto.spec.SecretKeySpec key may not be used to verify RS256 signatures.  Because the specified key reflects a specific and expected algorithm, and the JWT does not reflect this algorithm, it is likely that the JWT was not expected and therefore should not be trusted.  Another possibility is that the parser was provided the incorrect signature verification key, but this cannot be assumed for security reasons.  at\n io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:393)\n ~[jjwt-impl-0.11.5.jar:0.11.5]     at\n io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)\n ~[jjwt-impl-0.11.5.jar:0.11.5]     at\n io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)\n ~[jjwt-impl-0.11.5.jar:0.11.5]     at\n io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\n ~[jjwt-impl-0.11.5.jar:0.11.5]     at\n techpoc.authenticationsample.service.JwtService.extractAllClaims(JwtService.java:58)\n ~[classes/:na]\n</code></pre>\n<p>The token is generated with the below code</p>\n<pre><code>public class JwtService {\n    \n    public static final String SECRET = &quot;5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437&quot;;\n    public String generateToken(String userName) {\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        return createToken(claims, userName);\n    }\n\n    private String createToken(Map&lt;String, Object&gt; claims, String userName) {\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(userName)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 30))\n                .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();\n    }\n\n    private Key getSignKey() {\n        byte[] keyBytes= Decoders.BASE64.decode(SECRET);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n}\n</code></pre>\n<p>How can I solve this mistake?</p>\n<p>thanks</p>\n"},{"tags":["java","hibernate","caching","hazelcast","jcache"],"owner":{"account_id":29587340,"reputation":1,"user_id":22675717,"display_name":"Anton Vovk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696328641,"creation_date":1696328641,"question_id":77221441,"body_markdown":"I am planning to use the Hazelcast as a hibernate second-level cache provider in client-server configuration. There are two options for this. One via hibernate-jcache dependency and the other via hazelcast-hibernate53. hibernate-jcache uses Cache and hazelcast-hibernate53 uses Map.\r\n\r\nI am also using the near cache on the clients. For now, I have chosen to go with jcache because it has the ability to configure CACHE_ON_UPDATE for local-update-policy. So I was wondering why this setting could not be configured for IMap clients?\r\n\r\nMap has a couple of benefits like more operations available in the management center, and more options for max-size-policy. So I would like to use a map but I don&#39;t want to lose the performance benefit on clients that I have with CACHE_ON_UPDATE.\r\n\r\nAre there plans in the future to add operation &quot;CLEAR DATA&quot; for the ICache in the management center and adding more options for max-size-policy?\r\n\r\nP.S.\r\nWhat do you thing is the best option here if I have used Ehcache before and time to extract something from the cache is critical for me?","title":"Why local-update-policy for the near cache can be configured only for jcache client?","body":"<p>I am planning to use the Hazelcast as a hibernate second-level cache provider in client-server configuration. There are two options for this. One via hibernate-jcache dependency and the other via hazelcast-hibernate53. hibernate-jcache uses Cache and hazelcast-hibernate53 uses Map.</p>\n<p>I am also using the near cache on the clients. For now, I have chosen to go with jcache because it has the ability to configure CACHE_ON_UPDATE for local-update-policy. So I was wondering why this setting could not be configured for IMap clients?</p>\n<p>Map has a couple of benefits like more operations available in the management center, and more options for max-size-policy. So I would like to use a map but I don't want to lose the performance benefit on clients that I have with CACHE_ON_UPDATE.</p>\n<p>Are there plans in the future to add operation &quot;CLEAR DATA&quot; for the ICache in the management center and adding more options for max-size-policy?</p>\n<p>P.S.\nWhat do you thing is the best option here if I have used Ehcache before and time to extract something from the cache is critical for me?</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1526795378,"post_id":50431963,"comment_id":87878402,"body_markdown":"It&#39;s the use case for using Mono/Flux combined with the use case for method parameters. What is it that you&#39;re really asking here? Do you know the use case for Mono/Flux?","body":"It&#39;s the use case for using Mono/Flux combined with the use case for method parameters. What is it that you&#39;re really asking here? Do you know the use case for Mono/Flux?"},{"owner":{"account_id":5676513,"reputation":1243,"user_id":4489470,"accept_rate":79,"display_name":"Bibek Shakya"},"score":0,"creation_date":1526795647,"post_id":50431963,"comment_id":87878434,"body_markdown":"@ErwinBolwidt  i know use case for Mono/Flux in computation but i dont understand specifically using it as method parameter","body":"@ErwinBolwidt  i know use case for Mono/Flux in computation but i dont understand specifically using it as method parameter"},{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":1,"creation_date":1527073224,"post_id":50431963,"comment_id":87986068,"body_markdown":"_&quot; what will be difference from not using String.class as parameter?&quot;_ I assume mean what&#39;s the difference to using string. Using a string value implies that you (already) have a value. That doesn&#39;t have to be true for a `Mono`.","body":"<i>&quot; what will be difference from not using String.class as parameter?&quot;</i> I assume mean what&#39;s the difference to using string. Using a string value implies that you (already) have a value. That doesn&#39;t have to be true for a <code>Mono</code>."}],"answers":[{"tags":[],"owner":{"account_id":5953720,"reputation":151,"user_id":4681044,"display_name":"Flavouski"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526935007,"creation_date":1526935007,"answer_id":50456296,"question_id":50431963,"body_markdown":"Only use cases I can think of why a method parameter is `Mono&lt;String&gt; lastname` \r\n\r\n 1. Was retrieved from a WebClient/Router type function\r\n 2. [@Secured(&quot;ROLE_EVERYONE&quot;)][1] was used in a previous method to retrieve the `lastname`\r\n\r\n&gt; For this to work the return type of the method must be a\r\n&gt; org.reactivestreams.Publisher (i.e. Mono/Flux).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/html/jc.html#jc-erms","title":"Mono&lt;T&gt; and Flux&lt;T&gt; as a parameter in function","body":"<p>Only use cases I can think of why a method parameter is <code>Mono&lt;String&gt; lastname</code> </p>\n\n<ol>\n<li>Was retrieved from a WebClient/Router type function</li>\n<li><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/jc.html#jc-erms\" rel=\"nofollow noreferrer\">@Secured(\"ROLE_EVERYONE\")</a> was used in a previous method to retrieve the <code>lastname</code></li>\n</ol>\n\n<blockquote>\n  <p>For this to work the return type of the method must be a\n  org.reactivestreams.Publisher (i.e. Mono/Flux).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":96931,"reputation":13250,"user_id":263215,"accept_rate":96,"display_name":"Ismail Marmoush"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1543182119,"creation_date":1543182119,"answer_id":53472286,"question_id":50431963,"body_markdown":"To answer your first comment question:\r\n&gt; @ErwinBolwidt i know use case for Mono/Flux in computation but i dont understand specifically using it as method parameter – Bibek Shakya \r\n\r\nWhen you use it as a parameter you have to deal with it as a stream (meaning you don&#39;t have it yet) so for example you should never say lastname.block(), because this means you&#39;ve just blocked the thread until this value is available.\r\n\r\n-----\r\n\r\n**Disclaimer Extra information**\r\n\r\nIf you&#39;re asking whether you should wrap anything from now on in a Mono or a flux, then of course not, because it adds unnecessary complexity to the method and the caller. \r\n\r\nAnd for a design perspective, answer is simple, by asking basic questions:\r\n\r\n- When to use a Mono in general ?\r\n - Well, when you still don&#39;t have the value.\r\n- When to use Flux in general ?\r\n - Well, when you have a stream of data coming or not.\r\n\r\nSo we should not think of who is using the method and try to make the method convenient for him, but actually we should think of the method needs. \r\n \r\nAnd a use case for that is when the method actually needs argument in this way; meaning you actually do stream processing inside, for example your method accepts an infinite stream of sensor data, and the method inside is going crazy like:\r\n\r\n```\r\nFlux&lt;Point&gt; processSensor(Flux&lt;Double&gt; data){\r\n    return data.filter(blabla).zipWith(blabla).map(...);\r\n}\r\n```\r\n\r\n","title":"Mono&lt;T&gt; and Flux&lt;T&gt; as a parameter in function","body":"<p>To answer your first comment question:</p>\n\n<blockquote>\n  <p>@ErwinBolwidt i know use case for Mono/Flux in computation but i dont understand specifically using it as method parameter – Bibek Shakya </p>\n</blockquote>\n\n<p>When you use it as a parameter you have to deal with it as a stream (meaning you don't have it yet) so for example you should never say lastname.block(), because this means you've just blocked the thread until this value is available.</p>\n\n<hr>\n\n<p><strong>Disclaimer Extra information</strong></p>\n\n<p>If you're asking whether you should wrap anything from now on in a Mono or a flux, then of course not, because it adds unnecessary complexity to the method and the caller. </p>\n\n<p>And for a design perspective, answer is simple, by asking basic questions:</p>\n\n<ul>\n<li>When to use a Mono in general ?\n\n<ul>\n<li>Well, when you still don't have the value.</li>\n</ul></li>\n<li>When to use Flux in general ?\n\n<ul>\n<li>Well, when you have a stream of data coming or not.</li>\n</ul></li>\n</ul>\n\n<p>So we should not think of who is using the method and try to make the method convenient for him, but actually we should think of the method needs. </p>\n\n<p>And a use case for that is when the method actually needs argument in this way; meaning you actually do stream processing inside, for example your method accepts an infinite stream of sensor data, and the method inside is going crazy like:</p>\n\n<p><code>\nFlux&lt;Point&gt; processSensor(Flux&lt;Double&gt; data){\n    return data.filter(blabla).zipWith(blabla).map(...);\n}\n</code></p>\n"},{"tags":[],"owner":{"account_id":4436369,"reputation":992,"user_id":3612124,"accept_rate":50,"display_name":"Istv&#225;n B&#233;k&#233;si"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696328480,"creation_date":1696328480,"answer_id":77221423,"question_id":50431963,"body_markdown":"Where the `Mono&lt;String&gt; lastname` is coming from in the first place?\r\n\r\nImagine, you have another method, something like this: \r\n```\r\nMono&lt;String&gt; findLastNameById(Long id) {\r\n    // implementation\r\n}\r\n```\r\n\r\nNow, if you have the method in your example, you can use it by passing a Mono as an input parameter:\r\n```\r\nFlux&lt;String&gt; findByLastName(Mono&lt;String&gt; lastname) {}\r\n\r\n// Usage Mono as input parameter:\r\nreturn findByLastName(\r\n    findLastNameById(id)\r\n);\r\n```\r\n\r\nHowever, it’s more idiomatic in reactive programming to avoid passing `Mono` or `Flux` as parameters. Instead, you should chain operations using methods like `flatMap`. So, the preferred usage would be:\r\n\r\n```\r\nFlux&lt;String&gt; findByLastName(String lastname) {}\r\n\r\n// Use it like this:\r\nreturn findLastNameById(id)\r\n    .flatMap(this::findByLastName);\r\n``` \r\n","title":"Mono&lt;T&gt; and Flux&lt;T&gt; as a parameter in function","body":"<p>Where the <code>Mono&lt;String&gt; lastname</code> is coming from in the first place?</p>\n<p>Imagine, you have another method, something like this:</p>\n<pre><code>Mono&lt;String&gt; findLastNameById(Long id) {\n    // implementation\n}\n</code></pre>\n<p>Now, if you have the method in your example, you can use it by passing a Mono as an input parameter:</p>\n<pre><code>Flux&lt;String&gt; findByLastName(Mono&lt;String&gt; lastname) {}\n\n// Usage Mono as input parameter:\nreturn findByLastName(\n    findLastNameById(id)\n);\n</code></pre>\n<p>However, it’s more idiomatic in reactive programming to avoid passing <code>Mono</code> or <code>Flux</code> as parameters. Instead, you should chain operations using methods like <code>flatMap</code>. So, the preferred usage would be:</p>\n<pre><code>Flux&lt;String&gt; findByLastName(String lastname) {}\n\n// Use it like this:\nreturn findLastNameById(id)\n    .flatMap(this::findByLastName);\n</code></pre>\n"}],"owner":{"account_id":5676513,"reputation":1243,"user_id":4489470,"accept_rate":79,"display_name":"Bibek Shakya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53472286,"answer_count":3,"score":2,"last_activity_date":1696328480,"creation_date":1526794251,"question_id":50431963,"body_markdown":"What is the use case for `Mono&lt;T&gt;` and `Flux&lt;T&gt;` as parameter in function.\r\n\r\nCode\r\n\r\n    Flux&lt;String&gt; findByLastName(Mono&lt;String&gt; lastname) {\r\n       //implementation\r\n    }\r\nWhen I invoke above method from rest, what will be difference from not using `String.class` as parameter?\r\n\r\n ","title":"Mono&lt;T&gt; and Flux&lt;T&gt; as a parameter in function","body":"<p>What is the use case for <code>Mono&lt;T&gt;</code> and <code>Flux&lt;T&gt;</code> as parameter in function.</p>\n\n<p>Code</p>\n\n<pre><code>Flux&lt;String&gt; findByLastName(Mono&lt;String&gt; lastname) {\n   //implementation\n}\n</code></pre>\n\n<p>When I invoke above method from rest, what will be difference from not using <code>String.class</code> as parameter?</p>\n"},{"tags":["java","linux","gradle","gradlew"],"owner":{"account_id":12421241,"reputation":23,"user_id":9048111,"display_name":"S.A.M IR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696328211,"creation_date":1696328211,"question_id":77221388,"body_markdown":"I have come across a problem where I have to use CICFlowMeter for Educational Purposes but the problem is that I cannot automate the process using CICFlowMeter Graphical User Interface (GUI) which is the default way to interact with this app based on its [Github page description](https://github.com/CanadianInstituteForCybersecurity/CICFlowMeter). \r\nI have to run \r\n\r\n```\r\nsudo gradle execute\r\n```\r\n\r\nevery time I want to use this app!\r\nIs there any easier way to use this app using the command line in Linux?\r\nHow can I automate the process of converting .pcap files into .csv files as the CICFLowMeter output in Linux?\r\n\r\n\r\n","title":"CICFlowMeter Command Line Interaction","body":"<p>I have come across a problem where I have to use CICFlowMeter for Educational Purposes but the problem is that I cannot automate the process using CICFlowMeter Graphical User Interface (GUI) which is the default way to interact with this app based on its <a href=\"https://github.com/CanadianInstituteForCybersecurity/CICFlowMeter\" rel=\"nofollow noreferrer\">Github page description</a>.\nI have to run</p>\n<pre><code>sudo gradle execute\n</code></pre>\n<p>every time I want to use this app!\nIs there any easier way to use this app using the command line in Linux?\nHow can I automate the process of converting .pcap files into .csv files as the CICFLowMeter output in Linux?</p>\n"},{"tags":["java","json","xml","log4j","fluent-bit"],"owner":{"account_id":19375219,"reputation":113,"user_id":14167620,"display_name":"mrDark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696328140,"creation_date":1695990078,"question_id":77201892,"body_markdown":"Hey Im getting issue while parsing JsonLayout(log4j.xml) using fluent-bit deamon \r\n\r\nI tried finding in doc but couldn&#39;t find any fix \r\nthis is my JsonLayout \r\n```\r\n&lt;JsonLayout complete=&quot;false&quot; compact=&quot;true&quot; eventEol=&quot;true&quot;&gt;\r\n     &lt;KeyValuePair key=&quot;wx.server.type.test&quot; value=&quot;TEST&quot;/&gt;\r\n      &lt;KeyValuePair key=&quot;wx.server.status.test&quot; value=&quot;active&quot;/&gt;\r\n &lt;/JsonLayout&gt;\r\n ```\r\n\r\nwith this Im getting output like this in opensearch\r\n```\r\n{&quot;wx_server_type_test&quot;:&quot;TEST&quot;,&quot;wx_server_status_test&quot;:&quot;active&quot;}\r\n```\r\n\r\nbut In need output like this \r\n```\r\n{&quot;wx.server.type.test&quot;:&quot;TEST&quot;,&quot;wx.server.status.test&quot;:&quot;active&quot;}\r\n```\r\n\r\nany lead will be helpful thanks\r\n\r\n","title":"parsing issue in JsonLayout(log4j.xml) using fluent-bit deamon","body":"<p>Hey Im getting issue while parsing JsonLayout(log4j.xml) using fluent-bit deamon</p>\n<p>I tried finding in doc but couldn't find any fix\nthis is my JsonLayout</p>\n<pre><code>&lt;JsonLayout complete=&quot;false&quot; compact=&quot;true&quot; eventEol=&quot;true&quot;&gt;\n     &lt;KeyValuePair key=&quot;wx.server.type.test&quot; value=&quot;TEST&quot;/&gt;\n      &lt;KeyValuePair key=&quot;wx.server.status.test&quot; value=&quot;active&quot;/&gt;\n &lt;/JsonLayout&gt;\n</code></pre>\n<p>with this Im getting output like this in opensearch</p>\n<pre><code>{&quot;wx_server_type_test&quot;:&quot;TEST&quot;,&quot;wx_server_status_test&quot;:&quot;active&quot;}\n</code></pre>\n<p>but In need output like this</p>\n<pre><code>{&quot;wx.server.type.test&quot;:&quot;TEST&quot;,&quot;wx.server.status.test&quot;:&quot;active&quot;}\n</code></pre>\n<p>any lead will be helpful thanks</p>\n"},{"tags":["java","email","jakarta-mail","yahoo"],"answers":[{"comments":[{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1348241652,"post_id":12533574,"comment_id":16875337,"body_markdown":"Because the parameters change.","body":"Because the parameters change."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":1,"creation_date":1348498578,"post_id":12533574,"comment_id":16930107,"body_markdown":"Dear users, please do not down vote for helpers in this thread. They are trying to help, please do not demotivate them. I am taking the down vote away by giving an up vote. Thank you","body":"Dear users, please do not down vote for helpers in this thread. They are trying to help, please do not demotivate them. I am taking the down vote away by giving an up vote. Thank you"}],"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1348241372,"creation_date":1348241372,"answer_id":12533574,"question_id":12533394,"body_markdown":"Why do you have differentiation between the way you&#39;re using gmail and yahoo at your code? &lt;BR&gt;\r\nHave you tried using `start.tls.enable=true` for yahoo as well, instead of the two lines with the SocketFactory?","title":"Java Mail: Unable to send email via Yahoo","body":"<p>Why do you have differentiation between the way you're using gmail and yahoo at your code? <BR>\nHave you tried using <code>start.tls.enable=true</code> for yahoo as well, instead of the two lines with the SocketFactory?</p>\n"},{"tags":[],"owner":{"account_id":1858202,"reputation":515,"user_id":1683343,"accept_rate":80,"display_name":"swabs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1348241489,"creation_date":1348241489,"answer_id":12533604,"question_id":12533394,"body_markdown":"When logging on try not using the &quot;@yahoo.com&quot;, just your user name","title":"Java Mail: Unable to send email via Yahoo","body":"<p>When logging on try not using the \"@yahoo.com\", just your user name</p>\n"},{"comments":[{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1348326326,"post_id":12536952,"comment_id":16893288,"body_markdown":"However, I found the mail thing is working in my laptop, not in my desktop!!! please help!","body":"However, I found the mail thing is working in my laptop, not in my desktop!!! please help!"},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1348386438,"post_id":12536952,"comment_id":16902701,"body_markdown":"Did you try the debugging tips in the FAQ?","body":"Did you try the debugging tips in the FAQ?"}],"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348255508,"creation_date":1348255508,"answer_id":12536952,"question_id":12533394,"body_markdown":"[Get rid of the socket factory.][1]  See the [JavaMail FAQ for details on connecting to Yahoo Mail][2].\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes\r\n  [2]: http://www.oracle.com/technetwork/java/javamail/faq/index.html#yahoomail","title":"Java Mail: Unable to send email via Yahoo","body":"<p><a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes\" rel=\"nofollow\">Get rid of the socket factory.</a>  See the <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#yahoomail\" rel=\"nofollow\">JavaMail FAQ for details on connecting to Yahoo Mail</a>.</p>\n"},{"tags":[],"owner":{"account_id":3500168,"reputation":75,"user_id":2927099,"display_name":"suneth rajamanthri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386923546,"creation_date":1386920857,"answer_id":20561515,"question_id":12533394,"body_markdown":"You need change the parameters. You have passed &quot;Gmail&quot; for Yahoo Code and &quot;Yahoo&quot; for the Gmail Code. Change those parameters.\r\n\r\n    if(getAccount().equals(&quot;Yahoo&quot;));\r\n    \r\n    else if(getAccount().equals(&quot;GMail&quot;));\r\n\r\nAnd SMTP Host also Should be change.\r\n\r\nIt should work.","title":"Java Mail: Unable to send email via Yahoo","body":"<p>You need change the parameters. You have passed \"Gmail\" for Yahoo Code and \"Yahoo\" for the Gmail Code. Change those parameters.</p>\n\n<pre><code>if(getAccount().equals(\"Yahoo\"));\n\nelse if(getAccount().equals(\"GMail\"));\n</code></pre>\n\n<p>And SMTP Host also Should be change.</p>\n\n<p>It should work.</p>\n"},{"tags":[],"owner":{"account_id":7125142,"reputation":11,"user_id":5448311,"display_name":"premkumar k"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548442486,"creation_date":1548442486,"answer_id":54371291,"question_id":12533394,"body_markdown":"Don&#39;t forget to disable less secure signin here https://login.yahoo.com/account/security?el=1&amp;done=https%3A%2F%2Fwww.yahoo.com&amp;crumb=Fb3iREAVZwY&amp;.scrumb=k3h5YYmGz%2Fw&amp;guccounter=1\r\n\r\n        Properties props = System.getProperties();\r\n        // Setup mail server\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.mail.yahoo.com&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, 465);\r\n        props.put(&quot;mail.smtp.auth&quot;, true);\r\n        props.put(&quot;mail.smtp.ssl.enable&quot;, true);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t\t\r\n        // Setup authentication, get session\r\n        return Session.getInstance(props, new javax.mail.Authenticator() {\r\n\t\t      protected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t         return new PasswordAuthentication(&quot;*********@yahoo.com&quot;, &quot;**********&quot;);\r\n\t\t\t      }\r\n\t\t\t   });`","title":"Java Mail: Unable to send email via Yahoo","body":"<p>Don't forget to disable less secure signin here <a href=\"https://login.yahoo.com/account/security?el=1&amp;done=https%3A%2F%2Fwww.yahoo.com&amp;crumb=Fb3iREAVZwY&amp;.scrumb=k3h5YYmGz%2Fw&amp;guccounter=1\" rel=\"nofollow noreferrer\">https://login.yahoo.com/account/security?el=1&amp;done=https%3A%2F%2Fwww.yahoo.com&amp;crumb=Fb3iREAVZwY&amp;.scrumb=k3h5YYmGz%2Fw&amp;guccounter=1</a></p>\n\n<pre><code>    Properties props = System.getProperties();\n    // Setup mail server\n    props.put(\"mail.smtp.host\", \"smtp.mail.yahoo.com\");\n    props.put(\"mail.smtp.port\", 465);\n    props.put(\"mail.smtp.auth\", true);\n    props.put(\"mail.smtp.ssl.enable\", true);\n    props.put(\"mail.debug\", \"true\");\n\n    // Setup authentication, get session\n    return Session.getInstance(props, new javax.mail.Authenticator() {\n          protected PasswordAuthentication getPasswordAuthentication() {\n                 return new PasswordAuthentication(\"*********@yahoo.com\", \"**********\");\n              }\n           });`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696327751,"creation_date":1696327751,"answer_id":77221337,"question_id":12533394,"body_markdown":"As of now you can&#39;t sent an e-mail from Java using SMTP, because Yahoo would require application password and they don&#39;t provide setting application passwords for at least 1 year now.","title":"Java Mail: Unable to send email via Yahoo","body":"<p>As of now you can't sent an e-mail from Java using SMTP, because Yahoo would require application password and they don't provide setting application passwords for at least 1 year now.</p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5298,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12533604,"answer_count":6,"score":5,"last_activity_date":1696327751,"creation_date":1348240703,"question_id":12533394,"body_markdown":"Please have a look at the following code.\r\n\r\n\r\n    package email;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import java.util.Properties;\r\n    \r\n    public class SendEmail\r\n    {\r\n        \r\n        private String to, from, bcc, cc, account, message,  password, subject;\r\n        \r\n        public SendEmail(String to, String from,String bcc, String cc, String account, String message, String password, String subject)\r\n        {\r\n            setFrom(from);\r\n            setTo(to);\r\n            setBCC(bcc);\r\n            setCC(cc);\r\n            setAccount(account);\r\n            setMessage(message);\r\n            //setUserName(userName);\r\n            setPassword(password);\r\n            setSubject(subject);\r\n            \r\n            \r\n        }\r\n        \r\n        \r\n        //Setters\r\n        public void setFrom(String from)\r\n        {\r\n            this.from = from;\r\n        }\r\n        \r\n        public void setTo(String to)\r\n        {\r\n            this.to = to;\r\n        }\r\n        \r\n        public void setBCC(String bcc)\r\n        {\r\n            this.bcc = bcc;\r\n        }\r\n        \r\n        public void setCC(String cc)\r\n        {\r\n            this.cc = cc;\r\n        }\r\n        \r\n        public void setMessage(String message)\r\n        {\r\n            this.message = message;\r\n        }\r\n        \r\n       /* public void setUserName(String userName)\r\n        {\r\n            this.userName = userName;\r\n        }*/\r\n        \r\n        public void setPassword(String password)\r\n        {\r\n            this.password = password;\r\n        }\r\n        \r\n        public void setAccount(String account)\r\n        {\r\n            this.account = account;\r\n        }\r\n        \r\n        public void setSubject(String subject)\r\n        {\r\n            this.subject = subject;\r\n        }\r\n        \r\n        \r\n        \r\n        //Getters\r\n        public String getFrom()\r\n        {\r\n            return from;\r\n        }\r\n        \r\n        public String getTo()\r\n        {\r\n            return to;\r\n        }\r\n        \r\n        public String getBcc()\r\n        {\r\n            return bcc;\r\n        }\r\n        \r\n        public String getCC()\r\n        {\r\n            return cc;\r\n        }\r\n        \r\n        public String getMessage()\r\n        {\r\n            return message;\r\n        }\r\n        \r\n        /*public String getUserName()\r\n        {\r\n            return userName;\r\n        }*/\r\n        \r\n        public String getPassword()\r\n        {\r\n            return password;\r\n        }\r\n        \r\n        public String getAccount()\r\n        {\r\n            return account;\r\n        }\r\n        \r\n        public String getSubject()\r\n        {\r\n            return subject;\r\n        }\r\n        \r\n        \r\n        //This method is used to send the email\r\n        public String send()\r\n        {\r\n            String result = &quot;&quot;;\r\n            try\r\n            {\r\n                Session mailSession = Session.getInstance(getProperties(), new PasswordAuthenticator());\r\n            \r\n                MimeMessage msg = new MimeMessage(mailSession);\r\n                msg.setFrom(new InternetAddress(from));\r\n                msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n                \r\n                msg.setSubject(subject);\r\n                msg.setText(message);\r\n                \r\n                Transport.send(msg);\r\n                \r\n                result = &quot;Mail Sent&quot;;\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                result = &quot;An error Occured&quot;;\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            return result;\r\n        }\r\n        \r\n        \r\n        //This method will return properties appropreiate for the email account\r\n        public Properties getProperties()\r\n        {\r\n            Properties props = new Properties();\r\n            \r\n            if(getAccount().equals(&quot;GMail&quot;))\r\n            {\r\n                props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n                props.put(&quot;mail.smtp.host&quot;,&quot;smtp.gmail.com&quot;);\r\n                props.put(&quot;mail.smtp.port&quot;,&quot;587&quot;);\r\n            }\r\n            else if(getAccount().equals(&quot;Yahoo&quot;))\r\n            {\r\n                props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                props.put(&quot;mail.smtp.socketFactory.port&quot;,&quot;465&quot;);\r\n                props.put(&quot;mail.smtp.socketFactory.class&quot;,&quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n                props.put(&quot;mail.smtp.host&quot;,&quot;smtp.mail.yahoo.com&quot;);\r\n                props.put(&quot;mail.smtp.port&quot;,&quot;465&quot;);\r\n            }\r\n            \r\n            return props;\r\n        }\r\n        \r\n        \r\n        \r\n        //This class Authnticates the password\r\n        private class PasswordAuthenticator extends Authenticator\r\n        {\r\n            \r\n            @Override\r\n            protected PasswordAuthentication getPasswordAuthentication()\r\n            {\r\n                return new PasswordAuthentication(getFrom(), getPassword());\r\n            }\r\n        }\r\n    }\r\n\r\nIn here, if I select GMail, no issue. But if I try to send email using Yahoo, the following error occurs\r\n\r\n&gt; javax.mail.AuthenticationFailedException: 530 Access denied\r\n\r\nYahoo mail address and password is given correctly, but this issue is keep on coming. Why is this? Please help!","title":"Java Mail: Unable to send email via Yahoo","body":"<p>Please have a look at the following code.</p>\n\n<pre><code>package email;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport java.util.Properties;\n\npublic class SendEmail\n{\n\n    private String to, from, bcc, cc, account, message,  password, subject;\n\n    public SendEmail(String to, String from,String bcc, String cc, String account, String message, String password, String subject)\n    {\n        setFrom(from);\n        setTo(to);\n        setBCC(bcc);\n        setCC(cc);\n        setAccount(account);\n        setMessage(message);\n        //setUserName(userName);\n        setPassword(password);\n        setSubject(subject);\n\n\n    }\n\n\n    //Setters\n    public void setFrom(String from)\n    {\n        this.from = from;\n    }\n\n    public void setTo(String to)\n    {\n        this.to = to;\n    }\n\n    public void setBCC(String bcc)\n    {\n        this.bcc = bcc;\n    }\n\n    public void setCC(String cc)\n    {\n        this.cc = cc;\n    }\n\n    public void setMessage(String message)\n    {\n        this.message = message;\n    }\n\n   /* public void setUserName(String userName)\n    {\n        this.userName = userName;\n    }*/\n\n    public void setPassword(String password)\n    {\n        this.password = password;\n    }\n\n    public void setAccount(String account)\n    {\n        this.account = account;\n    }\n\n    public void setSubject(String subject)\n    {\n        this.subject = subject;\n    }\n\n\n\n    //Getters\n    public String getFrom()\n    {\n        return from;\n    }\n\n    public String getTo()\n    {\n        return to;\n    }\n\n    public String getBcc()\n    {\n        return bcc;\n    }\n\n    public String getCC()\n    {\n        return cc;\n    }\n\n    public String getMessage()\n    {\n        return message;\n    }\n\n    /*public String getUserName()\n    {\n        return userName;\n    }*/\n\n    public String getPassword()\n    {\n        return password;\n    }\n\n    public String getAccount()\n    {\n        return account;\n    }\n\n    public String getSubject()\n    {\n        return subject;\n    }\n\n\n    //This method is used to send the email\n    public String send()\n    {\n        String result = \"\";\n        try\n        {\n            Session mailSession = Session.getInstance(getProperties(), new PasswordAuthenticator());\n\n            MimeMessage msg = new MimeMessage(mailSession);\n            msg.setFrom(new InternetAddress(from));\n            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n\n            msg.setSubject(subject);\n            msg.setText(message);\n\n            Transport.send(msg);\n\n            result = \"Mail Sent\";\n        }\n        catch(Exception e)\n        {\n            result = \"An error Occured\";\n            e.printStackTrace();\n        }\n\n        return result;\n    }\n\n\n    //This method will return properties appropreiate for the email account\n    public Properties getProperties()\n    {\n        Properties props = new Properties();\n\n        if(getAccount().equals(\"GMail\"))\n        {\n            props.put(\"mail.smtp.auth\", \"true\");\n            props.put(\"mail.smtp.starttls.enable\",\"true\");\n            props.put(\"mail.smtp.host\",\"smtp.gmail.com\");\n            props.put(\"mail.smtp.port\",\"587\");\n        }\n        else if(getAccount().equals(\"Yahoo\"))\n        {\n            props.put(\"mail.smtp.auth\", \"true\");\n            props.put(\"mail.smtp.socketFactory.port\",\"465\");\n            props.put(\"mail.smtp.socketFactory.class\",\"javax.net.ssl.SSLSocketFactory\");\n            props.put(\"mail.smtp.host\",\"smtp.mail.yahoo.com\");\n            props.put(\"mail.smtp.port\",\"465\");\n        }\n\n        return props;\n    }\n\n\n\n    //This class Authnticates the password\n    private class PasswordAuthenticator extends Authenticator\n    {\n\n        @Override\n        protected PasswordAuthentication getPasswordAuthentication()\n        {\n            return new PasswordAuthentication(getFrom(), getPassword());\n        }\n    }\n}\n</code></pre>\n\n<p>In here, if I select GMail, no issue. But if I try to send email using Yahoo, the following error occurs</p>\n\n<blockquote>\n  <p>javax.mail.AuthenticationFailedException: 530 Access denied</p>\n</blockquote>\n\n<p>Yahoo mail address and password is given correctly, but this issue is keep on coming. Why is this? Please help!</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":6348224,"reputation":179,"user_id":4928063,"display_name":"Abhijeet Ranade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623619712,"creation_date":1623619712,"answer_id":67962787,"question_id":61630952,"body_markdown":"    //USE PowerMockito it is easy as shown below\r\n    \r\n    \r\n    \r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({yourtarget.class,datasource.class})\r\n    public class DBTest {\r\n    \r\n    \r\n        @Mock\r\n        private Connection con;\r\n    \r\n        @Mock\r\n        private PreparedStatement stmt;\r\n    \r\n        @Mock\r\n        private ResultSet rs;\r\n    \r\n    \r\n        @Before\r\n        public void setUpBeforeClass() throws Exception {\r\n            MockitoAnnotations.initMocks(this);\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void testMethod() throws SQLException {\r\n            PowerMockito.mockStatic( DataSource.class );\r\n            try {\r\n                when( DataSource.getConnection() ).thenReturn( con );\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            when( con.prepareStatement( any()) ).thenReturn( stmt );\r\n            when( stmt.executeUpdate() ).thenReturn( 1 );\r\n    \r\n        }\r\n    \r\n    }","title":"How to mock PreparedStatement using Mockito","body":"<pre><code>//USE PowerMockito it is easy as shown below\n\n\n\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({yourtarget.class,datasource.class})\npublic class DBTest {\n\n\n    @Mock\n    private Connection con;\n\n    @Mock\n    private PreparedStatement stmt;\n\n    @Mock\n    private ResultSet rs;\n\n\n    @Before\n    public void setUpBeforeClass() throws Exception {\n        MockitoAnnotations.initMocks(this);\n\n    }\n\n    @Test\n    public void testMethod() throws SQLException {\n        PowerMockito.mockStatic( DataSource.class );\n        try {\n            when( DataSource.getConnection() ).thenReturn( con );\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        when( con.prepareStatement( any()) ).thenReturn( stmt );\n        when( stmt.executeUpdate() ).thenReturn( 1 );\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18001752,"reputation":13,"user_id":13083572,"display_name":"Sahil Chabria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696327365,"creation_date":1588754633,"question_id":61630952,"body_markdown":"I have the following function which changes the username of a user in a MySQL database:\r\n\r\n    public User changeUsername (ChangeUsername ChangeUsername) {\r\n\t\t// Getting user from database\r\n\t\tString sql = &quot;select * from users where username=&#39;&quot; + ChangeUsername.getUsername() + &quot;&#39;&quot;;\r\n\t\tList&lt;User&gt; users = jdbcTemplate.query(sql, new UserMapper());\r\n\t\tUser user = users.get(0);\r\n\t\t// Getting encoded password from database\r\n\t\tString encodedPassword = user.getPassword();\r\n\t\t// Getting password input from user\r\n\t    String rawPassword = ChangeUsername.getPassword();\r\n\t    // Comparing passwords\r\n\t    boolean isPasswordMatch = passwordEncoder.matches(rawPassword, encodedPassword);\r\n\t    // If password matches\r\n\t    if(isPasswordMatch){\r\n\t    \t// Getting current userrname\r\n\t    \tString username = ChangeUsername.getUsername();\r\n\t    \t// Getting new username\r\n\t    \tString newusername = ChangeUsername.getNewusername();\r\n\t    \t// Updating username in database with prepared statement\r\n\t    \tString update = &quot;update users set username = ? where username = ?&quot;;\r\n\t    \tConnection conn;\r\n\t\t\ttry {\r\n\t\t\t\tconn = datasource.getConnection();\r\n\t\t\t\tPreparedStatement preparedStatement = conn.prepareStatement(update);\r\n\t\t\t\tpreparedStatement.setString(1, newusername );\r\n\t\t\t\tpreparedStatement.setString(2, username);\r\n\t\t\t\tpreparedStatement.executeUpdate();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn user;\r\n\t    }\r\n\t    return null;\r\n\t   }\r\n\r\nI am trying to test the function using Mockito and JUnit 5 however I am getting an assertion error when calling `assertEquals` to check if the username is being changed successfully in the test code. Therefore the username is not being changed correctly when testing the function. Below is my test code:\r\n\t\r\n\t@RunWith(MockitoJUnitRunner.class)\r\n\tpublic class ChangeUsernameTest {\r\n\r\n\t\tUserDaoImpl userdaoimpl = mock(UserDaoImpl.class);\r\n\t\tUserDao userdao = mock(UserDao.class);\r\n\t\t@Mock\r\n\t\tJdbcTemplate jdbcTemplate;\r\n\t\t@Mock\r\n\t\tprivate PreparedStatement stmt;\r\n\t\t@Mock\r\n\t\tprivate Connection c;\r\n\t\t@Mock\r\n\t\tprivate DataSource ds;\r\n\t\t@Mock\r\n\t\tChangeUsername changeusername;\r\n\t\t@Mock\r\n\t\tUser user;\r\n\t\t@BeforeEach\r\n\t\tpublic void setUp() {\r\n\t\t  MockitoAnnotations.initMocks(this);\r\n\t\t  user = new User();\r\n\t\t  changeusername = new ChangeUsername();\r\n\t\t  try {\r\n\t\t\t\twhen(c.prepareStatement(any(String.class))).thenReturn(stmt);\r\n\t\t\t\twhen(ds.getConnection()).thenReturn(c);\r\n\t\t\t\tdoNothing().when(stmt).setString(any(int.class), any(String.class));\r\n\t\t\t\twhen(stmt.execute()).thenReturn(Boolean.TRUE);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t@Test\r\n\t\tpublic void setUserDetails() {\r\n\t\t\tuser.setAddress(&quot;A&quot;);\r\n\t\t\tuser.setEmail(&quot;B&quot;);\r\n\t\t\tuser.setFirstname(&quot;C&quot;);\r\n\t\t\tuser.setLastname(&quot;D&quot;);\r\n\t\t\tuser.setPassword(&quot;E&quot;);\r\n\t\t\tuser.setUsername(&quot;F&quot;);\r\n\t\t}\r\n\t\t@Test\r\n\t\tpublic void testSetUsername() {\r\n\t\t\tchangeusername.setUsername(&quot;F&quot;);\r\n\t\t\tassertEquals(changeusername.getUsername(), &quot;F&quot;);\r\n\t\t}\r\n\t\t@Test\r\n\t\tpublic void testSetPassword() {\r\n\t\t\tchangeusername.setUsername(&quot;E&quot;);\r\n\t\t\tassertEquals(changeusername.getUsername(), &quot;E&quot;);\r\n\t\t}\r\n\t\t@Test\r\n\t\tpublic void testSetNewUsername() {\r\n\t\t\tchangeusername.setNewusername(&quot;X&quot;);\r\n\t\t\tassertEquals(changeusername.getNewusername(), &quot;X&quot;);\r\n\t\t}\r\n\t\t@Test\r\n\t\tpublic void testChangeUsername() {\r\n\t\t\tint update = jdbcTemplate.update(any(String.class), any(Object.class));\r\n\t\t\twhen(userdaoimpl.register(user)).thenReturn(update);\r\n\t\t\tuserdaoimpl.register(user);\r\n\t\t\twhen(userdaoimpl.changeUsername(changeusername)).thenReturn(user);\r\n\t\t\tuserdaoimpl.changeUsername(changeusername);\r\n\t\t\tassertEquals(&quot;X&quot;, user.getUsername());\r\n\t\t}\r\n    }\r\n\r\n    ","title":"How to mock PreparedStatement using Mockito","body":"<p>I have the following function which changes the username of a user in a MySQL database:</p>\n\n<pre><code>public User changeUsername (ChangeUsername ChangeUsername) {\n    // Getting user from database\n    String sql = \"select * from users where username='\" + ChangeUsername.getUsername() + \"'\";\n    List&lt;User&gt; users = jdbcTemplate.query(sql, new UserMapper());\n    User user = users.get(0);\n    // Getting encoded password from database\n    String encodedPassword = user.getPassword();\n    // Getting password input from user\n    String rawPassword = ChangeUsername.getPassword();\n    // Comparing passwords\n    boolean isPasswordMatch = passwordEncoder.matches(rawPassword, encodedPassword);\n    // If password matches\n    if(isPasswordMatch){\n        // Getting current userrname\n        String username = ChangeUsername.getUsername();\n        // Getting new username\n        String newusername = ChangeUsername.getNewusername();\n        // Updating username in database with prepared statement\n        String update = \"update users set username = ? where username = ?\";\n        Connection conn;\n        try {\n            conn = datasource.getConnection();\n            PreparedStatement preparedStatement = conn.prepareStatement(update);\n            preparedStatement.setString(1, newusername );\n            preparedStatement.setString(2, username);\n            preparedStatement.executeUpdate();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return user;\n    }\n    return null;\n   }\n</code></pre>\n\n<p>I am trying to test the function using Mockito and JUnit 5 however I am getting an assertion error when calling <code>assertEquals</code> to check if the username is being changed successfully in the test code. Therefore the username is not being changed correctly when testing the function. Below is my test code:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ChangeUsernameTest {\n\n    UserDaoImpl userdaoimpl = mock(UserDaoImpl.class);\n    UserDao userdao = mock(UserDao.class);\n    @Mock\n    JdbcTemplate jdbcTemplate;\n    @Mock\n    private PreparedStatement stmt;\n    @Mock\n    private Connection c;\n    @Mock\n    private DataSource ds;\n    @Mock\n    ChangeUsername changeusername;\n    @Mock\n    User user;\n    @BeforeEach\n    public void setUp() {\n      MockitoAnnotations.initMocks(this);\n      user = new User();\n      changeusername = new ChangeUsername();\n      try {\n            when(c.prepareStatement(any(String.class))).thenReturn(stmt);\n            when(ds.getConnection()).thenReturn(c);\n            doNothing().when(stmt).setString(any(int.class), any(String.class));\n            when(stmt.execute()).thenReturn(Boolean.TRUE);\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    @Test\n    public void setUserDetails() {\n        user.setAddress(\"A\");\n        user.setEmail(\"B\");\n        user.setFirstname(\"C\");\n        user.setLastname(\"D\");\n        user.setPassword(\"E\");\n        user.setUsername(\"F\");\n    }\n    @Test\n    public void testSetUsername() {\n        changeusername.setUsername(\"F\");\n        assertEquals(changeusername.getUsername(), \"F\");\n    }\n    @Test\n    public void testSetPassword() {\n        changeusername.setUsername(\"E\");\n        assertEquals(changeusername.getUsername(), \"E\");\n    }\n    @Test\n    public void testSetNewUsername() {\n        changeusername.setNewusername(\"X\");\n        assertEquals(changeusername.getNewusername(), \"X\");\n    }\n    @Test\n    public void testChangeUsername() {\n        int update = jdbcTemplate.update(any(String.class), any(Object.class));\n        when(userdaoimpl.register(user)).thenReturn(update);\n        userdaoimpl.register(user);\n        when(userdaoimpl.changeUsername(changeusername)).thenReturn(user);\n        userdaoimpl.changeUsername(changeusername);\n        assertEquals(\"X\", user.getUsername());\n    }\n}\n</code></pre>\n"},{"tags":["java","sql-server","azure"],"comments":[{"owner":{"account_id":1398831,"reputation":17713,"user_id":1384539,"accept_rate":62,"display_name":"Thiago Custodio"},"score":0,"creation_date":1695219717,"post_id":77135761,"comment_id":135995497,"body_markdown":"can you add part of your java code?","body":"can you add part of your java code?"},{"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"score":0,"creation_date":1695224847,"post_id":77135761,"comment_id":135996823,"body_markdown":"@ThiagoCustodio I have added the reference code, as well the jars that I have included.","body":"@ThiagoCustodio I have added the reference code, as well the jars that I have included."},{"owner":{"account_id":1398831,"reputation":17713,"user_id":1384539,"accept_rate":62,"display_name":"Thiago Custodio"},"score":0,"creation_date":1695225356,"post_id":77135761,"comment_id":135996929,"body_markdown":"your code is equal to: https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-using-azure-active-directory-authentication?view=sql-server-ver16#connect-using-activedirectoryserviceprincipal-authentication-mode\n\nhave you checked the note? &#39;A contained user database must exist and a contained database user that represents the specified Azure AD principal or one of the groups the specified Azure AD principal belongs to, must exist in the database and must have the CONNECT permission (except for an Azure Active Directory server admin or group)&#39;","body":"your code is equal to: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-using-azure-active-directory-authentication?view=sql-server-ver16#connect-using-activedirectoryserviceprincipal-authentication-mode\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>  have you checked the note? &#39;A contained user database must exist and a contained database user that represents the specified Azure AD principal or one of the groups the specified Azure AD principal belongs to, must exist in the database and must have the CONNECT permission (except for an Azure Active Directory server admin or group)&#39;"},{"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"score":0,"creation_date":1695280857,"post_id":77135761,"comment_id":136003942,"body_markdown":"@ThiagoCustodio that can&#39;t be the issue. Because from both SQL Server Management Studio as well ODBC I am able to connect using the ActiveDirectoryServicePrincipal","body":"@ThiagoCustodio that can&#39;t be the issue. Because from both SQL Server Management Studio as well ODBC I am able to connect using the ActiveDirectoryServicePrincipal"},{"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"score":0,"creation_date":1695739581,"post_id":77135761,"comment_id":136063044,"body_markdown":"@ThiagoCustodio SOLUTION: Turned out that it was not looking for the MSFT certificate but for Company specific certificate.","body":"@ThiagoCustodio SOLUTION: Turned out that it was not looking for the MSFT certificate but for Company specific certificate."}],"answers":[{"tags":[],"owner":{"account_id":24067356,"reputation":5386,"user_id":18043699,"display_name":"Pratik Lad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696326648,"creation_date":1696326648,"answer_id":77221217,"question_id":77135761,"body_markdown":"@Nick glad to see you resolved the issue by identifying **it was not looking for the MSFT certificate but for Company specific certificate.** posting the answer to help other community members.\r\n\r\nAs per this [document](https://techcommunity.microsoft.com/t5/azure-database-support-blog/pkix-path-building-failed-unable-to-find-valid-certification/ba-p/2591304) by @Melania Nitu\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: Failed to authenticate the user &lt;&gt; in Active Directory (Authentication=ActiveDirectoryServicePrincipal). javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n**This is an issue in Java Certificate Store.**\r\n\r\n- The simple possible solution is enable **`TrustServerCertificate=True`** in the connection string when this option is enabled it will bypass the certificate validation and the connection succeeds. \r\n\r\n- All the **certifications listed in this [document](https://www.microsoft.com/pki/mscorp/cps/default.htm) should be imported**. after importing above certificates into the keystore cacerts, please use below command and please note **you must mention truststore and truststore password in the connection string to successfully connect.**\r\n\r\n**Example of commands:**\r\n```\r\nkeytool -importcert -trustcacerts -alias TLS1 -file &quot;C:\\Users\\Documents\\Microsoft RSA TLS CA 01.crt&quot; -keystore &quot;C:\\Program Files\\Java\\jdk-14.0.2\\lib\\security\\cacerts&quot;\r\n```","title":"Connect to MSFT SQL Server using authentication=ActiveDirectoryServicePrincipal","body":"<p>@Nick glad to see you resolved the issue by identifying <strong>it was not looking for the MSFT certificate but for Company specific certificate.</strong> posting the answer to help other community members.</p>\n<p>As per this <a href=\"https://techcommunity.microsoft.com/t5/azure-database-support-blog/pkix-path-building-failed-unable-to-find-valid-certification/ba-p/2591304\" rel=\"nofollow noreferrer\">document</a> by @Melania Nitu</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: Failed to authenticate the user &lt;&gt; in Active Directory (Authentication=ActiveDirectoryServicePrincipal). javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n<p><strong>This is an issue in Java Certificate Store.</strong></p>\n<ul>\n<li><p>The simple possible solution is enable <strong><code>TrustServerCertificate=True</code></strong> in the connection string when this option is enabled it will bypass the certificate validation and the connection succeeds.</p>\n</li>\n<li><p>All the <strong>certifications listed in this <a href=\"https://www.microsoft.com/pki/mscorp/cps/default.htm\" rel=\"nofollow noreferrer\">document</a> should be imported</strong>. after importing above certificates into the keystore cacerts, please use below command and please note <strong>you must mention truststore and truststore password in the connection string to successfully connect.</strong></p>\n</li>\n</ul>\n<p><strong>Example of commands:</strong></p>\n<pre><code>keytool -importcert -trustcacerts -alias TLS1 -file &quot;C:\\Users\\Documents\\Microsoft RSA TLS CA 01.crt&quot; -keystore &quot;C:\\Program Files\\Java\\jdk-14.0.2\\lib\\security\\cacerts&quot;\n</code></pre>\n"}],"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696326648,"creation_date":1695135853,"question_id":77135761,"body_markdown":"I am trying to connect to SQL server using **Azure Directory Service Principal**, but keep on getting the same error:\r\n\r\nString connectionString = &quot;jdbc:sqlserver://&lt;&lt;&gt;&gt;.windows.net;databaseName=&lt;&lt;&gt;&gt;;user=&lt;clientId&gt;;password=&lt;&lt;&gt;&gt;;encrypt=true;trustServerCertificate=false;loginTimeout=30;authentication=ActiveDirectoryServicePrincipal&quot;\r\n\r\n```SLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nError connection to the database\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Failed to authenticate the user &lt;&gt; in Active Directory (Authentication=ActiveDirectoryServicePrincipal). javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerMSAL4JUtils.getCorrectedException(SQLServerMSAL4JUtils.java:277)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerMSAL4JUtils.getSqlFedAuthTokenPrincipal(SQLServerMSAL4JUtils.java:112)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.getFedAuthToken(SQLServerConnection.java:5679)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.onFedAuthInfo(SQLServerConnection.java:5618)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.processFedAuthInfo(SQLServerConnection.java:5463)\r\n\tat com.microsoft.sqlserver.jdbc.TDSTokenHandler.onFedAuthInfo(tdsparser.java:311)\r\n\tat com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:131)\r\n\tat com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:42)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:6490)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:5068)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:5002)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7685)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4048)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3487)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3077)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2919)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1787)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1229)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\r\n\tat database.TestingDriverAndConnection.main(TestingDriverAndConnection.java:16)\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerMSAL4JUtils.getCorrectedException(SQLServerMSAL4JUtils.java:275)\r\n\t... 20 more\r\nCaused by: java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerMSAL4JUtils.getCorrectedException(SQLServerMSAL4JUtils.java:267)\r\n\t... 20 more\r\n```\r\n\r\nFollowing the exact same details in ODBC or SSMS is working perfectly fine. Also setting \r\ntrustServerCertificate=true is not giving a different result.\r\n\r\nThis is the code I used to verify the connection: (reference: https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-using-azure-active-directory-authentication?view=sql-server-ver16)\r\n\r\n```import java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\nimport com.microsoft.sqlserver.jdbc.SQLServerDataSource;\r\n\r\npublic class AADServicePrincipal {\r\n    public static void main(String[] args) throws Exception{\r\n        String principalId = &quot;1846943b-ad04-4808-aa13-4702d908b5c1&quot;; // Replace with your AAD service principal ID.\r\n        String principalSecret = &quot;...&quot;; // Replace with your AAD principal secret.\r\n\r\n        SQLServerDataSource ds = new SQLServerDataSource();\r\n        ds.setServerName(&quot;aad-managed-demo.database.windows.net&quot;); // Replace with your server name\r\n        ds.setDatabaseName(&quot;demo&quot;); // Replace with your database\r\n        ds.setAuthentication(&quot;ActiveDirectoryServicePrincipal&quot;);\r\n        ds.setUser(principalId); // setAADSecurePrincipalId for JDBC Driver 9.4 and below\r\n        ds.setPassword(principalSecret); // setAADSecurePrincipalSecret for JDBC Driver 9.4 and below \r\n\r\n        try (Connection connection = ds.getConnection();\r\n                Statement stmt = connection.createStatement();\r\n                ResultSet rs = stmt.executeQuery(&quot;SELECT SUSER_SNAME()&quot;)) {\r\n            if (rs.next()) {\r\n                System.out.println(&quot;You have successfully logged on as: &quot; + rs.getString(1));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the list of JARS that are present:\r\n```\r\naccessors-smart-2.4.9.jar\r\nasm-9.5.jar\r\ncontent-type-2.2.jar\r\njackson-annotations-2.15.0.jar\r\njackson-core-2.15.0.jar\r\njackson-databind-2.15.0.jar\r\njcip-annotations-1.0.jar\r\njson-smart-2.4.10.jar\r\nlang-tag-1.7.jar\r\nmsal4j-1.13.8.jar\r\nmssql-jdbc-12.2.0.jre11.jar\r\nnimbus-jose-jwt-9.31.jar\r\noauth2-oidc-sdk-10.8.jar\r\nslf4j-api-2.0.7.jar\r\n```\r\n\r\nSOLUTION: Turned out that it was not looking for the MSFT certificate but for Company specific certificate.","title":"Connect to MSFT SQL Server using authentication=ActiveDirectoryServicePrincipal","body":"<p>I am trying to connect to SQL server using <strong>Azure Directory Service Principal</strong>, but keep on getting the same error:</p>\n<p>String connectionString = &quot;jdbc:sqlserver://&lt;&lt;&gt;&gt;.windows.net;databaseName=&lt;&lt;&gt;&gt;;user=;password=&lt;&lt;&gt;&gt;;encrypt=true;trustServerCertificate=false;loginTimeout=30;authentication=ActiveDirectoryServicePrincipal&quot;</p>\n<pre><code>SLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nError connection to the database\ncom.microsoft.sqlserver.jdbc.SQLServerException: Failed to authenticate the user &lt;&gt; in Active Directory (Authentication=ActiveDirectoryServicePrincipal). javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at com.microsoft.sqlserver.jdbc.SQLServerMSAL4JUtils.getCorrectedException(SQLServerMSAL4JUtils.java:277)\n    at com.microsoft.sqlserver.jdbc.SQLServerMSAL4JUtils.getSqlFedAuthTokenPrincipal(SQLServerMSAL4JUtils.java:112)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.getFedAuthToken(SQLServerConnection.java:5679)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.onFedAuthInfo(SQLServerConnection.java:5618)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.processFedAuthInfo(SQLServerConnection.java:5463)\n    at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onFedAuthInfo(tdsparser.java:311)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:131)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:42)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:6490)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:5068)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:5002)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7685)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4048)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3487)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3077)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2919)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1787)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1229)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\n    at database.TestingDriverAndConnection.main(TestingDriverAndConnection.java:16)\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at com.microsoft.sqlserver.jdbc.SQLServerMSAL4JUtils.getCorrectedException(SQLServerMSAL4JUtils.java:275)\n    ... 20 more\nCaused by: java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at com.microsoft.sqlserver.jdbc.SQLServerMSAL4JUtils.getCorrectedException(SQLServerMSAL4JUtils.java:267)\n    ... 20 more\n</code></pre>\n<p>Following the exact same details in ODBC or SSMS is working perfectly fine. Also setting\ntrustServerCertificate=true is not giving a different result.</p>\n<p>This is the code I used to verify the connection: (reference: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-using-azure-active-directory-authentication?view=sql-server-ver16\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-using-azure-active-directory-authentication?view=sql-server-ver16</a>)</p>\n<pre><code>import java.sql.ResultSet;\nimport java.sql.Statement;\n\nimport com.microsoft.sqlserver.jdbc.SQLServerDataSource;\n\npublic class AADServicePrincipal {\n    public static void main(String[] args) throws Exception{\n        String principalId = &quot;1846943b-ad04-4808-aa13-4702d908b5c1&quot;; // Replace with your AAD service principal ID.\n        String principalSecret = &quot;...&quot;; // Replace with your AAD principal secret.\n\n        SQLServerDataSource ds = new SQLServerDataSource();\n        ds.setServerName(&quot;aad-managed-demo.database.windows.net&quot;); // Replace with your server name\n        ds.setDatabaseName(&quot;demo&quot;); // Replace with your database\n        ds.setAuthentication(&quot;ActiveDirectoryServicePrincipal&quot;);\n        ds.setUser(principalId); // setAADSecurePrincipalId for JDBC Driver 9.4 and below\n        ds.setPassword(principalSecret); // setAADSecurePrincipalSecret for JDBC Driver 9.4 and below \n\n        try (Connection connection = ds.getConnection();\n                Statement stmt = connection.createStatement();\n                ResultSet rs = stmt.executeQuery(&quot;SELECT SUSER_SNAME()&quot;)) {\n            if (rs.next()) {\n                System.out.println(&quot;You have successfully logged on as: &quot; + rs.getString(1));\n            }\n        }\n    }\n}\n</code></pre>\n<p>And this is the list of JARS that are present:</p>\n<pre><code>accessors-smart-2.4.9.jar\nasm-9.5.jar\ncontent-type-2.2.jar\njackson-annotations-2.15.0.jar\njackson-core-2.15.0.jar\njackson-databind-2.15.0.jar\njcip-annotations-1.0.jar\njson-smart-2.4.10.jar\nlang-tag-1.7.jar\nmsal4j-1.13.8.jar\nmssql-jdbc-12.2.0.jre11.jar\nnimbus-jose-jwt-9.31.jar\noauth2-oidc-sdk-10.8.jar\nslf4j-api-2.0.7.jar\n</code></pre>\n<p>SOLUTION: Turned out that it was not looking for the MSFT certificate but for Company specific certificate.</p>\n"},{"tags":["java","spring","spring-boot","graphql","spring-graphql"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1696317879,"post_id":77158021,"comment_id":136133989,"body_markdown":"what&#39;s your security configuration? authentication mechanism? what&#39;s the security behavior you&#39;re expecting?","body":"what&#39;s your security configuration? authentication mechanism? what&#39;s the security behavior you&#39;re expecting?"},{"owner":{"account_id":5389744,"reputation":41,"user_id":9716931,"display_name":"CharliePrm88"},"score":0,"creation_date":1696319969,"post_id":77158021,"comment_id":136134353,"body_markdown":"Hi Brian, the security mechanism is with key cloak and Spring-Security. I expect that when I use graphiql UI, I can query the endpoint that is secured. Actually I can&#39;t due that graphiql isn&#39;t aware of ClientId and ClientSecret (as for swagger, in example).","body":"Hi Brian, the security mechanism is with key cloak and Spring-Security. I expect that when I use graphiql UI, I can query the endpoint that is secured. Actually I can&#39;t due that graphiql isn&#39;t aware of ClientId and ClientSecret (as for swagger, in example)."}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696326367,"creation_date":1696326367,"answer_id":77221184,"question_id":77158021,"body_markdown":"If your application is using a specific authentication mechanism (like OAuth) that requires additional data to be sent along the GraphQL requests, this needs to be taken care of in GraphiQL as well.\r\n\r\nThe first step is to ensure that the `/graphiql` endpoint is considered in the security configuration.\r\n\r\nThen you&#39;ll probably need to either manually enter the authentication information in the &quot;headers&quot; panel of GraphiQL. You can also consider building your own GraphiQL integration (just like GitHub does with their authentication). See [this GraphiQL issue][1] to get more details.\r\n\r\nThe default GraphiQL integration in Spring GraphQL is mostly meant for development purposes and is not meant to support all production uses cases.\r\n\r\n\r\n  [1]: https://github.com/graphql/graphiql/issues/1771","title":"Graphiql not working due of security - Spring for GraphQL","body":"<p>If your application is using a specific authentication mechanism (like OAuth) that requires additional data to be sent along the GraphQL requests, this needs to be taken care of in GraphiQL as well.</p>\n<p>The first step is to ensure that the <code>/graphiql</code> endpoint is considered in the security configuration.</p>\n<p>Then you'll probably need to either manually enter the authentication information in the &quot;headers&quot; panel of GraphiQL. You can also consider building your own GraphiQL integration (just like GitHub does with their authentication). See <a href=\"https://github.com/graphql/graphiql/issues/1771\" rel=\"nofollow noreferrer\">this GraphiQL issue</a> to get more details.</p>\n<p>The default GraphiQL integration in Spring GraphQL is mostly meant for development purposes and is not meant to support all production uses cases.</p>\n"}],"owner":{"account_id":5389744,"reputation":41,"user_id":9716931,"display_name":"CharliePrm88"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696326367,"creation_date":1695389060,"question_id":77158021,"body_markdown":"I&#39;m trying to use graphiql UI but due of Spring Security, I receive 401.\r\n\r\nWhat&#39;s the way to keep /graphql endpoint secured but let /graphiql request to graphql endpoint?\r\n\r\nI&#39;m on Spring Boot 3.1.4 and Spring For Graphql 1.2.3\r\n\r\nIf I permitall /graphql it works but I loss security. I Tried also to put /vendor/** in permitAll but no luck.","title":"Graphiql not working due of security - Spring for GraphQL","body":"<p>I'm trying to use graphiql UI but due of Spring Security, I receive 401.</p>\n<p>What's the way to keep /graphql endpoint secured but let /graphiql request to graphql endpoint?</p>\n<p>I'm on Spring Boot 3.1.4 and Spring For Graphql 1.2.3</p>\n<p>If I permitall /graphql it works but I loss security. I Tried also to put /vendor/** in permitAll but no luck.</p>\n"},{"tags":["java","android","gradle","java-17"],"comments":[{"owner":{"account_id":398930,"reputation":12242,"user_id":763935,"accept_rate":65,"display_name":"david.mihola"},"score":0,"creation_date":1696326117,"post_id":77220757,"comment_id":136135437,"body_markdown":"@Robert - good point, I&#39;ve added the information as an update! (This was tested and is reproducible with both AGP 7.4.2/Gradle 7.6.1 and AGP 8.0.0/Gradle 8.0.)","body":"@Robert - good point, I&#39;ve added the information as an update! (This was tested and is reproducible with both AGP 7.4.2/Gradle 7.6.1 and AGP 8.0.0/Gradle 8.0.)"}],"owner":{"account_id":398930,"reputation":12242,"user_id":763935,"accept_rate":65,"display_name":"david.mihola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696326084,"creation_date":1696322047,"question_id":77220757,"body_markdown":"We have an Android project with various Gradle subprojects. For years we&#39;ve been using the task `testDebug` to run all the tests in all subprojects.\r\n\r\nHowever, since we recently switched to Java 17, we get the following error:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nTask &#39;testDebug&#39; is ambiguous in root project &#39;tv&#39; and its subprojects. Candidates are: &#39;testDebugUnitTest&#39;, &#39;testDevAndroidDebugUnitTest&#39;, &#39;testDevAndroidtvDebugUnitTest&#39;, &#39;testDevFireDebugUnitTest&#39;, &#39;testDevFiretvDebugUnitTest&#39;, &#39;testProdAndroidDebugUnitTest&#39;, &#39;testProdAndroidtvDebugUnitTest&#39;, &#39;testProdFireDebugUnitTest&#39;, &#39;testProdFiretvDebugUnitTest&#39;, &#39;testShopAndroidtvDebugUnitTest&#39;, &#39;testShopFiretvDebugUnitTest&#39;, &#39;testSitAndroidDebugUnitTest&#39;, &#39;testSitAndroidtvDebugUnitTest&#39;, &#39;testSitFireDebugUnitTest&#39;, &#39;testSitFiretvDebugUnitTest&#39;.\r\n```\r\n\r\nWhen I switch back to Java 11:\r\n```\r\n➜  tv git:(master) export JAVA_HOME=/Library/Java/JavaVirtualMachines/amazon-corretto-11.jdk/Contents/Home\r\n\r\n➜  tv git:(master) java --version                                                                         \r\nopenjdk 11.0.17 2022-10-18 LTS\r\nOpenJDK Runtime Environment Corretto-11.0.17.8.1 (build 11.0.17+8-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-11.0.17.8.1 (build 11.0.17+8-LTS, mixed mode)\r\n```\r\n\r\nThe task works again:\r\n```\r\n➜  tv git:(master) ./gradlew --dry-run testDebug | grep testDebug\r\n// ...\r\n:watchlist-feature:data:testDebugUnitTest SKIPPED\r\n:watchlist-feature:repository:testDebugUnitTest SKIPPED\r\n:watchlist-feature:usecase:testDebugUnitTest SKIPPED\r\n:features-common:start-page:data:testDebugUnitTest SKIPPED\r\n:features-common:start-page:interactor:testDebugUnitTest SKIPPED\r\n:features-common:start-page:presentation:testDebugUnitTest SKIPPED\r\n:features-tv:start-page:presentation:testDebugUnitTest SKIPPED\r\n```\r\n\r\nOf course, I could now enumerate all the specific test tasks instead but that promises to be a maintenance nightmare...\r\n\r\nUPDATE: This was tested and is reproducible with both AGP 7.4.2/Gradle 7.6.1 and AGP 8.0.0/Gradle 8.0 (except that, for the latter combination Java 11 doesn&#39;t work at all, but that&#39;s expected).","title":"Switching to Java 17 breaks Gradle testDebug task","body":"<p>We have an Android project with various Gradle subprojects. For years we've been using the task <code>testDebug</code> to run all the tests in all subprojects.</p>\n<p>However, since we recently switched to Java 17, we get the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nTask 'testDebug' is ambiguous in root project 'tv' and its subprojects. Candidates are: 'testDebugUnitTest', 'testDevAndroidDebugUnitTest', 'testDevAndroidtvDebugUnitTest', 'testDevFireDebugUnitTest', 'testDevFiretvDebugUnitTest', 'testProdAndroidDebugUnitTest', 'testProdAndroidtvDebugUnitTest', 'testProdFireDebugUnitTest', 'testProdFiretvDebugUnitTest', 'testShopAndroidtvDebugUnitTest', 'testShopFiretvDebugUnitTest', 'testSitAndroidDebugUnitTest', 'testSitAndroidtvDebugUnitTest', 'testSitFireDebugUnitTest', 'testSitFiretvDebugUnitTest'.\n</code></pre>\n<p>When I switch back to Java 11:</p>\n<pre><code>➜  tv git:(master) export JAVA_HOME=/Library/Java/JavaVirtualMachines/amazon-corretto-11.jdk/Contents/Home\n\n➜  tv git:(master) java --version                                                                         \nopenjdk 11.0.17 2022-10-18 LTS\nOpenJDK Runtime Environment Corretto-11.0.17.8.1 (build 11.0.17+8-LTS)\nOpenJDK 64-Bit Server VM Corretto-11.0.17.8.1 (build 11.0.17+8-LTS, mixed mode)\n</code></pre>\n<p>The task works again:</p>\n<pre><code>➜  tv git:(master) ./gradlew --dry-run testDebug | grep testDebug\n// ...\n:watchlist-feature:data:testDebugUnitTest SKIPPED\n:watchlist-feature:repository:testDebugUnitTest SKIPPED\n:watchlist-feature:usecase:testDebugUnitTest SKIPPED\n:features-common:start-page:data:testDebugUnitTest SKIPPED\n:features-common:start-page:interactor:testDebugUnitTest SKIPPED\n:features-common:start-page:presentation:testDebugUnitTest SKIPPED\n:features-tv:start-page:presentation:testDebugUnitTest SKIPPED\n</code></pre>\n<p>Of course, I could now enumerate all the specific test tasks instead but that promises to be a maintenance nightmare...</p>\n<p>UPDATE: This was tested and is reproducible with both AGP 7.4.2/Gradle 7.6.1 and AGP 8.0.0/Gradle 8.0 (except that, for the latter combination Java 11 doesn't work at all, but that's expected).</p>\n"},{"tags":["java","jakarta-ee","cdi","graalvm"],"answers":[{"comments":[{"owner":{"account_id":233706,"reputation":880,"user_id":499377,"accept_rate":86,"display_name":"fedd"},"score":0,"creation_date":1696330336,"post_id":77221085,"comment_id":136136121,"body_markdown":"Thank you! I think I&#39;ve noticed they have little to do with each other =) Thanks for pointing to this Proxy. But I think I&#39;m looking for the way to substitute the Polyglot Bindings - the topmost set of variables - with my own structure then. As opposed to putting anything in the existing Bindings that `ctx.getBindings(lang)` is returning","body":"Thank you! I think I&#39;ve noticed they have little to do with each other =) Thanks for pointing to this Proxy. But I think I&#39;m looking for the way to substitute the Polyglot Bindings - the topmost set of variables - with my own structure then. As opposed to putting anything in the existing Bindings that <code>ctx.getBindings(lang)</code> is returning"}],"tags":[],"owner":{"account_id":125486,"reputation":2893,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696325323,"creation_date":1696325323,"answer_id":77221085,"question_id":77220805,"body_markdown":"Jakarta CDI and Graal Polyglot Context have nothing to do with each other. The word &quot;context&quot; is very overloaded in programming.\r\n\r\nIt is not clear to me what you want to achieve. \r\n\r\nIf you want to expose something from Java to Python, you can implement, for example, a [ProxyHashMap][1]. If you send such object to Python, it will look like a dictionary, but under the hood it will call the methods from your ProxyHashMap implementation. You can wrap any service locator (be it from Jakarta CDI or any dependency injection framework) and expose it to Python this way, for example.\r\n\r\n\r\n  [1]: https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/proxy/ProxyHashMap.html","title":"GraalVM polyglot context and Jakarta CDI context: how access beans from scripts?","body":"<p>Jakarta CDI and Graal Polyglot Context have nothing to do with each other. The word &quot;context&quot; is very overloaded in programming.</p>\n<p>It is not clear to me what you want to achieve.</p>\n<p>If you want to expose something from Java to Python, you can implement, for example, a <a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/proxy/ProxyHashMap.html\" rel=\"nofollow noreferrer\">ProxyHashMap</a>. If you send such object to Python, it will look like a dictionary, but under the hood it will call the methods from your ProxyHashMap implementation. You can wrap any service locator (be it from Jakarta CDI or any dependency injection framework) and expose it to Python this way, for example.</p>\n"}],"owner":{"account_id":233706,"reputation":880,"user_id":499377,"accept_rate":86,"display_name":"fedd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696325323,"creation_date":1696322525,"question_id":77220805,"body_markdown":"I&#39;m sure I&#39;m missing something, so here&#39;s how I understand things as for now:\r\n\r\nIn order to execute a script we have to provide it with a context which among other things boils down to a set of variable names mapped to their values. We may keep this context if we want the subsequent script snippets to continue mutating the objects we&#39;re keeping in the context, or create a new one. This worked for me in older scripting libraries for java.\r\n\r\nIn my application I&#39;m storing the objects (beans) in a set of `java.util.Map`s that correspond to multiple (potentially hundreds) execution states which my app is working with, calling scripts or changing the beans in java. These contexts are scoped and can be nested hierarchically, like the application scope, process definition scope, process instance scope, process instance thread scope, and I am managing that all myself in a set of Maps. \r\n\r\nBecause of that, after switching to GraalVM, I have to execute a script the following way:\r\n\r\n        //TODO: this obviously needs heavy optimization\r\n        Context ctx = Context.newBuilder(lang).allowAllAccess(true).build();\r\n        Value bindings = ctx.getBindings(lang);\r\n        for (Map.Entry&lt;String, Object&gt; entry : myContext.entrySet()) {\r\n            bindings.putMember(entry.getKey(), entry.getValue());\r\n        }\r\n        Value ret = ctx.eval(lang, script);\r\n\r\n, where `myContext` is a `Map` that stores all of the nested contexts in one structure, and this thing happens all the time whenever a process dynamically decides to execute a script snippet.\r\n\r\nNow I&#39;m wishing to take advantage of Jakarta CDI to manage my beans and scopes and the contexts. Seeing the word &quot;context&quot; I imagined that these two (scripting and application scopes) can be somehow interoperable. Basically, the script has to have access to the beans in all of the nested scopes when it comes to execute it. \r\n\r\nFor example, I could put an ObjectMapper instance on one level of the scope, and an InputStream on another, and in my script get access to both and make it work.\r\n\r\nBut I&#39;m failing to grasp the exact way of achieving this. None of them follows the `java.util.Map` API, which is fine, but then, how?\r\n\r\n*Add:* would be nice to employ the same mechanism for generating the templated text outputs along the way of execution of my processes. I&#39;m currently using [MVEL][1] which happily accepts a `Map` to populate the placeholders and is also a neat expression language when a full fledged script is an overkill.\r\n\r\nBy the way, I&#39;m seeing that legacy JSP EL language connection in the Jakarta CDI API through the `CDI.current().getBeanManager().getELResolver()` call, can it be the way to marry it with the GraalVM contexts or am I totally confused?..\r\n\r\n  [1]: http://mvel.documentnode.com/","title":"GraalVM polyglot context and Jakarta CDI context: how access beans from scripts?","body":"<p>I'm sure I'm missing something, so here's how I understand things as for now:</p>\n<p>In order to execute a script we have to provide it with a context which among other things boils down to a set of variable names mapped to their values. We may keep this context if we want the subsequent script snippets to continue mutating the objects we're keeping in the context, or create a new one. This worked for me in older scripting libraries for java.</p>\n<p>In my application I'm storing the objects (beans) in a set of <code>java.util.Map</code>s that correspond to multiple (potentially hundreds) execution states which my app is working with, calling scripts or changing the beans in java. These contexts are scoped and can be nested hierarchically, like the application scope, process definition scope, process instance scope, process instance thread scope, and I am managing that all myself in a set of Maps.</p>\n<p>Because of that, after switching to GraalVM, I have to execute a script the following way:</p>\n<pre><code>    //TODO: this obviously needs heavy optimization\n    Context ctx = Context.newBuilder(lang).allowAllAccess(true).build();\n    Value bindings = ctx.getBindings(lang);\n    for (Map.Entry&lt;String, Object&gt; entry : myContext.entrySet()) {\n        bindings.putMember(entry.getKey(), entry.getValue());\n    }\n    Value ret = ctx.eval(lang, script);\n</code></pre>\n<p>, where <code>myContext</code> is a <code>Map</code> that stores all of the nested contexts in one structure, and this thing happens all the time whenever a process dynamically decides to execute a script snippet.</p>\n<p>Now I'm wishing to take advantage of Jakarta CDI to manage my beans and scopes and the contexts. Seeing the word &quot;context&quot; I imagined that these two (scripting and application scopes) can be somehow interoperable. Basically, the script has to have access to the beans in all of the nested scopes when it comes to execute it.</p>\n<p>For example, I could put an ObjectMapper instance on one level of the scope, and an InputStream on another, and in my script get access to both and make it work.</p>\n<p>But I'm failing to grasp the exact way of achieving this. None of them follows the <code>java.util.Map</code> API, which is fine, but then, how?</p>\n<p><em>Add:</em> would be nice to employ the same mechanism for generating the templated text outputs along the way of execution of my processes. I'm currently using <a href=\"http://mvel.documentnode.com/\" rel=\"nofollow noreferrer\">MVEL</a> which happily accepts a <code>Map</code> to populate the placeholders and is also a neat expression language when a full fledged script is an overkill.</p>\n<p>By the way, I'm seeing that legacy JSP EL language connection in the Jakarta CDI API through the <code>CDI.current().getBeanManager().getELResolver()</code> call, can it be the way to marry it with the GraalVM contexts or am I totally confused?..</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":2609703,"reputation":1305,"user_id":2260040,"accept_rate":57,"display_name":"user2260040"},"score":0,"creation_date":1696295815,"post_id":77219136,"comment_id":136132040,"body_markdown":"b--a--c\nd--c\n\n1--0--2\n3--2\n\nIf you follow the code, you will get the answer that you have mentioned","body":"b--a--c d--c  1--0--2 3--2  If you follow the code, you will get the answer that you have mentioned"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696325314,"creation_date":1696295769,"answer_id":77219176,"question_id":77219136,"body_markdown":"&gt;I cant seem to understand how will it run recursively without any return functions.\r\n\r\nSince `f()` is void, the returns are implicit and not needed to return since no value is returned.\r\n\r\nTake pencil and paper and carefully go through the complete method and write down what is taking place, took place, etc.  Then see if it matches the following modification where I added additional print statements. You should also have tree diagram with the data and node links, including those that are null and those that aren&#39;t.\r\n```java\r\npublic class NodeTest {\r\n    public static void main(String[] args) {\r\n        Node a = new Node(0);\r\n        Node b = new Node(1);\r\n        Node c = new Node(2);\r\n        Node d = new Node(3);\r\n        a.left = b;\r\n        a.right = c;\r\n        c.left = d;\r\n        a.f();\r\n    }\r\n}\r\n\r\nclass Node {\r\n    Node left, right;\r\n    int data;\r\n\r\n    Node(int d) {\r\n        data = d;\r\n    }\r\n\r\n    public void f() {\r\n        System.out.println(&quot;f() entered - printing open paren&quot;);\r\n        System.out.println(&quot;(&quot;);\r\n        \r\n        if (left != null) {\r\n            System.out.println(&quot;left is not null, calling left.f()&quot;);\r\n            left.f();\r\n            System.out.println(&quot;returned from left.f() printing underscore&quot;);\r\n            System.out.println(&quot;_&quot;);\r\n        } else {\r\n            System.out.println(&quot;left was null&quot;);\r\n        }\r\n        if (right != null) {\r\n            System.out.println(&quot;right is not null, calling right.f()&quot;);\r\n            right.f();\r\n            System.out.println(&quot;returned from right.f() printing underscore&quot;);\r\n            System.out.println(&quot;_&quot;);\r\n        } else {\r\n            System.out.println(&quot;right was null&quot;);\r\n        }\r\n        System.out.println(&quot;printing data and closing paren&quot;);\r\n        System.out.println(data);\r\n        System.out.println(&quot;)&quot;);\r\n        System.out.println(&quot;returning from recursive call.&quot;);\r\n    }\r\n\r\n}\r\n```\r\nprints the following\r\n```\r\nf() entered - printing open paren\r\n(\r\nleft is not null, calling left.f()\r\nf() entered - printing open paren\r\n(\r\nleft was null\r\nright was null\r\nprinting data and closing paren\r\n1\r\n)\r\nreturning from recursive call\r\nreturned from left.f() printing underscore\r\n_\r\nright is not null, calling right.f()\r\nf() entered - printing open paren\r\n(\r\nleft is not null, calling left.f()\r\nf() entered - printing open paren\r\n(\r\nleft was null\r\nright was null\r\nprinting data and closing paren\r\n3\r\n)\r\nreturning from recursive call\r\nreturned from left.f() printing underscore\r\n_\r\nright was null\r\nprinting data and closing paren\r\n2\r\n)\r\nreturning from recursive call\r\nreturned from right.f() printing underscore\r\n_\r\nprinting data and closing paren\r\n0\r\n)\r\nreturning from recursive call\r\n","title":"I can&#39;t seem to understand why will the program not terminate after printing ((1)","body":"<blockquote>\n<p>I cant seem to understand how will it run recursively without any return functions.</p>\n</blockquote>\n<p>Since <code>f()</code> is void, the returns are implicit and not needed to return since no value is returned.</p>\n<p>Take pencil and paper and carefully go through the complete method and write down what is taking place, took place, etc.  Then see if it matches the following modification where I added additional print statements. You should also have tree diagram with the data and node links, including those that are null and those that aren't.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NodeTest {\n    public static void main(String[] args) {\n        Node a = new Node(0);\n        Node b = new Node(1);\n        Node c = new Node(2);\n        Node d = new Node(3);\n        a.left = b;\n        a.right = c;\n        c.left = d;\n        a.f();\n    }\n}\n\nclass Node {\n    Node left, right;\n    int data;\n\n    Node(int d) {\n        data = d;\n    }\n\n    public void f() {\n        System.out.println(&quot;f() entered - printing open paren&quot;);\n        System.out.println(&quot;(&quot;);\n        \n        if (left != null) {\n            System.out.println(&quot;left is not null, calling left.f()&quot;);\n            left.f();\n            System.out.println(&quot;returned from left.f() printing underscore&quot;);\n            System.out.println(&quot;_&quot;);\n        } else {\n            System.out.println(&quot;left was null&quot;);\n        }\n        if (right != null) {\n            System.out.println(&quot;right is not null, calling right.f()&quot;);\n            right.f();\n            System.out.println(&quot;returned from right.f() printing underscore&quot;);\n            System.out.println(&quot;_&quot;);\n        } else {\n            System.out.println(&quot;right was null&quot;);\n        }\n        System.out.println(&quot;printing data and closing paren&quot;);\n        System.out.println(data);\n        System.out.println(&quot;)&quot;);\n        System.out.println(&quot;returning from recursive call.&quot;);\n    }\n\n}\n</code></pre>\n<p>prints the following</p>\n<pre><code>f() entered - printing open paren\n(\nleft is not null, calling left.f()\nf() entered - printing open paren\n(\nleft was null\nright was null\nprinting data and closing paren\n1\n)\nreturning from recursive call\nreturned from left.f() printing underscore\n_\nright is not null, calling right.f()\nf() entered - printing open paren\n(\nleft is not null, calling left.f()\nf() entered - printing open paren\n(\nleft was null\nright was null\nprinting data and closing paren\n3\n)\nreturning from recursive call\nreturned from left.f() printing underscore\n_\nright was null\nprinting data and closing paren\n2\n)\nreturning from recursive call\nreturned from right.f() printing underscore\n_\nprinting data and closing paren\n0\n)\nreturning from recursive call\n</code></pre>\n"}],"owner":{"account_id":27614312,"reputation":9,"user_id":21076695,"display_name":"Kushagra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77219176,"answer_count":1,"score":-2,"last_activity_date":1696325314,"creation_date":1696294721,"question_id":77219136,"body_markdown":"This is a binary tree function which I can&#39;t seem to understand how will it run recursively without any return functions. \r\n\r\n```java\r\npublic class Node {\r\n    Node left, right; int data;\r\n    Node(int d) { data = d; }\r\n\r\n    public void f() {\r\n        System.out.print(&quot;(&quot;);\r\n        if (left != null) {\r\n            left.f();\r\n            System.out.print(&quot;_&quot;);\r\n        }\r\n        if (right != null) {\r\n            right.f();\r\n            System.out.print(&quot;_&quot;);\r\n        }\r\n        System.out.print(data);\r\n        System.out.print(&quot;)&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n        Node a = new Node(0);\r\n        Node b = new Node(1);\r\n        Node c = new Node(2);\r\n        Node d = new Node(3);\r\n        a.left = b;\r\n        a.right = c;\r\n        c.left = d;\r\n        a.f(); \r\n    }\r\n}\r\n```\r\n\r\n// ans is = ((1)_((3)_2)_0)\r\n\r\nI tried debugging it to see step by step but still couldn&#39;t understand it at all","title":"I can&#39;t seem to understand why will the program not terminate after printing ((1)","body":"<p>This is a binary tree function which I can't seem to understand how will it run recursively without any return functions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Node {\n    Node left, right; int data;\n    Node(int d) { data = d; }\n\n    public void f() {\n        System.out.print(&quot;(&quot;);\n        if (left != null) {\n            left.f();\n            System.out.print(&quot;_&quot;);\n        }\n        if (right != null) {\n            right.f();\n            System.out.print(&quot;_&quot;);\n        }\n        System.out.print(data);\n        System.out.print(&quot;)&quot;);\n    }\n    public static void main(String[] args) {\n        Node a = new Node(0);\n        Node b = new Node(1);\n        Node c = new Node(2);\n        Node d = new Node(3);\n        a.left = b;\n        a.right = c;\n        c.left = d;\n        a.f(); \n    }\n}\n</code></pre>\n<p>// ans is = ((1)_((3)_2)_0)</p>\n<p>I tried debugging it to see step by step but still couldn't understand it at all</p>\n"},{"tags":["java","spring","maven","spring-boot"],"answers":[{"comments":[{"owner":{"display_name":"user2577576"},"score":1,"creation_date":1566766537,"post_id":57648869,"comment_id":101749828,"body_markdown":"I appreciate you taking the time to answer, but you haven&#39;t really touched on why running the spring-boot:run goal causes other phases to be run. Would you mind clarifying how this works?","body":"I appreciate you taking the time to answer, but you haven&#39;t really touched on why running the spring-boot:run goal causes other phases to be run. Would you mind clarifying how this works?"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1566768498,"post_id":57648869,"comment_id":101750197,"body_markdown":"In the [introduction to the maven lifecycle link](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html), there is some answers, but I think that this [bealdung article](https://www.baeldung.com/maven-goals-phases) (I encourage you to give it a try ;)) gives us what we are looking for: _To run a specific goal, without executing its entire phase **(and the preceding phases)** we can use the command: mvn &lt;PLUGIN&gt;:&lt;GOAL&gt;_","body":"In the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">introduction to the maven lifecycle link</a>, there is some answers, but I think that this <a href=\"https://www.baeldung.com/maven-goals-phases\" rel=\"nofollow noreferrer\">bealdung article</a> (I encourage you to give it a try ;)) gives us what we are looking for: <i>To run a specific goal, without executing its entire phase <b>(and the preceding phases)</b> we can use the command: mvn &lt;PLUGIN&gt;:&lt;GOAL&gt;</i>"},{"owner":{"display_name":"user2577576"},"score":0,"creation_date":1566775166,"post_id":57648869,"comment_id":101751242,"body_markdown":"I understand that, but that&#39;s not what I was asking. In my question, I pointed out that running the spring-boot:run goal runs other phases as well, seemingly in direct contradiction with what you&#39;re saying. I&#39;m trying to figure out why that is.","body":"I understand that, but that&#39;s not what I was asking. In my question, I pointed out that running the spring-boot:run goal runs other phases as well, seemingly in direct contradiction with what you&#39;re saying. I&#39;m trying to figure out why that is."},{"owner":{"display_name":"user2577576"},"score":0,"creation_date":1586112646,"post_id":57648869,"comment_id":108001205,"body_markdown":"After learning a lot more about Maven, my apologies for my misled previous comments. I had a fundamental misunderstanding about Maven as a whole, and this appears to be the correct answer.","body":"After learning a lot more about Maven, my apologies for my misled previous comments. I had a fundamental misunderstanding about Maven as a whole, and this appears to be the correct answer."},{"owner":{"account_id":10761221,"reputation":543,"user_id":7917574,"display_name":"metters"},"score":0,"creation_date":1610886858,"post_id":57648869,"comment_id":116268327,"body_markdown":"The URL to the official documentation 404&#39;d. I think it should be this one now: https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins.html#build-tool-plugins","body":"The URL to the official documentation 404&#39;d. I think it should be this one now: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins.html#build-tool-plugins\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"comment_count":5,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1696325190,"creation_date":1566759445,"answer_id":57648869,"question_id":57647483,"body_markdown":"&gt; Is spring-boot:run a goal as I understand it to be\r\n\r\nIn fact, `spring-boot` is a maven plugin and `run` is one of its goals.\r\n\r\nHere is [the official documentation][1] of this plugin.\r\n\r\nIn that documentation, I didn&#39;t find the default maven phase in which this goal is executed. But from the  [GitHub source code][2], I founnd out that this goal is executed in the `TEST_COMPILE` phase.\r\n\r\n&gt; only specifying a phase as a target will run the other previous phases in order, not directly specifying a goal.\r\n\r\nIn fact, this is how maven works. Here is an [introduction to the maven lifecycle][3].\r\n\r\n&gt; Where is the configuration file for all of this located?\r\n\r\nIt is defined in your spring-boot pom parent:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot-starter-parent.version}&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-tools/spring-boot-maven-plugin/src/main/java/org/springframework/boot/maven/RunMojo.java\r\n  [3]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"How does spring-boot:run work with maven?","body":"<blockquote>\n<p>Is spring-boot:run a goal as I understand it to be</p>\n</blockquote>\n<p>In fact, <code>spring-boot</code> is a maven plugin and <code>run</code> is one of its goals.</p>\n<p>Here is <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using\" rel=\"nofollow noreferrer\">the official documentation</a> of this plugin.</p>\n<p>In that documentation, I didn't find the default maven phase in which this goal is executed. But from the  <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-tools/spring-boot-maven-plugin/src/main/java/org/springframework/boot/maven/RunMojo.java\" rel=\"nofollow noreferrer\">GitHub source code</a>, I founnd out that this goal is executed in the <code>TEST_COMPILE</code> phase.</p>\n<blockquote>\n<p>only specifying a phase as a target will run the other previous phases in order, not directly specifying a goal.</p>\n</blockquote>\n<p>In fact, this is how maven works. Here is an <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">introduction to the maven lifecycle</a>.</p>\n<blockquote>\n<p>Where is the configuration file for all of this located?</p>\n</blockquote>\n<p>It is defined in your spring-boot pom parent:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot-starter-parent.version}&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2577576"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566785345,"creation_date":1566785345,"answer_id":57651079,"question_id":57647483,"body_markdown":"As the other answer misses a bit of the information I was looking for, I thought I&#39;d add the results of my research in case anyone else is curious. Looking in \r\n\r\n&gt; C:\\HOME_DIR\\.m2\\repository\\org\\springframework\\boot\\spring-boot-maven-plugin\\VERSION_NUMBER\\META-INF\\maven\\plugin.xml\r\n\r\n\r\n\r\n gives the configuration file for most of the related goals for spring with maven. Specifically, the snippet below describes how the `spring-boot:run` goal works.\r\n\r\n    &lt;mojo&gt;\r\n          &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;description&gt;Run an executable archive application.&lt;/description&gt;\r\n          &lt;requiresDependencyResolution&gt;test&lt;/requiresDependencyResolution&gt;\r\n          &lt;requiresDirectInvocation&gt;false&lt;/requiresDirectInvocation&gt;\r\n          &lt;requiresProject&gt;true&lt;/requiresProject&gt;\r\n          &lt;requiresReports&gt;false&lt;/requiresReports&gt;\r\n          &lt;aggregator&gt;false&lt;/aggregator&gt;\r\n          &lt;requiresOnline&gt;false&lt;/requiresOnline&gt;\r\n          &lt;inheritedByDefault&gt;true&lt;/inheritedByDefault&gt;\r\n          &lt;phase&gt;validate&lt;/phase&gt;\r\n          &lt;executePhase&gt;test-compile&lt;/executePhase&gt;\r\n          &lt;implementation&gt;org.springframework.boot.maven.RunMojo&lt;/implementation&gt;\r\n          &lt;language&gt;java&lt;/language&gt;\r\n          &lt;instantiationStrategy&gt;per-lookup&lt;/instantiationStrategy&gt;\r\n          &lt;executionStrategy&gt;once-per-session&lt;/executionStrategy&gt;\r\n          &lt;since&gt;1.0.0&lt;/since&gt;\r\n          &lt;threadSafe&gt;false&lt;/threadSafe&gt;\r\n          ...\r\n    &lt;/mojo&gt;\r\n\r\nSpecifically, the `&lt;executePhase&gt;` tag (detailed partially at https://maven.apache.org/developers/mojo-api-specification.html), which (I believe) lets this goal execute a different phase as it&#39;s run.\r\n\r\nI missed this detail before (it doesn&#39;t seem to be documented anywhere very well either). Either way, this explanation is satisfactory enough for me. If anyone finds better documentation for this tag, I&#39;d appreciate a link :)","title":"How does spring-boot:run work with maven?","body":"<p>As the other answer misses a bit of the information I was looking for, I thought I'd add the results of my research in case anyone else is curious. Looking in </p>\n\n<blockquote>\n  <p>C:\\HOME_DIR.m2\\repository\\org\\springframework\\boot\\spring-boot-maven-plugin\\VERSION_NUMBER\\META-INF\\maven\\plugin.xml</p>\n</blockquote>\n\n<p>gives the configuration file for most of the related goals for spring with maven. Specifically, the snippet below describes how the <code>spring-boot:run</code> goal works.</p>\n\n<pre><code>&lt;mojo&gt;\n      &lt;goal&gt;run&lt;/goal&gt;\n      &lt;description&gt;Run an executable archive application.&lt;/description&gt;\n      &lt;requiresDependencyResolution&gt;test&lt;/requiresDependencyResolution&gt;\n      &lt;requiresDirectInvocation&gt;false&lt;/requiresDirectInvocation&gt;\n      &lt;requiresProject&gt;true&lt;/requiresProject&gt;\n      &lt;requiresReports&gt;false&lt;/requiresReports&gt;\n      &lt;aggregator&gt;false&lt;/aggregator&gt;\n      &lt;requiresOnline&gt;false&lt;/requiresOnline&gt;\n      &lt;inheritedByDefault&gt;true&lt;/inheritedByDefault&gt;\n      &lt;phase&gt;validate&lt;/phase&gt;\n      &lt;executePhase&gt;test-compile&lt;/executePhase&gt;\n      &lt;implementation&gt;org.springframework.boot.maven.RunMojo&lt;/implementation&gt;\n      &lt;language&gt;java&lt;/language&gt;\n      &lt;instantiationStrategy&gt;per-lookup&lt;/instantiationStrategy&gt;\n      &lt;executionStrategy&gt;once-per-session&lt;/executionStrategy&gt;\n      &lt;since&gt;1.0.0&lt;/since&gt;\n      &lt;threadSafe&gt;false&lt;/threadSafe&gt;\n      ...\n&lt;/mojo&gt;\n</code></pre>\n\n<p>Specifically, the <code>&lt;executePhase&gt;</code> tag (detailed partially at <a href=\"https://maven.apache.org/developers/mojo-api-specification.html\" rel=\"noreferrer\">https://maven.apache.org/developers/mojo-api-specification.html</a>), which (I believe) lets this goal execute a different phase as it's run.</p>\n\n<p>I missed this detail before (it doesn't seem to be documented anywhere very well either). Either way, this explanation is satisfactory enough for me. If anyone finds better documentation for this tag, I'd appreciate a link :)</p>\n"},{"comments":[{"owner":{"display_name":"user2577576"},"score":1,"creation_date":1566838074,"post_id":57651684,"comment_id":101772722,"body_markdown":"I understand everything you said here, but my question was primarily *why* running the goal directly runs other phases, as I pointed out in my question. This is seemingly in direct contradiction with what you&#39;ve said here (&quot;when you run goals directly like this it completely bypasses the lifecycle execution with phases and everything&quot;). Do you have any clues as to *why* running a direct goal ends up running other phases, in the case of spring-boot:run?","body":"I understand everything you said here, but my question was primarily <i>why</i> running the goal directly runs other phases, as I pointed out in my question. This is seemingly in direct contradiction with what you&#39;ve said here (&quot;when you run goals directly like this it completely bypasses the lifecycle execution with phases and everything&quot;). Do you have any clues as to <i>why</i> running a direct goal ends up running other phases, in the case of spring-boot:run?"}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566792988,"creation_date":1566792988,"answer_id":57651684,"question_id":57647483,"body_markdown":"To directly answer your question from maven&#39;s standpoint:\r\n\r\nAll the stuff about the lifecycles, phases and associated plugins - you&#39;ve got it correctly.\r\n\r\nHowever, you miss one point, in maven it is possible to **directly** run plugin&#39;s **goal**.\r\nThink about these goals as logical unit of code that does something, a class with method &quot;main&quot; if you wish that you can run, give it parameters and so forth.\r\n\r\nIn maven&#39;s plugins world, a piece of code in plugin associated with a goal is called a Mojo, a class that maven can execute.\r\n\r\nSo one plugin contains at least one mojo, its possible that it will contain many if plugin developers decide that it should do many related things. Here is an [example][1] of a plugin having 4 different goals ( Mojos in code of the plugin itself) as of now.\r\n\r\nSo, the syntax of this direct invocation is:\r\n\r\n    mvn plugin-groupId:plugin-artifactId:plugin-version:goal\r\n    mvn plugin-groupId:plugin-artifactId:goal\r\n    mvn plugin-prefix:goal\r\n\r\nUnder some conditions (see [official maven documentation][2]), you can omit some of this syntax and this is exactly what happens in your case.\r\n\r\nOf course, when you run goals directly like this it completely bypasses the lifecycle execution with phases and everything, so if you, say, want to run directly the goal of tests, but you&#39;ve never compiled the tests, it will fail. Example:\r\n\r\n    mvn test // run all phases of the default lifecycle including compilation, tests \r\n             // compilation, test execution - will succeed on a &quot;clean&quot; project\r\n\r\n    mvn surefire:test // run directly a goal called &quot;test&quot; inside plugin called &quot;surefire&quot;\r\n\r\n\r\nThe same thing happens with `mvn spring-boot:run` \r\n\r\nYou&#39;re running spring boot maven plugin, maven resolves the version of the plugin to the version of the build since you don&#39;t specify it and then runs a goal called &quot;run&quot;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-resources-plugin/plugin-info.html\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-plugin-prefix-mapping.html","title":"How does spring-boot:run work with maven?","body":"<p>To directly answer your question from maven's standpoint:</p>\n\n<p>All the stuff about the lifecycles, phases and associated plugins - you've got it correctly.</p>\n\n<p>However, you miss one point, in maven it is possible to <strong>directly</strong> run plugin's <strong>goal</strong>.\nThink about these goals as logical unit of code that does something, a class with method \"main\" if you wish that you can run, give it parameters and so forth.</p>\n\n<p>In maven's plugins world, a piece of code in plugin associated with a goal is called a Mojo, a class that maven can execute.</p>\n\n<p>So one plugin contains at least one mojo, its possible that it will contain many if plugin developers decide that it should do many related things. Here is an <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/plugin-info.html\" rel=\"nofollow noreferrer\">example</a> of a plugin having 4 different goals ( Mojos in code of the plugin itself) as of now.</p>\n\n<p>So, the syntax of this direct invocation is:</p>\n\n<pre><code>mvn plugin-groupId:plugin-artifactId:plugin-version:goal\nmvn plugin-groupId:plugin-artifactId:goal\nmvn plugin-prefix:goal\n</code></pre>\n\n<p>Under some conditions (see <a href=\"https://maven.apache.org/guides/introduction/introduction-to-plugin-prefix-mapping.html\" rel=\"nofollow noreferrer\">official maven documentation</a>), you can omit some of this syntax and this is exactly what happens in your case.</p>\n\n<p>Of course, when you run goals directly like this it completely bypasses the lifecycle execution with phases and everything, so if you, say, want to run directly the goal of tests, but you've never compiled the tests, it will fail. Example:</p>\n\n<pre><code>mvn test // run all phases of the default lifecycle including compilation, tests \n         // compilation, test execution - will succeed on a \"clean\" project\n\nmvn surefire:test // run directly a goal called \"test\" inside plugin called \"surefire\"\n</code></pre>\n\n<p>The same thing happens with <code>mvn spring-boot:run</code> </p>\n\n<p>You're running spring boot maven plugin, maven resolves the version of the plugin to the version of the build since you don't specify it and then runs a goal called \"run\"</p>\n"}],"owner":{"display_name":"user2577576"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11165,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57648869,"answer_count":3,"score":6,"last_activity_date":1696325190,"creation_date":1566747882,"question_id":57647483,"body_markdown":"I&#39;m learning the maven build process, and there&#39;s on point of contention that stands out as not making a whole lot of sense. \r\n\r\nThe way I understand maven, there&#39;s the default lifecycles (default, site, clean), each of which has multiple phases. There are some built-in plugins associated with a few phases, and by adding additional plugins, you are able to add extra functionality to the pre-existing phases. \r\n\r\nWhen you specify a phase to run directly within maven, it will go through all the phases up to this point within the same lifecycle, and end with executing your specified phase. To the best of my knowledge however, `spring-boot:run` is a goal, and thus should not invoke other phases when run. That being said, running `spring-boot:run` via maven does run other phases (`default-cli`, `pre-unit-test`, `default-resources`, `reserve-container-port`, and some others). It looks to me that spring has created some new phases (`reserve-container-port` for instance), but I&#39;m not sure how to find the jar file in which the configuration for these is located.\r\n\r\nMy questions thus are twofold:\r\n\r\n1. Is `spring-boot:run` a goal as I understand it to be? If so, how does running this goal in turn run other phases? To the best of my knowledge, only specifying a phase as a target will run the other previous phases in order, not directly specifying a goal.\r\n2. Where is the configuration file for all of this located? In which spring jar file can I find the configuration file that lets all of the above work correctly.","title":"How does spring-boot:run work with maven?","body":"<p>I'm learning the maven build process, and there's on point of contention that stands out as not making a whole lot of sense. </p>\n\n<p>The way I understand maven, there's the default lifecycles (default, site, clean), each of which has multiple phases. There are some built-in plugins associated with a few phases, and by adding additional plugins, you are able to add extra functionality to the pre-existing phases. </p>\n\n<p>When you specify a phase to run directly within maven, it will go through all the phases up to this point within the same lifecycle, and end with executing your specified phase. To the best of my knowledge however, <code>spring-boot:run</code> is a goal, and thus should not invoke other phases when run. That being said, running <code>spring-boot:run</code> via maven does run other phases (<code>default-cli</code>, <code>pre-unit-test</code>, <code>default-resources</code>, <code>reserve-container-port</code>, and some others). It looks to me that spring has created some new phases (<code>reserve-container-port</code> for instance), but I'm not sure how to find the jar file in which the configuration for these is located.</p>\n\n<p>My questions thus are twofold:</p>\n\n<ol>\n<li>Is <code>spring-boot:run</code> a goal as I understand it to be? If so, how does running this goal in turn run other phases? To the best of my knowledge, only specifying a phase as a target will run the other previous phases in order, not directly specifying a goal.</li>\n<li>Where is the configuration file for all of this located? In which spring jar file can I find the configuration file that lets all of the above work correctly.</li>\n</ol>\n"},{"tags":["java","file","inputstream","snakeyaml"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1538319063,"post_id":52578930,"comment_id":92093027,"body_markdown":"have you tried complete path?","body":"have you tried complete path?"},{"owner":{"account_id":4671367,"reputation":426,"user_id":3783087,"accept_rate":100,"display_name":"Matt"},"score":0,"creation_date":1538319287,"post_id":52578930,"comment_id":92093086,"body_markdown":"@Deadpool Yeah, unfortunately didn&#39;t work either.","body":"@Deadpool Yeah, unfortunately didn&#39;t work either."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1538319611,"post_id":52578930,"comment_id":92093188,"body_markdown":"You&#39;re trying to load it as a resource - is it available within the classpath? Is there any reason you&#39;re not using a `FileInputStream`?","body":"You&#39;re trying to load it as a resource - is it available within the classpath? Is there any reason you&#39;re not using a <code>FileInputStream</code>?"},{"owner":{"account_id":4671367,"reputation":426,"user_id":3783087,"accept_rate":100,"display_name":"Matt"},"score":0,"creation_date":1538319931,"post_id":52578930,"comment_id":92093276,"body_markdown":"@JonSkeet The reason was just because I was following thishttps://www.baeldung.com/java-snake-yaml.","body":"@JonSkeet The reason was just because I was following thishttps://www.baeldung.com/java-snake-yaml."},{"owner":{"account_id":4671367,"reputation":426,"user_id":3783087,"accept_rate":100,"display_name":"Matt"},"score":0,"creation_date":1538319967,"post_id":52578930,"comment_id":92093283,"body_markdown":"@JonSkeet But well, it worked as soon as I swapped to `FileInputStream`, thank you!","body":"@JonSkeet But well, it worked as soon as I swapped to <code>FileInputStream</code>, thank you!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696325014,"post_id":52578930,"comment_id":136135238,"body_markdown":"It is not `InputStream` but `getResourceAsStream()` that can&#39;t find the file. Be accurate. And all the stuff about `exists()/createNewFile()` is just a waste of time. Either the resource is present or it isn&#39;t, which isn&#39;t a runtime condition, it is a matter of whether you packaged your JAR file correctly: so a simple test for `null` would suffice.","body":"It is not <code>InputStream</code> but <code>getResourceAsStream()</code> that can&#39;t find the file. Be accurate. And all the stuff about <code>exists()&#47;createNewFile()</code> is just a waste of time. Either the resource is present or it isn&#39;t, which isn&#39;t a runtime condition, it is a matter of whether you packaged your JAR file correctly: so a simple test for <code>null</code> would suffice."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696325048,"post_id":52579101,"comment_id":136135242,"body_markdown":"`user.dir` has nothing to do with it. OP Is loading it as a resource.","body":"<code>user.dir</code> has nothing to do with it. OP Is loading it as a resource."}],"tags":[],"owner":{"account_id":4972923,"reputation":176,"user_id":4000124,"display_name":"Evris Tzam"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538319724,"creation_date":1538319724,"answer_id":52579101,"question_id":52578930,"body_markdown":"You need to add a `&#39;/&#39;` for specifying the correct path when using `System.getProperty(&quot;user.dir&quot;)`.\r\n\r\nSo, maybe you have to write\r\n\r\n`System.getProperty(&quot;user.dir&quot;) + &quot;/&quot; + configFile.getName()`.","title":"getResourceAsStream() can&#39;t find file","body":"<p>You need to add a <code>'/'</code> for specifying the correct path when using <code>System.getProperty(\"user.dir\")</code>.</p>\n\n<p>So, maybe you have to write</p>\n\n<p><code>System.getProperty(\"user.dir\") + \"/\" + configFile.getName()</code>.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696325088,"post_id":77220930,"comment_id":136135251,"body_markdown":"OP is already using `getClassLoader()`. Read the question.","body":"OP is already using <code>getClassLoader()</code>. Read the question."}],"tags":[],"owner":{"account_id":29561671,"reputation":1,"user_id":22656048,"display_name":"Oleksandr"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696323778,"creation_date":1696323778,"answer_id":77220930,"question_id":52578930,"body_markdown":"In case YAML file is a resource and in classPath you can use &#39;getClassLoader&#39;:\r\n\r\n    public KafkaConfig getKafkaConfigCl() throws IOException {\r\n        Yaml yaml = new Yaml();\r\n        InputStream inputStream = this.getClass()\r\n                .getClassLoader()\r\n                .getResourceAsStream(&quot;application.yaml&quot;);\r\n        return yaml.loadAs(inputStream, KafkaConfig.class);\r\n    }\r\n\r\nBut, when file is out of classPath use &#39;FileInputStream&#39;:\r\n\r\n    public KafkaConfig getKafkaConfig() throws IOException {\r\n        Yaml yaml = new Yaml();\r\n        File file = new File(yamlFilePath);\r\n        FileInputStream inputStream = new FileInputStream(file);\r\n        return yaml.loadAs(inputStream, KafkaConfig.class);\r\n    }","title":"getResourceAsStream() can&#39;t find file","body":"<p>In case YAML file is a resource and in classPath you can use 'getClassLoader':</p>\n<pre><code>public KafkaConfig getKafkaConfigCl() throws IOException {\n    Yaml yaml = new Yaml();\n    InputStream inputStream = this.getClass()\n            .getClassLoader()\n            .getResourceAsStream(&quot;application.yaml&quot;);\n    return yaml.loadAs(inputStream, KafkaConfig.class);\n}\n</code></pre>\n<p>But, when file is out of classPath use 'FileInputStream':</p>\n<pre><code>public KafkaConfig getKafkaConfig() throws IOException {\n    Yaml yaml = new Yaml();\n    File file = new File(yamlFilePath);\n    FileInputStream inputStream = new FileInputStream(file);\n    return yaml.loadAs(inputStream, KafkaConfig.class);\n}\n</code></pre>\n"}],"owner":{"account_id":4671367,"reputation":426,"user_id":3783087,"accept_rate":100,"display_name":"Matt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1696325130,"creation_date":1538318558,"question_id":52578930,"body_markdown":"I&#39;m trying to open a YAML file using the InputStream to use on SnakeYAML.\r\nThough I have encountered a problem, the file is always being null, no matter what I tried, here is my code:\r\n\r\n    this.configFile = new File(&quot;config.yml&quot;);\r\n    this.yaml = new Yaml();\r\n    \r\n    if (!configFile.exists()) {\r\n        try {\r\n            configFile.createNewFile();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    InputStream inputStream = this.getClass()\r\n            .getClassLoader()\r\n            .getResourceAsStream(configFile.getName());\r\n    \r\n    Map&lt;String, Object&gt; obj = yaml.load(inputStream);\r\n    System.out.println(obj);\r\n\r\nI&#39;ve tried to directly type &quot;config.yml&quot; instead of &quot;configFile.getName()&quot; I even tried `System.getProperty(&quot;user.dir&quot;) + configFile.getName()` but it always returns null and gives the error `org.yaml.snakeyaml.error.YAMLException: java.io.IOException: Stream closed`.\r\n\r\nI am sure the file exists as I can see it and edit and it is in the project folder, I just can&#39;t seem to be able to access it.  \r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oSubm.png\r\n  [2]: https://i.stack.imgur.com/PLQIH.png","title":"getResourceAsStream() can&#39;t find file","body":"<p>I'm trying to open a YAML file using the InputStream to use on SnakeYAML.\nThough I have encountered a problem, the file is always being null, no matter what I tried, here is my code:</p>\n\n<pre><code>this.configFile = new File(\"config.yml\");\nthis.yaml = new Yaml();\n\nif (!configFile.exists()) {\n    try {\n        configFile.createNewFile();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nInputStream inputStream = this.getClass()\n        .getClassLoader()\n        .getResourceAsStream(configFile.getName());\n\nMap&lt;String, Object&gt; obj = yaml.load(inputStream);\nSystem.out.println(obj);\n</code></pre>\n\n<p>I've tried to directly type \"config.yml\" instead of \"configFile.getName()\" I even tried <code>System.getProperty(\"user.dir\") + configFile.getName()</code> but it always returns null and gives the error <code>org.yaml.snakeyaml.error.YAMLException: java.io.IOException: Stream closed</code>.</p>\n\n<p>I am sure the file exists as I can see it and edit and it is in the project folder, I just can't seem to be able to access it.<br>\n<a href=\"https://i.stack.imgur.com/oSubm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oSubm.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/PLQIH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PLQIH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","stripe-payments","webhooks","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696067691,"creation_date":1696067691,"answer_id":77206515,"question_id":77205676,"body_markdown":"Metadata is the best idea in my opinion.\r\n\r\nYour initial plan with Webhooks isn&#39;t impossible, but has problems:  \r\n\r\nFor one - I believe the limit of Webhook endpoints per Stripe account is 16.  \r\n\r\nThat&#39;s not necessarily a problematic limitation, since you might be asking your Landlords to create a Stripe account for their business.  \r\nBut that would shift the responsibility of setting Webhooks to your Landlords - Stripe doesn&#39;t allow you to create Webhook endpoints on behalf of connected accounts.\r\n \r\nYour two options would then be:  \r\n-Get Landlords to create a Webhook endpoint themselves  \r\n-Ask for their Secret API key to do it for them \r\n\r\nIncidentally, I believe this is how WooCommerce does things.  \r\nThe problem with this is that your Landlords will make every mistake imaginable when providing the secret key or setting up webhooks, so I would be on the side of involving them the least.\r\n\r\nWhich is why I would recommend metadata over Webhooks for this application.","title":"Stripe Webhooks in Multitenancy","body":"<p>Metadata is the best idea in my opinion.</p>\n<p>Your initial plan with Webhooks isn't impossible, but has problems:</p>\n<p>For one - I believe the limit of Webhook endpoints per Stripe account is 16.</p>\n<p>That's not necessarily a problematic limitation, since you might be asking your Landlords to create a Stripe account for their business.<br />\nBut that would shift the responsibility of setting Webhooks to your Landlords - Stripe doesn't allow you to create Webhook endpoints on behalf of connected accounts.</p>\n<p>Your two options would then be:<br />\n-Get Landlords to create a Webhook endpoint themselves<br />\n-Ask for their Secret API key to do it for them</p>\n<p>Incidentally, I believe this is how WooCommerce does things.<br />\nThe problem with this is that your Landlords will make every mistake imaginable when providing the secret key or setting up webhooks, so I would be on the side of involving them the least.</p>\n<p>Which is why I would recommend metadata over Webhooks for this application.</p>\n"}],"owner":{"account_id":22239789,"reputation":1,"user_id":16474513,"display_name":"Sapumal W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696324408,"creation_date":1696048433,"question_id":77205676,"body_markdown":"I&#39;m currently in the process of developing a SaaS application, and I&#39;m utilizing Stripe for payment processing. The nature of my application is subscription-based, meaning customers pay for recurring services. To maintain multi-tenancy, I&#39;ve implemented a schema-based approach, and each incoming request is identified by a custom tenant attribute known as &quot;x-tenantid.&quot; This attribute allows us to differentiate between various API callers and perform database operations specific to their respective tenants.\r\n\r\nHowever, I&#39;ve encountered a challenge related to Stripe&#39;s webhooks. I&#39;m using more than 10 webhooks in my application, but there doesn&#39;t seem to be a straightforward way to include custom headers in these webhook requests. This limitation has prompted me to explore alternative solutions.\r\n\r\nOne idea I&#39;ve considered is storing relevant metadata in the Stripe customer records. When a webhook is triggered, I could retrieve this metadata and use it to establish the tenant context for further processing. I&#39;m curious to know if this approach is considered best practice or if there might be a more suitable solution. Your insights would be greatly appreciated.\r\n\r\nI thought implementing tenant validation in Stripe webhooks by storing metadata in Stripe customer records. I expected this approach to enable me to establish the tenant context when a webhook is triggered, allowing for multi-tenancy support. However, I&#39;d like to know if this is a recommended practice or if there&#39;s a more appropriate solution.\r\n\r\n\r\n**Edited: My solution**\r\n\r\nFlow:\r\nstripe webhook =&gt; webhook controller =&gt; webhook service\r\n\r\nI extract the tenant information from the metadata, and I&#39;ve implemented a method that sets the tenant context and schema before persisting data within a particular service method in my Java code.\r\n\r\n    private void setTenantContextAndSchema(Customer customer) {\r\n            Map&lt;String, String&gt; metaData = customer.getMetadata();\r\n            TenantContext.setCurrentTenant(metaData.get(&quot;x-tenantid&quot;));\r\n    \r\n            Session session = entityManager.unwrap(Session.class);\r\n            session.doWork(connection -&gt; {\r\n                try (Statement statement = connection.createStatement()) {\r\n                    statement.execute(&quot;USE &quot; + TenantContext.getCurrentTenant());\r\n                }\r\n            });\r\n    }\r\n\r\nI&#39;ve followed this approach to update distinct schemas for individual customers. While it has successfully addressed the requirements, I welcome any suggestions or feedback on potentially better methods to achieve the same result.","title":"Stripe Webhooks in Multitenancy","body":"<p>I'm currently in the process of developing a SaaS application, and I'm utilizing Stripe for payment processing. The nature of my application is subscription-based, meaning customers pay for recurring services. To maintain multi-tenancy, I've implemented a schema-based approach, and each incoming request is identified by a custom tenant attribute known as &quot;x-tenantid.&quot; This attribute allows us to differentiate between various API callers and perform database operations specific to their respective tenants.</p>\n<p>However, I've encountered a challenge related to Stripe's webhooks. I'm using more than 10 webhooks in my application, but there doesn't seem to be a straightforward way to include custom headers in these webhook requests. This limitation has prompted me to explore alternative solutions.</p>\n<p>One idea I've considered is storing relevant metadata in the Stripe customer records. When a webhook is triggered, I could retrieve this metadata and use it to establish the tenant context for further processing. I'm curious to know if this approach is considered best practice or if there might be a more suitable solution. Your insights would be greatly appreciated.</p>\n<p>I thought implementing tenant validation in Stripe webhooks by storing metadata in Stripe customer records. I expected this approach to enable me to establish the tenant context when a webhook is triggered, allowing for multi-tenancy support. However, I'd like to know if this is a recommended practice or if there's a more appropriate solution.</p>\n<p><strong>Edited: My solution</strong></p>\n<p>Flow:\nstripe webhook =&gt; webhook controller =&gt; webhook service</p>\n<p>I extract the tenant information from the metadata, and I've implemented a method that sets the tenant context and schema before persisting data within a particular service method in my Java code.</p>\n<pre><code>private void setTenantContextAndSchema(Customer customer) {\n        Map&lt;String, String&gt; metaData = customer.getMetadata();\n        TenantContext.setCurrentTenant(metaData.get(&quot;x-tenantid&quot;));\n\n        Session session = entityManager.unwrap(Session.class);\n        session.doWork(connection -&gt; {\n            try (Statement statement = connection.createStatement()) {\n                statement.execute(&quot;USE &quot; + TenantContext.getCurrentTenant());\n            }\n        });\n}\n</code></pre>\n<p>I've followed this approach to update distinct schemas for individual customers. While it has successfully addressed the requirements, I welcome any suggestions or feedback on potentially better methods to achieve the same result.</p>\n"},{"tags":["java","or-tools","unsatisfiedlinkerror","cp-sat-solver"],"comments":[{"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"score":0,"creation_date":1696320527,"post_id":77220401,"comment_id":136134438,"body_markdown":"version ? platform ? java version ? Are they the same on mac and on windows?","body":"version ? platform ? java version ? Are they the same on mac and on windows?"},{"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"score":0,"creation_date":1696321066,"post_id":77220401,"comment_id":136134531,"body_markdown":"Note that `OrToolsHelper.loadLibrary();` has never been document, or used in any distributed examples, and thus should not be used.","body":"Note that <code>OrToolsHelper.loadLibrary();</code> has never been document, or used in any distributed examples, and thus should not be used."},{"owner":{"account_id":26664272,"reputation":9,"user_id":20276619,"display_name":"Rajveer Sodhi"},"score":0,"creation_date":1696321891,"post_id":77220401,"comment_id":136134667,"body_markdown":"@LaurentPerron, thank you for letting me know. I will update my program accordingly. Do you have any solution to the problem I&#39;m facing after implementing `Loader.loadNativeLibraries()`? I have the same version of Java on both the Windows and macOS machines - 19.0.2. Please let me know any other information you need - this is my first time posting on Stackoverflow. The code being run is identical on both machines.","body":"@LaurentPerron, thank you for letting me know. I will update my program accordingly. Do you have any solution to the problem I&#39;m facing after implementing <code>Loader.loadNativeLibraries()</code>? I have the same version of Java on both the Windows and macOS machines - 19.0.2. Please let me know any other information you need - this is my first time posting on Stackoverflow. The code being run is identical on both machines."},{"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"score":0,"creation_date":1696322749,"post_id":77220401,"comment_id":136134802,"body_markdown":"jna version ? or-tools version ? is it a arm64 mac or an intel one ?","body":"jna version ? or-tools version ? is it a arm64 mac or an intel one ?"},{"owner":{"account_id":26664272,"reputation":9,"user_id":20276619,"display_name":"Rajveer Sodhi"},"score":0,"creation_date":1696323660,"post_id":77220401,"comment_id":136134961,"body_markdown":"@LaurentPerron - OR-Tools version 9.7.2996 on an M1 Pro chip. I&#39;m sorry but I don&#39;t know how to check the JNA version.","body":"@LaurentPerron - OR-Tools version 9.7.2996 on an M1 Pro chip. I&#39;m sorry but I don&#39;t know how to check the JNA version."},{"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"score":0,"creation_date":1696324184,"post_id":77220401,"comment_id":136135080,"body_markdown":"this is a java library. Make sure it is the latest.","body":"this is a java library. Make sure it is the latest."}],"answers":[{"tags":[],"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696324275,"creation_date":1696324275,"answer_id":77220982,"question_id":77220401,"body_markdown":"Have a look at this [issue][1] on the OR-Tools github.\r\n\r\nMost likely the issue is that you need to force the jna dependency in the maven configuration file to use the latest version.\r\n\r\n\r\n  [1]: https://github.com/google/or-tools/issues/3930","title":"Java App Using CP-SAT works on Windows, but not macOS","body":"<p>Have a look at this <a href=\"https://github.com/google/or-tools/issues/3930\" rel=\"nofollow noreferrer\">issue</a> on the OR-Tools github.</p>\n<p>Most likely the issue is that you need to force the jna dependency in the maven configuration file to use the latest version.</p>\n"}],"owner":{"account_id":26664272,"reputation":9,"user_id":20276619,"display_name":"Rajveer Sodhi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696324275,"creation_date":1696318100,"question_id":77220401,"body_markdown":"I am working on an application which integrates the CP-SAT functionality from Google OR-Tools. It runs perfectly on my Windows machine, but running the exact same code in IntelliJ on my MacBook leads to this error:\r\n\r\n\r\n\r\n```\r\nException in thread &quot;Thread-1&quot; java.lang.UnsatisfiedLinkError: \r\nCan&#39;t load library: /var/folders/fh/p53vbgc50gq9h80kn950pvnh0000gn/T/ortools-java17235137568310781234/darwin/libjniortools.dylib\r\n```\r\n\r\nI am a beginner, so I don&#39;t understand what this means, and cannot find any solution.\r\n\r\nI tried changing the library importing code from `OrToolsHelper.loadLibrary();` to `Loader.loadNativeLibraries();`. This helps. The code gets further along, but it still shows another Unsatisfied Link Error:\r\n```\r\nException in thread &quot;Thread-1&quot; java.lang.UnsatisfiedLinkError: \r\nbyte[] com.google.ortools.sat.mainJNI.SatHelper_solveWithParameters(byte[], byte[])\r\n```","title":"Java App Using CP-SAT works on Windows, but not macOS","body":"<p>I am working on an application which integrates the CP-SAT functionality from Google OR-Tools. It runs perfectly on my Windows machine, but running the exact same code in IntelliJ on my MacBook leads to this error:</p>\n<pre><code>Exception in thread &quot;Thread-1&quot; java.lang.UnsatisfiedLinkError: \nCan't load library: /var/folders/fh/p53vbgc50gq9h80kn950pvnh0000gn/T/ortools-java17235137568310781234/darwin/libjniortools.dylib\n</code></pre>\n<p>I am a beginner, so I don't understand what this means, and cannot find any solution.</p>\n<p>I tried changing the library importing code from <code>OrToolsHelper.loadLibrary();</code> to <code>Loader.loadNativeLibraries();</code>. This helps. The code gets further along, but it still shows another Unsatisfied Link Error:</p>\n<pre><code>Exception in thread &quot;Thread-1&quot; java.lang.UnsatisfiedLinkError: \nbyte[] com.google.ortools.sat.mainJNI.SatHelper_solveWithParameters(byte[], byte[])\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2180566,"reputation":1805,"user_id":1930161,"display_name":"Allahbakash.G"},"score":0,"creation_date":1623224424,"post_id":23732089,"comment_id":120014631,"body_markdown":"Found Useful examples here https://www.programcreek.com/java-api-examples/?api=org.springframework.core.task.TaskDecorator","body":"Found Useful examples here <a href=\"https://www.programcreek.com/java-api-examples/?api=org.springframework.core.task.TaskDecorator\" rel=\"nofollow noreferrer\">programcreek.com/java-api-examples/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1178872,"reputation":400,"user_id":1154248,"accept_rate":0,"display_name":"Shafs Jan"},"score":0,"creation_date":1507299073,"post_id":26397399,"comment_id":80167232,"body_markdown":"hey, do you know how can we retain the request object after the async has been triggered. \nI am losing the request object as soon as the request is completed but async is still going on.\n\nI could retain the requestattribute using RequestAttributeHolder but the request inside the attribute is losing all the properties such as URI, Headers, Attributes which are related to request. Any option to retain, either by creating a new copy and keep or clone like that.","body":"hey, do you know how can we retain the request object after the async has been triggered.  I am losing the request object as soon as the request is completed but async is still going on.  I could retain the requestattribute using RequestAttributeHolder but the request inside the attribute is losing all the properties such as URI, Headers, Attributes which are related to request. Any option to retain, either by creating a new copy and keep or clone like that."},{"owner":{"account_id":4659262,"reputation":666,"user_id":3773920,"display_name":"Thilak"},"score":0,"creation_date":1507694770,"post_id":26397399,"comment_id":80307156,"body_markdown":"The easiest way is to just pass the required attributes related to request as input method parameter, while invoking the async task","body":"The easiest way is to just pass the required attributes related to request as input method parameter, while invoking the async task"}],"tags":[],"owner":{"account_id":4659262,"reputation":666,"user_id":3773920,"display_name":"Thilak"},"comment_count":2,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1413456446,"creation_date":1413439881,"answer_id":26397399,"question_id":23732089,"body_markdown":" There is no way to get a request scoped object in an child async thread, since the original parent request processing thread may have already committed the response to the client and all the request objects are destroyed. One way to handle such scenarios is to use custom scope, like [SimpleThreadScope][1].\r\n\r\none problem with SimpleThreadScope is that the child threads will not inherit parents scope variables, because it uses simple ThreadLocal internally. To overcome that implement a custom scope which is exactly similar to SimpleThreadScope but uses InheritableThreadLocal internally. For more info reg this \r\nhttps://stackoverflow.com/questions/14986519/spring-mvc-how-to-use-a-request-scoped-bean-inside-a-spawned-thread\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/3.2.x/spring-context/src/main/java/org/springframework/context/support/SimpleThreadScope.java#L59 &quot;SimpleThreadScope&quot;","title":"How to enable request scope in async task executor","body":"<p>There is no way to get a request scoped object in an child async thread, since the original parent request processing thread may have already committed the response to the client and all the request objects are destroyed. One way to handle such scenarios is to use custom scope, like <a href=\"https://github.com/spring-projects/spring-framework/blob/3.2.x/spring-context/src/main/java/org/springframework/context/support/SimpleThreadScope.java#L59\" rel=\"noreferrer\" title=\"SimpleThreadScope\">SimpleThreadScope</a>.</p>\n\n<p>one problem with SimpleThreadScope is that the child threads will not inherit parents scope variables, because it uses simple ThreadLocal internally. To overcome that implement a custom scope which is exactly similar to SimpleThreadScope but uses InheritableThreadLocal internally. For more info reg this \n<a href=\"https://stackoverflow.com/questions/14986519/spring-mvc-how-to-use-a-request-scoped-bean-inside-a-spawned-thread\">Spring MVC: How to use a request-scoped bean inside a spawned thread?</a></p>\n"},{"comments":[{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":0,"creation_date":1470216401,"post_id":33337838,"comment_id":64853557,"body_markdown":"Worked for me. Only the values of ThreadLocal or MDC need to be preserved. So sorting out that issue.","body":"Worked for me. Only the values of ThreadLocal or MDC need to be preserved. So sorting out that issue."},{"owner":{"account_id":2297872,"reputation":2062,"user_id":2018885,"accept_rate":80,"display_name":"Stefaan Neyts"},"score":0,"creation_date":1488754964,"post_id":33337838,"comment_id":72359159,"body_markdown":"I just used approximately the same solution for the SecurtyContext. This is such a nice and clean fix for this issue! Thanks for sharing!","body":"I just used approximately the same solution for the SecurtyContext. This is such a nice and clean fix for this issue! Thanks for sharing!"},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":11,"creation_date":1503326160,"post_id":33337838,"comment_id":78557484,"body_markdown":"With Spring 4(.3.8) this doesn&#39;t seem to work anymore. The exception is &quot;Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: Cannot ask for request attribute - request is not active anymore!&quot;","body":"With Spring 4(.3.8) this doesn&#39;t seem to work anymore. The exception is &quot;Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: Cannot ask for request attribute - request is not active anymore!&quot;"},{"owner":{"account_id":1178872,"reputation":400,"user_id":1154248,"accept_rate":0,"display_name":"Shafs Jan"},"score":2,"creation_date":1507237335,"post_id":33337838,"comment_id":80142424,"body_markdown":"Still losing the request objects inside.  i am using async and executor service inside. Any idea?","body":"Still losing the request objects inside.  i am using async and executor service inside. Any idea?"},{"owner":{"account_id":1178872,"reputation":400,"user_id":1154248,"accept_rate":0,"display_name":"Shafs Jan"},"score":5,"creation_date":1507299064,"post_id":33337838,"comment_id":80167231,"body_markdown":"hey, do you know how can we retain the request object after the async has been triggered. \nI am losing the request object as soon as the request is completed but async is still going on.\n\nI could retain the requestattribute using RequestAttributeHolder but the request inside the attribute is losing all the properties such as URI, Headers, Attributes which are related to request. Any option to retain, either by creating a new copy and keep or clone like that.","body":"hey, do you know how can we retain the request object after the async has been triggered.  I am losing the request object as soon as the request is completed but async is still going on.  I could retain the requestattribute using RequestAttributeHolder but the request inside the attribute is losing all the properties such as URI, Headers, Attributes which are related to request. Any option to retain, either by creating a new copy and keep or clone like that."},{"owner":{"account_id":3387822,"reputation":1267,"user_id":2843421,"display_name":"Satish"},"score":0,"creation_date":1509082263,"post_id":33337838,"comment_id":80883530,"body_markdown":"@ShafsJan: I&#39;m also facing the same issue as u mentioned, did u get a chance to resolve it ?","body":"@ShafsJan: I&#39;m also facing the same issue as u mentioned, did u get a chance to resolve it ?"},{"owner":{"account_id":1178872,"reputation":400,"user_id":1154248,"accept_rate":0,"display_name":"Shafs Jan"},"score":0,"creation_date":1509384173,"post_id":33337838,"comment_id":80988640,"body_markdown":"No way to implement this. pass the required object to corresponding asyn method and use it.","body":"No way to implement this. pass the required object to corresponding asyn method and use it."},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1517497687,"post_id":33337838,"comment_id":84127687,"body_markdown":"I got this working with spring 4.3.14, but I had to name the Executor bean &quot;taskExecutor&quot;.\n\n`@Override\n@Bean(name=&quot;taskExecutor&quot;)\npublic Executor getAsyncExecutor() {\n    return new ContextAwarePoolExecutor();\n}`","body":"I got this working with spring 4.3.14, but I had to name the Executor bean &quot;taskExecutor&quot;.  <code>@Override @Bean(name=&quot;taskExecutor&quot;) public Executor getAsyncExecutor() {     return new ContextAwarePoolExecutor(); }</code>"},{"owner":{"account_id":14583282,"reputation":649,"user_id":10532966,"display_name":"Mohammed Javad"},"score":0,"creation_date":1558528770,"post_id":33337838,"comment_id":99130490,"body_markdown":"Can you please tell the spring-context maven version used to import ThreadPoolTaskExecutor and AsyncConfigurerSupport","body":"Can you please tell the spring-context maven version used to import ThreadPoolTaskExecutor and AsyncConfigurerSupport"},{"owner":{"account_id":167780,"reputation":895,"user_id":392807,"accept_rate":43,"display_name":"rogiller"},"score":2,"creation_date":1558638261,"post_id":33337838,"comment_id":99176905,"body_markdown":"I&#39;m using Spring 5.1.3 and seeing the same issue with &quot;losing the request objects inside the RequestAttributes in the new thread&quot;. Does anyone know of any possible way to use Request Beans in a background thread?","body":"I&#39;m using Spring 5.1.3 and seeing the same issue with &quot;losing the request objects inside the RequestAttributes in the new thread&quot;. Does anyone know of any possible way to use Request Beans in a background thread?"},{"owner":{"account_id":14583282,"reputation":649,"user_id":10532966,"display_name":"Mohammed Javad"},"score":0,"creation_date":1558862126,"post_id":33337838,"comment_id":99233993,"body_markdown":"Do Runnable and execute() is required to work this ? If required someone please explain how to do the same for Runnable and execute()","body":"Do Runnable and execute() is required to work this ? If required someone please explain how to do the same for Runnable and execute()"},{"owner":{"account_id":93570,"reputation":791,"user_id":255931,"display_name":"polaretto"},"score":0,"creation_date":1559126150,"post_id":33337838,"comment_id":99320749,"body_markdown":"@rogiller and anyone hitting against this problem: seems that when the request thread terminates it will clean up the request contents, but you still hold a non-null reference to it, find more info here: https://stackoverflow.com/a/11675613/255931","body":"@rogiller and anyone hitting against this problem: seems that when the request thread terminates it will clean up the request contents, but you still hold a non-null reference to it, find more info here: <a href=\"https://stackoverflow.com/a/11675613/255931\">stackoverflow.com/a/11675613/255931</a>"},{"owner":{"account_id":93570,"reputation":791,"user_id":255931,"display_name":"polaretto"},"score":0,"creation_date":1559126594,"post_id":33337838,"comment_id":99320983,"body_markdown":"@rogiller The only viable solution I found is to copy the request values you need, or the entire request, and process them in the child thread. You can use an `HttpServletRequestWrapper` as answered here: https://stackoverflow.com/questions/5273579/how-to-clone-a-detached-httpservletrequest-and-httpservletresponse-provided-by-t","body":"@rogiller The only viable solution I found is to copy the request values you need, or the entire request, and process them in the child thread. You can use an <code>HttpServletRequestWrapper</code> as answered here: <a href=\"https://stackoverflow.com/questions/5273579/how-to-clone-a-detached-httpservletrequest-and-httpservletresponse-provided-by-t\" title=\"how to clone a detached httpservletrequest and httpservletresponse provided by t\">stackoverflow.com/questions/5273579/&hellip;</a>"},{"owner":{"account_id":60622,"reputation":2424,"user_id":181018,"accept_rate":62,"display_name":"Saurabh"},"score":0,"creation_date":1560975294,"post_id":33337838,"comment_id":99917719,"body_markdown":"I am getting request object in AOP but loosing all attributes like URI with @Async. How to get request attributes? Also, what about if we use CompletableFuture.runAsync()? How AOP will get the current request if an exception is thrown by the method?","body":"I am getting request object in AOP but loosing all attributes like URI with @Async. How to get request attributes? Also, what about if we use CompletableFuture.runAsync()? How AOP will get the current request if an exception is thrown by the method?"},{"owner":{"account_id":6141586,"reputation":393,"user_id":4788844,"accept_rate":67,"display_name":"Dadu"},"score":0,"creation_date":1563391491,"post_id":33337838,"comment_id":100688656,"body_markdown":"Hi @Armadillo I am using this example. However, when it goes to child thread I could see that `ServletRequestAttribute.isRequestActive` is coming as false and that&#39;s why it still fails with the error that request is not active. Do you have any suggestions?","body":"Hi @Armadillo I am using this example. However, when it goes to child thread I could see that <code>ServletRequestAttribute.isRequestActive</code> is coming as false and that&#39;s why it still fails with the error that request is not active. Do you have any suggestions?"},{"owner":{"account_id":5764642,"reputation":1732,"user_id":4549952,"display_name":"Chamin Wickramarathna"},"score":0,"creation_date":1571033886,"post_id":33337838,"comment_id":103091562,"body_markdown":"Worked for me. I was using Runnable rather Callable. Put the runnable implementation as an answer below.","body":"Worked for me. I was using Runnable rather Callable. Put the runnable implementation as an answer below."},{"owner":{"account_id":9031934,"reputation":653,"user_id":6729207,"accept_rate":74,"display_name":"Maz"},"score":0,"creation_date":1632458004,"post_id":33337838,"comment_id":122502485,"body_markdown":"I am facing similar issue and this solution doesn&#39;t to work for me. I already have one ThreadPoolTaskExecutor defined in my app and having ExuctorConfig conflicts with it and application doesn&#39;t start up. Any help on this issue in apps which already have a ThreadPoolTaskExecutor defined?","body":"I am facing similar issue and this solution doesn&#39;t to work for me. I already have one ThreadPoolTaskExecutor defined in my app and having ExuctorConfig conflicts with it and application doesn&#39;t start up. Any help on this issue in apps which already have a ThreadPoolTaskExecutor defined?"},{"owner":{"account_id":1073699,"reputation":133,"user_id":1073665,"display_name":"bilgin"},"score":0,"creation_date":1696324499,"post_id":33337838,"comment_id":136135150,"body_markdown":"it doesn&#39;t work since spring boot 3. Can ony one tried with spring boot 3 please?","body":"it doesn&#39;t work since spring boot 3. Can ony one tried with spring boot 3 please?"}],"tags":[],"owner":{"account_id":38321,"reputation":1438,"user_id":109914,"display_name":"Armadillo"},"comment_count":18,"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1445828391,"creation_date":1445828391,"answer_id":33337838,"question_id":23732089,"body_markdown":"We ran into the same problem - needed to execute code in the background using @Async, so it was unable to use any Session- or RequestScope beans. We solved it the following way:\r\n\r\n - Create a custom TaskPoolExecutor that stores scoped information with the tasks\r\n - Create a special Callable (or Runnable) that uses the information to set and clear the context for the background thread\r\n - Create an override configuration to use the custom executor\r\n\r\n**Note**: this will only work for Session and Request scoped beans, and not for security context (as in Spring Security). You&#39;d have to use another method to set the security context if that is what you&#39;re after.\r\n\r\n**Note2**: For brevity, only shown the Callable and submit() implementation. You can do the same for the Runnable and execute().\r\n\r\nHere is the code:\r\n\r\nExecutor:\r\n\r\n    public class ContextAwarePoolExecutor extends ThreadPoolTaskExecutor {\r\n        @Override\r\n        public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n            return super.submit(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T&gt; ListenableFuture&lt;T&gt; submitListenable(Callable&lt;T&gt; task) {\r\n            return super.submitListenable(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\r\n        }\r\n    }\r\n\r\nCallable:\r\n\r\n    public class ContextAwareCallable&lt;T&gt; implements Callable&lt;T&gt; {\r\n        private Callable&lt;T&gt; task;\r\n        private RequestAttributes context;\r\n    \r\n        public ContextAwareCallable(Callable&lt;T&gt; task, RequestAttributes context) {\r\n            this.task = task;\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public T call() throws Exception {\r\n            if (context != null) {\r\n                RequestContextHolder.setRequestAttributes(context);\r\n            }\r\n    \r\n            try {\r\n                return task.call();\r\n            } finally {\r\n                RequestContextHolder.resetRequestAttributes();\r\n            }\r\n        }\r\n    }\r\n\r\nConfiguration:\r\n\r\n    @Configuration\r\n    public class ExecutorConfig extends AsyncConfigurerSupport {\r\n        @Override\r\n        @Bean\r\n        public Executor getAsyncExecutor() {\r\n            return new ContextAwarePoolExecutor();\r\n        }\r\n    }\r\n\r\n","title":"How to enable request scope in async task executor","body":"<p>We ran into the same problem - needed to execute code in the background using @Async, so it was unable to use any Session- or RequestScope beans. We solved it the following way:</p>\n\n<ul>\n<li>Create a custom TaskPoolExecutor that stores scoped information with the tasks</li>\n<li>Create a special Callable (or Runnable) that uses the information to set and clear the context for the background thread</li>\n<li>Create an override configuration to use the custom executor</li>\n</ul>\n\n<p><strong>Note</strong>: this will only work for Session and Request scoped beans, and not for security context (as in Spring Security). You'd have to use another method to set the security context if that is what you're after.</p>\n\n<p><strong>Note2</strong>: For brevity, only shown the Callable and submit() implementation. You can do the same for the Runnable and execute().</p>\n\n<p>Here is the code:</p>\n\n<p>Executor:</p>\n\n<pre><code>public class ContextAwarePoolExecutor extends ThreadPoolTaskExecutor {\n    @Override\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\n        return super.submit(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\n    }\n\n    @Override\n    public &lt;T&gt; ListenableFuture&lt;T&gt; submitListenable(Callable&lt;T&gt; task) {\n        return super.submitListenable(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\n    }\n}\n</code></pre>\n\n<p>Callable:</p>\n\n<pre><code>public class ContextAwareCallable&lt;T&gt; implements Callable&lt;T&gt; {\n    private Callable&lt;T&gt; task;\n    private RequestAttributes context;\n\n    public ContextAwareCallable(Callable&lt;T&gt; task, RequestAttributes context) {\n        this.task = task;\n        this.context = context;\n    }\n\n    @Override\n    public T call() throws Exception {\n        if (context != null) {\n            RequestContextHolder.setRequestAttributes(context);\n        }\n\n        try {\n            return task.call();\n        } finally {\n            RequestContextHolder.resetRequestAttributes();\n        }\n    }\n}\n</code></pre>\n\n<p>Configuration:</p>\n\n<pre><code>@Configuration\npublic class ExecutorConfig extends AsyncConfigurerSupport {\n    @Override\n    @Bean\n    public Executor getAsyncExecutor() {\n        return new ContextAwarePoolExecutor();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":307602,"reputation":651,"user_id":618990,"accept_rate":38,"display_name":"Jacob Harding"},"score":0,"creation_date":1540061215,"post_id":50138897,"comment_id":92728614,"body_markdown":"I am using `SimpleAsyncTaskExecutor` like the OP and this solution worked for me. Although, I am also able to pass the request attributes to child threads by setting the  request attributes as inheritable by calling `RequestContextHolder. setRequestAttributes(RequestContextHolder.getRequestAttributes(), true)` inside the request scope bean definition. Is there a difference between your solution and setting the request attributes as inheritable?","body":"I am using <code>SimpleAsyncTaskExecutor</code> like the OP and this solution worked for me. Although, I am also able to pass the request attributes to child threads by setting the  request attributes as inheritable by calling <code>RequestContextHolder. setRequestAttributes(RequestContextHolder.getRequestAttribut&zwnj;&#8203;es(), true)</code> inside the request scope bean definition. Is there a difference between your solution and setting the request attributes as inheritable?"},{"owner":{"account_id":403711,"reputation":227,"user_id":771614,"accept_rate":78,"display_name":"Judrius"},"score":0,"creation_date":1540742918,"post_id":50138897,"comment_id":92967093,"body_markdown":"This code is for async annotation. inheritable perfectly works for new transactions without async annotation. However, if you place async on the method, inheritable does not propagate anything to new transactions.","body":"This code is for async annotation. inheritable perfectly works for new transactions without async annotation. However, if you place async on the method, inheritable does not propagate anything to new transactions."},{"owner":{"account_id":1372573,"reputation":2616,"user_id":1307229,"accept_rate":86,"display_name":"Bilal Mirza"},"score":3,"creation_date":1542003881,"post_id":50138897,"comment_id":93398186,"body_markdown":"This `TaskDecorator` is only for `Runnable`. Is there any such thing to decorate `Callable`?","body":"This <code>TaskDecorator</code> is only for <code>Runnable</code>. Is there any such thing to decorate <code>Callable</code>?"},{"owner":{"account_id":60622,"reputation":2424,"user_id":181018,"accept_rate":62,"display_name":"Saurabh"},"score":0,"creation_date":1561421817,"post_id":50138897,"comment_id":100049391,"body_markdown":"It&#39;s not working for me. I added this code in @Async method ::  HttpServletRequest request = null;\n        if (RequestContextHolder.getRequestAttributes() != null) {\n            request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n        }. Now calling request.getRequestURI() is giving NULL.","body":"It&#39;s not working for me. I added this code in @Async method ::  HttpServletRequest request = null;         if (RequestContextHolder.getRequestAttributes() != null) {             request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest(&zwnj;&#8203;);         }. Now calling request.getRequestURI() is giving NULL."},{"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"score":2,"creation_date":1596002365,"post_id":50138897,"comment_id":111664916,"body_markdown":"what is MDC here?","body":"what is MDC here?"},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1596020068,"post_id":50138897,"comment_id":111673314,"body_markdown":"MDC ist ‘Mapped Diagnostic Context’, and `MDC` is a thread-local (or thread-global, if you like) point of access: http://logback.qos.ch/manual/mdc.html","body":"MDC ist ‘Mapped Diagnostic Context’, and <code>MDC</code> is a thread-local (or thread-global, if you like) point of access: <a href=\"http://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">logback.qos.ch/manual/mdc.html</a>"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1655913768,"post_id":50138897,"comment_id":128446484,"body_markdown":"I implemented a `TaskDecorator` to copy the `RequestAttributes` before I read the answer from [Thilak](https://stackoverflow.com/a/26397399/1371329). This approach creates a race condition between the request thread and the async thread. If the async thread reads the `RequestAttributes` before the request thread terminates, then the attributes are still populated. If the request thread terminates first, it clears the `RequestAttributes` and the async thread gets `null`. Let my experience serve as a [warning](https://stackoverflow.com/q/72588523/1371329) to others: this is not a valid solution.","body":"I implemented a <code>TaskDecorator</code> to copy the <code>RequestAttributes</code> before I read the answer from <a href=\"https://stackoverflow.com/a/26397399/1371329\">Thilak</a>. This approach creates a race condition between the request thread and the async thread. If the async thread reads the <code>RequestAttributes</code> before the request thread terminates, then the attributes are still populated. If the request thread terminates first, it clears the <code>RequestAttributes</code> and the async thread gets <code>null</code>. Let my experience serve as a <a href=\"https://stackoverflow.com/q/72588523/1371329\">warning</a> to others: this is not a valid solution."},{"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"score":0,"creation_date":1661549322,"post_id":50138897,"comment_id":129807125,"body_markdown":"@jaco0646 Were you able to solve this issue?","body":"@jaco0646 Were you able to solve this issue?"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1662561008,"post_id":50138897,"comment_id":130035051,"body_markdown":"@yulinxp, A few different solutions are proposed in answers further down this topic. I chose to keep the `TaskDecorator` but replace the `RequestContextHolder` with a custom `ThreadLocal`.","body":"@yulinxp, A few different solutions are proposed in answers further down this topic. I chose to keep the <code>TaskDecorator</code> but replace the <code>RequestContextHolder</code> with a custom <code>ThreadLocal</code>."},{"owner":{"account_id":8754628,"reputation":582,"user_id":6546584,"display_name":"desoss"},"score":0,"creation_date":1694761594,"post_id":50138897,"comment_id":135936299,"body_markdown":"@jaco0646 I&#39;m really interested in the code that you wrote, can you share it please?&#128591;&#127995;","body":"@jaco0646 I&#39;m really interested in the code that you wrote, can you share it please?🙏🏻"}],"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"comment_count":10,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1614002564,"creation_date":1525276821,"answer_id":50138897,"question_id":23732089,"body_markdown":"The easiest way is to use a task decorator like this:\r\n\r\n    static class ContextCopyingDecorator implements TaskDecorator {\r\n        @Nonnull\r\n        @Override\r\n        public Runnable decorate(@Nonnull Runnable runnable) {\r\n            RequestAttributes context =\r\n                    RequestContextHolder.currentRequestAttributes();\r\n            Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\n            return () -&gt; {\r\n                try {\r\n                    RequestContextHolder.setRequestAttributes(context);\r\n                    MDC.setContextMap(contextMap);\r\n                    runnable.run();\r\n                } finally {\r\n                    MDC.clear();\r\n                    RequestContextHolder.resetRequestAttributes();\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nTo add this decorator to the task executor, all you need is to add it in the configuration routine:\r\n\r\n    @Override\r\n    @Bean\r\n    public Executor getAsyncExecutor() {\r\n        ThreadPoolTaskExecutor poolExecutor = new ThreadPoolTaskExecutor();\r\n        poolExecutor.setTaskDecorator(new ContextCopyingDecorator());\r\n        poolExecutor.initialize();\r\n        return poolExecutor;\r\n    }\r\n\r\nThere is no need for an additional holder or a custom thread-pool task executor.\r\n\r\n\r\n----------\r\n\r\nA small update for 2021: Using current versions of Spring Boot, the mere existence of a bean of type `TaskDecorator` will suffice. Upon creating the context, the task decorator will be used to decorate the executors that Spring Boot creates.","title":"How to enable request scope in async task executor","body":"<p>The easiest way is to use a task decorator like this:</p>\n<pre><code>static class ContextCopyingDecorator implements TaskDecorator {\n    @Nonnull\n    @Override\n    public Runnable decorate(@Nonnull Runnable runnable) {\n        RequestAttributes context =\n                RequestContextHolder.currentRequestAttributes();\n        Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\n        return () -&gt; {\n            try {\n                RequestContextHolder.setRequestAttributes(context);\n                MDC.setContextMap(contextMap);\n                runnable.run();\n            } finally {\n                MDC.clear();\n                RequestContextHolder.resetRequestAttributes();\n            }\n        };\n    }\n}\n</code></pre>\n<p>To add this decorator to the task executor, all you need is to add it in the configuration routine:</p>\n<pre><code>@Override\n@Bean\npublic Executor getAsyncExecutor() {\n    ThreadPoolTaskExecutor poolExecutor = new ThreadPoolTaskExecutor();\n    poolExecutor.setTaskDecorator(new ContextCopyingDecorator());\n    poolExecutor.initialize();\n    return poolExecutor;\n}\n</code></pre>\n<p>There is no need for an additional holder or a custom thread-pool task executor.</p>\n<hr />\n<p>A small update for 2021: Using current versions of Spring Boot, the mere existence of a bean of type <code>TaskDecorator</code> will suffice. Upon creating the context, the task decorator will be used to decorate the executors that Spring Boot creates.</p>\n"},{"comments":[{"owner":{"account_id":5550123,"reputation":807,"user_id":4403525,"accept_rate":40,"display_name":"Jkike"},"score":0,"creation_date":1574239135,"post_id":57368912,"comment_id":104156384,"body_markdown":"Cloning the request attributes solve the problem for me.","body":"Cloning the request attributes solve the problem for me."},{"owner":{"account_id":7312344,"reputation":375,"user_id":5571092,"display_name":"El Ghandor Yasser"},"score":0,"creation_date":1637836345,"post_id":57368912,"comment_id":123934308,"body_markdown":"Cloning the request attributes solve the problem , Appreciated","body":"Cloning the request attributes solve the problem , Appreciated"}],"tags":[],"owner":{"account_id":6349097,"reputation":605,"user_id":4928732,"display_name":"Arun A"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1565065406,"creation_date":1565065406,"answer_id":57368912,"question_id":23732089,"body_markdown":"The solutions mentioned before were not working for me. \r\nThe reason why the solution not working is, as mentioned in @Thilak&#39;s post, as soon as the original parent thread committed response to the client, the request objects may be garbage collected.\r\nBut with some tweak to the solution provided by @Armadillo I was able to get it working. I am using spring boot 2.2\r\n\r\nHere is what I followed.\r\n\r\n - Create a custom TaskPoolExecutor that stores(after cloning) scoped\r\n   information with the tasks. \r\n - Create a special Callable (or Runnable)\r\n   that uses the cloned information to set the current context values\r\n   and clear the context for the async thread.\r\n\r\nExecutor (Same as in @Armadillo&#39;s post):\r\n\r\n    public class ContextAwarePoolExecutor extends ThreadPoolTaskExecutor {\r\n        @Override\r\n        public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n            return super.submit(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; ListenableFuture&lt;T&gt; submitListenable(Callable&lt;T&gt; task) {\r\n            return super.submitListenable(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\r\n        }\r\n    }\r\n\r\n\r\nCallable:\r\n\r\n    public class ContextAwareCallable&lt;T&gt; implements Callable&lt;T&gt; {\r\n      private Callable&lt;T&gt; task;\r\n      private final RequestAttributes requestAttributes;\r\n\r\n      public ContextAwareCallable(Callable&lt;T&gt; task, RequestAttributes requestAttributes) {\r\n        this.task = task;\r\n        this.requestAttributes = cloneRequestAttributes(requestAttributes);\r\n      }\r\n\r\n      @Override\r\n      public T call() throws Exception {\r\n        try {\r\n          RequestContextHolder.setRequestAttributes(requestAttributes);\r\n          return task.call();\r\n        } finally {\r\n            RequestContextHolder.resetRequestAttributes();\r\n        }\r\n      }\r\n\r\n      private RequestAttributes cloneRequestAttributes(RequestAttributes requestAttributes){\r\n        RequestAttributes clonedRequestAttribute = null;\r\n        try{\r\n          clonedRequestAttribute = new ServletRequestAttributes(((ServletRequestAttributes) requestAttributes).getRequest(), ((ServletRequestAttributes) requestAttributes).getResponse());\r\n          if(requestAttributes.getAttributeNames(RequestAttributes.SCOPE_REQUEST).length&gt;0){\r\n            for(String name: requestAttributes.getAttributeNames(RequestAttributes.SCOPE_REQUEST)){\r\n              clonedRequestAttribute.setAttribute(name,requestAttributes.getAttribute(name,RequestAttributes.SCOPE_REQUEST),RequestAttributes.SCOPE_REQUEST);\r\n            }\r\n          }\r\n          if(requestAttributes.getAttributeNames(RequestAttributes.SCOPE_SESSION).length&gt;0){\r\n            for(String name: requestAttributes.getAttributeNames(RequestAttributes.SCOPE_SESSION)){\r\n              clonedRequestAttribute.setAttribute(name,requestAttributes.getAttribute(name,RequestAttributes.SCOPE_SESSION),RequestAttributes.SCOPE_SESSION);\r\n            }\r\n          }\r\n          if(requestAttributes.getAttributeNames(RequestAttributes.SCOPE_GLOBAL_SESSION).length&gt;0){\r\n            for(String name: requestAttributes.getAttributeNames(RequestAttributes.SCOPE_GLOBAL_SESSION)){\r\n              clonedRequestAttribute.setAttribute(name,requestAttributes.getAttribute(name,RequestAttributes.SCOPE_GLOBAL_SESSION),RequestAttributes.SCOPE_GLOBAL_SESSION);\r\n            }\r\n          }\r\n          return clonedRequestAttribute;\r\n        }catch(Exception e){\r\n          return requestAttributes;\r\n        }\r\n      }\r\n    }\r\n\r\nThe change I made is to introduce cloneRequestAttributes() to copy and set the RequestAttribute, so that the values remain available even after the original parent thread commits response to the client.\r\n\r\nConfiguration:\r\nSince there are other async configuration and I didn&#39;t want the behavior to be applicable in other async executors I&#39;ve created its own task executor configuration.\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class TaskExecutorConfig {\r\n\r\n        @Bean(name = &quot;contextAwareTaskExecutor&quot;)\r\n        public TaskExecutor getContextAwareTaskExecutor() {\r\n            ContextAwarePoolExecutor taskExecutor = new ConAwarePoolExecutor();\r\n            taskExecutor.setMaxPoolSize(20);\r\n            taskExecutor.setCorePoolSize(5);\r\n            taskExecutor.setQueueCapacity(100);\r\n            taskExecutor.setThreadNamePrefix(&quot;ContextAwareExecutor-&quot;);\r\n            return taskExecutor;\r\n        }\r\n    }\r\n\r\nAnd finally on the async method, I use the executor name.\r\n\r\n        @Async(&quot;contextAwareTaskExecutor&quot;)\r\n        public void asyncMethod() {\r\n        \r\n        }\r\n\r\n\r\nAlternate Solution:\r\n\r\nWe ended up in this trouble by trying to reuse an existing component class. Though the solution made it look like it is convenient. Its much less hassle (cloning objects and reserving thread pool) if we could have referred the relevant request scoped values as method parameters. In our case, we are planning to refactor the code in such a way that the component class which is using the request scoped bean, and being reused from the async method, to accept the values as method parameters. Request scoped bean is removed from the reusable component and moved to the component class which invokes its method. \r\nTo put what I just described it in code:\r\n\r\nOur current state is :\r\n\r\n    @Async(&quot;contextAwareTaskExecutor&quot;)\r\n        public void asyncMethod() {\r\n           reUsableCompoment.executeLogic() //This component uses the request scoped bean.\r\n        }\r\n\r\nRefactored code:\r\n\r\n        @Async(&quot;taskExecutor&quot;)\r\n        public void asyncMethod(Object requestObject) {\r\n           reUsableCompoment.executeLogic(requestObject); //Request scoped bean is removed from the component and moved to the component class which invokes it menthod.\r\n        }\r\n\r\n\r\n\r\n","title":"How to enable request scope in async task executor","body":"<p>The solutions mentioned before were not working for me. \nThe reason why the solution not working is, as mentioned in @Thilak's post, as soon as the original parent thread committed response to the client, the request objects may be garbage collected.\nBut with some tweak to the solution provided by @Armadillo I was able to get it working. I am using spring boot 2.2</p>\n\n<p>Here is what I followed.</p>\n\n<ul>\n<li>Create a custom TaskPoolExecutor that stores(after cloning) scoped\ninformation with the tasks. </li>\n<li>Create a special Callable (or Runnable)\nthat uses the cloned information to set the current context values\nand clear the context for the async thread.</li>\n</ul>\n\n<p>Executor (Same as in @Armadillo's post):</p>\n\n<pre><code>public class ContextAwarePoolExecutor extends ThreadPoolTaskExecutor {\n    @Override\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\n        return super.submit(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\n    }\n\n    @Override\n    public &lt;T&gt; ListenableFuture&lt;T&gt; submitListenable(Callable&lt;T&gt; task) {\n        return super.submitListenable(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\n    }\n}\n</code></pre>\n\n<p>Callable:</p>\n\n<pre><code>public class ContextAwareCallable&lt;T&gt; implements Callable&lt;T&gt; {\n  private Callable&lt;T&gt; task;\n  private final RequestAttributes requestAttributes;\n\n  public ContextAwareCallable(Callable&lt;T&gt; task, RequestAttributes requestAttributes) {\n    this.task = task;\n    this.requestAttributes = cloneRequestAttributes(requestAttributes);\n  }\n\n  @Override\n  public T call() throws Exception {\n    try {\n      RequestContextHolder.setRequestAttributes(requestAttributes);\n      return task.call();\n    } finally {\n        RequestContextHolder.resetRequestAttributes();\n    }\n  }\n\n  private RequestAttributes cloneRequestAttributes(RequestAttributes requestAttributes){\n    RequestAttributes clonedRequestAttribute = null;\n    try{\n      clonedRequestAttribute = new ServletRequestAttributes(((ServletRequestAttributes) requestAttributes).getRequest(), ((ServletRequestAttributes) requestAttributes).getResponse());\n      if(requestAttributes.getAttributeNames(RequestAttributes.SCOPE_REQUEST).length&gt;0){\n        for(String name: requestAttributes.getAttributeNames(RequestAttributes.SCOPE_REQUEST)){\n          clonedRequestAttribute.setAttribute(name,requestAttributes.getAttribute(name,RequestAttributes.SCOPE_REQUEST),RequestAttributes.SCOPE_REQUEST);\n        }\n      }\n      if(requestAttributes.getAttributeNames(RequestAttributes.SCOPE_SESSION).length&gt;0){\n        for(String name: requestAttributes.getAttributeNames(RequestAttributes.SCOPE_SESSION)){\n          clonedRequestAttribute.setAttribute(name,requestAttributes.getAttribute(name,RequestAttributes.SCOPE_SESSION),RequestAttributes.SCOPE_SESSION);\n        }\n      }\n      if(requestAttributes.getAttributeNames(RequestAttributes.SCOPE_GLOBAL_SESSION).length&gt;0){\n        for(String name: requestAttributes.getAttributeNames(RequestAttributes.SCOPE_GLOBAL_SESSION)){\n          clonedRequestAttribute.setAttribute(name,requestAttributes.getAttribute(name,RequestAttributes.SCOPE_GLOBAL_SESSION),RequestAttributes.SCOPE_GLOBAL_SESSION);\n        }\n      }\n      return clonedRequestAttribute;\n    }catch(Exception e){\n      return requestAttributes;\n    }\n  }\n}\n</code></pre>\n\n<p>The change I made is to introduce cloneRequestAttributes() to copy and set the RequestAttribute, so that the values remain available even after the original parent thread commits response to the client.</p>\n\n<p>Configuration:\nSince there are other async configuration and I didn't want the behavior to be applicable in other async executors I've created its own task executor configuration.</p>\n\n<pre><code>@Configuration\n@EnableAsync\npublic class TaskExecutorConfig {\n\n    @Bean(name = \"contextAwareTaskExecutor\")\n    public TaskExecutor getContextAwareTaskExecutor() {\n        ContextAwarePoolExecutor taskExecutor = new ConAwarePoolExecutor();\n        taskExecutor.setMaxPoolSize(20);\n        taskExecutor.setCorePoolSize(5);\n        taskExecutor.setQueueCapacity(100);\n        taskExecutor.setThreadNamePrefix(\"ContextAwareExecutor-\");\n        return taskExecutor;\n    }\n}\n</code></pre>\n\n<p>And finally on the async method, I use the executor name.</p>\n\n<pre><code>    @Async(\"contextAwareTaskExecutor\")\n    public void asyncMethod() {\n\n    }\n</code></pre>\n\n<p>Alternate Solution:</p>\n\n<p>We ended up in this trouble by trying to reuse an existing component class. Though the solution made it look like it is convenient. Its much less hassle (cloning objects and reserving thread pool) if we could have referred the relevant request scoped values as method parameters. In our case, we are planning to refactor the code in such a way that the component class which is using the request scoped bean, and being reused from the async method, to accept the values as method parameters. Request scoped bean is removed from the reusable component and moved to the component class which invokes its method. \nTo put what I just described it in code:</p>\n\n<p>Our current state is :</p>\n\n<pre><code>@Async(\"contextAwareTaskExecutor\")\n    public void asyncMethod() {\n       reUsableCompoment.executeLogic() //This component uses the request scoped bean.\n    }\n</code></pre>\n\n<p>Refactored code:</p>\n\n<pre><code>    @Async(\"taskExecutor\")\n    public void asyncMethod(Object requestObject) {\n       reUsableCompoment.executeLogic(requestObject); //Request scoped bean is removed from the component and moved to the component class which invokes it menthod.\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9697932,"reputation":1242,"user_id":7193786,"accept_rate":87,"display_name":"Sahbaz"},"score":0,"creation_date":1606167932,"post_id":58371069,"comment_id":114875431,"body_markdown":"Very nice, i just have one question, how to properly use this ?\n\nEach time i have to create ContextAwareThreadPoolExecutor, initialize it, submit request and then destroy ?","body":"Very nice, i just have one question, how to properly use this ?  Each time i have to create ContextAwareThreadPoolExecutor, initialize it, submit request and then destroy ?"}],"tags":[],"owner":{"account_id":5764642,"reputation":1732,"user_id":4549952,"display_name":"Chamin Wickramarathna"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571034071,"creation_date":1571034071,"answer_id":58371069,"question_id":23732089,"body_markdown":"@Armadillo&#39;s answer motivated me to write the implementation for Runnable.\r\n\r\nCustom implementation for TaskExecutor:\r\n\r\n    /**\r\n     * This custom ThreadPoolExecutor stores scoped/context information with the tasks.\r\n     */\r\n    public class ContextAwareThreadPoolExecutor extends ThreadPoolTaskExecutor {\r\n\r\n         @Override\r\n        public Future&lt;?&gt; submit(Runnable task) {\r\n            return super.submit(new ContextAwareRunnable(task, RequestContextHolder.currentRequestAttributes()));\r\n        }\r\n\r\n        @Override\r\n        public ListenableFuture&lt;?&gt; submitListenable(Runnable task) {\r\n            return super.submitListenable(new ContextAwareRunnable(task, RequestContextHolder.currentRequestAttributes()));\r\n        }\r\n    }\r\n\r\nCustom implementation for Runnable:\r\n\r\n    /**\r\n     * This custom Runnable class can use to make background threads context aware.\r\n     * It store and clear the context for the background threads.\r\n     */\r\n    public class ContextAwareRunnable implements Runnable {\r\n        private Runnable task;\r\n        private RequestAttributes context;\r\n\r\n        public ContextAwareRunnable(Runnable task, RequestAttributes context) {\r\n            this.task = task;\r\n            // Keeps a reference to scoped/context information of parent thread.\r\n            // So original parent thread should wait for the background threads. \r\n            // Otherwise you should clone context as @Arun A&#39;s answer\r\n            this.context = context;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            if (context != null) {\r\n                RequestContextHolder.setRequestAttributes(context);\r\n            }\r\n\r\n            try {\r\n                task.run();\r\n            } finally {\r\n                RequestContextHolder.resetRequestAttributes();\r\n            }\r\n        }\r\n    }","title":"How to enable request scope in async task executor","body":"<p>@Armadillo's answer motivated me to write the implementation for Runnable.</p>\n\n<p>Custom implementation for TaskExecutor:</p>\n\n<pre><code>/**\n * This custom ThreadPoolExecutor stores scoped/context information with the tasks.\n */\npublic class ContextAwareThreadPoolExecutor extends ThreadPoolTaskExecutor {\n\n     @Override\n    public Future&lt;?&gt; submit(Runnable task) {\n        return super.submit(new ContextAwareRunnable(task, RequestContextHolder.currentRequestAttributes()));\n    }\n\n    @Override\n    public ListenableFuture&lt;?&gt; submitListenable(Runnable task) {\n        return super.submitListenable(new ContextAwareRunnable(task, RequestContextHolder.currentRequestAttributes()));\n    }\n}\n</code></pre>\n\n<p>Custom implementation for Runnable:</p>\n\n<pre><code>/**\n * This custom Runnable class can use to make background threads context aware.\n * It store and clear the context for the background threads.\n */\npublic class ContextAwareRunnable implements Runnable {\n    private Runnable task;\n    private RequestAttributes context;\n\n    public ContextAwareRunnable(Runnable task, RequestAttributes context) {\n        this.task = task;\n        // Keeps a reference to scoped/context information of parent thread.\n        // So original parent thread should wait for the background threads. \n        // Otherwise you should clone context as @Arun A's answer\n        this.context = context;\n    }\n\n    @Override\n    public void run() {\n        if (context != null) {\n            RequestContextHolder.setRequestAttributes(context);\n        }\n\n        try {\n            task.run();\n        } finally {\n            RequestContextHolder.resetRequestAttributes();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":186894,"reputation":1145,"user_id":424563,"display_name":"dagge"},"score":0,"creation_date":1616705580,"post_id":58505857,"comment_id":118094706,"body_markdown":"Thanks - Using a CustomRequestScopeAttributes object was the only solution that worked for me. I also had to implement getSessionMutex() (just returned this). Is there any clean up that we can do after the async has completed?","body":"Thanks - Using a CustomRequestScopeAttributes object was the only solution that worked for me. I also had to implement getSessionMutex() (just returned this). Is there any clean up that we can do after the async has completed?"}],"tags":[],"owner":{"account_id":15678135,"reputation":81,"user_id":11312859,"display_name":"Gayathri Krishnan"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571752242,"creation_date":1571752242,"answer_id":58505857,"question_id":23732089,"body_markdown":"None of the above Solution works for me because in my case the parent thread responded for request back to the client and the request scoped object can&#39;t be referred in any worker threads.\r\n\r\nI just made a work around to make above things work. I am using Spring Boot 2.2 and using customTaskExecutor with ContextAwareCallable just specified above.\r\n\r\n**Async Configuration:**\r\n\r\n\r\n    @Bean(name = &quot;cachedThreadPoolExecutor&quot;)\r\n    public Executor cachedThreadPoolExecutor() {\r\n\r\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ContextAwarePoolExecutor();\r\n        threadPoolTaskExecutor.setCorePoolSize(corePoolSize);\r\n        threadPoolTaskExecutor.setMaxPoolSize(maxPoolSize);\r\n        threadPoolTaskExecutor.setQueueCapacity(queueCapacity);\r\n        threadPoolTaskExecutor.setAllowCoreThreadTimeOut(true);\r\n        threadPoolTaskExecutor.setThreadNamePrefix(&quot;ThreadName-&quot;);\r\n        threadPoolTaskExecutor.initialize();\r\n        return threadPoolTaskExecutor;\r\n\r\n    }\r\n\r\n**ContextAwarePoolExecutor:**\r\n\r\n    public class ContextAwarePoolExecutor extends ThreadPoolTaskExecutor {\r\n\r\n       @Override\r\n       public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n          return super.submit(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\r\n       }\r\n\r\n       @Override\r\n       public &lt;T&gt; ListenableFuture&lt;T&gt; submitListenable(Callable&lt;T&gt; task) {\r\n         return super.submitListenable(new ContextAwareCallable(task, \r\n         RequestContextHolder.currentRequestAttributes()));\r\n    \r\n       }\r\n   }\r\n\r\n**Created Custom Context Aware Callable:**\r\n\r\n     public class ContextAwareCallable&lt;T&gt; implements Callable&lt;T&gt; {\r\n       private Callable&lt;T&gt; task;\r\n       private CustomRequestScopeAttributes customRequestScopeAttributes;\r\n       private static final String requestScopedBean = \r\n      &quot;scopedTarget.requestScopeBeanName&quot;;\r\n\r\n       public ContextAwareCallable(Callable&lt;T&gt; task, RequestAttributes context) {\r\n        this.task = task;\r\n        if (context != null) {\r\n           //This is Custom class implements RequestAttributes class\r\n            this.customRequestScopeAttributes = new CustomRequestScopeAttributes();\r\n     \r\n            //Add the request scoped bean to Custom class       \r\n            customRequestScopeAttributes.setAttribute\r\n            (requestScopedBean,context.getAttribute(requestScopedBean,0),0);\r\n            //Set that in RequestContextHolder and set as Inheritable as true \r\n           //Inheritable is used for setting the attributes in diffrent ThreadLocal objects.\r\n            RequestContextHolder.setRequestAttributes\r\n               (customRequestScopeAttributes,true);\r\n         }\r\n     }\r\n\r\n       @Override\r\n       public T call() throws Exception {\r\n       try {\r\n          return task.call();\r\n        } finally {\r\n            customRequestScopeAttributes.removeAttribute(requestScopedBean,0);\r\n        }\r\n       }\r\n    }\r\n\r\n**Custom class:**\r\n\r\n    public class CustomRequestScopeAttributes implements RequestAttributes { \r\n\r\n      private Map&lt;String, Object&gt; requestAttributeMap = new HashMap&lt;&gt;();\r\n      @Override\r\n      public Object getAttribute(String name, int scope) {\r\n        if(scope== RequestAttributes.SCOPE_REQUEST) {\r\n            return this.requestAttributeMap.get(name);\r\n        }\r\n        return null;\r\n    }\r\n    @Override\r\n    public void setAttribute(String name, Object value, int scope) {\r\n        if(scope== RequestAttributes.SCOPE_REQUEST){\r\n            this.requestAttributeMap.put(name, value);\r\n        }\r\n    }\r\n    @Override\r\n    public void removeAttribute(String name, int scope) {\r\n        if(scope== RequestAttributes.SCOPE_REQUEST) {\r\n            this.requestAttributeMap.remove(name);\r\n        }\r\n    }\r\n    @Override\r\n    public String[] getAttributeNames(int scope) {\r\n        if(scope== RequestAttributes.SCOPE_REQUEST) {\r\n            return this.requestAttributeMap.keySet().toArray(new String[0]);\r\n        }\r\n        return  new String[0];\r\n     }\r\n     //Override all methods in the RequestAttributes Interface.\r\n    \r\n    }\r\n\r\nFinally add the Async annotation in the method needed.\r\n\r\n      @Async(&quot;cachedThreadPoolExecutor&quot;)    \r\n      public void asyncMethod() {     \r\n         anyService.execute() //This Service execution uses request scoped bean\r\n      }\r\n\r\n","title":"How to enable request scope in async task executor","body":"<p>None of the above Solution works for me because in my case the parent thread responded for request back to the client and the request scoped object can't be referred in any worker threads.</p>\n\n<p>I just made a work around to make above things work. I am using Spring Boot 2.2 and using customTaskExecutor with ContextAwareCallable just specified above.</p>\n\n<p><strong>Async Configuration:</strong></p>\n\n<pre><code>@Bean(name = \"cachedThreadPoolExecutor\")\npublic Executor cachedThreadPoolExecutor() {\n\n    ThreadPoolTaskExecutor threadPoolTaskExecutor = new ContextAwarePoolExecutor();\n    threadPoolTaskExecutor.setCorePoolSize(corePoolSize);\n    threadPoolTaskExecutor.setMaxPoolSize(maxPoolSize);\n    threadPoolTaskExecutor.setQueueCapacity(queueCapacity);\n    threadPoolTaskExecutor.setAllowCoreThreadTimeOut(true);\n    threadPoolTaskExecutor.setThreadNamePrefix(\"ThreadName-\");\n    threadPoolTaskExecutor.initialize();\n    return threadPoolTaskExecutor;\n\n}\n</code></pre>\n\n<p><strong>ContextAwarePoolExecutor:</strong></p>\n\n<pre><code>public class ContextAwarePoolExecutor extends ThreadPoolTaskExecutor {\n\n   @Override\n   public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\n      return super.submit(new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\n   }\n\n   @Override\n   public &lt;T&gt; ListenableFuture&lt;T&gt; submitListenable(Callable&lt;T&gt; task) {\n     return super.submitListenable(new ContextAwareCallable(task, \n     RequestContextHolder.currentRequestAttributes()));\n\n   }\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Created Custom Context Aware Callable:</strong></p>\n\n<pre><code> public class ContextAwareCallable&lt;T&gt; implements Callable&lt;T&gt; {\n   private Callable&lt;T&gt; task;\n   private CustomRequestScopeAttributes customRequestScopeAttributes;\n   private static final String requestScopedBean = \n  \"scopedTarget.requestScopeBeanName\";\n\n   public ContextAwareCallable(Callable&lt;T&gt; task, RequestAttributes context) {\n    this.task = task;\n    if (context != null) {\n       //This is Custom class implements RequestAttributes class\n        this.customRequestScopeAttributes = new CustomRequestScopeAttributes();\n\n        //Add the request scoped bean to Custom class       \n        customRequestScopeAttributes.setAttribute\n        (requestScopedBean,context.getAttribute(requestScopedBean,0),0);\n        //Set that in RequestContextHolder and set as Inheritable as true \n       //Inheritable is used for setting the attributes in diffrent ThreadLocal objects.\n        RequestContextHolder.setRequestAttributes\n           (customRequestScopeAttributes,true);\n     }\n }\n\n   @Override\n   public T call() throws Exception {\n   try {\n      return task.call();\n    } finally {\n        customRequestScopeAttributes.removeAttribute(requestScopedBean,0);\n    }\n   }\n}\n</code></pre>\n\n<p><strong>Custom class:</strong></p>\n\n<pre><code>public class CustomRequestScopeAttributes implements RequestAttributes { \n\n  private Map&lt;String, Object&gt; requestAttributeMap = new HashMap&lt;&gt;();\n  @Override\n  public Object getAttribute(String name, int scope) {\n    if(scope== RequestAttributes.SCOPE_REQUEST) {\n        return this.requestAttributeMap.get(name);\n    }\n    return null;\n}\n@Override\npublic void setAttribute(String name, Object value, int scope) {\n    if(scope== RequestAttributes.SCOPE_REQUEST){\n        this.requestAttributeMap.put(name, value);\n    }\n}\n@Override\npublic void removeAttribute(String name, int scope) {\n    if(scope== RequestAttributes.SCOPE_REQUEST) {\n        this.requestAttributeMap.remove(name);\n    }\n}\n@Override\npublic String[] getAttributeNames(int scope) {\n    if(scope== RequestAttributes.SCOPE_REQUEST) {\n        return this.requestAttributeMap.keySet().toArray(new String[0]);\n    }\n    return  new String[0];\n }\n //Override all methods in the RequestAttributes Interface.\n\n}\n</code></pre>\n\n<p>Finally add the Async annotation in the method needed.</p>\n\n<pre><code>  @Async(\"cachedThreadPoolExecutor\")    \n  public void asyncMethod() {     \n     anyService.execute() //This Service execution uses request scoped bean\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4263255,"reputation":3672,"user_id":3487063,"accept_rate":57,"display_name":"user3487063"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572900063,"creation_date":1572900063,"answer_id":58700745,"question_id":23732089,"body_markdown":"With Spring-boot-2.0.3.REALEASE / spring-web-5.0.7, I&#39;ve come up with below code working for [@Async][1] \r\n\r\n**Class that holds the [ThreadLocal][2] context.**\r\n\r\n    import java.util.Map;\r\n    \r\n    public class ThreadContextHolder {\r\n      private ThreadContextHolder() {}\r\n    \r\n      private static final ThreadLocal&lt;Map&lt;String, Object&gt;&gt; ctx = new ThreadLocal&lt;&gt;();\r\n    \r\n      public static Map&lt;String, Object&gt; getContext() {\r\n        return ctx.get();\r\n      }\r\n    \r\n      public static void setContext(Map&lt;String, Object&gt; attrs) {\r\n        ctx.set(attrs);\r\n      }\r\n    \r\n      public static void removeContext() {\r\n        ctx.remove();\r\n      }\r\n    }\r\n\r\n**Async config :** \r\n\r\n   \r\n\r\n          @Bean\r\n          public Executor taskExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n           ...\r\n           ...\r\n        \r\n            executor.setTaskDecorator(\r\n                runnable -&gt; {\r\n                  RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes(); // or currentRequestAttributes() if you want to fall back to JSF context.\r\n                  Map&lt;String, Object&gt; map =\r\n                      Arrays.stream(requestAttributes.getAttributeNames(0))\r\n                          .collect(Collectors.toMap(r -&gt; r, r -&gt; requestAttributes.getAttribute(r, 0)));\r\n                  return () -&gt; {\r\n                    try {\r\n                      ThreadContextHolder.setContext(map);\r\n                      runnable.run();\r\n                    } finally {\r\n                      ThreadContextHolder.removeContext();\r\n                    }\r\n                  };\r\n                });\r\n        \r\n            executor.initialize();\r\n            return executor;\r\n          }\r\n\r\nAnd from the async method :\r\n\r\n    @Async\r\n      public void asyncMethod() {\r\n        logger.info(&quot;{}&quot;, ThreadContextHolder.getContext().get(&quot;key&quot;));\r\n      }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/Async.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html","title":"How to enable request scope in async task executor","body":"<p>With Spring-boot-2.0.3.REALEASE / spring-web-5.0.7, I've come up with below code working for <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/Async.html\" rel=\"nofollow noreferrer\">@Async</a> </p>\n\n<p><strong>Class that holds the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">ThreadLocal</a> context.</strong></p>\n\n<pre><code>import java.util.Map;\n\npublic class ThreadContextHolder {\n  private ThreadContextHolder() {}\n\n  private static final ThreadLocal&lt;Map&lt;String, Object&gt;&gt; ctx = new ThreadLocal&lt;&gt;();\n\n  public static Map&lt;String, Object&gt; getContext() {\n    return ctx.get();\n  }\n\n  public static void setContext(Map&lt;String, Object&gt; attrs) {\n    ctx.set(attrs);\n  }\n\n  public static void removeContext() {\n    ctx.remove();\n  }\n}\n</code></pre>\n\n<p><strong>Async config :</strong> </p>\n\n<pre><code>      @Bean\n      public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n       ...\n       ...\n\n        executor.setTaskDecorator(\n            runnable -&gt; {\n              RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes(); // or currentRequestAttributes() if you want to fall back to JSF context.\n              Map&lt;String, Object&gt; map =\n                  Arrays.stream(requestAttributes.getAttributeNames(0))\n                      .collect(Collectors.toMap(r -&gt; r, r -&gt; requestAttributes.getAttribute(r, 0)));\n              return () -&gt; {\n                try {\n                  ThreadContextHolder.setContext(map);\n                  runnable.run();\n                } finally {\n                  ThreadContextHolder.removeContext();\n                }\n              };\n            });\n\n        executor.initialize();\n        return executor;\n      }\n</code></pre>\n\n<p>And from the async method :</p>\n\n<pre><code>@Async\n  public void asyncMethod() {\n    logger.info(\"{}\", ThreadContextHolder.getContext().get(\"key\"));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10372257,"reputation":1,"user_id":7754231,"display_name":"cbaez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574433496,"creation_date":1573762866,"answer_id":58865927,"question_id":23732089,"body_markdown":"I solved this issue adding the following bean configuration\r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.CustomScopeConfigurer&quot;&gt;\r\n        &lt;property name=&quot;scopes&quot;&gt;\r\n            &lt;map&gt;\r\n                &lt;entry key=&quot;request&quot;&gt;\r\n                    &lt;bean class=&quot;org.springframework.context.support.SimpleThreadScope&quot;/&gt;\r\n                &lt;/entry&gt;\r\n            &lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n**Update:** the above solution does not clean up any objects associated with the threads as mention in spring&#39;s documentation. This alternative works for me: https://www.springbyexample.org/examples/custom-thread-scope-module.html","title":"How to enable request scope in async task executor","body":"<p>I solved this issue adding the following bean configuration</p>\n\n<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.CustomScopeConfigurer\"&gt;\n    &lt;property name=\"scopes\"&gt;\n        &lt;map&gt;\n            &lt;entry key=\"request\"&gt;\n                &lt;bean class=\"org.springframework.context.support.SimpleThreadScope\"/&gt;\n            &lt;/entry&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>Update:</strong> the above solution does not clean up any objects associated with the threads as mention in spring's documentation. This alternative works for me: <a href=\"https://www.springbyexample.org/examples/custom-thread-scope-module.html\" rel=\"nofollow noreferrer\">https://www.springbyexample.org/examples/custom-thread-scope-module.html</a></p>\n"},{"tags":[],"owner":{"account_id":18125064,"reputation":13,"user_id":13180659,"display_name":"Sergey Stepin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585731489,"creation_date":1585730374,"answer_id":60966764,"question_id":23732089,"body_markdown":"@Armadillo\r\n\r\n1. Worked for me, many thanks.\r\n\r\n2. As for Spring Security Context, there is more out-of-box solution and it worked for me either (found here https://stackoverflow.com/questions/3467918/how-to-set-up-spring-security-securitycontextholder-strategy)\r\n\r\nIn order to use SecurityContextHolder in child threads:\r\n\r\n    @Bean\r\n    public MethodInvokingFactoryBean methodInvokingFactoryBean() {\r\n        MethodInvokingFactoryBean methodInvokingFactoryBean = new MethodInvokingFactoryBean();\r\n        methodInvokingFactoryBean.setTargetClass(SecurityContextHolder.class);\r\n        methodInvokingFactoryBean.setTargetMethod(&quot;setStrategyName&quot;);\r\n        methodInvokingFactoryBean.setArguments(new String[]{SecurityContextHolder.MODE_INHERITABLETHREADLOCAL});\r\n        return methodInvokingFactoryBean;\r\n    }\r\n\r\n","title":"How to enable request scope in async task executor","body":"<p>@Armadillo</p>\n\n<ol>\n<li><p>Worked for me, many thanks.</p></li>\n<li><p>As for Spring Security Context, there is more out-of-box solution and it worked for me either (found here <a href=\"https://stackoverflow.com/questions/3467918/how-to-set-up-spring-security-securitycontextholder-strategy\">How to set up Spring Security SecurityContextHolder strategy?</a>)</p></li>\n</ol>\n\n<p>In order to use SecurityContextHolder in child threads:</p>\n\n<pre><code>@Bean\npublic MethodInvokingFactoryBean methodInvokingFactoryBean() {\n    MethodInvokingFactoryBean methodInvokingFactoryBean = new MethodInvokingFactoryBean();\n    methodInvokingFactoryBean.setTargetClass(SecurityContextHolder.class);\n    methodInvokingFactoryBean.setTargetMethod(\"setStrategyName\");\n    methodInvokingFactoryBean.setArguments(new String[]{SecurityContextHolder.MODE_INHERITABLETHREADLOCAL});\n    return methodInvokingFactoryBean;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1615062886,"creation_date":1608064700,"answer_id":65313320,"question_id":23732089,"body_markdown":"Here is a related answer for anyone who wants to use RequestScope with non blocking I/O commands in an API, as opposed to spinning up child threads that live on past the original HTTP request.\r\n\r\n**SPRING ASYNC AWAIT REQUEST SCOPE**\r\n\r\nIt is possible to implement a custom scope in Spring which stores request scoped objects in the current HttpServletRequest object, so that objects can be accessed before and after &#39;await&#39; statements:\r\n\r\n* [Async Await Usage](https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/main/java/com/mycompany/sample/logic/repositories/CompanyRepository.java#L49)\r\n* [HttpServletRequest based RequestScope](https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/main/java/com/mycompany/sample/plumbing/dependencies/CustomRequestScope.java)\r\n* [Full Java API Code Sample](https://github.com/gary-archer/oauth.apisample.javaspringboot)","title":"How to enable request scope in async task executor","body":"<p>Here is a related answer for anyone who wants to use RequestScope with non blocking I/O commands in an API, as opposed to spinning up child threads that live on past the original HTTP request.</p>\n<p><strong>SPRING ASYNC AWAIT REQUEST SCOPE</strong></p>\n<p>It is possible to implement a custom scope in Spring which stores request scoped objects in the current HttpServletRequest object, so that objects can be accessed before and after 'await' statements:</p>\n<ul>\n<li><a href=\"https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/main/java/com/mycompany/sample/logic/repositories/CompanyRepository.java#L49\" rel=\"nofollow noreferrer\">Async Await Usage</a></li>\n<li><a href=\"https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/main/java/com/mycompany/sample/plumbing/dependencies/CustomRequestScope.java\" rel=\"nofollow noreferrer\">HttpServletRequest based RequestScope</a></li>\n<li><a href=\"https://github.com/gary-archer/oauth.apisample.javaspringboot\" rel=\"nofollow noreferrer\">Full Java API Code Sample</a></li>\n</ul>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84338,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":33337838,"answer_count":10,"score":70,"last_activity_date":1696324261,"creation_date":1400484731,"question_id":23732089,"body_markdown":"In my app I have some async web services. Server accept request, return OK response and start processing request with AsyncTaskExecutor. My question is how to enable request scope here because in this processing I need to get class which is annotated by:\r\n\r\n    @Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n\r\nNow I get exception:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.requestContextImpl&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet/DispatcherPortlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\r\n\r\nbecause it runs in `SimpleAsyncTaskExecutor` and not in `DispatcherServlet`\r\n\r\nmy async processing of request\r\n\r\n\r\n    taskExecutor.execute(new Runnable() {\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tasyncRequest(request);\r\n    \t}\r\n    });\r\n\r\nwhere taskExecutor is:\r\n\r\n\t&lt;bean id=&quot;taskExecutor&quot; class=&quot;org.springframework.core.task.SimpleAsyncTaskExecutor&quot; /&gt;\r\n","title":"How to enable request scope in async task executor","body":"<p>In my app I have some async web services. Server accept request, return OK response and start processing request with AsyncTaskExecutor. My question is how to enable request scope here because in this processing I need to get class which is annotated by:</p>\n\n<pre><code>@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\n</code></pre>\n\n<p>Now I get exception:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.requestContextImpl': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet/DispatcherPortlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n</code></pre>\n\n<p>because it runs in <code>SimpleAsyncTaskExecutor</code> and not in <code>DispatcherServlet</code></p>\n\n<p>my async processing of request</p>\n\n<pre><code>taskExecutor.execute(new Runnable() {\n\n    @Override\n    public void run() {\n        asyncRequest(request);\n    }\n});\n</code></pre>\n\n<p>where taskExecutor is:</p>\n\n<pre><code>&lt;bean id=\"taskExecutor\" class=\"org.springframework.core.task.SimpleAsyncTaskExecutor\" /&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","zeebe"],"comments":[{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":0,"creation_date":1622109381,"post_id":67710527,"comment_id":119698143,"body_markdown":"Why do you use 1.0.0-rc1 if there is already 1.0.0 out?","body":"Why do you use 1.0.0-rc1 if there is already 1.0.0 out?"},{"owner":{"account_id":1955366,"reputation":4747,"user_id":1758461,"accept_rate":33,"display_name":"Josh Wulf"},"score":0,"creation_date":1622665933,"post_id":67710527,"comment_id":119861021,"body_markdown":"What OS are you on? The docker network needs to map to 127.0.0.1. Windows may have an issue with this?","body":"What OS are you on? The docker network needs to map to 127.0.0.1. Windows may have an issue with this?"},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":1,"creation_date":1652876118,"post_id":67710527,"comment_id":127711804,"body_markdown":"Did you find any solution to this ? I am struggling with the same error","body":"Did you find any solution to this ? I am struggling with the same error"}],"owner":{"account_id":5806455,"reputation":484,"user_id":4578915,"accept_rate":0,"display_name":"Shiva MSK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696324021,"creation_date":1622052692,"question_id":67710527,"body_markdown":"I ran the zeebe in local using operate from zeebe-docker-compose \r\nhttps://github.com/zeebe-io/zeebe-docker-compose/blob/master/operate/docker-compose.yml\r\n\r\nUsing the example from read me : Tried to connect to the zeebe using this configuration from spring-zeebe-starter:\r\n\r\nversion: 1.0.0-rc1 \r\n\r\n```\r\nzeebe.client.broker.gatewayAddress=127.0.0.1:26500\r\nzeebe.client.security.plaintext=true\r\n```\r\n\r\nBut it refuses the connection : \r\n\r\n```\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;zeebeClientLifecycle&#39;; nested exception is io.camunda.zeebe.client.api.command.ClientStatusException: io exception\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:63) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat com.rupeek.orchestrator.TMSApplication.main(TMSApplication.java:31) ~[classes/:na]\r\nCaused by: io.camunda.zeebe.client.api.command.ClientStatusException: io exception\r\n\tat io.camunda.zeebe.client.impl.ZeebeClientFutureImpl.transformExecutionException(ZeebeClientFutureImpl.java:93) ~[zeebe-client-java-1.0.0-rc1.jar:1.0.0-rc1]\r\n\tat io.camunda.zeebe.client.impl.ZeebeClientFutureImpl.join(ZeebeClientFutureImpl.java:50) ~[zeebe-client-java-1.0.0-rc1.jar:1.0.0-rc1]\r\n\tat io.zeebe.spring.client.config.processor.DeploymentPostProcessor.lambda$apply$3(DeploymentPostProcessor.java:49) ~[spring-zeebe-1.0.0-rc1.jar:1.0.0-rc1]\r\n\tat io.zeebe.spring.client.ZeebeClientLifecycle.lambda$start$0(ZeebeClientLifecycle.java:43) ~[spring-zeebe-1.0.0-rc1.jar:1.0.0-rc1]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat io.zeebe.spring.client.ZeebeClientLifecycle.start(ZeebeClientLifecycle.java:43) ~[spring-zeebe-1.0.0-rc1.jar:1.0.0-rc1]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.6.jar:5.3.6]\r\n\t... 15 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2063) ~[na:na]\r\n\tat io.camunda.zeebe.client.impl.ZeebeClientFutureImpl.join(ZeebeClientFutureImpl.java:48) ~[zeebe-client-java-1.0.0-rc1.jar:1.0.0-rc1]\r\n\t... 20 common frames omitted\r\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.37.0.jar:1.37.0]\r\n\tat io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:553) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:68) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:739) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:718) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.37.0.jar:1.37.0]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: /0.0.0.0:26500\r\nCaused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\r\n\tat io.netty.channel.unix.Errors.newConnectException0(Errors.java:155) ~[netty-transport-native-unix-common-4.1.63.Final.jar:4.1.63.Final]\r\n\tat io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128) ~[netty-transport-native-unix-common-4.1.63.Final.jar:4.1.63.Final]\r\n\tat io.netty.channel.unix.Socket.finishConnect(Socket.java:278) ~[netty-transport-native-unix-common-4.1.63.Final.jar:4.1.63.Final]\r\n\tat io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\r\n\tat io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\r\n\tat io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\r\n\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:470) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.63.Final.jar:4.1.63.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.63.Final.jar:4.1.63.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.63.Final.jar:4.1.63.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:an]\r\n```\r\n\r\nApplication.java File : \r\n\r\n```\r\n@SpringBootApplication\r\n@EnableZeebeClient\r\n@RestController\r\n@ZeebeDeployment(classPathResources = {&quot;sample.bpmn&quot;})\r\npublic class SampleApplication {\r\n\r\n    @Autowired\r\n    private ZeebeClientLifecycle client;\r\n\r\n///// Some methods \r\n\r\n\r\n}\r\n\r\n```","title":"Spring Boot Java Client not able to connect to Zeebe Docker","body":"<p>I ran the zeebe in local using operate from zeebe-docker-compose\n<a href=\"https://github.com/zeebe-io/zeebe-docker-compose/blob/master/operate/docker-compose.yml\" rel=\"nofollow noreferrer\">https://github.com/zeebe-io/zeebe-docker-compose/blob/master/operate/docker-compose.yml</a></p>\n<p>Using the example from read me : Tried to connect to the zeebe using this configuration from spring-zeebe-starter:</p>\n<p>version: 1.0.0-rc1</p>\n<pre><code>zeebe.client.broker.gatewayAddress=127.0.0.1:26500\nzeebe.client.security.plaintext=true\n</code></pre>\n<p>But it refuses the connection :</p>\n<pre><code>org.springframework.context.ApplicationContextException: Failed to start bean 'zeebeClientLifecycle'; nested exception is io.camunda.zeebe.client.api.command.ClientStatusException: io exception\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.6.jar:5.3.6]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:63) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\n    at com.rupeek.orchestrator.TMSApplication.main(TMSApplication.java:31) ~[classes/:na]\nCaused by: io.camunda.zeebe.client.api.command.ClientStatusException: io exception\n    at io.camunda.zeebe.client.impl.ZeebeClientFutureImpl.transformExecutionException(ZeebeClientFutureImpl.java:93) ~[zeebe-client-java-1.0.0-rc1.jar:1.0.0-rc1]\n    at io.camunda.zeebe.client.impl.ZeebeClientFutureImpl.join(ZeebeClientFutureImpl.java:50) ~[zeebe-client-java-1.0.0-rc1.jar:1.0.0-rc1]\n    at io.zeebe.spring.client.config.processor.DeploymentPostProcessor.lambda$apply$3(DeploymentPostProcessor.java:49) ~[spring-zeebe-1.0.0-rc1.jar:1.0.0-rc1]\n    at io.zeebe.spring.client.ZeebeClientLifecycle.lambda$start$0(ZeebeClientLifecycle.java:43) ~[spring-zeebe-1.0.0-rc1.jar:1.0.0-rc1]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at io.zeebe.spring.client.ZeebeClientLifecycle.start(ZeebeClientLifecycle.java:43) ~[spring-zeebe-1.0.0-rc1.jar:1.0.0-rc1]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.6.jar:5.3.6]\n    ... 15 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2063) ~[na:na]\n    at io.camunda.zeebe.client.impl.ZeebeClientFutureImpl.join(ZeebeClientFutureImpl.java:48) ~[zeebe-client-java-1.0.0-rc1.jar:1.0.0-rc1]\n    ... 20 common frames omitted\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n    at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.37.0.jar:1.37.0]\n    at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.37.0.jar:1.37.0]\n    at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463) ~[grpc-core-1.37.0.jar:1.37.0]\n    at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427) ~[grpc-core-1.37.0.jar:1.37.0]\n    at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460) ~[grpc-core-1.37.0.jar:1.37.0]\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:553) ~[grpc-core-1.37.0.jar:1.37.0]\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:68) ~[grpc-core-1.37.0.jar:1.37.0]\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:739) ~[grpc-core-1.37.0.jar:1.37.0]\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:718) ~[grpc-core-1.37.0.jar:1.37.0]\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.37.0.jar:1.37.0]\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.37.0.jar:1.37.0]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: /0.0.0.0:26500\nCaused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\n    at io.netty.channel.unix.Errors.newConnectException0(Errors.java:155) ~[netty-transport-native-unix-common-4.1.63.Final.jar:4.1.63.Final]\n    at io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128) ~[netty-transport-native-unix-common-4.1.63.Final.jar:4.1.63.Final]\n    at io.netty.channel.unix.Socket.finishConnect(Socket.java:278) ~[netty-transport-native-unix-common-4.1.63.Final.jar:4.1.63.Final]\n    at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\n    at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\n    at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:470) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-native-epoll-4.1.63.Final-linux-x86_64.jar:4.1.63.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.63.Final.jar:4.1.63.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.63.Final.jar:4.1.63.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.63.Final.jar:4.1.63.Final]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:an]\n</code></pre>\n<p>Application.java File :</p>\n<pre><code>@SpringBootApplication\n@EnableZeebeClient\n@RestController\n@ZeebeDeployment(classPathResources = {&quot;sample.bpmn&quot;})\npublic class SampleApplication {\n\n    @Autowired\n    private ZeebeClientLifecycle client;\n\n///// Some methods \n\n\n}\n\n</code></pre>\n"},{"tags":["java","mysql","ssh","mysql-connector","jsch"],"answers":[{"comments":[{"owner":{"account_id":1772094,"reputation":1481,"user_id":1616676,"accept_rate":0,"display_name":"harsh"},"score":0,"creation_date":1388998417,"post_id":1968446,"comment_id":31458080,"body_markdown":"its not working for me.. after the session is connected, when i try to connect to `localhost:[port]` from java, it tries for like forever without giving any exception, but it can not connect to the database.\n\nAny help is appreciated.","body":"its not working for me.. after the session is connected, when i try to connect to <code>localhost:[port]</code> from java, it tries for like forever without giving any exception, but it can not connect to the database.  Any help is appreciated."}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1261986411,"creation_date":1261986411,"answer_id":1968446,"question_id":1968293,"body_markdown":"My understanding is that you want to access a mysql server running on a remote machine and listening on let&#39;s say port 3306 through a SSH tunnel. \r\n\r\nTo create such a tunnel from port 1234 on your local machine to port 3306 on a remote machine using the command line ssh client, you would type the following command from your local machine:\r\n\r\n    ssh -L 1234:localhost:3306 mysql.server.remote\r\n\r\nTo do the same thing from Java, you could use [JSch][1], a Java implementation of SSH2. From its website:\r\n\r\n&gt; JSch allows you to connect to an sshd server and use port forwarding, X11 forwarding, file transfer, etc., and you can integrate its functionality into your own Java programs. JSch is licensed under BSD style license. \r\n\r\nFor an example, have a look at [`PortForwardingL.java`][2]. Once the session connected, create your JDBC connection to MySQL using something like `jdbc:mysql://localhost:1234/[database]` as connection URL. \r\n\r\n\r\n  [1]: http://www.jcraft.com/jsch/\r\n  [2]: http://www.jcraft.com/jsch/examples/PortForwardingL.java","title":"Connect to remote MySQL database through SSH using Java","body":"<p>My understanding is that you want to access a mysql server running on a remote machine and listening on let's say port 3306 through a SSH tunnel. </p>\n\n<p>To create such a tunnel from port 1234 on your local machine to port 3306 on a remote machine using the command line ssh client, you would type the following command from your local machine:</p>\n\n<pre><code>ssh -L 1234:localhost:3306 mysql.server.remote\n</code></pre>\n\n<p>To do the same thing from Java, you could use <a href=\"http://www.jcraft.com/jsch/\" rel=\"noreferrer\">JSch</a>, a Java implementation of SSH2. From its website:</p>\n\n<blockquote>\n  <p>JSch allows you to connect to an sshd server and use port forwarding, X11 forwarding, file transfer, etc., and you can integrate its functionality into your own Java programs. JSch is licensed under BSD style license. </p>\n</blockquote>\n\n<p>For an example, have a look at <a href=\"http://www.jcraft.com/jsch/examples/PortForwardingL.java\" rel=\"noreferrer\"><code>PortForwardingL.java</code></a>. Once the session connected, create your JDBC connection to MySQL using something like <code>jdbc:mysql://localhost:1234/[database]</code> as connection URL. </p>\n"},{"comments":[{"owner":{"account_id":131998,"reputation":134,"user_id":1720272,"display_name":"sergey.radov"},"score":0,"creation_date":1577194482,"post_id":14136488,"comment_id":105118111,"body_markdown":"This sample helped me to resolve blind error which I couldn&#39;t locate by myself.","body":"This sample helped me to resolve blind error which I couldn&#39;t locate by myself."}],"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1357206924,"creation_date":1357206924,"answer_id":14136488,"question_id":1968293,"body_markdown":"My detail code is below:\r\n\r\n    package mypackage;\r\n    import java.sql.*;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n    \r\n    public class UpdateMySqlDatabase {\r\n        static int lport;\r\n        static String rhost;\r\n        static int rport;\r\n    \tpublic static void go(){\r\n    \t    String user = &quot;ripon&quot;;\r\n    \t    String password = &quot;wasim&quot;;\r\n    \t    String host = &quot;myhost.ripon.wasim&quot;;\r\n    \t    int port=22;\r\n    \t    try\r\n    \t        {\r\n    \t        JSch jsch = new JSch();\r\n    \t        Session session = jsch.getSession(user, host, port);\r\n    \t        lport = 4321;\r\n    \t        rhost = &quot;localhost&quot;;\r\n    \t        rport = 3306;\r\n    \t        session.setPassword(password);\r\n    \t        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \t        System.out.println(&quot;Establishing Connection...&quot;);\r\n    \t        session.connect();\r\n    \t        int assinged_port=session.setPortForwardingL(lport, rhost, rport);\r\n    \t        System.out.println(&quot;localhost:&quot;+assinged_port+&quot; -&gt; &quot;+rhost+&quot;:&quot;+rport);\r\n    \t        }\r\n    \t    catch(Exception e){System.err.print(e);}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n            try{\r\n            \tgo();\r\n            } catch(Exception ex){\r\n                ex.printStackTrace();\r\n            }\r\n    \t\t  System.out.println(&quot;An example for updating a Row from Mysql Database!&quot;);\r\n    \t\t  Connection con = null;\r\n    \t\t  String driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n    \t\t  String url = &quot;jdbc:mysql://&quot; + rhost +&quot;:&quot; + lport + &quot;/&quot;;\r\n    \t\t  String db = &quot;testDB&quot;;\r\n    \t\t  String dbUser = &quot;wasim&quot;;\r\n    \t\t  String dbPasswd = &quot;riponalwasim123&quot;;\r\n    \t\t  try{\r\n    \t\t  Class.forName(driver);\r\n    \t\t  con = DriverManager.getConnection(url+db, dbUser, dbPasswd);\r\n    \t\t  try{\r\n    \t\t  Statement st = con.createStatement();\r\n    \t\t  String sql = &quot;UPDATE MyTableName &quot; +\r\n                      &quot;SET email = &#39;ripon.wasim@smile.com&#39; WHERE email=&#39;peace@happy.com&#39;&quot;;\r\n    \t\t  \r\n    \t\t  int update = st.executeUpdate(sql);\r\n    \t\t  if(update &gt;= 1){\r\n    \t\t  System.out.println(&quot;Row is updated.&quot;);\r\n    \t\t  }\r\n    \t\t  else{\r\n    \t\t  System.out.println(&quot;Row is not updated.&quot;);\r\n    \t\t  }\r\n    \t\t  }\r\n    \t\t  catch (SQLException s){\r\n    \t\t  System.out.println(&quot;SQL statement is not executed!&quot;);\r\n    \t\t  }\r\n    \t\t  }\r\n    \t\t  catch (Exception e){\r\n    \t\t  e.printStackTrace();\r\n    \t\t  }\r\n    \t\t  }\r\n    \t\t}","title":"Connect to remote MySQL database through SSH using Java","body":"<p>My detail code is below:</p>\n\n<pre><code>package mypackage;\nimport java.sql.*;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\n\npublic class UpdateMySqlDatabase {\n    static int lport;\n    static String rhost;\n    static int rport;\n    public static void go(){\n        String user = \"ripon\";\n        String password = \"wasim\";\n        String host = \"myhost.ripon.wasim\";\n        int port=22;\n        try\n            {\n            JSch jsch = new JSch();\n            Session session = jsch.getSession(user, host, port);\n            lport = 4321;\n            rhost = \"localhost\";\n            rport = 3306;\n            session.setPassword(password);\n            session.setConfig(\"StrictHostKeyChecking\", \"no\");\n            System.out.println(\"Establishing Connection...\");\n            session.connect();\n            int assinged_port=session.setPortForwardingL(lport, rhost, rport);\n            System.out.println(\"localhost:\"+assinged_port+\" -&gt; \"+rhost+\":\"+rport);\n            }\n        catch(Exception e){System.err.print(e);}\n    }\n    public static void main(String[] args) {\n        try{\n            go();\n        } catch(Exception ex){\n            ex.printStackTrace();\n        }\n          System.out.println(\"An example for updating a Row from Mysql Database!\");\n          Connection con = null;\n          String driver = \"com.mysql.jdbc.Driver\";\n          String url = \"jdbc:mysql://\" + rhost +\":\" + lport + \"/\";\n          String db = \"testDB\";\n          String dbUser = \"wasim\";\n          String dbPasswd = \"riponalwasim123\";\n          try{\n          Class.forName(driver);\n          con = DriverManager.getConnection(url+db, dbUser, dbPasswd);\n          try{\n          Statement st = con.createStatement();\n          String sql = \"UPDATE MyTableName \" +\n                  \"SET email = 'ripon.wasim@smile.com' WHERE email='peace@happy.com'\";\n\n          int update = st.executeUpdate(sql);\n          if(update &gt;= 1){\n          System.out.println(\"Row is updated.\");\n          }\n          else{\n          System.out.println(\"Row is not updated.\");\n          }\n          }\n          catch (SQLException s){\n          System.out.println(\"SQL statement is not executed!\");\n          }\n          }\n          catch (Exception e){\n          e.printStackTrace();\n          }\n          }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6275874,"reputation":29,"user_id":4878576,"display_name":"user4878576"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1431081372,"creation_date":1431081071,"answer_id":30121628,"question_id":1968293,"body_markdown":"    package framework.restapi.utils;\r\n    \r\n    import java.sql.*;\r\n    \r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n    import com.mysql.jdbc.jdbc2.optional.MysqlDataSource;\r\n    \r\n    import java.sql.Connection;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class SQLConnection {\r\n        private static Connection connection = null;\r\n        private static Session session = null;\r\n    \r\n        private static void connectToServer(String dataBaseName) throws SQLException {\r\n            connectSSH();\r\n            connectToDataBase(dataBaseName);\r\n        }\r\n    \r\n        private static void connectSSH() throws SQLException {\r\n            String sshHost = &quot;&quot;;\r\n            String sshuser = &quot;&quot;;\r\n            String dbuserName = &quot;&quot;;\r\n            String dbpassword = &quot;&quot;;\r\n            String SshKeyFilepath = &quot;/Users/XXXXXX/.ssh/id_rsa&quot;;\r\n    \r\n            int localPort = 8740; // any free port can be used\r\n            String remoteHost = &quot;127.0.0.1&quot;;\r\n            int remotePort = 3306;\r\n            String localSSHUrl = &quot;localhost&quot;;\r\n            /***************/\r\n            String driverName = &quot;com.mysql.jdbc.Driver&quot;;\r\n    \r\n            try {\r\n                java.util.Properties config = new java.util.Properties();\r\n                JSch jsch = new JSch();\r\n                session = jsch.getSession(sshuser, sshHost, 22);\r\n                jsch.addIdentity(SshKeyFilepath);\r\n                config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                config.put(&quot;ConnectionAttempts&quot;, &quot;3&quot;);\r\n                session.setConfig(config);\r\n                session.connect();\r\n    \r\n                System.out.println(&quot;SSH Connected&quot;);\r\n    \r\n                Class.forName(driverName).newInstance();\r\n    \r\n                int assinged_port = session.setPortForwardingL(localPort, remoteHost, remotePort);\r\n    \r\n                System.out.println(&quot;localhost:&quot; + assinged_port + &quot; -&gt; &quot; + remoteHost + &quot;:&quot; + remotePort);\r\n                System.out.println(&quot;Port Forwarded&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private static void connectToDataBase(String dataBaseName) throws SQLException {\r\n            String dbuserName = &quot;sf2_showpad_biz&quot;;\r\n            String dbpassword = &quot;lOAWEnL3K&quot;;\r\n            int localPort = 8740; // any free port can be used\r\n            String localSSHUrl = &quot;localhost&quot;;\r\n            try {\r\n    \r\n                //mysql database connectivity\r\n                MysqlDataSource dataSource = new MysqlDataSource();\r\n                dataSource.setServerName(localSSHUrl);\r\n                dataSource.setPortNumber(localPort);\r\n                dataSource.setUser(dbuserName);\r\n                dataSource.setAllowMultiQueries(true);\r\n    \r\n                dataSource.setPassword(dbpassword);\r\n                dataSource.setDatabaseName(dataBaseName);\r\n    \r\n                connection = dataSource.getConnection();\r\n    \r\n                System.out.print(&quot;Connection to server successful!:&quot; + connection + &quot;\\n\\n&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        private static void closeConnections() {\r\n            CloseDataBaseConnection();\r\n            CloseSSHConnection();\r\n        }\r\n    \r\n        private static void CloseDataBaseConnection() {\r\n            try {\r\n                if (connection != null &amp;&amp; !connection.isClosed()) {\r\n                    System.out.println(&quot;Closing Database Connection&quot;);\r\n                    connection.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n        private static void CloseSSHConnection() {\r\n            if (session != null &amp;&amp; session.isConnected()) {\r\n                System.out.println(&quot;Closing SSH Connection&quot;);\r\n                session.disconnect();\r\n            }\r\n        }\r\n    \r\n    \r\n        // works ONLY FOR  single query (one SELECT or one DELETE etc)\r\n        private static ResultSet executeMyQuery(String query, String dataBaseName) {\r\n            ResultSet resultSet = null;\r\n    \r\n            try {\r\n                connectToServer(dataBaseName);\r\n                Statement stmt = connection.createStatement();\r\n                resultSet = stmt.executeQuery(query);\r\n                System.out.println(&quot;Database connection success&quot;);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return resultSet;\r\n        }\r\n    \r\n        public static void DeleteOrganisationReferencesFromDB(String organisationsLike) {\r\n            try {\r\n                connectToServer(&quot;ServerName&quot;);\r\n                Statement stmt = connection.createStatement();\r\n    \r\n                ResultSet resultSet = stmt.executeQuery(&quot;select * from DB1&quot;);\r\n    \r\n                String organisationsToDelete = &quot;&quot;;\r\n                List&lt;String&gt; organisationsIds = new ArrayList&lt;String&gt;();\r\n    \r\n                // create string with id`s values to delete organisations references\r\n                while (resultSet.next()) {\r\n                    String actualValue = resultSet.getString(&quot;id&quot;);\r\n                    organisationsIds.add(actualValue);\r\n                }\r\n    \r\n                for (int i = 0; i &lt; organisationsIds.size(); i++) {\r\n                    organisationsToDelete = &quot; &quot; + organisationsToDelete + organisationsIds.get(i);\r\n                    if (i != organisationsIds.size() - 1) {\r\n                        organisationsToDelete = organisationsToDelete + &quot;, &quot;;\r\n                    }\r\n                }\r\n    \r\n                stmt.executeUpdate(&quot; DELETE FROM `DB1`.`table1` WHERE `DB1`.`table1`.`organisation_id` in ( &quot; + organisationsToDelete + &quot; );&quot;);\r\n              \r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                closeConnections();\r\n            }\r\n        }\r\n    \r\n        public static List&lt;String&gt; getOrganisationsDBNamesBySubdomain(String organisationsLike) {\r\n            List&lt;String&gt; organisationDbNames = new ArrayList&lt;String&gt;();\r\n            ResultSet resultSet = executeMyQuery(&quot;select `DB`.organisation.dbname from `DB1`.organisation where subdomain like &#39;&quot; + organisationsLike + &quot;%&#39;&quot;, &quot;DB1&quot;);\r\n            try {\r\n                while (resultSet.next()) {\r\n                    String actualValue = resultSet.getString(&quot;dbname&quot;);\r\n                    organisationDbNames.add(actualValue);\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                closeConnections();\r\n            }\r\n            return organisationDbNames;\r\n        }\r\n    \r\n         public static List&lt;String&gt; getAllDBNames() {\r\n            // get all live db names incentral DB\r\n            List&lt;String&gt; organisationDbNames = new ArrayList&lt;String&gt;();\r\n            ResultSet resultSet = executeMyQuery(&quot;show databases&quot;, &quot;DB1&quot;);\r\n            try {\r\n                while (resultSet.next()) {\r\n                    String actualValue = resultSet.getString(&quot;Database&quot;);\r\n                    organisationDbNames.add(actualValue);\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                closeConnections();\r\n            }\r\n            return organisationDbNames;\r\n        }\r\n    \r\n          public static void deleteDataBasesByName(List&lt;String&gt; DataBasesNamesList) {\r\n            try {\r\n                connectSSH();\r\n                int dataBasesAmount = DataBasesNamesList.size();\r\n                for (int i = 0; i &lt; dataBasesAmount; i++) {\r\n                    connectToDataBase(DataBasesNamesList.get(i));\r\n    \r\n                    Statement stmt = connection.createStatement();\r\n                    stmt.executeUpdate(&quot;DROP database `&quot; + DataBasesNamesList.get(i) + &quot;`&quot;);\r\n    \r\n                }\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                CloseDataBaseConnection();\r\n                closeConnections();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Connect to remote MySQL database through SSH using Java","body":"<pre><code>package framework.restapi.utils;\n\nimport java.sql.*;\n\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\nimport com.mysql.jdbc.jdbc2.optional.MysqlDataSource;\n\nimport java.sql.Connection;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SQLConnection {\n    private static Connection connection = null;\n    private static Session session = null;\n\n    private static void connectToServer(String dataBaseName) throws SQLException {\n        connectSSH();\n        connectToDataBase(dataBaseName);\n    }\n\n    private static void connectSSH() throws SQLException {\n        String sshHost = \"\";\n        String sshuser = \"\";\n        String dbuserName = \"\";\n        String dbpassword = \"\";\n        String SshKeyFilepath = \"/Users/XXXXXX/.ssh/id_rsa\";\n\n        int localPort = 8740; // any free port can be used\n        String remoteHost = \"127.0.0.1\";\n        int remotePort = 3306;\n        String localSSHUrl = \"localhost\";\n        /***************/\n        String driverName = \"com.mysql.jdbc.Driver\";\n\n        try {\n            java.util.Properties config = new java.util.Properties();\n            JSch jsch = new JSch();\n            session = jsch.getSession(sshuser, sshHost, 22);\n            jsch.addIdentity(SshKeyFilepath);\n            config.put(\"StrictHostKeyChecking\", \"no\");\n            config.put(\"ConnectionAttempts\", \"3\");\n            session.setConfig(config);\n            session.connect();\n\n            System.out.println(\"SSH Connected\");\n\n            Class.forName(driverName).newInstance();\n\n            int assinged_port = session.setPortForwardingL(localPort, remoteHost, remotePort);\n\n            System.out.println(\"localhost:\" + assinged_port + \" -&gt; \" + remoteHost + \":\" + remotePort);\n            System.out.println(\"Port Forwarded\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void connectToDataBase(String dataBaseName) throws SQLException {\n        String dbuserName = \"sf2_showpad_biz\";\n        String dbpassword = \"lOAWEnL3K\";\n        int localPort = 8740; // any free port can be used\n        String localSSHUrl = \"localhost\";\n        try {\n\n            //mysql database connectivity\n            MysqlDataSource dataSource = new MysqlDataSource();\n            dataSource.setServerName(localSSHUrl);\n            dataSource.setPortNumber(localPort);\n            dataSource.setUser(dbuserName);\n            dataSource.setAllowMultiQueries(true);\n\n            dataSource.setPassword(dbpassword);\n            dataSource.setDatabaseName(dataBaseName);\n\n            connection = dataSource.getConnection();\n\n            System.out.print(\"Connection to server successful!:\" + connection + \"\\n\\n\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    private static void closeConnections() {\n        CloseDataBaseConnection();\n        CloseSSHConnection();\n    }\n\n    private static void CloseDataBaseConnection() {\n        try {\n            if (connection != null &amp;&amp; !connection.isClosed()) {\n                System.out.println(\"Closing Database Connection\");\n                connection.close();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private static void CloseSSHConnection() {\n        if (session != null &amp;&amp; session.isConnected()) {\n            System.out.println(\"Closing SSH Connection\");\n            session.disconnect();\n        }\n    }\n\n\n    // works ONLY FOR  single query (one SELECT or one DELETE etc)\n    private static ResultSet executeMyQuery(String query, String dataBaseName) {\n        ResultSet resultSet = null;\n\n        try {\n            connectToServer(dataBaseName);\n            Statement stmt = connection.createStatement();\n            resultSet = stmt.executeQuery(query);\n            System.out.println(\"Database connection success\");\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return resultSet;\n    }\n\n    public static void DeleteOrganisationReferencesFromDB(String organisationsLike) {\n        try {\n            connectToServer(\"ServerName\");\n            Statement stmt = connection.createStatement();\n\n            ResultSet resultSet = stmt.executeQuery(\"select * from DB1\");\n\n            String organisationsToDelete = \"\";\n            List&lt;String&gt; organisationsIds = new ArrayList&lt;String&gt;();\n\n            // create string with id`s values to delete organisations references\n            while (resultSet.next()) {\n                String actualValue = resultSet.getString(\"id\");\n                organisationsIds.add(actualValue);\n            }\n\n            for (int i = 0; i &lt; organisationsIds.size(); i++) {\n                organisationsToDelete = \" \" + organisationsToDelete + organisationsIds.get(i);\n                if (i != organisationsIds.size() - 1) {\n                    organisationsToDelete = organisationsToDelete + \", \";\n                }\n            }\n\n            stmt.executeUpdate(\" DELETE FROM `DB1`.`table1` WHERE `DB1`.`table1`.`organisation_id` in ( \" + organisationsToDelete + \" );\");\n\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            closeConnections();\n        }\n    }\n\n    public static List&lt;String&gt; getOrganisationsDBNamesBySubdomain(String organisationsLike) {\n        List&lt;String&gt; organisationDbNames = new ArrayList&lt;String&gt;();\n        ResultSet resultSet = executeMyQuery(\"select `DB`.organisation.dbname from `DB1`.organisation where subdomain like '\" + organisationsLike + \"%'\", \"DB1\");\n        try {\n            while (resultSet.next()) {\n                String actualValue = resultSet.getString(\"dbname\");\n                organisationDbNames.add(actualValue);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            closeConnections();\n        }\n        return organisationDbNames;\n    }\n\n     public static List&lt;String&gt; getAllDBNames() {\n        // get all live db names incentral DB\n        List&lt;String&gt; organisationDbNames = new ArrayList&lt;String&gt;();\n        ResultSet resultSet = executeMyQuery(\"show databases\", \"DB1\");\n        try {\n            while (resultSet.next()) {\n                String actualValue = resultSet.getString(\"Database\");\n                organisationDbNames.add(actualValue);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            closeConnections();\n        }\n        return organisationDbNames;\n    }\n\n      public static void deleteDataBasesByName(List&lt;String&gt; DataBasesNamesList) {\n        try {\n            connectSSH();\n            int dataBasesAmount = DataBasesNamesList.size();\n            for (int i = 0; i &lt; dataBasesAmount; i++) {\n                connectToDataBase(DataBasesNamesList.get(i));\n\n                Statement stmt = connection.createStatement();\n                stmt.executeUpdate(\"DROP database `\" + DataBasesNamesList.get(i) + \"`\");\n\n            }\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            CloseDataBaseConnection();\n            closeConnections();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2683178,"reputation":1359,"user_id":2318085,"accept_rate":91,"display_name":"Mohammad Shahadat Hossain"},"score":0,"creation_date":1459027110,"post_id":36238669,"comment_id":60112218,"body_markdown":"Give some details of the solution.","body":"Give some details of the solution."},{"owner":{"account_id":1180874,"reputation":873,"user_id":1196458,"display_name":"Ankur Srivastava"},"score":0,"creation_date":1483998134,"post_id":36238669,"comment_id":70320294,"body_markdown":"It can be said that when you want to connect to the remote host using another host i.e you connect to one host and from there you connect to the main host.This is done for the purpose of security.","body":"It can be said that when you want to connect to the remote host using another host i.e you connect to one host and from there you connect to the main host.This is done for the purpose of security."}],"tags":[],"owner":{"account_id":1180874,"reputation":873,"user_id":1196458,"display_name":"Ankur Srivastava"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1459014413,"creation_date":1459014413,"answer_id":36238669,"question_id":1968293,"body_markdown":"    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.util.Properties;\r\n    \r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.JSchException;\r\n    import com.jcraft.jsch.Session;\r\n    \r\n    public class CTestDriver {\r\n    \tprivate static void doSshTunnel(String strSshUser, String strSshPassword, String strSshHost, int nSshPort,\r\n    \t\t\tString strRemoteHost, int nLocalPort, int nRemotePort) throws JSchException {\r\n    \t\tfinal JSch jsch = new JSch();\r\n    \t\tSession session = jsch.getSession(strSshUser, strSshHost, 22);\r\n    \t\tsession.setPassword(strSshPassword);\r\n    \r\n    \t\tfinal Properties config = new Properties();\r\n    \t\tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \t\tsession.setConfig(config);\r\n    \r\n    \t\tsession.connect();\r\n    \t\tsession.setPortForwardingL(nLocalPort, strRemoteHost, nRemotePort);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tString strSshUser = &quot;ssh_user_name&quot;; // SSH loging username\r\n    \t\t\tString strSshPassword = &quot;abcd1234&quot;; // SSH login password\r\n    \t\t\tString strSshHost = &quot;your.ssh.hostname.com&quot;; // hostname or ip or\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// SSH server\r\n    \t\t\tint nSshPort = 22; // remote SSH host port number\r\n    \t\t\tString strRemoteHost = &quot;your.database.hostname.com&quot;; // hostname or\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// ip of\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// your\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// database\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// server\r\n    \t\t\tint nLocalPort = 3366; // local port number use to bind SSH tunnel\r\n    \t\t\tint nRemotePort = 3306; // remote port number of your database\r\n    \t\t\tString strDbUser = &quot;db_user_name&quot;; // database loging username\r\n    \t\t\tString strDbPassword = &quot;4321dcba&quot;; // database login password\r\n    \r\n    \t\t\tCTestDriver.doSshTunnel(strSshUser, strSshPassword, strSshHost, nSshPort, strRemoteHost, nLocalPort,\r\n    \t\t\t\t\tnRemotePort);\r\n    \r\n    \t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:&quot; + nLocalPort, strDbUser,\r\n    \t\t\t\t\tstrDbPassword);\r\n    \t\t\tcon.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tSystem.exit(0);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Connect to remote MySQL database through SSH using Java","body":"<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.util.Properties;\n\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.JSchException;\nimport com.jcraft.jsch.Session;\n\npublic class CTestDriver {\n    private static void doSshTunnel(String strSshUser, String strSshPassword, String strSshHost, int nSshPort,\n            String strRemoteHost, int nLocalPort, int nRemotePort) throws JSchException {\n        final JSch jsch = new JSch();\n        Session session = jsch.getSession(strSshUser, strSshHost, 22);\n        session.setPassword(strSshPassword);\n\n        final Properties config = new Properties();\n        config.put(\"StrictHostKeyChecking\", \"no\");\n        session.setConfig(config);\n\n        session.connect();\n        session.setPortForwardingL(nLocalPort, strRemoteHost, nRemotePort);\n    }\n\n    public static void main(String[] args) {\n        try {\n            String strSshUser = \"ssh_user_name\"; // SSH loging username\n            String strSshPassword = \"abcd1234\"; // SSH login password\n            String strSshHost = \"your.ssh.hostname.com\"; // hostname or ip or\n                                                            // SSH server\n            int nSshPort = 22; // remote SSH host port number\n            String strRemoteHost = \"your.database.hostname.com\"; // hostname or\n                                                                    // ip of\n                                                                    // your\n                                                                    // database\n                                                                    // server\n            int nLocalPort = 3366; // local port number use to bind SSH tunnel\n            int nRemotePort = 3306; // remote port number of your database\n            String strDbUser = \"db_user_name\"; // database loging username\n            String strDbPassword = \"4321dcba\"; // database login password\n\n            CTestDriver.doSshTunnel(strSshUser, strSshPassword, strSshHost, nSshPort, strRemoteHost, nLocalPort,\n                    nRemotePort);\n\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:\" + nLocalPort, strDbUser,\n                    strDbPassword);\n            con.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10961258,"reputation":1596,"user_id":9697266,"display_name":"Max"},"score":0,"creation_date":1524911111,"post_id":50065270,"comment_id":87167145,"body_markdown":"You will actually **have to** reuse the session, or multiple connections will fail. Right now that would not really be a problem as I have 1 executor running with a pool of 1 Thread, I put all my selects into, that feed the view with data. But im gonna do updates later on top of that, so then this would fail as they might (not always) overlap with selects. So, I still changed the session to static anyways and just call shutdown on closing the application, we&#180;ll see if there is any problem with that, ever.","body":"You will actually <b>have to</b> reuse the session, or multiple connections will fail. Right now that would not really be a problem as I have 1 executor running with a pool of 1 Thread, I put all my selects into, that feed the view with data. But im gonna do updates later on top of that, so then this would fail as they might (not always) overlap with selects. So, I still changed the session to static anyways and just call shutdown on closing the application, we&#180;ll see if there is any problem with that, ever."}],"tags":[],"owner":{"account_id":10961258,"reputation":1596,"user_id":9697266,"display_name":"Max"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1524842051,"creation_date":1524841511,"answer_id":50065270,"question_id":1968293,"body_markdown":"First of all, thank you works great!\r\n\r\nThough, I wonder if I should reuse that Session for every (potentially simultaneous) SQL Connection, or if I should create a new Session every time and only refresh it if for some reason it has expired.\r\n\r\nCurrently, I would every time I make a connection make a new instance of that Controller here and then do the SQL queries with the connection I got from it, then close it manually.\r\n\r\nWould also be nice if I could make the class useable with try-with-resource and it closing itself. Will look into that. Cause I don&#180;t wanna miss closing it.\r\n\r\nThat&#180;s how the thing looks like, I&#39;m getting DB Connections from right now.\r\n\r\n    public class ConnectionManager {\r\n\r\n    private Connection con = null;\r\n    private Session session = null;\r\n\r\n    public Connection getConnection() {\r\n        Connection con = null;\r\n\r\n        var settings = new DbSettingsController();\r\n\r\n        boolean useSSH = settings.getSetting(SettingKey.UseSSH).equals(&quot;true&quot;);\r\n        String sshPort = settings.getSetting(SettingKey.SSHPort);\r\n        String sqlIp = settings.getSetting(SettingKey.MySqlIP);\r\n        String sqlPort = settings.getSetting(SettingKey.MySqlPort);\r\n        \r\n        if(useSSH) {\r\n            JSch jSch = new JSch();\r\n            try {\r\n                this.session = jSch.getSession(settings.getSetting(SettingKey.SSHUser),\r\n                        settings.getSetting(SettingKey.SSHHost),\r\n                        Integer.valueOf(sshPort));\r\n                this.session.setPassword(settings.getSetting(SettingKey.SSHPassword));\r\n                this.session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                this.session.connect();\r\n                this.session.setPortForwardingL(Integer.parseInt(sshPort), sqlIp, Integer.parseInt(sqlPort));\r\n            } catch (JSchException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        var connectionString = String.format(&quot;jdbc:mysql://%s:%s/%s?autoReconnect=true&amp;useSSL=false&quot;,\r\n                sqlIp, useSSH ? sshPort : sqlPort,\r\n                settings.getSetting(SettingKey.MySqlShema));\r\n\r\n        var user = settings.getSetting(SettingKey.MySqlUser);\r\n        var password = settings.getSetting(SettingKey.MySqlPassword);\r\n\r\n        try {\r\n            con = DriverManager.getConnection(connectionString, user, password);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return con;\r\n    }\r\n\r\n    public void close() {\r\n        if(this.con != null) {\r\n            try {\r\n                this.con.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        if(this.session != null) {\r\n            this.session.disconnect();\r\n        }\r\n    }\r\n\r\nIf you wonder DbSettingsController I&#180;ve made myself too, just puts settings in a Text column in a local SQLite DB, with a key assigned to it (that enum&#180;s int value). Was just copy paste code I reused from some other project, so it was simple and fast to just do that this way.","title":"Connect to remote MySQL database through SSH using Java","body":"<p>First of all, thank you works great!</p>\n\n<p>Though, I wonder if I should reuse that Session for every (potentially simultaneous) SQL Connection, or if I should create a new Session every time and only refresh it if for some reason it has expired.</p>\n\n<p>Currently, I would every time I make a connection make a new instance of that Controller here and then do the SQL queries with the connection I got from it, then close it manually.</p>\n\n<p>Would also be nice if I could make the class useable with try-with-resource and it closing itself. Will look into that. Cause I don´t wanna miss closing it.</p>\n\n<p>That´s how the thing looks like, I'm getting DB Connections from right now.</p>\n\n<pre><code>public class ConnectionManager {\n\nprivate Connection con = null;\nprivate Session session = null;\n\npublic Connection getConnection() {\n    Connection con = null;\n\n    var settings = new DbSettingsController();\n\n    boolean useSSH = settings.getSetting(SettingKey.UseSSH).equals(\"true\");\n    String sshPort = settings.getSetting(SettingKey.SSHPort);\n    String sqlIp = settings.getSetting(SettingKey.MySqlIP);\n    String sqlPort = settings.getSetting(SettingKey.MySqlPort);\n\n    if(useSSH) {\n        JSch jSch = new JSch();\n        try {\n            this.session = jSch.getSession(settings.getSetting(SettingKey.SSHUser),\n                    settings.getSetting(SettingKey.SSHHost),\n                    Integer.valueOf(sshPort));\n            this.session.setPassword(settings.getSetting(SettingKey.SSHPassword));\n            this.session.setConfig(\"StrictHostKeyChecking\", \"no\");\n            this.session.connect();\n            this.session.setPortForwardingL(Integer.parseInt(sshPort), sqlIp, Integer.parseInt(sqlPort));\n        } catch (JSchException e) {\n            e.printStackTrace();\n        }\n    }\n\n    var connectionString = String.format(\"jdbc:mysql://%s:%s/%s?autoReconnect=true&amp;useSSL=false\",\n            sqlIp, useSSH ? sshPort : sqlPort,\n            settings.getSetting(SettingKey.MySqlShema));\n\n    var user = settings.getSetting(SettingKey.MySqlUser);\n    var password = settings.getSetting(SettingKey.MySqlPassword);\n\n    try {\n        con = DriverManager.getConnection(connectionString, user, password);\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n\n    return con;\n}\n\npublic void close() {\n    if(this.con != null) {\n        try {\n            this.con.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    if(this.session != null) {\n        this.session.disconnect();\n    }\n}\n</code></pre>\n\n<p>If you wonder DbSettingsController I´ve made myself too, just puts settings in a Text column in a local SQLite DB, with a key assigned to it (that enum´s int value). Was just copy paste code I reused from some other project, so it was simple and fast to just do that this way.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1696323334,"creation_date":1555584938,"answer_id":55744561,"question_id":1968293,"body_markdown":"*While the existing answers are correct, they obscure the significant code in bloats of other code.*\r\n\r\nThis is the basic code you need to tunnel your JDBC (or any other) database connection through an SSH channel:\r\n\r\n    String jumpserverHost = &quot;ssh.example.com&quot;;\r\n    String jumpserverUsername = &quot;sshuser&quot;;\r\n    // The hostname/IP address and port, you would use on the SSH server\r\n    // to connect to the database.\r\n    // If the database runs on the same machine as the SSH server, use &quot;localhost&quot;.\r\n    String databaseHost = &quot;database.example.com&quot;;\r\n    int databasePort = 3306;\r\n    String databaseUsername = &quot;dbuser&quot;;\r\n    String databasePassword = &quot;dbpass&quot;;\r\n\r\n    JSch jsch = new JSch();\r\n    // Public key authentication example\r\n    // (but you can use password authentication, if appropriate).\r\n    jsch.addIdentity(&quot;~/.ssh/id_rsa&quot;);\r\n\r\n    // Connect to SSH jump server (this does not show an authentication code)\r\n    Session session = jsch.getSession(jumpserverUsername, jumpserverHost);\r\n    session.connect();\r\n\r\n    // Forward automatically chosen local free port through the SSH channel\r\n    // to database host/port\r\n    int forwardedPort = session.setPortForwardingL(0, databaseHost, databasePort);\r\n\r\n    // Connect to the forwarded port (the local end of the SSH tunnel).\r\n    // If you don&#39;t use JDBC, but another database client,\r\n    // just connect it to the localhost:forwardedPort\r\n    String url = &quot;jdbc:mysql://localhost:&quot; + forwardedPort;\r\n    Connection con =\r\n        DriverManager.getConnection(url, databaseUsername, databasePassword);\r\n\r\n---\r\n\r\n*You will also have to deal with host key verification. For that see:  \r\nhttps://stackoverflow.com/q/32852906/850848*\r\n","title":"Connect to remote MySQL database through SSH using Java","body":"<p><em>While the existing answers are correct, they obscure the significant code in bloats of other code.</em></p>\n<p>This is the basic code you need to tunnel your JDBC (or any other) database connection through an SSH channel:</p>\n<pre><code>String jumpserverHost = &quot;ssh.example.com&quot;;\nString jumpserverUsername = &quot;sshuser&quot;;\n// The hostname/IP address and port, you would use on the SSH server\n// to connect to the database.\n// If the database runs on the same machine as the SSH server, use &quot;localhost&quot;.\nString databaseHost = &quot;database.example.com&quot;;\nint databasePort = 3306;\nString databaseUsername = &quot;dbuser&quot;;\nString databasePassword = &quot;dbpass&quot;;\n\nJSch jsch = new JSch();\n// Public key authentication example\n// (but you can use password authentication, if appropriate).\njsch.addIdentity(&quot;~/.ssh/id_rsa&quot;);\n\n// Connect to SSH jump server (this does not show an authentication code)\nSession session = jsch.getSession(jumpserverUsername, jumpserverHost);\nsession.connect();\n\n// Forward automatically chosen local free port through the SSH channel\n// to database host/port\nint forwardedPort = session.setPortForwardingL(0, databaseHost, databasePort);\n\n// Connect to the forwarded port (the local end of the SSH tunnel).\n// If you don't use JDBC, but another database client,\n// just connect it to the localhost:forwardedPort\nString url = &quot;jdbc:mysql://localhost:&quot; + forwardedPort;\nConnection con =\n    DriverManager.getConnection(url, databaseUsername, databasePassword);\n</code></pre>\n<hr />\n<p><em>You will also have to deal with host key verification. For that see:<br />\n<a href=\"https://stackoverflow.com/q/32852906/850848\">How to resolve Java UnknownHostKey, while using JSch SFTP library?</a></em></p>\n"}],"owner":{"account_id":71594,"reputation":19462,"user_id":207090,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88599,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":1968446,"answer_count":6,"score":55,"last_activity_date":1696323334,"creation_date":1261983421,"question_id":1968293,"body_markdown":"How can I connect to remote MySQL database through SSH from java application? Small code example is helpful for me and I&#39;d appreciate this.","title":"Connect to remote MySQL database through SSH using Java","body":"<p>How can I connect to remote MySQL database through SSH from java application? Small code example is helpful for me and I'd appreciate this.</p>\n"},{"tags":["java","spring","spring-mvc","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":1,"up_vote_count":77,"is_accepted":true,"score":76,"last_activity_date":1389646970,"creation_date":1389646970,"answer_id":21101295,"question_id":21101250,"body_markdown":"You&#39;re not missing anything. `RestTemplate#exchange(..)` is the appropriate method to use to set request headers.\r\n\r\n[Here&#39;s an example][1] (with POST, but just change that to GET and use the entity you want). \r\n\r\n[Here&#39;s another example.][2]\r\n\r\nNote that with a GET, your request entity doesn&#39;t have to contain anything (unless your API expects it, but that would go against the HTTP spec). It can be an empty String.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19238715/set-accept-header-for-spring-rest-template\r\n  [2]: https://stackoverflow.com/questions/10358345/making-authenticated-post-requests-with-spring-resttemplate-for-android","title":"Sending GET request with Authentication headers using restTemplate","body":"<p>You're not missing anything. <code>RestTemplate#exchange(..)</code> is the appropriate method to use to set request headers.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19238715/set-accept-header-for-spring-rest-template\">Here's an example</a> (with POST, but just change that to GET and use the entity you want). </p>\n\n<p><a href=\"https://stackoverflow.com/questions/10358345/making-authenticated-post-requests-with-spring-resttemplate-for-android\">Here's another example.</a></p>\n\n<p>Note that with a GET, your request entity doesn't have to contain anything (unless your API expects it, but that would go against the HTTP spec). It can be an empty String.</p>\n"},{"comments":[{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":4,"creation_date":1473085025,"post_id":34532942,"comment_id":65996460,"body_markdown":"`restTemplate.postForEntity(url, entity, String.class)` also works fine.","body":"<code>restTemplate.postForEntity(url, entity, String.class)</code> also works fine."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":7,"creation_date":1598441530,"post_id":34532942,"comment_id":112458678,"body_markdown":"The question is about GET request, but this answer is about POST. It&#39;s misleading. There is no `getForObject` with such a signature.","body":"The question is about GET request, but this answer is about POST. It&#39;s misleading. There is no <code>getForObject</code> with such a signature."}],"tags":[],"owner":{"account_id":109996,"reputation":25916,"user_id":291244,"accept_rate":83,"display_name":"iwein"},"comment_count":2,"down_vote_count":4,"up_vote_count":70,"is_accepted":false,"score":66,"last_activity_date":1451491593,"creation_date":1451491593,"answer_id":34532942,"question_id":21101250,"body_markdown":"You can use `postForObject` with an `HttpEntity`. It would look like this:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+accessToken);\r\n\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson,headers);\r\n    String result = restTemplate.postForObject(url, entity, String.class);\r\n\r\nIn a GET request, you&#39;d usually not send a body (it&#39;s allowed, but it doesn&#39;t serve any purpose). The way to add headers without wiring the RestTemplate differently is to use the `exchange` or `execute` methods directly. The get shorthands don&#39;t support header modification.\r\n\r\nThe asymmetry is a bit weird on a first glance, perhaps this is going to be fixed in future versions of Spring.","title":"Sending GET request with Authentication headers using restTemplate","body":"<p>You can use <code>postForObject</code> with an <code>HttpEntity</code>. It would look like this:</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nheaders.set(\"Authorization\", \"Bearer \"+accessToken);\n\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson,headers);\nString result = restTemplate.postForObject(url, entity, String.class);\n</code></pre>\n\n<p>In a GET request, you'd usually not send a body (it's allowed, but it doesn't serve any purpose). The way to add headers without wiring the RestTemplate differently is to use the <code>exchange</code> or <code>execute</code> methods directly. The get shorthands don't support header modification.</p>\n\n<p>The asymmetry is a bit weird on a first glance, perhaps this is going to be fixed in future versions of Spring.</p>\n"},{"comments":[{"owner":{"account_id":1395326,"reputation":8690,"user_id":1325216,"accept_rate":58,"display_name":"Sander Verhagen"},"score":2,"creation_date":1499664232,"post_id":43590348,"comment_id":76982302,"body_markdown":"Not sure why this was originally downvoted. If you&#39;re the first to downvote, feel free to explain in a comment.","body":"Not sure why this was originally downvoted. If you&#39;re the first to downvote, feel free to explain in a comment."},{"owner":{"account_id":6241498,"reputation":3256,"user_id":4854974,"accept_rate":43,"display_name":"Wenneguen"},"score":2,"creation_date":1504167698,"post_id":43590348,"comment_id":78911827,"body_markdown":"The &quot;Basic &quot; part should not be encoded, should it be ?","body":"The &quot;Basic &quot; part should not be encoded, should it be ?"},{"owner":{"account_id":145479,"reputation":2759,"user_id":355314,"display_name":"Milind"},"score":1,"creation_date":1505840265,"post_id":43590348,"comment_id":79573978,"body_markdown":"The createHttpHeaders method is slightly incorrect.\n    String notEncoded = user + &quot;:&quot; + password;\n    ...\n    headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuth);","body":"The createHttpHeaders method is slightly incorrect.     String notEncoded = user + &quot;:&quot; + password;     ...     headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuth);"},{"owner":{"account_id":435373,"reputation":3104,"user_id":821920,"display_name":"Tim Holt"},"score":0,"creation_date":1505934066,"post_id":43590348,"comment_id":79620574,"body_markdown":"I also just discovered that &quot;Basic&quot; shouldn&#39;t be encoded as well.  This is a good example of how to do auth that I myself used, but correcting the encoding would be good.","body":"I also just discovered that &quot;Basic&quot; shouldn&#39;t be encoded as well.  This is a good example of how to do auth that I myself used, but correcting the encoding would be good."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1518429442,"post_id":43590348,"comment_id":84487130,"body_markdown":"Fixed the Basic encoding mentioned in the comments above","body":"Fixed the Basic encoding mentioned in the comments above"}],"tags":[],"owner":{"account_id":1561405,"reputation":3143,"user_id":1451197,"display_name":"Dave"},"comment_count":5,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1518429426,"creation_date":1493042940,"answer_id":43590348,"question_id":21101250,"body_markdown":"Here&#39;s a super-simple example with basic authentication, headers, and exception handling...\r\n\r\n\tprivate HttpHeaders createHttpHeaders(String user, String password)\r\n\t{\r\n\t\tString notEncoded = user + &quot;:&quot; + password;\r\n        String encodedAuth = &quot;Basic &quot; + Base64.getEncoder().encodeToString(notEncoded.getBytes());\r\n        HttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\theaders.add(&quot;Authorization&quot;, encodedAuth);\r\n\t\treturn headers;\r\n\t}\r\n\r\n\tprivate void doYourThing() \r\n\t{\r\n        String theUrl = &quot;http://blah.blah.com:8080/rest/api/blah&quot;;\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\ttry {\r\n\t\t\tHttpHeaders headers = createHttpHeaders(&quot;fred&quot;,&quot;1234&quot;);\r\n\t\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;parameters&quot;, headers);\r\n\t\t\tResponseEntity&lt;String&gt; response = restTemplate.exchange(theUrl, HttpMethod.GET, entity, String.class);\r\n\t\t\tSystem.out.println(&quot;Result - status (&quot;+ response.getStatusCode() + &quot;) has body: &quot; + response.hasBody());\r\n\t\t}\r\n\t\tcatch (Exception eek) {\r\n\t\t\tSystem.out.println(&quot;** Exception: &quot;+ eek.getMessage());\r\n\t\t}\r\n\t}\r\n","title":"Sending GET request with Authentication headers using restTemplate","body":"<p>Here's a super-simple example with basic authentication, headers, and exception handling...</p>\n\n<pre><code>private HttpHeaders createHttpHeaders(String user, String password)\n{\n    String notEncoded = user + \":\" + password;\n    String encodedAuth = \"Basic \" + Base64.getEncoder().encodeToString(notEncoded.getBytes());\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    headers.add(\"Authorization\", encodedAuth);\n    return headers;\n}\n\nprivate void doYourThing() \n{\n    String theUrl = \"http://blah.blah.com:8080/rest/api/blah\";\n    RestTemplate restTemplate = new RestTemplate();\n    try {\n        HttpHeaders headers = createHttpHeaders(\"fred\",\"1234\");\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(\"parameters\", headers);\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(theUrl, HttpMethod.GET, entity, String.class);\n        System.out.println(\"Result - status (\"+ response.getStatusCode() + \") has body: \" + response.hasBody());\n    }\n    catch (Exception eek) {\n        System.out.println(\"** Exception: \"+ eek.getMessage());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":3,"creation_date":1525350432,"post_id":44837217,"comment_id":87327647,"body_markdown":"While your &quot;answer&quot; is very interesting it reads more like a comment than an actual answer.","body":"While your &quot;answer&quot; is very interesting it reads more like a comment than an actual answer."}],"tags":[],"owner":{"account_id":6168,"reputation":1226,"user_id":10273,"accept_rate":12,"display_name":"ideasculptor"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1498785527,"creation_date":1498785527,"answer_id":44837217,"question_id":21101250,"body_markdown":"All of these answers appear to be incomplete and/or kludges.  Looking at the RestTemplate interface, it sure looks like it is intended to have a `ClientHttpRequestFactory` injected into it, and then that requestFactory will be used to create the request, including any customizations of headers, body, and request params.  \r\n\r\nYou either need a universal `ClientHttpRequestFactory` to inject into a single shared `RestTemplate` or else you need to get a new template instance via `new RestTemplate(myHttpRequestFactory)`. \r\n\r\nUnfortunately, it looks somewhat non-trivial to create such a factory, even when you just want to set a single Authorization header, which is pretty frustrating considering what a common requirement that likely is, but at least it allows easy use if, for example, your Authorization header can be created from data contained in a Spring-Security `Authorization` object, then you can create a factory that sets the outgoing AuthorizationHeader on every request by doing `SecurityContextHolder.getContext().getAuthorization()` and then populating the header, with null checks as appropriate.  Now all outbound rest calls made with that RestTemplate will have the correct Authorization header.  \r\n\r\nWithout more emphasis placed on the HttpClientFactory mechanism, providing simple-to-overload base classes for common cases like adding a single header to requests, most of the nice convenience methods of `RestTemplate` end up being a waste of time, since they can only rarely be used.\r\n\r\nI&#39;d like to see something simple like this made available\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n      @Bean\r\n      public RestTemplate getRestTemplate() {\r\n        return new RestTemplate(new AbstractHeaderRewritingHttpClientFactory() {\r\n            @Override\r\n            public HttpHeaders modifyHeaders(HttpHeaders headers) {\r\n              headers.addHeader(&quot;Authorization&quot;, computeAuthString());\r\n              return headers;\r\n            }\r\n            public String computeAuthString() {\r\n              // do something better than this, but you get the idea\r\n              return SecurityContextHolder.getContext().getAuthorization().getCredential();\r\n            }\r\n        });\r\n      }\r\n    }\r\n\r\nAt the moment, the interface of the available ClientHttpRequestFactory&#39;s are harder to interact with than that.  Even better would be an abstract wrapper for existing factory implementations which makes them look like a simpler object like AbstractHeaderRewritingRequestFactory for the purposes of replacing just that one piece of functionality.  Right now, they are very general purpose such that even writing those wrappers is a complex piece of research.","title":"Sending GET request with Authentication headers using restTemplate","body":"<p>All of these answers appear to be incomplete and/or kludges.  Looking at the RestTemplate interface, it sure looks like it is intended to have a <code>ClientHttpRequestFactory</code> injected into it, and then that requestFactory will be used to create the request, including any customizations of headers, body, and request params.  </p>\n\n<p>You either need a universal <code>ClientHttpRequestFactory</code> to inject into a single shared <code>RestTemplate</code> or else you need to get a new template instance via <code>new RestTemplate(myHttpRequestFactory)</code>. </p>\n\n<p>Unfortunately, it looks somewhat non-trivial to create such a factory, even when you just want to set a single Authorization header, which is pretty frustrating considering what a common requirement that likely is, but at least it allows easy use if, for example, your Authorization header can be created from data contained in a Spring-Security <code>Authorization</code> object, then you can create a factory that sets the outgoing AuthorizationHeader on every request by doing <code>SecurityContextHolder.getContext().getAuthorization()</code> and then populating the header, with null checks as appropriate.  Now all outbound rest calls made with that RestTemplate will have the correct Authorization header.  </p>\n\n<p>Without more emphasis placed on the HttpClientFactory mechanism, providing simple-to-overload base classes for common cases like adding a single header to requests, most of the nice convenience methods of <code>RestTemplate</code> end up being a waste of time, since they can only rarely be used.</p>\n\n<p>I'd like to see something simple like this made available</p>\n\n<pre><code>@Configuration\npublic class MyConfig {\n  @Bean\n  public RestTemplate getRestTemplate() {\n    return new RestTemplate(new AbstractHeaderRewritingHttpClientFactory() {\n        @Override\n        public HttpHeaders modifyHeaders(HttpHeaders headers) {\n          headers.addHeader(\"Authorization\", computeAuthString());\n          return headers;\n        }\n        public String computeAuthString() {\n          // do something better than this, but you get the idea\n          return SecurityContextHolder.getContext().getAuthorization().getCredential();\n        }\n    });\n  }\n}\n</code></pre>\n\n<p>At the moment, the interface of the available ClientHttpRequestFactory's are harder to interact with than that.  Even better would be an abstract wrapper for existing factory implementations which makes them look like a simpler object like AbstractHeaderRewritingRequestFactory for the purposes of replacing just that one piece of functionality.  Right now, they are very general purpose such that even writing those wrappers is a complex piece of research.</p>\n"},{"tags":[],"owner":{"account_id":160773,"reputation":4709,"user_id":381083,"accept_rate":60,"display_name":"AmanicA"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1593467979,"creation_date":1593467979,"answer_id":62647307,"question_id":21101250,"body_markdown":"These days something like the following will suffice:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setBearerAuth(accessToken);\r\n    restTemplate.exchange(RequestEntity.get(new URI(url)).headers(headers).build(), returnType);\r\n\r\n","title":"Sending GET request with Authentication headers using restTemplate","body":"<p>These days something like the following will suffice:</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setBearerAuth(accessToken);\nrestTemplate.exchange(RequestEntity.get(new URI(url)).headers(headers).build(), returnType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1537914,"reputation":5365,"user_id":1433372,"accept_rate":50,"display_name":"userM1433372"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603747368,"creation_date":1603747368,"answer_id":64545175,"question_id":21101250,"body_markdown":"A simple solution would be to configure static http headers needed for all calls in the bean configuration of the RestTemplate:\r\n\r\n    @Configuration\r\n    public class RestTemplateConfig {\r\n    \r\n        @Bean\r\n        public RestTemplate getRestTemplate(@Value(&quot;${did-service.bearer-token}&quot;) String bearerToken) {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            restTemplate.getInterceptors().add((request, body, clientHttpRequestExecution) -&gt; {\r\n                HttpHeaders headers = request.getHeaders();\r\n                if (!headers.containsKey(&quot;Authorization&quot;)) {\r\n                    String token = bearerToken.toLowerCase().startsWith(&quot;bearer&quot;) ? bearerToken : &quot;Bearer &quot; + bearerToken;\r\n                    request.getHeaders().add(&quot;Authorization&quot;, token);\r\n                }\r\n                return clientHttpRequestExecution.execute(request, body);\r\n            });\r\n            return restTemplate;\r\n        }\r\n    }","title":"Sending GET request with Authentication headers using restTemplate","body":"<p>A simple solution would be to configure static http headers needed for all calls in the bean configuration of the RestTemplate:</p>\n<pre><code>@Configuration\npublic class RestTemplateConfig {\n\n    @Bean\n    public RestTemplate getRestTemplate(@Value(&quot;${did-service.bearer-token}&quot;) String bearerToken) {\n        RestTemplate restTemplate = new RestTemplate();\n        restTemplate.getInterceptors().add((request, body, clientHttpRequestExecution) -&gt; {\n            HttpHeaders headers = request.getHeaders();\n            if (!headers.containsKey(&quot;Authorization&quot;)) {\n                String token = bearerToken.toLowerCase().startsWith(&quot;bearer&quot;) ? bearerToken : &quot;Bearer &quot; + bearerToken;\n                request.getHeaders().add(&quot;Authorization&quot;, token);\n            }\n            return clientHttpRequestExecution.execute(request, body);\n        });\n        return restTemplate;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1525566,"reputation":1183,"user_id":1424108,"display_name":"ibai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696323060,"creation_date":1696323060,"answer_id":77220860,"question_id":21101250,"body_markdown":"NOTE: As of Spring 5 the `RestTemplate` class is in maintenance mode and its usage is not recommended. Whenever it is possible use `WebClient`.\r\n\r\nThat said, you may still need to configure a RestTemplate due to certain constraints with some frameworks or other reasons.\r\n\r\nInstead of providing the authentication headers in each and every request, it would be better to configure a global `RestTemplate` so that it can be reused by different components.\r\n\r\nFind below a configuration file with different approaches to provide the authentication headers. \r\n\r\n````\r\n@Configuration\r\npublic class RestTemplateConfig {\r\n\r\n    @Bean\r\n    public RestTemplate restTemplateWithCustomApiKey(@Value(&quot;${api.key}&quot;) String apiKey) {\r\n        return new RestTemplateBuilder()\r\n                .requestCustomizers(clientHttpRequest -&gt; clientHttpRequest.getHeaders().add(&quot;X-API-Key&quot;, apiKey))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate restTemplateWithBearerTokenSupplier(JwtTokenProvider yourJwtTokenProvider) {\r\n        return new RestTemplateBuilder()\r\n                .requestCustomizers(clientHttpRequest -&gt; clientHttpRequest.getHeaders().setBearerAuth(yourJwtTokenProvider.getAccessToken()))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate restTemplateWithBasicAuth(@Value(&quot;${auth.user}&quot;) String user, @Value(&quot;${auth.pass}&quot;) String pass) {\r\n        return new RestTemplateBuilder()\r\n                .requestCustomizers(clientHttpRequest -&gt; clientHttpRequest.getHeaders().setBasicAuth(user, pass))\r\n                .build();\r\n    }\r\n}\r\n\r\n```` ","title":"Sending GET request with Authentication headers using restTemplate","body":"<p>NOTE: As of Spring 5 the <code>RestTemplate</code> class is in maintenance mode and its usage is not recommended. Whenever it is possible use <code>WebClient</code>.</p>\n<p>That said, you may still need to configure a RestTemplate due to certain constraints with some frameworks or other reasons.</p>\n<p>Instead of providing the authentication headers in each and every request, it would be better to configure a global <code>RestTemplate</code> so that it can be reused by different components.</p>\n<p>Find below a configuration file with different approaches to provide the authentication headers.</p>\n<pre><code>@Configuration\npublic class RestTemplateConfig {\n\n    @Bean\n    public RestTemplate restTemplateWithCustomApiKey(@Value(&quot;${api.key}&quot;) String apiKey) {\n        return new RestTemplateBuilder()\n                .requestCustomizers(clientHttpRequest -&gt; clientHttpRequest.getHeaders().add(&quot;X-API-Key&quot;, apiKey))\n                .build();\n    }\n\n    @Bean\n    public RestTemplate restTemplateWithBearerTokenSupplier(JwtTokenProvider yourJwtTokenProvider) {\n        return new RestTemplateBuilder()\n                .requestCustomizers(clientHttpRequest -&gt; clientHttpRequest.getHeaders().setBearerAuth(yourJwtTokenProvider.getAccessToken()))\n                .build();\n    }\n\n    @Bean\n    public RestTemplate restTemplateWithBasicAuth(@Value(&quot;${auth.user}&quot;) String user, @Value(&quot;${auth.pass}&quot;) String pass) {\n        return new RestTemplateBuilder()\n                .requestCustomizers(clientHttpRequest -&gt; clientHttpRequest.getHeaders().setBasicAuth(user, pass))\n                .build();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":54272,"reputation":6123,"user_id":162345,"accept_rate":48,"display_name":"special0ne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273164,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"accepted_answer_id":21101295,"answer_count":7,"score":103,"last_activity_date":1696323060,"creation_date":1389646826,"question_id":21101250,"body_markdown":"I need to retrieve resources from my server by sending a GET request with some Authorization headers using [RestTemplate][1]. \r\n\r\nAfter going over the [docs][2] I noticed that none of the GET methods accepts headers as a parameter, and the only way to send Headers such as accept and Authorization is by using the [exchange][3] method.\r\n\r\nSince it is a very basic action I am wondering if I am missing something and there another, easier way to do it?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [2]: http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [3]: http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/web/client/RestTemplate.html#exchange%28java.lang.String,%20org.springframework.http.HttpMethod,%20org.springframework.http.HttpEntity,%20java.lang.Class,%20java.lang.Object...%29","title":"Sending GET request with Authentication headers using restTemplate","body":"<p>I need to retrieve resources from my server by sending a GET request with some Authorization headers using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">RestTemplate</a>.</p>\n<p>After going over the <a href=\"http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">docs</a> I noticed that none of the GET methods accepts headers as a parameter, and the only way to send Headers such as accept and Authorization is by using the <a href=\"http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/web/client/RestTemplate.html#exchange%28java.lang.String,%20org.springframework.http.HttpMethod,%20org.springframework.http.HttpEntity,%20java.lang.Class,%20java.lang.Object...%29\" rel=\"noreferrer\">exchange</a> method.</p>\n<p>Since it is a very basic action I am wondering if I am missing something and there another, easier way to do it?</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea","appium-android"],"owner":{"account_id":27772579,"reputation":34,"user_id":21202611,"display_name":"Imran Ullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696322983,"creation_date":1696320266,"question_id":77220589,"body_markdown":"I am currently testing my app using Appium and Selenium in IntelliJ IDEA, running the tests in Java.\r\n\r\nThe problem I&#39;m encountering is that, following the successful execution and completion of my tests, whenever I make edits to any of my classes—particularly the test class—my script starts running automatically.\r\n\r\nI&#39;ve attempted several solutions like\r\n 1. Restored it to default settings\r\n 2. [Disabling auto-test][1]\r\n 3. Uninstalled completely IntelliJ IDEA and reinstalled it\r\n\r\nBut regrettably, the problem persists.\r\n\r\nAs a last resort, I&#39;ve turned to the Stack Overflow community as a last option. \r\n\r\nAdditionally, I&#39;m curious to know if this problem might be related to IntelliJ IDEA itself, a potential issue with my laptop, or if there&#39;s another factor at play here. \r\n\r\n\r\nAny insights or guidance would be greatly appreciated.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-171799","title":"Whenever I make changes to my Java class in IntelliJ IDEA, my Appium tests start running automatically","body":"<p>I am currently testing my app using Appium and Selenium in IntelliJ IDEA, running the tests in Java.</p>\n<p>The problem I'm encountering is that, following the successful execution and completion of my tests, whenever I make edits to any of my classes—particularly the test class—my script starts running automatically.</p>\n<p>I've attempted several solutions like</p>\n<ol>\n<li>Restored it to default settings</li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEA-171799\" rel=\"nofollow noreferrer\">Disabling auto-test</a></li>\n<li>Uninstalled completely IntelliJ IDEA and reinstalled it</li>\n</ol>\n<p>But regrettably, the problem persists.</p>\n<p>As a last resort, I've turned to the Stack Overflow community as a last option.</p>\n<p>Additionally, I'm curious to know if this problem might be related to IntelliJ IDEA itself, a potential issue with my laptop, or if there's another factor at play here.</p>\n<p>Any insights or guidance would be greatly appreciated.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","apache-kafka-streams"],"owner":{"account_id":26279605,"reputation":11,"user_id":19948264,"display_name":"Huy Nguyễn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696322531,"creation_date":1696322531,"question_id":77220806,"body_markdown":"I have an Kafka Streams application which running with 2 stream threads, everything is work fine until my log shows me:\r\n\r\n```\r\n2023-10-03 13:29:21 INFO  FetchSessionHandler:381 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Node 3 was unable to process the fetch request with (sessionId=415564603, epoch=2118): INVALID_FETCH_SESSION_EPOCH.\r\n2023-10-03 13:47:20 INFO  AbstractCoordinator:839 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Attempt to heartbeat failed for since member id LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer-ecc87bcc-0a71-4e97-b78e-73f1d1fe27b4 is not valid.\r\n2023-10-03 13:47:20 INFO  AbstractCoordinator:706 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Group coordinator redo-kafka137:9092 (id: 2147483646 rack: null) is unavailable or invalid, will attempt rediscovery\r\n2023-10-03 13:47:21 INFO  AbstractCoordinator:706 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Group coordinator redo-kafka137:9092 (id: 2147483646 rack: null) is unavailable or invalid, will attempt rediscovery\r\n2023-10-03 13:47:28 INFO  AbstractCoordinator:654 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Discovered group coordinator redo-kafka137:9092 (id: 2147483646 rack: null)\r\n2023-10-03 13:47:28 INFO  AbstractCoordinator:654 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Discovered group coordinator redo-kafka137:9092 (id: 2147483646 rack: null)\r\n2023-10-03 13:47:34 INFO  AbstractCoordinator:839 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Attempt to heartbeat failed for since member id LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer-682965f9-4d0d-4e69-aa6d-4afa5443f6fe is not valid.\r\n2023-10-03 13:47:34 INFO  AbstractCoordinator:839 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Attempt to heartbeat failed for since member id LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer-682965f9-4d0d-4e69-aa6d-4afa5443f6fe is not valid.\r\n2023-10-03 13:47:40 INFO  AbstractCoordinator:706 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Group coordinator redo-kafka137:9092 (id: 2147483646 rack: null) is unavailable or invalid, will attempt rediscovery\r\n2023-10-03 13:47:49 INFO  AbstractCoordinator:654 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Discovered group coordinator redo-kafka137:9092 (id: 2147483646 rack: null)\r\n2023-10-03 13:47:49 INFO  ConsumerCoordinator:458 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Revoking previously assigned partitions [dbb_output_product_details_testing-0, dbb_output_checksum_testing-0]\r\n2023-10-03 13:47:49 INFO  StreamThread:207 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4] State transition from RUNNING to PARTITIONS_REVOKED\r\n2023-10-03 13:47:41 INFO  ConsumerCoordinator:458 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Revoking previously assigned partitions [LoyaltyPoint_Calculator_Task7_Testing-KSTREAM-AGGREGATE-STATE-STORE-0000000015-repartition-0]\r\n2023-10-03 13:47:52 INFO  KafkaStreams:256 - stream-client [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa] State transition from RUNNING to REBALANCING\r\n2023-10-03 13:48:09 INFO  StreamThread:207 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2] State transition from RUNNING to PARTITIONS_REVOKED\r\n2023-10-03 13:48:55 INFO  KafkaConsumer:1031 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-restore-consumer, groupId=] Unsubscribed all topics or patterns and assigned partitions\r\n2023-10-03 13:48:57 INFO  StreamThread:324 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2] partition revocation took 11545 ms.\r\n\tsuspended active tasks: [1_0]\r\n\tsuspended standby tasks: []\r\n2023-10-03 13:49:10 INFO  AbstractCoordinator:486 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] (Re-)joining group\r\n2023-10-03 13:51:49 INFO  KafkaConsumer:1031 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-restore-consumer, groupId=] Unsubscribed all topics or patterns and assigned partitions\r\n2023-10-03 13:55:57 INFO  StreamThread:324 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4] partition revocation took 456902 ms.\r\n\tsuspended active tasks: [0_0]\r\n\tsuspended standby tasks: []\r\n2023-10-03 13:55:57 INFO  AbstractCoordinator:486 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] (Re-)joining group\r\n2023-10-03 13:55:57 ERROR InternalTopicManager:213 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing] Unexpected error during topic description for LoyaltyPoint_Calculator_Task7_Testing-KSTREAM-AGGREGATE-STATE-STORE-0000000015-repartition.\r\n2023-10-03 13:55:57 INFO  StreamThread:207 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2] State transition from PARTITIONS_REVOKED to PENDING_SHUTDOWN\r\n2023-10-03 13:55:57 INFO  StreamThread:1178 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2] Shutting down\r\n```\r\nThen my consumer group is turn to REBALANCING permanently, I don&#39;t know how to stop it.\r\n[![Consumer group of my kafka streams apps](https://i.stack.imgur.com/eF2he.png)](https://i.stack.imgur.com/eF2he.png)\r\n\r\n\r\nIn the finish of my code, I have tried calling close() method from my KafkaStreams instance, but the stream thread isn&#39;t close and still there, I check it by kafka command[![Command checking running member in consumer group](https://i.stack.imgur.com/Qo2Gj.png)](https://i.stack.imgur.com/Qo2Gj.png)","title":"What causes: Attempt to heartbeat failed for since member id ... is not valid","body":"<p>I have an Kafka Streams application which running with 2 stream threads, everything is work fine until my log shows me:</p>\n<pre><code>2023-10-03 13:29:21 INFO  FetchSessionHandler:381 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Node 3 was unable to process the fetch request with (sessionId=415564603, epoch=2118): INVALID_FETCH_SESSION_EPOCH.\n2023-10-03 13:47:20 INFO  AbstractCoordinator:839 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Attempt to heartbeat failed for since member id LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer-ecc87bcc-0a71-4e97-b78e-73f1d1fe27b4 is not valid.\n2023-10-03 13:47:20 INFO  AbstractCoordinator:706 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Group coordinator redo-kafka137:9092 (id: 2147483646 rack: null) is unavailable or invalid, will attempt rediscovery\n2023-10-03 13:47:21 INFO  AbstractCoordinator:706 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Group coordinator redo-kafka137:9092 (id: 2147483646 rack: null) is unavailable or invalid, will attempt rediscovery\n2023-10-03 13:47:28 INFO  AbstractCoordinator:654 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Discovered group coordinator redo-kafka137:9092 (id: 2147483646 rack: null)\n2023-10-03 13:47:28 INFO  AbstractCoordinator:654 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Discovered group coordinator redo-kafka137:9092 (id: 2147483646 rack: null)\n2023-10-03 13:47:34 INFO  AbstractCoordinator:839 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Attempt to heartbeat failed for since member id LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer-682965f9-4d0d-4e69-aa6d-4afa5443f6fe is not valid.\n2023-10-03 13:47:34 INFO  AbstractCoordinator:839 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Attempt to heartbeat failed for since member id LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer-682965f9-4d0d-4e69-aa6d-4afa5443f6fe is not valid.\n2023-10-03 13:47:40 INFO  AbstractCoordinator:706 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Group coordinator redo-kafka137:9092 (id: 2147483646 rack: null) is unavailable or invalid, will attempt rediscovery\n2023-10-03 13:47:49 INFO  AbstractCoordinator:654 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Discovered group coordinator redo-kafka137:9092 (id: 2147483646 rack: null)\n2023-10-03 13:47:49 INFO  ConsumerCoordinator:458 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Revoking previously assigned partitions [dbb_output_product_details_testing-0, dbb_output_checksum_testing-0]\n2023-10-03 13:47:49 INFO  StreamThread:207 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4] State transition from RUNNING to PARTITIONS_REVOKED\n2023-10-03 13:47:41 INFO  ConsumerCoordinator:458 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] Revoking previously assigned partitions [LoyaltyPoint_Calculator_Task7_Testing-KSTREAM-AGGREGATE-STATE-STORE-0000000015-repartition-0]\n2023-10-03 13:47:52 INFO  KafkaStreams:256 - stream-client [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa] State transition from RUNNING to REBALANCING\n2023-10-03 13:48:09 INFO  StreamThread:207 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2] State transition from RUNNING to PARTITIONS_REVOKED\n2023-10-03 13:48:55 INFO  KafkaConsumer:1031 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-restore-consumer, groupId=] Unsubscribed all topics or patterns and assigned partitions\n2023-10-03 13:48:57 INFO  StreamThread:324 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2] partition revocation took 11545 ms.\n    suspended active tasks: [1_0]\n    suspended standby tasks: []\n2023-10-03 13:49:10 INFO  AbstractCoordinator:486 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] (Re-)joining group\n2023-10-03 13:51:49 INFO  KafkaConsumer:1031 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-restore-consumer, groupId=] Unsubscribed all topics or patterns and assigned partitions\n2023-10-03 13:55:57 INFO  StreamThread:324 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4] partition revocation took 456902 ms.\n    suspended active tasks: [0_0]\n    suspended standby tasks: []\n2023-10-03 13:55:57 INFO  AbstractCoordinator:486 - [Consumer clientId=LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-4-consumer, groupId=LoyaltyPoint_Calculator_Task7_Testing] (Re-)joining group\n2023-10-03 13:55:57 ERROR InternalTopicManager:213 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing] Unexpected error during topic description for LoyaltyPoint_Calculator_Task7_Testing-KSTREAM-AGGREGATE-STATE-STORE-0000000015-repartition.\n2023-10-03 13:55:57 INFO  StreamThread:207 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2] State transition from PARTITIONS_REVOKED to PENDING_SHUTDOWN\n2023-10-03 13:55:57 INFO  StreamThread:1178 - stream-thread [LoyaltyPoint_Calculator_Task7_Testing-fa190eb3-6ed7-4669-b10d-b31626dceafa-StreamThread-2] Shutting down\n</code></pre>\n<p>Then my consumer group is turn to REBALANCING permanently, I don't know how to stop it.\n<a href=\"https://i.stack.imgur.com/eF2he.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eF2he.png\" alt=\"Consumer group of my kafka streams apps\" /></a></p>\n<p>In the finish of my code, I have tried calling close() method from my KafkaStreams instance, but the stream thread isn't close and still there, I check it by kafka command<a href=\"https://i.stack.imgur.com/Qo2Gj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qo2Gj.png\" alt=\"Command checking running member in consumer group\" /></a></p>\n"},{"tags":["java","localization","calendar","locale"],"answers":[{"tags":[],"owner":{"account_id":6390631,"reputation":3002,"user_id":4956930,"accept_rate":50,"display_name":"Tom Wellbrock"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696322396,"creation_date":1491388352,"answer_id":43228648,"question_id":43228492,"body_markdown":"After browsing Oracles Website I&#39;ve found a list of supported languages and Locale_IDs. As it seems the language you want is not supported by JDK7 Locale.\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/javase7locales-334809.html ","title":"Can&#39;t get armenian months names","body":"<p>After browsing Oracles Website I've found a list of supported languages and Locale_IDs. As it seems the language you want is not supported by JDK7 Locale.</p>\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/javase7locales-334809.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/javase7locales-334809.html</a></p>\n"},{"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1491396197,"post_id":43228708,"comment_id":73532943,"body_markdown":"How does creating a `Locale`-object create missing text resources, too?","body":"How does creating a <code>Locale</code>-object create missing text resources, too?"},{"owner":{"account_id":5801459,"reputation":762,"user_id":4575505,"accept_rate":100,"display_name":"Thecave3"},"score":0,"creation_date":1491400923,"post_id":43228708,"comment_id":73536909,"body_markdown":"I don&#39;t think so","body":"I don&#39;t think so"},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1491402279,"post_id":43228708,"comment_id":73538073,"body_markdown":"Then please show me and others how to feed the `Locale.Builder` with any informations about Armenian month names (what the OP finally wants to achieve). I have not seen any hint about this subject in the API. My impression is: Your answer is not really related to the question of OP.","body":"Then please show me and others how to feed the <code>Locale.Builder</code> with any informations about Armenian month names (what the OP finally wants to achieve). I have not seen any hint about this subject in the API. My impression is: Your answer is not really related to the question of OP."},{"owner":{"account_id":5801459,"reputation":762,"user_id":4575505,"accept_rate":100,"display_name":"Thecave3"},"score":0,"creation_date":1491405634,"post_id":43228708,"comment_id":73540803,"body_markdown":"I would not write a ready-to-implement code by 0, and also other answers have pointed out that there are many other ways to implements this. So yes, at this time of the question evolution is not related my answer anymore.","body":"I would not write a ready-to-implement code by 0, and also other answers have pointed out that there are many other ways to implements this. So yes, at this time of the question evolution is not related my answer anymore."}],"tags":[],"owner":{"account_id":5801459,"reputation":762,"user_id":4575505,"accept_rate":100,"display_name":"Thecave3"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491388521,"creation_date":1491388521,"answer_id":43228708,"question_id":43228492,"body_markdown":"This language is not supported, but you can create your own locale by following [this](https://docs.oracle.com/javase/tutorial/i18n/locale/create.html) guide.\r\n\r\nThis is the javadoc of `Locale.Builder`\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Locale.Builder.html","title":"Can&#39;t get armenian months names","body":"<p>This language is not supported, but you can create your own locale by following <a href=\"https://docs.oracle.com/javase/tutorial/i18n/locale/create.html\" rel=\"nofollow noreferrer\">this</a> guide.</p>\n\n<p>This is the javadoc of <code>Locale.Builder</code></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.Builder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Locale.Builder.html</a></p>\n"},{"tags":[],"owner":{"account_id":6280390,"reputation":3711,"user_id":4881608,"display_name":"Pallavi Sonal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1498129814,"creation_date":1491389691,"answer_id":43229132,"question_id":43228492,"body_markdown":"There was an [enhancement in JDK8][1]  wherein the CLDR&#39;s XML-based locale data has been incorporated into the JDK 8 release, however it is disabled by default.\r\nSo, if you run your code with the argument `-Djava.locale.providers=CLDR` or add the same through the `java.locale.providers` `System.property` in your code, `hy: Armenian hy_AM: Armenian` will be supported.\r\n\r\nWith [JDK 9 enhancements][2]  , CLDR locale data is enabled by default. So, the code will run without adding any system property.\r\nHope this helps.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/intl/enhancements.8.html#cldr\r\n  [2]: https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA","title":"Can&#39;t get armenian months names","body":"<p>There was an <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/enhancements.8.html#cldr\" rel=\"nofollow noreferrer\">enhancement in JDK8</a>  wherein the CLDR's XML-based locale data has been incorporated into the JDK 8 release, however it is disabled by default.\nSo, if you run your code with the argument <code>-Djava.locale.providers=CLDR</code> or add the same through the <code>java.locale.providers</code> <code>System.property</code> in your code, <code>hy: Armenian hy_AM: Armenian</code> will be supported.</p>\n\n<p>With <a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA\" rel=\"nofollow noreferrer\">JDK 9 enhancements</a>  , CLDR locale data is enabled by default. So, the code will run without adding any system property.\nHope this helps.</p>\n"},{"comments":[{"owner":{"account_id":6280390,"reputation":3711,"user_id":4881608,"display_name":"Pallavi Sonal"},"score":1,"creation_date":1491394339,"post_id":43229373,"comment_id":73531493,"body_markdown":"Did you run your code with the argument -Djava.locale.providers=CLDR as suggested in my answer ? You will definitely see hy in the list then.","body":"Did you run your code with the argument -Djava.locale.providers=CLDR as suggested in my answer ? You will definitely see hy in the list then."},{"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":0,"creation_date":1491397361,"post_id":43229373,"comment_id":73533855,"body_markdown":"@Pallavi I ran my code without this option. Thanks for pointing out.","body":"@Pallavi I ran my code without this option. Thanks for pointing out."}],"tags":[],"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491397935,"creation_date":1491390300,"answer_id":43229373,"question_id":43228492,"body_markdown":"With the following code you can print out all supported `Calendar` locales (sorted by languageTag):\r\n    \r\n    Locale[] locales = Calendar.getAvailableLocales();\r\n    Arrays.sort(locales, Comparator.comparing(Locale::toLanguageTag));\r\n    for (Locale locale : locales)\r\n        System.out.print(&quot; &quot; + locale.toLanguageTag());\r\n    \r\nUnfortunately, in my Oracle Java 8, there is no Armenian locale (beginning with &quot;hy&quot;) in this list.\r\n\r\n&gt;  ar ar-AE ar-BH ar-DZ ar-EG ar-IQ ar-JO ar-KW ar-LB ar-LY ar-MA ar-OM ar-QA ar-SA ar-SD ar-SY ar-TN ar-YE be be-BY bg bg-BG ca ca-ES cs cs-CZ da da-DK de de-AT de-CH de-DE de-GR de-LU el el-CY el-GR en en-AU en-CA en-GB en-IE en-IN en-MT en-NZ en-PH en-SG en-US en-ZA es es-AR es-BO es-CL es-CO es-CR es-CU es-DO es-EC es-ES es-GT es-HN es-MX es-NI es-PA es-PE es-PR es-PY es-SV es-US es-UY es-VE et et-EE fi fi-FI fr fr-BE fr-CA fr-CH fr-FR fr-LU ga ga-IE he he-IL hi hi-IN hr hr-HR hu hu-HU id id-ID is is-IS it it-CH it-IT ja ja-JP ja-JP-u-ca-japanese-x-lvariant-JP ko ko-KR lt lt-LT lv lv-LV mk mk-MK ms ms-MY mt mt-MT nl nl-BE nl-NL nn-NO no no-NO pl pl-PL pt pt-BR pt-PT ro ro-RO ru ru-RU sk sk-SK sl sl-SI sq sq-AL sr sr-BA sr-CS sr-Latn sr-Latn-BA sr-Latn-ME sr-Latn-RS sr-ME sr-RS sv sv-SE th th-TH th-TH-u-nu-thai-x-lvariant-TH tr tr-TR uk uk-UA und vi vi-VN zh zh-CN zh-HK zh-SG zh-TW\r\n\r\n### Edit:\r\n\r\nWith Oracle Java 8 and additional option `-Djava.locale.providers=CLDR` as suggested in \r\n[Pallavi&#39;s answer](https://stackoverflow.com/questions/43228492/cant-get-armenian-months-names/43229132#43229132)\r\nthe resulting list contains the Armenian locale (&quot;hy&quot;):\r\n\r\n&gt; aa af af-NA agq ak am ar ar-AE ar-BH ar-DZ ar-EG ar-IQ ar-JO ar-KW ar-LB ar-LY ar-MA ar-OM ar-QA ar-SA ar-SD ar-SY ar-TN ar-YE as asa az az-Cyrl bas be be-BY bem bez bg bg-BG bm bn bn-IN bo br brx bs byn ca ca-ES cgg chr cs cs-CZ cy da da-DK dav de de-AT de-CH de-DE de-GR de-LI de-LU dje dua dyo dz ebu ee el el-CY el-GR en en-AU en-BE en-BW en-BZ en-CA en-Dsrt en-GB en-HK en-IE en-IN en-JM en-MT en-NA en-NZ en-PH en-PK en-SG en-TT en-US en-US-POSIX en-ZA en-ZW eo es es-419 es-AR es-BO es-CL es-CO es-CR es-CU es-DO es-EC es-ES es-GQ es-GT es-HN es-MX es-NI es-PA es-PE es-PR es-PY es-SV es-US es-UY es-VE et et-EE eu ewo fa fa-AF ff fi fi-FI fil fo fr fr-BE fr-CA fr-CH fr-FR fr-LU fur ga ga-IE gd gl gsw gu guz gv ha haw he he-IL hi hi-IN hr hr-HR hu hu-HU hy ia id id-ID ig ii is is-IS it it-CH it-IT ja ja-JP ja-JP-u-ca-japanese-x-lvariant-JP jmc ka kab kam kde kea khq ki kk kl kln km kn ko ko-KR kok ksb ksf ksh kw lag lg ln lo lt lt-LT lu luo luy lv lv-LV mas mer mfe mg mgh mk mk-MK ml mr ms ms-BN ms-MY mt mt-MT mua my naq nb nd ne ne-IN nl nl-BE nl-NL nmg nn nn-NO no no-NO nr nso nus nyn om or pa pa-Arab pl pl-PL ps pt pt-BR pt-PT rm rn ro ro-RO rof ru ru-RU ru-UA rw rwk saq sbp se seh ses sg shi shi-Tfng si sk sk-SK sl sl-SI sn so sq sq-AL sr sr-BA sr-CS sr-Cyrl-BA sr-Latn sr-Latn-BA sr-Latn-ME sr-Latn-RS sr-ME sr-RS ss ssy st sv sv-FI sv-SE sw sw-KE swc ta te teo th th-TH th-TH-u-nu-thai-x-lvariant-TH ti ti-ER tig tn to tr tr-TR ts twq tzm uk uk-UA und ur ur-IN uz uz-Arab uz-Latn vai vai-Latn ve vi vi-VN vun wae wal xh xog yav yo zh zh-CN zh-HK zh-Hans-HK zh-Hans-MO zh-Hans-SG zh-Hant zh-Hant-HK zh-Hant-MO zh-SG zh-TW zu\r\n","title":"Can&#39;t get armenian months names","body":"<p>With the following code you can print out all supported <code>Calendar</code> locales (sorted by languageTag):</p>\n\n<pre><code>Locale[] locales = Calendar.getAvailableLocales();\nArrays.sort(locales, Comparator.comparing(Locale::toLanguageTag));\nfor (Locale locale : locales)\n    System.out.print(\" \" + locale.toLanguageTag());\n</code></pre>\n\n<p>Unfortunately, in my Oracle Java 8, there is no Armenian locale (beginning with \"hy\") in this list.</p>\n\n<blockquote>\n  <p>ar ar-AE ar-BH ar-DZ ar-EG ar-IQ ar-JO ar-KW ar-LB ar-LY ar-MA ar-OM ar-QA ar-SA ar-SD ar-SY ar-TN ar-YE be be-BY bg bg-BG ca ca-ES cs cs-CZ da da-DK de de-AT de-CH de-DE de-GR de-LU el el-CY el-GR en en-AU en-CA en-GB en-IE en-IN en-MT en-NZ en-PH en-SG en-US en-ZA es es-AR es-BO es-CL es-CO es-CR es-CU es-DO es-EC es-ES es-GT es-HN es-MX es-NI es-PA es-PE es-PR es-PY es-SV es-US es-UY es-VE et et-EE fi fi-FI fr fr-BE fr-CA fr-CH fr-FR fr-LU ga ga-IE he he-IL hi hi-IN hr hr-HR hu hu-HU id id-ID is is-IS it it-CH it-IT ja ja-JP ja-JP-u-ca-japanese-x-lvariant-JP ko ko-KR lt lt-LT lv lv-LV mk mk-MK ms ms-MY mt mt-MT nl nl-BE nl-NL nn-NO no no-NO pl pl-PL pt pt-BR pt-PT ro ro-RO ru ru-RU sk sk-SK sl sl-SI sq sq-AL sr sr-BA sr-CS sr-Latn sr-Latn-BA sr-Latn-ME sr-Latn-RS sr-ME sr-RS sv sv-SE th th-TH th-TH-u-nu-thai-x-lvariant-TH tr tr-TR uk uk-UA und vi vi-VN zh zh-CN zh-HK zh-SG zh-TW</p>\n</blockquote>\n\n<h3>Edit:</h3>\n\n<p>With Oracle Java 8 and additional option <code>-Djava.locale.providers=CLDR</code> as suggested in \n<a href=\"https://stackoverflow.com/questions/43228492/cant-get-armenian-months-names/43229132#43229132\">Pallavi's answer</a>\nthe resulting list contains the Armenian locale (\"hy\"):</p>\n\n<blockquote>\n  <p>aa af af-NA agq ak am ar ar-AE ar-BH ar-DZ ar-EG ar-IQ ar-JO ar-KW ar-LB ar-LY ar-MA ar-OM ar-QA ar-SA ar-SD ar-SY ar-TN ar-YE as asa az az-Cyrl bas be be-BY bem bez bg bg-BG bm bn bn-IN bo br brx bs byn ca ca-ES cgg chr cs cs-CZ cy da da-DK dav de de-AT de-CH de-DE de-GR de-LI de-LU dje dua dyo dz ebu ee el el-CY el-GR en en-AU en-BE en-BW en-BZ en-CA en-Dsrt en-GB en-HK en-IE en-IN en-JM en-MT en-NA en-NZ en-PH en-PK en-SG en-TT en-US en-US-POSIX en-ZA en-ZW eo es es-419 es-AR es-BO es-CL es-CO es-CR es-CU es-DO es-EC es-ES es-GQ es-GT es-HN es-MX es-NI es-PA es-PE es-PR es-PY es-SV es-US es-UY es-VE et et-EE eu ewo fa fa-AF ff fi fi-FI fil fo fr fr-BE fr-CA fr-CH fr-FR fr-LU fur ga ga-IE gd gl gsw gu guz gv ha haw he he-IL hi hi-IN hr hr-HR hu hu-HU hy ia id id-ID ig ii is is-IS it it-CH it-IT ja ja-JP ja-JP-u-ca-japanese-x-lvariant-JP jmc ka kab kam kde kea khq ki kk kl kln km kn ko ko-KR kok ksb ksf ksh kw lag lg ln lo lt lt-LT lu luo luy lv lv-LV mas mer mfe mg mgh mk mk-MK ml mr ms ms-BN ms-MY mt mt-MT mua my naq nb nd ne ne-IN nl nl-BE nl-NL nmg nn nn-NO no no-NO nr nso nus nyn om or pa pa-Arab pl pl-PL ps pt pt-BR pt-PT rm rn ro ro-RO rof ru ru-RU ru-UA rw rwk saq sbp se seh ses sg shi shi-Tfng si sk sk-SK sl sl-SI sn so sq sq-AL sr sr-BA sr-CS sr-Cyrl-BA sr-Latn sr-Latn-BA sr-Latn-ME sr-Latn-RS sr-ME sr-RS ss ssy st sv sv-FI sv-SE sw sw-KE swc ta te teo th th-TH th-TH-u-nu-thai-x-lvariant-TH ti ti-ER tig tn to tr tr-TR ts twq tzm uk uk-UA und ur ur-IN uz uz-Arab uz-Latn vai vai-Latn ve vi vi-VN vun wae wal xh xog yav yo zh zh-CN zh-HK zh-Hans-HK zh-Hans-MO zh-Hans-SG zh-Hant zh-Hant-HK zh-Hant-MO zh-SG zh-TW zu</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491393168,"creation_date":1491393168,"answer_id":43230421,"question_id":43228492,"body_markdown":"The answer of @Pallavi is correct for Java-8 and Java-9.\r\n\r\nHowever, if you are on **Java-7**, then you could set up your own [DateFormatSymbolsProvider][1] specialized for Armenian language via the [service loader mechanism][2].\r\n\r\nYou will need a file within META-INF/services-subdirectory like with exactly this name:\r\n\r\n    META-INF/services/java.text.spi.DateFormatSymbolsProvider\r\n\r\nAnd the content of this file should contain a line like this (please adjust the names to your real implementation class of service provider mentioned above):\r\n\r\n    mypackage.MyImplementationOfDateFormatSymbolsProvider\r\n\r\nAs soon as you have created an appropriate jar-library with this META-INF-substructure included, the new service provider for Armenian will be queried, too.\r\n\r\nAbout the required text resources, I have imported the CLDR-v30-resources into my own library Time4J. Maybe you can take profit from the [resource file][3] for Armenian (also containing standalone-forms for month names) and use a part of the content for your own service provider.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/text/spi/DateFormatSymbolsProvider.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/spi/LocaleServiceProvider.html\r\n  [3]: https://github.com/MenoData/Time4J/blob/master/i18n/src/main/resources/names/iso8601_hy.properties","title":"Can&#39;t get armenian months names","body":"<p>The answer of @Pallavi is correct for Java-8 and Java-9.</p>\n\n<p>However, if you are on <strong>Java-7</strong>, then you could set up your own <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/spi/DateFormatSymbolsProvider.html\" rel=\"nofollow noreferrer\">DateFormatSymbolsProvider</a> specialized for Armenian language via the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/spi/LocaleServiceProvider.html\" rel=\"nofollow noreferrer\">service loader mechanism</a>.</p>\n\n<p>You will need a file within META-INF/services-subdirectory like with exactly this name:</p>\n\n<pre><code>META-INF/services/java.text.spi.DateFormatSymbolsProvider\n</code></pre>\n\n<p>And the content of this file should contain a line like this (please adjust the names to your real implementation class of service provider mentioned above):</p>\n\n<pre><code>mypackage.MyImplementationOfDateFormatSymbolsProvider\n</code></pre>\n\n<p>As soon as you have created an appropriate jar-library with this META-INF-substructure included, the new service provider for Armenian will be queried, too.</p>\n\n<p>About the required text resources, I have imported the CLDR-v30-resources into my own library Time4J. Maybe you can take profit from the <a href=\"https://github.com/MenoData/Time4J/blob/master/i18n/src/main/resources/names/iso8601_hy.properties\" rel=\"nofollow noreferrer\">resource file</a> for Armenian (also containing standalone-forms for month names) and use a part of the content for your own service provider.</p>\n"}],"owner":{"account_id":6439479,"reputation":194,"user_id":4989909,"accept_rate":80,"display_name":"alex.b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43229132,"answer_count":5,"score":3,"last_activity_date":1696322396,"creation_date":1491388001,"question_id":43228492,"body_markdown":"I want to print armenian month names but it doesn&#39;t work. This is my code:\r\n\r\n    Locale loc = new Locale(&quot;hy&quot;);\r\n    Calendar cal = Calendar.getInstance(loc);\r\n    System.out.println(cal.getDisplayName(Calendar.MONTH, Calendar.LONG_STANDALONE, loc));\r\n\r\nI have tried many others abbreviation like &quot;hye&quot; or &quot;arm&quot;, but nothing works. Other language such as russian &quot;ru&quot; work fine. I have no idee what i&#39;m doing wrong","title":"Can&#39;t get armenian months names","body":"<p>I want to print armenian month names but it doesn't work. This is my code:</p>\n\n<pre><code>Locale loc = new Locale(\"hy\");\nCalendar cal = Calendar.getInstance(loc);\nSystem.out.println(cal.getDisplayName(Calendar.MONTH, Calendar.LONG_STANDALONE, loc));\n</code></pre>\n\n<p>I have tried many others abbreviation like \"hye\" or \"arm\", but nothing works. Other language such as russian \"ru\" work fine. I have no idee what i'm doing wrong</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":7185024,"reputation":191,"user_id":5487331,"display_name":"kattoha"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1588710933,"creation_date":1566479717,"answer_id":57610237,"question_id":57609354,"body_markdown":"If you are using [Jackson][1]... and I think yes, there are multiple solutions\r\n\r\n### 1. Use an annotation with your @JsonProperty:\r\n```java\r\n@JsonAlias({&quot;location&quot;, &quot;LOCATION&quot;, &quot;Location&quot;}) \r\n```\r\n\r\n### 2. Write custom JsonDeserializer:\r\nWith the `JsonDeserializer` you can [implement any logic you want][2].\r\n\r\n### 3. Use the @JsonFormat [annotation][3] for your field:\r\n```java\r\n@JsonFormat(with = JsonFormat.Feature.ACCEPT_CASE_INSENSITIVE_PROPERTIES) \r\n```\r\n### 4. Set the format programmatically for all fields:\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n```\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://stackoverflow.com/a/19167145/155248\r\n  [3]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonFormat.html","title":"How to construct case-insensitive enum using Jackson?","body":"<p>If you are using <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a>... and I think yes, there are multiple solutions</p>\n\n<h3>1. Use an annotation with your @JsonProperty:</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAlias({\"location\", \"LOCATION\", \"Location\"}) \n</code></pre>\n\n<h3>2. Write custom JsonDeserializer:</h3>\n\n<p>With the <code>JsonDeserializer</code> you can <a href=\"https://stackoverflow.com/a/19167145/155248\">implement any logic you want</a>.</p>\n\n<h3>3. Use the @JsonFormat <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"noreferrer\">annotation</a> for your field:</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(with = JsonFormat.Feature.ACCEPT_CASE_INSENSITIVE_PROPERTIES) \n</code></pre>\n\n<h3>4. Set the format programmatically for all fields:</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13260984,"reputation":21,"user_id":9575564,"display_name":"Tom Halliley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622217239,"creation_date":1622217239,"answer_id":67742046,"question_id":57609354,"body_markdown":"    mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS, true);\r\n\r\nThis is what you need if you want enum values to be case insensitive.\r\n\r\n","title":"How to construct case-insensitive enum using Jackson?","body":"<pre><code>mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS, true);\n</code></pre>\n<p>This is what you need if you want enum values to be case insensitive.</p>\n"}],"owner":{"account_id":15911934,"reputation":23,"user_id":11481651,"display_name":"dnj97metalhead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696322301,"creation_date":1566476894,"question_id":57609354,"body_markdown":"I want to have all my enum objects capitalized. how to make it case-insensitive?\r\n \r\n\r\nHTTP body to `JsonNode` and then node to a class object:\r\n\r\n```\r\nJsonNode asJson = request().body().asJson();\r\nWhatsappIncomingMessageVO requestVO = JsonParserUtils.fromJson(asJson, WhatsappIncomingMessageVO.class);\r\n```\r\n\r\nThe JSON has the lowercase string &quot;location&quot; which I want to map with the LOCATION of the below enum\r\nthe class contains one enum which is :\r\n```\r\npublic enum WhatsAppMessageType {\r\n\r\n\tTEMPLATE(&quot;TEMPLATE&quot;),\r\n\tTEXT(&quot;TEXT&quot;),\r\n\tIMAGE(&quot;image&quot;), \r\n\tVIDEO(&quot;video&quot;), \r\n\tAUDIO(&quot;audio&quot;),\r\n\t@JsonProperty(&quot;json&quot;)\r\n\tLOCATION(&quot;location&quot;);\r\n\t\r\n```","title":"How to construct case-insensitive enum using Jackson?","body":"<p>I want to have all my enum objects capitalized. how to make it case-insensitive?</p>\n<p>HTTP body to <code>JsonNode</code> and then node to a class object:</p>\n<pre><code>JsonNode asJson = request().body().asJson();\nWhatsappIncomingMessageVO requestVO = JsonParserUtils.fromJson(asJson, WhatsappIncomingMessageVO.class);\n</code></pre>\n<p>The JSON has the lowercase string &quot;location&quot; which I want to map with the LOCATION of the below enum\nthe class contains one enum which is :</p>\n<pre><code>public enum WhatsAppMessageType {\n\n    TEMPLATE(&quot;TEMPLATE&quot;),\n    TEXT(&quot;TEXT&quot;),\n    IMAGE(&quot;image&quot;), \n    VIDEO(&quot;video&quot;), \n    AUDIO(&quot;audio&quot;),\n    @JsonProperty(&quot;json&quot;)\n    LOCATION(&quot;location&quot;);\n    \n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":29586496,"reputation":1,"user_id":22675047,"display_name":"Matan Yeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696322110,"creation_date":1696322110,"question_id":77220765,"body_markdown":"I&#39;m attempting to develop an online chess game in Android Studio with Firebase integration. I&#39;ve implemented an AsyncTask to listen to Firebase and determine whether the other user has made a move. The code functions well for the first two turns for each user, but then, on the fifth turn, the synchronization ceases to function. What could be causing this issue?\r\n\r\nI&#39;m attempting to utilize an AsyncTask in my code, as shown below:\r\n\r\n`public class RivalMoveTask extends AsyncTask&lt;Void, Void, String&gt; {\r\n    private Board _board;\r\n    private chessBoard _chess;\r\n\r\n    @Override\r\n    protected String doInBackground(Void... voids) {\r\n        // Fetch the rival&#39;s move in the background\r\n        return _board.getRivalMove();\r\n    }\r\n\r\n    public RivalMoveTask(Board board, chessBoard chess) {\r\n        _board = board;\r\n        _chess = chess;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(String rivalMove) {\r\n        super.onPostExecute(rivalMove);\r\n        if (rivalMove != null) {\r\n            // Update the UI with the rival&#39;s move\r\n            _chess.changeRivalMove(rivalMove);\r\n        }\r\n    }\r\n}`\r\nThe getRivalMove function listens to the database and returns the rival&#39;s move, while the changeRivalMove function takes the rival&#39;s move obtained from getRivalMove and updates it in the UI.","title":"Android Studio and Firebase: Synchronization Issue in Online Chess Game After Several Moves","body":"<p>I'm attempting to develop an online chess game in Android Studio with Firebase integration. I've implemented an AsyncTask to listen to Firebase and determine whether the other user has made a move. The code functions well for the first two turns for each user, but then, on the fifth turn, the synchronization ceases to function. What could be causing this issue?</p>\n<p>I'm attempting to utilize an AsyncTask in my code, as shown below:</p>\n<p>`public class RivalMoveTask extends AsyncTask&lt;Void, Void, String&gt; {\nprivate Board _board;\nprivate chessBoard _chess;</p>\n<pre><code>@Override\nprotected String doInBackground(Void... voids) {\n    // Fetch the rival's move in the background\n    return _board.getRivalMove();\n}\n\npublic RivalMoveTask(Board board, chessBoard chess) {\n    _board = board;\n    _chess = chess;\n}\n\n@Override\nprotected void onPostExecute(String rivalMove) {\n    super.onPostExecute(rivalMove);\n    if (rivalMove != null) {\n        // Update the UI with the rival's move\n        _chess.changeRivalMove(rivalMove);\n    }\n}\n</code></pre>\n<p>}`\nThe getRivalMove function listens to the database and returns the rival's move, while the changeRivalMove function takes the rival's move obtained from getRivalMove and updates it in the UI.</p>\n"},{"tags":["java","azure-devops","sonarqube","java-11","java-home"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695749023,"post_id":77181518,"comment_id":136065021,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1696321756,"post_id":77181518,"comment_id":136134641,"body_markdown":"**Need java 8**? Except for very tricky things, Java 11 can run Java 8 code. Looking at your error, Sonar is running in Java 8, run everything in Java 11.","body":"<b>Need java 8</b>? Except for very tricky things, Java 11 can run Java 8 code. Looking at your error, Sonar is running in Java 8, run everything in Java 11."}],"owner":{"account_id":10174331,"reputation":1,"user_id":7513573,"display_name":"Bumblebee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696321500,"creation_date":1695743048,"question_id":77181518,"body_markdown":"I have both Java8 and Java 11 on the server that hosts the agent. All my programs on the server need Java8 to execute, but the agent that runs sonarqube requires Java11.\r\nI cannot change JAVA_HOME in my server, but the sonarqube execution always fails with \r\n`java.lang.UnsupportedClassVersionError: org/sonar/batch/bootstrapper/EnvironmentInformation has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0`.\r\nBecause it picks up Java8 for run analysis purpose.\r\nIs there any way to change the JavaHome variable in azure devops for Sonarqube scanner\r\n\r\n\r\nI have tried setting different Task version and JDK version in Run analysis tasks, but its of no help","title":"How to change JAVA_HOME of a self-hosted agent in ADO only, without actually changing the JAVA_HOME env in the the actual server hosting the agent","body":"<p>I have both Java8 and Java 11 on the server that hosts the agent. All my programs on the server need Java8 to execute, but the agent that runs sonarqube requires Java11.\nI cannot change JAVA_HOME in my server, but the sonarqube execution always fails with\n<code>java.lang.UnsupportedClassVersionError: org/sonar/batch/bootstrapper/EnvironmentInformation has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code>.\nBecause it picks up Java8 for run analysis purpose.\nIs there any way to change the JavaHome variable in azure devops for Sonarqube scanner</p>\n<p>I have tried setting different Task version and JDK version in Run analysis tasks, but its of no help</p>\n"},{"tags":["java","vert.x"],"answers":[{"comments":[{"owner":{"account_id":105270,"reputation":583,"user_id":281022,"display_name":"vasquez"},"score":0,"creation_date":1697440975,"post_id":77220674,"comment_id":136275423,"body_markdown":"Will this trigger exceptionHandler or endHandler of ReadStream?","body":"Will this trigger exceptionHandler or endHandler of ReadStream?"},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":1,"creation_date":1697537483,"post_id":77220674,"comment_id":136289447,"body_markdown":"I don&#39;t think so","body":"I don&#39;t think so"}],"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696321295,"creation_date":1696321295,"answer_id":77220674,"question_id":77219122,"body_markdown":"Usually, setting a `null` handler does the trick:\r\n\r\n    readstream.handler(null);","title":"How to close a Vertx ReadStream from the client side?","body":"<p>Usually, setting a <code>null</code> handler does the trick:</p>\n<pre><code>readstream.handler(null);\n</code></pre>\n"}],"owner":{"account_id":1065937,"reputation":569,"user_id":1066506,"accept_rate":100,"display_name":"Vin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696321295,"creation_date":1696294335,"question_id":77219122,"body_markdown":"`WritesStream` has [`.end()`](https://vertx.io/docs/apidocs/io/vertx/core/streams/WriteStream.html#end--). But I have not found anything similar for `ReadStream`.\r\n\r\nI&#39;d need to &quot;unsubscribe&quot; a client of a `ReadStream` from a never ending stream, after done with it.","title":"How to close a Vertx ReadStream from the client side?","body":"<p><code>WritesStream</code> has <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/streams/WriteStream.html#end--\" rel=\"nofollow noreferrer\"><code>.end()</code></a>. But I have not found anything similar for <code>ReadStream</code>.</p>\n<p>I'd need to &quot;unsubscribe&quot; a client of a <code>ReadStream</code> from a never ending stream, after done with it.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669735362,"post_id":74616311,"comment_id":131707366,"body_markdown":"No need to add `@ComponentScan({&quot;fr.school.schoolmanagement.model&quot;})`, remove it and try again.","body":"No need to add <code>@ComponentScan({&quot;fr.school.schoolmanagement.model&quot;})</code>, remove it and try again."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669735416,"post_id":74616311,"comment_id":131707388,"body_markdown":"Also, the annotation `@Table(name=&quot;eleve&quot;)` name there is redundant when the name of the model mathed the entity, no matter the case.","body":"Also, the annotation <code>@Table(name=&quot;eleve&quot;)</code> name there is redundant when the name of the model mathed the entity, no matter the case."},{"owner":{"account_id":18355980,"reputation":55,"user_id":13369031,"display_name":"user13369031"},"score":0,"creation_date":1669735647,"post_id":74616311,"comment_id":131707489,"body_markdown":"thank @LeonardoEmmanueldeAzevedo just tried your suggestions, still not working","body":"thank @LeonardoEmmanueldeAzevedo just tried your suggestions, still not working"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":10,"creation_date":1669735754,"post_id":74616311,"comment_id":131707531,"body_markdown":"Judging from your stacktrace you are using SPring Boot 3. Judging from your entity you are messing around with your dependencies and included incompatible ones. The annotations should come from `jakarta.persistence` package **not** `javax.persistence`. EIther fix the annotations or downgrade Spring Boot to 2.7.5.","body":"Judging from your stacktrace you are using SPring Boot 3. Judging from your entity you are messing around with your dependencies and included incompatible ones. The annotations should come from <code>jakarta.persistence</code> package <b>not</b> <code>javax.persistence</code>. EIther fix the annotations or downgrade Spring Boot to 2.7.5."},{"owner":{"account_id":18355980,"reputation":55,"user_id":13369031,"display_name":"user13369031"},"score":0,"creation_date":1669736211,"post_id":74616311,"comment_id":131707717,"body_markdown":"@M.Deinum, THANK YOU, you just saved me after so many hours of rewriting, reading the same docs, tutorial","body":"@M.Deinum, THANK YOU, you just saved me after so many hours of rewriting, reading the same docs, tutorial"},{"owner":{"account_id":3260357,"reputation":77,"user_id":2746053,"display_name":"Robert Hook"},"score":0,"creation_date":1670679353,"post_id":74616311,"comment_id":131931488,"body_markdown":"Also thanks @M.Deinum - this does not seem to be documented anywhere","body":"Also thanks @M.Deinum - this does not seem to be documented anywhere"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670755763,"post_id":74616311,"comment_id":131942561,"body_markdown":"If you are using the proper dependency management you only get the jakarta packaging and you have no other option. If you are upgrading from Spring Boot 2.x to 3.x it is clearly mentioned in the upgrade guide.","body":"If you are using the proper dependency management you only get the jakarta packaging and you have no other option. If you are upgrading from Spring Boot 2.x to 3.x it is clearly mentioned in the upgrade guide."},{"owner":{"account_id":19832645,"reputation":233,"user_id":14526839,"display_name":"Sahan"},"score":0,"creation_date":1683184174,"post_id":74616311,"comment_id":134328124,"body_markdown":"@M.Deinum wasted around 6 hours. Thnx","body":"@M.Deinum wasted around 6 hours. Thnx"}],"answers":[{"tags":[],"owner":{"account_id":23666190,"reputation":11,"user_id":17693613,"display_name":"mn_g18"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696321107,"creation_date":1696321021,"answer_id":77220646,"question_id":74616311,"body_markdown":"If you have created a entityManagerFactory bean, you have to pay attention to the setPackagesToScan value which must correspond to the package that hosts your entity classes.\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n    LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n    emf.setDataSource(this.dataSource());\r\n    emf.setPackagesToScan(&quot;your.domain.package.entity.name&quot;);\r\n    ...........\r\n\r\n","title":"Spring boot not a managed type","body":"<p>If you have created a entityManagerFactory bean, you have to pay attention to the setPackagesToScan value which must correspond to the package that hosts your entity classes.</p>\n<pre><code>@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\nLocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\nemf.setDataSource(this.dataSource());\nemf.setPackagesToScan(&quot;your.domain.package.entity.name&quot;);\n...........\n</code></pre>\n"}],"owner":{"account_id":18355980,"reputation":55,"user_id":13369031,"display_name":"user13369031"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696321107,"creation_date":1669735212,"question_id":74616311,"body_markdown":"Quite new to spring and i&#39;m having a hard time dealing with this error ! I looked up many simular problems and tried the proposed solutions (@EntityScan, @ComponentScan). I also tried moving all the files in one package as suggested in [this video][1] but once again nothing wrong ! I just can&#39;t find where is the mistake i made !\r\n\r\n - the error:\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2022-11-29T15:54:30.869+01:00 ERROR 33472 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;IEleveRepository&#39; defined in fr.school.schoolmanagement.repo.IEleveRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class fr.school.schoolmanagement.model.Eleve\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat fr.school.schoolmanagement.SchoolApplication.main(SchoolApplication.java:12) ~[classes/:na]\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class fr.school.schoolmanagement.model.Eleve\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\t... 16 common frames omitted\r\n```\r\n\r\n - Eleve.java file:\r\n```\r\npackage fr.school.schoolmanagement.model;\r\n\r\nimport java.sql.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n\r\n\r\n@Entity \r\n@Table(name=&quot;eleve&quot;)\r\npublic class Eleve {\r\n\t\r\n\t@Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name=&quot;eleve_id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;eleve_nom&quot;)\r\n\tprivate String nom;\r\n\t\r\n\t@Column(name=&quot;eleve_prenom&quot;)\r\n\tprivate String prenom; \r\n\t\r\n\t@Column(name=&quot;eleve_date&quot;)\r\n\tprivate Date dateDeNaissance;\r\n\t\r\n\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getNom() {\r\n\t\treturn nom;\r\n\t}\r\n\tpublic void setNom(String nom) {\r\n\t\tthis.nom = nom;\r\n\t}\r\n\tpublic String getPrenom() {\r\n\t\treturn prenom;\r\n\t}\r\n\tpublic void setPrenom(String prenom) {\r\n\t\tthis.prenom = prenom;\r\n\t}\r\n\tpublic Date getDateDeNaissance() {\r\n\t\treturn dateDeNaissance;\r\n\t}\r\n\tpublic void setDateDeNaissance(Date dateDeNaissance) {\r\n\t\tthis.dateDeNaissance = dateDeNaissance;\r\n\t} \t\r\n}\r\n\r\n```\r\n\r\n - EleveRepository file:\r\n```\r\npackage fr.school.schoolmanagement.repo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport fr.school.schoolmanagement.model.Eleve;\r\n\r\n@Repository\r\npublic interface IEleveRepository extends JpaRepository&lt;Eleve, Integer&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n - EleveService file:\r\n```\r\npackage fr.school.schoolmanagement.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport fr.school.schoolmanagement.model.Eleve;\r\nimport fr.school.schoolmanagement.repo.IEleveRepository;\r\n\r\n@Service\r\npublic class EleveService {\r\n\t\r\n\t@Autowired\r\n\tprivate IEleveRepository eleveRepo;\r\n\t\r\n\tpublic Eleve saveEleve(Eleve eleve) {\r\n\t\treturn this.eleveRepo.save(eleve); \r\n\t}\r\n\r\n}\r\n```\r\n\r\n- Main Application file:\r\n```\r\npackage fr.school.schoolmanagement;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan({&quot;fr.school.schoolmanagement.model&quot;})\r\npublic class SchoolApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SchoolApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n- and my tree looks like this:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=ug53epaPFrA\r\n  [2]: https://i.stack.imgur.com/kk2xF.png","title":"Spring boot not a managed type","body":"<p>Quite new to spring and i'm having a hard time dealing with this error ! I looked up many simular problems and tried the proposed solutions (@EntityScan, @ComponentScan). I also tried moving all the files in one package as suggested in <a href=\"https://www.youtube.com/watch?v=ug53epaPFrA\" rel=\"nofollow noreferrer\">this video</a> but once again nothing wrong ! I just can't find where is the mistake i made !</p>\n<ul>\n<li>the error:</li>\n</ul>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2022-11-29T15:54:30.869+01:00 ERROR 33472 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'IEleveRepository' defined in fr.school.schoolmanagement.repo.IEleveRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class fr.school.schoolmanagement.model.Eleve\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at fr.school.schoolmanagement.SchoolApplication.main(SchoolApplication.java:12) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class fr.school.schoolmanagement.model.Eleve\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 16 common frames omitted\n</code></pre>\n<ul>\n<li>Eleve.java file:</li>\n</ul>\n<pre><code>package fr.school.schoolmanagement.model;\n\nimport java.sql.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n\n\n@Entity \n@Table(name=&quot;eleve&quot;)\npublic class Eleve {\n    \n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;eleve_id&quot;)\n    private int id;\n    \n    @Column(name=&quot;eleve_nom&quot;)\n    private String nom;\n    \n    @Column(name=&quot;eleve_prenom&quot;)\n    private String prenom; \n    \n    @Column(name=&quot;eleve_date&quot;)\n    private Date dateDeNaissance;\n    \n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getNom() {\n        return nom;\n    }\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n    public String getPrenom() {\n        return prenom;\n    }\n    public void setPrenom(String prenom) {\n        this.prenom = prenom;\n    }\n    public Date getDateDeNaissance() {\n        return dateDeNaissance;\n    }\n    public void setDateDeNaissance(Date dateDeNaissance) {\n        this.dateDeNaissance = dateDeNaissance;\n    }   \n}\n\n</code></pre>\n<ul>\n<li>EleveRepository file:</li>\n</ul>\n<pre><code>package fr.school.schoolmanagement.repo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport fr.school.schoolmanagement.model.Eleve;\n\n@Repository\npublic interface IEleveRepository extends JpaRepository&lt;Eleve, Integer&gt; {\n\n}\n\n</code></pre>\n<ul>\n<li>EleveService file:</li>\n</ul>\n<pre><code>package fr.school.schoolmanagement.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport fr.school.schoolmanagement.model.Eleve;\nimport fr.school.schoolmanagement.repo.IEleveRepository;\n\n@Service\npublic class EleveService {\n    \n    @Autowired\n    private IEleveRepository eleveRepo;\n    \n    public Eleve saveEleve(Eleve eleve) {\n        return this.eleveRepo.save(eleve); \n    }\n\n}\n</code></pre>\n<ul>\n<li>Main Application file:</li>\n</ul>\n<pre><code>package fr.school.schoolmanagement;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan({&quot;fr.school.schoolmanagement.model&quot;})\npublic class SchoolApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SchoolApplication.class, args);\n    }\n\n}\n</code></pre>\n<ul>\n<li>and my tree looks like this:\n<a href=\"https://i.stack.imgur.com/kk2xF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kk2xF.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n"},{"tags":["javascript","java","vaadin","quarkus","vaadin24"],"answers":[{"tags":[],"owner":{"account_id":2515523,"reputation":1914,"user_id":2187063,"display_name":"mstahv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696320866,"creation_date":1696320431,"answer_id":77220601,"question_id":77220380,"body_markdown":"The solution is not use the built-in API to pass the objects to the browser/JS. Instead, use e.g. Jackson (which comes in as transitive dependency), and serialise the objects directly to the JS calls.\r\n\r\nFor example use this kind of superclass in your POJO:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.PropertyNamingStrategies;\r\n    \r\n    public class AbstractKebabCasedDto {\r\n        static ObjectMapper mapper = new ObjectMapper();\r\n        static {\r\n            mapper.setPropertyNamingStrategy(new PropertyNamingStrategies.KebabCaseStrategy());\r\n            mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        }\r\n    \r\n        // JSON representation to be easily used in JS calls\r\n        @Override\r\n        public String toString() {\r\n            try {\r\n                return mapper.writeValueAsString(this);\r\n            } catch (JsonProcessingException e) {\r\n                return &quot;{&#39;value&#39;: &#39;JSON ERROR&#39;}&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nAnd then you can pass it to JS:\r\n\r\n`getElement().executeJs(&quot;yourJSLibraryMethod(%s)&quot;.formatted(pojo)`\r\n\r\nCheck this recent blog post of mine about this approach for more details: https://vaadin.com/blog/building-java-api-for-javascript-libraries\r\n\r\nDepending on situation, you can also use the same approach to pass back data from the browser side.","title":"How to send POJO from java to JS in Vaadin application","body":"<p>The solution is not use the built-in API to pass the objects to the browser/JS. Instead, use e.g. Jackson (which comes in as transitive dependency), and serialise the objects directly to the JS calls.</p>\n<p>For example use this kind of superclass in your POJO:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.PropertyNamingStrategies;\n\npublic class AbstractKebabCasedDto {\n    static ObjectMapper mapper = new ObjectMapper();\n    static {\n        mapper.setPropertyNamingStrategy(new PropertyNamingStrategies.KebabCaseStrategy());\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    }\n\n    // JSON representation to be easily used in JS calls\n    @Override\n    public String toString() {\n        try {\n            return mapper.writeValueAsString(this);\n        } catch (JsonProcessingException e) {\n            return &quot;{'value': 'JSON ERROR'}&quot;;\n        }\n    }\n}\n</code></pre>\n<p>And then you can pass it to JS:</p>\n<p><code>getElement().executeJs(&quot;yourJSLibraryMethod(%s)&quot;.formatted(pojo)</code></p>\n<p>Check this recent blog post of mine about this approach for more details: <a href=\"https://vaadin.com/blog/building-java-api-for-javascript-libraries\" rel=\"nofollow noreferrer\">https://vaadin.com/blog/building-java-api-for-javascript-libraries</a></p>\n<p>Depending on situation, you can also use the same approach to pass back data from the browser side.</p>\n"}],"owner":{"account_id":1289848,"reputation":3311,"user_id":1242148,"accept_rate":100,"display_name":"Mindaugas Jaraminas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696320866,"creation_date":1696317809,"question_id":77220380,"body_markdown":"How to transfer java object to Java Script in Vaadin \r\n\r\nI have a function that has to be called from frontend but it requires a big data set but it is impractical to map data to JSON and then convert it back.\r\n\r\nfor example I have a POJO\r\n\r\n    public class EmployeePojo {\r\n\r\n    public String firstName;\r\n    public String lastName;\r\n    private LocalDate startDate;\r\n\r\n    public EmployeePojo(String firstName, String lastName, LocalDate startDate) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.startDate = startDate;\r\n    }\r\n\r\n    public String name() {\r\n        return this.firstName + &quot; &quot; + this.lastName;\r\n    }\r\n\r\n    public LocalDate getStart() {\r\n        return this.startDate;\r\n    }\r\n}\r\n\r\nAnd I have to transfer a list of `EmployeePojo` to a java script \r\n\r\nFor example:\r\n\r\n    var list = new ArrayList&lt;EmployeePojo&gt;();\r\n    initList(list);\r\n    UI.getCurrent().getPage().executeJs(&quot;addData($0,$1,$2)&quot;,\r\n        getElement(), name, list);\r\n\r\nDoes some one knows solution?\r\n\r\nI am using Vaadin 24.0.11 and Quarkus 3.0.4\r\n\r\nOne of the solutions is to use `JsonObject` for example:\r\n\r\n     var json = elemental.json.Json.createObject();\r\n     json.put(&quot;param&quot;, &quot;test name&quot;);\r\n     UI.getCurrent().getPage().executeJs(&quot;addData($0,$1,$2)&quot;,\r\n          getElement(), name, json);\r\n\r\nBut I am receiving error:\r\n\r\n    2023-10-03 10:18:50,017 ERROR [com.vaa.flo.ser.DefaultErrorHandler] (executor-thread-2) : java.lang.RuntimeException: java.lang.LinkageError: loader constraint violation: loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @29c1c2d3 wants to load interface elemental.json.JsonObject. A different interface with the same name was previously loaded by io.quarkus.bootstrap.classloading.QuarkusClassLoader @1ffe63b9. (elemental.json.JsonObject is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @1ffe63b9, parent loader &#39;app&#39;)\r\n\r\n\r\n","title":"How to send POJO from java to JS in Vaadin application","body":"<p>How to transfer java object to Java Script in Vaadin</p>\n<p>I have a function that has to be called from frontend but it requires a big data set but it is impractical to map data to JSON and then convert it back.</p>\n<p>for example I have a POJO</p>\n<pre><code>public class EmployeePojo {\n\npublic String firstName;\npublic String lastName;\nprivate LocalDate startDate;\n\npublic EmployeePojo(String firstName, String lastName, LocalDate startDate) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.startDate = startDate;\n}\n\npublic String name() {\n    return this.firstName + &quot; &quot; + this.lastName;\n}\n\npublic LocalDate getStart() {\n    return this.startDate;\n}\n</code></pre>\n<p>}</p>\n<p>And I have to transfer a list of <code>EmployeePojo</code> to a java script</p>\n<p>For example:</p>\n<pre><code>var list = new ArrayList&lt;EmployeePojo&gt;();\ninitList(list);\nUI.getCurrent().getPage().executeJs(&quot;addData($0,$1,$2)&quot;,\n    getElement(), name, list);\n</code></pre>\n<p>Does some one knows solution?</p>\n<p>I am using Vaadin 24.0.11 and Quarkus 3.0.4</p>\n<p>One of the solutions is to use <code>JsonObject</code> for example:</p>\n<pre><code> var json = elemental.json.Json.createObject();\n json.put(&quot;param&quot;, &quot;test name&quot;);\n UI.getCurrent().getPage().executeJs(&quot;addData($0,$1,$2)&quot;,\n      getElement(), name, json);\n</code></pre>\n<p>But I am receiving error:</p>\n<pre><code>2023-10-03 10:18:50,017 ERROR [com.vaa.flo.ser.DefaultErrorHandler] (executor-thread-2) : java.lang.RuntimeException: java.lang.LinkageError: loader constraint violation: loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @29c1c2d3 wants to load interface elemental.json.JsonObject. A different interface with the same name was previously loaded by io.quarkus.bootstrap.classloading.QuarkusClassLoader @1ffe63b9. (elemental.json.JsonObject is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @1ffe63b9, parent loader 'app')\n</code></pre>\n"},{"tags":["java","android","push-notification","onesignal"],"answers":[{"tags":[],"owner":{"account_id":24609660,"reputation":38,"user_id":18511414,"display_name":"Siyash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696320381,"creation_date":1696320381,"answer_id":77220598,"question_id":77215208,"body_markdown":"https://documentation.onesignal.com/reference/fetch-aliases\r\n\r\n***OneSignal is in the process of migrating from a device-centric model (player ID) to a new user-centric data model (OneSignal ID). In the new user-centric world, Users have a OneSignal ID, and what was the player ID is now known as the Subscription ID.***\r\n\r\nGet Subscription ID\r\n`OneSignal.User.pushSubscription.id`\r\n\r\nOne Signal 5.0.0+","title":"How to get player ID in android Java with One Signal 5.0.2?","body":"<p><a href=\"https://documentation.onesignal.com/reference/fetch-aliases\" rel=\"nofollow noreferrer\">https://documentation.onesignal.com/reference/fetch-aliases</a></p>\n<p><em><strong>OneSignal is in the process of migrating from a device-centric model (player ID) to a new user-centric data model (OneSignal ID). In the new user-centric world, Users have a OneSignal ID, and what was the player ID is now known as the Subscription ID.</strong></em></p>\n<p>Get Subscription ID\n<code>OneSignal.User.pushSubscription.id</code></p>\n<p>One Signal 5.0.0+</p>\n"}],"owner":{"account_id":21933220,"reputation":53,"user_id":16214868,"display_name":"Fariba Laiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77220598,"answer_count":1,"score":0,"last_activity_date":1696320381,"creation_date":1696245858,"question_id":77215208,"body_markdown":"In previous versions if one signal, we can get the player ID in android Java using the following line.\r\n\r\n`OneSignal.getPermissionSubscriptionState().getSubscriptionStatus().getUserId()`\r\n\r\nBut this method does not work in One Signal 5.0.2. So how can I get that ID now?\r\n\r\nI tried all possible solutions from the internet but those methods does not work with One Signal 5.0.2. As it&#39;s the latest version and proper documentation is not yet available.","title":"How to get player ID in android Java with One Signal 5.0.2?","body":"<p>In previous versions if one signal, we can get the player ID in android Java using the following line.</p>\n<p><code>OneSignal.getPermissionSubscriptionState().getSubscriptionStatus().getUserId()</code></p>\n<p>But this method does not work in One Signal 5.0.2. So how can I get that ID now?</p>\n<p>I tried all possible solutions from the internet but those methods does not work with One Signal 5.0.2. As it's the latest version and proper documentation is not yet available.</p>\n"},{"tags":["java","spring-boot","spring-security","jwt","role-based-access-control"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696318163,"post_id":77219706,"comment_id":136134033,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696355767,"post_id":77219706,"comment_id":136141315,"body_markdown":"Why are you building an insecure login? Jwts should not be used this way. They where never meant to be handed out to browsers. Jwt are used to authenticate between microservices and should not be handed out to browsers. So why have you buildt all of this?","body":"Why are you building an insecure login? Jwts should not be used this way. They where never meant to be handed out to browsers. Jwt are used to authenticate between microservices and should not be handed out to browsers. So why have you buildt all of this?"}],"owner":{"account_id":25289046,"reputation":1,"user_id":19115481,"display_name":"Jaswant Kondur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696319746,"creation_date":1696307982,"question_id":77219706,"body_markdown":"I am getting Unauthorized error despite being logged in with User having the required roles. \r\nIn SecurityConfig, I used antMatchers, which allow me to do permitAll() but authorize when I use hasAnyAuthority(). On using annotations in methods, @PreAuthorize/@Secured , I am getting unauthorized error. When I debugged and checked all the Granted Authorities (in UserDetails) it was showing all the required roles but still the method with pre/post auth do not get authorized.\r\n\r\nHere is what I coded:\r\n\r\n## SecurityConfig\r\n\r\n```\r\n@Configuration\r\n@EnableMethodSecurity(securedEnabled = true, prePostEnabled = true)\r\npublic class WebSecurityConfig {\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new ShaPasswordEncoder();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable)\r\n                .exceptionHandling(exception -&gt; exception.authenticationEntryPoint(unauthorizedHandler))\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests(auth -&gt;\r\n                        auth.antMatchers(&quot;/authorizedAccess/**&quot;).permitAll()\r\n                                .antMatchers(&quot;/api/v1/**&quot;).permitAll()\r\n                                .antMatchers(&quot;/access/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n\r\n                );\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n## Method:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/authorizedAccess&quot;)\r\npublic class AuthorizedAccessControl {\r\n\r\n    @Autowired\r\n    someService someService;\r\n\r\n    private static final Logger LOG = LogManager.getLogger(AuthorizedAccessController.class);\r\n\r\n    /**\r\n     *\r\n     * @return\r\n     */\r\n    @Secured(&quot;hasAnyAuthority(&#39;ROLE_ADMIN&#39;)&quot;)\r\n    @GetMapping(value = &quot;/environments&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public List&lt;String&gt; getAllEnvironments() {\r\n\r\n        LOG.debug(&quot;&gt;&gt;&gt;Environments&quot;);\r\n        return someService.getEnvironments();\r\n    }\r\n```\r\n## AuthTokenFilter\r\n\r\n```\r\npublic class AuthTokenFilter extends OncePerRequestFilter {\r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    private static final Logger LOG = LogManager.getLogger(AuthTokenFilter.class);\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        try {\r\n            String jwt = parseJwt(request);\r\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n                String username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n                LOG.info(userDetails.getAuthorities());\r\n                UsernamePasswordAuthenticationToken authentication =\r\n                        new UsernamePasswordAuthenticationToken(\r\n                                userDetails,\r\n                                null,\r\n                                userDetails.getAuthorities());\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;(authentication.getAuthorities());\r\n                LOG.info(authorities);\r\n            }\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Cannot set user authentication: {}&quot;, e);\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    private String parseJwt(HttpServletRequest request) {\r\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n            return headerAuth.substring(7);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried putting checks on antMatcher and methods both. permitAll() works on antMatcher but neither permitAll() and hasAnyAuthority() work on both antMatcher or Method.","title":"Method Not Getting Authorized in Spring Security despite Roles","body":"<p>I am getting Unauthorized error despite being logged in with User having the required roles.\nIn SecurityConfig, I used antMatchers, which allow me to do permitAll() but authorize when I use hasAnyAuthority(). On using annotations in methods, @PreAuthorize/@Secured , I am getting unauthorized error. When I debugged and checked all the Granted Authorities (in UserDetails) it was showing all the required roles but still the method with pre/post auth do not get authorized.</p>\n<p>Here is what I coded:</p>\n<h2>SecurityConfig</h2>\n<pre><code>@Configuration\n@EnableMethodSecurity(securedEnabled = true, prePostEnabled = true)\npublic class WebSecurityConfig {\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new ShaPasswordEncoder();\n    }\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable)\n                .exceptionHandling(exception -&gt; exception.authenticationEntryPoint(unauthorizedHandler))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(auth -&gt;\n                        auth.antMatchers(&quot;/authorizedAccess/**&quot;).permitAll()\n                                .antMatchers(&quot;/api/v1/**&quot;).permitAll()\n                                .antMatchers(&quot;/access/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n\n                );\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<h2>Method:</h2>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/authorizedAccess&quot;)\npublic class AuthorizedAccessControl {\n\n    @Autowired\n    someService someService;\n\n    private static final Logger LOG = LogManager.getLogger(AuthorizedAccessController.class);\n\n    /**\n     *\n     * @return\n     */\n    @Secured(&quot;hasAnyAuthority('ROLE_ADMIN')&quot;)\n    @GetMapping(value = &quot;/environments&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public List&lt;String&gt; getAllEnvironments() {\n\n        LOG.debug(&quot;&gt;&gt;&gt;Environments&quot;);\n        return someService.getEnvironments();\n    }\n</code></pre>\n<h2>AuthTokenFilter</h2>\n<pre><code>public class AuthTokenFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtils jwtUtils;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    private static final Logger LOG = LogManager.getLogger(AuthTokenFilter.class);\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        try {\n            String jwt = parseJwt(request);\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n                String username = jwtUtils.getUserNameFromJwtToken(jwt);\n\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n                LOG.info(userDetails.getAuthorities());\n                UsernamePasswordAuthenticationToken authentication =\n                        new UsernamePasswordAuthenticationToken(\n                                userDetails,\n                                null,\n                                userDetails.getAuthorities());\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n                List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;(authentication.getAuthorities());\n                LOG.info(authorities);\n            }\n        } catch (Exception e) {\n            LOG.error(&quot;Cannot set user authentication: {}&quot;, e);\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n    private String parseJwt(HttpServletRequest request) {\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\n\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\n            return headerAuth.substring(7);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>I tried putting checks on antMatcher and methods both. permitAll() works on antMatcher but neither permitAll() and hasAnyAuthority() work on both antMatcher or Method.</p>\n"},{"tags":["java","eclipse","intellij-idea","compiler-errors"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696317784,"post_id":77220373,"comment_id":136133976,"body_markdown":"This may be a copy/paste error, but there&#39;s a backtick ` in front of your `main` method declaration","body":"This may be a copy/paste error, but there&#39;s a backtick ` in front of your <code>main</code> method declaration"},{"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"score":0,"creation_date":1696318021,"post_id":77220373,"comment_id":136134006,"body_markdown":"@Jorn yeah thats a copy paste error I was using single backtick to format code but fixed it after it sugested to use 4 and it ended up staying","body":"@Jorn yeah thats a copy paste error I was using single backtick to format code but fixed it after it sugested to use 4 and it ended up staying"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1696318184,"post_id":77220373,"comment_id":136134038,"body_markdown":"I would start by forgetting all your *real* code - get a simple &quot;Hello world&quot; app to work (including using a package). At the moment we don&#39;t know how you&#39;ve compiled the code or how you&#39;re trying to run it. I very much doubt that the code in the class is the actual problem.","body":"I would start by forgetting all your <i>real</i> code - get a simple &quot;Hello world&quot; app to work (including using a package). At the moment we don&#39;t know how you&#39;ve compiled the code or how you&#39;re trying to run it. I very much doubt that the code in the class is the actual problem."},{"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"score":0,"creation_date":1696318393,"post_id":77220373,"comment_id":136134068,"body_markdown":"@JonSkeet all my other projects work fine, this particular java class is inside a folder algs13 inside algs4, all other folders under algs4 work fine. All other seperate projects work too,","body":"@JonSkeet all my other projects work fine, this particular java class is inside a folder algs13 inside algs4, all other folders under algs4 work fine. All other seperate projects work too,"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1696318617,"post_id":77220373,"comment_id":136134115,"body_markdown":"Well, it sounds like it&#39;s a classpath issue somewhere, but it&#39;s likely to be hard to say more than that without looking at the details of how the project is configured etc. (I assume it has compiled without error?)","body":"Well, it sounds like it&#39;s a classpath issue somewhere, but it&#39;s likely to be hard to say more than that without looking at the details of how the project is configured etc. (I assume it has compiled without error?)"}],"answers":[{"tags":[],"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696319722,"creation_date":1696319722,"answer_id":77220550,"question_id":77220373,"body_markdown":"Commenting out &quot;Trace.run ();&quot; solves it idk why tbh but project finally runs.","title":"Any possible way to solve Error finding/loading class","body":"<p>Commenting out &quot;Trace.run ();&quot; solves it idk why tbh but project finally runs.</p>\n"}],"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696319722,"creation_date":1696317705,"question_id":77220373,"body_markdown":"I hope that this is just a simple issue that I have messed up on, I have been getting this Error in Intellij for the past 2 hours: \r\n\r\nError: Could not find or load main class algs13.MyLinked2\r\nCaused by: java.lang.ClassNotFoundException: algs13.MyLinked2\r\n\r\n\r\n\r\nI have tried making copies, making new run configurations, some other stuff I don&#39;t recall and even downloading eclipse which is the IDE my professor uses but there I instead get the error:\r\n\r\nEditor does not contain main\r\n\r\nThis is probably a useless endeavor but I&#39;m writing this hoping I just overlooked something. \r\n\r\n\r\n\r\nHere is the code, all i have edited is the public void delete which is commented out as I tried to see if that was the error\r\n\r\nSorry for this probably pointless question and thanks in advance for any effort expended in this \r\n\r\n\r\n\r\n```\r\npackage algs13;\r\nimport java.text.DecimalFormat;\r\nimport stdlib.*;\r\n\r\n/* \r\n * Complete the methods below.\r\n * All of these methods modify the list.\r\n * Use the function checkInvariants to ensure that your list is well-formed after you modify it.\r\n * Note that this list keeps track of the number of elements N.\r\n * It is important that N accurately reflect the length of the list. \r\n * \r\n * You may not add any fields to the node or list classes.\r\n * You may not add any methods to the node class.\r\n * You may not create any new objects objects.\r\n * For example, you may not create a new Node, new Stack, or new ArrayList.\r\n * \r\n *    new Node (...)  // Forbidden: create a new Node object.\r\n *    \r\n * You *may* declare variables of type Node.\r\n *    \r\n *    Node x = first; // Allowed: declare variable of type Node.\r\n *  \r\n * You may not change the item value of any existing node, only change the next pointer.\r\n * \r\n *    x.item = ... // Forbidden\r\n *    x.next = ... // Allowed\r\n *    first  = ... // Allowed\r\n *\r\n * Each function must be independent.  \r\n * For example, you cannot call delete to implement remove.\r\n * You MAY add private methods to the list class (helper functions for the recursion). \r\n * You do NOT need to use recursion for this homework.\r\n * You can use loops in each problem.\r\n */\r\npublic class MyLinked2 {\r\n\tstatic class Node {\r\n\t\tpublic Node (double item, Node next) { this.item = item; this.next = next; }\r\n\t\tpublic double item;\r\n\t\tpublic Node next;\r\n\t}\r\n\tint N;\r\n\tNode first;\r\n\r\n\t// delete the kth element (where k is between 0 and N-1 inclusive)\r\n\tpublic void delete (int k) {\r\n//\t\tif (k &lt; 0 || k &gt;= N) throw new IllegalArgumentException ();\r\n//\t\tif(k==0){\r\n//\t\t\tfirst=first.next;\r\n//\t\t}else{\r\n//\t\t\tNode n=first;\r\n//\t\t\tfor (int i = 0; i &lt; k-1; i++) {\r\n//\t\t\t\tn=n.next;\r\n//\t\t\t}\r\n//\t\t\tn=n.next.next;\r\n//\t\t}\r\n//\t\t// TODO\r\n//\t\tcheckInvariants();\r\n\t}\r\n\r\n\t// reverse the list &quot;in place&quot;... \r\n\tpublic void reverse () {\r\n\t\t// TODO \r\n\t}\r\n\r\n\t// remove all occurrences of item from the list \r\n\tpublic void remove (double item) {\r\n\t\t// TODO\r\n\t}\r\n\r\n\t`public static void main (String args[]) {\r\n\t\t//mainDebug ();\r\n\t\tmainRunTests ();\r\n\t}\r\n\tprivate static void mainDebug () {\r\n\t\t// Use this for debugging!\r\n\t\t// Add the names of helper functions if you use them.\r\n\t\tTrace.drawStepsOfMethod (&quot;delete&quot;);\r\n\t\tTrace.drawStepsOfMethod (&quot;reverse&quot;);\r\n\t\tTrace.drawStepsOfMethod (&quot;remove&quot;);\r\n\t\tTrace.showObjectIdsRedundantly(true);\r\n\t\tTrace.run (); \r\n\t\t// TODO:  Put the test here you want to debug:`\r\n\r\n\t\ttestReverse (&quot;11 21 31 41&quot;, &quot;[ 41 31 21 11 ]&quot;);\r\n\t\tStdOut.println (&quot;Finished tests&quot;);\r\n\t}\r\n\tprivate static void mainRunTests () {\r\n\t\tTrace.run (); // uncomment this to get drawings in showError\r\n\t\ttestDelete (1, &quot;11 21 31 41&quot;, &quot;[ 11 31 41 ]&quot;);\r\n\t\ttestDelete (2, &quot;11 21 31 41&quot;, &quot;[ 11 21 41 ]&quot;);\r\n\t\ttestDelete (3, &quot;11 21 31 41&quot;, &quot;[ 11 21 31 ]&quot;);\r\n\t\ttestDelete (1, &quot;11 21 31 41 51&quot;, &quot;[ 11 31 41 51 ]&quot;);\r\n\t\ttestDelete (2, &quot;11 21 31 41 51&quot;, &quot;[ 11 21 41 51 ]&quot;);\r\n\t\ttestDelete (3, &quot;11 21 31 41 51&quot;, &quot;[ 11 21 31 51 ]&quot;);\r\n\t\ttestDelete (4, &quot;11 21 31 41 51&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestDelete (0, &quot;11 21 31 41 51&quot;, &quot;[ 21 31 41 51 ]&quot;);\r\n\t\ttestDelete (0, &quot;11&quot;, &quot;[ ]&quot;);\r\n\t\ttestDelete (0, &quot;11 21 31 41&quot;, &quot;[ 21 31 41 ]&quot;);\r\n\t\ttestDelete (0, &quot;&quot;, &quot;java.lang.IllegalArgumentException&quot;);\r\n\t\ttestDelete(-1, &quot;11 21 31&quot;, &quot;java.lang.IllegalArgumentException&quot;);\r\n\t\ttestDelete (3, &quot;11 21 31&quot;, &quot;java.lang.IllegalArgumentException&quot;);\r\n\r\n\t\ttestReverse (&quot;11 21 31 41&quot;, &quot;[ 41 31 21 11 ]&quot;);\r\n\t\ttestReverse (&quot;11 21 31 41 51&quot;, &quot;[ 51 41 31 21 11 ]&quot;);\r\n\t\ttestReverse (&quot;11 21&quot;, &quot;[ 21 11 ]&quot;);\r\n\t\ttestReverse (&quot;11 21 31&quot;, &quot;[ 31 21 11 ]&quot;);\r\n\t\ttestReverse (&quot;11&quot;, &quot;[ 11 ]&quot;);\r\n\t\ttestReverse (&quot;&quot;, &quot;[ ]&quot;);\r\n\r\n\t\ttestRemove (5, &quot;8 11 5 5 21 31 5 5 5 41&quot;, &quot;[ 8 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 5 5 21 5 31 5 5 41 8&quot;, &quot;[ 11 21 31 41 8 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 5 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 31 5 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 5 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 5 5 21 31 5 5 5 41 5 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 5 5 21 5 31 5 5 5 41 5 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 31 41 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 5 21 5 31 5 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 5 5 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 5 5 5 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 5 5 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 5 5 5 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 31 5 5 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 31 5 5 5 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 31 41 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 31 41 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 31 41 5 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;5 5 11 5 5 21 5 31 5 5 5 41 5 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;5 5 5 11 5 5 5 21 31 5 5 41 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;5 11 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;5 5 11 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;5 5 5 11 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\r\n\t\ttestRemove (5, &quot;11&quot;, &quot;[ 11 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21&quot;, &quot;[ 11 21 ]&quot;);\r\n\t\ttestRemove (5, &quot;11 21 31&quot;, &quot;[ 11 21 31 ]&quot;);\r\n\t\ttestRemove (5, &quot;5 5 5&quot;, &quot;[ ]&quot;);\r\n\t\ttestRemove (5, &quot;5 5&quot;, &quot;[ ]&quot;);\r\n\t\ttestRemove (5, &quot;5&quot;, &quot;[ ]&quot;);\r\n\t\ttestRemove (5, &quot;&quot;, &quot;[ ]&quot;);\r\n\t\ttestRemove (5.1, &quot;5.1 5.1 5.1 5 11 5.1 5.1 21 5.1 31 5.1 5.1 41 5.1 5.1 5.1&quot;, &quot;[ 5 11 21 31 41 ]&quot;);\r\n\t\tStdOut.println (&quot;Finished tests&quot;);\r\n\t}\r\n\r\n\t/* ToString method to print */\r\n\tpublic String toString () { \r\n\t\t// Use DecimalFormat #.### rather than String.format 0.3f to leave off trailing zeroes\r\n\t\tDecimalFormat format = new DecimalFormat (&quot;#.###&quot;);\r\n\t\tStringBuilder result = new StringBuilder (&quot;[ &quot;);\r\n\t\tfor (Node x = first; x != null; x = x.next) {\r\n\t\t\tresult.append (format.format (x.item));\r\n\t\t\tresult.append (&quot; &quot;);\r\n\t\t}\r\n\t\tresult.append (&quot;]&quot;);\r\n\t\treturn result.toString ();\r\n\t}\r\n\r\n\t/* Method to create lists */\r\n\tpublic static MyLinked2 from(String s) {\r\n\t\tMyLinked2 result = new MyLinked2 ();\r\n\t\tif (&quot;&quot;.equals (s)) return result;\r\n\r\n\t\tint N = 0;\r\n\t\tNode first = null;\r\n\t\tString[] nums = s.split (&quot; &quot;);\r\n\t\tfor (int i = nums.length-1; i &gt;= 0; i--) {\r\n\t\t\ttry { \r\n\t\t\t\tdouble num = Double.parseDouble (nums[i]); \r\n\t\t\t\tfirst = new Node (num, first);  \r\n\t\t\t\tN++;\r\n\t\t\t} catch (NumberFormatException e) {\r\n\t\t\t\tthrow new IllegalArgumentException (String.format (&quot;Bad argument \\&quot;%s\\&quot;: could not parse \\&quot;%s\\&quot; as a double&quot;, s, nums[i]));\r\n\t\t\t}\r\n\t\t}\r\n\t\tresult.first = first;\r\n\t\tresult.N = N;\r\n\t\treturn result;\r\n\t}\r\n\r\n\tstatic void showError (String message) {\r\n\t\tTrace.draw ();\r\n\t\tStdOut.println (message);\r\n\t\t//throw new Error (); // stops execution\r\n\t}\r\n\tprivate static void checkInvariants (String message, MyLinked2 list) {\r\n\t\tint num = 0;\r\n\t\tNode firstInCycle = null;\r\n\t\t{\r\n\t\t\tjava.util.HashSet&lt;Node&gt; visited = new java.util.HashSet&lt;&gt;();\t\t\t\t\r\n\t\t\tfor (Node x = list.first; x!=null; x=x.next) {\r\n\t\t\t\tif (visited.contains(x)) {\r\n\t\t\t\t\tfirstInCycle = x;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tvisited.add(x);\r\n\t\t\t\tnum++;\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (firstInCycle != null) {\r\n\t\t\tshowError (String.format (&quot;For %s: Node list has cycle.\\n&quot;\r\n\t\t\t\t+ &quot;Cycle starts at Node with item=%f.\\n&quot;\r\n\t\t\t \t+ &quot;Refusing to run any more tests until the cycle is removed.\\n&quot;\r\n\t\t\t \t+ &quot;Uncomment Trace.run() in main to see a picture.\\n&quot;, message, firstInCycle.item));\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t\tif (num != list.N) {\r\n\t\t\tshowError (String.format (&quot;%s: N=%d, but there are %d Nodes.&quot;, message, list.N, num));\r\n\t\t}\r\n\t}\r\n\tprivate static void check (String message, MyLinked2 actual, String expected) {\r\n\t\tcheckInvariants (message, actual);\r\n\t\tif (!expected.equals (actual.toString ())) {\r\n\t\t\tshowError (String.format (&quot;%s: expected=%s, actual=%s&quot;, message, expected, actual.toString ()));\r\n\t\t}\r\n\t}\r\n\tprivate static void testDelete (int k, String list, String expected) {\r\n\t\tMyLinked2 actual = MyLinked2.from (list);\r\n\t\tString message = String.format (&quot;[ %s ].delete( %d )&quot;, list, k);\r\n\t\ttry {\r\n\t\t\tactual.delete (k);\r\n\t\t} catch (Throwable e) {\r\n\t\t\tString exception = e.getClass ().getName ();\r\n\t\t\tif (! exception.equals (expected)) {\r\n\t\t\t\te.printStackTrace (); // for debugging\r\n\t\t\t\tshowError (String.format (&quot;%s: expected=%s, actual=%s&quot;, message, expected, exception));\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcheck (message, actual, expected);\r\n\t}\r\n\tprivate static void testReverse (String list, String expected) {\r\n\t\tMyLinked2 actual = MyLinked2.from (list);\r\n\t\tactual.reverse ();\r\n\t\tString message = String.format (&quot;[ %s ].reverse( )&quot;, list);\r\n\t\tcheck (message, actual, expected);\r\n\t}\r\n\tprivate static void testRemove (double item, String list, String expected) {\r\n\t\tMyLinked2 actual = MyLinked2.from (list);\r\n\t\tactual.remove (item);\r\n\t\tString message = String.format (&quot;[ %s ].remove( %.2f )&quot;, list, item);\r\n\t\tcheck (message, actual, expected);\r\n\t}\r\n}type here\r\n```\r\n","title":"Any possible way to solve Error finding/loading class","body":"<p>I hope that this is just a simple issue that I have messed up on, I have been getting this Error in Intellij for the past 2 hours:</p>\n<p>Error: Could not find or load main class algs13.MyLinked2\nCaused by: java.lang.ClassNotFoundException: algs13.MyLinked2</p>\n<p>I have tried making copies, making new run configurations, some other stuff I don't recall and even downloading eclipse which is the IDE my professor uses but there I instead get the error:</p>\n<p>Editor does not contain main</p>\n<p>This is probably a useless endeavor but I'm writing this hoping I just overlooked something.</p>\n<p>Here is the code, all i have edited is the public void delete which is commented out as I tried to see if that was the error</p>\n<p>Sorry for this probably pointless question and thanks in advance for any effort expended in this</p>\n<pre><code>package algs13;\nimport java.text.DecimalFormat;\nimport stdlib.*;\n\n/* \n * Complete the methods below.\n * All of these methods modify the list.\n * Use the function checkInvariants to ensure that your list is well-formed after you modify it.\n * Note that this list keeps track of the number of elements N.\n * It is important that N accurately reflect the length of the list. \n * \n * You may not add any fields to the node or list classes.\n * You may not add any methods to the node class.\n * You may not create any new objects objects.\n * For example, you may not create a new Node, new Stack, or new ArrayList.\n * \n *    new Node (...)  // Forbidden: create a new Node object.\n *    \n * You *may* declare variables of type Node.\n *    \n *    Node x = first; // Allowed: declare variable of type Node.\n *  \n * You may not change the item value of any existing node, only change the next pointer.\n * \n *    x.item = ... // Forbidden\n *    x.next = ... // Allowed\n *    first  = ... // Allowed\n *\n * Each function must be independent.  \n * For example, you cannot call delete to implement remove.\n * You MAY add private methods to the list class (helper functions for the recursion). \n * You do NOT need to use recursion for this homework.\n * You can use loops in each problem.\n */\npublic class MyLinked2 {\n    static class Node {\n        public Node (double item, Node next) { this.item = item; this.next = next; }\n        public double item;\n        public Node next;\n    }\n    int N;\n    Node first;\n\n    // delete the kth element (where k is between 0 and N-1 inclusive)\n    public void delete (int k) {\n//      if (k &lt; 0 || k &gt;= N) throw new IllegalArgumentException ();\n//      if(k==0){\n//          first=first.next;\n//      }else{\n//          Node n=first;\n//          for (int i = 0; i &lt; k-1; i++) {\n//              n=n.next;\n//          }\n//          n=n.next.next;\n//      }\n//      // TODO\n//      checkInvariants();\n    }\n\n    // reverse the list &quot;in place&quot;... \n    public void reverse () {\n        // TODO \n    }\n\n    // remove all occurrences of item from the list \n    public void remove (double item) {\n        // TODO\n    }\n\n    `public static void main (String args[]) {\n        //mainDebug ();\n        mainRunTests ();\n    }\n    private static void mainDebug () {\n        // Use this for debugging!\n        // Add the names of helper functions if you use them.\n        Trace.drawStepsOfMethod (&quot;delete&quot;);\n        Trace.drawStepsOfMethod (&quot;reverse&quot;);\n        Trace.drawStepsOfMethod (&quot;remove&quot;);\n        Trace.showObjectIdsRedundantly(true);\n        Trace.run (); \n        // TODO:  Put the test here you want to debug:`\n\n        testReverse (&quot;11 21 31 41&quot;, &quot;[ 41 31 21 11 ]&quot;);\n        StdOut.println (&quot;Finished tests&quot;);\n    }\n    private static void mainRunTests () {\n        Trace.run (); // uncomment this to get drawings in showError\n        testDelete (1, &quot;11 21 31 41&quot;, &quot;[ 11 31 41 ]&quot;);\n        testDelete (2, &quot;11 21 31 41&quot;, &quot;[ 11 21 41 ]&quot;);\n        testDelete (3, &quot;11 21 31 41&quot;, &quot;[ 11 21 31 ]&quot;);\n        testDelete (1, &quot;11 21 31 41 51&quot;, &quot;[ 11 31 41 51 ]&quot;);\n        testDelete (2, &quot;11 21 31 41 51&quot;, &quot;[ 11 21 41 51 ]&quot;);\n        testDelete (3, &quot;11 21 31 41 51&quot;, &quot;[ 11 21 31 51 ]&quot;);\n        testDelete (4, &quot;11 21 31 41 51&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testDelete (0, &quot;11 21 31 41 51&quot;, &quot;[ 21 31 41 51 ]&quot;);\n        testDelete (0, &quot;11&quot;, &quot;[ ]&quot;);\n        testDelete (0, &quot;11 21 31 41&quot;, &quot;[ 21 31 41 ]&quot;);\n        testDelete (0, &quot;&quot;, &quot;java.lang.IllegalArgumentException&quot;);\n        testDelete(-1, &quot;11 21 31&quot;, &quot;java.lang.IllegalArgumentException&quot;);\n        testDelete (3, &quot;11 21 31&quot;, &quot;java.lang.IllegalArgumentException&quot;);\n\n        testReverse (&quot;11 21 31 41&quot;, &quot;[ 41 31 21 11 ]&quot;);\n        testReverse (&quot;11 21 31 41 51&quot;, &quot;[ 51 41 31 21 11 ]&quot;);\n        testReverse (&quot;11 21&quot;, &quot;[ 21 11 ]&quot;);\n        testReverse (&quot;11 21 31&quot;, &quot;[ 31 21 11 ]&quot;);\n        testReverse (&quot;11&quot;, &quot;[ 11 ]&quot;);\n        testReverse (&quot;&quot;, &quot;[ ]&quot;);\n\n        testRemove (5, &quot;8 11 5 5 21 31 5 5 5 41&quot;, &quot;[ 8 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 5 5 21 5 31 5 5 41 8&quot;, &quot;[ 11 21 31 41 8 ]&quot;);\n        testRemove (5, &quot;11 21 5 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 31 5 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 5 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 5 5 21 31 5 5 5 41 5 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 5 5 21 5 31 5 5 5 41 5 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 31 41 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 5 21 5 31 5 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 5 5 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 5 5 5 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 5 5 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 5 5 5 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 31 5 5 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 31 5 5 5 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 31 41 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 31 41 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11 21 31 41 5 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;5 5 11 5 5 21 5 31 5 5 5 41 5 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;5 5 5 11 5 5 5 21 31 5 5 41 5 5&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;5 11 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;5 5 11 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;5 5 5 11 21 31 41&quot;, &quot;[ 11 21 31 41 ]&quot;);\n        testRemove (5, &quot;11&quot;, &quot;[ 11 ]&quot;);\n        testRemove (5, &quot;11 21&quot;, &quot;[ 11 21 ]&quot;);\n        testRemove (5, &quot;11 21 31&quot;, &quot;[ 11 21 31 ]&quot;);\n        testRemove (5, &quot;5 5 5&quot;, &quot;[ ]&quot;);\n        testRemove (5, &quot;5 5&quot;, &quot;[ ]&quot;);\n        testRemove (5, &quot;5&quot;, &quot;[ ]&quot;);\n        testRemove (5, &quot;&quot;, &quot;[ ]&quot;);\n        testRemove (5.1, &quot;5.1 5.1 5.1 5 11 5.1 5.1 21 5.1 31 5.1 5.1 41 5.1 5.1 5.1&quot;, &quot;[ 5 11 21 31 41 ]&quot;);\n        StdOut.println (&quot;Finished tests&quot;);\n    }\n\n    /* ToString method to print */\n    public String toString () { \n        // Use DecimalFormat #.### rather than String.format 0.3f to leave off trailing zeroes\n        DecimalFormat format = new DecimalFormat (&quot;#.###&quot;);\n        StringBuilder result = new StringBuilder (&quot;[ &quot;);\n        for (Node x = first; x != null; x = x.next) {\n            result.append (format.format (x.item));\n            result.append (&quot; &quot;);\n        }\n        result.append (&quot;]&quot;);\n        return result.toString ();\n    }\n\n    /* Method to create lists */\n    public static MyLinked2 from(String s) {\n        MyLinked2 result = new MyLinked2 ();\n        if (&quot;&quot;.equals (s)) return result;\n\n        int N = 0;\n        Node first = null;\n        String[] nums = s.split (&quot; &quot;);\n        for (int i = nums.length-1; i &gt;= 0; i--) {\n            try { \n                double num = Double.parseDouble (nums[i]); \n                first = new Node (num, first);  \n                N++;\n            } catch (NumberFormatException e) {\n                throw new IllegalArgumentException (String.format (&quot;Bad argument \\&quot;%s\\&quot;: could not parse \\&quot;%s\\&quot; as a double&quot;, s, nums[i]));\n            }\n        }\n        result.first = first;\n        result.N = N;\n        return result;\n    }\n\n    static void showError (String message) {\n        Trace.draw ();\n        StdOut.println (message);\n        //throw new Error (); // stops execution\n    }\n    private static void checkInvariants (String message, MyLinked2 list) {\n        int num = 0;\n        Node firstInCycle = null;\n        {\n            java.util.HashSet&lt;Node&gt; visited = new java.util.HashSet&lt;&gt;();                \n            for (Node x = list.first; x!=null; x=x.next) {\n                if (visited.contains(x)) {\n                    firstInCycle = x;\n                    break;\n                }\n                visited.add(x);\n                num++;          \n            }\n        }\n        if (firstInCycle != null) {\n            showError (String.format (&quot;For %s: Node list has cycle.\\n&quot;\n                + &quot;Cycle starts at Node with item=%f.\\n&quot;\n                + &quot;Refusing to run any more tests until the cycle is removed.\\n&quot;\n                + &quot;Uncomment Trace.run() in main to see a picture.\\n&quot;, message, firstInCycle.item));\n            System.exit(1);\n        }\n        if (num != list.N) {\n            showError (String.format (&quot;%s: N=%d, but there are %d Nodes.&quot;, message, list.N, num));\n        }\n    }\n    private static void check (String message, MyLinked2 actual, String expected) {\n        checkInvariants (message, actual);\n        if (!expected.equals (actual.toString ())) {\n            showError (String.format (&quot;%s: expected=%s, actual=%s&quot;, message, expected, actual.toString ()));\n        }\n    }\n    private static void testDelete (int k, String list, String expected) {\n        MyLinked2 actual = MyLinked2.from (list);\n        String message = String.format (&quot;[ %s ].delete( %d )&quot;, list, k);\n        try {\n            actual.delete (k);\n        } catch (Throwable e) {\n            String exception = e.getClass ().getName ();\n            if (! exception.equals (expected)) {\n                e.printStackTrace (); // for debugging\n                showError (String.format (&quot;%s: expected=%s, actual=%s&quot;, message, expected, exception));\n            }\n            return;\n        }\n        check (message, actual, expected);\n    }\n    private static void testReverse (String list, String expected) {\n        MyLinked2 actual = MyLinked2.from (list);\n        actual.reverse ();\n        String message = String.format (&quot;[ %s ].reverse( )&quot;, list);\n        check (message, actual, expected);\n    }\n    private static void testRemove (double item, String list, String expected) {\n        MyLinked2 actual = MyLinked2.from (list);\n        actual.remove (item);\n        String message = String.format (&quot;[ %s ].remove( %.2f )&quot;, list, item);\n        check (message, actual, expected);\n    }\n}type here\n</code></pre>\n"},{"tags":["java","alexa-internet"],"answers":[{"comments":[{"owner":{"account_id":5150190,"reputation":959,"user_id":4125009,"accept_rate":67,"display_name":"Andrew Rukin"},"score":0,"creation_date":1449920082,"post_id":19801316,"comment_id":56220957,"body_markdown":"Since summer 2015 alexa gives 1000 calls a month for free. Check it out!","body":"Since summer 2015 alexa gives 1000 calls a month for free. Check it out!"}],"tags":[],"owner":{"account_id":3530634,"reputation":71,"user_id":2950306,"display_name":"Wideload Shipping"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1383694878,"creation_date":1383694878,"answer_id":19801316,"question_id":19801283,"body_markdown":"Yep but you&#39;ve gotta pay for it: http://aws.amazon.com/awis/","title":"How To Get Alexa Ranking In Java","body":"<p>Yep but you've gotta pay for it: <a href=\"http://aws.amazon.com/awis/\" rel=\"nofollow\">http://aws.amazon.com/awis/</a></p>\n"}],"owner":{"account_id":2769999,"reputation":1805,"user_id":2384778,"accept_rate":38,"display_name":"Sanjiv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19801316,"answer_count":1,"score":2,"last_activity_date":1696319610,"creation_date":1383694683,"question_id":19801283,"body_markdown":"I tried to use Java and DOM XML parser to get the Alexa ranking from below :\r\n\r\n    http://data.alexa.com/data?cli=10&amp;url=domainName\r\n\r\n\r\nIs there any API for Alexa ranking and other useful for particular URL ?\r\n\r\n","title":"How To Get Alexa Ranking In Java","body":"<p>I tried to use Java and DOM XML parser to get the Alexa ranking from below :</p>\n\n<pre><code>http://data.alexa.com/data?cli=10&amp;url=domainName\n</code></pre>\n\n<p>Is there any API for Alexa ranking and other useful for particular URL ?</p>\n"},{"tags":["python","java","web-crawler","pagerank","alexa-internet"],"comments":[{"owner":{"account_id":4166553,"reputation":39856,"user_id":3415409,"accept_rate":93,"display_name":"eliasah"},"score":1,"creation_date":1403895346,"post_id":24458956,"comment_id":37851417,"body_markdown":"There is no such thing as a simple program for Information Retrieval problems. Google and Github are your friends.","body":"There is no such thing as a simple program for Information Retrieval problems. Google and Github are your friends."},{"owner":{"account_id":5150190,"reputation":959,"user_id":4125009,"accept_rate":67,"display_name":"Andrew Rukin"},"score":0,"creation_date":1449842059,"post_id":24458956,"comment_id":56194168,"body_markdown":"use this (updated every day) file with alexa top 1000 000: http://s3.amazonaws.com/alexa-static/top-1m.csv.zip","body":"use this (updated every day) file with alexa top 1000 000: <a href=\"http://s3.amazonaws.com/alexa-static/top-1m.csv.zip\" rel=\"nofollow noreferrer\">s3.amazonaws.com/alexa-static/top-1m.csv.zip</a>"}],"answers":[{"tags":[],"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403896993,"creation_date":1403896993,"answer_id":24459394,"question_id":24458956,"body_markdown":"**&lt;h1&gt;Alexa has a paid [API][1] you can use &lt;/h1&gt;**\r\n\r\n\r\n\r\n  [1]: http://aws.amazon.com/awis/\r\n\r\n\r\n\r\n\r\n&lt;br&gt;\r\n&lt;h1&gt;**There is also a free API**&lt;/h1&gt;\r\n&lt;br&gt;\r\nThere is a free API (though I haven&#39;t been able to find any documentation for it anywhere).\r\n\r\nhttp://data.alexa.com/data?cli=10&amp;url=%YOUR_URL%\r\nYou can also query for more data the following way:\r\n\r\nhttp://data.alexa.com/data?cli=10&amp;dat=snbamz&amp;url=%YOUR_URL%\r\nAll the letters in dat are the ones that determine wich info you get. This dat string is the one I&#39;ve been able to find wich seems to have more options. Also, cli changes the output completly, this option makes it return an XML with quite a lot of information.\r\n\r\nEDIT: This API is the one used by the Alexa toolbar.\r\n\r\nhttps://stackoverflow.com/questions/3676376/fetching-alexa-data/6224304#6224304","title":"Algorithm of crawling Top10 PR/Alexa sites","body":"<p><strong><h1>Alexa has a paid <a href=\"http://aws.amazon.com/awis/\" rel=\"nofollow noreferrer\">API</a> you can use </h1></strong></p>\n\n<p><br></p>\n\n<h1>**There is also a free API**</h1>\n\n<p><br>\nThere is a free API (though I haven't been able to find any documentation for it anywhere).</p>\n\n<p><a href=\"http://data.alexa.com/data?cli=10&amp;url=%YOUR_URL%\" rel=\"nofollow noreferrer\">http://data.alexa.com/data?cli=10&amp;url=%YOUR_URL%</a>\nYou can also query for more data the following way:</p>\n\n<p><a href=\"http://data.alexa.com/data?cli=10&amp;dat=snbamz&amp;url=%YOUR_URL%\" rel=\"nofollow noreferrer\">http://data.alexa.com/data?cli=10&amp;dat=snbamz&amp;url=%YOUR_URL%</a>\nAll the letters in dat are the ones that determine wich info you get. This dat string is the one I've been able to find wich seems to have more options. Also, cli changes the output completly, this option makes it return an XML with quite a lot of information.</p>\n\n<p>EDIT: This API is the one used by the Alexa toolbar.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3676376/fetching-alexa-data/6224304#6224304\">Fetching Alexa data</a></p>\n"},{"tags":[],"owner":{"account_id":1483447,"reputation":2048,"user_id":1392229,"accept_rate":80,"display_name":"Dawid Gosławski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403898833,"creation_date":1403898833,"answer_id":24459823,"question_id":24458956,"body_markdown":"It&#39;s rather simple to fetch top25sites (if I understood correctly what you wanted to do)\r\n\r\nCode:\r\n\r\n    from bs4 import BeautifulSoup\r\n    from urllib.request import urlopen\r\n    b = BeautifulSoup(urlopen(&quot;http://www.alexa.com/topsites&quot;).read())\r\n    paragraphs = b.find_all(&#39;p&#39;, {&#39;class&#39;:&#39;desc-paragraph&#39;})\r\n    for p in paragraphs:\r\n       print(p.a.text)\r\n\r\nOutput:\r\n\r\n    Google.com\r\n    Facebook.com\r\n    Youtube.com\r\n    Yahoo.com\r\n    Baidu.com\r\n    Wikipedia.org\r\n    (...)\r\n\r\nBut have in mind that law in some countries could be more strict. Do it on own risk.","title":"Algorithm of crawling Top10 PR/Alexa sites","body":"<p>It's rather simple to fetch top25sites (if I understood correctly what you wanted to do)</p>\n\n<p>Code:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nfrom urllib.request import urlopen\nb = BeautifulSoup(urlopen(\"http://www.alexa.com/topsites\").read())\nparagraphs = b.find_all('p', {'class':'desc-paragraph'})\nfor p in paragraphs:\n   print(p.a.text)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Google.com\nFacebook.com\nYoutube.com\nYahoo.com\nBaidu.com\nWikipedia.org\n(...)\n</code></pre>\n\n<p>But have in mind that law in some countries could be more strict. Do it on own risk.</p>\n"}],"owner":{"account_id":4620783,"reputation":33,"user_id":3745956,"display_name":"user3745956"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1403974782,"answer_count":2,"score":-1,"last_activity_date":1696319330,"creation_date":1403895040,"question_id":24458956,"body_markdown":"I&#39;m trying to write a script which will crawl current top 10 PR/Alexa sites. since PR/Alexa frequently changes. so my script should take care of this I mean if today there is not a site in top 10 but could be tomorrow.\r\n\r\nI dont know how to start with. I know crawling concepts but here I&#39;m stuck. there could be top50 sites or even top500 sites. which I can configure of course.\r\n\r\nI read about Google spider but its very complicated for this simple task. How do Google,Yahoo,Bing crawl billions of sites around the web. I&#39;m just curious. what is the cursor point, I mean how google can Identify newly launch site. \r\n\r\nOk these are very deep details, I would read about these later. right now I&#39;m more concern about my problem. how could I crawl top10 PR sites.\r\n\r\nCan you provide a sample program so that I can understand better? ","title":"Algorithm of crawling Top10 PR/Alexa sites","body":"<p>I'm trying to write a script which will crawl current top 10 PR/Alexa sites. since PR/Alexa frequently changes. so my script should take care of this I mean if today there is not a site in top 10 but could be tomorrow.</p>\n\n<p>I dont know how to start with. I know crawling concepts but here I'm stuck. there could be top50 sites or even top500 sites. which I can configure of course.</p>\n\n<p>I read about Google spider but its very complicated for this simple task. How do Google,Yahoo,Bing crawl billions of sites around the web. I'm just curious. what is the cursor point, I mean how google can Identify newly launch site. </p>\n\n<p>Ok these are very deep details, I would read about these later. right now I'm more concern about my problem. how could I crawl top10 PR sites.</p>\n\n<p>Can you provide a sample program so that I can understand better? </p>\n"},{"tags":["java","json","oracle","arabic"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":2,"creation_date":1693830122,"post_id":77037569,"comment_id":135807775,"body_markdown":"Why do you have to convert String to ByteArray &amp; back to String?  Can&#39;t you just use the original string itself? `new String(payloadStr.getBytes(&quot;8859_1&quot;), &quot;UTF-8&quot;)` - I am talking about this. Why can&#39;t you use `queue.setPayload(payloadStr)`?","body":"Why do you have to convert String to ByteArray &amp; back to String?  Can&#39;t you just use the original string itself? <code>new String(payloadStr.getBytes(&quot;8859_1&quot;), &quot;UTF-8&quot;)</code> - I am talking about this. Why can&#39;t you use <code>queue.setPayload(payloadStr)</code>?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1693830607,"post_id":77037569,"comment_id":135807882,"body_markdown":"Yeah your string fiddling is completely [wrong](https://stackoverflow.com/a/39308860/2541560).","body":"Yeah your string fiddling is completely <a href=\"https://stackoverflow.com/a/39308860/2541560\">wrong</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693830649,"post_id":77037569,"comment_id":135807891,"body_markdown":"I agree with Ishan.  Remove all use of bytes and Charsets.  At best, it is pointless.  Also, please edit your question and show us your code which saves information to the database.","body":"I agree with Ishan.  Remove all use of bytes and Charsets.  At best, it is pointless.  Also, please edit your question and show us your code which saves information to the database."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":3,"creation_date":1693830801,"post_id":77037569,"comment_id":135807922,"body_markdown":"Also, if you just use the original string as-is and save it in DB, did you check in the DB directly to see if the data is stored correctly?  Garbage characters showing up in Console or Log might just be an issue of that display/Log not supporting unicode properly. The data stored in the DB might be correct. Did you use SQL Developer to see the data in the DB?","body":"Also, if you just use the original string as-is and save it in DB, did you check in the DB directly to see if the data is stored correctly?  Garbage characters showing up in Console or Log might just be an issue of that display/Log not supporting unicode properly. The data stored in the DB might be correct. Did you use SQL Developer to see the data in the DB?"},{"owner":{"account_id":29363103,"reputation":1,"user_id":22497415,"display_name":"Chetan Chauhan"},"score":0,"creation_date":1694521852,"post_id":77037569,"comment_id":135899310,"body_markdown":"@Ishan I am willing to try your solution but the only problem is that this issue occur only in  production  not in UAT DB.","body":"@Ishan I am willing to try your solution but the only problem is that this issue occur only in  production  not in UAT DB."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694523179,"post_id":77037569,"comment_id":135899635,"body_markdown":"That is strange. Then something is different in the PROD environment configuration. Check JDBC and other configuration parameters. See what are the differences between UAT and PROD.","body":"That is strange. Then something is different in the PROD environment configuration. Check JDBC and other configuration parameters. See what are the differences between UAT and PROD."},{"owner":{"account_id":29363103,"reputation":1,"user_id":22497415,"display_name":"Chetan Chauhan"},"score":0,"creation_date":1694578904,"post_id":77037569,"comment_id":135908101,"body_markdown":"@Ishan As I mention above the only difference is the NLS_CHARACTERSET of PROD and UAT. So can I assume the Code has no issue ? Only issue with DB NLS_CHARACTERSET","body":"@Ishan As I mention above the only difference is the NLS_CHARACTERSET of PROD and UAT. So can I assume the Code has no issue ? Only issue with DB NLS_CHARACTERSET"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694584005,"post_id":77037569,"comment_id":135908577,"body_markdown":"Yes, that is a possibility. Try to change in UAT to make it same as PROD, and see if in UAT the same issue is reproduced. Change it again and see if it is gone. If that works, then do the same in PROD","body":"Yes, that is a possibility. Try to change in UAT to make it same as PROD, and see if in UAT the same issue is reproduced. Change it again and see if it is gone. If that works, then do the same in PROD"}],"answers":[{"tags":[],"owner":{"account_id":29363103,"reputation":1,"user_id":22497415,"display_name":"Chetan Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696319229,"creation_date":1696319229,"answer_id":77220503,"question_id":77037569,"body_markdown":"Earlier the table column has `CLOB` data type that hold the payload of Arabic language. Now I change it with `NCLOB` data type as it uses 2 or 3 bytes per character to store characters in the Unicode character set. Now Arabic characters are stored in database.","title":"Arabic not saving in oracle database","body":"<p>Earlier the table column has <code>CLOB</code> data type that hold the payload of Arabic language. Now I change it with <code>NCLOB</code> data type as it uses 2 or 3 bytes per character to store characters in the Unicode character set. Now Arabic characters are stored in database.</p>\n"}],"owner":{"account_id":29363103,"reputation":1,"user_id":22497415,"display_name":"Chetan Chauhan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696319229,"creation_date":1693829312,"question_id":77037569,"body_markdown":"We are receiving Json payload from API, e.g.\r\n\r\n```lang-json\r\n{\r\n&quot;customerName&quot;: &quot;علي الدويش&quot;,\r\n&quot;customerCode&quot;: &quot;999999&quot;,\r\n&quot;shipAddress1&quot;: &quot;البلاغة&quot;, \r\n}\r\n```\r\n\r\nWe are using Spring Boot to save it in object `jsonObjectPayload`\r\n\r\n```lang-java\r\nString payloadStr = mapper.readTree(jsonObjectPayload).toPrettyString();\r\nqueue.setPayload(new String(payloadStr.getBytes(StandardCharsets.UTF_8), StandardCharsets.UTF_8));\r\n```\r\n\r\nWhile saving it in Oracle column with `CLOB` data type \r\n\r\nOutput:\r\nwe are getting value as :\r\n\r\n```lang-json\r\n{\r\n&quot;customerName&quot; : &quot;��� ������&quot;,\r\n&quot;shipAddress1&quot; : &quot;�������&quot;,\r\n}\r\n```\r\n\r\nWe are using Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production\r\nwith `NLS_CHARACTERSET\tAR8MSWIN1256`.\r\n\r\nIn UAT environment we have `NLS_CHARACTERSET\tAL32UTF8` and the value are reflecting Arabic one\r\nIs this issue related to NLS_CHARACTERSET ?? as both support arabic encoding.\r\n\r\nWe also try `queue.setPayload(new String(payloadStr.getBytes(&quot;8859_1&quot;), &quot;UTF-8&quot;));` in java but no difference occur same ????? garbage value are there\r\nCode to save data in DB\r\n\r\n    public void insertOrderInvoiceInQueue(OrderInvoiceQueueDTO invoice) \r\n    {\r\n    String sql = &quot;INSERT INTO AMG_OIP_ORDER_INVOICE_QUEUE (PAYLOAD) VALUES (:payload)&quot;;\r\n    SqlParameterSource parameters = new MapSqlParameterSource()\r\n    \t\t\t\t.addValue(&quot;payload&quot;, invoice.getPayload())\r\n\t\t\t\t\r\n    logger.info(&quot;Saving invoice AMG_OIP_ORDER_INVOICE_QUEUE table.&quot;);\r\n    \t\txcenterjdbcTemplate.update(sql, parameters);\r\n    \t\tlogger.info(&quot;Saved...&quot;);\r\n    \t}","title":"Arabic not saving in oracle database","body":"<p>We are receiving Json payload from API, e.g.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;customerName&quot;: &quot;علي الدويش&quot;,\n&quot;customerCode&quot;: &quot;999999&quot;,\n&quot;shipAddress1&quot;: &quot;البلاغة&quot;, \n}\n</code></pre>\n<p>We are using Spring Boot to save it in object <code>jsonObjectPayload</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>String payloadStr = mapper.readTree(jsonObjectPayload).toPrettyString();\nqueue.setPayload(new String(payloadStr.getBytes(StandardCharsets.UTF_8), StandardCharsets.UTF_8));\n</code></pre>\n<p>While saving it in Oracle column with <code>CLOB</code> data type</p>\n<p>Output:\nwe are getting value as :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;customerName&quot; : &quot;��� ������&quot;,\n&quot;shipAddress1&quot; : &quot;�������&quot;,\n}\n</code></pre>\n<p>We are using Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production\nwith <code>NLS_CHARACTERSET  AR8MSWIN1256</code>.</p>\n<p>In UAT environment we have <code>NLS_CHARACTERSET    AL32UTF8</code> and the value are reflecting Arabic one\nIs this issue related to NLS_CHARACTERSET ?? as both support arabic encoding.</p>\n<p>We also try <code>queue.setPayload(new String(payloadStr.getBytes(&quot;8859_1&quot;), &quot;UTF-8&quot;));</code> in java but no difference occur same ????? garbage value are there\nCode to save data in DB</p>\n<pre><code>public void insertOrderInvoiceInQueue(OrderInvoiceQueueDTO invoice) \n{\nString sql = &quot;INSERT INTO AMG_OIP_ORDER_INVOICE_QUEUE (PAYLOAD) VALUES (:payload)&quot;;\nSqlParameterSource parameters = new MapSqlParameterSource()\n                .addValue(&quot;payload&quot;, invoice.getPayload())\n            \nlogger.info(&quot;Saving invoice AMG_OIP_ORDER_INVOICE_QUEUE table.&quot;);\n        xcenterjdbcTemplate.update(sql, parameters);\n        logger.info(&quot;Saved...&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1696256551,"post_id":77216209,"comment_id":136126290,"body_markdown":"Default Maven repository is already defined in Maven ... why you try to redefine it?","body":"Default Maven repository is already defined in Maven ... why you try to redefine it?"},{"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"score":0,"creation_date":1696316955,"post_id":77216209,"comment_id":136133879,"body_markdown":"I am not. This is just an example, you might add any repository, mirror, etc.","body":"I am not. This is just an example, you might add any repository, mirror, etc."},{"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"score":0,"creation_date":1696318620,"post_id":77216209,"comment_id":136134117,"body_markdown":"I modified my answer to make it less ambiguous.","body":"I modified my answer to make it less ambiguous."}],"tags":[],"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696319110,"creation_date":1696256125,"answer_id":77216209,"question_id":77212804,"body_markdown":"It seems to me that you do not have `mvn` installation.\r\n\r\n&gt; but it does not recognize mvn command\r\n\r\nUsually, after `mvn` installation you would have \r\n\r\n - `~/.m2/settings.xml` (user specific profiles) or/and\r\n - `/usr/share/maven/conf/settings.xml` (On linux) \r\n - `/opt/homebrew/Cellar/maven/3.8.7/libexec/conf/settings.xml` (On mac OS)\r\n\r\nwhere you can define repositories from where you want to pull those packages. You can provide repositories in your `pom` as well. So for example, entry in the `settings.xml` would look like\r\n\r\n```xml\r\n...\r\n&lt;profiles&gt;\r\n &lt;profile&gt;\r\n      &lt;id&gt;maven&lt;/id&gt;\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;mavevn_central&lt;/id&gt;\r\n          &lt;name&gt;Default Repository&lt;/name&gt;\r\n          &lt;layout&gt;default&lt;/layout&gt;\r\n          &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    &lt;/profile&gt;\r\n&lt;\\profiles&gt;\r\n...\r\n\r\n```\r\n\r\nOr in `pom.xml`\r\n```xml\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;mavevn_central&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Default Repository&lt;/name&gt;\r\n\t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n\t\t\t&lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n```\r\n\r\nWhen you will have this configuration, then in Intellij it is just:\r\n\r\n 1. Go to pom.xml\r\n 2. cmd + n --&gt; to invoke `generate`\r\n 3. Choose `add dependency`\r\n 4. Search for dependency and select\r\n 5. Load maven changes\r\n\r\nDefault maven repository will be added after installation of `maven`. \r\n\r\nMore at [Apache Maven][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/settings.html","title":"How to get Jakarta added to your project external libraries?","body":"<p>It seems to me that you do not have <code>mvn</code> installation.</p>\n<blockquote>\n<p>but it does not recognize mvn command</p>\n</blockquote>\n<p>Usually, after <code>mvn</code> installation you would have</p>\n<ul>\n<li><code>~/.m2/settings.xml</code> (user specific profiles) or/and</li>\n<li><code>/usr/share/maven/conf/settings.xml</code> (On linux)</li>\n<li><code>/opt/homebrew/Cellar/maven/3.8.7/libexec/conf/settings.xml</code> (On mac OS)</li>\n</ul>\n<p>where you can define repositories from where you want to pull those packages. You can provide repositories in your <code>pom</code> as well. So for example, entry in the <code>settings.xml</code> would look like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;profiles&gt;\n &lt;profile&gt;\n      &lt;id&gt;maven&lt;/id&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;mavevn_central&lt;/id&gt;\n          &lt;name&gt;Default Repository&lt;/name&gt;\n          &lt;layout&gt;default&lt;/layout&gt;\n          &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n          &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n          &lt;/snapshots&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n    &lt;/profile&gt;\n&lt;\\profiles&gt;\n...\n\n</code></pre>\n<p>Or in <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;mavevn_central&lt;/id&gt;\n            &lt;name&gt;Default Repository&lt;/name&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n<p>When you will have this configuration, then in Intellij it is just:</p>\n<ol>\n<li>Go to pom.xml</li>\n<li>cmd + n --&gt; to invoke <code>generate</code></li>\n<li>Choose <code>add dependency</code></li>\n<li>Search for dependency and select</li>\n<li>Load maven changes</li>\n</ol>\n<p>Default maven repository will be added after installation of <code>maven</code>.</p>\n<p>More at <a href=\"https://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">Apache Maven</a></p>\n"}],"owner":{"account_id":26643696,"reputation":43,"user_id":20258926,"display_name":"DevSteph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696319110,"creation_date":1696207845,"question_id":77212804,"body_markdown":"I am new to Spring Boot but used Spring Initializr to create the shell of my project. I am part way through, but realized I am missing Maven: jakarta.validation-api:3.0.2 and all other Jakarta libraries when trying to add the validation portion to my form.\r\n\r\nI have tried to add this\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n to my pom.xml file and then run mvn clean install to update, but it does not recognize mvn command. I tried a few other answers on here to see if I could resolve it, including going to the Maven side panel and running the lifecyle library from there, but this didn&#39;t do anything to update either.\r\n\r\nThe spring-boot-maven-plugin is also red in this part of my pom file\r\n\r\n```xml\r\n&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n\r\nI am on a mac using IntelliJ.","title":"How to get Jakarta added to your project external libraries?","body":"<p>I am new to Spring Boot but used Spring Initializr to create the shell of my project. I am part way through, but realized I am missing Maven: jakarta.validation-api:3.0.2 and all other Jakarta libraries when trying to add the validation portion to my form.</p>\n<p>I have tried to add this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to my pom.xml file and then run mvn clean install to update, but it does not recognize mvn command. I tried a few other answers on here to see if I could resolve it, including going to the Maven side panel and running the lifecyle library from there, but this didn't do anything to update either.</p>\n<p>The spring-boot-maven-plugin is also red in this part of my pom file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I am on a mac using IntelliJ.</p>\n"},{"tags":["java","xpath","xml-parsing","jdom","alexa-internet"],"comments":[{"owner":{"account_id":2160688,"reputation":7143,"user_id":1914902,"accept_rate":50,"display_name":"Joel M. Lamsen"},"score":0,"creation_date":1417684240,"post_id":27289950,"comment_id":43046258,"body_markdown":"The XML contains the same namespace prefix for 2 different namespaces, is that valid?","body":"The XML contains the same namespace prefix for 2 different namespaces, is that valid?"},{"owner":{"account_id":54201,"reputation":4150,"user_id":162154,"accept_rate":100,"display_name":"Gnark"},"score":0,"creation_date":1417684819,"post_id":27289950,"comment_id":43046561,"body_markdown":"That&#39;s part of my question ;-) That is the way it is retrieved from AWIS (an amazon service). Thus, I hope (and assume) that they know what they are doing...","body":"That&#39;s part of my question ;-) That is the way it is retrieved from AWIS (an amazon service). Thus, I hope (and assume) that they know what they are doing..."},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1417706516,"post_id":27289950,"comment_id":43059414,"body_markdown":"@JoelM.Lamsen yes, that&#39;s perfectly fine.  Prefix mappings are lexically scoped so at any point you just look up the tree for the nearest (ancestor-or-self) binding of the prefix in question.","body":"@JoelM.Lamsen yes, that&#39;s perfectly fine.  Prefix mappings are lexically scoped so at any point you just look up the tree for the nearest (ancestor-or-self) binding of the prefix in question."}],"answers":[{"tags":[],"owner":{"account_id":2160688,"reputation":7143,"user_id":1914902,"accept_rate":50,"display_name":"Joel M. Lamsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417690894,"creation_date":1417690894,"answer_id":27292353,"question_id":27289950,"body_markdown":"I tried this using your input with xslt with the following stylesheet:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        xmlns:alex=&quot;http://alexa.amazonaws.com/doc/2005-10-05/&quot;\r\n        xmlns:awis=&quot;http://awis.amazonaws.com/doc/2005-07-11&quot;\r\n        version=&quot;1.0&quot;&gt;\r\n        \r\n        &lt;xsl:output omit-xml-declaration=&quot;yes&quot;/&gt;\r\n        \r\n        &lt;xsl:template match=&quot;/&quot;&gt;\r\n            &lt;xsl:value-of select=&quot;//awis:Rank/text()&quot;/&gt;\r\n        &lt;/xsl:template&gt;\r\n        \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nand somehow I got an output of:\r\n\r\n    2547606\r\n\r\nI suppose you have to register the namespaces in different prefixes, then use that in your xpath","title":"XPath expressions for extracting information from AWIS (Alexa.com) XML data","body":"<p>I tried this using your input with xslt with the following stylesheet:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n    xmlns:alex=\"http://alexa.amazonaws.com/doc/2005-10-05/\"\n    xmlns:awis=\"http://awis.amazonaws.com/doc/2005-07-11\"\n    version=\"1.0\"&gt;\n\n    &lt;xsl:output omit-xml-declaration=\"yes\"/&gt;\n\n    &lt;xsl:template match=\"/\"&gt;\n        &lt;xsl:value-of select=\"//awis:Rank/text()\"/&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>and somehow I got an output of:</p>\n\n<pre><code>2547606\n</code></pre>\n\n<p>I suppose you have to register the namespaces in different prefixes, then use that in your xpath</p>\n"},{"comments":[{"owner":{"account_id":54201,"reputation":4150,"user_id":162154,"accept_rate":100,"display_name":"Gnark"},"score":0,"creation_date":1417703687,"post_id":27294964,"comment_id":43057610,"body_markdown":"Thanks, this happened during an edit as I tried adding both namespaces with different prefixes. As a side note and absolutely no offense intended, but I think your answer is rather a comment.","body":"Thanks, this happened during an edit as I tried adding both namespaces with different prefixes. As a side note and absolutely no offense intended, but I think your answer is rather a comment."}],"tags":[],"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417698778,"creation_date":1417698778,"answer_id":27294964,"question_id":27289950,"body_markdown":"You hve a typo in your code. You have:\r\n\r\n    xpath.addNamespace(&quot;aws&quot;, &quot;http://aws.amazonaws.com/doc/2005-07-11/&quot;);\r\n\r\nbut you should have:\r\n\r\n    xpath.addNamespace(&quot;aws&quot;, &quot;http://awis.amazonaws.com/doc/2005-07-11/&quot;);\r\n\r\n(note the change from `aws` to `awis`).\r\n\r\nAdditionally, you should really be using JDOM 2.5, and the new XPath API that was introduced there. The JDOM 2.x versions have significantly better handling for namespaces, and generics on the resulting content. See [The changes in JDOM2.x XPath handling](https://github.com/hunterhacker/jdom/wiki/JDOM2-Feature-XPath-Upgrade)","title":"XPath expressions for extracting information from AWIS (Alexa.com) XML data","body":"<p>You hve a typo in your code. You have:</p>\n\n<pre><code>xpath.addNamespace(\"aws\", \"http://aws.amazonaws.com/doc/2005-07-11/\");\n</code></pre>\n\n<p>but you should have:</p>\n\n<pre><code>xpath.addNamespace(\"aws\", \"http://awis.amazonaws.com/doc/2005-07-11/\");\n</code></pre>\n\n<p>(note the change from <code>aws</code> to <code>awis</code>).</p>\n\n<p>Additionally, you should really be using JDOM 2.5, and the new XPath API that was introduced there. The JDOM 2.x versions have significantly better handling for namespaces, and generics on the resulting content. See <a href=\"https://github.com/hunterhacker/jdom/wiki/JDOM2-Feature-XPath-Upgrade\" rel=\"nofollow\">The changes in JDOM2.x XPath handling</a></p>\n"},{"comments":[{"owner":{"account_id":54201,"reputation":4150,"user_id":162154,"accept_rate":100,"display_name":"Gnark"},"score":0,"creation_date":1417770645,"post_id":27297649,"comment_id":43085137,"body_markdown":"Thanks, I&#39;ve switched to jdom2 and adjusted the namespace as you pointed out - and all is working now, thanks a bunch!","body":"Thanks, I&#39;ve switched to jdom2 and adjusted the namespace as you pointed out - and all is working now, thanks a bunch!"}],"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1417707090,"creation_date":1417706631,"answer_id":27297649,"question_id":27289950,"body_markdown":"It looks like a typo in the namespace URI - your code has\r\n\r\n    xpath.addNamespace(&quot;aws&quot;, &quot;http://awis.amazonaws.com/doc/2005-07-11/&quot;);\r\n\r\n(with a trailing slash) but the document has\r\n\r\n    xmlns:aws=&quot;http://awis.amazonaws.com/doc/2005-07-11&quot;\r\n\r\n(without the slash).\r\n\r\n&gt; I&#39;d prefer to use javax.xml though...\r\n\r\nNamespace handling is a real pain in `javax.xml.xpath`, because there&#39;s no default implementation of the `NamespaceContext` interface provided in the Java class library.  You have to either implement your own or use a third-party implementation (I usually go for the `SimpleNamespaceContext` from Spring).  If you&#39;re going to be doing a lot of XPath manipulation I&#39;d suggest looking at [Saxon 9][1] (the HE version is free of charge) and use its [s9api][2], as this supports the far more powerful version 2.0 of the XPath language.\r\n\r\n\r\n  [1]: http://saxon.sourceforge.net\r\n  [2]: http://www.saxonica.com/documentation/index.html#!xpath-api/s9api-xpath","title":"XPath expressions for extracting information from AWIS (Alexa.com) XML data","body":"<p>It looks like a typo in the namespace URI - your code has</p>\n\n<pre><code>xpath.addNamespace(\"aws\", \"http://awis.amazonaws.com/doc/2005-07-11/\");\n</code></pre>\n\n<p>(with a trailing slash) but the document has</p>\n\n<pre><code>xmlns:aws=\"http://awis.amazonaws.com/doc/2005-07-11\"\n</code></pre>\n\n<p>(without the slash).</p>\n\n<blockquote>\n  <p>I'd prefer to use javax.xml though...</p>\n</blockquote>\n\n<p>Namespace handling is a real pain in <code>javax.xml.xpath</code>, because there's no default implementation of the <code>NamespaceContext</code> interface provided in the Java class library.  You have to either implement your own or use a third-party implementation (I usually go for the <code>SimpleNamespaceContext</code> from Spring).  If you're going to be doing a lot of XPath manipulation I'd suggest looking at <a href=\"http://saxon.sourceforge.net\" rel=\"nofollow\">Saxon 9</a> (the HE version is free of charge) and use its <a href=\"http://www.saxonica.com/documentation/index.html#!xpath-api/s9api-xpath\" rel=\"nofollow\">s9api</a>, as this supports the far more powerful version 2.0 of the XPath language.</p>\n"}],"owner":{"account_id":54201,"reputation":4150,"user_id":162154,"accept_rate":100,"display_name":"Gnark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27297649,"answer_count":3,"score":0,"last_activity_date":1696319039,"creation_date":1417683815,"question_id":27289950,"body_markdown":"&lt;p&gt;\r\nI somehow can&#39;t manage to extract information from AWIS results (containing Alexa data).\r\n&lt;p&gt;\r\nI&#39;ve a bunch of &lt;code&gt;XML&lt;/code&gt; files containing AWIS data from which I want to extract information bits such as &lt;i&gt;Rank&lt;/i&gt; and &lt;i&gt;PageViews for 3 month period&lt;/i&gt;.\r\n\r\nThe two (colliding) namespaces are somehow confusing and my &lt;code&gt;XPath&lt;/code&gt; expressions are not working as intended. (Even a simple &lt;code&gt;//aws:Rank/text()&lt;/code&gt; is not working.) \r\n&lt;p&gt;\r\nIt would be great if somebody could assist me to get going.&lt;p&gt;\r\nCurrently, I am using &lt;code&gt;jdom&lt;/code&gt; library, but wouldn&#39;t mind using something else. This is a tiny example that does not work as suspected:\r\n\r\n    Document doc = new SAXBuilder().build(file);\r\n    XPath xpath = XPath.newInstance(&quot;//aws:Rank&quot;);\r\n    xpath.addNamespace(&quot;aws&quot;, &quot;http://awis.amazonaws.com/doc/2005-07-11/&quot;);\r\n    Element rank = (Element) xpath.selectSingleNode(doc);\r\n\r\nI&#39;d prefer to use &lt;code&gt;javax.xml&lt;/code&gt; though...\r\n\r\nHere&#39;s an example of the &lt;code&gt;XML&lt;/code&gt;:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;aws:UrlInfoResponse xmlns:aws=&quot;http://alexa.amazonaws.com/doc/2005-10-05/&quot;&gt;\r\n    &lt;aws:Response xmlns:aws=&quot;http://awis.amazonaws.com/doc/2005-07-11&quot;&gt;\r\n    &lt;aws:OperationRequest&gt;\r\n    &lt;aws:RequestId&gt;XXXX-XXXX-XXXX-XXXX-XXXX&lt;/aws:RequestId&gt;\r\n    &lt;/aws:OperationRequest&gt;\r\n    &lt;aws:UrlInfoResult&gt;\r\n    &lt;aws:Alexa&gt;\r\n      \r\n      &lt;aws:ContactInfo&gt;\r\n        &lt;aws:DataUrl type=&quot;canonical&quot;&gt;ahparis.com&lt;/aws:DataUrl&gt;\r\n        &lt;aws:PhoneNumbers&gt;\r\n          &lt;aws:PhoneNumber&gt;+33 140289796&lt;/aws:PhoneNumber&gt;\r\n        &lt;/aws:PhoneNumbers&gt;\r\n        &lt;aws:OwnerName&gt;John Fay&lt;/aws:OwnerName&gt;\r\n        &lt;aws:Email&gt;hostmaster@superbregistrar.net&lt;/aws:Email&gt;\r\n        &lt;aws:PhysicalAddress&gt;\r\n          &lt;aws:Streets&gt;\r\n            &lt;aws:Street&gt;22 rue Saint Sauveur&lt;/aws:Street&gt;\r\n          &lt;/aws:Streets&gt;\r\n          &lt;aws:City&gt;Paris 75002,&lt;/aws:City&gt;\r\n          &lt;aws:Country&gt;FRANCE&lt;/aws:Country&gt;\r\n        &lt;/aws:PhysicalAddress&gt;\r\n        &lt;aws:CompanyStockTicker/&gt;\r\n      &lt;/aws:ContactInfo&gt;\r\n      &lt;aws:ContentData&gt;\r\n        &lt;aws:DataUrl type=&quot;canonical&quot;&gt;ahparis.com&lt;/aws:DataUrl&gt;\r\n        &lt;aws:SiteData&gt;\r\n          &lt;aws:Title&gt;Ah Paris&lt;/aws:Title&gt;\r\n          &lt;aws:Description&gt;Short term apartment rentals. Search engine, descriptions, photos, rates.&lt;/aws:Description&gt;\r\n          &lt;aws:OnlineSince&gt;26-Feb-2003&lt;/aws:OnlineSince&gt;\r\n        &lt;/aws:SiteData&gt;\r\n        &lt;aws:Keywords&gt;\r\n          &lt;aws:Keyword&gt;Fran̤ais&lt;/aws:Keyword&gt;\r\n          &lt;aws:Keyword&gt;Ile-de-France&lt;/aws:Keyword&gt;\r\n        &lt;/aws:Keywords&gt;\r\n        &lt;aws:OwnedDomains&gt;\r\n          &lt;aws:OwnedDomain&gt;\r\n            &lt;aws:Domain&gt;paris-tournament.org&lt;/aws:Domain&gt;\r\n            &lt;aws:Title&gt;paris-tournament.org&lt;/aws:Title&gt;\r\n          &lt;/aws:OwnedDomain&gt;\r\n        &lt;/aws:OwnedDomains&gt;\r\n      &lt;/aws:ContentData&gt;\r\n      &lt;aws:TrafficData&gt;\r\n        &lt;aws:DataUrl type=&quot;canonical&quot;&gt;ahparis.com&lt;/aws:DataUrl&gt;\r\n        &lt;aws:Rank&gt;2547606&lt;/aws:Rank&gt;\r\n        &lt;aws:RankByCountry/&gt;\r\n        &lt;aws:RankByCity/&gt;\r\n        &lt;aws:UsageStatistics&gt;\r\n          &lt;aws:UsageStatistic&gt;\r\n            &lt;aws:TimeRange&gt;\r\n              &lt;aws:Months&gt;3&lt;/aws:Months&gt;\r\n            &lt;/aws:TimeRange&gt;\r\n            &lt;aws:Rank&gt;\r\n              &lt;aws:Value&gt;2547606&lt;/aws:Value&gt;\r\n              &lt;aws:Delta&gt;-658661&lt;/aws:Delta&gt;\r\n            &lt;/aws:Rank&gt;\r\n            &lt;aws:Reach&gt;\r\n              &lt;aws:Rank&gt;\r\n                &lt;aws:Value&gt;2964984&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;-152875&lt;/aws:Delta&gt;\r\n              &lt;/aws:Rank&gt;\r\n              &lt;aws:PerMillion&gt;\r\n                &lt;aws:Value&gt;0.28&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;-10.64%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerMillion&gt;\r\n            &lt;/aws:Reach&gt;\r\n            &lt;aws:PageViews&gt;\r\n              &lt;aws:PerMillion&gt;\r\n                &lt;aws:Value&gt;0.01&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;+100%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerMillion&gt;\r\n              &lt;aws:Rank&gt;\r\n                &lt;aws:Value&gt;2143379&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;-1628449&lt;/aws:Delta&gt;\r\n              &lt;/aws:Rank&gt;\r\n              &lt;aws:PerUser&gt;\r\n                &lt;aws:Value&gt;4.0&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;+120%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerUser&gt;\r\n            &lt;/aws:PageViews&gt;\r\n          &lt;/aws:UsageStatistic&gt;\r\n          &lt;aws:UsageStatistic&gt;\r\n            &lt;aws:TimeRange&gt;\r\n              &lt;aws:Months&gt;1&lt;/aws:Months&gt;\r\n            &lt;/aws:TimeRange&gt;\r\n            &lt;aws:Rank&gt;\r\n              &lt;aws:Value&gt;1430628&lt;/aws:Value&gt;\r\n              &lt;aws:Delta&gt;-3224794&lt;/aws:Delta&gt;\r\n            &lt;/aws:Rank&gt;\r\n            &lt;aws:Reach&gt;\r\n              &lt;aws:Rank&gt;\r\n                &lt;aws:Value&gt;1656655&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;-5103474&lt;/aws:Delta&gt;\r\n              &lt;/aws:Rank&gt;\r\n              &lt;aws:PerMillion&gt;\r\n                &lt;aws:Value&gt;0.5&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;+500%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerMillion&gt;\r\n            &lt;/aws:Reach&gt;\r\n            &lt;aws:PageViews&gt;\r\n              &lt;aws:PerMillion&gt;\r\n                &lt;aws:Value&gt;0.02&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;+100%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerMillion&gt;\r\n              &lt;aws:Rank&gt;\r\n                &lt;aws:Value&gt;1279227&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;-859817&lt;/aws:Delta&gt;\r\n              &lt;/aws:Rank&gt;\r\n              &lt;aws:PerUser&gt;\r\n                &lt;aws:Value&gt;4&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;-63.11%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerUser&gt;\r\n            &lt;/aws:PageViews&gt;\r\n          &lt;/aws:UsageStatistic&gt;\r\n          &lt;aws:UsageStatistic&gt;\r\n            &lt;aws:TimeRange&gt;\r\n              &lt;aws:Days&gt;7&lt;/aws:Days&gt;\r\n            &lt;/aws:TimeRange&gt;\r\n            &lt;aws:Rank&gt;\r\n              &lt;aws:Value&gt;1927968&lt;/aws:Value&gt;\r\n              &lt;aws:Delta&gt;+757770&lt;/aws:Delta&gt;\r\n            &lt;/aws:Rank&gt;\r\n            &lt;aws:Reach&gt;\r\n              &lt;aws:Rank&gt;\r\n                &lt;aws:Value&gt;2942088&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;+1612570&lt;/aws:Delta&gt;\r\n              &lt;/aws:Rank&gt;\r\n              &lt;aws:PerMillion&gt;\r\n                &lt;aws:Value&gt;0.3&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;-64.64%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerMillion&gt;\r\n            &lt;/aws:Reach&gt;\r\n            &lt;aws:PageViews&gt;\r\n              &lt;aws:PerMillion&gt;\r\n                &lt;aws:Value&gt;0.05&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;+80%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerMillion&gt;\r\n              &lt;aws:Rank&gt;\r\n                &lt;aws:Value&gt;708394&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;-413955&lt;/aws:Delta&gt;\r\n              &lt;/aws:Rank&gt;\r\n              &lt;aws:PerUser&gt;\r\n                &lt;aws:Value&gt;10&lt;/aws:Value&gt;\r\n                &lt;aws:Delta&gt;+400%&lt;/aws:Delta&gt;\r\n              &lt;/aws:PerUser&gt;\r\n            &lt;/aws:PageViews&gt;\r\n          &lt;/aws:UsageStatistic&gt;\r\n        &lt;/aws:UsageStatistics&gt;\r\n        &lt;aws:ContributingSubdomains&gt;\r\n          &lt;aws:ContributingSubdomain&gt;\r\n            &lt;aws:DataUrl&gt;ahparis.com&lt;/aws:DataUrl&gt;\r\n            &lt;aws:TimeRange&gt;\r\n              &lt;aws:Months&gt;1&lt;/aws:Months&gt;\r\n            &lt;/aws:TimeRange&gt;\r\n            &lt;aws:Reach&gt;\r\n              &lt;aws:Percentage&gt;100.00%&lt;/aws:Percentage&gt;\r\n            &lt;/aws:Reach&gt;\r\n            &lt;aws:PageViews&gt;\r\n              &lt;aws:Percentage&gt;100.00%&lt;/aws:Percentage&gt;\r\n              &lt;aws:PerUser&gt;4&lt;/aws:PerUser&gt;\r\n            &lt;/aws:PageViews&gt;\r\n          &lt;/aws:ContributingSubdomain&gt;\r\n        &lt;/aws:ContributingSubdomains&gt;\r\n      &lt;/aws:TrafficData&gt;\r\n    &lt;/aws:Alexa&gt;\r\n    &lt;/aws:UrlInfoResult&gt;\r\n    &lt;aws:ResponseStatus xmlns:aws=&quot;http://alexa.amazonaws.com/doc/2005-10-05/&quot;&gt;\r\n    &lt;aws:StatusCode&gt;Success&lt;/aws:StatusCode&gt;\r\n    &lt;/aws:ResponseStatus&gt;\r\n    &lt;/aws:Response&gt;\r\n    &lt;/aws:UrlInfoResponse&gt;\r\n\r\n\r\n","title":"XPath expressions for extracting information from AWIS (Alexa.com) XML data","body":"<p><p>\nI somehow can't manage to extract information from AWIS results (containing Alexa data).\n<p>\nI've a bunch of <code>XML</code> files containing AWIS data from which I want to extract information bits such as <i>Rank</i> and <i>PageViews for 3 month period</i>.</p>\n\n<p>The two (colliding) namespaces are somehow confusing and my <code>XPath</code> expressions are not working as intended. (Even a simple <code>//aws:Rank/text()</code> is not working.) \n<p>\nIt would be great if somebody could assist me to get going.<p>\nCurrently, I am using <code>jdom</code> library, but wouldn't mind using something else. This is a tiny example that does not work as suspected:</p>\n\n<pre><code>Document doc = new SAXBuilder().build(file);\nXPath xpath = XPath.newInstance(\"//aws:Rank\");\nxpath.addNamespace(\"aws\", \"http://awis.amazonaws.com/doc/2005-07-11/\");\nElement rank = (Element) xpath.selectSingleNode(doc);\n</code></pre>\n\n<p>I'd prefer to use <code>javax.xml</code> though...</p>\n\n<p>Here's an example of the <code>XML</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;aws:UrlInfoResponse xmlns:aws=\"http://alexa.amazonaws.com/doc/2005-10-05/\"&gt;\n&lt;aws:Response xmlns:aws=\"http://awis.amazonaws.com/doc/2005-07-11\"&gt;\n&lt;aws:OperationRequest&gt;\n&lt;aws:RequestId&gt;XXXX-XXXX-XXXX-XXXX-XXXX&lt;/aws:RequestId&gt;\n&lt;/aws:OperationRequest&gt;\n&lt;aws:UrlInfoResult&gt;\n&lt;aws:Alexa&gt;\n\n  &lt;aws:ContactInfo&gt;\n    &lt;aws:DataUrl type=\"canonical\"&gt;ahparis.com&lt;/aws:DataUrl&gt;\n    &lt;aws:PhoneNumbers&gt;\n      &lt;aws:PhoneNumber&gt;+33 140289796&lt;/aws:PhoneNumber&gt;\n    &lt;/aws:PhoneNumbers&gt;\n    &lt;aws:OwnerName&gt;John Fay&lt;/aws:OwnerName&gt;\n    &lt;aws:Email&gt;hostmaster@superbregistrar.net&lt;/aws:Email&gt;\n    &lt;aws:PhysicalAddress&gt;\n      &lt;aws:Streets&gt;\n        &lt;aws:Street&gt;22 rue Saint Sauveur&lt;/aws:Street&gt;\n      &lt;/aws:Streets&gt;\n      &lt;aws:City&gt;Paris 75002,&lt;/aws:City&gt;\n      &lt;aws:Country&gt;FRANCE&lt;/aws:Country&gt;\n    &lt;/aws:PhysicalAddress&gt;\n    &lt;aws:CompanyStockTicker/&gt;\n  &lt;/aws:ContactInfo&gt;\n  &lt;aws:ContentData&gt;\n    &lt;aws:DataUrl type=\"canonical\"&gt;ahparis.com&lt;/aws:DataUrl&gt;\n    &lt;aws:SiteData&gt;\n      &lt;aws:Title&gt;Ah Paris&lt;/aws:Title&gt;\n      &lt;aws:Description&gt;Short term apartment rentals. Search engine, descriptions, photos, rates.&lt;/aws:Description&gt;\n      &lt;aws:OnlineSince&gt;26-Feb-2003&lt;/aws:OnlineSince&gt;\n    &lt;/aws:SiteData&gt;\n    &lt;aws:Keywords&gt;\n      &lt;aws:Keyword&gt;Fran̤ais&lt;/aws:Keyword&gt;\n      &lt;aws:Keyword&gt;Ile-de-France&lt;/aws:Keyword&gt;\n    &lt;/aws:Keywords&gt;\n    &lt;aws:OwnedDomains&gt;\n      &lt;aws:OwnedDomain&gt;\n        &lt;aws:Domain&gt;paris-tournament.org&lt;/aws:Domain&gt;\n        &lt;aws:Title&gt;paris-tournament.org&lt;/aws:Title&gt;\n      &lt;/aws:OwnedDomain&gt;\n    &lt;/aws:OwnedDomains&gt;\n  &lt;/aws:ContentData&gt;\n  &lt;aws:TrafficData&gt;\n    &lt;aws:DataUrl type=\"canonical\"&gt;ahparis.com&lt;/aws:DataUrl&gt;\n    &lt;aws:Rank&gt;2547606&lt;/aws:Rank&gt;\n    &lt;aws:RankByCountry/&gt;\n    &lt;aws:RankByCity/&gt;\n    &lt;aws:UsageStatistics&gt;\n      &lt;aws:UsageStatistic&gt;\n        &lt;aws:TimeRange&gt;\n          &lt;aws:Months&gt;3&lt;/aws:Months&gt;\n        &lt;/aws:TimeRange&gt;\n        &lt;aws:Rank&gt;\n          &lt;aws:Value&gt;2547606&lt;/aws:Value&gt;\n          &lt;aws:Delta&gt;-658661&lt;/aws:Delta&gt;\n        &lt;/aws:Rank&gt;\n        &lt;aws:Reach&gt;\n          &lt;aws:Rank&gt;\n            &lt;aws:Value&gt;2964984&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;-152875&lt;/aws:Delta&gt;\n          &lt;/aws:Rank&gt;\n          &lt;aws:PerMillion&gt;\n            &lt;aws:Value&gt;0.28&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;-10.64%&lt;/aws:Delta&gt;\n          &lt;/aws:PerMillion&gt;\n        &lt;/aws:Reach&gt;\n        &lt;aws:PageViews&gt;\n          &lt;aws:PerMillion&gt;\n            &lt;aws:Value&gt;0.01&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;+100%&lt;/aws:Delta&gt;\n          &lt;/aws:PerMillion&gt;\n          &lt;aws:Rank&gt;\n            &lt;aws:Value&gt;2143379&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;-1628449&lt;/aws:Delta&gt;\n          &lt;/aws:Rank&gt;\n          &lt;aws:PerUser&gt;\n            &lt;aws:Value&gt;4.0&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;+120%&lt;/aws:Delta&gt;\n          &lt;/aws:PerUser&gt;\n        &lt;/aws:PageViews&gt;\n      &lt;/aws:UsageStatistic&gt;\n      &lt;aws:UsageStatistic&gt;\n        &lt;aws:TimeRange&gt;\n          &lt;aws:Months&gt;1&lt;/aws:Months&gt;\n        &lt;/aws:TimeRange&gt;\n        &lt;aws:Rank&gt;\n          &lt;aws:Value&gt;1430628&lt;/aws:Value&gt;\n          &lt;aws:Delta&gt;-3224794&lt;/aws:Delta&gt;\n        &lt;/aws:Rank&gt;\n        &lt;aws:Reach&gt;\n          &lt;aws:Rank&gt;\n            &lt;aws:Value&gt;1656655&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;-5103474&lt;/aws:Delta&gt;\n          &lt;/aws:Rank&gt;\n          &lt;aws:PerMillion&gt;\n            &lt;aws:Value&gt;0.5&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;+500%&lt;/aws:Delta&gt;\n          &lt;/aws:PerMillion&gt;\n        &lt;/aws:Reach&gt;\n        &lt;aws:PageViews&gt;\n          &lt;aws:PerMillion&gt;\n            &lt;aws:Value&gt;0.02&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;+100%&lt;/aws:Delta&gt;\n          &lt;/aws:PerMillion&gt;\n          &lt;aws:Rank&gt;\n            &lt;aws:Value&gt;1279227&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;-859817&lt;/aws:Delta&gt;\n          &lt;/aws:Rank&gt;\n          &lt;aws:PerUser&gt;\n            &lt;aws:Value&gt;4&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;-63.11%&lt;/aws:Delta&gt;\n          &lt;/aws:PerUser&gt;\n        &lt;/aws:PageViews&gt;\n      &lt;/aws:UsageStatistic&gt;\n      &lt;aws:UsageStatistic&gt;\n        &lt;aws:TimeRange&gt;\n          &lt;aws:Days&gt;7&lt;/aws:Days&gt;\n        &lt;/aws:TimeRange&gt;\n        &lt;aws:Rank&gt;\n          &lt;aws:Value&gt;1927968&lt;/aws:Value&gt;\n          &lt;aws:Delta&gt;+757770&lt;/aws:Delta&gt;\n        &lt;/aws:Rank&gt;\n        &lt;aws:Reach&gt;\n          &lt;aws:Rank&gt;\n            &lt;aws:Value&gt;2942088&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;+1612570&lt;/aws:Delta&gt;\n          &lt;/aws:Rank&gt;\n          &lt;aws:PerMillion&gt;\n            &lt;aws:Value&gt;0.3&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;-64.64%&lt;/aws:Delta&gt;\n          &lt;/aws:PerMillion&gt;\n        &lt;/aws:Reach&gt;\n        &lt;aws:PageViews&gt;\n          &lt;aws:PerMillion&gt;\n            &lt;aws:Value&gt;0.05&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;+80%&lt;/aws:Delta&gt;\n          &lt;/aws:PerMillion&gt;\n          &lt;aws:Rank&gt;\n            &lt;aws:Value&gt;708394&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;-413955&lt;/aws:Delta&gt;\n          &lt;/aws:Rank&gt;\n          &lt;aws:PerUser&gt;\n            &lt;aws:Value&gt;10&lt;/aws:Value&gt;\n            &lt;aws:Delta&gt;+400%&lt;/aws:Delta&gt;\n          &lt;/aws:PerUser&gt;\n        &lt;/aws:PageViews&gt;\n      &lt;/aws:UsageStatistic&gt;\n    &lt;/aws:UsageStatistics&gt;\n    &lt;aws:ContributingSubdomains&gt;\n      &lt;aws:ContributingSubdomain&gt;\n        &lt;aws:DataUrl&gt;ahparis.com&lt;/aws:DataUrl&gt;\n        &lt;aws:TimeRange&gt;\n          &lt;aws:Months&gt;1&lt;/aws:Months&gt;\n        &lt;/aws:TimeRange&gt;\n        &lt;aws:Reach&gt;\n          &lt;aws:Percentage&gt;100.00%&lt;/aws:Percentage&gt;\n        &lt;/aws:Reach&gt;\n        &lt;aws:PageViews&gt;\n          &lt;aws:Percentage&gt;100.00%&lt;/aws:Percentage&gt;\n          &lt;aws:PerUser&gt;4&lt;/aws:PerUser&gt;\n        &lt;/aws:PageViews&gt;\n      &lt;/aws:ContributingSubdomain&gt;\n    &lt;/aws:ContributingSubdomains&gt;\n  &lt;/aws:TrafficData&gt;\n&lt;/aws:Alexa&gt;\n&lt;/aws:UrlInfoResult&gt;\n&lt;aws:ResponseStatus xmlns:aws=\"http://alexa.amazonaws.com/doc/2005-10-05/\"&gt;\n&lt;aws:StatusCode&gt;Success&lt;/aws:StatusCode&gt;\n&lt;/aws:ResponseStatus&gt;\n&lt;/aws:Response&gt;\n&lt;/aws:UrlInfoResponse&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696247801,"post_id":77215209,"comment_id":136124598,"body_markdown":"Show the entities (including imports, and clarify which Spring BOot version you are using). The fact thatyou have all those annotations on your application is imho a clear indication you are doing it wrong.","body":"Show the entities (including imports, and clarify which Spring BOot version you are using). The fact thatyou have all those annotations on your application is imho a clear indication you are doing it wrong."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1696256485,"post_id":77215209,"comment_id":136126276,"body_markdown":"Where are you actually using the Persistence unit and making JPA calls? Show the errors it gets when connecting to the DB and the tables aren&#39;t there as my guess isn&#39;t you don&#39;t have anything loading a persistence context; it is the context that creates the tables when it gets initialized.","body":"Where are you actually using the Persistence unit and making JPA calls? Show the errors it gets when connecting to the DB and the tables aren&#39;t there as my guess isn&#39;t you don&#39;t have anything loading a persistence context; it is the context that creates the tables when it gets initialized."},{"owner":{"account_id":29579819,"reputation":1,"user_id":22669864,"display_name":"bet9nz 9"},"score":0,"creation_date":1696319038,"post_id":77215209,"comment_id":136134177,"body_markdown":"There is no SQL errors during application start. It&#39;s successfully connecting to DB but when i&#39;m calling repository it throws next error: &#39;org.postgresql.util.PSQLException: ERROR: relation &quot;projects&quot; does not exist&#39;, i already checked what is this error.","body":"There is no SQL errors during application start. It&#39;s successfully connecting to DB but when i&#39;m calling repository it throws next error: &#39;org.postgresql.util.PSQLException: ERROR: relation &quot;projects&quot; does not exist&#39;, i already checked what is this error."},{"owner":{"account_id":29579819,"reputation":1,"user_id":22669864,"display_name":"bet9nz 9"},"score":0,"creation_date":1696320474,"post_id":77215209,"comment_id":136134433,"body_markdown":"It looks like application not using .properties file, coz i&#39;ve tried to commit datasource bean from main class and not it cannot connect to DB but properties available in the file.","body":"It looks like application not using .properties file, coz i&#39;ve tried to commit datasource bean from main class and not it cannot connect to DB but properties available in the file."}],"owner":{"account_id":29579819,"reputation":1,"user_id":22669864,"display_name":"bet9nz 9"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696318829,"creation_date":1696245873,"question_id":77215209,"body_markdown":"I&#39;m working on diploma project and faced problem that JPA not generating tables during application start. There is no errors in the console.\r\n\r\napplication.properties:\r\n```\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\n\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/full_data\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL95Dialect\r\n\r\n```\r\nmain class:\r\n```\r\n@SpringBootApplication\r\npublic class DiplomaApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DiplomaApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DataSource getDataSource(){\r\n\t\treturn DataSourceBuilder.create()\r\n\t\t\t\t.driverClassName(&quot;org.postgresql.Driver&quot;)\r\n\t\t\t\t.url(&quot;jdbc:postgresql://localhost:5432/full_data&quot;)\r\n\t\t\t\t.username(&quot;postgres&quot;)\r\n\t\t\t\t.password(&quot;password&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n```\r\nBase entity:\r\n```\r\npackage com.diploma.diploma.impl.model;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\n@MappedSuperclass\r\n@Getter\r\n@Setter\r\npublic class BaseObject {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    protected Long id;\r\n    protected String name;\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;BaseObject{&quot;\r\n                + &quot;id=&quot; + id\r\n                + &quot;, name=&#39;&quot; + name\r\n                + &#39;\\&#39;&#39;\r\n                + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nProject entity:\r\n```\r\npackage com.diploma.diploma.impl.model.project;\r\n\r\nimport com.diploma.diploma.impl.model.BaseObject;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;PROJECTS&quot;)\r\npublic class Project extends BaseObject {\r\n\r\n    private String description;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Project{&quot;\r\n                + &quot;id=&quot; + id\r\n                + &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39;\r\n                + &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39;\r\n                + &#39;}&#39;;\r\n    }\r\n\r\n    public String[] toArray() {\r\n        return new String[]{getId().toString(),\r\n                getName(),\r\n                getDescription()\r\n        };\r\n    }\r\n}\r\n```\r\nI&#39;m using Base entity because planning to create more entity objects, for now need to start app.\r\nI&#39;ve already tried different properties changes like set ddl-auto=update and others abut any change helped me.","title":"Spring Boot - JPA Hibernate not creating tables automatically","body":"<p>I'm working on diploma project and faced problem that JPA not generating tables during application start. There is no errors in the console.</p>\n<p>application.properties:</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/full_data\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.datasource.driver-class-name=org.postgresql.Driver\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL95Dialect\n\n</code></pre>\n<p>main class:</p>\n<pre><code>@SpringBootApplication\npublic class DiplomaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DiplomaApplication.class, args);\n    }\n\n    @Bean\n    public DataSource getDataSource(){\n        return DataSourceBuilder.create()\n                .driverClassName(&quot;org.postgresql.Driver&quot;)\n                .url(&quot;jdbc:postgresql://localhost:5432/full_data&quot;)\n                .username(&quot;postgres&quot;)\n                .password(&quot;password&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p>Base entity:</p>\n<pre><code>package com.diploma.diploma.impl.model;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@MappedSuperclass\n@Getter\n@Setter\npublic class BaseObject {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    protected Long id;\n    protected String name;\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;BaseObject{&quot;\n                + &quot;id=&quot; + id\n                + &quot;, name='&quot; + name\n                + '\\''\n                + '}';\n    }\n}\n</code></pre>\n<p>Project entity:</p>\n<pre><code>package com.diploma.diploma.impl.model.project;\n\nimport com.diploma.diploma.impl.model.BaseObject;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;PROJECTS&quot;)\npublic class Project extends BaseObject {\n\n    private String description;\n\n    @Override\n    public String toString() {\n        return &quot;Project{&quot;\n                + &quot;id=&quot; + id\n                + &quot;, name='&quot; + name + '\\''\n                + &quot;, description='&quot; + description + '\\''\n                + '}';\n    }\n\n    public String[] toArray() {\n        return new String[]{getId().toString(),\n                getName(),\n                getDescription()\n        };\n    }\n}\n</code></pre>\n<p>I'm using Base entity because planning to create more entity objects, for now need to start app.\nI've already tried different properties changes like set ddl-auto=update and others abut any change helped me.</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","redis-sentinel"],"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696318042,"creation_date":1696318042,"question_id":77220397,"body_markdown":"I am using Redis(cluster sentinel) for the pub/sub mechanism.\r\n\r\nI have an issue with the subscription client when there is the master pod gets down and another becomes master that time someone is publishing the message on the channel and some messages get lost how to recover those messages?\r\n\r\n\r\nFollowing is my code\r\n\r\n\tRedisSentinelConfiguration sentinelConfig = new RedisSentinelConfiguration().master(&quot;mymaster&quot;);\r\n\t\t\tsentinelConfig.sentinel(host, Integer.parseInt(port));\r\n\r\n\t\t\treturn new LettuceConnectionFactory(sentinelConfig, LettuceClientConfiguration.builder().readFrom(ReadFrom.REPLICA_PREFERRED).build());\r\n\r\nsubscription client.\r\n\r\n    @Autowired\r\n    \tprivate ReactiveRedisOperations&lt;String, String&gt; reactiveRedisTemplate;\r\n    \r\n    reactiveRedisTemplate.listenTo(ChannelTopic.of(&quot;some_channel&quot;)).subscribe(data -&gt; {});","title":"Spring Boot Redis(cluster sentinel) is this possible to get published message in subscribed client after reconnect?","body":"<p>I am using Redis(cluster sentinel) for the pub/sub mechanism.</p>\n<p>I have an issue with the subscription client when there is the master pod gets down and another becomes master that time someone is publishing the message on the channel and some messages get lost how to recover those messages?</p>\n<p>Following is my code</p>\n<pre><code>RedisSentinelConfiguration sentinelConfig = new RedisSentinelConfiguration().master(&quot;mymaster&quot;);\n        sentinelConfig.sentinel(host, Integer.parseInt(port));\n\n        return new LettuceConnectionFactory(sentinelConfig, LettuceClientConfiguration.builder().readFrom(ReadFrom.REPLICA_PREFERRED).build());\n</code></pre>\n<p>subscription client.</p>\n<pre><code>@Autowired\n    private ReactiveRedisOperations&lt;String, String&gt; reactiveRedisTemplate;\n\nreactiveRedisTemplate.listenTo(ChannelTopic.of(&quot;some_channel&quot;)).subscribe(data -&gt; {});\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-jvm","cucumber-junit"],"comments":[{"owner":{"account_id":242718,"reputation":11086,"user_id":514438,"accept_rate":78,"display_name":"Bala"},"score":0,"creation_date":1396341185,"post_id":22774099,"comment_id":34732559,"body_markdown":"What exactly would you like to pass. Could you throw in an example?","body":"What exactly would you like to pass. Could you throw in an example?"},{"owner":{"account_id":1888031,"reputation":8546,"user_id":1706851,"accept_rate":76,"display_name":"JBT"},"score":0,"creation_date":1396459423,"post_id":22774099,"comment_id":34801303,"body_markdown":"For example, if I want to pass tags dynamically, how can I do that? The advantage of passing tags is that you can filter features/scenarios you want to run dynamically.","body":"For example, if I want to pass tags dynamically, how can I do that? The advantage of passing tags is that you can filter features/scenarios you want to run dynamically."}],"answers":[{"tags":[],"owner":{"account_id":4817578,"reputation":2256,"user_id":3889230,"accept_rate":50,"display_name":"Pedro Lopez"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1694430202,"creation_date":1447804122,"answer_id":33769299,"question_id":22774099,"body_markdown":"The answer is yes you can.\r\n\r\nIf you are using Maven for example just add it like this.\r\n\r\n    mvn test -Dcucumber.options=&quot;--tags @your_tag&quot;\r\n\r\nYou can filter your scenarios that way when running them.\r\n","title":"Pass cucumber options dynamically in cucumber-junit?","body":"<p>The answer is yes you can.</p>\n<p>If you are using Maven for example just add it like this.</p>\n<pre><code>mvn test -Dcucumber.options=&quot;--tags @your_tag&quot;\n</code></pre>\n<p>You can filter your scenarios that way when running them.</p>\n"},{"comments":[{"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"score":0,"creation_date":1595975152,"post_id":41099907,"comment_id":111659272,"body_markdown":"This looks like an ideal solution, but where are you getting your Runtime from?\nThe one in java.lang doesn&#39;t permit any constructors except new Runtime(), so my IDE can&#39;t find it. Plus all the functions you call on it (run, exitStatus) don&#39;t exist.","body":"This looks like an ideal solution, but where are you getting your Runtime from? The one in java.lang doesn&#39;t permit any constructors except new Runtime(), so my IDE can&#39;t find it. Plus all the functions you call on it (run, exitStatus) don&#39;t exist."},{"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"score":0,"creation_date":1595992932,"post_id":41099907,"comment_id":111662776,"body_markdown":"OK, so you are using the cucumber.runtime.Runtime version of Runtime.\nThere were a many other things I had to fix.\nComments doesn&#39;t have room: I will need to post the full solution as a separate answer.","body":"OK, so you are using the cucumber.runtime.Runtime version of Runtime. There were a many other things I had to fix. Comments doesn&#39;t have room: I will need to post the full solution as a separate answer."}],"tags":[],"owner":{"account_id":3164577,"reputation":478,"user_id":2895913,"display_name":"Sugat Mankar"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481542308,"creation_date":1481542308,"answer_id":41099907,"question_id":22774099,"body_markdown":"As mentioned [here][1], Instead of depending on TestNG and jUnit, try to use common generic code and try to create best advantages as per your requirement.\r\nAdd more options as you required.\r\n\r\n\r\n      private void defaultRun() {\r\n            List&lt;String&gt; arguments = new ArrayList&lt;String&gt;();\r\n            rguments.add(&quot;featureFiles&quot;);\r\n               String[] tags = tagsToExecute;\r\n               for (String tag : tags) {\r\n                   arguments.add(&quot;--tags&quot;);\r\n                   arguments.add(tag);\r\n               }\r\n            arguments.add(&quot;--plugin&quot;);\r\n            arguments.add(html);\r\n            arguments.add(&quot;--plugin&quot;);\r\n            arguments.add(json);\r\n            arguments.add(&quot;--plugin&quot;);\r\n            arguments.add(rerun);\r\n            String[] gluepackages = gluePackage.split(&quot;,&quot;);\r\n            for (String packages : gluepackages) {\r\n                if (!packages.contains(&quot;none&quot;)) {\r\n                    arguments.add(&quot;--glue&quot;);\r\n                    arguments.add(packages);\r\n                }\r\n            }\r\n            final String[] argv = arguments.toArray(new String[0]);\r\n            try {\r\n                executetests(argv);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n     public byte executetests(final String[] argv) throws InterruptedException, IOException {\r\n    \r\n            RuntimeOptions runtimeOptions = new RuntimeOptions(new ArrayList(Arrays.asList(argv)));\r\n            MultiLoader resourceLoader = new MultiLoader(this.getClass().getClassLoader());\r\n            ResourceLoaderClassFinder classFinder = new ResourceLoaderClassFinder(resourceLoader, this.getClass().getClassLoader());\r\n            Runtime runtime = new Runtime(resourceLoader, classFinder, this.getClass().getClassLoader(), runtimeOptions);\r\n            runtime.run();\r\n            System.out.println(runtime.exitStatus());\r\n            return runtime.exitStatus();\r\n    \r\n        }\r\n\r\n  [1]: https://stackoverflow.com/a/41099720/2895913","title":"Pass cucumber options dynamically in cucumber-junit?","body":"<p>As mentioned <a href=\"https://stackoverflow.com/a/41099720/2895913\">here</a>, Instead of depending on TestNG and jUnit, try to use common generic code and try to create best advantages as per your requirement.\nAdd more options as you required.</p>\n\n<pre><code>  private void defaultRun() {\n        List&lt;String&gt; arguments = new ArrayList&lt;String&gt;();\n        rguments.add(\"featureFiles\");\n           String[] tags = tagsToExecute;\n           for (String tag : tags) {\n               arguments.add(\"--tags\");\n               arguments.add(tag);\n           }\n        arguments.add(\"--plugin\");\n        arguments.add(html);\n        arguments.add(\"--plugin\");\n        arguments.add(json);\n        arguments.add(\"--plugin\");\n        arguments.add(rerun);\n        String[] gluepackages = gluePackage.split(\",\");\n        for (String packages : gluepackages) {\n            if (!packages.contains(\"none\")) {\n                arguments.add(\"--glue\");\n                arguments.add(packages);\n            }\n        }\n        final String[] argv = arguments.toArray(new String[0]);\n        try {\n            executetests(argv);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n public byte executetests(final String[] argv) throws InterruptedException, IOException {\n\n        RuntimeOptions runtimeOptions = new RuntimeOptions(new ArrayList(Arrays.asList(argv)));\n        MultiLoader resourceLoader = new MultiLoader(this.getClass().getClassLoader());\n        ResourceLoaderClassFinder classFinder = new ResourceLoaderClassFinder(resourceLoader, this.getClass().getClassLoader());\n        Runtime runtime = new Runtime(resourceLoader, classFinder, this.getClass().getClassLoader(), runtimeOptions);\n        runtime.run();\n        System.out.println(runtime.exitStatus());\n        return runtime.exitStatus();\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11631309,"reputation":591,"user_id":8519375,"accept_rate":54,"display_name":"snikt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544506161,"creation_date":1544506161,"answer_id":53717905,"question_id":22774099,"body_markdown":"You can have multiple Junit Before and After methods, each one executed by a particular tag you want(@mytag). Within each method you can set up the conditions you want.","title":"Pass cucumber options dynamically in cucumber-junit?","body":"<p>You can have multiple Junit Before and After methods, each one executed by a particular tag you want(@mytag). Within each method you can set up the conditions you want.</p>\n"},{"comments":[{"owner":{"account_id":4863663,"reputation":127,"user_id":3922604,"accept_rate":0,"display_name":"user3922604"},"score":0,"creation_date":1610023708,"post_id":63145949,"comment_id":116005320,"body_markdown":"Your solution works when I execute the main method from IntelliJ. The test is part of maven project so i want to use command line to execute such mvn  clean test. But the cucumber test is skipped.","body":"Your solution works when I execute the main method from IntelliJ. The test is part of maven project so i want to use command line to execute such mvn  clean test. But the cucumber test is skipped."}],"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595993647,"creation_date":1595993647,"answer_id":63145949,"question_id":22774099,"body_markdown":"Here is a solution inspired by Sugat Mankar&#39;s beautiful clue, but with complete code, and with the mistakes fixed (though for it to work for you, you would have to have the same package structure and location for Gherkin feature files as I do):\r\n\r\n    package mypack.cukes;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import cucumber.runtime.RuntimeOptions;\r\n    import cucumber.runtime.io.MultiLoader;\r\n    import cucumber.runtime.io.ResourceLoaderClassFinder;\r\n    import cucumber.runtime.Runtime;\r\n    \r\n    public class MyRunnerTest {\r\n    \r\n    \tpublic String[] tagsToExecute = {&quot;@SmokeUtilizationData, @SmokeSummaryData, @SmokeCompliance&quot;};\r\n    \tpublic String html = &quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html&quot;;\r\n    \tpublic String gluePackage = &quot;mypack.cukes.stepDefinitions&quot;;\r\n    \tpublic String[] argv = null;\r\n    \t\r\n    \tpublic void defaultRun() {\r\n    \t\tList&lt;String&gt; arguments = new ArrayList&lt;String&gt;();\r\n    \t\targuments.add(&quot;src/main/java/mypack/cukes/features&quot;);\r\n    \t\tString[] tags = tagsToExecute;\r\n    \t\tfor (String tag : tags) {\r\n    \t\t\targuments.add(&quot;--tags&quot;);\r\n    \t\t\targuments.add(tag);\r\n    \t\t}\r\n    \t\targuments.add(&quot;--plugin&quot;);\r\n    \t\targuments.add(html);\r\n    \t\targuments.add(&quot;--glue&quot;);\r\n    \t\targuments.add(gluePackage);\r\n    \t\targv = arguments.toArray(new String[arguments.size()]);\r\n    \t\ttry {\r\n    \t\t\texecuteTests(argv);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}  catch (IOException ioex) {\r\n    \t\t\tioex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \tpublic byte executeTests(final String[] argv) throws InterruptedException, IOException {\r\n    \t\tRuntimeOptions runtimeOptions = new RuntimeOptions(new ArrayList(Arrays.asList(argv)));\r\n    \t\tMultiLoader resourceLoader = new MultiLoader(this.getClass().getClassLoader());\r\n    \t\tResourceLoaderClassFinder classFinder = new ResourceLoaderClassFinder(resourceLoader, this.getClass().getClassLoader());\r\n    \t\tRuntime runtime = new Runtime(resourceLoader, classFinder, this.getClass().getClassLoader(), runtimeOptions);\r\n    \t\truntime.run();\r\n    \t\tSystem.out.println(runtime.exitStatus());\r\n    \t\treturn runtime.exitStatus();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Testing MyRunnerTest&quot;);\r\n    \t\tMyRunnerTest myRun = new MyRunnerTest();\r\n    \t\tmyRun.defaultRun();\r\n    \t}\r\n    \r\n    }\r\n\r\nBTW, my pom file says: &lt;cucumber.version&gt;1.2.4&lt;/cucumber.version&gt;","title":"Pass cucumber options dynamically in cucumber-junit?","body":"<p>Here is a solution inspired by Sugat Mankar's beautiful clue, but with complete code, and with the mistakes fixed (though for it to work for you, you would have to have the same package structure and location for Gherkin feature files as I do):</p>\n<pre><code>package mypack.cukes;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport cucumber.runtime.RuntimeOptions;\nimport cucumber.runtime.io.MultiLoader;\nimport cucumber.runtime.io.ResourceLoaderClassFinder;\nimport cucumber.runtime.Runtime;\n\npublic class MyRunnerTest {\n\n    public String[] tagsToExecute = {&quot;@SmokeUtilizationData, @SmokeSummaryData, @SmokeCompliance&quot;};\n    public String html = &quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html&quot;;\n    public String gluePackage = &quot;mypack.cukes.stepDefinitions&quot;;\n    public String[] argv = null;\n    \n    public void defaultRun() {\n        List&lt;String&gt; arguments = new ArrayList&lt;String&gt;();\n        arguments.add(&quot;src/main/java/mypack/cukes/features&quot;);\n        String[] tags = tagsToExecute;\n        for (String tag : tags) {\n            arguments.add(&quot;--tags&quot;);\n            arguments.add(tag);\n        }\n        arguments.add(&quot;--plugin&quot;);\n        arguments.add(html);\n        arguments.add(&quot;--glue&quot;);\n        arguments.add(gluePackage);\n        argv = arguments.toArray(new String[arguments.size()]);\n        try {\n            executeTests(argv);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }  catch (IOException ioex) {\n            ioex.printStackTrace();\n        }\n    }\n\n\n    public byte executeTests(final String[] argv) throws InterruptedException, IOException {\n        RuntimeOptions runtimeOptions = new RuntimeOptions(new ArrayList(Arrays.asList(argv)));\n        MultiLoader resourceLoader = new MultiLoader(this.getClass().getClassLoader());\n        ResourceLoaderClassFinder classFinder = new ResourceLoaderClassFinder(resourceLoader, this.getClass().getClassLoader());\n        Runtime runtime = new Runtime(resourceLoader, classFinder, this.getClass().getClassLoader(), runtimeOptions);\n        runtime.run();\n        System.out.println(runtime.exitStatus());\n        return runtime.exitStatus();\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Testing MyRunnerTest&quot;);\n        MyRunnerTest myRun = new MyRunnerTest();\n        myRun.defaultRun();\n    }\n\n}\n</code></pre>\n<p>BTW, my pom file says: &lt;cucumber.version&gt;1.2.4&lt;/cucumber.version&gt;</p>\n"},{"tags":[],"owner":{"account_id":2899533,"reputation":1181,"user_id":2486583,"accept_rate":83,"display_name":"James Irwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678131105,"creation_date":1678130511,"answer_id":75654981,"question_id":22774099,"body_markdown":"Expanding on answer from @Pedro Lopez - Cucumber will pick up properties such as `cucumber.features` and `cucumber.filter.tags` from a few [different places](https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-core#properties-environment-variables-system-options):\r\n\r\n&gt; Cucumber will in order of precedence parse properties from system properties, environment variables, @CucumberOptions and the cucumber.properties file. Note that the CLI arguments take precedence over all.\r\n\r\nSet these properties however you like and it should find them. For example, if you happen to be using TestNG as your runner:\r\n\r\n```\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n&lt;suite name=&quot;Example Suite&quot;&gt;\r\n\t&lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;@Gherkin and not @Zucchini&quot; /&gt;\r\n\t\r\n\t&lt;test name=&quot;Vegetable garden&quot; preserve-order=&quot;true&quot;&gt;\r\n        &lt;parameter name=&quot;cucumber.features&quot; value=&quot;classpath:com/example/features/vegetable&quot;/&gt;\r\n\t\t&lt;parameter name=&quot;cucumber.glue&quot; value=&quot;com.example.vegetables.glue&quot;/&gt;\r\n\t\t&lt;classes&gt;\r\n\t\t\t&lt;class name=&quot;com.example.RunCucumberTests&quot;/&gt;\r\n\t\t&lt;/classes&gt;\r\n\t&lt;/test&gt;\r\n \t\r\n\t&lt;test name=&quot;Herb garden&quot; preserve-order=&quot;true&quot;&gt;\r\n\t\t&lt;parameter name=&quot;cucumber.features&quot; value=&quot;classpath:com/example/features/herbs&quot;/&gt;\r\n\t\t&lt;parameter name=&quot;cucumber.glue&quot; value=&quot;com.example.herbs.glue&quot;/&gt;\r\n\t\t&lt;classes&gt;\r\n\t\t\t&lt;class name=&quot;com.example.RunCucumberTests&quot;/&gt;\r\n\t\t&lt;/classes&gt;\r\n\t&lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\n[Source](https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#configure-cucumber-options-via-testng-xml)","title":"Pass cucumber options dynamically in cucumber-junit?","body":"<p>Expanding on answer from @Pedro Lopez - Cucumber will pick up properties such as <code>cucumber.features</code> and <code>cucumber.filter.tags</code> from a few <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-core#properties-environment-variables-system-options\" rel=\"nofollow noreferrer\">different places</a>:</p>\n<blockquote>\n<p>Cucumber will in order of precedence parse properties from system properties, environment variables, @CucumberOptions and the cucumber.properties file. Note that the CLI arguments take precedence over all.</p>\n</blockquote>\n<p>Set these properties however you like and it should find them. For example, if you happen to be using TestNG as your runner:</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;Example Suite&quot;&gt;\n    &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;@Gherkin and not @Zucchini&quot; /&gt;\n    \n    &lt;test name=&quot;Vegetable garden&quot; preserve-order=&quot;true&quot;&gt;\n        &lt;parameter name=&quot;cucumber.features&quot; value=&quot;classpath:com/example/features/vegetable&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.glue&quot; value=&quot;com.example.vegetables.glue&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.example.RunCucumberTests&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    \n    &lt;test name=&quot;Herb garden&quot; preserve-order=&quot;true&quot;&gt;\n        &lt;parameter name=&quot;cucumber.features&quot; value=&quot;classpath:com/example/features/herbs&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.glue&quot; value=&quot;com.example.herbs.glue&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.example.RunCucumberTests&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#configure-cucumber-options-via-testng-xml\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":29335506,"reputation":1,"user_id":22475974,"display_name":"AKP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694430155,"creation_date":1693572784,"answer_id":77023288,"question_id":22774099,"body_markdown":"I worked with the version Tihamer posted. But that only works when executed as normal Java program. When I ran with TestNG, it doesn&#39;t work as there&#39;s no @Test available. I think that&#39;s what the comment says it doesn&#39;t work with Maven commands.\r\n\r\nI work with the cucumber v7.13.0. So, after a day of digging around the Cucumber classes everywhere, I found the perfect solution.\r\n\r\n    import io.cucumber.tagexpressions.TagExpressionParser;\r\n    import io.cucumber.testng.AbstractTestNGCucumberTests;\r\n    import io.cucumber.testng.CucumberOptions;\r\n    import io.cucumber.testng.PickleWrapper;\r\n    import org.testng.annotations.DataProvider;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * This runner is a hybrid runner which can run normally as local runner with Cucumber Options or run with tags variable passed from Pipeline tools or from any other sources\r\n     * &lt;br&gt;&lt;/br&gt;\r\n     * &lt;br&gt;&lt;/br&gt;\r\n     * When the tags are provided from Cucumber Options locally it needs to be in Cucumber tags format with &#39;and&#39;, &#39;or&#39;, &#39;not&#39;.\r\n     * &lt;br&gt;&lt;/br&gt;\r\n     * But the pipeline tag variable can be passed as &quot;@tag1, @tag2, @tag3, ...&quot; format too.\r\n     * &lt;br&gt;&lt;/br&gt;\r\n     * This runner works with either of them or both combined. Let&#39;s say You have passed &#39;@smoke&#39; tag in @CucumberOptions annotation which have 100 scenarios, then additionally you can also pass a runtime tag &quot;@Login&quot; and filter again.\r\n     */\r\n    @CucumberOptions( features = &quot;src/test/resources/features/&quot;,\r\n                      glue = { &quot;stepDefinitions&quot;, &quot;hooks&quot; },\r\n                      plugin = { &quot;pretty&quot;, &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot; },\r\n                      tags = &quot;&quot; )       //Pass tags here as usual\r\n    public class CucumberRunnerTest extends AbstractTestNGCucumberTests\r\n    {\r\n    \r\n    \t@DataProvider\r\n    \t@Override\r\n    \tpublic Object[][] scenarios()\r\n    \t{\r\n    \t\tObject[][] scenarios = super.scenarios();\r\n    \r\n    \t\tString dynamicTags = System.getenv(&quot;tags&quot;);   //passed from Pipeline \r\n            //Or add any other sources you want to get the tags from\r\n\r\n    \t\tif ( dynamicTags != null &amp;&amp; !dynamicTags.equals(&quot;&quot;) )\r\n    \t\t{\r\n    \t\t\tList&lt;Object&gt; filteredScenarios = new ArrayList&lt;&gt;();\r\n    \t\t\tfor ( int i = 0; i &lt; scenarios.length; i++ )\r\n    \t\t\t{\r\n    \t\t\t\tPickleWrapper pickleWrapper = ( PickleWrapper ) scenarios[i][0];\r\n    \t\t\t\tList&lt;String&gt;  tags          = pickleWrapper.getPickle().getTags();\r\n    \t\t\t\t\r\n                    if ( dynamicTags.contains(&quot;, &quot;) )\r\n    \t\t\t\t{\r\n    \t\t\t\t\tString[] tagsArray = dynamicTags.split(&quot;, &quot;);\r\n    \t\t\t\t\tfor ( String tag : tagsArray )\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tif ( tags.contains(tag) )\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tfilteredScenarios.add(scenarios[i]);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif ( TagExpressionParser.parse(dynamicTags).evaluate(tags) ) filteredScenarios.add(scenarios[i]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn filteredScenarios.toArray(new Object[0][0]);\r\n    \t\t}\r\n    \r\n    \t\treturn scenarios;\r\n    \t}\r\n    }\r\n","title":"Pass cucumber options dynamically in cucumber-junit?","body":"<p>I worked with the version Tihamer posted. But that only works when executed as normal Java program. When I ran with TestNG, it doesn't work as there's no @Test available. I think that's what the comment says it doesn't work with Maven commands.</p>\n<p>I work with the cucumber v7.13.0. So, after a day of digging around the Cucumber classes everywhere, I found the perfect solution.</p>\n<pre><code>import io.cucumber.tagexpressions.TagExpressionParser;\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\nimport io.cucumber.testng.PickleWrapper;\nimport org.testng.annotations.DataProvider;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * This runner is a hybrid runner which can run normally as local runner with Cucumber Options or run with tags variable passed from Pipeline tools or from any other sources\n * &lt;br&gt;&lt;/br&gt;\n * &lt;br&gt;&lt;/br&gt;\n * When the tags are provided from Cucumber Options locally it needs to be in Cucumber tags format with 'and', 'or', 'not'.\n * &lt;br&gt;&lt;/br&gt;\n * But the pipeline tag variable can be passed as &quot;@tag1, @tag2, @tag3, ...&quot; format too.\n * &lt;br&gt;&lt;/br&gt;\n * This runner works with either of them or both combined. Let's say You have passed '@smoke' tag in @CucumberOptions annotation which have 100 scenarios, then additionally you can also pass a runtime tag &quot;@Login&quot; and filter again.\n */\n@CucumberOptions( features = &quot;src/test/resources/features/&quot;,\n                  glue = { &quot;stepDefinitions&quot;, &quot;hooks&quot; },\n                  plugin = { &quot;pretty&quot;, &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot; },\n                  tags = &quot;&quot; )       //Pass tags here as usual\npublic class CucumberRunnerTest extends AbstractTestNGCucumberTests\n{\n\n    @DataProvider\n    @Override\n    public Object[][] scenarios()\n    {\n        Object[][] scenarios = super.scenarios();\n\n        String dynamicTags = System.getenv(&quot;tags&quot;);   //passed from Pipeline \n        //Or add any other sources you want to get the tags from\n\n        if ( dynamicTags != null &amp;&amp; !dynamicTags.equals(&quot;&quot;) )\n        {\n            List&lt;Object&gt; filteredScenarios = new ArrayList&lt;&gt;();\n            for ( int i = 0; i &lt; scenarios.length; i++ )\n            {\n                PickleWrapper pickleWrapper = ( PickleWrapper ) scenarios[i][0];\n                List&lt;String&gt;  tags          = pickleWrapper.getPickle().getTags();\n                \n                if ( dynamicTags.contains(&quot;, &quot;) )\n                {\n                    String[] tagsArray = dynamicTags.split(&quot;, &quot;);\n                    for ( String tag : tagsArray )\n                    {\n                        if ( tags.contains(tag) )\n                        {\n                            filteredScenarios.add(scenarios[i]);\n                            break;\n                        }\n                    }\n                }\n                else\n                {\n                    if ( TagExpressionParser.parse(dynamicTags).evaluate(tags) ) filteredScenarios.add(scenarios[i]);\n                }\n            }\n            return filteredScenarios.toArray(new Object[0][0]);\n        }\n\n        return scenarios;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2697326,"reputation":23,"user_id":2329008,"display_name":"npavangouda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696317236,"creation_date":1696317236,"answer_id":77220310,"question_id":22774099,"body_markdown":"If you are using cucumber version 7.13.0. Then you can use below:\r\n````\r\npublic class StartTestApplication {\r\n\r\n\r\n    public static void main(String[] args){\r\n        StartTestApplication testApplication = new StartTestApplication();\r\n        testApplication.runFeature();\r\n    }\r\n\r\n    private byte runFeature(){\r\n        Supplier&lt;ClassLoader&gt; classLoader = ClassLoaders::getDefaultClassLoader;\r\n        List&lt;String&gt; arguments = new ArrayList&lt;String&gt;();\r\n        arguments.add(&quot;--glue&quot;);\r\n        arguments.add(&quot;stepDefs&quot;);\r\n        arguments.add(&quot;--glue&quot;);\r\n        arguments.add(&quot;hooks&quot;);\r\n        FeatureWithLines featureWithLines = FeatureWithLines.parse(&quot;src/test/resources/features&quot;);\r\n        RuntimeOptions options = new CommandlineOptionsParser(System.out)\r\n                .parse(arguments.toArray(new String[arguments.size()]))\r\n                .addFeature(featureWithLines)\r\n                .build();\r\n\r\n        Runtime runtime = Runtime.builder()\r\n                .withClassLoader(classLoader)\r\n                .withRuntimeOptions(options)\r\n                .build();\r\n        runtime.run();\r\n        System.out.println(runtime.exitStatus());\r\n        return runtime.exitStatus();\r\n    }\r\n}\r\n````","title":"Pass cucumber options dynamically in cucumber-junit?","body":"<p>If you are using cucumber version 7.13.0. Then you can use below:</p>\n<pre><code>public class StartTestApplication {\n\n\n    public static void main(String[] args){\n        StartTestApplication testApplication = new StartTestApplication();\n        testApplication.runFeature();\n    }\n\n    private byte runFeature(){\n        Supplier&lt;ClassLoader&gt; classLoader = ClassLoaders::getDefaultClassLoader;\n        List&lt;String&gt; arguments = new ArrayList&lt;String&gt;();\n        arguments.add(&quot;--glue&quot;);\n        arguments.add(&quot;stepDefs&quot;);\n        arguments.add(&quot;--glue&quot;);\n        arguments.add(&quot;hooks&quot;);\n        FeatureWithLines featureWithLines = FeatureWithLines.parse(&quot;src/test/resources/features&quot;);\n        RuntimeOptions options = new CommandlineOptionsParser(System.out)\n                .parse(arguments.toArray(new String[arguments.size()]))\n                .addFeature(featureWithLines)\n                .build();\n\n        Runtime runtime = Runtime.builder()\n                .withClassLoader(classLoader)\n                .withRuntimeOptions(options)\n                .build();\n        runtime.run();\n        System.out.println(runtime.exitStatus());\n        return runtime.exitStatus();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1888031,"reputation":8546,"user_id":1706851,"accept_rate":76,"display_name":"JBT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9737,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1696317236,"creation_date":1396308409,"question_id":22774099,"body_markdown":"I understand that `@CucumberOptions` is used to pass Cucumber options. However, due to the limitation that Java annotations only allow inline constants, it is quite cumbersome to use `@CucumberOptions`. So, is there a dynamic way to pass Cucumber options when using cucumber-junit? Thank you very much.","title":"Pass cucumber options dynamically in cucumber-junit?","body":"<p>I understand that <code>@CucumberOptions</code> is used to pass Cucumber options. However, due to the limitation that Java annotations only allow inline constants, it is quite cumbersome to use <code>@CucumberOptions</code>. So, is there a dynamic way to pass Cucumber options when using cucumber-junit? Thank you very much.</p>\n"},{"tags":["java","android","pkcs#11"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696144187,"post_id":77209130,"comment_id":136114110,"body_markdown":"What exactly have you tried so far? Can you please include your attempt with the code you were using? Did you experience any error? If so, can you include it in your question? What makes you think it doesn&#39;t work?","body":"What exactly have you tried so far? Can you please include your attempt with the code you were using? Did you experience any error? If so, can you include it in your question? What makes you think it doesn&#39;t work?"},{"owner":{"account_id":29530149,"reputation":11,"user_id":22630932,"display_name":"KC_2023"},"score":0,"creation_date":1696316571,"post_id":77209130,"comment_id":136133809,"body_markdown":"@dan1st please check the snippet.","body":"@dan1st please check the snippet."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696322125,"post_id":77209130,"comment_id":136134698,"body_markdown":"How do you see that snippet isn&#39;t working? Which class isn&#39;t found? `sun.security.pkcs11.SunPKCS11`?","body":"How do you see that snippet isn&#39;t working? Which class isn&#39;t found? <code>sun.security.pkcs11.SunPKCS11</code>?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696322208,"post_id":77209130,"comment_id":136134714,"body_markdown":"Does this answer your question? [Is Sun PKCS#11 provider supported on Android?](https://stackoverflow.com/questions/12354137/is-sun-pkcs11-provider-supported-on-android) However, https://android.googlesource.com/platform/libcore/+/59cd43352e5fd4907303d06f9b92f01c943375f7/ojluni/src/main/java/sun/security/pkcs11/wrapper/PKCS11.java seems to exist but it doesn&#39;t seem to extend `Provider`. Alternatively, you could try https://github.com/DDoSolitary/SunPKCS11Wrapper/blob/master/src/main/java/org/ddosolitary/pkcs11/SunPKCS11Wrapper.java from https://github.com/DDoSolitary/SunPKCS11Wrapper","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12354137/is-sun-pkcs11-provider-supported-on-android\">Is Sun PKCS#11 provider supported on Android?</a> However, <a href=\"https://android.googlesource.com/platform/libcore/+/59cd43352e5fd4907303d06f9b92f01c943375f7/ojluni/src/main/java/sun/security/pkcs11/wrapper/PKCS11.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/libcore/+/&hellip;</a> seems to exist but it doesn&#39;t seem to extend <code>Provider</code>. Alternatively, you could try <a href=\"https://github.com/DDoSolitary/SunPKCS11Wrapper/blob/master/src/main/java/org/ddosolitary/pkcs11/SunPKCS11Wrapper.java\" rel=\"nofollow noreferrer\">github.com/DDoSolitary/SunPKCS11Wrapper/blob/master/src/main&zwnj;&#8203;/&hellip;</a> from <a href=\"https://github.com/DDoSolitary/SunPKCS11Wrapper\" rel=\"nofollow noreferrer\">github.com/DDoSolitary/SunPKCS11Wrapper</a>"}],"owner":{"account_id":29530149,"reputation":11,"user_id":22630932,"display_name":"KC_2023"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1696343365,"answer_count":0,"score":1,"last_activity_date":1696316506,"creation_date":1696131233,"question_id":77209130,"body_markdown":"I am new to android development and would like to understand if its possible to sign data using smart card token through android application.\r\nIs ther any way to use PKCS#11 library statically with an android application?\r\nHow can this be achieved?\r\n\r\n\r\nI tried including SunPKCS#11 imports into the android java class but may missing some steps.\r\n\r\n        try {\r\n            // Load the Sun PKCS#11 provider dynamically\r\n            String configName = &quot;/path/to/pkcs11/config.cfg&quot;; // Path to your PKCS#11 config file\r\n            Provider pkcs11Provider = new sun.security.pkcs11.SunPKCS11(configName);\r\n            //Provider pkcs11Provider = new sun.security.pkcs11\r\n            Security.addProvider(pkcs11Provider);\r\n\r\n            // Initialize PKCS#11 KeyStore\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS11&quot;);\r\n            char[] pin = &quot;YOUR_PIN&quot;.toCharArray();\r\n            keyStore.load(null, pin);\r\n\r\n            // List certificates\r\n            Enumeration&lt;String&gt; aliases = keyStore.aliases();\r\n            while (aliases.hasMoreElements()) {\r\n                String alias = aliases.nextElement();\r\n                Log.d(&quot;pkcs&quot;,&quot;Certificate Alias: &quot; + alias);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nI am not able to figure out how to set up config.cfg\r\n","title":"Signing data using PKCS11 library in an Android application","body":"<p>I am new to android development and would like to understand if its possible to sign data using smart card token through android application.\nIs ther any way to use PKCS#11 library statically with an android application?\nHow can this be achieved?</p>\n<p>I tried including SunPKCS#11 imports into the android java class but may missing some steps.</p>\n<pre><code>    try {\n        // Load the Sun PKCS#11 provider dynamically\n        String configName = &quot;/path/to/pkcs11/config.cfg&quot;; // Path to your PKCS#11 config file\n        Provider pkcs11Provider = new sun.security.pkcs11.SunPKCS11(configName);\n        //Provider pkcs11Provider = new sun.security.pkcs11\n        Security.addProvider(pkcs11Provider);\n\n        // Initialize PKCS#11 KeyStore\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS11&quot;);\n        char[] pin = &quot;YOUR_PIN&quot;.toCharArray();\n        keyStore.load(null, pin);\n\n        // List certificates\n        Enumeration&lt;String&gt; aliases = keyStore.aliases();\n        while (aliases.hasMoreElements()) {\n            String alias = aliases.nextElement();\n            Log.d(&quot;pkcs&quot;,&quot;Certificate Alias: &quot; + alias);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I am not able to figure out how to set up config.cfg</p>\n"},{"tags":["java","android","jar","appium","android-uiautomator"],"owner":{"account_id":14947986,"reputation":11,"user_id":10792657,"display_name":"Amir Zarbakhsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696315745,"creation_date":1696315649,"question_id":77220182,"body_markdown":"**I want to run the .jar files on Mac but they don&#39;t work.**\r\n\r\nI call them in two ways:\r\n\r\n1. Double clicking on the file itself, **I get the following error:**\r\n   `Java Application launch failed. Check Console for possible error messages related to &quot;/Users/ amir/Library/Android/sdk/platforms/android-34/android.jar”.`\r\n\r\n2. I try to run the following command in the terminal:\r\n   `java -jar /Users/amir/Library/Android/sdk/platforms/android-34/uiautomator.jar`\r\n\r\n   **And then I find this error:**\r\n   `no main manifest attribute, in /Users/amir/Library/Android/sdk/platforms/android-34/uiautomator.jar `\r\n\r\nHere is my .zprofile file configuration for Java:\r\n\r\n```\r\nJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_361.jdk/Contents/Home\r\n\r\nexport JAVA_HOME=$(/usr/libexec/java_home)\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n\r\nexport PATH=/usr/local/Cellar/maven/3.8.6/bin:$PATH\r\n\r\nexport ANDROID_HOME=/Users/amir/Library/Android/sdk\r\nexport PATH=$ANDROID_HOME/platform-tools:$PATH\r\nexport PATH=$ANDROID_HOME/tools:$PATH\r\nexport PATH=$ANDROID_HOME/tools/bin:$PATH\r\n```\r\n\r\nI have this problem for more than 1 week and I have not found any solution for it.\r\n\r\nI am trying to run the .jar file","title":"Failure to run .jar (uiautomator.jar) files on Mac","body":"<p><strong>I want to run the .jar files on Mac but they don't work.</strong></p>\n<p>I call them in two ways:</p>\n<ol>\n<li><p>Double clicking on the file itself, <strong>I get the following error:</strong>\n<code>Java Application launch failed. Check Console for possible error messages related to &quot;/Users/ amir/Library/Android/sdk/platforms/android-34/android.jar”.</code></p>\n</li>\n<li><p>I try to run the following command in the terminal:\n<code>java -jar /Users/amir/Library/Android/sdk/platforms/android-34/uiautomator.jar</code></p>\n<p><strong>And then I find this error:</strong>\n<code>no main manifest attribute, in /Users/amir/Library/Android/sdk/platforms/android-34/uiautomator.jar </code></p>\n</li>\n</ol>\n<p>Here is my .zprofile file configuration for Java:</p>\n<pre><code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_361.jdk/Contents/Home\n\nexport JAVA_HOME=$(/usr/libexec/java_home)\nexport PATH=$JAVA_HOME/bin:$PATH\n\nexport PATH=/usr/local/Cellar/maven/3.8.6/bin:$PATH\n\nexport ANDROID_HOME=/Users/amir/Library/Android/sdk\nexport PATH=$ANDROID_HOME/platform-tools:$PATH\nexport PATH=$ANDROID_HOME/tools:$PATH\nexport PATH=$ANDROID_HOME/tools/bin:$PATH\n</code></pre>\n<p>I have this problem for more than 1 week and I have not found any solution for it.</p>\n<p>I am trying to run the .jar file</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"score":0,"creation_date":1696270766,"post_id":77217456,"comment_id":136128909,"body_markdown":"I am reading the firestore database in a transaction. So I can not make use of the code you have provided. The transaction returns a documentsnapshot object. I need to know how I can retrieve the document ids of the documents saved in this documentsnaphot.","body":"I am reading the firestore database in a transaction. So I can not make use of the code you have provided. The transaction returns a documentsnapshot object. I need to know how I can retrieve the document ids of the documents saved in this documentsnaphot."}],"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696268355,"creation_date":1696268355,"answer_id":77217456,"question_id":77216939,"body_markdown":"You can get document id using `document.getId()`. You will have to traverse every document in the query, get its document id and save it back in your `courses` data object. Read more about it on firebase [docs][1].\r\n\r\n```\r\ndb.collection(&quot;collection-name&quot;)\r\n        .get()\r\n        .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        // map the document to the data class\r\n                        Courses courses = document.toObject(Courses.class);\r\n                        // add document Id to each object\r\n                        courses.setId(document.getId());\r\n                        // add each course to the list\r\n                        coursesList.add(courses);\r\n\r\n                        Log.d(TAG, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n                    }\r\n                } else {\r\n                    Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/get-data#java_6","title":"how to store the elements of a document snapshot as objects in a list and retrieve their document ids in a transaction operating on firestore database","body":"<p>You can get document id using <code>document.getId()</code>. You will have to traverse every document in the query, get its document id and save it back in your <code>courses</code> data object. Read more about it on firebase <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#java_6\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<pre><code>db.collection(&quot;collection-name&quot;)\n        .get()\n        .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    for (QueryDocumentSnapshot document : task.getResult()) {\n                        // map the document to the data class\n                        Courses courses = document.toObject(Courses.class);\n                        // add document Id to each object\n                        courses.setId(document.getId());\n                        // add each course to the list\n                        coursesList.add(courses);\n\n                        Log.d(TAG, document.getId() + &quot; =&gt; &quot; + document.getData());\n                    }\n                } else {\n                    Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\n                }\n            }\n        });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1696400545,"post_id":77220119,"comment_id":136146086,"body_markdown":"Hey there. Did my answer help? Can I help you with other information?","body":"Hey there. Did my answer help? Can I help you with other information?"},{"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"score":0,"creation_date":1698525406,"post_id":77220119,"comment_id":136417715,"body_markdown":"Yeah, your answer helped. But I resolved the issue in a different way. Thanks though.","body":"Yeah, your answer helped. But I resolved the issue in a different way. Thanks though."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696314900,"creation_date":1696314900,"answer_id":77220119,"question_id":77216939,"body_markdown":"You can only [run][1] a transaction on a [FirebaseFirestore][2] object. Since you didn&#39;t share your code, I imagine that it looks like this:\r\n\r\n```\r\nDocumentReference docIdRef = db.collection(&quot;Courses&quot;).document(&quot;usk...O18&quot;);\r\ndb.runTransaction(new Transaction.Function&lt;Void&gt;() {\r\n    @Override\r\n    public Void apply(@NonNull Transaction transaction) throws FirebaseFirestoreException {\r\n        DocumentSnapshot snapshot = transaction.get(docIdRef);\r\n\r\n        String docId = snapshot.getId();\r\n        transaction.update(docIdRef, &quot;id&quot;, docId);\r\n\r\n        return null;\r\n    }\r\n}).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onSuccess(Void aVoid) {\r\n        Log.d(TAG, &quot;Transaction success!&quot;);\r\n    }\r\n})\r\n.addOnFailureListener(new OnFailureListener() {\r\n    @Override\r\n    public void onFailure(@NonNull Exception e) {\r\n        Log.w(TAG, &quot;Transaction failure.&quot;, e);\r\n    }\r\n});\r\n```\r\n\r\nThe above code will read the &quot;usk...O18&quot; document in a transaction, it will read the document ID inside the transaction and it will update the value of the `id` field. I&#39;m not sure why would you need the document ID, as you already know that ID because it is used when you create the reference that points to that document.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore#runTransaction(com.google.firebase.firestore.Transaction.Function%3CTResult%3E)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore","title":"how to store the elements of a document snapshot as objects in a list and retrieve their document ids in a transaction operating on firestore database","body":"<p>You can only <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore#runTransaction(com.google.firebase.firestore.Transaction.Function%3CTResult%3E)\" rel=\"nofollow noreferrer\">run</a> a transaction on a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore\" rel=\"nofollow noreferrer\">FirebaseFirestore</a> object. Since you didn't share your code, I imagine that it looks like this:</p>\n<pre><code>DocumentReference docIdRef = db.collection(&quot;Courses&quot;).document(&quot;usk...O18&quot;);\ndb.runTransaction(new Transaction.Function&lt;Void&gt;() {\n    @Override\n    public Void apply(@NonNull Transaction transaction) throws FirebaseFirestoreException {\n        DocumentSnapshot snapshot = transaction.get(docIdRef);\n\n        String docId = snapshot.getId();\n        transaction.update(docIdRef, &quot;id&quot;, docId);\n\n        return null;\n    }\n}).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n    @Override\n    public void onSuccess(Void aVoid) {\n        Log.d(TAG, &quot;Transaction success!&quot;);\n    }\n})\n.addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception e) {\n        Log.w(TAG, &quot;Transaction failure.&quot;, e);\n    }\n});\n</code></pre>\n<p>The above code will read the &quot;usk...O18&quot; document in a transaction, it will read the document ID inside the transaction and it will update the value of the <code>id</code> field. I'm not sure why would you need the document ID, as you already know that ID because it is used when you create the reference that points to that document.</p>\n"}],"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696314937,"creation_date":1696262388,"question_id":77216939,"body_markdown":"I have created a Firestore database that contains objects of a user-defined class named &quot;Courses&quot; as its documents. Now I want to read these documents in a transaction as a list together with their document IDs. I can store these documents in a list however I can not figure out how to retrieve the document IDs of these documents. As far as I know, a transaction operating on a Firestore database returns a document snaphot when it reads this database with the get method. I want to extract the document ids of these documents from this document snaphot but I don&#39;t know how to do that.  \r\n\r\nBelow is the picture of my database.\r\n\r\n[enter image description here](https://i.stack.imgur.com/zl6T6.png)  \r\n\r\nBelow is the android studio java code for my user defined class &quot;Courses.\r\n\r\n\r\n```\r\nimport com.google.firebase.firestore.Exclude;\r\n \r\nimport java.io.Serializable;\r\n \r\n\r\npublic class Courses implements Serializable {\r\n \r\n    \r\n    public String getId() {\r\n        return id;\r\n    }\r\n \r\n    \r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n \r\n    \r\n    @Exclude\r\n    private String id;\r\n     \r\n   \r\n    private String courseName, courseDescription, courseDuration;\r\n \r\n    public Courses() {\r\n       \r\n    }\r\n \r\n    .\r\n    public Courses(String courseName, String courseDescription, String courseDuration) {\r\n        this.courseName = courseName;\r\n        this.courseDescription = courseDescription;\r\n        this.courseDuration = courseDuration;\r\n    }\r\n \r\n    \r\n    public String getCourseName() {\r\n        return courseName;\r\n    }\r\n \r\n    public void setCourseName(String courseName) {\r\n        this.courseName = courseName;\r\n    }\r\n \r\n    public String getCourseDescription() {\r\n        return courseDescription;\r\n    }\r\n \r\n    \r\n    public void setCourseDescription(String courseDescription) {\r\n        this.courseDescription = courseDescription;\r\n    }\r\n \r\n    public String getCourseDuration() {\r\n        return courseDuration;\r\n    }\r\n \r\n    public void setCourseDuration(String courseDuration) {\r\n        this.courseDuration = courseDuration;\r\n    }\r\n}\r\n```\r\n\r\nI tried the following code in java to store the documents in my firestore database as a list:\r\n\r\nDocumentSnapshot doclist = transaction.get(document1);\r\nList&lt;Courses&gt; courses1 = doclist.toObject(Courses.class);\r\n\r\nBut I do not know how to get the document ids from the above &quot;courses1&quot; List. \r\n","title":"how to store the elements of a document snapshot as objects in a list and retrieve their document ids in a transaction operating on firestore database","body":"<p>I have created a Firestore database that contains objects of a user-defined class named &quot;Courses&quot; as its documents. Now I want to read these documents in a transaction as a list together with their document IDs. I can store these documents in a list however I can not figure out how to retrieve the document IDs of these documents. As far as I know, a transaction operating on a Firestore database returns a document snaphot when it reads this database with the get method. I want to extract the document ids of these documents from this document snaphot but I don't know how to do that.</p>\n<p>Below is the picture of my database.</p>\n<p><a href=\"https://i.stack.imgur.com/zl6T6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Below is the android studio java code for my user defined class &quot;Courses.</p>\n<pre><code>import com.google.firebase.firestore.Exclude;\n \nimport java.io.Serializable;\n \n\npublic class Courses implements Serializable {\n \n    \n    public String getId() {\n        return id;\n    }\n \n    \n    public void setId(String id) {\n        this.id = id;\n    }\n \n    \n    @Exclude\n    private String id;\n     \n   \n    private String courseName, courseDescription, courseDuration;\n \n    public Courses() {\n       \n    }\n \n    .\n    public Courses(String courseName, String courseDescription, String courseDuration) {\n        this.courseName = courseName;\n        this.courseDescription = courseDescription;\n        this.courseDuration = courseDuration;\n    }\n \n    \n    public String getCourseName() {\n        return courseName;\n    }\n \n    public void setCourseName(String courseName) {\n        this.courseName = courseName;\n    }\n \n    public String getCourseDescription() {\n        return courseDescription;\n    }\n \n    \n    public void setCourseDescription(String courseDescription) {\n        this.courseDescription = courseDescription;\n    }\n \n    public String getCourseDuration() {\n        return courseDuration;\n    }\n \n    public void setCourseDuration(String courseDuration) {\n        this.courseDuration = courseDuration;\n    }\n}\n</code></pre>\n<p>I tried the following code in java to store the documents in my firestore database as a list:</p>\n<p>DocumentSnapshot doclist = transaction.get(document1);\nList courses1 = doclist.toObject(Courses.class);</p>\n<p>But I do not know how to get the document ids from the above &quot;courses1&quot; List.</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696314483,"creation_date":1696256909,"answer_id":77216303,"question_id":77216205,"body_markdown":"Instead of defining a validator for `List&lt;String&gt;`, define one that applies to a single `String` value:\r\n```java\r\n@Component\r\npublic class DomainKeyValidator implements ConstraintValidator&lt;DomainKeyValidation, String&gt;\r\n{\r\n    // Validation logic here ...\r\n}\r\n```\r\nThen, use it as follows:\r\n```java\r\n@DomainKeyValidation(domainKey = &quot;note_status&quot;) String status\r\n```\r\n```java\r\nList&lt;@DomainKeyValidation(domainKey = &quot;note_status&quot;) String&gt; statuses\r\n```\r\nIn the latter example, validation is applied to each element of the list separately.","title":"Can the same Custom Annotation be used to validate T and List&lt;T&gt;?","body":"<p>Instead of defining a validator for <code>List&lt;String&gt;</code>, define one that applies to a single <code>String</code> value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DomainKeyValidator implements ConstraintValidator&lt;DomainKeyValidation, String&gt;\n{\n    // Validation logic here ...\n}\n</code></pre>\n<p>Then, use it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DomainKeyValidation(domainKey = &quot;note_status&quot;) String status\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;@DomainKeyValidation(domainKey = &quot;note_status&quot;) String&gt; statuses\n</code></pre>\n<p>In the latter example, validation is applied to each element of the list separately.</p>\n"}],"owner":{"account_id":13803376,"reputation":35,"user_id":9962866,"display_name":"Etraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696314483,"creation_date":1696256067,"question_id":77216205,"body_markdown":"Good morning,\r\n\r\nI have the following custom annotation in Java (Spring Boot):\r\n\r\n    @Target({ PARAMETER })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = DomainKeyValidator.class)\r\n    public @interface DomainKeyValidation {\r\n    \r\n        String message() default &quot;&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        String domainKey() default &quot;&quot;;\r\n    }\r\n\r\nAnd the validator class:\r\n\r\n    @Component\r\n    public class DomainKeyValidator implements ConstraintValidator&lt;DomainKeyValidation, List&lt;String&gt;&gt;\r\n    {\r\n        // Validation logic here ...\r\n    }\r\n\r\nIt works for array of Strings like this example:\r\n\r\n    @DomainKeyValidation(domainKey = &quot;note_status&quot;) List&lt;String&gt; status\r\n\r\nBut it doesn&#39;t work for single String like this example:\r\n\r\n    @DomainKeyValidation(domainKey = &quot;note_status&quot;) String status\r\n\r\nThe validation steps are the same for both the use cases except the first one where I must cycle through an array.\r\n\r\nAre there ways to use the same annotation by changing its behavior accordingly to the input type or is it advised to create two separate implementations? Thanks in advance!","title":"Can the same Custom Annotation be used to validate T and List&lt;T&gt;?","body":"<p>Good morning,</p>\n<p>I have the following custom annotation in Java (Spring Boot):</p>\n<pre><code>@Target({ PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = DomainKeyValidator.class)\npublic @interface DomainKeyValidation {\n\n    String message() default &quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    String domainKey() default &quot;&quot;;\n}\n</code></pre>\n<p>And the validator class:</p>\n<pre><code>@Component\npublic class DomainKeyValidator implements ConstraintValidator&lt;DomainKeyValidation, List&lt;String&gt;&gt;\n{\n    // Validation logic here ...\n}\n</code></pre>\n<p>It works for array of Strings like this example:</p>\n<pre><code>@DomainKeyValidation(domainKey = &quot;note_status&quot;) List&lt;String&gt; status\n</code></pre>\n<p>But it doesn't work for single String like this example:</p>\n<pre><code>@DomainKeyValidation(domainKey = &quot;note_status&quot;) String status\n</code></pre>\n<p>The validation steps are the same for both the use cases except the first one where I must cycle through an array.</p>\n<p>Are there ways to use the same annotation by changing its behavior accordingly to the input type or is it advised to create two separate implementations? Thanks in advance!</p>\n"},{"tags":["java","android","xml","performance","android-layout"],"answers":[{"comments":[{"owner":{"account_id":270320,"reputation":4836,"user_id":560204,"accept_rate":78,"display_name":"OckhamsRazor"},"score":0,"creation_date":1332441384,"post_id":9827887,"comment_id":12522302,"body_markdown":"Thanks Ollie. I&#39;m greatly encouraged by your XML-centric approach. Part of the reason is that I own a pretty weak development system and am unable to work with concurrent emulators. This is one of the main reasons I use code rather than XML, because I can be sure that my layouts will look the same on all devices. Otoh, if I use XML, I will have to work with the emulators so that I can test each layout and actually check out how the UI looks.","body":"Thanks Ollie. I&#39;m greatly encouraged by your XML-centric approach. Part of the reason is that I own a pretty weak development system and am unable to work with concurrent emulators. This is one of the main reasons I use code rather than XML, because I can be sure that my layouts will look the same on all devices. Otoh, if I use XML, I will have to work with the emulators so that I can test each layout and actually check out how the UI looks."},{"owner":{"account_id":270320,"reputation":4836,"user_id":560204,"accept_rate":78,"display_name":"OckhamsRazor"},"score":0,"creation_date":1332441421,"post_id":9827887,"comment_id":12522315,"body_markdown":"Also, by any chance, do you have any open source android projects I could refer to?","body":"Also, by any chance, do you have any open source android projects I could refer to?"},{"owner":{"account_id":220156,"reputation":28363,"user_id":477415,"accept_rate":82,"display_name":"Ollie C"},"score":0,"creation_date":1332443206,"post_id":9827887,"comment_id":12523068,"body_markdown":"If you look at the Android app code samples in the SDK, or those with Mark Murphy&#39;s (Commonsware) books you&#39;ll see plenty of examples of use of XML. I use physical devices for testing - a handful of them provides high coverage for screen &amp; OS types. I don&#39;t think it&#39;s a good idea to allow a slow dev machine to affect the architecture of your apps.","body":"If you look at the Android app code samples in the SDK, or those with Mark Murphy&#39;s (Commonsware) books you&#39;ll see plenty of examples of use of XML. I use physical devices for testing - a handful of them provides high coverage for screen &amp; OS types. I don&#39;t think it&#39;s a good idea to allow a slow dev machine to affect the architecture of your apps."},{"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"score":0,"creation_date":1432622960,"post_id":9827887,"comment_id":48983854,"body_markdown":"What About Heap Memory ? It Doesn&#39;t cause Heap Memory? Does it clear from Heap Memory After Scrolling out Of Screen Or When onDestroy event has called ?","body":"What About Heap Memory ? It Doesn&#39;t cause Heap Memory? Does it clear from Heap Memory After Scrolling out Of Screen Or When onDestroy event has called ?"}],"tags":[],"owner":{"account_id":220156,"reputation":28363,"user_id":477415,"accept_rate":82,"display_name":"Ollie C"},"comment_count":4,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1332439074,"creation_date":1332439074,"answer_id":9827887,"question_id":9827819,"body_markdown":"I use XML layouts on pretty much every fragment and activity of every app I write. I very rarely see any need to create Views dynamically, tho configuration of ListViews, showing/hiding views, etc needs doing in code. For me the advantages of XML are:\r\n\r\n- Ability to use layout editors (Eclipse)\r\n- Easier to preview layouts\r\n- Possible to benefit from auto-localisation of layouts\r\n- Easily maintain different parallel layouts for difference devices (screens)\r\n- Can get a sense of the layout by looking at it (easier than code)\r\n- Easy to break layouts down into pieces (fragments, includes, etc) to remove duplication\r\n- Keeps a separation between the visual design, and the functionality behind it\r\n\r\nI can&#39;t think of any good reasons to put all my layouts into code - that sounds like hell.\r\n\r\nI expect the reason your layouts don&#39;t look the same is because your XML is not defining the layouts correctly. Bear in mind the Android tools convert XML layouts into code, so there&#39;s no inherent problem with using XML layouts versus dynamic - both end up as code.","title":"Best practices: Layouts on Android (Programmatic vs XML)","body":"<p>I use XML layouts on pretty much every fragment and activity of every app I write. I very rarely see any need to create Views dynamically, tho configuration of ListViews, showing/hiding views, etc needs doing in code. For me the advantages of XML are:</p>\n\n<ul>\n<li>Ability to use layout editors (Eclipse)</li>\n<li>Easier to preview layouts</li>\n<li>Possible to benefit from auto-localisation of layouts</li>\n<li>Easily maintain different parallel layouts for difference devices (screens)</li>\n<li>Can get a sense of the layout by looking at it (easier than code)</li>\n<li>Easy to break layouts down into pieces (fragments, includes, etc) to remove duplication</li>\n<li>Keeps a separation between the visual design, and the functionality behind it</li>\n</ul>\n\n<p>I can't think of any good reasons to put all my layouts into code - that sounds like hell.</p>\n\n<p>I expect the reason your layouts don't look the same is because your XML is not defining the layouts correctly. Bear in mind the Android tools convert XML layouts into code, so there's no inherent problem with using XML layouts versus dynamic - both end up as code.</p>\n"},{"tags":[],"owner":{"account_id":395232,"reputation":7759,"user_id":758074,"accept_rate":89,"display_name":"Kevin Westwood"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332439103,"creation_date":1332439103,"answer_id":9827890,"question_id":9827819,"body_markdown":"It is much better to separate the layout and put it in the xml file.  I occasionally have to adjust the layout in code, but it is always an exception and only when I determine that it cannot be done in the layout .xml.  If you use the layout views correctly, the application should look very similar on all devices.","title":"Best practices: Layouts on Android (Programmatic vs XML)","body":"<p>It is much better to separate the layout and put it in the xml file.  I occasionally have to adjust the layout in code, but it is always an exception and only when I determine that it cannot be done in the layout .xml.  If you use the layout views correctly, the application should look very similar on all devices.</p>\n"},{"tags":[],"owner":{"account_id":52457,"reputation":5349,"user_id":156767,"accept_rate":62,"display_name":"Hounshell"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1332439368,"creation_date":1332439368,"answer_id":9827952,"question_id":9827819,"body_markdown":"I typically do a lot of work with highly customizable UIs, where large portions of it ***need*** to be done in code.  That being said, wherever possible I try to use layout fragments and inflate them, so as UI sections are added, removed, or rearranged I&#39;m still just doing some of the layout, not all of it.\r\n\r\nThat being said, it&#39;s not that hard doing layout via code.  The big advantage to it is compile-time checking.  I&#39;ll find issues that way faster than using the preview pane.  The preview pane can be nice for initial layout, but I use the Hierarchy Viewer for figuring out why my layouts don&#39;t look right.","title":"Best practices: Layouts on Android (Programmatic vs XML)","body":"<p>I typically do a lot of work with highly customizable UIs, where large portions of it <strong><em>need</em></strong> to be done in code.  That being said, wherever possible I try to use layout fragments and inflate them, so as UI sections are added, removed, or rearranged I'm still just doing some of the layout, not all of it.</p>\n\n<p>That being said, it's not that hard doing layout via code.  The big advantage to it is compile-time checking.  I'll find issues that way faster than using the preview pane.  The preview pane can be nice for initial layout, but I use the Hierarchy Viewer for figuring out why my layouts don't look right.</p>\n"},{"comments":[{"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"score":0,"creation_date":1442323037,"post_id":9837458,"comment_id":53027854,"body_markdown":"Thanks for your writeup - I still have a question on creating views programmatically, does that not take up more heap memory as you need to define everything in java code and hence wait for the GC to run to clean up memory? In some layouts, not all elements are interactive and therefore there is no need to create handlers for them. If you create these layouts on code, there will need to be handlers. If you create it on xml, you don&#39;t need handlers.","body":"Thanks for your writeup - I still have a question on creating views programmatically, does that not take up more heap memory as you need to define everything in java code and hence wait for the GC to run to clean up memory? In some layouts, not all elements are interactive and therefore there is no need to create handlers for them. If you create these layouts on code, there will need to be handlers. If you create it on xml, you don&#39;t need handlers."},{"owner":{"account_id":235245,"reputation":12957,"user_id":501932,"accept_rate":70,"display_name":"Fuzzical Logic"},"score":0,"creation_date":1445347150,"post_id":9837458,"comment_id":54278271,"body_markdown":"I don&#39;t happen to have the answer to that one. In theory, it depends heavily upon your handlers. The fact is that even XML generated layouts utilize prerender, render and postrender handlers, but these are mostly automatically handled. Some significant tests would have to be performed to come to any conclusion on this. What I can say is that simple handlers are sometimes more performant, but this may be indicative of either case.","body":"I don&#39;t happen to have the answer to that one. In theory, it depends heavily upon your handlers. The fact is that even XML generated layouts utilize prerender, render and postrender handlers, but these are mostly automatically handled. Some significant tests would have to be performed to come to any conclusion on this. What I can say is that simple handlers are sometimes more performant, but this may be indicative of either case."}],"tags":[],"owner":{"account_id":235245,"reputation":12957,"user_id":501932,"accept_rate":70,"display_name":"Fuzzical Logic"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1332497911,"creation_date":1332497911,"answer_id":9837458,"question_id":9827819,"body_markdown":"OckhamsRazor,\r\n\r\nThe answer **very** much depends on your needs, flexibility, and knowledge. The first thing to understand is that every Layout, whether created via XML or programmatically can be tweaked specifically or made to conform to many screens via properties.\r\n\r\n&gt; ... and somehow always find myself resorting to Java code in order to construct the layouts. In a professional development environment, is this acceptable?\r\n\r\nYes, it is. Android makes those available so you can do just that. However, the benefits of managing layouts via XML include standard MVC segregation, simpler debugging, and an easier time modifying the resource, if needed. Additionally, you may maintain multiple copies of Layouts depending on device configuration easily.\r\n\r\n&gt; ... has anyone really been able to develop apps with complex views purely using XML files?\r\n\r\nAbsolutely! There are some amazing programs that fully utilize XML rather than programmatic views. The key to them is how much information (that is non-standard view properties) is required from parental Views. Even in those cases there are ways to pass that information provided you know where and how to do so.\r\n\r\n&gt; Or am I doing something wrong?\r\n\r\nI don&#39;t think so. Honestly, I&#39;ve run both ways depending on need. I&#39;d say it really comes down to your lack of knowledge of the quirks. But the job **is** to get the job done. Here&#39;s an example: There are some times when I don&#39;t know how big everything needs to be until its run on the device, and there are times that I make the device conform to my layout&#39;s needs. Ultimately, I use the following chart to make my determinations.\r\n\r\n - Do I need information from parental Layouts that is aside from view properties\r\n - Do I need to dynamically size more than one element *independently*.\r\n - Is the View type pre-determined or will it change as well?\r\n\r\nIf the answer to 2 out of 3 of those is &quot;yes&quot;, I will use some level of programmatic layout. If not, I will go pure XML. That being said, programming is one of those professions that encourages ingenuity (provided it is safe) and nearly anything can be accomplished in any number of ways. Ultimately, I&#39;d say do whatever makes your job making quality apps easier. \r\n\r\nGoogle makes its recommendations based on their own knowledge of software programmers and their general practices. They also created the platform, so they know which things are optimized in which ways. Its all about experience and we all have our own. If you have trouble utilizing XML, its worth taking the time to figure out the quirks simply so that it is another tool to utilize. Also, it will give *you* the information you need to answer this question for yourself.\r\n\r\nTo sum things up: I could *say* chocolate is better, but if you like vanilla, you&#39;ll disagree. Be aware of the drawbacks and benefits of each and take the time to learn how to accomplish the same tasks with both methods. It will make you a better programmer and give you a better sense of when to use which technique.\r\n\r\nHope this helps,\r\n\r\nFuzzicalLogic ","title":"Best practices: Layouts on Android (Programmatic vs XML)","body":"<p>OckhamsRazor,</p>\n\n<p>The answer <strong>very</strong> much depends on your needs, flexibility, and knowledge. The first thing to understand is that every Layout, whether created via XML or programmatically can be tweaked specifically or made to conform to many screens via properties.</p>\n\n<blockquote>\n  <p>... and somehow always find myself resorting to Java code in order to construct the layouts. In a professional development environment, is this acceptable?</p>\n</blockquote>\n\n<p>Yes, it is. Android makes those available so you can do just that. However, the benefits of managing layouts via XML include standard MVC segregation, simpler debugging, and an easier time modifying the resource, if needed. Additionally, you may maintain multiple copies of Layouts depending on device configuration easily.</p>\n\n<blockquote>\n  <p>... has anyone really been able to develop apps with complex views purely using XML files?</p>\n</blockquote>\n\n<p>Absolutely! There are some amazing programs that fully utilize XML rather than programmatic views. The key to them is how much information (that is non-standard view properties) is required from parental Views. Even in those cases there are ways to pass that information provided you know where and how to do so.</p>\n\n<blockquote>\n  <p>Or am I doing something wrong?</p>\n</blockquote>\n\n<p>I don't think so. Honestly, I've run both ways depending on need. I'd say it really comes down to your lack of knowledge of the quirks. But the job <strong>is</strong> to get the job done. Here's an example: There are some times when I don't know how big everything needs to be until its run on the device, and there are times that I make the device conform to my layout's needs. Ultimately, I use the following chart to make my determinations.</p>\n\n<ul>\n<li>Do I need information from parental Layouts that is aside from view properties</li>\n<li>Do I need to dynamically size more than one element <em>independently</em>.</li>\n<li>Is the View type pre-determined or will it change as well?</li>\n</ul>\n\n<p>If the answer to 2 out of 3 of those is \"yes\", I will use some level of programmatic layout. If not, I will go pure XML. That being said, programming is one of those professions that encourages ingenuity (provided it is safe) and nearly anything can be accomplished in any number of ways. Ultimately, I'd say do whatever makes your job making quality apps easier. </p>\n\n<p>Google makes its recommendations based on their own knowledge of software programmers and their general practices. They also created the platform, so they know which things are optimized in which ways. Its all about experience and we all have our own. If you have trouble utilizing XML, its worth taking the time to figure out the quirks simply so that it is another tool to utilize. Also, it will give <em>you</em> the information you need to answer this question for yourself.</p>\n\n<p>To sum things up: I could <em>say</em> chocolate is better, but if you like vanilla, you'll disagree. Be aware of the drawbacks and benefits of each and take the time to learn how to accomplish the same tasks with both methods. It will make you a better programmer and give you a better sense of when to use which technique.</p>\n\n<p>Hope this helps,</p>\n\n<p>FuzzicalLogic </p>\n"},{"tags":[],"owner":{"account_id":420832,"reputation":89,"user_id":798736,"display_name":"Nido"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1400699747,"creation_date":1400699747,"answer_id":23791908,"question_id":9827819,"body_markdown":"It really depends on what type of project it is, or piece of a project, and what type of programmer you are.  Some people just prefer pure code, while others like leaning as much on other tools for design as possible.\r\n\r\nXML definitely has some benefits, like being able to switch between interface designs quickly.  For specific design themes that are repetitive, is definitely useful for most programmers.\r\n\r\nI personally prefer doing everything programmatically, and it is quicker for me to develop than writing XML, with the libraries and classes I have created.  XML is quicker straight out of the box.\r\n\r\nAs for performance, there really isn&#39;t a difference worth mentioning unless you are using the same view so repetitively, at the same time, to the point that it no longer fits on the screen many fold.  I did a test of how many text views Android could render on a Moto X - Android 4.4, and it couldn&#39;t get much over 5000, but there is never a purpose for that.  If you are at that point, you are either need to dynamically load and unload data or are just doing something very wrong to begin with.\r\n\r\nSo learn both sides of it, definitely get to know the pros and cons with your style of programming, because there is no right answer for everyone, and let loose and have fun.","title":"Best practices: Layouts on Android (Programmatic vs XML)","body":"<p>It really depends on what type of project it is, or piece of a project, and what type of programmer you are.  Some people just prefer pure code, while others like leaning as much on other tools for design as possible.</p>\n\n<p>XML definitely has some benefits, like being able to switch between interface designs quickly.  For specific design themes that are repetitive, is definitely useful for most programmers.</p>\n\n<p>I personally prefer doing everything programmatically, and it is quicker for me to develop than writing XML, with the libraries and classes I have created.  XML is quicker straight out of the box.</p>\n\n<p>As for performance, there really isn't a difference worth mentioning unless you are using the same view so repetitively, at the same time, to the point that it no longer fits on the screen many fold.  I did a test of how many text views Android could render on a Moto X - Android 4.4, and it couldn't get much over 5000, but there is never a purpose for that.  If you are at that point, you are either need to dynamically load and unload data or are just doing something very wrong to begin with.</p>\n\n<p>So learn both sides of it, definitely get to know the pros and cons with your style of programming, because there is no right answer for everyone, and let loose and have fun.</p>\n"}],"owner":{"account_id":270320,"reputation":4836,"user_id":560204,"accept_rate":78,"display_name":"OckhamsRazor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17641,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":9827887,"answer_count":5,"score":35,"last_activity_date":1696314457,"creation_date":1332438772,"question_id":9827819,"body_markdown":"This question has been bugging me for some time. I&#39;ve already developed a couple of apps on the Android platform and somehow always find myself resorting to Java code in order to construct the layouts. In a professional development environment, is this acceptable? Or should XML files be the go-to approach? I usually find XML a more tedious approach and often, these layouts don&#39;t look the same on all devices. I just don&#39;t get it. From a professional viewpoint, has anyone really been able to develop apps with complex views purely using XML files? This question is killing me because Google recommends using XML but the UI never looks the same on all devices unless done programmatically. Or am I doing something wrong?\r\n\r\nNote that I&#39;m referring to Android 2.2 and 2.3, which majority of the users use.","title":"Best practices: Layouts on Android (Programmatic vs XML)","body":"<p>This question has been bugging me for some time. I've already developed a couple of apps on the Android platform and somehow always find myself resorting to Java code in order to construct the layouts. In a professional development environment, is this acceptable? Or should XML files be the go-to approach? I usually find XML a more tedious approach and often, these layouts don't look the same on all devices. I just don't get it. From a professional viewpoint, has anyone really been able to develop apps with complex views purely using XML files? This question is killing me because Google recommends using XML but the UI never looks the same on all devices unless done programmatically. Or am I doing something wrong?</p>\n\n<p>Note that I'm referring to Android 2.2 and 2.3, which majority of the users use.</p>\n"},{"tags":["java","outlook","html-email"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696259429,"post_id":77216406,"comment_id":136126893,"body_markdown":"Yes, there are many Java libraries that can produce a HTML document. One example is Thymeleaf.","body":"Yes, there are many Java libraries that can produce a HTML document. One example is Thymeleaf."}],"answers":[{"tags":[],"owner":{"account_id":131793,"reputation":64015,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696314146,"creation_date":1696262599,"answer_id":77216957,"question_id":77216406,"body_markdown":"You cannot specify HTML body or attachments using the `mailto:` url. If you are running on the desktop, use Outlook Object Model: create an instance of the  `Outlook.Application` object, create new item using `Application.CreateItem(0)`, populate various `MailItem` properties (`To/CC/BCC`, Subject, `HTMLBody`, etc.), call `MailItem.Send`.","title":"Create Outlook email in HTML using Java application","body":"<p>You cannot specify HTML body or attachments using the <code>mailto:</code> url. If you are running on the desktop, use Outlook Object Model: create an instance of the  <code>Outlook.Application</code> object, create new item using <code>Application.CreateItem(0)</code>, populate various <code>MailItem</code> properties (<code>To/CC/BCC</code>, Subject, <code>HTMLBody</code>, etc.), call <code>MailItem.Send</code>.</p>\n"}],"owner":{"account_id":6564107,"reputation":11,"user_id":5074302,"display_name":"James Cafferkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1696384045,"answer_count":1,"score":0,"last_activity_date":1696314146,"creation_date":1696257745,"question_id":77216406,"body_markdown":"I have a Java application that I have shared with my team that connects to a database to filter what materials are needed for a job. I have a Java button currently that I use to open a email in plain text format in outlook so the user can forward to other people. The formatting is very basic, so I would like to create email using HTML format but I cannot see how to do this.\r\n\r\nI would not have other users SMTP details to automate the email. Is there any API out that can create a email (but not send) in Outlook and uses HTML formatting .\r\n\r\nCan Java interact with another language to do this? \r\n\r\n```\r\nDesktop.getDesktop().mail(new URI( &quot;mailto:email@gmail.com?subject=&quot;+subject+&quot;&amp;body=&quot;+body) );\r\n```\r\n\r\nThis does what I need by creating a email that is independent of username or password, so I can give the Java application to anyone, but it&#39;s all plain text format, so it looks basic.","title":"Create Outlook email in HTML using Java application","body":"<p>I have a Java application that I have shared with my team that connects to a database to filter what materials are needed for a job. I have a Java button currently that I use to open a email in plain text format in outlook so the user can forward to other people. The formatting is very basic, so I would like to create email using HTML format but I cannot see how to do this.</p>\n<p>I would not have other users SMTP details to automate the email. Is there any API out that can create a email (but not send) in Outlook and uses HTML formatting .</p>\n<p>Can Java interact with another language to do this?</p>\n<pre><code>Desktop.getDesktop().mail(new URI( &quot;mailto:email@gmail.com?subject=&quot;+subject+&quot;&amp;body=&quot;+body) );\n</code></pre>\n<p>This does what I need by creating a email that is independent of username or password, so I can give the Java application to anyone, but it's all plain text format, so it looks basic.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9986,"page":148,"page_size":100}
