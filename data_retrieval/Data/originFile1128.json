{"items":[{"tags":["java","android","camera","android-camera","android-framelayout"],"comments":[{"owner":{"account_id":2409973,"reputation":2470,"user_id":2105309,"accept_rate":44,"display_name":"Romain Pellerin"},"score":0,"creation_date":1459273913,"post_id":29352406,"comment_id":60208324,"body_markdown":"Hi, any chance you could share your whole code please? I&#39;m stuck with the same issue :/ Thank you","body":"Hi, any chance you could share your whole code please? I&#39;m stuck with the same issue :/ Thank you"},{"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"score":0,"creation_date":1460640743,"post_id":29352406,"comment_id":60845266,"body_markdown":"Hey, you may check this blog post. http://www.shakedos.com/2015/Aug/26/writing-an-android-portrait-camera-app.html The code is not up to date but should solves your issue","body":"Hey, you may check this blog post. <a href=\"http://www.shakedos.com/2015/Aug/26/writing-an-android-portrait-camera-app.html\" rel=\"nofollow noreferrer\">shakedos.com/2015/Aug/26/&hellip;</a> The code is not up to date but should solves your issue"},{"owner":{"account_id":2409973,"reputation":2470,"user_id":2105309,"accept_rate":44,"display_name":"Romain Pellerin"},"score":0,"creation_date":1460652304,"post_id":29352406,"comment_id":60854145,"body_markdown":"thanks. is that yours?","body":"thanks. is that yours?"},{"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"score":0,"creation_date":1460876160,"post_id":29352406,"comment_id":60937733,"body_markdown":"Its Shaked&#39;s blog. He did some work for us regarding to this issue.","body":"Its Shaked&#39;s blog. He did some work for us regarding to this issue."}],"answers":[{"tags":[],"owner":{"account_id":2321706,"reputation":6745,"user_id":2037269,"accept_rate":92,"display_name":"seanpj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1428259725,"creation_date":1428259725,"answer_id":29460922,"question_id":29352406,"body_markdown":"I managed successfully center the preview by setting gravity of SurfaceView:\r\n\r\n    FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(wid, hei);\r\n    lp.gravity = Gravity.CENTER;\r\n    mSv.setLayoutParams(lp);\r\n\r\nThe code snippet is taken from [here][1], and you&#39;re welcome to use the code if you have the patience to decipher it. I think I was solving similar issues (preview rotation, distortion, fit-in/fill)\r\n\r\nGood Luck.\r\n\r\n\r\n  [1]: https://github.com/seanpjanson/AndyCam/blob/master/src/main/java/com/andyscan/andycam/CamVw.java#L73","title":"Android full screen camera - while keeping the camera selected ratio","body":"<p>I managed successfully center the preview by setting gravity of SurfaceView:</p>\n\n<pre><code>FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(wid, hei);\nlp.gravity = Gravity.CENTER;\nmSv.setLayoutParams(lp);\n</code></pre>\n\n<p>The code snippet is taken from <a href=\"https://github.com/seanpjanson/AndyCam/blob/master/src/main/java/com/andyscan/andycam/CamVw.java#L73\" rel=\"noreferrer\">here</a>, and you're welcome to use the code if you have the patience to decipher it. I think I was solving similar issues (preview rotation, distortion, fit-in/fill)</p>\n\n<p>Good Luck.</p>\n"},{"tags":[],"owner":{"account_id":2094542,"reputation":17795,"user_id":1863627,"accept_rate":88,"display_name":"Andrew Campbell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428438653,"creation_date":1428438653,"answer_id":29500747,"question_id":29352406,"body_markdown":"If I&#39;m understanding from the code snippets, you are re-instantiating the camera everytime the user changes orientation or rotates the camera. Is there any reason to do that?\r\n\r\nWhy not restrict the preview to portrait only and have an overlaying view that rotates? I am pretty sure that is what others (Instagram,Snapchat, etc.) do. I will edit with an example of this, if I can find it.","title":"Android full screen camera - while keeping the camera selected ratio","body":"<p>If I'm understanding from the code snippets, you are re-instantiating the camera everytime the user changes orientation or rotates the camera. Is there any reason to do that?</p>\n\n<p>Why not restrict the preview to portrait only and have an overlaying view that rotates? I am pretty sure that is what others (Instagram,Snapchat, etc.) do. I will edit with an example of this, if I can find it.</p>\n"}],"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2255,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29460922,"answer_count":2,"score":6,"last_activity_date":1659877475,"creation_date":1427736215,"question_id":29352406,"body_markdown":"We are trying to build something similar to `Instagram` Camera screen. i.e allow the user taking `square` photos. While doing it out U.i must be able to let the user see the camera on `fullScreen` mode. We want to force the user to take an image in a `portrait` mode\r\n\r\n## Getting camera possible ratio&#39;s\r\n\r\nWe are calculating the `best` ratio available from `camera` by\r\n\r\n       private Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; sizes, int w, int h) {\r\n        final double ASPECT_TOLERANCE = 0.1;\r\n        double targetRatio = (double) h / w;\r\n\r\n        if (sizes == null) {\r\n            return null;\r\n        }\r\n\r\n        Camera.Size optimalSize = null;\r\n        double minDiff = Double.MAX_VALUE;\r\n\r\n        int targetHeight = h;\r\n\r\n        for (Camera.Size size : sizes) {\r\n            double ratio = (double) size.width / size.height;\r\n            if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE) {\r\n                continue;\r\n            }\r\n            if (Math.abs(size.height - targetHeight) &lt; minDiff) {\r\n                optimalSize = size;\r\n                minDiff = Math.abs(size.height - targetHeight);\r\n            }\r\n        }\r\n\r\n        if (optimalSize == null) {\r\n            minDiff = Double.MAX_VALUE;\r\n            for (Camera.Size size : sizes) {\r\n                if (Math.abs(size.height - targetHeight) &lt; minDiff) {\r\n                    optimalSize = size;\r\n                    minDiff = Math.abs(size.height - targetHeight);\r\n                }\r\n            }\r\n        }\r\n        return optimalSize;\r\n    }\r\n## Make it full screen. \r\n\r\n    public FrameLayout setCameraLayout(int width, int height) {\r\n         float newProportion = (float) width / (float) height;\r\n         // Get the width of the screen\r\n         int screenWidth =     this.customCameraActivity.getWindowManager().getDefaultDisplay()\r\n                .getWidth();\r\n         int screenHeight =    this.customCameraActivity.getWindowManager().getDefaultDisplay()\r\n                .getHeight();\r\n          float screenProportion = (float) screenWidth / (float) screenHeight;\r\n          // Get the SurfaceView layout parameters\r\n          ViewGroup.MarginLayoutParams lp = (ViewGroup.MarginLayoutParams)preview.getLayoutParams();\r\n        \r\n\r\n         if (newProportion &gt; screenProportion) {\r\n            lp.width = screenWidth;\r\n            lp.height = (int) ((float) screenWidth / newProportion);\r\n         } else {\r\n            lp.width = (int) (newProportion * (float) screenHeight);\r\n            lp.height = screenHeight;\r\n        }\r\n       \r\n        //calculate the amount that takes to make it full screen (in the `height` parameter)\r\n        float propHeight = screenHeight / lp.height;\r\n       \r\n        //make it full screen(\r\n        lp.width = (int)(lp.width * propHeight);\r\n        lp.height = (int)(lp.height * propHeight);\r\n\r\n        frameLayout.setLayoutParams(lp);\r\n        return frameLayout;\r\n\r\n    }\r\n\r\n## setCameraLayout callers\r\n\r\n`OnCreate` from the `Activity` and afterwards `surfaceChanged`\r\n\r\n     @Override\r\n     public void surfaceChanged(SurfaceHolder holder, int format, int width,\r\n                               int height) {\r\n        if (getHolder().getSurface() == null) {\r\n            return;\r\n        }\r\n        try {\r\n            cameraManager.getCamera().stopPreview();\r\n        } catch (Exception e) {\r\n            // tried to stop a non-existent preview\r\n        }\r\n\r\n        try {\r\n            Camera.Parameters cameraSettings = cameraManager.getCamera().getParameters();\r\n\r\n            cameraSettings.setPreviewSize(mPreviewSize.width, mPreviewSize.height);\r\n            this.cameraView.setCameraLayout(mPreviewSize.width, mPreviewSize.height);\r\n            cameraManager.getCamera().setParameters(cameraSettings);\r\n            cameraManager.getCamera().setPreviewDisplay(holder);\r\n\r\n            cameraManager.getCamera().startPreview();\r\n        } catch (Exception e) {\r\n            Log.d(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n## Goal \r\n\r\nFullscreen camera preview on phone.\r\n\r\n## The problem\r\n\r\nNow we are getting the preview with no distortion which is **GOOD!** and it has the same `height` as the `phone` as well which is also **GOOD!**. **But!** the width of the `preview` is bigger  than the `phone width` (of-course) so it turns out the the center of the camera is not on the center of the phone. Possible solutions we have thought about:\r\n\r\n1. `move` the layout left to negative position to make the preview center in the center of the screen.\r\n1. `crop` the layout  and draw only the center of the `new preview` that should be visible to the `phone screens`\r\n\r\n## Any ideas how to overcome this issue? ","title":"Android full screen camera - while keeping the camera selected ratio","body":"<p>We are trying to build something similar to <code>Instagram</code> Camera screen. i.e allow the user taking <code>square</code> photos. While doing it out U.i must be able to let the user see the camera on <code>fullScreen</code> mode. We want to force the user to take an image in a <code>portrait</code> mode</p>\n<h2>Getting camera possible ratio's</h2>\n<p>We are calculating the <code>best</code> ratio available from <code>camera</code> by</p>\n<pre><code>   private Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; sizes, int w, int h) {\n    final double ASPECT_TOLERANCE = 0.1;\n    double targetRatio = (double) h / w;\n\n    if (sizes == null) {\n        return null;\n    }\n\n    Camera.Size optimalSize = null;\n    double minDiff = Double.MAX_VALUE;\n\n    int targetHeight = h;\n\n    for (Camera.Size size : sizes) {\n        double ratio = (double) size.width / size.height;\n        if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE) {\n            continue;\n        }\n        if (Math.abs(size.height - targetHeight) &lt; minDiff) {\n            optimalSize = size;\n            minDiff = Math.abs(size.height - targetHeight);\n        }\n    }\n\n    if (optimalSize == null) {\n        minDiff = Double.MAX_VALUE;\n        for (Camera.Size size : sizes) {\n            if (Math.abs(size.height - targetHeight) &lt; minDiff) {\n                optimalSize = size;\n                minDiff = Math.abs(size.height - targetHeight);\n            }\n        }\n    }\n    return optimalSize;\n}\n</code></pre>\n<h2>Make it full screen.</h2>\n<pre><code>public FrameLayout setCameraLayout(int width, int height) {\n     float newProportion = (float) width / (float) height;\n     // Get the width of the screen\n     int screenWidth =     this.customCameraActivity.getWindowManager().getDefaultDisplay()\n            .getWidth();\n     int screenHeight =    this.customCameraActivity.getWindowManager().getDefaultDisplay()\n            .getHeight();\n      float screenProportion = (float) screenWidth / (float) screenHeight;\n      // Get the SurfaceView layout parameters\n      ViewGroup.MarginLayoutParams lp = (ViewGroup.MarginLayoutParams)preview.getLayoutParams();\n    \n\n     if (newProportion &gt; screenProportion) {\n        lp.width = screenWidth;\n        lp.height = (int) ((float) screenWidth / newProportion);\n     } else {\n        lp.width = (int) (newProportion * (float) screenHeight);\n        lp.height = screenHeight;\n    }\n   \n    //calculate the amount that takes to make it full screen (in the `height` parameter)\n    float propHeight = screenHeight / lp.height;\n   \n    //make it full screen(\n    lp.width = (int)(lp.width * propHeight);\n    lp.height = (int)(lp.height * propHeight);\n\n    frameLayout.setLayoutParams(lp);\n    return frameLayout;\n\n}\n</code></pre>\n<h2>setCameraLayout callers</h2>\n<p><code>OnCreate</code> from the <code>Activity</code> and afterwards <code>surfaceChanged</code></p>\n<pre><code> @Override\n public void surfaceChanged(SurfaceHolder holder, int format, int width,\n                           int height) {\n    if (getHolder().getSurface() == null) {\n        return;\n    }\n    try {\n        cameraManager.getCamera().stopPreview();\n    } catch (Exception e) {\n        // tried to stop a non-existent preview\n    }\n\n    try {\n        Camera.Parameters cameraSettings = cameraManager.getCamera().getParameters();\n\n        cameraSettings.setPreviewSize(mPreviewSize.width, mPreviewSize.height);\n        this.cameraView.setCameraLayout(mPreviewSize.width, mPreviewSize.height);\n        cameraManager.getCamera().setParameters(cameraSettings);\n        cameraManager.getCamera().setPreviewDisplay(holder);\n\n        cameraManager.getCamera().startPreview();\n    } catch (Exception e) {\n        Log.d(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<h2>Goal</h2>\n<p>Fullscreen camera preview on phone.</p>\n<h2>The problem</h2>\n<p>Now we are getting the preview with no distortion which is <strong>GOOD!</strong> and it has the same <code>height</code> as the <code>phone</code> as well which is also <strong>GOOD!</strong>. <strong>But!</strong> the width of the <code>preview</code> is bigger  than the <code>phone width</code> (of-course) so it turns out the the center of the camera is not on the center of the phone. Possible solutions we have thought about:</p>\n<ol>\n<li><code>move</code> the layout left to negative position to make the preview center in the center of the screen.</li>\n<li><code>crop</code> the layout  and draw only the center of the <code>new preview</code> that should be visible to the <code>phone screens</code></li>\n</ol>\n<h2>Any ideas how to overcome this issue?</h2>\n"},{"tags":["java","android","bash","shell","kotlin"],"answers":[{"tags":[],"owner":{"account_id":26000273,"reputation":123,"user_id":19710930,"display_name":"mendacium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659876449,"creation_date":1659876449,"answer_id":73267544,"question_id":73267515,"body_markdown":"Sounds like you need a keylogger/listener that can execute your command.","title":"How to start a bash script with a particular word (TextChangedListener), in Android","body":"<p>Sounds like you need a keylogger/listener that can execute your command.</p>\n"}],"owner":{"account_id":21239565,"reputation":17,"user_id":15623276,"display_name":"shohel hossain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659876449,"creation_date":1659876175,"question_id":73267515,"body_markdown":"I have designed a foreground application with accessibility and now I want to add a feature that whenever the user types a particular word say example HELP at any application For Example google or any notepad then a bash script would be executed\r\n\r\nI got to know that bash script or adb shell commands can be executed with `Runtime.getRuntime().exec(myCommand);`\r\n\r\nnow please help me figure out how can we use it whenever a particular word is typed at any application in android (and also help me in which class I should write the code and things I need to import)","title":"How to start a bash script with a particular word (TextChangedListener), in Android","body":"<p>I have designed a foreground application with accessibility and now I want to add a feature that whenever the user types a particular word say example HELP at any application For Example google or any notepad then a bash script would be executed</p>\n<p>I got to know that bash script or adb shell commands can be executed with <code>Runtime.getRuntime().exec(myCommand);</code></p>\n<p>now please help me figure out how can we use it whenever a particular word is typed at any application in android (and also help me in which class I should write the code and things I need to import)</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1659871869,"post_id":73266893,"comment_id":129393336,"body_markdown":"You could make `findAccountByIBAN` return an `Optional&lt;Account&gt;` and continue with your `ifPresent` check in your `depositToAccount` method.","body":"You could make <code>findAccountByIBAN</code> return an <code>Optional&lt;Account&gt;</code> and continue with your <code>ifPresent</code> check in your <code>depositToAccount</code> method."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659876393,"creation_date":1659873306,"answer_id":73267190,"question_id":73266893,"body_markdown":"&gt; The crux of my problem is that I **want to keep iterating** over that method **with different things**. I want to use `filter()` for my conditional logic instead of `if`-statements, but I cannot do that unless I can work with the result of my method as a stream.\r\n\r\nIt feels like you want to extend the logic by reusing the stream?\r\n\r\n*Stream* is a *one-time-use* mean of iteration. Once it produces the *result* or does the *final action* accordingly with its *terminal operation*, it gets **closed** and can&#39;t be used any further.\r\n\r\nYou have to place all the needed logic in the stream, there&#39;s no workaround.\r\n\r\nBut stream might produce an object with effectively encapsulates several resulting values (example from the JDK - *SummaryStatistics* classes like \r\n[`IntSummaryStatistics`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/IntSummaryStatistics.html)). And you can create a custom class for such a purpose.\r\n\r\nAlso, ***reminder***: `Predicate`s, `Function`s, etc. don&#39;t necessarily have to be hard-coded, you can provide them as method parameters.\r\n\r\n___________________________________________________\r\n\r\nNow, a word regarding the different versions of the code you&#39;ve shared.\r\n\r\nFrom the perspective of clean coding, the last version of the `depositToAccount()` isn&#39;t very great because it mixes the *responsibilities* of ***finding*** the *account* by `clientIBAN` and ***making operation*** with this *account*. It&#39;s better to keep the **separately**, like in your first version, as the [*Single responsibility principle*](https://en.wikipedia.org/wiki/Single-responsibility_principle) suggest.\r\n\r\nAnd there&#39;s a couple of things which are worth to point out:\r\n\r\n* In the first version, you&#39;re not checking whether the result returned by `findAccountByIBAN()` is not `null` which might result in a `NullPointerException`.\r\n\r\n* As *@Eritrean* has mentioned in the comments, instead of returning `null` from `findAccountByIBAN()` if a result was not found, it would be better to change the return type to `Optional&lt;Account&gt;` in order to be able to leverage the Optional API.","title":"Is there a way to continue working with the result of a method call as a Stream with Functional Java?","body":"<blockquote>\n<p>The crux of my problem is that I <strong>want to keep iterating</strong> over that method <strong>with different things</strong>. I want to use <code>filter()</code> for my conditional logic instead of <code>if</code>-statements, but I cannot do that unless I can work with the result of my method as a stream.</p>\n</blockquote>\n<p>It feels like you want to extend the logic by reusing the stream?</p>\n<p><em>Stream</em> is a <em>one-time-use</em> mean of iteration. Once it produces the <em>result</em> or does the <em>final action</em> accordingly with its <em>terminal operation</em>, it gets <strong>closed</strong> and can't be used any further.</p>\n<p>You have to place all the needed logic in the stream, there's no workaround.</p>\n<p>But stream might produce an object with effectively encapsulates several resulting values (example from the JDK - <em>SummaryStatistics</em> classes like\n<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/IntSummaryStatistics.html\" rel=\"nofollow noreferrer\"><code>IntSummaryStatistics</code></a>). And you can create a custom class for such a purpose.</p>\n<p>Also, <em><strong>reminder</strong></em>: <code>Predicate</code>s, <code>Function</code>s, etc. don't necessarily have to be hard-coded, you can provide them as method parameters.</p>\n<hr />\n<p>Now, a word regarding the different versions of the code you've shared.</p>\n<p>From the perspective of clean coding, the last version of the <code>depositToAccount()</code> isn't very great because it mixes the <em>responsibilities</em> of <em><strong>finding</strong></em> the <em>account</em> by <code>clientIBAN</code> and <em><strong>making operation</strong></em> with this <em>account</em>. It's better to keep the <strong>separately</strong>, like in your first version, as the <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\"><em>Single responsibility principle</em></a> suggest.</p>\n<p>And there's a couple of things which are worth to point out:</p>\n<ul>\n<li><p>In the first version, you're not checking whether the result returned by <code>findAccountByIBAN()</code> is not <code>null</code> which might result in a <code>NullPointerException</code>.</p>\n</li>\n<li><p>As <em>@Eritrean</em> has mentioned in the comments, instead of returning <code>null</code> from <code>findAccountByIBAN()</code> if a result was not found, it would be better to change the return type to <code>Optional&lt;Account&gt;</code> in order to be able to leverage the Optional API.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":26000083,"reputation":11,"user_id":19710761,"display_name":"JavaRWolf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659876393,"creation_date":1659870589,"question_id":73266893,"body_markdown":"I&#39;m fairly new to functional programming in Java, and I&#39;m still experimenting with the code represented below.\r\n\r\nI&#39;ve created a method which for finding an Object within an *Array* \r\nusing stream.\r\n\r\nMethod for finding an `Account` with provided `clientIBAN`:\r\n\r\n    public static Account findAccountByIBAN(String clientIBAN) {\r\n    \r\n        return bankAccounts.stream()\r\n            .filter(account -&gt; account.getIBAN()\r\n                .equals(clientIBAN)).findFirst()\r\n            .orElse(null);\r\n    }\r\n\r\nI want to continue working with the result returned by this method.\r\n\r\nMy idea is to modify the result in the calling method. I want to know if there is a more elegant way to do that than the one I came up with?\r\n\r\nMethod that changes the state of the `Account`:\r\n\r\n    public static void depositToAccount(String clientIBAN, BigDecimal depositedAmount) {\r\n        \r\n        findAccountByIBAN(clientIBAN)\r\n            .setAccountBalance(findAccountByIBAN(clientIBAN)\r\n                .getAccountBalance()\r\n                .add(depositedAmount));\r\n    }\r\n\r\nAnother option I was thinking of is just to iterate over *accounts* with a stream write inside `depositToAccount()` instead of calling `findAccountByIBAN()`:\r\n\r\n    public static void depositToAccount(String clientIBAN, BigDecimal depositedAmount) {\r\n        bankAccounts.stream()\r\n            .filter(account -&gt; account.getIBAN()\r\n                .equals(clientIBAN)).findFirst()\r\n            .ifPresent(balance -&gt; \r\n                balance.setAccountBalance(balance.getAccountBalance().add(depositedAmount)));\r\n    }\r\n\r\nThe crux of my problem is that I want to keep iterating over that method with different things. I want to use `filter()` for my conditional logic instead of `if`-statements, but I cannot do that unless I can work with the result of my method as a stream.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there a way to continue working with the result of a method call as a Stream with Functional Java?","body":"<p>I'm fairly new to functional programming in Java, and I'm still experimenting with the code represented below.</p>\n<p>I've created a method which for finding an Object within an <em>Array</em>\nusing stream.</p>\n<p>Method for finding an <code>Account</code> with provided <code>clientIBAN</code>:</p>\n<pre><code>public static Account findAccountByIBAN(String clientIBAN) {\n\n    return bankAccounts.stream()\n        .filter(account -&gt; account.getIBAN()\n            .equals(clientIBAN)).findFirst()\n        .orElse(null);\n}\n</code></pre>\n<p>I want to continue working with the result returned by this method.</p>\n<p>My idea is to modify the result in the calling method. I want to know if there is a more elegant way to do that than the one I came up with?</p>\n<p>Method that changes the state of the <code>Account</code>:</p>\n<pre><code>public static void depositToAccount(String clientIBAN, BigDecimal depositedAmount) {\n    \n    findAccountByIBAN(clientIBAN)\n        .setAccountBalance(findAccountByIBAN(clientIBAN)\n            .getAccountBalance()\n            .add(depositedAmount));\n}\n</code></pre>\n<p>Another option I was thinking of is just to iterate over <em>accounts</em> with a stream write inside <code>depositToAccount()</code> instead of calling <code>findAccountByIBAN()</code>:</p>\n<pre><code>public static void depositToAccount(String clientIBAN, BigDecimal depositedAmount) {\n    bankAccounts.stream()\n        .filter(account -&gt; account.getIBAN()\n            .equals(clientIBAN)).findFirst()\n        .ifPresent(balance -&gt; \n            balance.setAccountBalance(balance.getAccountBalance().add(depositedAmount)));\n}\n</code></pre>\n<p>The crux of my problem is that I want to keep iterating over that method with different things. I want to use <code>filter()</code> for my conditional logic instead of <code>if</code>-statements, but I cannot do that unless I can work with the result of my method as a stream.</p>\n"},{"tags":["java","xml","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659872310,"post_id":73267076,"comment_id":129393422,"body_markdown":"Stop using the outdated xml configuration in spring. Use the java configuration instead","body":"Stop using the outdated xml configuration in spring. Use the java configuration instead"},{"owner":{"account_id":7279640,"reputation":46,"user_id":5549819,"display_name":"lap hoanglap"},"score":0,"creation_date":1659872363,"post_id":73267076,"comment_id":129393435,"body_markdown":"i tried both of them for learning :D","body":"i tried both of them for learning :D"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659872529,"post_id":73267076,"comment_id":129393462,"body_markdown":"Why you learn outdated things?","body":"Why you learn outdated things?"},{"owner":{"account_id":7279640,"reputation":46,"user_id":5549819,"display_name":"lap hoanglap"},"score":0,"creation_date":1659898595,"post_id":73267076,"comment_id":129399093,"body_markdown":"I need to upgrade an old project","body":"I need to upgrade an old project"}],"answers":[{"tags":[],"owner":{"account_id":21417136,"reputation":2183,"user_id":15777370,"display_name":"vszholobov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659876373,"creation_date":1659875335,"answer_id":73267420,"question_id":73267076,"body_markdown":"`restExecution` `@Pointcut` is wrong, because `rest` method of `GrammyGuitarist` doesn&#39;t take any arguments. `playGuitar` method takes `brand` argument, so you need to change your pointcut a bit:\r\n```\r\n@Component(&quot;annotatedAdvice&quot;)\r\n@Aspect\r\npublic class AnnotatedAdvice {\r\n    @Pointcut(&quot;execution(* play*(..)) &amp;&amp; args(brand)&quot;)\r\n    public void playExecution(String brand) {\r\n\r\n    }\r\n\r\n    @Pointcut(&quot;bean(grammyGuitarist)&quot;)\r\n    public void isGrammyGuitarist() {\r\n\r\n    }\r\n\r\n    @Before(&quot;playExecution(brand) &amp;&amp; isGrammyGuitarist()&quot;)\r\n    public void simpleBeforeAdvice(JoinPoint joinPoint, String brand) {\r\n        System.out.println(&quot;Before Advice processing&quot;);\r\n        System.out.println(&quot;Playing guitar :&quot; + brand);\r\n        System.out.println(&quot;Executing :&quot; + joinPoint.getSignature().getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName());\r\n\r\n    }\r\n}\r\n``` \r\nWhen you do this, aspects will indeed be created, but you will start getting exceptions:\r\n```\r\nBean named &#39;grammyGuitarist&#39; is expected to be of type &#39;com.example.demo.aspect.GrammyGuitarist&#39; but was actually of type &#39;jdk.proxy2.$Proxy14&#39;\r\n```\r\nThis is because `GrammyGuitarist` implements an interface, and [in this case `Spring AOP` uses JDK dynamic proxies](https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html)\r\n\r\nThe simplest solution would be to force the use of a CGLIB proxy. To do this, you need to add an annotation above the aspect:\r\n```\r\n@EnableAspectJAutoProxy(proxyTargetClass = true)\r\n```\r\nAfter that, the program will give the expected result:\r\n```\r\nannotatedAdvice\r\ndocumentaries\r\ngrammyGuitarist\r\norg.springframework.aop.config.internalAutoProxyCreator\r\nBefore Advice processing\r\nPlaying guitar :LakeWood\r\nExecuting :com.example.demo.aspect.GrammyGuitarist playGuitar\r\nGet Guitar LakeWood\r\nStart to play guitar\r\nzzZZ!!!!\r\n```\r\nIn Spring Boot, CGLIB enforcement is enabled by default. Check [this question for better understanding](https://stackoverflow.com/questions/73231258/spring-boot-default-proxying-mechanism)","title":"Spring Bean Config","body":"<p><code>restExecution</code> <code>@Pointcut</code> is wrong, because <code>rest</code> method of <code>GrammyGuitarist</code> doesn't take any arguments. <code>playGuitar</code> method takes <code>brand</code> argument, so you need to change your pointcut a bit:</p>\n<pre><code>@Component(&quot;annotatedAdvice&quot;)\n@Aspect\npublic class AnnotatedAdvice {\n    @Pointcut(&quot;execution(* play*(..)) &amp;&amp; args(brand)&quot;)\n    public void playExecution(String brand) {\n\n    }\n\n    @Pointcut(&quot;bean(grammyGuitarist)&quot;)\n    public void isGrammyGuitarist() {\n\n    }\n\n    @Before(&quot;playExecution(brand) &amp;&amp; isGrammyGuitarist()&quot;)\n    public void simpleBeforeAdvice(JoinPoint joinPoint, String brand) {\n        System.out.println(&quot;Before Advice processing&quot;);\n        System.out.println(&quot;Playing guitar :&quot; + brand);\n        System.out.println(&quot;Executing :&quot; + joinPoint.getSignature().getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName());\n\n    }\n}\n</code></pre>\n<p>When you do this, aspects will indeed be created, but you will start getting exceptions:</p>\n<pre><code>Bean named 'grammyGuitarist' is expected to be of type 'com.example.demo.aspect.GrammyGuitarist' but was actually of type 'jdk.proxy2.$Proxy14'\n</code></pre>\n<p>This is because <code>GrammyGuitarist</code> implements an interface, and <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\" rel=\"nofollow noreferrer\">in this case <code>Spring AOP</code> uses JDK dynamic proxies</a></p>\n<p>The simplest solution would be to force the use of a CGLIB proxy. To do this, you need to add an annotation above the aspect:</p>\n<pre><code>@EnableAspectJAutoProxy(proxyTargetClass = true)\n</code></pre>\n<p>After that, the program will give the expected result:</p>\n<pre><code>annotatedAdvice\ndocumentaries\ngrammyGuitarist\norg.springframework.aop.config.internalAutoProxyCreator\nBefore Advice processing\nPlaying guitar :LakeWood\nExecuting :com.example.demo.aspect.GrammyGuitarist playGuitar\nGet Guitar LakeWood\nStart to play guitar\nzzZZ!!!!\n</code></pre>\n<p>In Spring Boot, CGLIB enforcement is enabled by default. Check <a href=\"https://stackoverflow.com/questions/73231258/spring-boot-default-proxying-mechanism\">this question for better understanding</a></p>\n"}],"owner":{"account_id":7279640,"reputation":46,"user_id":5549819,"display_name":"lap hoanglap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1659876373,"creation_date":1659872232,"question_id":73267076,"body_markdown":"I&#39;m learning the bean AOP with Annotation and xml config but Spring does not create the beans. \r\n\r\n\r\n\r\nInterface\r\n\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\npublic interface Artist {\r\n    void perform();\r\n}\r\n```\r\nGuitar Class\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component(&quot;grammyGuitarist&quot;)\r\npublic class GrammyGuitarist implements Artist{\r\n\r\n    @Override\r\n    public void perform() {\r\n        System.out.println(&quot;Start to play guitar&quot;);\r\n    }\r\n\r\n    public void playGuitar(String brand)\r\n    {\r\n        System.out.println(&quot;Get Guitar &quot;+brand);\r\n    }\r\n    public void rest()\r\n    {\r\n        System.out.println(&quot;zzZZ!!!!&quot;);\r\n    }\r\n}\r\n```\r\nDocumentarist\r\n\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component(value=&quot;documentaries&quot;)\r\npublic class Documentarist {\r\n    private GrammyGuitarist guitarist;\r\n    public void executed()\r\n    {\r\n        guitarist.playGuitar(&quot;LakeWood&quot;);\r\n        guitarist.perform();\r\n        guitarist.rest();\r\n    }\r\n\r\n    @Autowired\r\n    public void setGuitarist(GrammyGuitarist guitarist) {\r\n        this.guitarist = guitarist;\r\n    }\r\n}\r\n```\r\n\r\nAdvice Class\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component(&quot;annotatedAdvice&quot;)\r\n@Aspect\r\npublic class AnnotatedAdvice {\r\n    @Pointcut(&quot;execution(* rest*(..)) &amp;&amp; args(brand)&quot;)\r\n    public void restExecution(String brand)\r\n    {\r\n\r\n    }\r\n\r\n    @Pointcut(&quot;bean(grammyGuitarist)&quot;)\r\n    public void isGrammyGuitarist()\r\n    {\r\n\r\n    }\r\n\r\n    @Before(&quot;restExecution(brand) &amp;&amp; isGrammyGuitarist&quot;)\r\n    public void simpleBeforeAdvice(JoinPoint joinPoint , String brand)\r\n    {\r\n        System.out.println(&quot;Before Advice processing&quot;);\r\n        System.out.println(&quot;Playing guitar :&quot; + brand);\r\n        System.out.println(&quot;Executing :&quot;+ joinPoint.getSignature().getDeclaringTypeName() +&quot; &quot;+joinPoint.getSignature().getName());\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nDemo Class\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\nimport org.springframework.context.support.GenericXmlApplicationContext;\r\n\r\nimport java.util.Arrays;\r\n\r\n\r\npublic class AspectJAnnotationDemo {\r\n    public static void main(String[] args) {\r\n        GenericXmlApplicationContext ctx = new GenericXmlApplicationContext();\r\n        ctx.load(&quot;aop-aspectj-annotation-style.xml&quot;);\r\n        ctx.refresh();\r\n        Arrays.stream(ctx.getBeanDefinitionNames()).forEach(System.out::println);\r\n        Documentarist documentarist = ctx.getBean(&quot;documentaries&quot;,Documentarist.class);\r\n        documentarist.executed();\r\n    }\r\n}\r\n```\r\nMy Xml Config File \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context.xsd\r\n    http://www.springframework.org/schema/aop\r\n    http://www.springframework.org/schema/aop/spring-aop.xsd\r\n    &quot;&gt;\r\n    &lt;context:annotation-config/&gt;\r\n    &lt;context:component-scan base-package=&quot;com.spring.studying.SpringAop&quot;/&gt;\r\n\r\n\r\n    &lt;aop:aspectj-autoproxy/&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nNone of my beans were created just 6 default beans from spring.\r\n\r\nI have try to create bean with &lt;bean&gt; tag and it worked fine . Just don&#39;t know why my code did not work with the annotation.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Bean Config","body":"<p>I'm learning the bean AOP with Annotation and xml config but Spring does not create the beans.</p>\n<p>Interface</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\npublic interface Artist {\n    void perform();\n}\n</code></pre>\n<p>Guitar Class</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\n\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;grammyGuitarist&quot;)\npublic class GrammyGuitarist implements Artist{\n\n    @Override\n    public void perform() {\n        System.out.println(&quot;Start to play guitar&quot;);\n    }\n\n    public void playGuitar(String brand)\n    {\n        System.out.println(&quot;Get Guitar &quot;+brand);\n    }\n    public void rest()\n    {\n        System.out.println(&quot;zzZZ!!!!&quot;);\n    }\n}\n</code></pre>\n<p>Documentarist</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component(value=&quot;documentaries&quot;)\npublic class Documentarist {\n    private GrammyGuitarist guitarist;\n    public void executed()\n    {\n        guitarist.playGuitar(&quot;LakeWood&quot;);\n        guitarist.perform();\n        guitarist.rest();\n    }\n\n    @Autowired\n    public void setGuitarist(GrammyGuitarist guitarist) {\n        this.guitarist = guitarist;\n    }\n}\n</code></pre>\n<p>Advice Class</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;annotatedAdvice&quot;)\n@Aspect\npublic class AnnotatedAdvice {\n    @Pointcut(&quot;execution(* rest*(..)) &amp;&amp; args(brand)&quot;)\n    public void restExecution(String brand)\n    {\n\n    }\n\n    @Pointcut(&quot;bean(grammyGuitarist)&quot;)\n    public void isGrammyGuitarist()\n    {\n\n    }\n\n    @Before(&quot;restExecution(brand) &amp;&amp; isGrammyGuitarist&quot;)\n    public void simpleBeforeAdvice(JoinPoint joinPoint , String brand)\n    {\n        System.out.println(&quot;Before Advice processing&quot;);\n        System.out.println(&quot;Playing guitar :&quot; + brand);\n        System.out.println(&quot;Executing :&quot;+ joinPoint.getSignature().getDeclaringTypeName() +&quot; &quot;+joinPoint.getSignature().getName());\n\n    }\n\n}\n</code></pre>\n<p>Demo Class</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\nimport org.springframework.context.support.GenericXmlApplicationContext;\n\nimport java.util.Arrays;\n\n\npublic class AspectJAnnotationDemo {\n    public static void main(String[] args) {\n        GenericXmlApplicationContext ctx = new GenericXmlApplicationContext();\n        ctx.load(&quot;aop-aspectj-annotation-style.xml&quot;);\n        ctx.refresh();\n        Arrays.stream(ctx.getBeanDefinitionNames()).forEach(System.out::println);\n        Documentarist documentarist = ctx.getBean(&quot;documentaries&quot;,Documentarist.class);\n        documentarist.executed();\n    }\n}\n</code></pre>\n<p>My Xml Config File</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context.xsd\n    http://www.springframework.org/schema/aop\n    http://www.springframework.org/schema/aop/spring-aop.xsd\n    &quot;&gt;\n    &lt;context:annotation-config/&gt;\n    &lt;context:component-scan base-package=&quot;com.spring.studying.SpringAop&quot;/&gt;\n\n\n    &lt;aop:aspectj-autoproxy/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>None of my beans were created just 6 default beans from spring.</p>\n<p>I have try to create bean with  tag and it worked fine . Just don't know why my code did not work with the annotation.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-async"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1659875307,"post_id":73267386,"comment_id":129394084,"body_markdown":"Have you enabled `@Async` support?","body":"Have you enabled <code>@Async</code> support?"},{"owner":{"account_id":13687384,"reputation":119,"user_id":9876163,"display_name":"Amit Kumar"},"score":0,"creation_date":1659875513,"post_id":73267386,"comment_id":129394135,"body_markdown":"Thanks, missed that part .\nAdded following annotation\n#EnableAsync\n#EnableScheduling","body":"Thanks, missed that part . Added following annotation #EnableAsync #EnableScheduling"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":1,"creation_date":1659875575,"post_id":73267386,"comment_id":129394144,"body_markdown":"why not use webflux to consume the third party api call? it will give you advanced support similar to async.","body":"why not use webflux to consume the third party api call? it will give you advanced support similar to async."},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":1,"creation_date":1659875764,"post_id":73267386,"comment_id":129394186,"body_markdown":"You need to enable async @EnableAsync to make it work.","body":"You need to enable async @EnableAsync to make it work."}],"owner":{"account_id":13687384,"reputation":119,"user_id":9876163,"display_name":"Amit Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659875027,"creation_date":1659875027,"question_id":73267386,"body_markdown":"I am trying to fetch the data and store it in database.\r\n\r\nCreated a Get mapping for invoking the data from url and storing it in database using service class .\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String root(Model model) throws IOException {\r\n    \tmodel.addAttribute(&quot;test1&quot;,&quot;Hello user&quot;);\r\n   \t   \tservice.populate();\r\n    \treturn &quot;mainTemplate&quot;;\r\n    }\r\n\r\nmy populate method in service class add data to database.\r\n\r\n    public void populate() throws IOException{\r\n    \t\tURL url = new URL(&quot;https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/01-01-2021.csv&quot;); \r\n    \t\tHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n    \t\tint res= connection.getResponseCode();\r\n    \t\tCSVReader reader=null;\r\n    \t\tif(res==200) {\r\n    \t\tlog.info(&quot;Connected to github&quot;);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t  BufferedReader readurl = new BufferedReader(new InputStreamReader(connection.getInputStream()),8192);\r\n    \t\t\treader=new CSVReader(readurl);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tString[] line;\r\n    \t\t\tint i=0;\r\n    \t\t\twhile((line=reader.readNext())!=null) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(i==0) {\r\n    \t\t\t\t\ti++;\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \t\t\t\tCorona corona = new Corona();\r\n    \t\t\t\tcorona.setLastupDate(LocalDateTime.parse(line[4],formatter));\r\n    \t\t\t\tcorona.setConfirmed(Long.valueOf(line[7]));\r\n    \t\t\t\tcorona.setRecovered(Long.valueOf(line[9]));\r\n    \t\t\t\tcorona.setActive(Long.valueOf(line[10]));\r\n    \t\t\t\tcorona.setCombinedKey(line[11]);\r\n    \t\t\t\tlog.info(corona.toString());\r\n    \t\t\t\trepo.save(corona);\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (CsvValidationException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t\tfinally {\r\n    \t\t\tif(reader!=null) {\r\n    \t\t\t\t\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\treader.close();\r\n    \t\t\t\t\t\r\n    \t\t\t\t} catch (IOException e2) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t\te2.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tlog.info(&quot;URL is wrong&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n\r\nEverything is working fine when i hit the resource url ,but i have to wait for some time to show my webpage , until all data does not get stored in database.\r\n\r\nI want to show **&quot;Data is being added&quot;** in mainTemplate.html as soon as i hit the url. So that my populate method runs in background and i don&#39;t have to wait for completion of method to show my mainTemplate .\r\n\r\nI tired to add `@Async` method annotation but that does not seem to be worked .\r\n\r\n\r\n \r\n\r\n\r\n","title":"How to run the method in background while i am adding the data in database in springboot?","body":"<p>I am trying to fetch the data and store it in database.</p>\n<p>Created a Get mapping for invoking the data from url and storing it in database using service class .</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic String root(Model model) throws IOException {\n    model.addAttribute(&quot;test1&quot;,&quot;Hello user&quot;);\n    service.populate();\n    return &quot;mainTemplate&quot;;\n}\n</code></pre>\n<p>my populate method in service class add data to database.</p>\n<pre><code>public void populate() throws IOException{\n        URL url = new URL(&quot;https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/01-01-2021.csv&quot;); \n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        int res= connection.getResponseCode();\n        CSVReader reader=null;\n        if(res==200) {\n        log.info(&quot;Connected to github&quot;);\n        \n        try {\n          BufferedReader readurl = new BufferedReader(new InputStreamReader(connection.getInputStream()),8192);\n            reader=new CSVReader(readurl);\n            \n            \n            String[] line;\n            int i=0;\n            while((line=reader.readNext())!=null) {\n                \n                if(i==0) {\n                    i++;\n                    continue;\n                }\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n                Corona corona = new Corona();\n                corona.setLastupDate(LocalDateTime.parse(line[4],formatter));\n                corona.setConfirmed(Long.valueOf(line[7]));\n                corona.setRecovered(Long.valueOf(line[9]));\n                corona.setActive(Long.valueOf(line[10]));\n                corona.setCombinedKey(line[11]);\n                log.info(corona.toString());\n                repo.save(corona);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (CsvValidationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } \n        finally {\n            if(reader!=null) {\n                \n                try {\n                    reader.close();\n                    \n                } catch (IOException e2) {\n                    // TODO: handle exception\n                    e2.printStackTrace();\n                }\n            }\n            \n        }\n        \n        }\n        else {\n            log.info(&quot;URL is wrong&quot;);\n        }\n        \n    }\n</code></pre>\n<p>Everything is working fine when i hit the resource url ,but i have to wait for some time to show my webpage , until all data does not get stored in database.</p>\n<p>I want to show <strong>&quot;Data is being added&quot;</strong> in mainTemplate.html as soon as i hit the url. So that my populate method runs in background and i don't have to wait for completion of method to show my mainTemplate .</p>\n<p>I tired to add <code>@Async</code> method annotation but that does not seem to be worked .</p>\n"},{"tags":["java","object","hashcode"],"comments":[{"owner":{"account_id":198193,"reputation":1515,"user_id":442716,"accept_rate":68,"display_name":"Ustaman Sangat"},"score":2,"creation_date":1323878282,"post_id":2237720,"comment_id":10530777,"body_markdown":"check out System.identityHashCode() it gives you the default hashcode - the one that would have been returned if you had not overridden the method.","body":"check out System.identityHashCode() it gives you the default hashcode - the one that would have been returned if you had not overridden the method."},{"owner":{"account_id":5565685,"reputation":8016,"user_id":4413098,"accept_rate":86,"display_name":"mightyWOZ"},"score":0,"creation_date":1637415055,"post_id":2237720,"comment_id":123822842,"body_markdown":"That depends on the the JVM that you are using. for Hotspot see [this](https://srvaroa.github.io/jvm/java/openjdk/biased-locking/2017/01/30/hashCode.html)","body":"That depends on the the JVM that you are using. for Hotspot see <a href=\"https://srvaroa.github.io/jvm/java/openjdk/biased-locking/2017/01/30/hashCode.html\" rel=\"nofollow noreferrer\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":97389,"reputation":3871,"user_id":264180,"display_name":"Hans W"},"down_vote_count":12,"up_vote_count":58,"is_accepted":true,"score":46,"last_activity_date":1659874928,"creation_date":1265814368,"answer_id":2237756,"question_id":2237720,"body_markdown":"Typically, hashCode() just returns the object&#39;s address in memory if you don&#39;t override it.\r\n\r\nFrom [1]:\r\n\r\n&gt; As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.) \r\n\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode\r\n \r\n[1]: http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode()","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>Typically, hashCode() just returns the object's address in memory if you don't override it.</p>\n<p>From <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">1</a>:</p>\n<blockquote>\n<p>As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.)</p>\n</blockquote>\n<p><sup>1</sup> <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode</a></p>\n"},{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1265814401,"creation_date":1265814401,"answer_id":2237763,"question_id":2237720,"body_markdown":"You should try to implement the hash code so that different objects will give different results. I don&#39;t think there is a standard way of doing this.\r\n\r\nRead this article for some [information][1].\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp05273.html","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>You should try to implement the hash code so that different objects will give different results. I don't think there is a standard way of doing this.</p>\n\n<p>Read this article for some <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05273.html\" rel=\"nofollow noreferrer\">information</a>.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1265814566,"creation_date":1265814566,"answer_id":2237791,"question_id":2237720,"body_markdown":"A hashcode is useful for storing an object in a collection, such as a hashset. By allowing an Object to define a Hashcode as something unique it allows the algorithm of the HashSet to work effectively.\r\n\r\nObject itself uses the Object&#39;s address in memory, which is very unique, but may not be very useful if two different objects (for example two identical strings) should be considered the same, even if they are duplicated in memory.","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>A hashcode is useful for storing an object in a collection, such as a hashset. By allowing an Object to define a Hashcode as something unique it allows the algorithm of the HashSet to work effectively.</p>\n\n<p>Object itself uses the Object's address in memory, which is very unique, but may not be very useful if two different objects (for example two identical strings) should be considered the same, even if they are duplicated in memory.</p>\n"},{"tags":[],"owner":{"account_id":69275,"reputation":10431,"user_id":201672,"display_name":"tonio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265814594,"creation_date":1265814594,"answer_id":2237795,"question_id":2237720,"body_markdown":"the default hashcode implementation gives the internal address of the object in the jvm, as a 32 bits integer. Thus, two different (in memory) objects will have different hashcodes.\r\n\r\nThis is consistent with the default implementation of equals. If you want to override equals for your objects, you will have to adapt hashCode so that they are consistent.\r\n\r\nSee http://www.ibm.com/developerworks/java/library/j-jtp05273.html for a good overview.","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>the default hashcode implementation gives the internal address of the object in the jvm, as a 32 bits integer. Thus, two different (in memory) objects will have different hashcodes.</p>\n\n<p>This is consistent with the default implementation of equals. If you want to override equals for your objects, you will have to adapt hashCode so that they are consistent.</p>\n\n<p>See <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05273.html\" rel=\"nofollow noreferrer\">http://www.ibm.com/developerworks/java/library/j-jtp05273.html</a> for a good overview.</p>\n"},{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1447734172,"creation_date":1265814603,"answer_id":2237797,"question_id":2237720,"body_markdown":"The implementation of [`hashCode()`][1] may differ from class to class but the contract for [`hashCode()`][1] is very specific and stated clearly and explicitly in the [Javadocs][1]:\r\n\r\n&gt; Returns a hash code value for the object. This method is supported for the benefit of hashtables such as those provided by java.util.Hashtable.  \r\n  \r\n&gt; The general contract of hashCode is:\r\n\r\n&gt; - Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.  \r\n- If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.  \r\n- It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.  \r\n  \r\n&gt; As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.)\r\n\r\n[`hashCode()`][1] is closely tied to [`equals()`][2] and if you override [`equals()`][2], you should also override [`hashCode()`][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>The implementation of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode()</code></a> may differ from class to class but the contract for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode()</code></a> is very specific and stated clearly and explicitly in the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\">Javadocs</a>:</p>\n\n<blockquote>\n  <p>Returns a hash code value for the object. This method is supported for the benefit of hashtables such as those provided by java.util.Hashtable.  </p>\n  \n  <p>The general contract of hashCode is:</p>\n  \n  <ul>\n  <li>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.  </li>\n  <li>If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.  </li>\n  <li>It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.  </li>\n  </ul>\n  \n  <p>As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.)</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode()</code></a> is closely tied to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"noreferrer\"><code>equals()</code></a> and if you override <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"noreferrer\"><code>equals()</code></a>, you should also override <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":42623,"reputation":749,"user_id":124194,"accept_rate":45,"display_name":"ndeuma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1265814671,"creation_date":1265814671,"answer_id":2237807,"question_id":2237720,"body_markdown":"Two objects with different hash code must not be equal with regard to equals()\r\n\r\n`a.hashCode() != b.hashCode()` must imply `!a.equals(b)`\r\n\r\nHowever, two objects that are not equal with regard to equals() can have the same hash code. Storing these objects in a set or map will become less efficient if many objects have the same hash code.\r\n","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>Two objects with different hash code must not be equal with regard to equals()</p>\n\n<p><code>a.hashCode() != b.hashCode()</code> must imply <code>!a.equals(b)</code></p>\n\n<p>However, two objects that are not equal with regard to equals() can have the same hash code. Storing these objects in a set or map will become less efficient if many objects have the same hash code.</p>\n"},{"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265824039,"creation_date":1265824039,"answer_id":2239092,"question_id":2237720,"body_markdown":"If hashcode is not overriden you will call Object&#39;s hashcode, here is an excerpt from its javadoc:\r\n\r\n&gt; As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.) ","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>If hashcode is not overriden you will call Object's hashcode, here is an excerpt from its javadoc:</p>\n\n<blockquote>\n  <p>As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.) </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":198193,"reputation":1515,"user_id":442716,"accept_rate":68,"display_name":"Ustaman Sangat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323878163,"creation_date":1323877666,"answer_id":8507376,"question_id":2237720,"body_markdown":"Not really an answer but adding to my earlier comment \r\n\r\n&gt; internal address of the object cannot be guaranteed to remain unchanged in the JVM, whose garbage collector might move it around during heap compaction.\r\n\r\nI tried to do something like this:\r\n\r\n    public static void main(String[] args) {\r\n        final Object object = new Object();\r\n        while (true) {\r\n            int hash = object.hashCode();\r\n            int x = 0;\r\n            Runtime r = Runtime.getRuntime();\r\n            List&lt;Object&gt; list = new LinkedList&lt;Object&gt;();\r\n            while (r.freeMemory() / (double) r.totalMemory() &gt; 0.3) {\r\n                Object p = new Object();\r\n                list.add(p);\r\n                x += object.hashCode();//ensure optimizer or JIT won&#39;t remove this\r\n            }\r\n            System.out.println(x);\r\n            list.clear();\r\n            r.gc();\r\n            if (object.hashCode() != hash) {\r\n                System.out.println(&quot;Voila!&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\nBut the hashcode indeed doesn&#39;t change... can someone tell me how Sun&#39;s JDK actually implements Obect.hashcode?","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>Not really an answer but adding to my earlier comment </p>\n\n<blockquote>\n  <p>internal address of the object cannot be guaranteed to remain unchanged in the JVM, whose garbage collector might move it around during heap compaction.</p>\n</blockquote>\n\n<p>I tried to do something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    final Object object = new Object();\n    while (true) {\n        int hash = object.hashCode();\n        int x = 0;\n        Runtime r = Runtime.getRuntime();\n        List&lt;Object&gt; list = new LinkedList&lt;Object&gt;();\n        while (r.freeMemory() / (double) r.totalMemory() &gt; 0.3) {\n            Object p = new Object();\n            list.add(p);\n            x += object.hashCode();//ensure optimizer or JIT won't remove this\n        }\n        System.out.println(x);\n        list.clear();\n        r.gc();\n        if (object.hashCode() != hash) {\n            System.out.println(\"Voila!\");\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>But the hashcode indeed doesn't change... can someone tell me how Sun's JDK actually implements Obect.hashcode?</p>\n"},{"tags":[],"owner":{"account_id":1864114,"reputation":764,"user_id":1688064,"display_name":"Larsen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1350536910,"creation_date":1350491043,"answer_id":12938872,"question_id":2237720,"body_markdown":"returns 6 digit hex number. This is usually the memory location of the slot where the object is addressed. From an algorithmic per-se, I guess JDK does double hashing (native implementation) which is one of the best hashing functions for open addressing. This double hashing scheme highly reduces the possibility of collisions.\r\n\r\nThe following post will give a supportive idea -\r\n\r\nhttps://stackoverflow.com/questions/12945894/java-hashmap-confusion-about-collision-handling-and-the-get-method/12946052#12946052\r\n","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>returns 6 digit hex number. This is usually the memory location of the slot where the object is addressed. From an algorithmic per-se, I guess JDK does double hashing (native implementation) which is one of the best hashing functions for open addressing. This double hashing scheme highly reduces the possibility of collisions.</p>\n\n<p>The following post will give a supportive idea -</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12945894/java-hashmap-confusion-about-collision-handling-and-the-get-method/12946052#12946052\">Java - HashMap confusion about collision handling and the get() method</a></p>\n"},{"tags":[],"owner":{"account_id":542673,"reputation":7014,"user_id":911576,"accept_rate":62,"display_name":"anish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417369499,"creation_date":1417369499,"answer_id":27216215,"question_id":2237720,"body_markdown":"**You must override hashCode in every class that overrides equals.** Failure to do so will result in a violation of the general contract for Object.hashCode, which will prevent your class from functioning properly in `conjunction with all hash-based collection`s, `including HashMap, HashSet, and Hashtable.`","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p><strong>You must override hashCode in every class that overrides equals.</strong> Failure to do so will result in a violation of the general contract for Object.hashCode, which will prevent your class from functioning properly in <code>conjunction with all hash-based collection</code>s, <code>including HashMap, HashSet, and Hashtable.</code></p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1441706137,"creation_date":1441706137,"answer_id":32454673,"question_id":2237720,"body_markdown":"In HotSpot JVM by default on the first invocation of non-overloaded `Object.hashCode` or `System.identityHashCode` a random number is generated and stored in the object header. The consequent calls to `Object.hashCode` or `System.identityHashCode` just extract this value from the header. By default it has nothing in common with object content or object location, just random number. This behavior is controlled by `-XX:hashCode=n` HotSpot JVM option which has the following possible values:\r\n\r\n* 0: use global random generator. This is default setting in Java 7. It has the disadvantage that concurrent calls from multiple threads may cause a race condition which will result in generating the same hashCode for different objects. Also in highly-concurrent environment delays are possible due to contention (using the same memory region from different CPU cores).\r\n* 5: use some thread-local xor-shift random generator which is free from the previous disadvantages. This is default setting in Java 8.\r\n* 1: use object pointer mixed with some random value which is changed on the &quot;stop-the-world&quot; events, so between stop-the-world events (like garbage collection) generated hashCodes are stable (for testing/debugging purposes)\r\n* 2: use always `1` (for testing/debugging purposes)\r\n* 3: use autoincrementing numbers (for testing/debugging purposes, also global counter is used, thus contention and race conditions are possible)\r\n* 4: use object pointer trimmed to 32 bit if necessary (for testing/debugging purposes)\r\n\r\nNote that even if you set `-XX:hashCode=4`, the hashCode will not always point to the object address. Object may be moved later, but hashCode will stay the same. Also object addresses are poorly distributed (if your application uses not so much memory, most objects will be located close to each other), so you may end up having unbalanced hash tables if you use this option.","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>In HotSpot JVM by default on the first invocation of non-overloaded <code>Object.hashCode</code> or <code>System.identityHashCode</code> a random number is generated and stored in the object header. The consequent calls to <code>Object.hashCode</code> or <code>System.identityHashCode</code> just extract this value from the header. By default it has nothing in common with object content or object location, just random number. This behavior is controlled by <code>-XX:hashCode=n</code> HotSpot JVM option which has the following possible values:</p>\n\n<ul>\n<li>0: use global random generator. This is default setting in Java 7. It has the disadvantage that concurrent calls from multiple threads may cause a race condition which will result in generating the same hashCode for different objects. Also in highly-concurrent environment delays are possible due to contention (using the same memory region from different CPU cores).</li>\n<li>5: use some thread-local xor-shift random generator which is free from the previous disadvantages. This is default setting in Java 8.</li>\n<li>1: use object pointer mixed with some random value which is changed on the \"stop-the-world\" events, so between stop-the-world events (like garbage collection) generated hashCodes are stable (for testing/debugging purposes)</li>\n<li>2: use always <code>1</code> (for testing/debugging purposes)</li>\n<li>3: use autoincrementing numbers (for testing/debugging purposes, also global counter is used, thus contention and race conditions are possible)</li>\n<li>4: use object pointer trimmed to 32 bit if necessary (for testing/debugging purposes)</li>\n</ul>\n\n<p>Note that even if you set <code>-XX:hashCode=4</code>, the hashCode will not always point to the object address. Object may be moved later, but hashCode will stay the same. Also object addresses are poorly distributed (if your application uses not so much memory, most objects will be located close to each other), so you may end up having unbalanced hash tables if you use this option.</p>\n"},{"tags":[],"owner":{"account_id":20336018,"reputation":41,"user_id":14916700,"display_name":"mitco94"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623666393,"creation_date":1623666393,"answer_id":67968606,"question_id":2237720,"body_markdown":"The default hashCode() implementation is nothing to do with object&#39;s memory address.\r\nIn openJDK, in version 6 and 7 it is a randomly generated number. In 8 and 9, it is a number based on the thread state.\r\n\r\nRefer this link: [hashCode != address][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20680667/14916700\r\n\r\nSo the result of identity hash generation(the value returned by default implementation of hashCode() method) is generated once and cached in the object&#39;s header.\r\n\r\nIf you want to learn more about this you can go through OpenJDK which defines entry points for hashCode() at \r\n\r\n&gt; src/share/vm/prims/jvm.h\r\n\r\n and \r\n\r\n&gt; src/share/vm/prims/jvm.cpp\r\n\r\nIf you go through this above directory, it seems hundred lines of functions that seems to be far more complicated to understand. So, To simplify this, the naively way to represent the default hashcode implementation is something like below,\r\n\r\n&gt;     if (obj.hash() == 0) {\r\n&gt;         obj.set_hash(generate_new_hash()); \r\n&gt;     } \r\n&gt;     return obj.hash();","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>The default hashCode() implementation is nothing to do with object's memory address.\nIn openJDK, in version 6 and 7 it is a randomly generated number. In 8 and 9, it is a number based on the thread state.</p>\n<p>Refer this link: <a href=\"https://stackoverflow.com/a/20680667/14916700\">hashCode != address</a></p>\n<p>So the result of identity hash generation(the value returned by default implementation of hashCode() method) is generated once and cached in the object's header.</p>\n<p>If you want to learn more about this you can go through OpenJDK which defines entry points for hashCode() at</p>\n<blockquote>\n<p>src/share/vm/prims/jvm.h</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>src/share/vm/prims/jvm.cpp</p>\n</blockquote>\n<p>If you go through this above directory, it seems hundred lines of functions that seems to be far more complicated to understand. So, To simplify this, the naively way to represent the default hashcode implementation is something like below,</p>\n<blockquote>\n<pre><code>if (obj.hash() == 0) {\n    obj.set_hash(generate_new_hash()); \n} \nreturn obj.hash();\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21014,"favorite_count":0,"down_vote_count":1,"up_vote_count":88,"accepted_answer_id":2237756,"answer_count":12,"score":87,"last_activity_date":1659874928,"creation_date":1265814162,"question_id":2237720,"body_markdown":"If the hashCode() method is not overridden, what will be the result of invoking hashCode() on any object in Java?","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>If the hashCode() method is not overridden, what will be the result of invoking hashCode() on any object in Java?</p>\n"},{"tags":["java","arrays","json","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"score":0,"creation_date":1659873601,"post_id":73267071,"comment_id":129393693,"body_markdown":"see https://sparkbyexamples.com/spark/spark-dataframe-nested-array/","body":"see <a href=\"https://sparkbyexamples.com/spark/spark-dataframe-nested-array/\" rel=\"nofollow noreferrer\">sparkbyexamples.com/spark/spark-dataframe-nested-array</a>"}],"answers":[{"tags":[],"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659874606,"creation_date":1659874606,"answer_id":73267333,"question_id":73267071,"body_markdown":"If you read the JSON file like this:\r\n\r\n    sparkSession.read.option(&quot;multiline&quot;, true).json(&quot;./data.json&quot;)\r\n\r\nThen you can access your desired values as below:\r\n\r\n    .withColumn(&quot;test&quot;, col(&quot;data&quot;).getItem(0).getField(&quot;steps&quot;).getItem(1).getField(&quot;x&quot;))\r\n\r\nor\r\n\r\n    .withColumn(&quot;test2&quot;, expr(&quot;data[0].steps[1].x&quot;))\r\n\r\nThey do the same thing, whichever you prefer, the return value is `11`.\r\n\r\nGood luck!","title":"How can you extract the elements of a nested array of a JSON using Java Spark","body":"<p>If you read the JSON file like this:</p>\n<pre><code>sparkSession.read.option(&quot;multiline&quot;, true).json(&quot;./data.json&quot;)\n</code></pre>\n<p>Then you can access your desired values as below:</p>\n<pre><code>.withColumn(&quot;test&quot;, col(&quot;data&quot;).getItem(0).getField(&quot;steps&quot;).getItem(1).getField(&quot;x&quot;))\n</code></pre>\n<p>or</p>\n<pre><code>.withColumn(&quot;test2&quot;, expr(&quot;data[0].steps[1].x&quot;))\n</code></pre>\n<p>They do the same thing, whichever you prefer, the return value is <code>11</code>.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":2192825,"reputation":525,"user_id":1939366,"accept_rate":14,"display_name":"Dhana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73267333,"answer_count":1,"score":0,"last_activity_date":1659874606,"creation_date":1659872188,"question_id":73267071,"body_markdown":"Here is my JSON file content. \r\n```\r\n{\r\n  &quot;Id&quot;: 11,\r\n  &quot;data&quot;: [\r\n    {\r\n      &quot;package&quot;: &quot;com.browser1&quot;,\r\n      &quot;activetime&quot;: 60000,\r\n      &quot;steps&quot;: [\r\n        {&quot;x&quot;:  1, &quot;y&quot;:  2},\r\n        {&quot;x&quot;: 11, &quot;y&quot;: 12}\r\n      ]\r\n    },\r\n    {\r\n      &quot;package&quot;: &quot;com.browser6&quot;,\r\n      &quot;activetime&quot;: 1205000,\r\n      &quot;steps&quot;: [\r\n        {&quot;x&quot;:  3, &quot;y&quot;:  4}\r\n      ]\r\n    },\r\n    {\r\n      &quot;package&quot;: &quot;com.browser7&quot;,\r\n      &quot;activetime&quot;: 1205000,\r\n      &quot;steps&quot;: [\r\n        {&quot;x&quot;:  5, &quot;y&quot;:  6}\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI am reading this json file from spark using java. How can I get the value of the following:-\r\n```\r\njson.data[0].steps[0].x\r\nand \r\njson.data[0].steps[1].x\r\n```\r\n\r\nI am using ```DataSet.select``` to do this. \r\n\r\n```\r\ndf.select(json.data[0].steps[1].x)\r\n```\r\ndid not work.\r\n\r\nP.S:- Need java solution and not Scala\r\n\r\n\r\n\r\n","title":"How can you extract the elements of a nested array of a JSON using Java Spark","body":"<p>Here is my JSON file content.</p>\n<pre><code>{\n  &quot;Id&quot;: 11,\n  &quot;data&quot;: [\n    {\n      &quot;package&quot;: &quot;com.browser1&quot;,\n      &quot;activetime&quot;: 60000,\n      &quot;steps&quot;: [\n        {&quot;x&quot;:  1, &quot;y&quot;:  2},\n        {&quot;x&quot;: 11, &quot;y&quot;: 12}\n      ]\n    },\n    {\n      &quot;package&quot;: &quot;com.browser6&quot;,\n      &quot;activetime&quot;: 1205000,\n      &quot;steps&quot;: [\n        {&quot;x&quot;:  3, &quot;y&quot;:  4}\n      ]\n    },\n    {\n      &quot;package&quot;: &quot;com.browser7&quot;,\n      &quot;activetime&quot;: 1205000,\n      &quot;steps&quot;: [\n        {&quot;x&quot;:  5, &quot;y&quot;:  6}\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I am reading this json file from spark using java. How can I get the value of the following:-</p>\n<pre><code>json.data[0].steps[0].x\nand \njson.data[0].steps[1].x\n</code></pre>\n<p>I am using <code>DataSet.select</code> to do this.</p>\n<pre><code>df.select(json.data[0].steps[1].x)\n</code></pre>\n<p>did not work.</p>\n<p>P.S:- Need java solution and not Scala</p>\n"},{"tags":["java","coding-style"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1659718043,"post_id":73252825,"comment_id":129369134,"body_markdown":"You can&#39;t. There are things that are impossible, when you give out blanket statements like &quot;functions should be less than 5 lines&quot;. Especially since Java has methods not functions, and this is a matter of opinion and not some kind of universal rule.","body":"You can&#39;t. There are things that are impossible, when you give out blanket statements like &quot;functions should be less than 5 lines&quot;. Especially since Java has methods not functions, and this is a matter of opinion and not some kind of universal rule."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1659719049,"post_id":73252825,"comment_id":129369394,"body_markdown":"For some further insights on why advice from Clean Code is somewhat likely to run into gritted teeth by experienced programmers, [this sums it up nicely](https://qntm.org/clean).","body":"For some further insights on why advice from Clean Code is somewhat likely to run into gritted teeth by experienced programmers, <a href=\"https://qntm.org/clean\" rel=\"nofollow noreferrer\">this sums it up nicely</a>."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659788682,"creation_date":1659788682,"answer_id":73259707,"question_id":73252825,"body_markdown":"I haven&#39;t read the book, but the suggestion that &quot;every function should have less than 5 lines of code&quot; or names like `addItemToCartOrThrowItemNotFoundError` seems very unhelpful. \r\n\r\nYour code highlights a case where use of `Stream` has lead to very awkward to follow code. You should try simple refactoring of the important actions to simply named helper functions, something like:\r\n\r\n    public Cart addToCart(String cartId, Integer itemId) {\r\n        \r\n        Cart cart = cartRepository.findById(cartId)\r\n                                  .orElseGet(() -&gt; new Cart(cartId));\r\n        \r\n        Item item = cart.findItem(itemId)\r\n                        .orElseGet(() -&gt; cart.addItem(itemId))\r\n                        .increment();\r\n        \r\n        return this.cartRepository.save(cart);\r\n    }\r\n\r\nAs you can see you&#39;d need to implement `findItem(Integer itemId)` and `addItem(Integer itemId)` based on the 2 main branches of your block starting `cart.getCartItems().stream() ...`, and ensure that the counter for new item is set to zero so that `item.increment()` works correctly inside `addToCart` and not called inside `findItem`.\r\n\r\n","title":"Reduce row length of Function according to &quot;Clean Code&quot; when using Stream API in Java","body":"<p>I haven't read the book, but the suggestion that &quot;every function should have less than 5 lines of code&quot; or names like <code>addItemToCartOrThrowItemNotFoundError</code> seems very unhelpful.</p>\n<p>Your code highlights a case where use of <code>Stream</code> has lead to very awkward to follow code. You should try simple refactoring of the important actions to simply named helper functions, something like:</p>\n<pre><code>public Cart addToCart(String cartId, Integer itemId) {\n    \n    Cart cart = cartRepository.findById(cartId)\n                              .orElseGet(() -&gt; new Cart(cartId));\n    \n    Item item = cart.findItem(itemId)\n                    .orElseGet(() -&gt; cart.addItem(itemId))\n                    .increment();\n    \n    return this.cartRepository.save(cart);\n}\n</code></pre>\n<p>As you can see you'd need to implement <code>findItem(Integer itemId)</code> and <code>addItem(Integer itemId)</code> based on the 2 main branches of your block starting <code>cart.getCartItems().stream() ...</code>, and ensure that the counter for new item is set to zero so that <code>item.increment()</code> works correctly inside <code>addToCart</code> and not called inside <code>findItem</code>.</p>\n"}],"owner":{"account_id":25295284,"reputation":17,"user_id":19120546,"display_name":"wayne888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659874391,"creation_date":1659717050,"question_id":73252825,"body_markdown":"I am currently studying the book &quot;Clean Code&quot; and it states that every function should have less than 5 lines of code.\r\n\r\nAt the same time I am using Java with Spring Boot and I am trying to figure out how this statement could be applied to this lines of code.\r\n\r\n```java\r\npublic Cart addToCart(String cartId, Integer itemId) {\r\n    Cart cart = cartRepository.findById(cartId)\r\n            .orElseGet(() -&gt; new Cart(cartId));\r\n\r\n    cart.getCartItems().stream()\r\n            .filter(cartItem -&gt; cartItem.getItem().getId().equals(itemId))\r\n            .findAny()\r\n            .map(cartItem -&gt; {\r\n                cartItem.increment();\r\n                return cart;\r\n            })\r\n            .orElseGet(() -&gt; {\r\n                Item item = this.itemRepository.findById(itemId)\r\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Can&#39;t seem to find Item type&quot; + itemId));\r\n                cart.getCartItems().add(new CartItem(item, cart));\r\n                return cart;\r\n            });\r\n\r\n    return this.cartRepository.save(cart);\r\n}\r\n```\r\n\r\nI&#39;m thinking of something like this:\r\n\r\n```java\r\npublic Cart addToCart(String cartId, Integer itemId) {\r\n    Cart temp_cart = cartRepository.findById(cartId)\r\n            .orElseGet(() -&gt; new Cart(cartId));\r\n\r\n    Cart cart = addItemToCartOrThrowItemNotFoundError(temp_cart, itemId);\r\n\r\n    return this.cartRepository.save(cart);\r\n}\r\n\r\nprivate Cart addItemToCartOrThrowItemNotFoundError(Cart cart, Integer itemId) {\r\n    cart.getCartItems().stream()\r\n            .filter(cartItem -&gt; cartItem.getItem().getId().equals(itemId))\r\n            .findAny()\r\n            .map(cartItem -&gt; {\r\n                cartItem.increment();\r\n                return cart;\r\n            })\r\n            .orElseGet(() -&gt; {\r\n                Item item = this.itemRepository.findById(itemId)\r\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Can&#39;t seem to find Item type&quot; + itemId));\r\n                cart.getCartItems().add(new CartItem(item, cart));\r\n                return cart;\r\n            });\r\n    return cart;\r\n}\r\n```\r\n\r\nBut then I don&#39;t know how to split up the function addItemToCartOrThrowItemNotFoundError while preserving the use of Stream API.\r\n\r\nDo you have any idea?","title":"Reduce row length of Function according to &quot;Clean Code&quot; when using Stream API in Java","body":"<p>I am currently studying the book &quot;Clean Code&quot; and it states that every function should have less than 5 lines of code.</p>\n<p>At the same time I am using Java with Spring Boot and I am trying to figure out how this statement could be applied to this lines of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Cart addToCart(String cartId, Integer itemId) {\n    Cart cart = cartRepository.findById(cartId)\n            .orElseGet(() -&gt; new Cart(cartId));\n\n    cart.getCartItems().stream()\n            .filter(cartItem -&gt; cartItem.getItem().getId().equals(itemId))\n            .findAny()\n            .map(cartItem -&gt; {\n                cartItem.increment();\n                return cart;\n            })\n            .orElseGet(() -&gt; {\n                Item item = this.itemRepository.findById(itemId)\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Can't seem to find Item type&quot; + itemId));\n                cart.getCartItems().add(new CartItem(item, cart));\n                return cart;\n            });\n\n    return this.cartRepository.save(cart);\n}\n</code></pre>\n<p>I'm thinking of something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Cart addToCart(String cartId, Integer itemId) {\n    Cart temp_cart = cartRepository.findById(cartId)\n            .orElseGet(() -&gt; new Cart(cartId));\n\n    Cart cart = addItemToCartOrThrowItemNotFoundError(temp_cart, itemId);\n\n    return this.cartRepository.save(cart);\n}\n\nprivate Cart addItemToCartOrThrowItemNotFoundError(Cart cart, Integer itemId) {\n    cart.getCartItems().stream()\n            .filter(cartItem -&gt; cartItem.getItem().getId().equals(itemId))\n            .findAny()\n            .map(cartItem -&gt; {\n                cartItem.increment();\n                return cart;\n            })\n            .orElseGet(() -&gt; {\n                Item item = this.itemRepository.findById(itemId)\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Can't seem to find Item type&quot; + itemId));\n                cart.getCartItems().add(new CartItem(item, cart));\n                return cart;\n            });\n    return cart;\n}\n</code></pre>\n<p>But then I don't know how to split up the function addItemToCartOrThrowItemNotFoundError while preserving the use of Stream API.</p>\n<p>Do you have any idea?</p>\n"},{"tags":["java","tomcat","liferay","threadpool","atomikos"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659874292,"post_id":73254132,"comment_id":129393854,"body_markdown":"Which version of the PostgreSQL JDBC driver are you using? What version of PostgreSQL are you using?","body":"Which version of the PostgreSQL JDBC driver are you using? What version of PostgreSQL are you using?"},{"owner":{"account_id":13558045,"reputation":3,"user_id":11557277,"display_name":"Udepentctrsp"},"score":0,"creation_date":1659879733,"post_id":73254132,"comment_id":129395051,"body_markdown":"@MarkRotteveel PostgreSQL 13.5 and postgresql-42.2.23 driver","body":"@MarkRotteveel PostgreSQL 13.5 and postgresql-42.2.23 driver"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659897114,"post_id":73254132,"comment_id":129398739,"body_markdown":"I&#39;d suggest trying with a newer version of the driver. The latest is 42.4.1. If the last stacktrace shows for a long time, it could be a bug in the driver (though truth be told, a quick scan of the release notes don&#39;t show one as far as I can tell).","body":"I&#39;d suggest trying with a newer version of the driver. The latest is 42.4.1. If the last stacktrace shows for a long time, it could be a bug in the driver (though truth be told, a quick scan of the release notes don&#39;t show one as far as I can tell)."}],"owner":{"account_id":13558045,"reputation":3,"user_id":11557277,"display_name":"Udepentctrsp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659874204,"creation_date":1659725127,"question_id":73254132,"body_markdown":"I have an application (Liferay + Tomcat + PostgreSQL). Tomcat also has configuration for Atomikos as transaction manager:\r\n\r\n```xml\r\n&lt;Resource \r\n\tname=&quot;jdbc/liferay&quot;\r\n\tauth=&quot;Container&quot;\r\n\ttype=&quot;com.atomikos.jdbc.AtomikosDataSourceBean&quot;\r\n\tfactory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot;\r\n\tuniqueResourceName=&quot;jdbc/liferay&quot;\r\n\tmaxPoolSize=&quot;500&quot;\r\n\tminPoolSize=&quot;10&quot;\r\n\tborrowConnectionTimeout=&quot;30&quot;\r\n\tmaxIdleTime=&quot;60&quot;\r\n\treapTimeout=&quot;0&quot;\r\n\tmaintenanceInterval=&quot;60&quot;\r\n\ttestQuery=&quot;SELECT 1&quot;\r\n\txaDataSourceClassName=&quot;org.postgresql.xa.PGXADataSource&quot;\r\n\txaProperties.serverName=&quot;${host}&quot;           \r\n\txaProperties.portNumber=&quot;${port}&quot;           \r\n\txaProperties.user=&quot;${user}&quot;           \r\n\txaProperties.databaseName=&quot;${database}&quot;\r\n\txaProperties.password=&quot;${password}&quot;  \r\n    /&gt;\r\n\t\r\n&lt;Resource \r\n    name=&quot;jdbc/service&quot;\r\n    auth=&quot;Container&quot;\r\n    type=&quot;com.atomikos.jdbc.AtomikosDataSourceBean&quot;\r\n    factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot;\r\n    uniqueResourceName=&quot;jdbc/service&quot;\r\n    maxPoolSize=&quot;100&quot;\r\n    minPoolSize=&quot;10&quot;\r\n    borrowConnectionTimeout=&quot;30&quot;\r\n    maxIdleTime=&quot;60&quot;\r\n    reapTimeout=&quot;0&quot;\r\n    maintenanceInterval=&quot;60&quot;\r\n    testQuery=&quot;SELECT 1&quot;\r\n    xaDataSourceClassName=&quot;org.postgresql.xa.PGXADataSource&quot;\r\n    xaProperties.serverName=&quot;${host}&quot; \r\n    xaProperties.portNumber=&quot;${port}&quot;           \r\n    xaProperties.databaseName=&quot;service&quot;\r\n    xaProperties.user=&quot;${user}&quot;           \r\n    xaProperties.password=&quot;${password}&quot; \r\n  /&gt;\r\n```\r\n\r\nAt random moments (it can be few times in hour) application gets stuck and doesn&#39;t process any responses. \r\n\r\nI got threads dump and every time when application got stuck, there is a spike of threads. You can check it on screenshots [here][1] and [here][2].\r\nMost of this threads are in BLOCKED state e.g.:\r\n\r\n    &quot;http-apr-443-exec-163&quot; - Thread t@17821\r\n       java.lang.Thread.State: BLOCKED\r\n    \tat com.atomikos.datasource.pool.ConnectionPool.borrowConnection(ConnectionPool.java:127)\r\n    \t- waiting to lock &lt;8e7fbf9&gt; (a com.atomikos.datasource.pool.ConnectionPool) owned by &quot;http-apr-443-exec-10&quot; t@223\r\nBut this thread (http-apr-443-exec-10) is in RUNNABLE state:\r\n\r\n    &quot;http-apr-443-exec-10&quot; - Thread t@223\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n    \tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\r\n    \tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\r\n    \tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\r\n    \tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\r\n    \tat org.postgresql.core.PGStream.receiveChar(PGStream.java:443)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:505)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:149)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n    \tat org.postgresql.Driver.connect(Driver.java:264)\r\n\r\nAny ideas what can it be? Deadlock or miss configuration of Atomikos?\r\n\r\n\r\n\r\n [1]: https://i.stack.imgur.com/JvliR.png\r\n [2]: https://i.stack.imgur.com/DEsjv.png","title":"Liferay tomcat(atomikos) threads are blocked","body":"<p>I have an application (Liferay + Tomcat + PostgreSQL). Tomcat also has configuration for Atomikos as transaction manager:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Resource \n    name=&quot;jdbc/liferay&quot;\n    auth=&quot;Container&quot;\n    type=&quot;com.atomikos.jdbc.AtomikosDataSourceBean&quot;\n    factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot;\n    uniqueResourceName=&quot;jdbc/liferay&quot;\n    maxPoolSize=&quot;500&quot;\n    minPoolSize=&quot;10&quot;\n    borrowConnectionTimeout=&quot;30&quot;\n    maxIdleTime=&quot;60&quot;\n    reapTimeout=&quot;0&quot;\n    maintenanceInterval=&quot;60&quot;\n    testQuery=&quot;SELECT 1&quot;\n    xaDataSourceClassName=&quot;org.postgresql.xa.PGXADataSource&quot;\n    xaProperties.serverName=&quot;${host}&quot;           \n    xaProperties.portNumber=&quot;${port}&quot;           \n    xaProperties.user=&quot;${user}&quot;           \n    xaProperties.databaseName=&quot;${database}&quot;\n    xaProperties.password=&quot;${password}&quot;  \n    /&gt;\n    \n&lt;Resource \n    name=&quot;jdbc/service&quot;\n    auth=&quot;Container&quot;\n    type=&quot;com.atomikos.jdbc.AtomikosDataSourceBean&quot;\n    factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot;\n    uniqueResourceName=&quot;jdbc/service&quot;\n    maxPoolSize=&quot;100&quot;\n    minPoolSize=&quot;10&quot;\n    borrowConnectionTimeout=&quot;30&quot;\n    maxIdleTime=&quot;60&quot;\n    reapTimeout=&quot;0&quot;\n    maintenanceInterval=&quot;60&quot;\n    testQuery=&quot;SELECT 1&quot;\n    xaDataSourceClassName=&quot;org.postgresql.xa.PGXADataSource&quot;\n    xaProperties.serverName=&quot;${host}&quot; \n    xaProperties.portNumber=&quot;${port}&quot;           \n    xaProperties.databaseName=&quot;service&quot;\n    xaProperties.user=&quot;${user}&quot;           \n    xaProperties.password=&quot;${password}&quot; \n  /&gt;\n</code></pre>\n<p>At random moments (it can be few times in hour) application gets stuck and doesn't process any responses.</p>\n<p>I got threads dump and every time when application got stuck, there is a spike of threads. You can check it on screenshots <a href=\"https://i.stack.imgur.com/JvliR.png\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://i.stack.imgur.com/DEsjv.png\" rel=\"nofollow noreferrer\">here</a>.\nMost of this threads are in BLOCKED state e.g.:</p>\n<pre><code>&quot;http-apr-443-exec-163&quot; - Thread t@17821\n   java.lang.Thread.State: BLOCKED\n    at com.atomikos.datasource.pool.ConnectionPool.borrowConnection(ConnectionPool.java:127)\n    - waiting to lock &lt;8e7fbf9&gt; (a com.atomikos.datasource.pool.ConnectionPool) owned by &quot;http-apr-443-exec-10&quot; t@223\n</code></pre>\n<p>But this thread (http-apr-443-exec-10) is in RUNNABLE state:</p>\n<pre><code>&quot;http-apr-443-exec-10&quot; - Thread t@223\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\n    at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\n    at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\n    at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\n    at org.postgresql.core.PGStream.receiveChar(PGStream.java:443)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:505)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:149)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n</code></pre>\n<p>Any ideas what can it be? Deadlock or miss configuration of Atomikos?</p>\n"},{"tags":["java","multithreading","dependency-injection","realm","dagger-hilt"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1659791862,"post_id":73249621,"comment_id":129381591,"body_markdown":"*multiple instances of Realm* - That&#39;s not the correct way of doing it and we don&#39;t know what - *i have multiple threads using Realm* - means or why that&#39;s being done. You can pass objects between threads using Realm but again, without  knowing the use case we won&#39;t be able to assist. Please review the following two guides on asking questions: [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve)","body":"<i>multiple instances of Realm</i> - That&#39;s not the correct way of doing it and we don&#39;t know what - <i>i have multiple threads using Realm</i> - means or why that&#39;s being done. You can pass objects between threads using Realm but again, without  knowing the use case we won&#39;t be able to assist. Please review the following two guides on asking questions: <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}],"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659872227,"creation_date":1659701826,"question_id":73249621,"body_markdown":"I have a Java Hilt project, and I want to call my Realm repository from any class. The problem is Realm instances can only be accessed by the thread that created them, and I have multiple threads using Realm.\r\n\r\nThe workaround I implemented is using multiple instances of Realm. I don&#39;t think it is the correct way to do it. \r\n\r\nIs there any possibility to have a shared Realm instance? Or maybe making Hilt manage it?\r\n\r\nThe error I&#39;ve faced: \r\n\r\n&gt; Realm access from incorrect thread. Realm objects can only be accessed\r\n&gt; on the thread they were created.\r\n\r\n  ","title":"How to properly manage Realm instances","body":"<p>I have a Java Hilt project, and I want to call my Realm repository from any class. The problem is Realm instances can only be accessed by the thread that created them, and I have multiple threads using Realm.</p>\n<p>The workaround I implemented is using multiple instances of Realm. I don't think it is the correct way to do it.</p>\n<p>Is there any possibility to have a shared Realm instance? Or maybe making Hilt manage it?</p>\n<p>The error I've faced:</p>\n<blockquote>\n<p>Realm access from incorrect thread. Realm objects can only be accessed\non the thread they were created.</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","math"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1659810413,"post_id":73262289,"comment_id":129385371,"body_markdown":"Another way would be to check whether a number is prime [by calculating it on the fly](https://stackoverflow.com/a/44367443/133203).","body":"Another way would be to check whether a number is prime <a href=\"https://stackoverflow.com/a/44367443/133203\">by calculating it on the fly</a>."},{"owner":{"account_id":25973865,"reputation":13,"user_id":19688576,"display_name":"Mervile"},"score":0,"creation_date":1659811349,"post_id":73262289,"comment_id":129385539,"body_markdown":"@FedericoklezCulloca so after i add that i need to write the program to exclude those? sorry if i&#39;m so slow to catch since i still learning about android studio","body":"@FedericoklezCulloca so after i add that i need to write the program to exclude those? sorry if i&#39;m so slow to catch since i still learning about android studio"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1659811573,"post_id":73262289,"comment_id":129385581,"body_markdown":"I&#39;m not sure I understand how your code works or what it&#39;s supposed to do but I&#39;m *guessing* it should go in `getDivisors` where you check whether you want to add `i` to `divisors`, so something like `if (number % i == 0 &amp;&amp; !isPrime(i))`.","body":"I&#39;m not sure I understand how your code works or what it&#39;s supposed to do but I&#39;m <i>guessing</i> it should go in <code>getDivisors</code> where you check whether you want to add <code>i</code> to <code>divisors</code>, so something like <code>if (number % i == 0 &amp;&amp; !isPrime(i))</code>."},{"owner":{"account_id":25973865,"reputation":13,"user_id":19688576,"display_name":"Mervile"},"score":0,"creation_date":1659811679,"post_id":73262289,"comment_id":129385600,"body_markdown":"@FedericoklezCulloca i will try it first  \nalso i get the code from https://stackoverflow.com/a/66447822/19688576\nthanks","body":"@FedericoklezCulloca i will try it first   also i get the code from <a href=\"https://stackoverflow.com/a/66447822/19688576\">stackoverflow.com/a/66447822/19688576</a> thanks"},{"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"score":0,"creation_date":1659951524,"post_id":73262289,"comment_id":129408625,"body_markdown":"Note that your question was already answered here: https://stackoverflow.com/a/73232555","body":"Note that your question was already answered here: <a href=\"https://stackoverflow.com/a/73232555\">stackoverflow.com/a/73232555</a>"}],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659871660,"creation_date":1659816405,"answer_id":73262952,"question_id":73262289,"body_markdown":"(Some points of your question required some interpretation - hopefully I was correct; otherwise, just add a comment and I&#39;ll try to adapt.)\r\n\r\nRequire answer always &lt;= 10\r\n---------------------------\r\n\r\nTo ensure the selected divisor does not result in an &quot;answer&quot; more than 10, then simply restrict the divisors added to the divisor list.\r\n\r\nModify the one line in `getDivisors` as such:\r\n\r\n    // i is an integral divisor and the resulting quotient is &lt;= 10\r\n    if (number % i == 0 &amp;&amp; number / i &lt;= 10)\r\n\r\nThen when the code randomly selects a divisor from the list, the &quot;answer&quot; to the question:\r\n\r\n    \r\n\r\n&gt; num1 &#247; num2\r\n\r\nwill always be &lt;= 10, where num1 is a number from 1 to 100 (inclusive) and num2 is the randomly selected integral divisor.\r\n\r\nExclude some dividends (`num1`)\r\n-------------------------------\r\n\r\nIn order to exclude certain numbers from a range (for your `num1`) you could do it as a loop as in [here](https://stackoverflow.com/a/33945385/17856705).\r\n\r\nOr you could create a list of the acceptable numbers and then use `Random` to provide an index into your acceptable list [(credit reference answer for list creation)](https://stackoverflow.com/a/56121713/17856705):\r\n\r\n    // an array of acceptable numbers as dividend\r\n    int[] acceptableNums = IntStream.range(1, 101).filter(a -&gt; !java.util.List.of(11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97).contains(a)).toArray();\r\n\r\n    // here i chose to use &quot;r&quot; which is java.util.Random r = new java.util.Random() because my test involved a loop and I want to get uniform distribution over the loop.\r\n    int num1 = acceptableNums[r.nextInt(acceptableNums.length)];\r\n\r\n\r\nSo the complete test:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        java.util.Random r = new java.util.Random();\r\n\r\n        int[] acceptableNums = IntStream.range(1, 101).filter(a -&gt; !java.util.List.of(11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97).contains(a)).toArray();\r\n\r\n        for (int i = 0; i &lt; 100; i++) {\r\n\r\n            int num1 = acceptableNums[r.nextInt(acceptableNums.length)];\r\n            java.util.List&lt;Integer&gt; firstNumDivisors = getDivisors(num1);\r\n\r\n            int divisorsRandIndex = (int) (Math.random() * firstNumDivisors.size());\r\n            int num2 = firstNumDivisors.get(divisorsRandIndex);\r\n\r\n \r\n            System.out.println(&quot;What is &quot; + num1 + &quot; &#247; &quot; + num2+ &quot; (Answer: &quot;+num1/num2+&quot;)&quot;);\r\n            // Create your question from first and second numbers here\r\n            \r\n        }\r\n    }\r\n    \r\n        private static java.util.List&lt;Integer&gt; getDivisors ( int number){\r\n            java.util.List&lt;Integer&gt; divisors = new java.util.ArrayList&lt;&gt;();\r\n\r\n            for (int i = 1; i &lt;= number; i++)\r\n                if (number % i == 0 &amp;&amp; number / i &lt;= 10)\r\n                    divisors.add(i);\r\n\r\n            return divisors;\r\n        }    \r\n\r\n\r\nAnd the output:\r\n\r\n    What is 78 &#247; 39 (Answer: 2)\r\n    What is 1 &#247; 1 (Answer: 1)\r\n    What is 32 &#247; 8 (Answer: 4)\r\n    What is 68 &#247; 17 (Answer: 4)\r\n    What is 26 &#247; 13 (Answer: 2)\r\n    What is 94 &#247; 47 (Answer: 2)\r\n    What is 46 &#247; 23 (Answer: 2)\r\n    What is 68 &#247; 68 (Answer: 1)\r\n    What is 10 &#247; 2 (Answer: 5)\r\n    What is 70 &#247; 10 (Answer: 7)\r\n    What is 38 &#247; 38 (Answer: 1)\r\n    What is 75 &#247; 75 (Answer: 1)\r\n    What is 1 &#247; 1 (Answer: 1)\r\n    What is 90 &#247; 30 (Answer: 3)\r\n    What is 62 &#247; 62 (Answer: 1)\r\n    What is 95 &#247; 95 (Answer: 1)\r\n    What is 60 &#247; 6 (Answer: 10)\r\n    What is 27 &#247; 3 (Answer: 9)\r\n    What is 5 &#247; 1 (Answer: 5)\r\n    What is 28 &#247; 14 (Answer: 2)\r\n    What is 1 &#247; 1 (Answer: 1)\r\n    What is 70 &#247; 14 (Answer: 5)\r\n    What is 21 &#247; 21 (Answer: 1)\r\n    What is 40 &#247; 40 (Answer: 1)\r\n    What is 51 &#247; 17 (Answer: 3)\r\n    What is 24 &#247; 12 (Answer: 2)\r\n    What is 5 &#247; 1 (Answer: 5)\r\n    What is 58 &#247; 58 (Answer: 1)\r\n    What is 91 &#247; 91 (Answer: 1)\r\n    What is 91 &#247; 13 (Answer: 7)\r\n    What is 94 &#247; 94 (Answer: 1)\r\n    What is 28 &#247; 14 (Answer: 2)\r\n    What is 46 &#247; 23 (Answer: 2)\r\n    What is 95 &#247; 95 (Answer: 1)\r\n    What is 58 &#247; 58 (Answer: 1)\r\n    What is 2 &#247; 2 (Answer: 1)\r\n    What is 55 &#247; 55 (Answer: 1)\r\n    What is 20 &#247; 5 (Answer: 4)\r\n    What is 92 &#247; 23 (Answer: 4)\r\n    What is 21 &#247; 21 (Answer: 1)\r\n    What is 10 &#247; 5 (Answer: 2)\r\n    What is 1 &#247; 1 (Answer: 1)\r\n    What is 69 &#247; 69 (Answer: 1)\r\n    What is 84 &#247; 21 (Answer: 4)\r\n    What is 96 &#247; 24 (Answer: 4)\r\n    What is 90 &#247; 45 (Answer: 2)\r\n    What is 88 &#247; 44 (Answer: 2)\r\n    What is 88 &#247; 22 (Answer: 4)\r\n    What is 72 &#247; 36 (Answer: 2)\r\n    What is 40 &#247; 5 (Answer: 8)\r\n    What is 8 &#247; 4 (Answer: 2)\r\n    What is 10 &#247; 2 (Answer: 5)\r\n    What is 24 &#247; 3 (Answer: 8)\r\n    What is 66 &#247; 66 (Answer: 1)\r\n    What is 90 &#247; 30 (Answer: 3)\r\n    What is 66 &#247; 66 (Answer: 1)\r\n    What is 58 &#247; 58 (Answer: 1)\r\n    What is 91 &#247; 91 (Answer: 1)\r\n    What is 58 &#247; 58 (Answer: 1)\r\n    What is 28 &#247; 7 (Answer: 4)\r\n    What is 96 &#247; 16 (Answer: 6)\r\n    What is 90 &#247; 30 (Answer: 3)\r\n    What is 91 &#247; 91 (Answer: 1)\r\n    What is 12 &#247; 4 (Answer: 3)\r\n    What is 4 &#247; 4 (Answer: 1)\r\n    What is 84 &#247; 84 (Answer: 1)\r\n    What is 8 &#247; 1 (Answer: 8)\r\n    What is 49 &#247; 7 (Answer: 7)\r\n    What is 14 &#247; 7 (Answer: 2)\r\n    What is 16 &#247; 8 (Answer: 2)\r\n    What is 51 &#247; 17 (Answer: 3)\r\n\r\n\r\nInverse Approach\r\n----------------\r\n\r\nGiven the comment below clarifying the desired result, the inverse approach to the equation is simpler and has the benefit of naturally eliminating the primes &gt; 10.  (A number 1..10 multiplied by a number 1..10 cannot result in a prime &gt; 10.)\r\n\r\n        java.util.Random r = new java.util.Random();\r\n\r\n        for (int i = 0; i &lt; 100; i++) {\r\n\r\n        \tint num2 = r.nextInt(10) + 1;\r\n        \tint answer = r.nextInt(10) + 1;\r\n\r\n        \tint num1 = num2 * answer;\r\n        \t\r\n            System.out.println(&quot;What is &quot; + num1 + &quot; &#247; &quot; + num2+ &quot; (Answer: &quot;+answer+&quot;)&quot;);\r\n            // Create your question from first and second numbers here\r\n            \r\n        }\r\n\r\n\r\nAnd result from inverse approach:\r\n\r\n    What is 21 &#247; 7 (Answer: 3)\r\n    What is 4 &#247; 1 (Answer: 4)\r\n    What is 100 &#247; 10 (Answer: 10)\r\n    What is 40 &#247; 4 (Answer: 10)\r\n    What is 64 &#247; 8 (Answer: 8)\r\n    What is 16 &#247; 8 (Answer: 2)\r\n    What is 14 &#247; 2 (Answer: 7)\r\n    What is 63 &#247; 7 (Answer: 9)\r\n    What is 56 &#247; 7 (Answer: 8)\r\n    What is 4 &#247; 2 (Answer: 2)\r\n    What is 10 &#247; 2 (Answer: 5)\r\n    What is 18 &#247; 6 (Answer: 3)\r\n    What is 5 &#247; 5 (Answer: 1)\r\n    What is 42 &#247; 7 (Answer: 6)\r\n    What is 5 &#247; 1 (Answer: 5)\r\n    What is 54 &#247; 6 (Answer: 9)\r\n    What is 14 &#247; 2 (Answer: 7)\r\n    What is 14 &#247; 2 (Answer: 7)\r\n    What is 50 &#247; 5 (Answer: 10)\r\n    What is 36 &#247; 6 (Answer: 6)\r\n    What is 12 &#247; 6 (Answer: 2)\r\n    What is 56 &#247; 8 (Answer: 7)\r\n    What is 24 &#247; 8 (Answer: 3)\r\n    What is 12 &#247; 4 (Answer: 3)\r\n    What is 20 &#247; 5 (Answer: 4)\r\n    What is 100 &#247; 10 (Answer: 10)\r\n    What is 36 &#247; 4 (Answer: 9)\r\n    What is 18 &#247; 9 (Answer: 2)\r\n    What is 48 &#247; 6 (Answer: 8)\r\n    What is 40 &#247; 4 (Answer: 10)\r\n    What is 42 &#247; 6 (Answer: 7)\r\n    What is 8 &#247; 2 (Answer: 4)\r\n    What is 18 &#247; 2 (Answer: 9)\r\n    What is 18 &#247; 3 (Answer: 6)\r\n    What is 70 &#247; 10 (Answer: 7)\r\n    What is 8 &#247; 1 (Answer: 8)\r\n    What is 12 &#247; 3 (Answer: 4)\r\n    What is 24 &#247; 6 (Answer: 4)\r\n    What is 8 &#247; 4 (Answer: 2)\r\n    What is 6 &#247; 3 (Answer: 2)\r\n    What is 20 &#247; 10 (Answer: 2)\r\n    What is 30 &#247; 6 (Answer: 5)\r\n    What is 70 &#247; 10 (Answer: 7)\r\n    What is 42 &#247; 6 (Answer: 7)\r\n    What is 6 &#247; 2 (Answer: 3)\r\n    What is 15 &#247; 3 (Answer: 5)\r\n    What is 12 &#247; 3 (Answer: 4)\r\n    What is 10 &#247; 2 (Answer: 5)\r\n    What is 70 &#247; 7 (Answer: 10)\r\n    What is 6 &#247; 1 (Answer: 6)\r\n    What is 80 &#247; 8 (Answer: 10)\r\n    What is 7 &#247; 1 (Answer: 7)\r\n    What is 45 &#247; 5 (Answer: 9)\r\n    What is 21 &#247; 7 (Answer: 3)\r\n    What is 48 &#247; 6 (Answer: 8)\r\n    What is 12 &#247; 3 (Answer: 4)\r\n    What is 21 &#247; 3 (Answer: 7)\r\n    What is 48 &#247; 8 (Answer: 6)\r\n    What is 80 &#247; 8 (Answer: 10)\r\n    What is 50 &#247; 5 (Answer: 10)\r\n    What is 18 &#247; 3 (Answer: 6)\r\n    What is 24 &#247; 8 (Answer: 3)\r\n    What is 30 &#247; 5 (Answer: 6)\r\n    What is 54 &#247; 9 (Answer: 6)\r\n    What is 8 &#247; 8 (Answer: 1)\r\n    What is 8 &#247; 8 (Answer: 1)\r\n    What is 40 &#247; 8 (Answer: 5)\r\n    What is 6 &#247; 1 (Answer: 6)\r\n    What is 60 &#247; 10 (Answer: 6)\r\n    What is 60 &#247; 6 (Answer: 10)\r\n    What is 45 &#247; 9 (Answer: 5)\r\n    What is 48 &#247; 6 (Answer: 8)\r\n    What is 50 &#247; 5 (Answer: 10)\r\n    What is 24 &#247; 3 (Answer: 8)\r\n    What is 6 &#247; 3 (Answer: 2)\r\n    What is 5 &#247; 1 (Answer: 5)\r\n    What is 4 &#247; 1 (Answer: 4)\r\n    What is 20 &#247; 4 (Answer: 5)\r\n    What is 9 &#247; 3 (Answer: 3)\r\n    What is 45 &#247; 5 (Answer: 9)\r\n    What is 3 &#247; 1 (Answer: 3)\r\n    What is 6 &#247; 2 (Answer: 3)\r\n    What is 54 &#247; 6 (Answer: 9)\r\n    What is 21 &#247; 3 (Answer: 7)\r\n    What is 50 &#247; 10 (Answer: 5)\r\n    What is 20 &#247; 5 (Answer: 4)\r\n    What is 6 &#247; 3 (Answer: 2)\r\n    What is 10 &#247; 10 (Answer: 1)\r\n    What is 60 &#247; 6 (Answer: 10)\r\n    What is 10 &#247; 10 (Answer: 1)\r\n    What is 72 &#247; 9 (Answer: 8)\r\n    What is 15 &#247; 5 (Answer: 3)\r\n    What is 16 &#247; 8 (Answer: 2)\r\n    What is 70 &#247; 10 (Answer: 7)\r\n    What is 24 &#247; 4 (Answer: 6)\r\n    What is 16 &#247; 8 (Answer: 2)\r\n    What is 80 &#247; 10 (Answer: 8)\r\n    What is 40 &#247; 10 (Answer: 4)\r\n    What is 12 &#247; 6 (Answer: 2)\r\n    What is 16 &#247; 2 (Answer: 8)\r\n","title":"how to exclude prime number from random number math quiz?","body":"<p>(Some points of your question required some interpretation - hopefully I was correct; otherwise, just add a comment and I'll try to adapt.)</p>\n<h2>Require answer always &lt;= 10</h2>\n<p>To ensure the selected divisor does not result in an &quot;answer&quot; more than 10, then simply restrict the divisors added to the divisor list.</p>\n<p>Modify the one line in <code>getDivisors</code> as such:</p>\n<pre><code>// i is an integral divisor and the resulting quotient is &lt;= 10\nif (number % i == 0 &amp;&amp; number / i &lt;= 10)\n</code></pre>\n<p>Then when the code randomly selects a divisor from the list, the &quot;answer&quot; to the question:</p>\n<blockquote>\n<p>num1 ÷ num2</p>\n</blockquote>\n<p>will always be &lt;= 10, where num1 is a number from 1 to 100 (inclusive) and num2 is the randomly selected integral divisor.</p>\n<h2>Exclude some dividends (<code>num1</code>)</h2>\n<p>In order to exclude certain numbers from a range (for your <code>num1</code>) you could do it as a loop as in <a href=\"https://stackoverflow.com/a/33945385/17856705\">here</a>.</p>\n<p>Or you could create a list of the acceptable numbers and then use <code>Random</code> to provide an index into your acceptable list <a href=\"https://stackoverflow.com/a/56121713/17856705\">(credit reference answer for list creation)</a>:</p>\n<pre><code>// an array of acceptable numbers as dividend\nint[] acceptableNums = IntStream.range(1, 101).filter(a -&gt; !java.util.List.of(11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97).contains(a)).toArray();\n\n// here i chose to use &quot;r&quot; which is java.util.Random r = new java.util.Random() because my test involved a loop and I want to get uniform distribution over the loop.\nint num1 = acceptableNums[r.nextInt(acceptableNums.length)];\n</code></pre>\n<p>So the complete test:</p>\n<pre><code>public static void main(String[] args) {\n    \n    java.util.Random r = new java.util.Random();\n\n    int[] acceptableNums = IntStream.range(1, 101).filter(a -&gt; !java.util.List.of(11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97).contains(a)).toArray();\n\n    for (int i = 0; i &lt; 100; i++) {\n\n        int num1 = acceptableNums[r.nextInt(acceptableNums.length)];\n        java.util.List&lt;Integer&gt; firstNumDivisors = getDivisors(num1);\n\n        int divisorsRandIndex = (int) (Math.random() * firstNumDivisors.size());\n        int num2 = firstNumDivisors.get(divisorsRandIndex);\n\n\n        System.out.println(&quot;What is &quot; + num1 + &quot; ÷ &quot; + num2+ &quot; (Answer: &quot;+num1/num2+&quot;)&quot;);\n        // Create your question from first and second numbers here\n        \n    }\n}\n\n    private static java.util.List&lt;Integer&gt; getDivisors ( int number){\n        java.util.List&lt;Integer&gt; divisors = new java.util.ArrayList&lt;&gt;();\n\n        for (int i = 1; i &lt;= number; i++)\n            if (number % i == 0 &amp;&amp; number / i &lt;= 10)\n                divisors.add(i);\n\n        return divisors;\n    }    \n</code></pre>\n<p>And the output:</p>\n<pre><code>What is 78 ÷ 39 (Answer: 2)\nWhat is 1 ÷ 1 (Answer: 1)\nWhat is 32 ÷ 8 (Answer: 4)\nWhat is 68 ÷ 17 (Answer: 4)\nWhat is 26 ÷ 13 (Answer: 2)\nWhat is 94 ÷ 47 (Answer: 2)\nWhat is 46 ÷ 23 (Answer: 2)\nWhat is 68 ÷ 68 (Answer: 1)\nWhat is 10 ÷ 2 (Answer: 5)\nWhat is 70 ÷ 10 (Answer: 7)\nWhat is 38 ÷ 38 (Answer: 1)\nWhat is 75 ÷ 75 (Answer: 1)\nWhat is 1 ÷ 1 (Answer: 1)\nWhat is 90 ÷ 30 (Answer: 3)\nWhat is 62 ÷ 62 (Answer: 1)\nWhat is 95 ÷ 95 (Answer: 1)\nWhat is 60 ÷ 6 (Answer: 10)\nWhat is 27 ÷ 3 (Answer: 9)\nWhat is 5 ÷ 1 (Answer: 5)\nWhat is 28 ÷ 14 (Answer: 2)\nWhat is 1 ÷ 1 (Answer: 1)\nWhat is 70 ÷ 14 (Answer: 5)\nWhat is 21 ÷ 21 (Answer: 1)\nWhat is 40 ÷ 40 (Answer: 1)\nWhat is 51 ÷ 17 (Answer: 3)\nWhat is 24 ÷ 12 (Answer: 2)\nWhat is 5 ÷ 1 (Answer: 5)\nWhat is 58 ÷ 58 (Answer: 1)\nWhat is 91 ÷ 91 (Answer: 1)\nWhat is 91 ÷ 13 (Answer: 7)\nWhat is 94 ÷ 94 (Answer: 1)\nWhat is 28 ÷ 14 (Answer: 2)\nWhat is 46 ÷ 23 (Answer: 2)\nWhat is 95 ÷ 95 (Answer: 1)\nWhat is 58 ÷ 58 (Answer: 1)\nWhat is 2 ÷ 2 (Answer: 1)\nWhat is 55 ÷ 55 (Answer: 1)\nWhat is 20 ÷ 5 (Answer: 4)\nWhat is 92 ÷ 23 (Answer: 4)\nWhat is 21 ÷ 21 (Answer: 1)\nWhat is 10 ÷ 5 (Answer: 2)\nWhat is 1 ÷ 1 (Answer: 1)\nWhat is 69 ÷ 69 (Answer: 1)\nWhat is 84 ÷ 21 (Answer: 4)\nWhat is 96 ÷ 24 (Answer: 4)\nWhat is 90 ÷ 45 (Answer: 2)\nWhat is 88 ÷ 44 (Answer: 2)\nWhat is 88 ÷ 22 (Answer: 4)\nWhat is 72 ÷ 36 (Answer: 2)\nWhat is 40 ÷ 5 (Answer: 8)\nWhat is 8 ÷ 4 (Answer: 2)\nWhat is 10 ÷ 2 (Answer: 5)\nWhat is 24 ÷ 3 (Answer: 8)\nWhat is 66 ÷ 66 (Answer: 1)\nWhat is 90 ÷ 30 (Answer: 3)\nWhat is 66 ÷ 66 (Answer: 1)\nWhat is 58 ÷ 58 (Answer: 1)\nWhat is 91 ÷ 91 (Answer: 1)\nWhat is 58 ÷ 58 (Answer: 1)\nWhat is 28 ÷ 7 (Answer: 4)\nWhat is 96 ÷ 16 (Answer: 6)\nWhat is 90 ÷ 30 (Answer: 3)\nWhat is 91 ÷ 91 (Answer: 1)\nWhat is 12 ÷ 4 (Answer: 3)\nWhat is 4 ÷ 4 (Answer: 1)\nWhat is 84 ÷ 84 (Answer: 1)\nWhat is 8 ÷ 1 (Answer: 8)\nWhat is 49 ÷ 7 (Answer: 7)\nWhat is 14 ÷ 7 (Answer: 2)\nWhat is 16 ÷ 8 (Answer: 2)\nWhat is 51 ÷ 17 (Answer: 3)\n</code></pre>\n<h2>Inverse Approach</h2>\n<p>Given the comment below clarifying the desired result, the inverse approach to the equation is simpler and has the benefit of naturally eliminating the primes &gt; 10.  (A number 1..10 multiplied by a number 1..10 cannot result in a prime &gt; 10.)</p>\n<pre><code>    java.util.Random r = new java.util.Random();\n\n    for (int i = 0; i &lt; 100; i++) {\n\n        int num2 = r.nextInt(10) + 1;\n        int answer = r.nextInt(10) + 1;\n\n        int num1 = num2 * answer;\n        \n        System.out.println(&quot;What is &quot; + num1 + &quot; ÷ &quot; + num2+ &quot; (Answer: &quot;+answer+&quot;)&quot;);\n        // Create your question from first and second numbers here\n        \n    }\n</code></pre>\n<p>And result from inverse approach:</p>\n<pre><code>What is 21 ÷ 7 (Answer: 3)\nWhat is 4 ÷ 1 (Answer: 4)\nWhat is 100 ÷ 10 (Answer: 10)\nWhat is 40 ÷ 4 (Answer: 10)\nWhat is 64 ÷ 8 (Answer: 8)\nWhat is 16 ÷ 8 (Answer: 2)\nWhat is 14 ÷ 2 (Answer: 7)\nWhat is 63 ÷ 7 (Answer: 9)\nWhat is 56 ÷ 7 (Answer: 8)\nWhat is 4 ÷ 2 (Answer: 2)\nWhat is 10 ÷ 2 (Answer: 5)\nWhat is 18 ÷ 6 (Answer: 3)\nWhat is 5 ÷ 5 (Answer: 1)\nWhat is 42 ÷ 7 (Answer: 6)\nWhat is 5 ÷ 1 (Answer: 5)\nWhat is 54 ÷ 6 (Answer: 9)\nWhat is 14 ÷ 2 (Answer: 7)\nWhat is 14 ÷ 2 (Answer: 7)\nWhat is 50 ÷ 5 (Answer: 10)\nWhat is 36 ÷ 6 (Answer: 6)\nWhat is 12 ÷ 6 (Answer: 2)\nWhat is 56 ÷ 8 (Answer: 7)\nWhat is 24 ÷ 8 (Answer: 3)\nWhat is 12 ÷ 4 (Answer: 3)\nWhat is 20 ÷ 5 (Answer: 4)\nWhat is 100 ÷ 10 (Answer: 10)\nWhat is 36 ÷ 4 (Answer: 9)\nWhat is 18 ÷ 9 (Answer: 2)\nWhat is 48 ÷ 6 (Answer: 8)\nWhat is 40 ÷ 4 (Answer: 10)\nWhat is 42 ÷ 6 (Answer: 7)\nWhat is 8 ÷ 2 (Answer: 4)\nWhat is 18 ÷ 2 (Answer: 9)\nWhat is 18 ÷ 3 (Answer: 6)\nWhat is 70 ÷ 10 (Answer: 7)\nWhat is 8 ÷ 1 (Answer: 8)\nWhat is 12 ÷ 3 (Answer: 4)\nWhat is 24 ÷ 6 (Answer: 4)\nWhat is 8 ÷ 4 (Answer: 2)\nWhat is 6 ÷ 3 (Answer: 2)\nWhat is 20 ÷ 10 (Answer: 2)\nWhat is 30 ÷ 6 (Answer: 5)\nWhat is 70 ÷ 10 (Answer: 7)\nWhat is 42 ÷ 6 (Answer: 7)\nWhat is 6 ÷ 2 (Answer: 3)\nWhat is 15 ÷ 3 (Answer: 5)\nWhat is 12 ÷ 3 (Answer: 4)\nWhat is 10 ÷ 2 (Answer: 5)\nWhat is 70 ÷ 7 (Answer: 10)\nWhat is 6 ÷ 1 (Answer: 6)\nWhat is 80 ÷ 8 (Answer: 10)\nWhat is 7 ÷ 1 (Answer: 7)\nWhat is 45 ÷ 5 (Answer: 9)\nWhat is 21 ÷ 7 (Answer: 3)\nWhat is 48 ÷ 6 (Answer: 8)\nWhat is 12 ÷ 3 (Answer: 4)\nWhat is 21 ÷ 3 (Answer: 7)\nWhat is 48 ÷ 8 (Answer: 6)\nWhat is 80 ÷ 8 (Answer: 10)\nWhat is 50 ÷ 5 (Answer: 10)\nWhat is 18 ÷ 3 (Answer: 6)\nWhat is 24 ÷ 8 (Answer: 3)\nWhat is 30 ÷ 5 (Answer: 6)\nWhat is 54 ÷ 9 (Answer: 6)\nWhat is 8 ÷ 8 (Answer: 1)\nWhat is 8 ÷ 8 (Answer: 1)\nWhat is 40 ÷ 8 (Answer: 5)\nWhat is 6 ÷ 1 (Answer: 6)\nWhat is 60 ÷ 10 (Answer: 6)\nWhat is 60 ÷ 6 (Answer: 10)\nWhat is 45 ÷ 9 (Answer: 5)\nWhat is 48 ÷ 6 (Answer: 8)\nWhat is 50 ÷ 5 (Answer: 10)\nWhat is 24 ÷ 3 (Answer: 8)\nWhat is 6 ÷ 3 (Answer: 2)\nWhat is 5 ÷ 1 (Answer: 5)\nWhat is 4 ÷ 1 (Answer: 4)\nWhat is 20 ÷ 4 (Answer: 5)\nWhat is 9 ÷ 3 (Answer: 3)\nWhat is 45 ÷ 5 (Answer: 9)\nWhat is 3 ÷ 1 (Answer: 3)\nWhat is 6 ÷ 2 (Answer: 3)\nWhat is 54 ÷ 6 (Answer: 9)\nWhat is 21 ÷ 3 (Answer: 7)\nWhat is 50 ÷ 10 (Answer: 5)\nWhat is 20 ÷ 5 (Answer: 4)\nWhat is 6 ÷ 3 (Answer: 2)\nWhat is 10 ÷ 10 (Answer: 1)\nWhat is 60 ÷ 6 (Answer: 10)\nWhat is 10 ÷ 10 (Answer: 1)\nWhat is 72 ÷ 9 (Answer: 8)\nWhat is 15 ÷ 5 (Answer: 3)\nWhat is 16 ÷ 8 (Answer: 2)\nWhat is 70 ÷ 10 (Answer: 7)\nWhat is 24 ÷ 4 (Answer: 6)\nWhat is 16 ÷ 8 (Answer: 2)\nWhat is 80 ÷ 10 (Answer: 8)\nWhat is 40 ÷ 10 (Answer: 4)\nWhat is 12 ÷ 6 (Answer: 2)\nWhat is 16 ÷ 2 (Answer: 8)\n</code></pre>\n"}],"owner":{"account_id":25973865,"reputation":13,"user_id":19688576,"display_name":"Mervile"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73262952,"answer_count":1,"score":0,"last_activity_date":1659871660,"creation_date":1659810033,"question_id":73262289,"body_markdown":"I tried this for my math quiz and it works wonders, but I did not get the fractional part:\r\n \r\n\r\n    public void gameContinue() {\r\n      int num1 = (int) (Math.random() * 100 + 1);\r\n      java.util.List&lt;Integer&gt; firstNumDivisors = getDivisors(num1);\r\n    \r\n      int divisorsRandIndex = (int) (Math.random() * firstNumDivisors.size());\r\n      int num2 = firstNumDivisors.get(divisorsRandIndex);\r\n    \r\n      question.setText(num1 + &quot; &#247; &quot; + num2);\r\n      \r\n      // Create your question from first and second numbers here\r\n    }\r\n    \r\n    private static java.util.List&lt;Integer&gt; getDivisors (int number) {\r\n      java.util.List&lt;Integer&gt; divisors = new java.util.ArrayList&lt;&gt;();\r\n    \r\n      for (int i = 1; i &lt;= number; i++)\r\n        if (number % i == 0)\r\n          divisors.add(i);\r\n      return divisors;\r\n    }\r\n\r\nBut after some testing, I do not want to include prime numbers (more than 10 like 11, 13, 17, 19 and so on) and I also do not want the answer to be more than 10 (11, 12, 13 and so on)\r\n\r\nShould I make a string for prime numbers and make the program exclude those? Also, how can I make the answer to be no more than 10?\r\n\r\nThank you\r\n","title":"how to exclude prime number from random number math quiz?","body":"<p>I tried this for my math quiz and it works wonders, but I did not get the fractional part:</p>\n<pre><code>public void gameContinue() {\n  int num1 = (int) (Math.random() * 100 + 1);\n  java.util.List&lt;Integer&gt; firstNumDivisors = getDivisors(num1);\n\n  int divisorsRandIndex = (int) (Math.random() * firstNumDivisors.size());\n  int num2 = firstNumDivisors.get(divisorsRandIndex);\n\n  question.setText(num1 + &quot; ÷ &quot; + num2);\n  \n  // Create your question from first and second numbers here\n}\n\nprivate static java.util.List&lt;Integer&gt; getDivisors (int number) {\n  java.util.List&lt;Integer&gt; divisors = new java.util.ArrayList&lt;&gt;();\n\n  for (int i = 1; i &lt;= number; i++)\n    if (number % i == 0)\n      divisors.add(i);\n  return divisors;\n}\n</code></pre>\n<p>But after some testing, I do not want to include prime numbers (more than 10 like 11, 13, 17, 19 and so on) and I also do not want the answer to be more than 10 (11, 12, 13 and so on)</p>\n<p>Should I make a string for prime numbers and make the program exclude those? Also, how can I make the answer to be no more than 10?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","sqlite","hibernate","jpa"],"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659870943,"creation_date":1659813573,"question_id":73262650,"body_markdown":"I am trying to perform **Batch Insert** with spring data jpa and *Hibernate* but the problem is *Hibernate* only supports batch inserts when the generated value strategy is `SEQUENCE` but somehow sqlite does not support this strategy so I resort to Identity which works fine but does not support batching with hibernate. Is there any solution or workaround for this.\r\n\r\n&lt;h5&gt;Entity&lt;/h5&gt;\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;party&quot;)\r\npublic class PartyEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;party_id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;party_name&quot;, unique = true)\r\n    @NonNull\r\n    private String name;\r\n\r\n    @Column(name = &quot;party_phone_number&quot;, unique = true)\r\n    private Long number;\r\n\r\n}\r\n```\r\nSQLite do have this table called &#39;sqlite_sequence&#39; which I try to use with @SequenceGenerator but hibernate tries to create this table which we cannot as this is a reserved table. And same goes for @TableGenerator.\r\n\r\n&lt;h6&gt;Annotation for sequence used&lt;/h6&gt;\r\n\r\n```\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;party_seq&quot;)\r\n@SequenceGenerator(name = &quot;party_seq&quot;, sequenceName = &quot;sqlite_sequence&quot;, allocationSize = 1)\r\n```\r\n\r\n&lt;h6&gt;Annotation for table used&lt;/h6&gt;\r\n\r\n```\r\n@GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;sqlite_generator&quot;)\r\n@TableGenerator(name = &quot;sqlite_generator&quot;, table = &quot;sqlite_sequence&quot;, pkColumnName = &quot;name&quot;,\r\n            valueColumnName = &quot;seq&quot;, pkColumnValue = &quot;party&quot;, initialValue = 1, allocationSize = 1)\r\n```\r\n\r\nDDL script for the table\r\n```\r\nCREATE TABLE party (\r\n    party_id              INTEGER       PRIMARY KEY ASC AUTOINCREMENT,\r\n    party_name            VARCHAR (256) UNIQUE\r\n                                        NOT NULL,\r\n    party_phone_number    INTEGER (10)  UNIQUE\r\n);\r\n```\r\n","title":"How to achieve Batch Inserts with Spring data and SQLite?","body":"<p>I am trying to perform <strong>Batch Insert</strong> with spring data jpa and <em>Hibernate</em> but the problem is <em>Hibernate</em> only supports batch inserts when the generated value strategy is <code>SEQUENCE</code> but somehow sqlite does not support this strategy so I resort to Identity which works fine but does not support batching with hibernate. Is there any solution or workaround for this.</p>\n<h5>Entity</h5>\n<pre><code>@Entity\n@Table(name = &quot;party&quot;)\npublic class PartyEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;party_id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;party_name&quot;, unique = true)\n    @NonNull\n    private String name;\n\n    @Column(name = &quot;party_phone_number&quot;, unique = true)\n    private Long number;\n\n}\n</code></pre>\n<p>SQLite do have this table called 'sqlite_sequence' which I try to use with @SequenceGenerator but hibernate tries to create this table which we cannot as this is a reserved table. And same goes for @TableGenerator.</p>\n<h6>Annotation for sequence used</h6>\n<pre><code>@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;party_seq&quot;)\n@SequenceGenerator(name = &quot;party_seq&quot;, sequenceName = &quot;sqlite_sequence&quot;, allocationSize = 1)\n</code></pre>\n<h6>Annotation for table used</h6>\n<pre><code>@GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;sqlite_generator&quot;)\n@TableGenerator(name = &quot;sqlite_generator&quot;, table = &quot;sqlite_sequence&quot;, pkColumnName = &quot;name&quot;,\n            valueColumnName = &quot;seq&quot;, pkColumnValue = &quot;party&quot;, initialValue = 1, allocationSize = 1)\n</code></pre>\n<p>DDL script for the table</p>\n<pre><code>CREATE TABLE party (\n    party_id              INTEGER       PRIMARY KEY ASC AUTOINCREMENT,\n    party_name            VARCHAR (256) UNIQUE\n                                        NOT NULL,\n    party_phone_number    INTEGER (10)  UNIQUE\n);\n</code></pre>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1512589233,"post_id":47682179,"comment_id":82323560,"body_markdown":"The code you show should correctly print **all elements** of the `ArrayList`. The `it.next()` call will, at its first call, also return the **first element**. This element is usually denoted with **index 0**.","body":"The code you show should correctly print <b>all elements</b> of the <code>ArrayList</code>. The <code>it.next()</code> call will, at its first call, also return the <b>first element</b>. This element is usually denoted with <b>index 0</b>."},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1512589247,"post_id":47682179,"comment_id":82323568,"body_markdown":"Did you know you can look at the source code of java classes to see what they do and how?","body":"Did you know you can look at the source code of java classes to see what they do and how?"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1512589447,"post_id":47682179,"comment_id":82323673,"body_markdown":"Possible duplicate of [Ways to iterate over a List in java?](https://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java\">Ways to iterate over a List in java?</a>"},{"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"score":0,"creation_date":1512589459,"post_id":47682179,"comment_id":82323681,"body_markdown":"Think of iterator as a cursor when you are typing text, imagine you had &quot;abc&quot; in some text file, and you want to read each and every one of those letters, at the very beginning cursor will be just before letter &#39;a&#39; when you call next imagine that it moves one place to the right and selects the element it moves over, so you can now print that element or do something with it, then on the next call it will move over across &#39;b&#39; so you can do something with &#39;b&#39;, and it keeps doing this until it has nothing to move over.","body":"Think of iterator as a cursor when you are typing text, imagine you had &quot;abc&quot; in some text file, and you want to read each and every one of those letters, at the very beginning cursor will be just before letter &#39;a&#39; when you call next imagine that it moves one place to the right and selects the element it moves over, so you can now print that element or do something with it, then on the next call it will move over across &#39;b&#39; so you can do something with &#39;b&#39;, and it keeps doing this until it has nothing to move over."},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1512589523,"post_id":47682179,"comment_id":82323715,"body_markdown":"@user1803551 OP is not asking how to iterate over a List - OP is asking about the mechanics of iterating using `next()` and, specifically, the edge case when fetching the first element.","body":"@user1803551 OP is not asking how to iterate over a List - OP is asking about the mechanics of iterating using <code>next()</code> and, specifically, the edge case when fetching the first element."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1512589797,"post_id":47682179,"comment_id":82323861,"body_markdown":"@ochi The question is not what determines duplicate, it&#39;s the answers. The answers there address this.","body":"@ochi The question is not what determines duplicate, it&#39;s the answers. The answers there address this."},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1512589902,"post_id":47682179,"comment_id":82323914,"body_markdown":"@user1803551 I&#39;ll agree to disagree ;)","body":"@user1803551 I&#39;ll agree to disagree ;)"},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1512590377,"post_id":47682179,"comment_id":82324167,"body_markdown":"IMO this is a reasonable question - it&#39;s asking how to model where and when an iterator points (i.e. is it pointing &quot;in between&quot;, &quot;before&quot;, or something else?)","body":"IMO this is a reasonable question - it&#39;s asking how to model where and when an iterator points (i.e. is it pointing &quot;in between&quot;, &quot;before&quot;, or something else?)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1512590862,"post_id":47682179,"comment_id":82324452,"body_markdown":"It&#39;s all about the documentation as it just says *&quot;returns the next element&quot;*. Technically *next* implies that there was already something before. So in my opinion it is reasonable to ask what the first element is. The documentation could have explained this better.","body":"It&#39;s all about the documentation as it just says <i>&quot;returns the next element&quot;</i>. Technically <i>next</i> implies that there was already something before. So in my opinion it is reasonable to ask what the first element is. The documentation could have explained this better."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1512590960,"post_id":47682179,"comment_id":82324510,"body_markdown":"@OliverCharlesworth And that is shown well in the [tutorial](https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html), with a diagram, code examples and explanation. Questions which do not do research are not good questions and this is even a good downvote reason.","body":"@OliverCharlesworth And that is shown well in the <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">tutorial</a>, with a diagram, code examples and explanation. Questions which do not do research are not good questions and this is even a good downvote reason."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1512591135,"post_id":47682179,"comment_id":82324586,"body_markdown":"@user1803551 - Point taken.  But bear in mind that&#39;s a tutorial page for `List`, so not necessarily what you&#39;d stumble upon if you&#39;re researching the semantics of iterators in general.  And as Zabuza points out, the language in the Javadoc isn&#39;t necessarily helpful.","body":"@user1803551 - Point taken.  But bear in mind that&#39;s a tutorial page for <code>List</code>, so not necessarily what you&#39;d stumble upon if you&#39;re researching the semantics of iterators in general.  And as Zabuza points out, the language in the Javadoc isn&#39;t necessarily helpful."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1512591418,"post_id":47682179,"comment_id":82324732,"body_markdown":"@ochi Maybe you&#39;d prefer https://stackoverflow.com/questions/26194702/cursor-implementation-in-iterator-in-java-collections","body":"@ochi Maybe you&#39;d prefer <a href=\"https://stackoverflow.com/questions/26194702/cursor-implementation-in-iterator-in-java-collections\" title=\"cursor implementation in iterator in java collections\">stackoverflow.com/questions/26194702/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1512589299,"creation_date":1512589299,"answer_id":47682245,"question_id":47682179,"body_markdown":"Think of `next` as a two-step process. First it gets the next item in the iterator, then it increments the pointer to point to the next item. So, when you create a new iterator, it is initialized to return the first item (index 0) in your list.","title":"How does next() method on iterators work?","body":"<p>Think of <code>next</code> as a two-step process. First it gets the next item in the iterator, then it increments the pointer to point to the next item. So, when you create a new iterator, it is initialized to return the first item (index 0) in your list.</p>\n"},{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512590541,"creation_date":1512589674,"answer_id":47682343,"question_id":47682179,"body_markdown":"The code you show will correctly print **all elements** of the `ArrayList`. The `it.next()` call will, at its first call, also the **first element**. This element is usually denoted with **index 0**.\r\n\r\nNote that you might want to rename `arrayOfStrings` as technically it&#39;s no **array**, it&#39;s more a `List`. A user might due the name think that it is an array.\r\n\r\n----------\r\n## Documentation ##\r\n\r\nIn my opinion you are right that the [documentation of the method](https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#next--) can be a bit confusing since it is so compact:\r\n\r\n&gt;Returns the next element in the iteration.\r\n\r\nHowever the description probably needs to be so undetailed since `Iterator` is a very frequently used interface, not only for collections. I could imagine a class where the *first iteration element* should not be the first element of the underlying structure. For example some kind of stream that was already read until a given point. So basically it is up to the implementing class to decide what the *first element* is. But for collections it will truly be the **first element** (index 0).\r\n\r\n----------\r\n## For-each ##\r\n\r\nAlso note that the iteration you show is equivalent to how the **extended for-loop** (for-each) works in Java. So a syntax like\r\n\r\n    for (Item item : items) {\r\n        ...\r\n    }\r\n\r\nwill be treated like\r\n\r\n    Iterator&lt;Item&gt; iter = items.iterator();\r\n    while(iter.hasNext()) {\r\n        Item item = iter.next();\r\n        ...\r\n    }\r\n\r\nIn fact this is the reason why you can use everything that implements `Iterable` in *extended for loops*.\r\n\r\nKnowing this it would rather be confusing if `iter.next()` would skip the first element. I mean by the name **for-each** is supposed to iterate **all** elements.\r\n\r\n----------\r\n## Insights ##\r\n\r\nLet&#39;s take a closer look at how the method is implemented. Therefore we will first see what `ArrayList#iterator` does. Take a look at its [source code](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList):\r\n\r\n    public Iterator&lt;E&gt; iterator() {\r\n        return new Itr();\r\n    }\r\n\r\nThe `Itr` class is a private class of `ArrayList` ([source code](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList.Itr)). And [here](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList.Itr.next%28%29) is the `Itr#next` method:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public E next() {\r\n        checkForComodification();\r\n        int i = cursor;\r\n        if (i &gt;= size)\r\n            throw new NoSuchElementException();\r\n\r\n        Object[] elementData = ArrayList.this.elementData;\r\n        if (i &gt;= elementData.length)\r\n            throw new ConcurrentModificationException();\r\n\r\n        cursor = i + 1;\r\n        return (E) elementData[lastRet = i];\r\n    }\r\n\r\nSo what it essentially returns is the element at index `i` which is where the cursor was at the point of calling the method. It also already advances the cursor by one for the next call of the method.\r\n\r\nThe cursor however is implicitly initialized with `0` due to:\r\n\r\n    int cursor; // Default value for int is 0\r\n\r\nSo the first call of `next` will indeed return the element at index `0` which is the **first element**.","title":"How does next() method on iterators work?","body":"<p>The code you show will correctly print <strong>all elements</strong> of the <code>ArrayList</code>. The <code>it.next()</code> call will, at its first call, also the <strong>first element</strong>. This element is usually denoted with <strong>index 0</strong>.</p>\n\n<p>Note that you might want to rename <code>arrayOfStrings</code> as technically it's no <strong>array</strong>, it's more a <code>List</code>. A user might due the name think that it is an array.</p>\n\n<hr>\n\n<h2>Documentation</h2>\n\n<p>In my opinion you are right that the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#next--\" rel=\"nofollow noreferrer\">documentation of the method</a> can be a bit confusing since it is so compact:</p>\n\n<blockquote>\n  <p>Returns the next element in the iteration.</p>\n</blockquote>\n\n<p>However the description probably needs to be so undetailed since <code>Iterator</code> is a very frequently used interface, not only for collections. I could imagine a class where the <em>first iteration element</em> should not be the first element of the underlying structure. For example some kind of stream that was already read until a given point. So basically it is up to the implementing class to decide what the <em>first element</em> is. But for collections it will truly be the <strong>first element</strong> (index 0).</p>\n\n<hr>\n\n<h2>For-each</h2>\n\n<p>Also note that the iteration you show is equivalent to how the <strong>extended for-loop</strong> (for-each) works in Java. So a syntax like</p>\n\n<pre><code>for (Item item : items) {\n    ...\n}\n</code></pre>\n\n<p>will be treated like</p>\n\n<pre><code>Iterator&lt;Item&gt; iter = items.iterator();\nwhile(iter.hasNext()) {\n    Item item = iter.next();\n    ...\n}\n</code></pre>\n\n<p>In fact this is the reason why you can use everything that implements <code>Iterable</code> in <em>extended for loops</em>.</p>\n\n<p>Knowing this it would rather be confusing if <code>iter.next()</code> would skip the first element. I mean by the name <strong>for-each</strong> is supposed to iterate <strong>all</strong> elements.</p>\n\n<hr>\n\n<h2>Insights</h2>\n\n<p>Let's take a closer look at how the method is implemented. Therefore we will first see what <code>ArrayList#iterator</code> does. Take a look at its <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList\" rel=\"nofollow noreferrer\">source code</a>:</p>\n\n<pre><code>public Iterator&lt;E&gt; iterator() {\n    return new Itr();\n}\n</code></pre>\n\n<p>The <code>Itr</code> class is a private class of <code>ArrayList</code> (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList.Itr\" rel=\"nofollow noreferrer\">source code</a>). And <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList.Itr.next%28%29\" rel=\"nofollow noreferrer\">here</a> is the <code>Itr#next</code> method:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic E next() {\n    checkForComodification();\n    int i = cursor;\n    if (i &gt;= size)\n        throw new NoSuchElementException();\n\n    Object[] elementData = ArrayList.this.elementData;\n    if (i &gt;= elementData.length)\n        throw new ConcurrentModificationException();\n\n    cursor = i + 1;\n    return (E) elementData[lastRet = i];\n}\n</code></pre>\n\n<p>So what it essentially returns is the element at index <code>i</code> which is where the cursor was at the point of calling the method. It also already advances the cursor by one for the next call of the method.</p>\n\n<p>The cursor however is implicitly initialized with <code>0</code> due to:</p>\n\n<pre><code>int cursor; // Default value for int is 0\n</code></pre>\n\n<p>So the first call of <code>next</code> will indeed return the element at index <code>0</code> which is the <strong>first element</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1512589844,"creation_date":1512589844,"answer_id":47682379,"question_id":47682179,"body_markdown":"My way to imagine the way iterators work is to think about it as the thing that is placed **between** the indexes. So when the first `next()` is being called you can return the value stored under the [0] index and after that call, iterator waits between index [0] and [1] for the next call to return for you value stored at index [1]. After the second `next()` call iterator waits between [1] and [2] and so on...\n\nIt is just my way to get used to iterators but it might be helpful for you some way.","title":"How does next() method on iterators work?","body":"<p>My way to imagine the way iterators work is to think about it as the thing that is placed <strong>between</strong> the indexes. So when the first <code>next()</code> is being called you can return the value stored under the [0] index and after that call, iterator waits between index [0] and [1] for the next call to return for you value stored at index [1]. After the second <code>next()</code> call iterator waits between [1] and [2] and so on...</p>\n\n<p>It is just my way to get used to iterators but it might be helpful for you some way.</p>\n"},{"tags":[],"owner":{"account_id":14031128,"reputation":1,"user_id":10134987,"display_name":"Faizan Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659870898,"creation_date":1659870898,"answer_id":73266923,"question_id":47682179,"body_markdown":"I will explain this with `ListIterator` which has both `next` and `previous`. `next` has same concept in both `Iterator` and `ListIterator`\r\n\r\n\r\n    ListIterator&lt;String&gt; itr = linkedList.listIterator();\r\nHere `itr` will point at first index (index=0)\r\n\r\nThink `next` as &quot;current&quot; and `previous` as &quot;previous&quot;.\r\n\r\nThat means,\r\n\r\n`itr.hasNext()` = returns true if `itr` has any element at current position.\r\n\r\n`itr.next()` = return the current element and move `itr` to next position.\r\n\r\n`itr.hasPrevious()` = returns true if there is any element at position before `itr`.\r\n\r\n`itr.previous()` = move the `itr` to previous element and return that element.","title":"How does next() method on iterators work?","body":"<p>I will explain this with <code>ListIterator</code> which has both <code>next</code> and <code>previous</code>. <code>next</code> has same concept in both <code>Iterator</code> and <code>ListIterator</code></p>\n<pre><code>ListIterator&lt;String&gt; itr = linkedList.listIterator();\n</code></pre>\n<p>Here <code>itr</code> will point at first index (index=0)</p>\n<p>Think <code>next</code> as &quot;current&quot; and <code>previous</code> as &quot;previous&quot;.</p>\n<p>That means,</p>\n<p><code>itr.hasNext()</code> = returns true if <code>itr</code> has any element at current position.</p>\n<p><code>itr.next()</code> = return the current element and move <code>itr</code> to next position.</p>\n<p><code>itr.hasPrevious()</code> = returns true if there is any element at position before <code>itr</code>.</p>\n<p><code>itr.previous()</code> = move the <code>itr</code> to previous element and return that element.</p>\n"}],"owner":{"account_id":12018604,"reputation":160,"user_id":8792873,"display_name":"Angelixus"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20262,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":47682245,"answer_count":4,"score":4,"last_activity_date":1659870898,"creation_date":1512589076,"question_id":47682179,"body_markdown":"I have a doubt with the `next()` method on iterators.  If I have as a part of my code this lines (with `arrayOfStrings` size = 4):\r\n\r\n    Iterator&lt;String&gt; it = arrayOfStrings.iterator(); //arrayOfString is ArrayList&lt;String&gt;\r\n\r\n    while(it.hasNext()) {\r\n        String e = it.next();\r\n        System.out.println(e);\r\n    }\r\n\r\nAt the very first iteration, the iterator starts pointing to element with index 0? or like the &quot;index -1&quot; ?\r\n\r\nI ask because as far as I know the `next()` method returns the next element in the collection.  \r\n\r\nSo, if at the very first iteration the iterator starts at index 0 when `next()` is invoked, it returns the element at index 1 and I won&#180;t be able to do nothing with the element at index 0?","title":"How does next() method on iterators work?","body":"<p>I have a doubt with the <code>next()</code> method on iterators.  If I have as a part of my code this lines (with <code>arrayOfStrings</code> size = 4):</p>\n\n<pre><code>Iterator&lt;String&gt; it = arrayOfStrings.iterator(); //arrayOfString is ArrayList&lt;String&gt;\n\nwhile(it.hasNext()) {\n    String e = it.next();\n    System.out.println(e);\n}\n</code></pre>\n\n<p>At the very first iteration, the iterator starts pointing to element with index 0? or like the \"index -1\" ?</p>\n\n<p>I ask because as far as I know the <code>next()</code> method returns the next element in the collection.  </p>\n\n<p>So, if at the very first iteration the iterator starts at index 0 when <code>next()</code> is invoked, it returns the element at index 1 and I won´t be able to do nothing with the element at index 0?</p>\n"},{"tags":["javascript","java","spring-boot","algorithm","enums"],"answers":[{"tags":[],"owner":{"account_id":24253099,"reputation":13,"user_id":19631112,"display_name":"Loki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659869609,"creation_date":1659869609,"answer_id":73266803,"question_id":73253622,"body_markdown":"I add in class that implements ValueOfEnumValidation annotation:\r\n\r\n    public class ValueOfEnumValidator implements ConstraintValidator&lt;ValueOfEnumValidation, String&gt; {\r\n      private List&lt;String&gt; valueList = null;\r\n      private String message = &quot;&quot;;\r\n    \r\n      @Override\r\n      public void initialize(ValueOfEnumValidation constraintAnnotation) {\r\n        valueList = Arrays.stream(constraintAnnotation.value().getEnumConstants())\r\n            .map(Enum::name)\r\n            .collect(Collectors.toList());\r\n        message = &quot;Please choose : &quot;+valueList;\r\n      }\r\n    \r\n      @Override\r\n      public boolean isValid(String string, ConstraintValidatorContext context) {\r\n        context.disableDefaultConstraintViolation();\r\n        context.buildConstraintViolationWithTemplate(&quot;You write: &quot;+string+&quot;\\n&quot;+message).addConstraintViolation();\r\n        return valueList.contains(string);\r\n      }\r\n    }","title":"How to return custom message in Enum Anotation?","body":"<p>I add in class that implements ValueOfEnumValidation annotation:</p>\n<pre><code>public class ValueOfEnumValidator implements ConstraintValidator&lt;ValueOfEnumValidation, String&gt; {\n  private List&lt;String&gt; valueList = null;\n  private String message = &quot;&quot;;\n\n  @Override\n  public void initialize(ValueOfEnumValidation constraintAnnotation) {\n    valueList = Arrays.stream(constraintAnnotation.value().getEnumConstants())\n        .map(Enum::name)\n        .collect(Collectors.toList());\n    message = &quot;Please choose : &quot;+valueList;\n  }\n\n  @Override\n  public boolean isValid(String string, ConstraintValidatorContext context) {\n    context.disableDefaultConstraintViolation();\n    context.buildConstraintViolationWithTemplate(&quot;You write: &quot;+string+&quot;\\n&quot;+message).addConstraintViolation();\n    return valueList.contains(string);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24253099,"reputation":13,"user_id":19631112,"display_name":"Loki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659869609,"creation_date":1659721877,"question_id":73253622,"body_markdown":"I have ValueOfEnumValidation annotation which checks the correctness of the input enum:\r\n\r\n  \r\n\r\n     @Target(value = ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @NotNull(message = &quot;Enum cannot be null&quot;)\r\n    @Constraint(validatedBy = ValueOfEnumValidator.class)\r\n    @Documented\r\n    public @interface ValueOfEnumValidation {\r\n      Class&lt;? extends Enum&lt;?&gt;&gt; value();\r\n    \r\n      String message() default &quot;&quot;;\r\n    \r\n      Class&lt;?&gt;[] groups() default {};\r\n    \r\n      Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nand class that implements \r\nValueOfEnumValidation annotation :\r\n\r\n    public class ValueOfEnumValidator implements ConstraintValidator&lt;ValueOfEnumValidation, String&gt; {\r\n      private List&lt;String&gt; valueList = null;\r\n    \r\n      @Override\r\n      public void initialize(ValueOfEnumValidation constraintAnnotation) {\r\n        valueList = Arrays.stream(constraintAnnotation.value().getEnumConstants())\r\n            .map(Enum::name)\r\n            .collect(Collectors.toList());\r\n      }\r\n    \r\n      @Override\r\n      public boolean isValid(String string, ConstraintValidatorContext context) {\r\n        return valueList.contains(string);\r\n      }\r\n    \r\n    }\r\n   \r\nwhat i have get:\r\n json response:\r\n\r\n    {\r\n        &quot;code&quot;: 400,\r\n        &quot;errors&quot;: [\r\n            &quot;Please choose : {list enum variable}&quot;\r\n        ]\r\n    }","title":"How to return custom message in Enum Anotation?","body":"<p>I have ValueOfEnumValidation annotation which checks the correctness of the input enum:</p>\n<pre><code> @Target(value = ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@NotNull(message = &quot;Enum cannot be null&quot;)\n@Constraint(validatedBy = ValueOfEnumValidator.class)\n@Documented\npublic @interface ValueOfEnumValidation {\n  Class&lt;? extends Enum&lt;?&gt;&gt; value();\n\n  String message() default &quot;&quot;;\n\n  Class&lt;?&gt;[] groups() default {};\n\n  Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>and class that implements\nValueOfEnumValidation annotation :</p>\n<pre><code>public class ValueOfEnumValidator implements ConstraintValidator&lt;ValueOfEnumValidation, String&gt; {\n  private List&lt;String&gt; valueList = null;\n\n  @Override\n  public void initialize(ValueOfEnumValidation constraintAnnotation) {\n    valueList = Arrays.stream(constraintAnnotation.value().getEnumConstants())\n        .map(Enum::name)\n        .collect(Collectors.toList());\n  }\n\n  @Override\n  public boolean isValid(String string, ConstraintValidatorContext context) {\n    return valueList.contains(string);\n  }\n\n}\n</code></pre>\n<p>what i have get:\njson response:</p>\n<pre><code>{\n    &quot;code&quot;: 400,\n    &quot;errors&quot;: [\n        &quot;Please choose : {list enum variable}&quot;\n    ]\n}\n</code></pre>\n"},{"tags":["java","api","spring-data-jpa","postman","jpa-annotations"],"comments":[{"owner":{"account_id":22498565,"reputation":1,"user_id":16695192,"display_name":"newB"},"score":0,"creation_date":1659867986,"post_id":73266631,"comment_id":129392687,"body_markdown":"Correction, In the @PostMapping, its @PostMapping(&quot;/{memberProfileId}/talents&quot;)","body":"Correction, In the @PostMapping, its @PostMapping(&quot;/{memberProfileId}/talents&quot;)"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659868333,"post_id":73266631,"comment_id":129392754,"body_markdown":"can you share what is response you are getting as a part of `addNewTalent` call?","body":"can you share what is response you are getting as a part of <code>addNewTalent</code> call?"},{"owner":{"account_id":22498565,"reputation":1,"user_id":16695192,"display_name":"newB"},"score":0,"creation_date":1659869317,"post_id":73266631,"comment_id":129392905,"body_markdown":"Thank you @AshishPatil for giving time on this, I updated the question with the addMemberTalent response.","body":"Thank you @AshishPatil for giving time on this, I updated the question with the addMemberTalent response."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659869517,"creation_date":1659869517,"answer_id":73266798,"question_id":73266631,"body_markdown":"You are returning `memberProfileService.save(memberProfile)` &amp; as per save code, it is returning `em.merge` :\r\n\r\n\r\n    @Transactional\r\n    \t@Override\r\n    \tpublic &lt;S extends T&gt; S save(S entity) {\r\n    \r\n    \t\tAssert.notNull(entity, &quot;Entity must not be null.&quot;);\r\n    \r\n    \t\tif (entityInformation.isNew(entity)) {\r\n    \t\t\tem.persist(entity);\r\n    \t\t\treturn entity;\r\n    \t\t} else {\r\n    \t\t\treturn em.merge(entity);\r\n    \t\t}\r\n    \t}\r\n\r\nWhen you are returning merge, then it is not returning your entire entity.\r\nSo you have to use below code to correctly return entire entity :\r\n\r\n\r\n\r\n    @PostMapping(&quot;/{memberProfileId}/talents&quot;)\r\n    MemberProfile addNewTalent(@PathVariable long memberProfileId, @RequestBody \r\n                                MemberTalent memberTalent) {\r\n        MemberProfile memberProfile = memberProfileService.findById(memberProfileId);\r\n        memberProfile.addMemberTalent(memberTalent);\r\n        memberProfileService.save(memberProfile);\r\n        return memberProfileService.findById(memberProfileId);\r\n    }\r\n\r\n","title":"Can&#39;t add data to a list via Postman Spring JPA @OneToMany/@ManyToOne","body":"<p>You are returning <code>memberProfileService.save(memberProfile)</code> &amp; as per save code, it is returning <code>em.merge</code> :</p>\n<pre><code>@Transactional\n    @Override\n    public &lt;S extends T&gt; S save(S entity) {\n\n        Assert.notNull(entity, &quot;Entity must not be null.&quot;);\n\n        if (entityInformation.isNew(entity)) {\n            em.persist(entity);\n            return entity;\n        } else {\n            return em.merge(entity);\n        }\n    }\n</code></pre>\n<p>When you are returning merge, then it is not returning your entire entity.\nSo you have to use below code to correctly return entire entity :</p>\n<pre><code>@PostMapping(&quot;/{memberProfileId}/talents&quot;)\nMemberProfile addNewTalent(@PathVariable long memberProfileId, @RequestBody \n                            MemberTalent memberTalent) {\n    MemberProfile memberProfile = memberProfileService.findById(memberProfileId);\n    memberProfile.addMemberTalent(memberTalent);\n    memberProfileService.save(memberProfile);\n    return memberProfileService.findById(memberProfileId);\n}\n</code></pre>\n"}],"owner":{"account_id":22498565,"reputation":1,"user_id":16695192,"display_name":"newB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659869517,"creation_date":1659867741,"question_id":73266631,"body_markdown":"I am learning spring-boot jpa and is starting to get a feel on how thing works unfortunately I came across some difficulty. My sample app is so simple and only have three entities, namely MemberInfo, MemberProfile, MemberTalents. \r\n\r\nMy Entities code goes like this: \r\n\r\n    @Entity\r\n    @Table(name=&quot;member_info&quot;)\r\n    public class MemberInfo {\r\n      //...\r\n      @OneToOne(cascade=CascadeType.ALL)\r\n      @JoinColumn(name=&quot;memberProfileId&quot;)\r\n      private MemberProfile memberProfile;\r\n      // getters and setters\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;member_profile&quot;)\r\n    public class MemberProfile {\r\n      //...\r\n      @OneToOne(mappedBy=&quot;memberProfile&quot;)\r\n      private MemberInfo memberInfo;\r\n   \r\n      @OnetoMany(mappedBy=&quot;memberProfile&quot;)\r\n      private Set&lt;MemberTalent&gt; memberTalent = new Hashset&lt;&gt;();\r\n      \r\n      // getters and setters\r\n\r\n      public void addMemberTalent(MemberProfile memberProfile) {\r\n          memberTalent.add(memberProfile);\r\n      }\r\n\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;member_talent&quot;)\r\n    public class MemberTalent {\r\n      //...\r\n      @ManyToOne(fetch=FetchType.LAZY, cascade=CascadeType.ALL)\r\n      @JoinColumn(name=&quot;memberProfileId&quot;)\r\n      private MemberProfile memberProfile;\r\n      // getters and setters\r\n    }\r\n\r\nI successfully configured MySQL for this entities and upon running in local host and send POST command in Postman using this format.\r\n\r\n    {\r\n        &quot;memberUserId&quot;: 1,\r\n        &quot;memberUser&quot;: &quot;John69&quot;,\r\n        &quot;memberEmail&quot;: &quot;John@gmail.com&quot;,\r\n        &quot;memberProfile&quot;: {}\r\n    }\r\n\r\nI get this response.\r\n\r\n    [\r\n      {\r\n        &quot;memberUserId&quot;: 1,\r\n        &quot;memberUser&quot;: &quot;John69&quot;,\r\n        &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\r\n        &quot;memberProfile&quot;: {\r\n            &quot;memberProfileId&quot;: 1,\r\n            &quot;memberName&quot;: null,\r\n            &quot;memberAddress&quot;: null,\r\n            &quot;memberTalent&quot;: []\r\n        }\r\n      }\r\n    ]\r\n\r\nNow, using Put command I managed to edit memberProfile with id=1, using this command.\r\n\r\n    {\r\n    &quot;memberProfileId&quot;: 1,\r\n    &quot;memberName&quot;: &quot;John Doe&quot;,\r\n    &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\r\n    }\r\n\r\nAnd I get this response\r\n\r\n    {\r\n        &quot;memberUserId&quot;: 1,\r\n        &quot;memberUser&quot;: &quot;John69&quot;,\r\n        &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\r\n        &quot;memberProfile&quot;: {\r\n            &quot;memberProfileId&quot;: 1,\r\n            &quot;memberName&quot;: &quot;John Doe&quot;,\r\n            &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\r\n            &quot;memberTalent&quot;: null\r\n    }\r\n\r\nNow, my challenge is filling the member talent list. This is the code I came up with.\r\n\r\n    @PostMapping(&quot;/{memberProfileId}/talents&quot;)\r\n    MemberProfile addNewTalent(@PathVariable long memberProfileId, @RequestBody \r\n                                MemberTalent memberTalent) {\r\n        MemberProfile memberProfile = memberProfileService.findById(memberProfileId);\r\n        memberProfile.addMemberTalent(memberTalent);\r\n        return memberProfileService.save(memberProfile);\r\n    }\r\n\r\nUnfortunately, it won&#39;t add anything to the memberTalent list. If anyone can help me on this I will really appreciate it. Thank you.\r\n\r\nUpdating:\r\n\r\nHere is the API body I sent in PostMapping:\r\n\r\n    {\r\n      &quot;memberTalent&quot;: &quot;Guitar&quot;,\r\n      &quot;memberMastery&quot;: &quot;Expert&quot;\r\n    }\r\n\r\nAnd here is the response. Even if I send many Post request, the response is the same.\r\n\r\n    {\r\n        &quot;memberUserId&quot;: 1,\r\n        &quot;memberUser&quot;: &quot;John69&quot;,\r\n        &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\r\n        &quot;memberProfile&quot;: {\r\n            &quot;memberProfileId&quot;: 1,\r\n            &quot;memberName&quot;: &quot;John Doe&quot;,\r\n            &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\r\n            &quot;memberTalent&quot;: [\r\n                  {\r\n                     &quot;memberTalentId&quot;: 0,\r\n                     &quot;memberTalent&quot;: null,\r\n                     &quot;memberMastery&quot;: null\r\n                  }\r\n\r\n         ]\r\n    }","title":"Can&#39;t add data to a list via Postman Spring JPA @OneToMany/@ManyToOne","body":"<p>I am learning spring-boot jpa and is starting to get a feel on how thing works unfortunately I came across some difficulty. My sample app is so simple and only have three entities, namely MemberInfo, MemberProfile, MemberTalents.</p>\n<p>My Entities code goes like this:</p>\n<pre><code>@Entity\n@Table(name=&quot;member_info&quot;)\npublic class MemberInfo {\n  //...\n  @OneToOne(cascade=CascadeType.ALL)\n  @JoinColumn(name=&quot;memberProfileId&quot;)\n  private MemberProfile memberProfile;\n  // getters and setters\n}\n\n@Entity\n@Table(name=&quot;member_profile&quot;)\npublic class MemberProfile {\n  //...\n  @OneToOne(mappedBy=&quot;memberProfile&quot;)\n  private MemberInfo memberInfo;\n\n  @OnetoMany(mappedBy=&quot;memberProfile&quot;)\n  private Set&lt;MemberTalent&gt; memberTalent = new Hashset&lt;&gt;();\n  \n  // getters and setters\n\n  public void addMemberTalent(MemberProfile memberProfile) {\n      memberTalent.add(memberProfile);\n  }\n\n}\n\n@Entity\n@Table(name=&quot;member_talent&quot;)\npublic class MemberTalent {\n  //...\n  @ManyToOne(fetch=FetchType.LAZY, cascade=CascadeType.ALL)\n  @JoinColumn(name=&quot;memberProfileId&quot;)\n  private MemberProfile memberProfile;\n  // getters and setters\n}\n</code></pre>\n<p>I successfully configured MySQL for this entities and upon running in local host and send POST command in Postman using this format.</p>\n<pre><code>{\n    &quot;memberUserId&quot;: 1,\n    &quot;memberUser&quot;: &quot;John69&quot;,\n    &quot;memberEmail&quot;: &quot;John@gmail.com&quot;,\n    &quot;memberProfile&quot;: {}\n}\n</code></pre>\n<p>I get this response.</p>\n<pre><code>[\n  {\n    &quot;memberUserId&quot;: 1,\n    &quot;memberUser&quot;: &quot;John69&quot;,\n    &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\n    &quot;memberProfile&quot;: {\n        &quot;memberProfileId&quot;: 1,\n        &quot;memberName&quot;: null,\n        &quot;memberAddress&quot;: null,\n        &quot;memberTalent&quot;: []\n    }\n  }\n]\n</code></pre>\n<p>Now, using Put command I managed to edit memberProfile with id=1, using this command.</p>\n<pre><code>{\n&quot;memberProfileId&quot;: 1,\n&quot;memberName&quot;: &quot;John Doe&quot;,\n&quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\n}\n</code></pre>\n<p>And I get this response</p>\n<pre><code>{\n    &quot;memberUserId&quot;: 1,\n    &quot;memberUser&quot;: &quot;John69&quot;,\n    &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\n    &quot;memberProfile&quot;: {\n        &quot;memberProfileId&quot;: 1,\n        &quot;memberName&quot;: &quot;John Doe&quot;,\n        &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\n        &quot;memberTalent&quot;: null\n}\n</code></pre>\n<p>Now, my challenge is filling the member talent list. This is the code I came up with.</p>\n<pre><code>@PostMapping(&quot;/{memberProfileId}/talents&quot;)\nMemberProfile addNewTalent(@PathVariable long memberProfileId, @RequestBody \n                            MemberTalent memberTalent) {\n    MemberProfile memberProfile = memberProfileService.findById(memberProfileId);\n    memberProfile.addMemberTalent(memberTalent);\n    return memberProfileService.save(memberProfile);\n}\n</code></pre>\n<p>Unfortunately, it won't add anything to the memberTalent list. If anyone can help me on this I will really appreciate it. Thank you.</p>\n<p>Updating:</p>\n<p>Here is the API body I sent in PostMapping:</p>\n<pre><code>{\n  &quot;memberTalent&quot;: &quot;Guitar&quot;,\n  &quot;memberMastery&quot;: &quot;Expert&quot;\n}\n</code></pre>\n<p>And here is the response. Even if I send many Post request, the response is the same.</p>\n<pre><code>{\n    &quot;memberUserId&quot;: 1,\n    &quot;memberUser&quot;: &quot;John69&quot;,\n    &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\n    &quot;memberProfile&quot;: {\n        &quot;memberProfileId&quot;: 1,\n        &quot;memberName&quot;: &quot;John Doe&quot;,\n        &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\n        &quot;memberTalent&quot;: [\n              {\n                 &quot;memberTalentId&quot;: 0,\n                 &quot;memberTalent&quot;: null,\n                 &quot;memberMastery&quot;: null\n              }\n\n     ]\n}\n</code></pre>\n"},{"tags":["java","spring","performance","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1659859176,"post_id":73265452,"comment_id":129391260,"body_markdown":"Its pretty hard to answer a question about your code without having your code. Post an [mcve]","body":"Its pretty hard to answer a question about your code without having your code. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1659862871,"post_id":73265452,"comment_id":129391846,"body_markdown":"At the very least post the SQL that gets executed (query log) and the entities involved.","body":"At the very least post the SQL that gets executed (query log) and the entities involved."},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1659868499,"post_id":73265452,"comment_id":129392774,"body_markdown":"I have added the queries and entities as much as possible, Kindly check","body":"I have added the queries and entities as much as possible, Kindly check"}],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659868426,"creation_date":1659854966,"question_id":73265452,"body_markdown":"I have written a join query to avoid n+1 problem. It is successfully working when I checked with integration test case. But when it comes to the same query executes while application running in server, the same n+1 problem is coming. I have removed the the line join query call and tested by deploying, then no n+1 problem is coming. The query generated at integration test case and while running server both are same. But I am unable to understand why n+1 is happening when checked with deployed application. Configurations for both application and test case are same. \r\n\r\n----------\r\nQuery executing is below, Query id very huge so I posted the joins and tables involved in query, The below query executing for both test case and application level.\r\n\r\n&gt;1) from ITINERARY_TRAVELERS itineraryt0_ left outer join ITINERARIES itinerary1_ on itineraryt0_.ITINERARY_ID=itinerary1_.ID left outer join COUPON_HISTORY couponhist3_ on itinerary1_.ID=couponhist3_.ITINERARY_ID left outer join REWARD_USAGE_DATA rewardusag4_ on itinerary1_.ID=rewardusag4_.ITINERARY_ID left outer join CUSTOMER_REQUEST_INFO customertr5_ on itinerary1_.CUSTOMER_REQUEST_ID=customertr5_.ID left outer join ITINERARY_CANCELLATION_DETAILS itineraryc6_ on itinerary1_.ID=itineraryc6_.ITINERARY_ID left outer join INSURANCE_DETAILS insuranced7_ on itinerary1_.ID=insuranced7_.ITINERARY_ID left outer join EMP_EMPLOYER_DETAILS employeeem8_ on itinerary1_.ID=employeeem8_.ITINERARY_ID left outer join CUSTOMERS customer9_ on itinerary1_.CUSTOMER_ID=customer9_.ID left outer join REWARD_PROGRAM rewardprog10_ on customer9_.ID=rewardprog10_.CUSTOMER_ID left outer join CUSTOMER_CONTACT_DETAILS customerco11_ on customer9_.ID=customerco11_.CUSTOMER_ID left outer join CUSTOMER_PREFERRED_AIRLINES customerpr12_ on customer9_.ID=customerpr12_.CUSTOMER_ID left outer join TRAVELERS traveler2_ on itineraryt0_.TRAVELERS_ID=traveler2_.ID where itineraryt0_.TRAVELERS_ID=3183\r\n\r\n\r\n----------\r\nThe extra queries which are executing while checking when application deployed is in below format, with different ids (N+1)\r\n\r\n&gt;2) from ITINERARY_TRAVELERS itneraries0_ left outer join TRAVELERS traveler1_ on itneraries0_.TRAVELERS_ID=traveler1_.ID left outer join CUSTOMERS customer2_ on traveler1_.CUSTOMER_ID=customer2_.ID where itneraries0_.ITINERARY_ID=697049\r\n\r\nEntity classes are as follows\r\n\r\n    @Table(name = &quot;TRAVELERS&quot;)\r\n    @Cacheable(true)\r\n    @Audited\r\n    public class Traveler{\r\n    ......\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;traveler&quot;)\r\n    @OptimisticLock(excluded = true)\r\n    public Set&lt;ItineraryTravelerAssosciation&gt; getItnerariesTravlersAssosciation() {\r\n        return itnerariesTravlersAssosciation;\r\n    }\r\n\r\n    @Table(name = &quot;ITINERARY_TRAVELERS&quot;)\r\n    @Cacheable(true)\r\n    @Audited\r\n    public class ItineraryTravelerAssosciation extends BaseDto {\r\n    \r\n        private static final long serialVersionUID = 10124L;\r\n    \r\n        private String passengerType;\r\n        private Itinerary itinerary;\r\n        private Traveler traveler;\r\n        ......\r\n         @ManyToOne\r\n        @OptimisticLock(excluded = true)\r\n        @JoinColumn(name = &quot;ITINERARY_ID&quot;)\r\n        public Itinerary getItinerary() {\r\n        return itinerary;\r\n        }\r\n        @ManyToOne\r\n        @OptimisticLock(excluded = true)\r\n        @JoinColumn(name = &quot;TRAVELERS_ID&quot;)\r\n        public Traveler getTraveler() {\r\n        return traveler;\r\n       }\r\nIn Application I am reading First traveler object with id, using entity manger find with Id. On that when I call getItnerariesTravlersAssosciation(), N+1 queries(query 2) are executing.\r\nBut this behavior is not re producing when I run integration test case. The N+1 calls happening only when application is deployed. \r\n\r\n","title":"Hibernate n+1 problem not coming in test case but coming in server","body":"<p>I have written a join query to avoid n+1 problem. It is successfully working when I checked with integration test case. But when it comes to the same query executes while application running in server, the same n+1 problem is coming. I have removed the the line join query call and tested by deploying, then no n+1 problem is coming. The query generated at integration test case and while running server both are same. But I am unable to understand why n+1 is happening when checked with deployed application. Configurations for both application and test case are same.</p>\n<hr />\n<p>Query executing is below, Query id very huge so I posted the joins and tables involved in query, The below query executing for both test case and application level.</p>\n<blockquote>\n<ol>\n<li>from ITINERARY_TRAVELERS itineraryt0_ left outer join ITINERARIES itinerary1_ on itineraryt0_.ITINERARY_ID=itinerary1_.ID left outer join COUPON_HISTORY couponhist3_ on itinerary1_.ID=couponhist3_.ITINERARY_ID left outer join REWARD_USAGE_DATA rewardusag4_ on itinerary1_.ID=rewardusag4_.ITINERARY_ID left outer join CUSTOMER_REQUEST_INFO customertr5_ on itinerary1_.CUSTOMER_REQUEST_ID=customertr5_.ID left outer join ITINERARY_CANCELLATION_DETAILS itineraryc6_ on itinerary1_.ID=itineraryc6_.ITINERARY_ID left outer join INSURANCE_DETAILS insuranced7_ on itinerary1_.ID=insuranced7_.ITINERARY_ID left outer join EMP_EMPLOYER_DETAILS employeeem8_ on itinerary1_.ID=employeeem8_.ITINERARY_ID left outer join CUSTOMERS customer9_ on itinerary1_.CUSTOMER_ID=customer9_.ID left outer join REWARD_PROGRAM rewardprog10_ on customer9_.ID=rewardprog10_.CUSTOMER_ID left outer join CUSTOMER_CONTACT_DETAILS customerco11_ on customer9_.ID=customerco11_.CUSTOMER_ID left outer join CUSTOMER_PREFERRED_AIRLINES customerpr12_ on customer9_.ID=customerpr12_.CUSTOMER_ID left outer join TRAVELERS traveler2_ on itineraryt0_.TRAVELERS_ID=traveler2_.ID where itineraryt0_.TRAVELERS_ID=3183</li>\n</ol>\n</blockquote>\n<hr />\n<p>The extra queries which are executing while checking when application deployed is in below format, with different ids (N+1)</p>\n<blockquote>\n<ol start=\"2\">\n<li>from ITINERARY_TRAVELERS itneraries0_ left outer join TRAVELERS traveler1_ on itneraries0_.TRAVELERS_ID=traveler1_.ID left outer join CUSTOMERS customer2_ on traveler1_.CUSTOMER_ID=customer2_.ID where itneraries0_.ITINERARY_ID=697049</li>\n</ol>\n</blockquote>\n<p>Entity classes are as follows</p>\n<pre><code>@Table(name = &quot;TRAVELERS&quot;)\n@Cacheable(true)\n@Audited\npublic class Traveler{\n......\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;traveler&quot;)\n@OptimisticLock(excluded = true)\npublic Set&lt;ItineraryTravelerAssosciation&gt; getItnerariesTravlersAssosciation() {\n    return itnerariesTravlersAssosciation;\n}\n\n@Table(name = &quot;ITINERARY_TRAVELERS&quot;)\n@Cacheable(true)\n@Audited\npublic class ItineraryTravelerAssosciation extends BaseDto {\n\n    private static final long serialVersionUID = 10124L;\n\n    private String passengerType;\n    private Itinerary itinerary;\n    private Traveler traveler;\n    ......\n     @ManyToOne\n    @OptimisticLock(excluded = true)\n    @JoinColumn(name = &quot;ITINERARY_ID&quot;)\n    public Itinerary getItinerary() {\n    return itinerary;\n    }\n    @ManyToOne\n    @OptimisticLock(excluded = true)\n    @JoinColumn(name = &quot;TRAVELERS_ID&quot;)\n    public Traveler getTraveler() {\n    return traveler;\n   }\n</code></pre>\n<p>In Application I am reading First traveler object with id, using entity manger find with Id. On that when I call getItnerariesTravlersAssosciation(), N+1 queries(query 2) are executing.\nBut this behavior is not re producing when I run integration test case. The N+1 calls happening only when application is deployed.</p>\n"},{"tags":["java","libgdx","infinite","simplex-noise"],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659868226,"creation_date":1659868226,"answer_id":73266684,"question_id":73255628,"body_markdown":"I don&#39;t think you need to store simplex values because its not a random function, you always get the same result for a given input, hence why one of the input parameters is usually time, to get change. Now admittedly I haven&#39;t used OpenSimplex2 I used another implementation but the whole point is that simplex noise is -coherent- so it cannot rely on randomness, which isn&#39;t coherent.\r\nSo I assume that you are using SEED to provide a different level every time you play and so assuming this could be called LEVEL_SEED.\r\nAnyway for an infinite world which you can reliably revisit areas without them changing, then you would need procedural generation for the area you are currently in, and given simplex noise is repeatable, then you can just change your function to iterate over the area you are currently in, and then map that area to the screen.\r\ni.e. you can iterate between\r\n```\r\nscreenCenterX - (screenWidth/2) to screenCenterX+ (screenWidth/2)\r\n```\r\nwith the inner iterator \r\n```\r\nscreenCenterY - (screenHeight/2) to screenCenterY+ (screenHeight/2)\r\n```\r\n\r\nI guess there are many ways but simplex noise is not a random function i.e. a different result every time, which means it does kind of lend itself to a procedural generation approach.\r\nYou might also want to look at this https://doc.mapeditor.org/en/stable/manual/using-infinite-maps/ which is a tile editor that allows dynamically super size map which is also pluggable into libGDX by which I mean its part of the libGDX framework.\r\nYou can alway ask on the Discord chat group here https://libgdx.com/community/ because I can imagine you&#39;d get a quick answer as prob many opinions.","title":"Infinte map generation in isometric game - Java LibGDX","body":"<p>I don't think you need to store simplex values because its not a random function, you always get the same result for a given input, hence why one of the input parameters is usually time, to get change. Now admittedly I haven't used OpenSimplex2 I used another implementation but the whole point is that simplex noise is -coherent- so it cannot rely on randomness, which isn't coherent.\nSo I assume that you are using SEED to provide a different level every time you play and so assuming this could be called LEVEL_SEED.\nAnyway for an infinite world which you can reliably revisit areas without them changing, then you would need procedural generation for the area you are currently in, and given simplex noise is repeatable, then you can just change your function to iterate over the area you are currently in, and then map that area to the screen.\ni.e. you can iterate between</p>\n<pre><code>screenCenterX - (screenWidth/2) to screenCenterX+ (screenWidth/2)\n</code></pre>\n<p>with the inner iterator</p>\n<pre><code>screenCenterY - (screenHeight/2) to screenCenterY+ (screenHeight/2)\n</code></pre>\n<p>I guess there are many ways but simplex noise is not a random function i.e. a different result every time, which means it does kind of lend itself to a procedural generation approach.\nYou might also want to look at this <a href=\"https://doc.mapeditor.org/en/stable/manual/using-infinite-maps/\" rel=\"nofollow noreferrer\">https://doc.mapeditor.org/en/stable/manual/using-infinite-maps/</a> which is a tile editor that allows dynamically super size map which is also pluggable into libGDX by which I mean its part of the libGDX framework.\nYou can alway ask on the Discord chat group here <a href=\"https://libgdx.com/community/\" rel=\"nofollow noreferrer\">https://libgdx.com/community/</a> because I can imagine you'd get a quick answer as prob many opinions.</p>\n"}],"owner":{"account_id":23434587,"reputation":31,"user_id":17492883,"display_name":"Phrille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73266684,"answer_count":1,"score":2,"last_activity_date":1659868226,"creation_date":1659736469,"question_id":73255628,"body_markdown":"I&#39;m currently trying to learn game developing in Java with LibGDX and have a few questions regarding infinite map generation in an isometric type tile game. My current code in a Screen constructor looks like this.\r\n\r\n    for (int col = MAP_WIDTH - 1; col &gt;= 0; --col) {\r\n\t\t\tfor (int row = MAP_HEIGHT - 1; row &gt;= 0; --row) {\r\n\t\t\t\tint x = (col * TILE_WIDTH / 2) - (row * TILE_WIDTH / 2);\r\n\t\t\t\tint y = (col * TILE_HEIGHT / 2) + (row * TILE_HEIGHT / 2);\r\n\r\n\t\t\t\tfloat noise = OpenSimplex2.noise2_ImproveX(SEED, ((float) col) * scale, ((float) row * scale));\r\n\t\t\t\tmainStage.addActor(new TileActor(x, y, col, row, getNameFromNoise(noise), mainStage));\r\n\t\t\t}\r\n\t\t}\r\n\r\nThis adds and Actor in a set MAP_WIDTH and MAP_HEIGHT and changes the texture of that tile depending on a simplex noise algorithm. How would I best go about changing this to an infinite world? Should all the noise values be calculated beforehand and then the actors be loaded when the camera pans over their position? How would i best store this generated map? Thanks. \r\n\r\n","title":"Infinte map generation in isometric game - Java LibGDX","body":"<p>I'm currently trying to learn game developing in Java with LibGDX and have a few questions regarding infinite map generation in an isometric type tile game. My current code in a Screen constructor looks like this.</p>\n<pre><code>for (int col = MAP_WIDTH - 1; col &gt;= 0; --col) {\n        for (int row = MAP_HEIGHT - 1; row &gt;= 0; --row) {\n            int x = (col * TILE_WIDTH / 2) - (row * TILE_WIDTH / 2);\n            int y = (col * TILE_HEIGHT / 2) + (row * TILE_HEIGHT / 2);\n\n            float noise = OpenSimplex2.noise2_ImproveX(SEED, ((float) col) * scale, ((float) row * scale));\n            mainStage.addActor(new TileActor(x, y, col, row, getNameFromNoise(noise), mainStage));\n        }\n    }\n</code></pre>\n<p>This adds and Actor in a set MAP_WIDTH and MAP_HEIGHT and changes the texture of that tile depending on a simplex noise algorithm. How would I best go about changing this to an infinite world? Should all the noise values be calculated beforehand and then the actors be loaded when the camera pans over their position? How would i best store this generated map? Thanks.</p>\n"},{"tags":["java","sorting","radix"],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659867837,"creation_date":1659867837,"answer_id":73266638,"question_id":73264383,"body_markdown":"Only one small issue in your code with the loop counting the passes:\r\n```\r\nfor (int pass = 3; pass &gt; 0; pass--)\r\n```\r\nAs you can see the variable `pass` can never reach zero, which means that your sorting never considers the last digit of your numbers. Also, you consider the most-significant digits first but reorder all numbers in the later passes. This means you should also revert the order of digit evaluation. To do this simply change the for loop to this:\r\n```\r\nfor (int pass = 0; pass &lt; 3; pass++)\r\n```\r\nThis results in the following output (last section is sorted):\r\n```\r\n5\r\n126\r\n75\r\n10\r\n15\r\n634\r\n9\r\npass 3\r\n10\r\n634\r\n5\r\n75\r\n15\r\n126\r\n9\r\npass 2\r\n5\r\n9\r\n10\r\n15\r\n126\r\n634\r\n75\r\npass 1\r\n5\r\n9\r\n10\r\n15\r\n75\r\n126\r\n634\r\n```\r\n\r\nP.S.: One pass can also be removed as your numbers are all below 1000.","title":"I cant figure out what is making my radix sorting method mess up","body":"<p>Only one small issue in your code with the loop counting the passes:</p>\n<pre><code>for (int pass = 3; pass &gt; 0; pass--)\n</code></pre>\n<p>As you can see the variable <code>pass</code> can never reach zero, which means that your sorting never considers the last digit of your numbers. Also, you consider the most-significant digits first but reorder all numbers in the later passes. This means you should also revert the order of digit evaluation. To do this simply change the for loop to this:</p>\n<pre><code>for (int pass = 0; pass &lt; 3; pass++)\n</code></pre>\n<p>This results in the following output (last section is sorted):</p>\n<pre><code>5\n126\n75\n10\n15\n634\n9\npass 3\n10\n634\n5\n75\n15\n126\n9\npass 2\n5\n9\n10\n15\n126\n634\n75\npass 1\n5\n9\n10\n15\n75\n126\n634\n</code></pre>\n<p>P.S.: One pass can also be removed as your numbers are all below 1000.</p>\n"}],"owner":{"account_id":25997816,"reputation":1,"user_id":19708855,"display_name":"oh cal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659867837,"creation_date":1659836993,"question_id":73264383,"body_markdown":"\r\n```\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\n\r\npublic class RadixSort {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] data = { 5, 126, 75, 10, 15, 634, 9 };\r\n\r\n\t\tdata = radixSort(data);\r\n\r\n\t\tfor (int nums : data) {\r\n\t\t\tSystem.out.println(nums);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int[] radixSort(int[] in) {\r\n\t\tQueue&lt;Integer&gt; zero = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; one = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; two = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; three = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; four = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; five = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; six = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; seven = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; eight = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; nine = new LinkedList&lt;&gt;();\r\n\r\n\t\tfor (int pass = 3; pass &gt; 0; pass--) {\r\n\t\t\tfor (int nums : in) {\r\n\t\t\t\tSystem.out.println(nums);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;pass &quot; + (3 - pass));\r\n\t\t\tfor (int i = 0; i &lt; in.length; i++) {\r\n\t\t\t\tint num = (int) ((in[i] / Math.pow(10, pass)) % 10);\r\n\t\t\t\tswitch (num) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tzero.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tone.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\ttwo.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tthree.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tfour.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tfive.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tsix.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tseven.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\teight.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tnine.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tint[] newArr = new int[in.length];\r\n\t\t\tint arrSize = 0;\r\n\t\t\tif (zero.size() &gt; 0) {\r\n\t\t\t\tint size = zero.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = zero.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (one.size() &gt; 0) {\r\n\t\t\t\tint size = one.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = one.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (two.size() &gt; 0) {\r\n\t\t\t\tint size = two.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = two.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (three.size() &gt; 0) {\r\n\t\t\t\tint size = three.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = three.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (four.size() &gt; 0) {\r\n\t\t\t\tint size = four.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = four.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (five.size() &gt; 0) {\r\n\t\t\t\tint size = five.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = five.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (six.size() &gt; 0) {\r\n\t\t\t\tint size = six.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = six.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (seven.size() &gt; 0) {\r\n\t\t\t\tint size = seven.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = seven.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (eight.size() &gt; 0) {\r\n\t\t\t\tint size = eight.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = eight.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (nine.size() &gt; 0) {\r\n\t\t\t\tint size = nine.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = nine.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tin = newArr;\r\n\t\t}\r\n\t\treturn in;\r\n\t}\r\n}\r\n```\r\nthis prints out:\r\n\r\n5\r\n126\r\n75\r\n10\r\n15\r\n634\r\n9\r\npass 0\r\n5\r\n126\r\n75\r\n10\r\n15\r\n634\r\n9\r\npass 1\r\n5\r\n75\r\n10\r\n15\r\n9\r\n126\r\n634\r\npass 2\r\n5\r\n9\r\n10\r\n15\r\n126\r\n634\r\n75\r\n\r\nI know that it has to do something with the fact that on the pass where I am checking for the 10s slot that 7 is the largest value. It forgets that 126 and 634 are still bigger, they just have lesser value in the 10s slot. But I do not know how to make it so that it maintains the order of 100s.","title":"I cant figure out what is making my radix sorting method mess up","body":"<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\n\npublic class RadixSort {\n\n    public static void main(String[] args) {\n        int[] data = { 5, 126, 75, 10, 15, 634, 9 };\n\n        data = radixSort(data);\n\n        for (int nums : data) {\n            System.out.println(nums);\n        }\n    }\n\n    public static int[] radixSort(int[] in) {\n        Queue&lt;Integer&gt; zero = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; one = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; two = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; three = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; four = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; five = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; six = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; seven = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; eight = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; nine = new LinkedList&lt;&gt;();\n\n        for (int pass = 3; pass &gt; 0; pass--) {\n            for (int nums : in) {\n                System.out.println(nums);\n            }\n            System.out.println(&quot;pass &quot; + (3 - pass));\n            for (int i = 0; i &lt; in.length; i++) {\n                int num = (int) ((in[i] / Math.pow(10, pass)) % 10);\n                switch (num) {\n                case 0:\n                    zero.add(in[i]);\n                    break;\n                case 1:\n                    one.add(in[i]);\n                    break;\n                case 2:\n                    two.add(in[i]);\n                    break;\n                case 3:\n                    three.add(in[i]);\n                    break;\n                case 4:\n                    four.add(in[i]);\n                    break;\n                case 5:\n                    five.add(in[i]);\n                    break;\n                case 6:\n                    six.add(in[i]);\n                    break;\n                case 7:\n                    seven.add(in[i]);\n                    break;\n                case 8:\n                    eight.add(in[i]);\n                    break;\n                case 9:\n                    nine.add(in[i]);\n                    break;\n                default:\n                }\n            }\n            int[] newArr = new int[in.length];\n            int arrSize = 0;\n            if (zero.size() &gt; 0) {\n                int size = zero.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = zero.poll();\n                    arrSize++;\n                }\n            }\n            \n            if (one.size() &gt; 0) {\n                int size = one.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = one.poll();\n                    arrSize++;\n                }\n            }\n            \n            if (two.size() &gt; 0) {\n                int size = two.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = two.poll();\n                    arrSize++;\n                }\n            }\n            \n            if (three.size() &gt; 0) {\n                int size = three.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = three.poll();\n                    arrSize++;\n                }\n            }\n\n            if (four.size() &gt; 0) {\n                int size = four.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = four.poll();\n                    arrSize++;\n                }\n            }\n\n            if (five.size() &gt; 0) {\n                int size = five.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = five.poll();\n                    arrSize++;\n                }\n            }\n\n            if (six.size() &gt; 0) {\n                int size = six.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = six.poll();\n                    arrSize++;\n                }\n            }\n\n            if (seven.size() &gt; 0) {\n                int size = seven.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = seven.poll();\n                    arrSize++;\n                }\n            }\n\n            if (eight.size() &gt; 0) {\n                int size = eight.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = eight.poll();\n                    arrSize++;\n                }\n            }\n\n            if (nine.size() &gt; 0) {\n                int size = nine.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = nine.poll();\n                    arrSize++;\n                }\n            }\n            in = newArr;\n        }\n        return in;\n    }\n}\n</code></pre>\n<p>this prints out:</p>\n<p>5\n126\n75\n10\n15\n634\n9\npass 0\n5\n126\n75\n10\n15\n634\n9\npass 1\n5\n75\n10\n15\n9\n126\n634\npass 2\n5\n9\n10\n15\n126\n634\n75</p>\n<p>I know that it has to do something with the fact that on the pass where I am checking for the 10s slot that 7 is the largest value. It forgets that 126 and 634 are still bigger, they just have lesser value in the 10s slot. But I do not know how to make it so that it maintains the order of 100s.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":8070277,"reputation":911,"user_id":6083277,"display_name":"Romeo Sheshi"},"score":0,"creation_date":1659372514,"post_id":73196923,"comment_id":129273998,"body_markdown":"i tested the regex passing it an text like this &quot;PBAAP.B PBAAP.B PBAAP.B&quot; and the count was 3 so seems to work can you share an value of the String that are trying to use the regex","body":"i tested the regex passing it an text like this &quot;PBAAP.B PBAAP.B PBAAP.B&quot; and the count was 3 so seems to work can you share an value of the String that are trying to use the regex"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1659372669,"post_id":73196923,"comment_id":129274057,"body_markdown":"@RomeoSheshi The 2 should be result for *single* `PBAAP.B` since `&quot;P.{0,2}A.{0,2}B&quot;` there are *two possible matches* for it: (1) using first A like `.P.A...B` (2) using second `A` like `.P..A..B`.","body":"@RomeoSheshi The 2 should be result for <i>single</i> <code>PBAAP.B</code> since <code>&quot;P.{0,2}A.{0,2}B&quot;</code> there are <i>two possible matches</i> for it: (1) using first A like <code>.P.A...B</code> (2) using second <code>A</code> like <code>.P..A..B</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1659372891,"post_id":73196923,"comment_id":129274135,"body_markdown":"@OP &quot;but I was wondering if there was a way to do it with regex.&quot; even if there is (which I can&#39;t guarantee) it would most likely be *way* more complex than your non-regex solution.","body":"@OP &quot;but I was wondering if there was a way to do it with regex.&quot; even if there is (which I can&#39;t guarantee) it would most likely be <i>way</i> more complex than your non-regex solution."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659373139,"post_id":73196923,"comment_id":129274206,"body_markdown":"For instance theoretically regex in Java shouldn&#39;t be able to match nested brackets, but there are tricks like described at http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html which make it possible. But I would still probably prefer to use simple *stack* based solution of my own instead of having to maintain/modify such regex in the future.","body":"For instance theoretically regex in Java shouldn&#39;t be able to match nested brackets, but there are tricks like described at <a href=\"http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html\" rel=\"nofollow noreferrer\">drregex.com/2017/11/match-nested-brackets-with-regex-new.htm&zwnj;&#8203;l</a> which make it possible. But I would still probably prefer to use simple <i>stack</i> based solution of my own instead of having to maintain/modify such regex in the future."}],"answers":[{"tags":[],"owner":{"account_id":25961665,"reputation":1,"user_id":19678188,"display_name":"erreurBarbare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659867607,"creation_date":1659867607,"answer_id":73266621,"question_id":73196923,"body_markdown":"To my knowledge, you will only get a boolean response out of a regex match - either it is a match or it isn&#39;t. Thus, I can&#39;t think of a solution solving your problem using regex.  \r\n\r\n`count()` is used, if you want to check if there are multiple matches at different indices - which is not what you want. For instance, the following snippet will return 2 as `th` is found at 11-12 and at 20-21:\r\n\r\n    Pattern\r\n      .compile(&quot;(th)&quot;)\r\n      .matcher(&quot;let&#39;s test this together&quot;)\r\n      .results()\r\n      .count();\r\n\r\nIn order to keep the solution without regex readable and extensible, you may want to use regression.  \r\n\r\nClass to keep track of the latest match of each letter:\r\n\r\n    public class Letter {\r\n      private char letter;\r\n      private int latestMatch;\r\n\r\n      // constructor\r\n      // getters + setters\r\n    }\r\n\r\n\r\nClass to detect different matches:\r\n\r\n    public class MatchFinder {\r\n\r\n      final static String C = &quot;......PAA.BBBadsfjksPeAkBB&quot;;\r\n      final static Letter[] LETTERS = new Letter[3];\r\n      final static int SYMBOLS_THRESHOLD = 4;\r\n\r\n      public static void main(String[] args) {\r\n        LETTERS[0] = new Letter(&#39;P&#39;, -1);\r\n        LETTERS[1] = new Letter(&#39;A&#39;, -1);\r\n        LETTERS[2] = new Letter(&#39;B&#39;, -1);\r\n        int count = countMatches(0, C.length(), 0, 0, -1);\r\n        System.out.println(count);\r\n      }\r\n\r\n      public static int countMatches(int start, int end, int letterIndex, int currentCount, int latestMatch) {\r\n        for (int i = start; i &lt; end; i++) {\r\n            if (i &lt; C.length()) {\r\n                Character c = Character.toLowerCase(C.charAt(i));\r\n                if (c.equals(LETTERS[letterIndex].getLowercaseLetter()) &amp;&amp; i &gt; latestMatch) {\r\n                    LETTERS[letterIndex].setLatestMatch(i);\r\n                    if (letterIndex + 1 &lt; LETTERS.length) {\r\n                        int childStart = LETTERS[letterIndex].getLatestMatch() + 1;\r\n                        return countMatches(childStart, childStart + SYMBOLS_THRESHOLD, letterIndex + 1, currentCount, -1);\r\n                    }\r\n                    currentCount++;\r\n                }\r\n            }\r\n        }\r\n        if (letterIndex &gt; 0) {\r\n            int parentLetterIndex = letterIndex - 1;\r\n            int latestParentMatch = LETTERS[parentLetterIndex].getLatestMatch();\r\n            if (letterIndex &gt; 1) {\r\n                int parentStart = LETTERS[letterIndex - 2].getLatestMatch() + 1;\r\n                return countMatches(parentStart, parentStart + SYMBOLS_THRESHOLD, parentLetterIndex, currentCount, latestParentMatch);\r\n            } else {\r\n                return countMatches(LETTERS[parentLetterIndex].getLatestMatch() + 1, C.length(), 0, currentCount, latestParentMatch);\r\n            }\r\n        }\r\n        return currentCount;\r\n      }\r\n    }\r\n","title":"How to count all the matching sub-string using regex?","body":"<p>To my knowledge, you will only get a boolean response out of a regex match - either it is a match or it isn't. Thus, I can't think of a solution solving your problem using regex.</p>\n<p><code>count()</code> is used, if you want to check if there are multiple matches at different indices - which is not what you want. For instance, the following snippet will return 2 as <code>th</code> is found at 11-12 and at 20-21:</p>\n<pre><code>Pattern\n  .compile(&quot;(th)&quot;)\n  .matcher(&quot;let's test this together&quot;)\n  .results()\n  .count();\n</code></pre>\n<p>In order to keep the solution without regex readable and extensible, you may want to use regression.</p>\n<p>Class to keep track of the latest match of each letter:</p>\n<pre><code>public class Letter {\n  private char letter;\n  private int latestMatch;\n\n  // constructor\n  // getters + setters\n}\n</code></pre>\n<p>Class to detect different matches:</p>\n<pre><code>public class MatchFinder {\n\n  final static String C = &quot;......PAA.BBBadsfjksPeAkBB&quot;;\n  final static Letter[] LETTERS = new Letter[3];\n  final static int SYMBOLS_THRESHOLD = 4;\n\n  public static void main(String[] args) {\n    LETTERS[0] = new Letter('P', -1);\n    LETTERS[1] = new Letter('A', -1);\n    LETTERS[2] = new Letter('B', -1);\n    int count = countMatches(0, C.length(), 0, 0, -1);\n    System.out.println(count);\n  }\n\n  public static int countMatches(int start, int end, int letterIndex, int currentCount, int latestMatch) {\n    for (int i = start; i &lt; end; i++) {\n        if (i &lt; C.length()) {\n            Character c = Character.toLowerCase(C.charAt(i));\n            if (c.equals(LETTERS[letterIndex].getLowercaseLetter()) &amp;&amp; i &gt; latestMatch) {\n                LETTERS[letterIndex].setLatestMatch(i);\n                if (letterIndex + 1 &lt; LETTERS.length) {\n                    int childStart = LETTERS[letterIndex].getLatestMatch() + 1;\n                    return countMatches(childStart, childStart + SYMBOLS_THRESHOLD, letterIndex + 1, currentCount, -1);\n                }\n                currentCount++;\n            }\n        }\n    }\n    if (letterIndex &gt; 0) {\n        int parentLetterIndex = letterIndex - 1;\n        int latestParentMatch = LETTERS[parentLetterIndex].getLatestMatch();\n        if (letterIndex &gt; 1) {\n            int parentStart = LETTERS[letterIndex - 2].getLatestMatch() + 1;\n            return countMatches(parentStart, parentStart + SYMBOLS_THRESHOLD, parentLetterIndex, currentCount, latestParentMatch);\n        } else {\n            return countMatches(LETTERS[parentLetterIndex].getLatestMatch() + 1, C.length(), 0, currentCount, latestParentMatch);\n        }\n    }\n    return currentCount;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10585662,"reputation":816,"user_id":7798109,"display_name":"Kshitij Dhakal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659867607,"creation_date":1659371859,"question_id":73196923,"body_markdown":"I am trying to count all instances of a substring from `.PBAAP.B` with P A B in that sequence and can have 1-3 symbols in between them (inclusive).\r\nThe output should be 2\r\n1. .P.A...B\r\n2. .P..A..B\r\n\r\nWhat I&#39;ve tried so far is\r\n```java\r\nreturn (int) Pattern\r\n                .compile(&quot;P.{0,2}A.{0,2}B&quot;)\r\n                .matcher(C)\r\n                .results()\r\n                .count();\r\n```\r\nBut I only get output 1. My guess is that in both cases, the group is `PBAAP.B`. So instead of 2, I get 1. \r\nI could write an elaborate function to achieve what I am trying to do, but I was wondering if there was a way to do it with regex.\r\n\r\n```java\r\nint count = 0;\r\nfor (int i = 0; i &lt; C.length(); i++) {\r\n    String p = Character.toString(C.charAt(i));\r\n    if (p.equalsIgnoreCase(&quot;P&quot;)) {\r\n\r\n    for (int j = X; j &lt;= Y; j++) {\r\n        if (i + j &lt; C.length()) {\r\n        String a = Character.toString(C.charAt(i + j));\r\n        if (a.equals(&quot;A&quot;)) {\r\n            for (int k = X; k &lt;= Y; k++) {\r\n            if (i + j + k &lt; C.length()) {\r\n                String b = Character.toString(C.charAt(i + j + k));\r\n                if (b.equalsIgnoreCase(&quot;B&quot;)) {\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nreturn count;\r\n```\r\n\r\n","title":"How to count all the matching sub-string using regex?","body":"<p>I am trying to count all instances of a substring from <code>.PBAAP.B</code> with P A B in that sequence and can have 1-3 symbols in between them (inclusive).\nThe output should be 2</p>\n<ol>\n<li>.P.A...B</li>\n<li>.P..A..B</li>\n</ol>\n<p>What I've tried so far is</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (int) Pattern\n                .compile(&quot;P.{0,2}A.{0,2}B&quot;)\n                .matcher(C)\n                .results()\n                .count();\n</code></pre>\n<p>But I only get output 1. My guess is that in both cases, the group is <code>PBAAP.B</code>. So instead of 2, I get 1.\nI could write an elaborate function to achieve what I am trying to do, but I was wondering if there was a way to do it with regex.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int count = 0;\nfor (int i = 0; i &lt; C.length(); i++) {\n    String p = Character.toString(C.charAt(i));\n    if (p.equalsIgnoreCase(&quot;P&quot;)) {\n\n    for (int j = X; j &lt;= Y; j++) {\n        if (i + j &lt; C.length()) {\n        String a = Character.toString(C.charAt(i + j));\n        if (a.equals(&quot;A&quot;)) {\n            for (int k = X; k &lt;= Y; k++) {\n            if (i + j + k &lt; C.length()) {\n                String b = Character.toString(C.charAt(i + j + k));\n                if (b.equalsIgnoreCase(&quot;B&quot;)) {\n                    count++;\n                }\n            }\n        }\n    }\n}\nreturn count;\n</code></pre>\n"},{"tags":["java","jndi","resttemplate","unmarshalling","fortify"],"owner":{"account_id":6307461,"reputation":365,"user_id":4900133,"display_name":"enthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659865523,"creation_date":1659792032,"question_id":73260110,"body_markdown":"I have a code like below, unfortunately fortify scan reports a JNDI reference injection here. How could that happen for a unmarshalled java object? \r\n\r\n    var response = restTemplate.exchange(&quot;url&quot;, HttpMethod.GET, entity, String.class);\r\n    var customModel = mapper.readValue(response.getBody(), CustomModel.class);\r\n    log.debug(&quot;Response from provider, {}&quot;, customModel.toString());","title":"Dynamic Code Evaluation: JNDI Reference Injection Logging unmarshalled object","body":"<p>I have a code like below, unfortunately fortify scan reports a JNDI reference injection here. How could that happen for a unmarshalled java object?</p>\n<pre><code>var response = restTemplate.exchange(&quot;url&quot;, HttpMethod.GET, entity, String.class);\nvar customModel = mapper.readValue(response.getBody(), CustomModel.class);\nlog.debug(&quot;Response from provider, {}&quot;, customModel.toString());\n</code></pre>\n"},{"tags":["java","hazelcast","hazelcast-imap"],"answers":[{"tags":[],"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659865019,"creation_date":1659865019,"answer_id":73266376,"question_id":73257944,"body_markdown":"Near-cache is available for IMap but not for IList\r\n\r\nFor IMap, see [here](https://docs.hazelcast.com/hazelcast/5.1/performance/near-cache#configuring-near-cache).\r\n\r\nYou can configure a near-cache on a client or on a server.\r\n\r\nIt&#39;s available on 3.9, so you don&#39;t need to upgrade for that reason, but it&#39;s a good idea in general not to use old software.","title":"Configure Hazelcast Near cache feature for specific IMAP OR ILIST in Hazelcast Client","body":"<p>Near-cache is available for IMap but not for IList</p>\n<p>For IMap, see <a href=\"https://docs.hazelcast.com/hazelcast/5.1/performance/near-cache#configuring-near-cache\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can configure a near-cache on a client or on a server.</p>\n<p>It's available on 3.9, so you don't need to upgrade for that reason, but it's a good idea in general not to use old software.</p>\n"}],"owner":{"account_id":11311011,"reputation":21,"user_id":8294101,"display_name":"Divyang Mistry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659865019,"creation_date":1659770902,"question_id":73257944,"body_markdown":"I am trying to configure Hazelcast Near Cache Feature for specific Imap OR IList but I am not able to find how to do it Hazelcast Document dont have clear indication of if it is possible or not.\r\n\r\nWe are using Hazelcast 3.9 but there is no issue for us to upgrade if Hazelcast updated version provide this feature. \r\n\r\nWe are using standalone setup of Hazelcast.\r\n\r\nIs it possible to configure such thing in Hazelcast ? \r\nOR \r\nany alternative ways to do it ?\r\n\r\n","title":"Configure Hazelcast Near cache feature for specific IMAP OR ILIST in Hazelcast Client","body":"<p>I am trying to configure Hazelcast Near Cache Feature for specific Imap OR IList but I am not able to find how to do it Hazelcast Document dont have clear indication of if it is possible or not.</p>\n<p>We are using Hazelcast 3.9 but there is no issue for us to upgrade if Hazelcast updated version provide this feature.</p>\n<p>We are using standalone setup of Hazelcast.</p>\n<p>Is it possible to configure such thing in Hazelcast ?\nOR\nany alternative ways to do it ?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659451987,"post_id":73208247,"comment_id":129295364,"body_markdown":"what H2 version are you on? https://github.com/h2database/h2database/issues/1759","body":"what H2 version are you on? <a href=\"https://github.com/h2database/h2database/issues/1759\" rel=\"nofollow noreferrer\">github.com/h2database/h2database/issues/1759</a>"},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659456448,"post_id":73208247,"comment_id":129297104,"body_markdown":"@AndreyB.Panfilov I&#39;m using 1.4.200, but I will upgrade to higher version, maybe it will help","body":"@AndreyB.Panfilov I&#39;m using 1.4.200, but I will upgrade to higher version, maybe it will help"},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659458653,"post_id":73208247,"comment_id":129297922,"body_markdown":"@AndreyB.Panfilov version upgrade didn&#39;t help","body":"@AndreyB.Panfilov version upgrade didn&#39;t help"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659462916,"post_id":73208247,"comment_id":129299271,"body_markdown":"Just tried, can&#39;t reproduce on `1.4.200` and `1.4.197`. `1.4.198` is definitely buggy. Would you mind providing the whole method body and how you verify that `count` has wrong value - doing that right after `for loop` is not correct, because executorService might not finished processing tasks.","body":"Just tried, can&#39;t reproduce on <code>1.4.200</code> and <code>1.4.197</code>. <code>1.4.198</code> is definitely buggy. Would you mind providing the whole method body and how you verify that <code>count</code> has wrong value - doing that right after <code>for loop</code> is not correct, because executorService might not finished processing tasks."},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659468938,"post_id":73208247,"comment_id":129301009,"body_markdown":"@AndreyB.Panfilov edited question, check it pls.","body":"@AndreyB.Panfilov edited question, check it pls."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1659469843,"post_id":73208247,"comment_id":129301309,"body_markdown":"log exceptions,","body":"log exceptions,"},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659469967,"post_id":73208247,"comment_id":129301343,"body_markdown":"@Antoniossss there are no exceptions, only incorrect `count` value.","body":"@Antoniossss there are no exceptions, only incorrect <code>count</code> value."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1659470149,"post_id":73208247,"comment_id":129301410,"body_markdown":"You are not logging them if there are any - which could explain incorrect count. Wrap  your runnable blocks with try-catch. Most probabl you will see pessimistic locking exceptions of some sort.","body":"You are not logging them if there are any - which could explain incorrect count. Wrap  your runnable blocks with try-catch. Most probabl you will see pessimistic locking exceptions of some sort."},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659471634,"post_id":73208247,"comment_id":129301896,"body_markdown":"@Antoniossss if there were any exception I would see it in output, there is no need to wrap anything in try-catch. There are no exceptions in my case.","body":"@Antoniossss if there were any exception I would see it in output, there is no need to wrap anything in try-catch. There are no exceptions in my case."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1659474163,"post_id":73208247,"comment_id":129302618,"body_markdown":"@zexed640 I created a sample project based on your question. I see PessimisticLockException exception  - INFO: HHH000327: Error performing load command\norg.hibernate.PessimisticLockException: JDBC exception executing SQL [select s1_0.count from Subjects s1_0 where s1_0.count=? for update]","body":"@zexed640 I created a sample project based on your question. I see PessimisticLockException exception  - INFO: HHH000327: Error performing load command org.hibernate.PessimisticLockException: JDBC exception executing SQL [select s1_0.count from Subjects s1_0 where s1_0.count=? for update]"},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659476516,"post_id":73208247,"comment_id":129303210,"body_markdown":"@VasanthSubramanian what version of Hibernate and H2 are you using?","body":"@VasanthSubramanian what version of Hibernate and H2 are you using?"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1659495882,"post_id":73208247,"comment_id":129306303,"body_markdown":"Hibernate core version is 6.1.1.Final, H2 version 1.4.197","body":"Hibernate core version is 6.1.1.Final, H2 version 1.4.197"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659503040,"post_id":73208247,"comment_id":129307284,"body_markdown":"@VasanthSubramanian your test case is irrelevant: you use count as PK and mutate it, thus you are getting exception because query does not return rows.","body":"@VasanthSubramanian your test case is irrelevant: you use count as PK and mutate it, thus you are getting exception because query does not return rows."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659503882,"post_id":73208247,"comment_id":129307358,"body_markdown":"@zexed640 I would agree with @Antoniossss - try to write test case in more accurate way or analyse output more thoroughly (would you mind providing output (SQL statements, bind variables, results) as well?). Basic idea: if it is required to get the most recent state of data, there are two patterns to do that: &quot;lock and refresh&quot; or `select * from ... where id = ? for update`, HBN actually should prefer the second one, if not - that is HBN issue, otherwise - DB&#39;s, another reason - not all tasks got executed due to errors.","body":"@zexed640 I would agree with @Antoniossss - try to write test case in more accurate way or analyse output more thoroughly (would you mind providing output (SQL statements, bind variables, results) as well?). Basic idea: if it is required to get the most recent state of data, there are two patterns to do that: &quot;lock and refresh&quot; or <code>select * from ... where id = ? for update</code>, HBN actually should prefer the second one, if not - that is HBN issue, otherwise - DB&#39;s, another reason - not all tasks got executed due to errors."}],"answers":[{"tags":[],"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659616781,"creation_date":1659546265,"answer_id":73225185,"question_id":73208247,"body_markdown":"Answer was simple, I need just to upgrade version of hibernate to [6.0.0.Alpha9][1]. Higher versions requires 11 java to compile (I&#39;m using 8). Seems like it was a bug in [6.0.0.Alpha6][2], which I used previously. There was no problem with H2 [1.4.200][3]. From hibernate sql logs I understood that the main problem in [6.0.0.Alpha6][2] was incorrect `select` query for transaction with pessimistic lock, it was just regular `select`, but in [6.0.0.Alpha9][1] already used `select for update`, which prevents other transactions from reading this row.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha9\r\n  [2]: https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha6\r\n  [3]: https://mvnrepository.com/artifact/com.h2database/h2/1.4.200","title":"How does pessimistic locking work in Hibernate?","body":"<p>Answer was simple, I need just to upgrade version of hibernate to <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha9\" rel=\"nofollow noreferrer\">6.0.0.Alpha9</a>. Higher versions requires 11 java to compile (I'm using 8). Seems like it was a bug in <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha6\" rel=\"nofollow noreferrer\">6.0.0.Alpha6</a>, which I used previously. There was no problem with H2 <a href=\"https://mvnrepository.com/artifact/com.h2database/h2/1.4.200\" rel=\"nofollow noreferrer\">1.4.200</a>. From hibernate sql logs I understood that the main problem in <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha6\" rel=\"nofollow noreferrer\">6.0.0.Alpha6</a> was incorrect <code>select</code> query for transaction with pessimistic lock, it was just regular <code>select</code>, but in <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha9\" rel=\"nofollow noreferrer\">6.0.0.Alpha9</a> already used <code>select for update</code>, which prevents other transactions from reading this row.</p>\n"}],"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73225185,"answer_count":1,"score":1,"last_activity_date":1659864143,"creation_date":1659446152,"question_id":73208247,"body_markdown":"I&#39;m currently using Hibernate 6 and H2. I want to safely increment `count` field of `Entity` class but using more then 1 thread per time just to make sure that transaction is actually locking my entity. But when I ran this code, result `count` column in H2 wasn&#39;t 10, but instead some random number under 10. What am I missing about pessimistic locking?\r\n    \r\n    for (int a = 0; a &lt; 5; a++) {\r\n            executorService.execute(() -&gt; {\r\n                Session innerSession = sessionFactory.openSession();\r\n                Transaction innerTransaction = innerSession.beginTransaction();\r\n                Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\r\n    \r\n                entity.setCount(entity.getCount() + 1);\r\n    \r\n                innerSession.flush();\r\n                innerTransaction.commit();\r\n                innerSession.close();\r\n            });\r\n    \r\n            executorService.execute(() -&gt; {\r\n                Session innerSession = sessionFactory.openSession();\r\n                Transaction innerTransaction = innerSession.beginTransaction();\r\n                Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\r\n    \r\n                entity.setCount(entity.getCount() + 1);\r\n    \r\n                innerSession.flush();\r\n                innerTransaction.commit();\r\n                innerSession.close();\r\n            });\r\n    }\r\n\r\nEntire method:\r\n\r\n    Long id;\r\n    SessionFactory sessionFactory;\r\n    Session session;\r\n    Transaction transaction;\r\n    ExecutorService executorService = Executors.newFixedThreadPool(4);\r\n    Properties properties = new Properties();\r\n    Configuration configuration = new Configuration();\r\n    \r\n    properties.put(AvailableSettings.URL, &quot;jdbc:h2:tcp://localhost/~/test&quot;);\r\n    properties.put(AvailableSettings.USER, &quot;root&quot;);\r\n    properties.put(AvailableSettings.PASS, &quot;root&quot;);\r\n    properties.put(AvailableSettings.DIALECT, H2Dialect.class.getName());\r\n    properties.put(AvailableSettings.SHOW_SQL, true);\r\n    properties.put(AvailableSettings.HBM2DDL_AUTO, Action.CREATE.getExternalHbm2ddlName());\r\n    \r\n    // classes are provided by another library\r\n    entityClasses.forEach(configuration::addAnnotatedClass);\r\n\r\n    sessionFactory = configuration.buildSessionFactory(new StandardServiceRegistryBuilder().applySettings(properties).build());\r\n    session = sessionFactory.openSession();\r\n    transaction = session.beginTransaction();\r\n    \r\n    // initial value of count field is 0\r\n    id = (Long) session.save(new Entity());\r\n\r\n    transaction.commit();\r\n    \r\n    for (int a = 0; a &lt; 5; a++) {\r\n            executorService.execute(() -&gt; {\r\n                Session innerSession = sessionFactory.openSession();\r\n                Transaction innerTransaction = innerSession.beginTransaction();\r\n                Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\r\n    \r\n                entity.setCount(entity.getCount() + 1);\r\n    \r\n                innerSession.flush();\r\n                innerTransaction.commit();\r\n                innerSession.close();\r\n            });\r\n    \r\n            executorService.execute(() -&gt; {\r\n                Session innerSession = sessionFactory.openSession();\r\n                Transaction innerTransaction = innerSession.beginTransaction();\r\n                Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\r\n    \r\n                entity.setCount(entity.getCount() + 1);\r\n    \r\n                innerSession.flush();\r\n                innerTransaction.commit();\r\n                innerSession.close();\r\n            });\r\n    }\r\n    \r\n    executorService.shutdown();\r\n    executorService.awaitTermination(5, TimeUnit.SECONDS);\r\n    \r\n    session.clear(); // prevent reading from cache\r\n    System.out.println(session.get(Entity.class, id).getCount()); // printed result doesn&#39;t match 10, same for reading from H2 browser interface\r\n    session.close();","title":"How does pessimistic locking work in Hibernate?","body":"<p>I'm currently using Hibernate 6 and H2. I want to safely increment <code>count</code> field of <code>Entity</code> class but using more then 1 thread per time just to make sure that transaction is actually locking my entity. But when I ran this code, result <code>count</code> column in H2 wasn't 10, but instead some random number under 10. What am I missing about pessimistic locking?</p>\n<pre><code>for (int a = 0; a &lt; 5; a++) {\n        executorService.execute(() -&gt; {\n            Session innerSession = sessionFactory.openSession();\n            Transaction innerTransaction = innerSession.beginTransaction();\n            Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\n\n            entity.setCount(entity.getCount() + 1);\n\n            innerSession.flush();\n            innerTransaction.commit();\n            innerSession.close();\n        });\n\n        executorService.execute(() -&gt; {\n            Session innerSession = sessionFactory.openSession();\n            Transaction innerTransaction = innerSession.beginTransaction();\n            Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\n\n            entity.setCount(entity.getCount() + 1);\n\n            innerSession.flush();\n            innerTransaction.commit();\n            innerSession.close();\n        });\n}\n</code></pre>\n<p>Entire method:</p>\n<pre><code>Long id;\nSessionFactory sessionFactory;\nSession session;\nTransaction transaction;\nExecutorService executorService = Executors.newFixedThreadPool(4);\nProperties properties = new Properties();\nConfiguration configuration = new Configuration();\n\nproperties.put(AvailableSettings.URL, &quot;jdbc:h2:tcp://localhost/~/test&quot;);\nproperties.put(AvailableSettings.USER, &quot;root&quot;);\nproperties.put(AvailableSettings.PASS, &quot;root&quot;);\nproperties.put(AvailableSettings.DIALECT, H2Dialect.class.getName());\nproperties.put(AvailableSettings.SHOW_SQL, true);\nproperties.put(AvailableSettings.HBM2DDL_AUTO, Action.CREATE.getExternalHbm2ddlName());\n\n// classes are provided by another library\nentityClasses.forEach(configuration::addAnnotatedClass);\n\nsessionFactory = configuration.buildSessionFactory(new StandardServiceRegistryBuilder().applySettings(properties).build());\nsession = sessionFactory.openSession();\ntransaction = session.beginTransaction();\n\n// initial value of count field is 0\nid = (Long) session.save(new Entity());\n\ntransaction.commit();\n\nfor (int a = 0; a &lt; 5; a++) {\n        executorService.execute(() -&gt; {\n            Session innerSession = sessionFactory.openSession();\n            Transaction innerTransaction = innerSession.beginTransaction();\n            Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\n\n            entity.setCount(entity.getCount() + 1);\n\n            innerSession.flush();\n            innerTransaction.commit();\n            innerSession.close();\n        });\n\n        executorService.execute(() -&gt; {\n            Session innerSession = sessionFactory.openSession();\n            Transaction innerTransaction = innerSession.beginTransaction();\n            Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\n\n            entity.setCount(entity.getCount() + 1);\n\n            innerSession.flush();\n            innerTransaction.commit();\n            innerSession.close();\n        });\n}\n\nexecutorService.shutdown();\nexecutorService.awaitTermination(5, TimeUnit.SECONDS);\n\nsession.clear(); // prevent reading from cache\nSystem.out.println(session.get(Entity.class, id).getCount()); // printed result doesn't match 10, same for reading from H2 browser interface\nsession.close();\n</code></pre>\n"},{"tags":["java","bitmap","bufferedimage","image-resizing","javax.imageio"],"comments":[{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":2,"creation_date":1327325451,"post_id":8972357,"comment_id":11239208,"body_markdown":"Store it elsewhere then overwrite new image with an old exif meta? http://www.screaming-penguin.com/node/7485","body":"Store it elsewhere then overwrite new image with an old exif meta? <a href=\"http://www.screaming-penguin.com/node/7485\" rel=\"nofollow noreferrer\">screaming-penguin.com/node/7485</a>"},{"owner":{"account_id":1118646,"reputation":3983,"user_id":1107412,"accept_rate":37,"display_name":"Preslav Rachev"},"score":0,"creation_date":1327325678,"post_id":8972357,"comment_id":11239286,"body_markdown":"This is precisely what I want to avoid","body":"This is precisely what I want to avoid"},{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":2,"creation_date":1327326584,"post_id":8972357,"comment_id":11239600,"body_markdown":"what&#39;s the problem with copying the meta? here&#39;s another example http://nucleussystems.com/blog/java-copy-exif-data","body":"what&#39;s the problem with copying the meta? here&#39;s another example <a href=\"http://nucleussystems.com/blog/java-copy-exif-data\" rel=\"nofollow noreferrer\">nucleussystems.com/blog/java-copy-exif-data</a>"},{"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"score":1,"creation_date":1400269499,"post_id":8972357,"comment_id":36424788,"body_markdown":"The libraries I&#39;ve found so far either read metadata or read the image.  Not both.  You&#39;d have to read it twice.  If it&#39;s being read from a stream, that means you need to save it in a byte[]. Which might require too much additional memory.","body":"The libraries I&#39;ve found so far either read metadata or read the image.  Not both.  You&#39;d have to read it twice.  If it&#39;s being read from a stream, that means you need to save it in a byte[]. Which might require too much additional memory."}],"answers":[{"tags":[],"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1659862976,"creation_date":1400512100,"answer_id":23741234,"question_id":8972357,"body_markdown":"Here is my solution using a combination of [ImageIO][1], [Imgscalr][2] and [Apache commons-imaging][3]. It&#39;s a pity there&#39;s (May 2016) no single library which combines reading the image with its metadata , making this probably rather excessive on memory usage; Improvements welcome.\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import javax.imageio.ImageIO;\r\n    import org.apache.commons.imaging.ImageReadException;\r\n    import org.apache.commons.imaging.ImageWriteException;\r\n    import org.apache.commons.imaging.Imaging;\r\n    import org.apache.commons.imaging.common.IImageMetadata;\r\n    import org.apache.commons.imaging.formats.jpeg.JpegImageMetadata;\r\n    import org.apache.commons.imaging.formats.jpeg.exif.ExifRewriter;\r\n    import org.apache.commons.imaging.formats.tiff.TiffImageMetadata;\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.imgscalr.Scalr;\r\n    \r\n    \r\n    public class ImageData {\r\n    \r\n        private byte[] imageData;\r\n    \r\n    \r\n        public ImageData(InputStream instream) throws IOException {\r\n            imageData  = IOUtils.toByteArray(instream);\r\n            instream.close();\r\n        }\r\n    \r\n    \r\n        public synchronized void resize(int maxDimension) throws IOException, ImageReadException, ImageWriteException {\r\n            // Resize the image if necessary\r\n            BufferedImage image = readImage(imageData);\r\n            if (image.getWidth() &gt; maxDimension || image.getHeight() &gt; maxDimension) {\r\n    \r\n                // Save existing metadata, if any\r\n                TiffImageMetadata metadata = readExifMetadata(imageData);\r\n                imageData = null; // allow immediate GC\r\n    \r\n                // resize \r\n                image = Scalr.resize(image, maxDimension);\r\n    \r\n                // rewrite resized image as byte[]\r\n                byte[] resizedData = writeJPEG(image);\r\n                image = null; // allow immediate GC \r\n    \r\n                // Re-code resizedData + metadata to imageData \r\n                if (metadata != null) {\r\n                    this.imageData = writeExifMetadata(metadata, resizedData);\r\n                } else {\r\n                    this.imageData = resizedData;\r\n                }\r\n            }\r\n        }\r\n    \r\n        private TiffImageMetadata readExifMetadata(byte[] jpegData) throws ImageReadException, IOException {\r\n            IImageMetadata imageMetadata = Imaging.getMetadata(jpegData);\r\n            if (imageMetadata == null) {\r\n                return null;\r\n            }\r\n            JpegImageMetadata jpegMetadata = (JpegImageMetadata)imageMetadata;\r\n            TiffImageMetadata exif = jpegMetadata.getExif();\r\n            if (exif == null) {\r\n                return null;\r\n            }\r\n            return exif;\r\n        }\r\n    \r\n    \r\n        private byte[] writeExifMetadata(TiffImageMetadata metadata, byte[] jpegData) \r\n                                    throws ImageReadException, ImageWriteException, IOException {\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            new ExifRewriter().updateExifMetadataLossless(jpegData, out, metadata.getOutputSet());\r\n            out.close();\r\n            return out.toByteArray();\r\n        }\r\n    \r\n    \r\n        private BufferedImage readImage(byte[] data) throws IOException {\r\n            return ImageIO.read(new ByteArrayInputStream(data));\r\n        }\r\n    \r\n        private byte[] writeJPEG(BufferedImage image) throws IOException {\r\n            ByteArrayOutputStream jpegOut = new ByteArrayOutputStream();\r\n            ImageIO.write(image, &quot;JPEG&quot;, jpegOut);\r\n            jpegOut.close();\r\n            return jpegOut.toByteArray();\r\n        }\r\n    \r\n        public synchronized void writeJPEG(OutputStream outstream) throws IOException {\r\n            IOUtils.write(imageData,  outstream);\r\n    \r\n        }\r\n    \r\n        public synchronized byte[] getJPEGData() {\r\n            return imageData;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/imageio/package-summary.html\r\n  [2]: https://github.com/rkalla/imgscalr\r\n  [3]: https://commons.apache.org/proper/commons-imaging/","title":"Manipulate an image without deleting its EXIF data","body":"<p>Here is my solution using a combination of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">ImageIO</a>, <a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">Imgscalr</a> and <a href=\"https://commons.apache.org/proper/commons-imaging/\" rel=\"nofollow noreferrer\">Apache commons-imaging</a>. It's a pity there's (May 2016) no single library which combines reading the image with its metadata , making this probably rather excessive on memory usage; Improvements welcome.</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport javax.imageio.ImageIO;\nimport org.apache.commons.imaging.ImageReadException;\nimport org.apache.commons.imaging.ImageWriteException;\nimport org.apache.commons.imaging.Imaging;\nimport org.apache.commons.imaging.common.IImageMetadata;\nimport org.apache.commons.imaging.formats.jpeg.JpegImageMetadata;\nimport org.apache.commons.imaging.formats.jpeg.exif.ExifRewriter;\nimport org.apache.commons.imaging.formats.tiff.TiffImageMetadata;\nimport org.apache.commons.io.IOUtils;\nimport org.imgscalr.Scalr;\n\n\npublic class ImageData {\n\n    private byte[] imageData;\n\n\n    public ImageData(InputStream instream) throws IOException {\n        imageData  = IOUtils.toByteArray(instream);\n        instream.close();\n    }\n\n\n    public synchronized void resize(int maxDimension) throws IOException, ImageReadException, ImageWriteException {\n        // Resize the image if necessary\n        BufferedImage image = readImage(imageData);\n        if (image.getWidth() &gt; maxDimension || image.getHeight() &gt; maxDimension) {\n\n            // Save existing metadata, if any\n            TiffImageMetadata metadata = readExifMetadata(imageData);\n            imageData = null; // allow immediate GC\n\n            // resize \n            image = Scalr.resize(image, maxDimension);\n\n            // rewrite resized image as byte[]\n            byte[] resizedData = writeJPEG(image);\n            image = null; // allow immediate GC \n\n            // Re-code resizedData + metadata to imageData \n            if (metadata != null) {\n                this.imageData = writeExifMetadata(metadata, resizedData);\n            } else {\n                this.imageData = resizedData;\n            }\n        }\n    }\n\n    private TiffImageMetadata readExifMetadata(byte[] jpegData) throws ImageReadException, IOException {\n        IImageMetadata imageMetadata = Imaging.getMetadata(jpegData);\n        if (imageMetadata == null) {\n            return null;\n        }\n        JpegImageMetadata jpegMetadata = (JpegImageMetadata)imageMetadata;\n        TiffImageMetadata exif = jpegMetadata.getExif();\n        if (exif == null) {\n            return null;\n        }\n        return exif;\n    }\n\n\n    private byte[] writeExifMetadata(TiffImageMetadata metadata, byte[] jpegData) \n                                throws ImageReadException, ImageWriteException, IOException {\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        new ExifRewriter().updateExifMetadataLossless(jpegData, out, metadata.getOutputSet());\n        out.close();\n        return out.toByteArray();\n    }\n\n\n    private BufferedImage readImage(byte[] data) throws IOException {\n        return ImageIO.read(new ByteArrayInputStream(data));\n    }\n\n    private byte[] writeJPEG(BufferedImage image) throws IOException {\n        ByteArrayOutputStream jpegOut = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;JPEG&quot;, jpegOut);\n        jpegOut.close();\n        return jpegOut.toByteArray();\n    }\n\n    public synchronized void writeJPEG(OutputStream outstream) throws IOException {\n        IOUtils.write(imageData,  outstream);\n\n    }\n\n    public synchronized byte[] getJPEGData() {\n        return imageData;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4260593,"reputation":356,"user_id":3485048,"display_name":"Rigeborod"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1592411131,"creation_date":1460888697,"answer_id":36675321,"question_id":8972357,"body_markdown":"**ImageIO** do have this functionality itself, but instead of **ImageIO.read** you will need to use ImageReader:\r\n\r\n    ImageReader reader = ImageIO.getImageReadersBySuffix(&quot;jpg&quot;).next();\r\n\r\n(you may want to also check if such reader exists).\r\nThen you need to set the input:\r\n\r\n    reader.setInput(ImageIO.createImageInputStream(your_imput_stream));\r\n\r\nNow you may save your metadata:\r\n\r\n    IIOMetadata metadata = reader.getImageMetadata(0); \r\n                                // As far as I understand you should provide \r\n                                // index as tiff images could have multiple pages\r\n\r\nAnd then read the image:\r\n\r\n    BufferedImage bi = reader.read(0);\r\n\r\nWhen you want to save new image, you should use ImageWriter:\r\n\r\n    // I&#39;m writing to byte array in memory, but you may use any other stream\r\n    ByteArrayOutputStream os = new ByteArrayOutputStream(255);\r\n    ImageOutputStream ios = ImageIO.createImageOutputStream(os);\r\n    \r\n    Iterator&lt;ImageWriter&gt; iter = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;);\r\n    ImageWriter writer = iter.next();\r\n    writer.setOutput(ios);\r\n\r\n    //You may want also to alter jpeg quality\r\n    ImageWriteParam iwParam = writer.getDefaultWriteParam();\r\n    iwParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    iwParam.setCompressionQuality(.95f);\r\n    \r\n    //Note: we&#39;re using metadata we&#39;ve already saved.\r\n    writer.write(null, new IIOImage(bi, null, metadata), iwParam);\r\n    writer.dispose();\r\n    \r\n    //ImageIO.write(bi, &quot;jpg&quot;, ios); &lt;- This was initially in the code but actually it was only adding image again at the end of the file.\r\n\r\nAs it&#39;s old topic, I guess this answer is a bit too late, but may help others as this topic is still googlable.","title":"Manipulate an image without deleting its EXIF data","body":"<p><strong>ImageIO</strong> do have this functionality itself, but instead of <strong>ImageIO.read</strong> you will need to use ImageReader:</p>\n\n<pre><code>ImageReader reader = ImageIO.getImageReadersBySuffix(\"jpg\").next();\n</code></pre>\n\n<p>(you may want to also check if such reader exists).\nThen you need to set the input:</p>\n\n<pre><code>reader.setInput(ImageIO.createImageInputStream(your_imput_stream));\n</code></pre>\n\n<p>Now you may save your metadata:</p>\n\n<pre><code>IIOMetadata metadata = reader.getImageMetadata(0); \n                            // As far as I understand you should provide \n                            // index as tiff images could have multiple pages\n</code></pre>\n\n<p>And then read the image:</p>\n\n<pre><code>BufferedImage bi = reader.read(0);\n</code></pre>\n\n<p>When you want to save new image, you should use ImageWriter:</p>\n\n<pre><code>// I'm writing to byte array in memory, but you may use any other stream\nByteArrayOutputStream os = new ByteArrayOutputStream(255);\nImageOutputStream ios = ImageIO.createImageOutputStream(os);\n\nIterator&lt;ImageWriter&gt; iter = ImageIO.getImageWritersByFormatName(\"jpeg\");\nImageWriter writer = iter.next();\nwriter.setOutput(ios);\n\n//You may want also to alter jpeg quality\nImageWriteParam iwParam = writer.getDefaultWriteParam();\niwParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\niwParam.setCompressionQuality(.95f);\n\n//Note: we're using metadata we've already saved.\nwriter.write(null, new IIOImage(bi, null, metadata), iwParam);\nwriter.dispose();\n\n//ImageIO.write(bi, \"jpg\", ios); &lt;- This was initially in the code but actually it was only adding image again at the end of the file.\n</code></pre>\n\n<p>As it's old topic, I guess this answer is a bit too late, but may help others as this topic is still googlable.</p>\n"}],"owner":{"account_id":1118646,"reputation":3983,"user_id":1107412,"accept_rate":37,"display_name":"Preslav Rachev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8914,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":2,"score":17,"last_activity_date":1659862976,"creation_date":1327325247,"question_id":8972357,"body_markdown":"Using imageIO, I usually have the problem of transforming an image file, and after overwriting it, it loses all of its EXIF data. Is there any way to preserve it without first extracting it, caching it, and then resetting it?","title":"Manipulate an image without deleting its EXIF data","body":"<p>Using imageIO, I usually have the problem of transforming an image file, and after overwriting it, it loses all of its EXIF data. Is there any way to preserve it without first extracting it, caching it, and then resetting it?</p>\n"},{"tags":["java","picasa"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1302839547,"post_id":5672043,"comment_id":6474297,"body_markdown":"By &#39;resize&#39; do you mean change the Width x Height in pixels, or the byte size?","body":"By &#39;resize&#39; do you mean change the Width x Height in pixels, or the byte size?"}],"answers":[{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302843900,"creation_date":1302843900,"answer_id":5672588,"question_id":5672043,"body_markdown":"As far as I see in the API, photos has to be resized before the upload. Luckily, it is [easy to do][1] in Java.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/244164/resize-an-image-in-java-any-open-source-library","title":"How do I resize photo during upload?","body":"<p>As far as I see in the API, photos has to be resized before the upload. Luckily, it is <a href=\"https://stackoverflow.com/questions/244164/resize-an-image-in-java-any-open-source-library\">easy to do</a> in Java.</p>\n"},{"tags":[],"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659862344,"creation_date":1400409852,"answer_id":23721053,"question_id":5672043,"body_markdown":"I used a combination of [ImageIO][1] and [imgscalr][2]:\r\n\r\n    import javax.imageio.ImageIO;\r\n    import org.imgscalr.Scalr;\r\n       \r\n    InputStream myPhotoInputStream = // new FileInputStream(file)\r\n                                     // or FileItemStream.openStream(); from an HTTP upload\r\n    OutputStream outstream = ...\r\n    BufferedImage image = ImageIO.read( myPhotoInputStream );\r\n    int maxDimension = 1024;\r\n    image = Scalr.resize(image, maxDimension);\r\n    ImageIO.write(image, &quot;JPEG&quot;, outstream);\r\n\r\nUnfortunately when you resize, you lose the EXIF metadata.  I have yet to find a library capable of simply saving this on read and restoring it on write.  Apache commons-imaging looked promising but seems unable to write a JPEG.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/imageio/package-summary.html\r\n  [2]: https://github.com/rkalla/imgscalr ","title":"How do I resize photo during upload?","body":"<p>I used a combination of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">ImageIO</a> and <a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">imgscalr</a>:</p>\n<pre><code>import javax.imageio.ImageIO;\nimport org.imgscalr.Scalr;\n   \nInputStream myPhotoInputStream = // new FileInputStream(file)\n                                 // or FileItemStream.openStream(); from an HTTP upload\nOutputStream outstream = ...\nBufferedImage image = ImageIO.read( myPhotoInputStream );\nint maxDimension = 1024;\nimage = Scalr.resize(image, maxDimension);\nImageIO.write(image, &quot;JPEG&quot;, outstream);\n</code></pre>\n<p>Unfortunately when you resize, you lose the EXIF metadata.  I have yet to find a library capable of simply saving this on read and restoring it on write.  Apache commons-imaging looked promising but seems unable to write a JPEG.</p>\n"}],"owner":{"account_id":359703,"reputation":1317,"user_id":701274,"accept_rate":36,"display_name":"Raja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659862344,"creation_date":1302837698,"question_id":5672043,"body_markdown":"I would like to reduce size of photo before uploading to picasa using picasa java api.\r\nHow can I resize photo during upload with Picasa API? \r\n","title":"How do I resize photo during upload?","body":"<p>I would like to reduce size of photo before uploading to picasa using picasa java api.\nHow can I resize photo during upload with Picasa API? </p>\n"},{"tags":["java","jpa","inheritance","spring-data-jpa","criteria"],"owner":{"account_id":12399533,"reputation":41,"user_id":15148217,"display_name":"Fabr&#237;cio Gustavo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659862086,"creation_date":1659862086,"question_id":73266053,"body_markdown":"I have a join chain:\r\n\r\nThe first one:\r\n```\r\n@Entity\r\npublic class Anuncio implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n\tprivate Produto produto;\r\n```\r\n\r\nThe second one:\r\n```\r\n@Entity\r\n@Inheritance(strategy=InheritanceType.JOINED)\r\npublic class Produto implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n```\r\n\r\nAnd  the third one:\r\n```\r\n@Entity\r\npublic class Bovino extends Produto implements Serializable  {\r\n\tprivate static final long serialVersionUID = 1L;\r\n```\r\n\r\nI made a relationship between `Anuncio` and `Produto`, and extends `Produto` to a lot of classes, let&#39;s take the `Bovino` for a sample.\r\n\r\nI&#39;m trying to use CriteriaBuilder to make some queries, but idk how to chain the entities. I need to search properties across the three entities, but I can&#39;t find a solution by myself.  Due to be an child class, `Bovino` doesn&#39;t have an Id field, I let the work to JPA Inheritance. I&#39;m using `Predicates` to add some conditions to criteriaBuilder, like this:\r\n\r\n```\r\npublic List&lt;Anuncio&gt; getFilteredBuilder(Integer qualidadeGado, Integer racaGado, Integer idadeStart, Integer idadeEnd){\r\n\t\t\r\n\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Anuncio&gt; cq = cb.createQuery(Anuncio.class);\r\n\t\tRoot&lt;Anuncio&gt; rootAn = cq.from(Anuncio.class);\r\n\t\t\r\n\t\tList&lt;Predicate&gt; preds  = new ArrayList&lt;&gt;();\r\n\t\tif (qualidadeGado != null) {\r\n\t\t\tpreds.add(cb.equal(rootAn.get(&quot;qualidade&quot;), qualidadeGado));\r\n\t\t}\r\n\t\tif (racaGado != null) {\r\n\t\t\tpreds.add(cb.equal(rootAn.get(&quot;raca&quot;), racaGado));\r\n\t\t}\r\n\t\tif (idadeStart != null ) {\r\n\t\t\tpreds.add(cb.ge(rootAn.get(&quot;idadeOuMedia&quot;), idadeStart));\r\n\t\t}\r\n\t\tif (idadeEnd != null) {\r\n\t\t\tpreds.add(cb.le(rootAn.get(&quot;idadeOuMedia&quot;), idadeEnd));\r\n\t\t}\r\n        cq.where(preds.toArray(new Predicate[0]));\r\n\t\t\r\n\t\treturn em.createQuery(cq).getResultList();\r\n\t}\r\n```\r\n\r\nHow can I code a query searching properties across the three entities with criteria queries?","title":"Criteria Query with Joined Inheritance","body":"<p>I have a join chain:</p>\n<p>The first one:</p>\n<pre><code>@Entity\npublic class Anuncio implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private Produto produto;\n</code></pre>\n<p>The second one:</p>\n<pre><code>@Entity\n@Inheritance(strategy=InheritanceType.JOINED)\npublic class Produto implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n</code></pre>\n<p>And  the third one:</p>\n<pre><code>@Entity\npublic class Bovino extends Produto implements Serializable  {\n    private static final long serialVersionUID = 1L;\n</code></pre>\n<p>I made a relationship between <code>Anuncio</code> and <code>Produto</code>, and extends <code>Produto</code> to a lot of classes, let's take the <code>Bovino</code> for a sample.</p>\n<p>I'm trying to use CriteriaBuilder to make some queries, but idk how to chain the entities. I need to search properties across the three entities, but I can't find a solution by myself.  Due to be an child class, <code>Bovino</code> doesn't have an Id field, I let the work to JPA Inheritance. I'm using <code>Predicates</code> to add some conditions to criteriaBuilder, like this:</p>\n<pre><code>public List&lt;Anuncio&gt; getFilteredBuilder(Integer qualidadeGado, Integer racaGado, Integer idadeStart, Integer idadeEnd){\n        \n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Anuncio&gt; cq = cb.createQuery(Anuncio.class);\n        Root&lt;Anuncio&gt; rootAn = cq.from(Anuncio.class);\n        \n        List&lt;Predicate&gt; preds  = new ArrayList&lt;&gt;();\n        if (qualidadeGado != null) {\n            preds.add(cb.equal(rootAn.get(&quot;qualidade&quot;), qualidadeGado));\n        }\n        if (racaGado != null) {\n            preds.add(cb.equal(rootAn.get(&quot;raca&quot;), racaGado));\n        }\n        if (idadeStart != null ) {\n            preds.add(cb.ge(rootAn.get(&quot;idadeOuMedia&quot;), idadeStart));\n        }\n        if (idadeEnd != null) {\n            preds.add(cb.le(rootAn.get(&quot;idadeOuMedia&quot;), idadeEnd));\n        }\n        cq.where(preds.toArray(new Predicate[0]));\n        \n        return em.createQuery(cq).getResultList();\n    }\n</code></pre>\n<p>How can I code a query searching properties across the three entities with criteria queries?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1659842058,"post_id":73264597,"comment_id":129389376,"body_markdown":"So, what question do you have?","body":"So, what question do you have?"},{"owner":{"account_id":25998052,"reputation":1,"user_id":19709050,"display_name":"Aaron Oropeza"},"score":0,"creation_date":1659843295,"post_id":73264597,"comment_id":129389493,"body_markdown":"I am trying to store the user input of String digits3 in an Array and then list how many times a number is used in said Array from 0-9.","body":"I am trying to store the user input of String digits3 in an Array and then list how many times a number is used in said Array from 0-9."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659862056,"creation_date":1659860897,"answer_id":73265946,"question_id":73264597,"body_markdown":"First the code. Then the explanations.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LotteryAnalysis {\r\n\r\n    public static boolean isNumeric(String digits3) {\r\n        boolean ret = !digits3.equals(&quot;&quot;);\r\n        for (int i = 2; i &lt; digits3.length(); i++) {\r\n            // Checks if the characters in digits3 are only digits\r\n            if (!Character.isDigit(digits3.charAt(i))) {\r\n                System.out.println(&quot;non-numeric data&quot;);\r\n                ret = false;\r\n            }\r\n        }\r\n        // Tells the user if the characters they input are not over 3 digits\r\n        for (int j = 3; j &lt; digits3.length(); j++) {\r\n            System.out.println(&quot;too many digits&quot;);\r\n            ret = false;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Lottery Analysis\\n&quot;);\r\n\r\n        // Create Scanner\r\n        Scanner days = new Scanner(System.in);\r\n\r\n        // Ask the user for how many days they will analyze\r\n        System.out.print(&quot;How many days will you analyze? &quot;);\r\n        int analyze = days.nextInt();\r\n\r\n        // Ask the user to enter 3 digits for each day\r\n        System.out.println(&quot;\\nEnter 3 digits for each day \\n&quot;);\r\n        Scanner scanDigits = new Scanner(System.in);\r\n        int i = 1;\r\n\r\n        // Store all digits used in digits3 in an array\r\n        int[] frequencies = new int[10];\r\n\r\n        // Make a loop that prints the number of days so the user can input the digits each time into that day\r\n        String digits3;\r\n        do {\r\n            System.out.print(&quot;Day &quot; + i + &quot;: &quot;);\r\n            digits3 = scanDigits.nextLine();\r\n\r\n            // Make sure the string used holds only 3 digits\r\n            if (isNumeric(digits3)) {\r\n                i++;\r\n                char[] digits = digits3.toCharArray();\r\n                for (char digit : digits) {\r\n                    int index = digit - &#39;0&#39;;\r\n                    frequencies[index]++;\r\n                }\r\n            }\r\n        }\r\n        while (i &lt;= analyze);\r\n\r\n        // Print the Numbers and Frequencies from 0 to 9\r\n        System.out.println(&quot;\\nFrequencies\\n&quot;);\r\n        for (int j = 0; j &lt; frequencies.length; j++) {\r\n            System.out.printf(&quot;%d: %d%n&quot;, j, frequencies[j]);\r\n        }\r\n    }\r\n}\r\n```\r\nI only changed code in method `main`.\r\n1. The `frequencies` array needs to be declared before the `do-while` loop and not inside the loop. Note that Java initializes each element in the array to zero.\r\n2. Inside the `do-while` loop you need to update the `frequencies` array.\r\n3. You want to get the frequencies of all the digits but in your code you are only checking the first digit in each three-digit number that the user enters.\r\n4. After the `do-while` loop terminates, you want to print all the elements in `frequencies`. In your code you are printing just the last, three-digit number that was entered by the user.\r\n5. You only really need one `Scanner` (and not two) but if you use a single `Scanner`, then you need to add a call to method `nextLine` before you enter the `do-while` loop. Refer to [Scanner is skipping nextLine() after using next() or nextFoo()][1]\r\n6. The code in your question does not compile because you reference [local] variable `val` outside of its scope. You declare it inside the following `if` statement (inside the `do-while` loop):\r\n```java\r\nif (isNumeric(digits3)) {\r\n```\r\nHence its scope is the block associated with the `if` statement and you reference it after the `do-while` loop. The variable `val` only exists in the `if` statement block. In any case, the variable is not required and does not appear in my code, above.\r\n\r\nBelow is output from a sample run.\r\n```none\r\nLottery Analysis\r\n\r\nHow many days will you analyze? 5\r\n\r\nEnter 3 digits for each day \r\n\r\nDay 1: 123\r\nDay 2: 1234\r\ntoo many digits\r\nDay 2: abc\r\nnon-numeric data\r\nDay 2: 456\r\nDay 3: 789\r\nDay 4: 012\r\nDay 5: 345\r\n\r\nFrequencies\r\n\r\n0: 1\r\n1: 2\r\n2: 2\r\n3: 2\r\n4: 2\r\n5: 2\r\n6: 1\r\n7: 1\r\n8: 1\r\n9: 1\r\n```\r\nEdit\r\n----\r\nI didn&#39;t really look at the code of method `isNUmeric`, since it gave correct result for sample data in your question, but looking at it now, I see that it may give incorrect result, for example for the string `a12`, the method will return **true** and this is wrong. Here is my implementation:\r\n\r\n    public static boolean isNumeric(String digits3) {\r\n        boolean ret;\r\n        try {\r\n            Integer.parseInt(digits3);\r\n            ret = digits3.length() == 3;\r\n            if (!ret) {\r\n                System.out.println(&quot;Please enter a three digit number.&quot;);\r\n            }\r\n        }\r\n        catch (NumberFormatException x) {\r\n            System.out.println(&quot;non-numeric data&quot;);\r\n            ret = false;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","title":"I am trying to store and read an Array of number that are input by a user","body":"<p>First the code. Then the explanations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LotteryAnalysis {\n\n    public static boolean isNumeric(String digits3) {\n        boolean ret = !digits3.equals(&quot;&quot;);\n        for (int i = 2; i &lt; digits3.length(); i++) {\n            // Checks if the characters in digits3 are only digits\n            if (!Character.isDigit(digits3.charAt(i))) {\n                System.out.println(&quot;non-numeric data&quot;);\n                ret = false;\n            }\n        }\n        // Tells the user if the characters they input are not over 3 digits\n        for (int j = 3; j &lt; digits3.length(); j++) {\n            System.out.println(&quot;too many digits&quot;);\n            ret = false;\n        }\n        return ret;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Lottery Analysis\\n&quot;);\n\n        // Create Scanner\n        Scanner days = new Scanner(System.in);\n\n        // Ask the user for how many days they will analyze\n        System.out.print(&quot;How many days will you analyze? &quot;);\n        int analyze = days.nextInt();\n\n        // Ask the user to enter 3 digits for each day\n        System.out.println(&quot;\\nEnter 3 digits for each day \\n&quot;);\n        Scanner scanDigits = new Scanner(System.in);\n        int i = 1;\n\n        // Store all digits used in digits3 in an array\n        int[] frequencies = new int[10];\n\n        // Make a loop that prints the number of days so the user can input the digits each time into that day\n        String digits3;\n        do {\n            System.out.print(&quot;Day &quot; + i + &quot;: &quot;);\n            digits3 = scanDigits.nextLine();\n\n            // Make sure the string used holds only 3 digits\n            if (isNumeric(digits3)) {\n                i++;\n                char[] digits = digits3.toCharArray();\n                for (char digit : digits) {\n                    int index = digit - '0';\n                    frequencies[index]++;\n                }\n            }\n        }\n        while (i &lt;= analyze);\n\n        // Print the Numbers and Frequencies from 0 to 9\n        System.out.println(&quot;\\nFrequencies\\n&quot;);\n        for (int j = 0; j &lt; frequencies.length; j++) {\n            System.out.printf(&quot;%d: %d%n&quot;, j, frequencies[j]);\n        }\n    }\n}\n</code></pre>\n<p>I only changed code in method <code>main</code>.</p>\n<ol>\n<li>The <code>frequencies</code> array needs to be declared before the <code>do-while</code> loop and not inside the loop. Note that Java initializes each element in the array to zero.</li>\n<li>Inside the <code>do-while</code> loop you need to update the <code>frequencies</code> array.</li>\n<li>You want to get the frequencies of all the digits but in your code you are only checking the first digit in each three-digit number that the user enters.</li>\n<li>After the <code>do-while</code> loop terminates, you want to print all the elements in <code>frequencies</code>. In your code you are printing just the last, three-digit number that was entered by the user.</li>\n<li>You only really need one <code>Scanner</code> (and not two) but if you use a single <code>Scanner</code>, then you need to add a call to method <code>nextLine</code> before you enter the <code>do-while</code> loop. Refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()</a></li>\n<li>The code in your question does not compile because you reference [local] variable <code>val</code> outside of its scope. You declare it inside the following <code>if</code> statement (inside the <code>do-while</code> loop):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>if (isNumeric(digits3)) {\n</code></pre>\n<p>Hence its scope is the block associated with the <code>if</code> statement and you reference it after the <code>do-while</code> loop. The variable <code>val</code> only exists in the <code>if</code> statement block. In any case, the variable is not required and does not appear in my code, above.</p>\n<p>Below is output from a sample run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Lottery Analysis\n\nHow many days will you analyze? 5\n\nEnter 3 digits for each day \n\nDay 1: 123\nDay 2: 1234\ntoo many digits\nDay 2: abc\nnon-numeric data\nDay 2: 456\nDay 3: 789\nDay 4: 012\nDay 5: 345\n\nFrequencies\n\n0: 1\n1: 2\n2: 2\n3: 2\n4: 2\n5: 2\n6: 1\n7: 1\n8: 1\n9: 1\n</code></pre>\n<h2>Edit</h2>\n<p>I didn't really look at the code of method <code>isNUmeric</code>, since it gave correct result for sample data in your question, but looking at it now, I see that it may give incorrect result, for example for the string <code>a12</code>, the method will return <strong>true</strong> and this is wrong. Here is my implementation:</p>\n<pre><code>public static boolean isNumeric(String digits3) {\n    boolean ret;\n    try {\n        Integer.parseInt(digits3);\n        ret = digits3.length() == 3;\n        if (!ret) {\n            System.out.println(&quot;Please enter a three digit number.&quot;);\n        }\n    }\n    catch (NumberFormatException x) {\n        System.out.println(&quot;non-numeric data&quot;);\n        ret = false;\n    }\n    return ret;\n}\n</code></pre>\n"}],"owner":{"account_id":25998052,"reputation":1,"user_id":19709050,"display_name":"Aaron Oropeza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659862056,"creation_date":1659841238,"question_id":73264597,"body_markdown":"I am hoping it looks like this:\r\n```none\r\nLottery analysis\r\n\r\nHow many days will you analyze? 5\r\n\r\nDay 1: 123\r\nDay 2: 1234\r\ntoo many digits\r\nDay 2: abc\r\nnon-numeric data\r\n\r\nDay 2: 456\r\nDay 3: 789\r\nDay 4: 012\r\nDay 5: 345\r\n\r\nFrequencies\r\n\r\n0: 1\r\n1: 2\r\n2: 2\r\n3: 2\r\n4: 2\r\n5: 2\r\n6: 1\r\n7: 1\r\n8: 1\r\n9: 1\r\n```\r\n-----------\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Lottery Analysis\\n&quot;);\r\n\r\n        // Create Scanner\r\n        Scanner days = new Scanner(System.in);\r\n\r\n        // Ask the user for how many days they will analyze\r\n        System.out.print(&quot;How many days will you analyze? &quot;);\r\n        int analyze = days.nextInt();\r\n\r\n        // Ask the user to enter 3 digits for each day\r\n        System.out.println(&quot;\\nEnter 3 digits for each day \\n&quot;);\r\n        Scanner scanDigits = new Scanner(System.in);\r\n        int i = 1;\r\n\r\n        // Make a loop that prints the number of days so the user can input the digits each time into that day\r\n        String digits3;\r\n        do {\r\n            System.out.print(&quot;Day &quot; + i + &quot;: &quot;);\r\n            digits3 = scanDigits.nextLine();\r\n\r\n            // Make sure the string used holds only 3 digits\r\n            if (isNumeric(digits3)) {\r\n                i++;\r\n                // Store all digits used in digits3 in an array\r\n                int[] frequencies = new int[10];\r\n                int val = Character.digit(digits3.charAt(0),10);\r\n            }\r\n        }\r\n        while (i &lt;= analyze);\r\n\r\n        // Print the Numbers and Frequencies from 0 to 9\r\n        System.out.println(&quot;\\nFrequencies\\n&quot;);\r\n        System.out.println(val);\r\n    }\r\n\r\n    public static boolean isNumeric(String digits3)\r\n    {\r\n        boolean ret = !digits3.equals(&quot;&quot;);\r\n        for(int i = 2; i &lt; digits3.length(); i++)\r\n        {\r\n            // Checks if the characters in digits3 are only digits\r\n            if (!Character.isDigit(digits3.charAt(i)))\r\n            {\r\n                System.out.println(&quot;non-numeric data&quot;);\r\n                ret = false;\r\n            }\r\n        }\r\n        // Tells the user if the characters they input are not over 3 digits\r\n        for (int j = 3; j &lt; digits3.length(); j++)\r\n        {\r\n            System.out.println(&quot;too many digits&quot;);\r\n            ret = false;\r\n        }\r\n        return ret;\r\n    }\r\n","title":"I am trying to store and read an Array of number that are input by a user","body":"<p>I am hoping it looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Lottery analysis\n\nHow many days will you analyze? 5\n\nDay 1: 123\nDay 2: 1234\ntoo many digits\nDay 2: abc\nnon-numeric data\n\nDay 2: 456\nDay 3: 789\nDay 4: 012\nDay 5: 345\n\nFrequencies\n\n0: 1\n1: 2\n2: 2\n3: 2\n4: 2\n5: 2\n6: 1\n7: 1\n8: 1\n9: 1\n</code></pre>\n<hr />\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Lottery Analysis\\n&quot;);\n\n    // Create Scanner\n    Scanner days = new Scanner(System.in);\n\n    // Ask the user for how many days they will analyze\n    System.out.print(&quot;How many days will you analyze? &quot;);\n    int analyze = days.nextInt();\n\n    // Ask the user to enter 3 digits for each day\n    System.out.println(&quot;\\nEnter 3 digits for each day \\n&quot;);\n    Scanner scanDigits = new Scanner(System.in);\n    int i = 1;\n\n    // Make a loop that prints the number of days so the user can input the digits each time into that day\n    String digits3;\n    do {\n        System.out.print(&quot;Day &quot; + i + &quot;: &quot;);\n        digits3 = scanDigits.nextLine();\n\n        // Make sure the string used holds only 3 digits\n        if (isNumeric(digits3)) {\n            i++;\n            // Store all digits used in digits3 in an array\n            int[] frequencies = new int[10];\n            int val = Character.digit(digits3.charAt(0),10);\n        }\n    }\n    while (i &lt;= analyze);\n\n    // Print the Numbers and Frequencies from 0 to 9\n    System.out.println(&quot;\\nFrequencies\\n&quot;);\n    System.out.println(val);\n}\n\npublic static boolean isNumeric(String digits3)\n{\n    boolean ret = !digits3.equals(&quot;&quot;);\n    for(int i = 2; i &lt; digits3.length(); i++)\n    {\n        // Checks if the characters in digits3 are only digits\n        if (!Character.isDigit(digits3.charAt(i)))\n        {\n            System.out.println(&quot;non-numeric data&quot;);\n            ret = false;\n        }\n    }\n    // Tells the user if the characters they input are not over 3 digits\n    for (int j = 3; j &lt; digits3.length(); j++)\n    {\n        System.out.println(&quot;too many digits&quot;);\n        ret = false;\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1473830742,"post_id":39482979,"comment_id":66284604,"body_markdown":"do you have a question?","body":"do you have a question?"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":2,"creation_date":1473830780,"post_id":39482979,"comment_id":66284615,"body_markdown":"your code doesn&#180;t even remotly close reflect what you ask. Despite that defining `University` as constant and `Hour` as vowel doesn&#180;t really make sense for me","body":"your code doesn&#180;t even remotly close reflect what you ask. Despite that defining <code>University</code> as constant and <code>Hour</code> as vowel doesn&#180;t really make sense for me"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1473831810,"post_id":39482979,"comment_id":66284931,"body_markdown":"@asheeshpatel well with that attitide you wont ever get a promising answer. As i already said and ScaryWombat wanted to say aswell. You didn&#180;t ask a specific question. Your main question is completly unrelated to programming. You asked how you can identify a word as a vowel. Additionally your code still doesn&#180;t reflect what you asked as you just check how the `String` does start.","body":"@asheeshpatel well with that attitide you wont ever get a promising answer. As i already said and ScaryWombat wanted to say aswell. You didn&#180;t ask a specific question. Your main question is completly unrelated to programming. You asked how you can identify a word as a vowel. Additionally your code still doesn&#180;t reflect what you asked as you just check how the <code>String</code> does start."},{"owner":{"account_id":9178377,"reputation":17,"user_id":6823197,"display_name":"asheesh patel"},"score":0,"creation_date":1473832024,"post_id":39482979,"comment_id":66285009,"body_markdown":"@KevinEsche, yeah you are right i didn&#39;t asked specific question but you can understand the problem i just want to check String on the basis of Article... Univirsity so A Univirsity, a Uniform , an umbrela, an Hour... Got it?","body":"@KevinEsche, yeah you are right i didn&#39;t asked specific question but you can understand the problem i just want to check String on the basis of Article... Univirsity so A Univirsity, a Uniform , an umbrela, an Hour... Got it?"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1473832246,"post_id":39482979,"comment_id":66285076,"body_markdown":"@asheeshpatel yeah now i got it i guess, but it was also confusing i&#180;d say because both, `University` and `hour` should start with an `an`. I think there is no easy way to do it, as there are silent letter as in `hour`. Basicly you&#180;ve to transfer the english grammar rules to your code which might be to broad for a `SO` question.","body":"@asheeshpatel yeah now i got it i guess, but it was also confusing i&#180;d say because both, <code>University</code> and <code>hour</code> should start with an <code>an</code>. I think there is no easy way to do it, as there are silent letter as in <code>hour</code>. Basicly you&#180;ve to transfer the english grammar rules to your code which might be to broad for a <code>SO</code> question."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1473832469,"post_id":39482979,"comment_id":66285152,"body_markdown":"@asheeshpatel which is correct `You have a Horrible attitude` or `You have an Horrible attitude`","body":"@asheeshpatel which is correct <code>You have a Horrible attitude</code> or <code>You have an Horrible attitude</code>"},{"owner":{"account_id":9178377,"reputation":17,"user_id":6823197,"display_name":"asheesh patel"},"score":0,"creation_date":1473860931,"post_id":39482979,"comment_id":66301799,"body_markdown":"@ScaryWombat i will go for A Horrible but now i wanna check in java program then how you do this?","body":"@ScaryWombat i will go for A Horrible but now i wanna check in java program then how you do this?"},{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":0,"creation_date":1473974105,"post_id":39482979,"comment_id":66356665,"body_markdown":"Clarified problem statement in light of later comment from OP.","body":"Clarified problem statement in light of later comment from OP."}],"answers":[{"tags":[],"owner":{"account_id":8053765,"reputation":19,"user_id":6829316,"display_name":"Asmi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473833256,"creation_date":1473831682,"answer_id":39483172,"question_id":39482979,"body_markdown":"    import java.util.Scanner;\r\n     \r\n/**\r\n  * Java Program to count vowels in a String. It accept a String \r\n    from command promptand count how many vowels it contains. To revise, \r\n\t5 letters a, e, i, o and u are known as \r\n\tvowels in English.\r\n  */\r\n\r\n    public class VowelCounter {\r\n\r\n     public static void main(String args[]) {\r\n          System.out.println(&quot;Please enter some text&quot;);\r\n          Scanner reader = new Scanner(System.in);                  \r\n\r\n      String input = reader.nextLine();\r\n          char[] letters = input.toCharArray();\r\n\r\n      int count = 0;\r\n     \r\n      for (char c : letters) {\r\n           switch (c) {\r\n              case &#39;a&#39;:\r\n                  case &#39;e&#39;:\r\n                  case &#39;i&#39;:\r\n                  case &#39;o&#39;:\r\n                  case &#39;u&#39;:\r\n                      count++;\r\n          break;\r\n          default:\r\n                  // no count increment\r\n          }\r\n\r\n       }\r\n            System.out.println(&quot;Number of vowels in String [&quot; + input + &quot;] is : &quot; + count);\r\n     }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"check is String vowel or consonant using java?","body":"<pre><code>import java.util.Scanner;\n</code></pre>\n\n<p>/**\n  * Java Program to count vowels in a String. It accept a String \n    from command promptand count how many vowels it contains. To revise, \n    5 letters a, e, i, o and u are known as \n    vowels in English.\n  */</p>\n\n<pre><code>public class VowelCounter {\n\n public static void main(String args[]) {\n      System.out.println(\"Please enter some text\");\n      Scanner reader = new Scanner(System.in);                  \n\n  String input = reader.nextLine();\n      char[] letters = input.toCharArray();\n\n  int count = 0;\n\n  for (char c : letters) {\n       switch (c) {\n          case 'a':\n              case 'e':\n              case 'i':\n              case 'o':\n              case 'u':\n                  count++;\n      break;\n      default:\n              // no count increment\n      }\n\n   }\n        System.out.println(\"Number of vowels in String [\" + input + \"] is : \" + count);\n }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473974277,"creation_date":1473974277,"answer_id":39520521,"question_id":39482979,"body_markdown":"You cannot do this reasonably simply by examining the first letter.  Rather, you need to refer to an on-line dictionary and use the first phoneme of the pronunciation.  You&#39;ve already coded the simple implementation: check the first letter.  However, as your counterexamples show, this is not enough.\r\n\r\nIf this is a homework assignment, please contact your instructor for access to the pronunciation file.","title":"check is String vowel or consonant using java?","body":"<p>You cannot do this reasonably simply by examining the first letter.  Rather, you need to refer to an on-line dictionary and use the first phoneme of the pronunciation.  You've already coded the simple implementation: check the first letter.  However, as your counterexamples show, this is not enough.</p>\n\n<p>If this is a homework assignment, please contact your instructor for access to the pronunciation file.</p>\n"},{"tags":[],"owner":{"account_id":25999504,"reputation":1,"user_id":19710273,"display_name":"Martin Blažek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659862044,"creation_date":1659862044,"answer_id":73266047,"question_id":39482979,"body_markdown":"      public static int vovelsCount(String str) {\r\n        return str.replaceAll(&quot;[^aeiou]&quot;,&quot;&quot;).length();\r\n    }","title":"check is String vowel or consonant using java?","body":"<pre><code>  public static int vovelsCount(String str) {\n    return str.replaceAll(&quot;[^aeiou]&quot;,&quot;&quot;).length();\n}\n</code></pre>\n"}],"owner":{"account_id":9178377,"reputation":17,"user_id":6823197,"display_name":"asheesh patel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1112,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"answer_count":3,"score":-3,"last_activity_date":1659862044,"creation_date":1473830589,"question_id":39482979,"body_markdown":"How do I check whether a String begins with a vowel or a consonant sound? For instance, **University** begins with a consonant sound; **Hour** begins with a vowel sound.\r\n\r\n    public static void main(String args[])\r\n    {\r\n        char ch;\r\n        Scanner scan = new Scanner(System.in);\r\n\t\t\r\n        System.out.print(&quot;Enter a word : &quot;);\r\n        ch = scan.next().charAt(0);\r\n\t\t\r\n        if(ch==&#39;a&#39; || ch==&#39;A&#39; || ch==&#39;e&#39; || ch==&#39;E&#39; ||\r\n        ch==&#39;i&#39; || ch==&#39;I&#39; || ch==&#39;o&#39; || ch==&#39;O&#39; ||\r\n        ch==&#39;u&#39; || ch==&#39;U&#39;)\r\n        {\r\n            System.out.print(&quot;This is a Vowel&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.print(&quot;This is not a Vowel&quot;);\r\n        }\r\n    }","title":"check is String vowel or consonant using java?","body":"<p>How do I check whether a String begins with a vowel or a consonant sound? For instance, <strong>University</strong> begins with a consonant sound; <strong>Hour</strong> begins with a vowel sound.</p>\n\n<pre><code>public static void main(String args[])\n{\n    char ch;\n    Scanner scan = new Scanner(System.in);\n\n    System.out.print(\"Enter a word : \");\n    ch = scan.next().charAt(0);\n\n    if(ch=='a' || ch=='A' || ch=='e' || ch=='E' ||\n    ch=='i' || ch=='I' || ch=='o' || ch=='O' ||\n    ch=='u' || ch=='U')\n    {\n        System.out.print(\"This is a Vowel\");\n    }\n    else\n    {\n        System.out.print(\"This is not a Vowel\");\n    }\n}\n</code></pre>\n"},{"tags":["java","android","zipoutputstream","zipinputstream","saf"],"answers":[{"tags":[],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613358929,"creation_date":1613358929,"answer_id":66202288,"question_id":66202075,"body_markdown":"Use `Unzip();` method form [FileUtilsPlus][1]  library \r\n\r\n\r\n  [1]: https://github.com/ErrorxCode/FileUtilsPlus","title":"How to extract zip archive with subdirectories using SAF / DocumentFile?","body":"<p>Use <code>Unzip();</code> method form <a href=\"https://github.com/ErrorxCode/FileUtilsPlus\" rel=\"nofollow noreferrer\">FileUtilsPlus</a>  library</p>\n"},{"tags":[],"owner":{"account_id":9825799,"reputation":65,"user_id":7278934,"display_name":"Al_HK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613957976,"creation_date":1613957976,"answer_id":66309009,"question_id":66202075,"body_markdown":"Thanks guys I&#39;m all set, I had to build a method like below which returns DocumentFile and creates necessary directories, Posting it here in case someone needs...\r\n\r\n    private DocumentFile CreateFileWithDirectories(String path, DocumentFile destDir)\r\n    {\r\n        // Like ---&gt; Folder 2/ or Folder 1/Folder 2/Folder 3/\r\n        if (path.endsWith(&quot;/&quot;))\r\n        {\r\n            String[] tempStr = path.split(&quot;/&quot;);\r\n\r\n            DocumentFile parentDir = destDir;\r\n            DocumentFile childDir = null;\r\n\r\n            for (String st : tempStr)\r\n            {\r\n                childDir = parentDir.findFile(st);\r\n\r\n                if (childDir == null)\r\n                {\r\n                    childDir = parentDir.createDirectory(st);\r\n                }\r\n                parentDir = childDir;\r\n            }\r\n\r\n            // returns null\r\n        }\r\n        // Like ---&gt; 1 Test/Folder 2/Folder 3/ABC 005.jpg\r\n        else if (path.contains(&quot;/&quot;))\r\n        {\r\n            String[] tempStr = path.split(&quot;/&quot;);\r\n\r\n            DocumentFile parentDir = destDir;\r\n            DocumentFile childDir = null;\r\n\r\n            for (int i = 0; i &lt; tempStr.length - 1; i++)\r\n            {\r\n                childDir = parentDir.findFile(tempStr[i]);\r\n\r\n                if (childDir == null) // No file exists\r\n                {\r\n                    childDir = parentDir.createDirectory(tempStr[i]);\r\n                }\r\n\r\n                //else --&gt; Yes file exists\r\n                parentDir = childDir;\r\n            }\r\n\r\n            String finalFileName = path.substring(path.lastIndexOf(&quot;/&quot;) + 1);\r\n\r\n            return parentDir.createFile(&quot;*/*&quot;, finalFileName);\r\n        }\r\n        // Like ---&gt; /\r\n        else if (path.equals(&quot;/&quot;))\r\n        {\r\n            return null;\r\n        }\r\n        // Like ---&gt; ABC 005.jpg or ABC 005\r\n        else\r\n        {\r\n            return destDir.createFile(&quot;*/*&quot;, path);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n ","title":"How to extract zip archive with subdirectories using SAF / DocumentFile?","body":"<p>Thanks guys I'm all set, I had to build a method like below which returns DocumentFile and creates necessary directories, Posting it here in case someone needs...</p>\n<pre><code>private DocumentFile CreateFileWithDirectories(String path, DocumentFile destDir)\n{\n    // Like ---&gt; Folder 2/ or Folder 1/Folder 2/Folder 3/\n    if (path.endsWith(&quot;/&quot;))\n    {\n        String[] tempStr = path.split(&quot;/&quot;);\n\n        DocumentFile parentDir = destDir;\n        DocumentFile childDir = null;\n\n        for (String st : tempStr)\n        {\n            childDir = parentDir.findFile(st);\n\n            if (childDir == null)\n            {\n                childDir = parentDir.createDirectory(st);\n            }\n            parentDir = childDir;\n        }\n\n        // returns null\n    }\n    // Like ---&gt; 1 Test/Folder 2/Folder 3/ABC 005.jpg\n    else if (path.contains(&quot;/&quot;))\n    {\n        String[] tempStr = path.split(&quot;/&quot;);\n\n        DocumentFile parentDir = destDir;\n        DocumentFile childDir = null;\n\n        for (int i = 0; i &lt; tempStr.length - 1; i++)\n        {\n            childDir = parentDir.findFile(tempStr[i]);\n\n            if (childDir == null) // No file exists\n            {\n                childDir = parentDir.createDirectory(tempStr[i]);\n            }\n\n            //else --&gt; Yes file exists\n            parentDir = childDir;\n        }\n\n        String finalFileName = path.substring(path.lastIndexOf(&quot;/&quot;) + 1);\n\n        return parentDir.createFile(&quot;*/*&quot;, finalFileName);\n    }\n    // Like ---&gt; /\n    else if (path.equals(&quot;/&quot;))\n    {\n        return null;\n    }\n    // Like ---&gt; ABC 005.jpg or ABC 005\n    else\n    {\n        return destDir.createFile(&quot;*/*&quot;, path);\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4863127,"reputation":15025,"user_id":3922207,"accept_rate":63,"display_name":"Anggrayudi H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643052467,"creation_date":1643052467,"answer_id":70839430,"question_id":66202075,"body_markdown":"You can use [SimpleStorage](https://github.com/anggrayudi/SimpleStorage) to compress/decompress a ZIP file:\r\n\r\n```kotlin\r\nval zipFile: DocumentFile = ...\r\nzipFile?.decompressZip(applicationContext, targetFolder, object : ZipDecompressionCallback&lt;DocumentFile&gt;(uiScope) {\r\n    override fun onCompleted(\r\n        zipFile: DocumentFile,\r\n        targetFolder: DocumentFile,\r\n        bytesDecompressed: Long,\r\n        totalFilesDecompressed: Int,\r\n        decompressionRate: Float\r\n    ) {\r\n        Toast.makeText(applicationContext, &quot;Decompressed $totalFilesDecompressed files from ${zipFile.name}&quot;, Toast.LENGTH_SHORT).show()\r\n    }\r\n    override fun onFailed(errorCode: ErrorCode) {\r\n        Toast.makeText(applicationContext, &quot;$errorCode&quot;, Toast.LENGTH_SHORT).show()\r\n    }\r\n})\r\n```\r\n\r\nAnd for compressing files, you can use extension function `List&lt;DocumentFile&gt;.compressToZip()`","title":"How to extract zip archive with subdirectories using SAF / DocumentFile?","body":"<p>You can use <a href=\"https://github.com/anggrayudi/SimpleStorage\" rel=\"nofollow noreferrer\">SimpleStorage</a> to compress/decompress a ZIP file:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val zipFile: DocumentFile = ...\nzipFile?.decompressZip(applicationContext, targetFolder, object : ZipDecompressionCallback&lt;DocumentFile&gt;(uiScope) {\n    override fun onCompleted(\n        zipFile: DocumentFile,\n        targetFolder: DocumentFile,\n        bytesDecompressed: Long,\n        totalFilesDecompressed: Int,\n        decompressionRate: Float\n    ) {\n        Toast.makeText(applicationContext, &quot;Decompressed $totalFilesDecompressed files from ${zipFile.name}&quot;, Toast.LENGTH_SHORT).show()\n    }\n    override fun onFailed(errorCode: ErrorCode) {\n        Toast.makeText(applicationContext, &quot;$errorCode&quot;, Toast.LENGTH_SHORT).show()\n    }\n})\n</code></pre>\n<p>And for compressing files, you can use extension function <code>List&lt;DocumentFile&gt;.compressToZip()</code></p>\n"}],"owner":{"account_id":9825799,"reputation":65,"user_id":7278934,"display_name":"Al_HK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1659861960,"creation_date":1613356289,"question_id":66202075,"body_markdown":"I&#39;m struggling with extracting a zip file contents using the evil Storage Access Framework, as you may know; I can&#39;t use any File objects so I have to use ZipInputStream, ZipOutputStream and DocumentFile, Here&#39;s the zip file structure:\r\n\r\n    Folder 1/ABC 001.jpg\r\n    Folder 1/ABC 002.jpg\r\n    Folder 2/ABC 003.jpg\r\n    Folder 2/ABC 004.jpg\r\n    Folder 2/Folder 3/ABC 005.jpg\r\n    Folder 2/Folder 3/ABC 006.jpg\r\n    Folder 2/Folder 3/Folder 4/ABC 007.jpg\r\n    Folder 2/Folder 3/Folder 4/ABC 008.jpg\r\n    ABC 009.jpg\r\n\r\nHere&#39;s my code:\r\n\r\n        public void extractZipFile(DocumentFile srcZipFile, DocumentFile destDir) throws IOException\r\n        {\r\n            ZipEntry entry;\r\n    \r\n            InputStream inputStream = resolver.openInputStream(srcZipFile.getUri());\r\n    \r\n            try (java.util.zip.ZipInputStream zipInputStream = new java.util.zip.ZipInputStream(inputStream))\r\n            {\r\n                while ((entry = zipInputStream.getNextEntry()) != null)\r\n                {\r\n                    DocumentFile currentDestDir = destDir;\r\n    \r\n                    if (!entry.isDirectory())\r\n                    {\r\n                        unzipFile(entry, zipInputStream, currentDestDir);\r\n                    }\r\n                    else\r\n                    {\r\n                        String finalFolderName = entry.getName().replace(&quot;/&quot;, &quot;&quot;);\r\n                        currentDestDir = destDir.createDirectory(finalFolderName);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            inputStream.close();\r\n        }\r\n    \r\n        private void unzipFile(ZipEntry fileEntry, java.util.zip.ZipInputStream zipInputStream, DocumentFile destDir) throws IOException\r\n        {\r\n            int readLen;\r\n            byte[] readBuffer = new byte[BUFFER_SIZE];\r\n    \r\n            DocumentFile destFile = destDir.createFile(&quot;*/*&quot;, fileEntry.getName());\r\n    \r\n            try (OutputStream outputStream = resolver.openOutputStream(destFile.getUri()))\r\n            {\r\n                while ((readLen = zipInputStream.read(readBuffer)) != -1)\r\n                {\r\n                    outputStream.write(readBuffer, 0, readLen);\r\n                }\r\n            }\r\n        }\r\n\r\nAnd here&#39;s how the out put look like:\r\n\r\n[![output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zO37p.png\r\n\r\n\r\nThanks  ","title":"How to extract zip archive with subdirectories using SAF / DocumentFile?","body":"<p>I'm struggling with extracting a zip file contents using the evil Storage Access Framework, as you may know; I can't use any File objects so I have to use ZipInputStream, ZipOutputStream and DocumentFile, Here's the zip file structure:</p>\n<pre><code>Folder 1/ABC 001.jpg\nFolder 1/ABC 002.jpg\nFolder 2/ABC 003.jpg\nFolder 2/ABC 004.jpg\nFolder 2/Folder 3/ABC 005.jpg\nFolder 2/Folder 3/ABC 006.jpg\nFolder 2/Folder 3/Folder 4/ABC 007.jpg\nFolder 2/Folder 3/Folder 4/ABC 008.jpg\nABC 009.jpg\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>    public void extractZipFile(DocumentFile srcZipFile, DocumentFile destDir) throws IOException\n    {\n        ZipEntry entry;\n\n        InputStream inputStream = resolver.openInputStream(srcZipFile.getUri());\n\n        try (java.util.zip.ZipInputStream zipInputStream = new java.util.zip.ZipInputStream(inputStream))\n        {\n            while ((entry = zipInputStream.getNextEntry()) != null)\n            {\n                DocumentFile currentDestDir = destDir;\n\n                if (!entry.isDirectory())\n                {\n                    unzipFile(entry, zipInputStream, currentDestDir);\n                }\n                else\n                {\n                    String finalFolderName = entry.getName().replace(&quot;/&quot;, &quot;&quot;);\n                    currentDestDir = destDir.createDirectory(finalFolderName);\n                }\n            }\n        }\n\n        inputStream.close();\n    }\n\n    private void unzipFile(ZipEntry fileEntry, java.util.zip.ZipInputStream zipInputStream, DocumentFile destDir) throws IOException\n    {\n        int readLen;\n        byte[] readBuffer = new byte[BUFFER_SIZE];\n\n        DocumentFile destFile = destDir.createFile(&quot;*/*&quot;, fileEntry.getName());\n\n        try (OutputStream outputStream = resolver.openOutputStream(destFile.getUri()))\n        {\n            while ((readLen = zipInputStream.read(readBuffer)) != -1)\n            {\n                outputStream.write(readBuffer, 0, readLen);\n            }\n        }\n    }\n</code></pre>\n<p>And here's how the out put look like:</p>\n<p><a href=\"https://i.stack.imgur.com/zO37p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zO37p.png\" alt=\"output\" /></a></p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","matrix","multidimensional-array","initialization"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1659771708,"post_id":73257995,"comment_id":129377929,"body_markdown":"A loop isn&#39;t enough ?","body":"A loop isn&#39;t enough ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659772778,"post_id":73257995,"comment_id":129378096,"body_markdown":"AFAIK there is no such built-in *function* - but can be done using `Stream` or a simple loop as already suggested above","body":"AFAIK there is no such built-in <i>function</i> - but can be done using <code>Stream</code> or a simple loop as already suggested above"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659797078,"creation_date":1659773492,"answer_id":73258188,"question_id":73257995,"body_markdown":"If you&#39;re looking for a built-in function to convert a single dimension array to a two-dimensional one, sadly there isn&#39;t one. \r\n\r\nHowever, as it has been pointed out in the comments, you could use &lt;b&gt;streams to reach a fair compact way to initialize your two-dimensional array&lt;/b&gt; from a single-dimension one. Basically, you could define your matrix&#39;s dimension from the array&#39;s length and then rely on a stream to copy the array&#39;s elements within the two-dimensional array.\r\n\r\n```\r\ndouble[] x = new double[]{1, 2, 3};\r\ndouble[][] x2D = new double[x.length][1];\r\nIntStream.range(0, x.length).forEach(i -&gt; x2D[i][0] = x[i]);\r\n```\r\n\r\nOr in a more concise writing, you could immediately initialize your two-dimensional array with a stream where each element is mapped to a `double[]` and then collect each one of them into a further array.\r\n\r\n```\r\ndouble[] x = new double[]{1, 2, 3};\r\ndouble[][] mat = Arrays.stream(x).mapToObj(i -&gt; new double[]{i}).toArray(double[][]::new);\r\n```","title":"Fast conversion of single dimension array to two dimensional &#39;column&#39; array","body":"<p>If you're looking for a built-in function to convert a single dimension array to a two-dimensional one, sadly there isn't one.</p>\n<p>However, as it has been pointed out in the comments, you could use <b>streams to reach a fair compact way to initialize your two-dimensional array</b> from a single-dimension one. Basically, you could define your matrix's dimension from the array's length and then rely on a stream to copy the array's elements within the two-dimensional array.</p>\n<pre><code>double[] x = new double[]{1, 2, 3};\ndouble[][] x2D = new double[x.length][1];\nIntStream.range(0, x.length).forEach(i -&gt; x2D[i][0] = x[i]);\n</code></pre>\n<p>Or in a more concise writing, you could immediately initialize your two-dimensional array with a stream where each element is mapped to a <code>double[]</code> and then collect each one of them into a further array.</p>\n<pre><code>double[] x = new double[]{1, 2, 3};\ndouble[][] mat = Arrays.stream(x).mapToObj(i -&gt; new double[]{i}).toArray(double[][]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659783304,"creation_date":1659783304,"answer_id":73259132,"question_id":73257995,"body_markdown":"`Arrays.setAll` method can be used:\r\n\r\n    double[] x     = {1, 2, 3};\r\n    double[][] x2D = new double[x.length][];\r\n\r\n    Arrays.setAll(x2D, i -&gt; new double[]{x[i]});","title":"Fast conversion of single dimension array to two dimensional &#39;column&#39; array","body":"<p><code>Arrays.setAll</code> method can be used:</p>\n<pre><code>double[] x     = {1, 2, 3};\ndouble[][] x2D = new double[x.length][];\n\nArrays.setAll(x2D, i -&gt; new double[]{x[i]});\n</code></pre>\n"}],"owner":{"account_id":15729768,"reputation":341,"user_id":11350388,"display_name":"user11350388"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73258188,"answer_count":2,"score":0,"last_activity_date":1659861619,"creation_date":1659771551,"question_id":73257995,"body_markdown":"Are there any built-in functions (or fast implementations) in Java to convert a single-dimension array of size `[n]` to a two-dimensional array of size `[n][1]`?\r\n\r\nFor example:\r\n\r\n```\r\ndouble[] x = new double[]{1, 2, 3};\r\ndouble[][] x2D = new double[][]{{1}, {2}, {3}};\r\n```","title":"Fast conversion of single dimension array to two dimensional &#39;column&#39; array","body":"<p>Are there any built-in functions (or fast implementations) in Java to convert a single-dimension array of size <code>[n]</code> to a two-dimensional array of size <code>[n][1]</code>?</p>\n<p>For example:</p>\n<pre><code>double[] x = new double[]{1, 2, 3};\ndouble[][] x2D = new double[][]{{1}, {2}, {3}};\n</code></pre>\n"},{"tags":["java","optimization","biginteger"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1477574675,"post_id":40285614,"comment_id":67829892,"body_markdown":"Simplest optimization will be using `int` instead of `List` because only way you use it is checking size. It won&#39;t give you much, but it is better than nothing.","body":"Simplest optimization will be using <code>int</code> instead of <code>List</code> because only way you use it is checking size. It won&#39;t give you much, but it is better than nothing."},{"owner":{"account_id":9264854,"reputation":841,"user_id":6880585,"display_name":"olsli"},"score":0,"creation_date":1477574865,"post_id":40285614,"comment_id":67830036,"body_markdown":"Try to replace `BigInteger` with `long` and `list` with `boolean`.","body":"Try to replace <code>BigInteger</code> with <code>long</code> and <code>list</code> with <code>boolean</code>."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1477666688,"post_id":40285614,"comment_id":67872803,"body_markdown":"The optimization to omit adding that values to a lost will bring some speedup, but remains the fact that these kinds of naive factorizations are always bound to be slow, especially for large numbers. Note that you might first want to optimize by only considering primes. But note that checking if a number is prime can be much slower than a `mod()`, so you&#39;ll have to determine the primes first, e.g. with a simple *Sieve*. Then you can apply the primes you found to your factorization code. Note that instead of `if`, you should use `while` and at the same time divide `bi` by any divisor you found.","body":"The optimization to omit adding that values to a lost will bring some speedup, but remains the fact that these kinds of naive factorizations are always bound to be slow, especially for large numbers. Note that you might first want to optimize by only considering primes. But note that checking if a number is prime can be much slower than a <code>mod()</code>, so you&#39;ll have to determine the primes first, e.g. with a simple <i>Sieve</i>. Then you can apply the primes you found to your factorization code. Note that instead of <code>if</code>, you should use <code>while</code> and at the same time divide <code>bi</code> by any divisor you found."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1477666883,"post_id":40285614,"comment_id":67872925,"body_markdown":"Also searching up to `n` is a waste of time. Search up to `sqrt(n)` only. I don&#39;t know if Java&#39;s `BigInteger` has a `sqrt()` function, but it is easy to write if it doesn&#39;t.","body":"Also searching up to <code>n</code> is a waste of time. Search up to <code>sqrt(n)</code> only. I don&#39;t know if Java&#39;s <code>BigInteger</code> has a <code>sqrt()</code> function, but it is easy to write if it doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":6720110,"reputation":2302,"user_id":5763327,"display_name":"Setop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477575050,"creation_date":1477575050,"answer_id":40285915,"question_id":40285614,"body_markdown":"As you don&#39;t use the ```list``` except to get its final size, you could use an integer as a counter, i.e: do ```n++``` instead of ```list.add(bi)```.\r\nThis is going to save huge amount of memory. Hence save time used to manage its allocation.","title":"Code optimization - BigInteger","body":"<p>As you don't use the <code>list</code> except to get its final size, you could use an integer as a counter, i.e: do <code>n++</code> instead of <code>list.add(bi)</code>.\nThis is going to save huge amount of memory. Hence save time used to manage its allocation.</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479296858,"creation_date":1479296858,"answer_id":40631377,"question_id":40285614,"body_markdown":"Thinking rather than just programming would help a lot. You don&#39;t need to find all divisors. You don&#39;t even need to count them. All you need is to find out if the count is odd.\r\n\r\n**But divisors always come in pairs: For every divisor `i` also `n/i` is a divisor.**\r\n\r\nSo the count is always even, except when there&#39;s a divisor `i` equal to `n/i`. Use Guava [sqrt][] ...\r\n\r\n[sqrt]: https://google.github.io/guava/releases/17.0/api/docs/com/google/common/math/BigIntegerMath.html#sqrt(java.math.BigInteger,%20java.math.RoundingMode)","title":"Code optimization - BigInteger","body":"<p>Thinking rather than just programming would help a lot. You don't need to find all divisors. You don't even need to count them. All you need is to find out if the count is odd.</p>\n\n<p><strong>But divisors always come in pairs: For every divisor <code>i</code> also <code>n/i</code> is a divisor.</strong></p>\n\n<p>So the count is always even, except when there's a divisor <code>i</code> equal to <code>n/i</code>. Use Guava <a href=\"https://google.github.io/guava/releases/17.0/api/docs/com/google/common/math/BigIntegerMath.html#sqrt(java.math.BigInteger,%20java.math.RoundingMode)\" rel=\"nofollow noreferrer\">sqrt</a> ...</p>\n"},{"tags":[],"owner":{"account_id":22332908,"reputation":11,"user_id":16553938,"display_name":"Vulpe Cosmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659860715,"creation_date":1659860715,"answer_id":73265933,"question_id":40285614,"body_markdown":"    // Lambda\r\n    long counter = IntStream\r\n                .range(1, (int) Math.sqrt(n.longValue())+1)\r\n                .filter(i -&gt; n.longValue() % i == 0 &amp;&amp; n.longValue() / i == i)\r\n                .count();\r\n        return (counter % 2 == 0) ? &quot;even&quot; : &quot;odd&quot;;","title":"Code optimization - BigInteger","body":"<pre><code>// Lambda\nlong counter = IntStream\n            .range(1, (int) Math.sqrt(n.longValue())+1)\n            .filter(i -&gt; n.longValue() % i == 0 &amp;&amp; n.longValue() / i == i)\n            .count();\n    return (counter % 2 == 0) ? &quot;even&quot; : &quot;odd&quot;;\n</code></pre>\n"}],"owner":{"account_id":9127821,"reputation":77,"user_id":6790757,"display_name":"snowflake"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1659860715,"creation_date":1477574218,"question_id":40285614,"body_markdown":"The code works correctly until I give it a big value - it takes too much time to execute.\r\n\r\nCan you give me some advice how to optimize it?\r\n\r\nBigInteger type of n parameter is a must, it&#39;s a part of the task ;)\r\n\r\n    public static String oddity(BigInteger n) {\r\n \r\n        List&lt;BigInteger&gt; list = new ArrayList&lt;BigInteger&gt;();\r\n        String result = null;\r\n        for (BigInteger bi = BigInteger.valueOf(1);\r\n             bi.compareTo(n) &lt;= 0;\r\n             bi = bi.add(BigInteger.ONE)) {\r\n            if (n.mod(bi).equals(BigInteger.ZERO))\r\n                list.add(bi);\r\n        }\r\n \r\n        if (list.size() % 2 == 0)\r\n            result = &quot;even&quot;;\r\n        else result = &quot;odd&quot;;\r\n \r\n \r\n        return result;\r\n    }\r\n\r\nThe purpose of this is to return &#39;odd&#39; if the number of &quot;n&quot; divisors is odd. Otherwise return &#39;even&#39;.","title":"Code optimization - BigInteger","body":"<p>The code works correctly until I give it a big value - it takes too much time to execute.</p>\n\n<p>Can you give me some advice how to optimize it?</p>\n\n<p>BigInteger type of n parameter is a must, it's a part of the task ;)</p>\n\n<pre><code>public static String oddity(BigInteger n) {\n\n    List&lt;BigInteger&gt; list = new ArrayList&lt;BigInteger&gt;();\n    String result = null;\n    for (BigInteger bi = BigInteger.valueOf(1);\n         bi.compareTo(n) &lt;= 0;\n         bi = bi.add(BigInteger.ONE)) {\n        if (n.mod(bi).equals(BigInteger.ZERO))\n            list.add(bi);\n    }\n\n    if (list.size() % 2 == 0)\n        result = \"even\";\n    else result = \"odd\";\n\n\n    return result;\n}\n</code></pre>\n\n<p>The purpose of this is to return 'odd' if the number of \"n\" divisors is odd. Otherwise return 'even'.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1659870514,"post_id":73263686,"comment_id":129393103,"body_markdown":"Check with this https://stackoverflow.com/a/73183528/9926179","body":"Check with this <a href=\"https://stackoverflow.com/a/73183528/9926179\">stackoverflow.com/a/73183528/9926179</a>"}],"answers":[{"tags":[],"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659859803,"creation_date":1659859803,"answer_id":73265853,"question_id":73263686,"body_markdown":"You need to check what kind of version you have for Tomcat. If it&#39;s 10, you need to downgrade it to 9. Common case when having this error.","title":"Spring MVC - Tomcat return constant 404 errors","body":"<p>You need to check what kind of version you have for Tomcat. If it's 10, you need to downgrade it to 9. Common case when having this error.</p>\n"}],"owner":{"display_name":"user15993896"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73265853,"answer_count":1,"score":0,"last_activity_date":1659859803,"creation_date":1659825069,"question_id":73263686,"body_markdown":"I just started Spring MVC with Maven and when I send a request Tomcat always returns a 404 not found result.\r\nThis is my simple controller with configuration files.\r\n\r\nHelloController.java:\r\n\r\n    package com.mvcdemo;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    @Controller\r\n    public class HelloController {\r\n    \t@RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.GET)\r\n    \tpublic String printHelloWorld(ModelMap modelMap) {\r\n    \t\tmodelMap.addAttribute(\r\n    \t\t\t\t\t\t&quot;message&quot;,\r\n    \t\t\t\t\t\t&quot;Hello World and Welcome to Spring MVC!&quot;);\r\n    \t\treturn &quot;hello&quot;;\r\n    \t}\r\n    \r\n    }\r\nweb.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \t\t\t\t xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-   app_3_0.xsd&quot;\r\n    \t\t\t\t id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;\r\n    \r\n    \t&lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring-dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\nspring-dispatcher-servlet.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xsi:schemaLocation=&quot;\r\n          http://www.springframework.org/schema/beans\r\n           http://www.springframework.org/schema/beans/spring-beans.xsd\r\n           http://www.springframework.org/schema/context\r\n           http://www.springframework.org/schema/context/spring-context.xsd\r\n           http://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n    \r\n      &lt;!-- FIXME    Change name of the package to your base-package --&gt;\r\n      &lt;context:component-scan base-package=&quot;com.mvcdemo&quot;/&gt;\r\n      &lt;mvc:annotation-driven/&gt;\r\n    \r\n      &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n      &lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\nhello.jsp:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Spring MVC Demo&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;${message}&lt;/h2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\nIs the problem located in bad configuration of the web.xml or spring-dispatcher-servlet.xml files that prevent the URL to be mapped?","title":"Spring MVC - Tomcat return constant 404 errors","body":"<p>I just started Spring MVC with Maven and when I send a request Tomcat always returns a 404 not found result.\nThis is my simple controller with configuration files.</p>\n<p>HelloController.java:</p>\n<pre><code>package com.mvcdemo;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@Controller\npublic class HelloController {\n    @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.GET)\n    public String printHelloWorld(ModelMap modelMap) {\n        modelMap.addAttribute(\n                        &quot;message&quot;,\n                        &quot;Hello World and Welcome to Spring MVC!&quot;);\n        return &quot;hello&quot;;\n    }\n\n}\n</code></pre>\n<p>web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-   app_3_0.xsd&quot;\n                 id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n\n    &lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;\n\n    &lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-dispatcher-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>spring-dispatcher-servlet.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;\n      http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n  &lt;!-- FIXME    Change name of the package to your base-package --&gt;\n  &lt;context:component-scan base-package=&quot;com.mvcdemo&quot;/&gt;\n  &lt;mvc:annotation-driven/&gt;\n\n  &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt;\n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n  &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>hello.jsp:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Spring MVC Demo&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;${message}&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Is the problem located in bad configuration of the web.xml or spring-dispatcher-servlet.xml files that prevent the URL to be mapped?</p>\n"},{"tags":["java","voltdb"],"answers":[{"tags":[],"owner":{"account_id":520720,"reputation":1482,"user_id":1131223,"display_name":"BenjaminBallard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406752602,"creation_date":1406752602,"answer_id":25046459,"question_id":25042657,"body_markdown":"Yes, if you are using client.callProcedure for your writes, you can certainly use the same API for your reads.  Here is a simple example:\r\n\r\n    ClientResponse cr = client.callProcedure(procname,parameters);\r\n    VoltTable[] tables = cr.getResults();\r\n    VoltTable table_a = tables[0];\r\n    while (table_a.advanceRow()) {\r\n        System.out.println(&quot;Column 0 is &quot; + table_a.getString(0));\r\n    }\r\n\r\nHere is a shortened example:\r\n\r\n    VoltTable table_a = client.callProcedure(procname,parameters).getResults()[0];\r\n    while (table_a.advanceRow()) {\r\n        System.out.println(&quot;Column 0 is &quot; + table_a.getString(0));\r\n    }\r\n    \r\n\r\nRather than procname and parameters, you could also call AdHoc SQL like this:\r\n\r\n    VoltTable table_a = client.callProcedure(&quot;@AdHoc&quot;,&quot;SELECT * FROM helloworld;&quot;).getResults()[0];\r\n\r\nThese examples above are synchronous or blocking calls.  If you want your application to use asynchronous calls, you can also use a Callback object with the call, so the client would continue executing subsequent code.  When the response is received by the client thread that handles callbacks, the result could be passed off to another thread in our application to read the results.\r\n\r\nYou can read more about the API in the [Java Client API Javadoc][1]. \r\n\r\n\r\n  [1]: http://voltdb.com/docs/javadoc/java-client-api/","title":"Java- read data from voltdb with native procedure","body":"<p>Yes, if you are using client.callProcedure for your writes, you can certainly use the same API for your reads.  Here is a simple example:</p>\n\n<pre><code>ClientResponse cr = client.callProcedure(procname,parameters);\nVoltTable[] tables = cr.getResults();\nVoltTable table_a = tables[0];\nwhile (table_a.advanceRow()) {\n    System.out.println(\"Column 0 is \" + table_a.getString(0));\n}\n</code></pre>\n\n<p>Here is a shortened example:</p>\n\n<pre><code>VoltTable table_a = client.callProcedure(procname,parameters).getResults()[0];\nwhile (table_a.advanceRow()) {\n    System.out.println(\"Column 0 is \" + table_a.getString(0));\n}\n</code></pre>\n\n<p>Rather than procname and parameters, you could also call AdHoc SQL like this:</p>\n\n<pre><code>VoltTable table_a = client.callProcedure(\"@AdHoc\",\"SELECT * FROM helloworld;\").getResults()[0];\n</code></pre>\n\n<p>These examples above are synchronous or blocking calls.  If you want your application to use asynchronous calls, you can also use a Callback object with the call, so the client would continue executing subsequent code.  When the response is received by the client thread that handles callbacks, the result could be passed off to another thread in our application to read the results.</p>\n\n<p>You can read more about the API in the <a href=\"http://voltdb.com/docs/javadoc/java-client-api/\" rel=\"nofollow\">Java Client API Javadoc</a>. </p>\n"},{"tags":[],"owner":{"account_id":25999104,"reputation":1,"user_id":19709937,"display_name":"Efekan Aydemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659857539,"creation_date":1659857539,"answer_id":73265664,"question_id":25042657,"body_markdown":"If you want to use client.callProcedure function. **You have to make that procedure in VoltDB&#39;s user interface** . For example,\r\n\r\n    CREATE PROCEDURE insertNumber AS\r\n    INSERT INTO NUMBERS (number1) values (1)\r\n\r\nthis will create a procedure. When you call it with client.callProcedure(insertNumber), that will do the work.\r\n\r\n\r\n","title":"Java- read data from voltdb with native procedure","body":"<p>If you want to use client.callProcedure function. <strong>You have to make that procedure in VoltDB's user interface</strong> . For example,</p>\n<pre><code>CREATE PROCEDURE insertNumber AS\nINSERT INTO NUMBERS (number1) values (1)\n</code></pre>\n<p>this will create a procedure. When you call it with client.callProcedure(insertNumber), that will do the work.</p>\n"}],"owner":{"account_id":4666300,"reputation":41,"user_id":3779281,"display_name":"Lateral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1659857539,"creation_date":1406739470,"question_id":25042657,"body_markdown":"I&#39;m trying to read data from a VoltDB database with Java. Now, it can be done using result sets from SQL statements, but there should (I&#39;m told) be another way of doing it, native to VoltDB, similarly to how data is written to a VoltDB database (with client.callProcedure). I can&#39;t figure out how to do that; it seems like it should be a pretty simple thing to do, but I don&#39;t see any simple way to do it in client.","title":"Java- read data from voltdb with native procedure","body":"<p>I'm trying to read data from a VoltDB database with Java. Now, it can be done using result sets from SQL statements, but there should (I'm told) be another way of doing it, native to VoltDB, similarly to how data is written to a VoltDB database (with client.callProcedure). I can't figure out how to do that; it seems like it should be a pretty simple thing to do, but I don't see any simple way to do it in client.</p>\n"},{"tags":["java","android","maven","aether"],"comments":[{"owner":{"account_id":25999083,"reputation":1,"user_id":19709920,"display_name":"Xiue"},"score":0,"creation_date":1659857587,"post_id":73265660,"comment_id":129391007,"body_markdown":"Some third party Android System have removed Apache Http at all.I am so frustrated.","body":"Some third party Android System have removed Apache Http at all.I am so frustrated."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1659892014,"post_id":73265660,"comment_id":129397578,"body_markdown":"You can try to create a shandow-Jar of org.eclipse.aether and it&#39;s dependencies with a modified/shadowed package name so you won&#39;t run into conflicts with existing or missing Apache http libraries on Android.","body":"You can try to create a shandow-Jar of org.eclipse.aether and it&#39;s dependencies with a modified/shadowed package name so you won&#39;t run into conflicts with existing or missing Apache http libraries on Android."},{"owner":{"account_id":25999083,"reputation":1,"user_id":19709920,"display_name":"Xiue"},"score":0,"creation_date":1660545272,"post_id":73265660,"comment_id":129549389,"body_markdown":"@Robert Thanks for your suggestion. I have used JarJar to modify the package name of Apache Http.Then I implementation what jars Apache Http needs to use. I have resolved it.","body":"@Robert Thanks for your suggestion. I have used JarJar to modify the package name of Apache Http.Then I implementation what jars Apache Http needs to use. I have resolved it."}],"owner":{"account_id":25999083,"reputation":1,"user_id":19709920,"display_name":"Xiue"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659857514,"creation_date":1659857514,"question_id":73265660,"body_markdown":"**Background**&lt;br&gt;\r\n&lt;p&gt;I am trying to develop an Android App for coding,for which I want to parse gradle files and download the repositories which users needs.However,I install my app only to see an error which implies Android has got rid of Apache Http.But in Aether,the package is needed.&lt;/p&gt;\r\n\r\n**What I have done**\r\n&lt;p&gt;\r\n1.I have try to use HttpLegacy.jar to use the deprecated api.But what is necessary for Aether.transport-http is removed ,which I mean is not in Android API or Legacy.jar.\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\n2.Well,there maybe other resolutions such as create an Apache Http compact package by myself.If it wouldn&#39;t take too much time,I think,I would do this.\r\n&lt;/p&gt;\r\n\r\nPlease help me out.&lt;br&gt;\r\nThank you for taking time to give me a hand.\r\n","title":"Can I use org.eclipse.aether in Android app?","body":"<p><strong>Background</strong><br></p>\n<p>I am trying to develop an Android App for coding,for which I want to parse gradle files and download the repositories which users needs.However,I install my app only to see an error which implies Android has got rid of Apache Http.But in Aether,the package is needed.</p>\n<p><strong>What I have done</strong></p>\n<p>\n1.I have try to use HttpLegacy.jar to use the deprecated api.But what is necessary for Aether.transport-http is removed ,which I mean is not in Android API or Legacy.jar.\n</p>\n<p>\n2.Well,there maybe other resolutions such as create an Apache Http compact package by myself.If it wouldn't take too much time,I think,I would do this.\n</p>\n<p>Please help me out.<br>\nThank you for taking time to give me a hand.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1659850834,"post_id":73265098,"comment_id":129390191,"body_markdown":"In general, you should take the time to learn a language&#39;s idioms, rather than just trying to translate from one to the other. Java doesn&#39;t have a lot of syntactic sugar at all. Perhaps look at Kotlin though? Also why Java _6_?","body":"In general, you should take the time to learn a language&#39;s idioms, rather than just trying to translate from one to the other. Java doesn&#39;t have a lot of syntactic sugar at all. Perhaps look at Kotlin though? Also why Java <i>6</i>?"},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1659851425,"post_id":73265098,"comment_id":129390237,"body_markdown":"another point of the question is to provide a chrestomathy in the search engines. &quot;How to do X from Language Y in Language Z.&quot; There wasn&#39;t one for this question. I&#39;m using whatever Java it is that Android currently uses, so plz don&#39;t give me some Java 17 idiom tx. If you can admit Java can&#39;t do it that&#39;s okay too.","body":"another point of the question is to provide a chrestomathy in the search engines. &quot;How to do X from Language Y in Language Z.&quot; There wasn&#39;t one for this question. I&#39;m using whatever Java it is that Android currently uses, so plz don&#39;t give me some Java 17 idiom tx. If you can admit Java can&#39;t do it that&#39;s okay too."}],"answers":[{"tags":[],"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659852025,"creation_date":1659852025,"answer_id":73265231,"question_id":73265098,"body_markdown":"The closest I could think of achieving this is using reflection. This is a method where in you can pass any method name with it&#39;s parameters(if any) and it will be called on `String` class\r\n\r\n    void function(String functionName) {\r\n        try {\r\n            objectInstance.getClass().getMethod(functionName).invoke(objectInstance);\r\n        } catch (Exception exp) {\r\n            System.err.println(&quot;Not such method exist&quot; + functionName);\r\n        }\r\n    }\r\n\r\nLet&#39;s say you want to call `length` or `isEmpty` method, you can invoke using \r\n\r\n    function(&quot;length&quot;) or function(&quot;isEmpty&quot;)\r\n\r\nYou can deep dive into `getMethod` and `invoke` to make the method more generic. That is, if the method that you want to call take argument, you can pass parameter to the `invoke` method and pass the class type in `method`. Similarly for other constraints you want to incorporate. Read about [Java Reflection][1] here\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/reflect/index.html","title":"How to do Ruby&#39;s instance_eval in Java?","body":"<p>The closest I could think of achieving this is using reflection. This is a method where in you can pass any method name with it's parameters(if any) and it will be called on <code>String</code> class</p>\n<pre><code>void function(String functionName) {\n    try {\n        objectInstance.getClass().getMethod(functionName).invoke(objectInstance);\n    } catch (Exception exp) {\n        System.err.println(&quot;Not such method exist&quot; + functionName);\n    }\n}\n</code></pre>\n<p>Let's say you want to call <code>length</code> or <code>isEmpty</code> method, you can invoke using</p>\n<pre><code>function(&quot;length&quot;) or function(&quot;isEmpty&quot;)\n</code></pre>\n<p>You can deep dive into <code>getMethod</code> and <code>invoke</code> to make the method more generic. That is, if the method that you want to call take argument, you can pass parameter to the <code>invoke</code> method and pass the class type in <code>method</code>. Similarly for other constraints you want to incorporate. Read about <a href=\"http://java.sun.com/docs/books/tutorial/reflect/index.html\" rel=\"nofollow noreferrer\">Java Reflection</a> here</p>\n"}],"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659857222,"creation_date":1659850005,"question_id":73265098,"body_markdown":"Here&#39;s the total `instance_eval` experience, in Ruby:\r\n\r\n    def function(&amp;block)\r\n        &quot;object&quot;.instance_eval(&amp;block)\r\n    end\r\n\r\n    function{ p(length) }\r\n\r\nNote that, inside `function{}`, the method `length` bonded with the string `&quot;object&quot;`. I didn&#39;t need to write a dot or anything before the `length` to get the evaluated string&#39;s context.\r\n\r\n(The output is `6`, by the way...)\r\n\r\nNow, how to do that to a `Runnable` in Java? Java 6 for Android preferred. The bonded object doesn&#39;t need to be a string, just so long as it is bonded. Also note that I am not talking about `instance_eval`&#39;s other function, evaluating strings as source, because I am aware that Java is compiled and not interpreted like Ruby. I just need the syntactic sugar.\r\n\r\n----\r\n\r\nThe goal is, using JATL&#39;s HTML module (which builds HTML), to replace this:\r\n\r\n    html.a();\r\n    html.href(&quot;www.duckduckgo.com&quot;);\r\n    html.raw(&quot;Not El Goog&quot;);\r\n    html.end();\r\n\r\n...with this:\r\n\r\n    html.a(() -&gt; {\r\n        href(&quot;www.duckduckgo.com&quot;);\r\n        raw(&quot;Not El Goog&quot;);\r\n    });\r\n\r\nNotice the redundant `html.end();` line went away. This replaces procedure with structure, so that the structure of the Builder Pattern matches the structure of the output HTML.\r\n\r\n(Also, JATL HTML comes with the ability to pass a block to HTML&#39;s constructor; we also don&#39;t need that because we DO need the top level of the Builder pattern to use procedural code...)","title":"How to do Ruby&#39;s instance_eval in Java?","body":"<p>Here's the total <code>instance_eval</code> experience, in Ruby:</p>\n<pre><code>def function(&amp;block)\n    &quot;object&quot;.instance_eval(&amp;block)\nend\n\nfunction{ p(length) }\n</code></pre>\n<p>Note that, inside <code>function{}</code>, the method <code>length</code> bonded with the string <code>&quot;object&quot;</code>. I didn't need to write a dot or anything before the <code>length</code> to get the evaluated string's context.</p>\n<p>(The output is <code>6</code>, by the way...)</p>\n<p>Now, how to do that to a <code>Runnable</code> in Java? Java 6 for Android preferred. The bonded object doesn't need to be a string, just so long as it is bonded. Also note that I am not talking about <code>instance_eval</code>'s other function, evaluating strings as source, because I am aware that Java is compiled and not interpreted like Ruby. I just need the syntactic sugar.</p>\n<hr />\n<p>The goal is, using JATL's HTML module (which builds HTML), to replace this:</p>\n<pre><code>html.a();\nhtml.href(&quot;www.duckduckgo.com&quot;);\nhtml.raw(&quot;Not El Goog&quot;);\nhtml.end();\n</code></pre>\n<p>...with this:</p>\n<pre><code>html.a(() -&gt; {\n    href(&quot;www.duckduckgo.com&quot;);\n    raw(&quot;Not El Goog&quot;);\n});\n</code></pre>\n<p>Notice the redundant <code>html.end();</code> line went away. This replaces procedure with structure, so that the structure of the Builder Pattern matches the structure of the output HTML.</p>\n<p>(Also, JATL HTML comes with the ability to pass a block to HTML's constructor; we also don't need that because we DO need the top level of the Builder pattern to use procedural code...)</p>\n"},{"tags":["java","android","xml","android-activity"],"answers":[{"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659856523,"creation_date":1659856523,"answer_id":73265586,"question_id":73265531,"body_markdown":"Sometimes I do change the name of the MainActivity to something like LoginActivity, HomeActivity, etc. \r\nDoes it worth it?\r\nI don&#39;t know but for me it a lot easier to know the role of that activity by his name, so sometimes &quot;MainActivity&quot; I change to something else that&#39;s telling me the role of that activity ","title":"Is it worth it to change the name of MainActivity?","body":"<p>Sometimes I do change the name of the MainActivity to something like LoginActivity, HomeActivity, etc.\nDoes it worth it?\nI don't know but for me it a lot easier to know the role of that activity by his name, so sometimes &quot;MainActivity&quot; I change to something else that's telling me the role of that activity</p>\n"}],"owner":{"account_id":25993320,"reputation":1,"user_id":19705107,"display_name":"Alexander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659860948,"accepted_answer_id":73265586,"answer_count":1,"score":-1,"last_activity_date":1659856523,"creation_date":1659855846,"question_id":73265531,"body_markdown":"1) Is it worth it to change the name of MainActivity?\r\n2) If it isn&#39;t, then how to I name the Model for this activity? I&#39;ve heard that it couldn&#39;t be just &quot;MainModel&quot;, because it has to be the model of smth.","title":"Is it worth it to change the name of MainActivity?","body":"<ol>\n<li>Is it worth it to change the name of MainActivity?</li>\n<li>If it isn't, then how to I name the Model for this activity? I've heard that it couldn't be just &quot;MainModel&quot;, because it has to be the model of smth.</li>\n</ol>\n"},{"tags":["java","3d","procedural-generation","perlin-noise"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1659201627,"post_id":73177672,"comment_id":129239784,"body_markdown":"You need to show what code you have attempted, and what the problem is with it.  We are not a code writing service.","body":"You need to show what code you have attempted, and what the problem is with it.  We are not a code writing service."},{"owner":{"account_id":21215164,"reputation":11,"user_id":17404952,"display_name":"danirod12"},"score":0,"creation_date":1659201779,"post_id":73177672,"comment_id":129239833,"body_markdown":"Well, I have no ideas for tunnels for now. I was planning to use vectors, but it is not exactly whan I want. I do not need code from you, give me an idea how to generate something like 3d perlin worm between two points","body":"Well, I have no ideas for tunnels for now. I was planning to use vectors, but it is not exactly whan I want. I do not need code from you, give me an idea how to generate something like 3d perlin worm between two points"}],"answers":[{"tags":[],"owner":{"account_id":25774510,"reputation":592,"user_id":19521838,"display_name":"Cadeyrn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659817543,"creation_date":1659817543,"answer_id":73263049,"question_id":73177672,"body_markdown":"If you find a curve that looks good to you, try to find its SDF (signed distance function) by taking the distance to the curve minus the radius of the tunnel. You can do a similar thing with the spherical ones by taking the distance to the center minus r+(a bit of noise distortion). The great thing with working with SDFs is that you can combine them by taking the minimum of the two. In your case you can compute for each block the SDF to all the tunnels and caves and then take the min(), if the result is negative, the block should be air, otherwise, it should be stone.\r\n\r\nTo additional things you can do almost for free with this technique are :\r\n\r\n  1. you can say that if the result is between 0 and 1 block of distance, the block should be bedrock so the wall problem is solved.\r\n  2. you can use a [smoothmin][1] function to get a nice transition between the caves and the tunnels.\r\n\r\n[1]:https://iquilezles.org/articles/smin/","title":"Perlin worm between two specific points 3D. Or how to generate a tunnel between two points","body":"<p>If you find a curve that looks good to you, try to find its SDF (signed distance function) by taking the distance to the curve minus the radius of the tunnel. You can do a similar thing with the spherical ones by taking the distance to the center minus r+(a bit of noise distortion). The great thing with working with SDFs is that you can combine them by taking the minimum of the two. In your case you can compute for each block the SDF to all the tunnels and caves and then take the min(), if the result is negative, the block should be air, otherwise, it should be stone.</p>\n<p>To additional things you can do almost for free with this technique are :</p>\n<ol>\n<li>you can say that if the result is between 0 and 1 block of distance, the block should be bedrock so the wall problem is solved.</li>\n<li>you can use a <a href=\"https://iquilezles.org/articles/smin/\" rel=\"nofollow noreferrer\">smoothmin</a> function to get a nice transition between the caves and the tunnels.</li>\n</ol>\n"}],"owner":{"account_id":21215164,"reputation":11,"user_id":17404952,"display_name":"danirod12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659856500,"creation_date":1659201352,"question_id":73177672,"body_markdown":"My question title may seem like a XY problem, so let me explain it.\r\nI am making a game that requires a cave group (Some caves that are connected with tunnels).\r\nFor now I have caves that are generated by a sphere with perlin noise offsets, so it is something like amoeba. Now I should connect these caves with tunnels.\r\nMy game uses the same technology as a Minecraft, so the map is generated as a 3d array of blocks.\r\n\r\nSo I have two caves and want to *connect them with random tunnel* (Build tunnel between two points). Maybe you can suggest something else than Perlin noise, maybe something like Bezier curves. The tunnel must have a thickness. ***Make something like Perlin worm between two specific points 3D***\r\n\r\nLanguage: Java, but it does not matter, because this is a math task\r\n\r\nThere is more problems, for example tunnels should be something like air tubes covered with material like stone and then all this should be covered with material that players cannot break (Barrier, like minecraft&#39;s bedrock). Now my caves are covered with this barrier too, so I should somehow connect tunnel with cave to avoid ledges of barrier, but I think that I will do something around it. Now the main problem is random tunnel with two points\r\n\r\nThank you","title":"Perlin worm between two specific points 3D. Or how to generate a tunnel between two points","body":"<p>My question title may seem like a XY problem, so let me explain it.\nI am making a game that requires a cave group (Some caves that are connected with tunnels).\nFor now I have caves that are generated by a sphere with perlin noise offsets, so it is something like amoeba. Now I should connect these caves with tunnels.\nMy game uses the same technology as a Minecraft, so the map is generated as a 3d array of blocks.</p>\n<p>So I have two caves and want to <em>connect them with random tunnel</em> (Build tunnel between two points). Maybe you can suggest something else than Perlin noise, maybe something like Bezier curves. The tunnel must have a thickness. <em><strong>Make something like Perlin worm between two specific points 3D</strong></em></p>\n<p>Language: Java, but it does not matter, because this is a math task</p>\n<p>There is more problems, for example tunnels should be something like air tubes covered with material like stone and then all this should be covered with material that players cannot break (Barrier, like minecraft's bedrock). Now my caves are covered with this barrier too, so I should somehow connect tunnel with cave to avoid ledges of barrier, but I think that I will do something around it. Now the main problem is random tunnel with two points</p>\n<p>Thank you</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"score":0,"creation_date":1659853645,"post_id":73264809,"comment_id":129390499,"body_markdown":"Looking at the condition in filter, isn&#39;t using list1 to stream over first would give you the desired result `list1.stream().filter(p -&gt; list2.stream().anyMatch(p2 -&gt; p.getName() == p2.getName())).collect(Collectors.toList());`","body":"Looking at the condition in filter, isn&#39;t using list1 to stream over first would give you the desired result <code>list1.stream().filter(p -&gt; list2.stream().anyMatch(p2 -&gt; p.getName() == p2.getName())).collect(Collectors.toList());</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659855898,"creation_date":1659853253,"answer_id":73265325,"question_id":73264809,"body_markdown":"&gt;  So how can I do both actions `filter` and `map` in ONE line code (single stream-statement)?\r\n\r\nThat&#39;s definitely doable, but it would **not** be as efficient as it could be due to redundant iterations through the `list1`  (just apply `map` and iterate over the `list1` like you&#39;ve done with the `filter`, which is pretty trivial, so I&#39;m leaving it for OP and reader as an exercise, if they are interested in it).\r\n\r\nThat the example of how it can be done using Java 16 `mapMulty()` in a single stream-statement:\r\n```\r\nList&lt;Student&gt; result = list2.stream()\r\n    .&lt;Student&gt;mapMulti((student, consumer) -&gt; {\r\n        if (student.getId() == null) {\r\n            list1.stream().filter(s -&gt; s.getName().equals(student.getName()))\r\n                .findFirst()\r\n                .ifPresent(consumer);\r\n        }\r\n    }).toList();\r\n```\r\nThe **more performant** approach would be to index all the `id` and `name`s of students in the `list1`\r\n\r\nTo determine which `id` (the first attribute) are present in the `list1` we can generate a `HashSet` it would be way better than iterate through the `list1` over and over.\r\n\r\nAnd to retrieve a student from the `list1` by `name` (in order to replace the student from the `list2` which has an `id` equal to `null`) we can generate a `Map`.\r\n\r\n***Sidenote:** don&#39;t use identity comparison `==` to compare the objects if your goal is to compare their properties, and not if the both references point to the same object.*\r\n\r\nThat&#39;s how it can be implemented:\r\n\r\n```\r\nSet&lt;Integer&gt; studentIds = list1.stream()\r\n    .map(Student::getId)\r\n    .collect(Collectors.toSet());\r\n        \r\nMap&lt;String, Student&gt; studentById = list1.stream()\r\n    .collect(Collectors.toMap(\r\n        Student::getName,       // extracting a key\r\n        Function.identity(),    // extracting a value\r\n        (left, right) -&gt; left   // resolving the students mapped to the same key (i.e. having the same name)\r\n    ));\r\n        \r\nList&lt;Student&gt; result = list2.stream()\r\n    .filter(student -&gt; !studentIds.contains(student.getId()))      // ID doesn&#39;t exists in the list1\r\n    .filter(student -&gt; studentById.containsKey(student.getName())) // name is present in the list1\r\n    .map(student -&gt; studentById.get(student.getName()))            // replace student from the list2 with a namesake-student from the list1\r\n    .collect(Collectors.toList());\r\n\r\nresult.forEach(System.out::println);\r\n```\r\n*Output:*\r\n```\r\nStudent{id=1, name=&#39;A&#39;, status=&#39;active&#39;}\r\nStudent{id=2, name=&#39;B&#39;, status=&#39;active&#39;}\r\n```","title":"Java-Streams - filter() + map() - Map objects from one List with the missing property to objects from another List","body":"<blockquote>\n<p>So how can I do both actions <code>filter</code> and <code>map</code> in ONE line code (single stream-statement)?</p>\n</blockquote>\n<p>That's definitely doable, but it would <strong>not</strong> be as efficient as it could be due to redundant iterations through the <code>list1</code>  (just apply <code>map</code> and iterate over the <code>list1</code> like you've done with the <code>filter</code>, which is pretty trivial, so I'm leaving it for OP and reader as an exercise, if they are interested in it).</p>\n<p>That the example of how it can be done using Java 16 <code>mapMulty()</code> in a single stream-statement:</p>\n<pre><code>List&lt;Student&gt; result = list2.stream()\n    .&lt;Student&gt;mapMulti((student, consumer) -&gt; {\n        if (student.getId() == null) {\n            list1.stream().filter(s -&gt; s.getName().equals(student.getName()))\n                .findFirst()\n                .ifPresent(consumer);\n        }\n    }).toList();\n</code></pre>\n<p>The <strong>more performant</strong> approach would be to index all the <code>id</code> and <code>name</code>s of students in the <code>list1</code></p>\n<p>To determine which <code>id</code> (the first attribute) are present in the <code>list1</code> we can generate a <code>HashSet</code> it would be way better than iterate through the <code>list1</code> over and over.</p>\n<p>And to retrieve a student from the <code>list1</code> by <code>name</code> (in order to replace the student from the <code>list2</code> which has an <code>id</code> equal to <code>null</code>) we can generate a <code>Map</code>.</p>\n<p><em><strong>Sidenote:</strong> don't use identity comparison <code>==</code> to compare the objects if your goal is to compare their properties, and not if the both references point to the same object.</em></p>\n<p>That's how it can be implemented:</p>\n<pre><code>Set&lt;Integer&gt; studentIds = list1.stream()\n    .map(Student::getId)\n    .collect(Collectors.toSet());\n        \nMap&lt;String, Student&gt; studentById = list1.stream()\n    .collect(Collectors.toMap(\n        Student::getName,       // extracting a key\n        Function.identity(),    // extracting a value\n        (left, right) -&gt; left   // resolving the students mapped to the same key (i.e. having the same name)\n    ));\n        \nList&lt;Student&gt; result = list2.stream()\n    .filter(student -&gt; !studentIds.contains(student.getId()))      // ID doesn't exists in the list1\n    .filter(student -&gt; studentById.containsKey(student.getName())) // name is present in the list1\n    .map(student -&gt; studentById.get(student.getName()))            // replace student from the list2 with a namesake-student from the list1\n    .collect(Collectors.toList());\n\nresult.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Student{id=1, name='A', status='active'}\nStudent{id=2, name='B', status='active'}\n</code></pre>\n"}],"owner":{"account_id":22432343,"reputation":23,"user_id":16638017,"display_name":"xuxu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659855898,"creation_date":1659845195,"question_id":73264809,"body_markdown":"Map attribute of one object to another object after filtering list\r\n\r\nI have two lists of `Student` objects.\r\n\r\n    public class Student {\r\n        private Integer id;\r\n        private String name;\r\n        private String status;\r\n    \r\n        // the rest code\r\n    }\r\n\r\nI want to get the students from the `list2` with `id` which are not present in `list1`.\r\n```\r\nStudent s1 = new Student(1, &quot;A&quot;, &quot;active&quot;);\r\nStudent s2 = new Student(2, &quot;B&quot;, &quot;active&quot;);\r\nStudent s3 = new Student(3, &quot;C&quot;, &quot;active&quot;);\r\n\r\nList&lt;Student&gt; list1 = new ArrayList&lt;&gt;();\r\nlist1.add(s1);\r\nlist1.add(s2);\r\nlist1.add(s3);\r\n\r\nStudent s4 = new Student(null, &quot;A&quot;, &quot;inactive&quot;);\r\nStudent s5 = new Student(null, &quot;B&quot;, &quot;inactive&quot;);\r\nStudent s6 = new Student(null, &quot;E&quot;, &quot;inactive&quot;);\r\n\r\nList&lt;Student&gt; list2 = new ArrayList&lt;&gt;();\r\nlist2.add(s4);\r\nlist2.add(s5);\r\nlist2.add(s6);\r\n```\r\nThis is my solution:\r\n```\r\nfinal List&lt;Student&gt; list = list2.stream()\r\n\t.filter(p -&gt; list1.stream().anyMatch(p2 -&gt; p.getName() == p2.getName()))\r\n\t.collect(Collectors.toList());\r\n```\r\nCurrent result:\r\n```\r\n[null - A - inactive, null - B - inactive]\r\n```\r\n\r\nI want to map `id` of `A` and `B` in `list1` so that the desired result would be:\r\n```\r\n[1- A - inactive, 2 - B - inactive]\r\n```\r\n\r\nSo, how can I do these two actions `filter` and `map` in ONE line code (single stream-statemnt)?\r\n","title":"Java-Streams - filter() + map() - Map objects from one List with the missing property to objects from another List","body":"<p>Map attribute of one object to another object after filtering list</p>\n<p>I have two lists of <code>Student</code> objects.</p>\n<pre><code>public class Student {\n    private Integer id;\n    private String name;\n    private String status;\n\n    // the rest code\n}\n</code></pre>\n<p>I want to get the students from the <code>list2</code> with <code>id</code> which are not present in <code>list1</code>.</p>\n<pre><code>Student s1 = new Student(1, &quot;A&quot;, &quot;active&quot;);\nStudent s2 = new Student(2, &quot;B&quot;, &quot;active&quot;);\nStudent s3 = new Student(3, &quot;C&quot;, &quot;active&quot;);\n\nList&lt;Student&gt; list1 = new ArrayList&lt;&gt;();\nlist1.add(s1);\nlist1.add(s2);\nlist1.add(s3);\n\nStudent s4 = new Student(null, &quot;A&quot;, &quot;inactive&quot;);\nStudent s5 = new Student(null, &quot;B&quot;, &quot;inactive&quot;);\nStudent s6 = new Student(null, &quot;E&quot;, &quot;inactive&quot;);\n\nList&lt;Student&gt; list2 = new ArrayList&lt;&gt;();\nlist2.add(s4);\nlist2.add(s5);\nlist2.add(s6);\n</code></pre>\n<p>This is my solution:</p>\n<pre><code>final List&lt;Student&gt; list = list2.stream()\n    .filter(p -&gt; list1.stream().anyMatch(p2 -&gt; p.getName() == p2.getName()))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Current result:</p>\n<pre><code>[null - A - inactive, null - B - inactive]\n</code></pre>\n<p>I want to map <code>id</code> of <code>A</code> and <code>B</code> in <code>list1</code> so that the desired result would be:</p>\n<pre><code>[1- A - inactive, 2 - B - inactive]\n</code></pre>\n<p>So, how can I do these two actions <code>filter</code> and <code>map</code> in ONE line code (single stream-statemnt)?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1659851914,"post_id":73265208,"comment_id":129390277,"body_markdown":"Where is the syntax error? I don&#39;t see any. One logical error I see is that you declare and initialize local variable `type` which won&#39;t initialize class variable. Change it to `type=newtype;`","body":"Where is the syntax error? I don&#39;t see any. One logical error I see is that you declare and initialize local variable <code>type</code> which won&#39;t initialize class variable. Change it to <code>type=newtype;</code>"},{"owner":{"account_id":23196825,"reputation":11,"user_id":17292339,"display_name":"skittlefiz"},"score":0,"creation_date":1659852163,"post_id":73265208,"comment_id":129390302,"body_markdown":"@ArunGowda  its my understanding that ``` private Type type;``` is a global variable.. i didnt declare any other variables.. and thats my question that why do i need to declare an extra variable to use emun getter setters","body":"@ArunGowda  its my understanding that ``` private Type type;``` is a global variable.. i didnt declare any other variables.. and thats my question that why do i need to declare an extra variable to use emun getter setters"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1659852537,"post_id":73265208,"comment_id":129390341,"body_markdown":"by local variable I meant inside Constructor.  Why are you doing `Type type=newtype;` ?  isn&#39;t it supposed to be ` type=newtype;`?","body":"by local variable I meant inside Constructor.  Why are you doing <code>Type type=newtype;</code> ?  isn&#39;t it supposed to be ` type=newtype;`?"},{"owner":{"account_id":23196825,"reputation":11,"user_id":17292339,"display_name":"skittlefiz"},"score":0,"creation_date":1659853871,"post_id":73265208,"comment_id":129390531,"body_markdown":"@ArunGowda oh fair thanks.. i have no idea how that wouldve been wrong but wrong indeed... im confused about the varaible ```type``` thats all","body":"@ArunGowda oh fair thanks.. i have no idea how that wouldve been wrong but wrong indeed... im confused about the varaible <code>type</code> thats all"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659855666,"creation_date":1659854754,"answer_id":73265436,"question_id":73265208,"body_markdown":"An [enum][1] is a type, the same as a class or an interface is. Hence this line of your code is declaring a type and not a variable:\r\n```java\r\nprivate enum Type{Reserch,Coursework;}\r\n```\r\nThis line of your code declares a [member variable][2] and not a *global variable* (as you stated in your [comment][3] to your question):\r\n```java\r\nprivate Type type;\r\n```\r\nAlso, as @ArunGowda wrote in his [comment](https://stackoverflow.com/questions/73265208/using-getters-and-setters-with-enum-class-java#comment129390341_73265208), you have an error in the code of `Postgraduate` class constructor. The code should be:\r\n```java\r\npublic Postgraduate(Type newtype) {\r\n    type = newtype;\r\n}\r\n```\r\nBy [convention][4] enum values are written all upper-case. You also spelt **Research** wrong. Consider the following code:\r\n```java\r\npublic class Postgraduate {\r\n    private enum Type {RESEARCH, COURSEWORK}\r\n\r\n    private Type  type;\r\n\r\n    public Postgraduate(Type type) {\r\n        this.type = type;\r\n    }\r\n\r\n    @Override // java.lang.Object\r\n    public String toString() {\r\n        return type.toString();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Postgraduate phD = new Postgraduate(Type.RESEARCH);\r\n        System.out.println(phD);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\r\n  [3]: https://stackoverflow.com/questions/73265208/using-getters-and-setters-with-enum-class-java#comment129390302_73265208\r\n  [4]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"using getters and setters with enum class java","body":"<p>An <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enum</a> is a type, the same as a class or an interface is. Hence this line of your code is declaring a type and not a variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private enum Type{Reserch,Coursework;}\n</code></pre>\n<p>This line of your code declares a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\" rel=\"nofollow noreferrer\">member variable</a> and not a <em>global variable</em> (as you stated in your <a href=\"https://stackoverflow.com/questions/73265208/using-getters-and-setters-with-enum-class-java#comment129390302_73265208\">comment</a> to your question):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Type type;\n</code></pre>\n<p>Also, as @ArunGowda wrote in his <a href=\"https://stackoverflow.com/questions/73265208/using-getters-and-setters-with-enum-class-java#comment129390341_73265208\">comment</a>, you have an error in the code of <code>Postgraduate</code> class constructor. The code should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Postgraduate(Type newtype) {\n    type = newtype;\n}\n</code></pre>\n<p>By <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">convention</a> enum values are written all upper-case. You also spelt <strong>Research</strong> wrong. Consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Postgraduate {\n    private enum Type {RESEARCH, COURSEWORK}\n\n    private Type  type;\n\n    public Postgraduate(Type type) {\n        this.type = type;\n    }\n\n    @Override // java.lang.Object\n    public String toString() {\n        return type.toString();\n    }\n\n    public static void main(String[] args) {\n        Postgraduate phD = new Postgraduate(Type.RESEARCH);\n        System.out.println(phD);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23196825,"reputation":11,"user_id":17292339,"display_name":"skittlefiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659870406,"accepted_answer_id":73265436,"answer_count":1,"score":0,"last_activity_date":1659855666,"creation_date":1659851712,"question_id":73265208,"body_markdown":"If I don&#39;t declare `private Type type;` and try using getters and setters I&#39;m always getting some kind of error which, of-course, I don&#39;t really understand. It&#39;s just a red line for me.\r\nI am just trying to understand why I have to declare a separate variable that I didn&#39;t think I needed in order to do this.\r\n\r\nPlease do ask if I&#39;m missing any information. This is my first question ever!\r\n\r\nBelow is part of the practice exercise that I&#39;m trying to do:\r\n\r\n**Postgraduate.java** that contains extra private data members:\r\n\r\n- type: is an Enum called Type, including Research and Coursework;\r\n\r\nImplement Java methods in the file Postgraduate.java that include:\r\n\r\n- Initialization constructor that assigns values to all data members;\r\n- Public access methods `getType()` that return values of private data members;\r\n- Public update methods `setType(Type newType)` that update values of private data\r\nmembers;\r\n- Public overriding method `toString()` that returns of postgraduate information.\r\n\r\n```java\r\npublic class Postgraduate {\r\n    private enum Type{Reserch,Coursework;}\r\n    private Type type;\r\n\r\n    public Postgraduate(Type newtype) {\r\n        Type type=newtype;\r\n    }\r\n\r\n    public Type getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(Type newType){\r\n        type = newType;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ok3Ki.png\r\n  [2]: https://i.stack.imgur.com/OGmVL.png","title":"using getters and setters with enum class java","body":"<p>If I don't declare <code>private Type type;</code> and try using getters and setters I'm always getting some kind of error which, of-course, I don't really understand. It's just a red line for me.\nI am just trying to understand why I have to declare a separate variable that I didn't think I needed in order to do this.</p>\n<p>Please do ask if I'm missing any information. This is my first question ever!</p>\n<p>Below is part of the practice exercise that I'm trying to do:</p>\n<p><strong>Postgraduate.java</strong> that contains extra private data members:</p>\n<ul>\n<li>type: is an Enum called Type, including Research and Coursework;</li>\n</ul>\n<p>Implement Java methods in the file Postgraduate.java that include:</p>\n<ul>\n<li>Initialization constructor that assigns values to all data members;</li>\n<li>Public access methods <code>getType()</code> that return values of private data members;</li>\n<li>Public update methods <code>setType(Type newType)</code> that update values of private data\nmembers;</li>\n<li>Public overriding method <code>toString()</code> that returns of postgraduate information.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class Postgraduate {\n    private enum Type{Reserch,Coursework;}\n    private Type type;\n\n    public Postgraduate(Type newtype) {\n        Type type=newtype;\n    }\n\n    public Type getType() {\n        return type;\n    }\n\n    public void setType(Type newType){\n        type = newType;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1659184402,"post_id":73175618,"comment_id":129236038,"body_markdown":"why are you using findvalue? in the json `value` is a key you should use `get()` method","body":"why are you using findvalue? in the json <code>value</code> is a key you should use <code>get()</code> method"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1659184992,"post_id":73175618,"comment_id":129236140,"body_markdown":"can you post the expected output","body":"can you post the expected output"},{"owner":{"account_id":23119852,"reputation":23,"user_id":17226538,"display_name":"altz"},"score":0,"creation_date":1659185175,"post_id":73175618,"comment_id":129236176,"body_markdown":"@deadshot The error is on jsonObject.get(indexRow++) it returns null. Cannot invoke &quot;com.fasterxml.jackson.databind.JsonNode.findValue(String)&quot; because the return value of &quot;com.fasterxml.jackson.databind.JsonNode.get(int)&quot; is null","body":"@deadshot The error is on jsonObject.get(indexRow++) it returns null. Cannot invoke &quot;com.fasterxml.jackson.databind.JsonNode.findValue(String)&quot; because the return value of &quot;com.fasterxml.jackson.databind.JsonNode.get(int)&quot; is null"},{"owner":{"account_id":23119852,"reputation":23,"user_id":17226538,"display_name":"altz"},"score":0,"creation_date":1659185455,"post_id":73175618,"comment_id":129236232,"body_markdown":"Expected output is [http://www.wikidata.org/entity/Q42442324, http://www.wikidata.org/entity/Q42442324, Kiisu Miisu, http://www.wikidata.org/entity/Q43260736, http://www.wikidata.org/prop/direct/P21, Paddles]","body":"Expected output is [<a href=\"http://www.wikidata.org/entity/Q42442324\" rel=\"nofollow noreferrer\">wikidata.org/entity/Q42442324</a>, <a href=\"http://www.wikidata.org/entity/Q42442324\" rel=\"nofollow noreferrer\">wikidata.org/entity/Q42442324</a>, Kiisu Miisu, <a href=\"http://www.wikidata.org/entity/Q43260736\" rel=\"nofollow noreferrer\">wikidata.org/entity/Q43260736</a>, <a href=\"http://www.wikidata.org/prop/direct/P21\" rel=\"nofollow noreferrer\">wikidata.org/prop/direct/P21</a>, Paddles]"}],"answers":[{"tags":[],"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659185631,"creation_date":1659185631,"answer_id":73175792,"question_id":73175618,"body_markdown":"You can use `elements()` method and check if value key exist then add the value to list.\r\n\r\n**Smaple code**\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nJsonNode jsonNode = mapper.readTree(data);\r\n\r\nList&lt;String&gt; values = new ArrayList&lt;&gt;();\r\njsonNode.forEach(jsonObject -&gt; jsonObject.elements().forEachRemaining(valueNode -&gt; {\r\n    if(valueNode.has(&quot;value&quot;))\r\n        values.add(valueNode.get(&quot;value&quot;).asText());\r\n}));\r\nSystem.out.println(values);\r\n```\r\n**Output:**\r\n```\r\n[http://www.wikidata.org/entity/Q42442324, http://www.wikidata.org/prop/direct/P21, Kiisu Miisu, http://www.wikidata.org/entity/Q43260736, http://www.wikidata.org/prop/direct/P21, Paddles]\r\n```","title":"Getting the values of a specific key from JsonNode","body":"<p>You can use <code>elements()</code> method and check if value key exist then add the value to list.</p>\n<p><strong>Smaple code</strong></p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode jsonNode = mapper.readTree(data);\n\nList&lt;String&gt; values = new ArrayList&lt;&gt;();\njsonNode.forEach(jsonObject -&gt; jsonObject.elements().forEachRemaining(valueNode -&gt; {\n    if(valueNode.has(&quot;value&quot;))\n        values.add(valueNode.get(&quot;value&quot;).asText());\n}));\nSystem.out.println(values);\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[http://www.wikidata.org/entity/Q42442324, http://www.wikidata.org/prop/direct/P21, Kiisu Miisu, http://www.wikidata.org/entity/Q43260736, http://www.wikidata.org/prop/direct/P21, Paddles]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659855639,"creation_date":1659855639,"answer_id":73265509,"question_id":73175618,"body_markdown":"Here is the solution by &quot;Josson &amp; Jossons&quot;. I list 2 more examples with condition filtering.\r\n\r\nhttps://github.com/octomix/josson  \r\n\r\n    implementation &#39;com.octomix.josson:josson:1.3.22&#39;\r\n\r\n    ---------------------------------------------\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[&quot; +\r\n        &quot;  {&quot; +\r\n        &quot;    \\&quot;item\\&quot;: {&quot; +\r\n        &quot;      \\&quot;type\\&quot;: \\&quot;uri\\&quot;, \\&quot;value\\&quot;: \\&quot;http://www.wikidata.org/entity/Q42442324\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    \\&quot;prop\\&quot;: {&quot; +\r\n        &quot;      \\&quot;type\\&quot;: \\&quot;uri\\&quot;, \\&quot;value\\&quot;: \\&quot;http://www.wikidata.org/prop/direct/P21\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    \\&quot;itemLabel\\&quot;: {&quot; +\r\n        &quot;      \\&quot;xml:lang\\&quot;: \\&quot;en\\&quot;, \\&quot;type\\&quot;: \\&quot;literal\\&quot;, \\&quot;value\\&quot;: \\&quot;Kiisu Miisu\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  },&quot; +\r\n        &quot;  {&quot; +\r\n        &quot;    \\&quot;item\\&quot;: {&quot; +\r\n        &quot;      \\&quot;type\\&quot;: \\&quot;uri\\&quot;, \\&quot;value\\&quot;: \\&quot;http://www.wikidata.org/entity/Q43260736\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    \\&quot;prop\\&quot;: {&quot; +\r\n        &quot;      \\&quot;type\\&quot;: \\&quot;uri\\&quot;, \\&quot;value\\&quot;: \\&quot;http://www.wikidata.org/prop/direct/P21\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    \\&quot;itemLabel\\&quot;: {&quot; +\r\n        &quot;      \\&quot;xml:lang\\&quot;: \\&quot;en\\&quot;, \\&quot;type\\&quot;: \\&quot;literal\\&quot;, \\&quot;value\\&quot;: \\&quot;Paddles\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;]&quot;);\r\n    \r\n    JsonNode node = josson.getNode(&quot;*.value&quot;);\r\n    System.out.println(&quot;1.\\n&quot; + node.toPrettyString());\r\n    \r\n    node = josson.getNode(&quot;~&#39;^item.*&#39;.value&quot;);\r\n    System.out.println(&quot;2.\\n&quot; + node.toPrettyString());\r\n    \r\n    node = josson.getNode(&quot;*[value.type=&#39;uri&#39;]*.value&quot;);\r\n    System.out.println(&quot;3.\\n&quot; + node.toPrettyString());\r\n\r\nOutput:\r\n\r\n    1.\r\n    [ &quot;http://www.wikidata.org/entity/Q42442324&quot;, &quot;http://www.wikidata.org/prop/direct/P21&quot;, &quot;Kiisu Miisu&quot;, &quot;http://www.wikidata.org/entity/Q43260736&quot;, &quot;http://www.wikidata.org/prop/direct/P21&quot;, &quot;Paddles&quot; ]\r\n    2.\r\n    [ &quot;http://www.wikidata.org/entity/Q42442324&quot;, &quot;Kiisu Miisu&quot;, &quot;http://www.wikidata.org/entity/Q43260736&quot;, &quot;Paddles&quot; ]\r\n    3.\r\n    [ &quot;http://www.wikidata.org/entity/Q42442324&quot;, &quot;http://www.wikidata.org/prop/direct/P21&quot;, &quot;http://www.wikidata.org/entity/Q43260736&quot;, &quot;http://www.wikidata.org/prop/direct/P21&quot; ]\r\n","title":"Getting the values of a specific key from JsonNode","body":"<p>Here is the solution by &quot;Josson &amp; Jossons&quot;. I list 2 more examples with condition filtering.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>implementation 'com.octomix.josson:josson:1.3.22'\n\n---------------------------------------------\n\nJosson josson = Josson.fromJsonString(\n    &quot;[&quot; +\n    &quot;  {&quot; +\n    &quot;    \\&quot;item\\&quot;: {&quot; +\n    &quot;      \\&quot;type\\&quot;: \\&quot;uri\\&quot;, \\&quot;value\\&quot;: \\&quot;http://www.wikidata.org/entity/Q42442324\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    \\&quot;prop\\&quot;: {&quot; +\n    &quot;      \\&quot;type\\&quot;: \\&quot;uri\\&quot;, \\&quot;value\\&quot;: \\&quot;http://www.wikidata.org/prop/direct/P21\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    \\&quot;itemLabel\\&quot;: {&quot; +\n    &quot;      \\&quot;xml:lang\\&quot;: \\&quot;en\\&quot;, \\&quot;type\\&quot;: \\&quot;literal\\&quot;, \\&quot;value\\&quot;: \\&quot;Kiisu Miisu\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;  },&quot; +\n    &quot;  {&quot; +\n    &quot;    \\&quot;item\\&quot;: {&quot; +\n    &quot;      \\&quot;type\\&quot;: \\&quot;uri\\&quot;, \\&quot;value\\&quot;: \\&quot;http://www.wikidata.org/entity/Q43260736\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    \\&quot;prop\\&quot;: {&quot; +\n    &quot;      \\&quot;type\\&quot;: \\&quot;uri\\&quot;, \\&quot;value\\&quot;: \\&quot;http://www.wikidata.org/prop/direct/P21\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    \\&quot;itemLabel\\&quot;: {&quot; +\n    &quot;      \\&quot;xml:lang\\&quot;: \\&quot;en\\&quot;, \\&quot;type\\&quot;: \\&quot;literal\\&quot;, \\&quot;value\\&quot;: \\&quot;Paddles\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;  }&quot; +\n    &quot;]&quot;);\n\nJsonNode node = josson.getNode(&quot;*.value&quot;);\nSystem.out.println(&quot;1.\\n&quot; + node.toPrettyString());\n\nnode = josson.getNode(&quot;~'^item.*'.value&quot;);\nSystem.out.println(&quot;2.\\n&quot; + node.toPrettyString());\n\nnode = josson.getNode(&quot;*[value.type='uri']*.value&quot;);\nSystem.out.println(&quot;3.\\n&quot; + node.toPrettyString());\n</code></pre>\n<p>Output:</p>\n<pre><code>1.\n[ &quot;http://www.wikidata.org/entity/Q42442324&quot;, &quot;http://www.wikidata.org/prop/direct/P21&quot;, &quot;Kiisu Miisu&quot;, &quot;http://www.wikidata.org/entity/Q43260736&quot;, &quot;http://www.wikidata.org/prop/direct/P21&quot;, &quot;Paddles&quot; ]\n2.\n[ &quot;http://www.wikidata.org/entity/Q42442324&quot;, &quot;Kiisu Miisu&quot;, &quot;http://www.wikidata.org/entity/Q43260736&quot;, &quot;Paddles&quot; ]\n3.\n[ &quot;http://www.wikidata.org/entity/Q42442324&quot;, &quot;http://www.wikidata.org/prop/direct/P21&quot;, &quot;http://www.wikidata.org/entity/Q43260736&quot;, &quot;http://www.wikidata.org/prop/direct/P21&quot; ]\n</code></pre>\n"}],"owner":{"account_id":23119852,"reputation":23,"user_id":17226538,"display_name":"altz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73175792,"answer_count":2,"score":1,"last_activity_date":1659855639,"creation_date":1659184172,"question_id":73175618,"body_markdown":"I have a JsonNode result represented as:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;item&quot;: {\r\n      &quot;type&quot;: &quot;uri&quot;,\r\n      &quot;value&quot;: &quot;http://www.wikidata.org/entity/Q42442324&quot;\r\n    },\r\n    &quot;prop&quot;: {\r\n      &quot;type&quot;: &quot;uri&quot;,\r\n      &quot;value&quot;: &quot;http://www.wikidata.org/prop/direct/P21&quot;\r\n    },\r\n    &quot;itemLabel&quot;: {\r\n      &quot;xml:lang&quot;: &quot;en&quot;,\r\n      &quot;type&quot;: &quot;literal&quot;,\r\n      &quot;value&quot;: &quot;Kiisu Miisu&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;item&quot;: {\r\n      &quot;type&quot;: &quot;uri&quot;,\r\n      &quot;value&quot;: &quot;http://www.wikidata.org/entity/Q43260736&quot;\r\n    },\r\n    &quot;prop&quot;: {\r\n      &quot;type&quot;: &quot;uri&quot;,\r\n      &quot;value&quot;: &quot;http://www.wikidata.org/prop/direct/P21&quot;\r\n    },\r\n    &quot;itemLabel&quot;: {\r\n      &quot;xml:lang&quot;: &quot;en&quot;,\r\n      &quot;type&quot;: &quot;literal&quot;,\r\n      &quot;value&quot;: &quot;Paddles&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nI am trying to retieve the values of the key &quot;value&quot; into an array list using the below code but am getting the error\r\n*Cannot invoke &quot;com.fasterxml.jackson.databind.JsonNode.findValue(String)&quot; because the return value of &quot;com.fasterxml.jackson.databind.JsonNode.get(int)&quot; is null*  \r\n\r\n```\r\nfor (int i = 0; i &lt; resultSize; i++) {\r\n    JsonNode jsonObject = results.get(i);\r\n    if (indexRow &lt; jsonObject.size()) {\r\n        jsonRows = Collections.singletonList(jsonObject.get(indexRow++).findValue(&quot;value&quot;).asText());\r\n    }\r\n}\r\n```\r\n\r\nThe value of variable jsonObject in the first iteration from the debugger is\r\n\r\n```\r\n{\r\n  &quot;item&quot;: {\r\n    &quot;type&quot;: &quot;uri&quot;,\r\n    &quot;value&quot;: &quot;http://www.wikidata.org/entity/Q42442324&quot;\r\n  },\r\n  &quot;prop&quot;: {\r\n    &quot;type&quot;: &quot;uri&quot;,\r\n    &quot;value&quot;: &quot;http://www.wikidata.org/prop/direct/P21&quot;\r\n  },\r\n  &quot;itemLabel&quot;: {\r\n    &quot;xml:lang&quot;: &quot;en&quot;,\r\n    &quot;type&quot;: &quot;literal&quot;,\r\n    &quot;value&quot;: &quot;Kiisu Miisu&quot;\r\n  }\r\n}\r\n```\r\n\r\nExpected output is\r\n\r\n```\r\n[\r\n  &quot;http://www.wikidata.org/entity/Q42442324&quot;,\r\n  &quot;http://www.wikidata.org/entity/Q42442324&quot;,\r\n  &quot;Kiisu Miisu&quot;,\r\n  &quot;http://www.wikidata.org/entity/Q43260736&quot;,\r\n  &quot;http://www.wikidata.org/prop/direct/P21&quot;,\r\n  &quot;Paddles&quot;\r\n]\r\n```\r\n","title":"Getting the values of a specific key from JsonNode","body":"<p>I have a JsonNode result represented as:</p>\n<pre><code>[\n  {\n    &quot;item&quot;: {\n      &quot;type&quot;: &quot;uri&quot;,\n      &quot;value&quot;: &quot;http://www.wikidata.org/entity/Q42442324&quot;\n    },\n    &quot;prop&quot;: {\n      &quot;type&quot;: &quot;uri&quot;,\n      &quot;value&quot;: &quot;http://www.wikidata.org/prop/direct/P21&quot;\n    },\n    &quot;itemLabel&quot;: {\n      &quot;xml:lang&quot;: &quot;en&quot;,\n      &quot;type&quot;: &quot;literal&quot;,\n      &quot;value&quot;: &quot;Kiisu Miisu&quot;\n    }\n  },\n  {\n    &quot;item&quot;: {\n      &quot;type&quot;: &quot;uri&quot;,\n      &quot;value&quot;: &quot;http://www.wikidata.org/entity/Q43260736&quot;\n    },\n    &quot;prop&quot;: {\n      &quot;type&quot;: &quot;uri&quot;,\n      &quot;value&quot;: &quot;http://www.wikidata.org/prop/direct/P21&quot;\n    },\n    &quot;itemLabel&quot;: {\n      &quot;xml:lang&quot;: &quot;en&quot;,\n      &quot;type&quot;: &quot;literal&quot;,\n      &quot;value&quot;: &quot;Paddles&quot;\n    }\n  }\n]\n</code></pre>\n<p>I am trying to retieve the values of the key &quot;value&quot; into an array list using the below code but am getting the error\n<em>Cannot invoke &quot;com.fasterxml.jackson.databind.JsonNode.findValue(String)&quot; because the return value of &quot;com.fasterxml.jackson.databind.JsonNode.get(int)&quot; is null</em></p>\n<pre><code>for (int i = 0; i &lt; resultSize; i++) {\n    JsonNode jsonObject = results.get(i);\n    if (indexRow &lt; jsonObject.size()) {\n        jsonRows = Collections.singletonList(jsonObject.get(indexRow++).findValue(&quot;value&quot;).asText());\n    }\n}\n</code></pre>\n<p>The value of variable jsonObject in the first iteration from the debugger is</p>\n<pre><code>{\n  &quot;item&quot;: {\n    &quot;type&quot;: &quot;uri&quot;,\n    &quot;value&quot;: &quot;http://www.wikidata.org/entity/Q42442324&quot;\n  },\n  &quot;prop&quot;: {\n    &quot;type&quot;: &quot;uri&quot;,\n    &quot;value&quot;: &quot;http://www.wikidata.org/prop/direct/P21&quot;\n  },\n  &quot;itemLabel&quot;: {\n    &quot;xml:lang&quot;: &quot;en&quot;,\n    &quot;type&quot;: &quot;literal&quot;,\n    &quot;value&quot;: &quot;Kiisu Miisu&quot;\n  }\n}\n</code></pre>\n<p>Expected output is</p>\n<pre><code>[\n  &quot;http://www.wikidata.org/entity/Q42442324&quot;,\n  &quot;http://www.wikidata.org/entity/Q42442324&quot;,\n  &quot;Kiisu Miisu&quot;,\n  &quot;http://www.wikidata.org/entity/Q43260736&quot;,\n  &quot;http://www.wikidata.org/prop/direct/P21&quot;,\n  &quot;Paddles&quot;\n]\n</code></pre>\n"},{"tags":["java","json","regex"],"comments":[{"owner":{"account_id":2342391,"reputation":4030,"user_id":2053389,"accept_rate":69,"display_name":"RobertAKARobin"},"score":2,"creation_date":1611344726,"post_id":65851734,"comment_id":116431139,"body_markdown":"Do you _have_ to use RegEx? In 99.9% of cases you should not use RegEx to parse something in a standardized machine-readable format, like JSON (or HTML, XML, etc). You should use your programming language&#39;s native JSON parser. What language/environment are you working in?","body":"Do you <i>have</i> to use RegEx? In 99.9% of cases you should not use RegEx to parse something in a standardized machine-readable format, like JSON (or HTML, XML, etc). You should use your programming language&#39;s native JSON parser. What language/environment are you working in?"},{"owner":{"account_id":5773951,"reputation":1035,"user_id":4556597,"display_name":"Diniden"},"score":0,"creation_date":1611344778,"post_id":65851734,"comment_id":116431160,"body_markdown":"Just out of curiosity: Why not just parse and loop through keys? Micro-optimization? Or dealing with insanely huge dataset?","body":"Just out of curiosity: Why not just parse and loop through keys? Micro-optimization? Or dealing with insanely huge dataset?"},{"owner":{"account_id":5301,"reputation":91455,"user_id":8454,"accept_rate":100,"display_name":"Andy Lester"},"score":2,"creation_date":1611347477,"post_id":65851734,"comment_id":116432197,"body_markdown":"Don&#39;t try to parse JSON with a regex.  You will regret it later.  There are so many edge cases and things that can go wrong that you haven&#39;t thought of.  Use a proper JSON parser in whatever language you&#39;re using.","body":"Don&#39;t try to parse JSON with a regex.  You will regret it later.  There are so many edge cases and things that can go wrong that you haven&#39;t thought of.  Use a proper JSON parser in whatever language you&#39;re using."},{"owner":{"account_id":5301,"reputation":91455,"user_id":8454,"accept_rate":100,"display_name":"Andy Lester"},"score":1,"creation_date":1611347612,"post_id":65851734,"comment_id":116432242,"body_markdown":"If you&#39;re doing something from the shell, then look at a tool like `jq`.  Here&#39;s [an article](https://blog.newrelic.com/engineering/7-things-never-code/) I wrote that includes a brief example of how `jq` can be used.","body":"If you&#39;re doing something from the shell, then look at a tool like <code>jq</code>.  Here&#39;s <a href=\"https://blog.newrelic.com/engineering/7-things-never-code/\" rel=\"nofollow noreferrer\">an article</a> I wrote that includes a brief example of how <code>jq</code> can be used."},{"owner":{"account_id":2557291,"reputation":945,"user_id":2218992,"accept_rate":100,"display_name":"andreyro"},"score":0,"creation_date":1611525628,"post_id":65851734,"comment_id":116473840,"body_markdown":"Thank you for the comments. I use JAVA, but I could do it in any language. The data is not critical if something goes wrong with the regex (only testing purposes). I want to do a small script that parses any multi level json objects and obfuscate the values by adding instead the key and a random number. It is not known what the JSON will contain. I looked into different libraries, but none of those helped me to achieve this and parsing it with Jackson, for example, and converting it to a Map implied going down in all the levels inside the JSON which can be a bit complex.","body":"Thank you for the comments. I use JAVA, but I could do it in any language. The data is not critical if something goes wrong with the regex (only testing purposes). I want to do a small script that parses any multi level json objects and obfuscate the values by adding instead the key and a random number. It is not known what the JSON will contain. I looked into different libraries, but none of those helped me to achieve this and parsing it with Jackson, for example, and converting it to a Map implied going down in all the levels inside the JSON which can be a bit complex."},{"owner":{"account_id":2557291,"reputation":945,"user_id":2218992,"accept_rate":100,"display_name":"andreyro"},"score":0,"creation_date":1611585040,"post_id":65851734,"comment_id":116491926,"body_markdown":"Update: Did the processing myself with a JSON library and then parsing object (list, map or key values pairs)","body":"Update: Did the processing myself with a JSON library and then parsing object (list, map or key values pairs)"}],"answers":[{"tags":[],"owner":{"account_id":3486275,"reputation":7429,"user_id":7475450,"display_name":"Peter Thoeny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611353212,"creation_date":1611353212,"answer_id":65853376,"question_id":65851734,"body_markdown":"As others pointed out, if you want a robust solution use a JSON parser in your language.\r\n\r\nIf you want to use regex, and the engine supports lookbehind you can use this:\r\n```\r\n/(&quot;[^&quot;]*&quot;(?=:&quot;)|(?&lt;=&quot;:)&quot;[^&quot;]*&quot;)/g\r\n```\r\nExplanation:\r\n- `|` - or combination of:\r\n  - `&quot;[^&quot;]*&quot;(?=:&quot;)` - quote, 0+ non-quotes, quote, followed by positive lookahead for colon and quote\r\n  - `(?&lt;=&quot;:)&quot;[^&quot;]*&quot;` - positive lookbehind for quote and colon, followed by quote, 0+ non-quotes, quote\r\n\r\nIf you want to exclude the quotes in the matches, use this regex:\r\n```\r\n/(?&lt;=&quot;)([^&quot;]*(?=&quot;:&quot;)|(?&lt;=&quot;:&quot;)[^&quot;]*)/g\r\n```\r\n\r\nNote that these regexes fail for cover corner cases, such as whitespace around keys and values, escaped quotes in values, etc. Hence it is safer to use an actual JSON parser.","title":"Regex to match key value pairs from JSON","body":"<p>As others pointed out, if you want a robust solution use a JSON parser in your language.</p>\n<p>If you want to use regex, and the engine supports lookbehind you can use this:</p>\n<pre><code>/(&quot;[^&quot;]*&quot;(?=:&quot;)|(?&lt;=&quot;:)&quot;[^&quot;]*&quot;)/g\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li><code>|</code> - or combination of:\n<ul>\n<li><code>&quot;[^&quot;]*&quot;(?=:&quot;)</code> - quote, 0+ non-quotes, quote, followed by positive lookahead for colon and quote</li>\n<li><code>(?&lt;=&quot;:)&quot;[^&quot;]*&quot;</code> - positive lookbehind for quote and colon, followed by quote, 0+ non-quotes, quote</li>\n</ul>\n</li>\n</ul>\n<p>If you want to exclude the quotes in the matches, use this regex:</p>\n<pre><code>/(?&lt;=&quot;)([^&quot;]*(?=&quot;:&quot;)|(?&lt;=&quot;:&quot;)[^&quot;]*)/g\n</code></pre>\n<p>Note that these regexes fail for cover corner cases, such as whitespace around keys and values, escaped quotes in values, etc. Hence it is safer to use an actual JSON parser.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659853752,"creation_date":1659853752,"answer_id":73265361,"question_id":65851734,"body_markdown":"I saw that you decided not to use regex and used JSON library finally. Here is the simple solution by &quot;Josson &amp; Jossons&quot;.\r\n\r\nhttps://github.com/octomix/josson  \r\n\r\n    implementation &#39;com.octomix.josson:josson:1.3.22&#39;\r\n\r\n    ---------------------------------------------\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{\\n&quot; +\r\n        &quot;    \\&quot;results\\&quot;: [\\n&quot; +\r\n        &quot;        {\\n&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 16,\\n&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;some name1\\&quot;,\\n&quot; +\r\n        &quot;            \\&quot;location\\&quot;: \\&quot;some location1\\&quot;,\\n&quot; +\r\n        &quot;            \\&quot;parent\\&quot;: true,\\n&quot; +\r\n        &quot;            \\&quot;region\\&quot;: \\&quot;some region\\&quot;\\n&quot; +\r\n        &quot;        },\\n&quot; +\r\n        &quot;        {\\n&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 157,\\n&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;some name2\\&quot;,\\n&quot; +\r\n        &quot;            \\&quot;location\\&quot;: \\&quot;some location2\\&quot;,\\n&quot; +\r\n        &quot;            \\&quot;parent\\&quot;: true\\n&quot; +\r\n        &quot;        }\\n&quot; +\r\n        &quot;    ],\\n&quot; +\r\n        &quot;    \\&quot;totalCount\\&quot;: 170\\n&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(\r\n            &quot;results.entries().[value.isText()]*.toArray()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    [ &quot;name&quot;, &quot;some name1&quot;, &quot;location&quot;, &quot;some location1&quot;, &quot;region&quot;, &quot;some region&quot;, &quot;name&quot;, &quot;some name2&quot;, &quot;location&quot;, &quot;some location2&quot; ]\r\n","title":"Regex to match key value pairs from JSON","body":"<p>I saw that you decided not to use regex and used JSON library finally. Here is the simple solution by &quot;Josson &amp; Jossons&quot;.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>implementation 'com.octomix.josson:josson:1.3.22'\n\n---------------------------------------------\n\nJosson josson = Josson.fromJsonString(\n    &quot;{\\n&quot; +\n    &quot;    \\&quot;results\\&quot;: [\\n&quot; +\n    &quot;        {\\n&quot; +\n    &quot;            \\&quot;id\\&quot;: 16,\\n&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;some name1\\&quot;,\\n&quot; +\n    &quot;            \\&quot;location\\&quot;: \\&quot;some location1\\&quot;,\\n&quot; +\n    &quot;            \\&quot;parent\\&quot;: true,\\n&quot; +\n    &quot;            \\&quot;region\\&quot;: \\&quot;some region\\&quot;\\n&quot; +\n    &quot;        },\\n&quot; +\n    &quot;        {\\n&quot; +\n    &quot;            \\&quot;id\\&quot;: 157,\\n&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;some name2\\&quot;,\\n&quot; +\n    &quot;            \\&quot;location\\&quot;: \\&quot;some location2\\&quot;,\\n&quot; +\n    &quot;            \\&quot;parent\\&quot;: true\\n&quot; +\n    &quot;        }\\n&quot; +\n    &quot;    ],\\n&quot; +\n    &quot;    \\&quot;totalCount\\&quot;: 170\\n&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(\n        &quot;results.entries().[value.isText()]*.toArray()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ &quot;name&quot;, &quot;some name1&quot;, &quot;location&quot;, &quot;some location1&quot;, &quot;region&quot;, &quot;some region&quot;, &quot;name&quot;, &quot;some name2&quot;, &quot;location&quot;, &quot;some location2&quot; ]\n</code></pre>\n"}],"owner":{"account_id":2557291,"reputation":945,"user_id":2218992,"accept_rate":100,"display_name":"andreyro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65853376,"answer_count":2,"score":0,"last_activity_date":1659853752,"creation_date":1611344523,"question_id":65851734,"body_markdown":"I need to match all the key values pairs from a complex JSON, but only values that are text / String.\r\n\r\nFor example from:\r\n\r\n    {&quot;results&quot;:[\r\n    {&quot;id&quot;:16,&quot;name&quot;:&quot;some name1&quot;,&quot;location&quot;:&quot;some  location1&quot;,&quot;parent&quot;:true, ,&quot;region&quot;:&quot;some region&quot;},\r\n    {&quot;id&quot;:157,&quot;name&quot;:&quot;some name2&quot; , &quot;location&quot;:some location2&quot;,&quot;parent&quot;:true}\r\n    ],&quot;totalCount&quot;:170}\r\n\r\nI need to match:\r\n\r\n    &quot;name&quot; \r\n    &quot;some name1&quot;\r\n    &quot;location&quot;\r\n    &quot;some location1&quot;\r\n    &quot;region&quot;\r\n    &quot;some region1&quot;\r\n    etc\r\n\r\nI have this `[^:]+\\&quot;(?=[,}\\s]|$)` , but it only matches the values (which are correct). \r\n\r\nI need also to match the keys: &quot;name&quot; , &quot;location&quot;, &quot;region&quot; (and there can be other key names)\r\n\r\nHere is an example for values matched https://regex101.com/r/m8FePZ/6","title":"Regex to match key value pairs from JSON","body":"<p>I need to match all the key values pairs from a complex JSON, but only values that are text / String.</p>\n<p>For example from:</p>\n<pre><code>{&quot;results&quot;:[\n{&quot;id&quot;:16,&quot;name&quot;:&quot;some name1&quot;,&quot;location&quot;:&quot;some  location1&quot;,&quot;parent&quot;:true, ,&quot;region&quot;:&quot;some region&quot;},\n{&quot;id&quot;:157,&quot;name&quot;:&quot;some name2&quot; , &quot;location&quot;:some location2&quot;,&quot;parent&quot;:true}\n],&quot;totalCount&quot;:170}\n</code></pre>\n<p>I need to match:</p>\n<pre><code>&quot;name&quot; \n&quot;some name1&quot;\n&quot;location&quot;\n&quot;some location1&quot;\n&quot;region&quot;\n&quot;some region1&quot;\netc\n</code></pre>\n<p>I have this <code>[^:]+\\&quot;(?=[,}\\s]|$)</code> , but it only matches the values (which are correct).</p>\n<p>I need also to match the keys: &quot;name&quot; , &quot;location&quot;, &quot;region&quot; (and there can be other key names)</p>\n<p>Here is an example for values matched <a href=\"https://regex101.com/r/m8FePZ/6\" rel=\"nofollow noreferrer\">https://regex101.com/r/m8FePZ/6</a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":11732393,"reputation":21,"user_id":8587411,"display_name":"Ariba Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659852375,"creation_date":1651099270,"question_id":72036066,"body_markdown":"I am getting the following error in the logs while deploying my application on websphere 9.0\r\nHere is the full stacktrace:\r\n\r\n\r\n\r\n[4/28/22 1:34:34:811 PKT] 000000fc SystemErr     R Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dispatcherRegistration&#39; defined in class path resource [com/tlx/configurations/WebAppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method &#39;dispatcherRegistration&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dispatcherServlet&#39; defined in class path resource [com/tlx/configurations/WebAppConfig.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.tlx.configurations.LoggableDispatcherServlet] from ClassLoader [\r\ncom.ibm.ws.classloader.CompoundClassLoader@f3ffa9d0[war:tlxfs_war/tlxfs.war]\r\n\r\n[4/28/22 1:34:34:811 PKT] 000000fc SystemErr     R Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dispatcherRegistration&#39; defined in class path resource [com/tlx/configurations/WebAppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method &#39;dispatcherRegistration&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dispatcherServlet&#39; defined in class path resource [com/tlx/configurations/WebAppConfig.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.tlx.configurations.LoggableDispatcherServlet] from ClassLoader [\r\ncom.ibm.ws.classloader.CompoundClassLoader@f3ffa9d0[war:tlxfs_war/tlxfs.war]\r\n\r\nThe two functions causing error are \r\n1. public DispatcherServlet dispatcherServlet()\r\n2. public ServletRegistrationBean&lt;DispatcherServlet&gt; dispatcherRegistration()\r\n\r\nI am able to comment the two functions and deployed successfully, but my question is what is the error with them after upgradation however they were working fine before. The error comes only in deployment, the code runs perfectly fine.\r\n\r\nHere is the complete file:\r\n\r\n    package com.tlx.configurations;\r\n    \r\n    import java.util.TimeZone;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.servlet.MultipartConfigElement;\r\n    \r\n    import org.apache.catalina.Context;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityCollection;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityConstraint;\r\n    import org.hibernate.engine.jdbc.NonContextualLobCreator;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.modelmapper.convention.MatchingStrategies;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration;\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.boot.web.servlet.ServletRegistrationBean;\r\n    import org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.data.domain.AuditorAware;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.scheduling.annotation.EnableAsync;\r\n    import org.springframework.web.context.ContextLoaderListener;\r\n    import org.springframework.web.context.request.RequestContextListener;\r\n    import org.springframework.web.multipart.commons.CommonsMultipartResolver;\r\n    import org.springframework.web.multipart.support.MultipartFilter;\r\n    import org.springframework.web.servlet.DispatcherServlet;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n    \r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.MapperFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.ObjectWriter;\r\n    import com.tlx.configurations.filters.PersistAuthTokenFilter;\r\n    import com.tlx.core.repositories.AclUserRepository;\r\n    \r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude = { WebMvcAutoConfiguration.class })\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;)\r\n    @EnableSwagger2\r\n    // @EnableCaching\r\n    @EnableAsync\r\n    @EnableWebMvc\r\n    public class WebAppConfig implements WebMvcConfigurer {\r\n    \r\n    \t// public class WebAppConfig extends WebMvcConfigurerAdapter{\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \t\tregistry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;/static/&quot;);\r\n    \t\tregistry.addResourceHandler(&quot;swagger-ui.html&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n    \t\tregistry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ServletRegistrationBean&lt;DispatcherServlet&gt; dispatcherRegistration() {\r\n    \t\tServletRegistrationBean&lt;DispatcherServlet&gt; registerationBean = new ServletRegistrationBean&lt;DispatcherServlet&gt;(dispatcherServlet());\r\n    \t\tregisterationBean.setMultipartConfig(new MultipartConfigElement(&quot;&quot;));\r\n    \t\treturn registerationBean;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tAuditorAware&lt;String&gt; auditorProvider() {\r\n    \t\treturn new AuditorAwareImpl();\r\n    \t}\r\n    \r\n    \t@Bean(name = DispatcherServletAutoConfiguration.DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)\r\n    \tpublic DispatcherServlet dispatcherServlet() {\r\n    \t\treturn new LoggableDispatcherServlet();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ModelMapper modelMapper() {\r\n    \t\tModelMapper mm = new ModelMapper();\r\n    \r\n    \t\tmm.getConfiguration().setMatchingStrategy(MatchingStrategies.STANDARD);\r\n    \t\tmm.getConfiguration().setAmbiguityIgnored(true);\r\n    \t\treturn mm;\r\n    \t}\r\n    \r\n    \t@PostConstruct\r\n    \tvoid started() {\r\n    \t\tTimeZone.setDefault(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ObjectWriter objectWriter() {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \t\tmapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n    \t\treturn mapper.writer().withDefaultPrettyPrinter();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic NonContextualLobCreator getNonContextualLobCreator() {\r\n    \t\treturn NonContextualLobCreator.INSTANCE;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic FilterRegistrationBean loggingFilter(AclUserRepository repo) {\r\n    \r\n    \t\tFilterRegistrationBean registrationBean = new FilterRegistrationBean();\r\n    \r\n    \t\tregistrationBean.setFilter(new PersistAuthTokenFilter(repo));\r\n    \t\t// Add repo here;\r\n    \t\tregistrationBean.addUrlPatterns(&quot;/oauth/*&quot;);\r\n    \t\treturn registrationBean;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic CommonsMultipartResolver multipartResolver() {\r\n    \t\tCommonsMultipartResolver multipart = new CommonsMultipartResolver();\r\n    \t\tmultipart.setMaxUploadSize(3 * 1024 * 1024);\r\n    \t\treturn multipart;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Order(0)\r\n    \tpublic MultipartFilter multipartFilter() {\r\n    \t\tMultipartFilter multipartFilter = new MultipartFilter();\r\n    \t\tmultipartFilter.setMultipartResolverBeanName(&quot;multipartReso‌​lver&quot;);\r\n    \t\treturn multipartFilter;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ServletWebServerFactory servletContainer() {\r\n    \t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void postProcessContext(Context context) {\r\n    \t\t\t\tSecurityConstraint securityConstraint = new SecurityConstraint();\r\n    \t\t\t\tsecurityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n    \t\t\t\tSecurityCollection collection = new SecurityCollection();\r\n    \t\t\t\tcollection.addPattern(&quot;/*&quot;);\r\n    \t\t\t\tsecurityConstraint.addCollection(collection);\r\n    \t\t\t\tcontext.addConstraint(securityConstraint);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t// tomcat.addAdditionalTomcatConnectors(redirectConnector());\r\n    \t\treturn tomcat;\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;filterMultipartResolver&quot;)\r\n    \tpublic CommonsMultipartResolver commonsMultipartResolver() {\r\n    \t\tfinal CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\r\n    \t\tcommonsMultipartResolver.setMaxUploadSize(-1);\r\n    \t\treturn commonsMultipartResolver;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic InternalResourceViewResolver resolver() {\r\n    \t    InternalResourceViewResolver vr = new InternalResourceViewResolver();\r\n    \t    vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\r\n    \t    vr.setSuffix(&quot;.jsp&quot;);\r\n    \t    return vr;\r\n    \t}\r\n    \t\r\n    \t@Bean \r\n    \tpublic RequestContextListener requestContextListener(){\r\n    \t    return new RequestContextListener();\r\n    \t} \r\n    \t\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Error creating beans dispatcherServlet &amp; dispatcherRegistration after upgrading to Spring bootVersion 5.3.18","body":"<p>I am getting the following error in the logs while deploying my application on websphere 9.0\nHere is the full stacktrace:</p>\n<p>[4/28/22 1:34:34:811 PKT] 000000fc SystemErr     R Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dispatcherRegistration' defined in class path resource [com/tlx/configurations/WebAppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method 'dispatcherRegistration' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dispatcherServlet' defined in class path resource [com/tlx/configurations/WebAppConfig.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.tlx.configurations.LoggableDispatcherServlet] from ClassLoader [\ncom.ibm.ws.classloader.CompoundClassLoader@f3ffa9d0[war:tlxfs_war/tlxfs.war]</p>\n<p>[4/28/22 1:34:34:811 PKT] 000000fc SystemErr     R Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dispatcherRegistration' defined in class path resource [com/tlx/configurations/WebAppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method 'dispatcherRegistration' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dispatcherServlet' defined in class path resource [com/tlx/configurations/WebAppConfig.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.tlx.configurations.LoggableDispatcherServlet] from ClassLoader [\ncom.ibm.ws.classloader.CompoundClassLoader@f3ffa9d0[war:tlxfs_war/tlxfs.war]</p>\n<p>The two functions causing error are</p>\n<ol>\n<li>public DispatcherServlet dispatcherServlet()</li>\n<li>public ServletRegistrationBean dispatcherRegistration()</li>\n</ol>\n<p>I am able to comment the two functions and deployed successfully, but my question is what is the error with them after upgradation however they were working fine before. The error comes only in deployment, the code runs perfectly fine.</p>\n<p>Here is the complete file:</p>\n<pre><code>package com.tlx.configurations;\n\nimport java.util.TimeZone;\n\nimport javax.annotation.PostConstruct;\nimport javax.servlet.MultipartConfigElement;\n\nimport org.apache.catalina.Context;\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\nimport org.hibernate.engine.jdbc.NonContextualLobCreator;\nimport org.modelmapper.ModelMapper;\nimport org.modelmapper.convention.MatchingStrategies;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration;\nimport org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.data.domain.AuditorAware;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.web.context.ContextLoaderListener;\nimport org.springframework.web.context.request.RequestContextListener;\nimport org.springframework.web.multipart.commons.CommonsMultipartResolver;\nimport org.springframework.web.multipart.support.MultipartFilter;\nimport org.springframework.web.servlet.DispatcherServlet;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.MapperFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport com.tlx.configurations.filters.PersistAuthTokenFilter;\nimport com.tlx.core.repositories.AclUserRepository;\n\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableAutoConfiguration(exclude = { WebMvcAutoConfiguration.class })\n@EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;)\n@EnableSwagger2\n// @EnableCaching\n@EnableAsync\n@EnableWebMvc\npublic class WebAppConfig implements WebMvcConfigurer {\n\n    // public class WebAppConfig extends WebMvcConfigurerAdapter{\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;/static/&quot;);\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n\n    @Bean\n    public ServletRegistrationBean&lt;DispatcherServlet&gt; dispatcherRegistration() {\n        ServletRegistrationBean&lt;DispatcherServlet&gt; registerationBean = new ServletRegistrationBean&lt;DispatcherServlet&gt;(dispatcherServlet());\n        registerationBean.setMultipartConfig(new MultipartConfigElement(&quot;&quot;));\n        return registerationBean;\n    }\n\n    @Bean\n    AuditorAware&lt;String&gt; auditorProvider() {\n        return new AuditorAwareImpl();\n    }\n\n    @Bean(name = DispatcherServletAutoConfiguration.DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)\n    public DispatcherServlet dispatcherServlet() {\n        return new LoggableDispatcherServlet();\n    }\n\n    @Bean\n    public ModelMapper modelMapper() {\n        ModelMapper mm = new ModelMapper();\n\n        mm.getConfiguration().setMatchingStrategy(MatchingStrategies.STANDARD);\n        mm.getConfiguration().setAmbiguityIgnored(true);\n        return mm;\n    }\n\n    @PostConstruct\n    void started() {\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\n    }\n\n    @Bean\n    public ObjectWriter objectWriter() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        return mapper.writer().withDefaultPrettyPrinter();\n    }\n\n    @Bean\n    public NonContextualLobCreator getNonContextualLobCreator() {\n        return NonContextualLobCreator.INSTANCE;\n    }\n\n    @Bean\n    public FilterRegistrationBean loggingFilter(AclUserRepository repo) {\n\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n\n        registrationBean.setFilter(new PersistAuthTokenFilter(repo));\n        // Add repo here;\n        registrationBean.addUrlPatterns(&quot;/oauth/*&quot;);\n        return registrationBean;\n    }\n\n    @Bean\n    public CommonsMultipartResolver multipartResolver() {\n        CommonsMultipartResolver multipart = new CommonsMultipartResolver();\n        multipart.setMaxUploadSize(3 * 1024 * 1024);\n        return multipart;\n    }\n\n    @Bean\n    @Order(0)\n    public MultipartFilter multipartFilter() {\n        MultipartFilter multipartFilter = new MultipartFilter();\n        multipartFilter.setMultipartResolverBeanName(&quot;multipartReso‌​lver&quot;);\n        return multipartFilter;\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n        // tomcat.addAdditionalTomcatConnectors(redirectConnector());\n        return tomcat;\n    }\n\n    @Bean(name = &quot;filterMultipartResolver&quot;)\n    public CommonsMultipartResolver commonsMultipartResolver() {\n        final CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\n        commonsMultipartResolver.setMaxUploadSize(-1);\n        return commonsMultipartResolver;\n    }\n    \n    @Bean\n    public InternalResourceViewResolver resolver() {\n        InternalResourceViewResolver vr = new InternalResourceViewResolver();\n        vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\n        vr.setSuffix(&quot;.jsp&quot;);\n        return vr;\n    }\n    \n    @Bean \n    public RequestContextListener requestContextListener(){\n        return new RequestContextListener();\n    } \n    \n}\n</code></pre>\n"},{"tags":["java","android","android-fragments","onbackpressed"],"comments":[{"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"score":0,"creation_date":1659851944,"post_id":73265052,"comment_id":129390281,"body_markdown":"Share your code.","body":"Share your code."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659850798,"creation_date":1659850798,"answer_id":73265146,"question_id":73265052,"body_markdown":"If you&#39;re using [the *Navigation* Jetpack library][1] (which is a good idea at this point, it&#39;s basically standard) then that&#39;s the default behaviour, stepping back through all the moves you made, effectively undoing them.\r\n\r\nIf you&#39;re doing `FragmentTransaction`s by hand, then [here&#39;s the documentation for that][2]. Note the bit on `addToBackstack()`:\r\n\r\n&gt; Calling `addToBackStack()` commits the transaction to the back stack. **The user can later reverse the transaction** and bring back the previous fragment by pressing the Back button. \r\n\r\n&gt; **If you don&#39;t call `addToBackStack()` when you perform a transaction that removes a fragment**, then the removed fragment is destroyed when the transaction is committed, and **the user cannot navigate back to it**.\r\n\r\nThe Navigation library handles a lot of these details for you, and some other awkward stuff you&#39;d have to watch out for and handle yourself. There&#39;s a bit to learn, but it&#39;s honestly pretty simple once you have the idea. If you&#39;re new to Android it&#39;s definitely worth learning! It&#39;s the modern and recommended way to handle navigation in an Android app (and you&#39;ll run into it a lot as a result)\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation\r\n  [2]: https://developer.android.com/guide/fragments/fragmentmanager#perform","title":"How can i go back to A from fragment B when I click on the toolbar back press?","body":"<p>If you're using <a href=\"https://developer.android.com/guide/navigation\" rel=\"nofollow noreferrer\">the <em>Navigation</em> Jetpack library</a> (which is a good idea at this point, it's basically standard) then that's the default behaviour, stepping back through all the moves you made, effectively undoing them.</p>\n<p>If you're doing <code>FragmentTransaction</code>s by hand, then <a href=\"https://developer.android.com/guide/fragments/fragmentmanager#perform\" rel=\"nofollow noreferrer\">here's the documentation for that</a>. Note the bit on <code>addToBackstack()</code>:</p>\n<blockquote>\n<p>Calling <code>addToBackStack()</code> commits the transaction to the back stack. <strong>The user can later reverse the transaction</strong> and bring back the previous fragment by pressing the Back button.</p>\n</blockquote>\n<blockquote>\n<p><strong>If you don't call <code>addToBackStack()</code> when you perform a transaction that removes a fragment</strong>, then the removed fragment is destroyed when the transaction is committed, and <strong>the user cannot navigate back to it</strong>.</p>\n</blockquote>\n<p>The Navigation library handles a lot of these details for you, and some other awkward stuff you'd have to watch out for and handle yourself. There's a bit to learn, but it's honestly pretty simple once you have the idea. If you're new to Android it's definitely worth learning! It's the modern and recommended way to handle navigation in an Android app (and you'll run into it a lot as a result)</p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659850798,"creation_date":1659849203,"question_id":73265052,"body_markdown":"i am working on an app where I am using 4 fragments like A-&gt;B-&gt;C-&gt;D NOW I want that when back pressed(from the toolbar) from d it should go back to C AND on c back to b and so on. How can I achieve that I am completely new to android. Please guide me.","title":"How can i go back to A from fragment B when I click on the toolbar back press?","body":"<p>i am working on an app where I am using 4 fragments like A-&gt;B-&gt;C-&gt;D NOW I want that when back pressed(from the toolbar) from d it should go back to C AND on c back to b and so on. How can I achieve that I am completely new to android. Please guide me.</p>\n"},{"tags":["java","spring","spring-boot","rest","get"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659847703,"creation_date":1659847703,"answer_id":73264964,"question_id":73264612,"body_markdown":"If you want to show a specific order which has an identifier of some sort, use `@PathVariable`. In the following example, the identifier is a `String`,  but in many case it will rather be long or an Integer. \r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/orders&quot;)\r\npublic class OrdersController {\r\n\r\n   @GetMapping(&quot;/{id}&quot;)\r\n   public Order getOrder(@PathVariable(&quot;id&quot;) String id) {\r\n      // get the order with a specified id from the backend\r\n   }\r\n}\r\n```\r\nThe web request in this case will look like `http:/&lt;host&gt;:&lt;port&gt;/orders/123`\r\n\r\nIf you want to filter the order by some name, like &#39;madeBy John&#39;, use Request parameter:\r\n\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/orders&quot;)\r\npublic class OrdersController {\r\n\r\n   @GetMapping(&quot;/&quot;)\r\n   public List&lt;Order&gt; getOrdersFilteredByName(@RequestParam(&quot;madeBy&quot;) madeBy) {\r\n      // get the order filtered by the person who made the order\r\n      // note, this one returns the list\r\n   }\r\n}\r\n```\r\n\r\nIn this case the web request will look like this: `http:/&lt;host&gt;:&lt;port&gt;/orders?madeBy=John`\r\n\r\nNote that technically you can implement whatever you want at the backend, so you can pass, say, `John` in the first example as a path variable, on server its a String after all, however what I&#39;ve described is a straightforward and kind-of-standard way  of doing these things - so can expect to see this convention in many projects at least.\r\n\r\n","title":"What is the correct way to filter response by query parameter in Spring Boot?","body":"<p>If you want to show a specific order which has an identifier of some sort, use <code>@PathVariable</code>. In the following example, the identifier is a <code>String</code>,  but in many case it will rather be long or an Integer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/orders&quot;)\npublic class OrdersController {\n\n   @GetMapping(&quot;/{id}&quot;)\n   public Order getOrder(@PathVariable(&quot;id&quot;) String id) {\n      // get the order with a specified id from the backend\n   }\n}\n</code></pre>\n<p>The web request in this case will look like <code>http:/&lt;host&gt;:&lt;port&gt;/orders/123</code></p>\n<p>If you want to filter the order by some name, like 'madeBy John', use Request parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/orders&quot;)\npublic class OrdersController {\n\n   @GetMapping(&quot;/&quot;)\n   public List&lt;Order&gt; getOrdersFilteredByName(@RequestParam(&quot;madeBy&quot;) madeBy) {\n      // get the order filtered by the person who made the order\n      // note, this one returns the list\n   }\n}\n</code></pre>\n<p>In this case the web request will look like this: <code>http:/&lt;host&gt;:&lt;port&gt;/orders?madeBy=John</code></p>\n<p>Note that technically you can implement whatever you want at the backend, so you can pass, say, <code>John</code> in the first example as a path variable, on server its a String after all, however what I've described is a straightforward and kind-of-standard way  of doing these things - so can expect to see this convention in many projects at least.</p>\n"},{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659850640,"creation_date":1659850640,"answer_id":73265136,"question_id":73264612,"body_markdown":"    @RestController\r\n    @RequestMapping(&quot;/order&quot;)\r\n    public class OrderController {\r\n    \r\n        // http://&lt;host&gt;:&lt;port&gt;/order/1    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public Order getOrder(@PathVariable Long id) {\r\n            // Return your order\r\n        }\r\n    \r\n        // http://&lt;host&gt;:&lt;port&gt;/order?madeBy=John\r\n        @GetMapping(&quot;/)\r\n        public List&lt;Order&gt; getOrdersMadeBy(@RequestParam(&quot;madeBy&quot;) String madeBy) {\r\n            // Return your order list\r\n        }\r\n    }\r\n\r\n","title":"What is the correct way to filter response by query parameter in Spring Boot?","body":"<pre><code>@RestController\n@RequestMapping(&quot;/order&quot;)\npublic class OrderController {\n\n    // http://&lt;host&gt;:&lt;port&gt;/order/1    \n    @GetMapping(&quot;/{id}&quot;)\n    public Order getOrder(@PathVariable Long id) {\n        // Return your order\n    }\n\n    // http://&lt;host&gt;:&lt;port&gt;/order?madeBy=John\n    @GetMapping(&quot;/)\n    public List&lt;Order&gt; getOrdersMadeBy(@RequestParam(&quot;madeBy&quot;) String madeBy) {\n        // Return your order list\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25883191,"reputation":3,"user_id":19611860,"display_name":"JustCurious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73264964,"answer_count":2,"score":0,"last_activity_date":1659850640,"creation_date":1659841599,"question_id":73264612,"body_markdown":"If I have a Get request that returns orders of clients, how can I filter the response to give me the objects that have a specific value for example that are made by those specific clients in Spring Boot?\r\nI have tried with @PathVariable and @RequestParams but every attempt failed.\r\nThank you in advance.","title":"What is the correct way to filter response by query parameter in Spring Boot?","body":"<p>If I have a Get request that returns orders of clients, how can I filter the response to give me the objects that have a specific value for example that are made by those specific clients in Spring Boot?\nI have tried with @PathVariable and @RequestParams but every attempt failed.\nThank you in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":1,"creation_date":1505997064,"post_id":46343936,"comment_id":79647785,"body_markdown":"And what are you trying to achieve ?","body":"And what are you trying to achieve ?"},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":1,"creation_date":1505997147,"post_id":46343936,"comment_id":79647844,"body_markdown":"Unrelated to your problem; you should work on your variable naming, it feels like i&#39;m reading decompiled code.","body":"Unrelated to your problem; you should work on your variable naming, it feels like i&#39;m reading decompiled code."},{"owner":{"account_id":284591,"reputation":1876,"user_id":582789,"display_name":"Alfonso Nishikawa"},"score":0,"creation_date":1505997689,"post_id":46343936,"comment_id":79648262,"body_markdown":"@Mritunjay: it is picking the subsets of 3 numbers of `fa` that sums 15, and collecting those subsets in `sa`.","body":"@Mritunjay: it is picking the subsets of 3 numbers of <code>fa</code> that sums 15, and collecting those subsets in <code>sa</code>."},{"owner":{"account_id":284591,"reputation":1876,"user_id":582789,"display_name":"Alfonso Nishikawa"},"score":0,"creation_date":1505997883,"post_id":46343936,"comment_id":79648430,"body_markdown":"@ug_ sorry, my comment was for Mritunjay. Will edit :)","body":"@ug_ sorry, my comment was for Mritunjay. Will edit :)"},{"owner":{"account_id":284591,"reputation":1876,"user_id":582789,"display_name":"Alfonso Nishikawa"},"score":0,"creation_date":1506246350,"post_id":46343936,"comment_id":79734923,"body_markdown":"@Aba74, Did it work?","body":"@Aba74, Did it work?"},{"owner":{"account_id":284591,"reputation":1876,"user_id":582789,"display_name":"Alfonso Nishikawa"},"score":0,"creation_date":1527589480,"post_id":46343936,"comment_id":88172989,"body_markdown":"@Aba74, review and accept your most suitable answer. Thanks! :)","body":"@Aba74, review and accept your most suitable answer. Thanks! :)"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1659849074,"post_id":46343936,"comment_id":129390044,"body_markdown":"Clarifying.. the program output isn&#39;t from _compilation_, but rather from _running_ the code in the JVM (using `java`).","body":"Clarifying.. the program output isn&#39;t from <i>compilation</i>, but rather from <i>running</i> the code in the JVM (using <code>java</code>)."}],"answers":[{"tags":[],"owner":{"account_id":284591,"reputation":1876,"user_id":582789,"display_name":"Alfonso Nishikawa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505997806,"creation_date":1505997106,"answer_id":46344013,"question_id":46343936,"body_markdown":"To print you are iterating on `sa`:\r\n\r\n    for(int i=0; i&lt;sa.length; i++){\r\n\r\nAnd at the beginning you stated it has 100 rows (**default values to 0**):\r\n\r\n    int[][] sa = new int[100][3];\r\n\r\nIt shows those 100 rows independently of what you did on your second `for` with `fa`.\r\n\r\nTry with:\r\n\r\n    for(int i=0; i&lt;a; i++){\r\n        for(int j=0; j&lt;3; j++){\r\n            System.out.print(sa[i][j]+&quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }","title":"Irrelevant content in java compilation","body":"<p>To print you are iterating on <code>sa</code>:</p>\n\n<pre><code>for(int i=0; i&lt;sa.length; i++){\n</code></pre>\n\n<p>And at the beginning you stated it has 100 rows (<strong>default values to 0</strong>):</p>\n\n<pre><code>int[][] sa = new int[100][3];\n</code></pre>\n\n<p>It shows those 100 rows independently of what you did on your second <code>for</code> with <code>fa</code>.</p>\n\n<p>Try with:</p>\n\n<pre><code>for(int i=0; i&lt;a; i++){\n    for(int j=0; j&lt;3; j++){\n        System.out.print(sa[i][j]+\" \");\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505998776,"creation_date":1505997303,"answer_id":46344089,"question_id":46343936,"body_markdown":"You are printing the content of the entire `sa` regardless of how many items you have added to it. The first 12 items print correctly, while the remaining items print the initial values of `int[3]` arrays, which happen to be zeros.\r\n\r\nYou can fix this by iterating up to `a` items, like this:\r\n\r\n    for(int i=0; i &lt; a; i++) {\r\n    //              ^^^ \r\n        for(int j=0; j&lt;3; j++){\r\n            System.out.print(sa[i][j]+&quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nAlternatively, you could switch to using lists in place of arrays. Since lists grow dynamically, you would be able to avoid this problem altogether:\r\n\r\n    class Triple {\r\n        private final a, b, c;\r\n        public Triple(int a, int b, int c) {this.a=a; this.b=b; this.c=c;}\r\n        public int getA() { return a; }\r\n        public int getB() { return b; }\r\n        public int getC() { return c; }\r\n    }\r\n    \r\n    List&lt;Triple&gt; sa = new ArrayList&lt;&gt;();\r\n    ...\r\n    if(fa[i]+fa[j]+fa[k]==15){\r\n        sa.add(new Triple(fa[i], fa[j], fa[k]));\r\n    }\r\n    ...\r\n    for (Triple t : sa) {\r\n        ...\r\n    }\r\n\r\n","title":"Irrelevant content in java compilation","body":"<p>You are printing the content of the entire <code>sa</code> regardless of how many items you have added to it. The first 12 items print correctly, while the remaining items print the initial values of <code>int[3]</code> arrays, which happen to be zeros.</p>\n\n<p>You can fix this by iterating up to <code>a</code> items, like this:</p>\n\n<pre><code>for(int i=0; i &lt; a; i++) {\n//              ^^^ \n    for(int j=0; j&lt;3; j++){\n        System.out.print(sa[i][j]+\" \");\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p>Alternatively, you could switch to using lists in place of arrays. Since lists grow dynamically, you would be able to avoid this problem altogether:</p>\n\n<pre><code>class Triple {\n    private final a, b, c;\n    public Triple(int a, int b, int c) {this.a=a; this.b=b; this.c=c;}\n    public int getA() { return a; }\n    public int getB() { return b; }\n    public int getC() { return c; }\n}\n\nList&lt;Triple&gt; sa = new ArrayList&lt;&gt;();\n...\nif(fa[i]+fa[j]+fa[k]==15){\n    sa.add(new Triple(fa[i], fa[j], fa[k]));\n}\n...\nfor (Triple t : sa) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":9678915,"reputation":55,"user_id":7181335,"accept_rate":0,"display_name":"Aba74"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1659849016,"creation_date":1505996887,"question_id":46343936,"body_markdown":"Can someone be so kind to let me know why the heck javac is printing extra lines with zeros when executed the following lines of code? I have intentionally printed the number of possible lines in the first line, which is exactly equal to the number of nonzero lines. Any advice?\r\nCode:\r\n\r\n    int[] fa = new int[15];\r\n\t\tint[][] sa = new int[100][3];\r\n\t\tint a=0, b=0;\r\n\t\t\r\n\t\tfor(int i=0; i&lt;15; i++){\r\n\t\t\tfa[i] = i+1;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tfor(int i=0; i&lt;fa.length; i++){\r\n\t\t\tfor(int j=i+1; j&lt;fa.length; j++){\r\n\t\t\t\tfor(int k=j+1; k&lt;fa.length; k++){\r\n\t\t\t\t\tif(fa[i]+fa[j]+fa[k]==15){\r\n\t\t\t\t\t\tsa[a][0] = fa[i];\r\n\t\t\t\t\t\tsa[a][1] = fa[j];\r\n\t\t\t\t\t\tsa[a][2] = fa[k];\r\n\t\t\t\t\t\ta++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(a);\r\n\t\tfor(int i=0; i&lt;sa.length; i++){\r\n\t\t\tfor(int j=0; j&lt;3; j++){\r\n\t\t\t\tSystem.out.print(sa[i][j]+&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\nThe output:\r\n\r\n&gt;     12\r\n&gt;     1 2 12 \r\n&gt;     1 3 11 \r\n&gt;     1 4 10 \r\n&gt;     1 5 9 \r\n&gt;     1 6 8 \r\n&gt;     2 3 10 \r\n&gt;     2 4 9 \r\n&gt;     2 5 8 \r\n&gt;     2 6 7 \r\n&gt;     3 4 8 \r\n&gt;     3 5 7 \r\n&gt;     4 5 6 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0 \r\n&gt;     0 0 0","title":"Irrelevant content in java compilation","body":"<p>Can someone be so kind to let me know why the heck javac is printing extra lines with zeros when executed the following lines of code? I have intentionally printed the number of possible lines in the first line, which is exactly equal to the number of nonzero lines. Any advice?\nCode:</p>\n\n<pre><code>int[] fa = new int[15];\n    int[][] sa = new int[100][3];\n    int a=0, b=0;\n\n    for(int i=0; i&lt;15; i++){\n        fa[i] = i+1;\n    }\n\n\n    for(int i=0; i&lt;fa.length; i++){\n        for(int j=i+1; j&lt;fa.length; j++){\n            for(int k=j+1; k&lt;fa.length; k++){\n                if(fa[i]+fa[j]+fa[k]==15){\n                    sa[a][0] = fa[i];\n                    sa[a][1] = fa[j];\n                    sa[a][2] = fa[k];\n                    a++;\n                }\n            }\n        }\n    }\n    System.out.println(a);\n    for(int i=0; i&lt;sa.length; i++){\n        for(int j=0; j&lt;3; j++){\n            System.out.print(sa[i][j]+\" \");\n        }\n        System.out.println();\n    }\n</code></pre>\n\n<p>The output:</p>\n\n<blockquote>\n<pre><code>12\n1 2 12 \n1 3 11 \n1 4 10 \n1 5 9 \n1 6 8 \n2 3 10 \n2 4 9 \n2 5 8 \n2 6 7 \n3 4 8 \n3 5 7 \n4 5 6 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0 \n0 0 0\n</code></pre>\n</blockquote>\n"},{"tags":["java","warnings","compiler-warnings","javac"],"comments":[{"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"score":2,"creation_date":1521237147,"post_id":49329980,"comment_id":85662111,"body_markdown":"Your third requirement to not have any  warnings and errors isn&#39;t merely aesthetic. If the compiler is issuing a warning, your assessor will spot that to. Best to do as it suggests and clean up your code.","body":"Your third requirement to not have any  warnings and errors isn&#39;t merely aesthetic. If the compiler is issuing a warning, your assessor will spot that to. Best to do as it suggests and clean up your code."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1521238390,"post_id":49329980,"comment_id":85662532,"body_markdown":"The warning is generated by class `B`, so the `@SuppressWarnings` annotation should be on `B`, not `MyClass`. But, using inner class so there aren&#39;t any warnings is much better than suppressing warnings, so go with [Andy Turner&#39;s answer](https://stackoverflow.com/a/49330045/5221149).","body":"The warning is generated by class <code>B</code>, so the <code>@SuppressWarnings</code> annotation should be on <code>B</code>, not <code>MyClass</code>. But, using inner class so there aren&#39;t any warnings is much better than suppressing warnings, so go with <a href=\"https://stackoverflow.com/a/49330045/5221149\">Andy Turner&#39;s answer</a>."},{"owner":{"account_id":10074324,"reputation":89,"user_id":7446961,"accept_rate":67,"display_name":"Roofy"},"score":0,"creation_date":1521330056,"post_id":49329980,"comment_id":85686272,"body_markdown":"@John the program will be compilated automatically and after that the console output is parsed. If parser will find any warning in output message, the project scores 0 points and it is not provided to my teacher :/ @Andy`s solution works perfect without any warnings in console :)","body":"@John the program will be compilated automatically and after that the console output is parsed. If parser will find any warning in output message, the project scores 0 points and it is not provided to my teacher :/ @Andy`s solution works perfect without any warnings in console :)"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521237328,"creation_date":1521237328,"answer_id":49330045,"question_id":49329980,"body_markdown":"Put `MyClass` inside `A`:\r\n\r\n    public class A {\r\n     // some logic\r\n\r\n      static final class MyClass implements Comparable&lt;MyClass&gt; {\r\n          //some logic    \r\n      }\r\n    }\r\n    \r\nand refer to it as `A.MyClass` from the other file.\r\n\r\nOr import it (assuming `A` isn&#39;t in the default package), and refer to it as `MyClass`.\r\n\r\nOr defining it in its own file would be the obvious option; but you say you can&#39;t do that.","title":"turn off javac warnings","body":"<p>Put <code>MyClass</code> inside <code>A</code>:</p>\n\n<pre><code>public class A {\n // some logic\n\n  static final class MyClass implements Comparable&lt;MyClass&gt; {\n      //some logic    \n  }\n}\n</code></pre>\n\n<p>and refer to it as <code>A.MyClass</code> from the other file.</p>\n\n<p>Or import it (assuming <code>A</code> isn't in the default package), and refer to it as <code>MyClass</code>.</p>\n\n<p>Or defining it in its own file would be the obvious option; but you say you can't do that.</p>\n"}],"owner":{"account_id":10074324,"reputation":89,"user_id":7446961,"accept_rate":67,"display_name":"Roofy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49330045,"answer_count":1,"score":1,"last_activity_date":1659848692,"creation_date":1521236869,"question_id":49329980,"body_markdown":"I have a problem:\r\nI have to create a project for my studies. In the requirements I have a information that the whole project should be created in two files A.java and B.java.\r\n\r\nThe problem of project is complicated so I have created some helpfull class called e.x. MyClass. I put this class inside A.java - I cannot use another file.\r\n\r\nRight now my A.java looks like that:\r\n\r\n    \r\n    public class A {\r\n     // some logic\r\n    }\r\n    \r\n    final class MyClass implements Comparable&lt;MyClass&gt; {\r\n        //some logic    \r\n    }\r\n\r\nIn the B.java I am using objects of MyClass and everything is working correctly.\r\n\r\nThe problem is with the second requirement of project.\r\nThe automatic compilation - after I will send my project to my university - starts the proccess like that: \r\n```\r\njavac –Xlint B.java A.java\r\n```\r\nCompilation is successfull but I have some warnings:\r\n\r\n    B.java:17: warning: auxiliary class MyClass in A.java should not be accessed from outside its own source file\r\n        private MyClass variable;\r\n\r\nThe third requirement says that if you have any warnings or errors, your project will not be assessed. So I will fail my project if the warnings appears.\r\n\r\nI know this is very stupid to store two classes in one file but this is unversity - here everything is stupid...\r\n\r\nSo - is there any solution to turn off warnings during compilation with javac?\r\nI tried this: \r\n\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    final class MyClass implements Comparable&lt;MyClass&gt; {\r\n\r\nbut it doesn`t work - I still get the warnings...\r\n\r\nAny ideas? :)","title":"turn off javac warnings","body":"<p>I have a problem:\nI have to create a project for my studies. In the requirements I have a information that the whole project should be created in two files A.java and B.java.</p>\n<p>The problem of project is complicated so I have created some helpfull class called e.x. MyClass. I put this class inside A.java - I cannot use another file.</p>\n<p>Right now my A.java looks like that:</p>\n<pre><code>public class A {\n // some logic\n}\n\nfinal class MyClass implements Comparable&lt;MyClass&gt; {\n    //some logic    \n}\n</code></pre>\n<p>In the B.java I am using objects of MyClass and everything is working correctly.</p>\n<p>The problem is with the second requirement of project.\nThe automatic compilation - after I will send my project to my university - starts the proccess like that:</p>\n<pre><code>javac –Xlint B.java A.java\n</code></pre>\n<p>Compilation is successfull but I have some warnings:</p>\n<pre><code>B.java:17: warning: auxiliary class MyClass in A.java should not be accessed from outside its own source file\n    private MyClass variable;\n</code></pre>\n<p>The third requirement says that if you have any warnings or errors, your project will not be assessed. So I will fail my project if the warnings appears.</p>\n<p>I know this is very stupid to store two classes in one file but this is unversity - here everything is stupid...</p>\n<p>So - is there any solution to turn off warnings during compilation with javac?\nI tried this:</p>\n<pre><code>@SuppressWarnings(&quot;all&quot;)\nfinal class MyClass implements Comparable&lt;MyClass&gt; {\n</code></pre>\n<p>but it doesn`t work - I still get the warnings...</p>\n<p>Any ideas? :)</p>\n"},{"tags":["java","selenium","automation","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":476909,"reputation":1599,"user_id":888070,"accept_rate":67,"display_name":"Shamik"},"score":0,"creation_date":1419535345,"post_id":20605026,"comment_id":43717322,"body_markdown":"Take a look at this - https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html","body":"Take a look at this - <a href=\"https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html\" rel=\"nofollow noreferrer\">selenium.googlecode.com/git/docs/api/java/org/openqa/seleniu&zwnj;&#8203;m/&hellip;</a>"},{"owner":{"account_id":2381670,"reputation":891,"user_id":2083562,"display_name":"Narendra Chandratre"},"score":2,"creation_date":1468586322,"post_id":20605026,"comment_id":64200970,"body_markdown":"Possible duplicate of [How I can check whether a page is loaded completely or not in web driver?](http://stackoverflow.com/questions/11001030/how-i-can-check-whether-a-page-is-loaded-completely-or-not-in-web-driver)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11001030/how-i-can-check-whether-a-page-is-loaded-completely-or-not-in-web-driver\">How I can check whether a page is loaded completely or not in web driver?</a>"}],"answers":[{"tags":[],"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387177051,"creation_date":1387177051,"answer_id":20605093,"question_id":20605026,"body_markdown":"You should use `WebDriverWait` and set the timeout to the maximum time you can wait. As soon as you discover that the page loaded the required data (e.g. by checking for visibility of a certain element), you may proceed with the test case.\r\n\r\nSee an example in the [selenium docs][1].\r\n\r\n\r\n  [1]: http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp","title":"Waiting of selenium webdriver until loading completed","body":"<p>You should use <code>WebDriverWait</code> and set the timeout to the maximum time you can wait. As soon as you discover that the page loaded the required data (e.g. by checking for visibility of a certain element), you may proceed with the test case.</p>\n\n<p>See an example in the <a href=\"http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp\" rel=\"nofollow\">selenium docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":3728376,"reputation":673,"user_id":3101579,"display_name":"pavanraju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387177927,"creation_date":1387177927,"answer_id":20605280,"question_id":20605026,"body_markdown":"try the below code for handling page load/page refresh time outs\r\n\r\n    WebDriver driver = new FireFoxDriver();\r\n    driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\r\n\r\nplease use latest version of chrome driver, as the page wait is not handled in older version of chrome driver.","title":"Waiting of selenium webdriver until loading completed","body":"<p>try the below code for handling page load/page refresh time outs</p>\n\n<pre><code>WebDriver driver = new FireFoxDriver();\ndriver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\n</code></pre>\n\n<p>please use latest version of chrome driver, as the page wait is not handled in older version of chrome driver.</p>\n"},{"tags":[],"owner":{"account_id":3605400,"reputation":76,"user_id":3007675,"display_name":"user3007675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387185376,"creation_date":1387185376,"answer_id":20607112,"question_id":20605026,"body_markdown":"Waiting for an indefinite time is not a good idea. Timing of a website is also a part of testing. If possible find out the Service Level Agreement of the &quot;page&quot; you are testing. If not run a speed test for the website(here is a method to test : http://tools.pingdom.com/fpt/ )  and use an average of time you get. If this also doesn&#39;t work the last option is to work with industry wide standards. ","title":"Waiting of selenium webdriver until loading completed","body":"<p>Waiting for an indefinite time is not a good idea. Timing of a website is also a part of testing. If possible find out the Service Level Agreement of the \"page\" you are testing. If not run a speed test for the website(here is a method to test : <a href=\"http://tools.pingdom.com/fpt/\" rel=\"nofollow\">http://tools.pingdom.com/fpt/</a> )  and use an average of time you get. If this also doesn't work the last option is to work with industry wide standards. </p>\n"},{"tags":[],"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387197501,"creation_date":1387197501,"answer_id":20611158,"question_id":20605026,"body_markdown":"document.readyState() does not reflect the correct page load time(example- it does not wait for images/scripts to load fully). It is suggested and tested option to wait for an element on the page(preferrably the one you will operate upon in your next step of test). As others have suggested use WebDriverWait with expected conditions methods like &quot;visibilityOf&quot;, &quot;presenceOfElement&quot; or many [more][1] and it should be fine.\r\n\r\n\r\n  [1]: http://selenium.googlecode.com/git/docs/api/java/index.html","title":"Waiting of selenium webdriver until loading completed","body":"<p>document.readyState() does not reflect the correct page load time(example- it does not wait for images/scripts to load fully). It is suggested and tested option to wait for an element on the page(preferrably the one you will operate upon in your next step of test). As others have suggested use WebDriverWait with expected conditions methods like \"visibilityOf\", \"presenceOfElement\" or many <a href=\"http://selenium.googlecode.com/git/docs/api/java/index.html\" rel=\"nofollow\">more</a> and it should be fine.</p>\n"},{"tags":[],"owner":{"account_id":2072605,"reputation":7,"user_id":1846708,"display_name":"user1846708"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419515828,"creation_date":1398170480,"answer_id":23219899,"question_id":20605026,"body_markdown":"    driver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);","title":"Waiting of selenium webdriver until loading completed","body":"<pre><code>driver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9924728,"reputation":61,"user_id":7346746,"display_name":"MTK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659847666,"creation_date":1659425516,"answer_id":73203604,"question_id":20605026,"body_markdown":"**For java 8 onwards**:\r\n\r\n \r\n\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        new WebDriverWait(driver, 10).until(webDriver -&gt;(js).executeScript(&quot;return document.readyState;&quot;).equals(&quot;complete&quot;));\r\n\r\nFor java below 8 you can try the below solution from the below link. I am using it and it&#39;s working for me.\r\n\r\n[https://stackoverflow.com/questions/5868439/wait-for-page-load-in-selenium/66434979#66434979][1]\r\n\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5868439/wait-for-page-load-in-selenium/66434979#66434979","title":"Waiting of selenium webdriver until loading completed","body":"<p><strong>For java 8 onwards</strong>:</p>\n<pre><code>    JavascriptExecutor js = (JavascriptExecutor) driver;\n    new WebDriverWait(driver, 10).until(webDriver -&gt;(js).executeScript(&quot;return document.readyState;&quot;).equals(&quot;complete&quot;));\n</code></pre>\n<p>For java below 8 you can try the below solution from the below link. I am using it and it's working for me.</p>\n<p><a href=\"https://stackoverflow.com/questions/5868439/wait-for-page-load-in-selenium/66434979#66434979\">Wait for page load in Selenium</a></p>\n"}],"owner":{"account_id":2255747,"reputation":67,"user_id":1986969,"accept_rate":60,"display_name":"imtiyaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1659847666,"creation_date":1387176650,"question_id":20605026,"body_markdown":"I am using selenium webdriver along with TestNG in eclipse.The problem is the page relaods in the midway for some data and the time of this reload is flexible thats why I am not able apply explicit wait time.I want to make webdriver wait until this reload completes. \r\n\r\n I am trying to do this through this code...but it is not working\r\n\r\n    public void waitForPageLoadingToComplete() throws Exception {\r\n    \t    ExpectedCondition&lt;Boolean&gt; expectation = new ExpectedCondition&lt;Boolean&gt;() {\r\n    \t        public Boolean apply(WebDriver driver) {\r\n    \t            return ((JavascriptExecutor) driver).executeScript(\r\n    \t                    &quot;return      document.readyState&quot;).equals(&quot;complete&quot;);\r\n    \t        }\r\n    \t    };\r\n    \t    Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, 30);\r\n    \t    wait.until(expectation);\r\n    \t}\r\n\r\n","title":"Waiting of selenium webdriver until loading completed","body":"<p>I am using selenium webdriver along with TestNG in eclipse.The problem is the page relaods in the midway for some data and the time of this reload is flexible thats why I am not able apply explicit wait time.I want to make webdriver wait until this reload completes. </p>\n\n<p>I am trying to do this through this code...but it is not working</p>\n\n<pre><code>public void waitForPageLoadingToComplete() throws Exception {\n        ExpectedCondition&lt;Boolean&gt; expectation = new ExpectedCondition&lt;Boolean&gt;() {\n            public Boolean apply(WebDriver driver) {\n                return ((JavascriptExecutor) driver).executeScript(\n                        \"return      document.readyState\").equals(\"complete\");\n            }\n        };\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, 30);\n        wait.until(expectation);\n    }\n</code></pre>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1659393405,"post_id":73200231,"comment_id":129279696,"body_markdown":"&quot;best&quot; is opinionated, please show what you have tried and what problems you have gotten.","body":"&quot;best&quot; is opinionated, please show what you have tried and what problems you have gotten."}],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659429835,"creation_date":1659422580,"answer_id":73203029,"question_id":73200231,"body_markdown":"Yes, you can use a **shift** transformation spec along with matching the key name **`true`** with **`$1`** wildcard coming from the inner object to provide the conditional logic such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;true&quot;: {\r\n            &quot;$1&quot;: &quot;values&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe demo on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eMieQ.jpg\r\n\r\nIf the style(*converting the componenets of the array to uppercase and adding an underscore*) matters, then use a prolonged version of the spec like\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;true&quot;: {\r\n            &quot;$1&quot;: &quot;val&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=toUpper(@(1,&amp;))&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=split(&#39;MY&#39;, @(1,&amp;))&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;1&quot;: &quot;&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;#MY_&quot;: &quot;&amp;1&quot;,\r\n          &quot;@&quot;: &quot;&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=join(&#39;&#39;, @(1,&amp;))&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;values[]&quot;\r\n    }\r\n  }\r\n]\r\n``` ","title":"Java Jolt copy properties with condition","body":"<p>Yes, you can use a <strong>shift</strong> transformation spec along with matching the key name <strong><code>true</code></strong> with <strong><code>$1</code></strong> wildcard coming from the inner object to provide the conditional logic such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;true&quot;: {\n            &quot;$1&quot;: &quot;values&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the demo on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/eMieQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eMieQ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If the style(<em>converting the componenets of the array to uppercase and adding an underscore</em>) matters, then use a prolonged version of the spec like</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;true&quot;: {\n            &quot;$1&quot;: &quot;val&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=toUpper(@(1,&amp;))&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=split('MY', @(1,&amp;))&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;1&quot;: &quot;&amp;&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;#MY_&quot;: &quot;&amp;1&quot;,\n          &quot;@&quot;: &quot;&amp;&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=join('', @(1,&amp;))&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;values[]&quot;\n    }\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659847233,"creation_date":1659847233,"answer_id":73264934,"question_id":73200231,"body_markdown":"You may consider this library &quot;Josson &amp; Jossons&quot;.\r\n\r\nhttps://github.com/octomix/josson  \r\n\r\n    implementation &#39;com.octomix.josson:josson:1.3.22&#39;\r\n    \r\n    ---------------------------------------------\r\n    \r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{\\n&quot; +\r\n        &quot;  \\&quot;data\\&quot;: {\\n&quot; +\r\n        &quot;    \\&quot;myProp\\&quot;: true,\\n&quot; +\r\n        &quot;    \\&quot;myAnother\\&quot;: true,\\n&quot; +\r\n        &quot;    \\&quot;myAnotherOne\\&quot;: false\\n&quot; +\r\n        &quot;  }\\n&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(values: data.entries().[value]*.key.upperSnakeCase())&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput:\r\n\r\n    {\r\n      &quot;values&quot; : [ &quot;MY_PROP&quot;, &quot;MY_ANOTHER&quot; ]\r\n    }","title":"Java Jolt copy properties with condition","body":"<p>You may consider this library &quot;Josson &amp; Jossons&quot;.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>implementation 'com.octomix.josson:josson:1.3.22'\n\n---------------------------------------------\n\nJosson josson = Josson.fromJsonString(\n    &quot;{\\n&quot; +\n    &quot;  \\&quot;data\\&quot;: {\\n&quot; +\n    &quot;    \\&quot;myProp\\&quot;: true,\\n&quot; +\n    &quot;    \\&quot;myAnother\\&quot;: true,\\n&quot; +\n    &quot;    \\&quot;myAnotherOne\\&quot;: false\\n&quot; +\n    &quot;  }\\n&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(\n    &quot;map(values: data.entries().[value]*.key.upperSnakeCase())&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output:</p>\n<pre><code>{\n  &quot;values&quot; : [ &quot;MY_PROP&quot;, &quot;MY_ANOTHER&quot; ]\n}\n</code></pre>\n"}],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":73203029,"answer_count":2,"score":1,"last_activity_date":1659847233,"creation_date":1659393264,"question_id":73200231,"body_markdown":"I would like to transform flat data to array with conditional value of properties:\r\n\r\nMy input:\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;myProp&quot;: true,\r\n    &quot;myAnother&quot;: true,\r\n    &quot;myAnotherOne&quot;: false\r\n  }\r\n}\r\n```\r\nMy desired output:\r\n```json\r\n{\r\n  &quot;values&quot;: [&quot;MY_PROP&quot;, &quot;MY_ANOTHER&quot;]\r\n}\r\n```\r\nI think to use *shift* operation in order to normalize the name camelCase to ENUM standard.\r\nI need to put in array only properties that are *true* in their value.\r\n\r\nI tried many different options with no success.\r\n\r\nWhat is the best way to do that?","title":"Java Jolt copy properties with condition","body":"<p>I would like to transform flat data to array with conditional value of properties:</p>\n<p>My input:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;myProp&quot;: true,\n    &quot;myAnother&quot;: true,\n    &quot;myAnotherOne&quot;: false\n  }\n}\n</code></pre>\n<p>My desired output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;values&quot;: [&quot;MY_PROP&quot;, &quot;MY_ANOTHER&quot;]\n}\n</code></pre>\n<p>I think to use <em>shift</em> operation in order to normalize the name camelCase to ENUM standard.\nI need to put in array only properties that are <em>true</em> in their value.</p>\n<p>I tried many different options with no success.</p>\n<p>What is the best way to do that?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1659845138,"post_id":73264738,"comment_id":129389647,"body_markdown":"It would surprise me if there were any difference at all in performance, between the two lines of code that you&#39;ve written.  But you tell me - which one is easier to read?","body":"It would surprise me if there were any difference at all in performance, between the two lines of code that you&#39;ve written.  But you tell me - which one is easier to read?"}],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659845280,"creation_date":1659845280,"answer_id":73264815,"question_id":73264738,"body_markdown":"So, the first thing to note is that `map` and `collect` do *not* do the same thing. This is actually clear from your example; both of your expressions have to call `collect`, because if they didn&#39;t then you wouldn&#39;t end up with a `List`.\r\n\r\nInstead, what you&#39;ve found is that if a call to `map` is followed by something else, then you can often eliminate `map` in favor of incorporating the mapper&#39;s logic into that something else. That something else doesn&#39;t have to be a call to `collect`; it can even be another call to `map`. For example, these two expressions are equivalent:\r\n\r\n- `stream.map(Object::toString).map(String::toLowerCase)`\r\n- `stream.map(obj -&gt; obj.toString().toLowerCase())`\r\n\r\nwhere the former uses two separate mappers in sequence, while the latter combines them into a single expression.\r\n\r\nThe important difference is not in performance, but in readability/clarity/maintainability &amp;mdash; and those are a human judgment that depends on context. There are no hard-and-fast rules.\r\n\r\nIn your example, I think that `.map(Car::brand).collect(Collectors.toList())` is infinitely clearer than `.collect(ArrayList::new, (lists, car) -&gt; lists.add(car.brand()), ArrayList::addAll)`; but if you think that the latter is clearer, then I can&#39;t really point to any objective facts that prove otherwise. (I suppose you could survey the uses of `collect` on (say) GitHub to show that calls to `collect(Collectors.toList())` are far more common than calls to the three-parameter overload of `collect`; but that wouldn&#39;t really *prove* that the former is more readable, or more readable in your case.)\r\n\r\nMore broadly, I think the stream syntax works best when each step in the chain of method calls is very simple, and preferably written on a separate line. `.map(Car::brand)` and `.collect(Collectors.toList())` are both very simple and clear (if you&#39;re used to streams), whereas `.collect(ArrayList::new, (lists, car) -&gt; lists.add(car.brand()), ArrayList::addAll)` is a large irreducible chunk that you have to think about for a while.\r\n\r\nAnd when it&#39;s not possible to break up the expression into a chain of simple calls like this, I think you&#39;re actually better off going back to simple imperative code (for-loops and so on) rather than using complicated stream calls. But again, if you disagree, I can&#39;t objectively prove that this is clearer. It just *is*!","title":"What is the difference between collect and map in the Stream API?","body":"<p>So, the first thing to note is that <code>map</code> and <code>collect</code> do <em>not</em> do the same thing. This is actually clear from your example; both of your expressions have to call <code>collect</code>, because if they didn't then you wouldn't end up with a <code>List</code>.</p>\n<p>Instead, what you've found is that if a call to <code>map</code> is followed by something else, then you can often eliminate <code>map</code> in favor of incorporating the mapper's logic into that something else. That something else doesn't have to be a call to <code>collect</code>; it can even be another call to <code>map</code>. For example, these two expressions are equivalent:</p>\n<ul>\n<li><code>stream.map(Object::toString).map(String::toLowerCase)</code></li>\n<li><code>stream.map(obj -&gt; obj.toString().toLowerCase())</code></li>\n</ul>\n<p>where the former uses two separate mappers in sequence, while the latter combines them into a single expression.</p>\n<p>The important difference is not in performance, but in readability/clarity/maintainability — and those are a human judgment that depends on context. There are no hard-and-fast rules.</p>\n<p>In your example, I think that <code>.map(Car::brand).collect(Collectors.toList())</code> is infinitely clearer than <code>.collect(ArrayList::new, (lists, car) -&gt; lists.add(car.brand()), ArrayList::addAll)</code>; but if you think that the latter is clearer, then I can't really point to any objective facts that prove otherwise. (I suppose you could survey the uses of <code>collect</code> on (say) GitHub to show that calls to <code>collect(Collectors.toList())</code> are far more common than calls to the three-parameter overload of <code>collect</code>; but that wouldn't really <em>prove</em> that the former is more readable, or more readable in your case.)</p>\n<p>More broadly, I think the stream syntax works best when each step in the chain of method calls is very simple, and preferably written on a separate line. <code>.map(Car::brand)</code> and <code>.collect(Collectors.toList())</code> are both very simple and clear (if you're used to streams), whereas <code>.collect(ArrayList::new, (lists, car) -&gt; lists.add(car.brand()), ArrayList::addAll)</code> is a large irreducible chunk that you have to think about for a while.</p>\n<p>And when it's not possible to break up the expression into a chain of simple calls like this, I think you're actually better off going back to simple imperative code (for-loops and so on) rather than using complicated stream calls. But again, if you disagree, I can't objectively prove that this is clearer. It just <em>is</em>!</p>\n"}],"owner":{"account_id":22356258,"reputation":53,"user_id":16573502,"display_name":"AK105"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73264815,"answer_count":1,"score":-1,"last_activity_date":1659845280,"creation_date":1659843925,"question_id":73264738,"body_markdown":"I was writing some code and I noticed that both map and collect do the exact same thing so I am wondering when to use what and which is more efficient.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Car&gt; list = Arrays.asList(\r\n                new Car(&quot;Honda&quot;, &quot;Civic&quot;, 2023),\r\n                new Car(&quot;Toyota&quot;, &quot;Camry&quot;, 2023),\r\n                new Car(&quot;BMW&quot;, &quot;M4&quot;, 2021));\r\n        List&lt;String&gt; nameList = list.stream().map(Car::brand).collect(Collectors.toList());\r\n        List&lt;String&gt; nameListCollect = list.stream().collect(ArrayList::new, (lists, car) -&gt; lists.add(car.brand()), ArrayList::addAll);\r\n    }\r\n}\r\n\r\nrecord Car(String brand, String model, Integer year) {}\r\n```\r\n","title":"What is the difference between collect and map in the Stream API?","body":"<p>I was writing some code and I noticed that both map and collect do the exact same thing so I am wondering when to use what and which is more efficient.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Car&gt; list = Arrays.asList(\n                new Car(&quot;Honda&quot;, &quot;Civic&quot;, 2023),\n                new Car(&quot;Toyota&quot;, &quot;Camry&quot;, 2023),\n                new Car(&quot;BMW&quot;, &quot;M4&quot;, 2021));\n        List&lt;String&gt; nameList = list.stream().map(Car::brand).collect(Collectors.toList());\n        List&lt;String&gt; nameListCollect = list.stream().collect(ArrayList::new, (lists, car) -&gt; lists.add(car.brand()), ArrayList::addAll);\n    }\n}\n\nrecord Car(String brand, String model, Integer year) {}\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659848251,"post_id":73264691,"comment_id":129389957,"body_markdown":"The only error I can see is that you have spelled &quot;permutation&quot; incorrectly.  But that isn&#39;t a programming error.","body":"The only error I can see is that you have spelled &quot;permutation&quot; incorrectly.  But that isn&#39;t a programming error."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":2,"creation_date":1659853163,"post_id":73264691,"comment_id":129390435,"body_markdown":"There are a few possibilities.  1) your file name is different from the class name Main.  2) you might have another Java file in your project that contains syntax errors.  2) the ide probably compiles a different project that has syntax errors.  I think it&#39;s most likely 1.","body":"There are a few possibilities.  1) your file name is different from the class name Main.  2) you might have another Java file in your project that contains syntax errors.  2) the ide probably compiles a different project that has syntax errors.  I think it&#39;s most likely 1."},{"owner":{"account_id":15551060,"reputation":648,"user_id":11218701,"display_name":"Philip"},"score":0,"creation_date":1692061807,"post_id":73264691,"comment_id":135571618,"body_markdown":"@ChengThao Thanks! It was because of 1). Maybe post your comment as an answer?","body":"@ChengThao Thanks! It was because of 1). Maybe post your comment as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":25455169,"reputation":173,"user_id":19255938,"display_name":"Shashank Deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659843723,"creation_date":1659843723,"answer_id":73264727,"question_id":73264691,"body_markdown":"I was able to run your code on online compiler(you can check [here][1]), thus the problem is not in your code, but maybe in your ide. In Eclipse you can \r\n&gt; Project -&gt; clean\r\n\r\nIt will force clean your project and recompile the code.\r\n\r\n  [1]: https://ide.geeksforgeeks.org/3130a7c8-d3b5-483e-8a00-a6727a7e9f59","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: In Java","body":"<p>I was able to run your code on online compiler(you can check <a href=\"https://ide.geeksforgeeks.org/3130a7c8-d3b5-483e-8a00-a6727a7e9f59\" rel=\"nofollow noreferrer\">here</a>), thus the problem is not in your code, but maybe in your ide. In Eclipse you can</p>\n<blockquote>\n<p>Project -&gt; clean</p>\n</blockquote>\n<p>It will force clean your project and recompile the code.</p>\n"}],"owner":{"account_id":22275575,"reputation":11,"user_id":16504823,"display_name":"Shubh Tandon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659843723,"creation_date":1659842955,"question_id":73264691,"body_markdown":"I am a beginner in java and was learning recursion and I got the error &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: &quot;.\r\nI thought I was doing something wrong so I copied the solution to test it n still got the same error .\r\n The following code is the solution, I can&#39;t figure out why I am getting this error\r\n\r\n```\r\npublic class Main {\r\n    public static void permitutation(String str, String per) {\r\n        if (str.length() == 0) {\r\n            System.out.println(per);\r\n            return;\r\n        }\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            char current = str.charAt(i);\r\n            String newstr = str.substring(0, i) + str.substring(i+1);\r\n            permitutation(newstr, per + current);\r\n        }\r\n    }\r\n    public static void main(String args[]) {\r\n        permitutation(&quot;abc&quot;, &quot;&quot;);\r\n    }\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: In Java","body":"<p>I am a beginner in java and was learning recursion and I got the error &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: &quot;.\nI thought I was doing something wrong so I copied the solution to test it n still got the same error .\nThe following code is the solution, I can't figure out why I am getting this error</p>\n<pre><code>public class Main {\n    public static void permitutation(String str, String per) {\n        if (str.length() == 0) {\n            System.out.println(per);\n            return;\n        }\n        for (int i = 0; i &lt; str.length(); i++) {\n            char current = str.charAt(i);\n            String newstr = str.substring(0, i) + str.substring(i+1);\n            permitutation(newstr, per + current);\n        }\n    }\n    public static void main(String args[]) {\n        permitutation(&quot;abc&quot;, &quot;&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"score":1,"creation_date":1659832928,"post_id":73264061,"comment_id":129388601,"body_markdown":"You need to know the algorithm for encryption and the key. Then you can use Java API do do the encryption (https://jenkov.com/tutorials/java-cryptography/index.html)","body":"You need to know the algorithm for encryption and the key. Then you can use Java API do do the encryption (<a href=\"https://jenkov.com/tutorials/java-cryptography/index.html\" rel=\"nofollow noreferrer\">jenkov.com/tutorials/java-cryptography/index.html</a>)"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659843325,"creation_date":1659843325,"answer_id":73264708,"question_id":73264061,"body_markdown":"There are many factors to be considered but to get started you can use below logic to encrypt. Credits https://www.javaguides.net/2020/02/java-string-encryption-decryption-example.html?m=1\r\n\r\nHere is the complete Java program to encrypt and decrypt string or text in Java:\r\n\r\n        import java.nio.charset.StandardCharsets;\r\n        import java.security.MessageDigest;\r\n        import java.security.NoSuchAlgorithmException;\r\n        import java.util.Arrays;\r\n        import java.util.Base64;\r\n        import javax.crypto.Cipher;\r\n        import javax.crypto.spec.SecretKeySpec;\r\n        \r\n        public class AESEncryptionDecryption {\r\n            private static SecretKeySpec secretKey;\r\n            private static byte[] key;\r\n            private static final String ALGORITHM = &quot;AES&quot;;\r\n        \r\n            public void prepareSecreteKey(String myKey) {\r\n                MessageDigest sha = null;\r\n                try {\r\n                    key = myKey.getBytes(StandardCharsets.UTF_8);\r\n                    sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n                    key = sha.digest(key);\r\n                    key = Arrays.copyOf(key, 16);\r\n                    secretKey = new SecretKeySpec(key, ALGORITHM);\r\n                } catch (NoSuchAlgorithmException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        public String encrypt(String strToEncrypt, String secret) {\r\n            try {\r\n                prepareSecreteKey(secret);\r\n                Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n                cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n                return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error while encrypting: &quot; + e.toString());\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public String decrypt(String strToDecrypt, String secret) {\r\n            try {\r\n                prepareSecreteKey(secret);\r\n                Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n                cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n                return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            final String secretKey = &quot;secrete&quot;;\r\n    \r\n            String originalString = &quot;javaguides&quot;;\r\n    \r\n            AESEncryptionDecryption aesEncryptionDecryption = new AESEncryptionDecryption();\r\n            String encryptedString = aesEncryptionDecryption.encrypt(originalString, secretKey);\r\n            String decryptedString = aesEncryptionDecryption.decrypt(encryptedString, secretKey);\r\n    \r\n            System.out.println(originalString);\r\n            System.out.println(encryptedString);\r\n            System.out.println(decryptedString);\r\n        }\r\n    }\r\n\r\n","title":"Encrypt a field to send to another API","body":"<p>There are many factors to be considered but to get started you can use below logic to encrypt. Credits <a href=\"https://www.javaguides.net/2020/02/java-string-encryption-decryption-example.html?m=1\" rel=\"nofollow noreferrer\">https://www.javaguides.net/2020/02/java-string-encryption-decryption-example.html?m=1</a></p>\n<p>Here is the complete Java program to encrypt and decrypt string or text in Java:</p>\n<pre><code>    import java.nio.charset.StandardCharsets;\n    import java.security.MessageDigest;\n    import java.security.NoSuchAlgorithmException;\n    import java.util.Arrays;\n    import java.util.Base64;\n    import javax.crypto.Cipher;\n    import javax.crypto.spec.SecretKeySpec;\n    \n    public class AESEncryptionDecryption {\n        private static SecretKeySpec secretKey;\n        private static byte[] key;\n        private static final String ALGORITHM = &quot;AES&quot;;\n    \n        public void prepareSecreteKey(String myKey) {\n            MessageDigest sha = null;\n            try {\n                key = myKey.getBytes(StandardCharsets.UTF_8);\n                sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n                key = sha.digest(key);\n                key = Arrays.copyOf(key, 16);\n                secretKey = new SecretKeySpec(key, ALGORITHM);\n            } catch (NoSuchAlgorithmException e) {\n                e.printStackTrace();\n            }\n        }\n    public String encrypt(String strToEncrypt, String secret) {\n        try {\n            prepareSecreteKey(secret);\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\n        } catch (Exception e) {\n            System.out.println(&quot;Error while encrypting: &quot; + e.toString());\n        }\n        return null;\n    }\n\n    public String decrypt(String strToDecrypt, String secret) {\n        try {\n            prepareSecreteKey(secret);\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\n            cipher.init(Cipher.DECRYPT_MODE, secretKey);\n            return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\n        } catch (Exception e) {\n            System.out.println(&quot;Error while decrypting: &quot; + e.toString());\n        }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        final String secretKey = &quot;secrete&quot;;\n\n        String originalString = &quot;javaguides&quot;;\n\n        AESEncryptionDecryption aesEncryptionDecryption = new AESEncryptionDecryption();\n        String encryptedString = aesEncryptionDecryption.encrypt(originalString, secretKey);\n        String decryptedString = aesEncryptionDecryption.decrypt(encryptedString, secretKey);\n\n        System.out.println(originalString);\n        System.out.println(encryptedString);\n        System.out.println(decryptedString);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25478972,"reputation":13,"user_id":19642172,"display_name":"meepo2k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73264708,"answer_count":1,"score":0,"last_activity_date":1659843325,"creation_date":1659830959,"question_id":73264061,"body_markdown":"I have a request where there is a field &quot;number_token&quot; that I need to encrypt to send to another API to validate. What is the best method to do this?\r\n\r\nExample:\r\n\r\n     &quot;number_token&quot;:&quot;123456789&quot;\r\n\r\nencrypt:\r\n\r\n    &quot;number_token&quot;:&quot;iIsInN1YieyJpc3MiOiJHZXR3YXk.gcGFnQmFuayBQQI6ImIyYzMxMTlmLWU3ZjktNDZjZS05NTMxLTkyMTNlNWRjNWNiMSIsImlhdCI6MTY1OTgyNjUyOCwiZXhwIjoxNjU5ODI2NzA4fQ.mL-jivitV30N1PLq10CmI4ZWxCcBivGf5QGVus7Vsyw&quot;","title":"Encrypt a field to send to another API","body":"<p>I have a request where there is a field &quot;number_token&quot; that I need to encrypt to send to another API to validate. What is the best method to do this?</p>\n<p>Example:</p>\n<pre><code> &quot;number_token&quot;:&quot;123456789&quot;\n</code></pre>\n<p>encrypt:</p>\n<pre><code>&quot;number_token&quot;:&quot;iIsInN1YieyJpc3MiOiJHZXR3YXk.gcGFnQmFuayBQQI6ImIyYzMxMTlmLWU3ZjktNDZjZS05NTMxLTkyMTNlNWRjNWNiMSIsImlhdCI6MTY1OTgyNjUyOCwiZXhwIjoxNjU5ODI2NzA4fQ.mL-jivitV30N1PLq10CmI4ZWxCcBivGf5QGVus7Vsyw&quot;\n</code></pre>\n"},{"tags":["java","android","expert-system"],"answers":[{"tags":[],"owner":{"account_id":4657214,"reputation":1415,"user_id":3772478,"accept_rate":83,"display_name":"Hazim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427058062,"creation_date":1427058062,"answer_id":29199795,"question_id":22588953,"body_markdown":"You can do that by using &quot;selenium&quot;.\r\nIts a tool used for automated testing of web applications. you can navigate and enter information in the web page and get results using this.\r\n\r\nhttp://www.seleniumhq.org/","title":"Interface to communicate to web pages from android application","body":"<p>You can do that by using \"selenium\".\nIts a tool used for automated testing of web applications. you can navigate and enter information in the web page and get results using this.</p>\n\n<p><a href=\"http://www.seleniumhq.org/\" rel=\"nofollow\">http://www.seleniumhq.org/</a></p>\n"}],"owner":{"account_id":1516318,"reputation":129,"user_id":1417248,"accept_rate":50,"display_name":"barack o mama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659840845,"creation_date":1395566054,"question_id":22588953,"body_markdown":"I am trying to implement a &quot;Doctor Finder&quot; application for android which will have a symptom checker facility like webMD. Since webMD don&#39;t have any API&#39;s I must create my own expert system (which takes a lot of time) or need to find something similar to webMD which offers public API. I found [NIL API][1] from National Library of Medicine US and I doubt it would be useful in my scenario. \r\n\r\nNow the actual question, Is it possible to use webMD&#39;s online symptoms checker using an interface from android. I don&#39;t want to show the HTML page within my app but to send and receive information through it? If not is there any APIs available to serve this purpose?\r\n\r\n\r\n  [1]: http://www.nlm.nih.gov/api/","title":"Interface to communicate to web pages from android application","body":"<p>I am trying to implement a \"Doctor Finder\" application for android which will have a symptom checker facility like webMD. Since webMD don't have any API's I must create my own expert system (which takes a lot of time) or need to find something similar to webMD which offers public API. I found <a href=\"http://www.nlm.nih.gov/api/\" rel=\"nofollow\">NIL API</a> from National Library of Medicine US and I doubt it would be useful in my scenario. </p>\n\n<p>Now the actual question, Is it possible to use webMD's online symptoms checker using an interface from android. I don't want to show the HTML page within my app but to send and receive information through it? If not is there any APIs available to serve this purpose?</p>\n"},{"tags":["java","overloading","option-type","null-check","supplier"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1659797892,"post_id":73260794,"comment_id":129382940,"body_markdown":"Your first example of using a `Supplier&lt;F&gt;` is just a more complex way of using `@Nullable F`. You&#39;ve just replaced the `@Nullable F` with something that can return a `@Nullable F`. The second example of using a `Supplier&lt;Optional&lt;F&gt;&gt;` is a nasty way to fool Idea.","body":"Your first example of using a <code>Supplier&lt;F&gt;</code> is just a more complex way of using <code>@Nullable F</code>. You&#39;ve just replaced the <code>@Nullable F</code> with something that can return a <code>@Nullable F</code>. The second example of using a <code>Supplier&lt;Optional&lt;F&gt;&gt;</code> is a nasty way to fool Idea."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1659797925,"post_id":73260794,"comment_id":129382945,"body_markdown":"*&quot;Why it&#39;s better then Optional?&quot;* it&#39;s not.","body":"<i>&quot;Why it&#39;s better then Optional?&quot;</i> it&#39;s not."},{"owner":{"account_id":2248300,"reputation":104,"user_id":2007077,"accept_rate":75,"display_name":"Alexey"},"score":0,"creation_date":1659798227,"post_id":73260794,"comment_id":129383003,"body_markdown":"@RobSpoor ok, but do we have an approach to give a nice interface to a client and avoid null checks at the same time?","body":"@RobSpoor ok, but do we have an approach to give a nice interface to a client and avoid null checks at the same time?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1659798304,"post_id":73260794,"comment_id":129383019,"body_markdown":"@Alexey if your method accepts nulls there&#39;s no way around it: you&#39;ll have to check whether the parameter is `null`.","body":"@Alexey if your method accepts nulls there&#39;s no way around it: you&#39;ll have to check whether the parameter is <code>null</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1659798497,"post_id":73260794,"comment_id":129383063,"body_markdown":"`Optional.ofNullable` is not meant be used for `null`-checks, it&#39;s an abuse of Optional. Use **explicit** *null-check* (there&#39;s nothing wrong with it), instead of hiding it.","body":"<code>Optional.ofNullable</code> is not meant be used for <code>null</code>-checks, it&#39;s an abuse of Optional. Use <b>explicit</b> <i>null-check</i> (there&#39;s nothing wrong with it), instead of hiding it."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659801672,"creation_date":1659801672,"answer_id":73261290,"question_id":73260794,"body_markdown":"If you don&#39;t want the client-code to dial with `null`, you can change the method `getFilter()` to return `Optional&lt;F&gt;`.\r\n\r\nIn this case, the code in the client would look like that:\r\n\r\n```\r\nint count = getFilter().map(MyClass::count).orElse(MyClass.count());\r\n```\r\n\r\nWith this approach, your method `count(F)` doesn&#39;t require any extra logic.\r\n\r\nIf it feels like too complicated, then can implement `count(F)` in such a way that it would delegate to `count()` in case if provided argument is `null`.\r\n\r\nBoth your attempt with `Supplier&lt;F&gt;` and `Supplier&lt;Optional&lt;F&gt;&gt;` are artificial and seem to be driven by intention to circumvent Sonar, rather than by the real use cases.","title":"Using Supplier instead of Optional as a method parameter","body":"<p>If you don't want the client-code to dial with <code>null</code>, you can change the method <code>getFilter()</code> to return <code>Optional&lt;F&gt;</code>.</p>\n<p>In this case, the code in the client would look like that:</p>\n<pre><code>int count = getFilter().map(MyClass::count).orElse(MyClass.count());\n</code></pre>\n<p>With this approach, your method <code>count(F)</code> doesn't require any extra logic.</p>\n<p>If it feels like too complicated, then can implement <code>count(F)</code> in such a way that it would delegate to <code>count()</code> in case if provided argument is <code>null</code>.</p>\n<p>Both your attempt with <code>Supplier&lt;F&gt;</code> and <code>Supplier&lt;Optional&lt;F&gt;&gt;</code> are artificial and seem to be driven by intention to circumvent Sonar, rather than by the real use cases.</p>\n"}],"owner":{"account_id":2248300,"reputation":104,"user_id":2007077,"accept_rate":75,"display_name":"Alexey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73261290,"answer_count":1,"score":0,"last_activity_date":1659840548,"creation_date":1659797598,"question_id":73260794,"body_markdown":"I have an interface and its parameter can be `null`.\r\n\r\n```\r\nint count(@Nullable F filter);\r\n```\r\n\r\nTo avoid `null` parameters and *null-checks*, common advice is to use the method overloading:\r\n```\r\nint count();\r\nint count(@NonNull F filter);\r\n```\r\n\r\nIn some cases, I don&#39;t like this approach, because it forces clients to make this kind of job:\r\n```\r\nF f = getFilter();\r\nint count = f != null ? count(f) : count();\r\n```\r\nIt much more convenient for client to use:\r\n```\r\ncount(getFilter())\r\n```\r\nOptionals, at the first glance, can solve this problem but `Optional` should not be used for parameters https://rules.sonarsource.com/java/RSPEC-3553\r\n\r\nSo my question is: can I use `Supplier` instead?\r\n\r\n```\r\n// service code:\r\nint count(Supplier&lt;F&gt; filter) {\r\n    Optional.ofNullable(filter.get()).map(f -&gt; count(f)).orElseGet(() -&gt; count());\r\n};\r\n//client code:\r\ncount(() -&gt; getFilter())\r\n```\r\nOr even \r\n```\r\nint count(Supplier&lt;Optional&lt;F&gt;&gt; filter)\r\n```\r\nIdea doesn&#39;t show any warnings.\r\n\r\nI personally like my code after that, but isn&#39;t it cheating? Why it&#39;s better than `Optional`?\r\n\r\n**EDIT:** Thanks for comments. I agree, in my case `Supplier` is just a sophisticated `@Nullable` approach. \r\n\r\nI will return to:\r\n```\r\nint count();\r\nint count(@NonNull F filter);\r\n/////\r\ngetFilter().map(f -&gt; count(f)).orElseGet(() -&gt; count());\r\n```\r\n","title":"Using Supplier instead of Optional as a method parameter","body":"<p>I have an interface and its parameter can be <code>null</code>.</p>\n<pre><code>int count(@Nullable F filter);\n</code></pre>\n<p>To avoid <code>null</code> parameters and <em>null-checks</em>, common advice is to use the method overloading:</p>\n<pre><code>int count();\nint count(@NonNull F filter);\n</code></pre>\n<p>In some cases, I don't like this approach, because it forces clients to make this kind of job:</p>\n<pre><code>F f = getFilter();\nint count = f != null ? count(f) : count();\n</code></pre>\n<p>It much more convenient for client to use:</p>\n<pre><code>count(getFilter())\n</code></pre>\n<p>Optionals, at the first glance, can solve this problem but <code>Optional</code> should not be used for parameters <a href=\"https://rules.sonarsource.com/java/RSPEC-3553\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-3553</a></p>\n<p>So my question is: can I use <code>Supplier</code> instead?</p>\n<pre><code>// service code:\nint count(Supplier&lt;F&gt; filter) {\n    Optional.ofNullable(filter.get()).map(f -&gt; count(f)).orElseGet(() -&gt; count());\n};\n//client code:\ncount(() -&gt; getFilter())\n</code></pre>\n<p>Or even</p>\n<pre><code>int count(Supplier&lt;Optional&lt;F&gt;&gt; filter)\n</code></pre>\n<p>Idea doesn't show any warnings.</p>\n<p>I personally like my code after that, but isn't it cheating? Why it's better than <code>Optional</code>?</p>\n<p><strong>EDIT:</strong> Thanks for comments. I agree, in my case <code>Supplier</code> is just a sophisticated <code>@Nullable</code> approach.</p>\n<p>I will return to:</p>\n<pre><code>int count();\nint count(@NonNull F filter);\n/////\ngetFilter().map(f -&gt; count(f)).orElseGet(() -&gt; count());\n</code></pre>\n"},{"tags":["java","android","bluetooth","android-bluetooth"],"comments":[{"owner":{"account_id":25966241,"reputation":203,"user_id":19682156,"display_name":"Desmond"},"score":0,"creation_date":1659840336,"post_id":73257987,"comment_id":129389225,"body_markdown":"Have your try to check ACTION_ACL_CONNECTED?\nhttps://developer.android.com/reference/android/bluetooth/BluetoothDevice","body":"Have your try to check ACTION_ACL_CONNECTED? <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothDevice\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/bluetooth/&hellip;</a>"}],"owner":{"account_id":20131520,"reputation":9,"user_id":14763731,"display_name":"Faizan NAZIR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659839265,"creation_date":1659771500,"question_id":73257987,"body_markdown":"I have got paired device using `BLUETOOTHADAPTER.getbondeddevice();`\r\n\r\nI want to get the currently paired device (The one which is connected right now)\r\n\r\nIs there any method to get the connected device, not a list of previously paired Bluetooth devices?","title":"How to get paired bluetooth devices instead of just connected bluetooth devices in android app","body":"<p>I have got paired device using <code>BLUETOOTHADAPTER.getbondeddevice();</code></p>\n<p>I want to get the currently paired device (The one which is connected right now)</p>\n<p>Is there any method to get the connected device, not a list of previously paired Bluetooth devices?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1567111173,"post_id":57716805,"comment_id":101876596,"body_markdown":"Is it a Swing based project or a simple project on which you add a JFrame ?","body":"Is it a Swing based project or a simple project on which you add a JFrame ?"},{"owner":{"account_id":11730956,"reputation":9,"user_id":8586457,"display_name":"Donib"},"score":0,"creation_date":1567240686,"post_id":57716805,"comment_id":101912072,"body_markdown":"Its just a simple project I was practicing.","body":"Its just a simple project I was practicing."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1567248568,"post_id":57716805,"comment_id":101913744,"body_markdown":"Yes I know. I guess if you select Swing type project when you create a project. Your palette will be available.","body":"Yes I know. I guess if you select Swing type project when you create a project. Your palette will be available."},{"owner":{"account_id":11730956,"reputation":9,"user_id":8586457,"display_name":"Donib"},"score":0,"creation_date":1567248940,"post_id":57716805,"comment_id":101913829,"body_markdown":"I have already tried selecting Swing type project too. But the result is same. The palette components are still unavailable.","body":"I have already tried selecting Swing type project too. But the result is same. The palette components are still unavailable."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1567250202,"post_id":57716805,"comment_id":101914099,"body_markdown":"Hope this link will help. https://stackoverflow.com/questions/27338953/how-to-show-hide-palette-window-in-netbeans-7-4","body":"Hope this link will help. <a href=\"https://stackoverflow.com/questions/27338953/how-to-show-hide-palette-window-in-netbeans-7-4\" title=\"how to show hide palette window in netbeans 7 4\">stackoverflow.com/questions/27338953/&hellip;</a>"},{"owner":{"account_id":11730956,"reputation":9,"user_id":8586457,"display_name":"Donib"},"score":0,"creation_date":1567363445,"post_id":57716805,"comment_id":101934598,"body_markdown":"I have already seen this thread and nothing in the answers worked","body":"I have already seen this thread and nothing in the answers worked"}],"answers":[{"tags":[],"owner":{"account_id":3402818,"reputation":1,"user_id":2854613,"display_name":"Gianni Narracci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659839247,"creation_date":1659422741,"answer_id":73203073,"question_id":57716805,"body_markdown":"I resolve this issue by uninstalling Netbeans(Official Page Installation) by using Snap Install package and afterwards, all the components appeared.","title":"Can&#39;t find any AWT/Swing components like button, label, etc. in my palette tab in netbeans","body":"<p>I resolve this issue by uninstalling Netbeans(Official Page Installation) by using Snap Install package and afterwards, all the components appeared.</p>\n"}],"owner":{"account_id":11730956,"reputation":9,"user_id":8586457,"display_name":"Donib"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659839247,"creation_date":1567107427,"question_id":57716805,"body_markdown":"I can&#39;t find the list of components in my palette tab. It only shows choose beans and doesn&#39;t show any AWT/Swing components like label, button, etc. Can you help me to get those components?\r\n\r\nI have tried resetting the palette. Also I have uninstalled the netbeans and reinstalled it again.\r\n\r\n[Here is the screenshot of my palette tab which doesn&#39;t show any components.][1]\r\n\r\n[Here is a screenshot of Palette Manager.][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aoUqX.png\r\n  [2]: https://i.stack.imgur.com/Tv4Jz.png","title":"Can&#39;t find any AWT/Swing components like button, label, etc. in my palette tab in netbeans","body":"<p>I can't find the list of components in my palette tab. It only shows choose beans and doesn't show any AWT/Swing components like label, button, etc. Can you help me to get those components?</p>\n\n<p>I have tried resetting the palette. Also I have uninstalled the netbeans and reinstalled it again.</p>\n\n<p><a href=\"https://i.stack.imgur.com/aoUqX.png\" rel=\"nofollow noreferrer\">Here is the screenshot of my palette tab which doesn't show any components.</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Tv4Jz.png\" rel=\"nofollow noreferrer\">Here is a screenshot of Palette Manager.</a></p>\n"},{"tags":["java","xml","jaxb","jackson-databind","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656163023,"creation_date":1656036893,"answer_id":72738341,"question_id":72738307,"body_markdown":"Solved by switch to `jackson-xml` annotations instead of `jaxb` annotations with:\r\n```\r\n@JacksonXmlElementWrapper(useWrapping = false)\r\n```\r\n\r\nBut I wonder how could it be handled in `jaxb`, `@XmlElement` seems not working","title":"jaxb - deserializing list of pojo with unbounded list inside","body":"<p>Solved by switch to <code>jackson-xml</code> annotations instead of <code>jaxb</code> annotations with:</p>\n<pre><code>@JacksonXmlElementWrapper(useWrapping = false)\n</code></pre>\n<p>But I wonder how could it be handled in <code>jaxb</code>, <code>@XmlElement</code> seems not working</p>\n"},{"tags":[],"owner":{"account_id":17997376,"reputation":36,"user_id":13080045,"display_name":"Andrew Kim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659838212,"creation_date":1659838212,"answer_id":73264441,"question_id":72738307,"body_markdown":"check below .. i wish that is help for you\r\n\r\n   \r\n\r\n    package xml;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.util.List;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\n    import com.fasterxml.jackson.module.jakarta.xmlbind.JakartaXmlBindAnnotationModule;\r\n    \r\n    import jakarta.xml.bind.annotation.XmlAttribute;\r\n    import jakarta.xml.bind.annotation.XmlElement;\r\n    import jakarta.xml.bind.annotation.XmlRootElement;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.ToString;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class stackOverFlowTest {\r\n    \r\n        @Test\r\n        public void test01() throws JsonMappingException, JsonProcessingException {\r\n            StringBuffer xml = new StringBuffer()\r\n                    .append(&quot;&lt;out&gt;&quot;)\r\n                    .append(&quot;   &lt;documentsInfoByClaimNumber name=\\&quot;first\\&quot;&gt;&quot;)\r\n                    .append(&quot;      &lt;caseId&gt;654321&lt;/caseId&gt;&quot;)\r\n                    .append(&quot;      &lt;documentDetails&gt;&quot;)\r\n                    .append(&quot;         &lt;documentId&gt;123456&lt;/documentId&gt;&quot;)\r\n                    .append(&quot;         &lt;documentSource&gt;brahbrah&lt;/documentSource&gt;&quot;)\r\n                    .append(&quot;         &lt;category&gt;brahbrah&lt;/category&gt;&quot;)\r\n                    .append(&quot;         &lt;documentType&gt;brahbrah&lt;/documentType&gt;&quot;)\r\n                    .append(&quot;         &lt;documentName&gt;brahbrah.brah&lt;/documentName&gt;&quot;)\r\n                    .append(&quot;         &lt;createdDate&gt;2020-06-22T17:00:25&lt;/createdDate&gt;&quot;)\r\n                    .append(&quot;      &lt;/documentDetails&gt;&quot;)\r\n                    .append(&quot;   &lt;/documentsInfoByClaimNumber&gt;&quot;)\r\n                    .append(&quot;   &lt;documentsInfoByClaimNumber name=\\&quot;secode\\&quot;&gt;&quot;)\r\n                    .append(&quot;      &lt;caseId&gt;654321&lt;/caseId&gt;&quot;)\r\n                    .append(&quot;      &lt;documentDetails&gt;&quot;)\r\n                    .append(&quot;         &lt;documentId&gt;123456&lt;/documentId&gt;&quot;)\r\n                    .append(&quot;         &lt;documentSource&gt;brahbrah&lt;/documentSource&gt;&quot;)\r\n                    .append(&quot;         &lt;category&gt;brahbrah&lt;/category&gt;&quot;)\r\n                    .append(&quot;         &lt;documentType&gt;brahbrah&lt;/documentType&gt;&quot;)\r\n                    .append(&quot;         &lt;documentName&gt;brahbrah.brah&lt;/documentName&gt;&quot;)\r\n                    .append(&quot;         &lt;createdDate&gt;2020-06-22T17:00:25&lt;/createdDate&gt;&quot;)\r\n                    .append(&quot;      &lt;/documentDetails&gt;&quot;)\r\n                    .append(&quot;   &lt;/documentsInfoByClaimNumber&gt;&quot;)\r\n                    .append(&quot;&lt;/out&gt;&quot;);\r\n    \r\n            XmlMapper xmlMapper = XmlMapper.builder().defaultUseWrapper(false)\r\n                    .addModule(new JakartaXmlBindAnnotationModule())\r\n                    .disable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE)\r\n                    .addModule(new JavaTimeModule())\r\n                    .build();\r\n    \r\n            GetDocumentInfoByClaimNumberRes result = xmlMapper.readValue(xml.toString(),\r\n                    GetDocumentInfoByClaimNumberRes.class);\r\n    \r\n            result.getDocumentsInfoByClaimNumber().forEach(f -&gt; {\r\n                log.info(&quot;name={} caseId={} list=&gt;{}&quot;, f.getName(), f.getCaseId(), f.getDocumentDetails().toString());\r\n            });\r\n            // log.info(&quot;result=&gt;{}&quot;, result.toString());\r\n    \r\n        }\r\n    \r\n        @Data\r\n        @NoArgsConstructor\r\n        @ToString\r\n        @XmlRootElement(name = &quot;out&quot;)\r\n        static class GetDocumentInfoByClaimNumberRes {\r\n            @XmlAttribute\r\n            private String name;\r\n    \r\n            @XmlElement(name = &quot;documentsInfoByClaimNumber&quot;)\r\n            private List&lt;DocumentsInfoByClaimNumber&gt; documentsInfoByClaimNumber;\r\n        }\r\n    \r\n        @Data\r\n        @ToString\r\n        @NoArgsConstructor\r\n        static class DocumentsInfoByClaimNumber {\r\n            @XmlAttribute\r\n            private String name;\r\n    \r\n            @XmlElement\r\n            private String caseId;\r\n    \r\n            @XmlElement(name = &quot;documentDetails&quot;)\r\n            private List&lt;DocumentDetails&gt; documentDetails;\r\n        }\r\n    \r\n        @Data\r\n        @ToString\r\n        @NoArgsConstructor\r\n        static class DocumentDetails {\r\n            private String documentId;\r\n            private String documentSource;\r\n            private String category;\r\n            private String documentType;\r\n            private String documentName;\r\n            private LocalDateTime createdDate;\r\n        }\r\n    \r\n    }\r\n\r\nresult\r\n\r\n    11:03:20 INFO  [main] xml.stackOverFlowTest - name=first caseId=654321 list=&gt;[stackOverFlowTest.DocumentDetails(documentId=123456, documentSource=brahbrah, category=brahbrah, documentType=brahbrah, documentName=brahbrah.brah, createdDate=2020-06-22T17:00:25)]\r\n    11:03:20 INFO  [main] xml.stackOverFlowTest - name=secode caseId=654321 list=&gt;[stackOverFlowTest.DocumentDetails(documentId=123456, documentSource=brahbrah, category=brahbrah, documentType=brahbrah, documentName=brahbrah.brah, createdDate=2020-06-22T17:00:25)]\r\n\r\n","title":"jaxb - deserializing list of pojo with unbounded list inside","body":"<p>check below .. i wish that is help for you</p>\n<pre><code>package xml;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\n\nimport org.junit.Test;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport com.fasterxml.jackson.module.jakarta.xmlbind.JakartaXmlBindAnnotationModule;\n\nimport jakarta.xml.bind.annotation.XmlAttribute;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class stackOverFlowTest {\n\n    @Test\n    public void test01() throws JsonMappingException, JsonProcessingException {\n        StringBuffer xml = new StringBuffer()\n                .append(&quot;&lt;out&gt;&quot;)\n                .append(&quot;   &lt;documentsInfoByClaimNumber name=\\&quot;first\\&quot;&gt;&quot;)\n                .append(&quot;      &lt;caseId&gt;654321&lt;/caseId&gt;&quot;)\n                .append(&quot;      &lt;documentDetails&gt;&quot;)\n                .append(&quot;         &lt;documentId&gt;123456&lt;/documentId&gt;&quot;)\n                .append(&quot;         &lt;documentSource&gt;brahbrah&lt;/documentSource&gt;&quot;)\n                .append(&quot;         &lt;category&gt;brahbrah&lt;/category&gt;&quot;)\n                .append(&quot;         &lt;documentType&gt;brahbrah&lt;/documentType&gt;&quot;)\n                .append(&quot;         &lt;documentName&gt;brahbrah.brah&lt;/documentName&gt;&quot;)\n                .append(&quot;         &lt;createdDate&gt;2020-06-22T17:00:25&lt;/createdDate&gt;&quot;)\n                .append(&quot;      &lt;/documentDetails&gt;&quot;)\n                .append(&quot;   &lt;/documentsInfoByClaimNumber&gt;&quot;)\n                .append(&quot;   &lt;documentsInfoByClaimNumber name=\\&quot;secode\\&quot;&gt;&quot;)\n                .append(&quot;      &lt;caseId&gt;654321&lt;/caseId&gt;&quot;)\n                .append(&quot;      &lt;documentDetails&gt;&quot;)\n                .append(&quot;         &lt;documentId&gt;123456&lt;/documentId&gt;&quot;)\n                .append(&quot;         &lt;documentSource&gt;brahbrah&lt;/documentSource&gt;&quot;)\n                .append(&quot;         &lt;category&gt;brahbrah&lt;/category&gt;&quot;)\n                .append(&quot;         &lt;documentType&gt;brahbrah&lt;/documentType&gt;&quot;)\n                .append(&quot;         &lt;documentName&gt;brahbrah.brah&lt;/documentName&gt;&quot;)\n                .append(&quot;         &lt;createdDate&gt;2020-06-22T17:00:25&lt;/createdDate&gt;&quot;)\n                .append(&quot;      &lt;/documentDetails&gt;&quot;)\n                .append(&quot;   &lt;/documentsInfoByClaimNumber&gt;&quot;)\n                .append(&quot;&lt;/out&gt;&quot;);\n\n        XmlMapper xmlMapper = XmlMapper.builder().defaultUseWrapper(false)\n                .addModule(new JakartaXmlBindAnnotationModule())\n                .disable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE)\n                .addModule(new JavaTimeModule())\n                .build();\n\n        GetDocumentInfoByClaimNumberRes result = xmlMapper.readValue(xml.toString(),\n                GetDocumentInfoByClaimNumberRes.class);\n\n        result.getDocumentsInfoByClaimNumber().forEach(f -&gt; {\n            log.info(&quot;name={} caseId={} list=&gt;{}&quot;, f.getName(), f.getCaseId(), f.getDocumentDetails().toString());\n        });\n        // log.info(&quot;result=&gt;{}&quot;, result.toString());\n\n    }\n\n    @Data\n    @NoArgsConstructor\n    @ToString\n    @XmlRootElement(name = &quot;out&quot;)\n    static class GetDocumentInfoByClaimNumberRes {\n        @XmlAttribute\n        private String name;\n\n        @XmlElement(name = &quot;documentsInfoByClaimNumber&quot;)\n        private List&lt;DocumentsInfoByClaimNumber&gt; documentsInfoByClaimNumber;\n    }\n\n    @Data\n    @ToString\n    @NoArgsConstructor\n    static class DocumentsInfoByClaimNumber {\n        @XmlAttribute\n        private String name;\n\n        @XmlElement\n        private String caseId;\n\n        @XmlElement(name = &quot;documentDetails&quot;)\n        private List&lt;DocumentDetails&gt; documentDetails;\n    }\n\n    @Data\n    @ToString\n    @NoArgsConstructor\n    static class DocumentDetails {\n        private String documentId;\n        private String documentSource;\n        private String category;\n        private String documentType;\n        private String documentName;\n        private LocalDateTime createdDate;\n    }\n\n}\n</code></pre>\n<p>result</p>\n<pre><code>11:03:20 INFO  [main] xml.stackOverFlowTest - name=first caseId=654321 list=&gt;[stackOverFlowTest.DocumentDetails(documentId=123456, documentSource=brahbrah, category=brahbrah, documentType=brahbrah, documentName=brahbrah.brah, createdDate=2020-06-22T17:00:25)]\n11:03:20 INFO  [main] xml.stackOverFlowTest - name=secode caseId=654321 list=&gt;[stackOverFlowTest.DocumentDetails(documentId=123456, documentSource=brahbrah, category=brahbrah, documentType=brahbrah, documentName=brahbrah.brah, createdDate=2020-06-22T17:00:25)]\n</code></pre>\n"}],"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73264441,"answer_count":2,"score":0,"last_activity_date":1659838212,"creation_date":1656036362,"question_id":72738307,"body_markdown":"I hava a xml response like below:\r\n```\r\n&lt;out&gt;\r\n&lt;documentsInfoByClaimNumber&gt;\r\n\r\n               &lt;caseId&gt;654321&lt;/caseId&gt;\r\n\r\n               &lt;documentDetails&gt;\r\n\r\n                  &lt;documentId&gt;123456&lt;/documentId&gt;\r\n\r\n                  &lt;documentSource&gt;brahbrah&lt;/documentSource&gt;\r\n\r\n                  &lt;category&gt;brahbrah&lt;/category&gt;\r\n\r\n                  &lt;documentType&gt;brahbrah&lt;/documentType&gt;\r\n\r\n                  &lt;documentName&gt;brahbrah.brah&lt;/documentName&gt;\r\n\r\n                  &lt;createdDate&gt;2020-06-22T17:00:25&lt;/createdDate&gt;\r\n\r\n               &lt;/documentDetails&gt;\r\n\r\n&lt;/documentsInfoByClaimNumber&gt;\r\n&lt;/out&gt;\r\n```\r\n**both documentsInfoByClaimNumber and documentDetails are unbounded list, could appear once or more**\r\n\r\nbelow are my pojos, I&#39;m using lombok:\r\njackson XmlMapper for parsing, with jaxb annotations\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@XmlRootElement(name = &quot;getDocumentInfoByClaimNumberResponse&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class GetDocumentInfoByClaimNumberRes {\r\n    @XmlElementWrapper(name = &quot;out&quot;)\r\n    @XmlElement(name = &quot;documentsInfoByClaimNumber&quot;)\r\n    private List&lt;Wrapper&gt; out;\r\n\r\n    @Data\r\n    public static class Wrapper{\r\n        private int caseId;\r\n\r\n//        private DocumentDetails documentDetails;  without list it works\r\n        @XmlElement(name=&quot;documentDetails&quot;)\r\n        private List&lt;DocumentDetails&gt; documentDetails;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Data\r\npublic class DocumentDetails {\r\n    private String documentId;\r\n    private String documentSource;\r\n    private String category;\r\n    private String documentType;\r\n    private String documentName;\r\n    private LocalDateTime createdDate;\r\n}\r\n```\r\n\r\nthe problem is, with documentDetails only appear once, I got something like\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.service.casetrack.payload.DocumentDetails` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;123456&#39;)\r\n(through reference chain: GetDocumentInfoByClaimNumberRes[&quot;out&quot;]-&gt;java.util.ArrayList[1]-&gt;GetDocumentInfoByClaimNumberRes$Wrapper[&quot;documentDetails&quot;]-&gt;java.util.ArrayList[0])\r\n```\r\nI can deserialize it without using List, but thus I can&#39;t deal with two or more elements. Any tricks for this?","title":"jaxb - deserializing list of pojo with unbounded list inside","body":"<p>I hava a xml response like below:</p>\n<pre><code>&lt;out&gt;\n&lt;documentsInfoByClaimNumber&gt;\n\n               &lt;caseId&gt;654321&lt;/caseId&gt;\n\n               &lt;documentDetails&gt;\n\n                  &lt;documentId&gt;123456&lt;/documentId&gt;\n\n                  &lt;documentSource&gt;brahbrah&lt;/documentSource&gt;\n\n                  &lt;category&gt;brahbrah&lt;/category&gt;\n\n                  &lt;documentType&gt;brahbrah&lt;/documentType&gt;\n\n                  &lt;documentName&gt;brahbrah.brah&lt;/documentName&gt;\n\n                  &lt;createdDate&gt;2020-06-22T17:00:25&lt;/createdDate&gt;\n\n               &lt;/documentDetails&gt;\n\n&lt;/documentsInfoByClaimNumber&gt;\n&lt;/out&gt;\n</code></pre>\n<p><strong>both documentsInfoByClaimNumber and documentDetails are unbounded list, could appear once or more</strong></p>\n<p>below are my pojos, I'm using lombok:\njackson XmlMapper for parsing, with jaxb annotations</p>\n<pre><code>@Data\n@NoArgsConstructor\n@XmlRootElement(name = &quot;getDocumentInfoByClaimNumberResponse&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class GetDocumentInfoByClaimNumberRes {\n    @XmlElementWrapper(name = &quot;out&quot;)\n    @XmlElement(name = &quot;documentsInfoByClaimNumber&quot;)\n    private List&lt;Wrapper&gt; out;\n\n    @Data\n    public static class Wrapper{\n        private int caseId;\n\n//        private DocumentDetails documentDetails;  without list it works\n        @XmlElement(name=&quot;documentDetails&quot;)\n        private List&lt;DocumentDetails&gt; documentDetails;\n    }\n}\n</code></pre>\n<pre><code>@Data\npublic class DocumentDetails {\n    private String documentId;\n    private String documentSource;\n    private String category;\n    private String documentType;\n    private String documentName;\n    private LocalDateTime createdDate;\n}\n</code></pre>\n<p>the problem is, with documentDetails only appear once, I got something like</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.service.casetrack.payload.DocumentDetails` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('123456')\n(through reference chain: GetDocumentInfoByClaimNumberRes[&quot;out&quot;]-&gt;java.util.ArrayList[1]-&gt;GetDocumentInfoByClaimNumberRes$Wrapper[&quot;documentDetails&quot;]-&gt;java.util.ArrayList[0])\n</code></pre>\n<p>I can deserialize it without using List, but thus I can't deal with two or more elements. Any tricks for this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1406642069,"post_id":25017082,"comment_id":38902509,"body_markdown":"Possible answer [here](http://stackoverflow.com/a/11561917/522444), in [this possible duplicate or very similar question](http://stackoverflow.com/questions/11561817/method-chaining-in-java).","body":"Possible answer <a href=\"http://stackoverflow.com/a/11561917/522444\">here</a>, in <a href=\"http://stackoverflow.com/questions/11561817/method-chaining-in-java\">this possible duplicate or very similar question</a>."},{"owner":{"account_id":27569,"reputation":7306,"user_id":72908,"accept_rate":84,"display_name":"James Kingsbery"},"score":1,"creation_date":1406644114,"post_id":25017082,"comment_id":38903919,"body_markdown":"Slow compared to what? Slower than it is in C/C++?","body":"Slow compared to what? Slower than it is in C/C++?"}],"answers":[{"tags":[],"owner":{"account_id":1886487,"reputation":396557,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406642787,"creation_date":1406642787,"answer_id":25017378,"question_id":25017082,"body_markdown":"What is *&quot;slow&quot;*?\r\n\r\nObviously slower than reading the value of a local variable, but other than that, method calls are very fast and you shouln&#39;t be concerned about that.\r\n\r\nOn the other hand, chaining like `A.getB().getC().getD().doSomething1()` screams for a refactoring. At least add a new method in class `A` which returns `D` or calls `doSomething1()` directly.\r\n","title":"Is Chaining methods in Java slow?","body":"<p>What is <em>\"slow\"</em>?</p>\n\n<p>Obviously slower than reading the value of a local variable, but other than that, method calls are very fast and you shouln't be concerned about that.</p>\n\n<p>On the other hand, chaining like <code>A.getB().getC().getD().doSomething1()</code> screams for a refactoring. At least add a new method in class <code>A</code> which returns <code>D</code> or calls <code>doSomething1()</code> directly.</p>\n"},{"tags":[],"owner":{"account_id":1695504,"reputation":23,"user_id":1556953,"display_name":"user1556953"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406643243,"creation_date":1406643243,"answer_id":25017561,"question_id":25017082,"body_markdown":"No any performance issue if objects are instantiated once. When you call getB().getC()... you just get link on object that is very fast and simple operation. \r\nBut, actually, such code does not looks very good.","title":"Is Chaining methods in Java slow?","body":"<p>No any performance issue if objects are instantiated once. When you call getB().getC()... you just get link on object that is very fast and simple operation. \nBut, actually, such code does not looks very good.</p>\n"},{"tags":[],"owner":{"account_id":2914500,"reputation":1161,"user_id":2498017,"accept_rate":69,"display_name":"Richard Barker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406643988,"creation_date":1406643988,"answer_id":25017811,"question_id":25017082,"body_markdown":"Each method call, operation, assignment, or most anything else is a tick against the processor. The example you provided may run quite fast; but each tick against the processor will start to slow it down. Game developers are very concerned with this because they need to be able to keep their frame rate up; but general and business applications aren&#39;t concerned with that as much. \r\n\r\nThe point: chaining will start affect performance if there&#39;s a lot of them or the chained methods have to do a lot of work.\r\n","title":"Is Chaining methods in Java slow?","body":"<p>Each method call, operation, assignment, or most anything else is a tick against the processor. The example you provided may run quite fast; but each tick against the processor will start to slow it down. Game developers are very concerned with this because they need to be able to keep their frame rate up; but general and business applications aren't concerned with that as much. </p>\n\n<p>The point: chaining will start affect performance if there's a lot of them or the chained methods have to do a lot of work.</p>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659838112,"creation_date":1406646013,"answer_id":25018561,"question_id":25017082,"body_markdown":"Although you mentioned that you already know it: You should avoid such long method chains, for several reasons:\r\n\r\n - It&#39;s an indication of bad OO design (more precisely, it looks like a violation of the [Law Of Demeter][1])\r\n - It&#39;s error-prone. If a line like `a.getB().getC().getD().doSomething()` throws a `NullPointerException`, you&#39;ll have no fun with debugging this...\r\n - Let me be a bit subjective here: It looks horrible.\r\n\r\nOf course, you have to consider *what* the methods are doing actually. Although a `get`-method should usually just return a value, you don&#39;t know whether it really does this. Even something like\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    List&lt;T&gt; getList() {\r\n        // Return an unmodifiable view to the caller\r\n        return Collections.unmodifiableList(internalList);\r\n    }\r\n\r\n(which certainly *is* a good practice) may change the outcome.\r\n\r\nThat being said, and considering that these `get`-methods are really only plain, stupid *Getters*: \r\n\r\nIt does not have an impact on performance in practice. The method calls will be inlined by the JIT. \r\n\r\nAs an example, consider the following program:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class ChainA {\r\n      private ChainB b = new ChainB();\r\n      ChainB getB() {\r\n        return b;\r\n      }\r\n    }\r\n    class ChainB {\r\n      private ChainC c = new ChainC();\r\n      ChainC getC() {\r\n        return c;\r\n      }\r\n    }\r\n    class ChainC {\r\n      private ChainD d = new ChainD();\r\n      ChainD getD() {\r\n        return d;\r\n      }\r\n    }\r\n\r\n    class ChainD {\r\n      private int result = 0;\r\n      int getResult() { return result; }\r\n      void doSomething1(){ result += 1; }\r\n      void doSomething2(){ result += 2; }\r\n      void doSomething3(){ result += 3; }\r\n    }\r\n\r\n    class Chaining\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            for (int n=100; n&lt;10000; n+=100)\r\n            {\r\n                ChainA a0 = new ChainA();\r\n                runChained(a0, n);\r\n                System.out.println(a0.getB().getC().getD().getResult());\r\n\r\n                ChainA a1 = new ChainA();\r\n                runUnChained(a1, n);\r\n                System.out.println(a1.getB().getC().getD().getResult());\r\n            }\r\n\r\n        }\r\n\r\n        private static void runChained(ChainA a, int n)\r\n        {\r\n            for (int i=0; i&lt;n; i++)\r\n            {\r\n                a.getB().getC().getD().doSomething1();\r\n                a.getB().getC().getD().doSomething2();\r\n                a.getB().getC().getD().doSomething3();\r\n            }\r\n        }\r\n\r\n        private static void runUnChained(ChainA a, int n)\r\n        {\r\n            ChainD d = a.getB().getC().getD();\r\n            for (int i=0; i&lt;n; i++)\r\n            {\r\n                d.doSomething1();\r\n                d.doSomething2();\r\n                d.doSomething3();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\nIt performs the calls like you described them, once as a chained call, and once as an unchained version. \r\n\r\nRunning it with \r\n\r\n```lang-shell\r\njava -server -XX:+UnlockDiagnosticVMOptions -XX:+TraceClassLoading -XX:+LogCompilation -XX:+PrintAssembly Chaining\r\n```\r\n\r\non a HotSpot-Disassembler-enabled JVM results in the following output (no need to *read* it, just for reference)\r\n\r\n**runChained:**\r\n\r\n\tDecoding compiled method 0x0000000002885d50:\r\n\tCode:\r\n\t[Entry Point]\r\n\t[Verified Entry Point]\r\n\t[Constants]\r\n\t  # {method} {0x0000000055360550} &amp;apos;runChained&amp;apos; &amp;apos;(LChainA;I)V&amp;apos; in &amp;apos;Chaining&amp;apos;\r\n\t  # parm0:    rdx:rdx   = &amp;apos;ChainA&amp;apos;\r\n\t  # parm1:    r8        = int\r\n\t  #           [sp+0x30]  (sp of caller)\r\n\t  0x0000000002885e80: mov    %eax,-0x6000(%rsp)\r\n\t  0x0000000002885e87: push   %rbp\r\n\t  0x0000000002885e88: sub    $0x20,%rsp         ;*synchronization entry\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@-1 (line 47)\r\n\r\n\t  0x0000000002885e8c: mov    %rdx,%r9\r\n\t  0x0000000002885e8f: mov    %r8d,%ebx\r\n\t  0x0000000002885e92: test   %r8d,%r8d\r\n\t  0x0000000002885e95: jle    0x0000000002885f8a  ;*if_icmpge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@4 (line 47)\r\n\r\n\t  0x0000000002885e9b: mov    0xc(%rdx),%r11d    ;*getfield b\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainA::getB@1 (line 4)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@8 (line 49)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; implicit exception: dispatches to 0x0000000002885f96\r\n\t  0x0000000002885e9f: mov    0xc(%r11),%r10d    ;*getfield c\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainB::getC@1 (line 10)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@11 (line 49)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; implicit exception: dispatches to 0x0000000002885f96\r\n\r\n\t\t0x0000000002885ea3: mov    0xc(%r10),%edx     ;*getfield d\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainC::getD@1 (line 16)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@14 (line 49)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; implicit exception: dispatches to 0x0000000002885f96\r\n\t  0x0000000002885ea7: mov    0xc(%rdx),%r11d    ;*getfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething1@2 (line 23)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@17 (line 49)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; implicit exception: dispatches to 0x0000000002885f96\r\n\t  0x0000000002885eab: xor    %r10d,%r10d\r\n\t  0x0000000002885eae: xor    %esi,%esi\r\n\t  0x0000000002885eb0: xor    %r8d,%r8d\r\n\t  0x0000000002885eb3: xor    %ecx,%ecx          ;*aload_0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@7 (line 49)\r\n\r\n\t  0x0000000002885eb5: add    %r11d,%esi         ;*getfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething1@2 (line 23)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@17 (line 49)\r\n\r\n\t  0x0000000002885eb8: add    %ecx,%r8d\r\n\t  0x0000000002885ebb: mov    %esi,%eax\r\n\t  0x0000000002885ebd: add    $0x6,%eax          ;*iadd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@6 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@43 (line 51)\r\n\r\n\t  0x0000000002885ec0: mov    %eax,0xc(%rdx)     ;*putfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@7 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@43 (line 51)\r\n\r\n\t  0x0000000002885ec3: mov    %r10d,%edi\r\n\t  0x0000000002885ec6: inc    %edi               ;*iinc\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@46 (line 47)\r\n\r\n\t  0x0000000002885ec8: cmp    $0x1,%edi\r\n\t  0x0000000002885ecb: jge    0x0000000002885eee  ;*if_icmpge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@4 (line 47)\r\n\r\n\t  0x0000000002885ecd: mov    %r10d,%ecx\r\n\t  0x0000000002885ed0: shl    %ecx\r\n\t  0x0000000002885ed2: mov    %r8d,%esi\r\n\t  0x0000000002885ed5: add    $0x6,%esi\r\n\t  0x0000000002885ed8: mov    %ecx,%r8d\r\n\t  0x0000000002885edb: add    $0x2,%r8d\r\n\t  0x0000000002885edf: shl    $0x2,%r10d\r\n\t  0x0000000002885ee3: mov    %r10d,%ecx\r\n\t  0x0000000002885ee6: add    $0x4,%ecx\r\n\t  0x0000000002885ee9: mov    %edi,%r10d\r\n\t  0x0000000002885eec: jmp    0x0000000002885eb5\r\n\t  0x0000000002885eee: mov    %ebx,%r11d\r\n\t  0x0000000002885ef1: add    $0xfffffff1,%r11d\r\n\t  0x0000000002885ef5: mov    $0x80000000,%r9d\r\n\t  0x0000000002885efb: cmp    %r11d,%ebx\r\n\t  0x0000000002885efe: cmovl  %r9d,%r11d\r\n\t  0x0000000002885f02: cmp    %r11d,%edi\r\n\t  0x0000000002885f05: jge    0x0000000002885f3c\r\n\t  0x0000000002885f07: sub    %r8d,%esi\r\n\t  0x0000000002885f0a: nopw   0x0(%rax,%rax,1)   ;*aload_0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@7 (line 49)\r\n\r\n\t  0x0000000002885f10: mov    %edi,%r8d\r\n\t  0x0000000002885f13: shl    %r8d\r\n\t  0x0000000002885f16: mov    %edi,%r9d\r\n\t  0x0000000002885f19: shl    $0x2,%r9d\r\n\t  0x0000000002885f1d: add    %r9d,%r8d\r\n\t  0x0000000002885f20: add    %esi,%r8d          ;*getfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething1@2 (line 23)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@17 (line 49)\r\n\r\n\t  0x0000000002885f23: mov    %r8d,%eax\r\n\t  0x0000000002885f26: add    $0x60,%eax         ;*iadd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@6 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@43 (line 51)\r\n\r\n\t  0x0000000002885f29: add    $0x5a,%r8d\r\n\t  0x0000000002885f2d: mov    %r8d,0xc(%rdx)\r\n\t  0x0000000002885f31: mov    %eax,0xc(%rdx)     ;*putfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@7 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@43 (line 51)\r\n\r\n\t  0x0000000002885f34: add    $0x10,%edi         ;*iinc\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@46 (line 47)\r\n\r\n\t  0x0000000002885f37: cmp    %r11d,%edi\r\n\t  0x0000000002885f3a: jl     0x0000000002885f10  ;*getfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething1@2 (line 23)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@17 (line 49)\r\n\r\n\t  0x0000000002885f3c: cmp    %ebx,%edi\r\n\t  0x0000000002885f3e: jge    0x0000000002885f8a\r\n\t  0x0000000002885f40: mov    %edi,%r10d\r\n\t  0x0000000002885f43: shl    $0x2,%r10d\r\n\t  0x0000000002885f47: mov    %edi,%r11d\r\n\t  0x0000000002885f4a: shl    %r11d\r\n\t  0x0000000002885f4d: mov    %r11d,%r8d\r\n\t  0x0000000002885f50: add    %r10d,%r8d\r\n\t  0x0000000002885f53: sub    %r8d,%eax\r\n\t  0x0000000002885f56: xchg   %ax,%ax            ;*aload_0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@7 (line 49)\r\n\r\n\t  0x0000000002885f58: add    %r11d,%r10d\r\n\t  0x0000000002885f5b: add    %eax,%r10d\r\n\t  0x0000000002885f5e: add    $0x6,%r10d\r\n\t  0x0000000002885f62: mov    %r10d,0xc(%rdx)    ;*putfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@7 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@43 (line 51)\r\n\r\n\t  0x0000000002885f66: mov    %edi,%r8d\r\n\t  0x0000000002885f69: inc    %r8d               ;*iinc\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@46 (line 47)\r\n\r\n\t  0x0000000002885f6c: cmp    %ebx,%r8d\r\n\t  0x0000000002885f6f: jge    0x0000000002885f8a\r\n\t  0x0000000002885f71: mov    %edi,%r10d\r\n\t  0x0000000002885f74: shl    $0x2,%r10d\r\n\t  0x0000000002885f78: shl    %edi\r\n\t  0x0000000002885f7a: add    $0x4,%r10d\r\n\t  0x0000000002885f7e: mov    %edi,%r11d\r\n\t  0x0000000002885f81: add    $0x2,%r11d\r\n\t  0x0000000002885f85: mov    %r8d,%edi\r\n\t  0x0000000002885f88: jmp    0x0000000002885f58  ;*if_icmpge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@4 (line 47)\r\n\r\n\t  0x0000000002885f8a: add    $0x20,%rsp\r\n\t  0x0000000002885f8e: pop    %rbp\r\n\t  0x0000000002885f8f: test   %eax,-0x26c5f95(%rip)        # 0x00000000001c0000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;   {poll_return}\r\n\t  0x0000000002885f95: retq   \r\n\t  0x0000000002885f96: mov    $0xffffff86,%edx\r\n\t  0x0000000002885f9b: mov    %r9,%rbp\r\n\t  0x0000000002885f9e: mov    %r8d,(%rsp)\r\n\t  0x0000000002885fa2: nop\r\n\t  0x0000000002885fa3: callq  0x00000000027b7320  ; OopMap{rbp=Oop off=296}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;*aload_0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@7 (line 49)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;   {runtime_call}\r\n\t  0x0000000002885fa8: int3                      ;*aload_0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runChained@7 (line 49)\r\n\r\n\t  0x0000000002885fa9: hlt    \r\n\t  0x0000000002885faa: hlt    \r\n\t  0x0000000002885fab: hlt    \r\n\t  0x0000000002885fac: hlt    \r\n\t  0x0000000002885fad: hlt    \r\n\t  0x0000000002885fae: hlt    \r\n\t  0x0000000002885faf: hlt    \r\n\t  0x0000000002885fb0: hlt    \r\n\t  0x0000000002885fb1: hlt    \r\n\t  0x0000000002885fb2: hlt    \r\n\t  0x0000000002885fb3: hlt    \r\n\t  0x0000000002885fb4: hlt    \r\n\t  0x0000000002885fb5: hlt    \r\n\t  0x0000000002885fb6: hlt    \r\n\t  0x0000000002885fb7: hlt    \r\n\t  0x0000000002885fb8: hlt    \r\n\t  0x0000000002885fb9: hlt    \r\n\t  0x0000000002885fba: hlt    \r\n\t  0x0000000002885fbb: hlt    \r\n\t  0x0000000002885fbc: hlt    \r\n\t  0x0000000002885fbd: hlt    \r\n\t  0x0000000002885fbe: hlt    \r\n\t  0x0000000002885fbf: hlt    \r\n\t[Exception Handler]\r\n\t[Stub Code]\r\n\t  0x0000000002885fc0: jmpq   0x00000000028694a0  ;   {no_reloc}\r\n\t[Deopt Handler Code]\r\n\t  0x0000000002885fc5: callq  0x0000000002885fca\r\n\t  0x0000000002885fca: subq   $0x5,(%rsp)\r\n\t  0x0000000002885fcf: jmpq   0x00000000027b6f40  ;   {runtime_call}\r\n\t  0x0000000002885fd4: hlt    \r\n\t  0x0000000002885fd5: hlt    \r\n\t  0x0000000002885fd6: hlt    \r\n\t  0x0000000002885fd7: hlt    \r\n\r\n**runUnChained:**\r\n\r\n\tDecoding compiled method 0x00000000028893d0:\r\n\tCode:\r\n\t[Entry Point]\r\n\t[Verified Entry Point]\r\n\t[Constants]\r\n\t  # {method} {0x0000000055360628} &amp;apos;runUnChained&amp;apos; &amp;apos;(LChainA;I)V&amp;apos; in &amp;apos;Chaining&amp;apos;\r\n\t  # parm0:    rdx:rdx   = &amp;apos;ChainA&amp;apos;\r\n\t  # parm1:    r8        = int\r\n\t  #           [sp+0x30]  (sp of caller)\r\n\t  0x0000000002889500: mov    %eax,-0x6000(%rsp)\r\n\t  0x0000000002889507: push   %rbp\r\n\t  0x0000000002889508: sub    $0x20,%rsp         ;*synchronization entry\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@-1 (line 57)\r\n\r\n\r\n\r\n\t  0x000000000288950c: mov    0xc(%rdx),%r11d    ;*getfield b\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainA::getB@1 (line 4)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@1 (line 57)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; implicit exception: dispatches to 0x0000000002889612\r\n\t  0x0000000002889510: mov    0xc(%r11),%r10d    ;*getfield c\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainB::getC@1 (line 10)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@4 (line 57)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; implicit exception: dispatches to 0x000000000288961d\r\n\t  0x0000000002889514: mov    0xc(%r10),%ebx     ;*getfield d\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainC::getD@1 (line 16)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@7 (line 57)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; implicit exception: dispatches to 0x0000000002889629\r\n\t  0x0000000002889518: mov    %r8d,%esi\r\n\t  0x000000000288951b: test   %r8d,%r8d\r\n\t  0x000000000288951e: jle    0x0000000002889606  ;*if_icmpge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@15 (line 58)\r\n\r\n\t  0x0000000002889524: mov    0xc(%rbx),%r10d    ;*getfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething1@2 (line 23)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@19 (line 60)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; implicit exception: dispatches to 0x0000000002889635\r\n\t  0x0000000002889528: xor    %r8d,%r8d\r\n\t  0x000000000288952b: xor    %edx,%edx\r\n\t  0x000000000288952d: xor    %r9d,%r9d\r\n\t  0x0000000002889530: xor    %r11d,%r11d        ;*aload_2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@18 (line 60)\r\n\r\n\t  0x0000000002889533: add    %r10d,%edx         ;*getfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething1@2 (line 23)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@19 (line 60)\r\n\r\n\t  0x0000000002889536: add    %r11d,%r9d\r\n\t  0x0000000002889539: mov    %edx,%edi\r\n\t  0x000000000288953b: add    $0x6,%edi          ;*iadd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@6 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@27 (line 62)\r\n\r\n\t  0x000000000288953e: mov    %edi,0xc(%rbx)     ;*putfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@7 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@27 (line 62)\r\n\r\n\t  0x0000000002889541: mov    %r8d,%ecx\r\n\t  0x0000000002889544: inc    %ecx               ;*iinc\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@30 (line 58)\r\n\r\n\t  0x0000000002889546: cmp    $0x1,%ecx\r\n\t  0x0000000002889549: jge    0x000000000288956e  ;*if_icmpge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@15 (line 58)\r\n\r\n\t  0x000000000288954b: mov    %r8d,%r11d\r\n\t  0x000000000288954e: shl    %r11d\r\n\t  0x0000000002889551: mov    %r9d,%edx\r\n\t  0x0000000002889554: add    $0x6,%edx\r\n\t  0x0000000002889557: mov    %r11d,%r9d\r\n\t  0x000000000288955a: add    $0x2,%r9d\r\n\t  0x000000000288955e: shl    $0x2,%r8d\r\n\t  0x0000000002889562: mov    %r8d,%r11d\r\n\t  0x0000000002889565: add    $0x4,%r11d\r\n\t  0x0000000002889569: mov    %ecx,%r8d\r\n\t  0x000000000288956c: jmp    0x0000000002889533\r\n\t  0x000000000288956e: mov    %esi,%r10d\r\n\t  0x0000000002889571: add    $0xfffffff1,%r10d\r\n\t  0x0000000002889575: mov    $0x80000000,%r11d\r\n\t  0x000000000288957b: cmp    %r10d,%esi\r\n\t  0x000000000288957e: cmovl  %r11d,%r10d\r\n\t  0x0000000002889582: cmp    %r10d,%ecx\r\n\t  0x0000000002889585: jge    0x00000000028895bc\r\n\t  0x0000000002889587: sub    %r9d,%edx\r\n\t  0x000000000288958a: nopw   0x0(%rax,%rax,1)   ;*aload_2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@18 (line 60)\r\n\r\n\t  0x0000000002889590: mov    %ecx,%r11d\r\n\t  0x0000000002889593: shl    %r11d\r\n\t  0x0000000002889596: mov    %ecx,%r8d\r\n\t  0x0000000002889599: shl    $0x2,%r8d\r\n\t  0x000000000288959d: add    %r8d,%r11d\r\n\t  0x00000000028895a0: add    %edx,%r11d         ;*getfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething1@2 (line 23)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@19 (line 60)\r\n\r\n\t  0x00000000028895a3: mov    %r11d,%edi\r\n\t  0x00000000028895a6: add    $0x60,%edi         ;*iadd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@6 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@27 (line 62)\r\n\r\n\t  0x00000000028895a9: add    $0x5a,%r11d\r\n\t  0x00000000028895ad: mov    %r11d,0xc(%rbx)\r\n\t  0x00000000028895b1: mov    %edi,0xc(%rbx)     ;*putfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@7 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@27 (line 62)\r\n\r\n\t  0x00000000028895b4: add    $0x10,%ecx         ;*iinc\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@30 (line 58)\r\n\r\n\t  0x00000000028895b7: cmp    %r10d,%ecx\r\n\t  0x00000000028895ba: jl     0x0000000002889590  ;*getfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething1@2 (line 23)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@19 (line 60)\r\n\r\n\t  0x00000000028895bc: cmp    %esi,%ecx\r\n\t  0x00000000028895be: jge    0x0000000002889606\r\n\t  0x00000000028895c0: mov    %ecx,%r11d\r\n\t  0x00000000028895c3: shl    $0x2,%r11d\r\n\t  0x00000000028895c7: mov    %ecx,%r8d\r\n\t  0x00000000028895ca: shl    %r8d\r\n\t  0x00000000028895cd: mov    %r8d,%r9d\r\n\t  0x00000000028895d0: add    %r11d,%r9d\r\n\t  0x00000000028895d3: sub    %r9d,%edi\r\n\t  0x00000000028895d6: xchg   %ax,%ax            ;*aload_2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@18 (line 60)\r\n\r\n\t  0x00000000028895d8: add    %r8d,%r11d\r\n\t  0x00000000028895db: add    %edi,%r11d\r\n\t  0x00000000028895de: add    $0x6,%r11d\r\n\t  0x00000000028895e2: mov    %r11d,0xc(%rbx)    ;*putfield result\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - ChainD::doSomething3@7 (line 25)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@27 (line 62)\r\n\r\n\t  0x00000000028895e6: mov    %ecx,%edx\r\n\t  0x00000000028895e8: inc    %edx               ;*iinc\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@30 (line 58)\r\n\r\n\t  0x00000000028895ea: cmp    %esi,%edx\r\n\t  0x00000000028895ec: jge    0x0000000002889606\r\n\t  0x00000000028895ee: mov    %ecx,%r11d\r\n\t  0x00000000028895f1: shl    $0x2,%r11d\r\n\t  0x00000000028895f5: shl    %ecx\r\n\t  0x00000000028895f7: add    $0x4,%r11d\r\n\t  0x00000000028895fb: mov    %ecx,%r8d\r\n\t  0x00000000028895fe: add    $0x2,%r8d\r\n\t  0x0000000002889602: mov    %edx,%ecx\r\n\t  0x0000000002889604: jmp    0x00000000028895d8  ;*if_icmpge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@15 (line 58)\r\n\r\n\t  0x0000000002889606: add    $0x20,%rsp\r\n\t  0x000000000288960a: pop    %rbp\r\n\t  0x000000000288960b: test   %eax,-0x26c9611(%rip)        # 0x00000000001c0000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;   {poll_return}\r\n\t  0x0000000002889611: retq   \r\n\t  0x0000000002889612: mov    $0xfffffff6,%edx\r\n\t  0x0000000002889617: callq  0x00000000027b7320  ; OopMap{off=284}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;*invokevirtual getB\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@1 (line 57)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;   {runtime_call}\r\n\t  0x000000000288961c: int3                      ;*invokevirtual getB\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@1 (line 57)\r\n\r\n\t  0x000000000288961d: mov    $0xfffffff6,%edx\r\n\t  0x0000000002889622: nop\r\n\t  0x0000000002889623: callq  0x00000000027b7320  ; OopMap{off=296}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;*invokevirtual getC\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@4 (line 57)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;   {runtime_call}\r\n\t  0x0000000002889628: int3                      ;*invokevirtual getC\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@4 (line 57)\r\n\r\n\t  0x0000000002889629: mov    $0xfffffff6,%edx\r\n\t  0x000000000288962e: nop\r\n\t  0x000000000288962f: callq  0x00000000027b7320  ; OopMap{off=308}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;*invokevirtual getD\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@7 (line 57)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;   {runtime_call}\r\n\t  0x0000000002889634: int3                      ;*invokevirtual getD\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@7 (line 57)\r\n\r\n\t  0x0000000002889635: mov    $0xffffff86,%edx\r\n\t  0x000000000288963a: mov    %ebx,%ebp\r\n\t  0x000000000288963c: mov    %r8d,(%rsp)\r\n\t  0x0000000002889640: data32 xchg %ax,%ax\r\n\t  0x0000000002889643: callq  0x00000000027b7320  ; OopMap{rbp=NarrowOop off=328}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;*aload_2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@18 (line 60)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t;   {runtime_call}\r\n\t  0x0000000002889648: int3                      ;*aload_2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t; - Chaining::runUnChained@18 (line 60)\r\n\r\n\t  0x0000000002889649: hlt    \r\n\t  0x000000000288964a: hlt    \r\n\t  0x000000000288964b: hlt    \r\n\t  0x000000000288964c: hlt    \r\n\t  0x000000000288964d: hlt    \r\n\t  0x000000000288964e: hlt    \r\n\t  0x000000000288964f: hlt    \r\n\t  0x0000000002889650: hlt    \r\n\t  0x0000000002889651: hlt    \r\n\t  0x0000000002889652: hlt    \r\n\t  0x0000000002889653: hlt    \r\n\t  0x0000000002889654: hlt    \r\n\t  0x0000000002889655: hlt    \r\n\t  0x0000000002889656: hlt    \r\n\t  0x0000000002889657: hlt    \r\n\t  0x0000000002889658: hlt    \r\n\t  0x0000000002889659: hlt    \r\n\t  0x000000000288965a: hlt    \r\n\t  0x000000000288965b: hlt    \r\n\t  0x000000000288965c: hlt    \r\n\t  0x000000000288965d: hlt    \r\n\t  0x000000000288965e: hlt    \r\n\t  0x000000000288965f: hlt    \r\n\t[Exception Handler]\r\n\t[Stub Code]\r\n\t  0x0000000002889660: jmpq   0x00000000028694a0  ;   {no_reloc}\r\n\t[Deopt Handler Code]\r\n\t  0x0000000002889665: callq  0x000000000288966a\r\n\t  0x000000000288966a: subq   $0x5,(%rsp)\r\n\t  0x000000000288966f: jmpq   0x00000000027b6f40  ;   {runtime_call}\r\n\t  0x0000000002889674: hlt    \r\n\t  0x0000000002889675: hlt    \r\n\t  0x0000000002889676: hlt    \r\n\t  0x0000000002889677: hlt    \r\n\r\n\r\nBy comparing the outputs, it can be seen that they are essentially equal. The calls have been inlined in both cases.\r\n\r\nOne could now argue that the `doSomething` methods are so trivial that *they* have been inlined as well, and the results may be different for more complex `doSomething` methods. This may be true. But a quick test with a method like\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    int doSomething(int i)\r\n    {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(\r\n            Arrays.asList(1,2,3,4,5,6,7,8,9,10));\r\n        Collections.sort(list);\r\n        return list.get(i);\r\n    }\r\n\r\nshows that the actual inlining of the chained calls still happen, and when the &quot;inner&quot; methods become even more complex, any potential overhead that *might* occur due to the chained calls will become negligible compared to what is done in the `doSomething` method. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Law_of_Demeter","title":"Is Chaining methods in Java slow?","body":"<p>Although you mentioned that you already know it: You should avoid such long method chains, for several reasons:</p>\n<ul>\n<li>It's an indication of bad OO design (more precisely, it looks like a violation of the <a href=\"http://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">Law Of Demeter</a>)</li>\n<li>It's error-prone. If a line like <code>a.getB().getC().getD().doSomething()</code> throws a <code>NullPointerException</code>, you'll have no fun with debugging this...</li>\n<li>Let me be a bit subjective here: It looks horrible.</li>\n</ul>\n<p>Of course, you have to consider <em>what</em> the methods are doing actually. Although a <code>get</code>-method should usually just return a value, you don't know whether it really does this. Even something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;T&gt; getList() {\n    // Return an unmodifiable view to the caller\n    return Collections.unmodifiableList(internalList);\n}\n</code></pre>\n<p>(which certainly <em>is</em> a good practice) may change the outcome.</p>\n<p>That being said, and considering that these <code>get</code>-methods are really only plain, stupid <em>Getters</em>:</p>\n<p>It does not have an impact on performance in practice. The method calls will be inlined by the JIT.</p>\n<p>As an example, consider the following program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ChainA {\n  private ChainB b = new ChainB();\n  ChainB getB() {\n    return b;\n  }\n}\nclass ChainB {\n  private ChainC c = new ChainC();\n  ChainC getC() {\n    return c;\n  }\n}\nclass ChainC {\n  private ChainD d = new ChainD();\n  ChainD getD() {\n    return d;\n  }\n}\n\nclass ChainD {\n  private int result = 0;\n  int getResult() { return result; }\n  void doSomething1(){ result += 1; }\n  void doSomething2(){ result += 2; }\n  void doSomething3(){ result += 3; }\n}\n\nclass Chaining\n{\n    public static void main(String args[])\n    {\n        for (int n=100; n&lt;10000; n+=100)\n        {\n            ChainA a0 = new ChainA();\n            runChained(a0, n);\n            System.out.println(a0.getB().getC().getD().getResult());\n\n            ChainA a1 = new ChainA();\n            runUnChained(a1, n);\n            System.out.println(a1.getB().getC().getD().getResult());\n        }\n\n    }\n\n    private static void runChained(ChainA a, int n)\n    {\n        for (int i=0; i&lt;n; i++)\n        {\n            a.getB().getC().getD().doSomething1();\n            a.getB().getC().getD().doSomething2();\n            a.getB().getC().getD().doSomething3();\n        }\n    }\n\n    private static void runUnChained(ChainA a, int n)\n    {\n        ChainD d = a.getB().getC().getD();\n        for (int i=0; i&lt;n; i++)\n        {\n            d.doSomething1();\n            d.doSomething2();\n            d.doSomething3();\n        }\n    }\n\n}\n</code></pre>\n<p>It performs the calls like you described them, once as a chained call, and once as an unchained version.</p>\n<p>Running it with</p>\n<pre class=\"lang-shell prettyprint-override\"><code>java -server -XX:+UnlockDiagnosticVMOptions -XX:+TraceClassLoading -XX:+LogCompilation -XX:+PrintAssembly Chaining\n</code></pre>\n<p>on a HotSpot-Disassembler-enabled JVM results in the following output (no need to <em>read</em> it, just for reference)</p>\n<p><strong>runChained:</strong></p>\n<pre><code>Decoding compiled method 0x0000000002885d50:\nCode:\n[Entry Point]\n[Verified Entry Point]\n[Constants]\n  # {method} {0x0000000055360550} &amp;apos;runChained&amp;apos; &amp;apos;(LChainA;I)V&amp;apos; in &amp;apos;Chaining&amp;apos;\n  # parm0:    rdx:rdx   = &amp;apos;ChainA&amp;apos;\n  # parm1:    r8        = int\n  #           [sp+0x30]  (sp of caller)\n  0x0000000002885e80: mov    %eax,-0x6000(%rsp)\n  0x0000000002885e87: push   %rbp\n  0x0000000002885e88: sub    $0x20,%rsp         ;*synchronization entry\n                                                ; - Chaining::runChained@-1 (line 47)\n\n  0x0000000002885e8c: mov    %rdx,%r9\n  0x0000000002885e8f: mov    %r8d,%ebx\n  0x0000000002885e92: test   %r8d,%r8d\n  0x0000000002885e95: jle    0x0000000002885f8a  ;*if_icmpge\n                                                ; - Chaining::runChained@4 (line 47)\n\n  0x0000000002885e9b: mov    0xc(%rdx),%r11d    ;*getfield b\n                                                ; - ChainA::getB@1 (line 4)\n                                                ; - Chaining::runChained@8 (line 49)\n                                                ; implicit exception: dispatches to 0x0000000002885f96\n  0x0000000002885e9f: mov    0xc(%r11),%r10d    ;*getfield c\n                                                ; - ChainB::getC@1 (line 10)\n                                                ; - Chaining::runChained@11 (line 49)\n                                                ; implicit exception: dispatches to 0x0000000002885f96\n\n    0x0000000002885ea3: mov    0xc(%r10),%edx     ;*getfield d\n                                                ; - ChainC::getD@1 (line 16)\n                                                ; - Chaining::runChained@14 (line 49)\n                                                ; implicit exception: dispatches to 0x0000000002885f96\n  0x0000000002885ea7: mov    0xc(%rdx),%r11d    ;*getfield result\n                                                ; - ChainD::doSomething1@2 (line 23)\n                                                ; - Chaining::runChained@17 (line 49)\n                                                ; implicit exception: dispatches to 0x0000000002885f96\n  0x0000000002885eab: xor    %r10d,%r10d\n  0x0000000002885eae: xor    %esi,%esi\n  0x0000000002885eb0: xor    %r8d,%r8d\n  0x0000000002885eb3: xor    %ecx,%ecx          ;*aload_0\n                                                ; - Chaining::runChained@7 (line 49)\n\n  0x0000000002885eb5: add    %r11d,%esi         ;*getfield result\n                                                ; - ChainD::doSomething1@2 (line 23)\n                                                ; - Chaining::runChained@17 (line 49)\n\n  0x0000000002885eb8: add    %ecx,%r8d\n  0x0000000002885ebb: mov    %esi,%eax\n  0x0000000002885ebd: add    $0x6,%eax          ;*iadd\n                                                ; - ChainD::doSomething3@6 (line 25)\n                                                ; - Chaining::runChained@43 (line 51)\n\n  0x0000000002885ec0: mov    %eax,0xc(%rdx)     ;*putfield result\n                                                ; - ChainD::doSomething3@7 (line 25)\n                                                ; - Chaining::runChained@43 (line 51)\n\n  0x0000000002885ec3: mov    %r10d,%edi\n  0x0000000002885ec6: inc    %edi               ;*iinc\n                                                ; - Chaining::runChained@46 (line 47)\n\n  0x0000000002885ec8: cmp    $0x1,%edi\n  0x0000000002885ecb: jge    0x0000000002885eee  ;*if_icmpge\n                                                ; - Chaining::runChained@4 (line 47)\n\n  0x0000000002885ecd: mov    %r10d,%ecx\n  0x0000000002885ed0: shl    %ecx\n  0x0000000002885ed2: mov    %r8d,%esi\n  0x0000000002885ed5: add    $0x6,%esi\n  0x0000000002885ed8: mov    %ecx,%r8d\n  0x0000000002885edb: add    $0x2,%r8d\n  0x0000000002885edf: shl    $0x2,%r10d\n  0x0000000002885ee3: mov    %r10d,%ecx\n  0x0000000002885ee6: add    $0x4,%ecx\n  0x0000000002885ee9: mov    %edi,%r10d\n  0x0000000002885eec: jmp    0x0000000002885eb5\n  0x0000000002885eee: mov    %ebx,%r11d\n  0x0000000002885ef1: add    $0xfffffff1,%r11d\n  0x0000000002885ef5: mov    $0x80000000,%r9d\n  0x0000000002885efb: cmp    %r11d,%ebx\n  0x0000000002885efe: cmovl  %r9d,%r11d\n  0x0000000002885f02: cmp    %r11d,%edi\n  0x0000000002885f05: jge    0x0000000002885f3c\n  0x0000000002885f07: sub    %r8d,%esi\n  0x0000000002885f0a: nopw   0x0(%rax,%rax,1)   ;*aload_0\n                                                ; - Chaining::runChained@7 (line 49)\n\n  0x0000000002885f10: mov    %edi,%r8d\n  0x0000000002885f13: shl    %r8d\n  0x0000000002885f16: mov    %edi,%r9d\n  0x0000000002885f19: shl    $0x2,%r9d\n  0x0000000002885f1d: add    %r9d,%r8d\n  0x0000000002885f20: add    %esi,%r8d          ;*getfield result\n                                                ; - ChainD::doSomething1@2 (line 23)\n                                                ; - Chaining::runChained@17 (line 49)\n\n  0x0000000002885f23: mov    %r8d,%eax\n  0x0000000002885f26: add    $0x60,%eax         ;*iadd\n                                                ; - ChainD::doSomething3@6 (line 25)\n                                                ; - Chaining::runChained@43 (line 51)\n\n  0x0000000002885f29: add    $0x5a,%r8d\n  0x0000000002885f2d: mov    %r8d,0xc(%rdx)\n  0x0000000002885f31: mov    %eax,0xc(%rdx)     ;*putfield result\n                                                ; - ChainD::doSomething3@7 (line 25)\n                                                ; - Chaining::runChained@43 (line 51)\n\n  0x0000000002885f34: add    $0x10,%edi         ;*iinc\n                                                ; - Chaining::runChained@46 (line 47)\n\n  0x0000000002885f37: cmp    %r11d,%edi\n  0x0000000002885f3a: jl     0x0000000002885f10  ;*getfield result\n                                                ; - ChainD::doSomething1@2 (line 23)\n                                                ; - Chaining::runChained@17 (line 49)\n\n  0x0000000002885f3c: cmp    %ebx,%edi\n  0x0000000002885f3e: jge    0x0000000002885f8a\n  0x0000000002885f40: mov    %edi,%r10d\n  0x0000000002885f43: shl    $0x2,%r10d\n  0x0000000002885f47: mov    %edi,%r11d\n  0x0000000002885f4a: shl    %r11d\n  0x0000000002885f4d: mov    %r11d,%r8d\n  0x0000000002885f50: add    %r10d,%r8d\n  0x0000000002885f53: sub    %r8d,%eax\n  0x0000000002885f56: xchg   %ax,%ax            ;*aload_0\n                                                ; - Chaining::runChained@7 (line 49)\n\n  0x0000000002885f58: add    %r11d,%r10d\n  0x0000000002885f5b: add    %eax,%r10d\n  0x0000000002885f5e: add    $0x6,%r10d\n  0x0000000002885f62: mov    %r10d,0xc(%rdx)    ;*putfield result\n                                                ; - ChainD::doSomething3@7 (line 25)\n                                                ; - Chaining::runChained@43 (line 51)\n\n  0x0000000002885f66: mov    %edi,%r8d\n  0x0000000002885f69: inc    %r8d               ;*iinc\n                                                ; - Chaining::runChained@46 (line 47)\n\n  0x0000000002885f6c: cmp    %ebx,%r8d\n  0x0000000002885f6f: jge    0x0000000002885f8a\n  0x0000000002885f71: mov    %edi,%r10d\n  0x0000000002885f74: shl    $0x2,%r10d\n  0x0000000002885f78: shl    %edi\n  0x0000000002885f7a: add    $0x4,%r10d\n  0x0000000002885f7e: mov    %edi,%r11d\n  0x0000000002885f81: add    $0x2,%r11d\n  0x0000000002885f85: mov    %r8d,%edi\n  0x0000000002885f88: jmp    0x0000000002885f58  ;*if_icmpge\n                                                ; - Chaining::runChained@4 (line 47)\n\n  0x0000000002885f8a: add    $0x20,%rsp\n  0x0000000002885f8e: pop    %rbp\n  0x0000000002885f8f: test   %eax,-0x26c5f95(%rip)        # 0x00000000001c0000\n                                                ;   {poll_return}\n  0x0000000002885f95: retq   \n  0x0000000002885f96: mov    $0xffffff86,%edx\n  0x0000000002885f9b: mov    %r9,%rbp\n  0x0000000002885f9e: mov    %r8d,(%rsp)\n  0x0000000002885fa2: nop\n  0x0000000002885fa3: callq  0x00000000027b7320  ; OopMap{rbp=Oop off=296}\n                                                ;*aload_0\n                                                ; - Chaining::runChained@7 (line 49)\n                                                ;   {runtime_call}\n  0x0000000002885fa8: int3                      ;*aload_0\n                                                ; - Chaining::runChained@7 (line 49)\n\n  0x0000000002885fa9: hlt    \n  0x0000000002885faa: hlt    \n  0x0000000002885fab: hlt    \n  0x0000000002885fac: hlt    \n  0x0000000002885fad: hlt    \n  0x0000000002885fae: hlt    \n  0x0000000002885faf: hlt    \n  0x0000000002885fb0: hlt    \n  0x0000000002885fb1: hlt    \n  0x0000000002885fb2: hlt    \n  0x0000000002885fb3: hlt    \n  0x0000000002885fb4: hlt    \n  0x0000000002885fb5: hlt    \n  0x0000000002885fb6: hlt    \n  0x0000000002885fb7: hlt    \n  0x0000000002885fb8: hlt    \n  0x0000000002885fb9: hlt    \n  0x0000000002885fba: hlt    \n  0x0000000002885fbb: hlt    \n  0x0000000002885fbc: hlt    \n  0x0000000002885fbd: hlt    \n  0x0000000002885fbe: hlt    \n  0x0000000002885fbf: hlt    \n[Exception Handler]\n[Stub Code]\n  0x0000000002885fc0: jmpq   0x00000000028694a0  ;   {no_reloc}\n[Deopt Handler Code]\n  0x0000000002885fc5: callq  0x0000000002885fca\n  0x0000000002885fca: subq   $0x5,(%rsp)\n  0x0000000002885fcf: jmpq   0x00000000027b6f40  ;   {runtime_call}\n  0x0000000002885fd4: hlt    \n  0x0000000002885fd5: hlt    \n  0x0000000002885fd6: hlt    \n  0x0000000002885fd7: hlt    \n</code></pre>\n<p><strong>runUnChained:</strong></p>\n<pre><code>Decoding compiled method 0x00000000028893d0:\nCode:\n[Entry Point]\n[Verified Entry Point]\n[Constants]\n  # {method} {0x0000000055360628} &amp;apos;runUnChained&amp;apos; &amp;apos;(LChainA;I)V&amp;apos; in &amp;apos;Chaining&amp;apos;\n  # parm0:    rdx:rdx   = &amp;apos;ChainA&amp;apos;\n  # parm1:    r8        = int\n  #           [sp+0x30]  (sp of caller)\n  0x0000000002889500: mov    %eax,-0x6000(%rsp)\n  0x0000000002889507: push   %rbp\n  0x0000000002889508: sub    $0x20,%rsp         ;*synchronization entry\n                                                ; - Chaining::runUnChained@-1 (line 57)\n\n\n\n  0x000000000288950c: mov    0xc(%rdx),%r11d    ;*getfield b\n                                                ; - ChainA::getB@1 (line 4)\n                                                ; - Chaining::runUnChained@1 (line 57)\n                                                ; implicit exception: dispatches to 0x0000000002889612\n  0x0000000002889510: mov    0xc(%r11),%r10d    ;*getfield c\n                                                ; - ChainB::getC@1 (line 10)\n                                                ; - Chaining::runUnChained@4 (line 57)\n                                                ; implicit exception: dispatches to 0x000000000288961d\n  0x0000000002889514: mov    0xc(%r10),%ebx     ;*getfield d\n                                                ; - ChainC::getD@1 (line 16)\n                                                ; - Chaining::runUnChained@7 (line 57)\n                                                ; implicit exception: dispatches to 0x0000000002889629\n  0x0000000002889518: mov    %r8d,%esi\n  0x000000000288951b: test   %r8d,%r8d\n  0x000000000288951e: jle    0x0000000002889606  ;*if_icmpge\n                                                ; - Chaining::runUnChained@15 (line 58)\n\n  0x0000000002889524: mov    0xc(%rbx),%r10d    ;*getfield result\n                                                ; - ChainD::doSomething1@2 (line 23)\n                                                ; - Chaining::runUnChained@19 (line 60)\n                                                ; implicit exception: dispatches to 0x0000000002889635\n  0x0000000002889528: xor    %r8d,%r8d\n  0x000000000288952b: xor    %edx,%edx\n  0x000000000288952d: xor    %r9d,%r9d\n  0x0000000002889530: xor    %r11d,%r11d        ;*aload_2\n                                                ; - Chaining::runUnChained@18 (line 60)\n\n  0x0000000002889533: add    %r10d,%edx         ;*getfield result\n                                                ; - ChainD::doSomething1@2 (line 23)\n                                                ; - Chaining::runUnChained@19 (line 60)\n\n  0x0000000002889536: add    %r11d,%r9d\n  0x0000000002889539: mov    %edx,%edi\n  0x000000000288953b: add    $0x6,%edi          ;*iadd\n                                                ; - ChainD::doSomething3@6 (line 25)\n                                                ; - Chaining::runUnChained@27 (line 62)\n\n  0x000000000288953e: mov    %edi,0xc(%rbx)     ;*putfield result\n                                                ; - ChainD::doSomething3@7 (line 25)\n                                                ; - Chaining::runUnChained@27 (line 62)\n\n  0x0000000002889541: mov    %r8d,%ecx\n  0x0000000002889544: inc    %ecx               ;*iinc\n                                                ; - Chaining::runUnChained@30 (line 58)\n\n  0x0000000002889546: cmp    $0x1,%ecx\n  0x0000000002889549: jge    0x000000000288956e  ;*if_icmpge\n                                                ; - Chaining::runUnChained@15 (line 58)\n\n  0x000000000288954b: mov    %r8d,%r11d\n  0x000000000288954e: shl    %r11d\n  0x0000000002889551: mov    %r9d,%edx\n  0x0000000002889554: add    $0x6,%edx\n  0x0000000002889557: mov    %r11d,%r9d\n  0x000000000288955a: add    $0x2,%r9d\n  0x000000000288955e: shl    $0x2,%r8d\n  0x0000000002889562: mov    %r8d,%r11d\n  0x0000000002889565: add    $0x4,%r11d\n  0x0000000002889569: mov    %ecx,%r8d\n  0x000000000288956c: jmp    0x0000000002889533\n  0x000000000288956e: mov    %esi,%r10d\n  0x0000000002889571: add    $0xfffffff1,%r10d\n  0x0000000002889575: mov    $0x80000000,%r11d\n  0x000000000288957b: cmp    %r10d,%esi\n  0x000000000288957e: cmovl  %r11d,%r10d\n  0x0000000002889582: cmp    %r10d,%ecx\n  0x0000000002889585: jge    0x00000000028895bc\n  0x0000000002889587: sub    %r9d,%edx\n  0x000000000288958a: nopw   0x0(%rax,%rax,1)   ;*aload_2\n                                                ; - Chaining::runUnChained@18 (line 60)\n\n  0x0000000002889590: mov    %ecx,%r11d\n  0x0000000002889593: shl    %r11d\n  0x0000000002889596: mov    %ecx,%r8d\n  0x0000000002889599: shl    $0x2,%r8d\n  0x000000000288959d: add    %r8d,%r11d\n  0x00000000028895a0: add    %edx,%r11d         ;*getfield result\n                                                ; - ChainD::doSomething1@2 (line 23)\n                                                ; - Chaining::runUnChained@19 (line 60)\n\n  0x00000000028895a3: mov    %r11d,%edi\n  0x00000000028895a6: add    $0x60,%edi         ;*iadd\n                                                ; - ChainD::doSomething3@6 (line 25)\n                                                ; - Chaining::runUnChained@27 (line 62)\n\n  0x00000000028895a9: add    $0x5a,%r11d\n  0x00000000028895ad: mov    %r11d,0xc(%rbx)\n  0x00000000028895b1: mov    %edi,0xc(%rbx)     ;*putfield result\n                                                ; - ChainD::doSomething3@7 (line 25)\n                                                ; - Chaining::runUnChained@27 (line 62)\n\n  0x00000000028895b4: add    $0x10,%ecx         ;*iinc\n                                                ; - Chaining::runUnChained@30 (line 58)\n\n  0x00000000028895b7: cmp    %r10d,%ecx\n  0x00000000028895ba: jl     0x0000000002889590  ;*getfield result\n                                                ; - ChainD::doSomething1@2 (line 23)\n                                                ; - Chaining::runUnChained@19 (line 60)\n\n  0x00000000028895bc: cmp    %esi,%ecx\n  0x00000000028895be: jge    0x0000000002889606\n  0x00000000028895c0: mov    %ecx,%r11d\n  0x00000000028895c3: shl    $0x2,%r11d\n  0x00000000028895c7: mov    %ecx,%r8d\n  0x00000000028895ca: shl    %r8d\n  0x00000000028895cd: mov    %r8d,%r9d\n  0x00000000028895d0: add    %r11d,%r9d\n  0x00000000028895d3: sub    %r9d,%edi\n  0x00000000028895d6: xchg   %ax,%ax            ;*aload_2\n                                                ; - Chaining::runUnChained@18 (line 60)\n\n  0x00000000028895d8: add    %r8d,%r11d\n  0x00000000028895db: add    %edi,%r11d\n  0x00000000028895de: add    $0x6,%r11d\n  0x00000000028895e2: mov    %r11d,0xc(%rbx)    ;*putfield result\n                                                ; - ChainD::doSomething3@7 (line 25)\n                                                ; - Chaining::runUnChained@27 (line 62)\n\n  0x00000000028895e6: mov    %ecx,%edx\n  0x00000000028895e8: inc    %edx               ;*iinc\n                                                ; - Chaining::runUnChained@30 (line 58)\n\n  0x00000000028895ea: cmp    %esi,%edx\n  0x00000000028895ec: jge    0x0000000002889606\n  0x00000000028895ee: mov    %ecx,%r11d\n  0x00000000028895f1: shl    $0x2,%r11d\n  0x00000000028895f5: shl    %ecx\n  0x00000000028895f7: add    $0x4,%r11d\n  0x00000000028895fb: mov    %ecx,%r8d\n  0x00000000028895fe: add    $0x2,%r8d\n  0x0000000002889602: mov    %edx,%ecx\n  0x0000000002889604: jmp    0x00000000028895d8  ;*if_icmpge\n                                                ; - Chaining::runUnChained@15 (line 58)\n\n  0x0000000002889606: add    $0x20,%rsp\n  0x000000000288960a: pop    %rbp\n  0x000000000288960b: test   %eax,-0x26c9611(%rip)        # 0x00000000001c0000\n                                                ;   {poll_return}\n  0x0000000002889611: retq   \n  0x0000000002889612: mov    $0xfffffff6,%edx\n  0x0000000002889617: callq  0x00000000027b7320  ; OopMap{off=284}\n                                                ;*invokevirtual getB\n                                                ; - Chaining::runUnChained@1 (line 57)\n                                                ;   {runtime_call}\n  0x000000000288961c: int3                      ;*invokevirtual getB\n                                                ; - Chaining::runUnChained@1 (line 57)\n\n  0x000000000288961d: mov    $0xfffffff6,%edx\n  0x0000000002889622: nop\n  0x0000000002889623: callq  0x00000000027b7320  ; OopMap{off=296}\n                                                ;*invokevirtual getC\n                                                ; - Chaining::runUnChained@4 (line 57)\n                                                ;   {runtime_call}\n  0x0000000002889628: int3                      ;*invokevirtual getC\n                                                ; - Chaining::runUnChained@4 (line 57)\n\n  0x0000000002889629: mov    $0xfffffff6,%edx\n  0x000000000288962e: nop\n  0x000000000288962f: callq  0x00000000027b7320  ; OopMap{off=308}\n                                                ;*invokevirtual getD\n                                                ; - Chaining::runUnChained@7 (line 57)\n                                                ;   {runtime_call}\n  0x0000000002889634: int3                      ;*invokevirtual getD\n                                                ; - Chaining::runUnChained@7 (line 57)\n\n  0x0000000002889635: mov    $0xffffff86,%edx\n  0x000000000288963a: mov    %ebx,%ebp\n  0x000000000288963c: mov    %r8d,(%rsp)\n  0x0000000002889640: data32 xchg %ax,%ax\n  0x0000000002889643: callq  0x00000000027b7320  ; OopMap{rbp=NarrowOop off=328}\n                                                ;*aload_2\n                                                ; - Chaining::runUnChained@18 (line 60)\n                                                ;   {runtime_call}\n  0x0000000002889648: int3                      ;*aload_2\n                                                ; - Chaining::runUnChained@18 (line 60)\n\n  0x0000000002889649: hlt    \n  0x000000000288964a: hlt    \n  0x000000000288964b: hlt    \n  0x000000000288964c: hlt    \n  0x000000000288964d: hlt    \n  0x000000000288964e: hlt    \n  0x000000000288964f: hlt    \n  0x0000000002889650: hlt    \n  0x0000000002889651: hlt    \n  0x0000000002889652: hlt    \n  0x0000000002889653: hlt    \n  0x0000000002889654: hlt    \n  0x0000000002889655: hlt    \n  0x0000000002889656: hlt    \n  0x0000000002889657: hlt    \n  0x0000000002889658: hlt    \n  0x0000000002889659: hlt    \n  0x000000000288965a: hlt    \n  0x000000000288965b: hlt    \n  0x000000000288965c: hlt    \n  0x000000000288965d: hlt    \n  0x000000000288965e: hlt    \n  0x000000000288965f: hlt    \n[Exception Handler]\n[Stub Code]\n  0x0000000002889660: jmpq   0x00000000028694a0  ;   {no_reloc}\n[Deopt Handler Code]\n  0x0000000002889665: callq  0x000000000288966a\n  0x000000000288966a: subq   $0x5,(%rsp)\n  0x000000000288966f: jmpq   0x00000000027b6f40  ;   {runtime_call}\n  0x0000000002889674: hlt    \n  0x0000000002889675: hlt    \n  0x0000000002889676: hlt    \n  0x0000000002889677: hlt    \n</code></pre>\n<p>By comparing the outputs, it can be seen that they are essentially equal. The calls have been inlined in both cases.</p>\n<p>One could now argue that the <code>doSomething</code> methods are so trivial that <em>they</em> have been inlined as well, and the results may be different for more complex <code>doSomething</code> methods. This may be true. But a quick test with a method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>int doSomething(int i)\n{\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(\n        Arrays.asList(1,2,3,4,5,6,7,8,9,10));\n    Collections.sort(list);\n    return list.get(i);\n}\n</code></pre>\n<p>shows that the actual inlining of the chained calls still happen, and when the &quot;inner&quot; methods become even more complex, any potential overhead that <em>might</em> occur due to the chained calls will become negligible compared to what is done in the <code>doSomething</code> method.</p>\n"}],"owner":{"account_id":3262139,"reputation":323,"user_id":2747502,"accept_rate":36,"display_name":"user2747502"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25018561,"answer_count":4,"score":1,"last_activity_date":1659838112,"creation_date":1406641975,"question_id":25017082,"body_markdown":"Suppose I have an object `A` which can call `getB()` call `getC()` call `getD()` call doSomething…\r\nNow I want to use some methods of the `D` multiple times in my application i.e.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     A.getB().getC().getD().doSomething1();\r\n     A.getB().getC().getD().doSomething2();\r\n     A.getB().getC().getD().doSomething3();\r\n\r\nI know it&#39;s best to create a variable `d = A.getB().getC().getD()` and then use it. But I wonder if there&#39;s any performance issue with chaining multiple methods like this. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class A { \r\n      private B b;\r\n      B getB() { \r\n        return b;\r\n      }\r\n    }\r\n    class B {\r\n      private C c;\r\n      C getC() { \r\n        return c;\r\n      }\r\n    }\r\n    class C {\r\n      private D d;\r\n      D getD() { \r\n        return d;\r\n      }\r\n    }\r\n\r\n    class D {\r\n      void doSomething1(){};\r\n      void doSomething2(){};\r\n      void doSomething3(){};\r\n    }","title":"Is Chaining methods in Java slow?","body":"<p>Suppose I have an object <code>A</code> which can call <code>getB()</code> call <code>getC()</code> call <code>getD()</code> call doSomething…\nNow I want to use some methods of the <code>D</code> multiple times in my application i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code> A.getB().getC().getD().doSomething1();\n A.getB().getC().getD().doSomething2();\n A.getB().getC().getD().doSomething3();\n</code></pre>\n<p>I know it's best to create a variable <code>d = A.getB().getC().getD()</code> and then use it. But I wonder if there's any performance issue with chaining multiple methods like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A { \n  private B b;\n  B getB() { \n    return b;\n  }\n}\nclass B {\n  private C c;\n  C getC() { \n    return c;\n  }\n}\nclass C {\n  private D d;\n  D getD() { \n    return d;\n  }\n}\n\nclass D {\n  void doSomething1(){};\n  void doSomething2(){};\n  void doSomething3(){};\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":5637003,"reputation":9,"user_id":4462186,"display_name":"mcavs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659836435,"creation_date":1659836435,"answer_id":73264358,"question_id":73256544,"body_markdown":"I found a way to do it:\r\n```\r\nreturn ExchangeFilterFunction.ofResponseProcessor(\r\n        clientResponse -&gt;\r\n            clientResponse\r\n                .bodyToMono(String.class)\r\n                .flatMap(\r\n                    stringResponse -&gt; {\r\n                      var mutatedResponse =\r\n                          clientResponse.mutate().headers(httpHeaders -&gt; clientResponse.headers()).statusCode(calcNewStatusBasedOnStringResponse());\r\n```","title":"Webflux - Transform a WebClient response globally","body":"<p>I found a way to do it:</p>\n<pre><code>return ExchangeFilterFunction.ofResponseProcessor(\n        clientResponse -&gt;\n            clientResponse\n                .bodyToMono(String.class)\n                .flatMap(\n                    stringResponse -&gt; {\n                      var mutatedResponse =\n                          clientResponse.mutate().headers(httpHeaders -&gt; clientResponse.headers()).statusCode(calcNewStatusBasedOnStringResponse());\n</code></pre>\n"}],"owner":{"account_id":5637003,"reputation":9,"user_id":4462186,"display_name":"mcavs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659836435,"creation_date":1659748675,"question_id":73256544,"body_markdown":"I&#39;m connecting to an API that responds to everything with a HTTP code 200 so I want to transform it correctly if it&#39;s a 4xx or 5xx. Is there a way to do this globally? with a ExchangeFilterFunction maybe? ","title":"Webflux - Transform a WebClient response globally","body":"<p>I'm connecting to an API that responds to everything with a HTTP code 200 so I want to transform it correctly if it's a 4xx or 5xx. Is there a way to do this globally? with a ExchangeFilterFunction maybe?</p>\n"},{"tags":["java","switch-statement","expression","yield"],"comments":[{"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"score":0,"creation_date":1659840890,"post_id":73264328,"comment_id":129389276,"body_markdown":"My question: why my code doesn&#39;t get compiled? Where does it get wrong?","body":"My question: why my code doesn&#39;t get compiled? Where does it get wrong?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1659841429,"post_id":73264328,"comment_id":129389315,"body_markdown":"Your code doesn’t work because it doesn’t follow Java’s syntax rules. Java could have been designed to allow this, but it wasn’t. This is like asking “why is `i int = 10;` not allowed but `int i = 10;` is? See https://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language/293819#293819 for why questions like this are not answerable.","body":"Your code doesn’t work because it doesn’t follow Java’s syntax rules. Java could have been designed to allow this, but it wasn’t. This is like asking “why is <code>i int = 10;</code> not allowed but <code>int i = 10;</code> is? See <a href=\"https://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language/293819#293819\" title=\"is it subjective to ask about why something wasnt implemented in the language\">meta.stackoverflow.com/questions/293815/&hellip;</a> for why questions like this are not answerable."}],"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659836680,"answer_count":0,"score":0,"last_activity_date":1659835780,"creation_date":1659835780,"question_id":73264328,"body_markdown":"I&#39;ve installed jdk 17 and try to compile this code:\r\n```\r\n    private static String getText(int number) {\r\n        return switch (number) {\r\n            case 1, 2 -&gt; yield &quot;one or two&quot;;\r\n            case 3 -&gt; yield &quot;three&quot;;\r\n            case 4, 5, 6 -&gt; yield &quot;four or five or six&quot;;\r\n            default -&gt; yield &quot;unknown&quot;;\r\n        };\r\n    }\r\n```\r\nIt doesn&#39;t compile, if I remove the ```yield``` keyword, then it gets compile. Where does the code get wrong?","title":"Java 14 switch expression failed to compile for yield keyword","body":"<p>I've installed jdk 17 and try to compile this code:</p>\n<pre><code>    private static String getText(int number) {\n        return switch (number) {\n            case 1, 2 -&gt; yield &quot;one or two&quot;;\n            case 3 -&gt; yield &quot;three&quot;;\n            case 4, 5, 6 -&gt; yield &quot;four or five or six&quot;;\n            default -&gt; yield &quot;unknown&quot;;\n        };\n    }\n</code></pre>\n<p>It doesn't compile, if I remove the <code>yield</code> keyword, then it gets compile. Where does the code get wrong?</p>\n"},{"tags":["java","vert.x","vertx-httpclient"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659834942,"post_id":73264257,"comment_id":129388756,"body_markdown":"Well one way to figure it our would be to look at the source code.  Have you tried that?","body":"Well one way to figure it our would be to look at the source code.  Have you tried that?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659835267,"post_id":73264257,"comment_id":129388783,"body_markdown":"Based on the way that the Vertx Webclient API is structured, I can guess on how it is implemented.  At the bottom level they probably use the NIO selector mechanism; see https://www.baeldung.com/java-nio-selector.  But you can confirm this yourself by reading the source code.  (No ... this doesn&#39;t entail a worker thread for each request or each connection ...)","body":"Based on the way that the Vertx Webclient API is structured, I can guess on how it is implemented.  At the bottom level they probably use the NIO selector mechanism; see <a href=\"https://www.baeldung.com/java-nio-selector\" rel=\"nofollow noreferrer\">baeldung.com/java-nio-selector</a>.  But you can confirm this yourself by reading the source code.  (No ... this doesn&#39;t entail a worker thread for each request or each connection ...)"},{"owner":{"account_id":6742966,"reputation":713,"user_id":5195552,"display_name":"Diego"},"score":0,"creation_date":1659836452,"post_id":73264257,"comment_id":129388875,"body_markdown":"@StephenC Thanks for the hint about NIO selector. That&#39;s good enough for me to get back on track. Actually, I did take a look at the sources but it is quite a big code-base and yeah, a bit lost there. Thanks!","body":"@StephenC Thanks for the hint about NIO selector. That&#39;s good enough for me to get back on track. Actually, I did take a look at the sources but it is quite a big code-base and yeah, a bit lost there. Thanks!"}],"owner":{"account_id":6742966,"reputation":713,"user_id":5195552,"display_name":"Diego"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659834345,"creation_date":1659834345,"question_id":73264257,"body_markdown":"Due to some performance improvements we are trying to make to our system, I&#39;m trying to understand how Vertx Webclient is actually non-blocking.\r\n\r\nFrom my understanding, in regular old java, an http call using java.net (or maybe a regular HTTP client implementation), will acquire an http connection on a thread. While that http requests is fulfilled, that thread is blocked. If one configures a pool of 20 threads and executes 20 http requests, the pool will be exhausted.\r\n\r\nHowever, this doesn&#39;t seems to be the case in Vertx. One can execute many http requests using Webclient in the event-loop without blocking it.\r\n\r\n**In short, I&#39;d like to know how Vertx Webclient manages to avoid blocks?** Does it delegate execution to a worker thread-pool? Does it use some low level technique? If it is not using a thread-pool, what&#39;s the limit of requests it can handle at the same time?\r\n\r\nDocs seem to just explain its usage but now how it actually works: https://vertx.io/docs/vertx-web-client/java/#_using_the_web_client","title":"How is Vertx Webclient non-blocking?","body":"<p>Due to some performance improvements we are trying to make to our system, I'm trying to understand how Vertx Webclient is actually non-blocking.</p>\n<p>From my understanding, in regular old java, an http call using java.net (or maybe a regular HTTP client implementation), will acquire an http connection on a thread. While that http requests is fulfilled, that thread is blocked. If one configures a pool of 20 threads and executes 20 http requests, the pool will be exhausted.</p>\n<p>However, this doesn't seems to be the case in Vertx. One can execute many http requests using Webclient in the event-loop without blocking it.</p>\n<p><strong>In short, I'd like to know how Vertx Webclient manages to avoid blocks?</strong> Does it delegate execution to a worker thread-pool? Does it use some low level technique? If it is not using a thread-pool, what's the limit of requests it can handle at the same time?</p>\n<p>Docs seem to just explain its usage but now how it actually works: <a href=\"https://vertx.io/docs/vertx-web-client/java/#_using_the_web_client\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-web-client/java/#_using_the_web_client</a></p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659831859,"creation_date":1659827216,"answer_id":73263822,"question_id":73262463,"body_markdown":"From doc in [here][1] :\r\n\r\n\r\n    public class DialogUpdateEmail extends DialogFragment {\r\n    \r\n        private DialogEditListener listener;\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n            // Get the layout inflater\r\n            LayoutInflater inflater = requireActivity().getLayoutInflater();\r\n    \r\n            // Inflate and set the layout for the dialog\r\n            // Pass null as the parent view because its going in the dialog layout\r\n            View view = inflater.inflate(R.layout.popup, null);\r\n            builder.setView(view);\r\n    \r\n            EditText UpdateEmail = (EditText) view.findViewById(R.id.emailinfoupdate);\r\n            Button Beditemail = (Button) view.findViewById(R.id.updatesavebutton);\r\n            Button Bcancelemail = (Button) view.findViewById(R.id.updatecancelbutton);\r\n    \r\n            Beditemail.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (listener != null) {\r\n                        listener.onDialogEditClick(UpdateEmail.getText().toString());\r\n                        DialogUpdateEmail.this.getDialog().dismiss();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            Bcancelemail.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    DialogUpdateEmail.this.getDialog().cancel();\r\n                }\r\n            });\r\n    \r\n            return builder.create();\r\n        }\r\n    \r\n        public interface DialogEditListener {\r\n            void onDialogEditClick(String email);\r\n        }\r\n    \r\n        public void setListener(DialogEditListener listener) {\r\n            this.listener = listener;\r\n        }\r\n    }\r\n\r\n\r\n\r\nWe send the email from the dialog to the fragment using the observer/listener pattern.\r\n\r\n\r\nAnd in your `ProfileFragment` just implement `DialogEditListener` and subscribe it to listen for click button in the dialog like so:\r\n\r\n\r\n    public class ProfileFragment extends Fragment \r\n            implements SendInputEmail, DialogUpdateEmail.DialogEditListener {\r\n    \r\n        public static final int PROFILE_FRAGMENT = 1;\r\n        private static final String TAG = &quot;ProfileFragment&quot;;\r\n        private TextView TVHello, TVUsernameMessage, TVusernameinfo, TVemailinfo, TVbirthdate;\r\n    \r\n        public void sendInput(String input) {\r\n            Log.d(TAG, &quot;sendInput: found incoming input: &quot; + input);\r\n    \r\n            TVemailinfo.setText(input);\r\n        }\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.layout.fragment_profile, container, false);\r\n            Button Bsignout = (Button) v.findViewById(R.id.signoutbutton);\r\n            Button Beditusername = (Button) v.findViewById(R.id.editusernamebutton);\r\n            Button Beditemail = (Button) v.findViewById(R.id.editemailbutton);\r\n    \r\n            Beditemail.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Log.d(TAG, &quot;onClick: opening email dialog&quot;);\r\n                    //show your dialog\r\n                    DialogUpdateEmail dialogUpdateEmail = new DialogUpdateEmail();\r\n                    dialogUpdateEmail.setListener(ProfileFragment.this);\r\n                    dialogUpdateEmail.show(getActivity().getSupportFragmentManager(), &quot;DialogUpdateEmail&quot;);\r\n                }\r\n            });\r\n            return v;\r\n        }\r\n    \r\n        @Override\r\n        public void onDialogEditClick(String email) {\r\n            //use your email here\r\n            Toast.makeText(getContext(), &quot;My email: &quot; + email, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/dialogs","title":"Send input from Dialog Fragment to ProfileFragment","body":"<p>From doc in <a href=\"https://developer.android.com/guide/topics/ui/dialogs\" rel=\"nofollow noreferrer\">here</a> :</p>\n<pre><code>public class DialogUpdateEmail extends DialogFragment {\n\n    private DialogEditListener listener;\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        // Get the layout inflater\n        LayoutInflater inflater = requireActivity().getLayoutInflater();\n\n        // Inflate and set the layout for the dialog\n        // Pass null as the parent view because its going in the dialog layout\n        View view = inflater.inflate(R.layout.popup, null);\n        builder.setView(view);\n\n        EditText UpdateEmail = (EditText) view.findViewById(R.id.emailinfoupdate);\n        Button Beditemail = (Button) view.findViewById(R.id.updatesavebutton);\n        Button Bcancelemail = (Button) view.findViewById(R.id.updatecancelbutton);\n\n        Beditemail.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (listener != null) {\n                    listener.onDialogEditClick(UpdateEmail.getText().toString());\n                    DialogUpdateEmail.this.getDialog().dismiss();\n                }\n            }\n        });\n\n        Bcancelemail.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                DialogUpdateEmail.this.getDialog().cancel();\n            }\n        });\n\n        return builder.create();\n    }\n\n    public interface DialogEditListener {\n        void onDialogEditClick(String email);\n    }\n\n    public void setListener(DialogEditListener listener) {\n        this.listener = listener;\n    }\n}\n</code></pre>\n<p>We send the email from the dialog to the fragment using the observer/listener pattern.</p>\n<p>And in your <code>ProfileFragment</code> just implement <code>DialogEditListener</code> and subscribe it to listen for click button in the dialog like so:</p>\n<pre><code>public class ProfileFragment extends Fragment \n        implements SendInputEmail, DialogUpdateEmail.DialogEditListener {\n\n    public static final int PROFILE_FRAGMENT = 1;\n    private static final String TAG = &quot;ProfileFragment&quot;;\n    private TextView TVHello, TVUsernameMessage, TVusernameinfo, TVemailinfo, TVbirthdate;\n\n    public void sendInput(String input) {\n        Log.d(TAG, &quot;sendInput: found incoming input: &quot; + input);\n\n        TVemailinfo.setText(input);\n    }\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.fragment_profile, container, false);\n        Button Bsignout = (Button) v.findViewById(R.id.signoutbutton);\n        Button Beditusername = (Button) v.findViewById(R.id.editusernamebutton);\n        Button Beditemail = (Button) v.findViewById(R.id.editemailbutton);\n\n        Beditemail.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.d(TAG, &quot;onClick: opening email dialog&quot;);\n                //show your dialog\n                DialogUpdateEmail dialogUpdateEmail = new DialogUpdateEmail();\n                dialogUpdateEmail.setListener(ProfileFragment.this);\n                dialogUpdateEmail.show(getActivity().getSupportFragmentManager(), &quot;DialogUpdateEmail&quot;);\n            }\n        });\n        return v;\n    }\n\n    @Override\n    public void onDialogEditClick(String email) {\n        //use your email here\n        Toast.makeText(getContext(), &quot;My email: &quot; + email, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73263822,"answer_count":1,"score":0,"last_activity_date":1659831859,"creation_date":1659811875,"question_id":73262463,"body_markdown":"I know there are similar questions but I couldn&#39;t find an answer to solve my problem.\r\n\r\nI have a DialogUpdateEmail which I want to be opened from ProfileFragment. In the dialog I want to enter my new email and send it to my ProfileFragment in order to change it also in the database.\r\n\r\nProfileFragment.java : \r\n```\r\nimport androidx.fragment.app.Fragment;\r\npublic class ProfileFragment extends Fragment implements SendInputEmail {\r\n\r\n    public static final int PROFILE_FRAGMENT = 1;\r\n    private static final String TAG = &quot;ProfileFragment&quot;;\r\n    private TextView TVHello, TVUsernameMessage, TVusernameinfo, TVemailinfo, TVbirthdate;\r\n\r\n    public void sendInput(String input) {\r\n        Log.d(TAG, &quot;sendInput: found incoming input: &quot; + input);\r\n\r\n        TVemailinfo.setText(input);\r\n    }\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.fragment_profile, container, false);\r\n        Button Bsignout = (Button) v.findViewById(R.id.signoutbutton);\r\n        Button Beditusername = (Button) v.findViewById(R.id.editusernamebutton);\r\n        Button Beditemail = (Button) v.findViewById(R.id.editemailbutton);\r\n\r\n        Beditemail.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.d(TAG, &quot;onClick: opening email dialog&quot;);\r\n                DialogUpdateEmail dialog = new DialogUpdateEmail();\r\n         dialog.setTargetFragment(ProfileFragment.this,PROFILE_FRAGMENT);\r\n                dialog.show(getActivity().getFragmentManager(), &quot;DialogUpdateEmail&quot;);\r\n            }\r\n        });\r\nreturn v;\r\n}\r\n```\r\n\r\n\r\nDialogUpdateEmail.java : \r\n```\r\npublic class DialogUpdateEmail extends DialogFragment implements SendInputEmail {\r\n\r\n    private static final String TAG = &quot;DialogUpdateEmail&quot;;\r\nSendInputEmail mHost = (SendInputEmail)getTargetFragment();\r\n\r\n    public View onCreateView(final LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.popup, container, false);\r\n        EditText UpdateEmail = (EditText) view.findViewById(R.id.emailinfoupdate);\r\n        Button Beditemail = (Button) view.findViewById(R.id.updatesavebutton);\r\n        Button Bcancelemail = (Button) view.findViewById(R.id.updatecancelbutton);\r\n\r\n\r\n\r\n        Beditemail.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.d(TAG, &quot;onClick: capturing input.&quot;);\r\n\r\n                String input = UpdateEmail.getText().toString();\r\n                Log.d(TAG, &quot;input : &quot;+input);\r\n                mHost.sendInput(input);\r\n\r\n                getDialog().dismiss();\r\n\r\n            }\r\n        });\r\nreturn view ; \r\n}\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        try{\r\n            mHost = (SendInputEmail) getTargetFragment();\r\n        }catch (ClassCastException e){\r\n            Log.e(TAG, &quot;onAttach: ClassCastException : &quot; + e.getMessage() );\r\n        }\r\n    }\r\n    @Override\r\n    public void sendInput(String input) {\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nSendInputEmail Interface : \r\n```\r\npublic interface SendInputEmail {\r\n    void sendInput(String input);\r\n}\r\n```\r\n\r\nMy problem is that I have an error when I try to use setTargetFragment in ProfileFragment. It says that Profile Fragment is not a Fragment, I really don&#39;t know why.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XB0Ku.png\r\n  [2]: https://i.stack.imgur.com/JcPXC.png","title":"Send input from Dialog Fragment to ProfileFragment","body":"<p>I know there are similar questions but I couldn't find an answer to solve my problem.</p>\n<p>I have a DialogUpdateEmail which I want to be opened from ProfileFragment. In the dialog I want to enter my new email and send it to my ProfileFragment in order to change it also in the database.</p>\n<p>ProfileFragment.java :</p>\n<pre><code>import androidx.fragment.app.Fragment;\npublic class ProfileFragment extends Fragment implements SendInputEmail {\n\n    public static final int PROFILE_FRAGMENT = 1;\n    private static final String TAG = &quot;ProfileFragment&quot;;\n    private TextView TVHello, TVUsernameMessage, TVusernameinfo, TVemailinfo, TVbirthdate;\n\n    public void sendInput(String input) {\n        Log.d(TAG, &quot;sendInput: found incoming input: &quot; + input);\n\n        TVemailinfo.setText(input);\n    }\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.fragment_profile, container, false);\n        Button Bsignout = (Button) v.findViewById(R.id.signoutbutton);\n        Button Beditusername = (Button) v.findViewById(R.id.editusernamebutton);\n        Button Beditemail = (Button) v.findViewById(R.id.editemailbutton);\n\n        Beditemail.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.d(TAG, &quot;onClick: opening email dialog&quot;);\n                DialogUpdateEmail dialog = new DialogUpdateEmail();\n         dialog.setTargetFragment(ProfileFragment.this,PROFILE_FRAGMENT);\n                dialog.show(getActivity().getFragmentManager(), &quot;DialogUpdateEmail&quot;);\n            }\n        });\nreturn v;\n}\n</code></pre>\n<p>DialogUpdateEmail.java :</p>\n<pre><code>public class DialogUpdateEmail extends DialogFragment implements SendInputEmail {\n\n    private static final String TAG = &quot;DialogUpdateEmail&quot;;\nSendInputEmail mHost = (SendInputEmail)getTargetFragment();\n\n    public View onCreateView(final LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.popup, container, false);\n        EditText UpdateEmail = (EditText) view.findViewById(R.id.emailinfoupdate);\n        Button Beditemail = (Button) view.findViewById(R.id.updatesavebutton);\n        Button Bcancelemail = (Button) view.findViewById(R.id.updatecancelbutton);\n\n\n\n        Beditemail.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.d(TAG, &quot;onClick: capturing input.&quot;);\n\n                String input = UpdateEmail.getText().toString();\n                Log.d(TAG, &quot;input : &quot;+input);\n                mHost.sendInput(input);\n\n                getDialog().dismiss();\n\n            }\n        });\nreturn view ; \n}\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        try{\n            mHost = (SendInputEmail) getTargetFragment();\n        }catch (ClassCastException e){\n            Log.e(TAG, &quot;onAttach: ClassCastException : &quot; + e.getMessage() );\n        }\n    }\n    @Override\n    public void sendInput(String input) {\n\n    }\n}\n\n</code></pre>\n<p>SendInputEmail Interface :</p>\n<pre><code>public interface SendInputEmail {\n    void sendInput(String input);\n}\n</code></pre>\n<p>My problem is that I have an error when I try to use setTargetFragment in ProfileFragment. It says that Profile Fragment is not a Fragment, I really don't know why.</p>\n<p><a href=\"https://i.stack.imgur.com/XB0Ku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XB0Ku.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/JcPXC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JcPXC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656663942,"creation_date":1656663942,"answer_id":72826431,"question_id":72824711,"body_markdown":"There are few ways but one quick way is to use `exit` method of SpringApplication.\r\n\r\n\r\n    public YourClass{\r\n    \r\n    @Autowired\r\n    ApplicationContext ctx;\r\n    \r\n    public dbconnectivityCheck{\r\n      //if connection attempts failed\r\n      SpringApplication.exit(ctx);\r\n    }\r\n    }","title":"Stop Spring Application If Database Connection is not available","body":"<p>There are few ways but one quick way is to use <code>exit</code> method of SpringApplication.</p>\n<pre><code>public YourClass{\n\n@Autowired\nApplicationContext ctx;\n\npublic dbconnectivityCheck{\n  //if connection attempts failed\n  SpringApplication.exit(ctx);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302471,"reputation":8627,"user_id":1130032,"accept_rate":69,"display_name":"Ved"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656664226,"creation_date":1656664226,"answer_id":72826485,"question_id":72824711,"body_markdown":"&gt;       SpringApplication.run(Your_Application.class, args).close();\r\n\r\nUse this to close the context and release all resources as well.","title":"Stop Spring Application If Database Connection is not available","body":"<blockquote>\n<pre><code>  SpringApplication.run(Your_Application.class, args).close();\n</code></pre>\n</blockquote>\n<p>Use this to close the context and release all resources as well.</p>\n"},{"tags":[],"owner":{"account_id":25454851,"reputation":23,"user_id":19255668,"display_name":"Himanshu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659828699,"creation_date":1659531513,"answer_id":73222173,"question_id":72824711,"body_markdown":"[![][1]][1]\r\n\r\nHere is the answer for my question, basically `ApplicationContext` and `CommandLineRunner` did the magic here. Please check the image.\r\n\r\n  [1]: https://i.stack.imgur.com/sjIUD.png","title":"Stop Spring Application If Database Connection is not available","body":"<p><a href=\"https://i.stack.imgur.com/sjIUD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sjIUD.png\" alt=\"\" /></a></p>\n<p>Here is the answer for my question, basically <code>ApplicationContext</code> and <code>CommandLineRunner</code> did the magic here. Please check the image.</p>\n"}],"owner":{"account_id":25454851,"reputation":23,"user_id":19255668,"display_name":"Himanshu Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72826431,"answer_count":3,"score":2,"last_activity_date":1659828699,"creation_date":1656653016,"question_id":72824711,"body_markdown":"In my spring boot application, we are connecting to our oracle database.\r\nAfter trying to connect to DB 2-3 times, I want my application to shut down automatically if the DB connection is failed.\r\nHow can I do it?","title":"Stop Spring Application If Database Connection is not available","body":"<p>In my spring boot application, we are connecting to our oracle database.\nAfter trying to connect to DB 2-3 times, I want my application to shut down automatically if the DB connection is failed.\nHow can I do it?</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1659731555,"post_id":73254754,"comment_id":129372769,"body_markdown":"Once it is stored into a variable by Spring, what you do with it is just as usual in Java.","body":"Once it is stored into a variable by Spring, what you do with it is just as usual in Java."}],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659749046,"creation_date":1659749046,"answer_id":73256563,"question_id":73254754,"body_markdown":"Then convert it inside your method. \r\n\r\nFor example:\r\n\r\n    public void method(@RequestParam(&quot;Load&quot;) double load){\r\n    \tint intValue = (int)load;\r\n        &#39;&#39;&#39;\r\n    }","title":"Round up a Double to a whole number in the request parameter value in spring MVC","body":"<p>Then convert it inside your method.</p>\n<p>For example:</p>\n<pre><code>public void method(@RequestParam(&quot;Load&quot;) double load){\n    int intValue = (int)load;\n    '''\n}\n</code></pre>\n"}],"owner":{"account_id":11193028,"reputation":1,"user_id":8212742,"display_name":"Sameer Bisoyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659828669,"creation_date":1659729617,"question_id":73254754,"body_markdown":"I want to be able to round the `Load` in the below piece of code in the request parameter value in Spring MVC, fairly new to the field, so not sure if the `round(Load)` will work as it does in core java. It&#39;s a double field that may contain decimals like 4.2345, and I simply want to retrieve it as 4.\r\n\r\nHow i can do that?\r\n\r\n    @RequestParam(value = &quot;Load&quot;, required = false)","title":"Round up a Double to a whole number in the request parameter value in spring MVC","body":"<p>I want to be able to round the <code>Load</code> in the below piece of code in the request parameter value in Spring MVC, fairly new to the field, so not sure if the <code>round(Load)</code> will work as it does in core java. It's a double field that may contain decimals like 4.2345, and I simply want to retrieve it as 4.</p>\n<p>How i can do that?</p>\n<pre><code>@RequestParam(value = &quot;Load&quot;, required = false)\n</code></pre>\n"},{"tags":["java","classloader","java-7"],"answers":[{"tags":[],"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323356853,"creation_date":1323356853,"answer_id":8433073,"question_id":8433047,"body_markdown":"I believe the only supported way of doing this is to &quot;patch&quot; rt.jar by replacing the desired *.class file.  7-Zip can help you easily do this.\r\n\r\nThis is exactly how Oracle supplied their double-parsing bug fix with their FPUpdater tool, which was essentially a script that did just this.  ([Some history][1].)\r\n\r\n\r\n  [1]: http://www.exploringbinary.com/fpupdater-fixes-the-java-2-2250738585072012e-308-bug/","title":"Overriding single classes from rt.jar","body":"<p>I believe the only supported way of doing this is to \"patch\" rt.jar by replacing the desired *.class file.  7-Zip can help you easily do this.</p>\n\n<p>This is exactly how Oracle supplied their double-parsing bug fix with their FPUpdater tool, which was essentially a script that did just this.  (<a href=\"http://www.exploringbinary.com/fpupdater-fixes-the-java-2-2250738585072012e-308-bug/\" rel=\"nofollow\">Some history</a>.)</p>\n"},{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1323357067,"creation_date":1323357067,"answer_id":8433118,"question_id":8433047,"body_markdown":"You can use the VM parameter `-Xbootclasspath/p` to prepend your own JAR file with the patched class to the boot class path.","title":"Overriding single classes from rt.jar","body":"<p>You can use the VM parameter <code>-Xbootclasspath/p</code> to prepend your own JAR file with the patched class to the boot class path.</p>\n"},{"tags":[],"owner":{"account_id":18769,"reputation":1732,"user_id":43356,"display_name":"sarumont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323357088,"creation_date":1323357088,"answer_id":8433122,"question_id":8433047,"body_markdown":"I think @ziesemer is correct, but you may be able to use the classloader to replace the offending class when your app is bootstrapping. This may be cleaner if you don&#39;t want to worry about the JDK updating underneath you, though you&#39;d have to stick this bootstrapping classloader code into every app you are working on.","title":"Overriding single classes from rt.jar","body":"<p>I think @ziesemer is correct, but you may be able to use the classloader to replace the offending class when your app is bootstrapping. This may be cleaner if you don't want to worry about the JDK updating underneath you, though you'd have to stick this bootstrapping classloader code into every app you are working on.</p>\n"},{"tags":[],"owner":{"account_id":1091259,"reputation":3399,"user_id":1085861,"display_name":"korifey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323357234,"creation_date":1323357234,"answer_id":8433150,"question_id":8433047,"body_markdown":"I think you can try to use [javaagent][1] \r\nYou must intercept event, when JVM loads system class and swap it to yours\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/instrument/package-summary.html","title":"Overriding single classes from rt.jar","body":"<p>I think you can try to use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/instrument/package-summary.html\" rel=\"nofollow\">javaagent</a> \nYou must intercept event, when JVM loads system class and swap it to yours</p>\n"}],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3411,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8433118,"answer_count":4,"score":4,"last_activity_date":1659827916,"creation_date":1323356732,"question_id":8433047,"body_markdown":"I&#39;m looking for a neat way to override a class from the bootstrap class path, `rt.jar`.\r\nThe reason is OpenJDK7 bug https://bugs.java.com/bugdatabase/view_bug?bug_id=7104625\r\n\r\nThe fix for this bug is a trivial (see linked mailing list post) change to `sun.awt.X11.XComponentPeer`. So I was wondering if there is an easy way to override just this one affected class on my classpath, without having to repack/rebuild rt.jar (so the fix isn&#39;t lost on the next automatic update of OpenJDK).\r\n\r\nIdeally, it would also affect Eclipse...\r\n\r\nI assume that `java -Djava.system.class.loader=myClassLoader` would work? Is there any other way to override a single class with such a &quot;hotfix&quot;? (Note: not used in my own code, but deep in Java AWT code)","title":"Overriding single classes from rt.jar","body":"<p>I'm looking for a neat way to override a class from the bootstrap class path, <code>rt.jar</code>.\nThe reason is OpenJDK7 bug <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7104625\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=7104625</a></p>\n<p>The fix for this bug is a trivial (see linked mailing list post) change to <code>sun.awt.X11.XComponentPeer</code>. So I was wondering if there is an easy way to override just this one affected class on my classpath, without having to repack/rebuild rt.jar (so the fix isn't lost on the next automatic update of OpenJDK).</p>\n<p>Ideally, it would also affect Eclipse...</p>\n<p>I assume that <code>java -Djava.system.class.loader=myClassLoader</code> would work? Is there any other way to override a single class with such a &quot;hotfix&quot;? (Note: not used in my own code, but deep in Java AWT code)</p>\n"},{"tags":["java","android-studio","intellij-idea","shortcut"],"answers":[{"tags":[],"owner":{"account_id":1219848,"reputation":10949,"user_id":1186689,"accept_rate":80,"display_name":"KDeogharkar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1535364216,"creation_date":1455538661,"answer_id":35409200,"question_id":35409084,"body_markdown":"Select function name and give below command:\r\n\r\n**For Windows:**\r\n\r\n`alt` + `enter`\r\n\r\n**For MacOs:**\r\n\r\n`command` + `enter`\r\n\r\nyou will have option to create.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/c1tim.png","title":"Create method on instance IntelliJ IDEA / Android Studio shortcut","body":"<p>Select function name and give below command:</p>\n\n<p><strong>For Windows:</strong></p>\n\n<p><code>alt</code> + <code>enter</code></p>\n\n<p><strong>For MacOs:</strong></p>\n\n<p><code>command</code> + <code>enter</code></p>\n\n<p>you will have option to create.</p>\n\n<p><a href=\"https://i.stack.imgur.com/c1tim.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c1tim.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":140142,"reputation":7582,"user_id":346232,"accept_rate":60,"display_name":"Ben Pearson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455539086,"creation_date":1455539086,"answer_id":35409332,"question_id":35409084,"body_markdown":"**Quick answer**: move the cursor to the method and press `ALT`+`Enter`.\r\n\r\nAndroid studio is based on IntelliJ and it&#39;s a very powerful IDE. There&#39;s lots of neat tricks that will speed up your development. For example, you could type out the code you want in your instance and then press `CMD`+`ALT`+m to extract a method.\r\n\r\nI would strongly suggest you check out this video to show you how powerful IntelliJ (Android Studio) is for keyboard shortcuts: https://www.youtube.com/watch?v=Y2GC6P5hPeA","title":"Create method on instance IntelliJ IDEA / Android Studio shortcut","body":"<p><strong>Quick answer</strong>: move the cursor to the method and press <code>ALT</code>+<code>Enter</code>.</p>\n\n<p>Android studio is based on IntelliJ and it's a very powerful IDE. There's lots of neat tricks that will speed up your development. For example, you could type out the code you want in your instance and then press <code>CMD</code>+<code>ALT</code>+m to extract a method.</p>\n\n<p>I would strongly suggest you check out this video to show you how powerful IntelliJ (Android Studio) is for keyboard shortcuts: <a href=\"https://www.youtube.com/watch?v=Y2GC6P5hPeA\" rel=\"nofollow\">https://www.youtube.com/watch?v=Y2GC6P5hPeA</a></p>\n"},{"tags":[],"owner":{"account_id":11268128,"reputation":337,"user_id":8264360,"display_name":"Sarith Nob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568967801,"creation_date":1568967801,"answer_id":58024584,"question_id":35409084,"body_markdown":"For MacOS: `option` + `return (Enter)`","title":"Create method on instance IntelliJ IDEA / Android Studio shortcut","body":"<p>For MacOS: <code>option</code> + <code>return (Enter)</code></p>\n"},{"tags":[],"owner":{"account_id":8829071,"reputation":43,"user_id":6596254,"display_name":"julius narh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659826738,"creation_date":1659826738,"answer_id":73263784,"question_id":35409084,"body_markdown":"or for MacOS users `Command + Option + M`","title":"Create method on instance IntelliJ IDEA / Android Studio shortcut","body":"<p>or for MacOS users <code>Command + Option + M</code></p>\n"}],"owner":{"account_id":1267315,"reputation":591,"user_id":1224351,"accept_rate":53,"display_name":"implicit_knowledge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5739,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35409200,"answer_count":4,"score":4,"last_activity_date":1659826738,"creation_date":1455538314,"question_id":35409084,"body_markdown":"What is the shortcut in Android Studio for &quot;Create a method on instance&quot;? For example, say I have an instance of `MyClass` but not yet have `myMethod`:\r\n\r\n    instance.myMethod();\r\n\r\nIn Eclipse I can auto-generate `myMethod`. How can someone do this in Android Studio? I have a Mac.","title":"Create method on instance IntelliJ IDEA / Android Studio shortcut","body":"<p>What is the shortcut in Android Studio for \"Create a method on instance\"? For example, say I have an instance of <code>MyClass</code> but not yet have <code>myMethod</code>:</p>\n\n<pre><code>instance.myMethod();\n</code></pre>\n\n<p>In Eclipse I can auto-generate <code>myMethod</code>. How can someone do this in Android Studio? I have a Mac.</p>\n"},{"tags":["java","spring","amazon-web-services","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":20062991,"reputation":116,"user_id":14709320,"display_name":"ShellingWeb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1659825924,"creation_date":1606339454,"answer_id":65012884,"question_id":64736540,"body_markdown":"ThinkPHP is a web application development framework which has had various vulnerabilities over the years. \r\n\r\nYour application is the target of spray and pray vulnerability scanners. \r\nYou may find web server or application log entries with requests such as the following:\r\n\r\n    GET /index.php?s=/Index/\\x5Cthink\\x5Capp/invokefunction&amp;function=call_user_func_array&amp;vars[0]=md5&amp;vars[1][]=HelloThinkPHP21 HTTP/1.1\r\n\r\nAs to whether you should be worried or not: it&#39;s really a question of what you are running and how well you are keeping up to date with your specific security requirements. Automated scanners are unlikely to find vulnerabilities for software you don&#39;t run. \r\n","title":"Spring security deployed app on AWS ThinkPHP request","body":"<p>ThinkPHP is a web application development framework which has had various vulnerabilities over the years.</p>\n<p>Your application is the target of spray and pray vulnerability scanners.\nYou may find web server or application log entries with requests such as the following:</p>\n<pre><code>GET /index.php?s=/Index/\\x5Cthink\\x5Capp/invokefunction&amp;function=call_user_func_array&amp;vars[0]=md5&amp;vars[1][]=HelloThinkPHP21 HTTP/1.1\n</code></pre>\n<p>As to whether you should be worried or not: it's really a question of what you are running and how well you are keeping up to date with your specific security requirements. Automated scanners are unlikely to find vulnerabilities for software you don't run.</p>\n"}],"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5603,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":65012884,"answer_count":1,"score":8,"last_activity_date":1659825924,"creation_date":1604827575,"question_id":64736540,"body_markdown":"I Have a spring boot app running on AWS. From time to time I see a log that pops out saying and mentioning ThinkPHP?\r\n\r\n```\r\njava.lang.IllegalArgumentException: Invalid character found in the request target [/index.php?s=/Index/\\think\\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=md5&amp;vars[1][]=HelloThinkPHP21]. \r\nThe valid characters are defined in RFC 7230 and RFC 3986.\r\nat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:491) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n```\r\n\r\nAnd below:\r\n\r\n```\r\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;\r\nat org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlacklistedUrls(StrictHttpFirewall.java:369) ~[spring-security-web-5.3.3.RELEASE.jar!/:5.3.3.RELEASE]\r\n```\r\n\r\nIs this a reason for concern or what&#39;s happening?\r\nThere&#39;s generally no traffic happening at all - no requests incoming to the server, yet this pops out.","title":"Spring security deployed app on AWS ThinkPHP request","body":"<p>I Have a spring boot app running on AWS. From time to time I see a log that pops out saying and mentioning ThinkPHP?</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid character found in the request target [/index.php?s=/Index/\\think\\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=md5&amp;vars[1][]=HelloThinkPHP21]. \nThe valid characters are defined in RFC 7230 and RFC 3986.\nat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:491) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n</code></pre>\n<p>And below:</p>\n<pre><code>org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;\nat org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlacklistedUrls(StrictHttpFirewall.java:369) ~[spring-security-web-5.3.3.RELEASE.jar!/:5.3.3.RELEASE]\n</code></pre>\n<p>Is this a reason for concern or what's happening?\nThere's generally no traffic happening at all - no requests incoming to the server, yet this pops out.</p>\n"},{"tags":["java","sql-server","spring","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1461396842,"post_id":36804032,"comment_id":61189280,"body_markdown":"Please include the code you are using in your question.","body":"Please include the code you are using in your question."},{"owner":{"account_id":272080,"reputation":1504,"user_id":562970,"accept_rate":80,"display_name":"Igor Deruga"},"score":0,"creation_date":1461599674,"post_id":36804032,"comment_id":61260257,"body_markdown":"Can you also add the stored procedure signature to your question?","body":"Can you also add the stored procedure signature to your question?"}],"answers":[{"tags":[],"owner":{"account_id":272080,"reputation":1504,"user_id":562970,"accept_rate":80,"display_name":"Igor Deruga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461599631,"creation_date":1461599631,"answer_id":36845439,"question_id":36804032,"body_markdown":"Try declaring the output parameters using SqlOutParameter like in this example, maybe the warning will go away:\r\n\r\n    SimpleJdbcCall caller = new SimpleJdbcCall(getDataSource())\r\n    .withCatalogName(&quot;PKG_REG_REVIEW&quot;)\r\n    .withFunctionName(&quot;fn_get_task_complete_date&quot;)\r\n    .withoutProcedureColumnMetaDataAccess()\r\n    .declareParameters(\r\n    new SqlOutParameter(&quot;v_maxdate&quot;, Types.DATE),\r\n    new SqlParameter(&quot;p_case_seq&quot;, Types.INTEGER),\r\n    new SqlParameter(&quot;p_task_seq&quot;, Types.INTEGER)\r\n    );","title":"Receiving Message Unable to locate the Corresponding Parameter when calling Stored Procedure","body":"<p>Try declaring the output parameters using SqlOutParameter like in this example, maybe the warning will go away:</p>\n\n<pre><code>SimpleJdbcCall caller = new SimpleJdbcCall(getDataSource())\n.withCatalogName(\"PKG_REG_REVIEW\")\n.withFunctionName(\"fn_get_task_complete_date\")\n.withoutProcedureColumnMetaDataAccess()\n.declareParameters(\nnew SqlOutParameter(\"v_maxdate\", Types.DATE),\nnew SqlParameter(\"p_case_seq\", Types.INTEGER),\nnew SqlParameter(\"p_task_seq\", Types.INTEGER)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10910643,"reputation":21,"user_id":8020143,"display_name":"Steven Dirix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494943703,"creation_date":1494943703,"answer_id":44003813,"question_id":36804032,"body_markdown":"It worked for me adding the parameter declaration too, but slightly different:\r\n\r\n    public Student getStudent(Integer id) {\r\n        SqlParameterSource in = new MapSqlParameterSource().addValue(&quot;id&quot;, id, Types.INTEGER)\r\n                .addValue(&quot;name&quot;,Types.VARCHAR)\r\n                .addValue(&quot;age&quot;, Types.INTEGER);\r\n        Map&lt;String, Object&gt; out = jdbcCall.execute(in);\r\n\r\n        Student student = new Student();\r\n        student.setId(id);\r\n        student.setName((String) out.get(&quot;name&quot;));\r\n        student.setAge((Integer) out.get(&quot;age&quot;));\r\n\r\n        return student;\r\n    }\r\n\r\nplease note i was using MS SQL Server instead of MySQL; and have created the procedure slightly different:\r\n\r\n\r\n    CREATE PROCEDURE getRecord\r\n      @id INT,\r\n      @name VARCHAR(20) OUTPUT ,\r\n      @age INT OUTPUT\r\n    AS\r\n      SELECT @name = name, @age = AGE\r\n      FROM Student where id = @id\r\n\r\nbut it should be fairly similar.","title":"Receiving Message Unable to locate the Corresponding Parameter when calling Stored Procedure","body":"<p>It worked for me adding the parameter declaration too, but slightly different:</p>\n\n<pre><code>public Student getStudent(Integer id) {\n    SqlParameterSource in = new MapSqlParameterSource().addValue(\"id\", id, Types.INTEGER)\n            .addValue(\"name\",Types.VARCHAR)\n            .addValue(\"age\", Types.INTEGER);\n    Map&lt;String, Object&gt; out = jdbcCall.execute(in);\n\n    Student student = new Student();\n    student.setId(id);\n    student.setName((String) out.get(\"name\"));\n    student.setAge((Integer) out.get(\"age\"));\n\n    return student;\n}\n</code></pre>\n\n<p>please note i was using MS SQL Server instead of MySQL; and have created the procedure slightly different:</p>\n\n<pre><code>CREATE PROCEDURE getRecord\n  @id INT,\n  @name VARCHAR(20) OUTPUT ,\n  @age INT OUTPUT\nAS\n  SELECT @name = name, @age = AGE\n  FROM Student where id = @id\n</code></pre>\n\n<p>but it should be fairly similar.</p>\n"},{"tags":[],"owner":{"account_id":25994123,"reputation":1,"user_id":19705805,"display_name":"Cao Van Viet FX12045"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659824808,"creation_date":1659786416,"answer_id":73259459,"question_id":36804032,"body_markdown":"```\r\nthis.jdbcCall = new SimpleJdbcCall(dataSource)\r\n.declareParameters (new SqlOutParameter(&quot;out_id&quot;, Types.INTEGER), new SqlOutParameter(&quot;out_name&quot;, Types.NVARCHAR), new SqlOutParameter(&quot;out_age&quot;, Types.INTEGER));\r\n```","title":"Receiving Message Unable to locate the Corresponding Parameter when calling Stored Procedure","body":"<pre><code>this.jdbcCall = new SimpleJdbcCall(dataSource)\n.declareParameters (new SqlOutParameter(&quot;out_id&quot;, Types.INTEGER), new SqlOutParameter(&quot;out_name&quot;, Types.NVARCHAR), new SqlOutParameter(&quot;out_age&quot;, Types.INTEGER));\n</code></pre>\n"}],"owner":{"account_id":3840037,"reputation":315,"user_id":3183411,"accept_rate":70,"display_name":"user3183411"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659824808,"creation_date":1461362797,"question_id":36804032,"body_markdown":"I have been going through the following Spring Tutorial\r\n\r\nhttp://www.tutorialspoint.com/spring/calling_stored_procedure.htm\r\n\r\nEverything is working the only problem I have is that I am receiving the following message.\r\n\r\n    Apr 22, 2016 3:50:51 PM org.springframework.context.support.ClassPathXmlApplicationContext prepareRefresh\r\n    INFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@5910e440: startup date [Fri Apr 22 15:50:51 MDT 2016]; root of context hierarchy\r\n    Apr 22, 2016 3:50:51 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n    INFO: Loading XML bean definitions from class path resource [Beans.xml]\r\n    Apr 22, 2016 3:50:51 PM org.springframework.jdbc.datasource.DriverManagerDataSource setDriverClassName\r\n    INFO: Loaded JDBC driver: net.sourceforge.jtds.jdbc.Driver\r\n    ----Listing Record with ID = 2 -----\r\n    Apr 22, 2016 3:50:52 PM org.springframework.jdbc.core.metadata.CallMetaDataContext matchInParameterValuesWithCallParameters\r\n    WARNING: Unable to locate the corresponding parameter value for &#39;outName&#39; within the parameter values provided: [inID]\r\n    Apr 22, 2016 3:50:52 PM org.springframework.jdbc.core.metadata.CallMetaDataContext matchInParameterValuesWithCallParameters\r\n    WARNING: Unable to locate the corresponding parameter value for &#39;outAge&#39; within the parameter values provided: [inID]\r\n    ID : 3, Name : Ayan, Age : 15\r\n\r\nThe only difference is I am using a MSSQL. As you can see the results return. I&#39;ve even passed in a different parameter and the value changes so I know it&#39;s working. I&#39;m just not sure why I am receiving these messages. I&#39;ve verified that the parameters name match with what is in the class.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package com.tutorialspoint;\r\n    import java.util.List;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    import com.tutorialspoint.StudentJDBCTemplate;\r\n\r\n    public class MainApp {\r\n       public static void main(String[] args) {\r\n          ApplicationContext context = \r\n                 new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\r\n          \r\n          \r\n          StudentJDBCTemplate studentJDBCTemplate = \r\n          (StudentJDBCTemplate)context.getBean(&quot;studentJDBCTemplate&quot;);\r\n          /*\r\n          System.out.println(&quot;------Records Creation--------&quot; );\r\n          studentJDBCTemplate.create(&quot;Zara&quot;, 11);\r\n          studentJDBCTemplate.create(&quot;Nuha&quot;, 2);\r\n          studentJDBCTemplate.create(&quot;Ayan&quot;, 15);\r\n\r\n          System.out.println(&quot;------Listing Multiple Records--------&quot; );\r\n          List&lt;Student&gt; students = studentJDBCTemplate.listStudents();\r\n          for (Student record : students) {\r\n             System.out.print(&quot;ID : &quot; + record.getId() );\r\n             System.out.print(&quot;, Name : &quot; + record.getName() );\r\n             System.out.println(&quot;, Age : &quot; + record.getAge());\r\n          }\r\n    \t  */\r\n          \r\n          System.out.println(&quot;----Listing Record with ID = 2 -----&quot; );\r\n          \r\n          Student student = studentJDBCTemplate.getStudent(3);\r\n          System.out.print(&quot;ID : &quot; + student.getId() );\r\n          System.out.print(&quot;, Name : &quot; + student.getName() );\r\n          System.out.println(&quot;, Age : &quot; + student.getAge());\r\n    \t  \r\n       }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package com.tutorialspoint;\r\n\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import org.springframework.jdbc.core.RowMapper;\r\n\r\n    public class StudentMapper implements RowMapper&lt;Student&gt; {\r\n       public Student mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n          Student student = new Student();\r\n          student.setId(rs.getInt(&quot;id&quot;));\r\n          student.setName(rs.getString(&quot;name&quot;));\r\n          student.setAge(rs.getInt(&quot;age&quot;));\r\n          return student;\r\n       }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.tutorialspoint;\r\n\r\n    import java.util.Map;\r\n    import java.util.List;\r\n\r\n    import javax.sql.DataSource;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\r\n    import org.springframework.jdbc.core.namedparam.SqlParameterSource;\r\n    import org.springframework.jdbc.core.simple.SimpleJdbcCall;\r\n\r\n    public class StudentJDBCTemplate implements StudentDAO {\r\n    \t\r\n    \tprivate DataSource dataSource;\r\n    \tprivate SimpleJdbcCall jdbcCall;\r\n    \t\r\n    \tpublic void setDataSource(DataSource dataSource){\t\r\n    \t\tthis.dataSource = dataSource;\r\n    \t\tthis.jdbcCall = new SimpleJdbcCall(dataSource).withProcedureName(&quot;getRecord&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void create(String name, Integer age){\r\n    \t\tJdbcTemplate jdbcTemplateObject = new JdbcTemplate(dataSource);\r\n    \t\tString SQL = &quot;INSERT INTO Student(name,age) VALUES (?,?)&quot;;\r\n    \t\tjdbcTemplateObject.update(SQL,name,age);\r\n    \t\tSystem.out.println(&quot;Created Record Name = &quot; + name + &quot; Age = &quot; + age);\r\n    \t\treturn;\r\n    \t}\r\n    \t\r\n    \tpublic Student getStudent(Integer id){\r\n    \t\t\r\n    \t\tSqlParameterSource in = new MapSqlParameterSource().addValue(&quot;inID&quot;, id);\r\n    \t\tMap&lt;String, Object&gt; out = jdbcCall.execute(in);\r\n    \t\t\r\n    \t\tStudent student = new Student();\r\n    \t\tstudent.setId(id);\r\n    \t\tstudent.setName((String) out.get(&quot;outName&quot;));\r\n    \t\tstudent.setAge((Integer) out.get(&quot;outAge&quot;));\r\n\r\n    \t\treturn student;\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Student&gt; listStudents(){\r\n    \t\tString SQL = &quot;SELECT * FROM Student&quot;;\r\n    \t\tJdbcTemplate jdbcTemplateObject = new JdbcTemplate(dataSource);\r\n    \t\tList &lt;Student&gt; students = jdbcTemplateObject.query(SQL,\tnew StudentMapper());\t\t\r\n    \t\treturn students;\r\n    \t}\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package com.tutorialspoint;\r\n\r\n    public class Student {\r\n       private Integer age;\r\n       private String name;\r\n       private Integer id;\r\n\r\n       public void setAge(Integer age) {\r\n          this.age = age;\r\n       }\r\n       public Integer getAge() {\r\n          return age;\r\n       }\r\n\r\n       public void setName(String name) {\r\n          this.name = name;\r\n       }\r\n       public String getName() {\r\n          return name;\r\n       }\r\n\r\n       public void setId(Integer id) {\r\n          this.id = id;\r\n       }\r\n       public Integer getId() {\r\n          return id;\r\n       }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Receiving Message Unable to locate the Corresponding Parameter when calling Stored Procedure","body":"<p>I have been going through the following Spring Tutorial</p>\n\n<p><a href=\"http://www.tutorialspoint.com/spring/calling_stored_procedure.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/spring/calling_stored_procedure.htm</a></p>\n\n<p>Everything is working the only problem I have is that I am receiving the following message.</p>\n\n<pre><code>Apr 22, 2016 3:50:51 PM org.springframework.context.support.ClassPathXmlApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@5910e440: startup date [Fri Apr 22 15:50:51 MDT 2016]; root of context hierarchy\nApr 22, 2016 3:50:51 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [Beans.xml]\nApr 22, 2016 3:50:51 PM org.springframework.jdbc.datasource.DriverManagerDataSource setDriverClassName\nINFO: Loaded JDBC driver: net.sourceforge.jtds.jdbc.Driver\n----Listing Record with ID = 2 -----\nApr 22, 2016 3:50:52 PM org.springframework.jdbc.core.metadata.CallMetaDataContext matchInParameterValuesWithCallParameters\nWARNING: Unable to locate the corresponding parameter value for 'outName' within the parameter values provided: [inID]\nApr 22, 2016 3:50:52 PM org.springframework.jdbc.core.metadata.CallMetaDataContext matchInParameterValuesWithCallParameters\nWARNING: Unable to locate the corresponding parameter value for 'outAge' within the parameter values provided: [inID]\nID : 3, Name : Ayan, Age : 15\n</code></pre>\n\n<p>The only difference is I am using a MSSQL. As you can see the results return. I've even passed in a different parameter and the value changes so I know it's working. I'm just not sure why I am receiving these messages. I've verified that the parameters name match with what is in the class.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package com.tutorialspoint;\r\nimport java.util.List;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\nimport com.tutorialspoint.StudentJDBCTemplate;\r\n\r\npublic class MainApp {\r\n   public static void main(String[] args) {\r\n      ApplicationContext context = \r\n             new ClassPathXmlApplicationContext(\"Beans.xml\");\r\n      \r\n      \r\n      StudentJDBCTemplate studentJDBCTemplate = \r\n      (StudentJDBCTemplate)context.getBean(\"studentJDBCTemplate\");\r\n      /*\r\n      System.out.println(\"------Records Creation--------\" );\r\n      studentJDBCTemplate.create(\"Zara\", 11);\r\n      studentJDBCTemplate.create(\"Nuha\", 2);\r\n      studentJDBCTemplate.create(\"Ayan\", 15);\r\n\r\n      System.out.println(\"------Listing Multiple Records--------\" );\r\n      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();\r\n      for (Student record : students) {\r\n         System.out.print(\"ID : \" + record.getId() );\r\n         System.out.print(\", Name : \" + record.getName() );\r\n         System.out.println(\", Age : \" + record.getAge());\r\n      }\r\n\t  */\r\n      \r\n      System.out.println(\"----Listing Record with ID = 2 -----\" );\r\n      \r\n      Student student = studentJDBCTemplate.getStudent(3);\r\n      System.out.print(\"ID : \" + student.getId() );\r\n      System.out.print(\", Name : \" + student.getName() );\r\n      System.out.println(\", Age : \" + student.getAge());\r\n\t  \r\n   }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package com.tutorialspoint;\r\n\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport org.springframework.jdbc.core.RowMapper;\r\n\r\npublic class StudentMapper implements RowMapper&lt;Student&gt; {\r\n   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n      Student student = new Student();\r\n      student.setId(rs.getInt(\"id\"));\r\n      student.setName(rs.getString(\"name\"));\r\n      student.setAge(rs.getInt(\"age\"));\r\n      return student;\r\n   }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.tutorialspoint;\r\n\r\nimport java.util.Map;\r\nimport java.util.List;\r\n\r\nimport javax.sql.DataSource;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\r\nimport org.springframework.jdbc.core.namedparam.SqlParameterSource;\r\nimport org.springframework.jdbc.core.simple.SimpleJdbcCall;\r\n\r\npublic class StudentJDBCTemplate implements StudentDAO {\r\n\t\r\n\tprivate DataSource dataSource;\r\n\tprivate SimpleJdbcCall jdbcCall;\r\n\t\r\n\tpublic void setDataSource(DataSource dataSource){\t\r\n\t\tthis.dataSource = dataSource;\r\n\t\tthis.jdbcCall = new SimpleJdbcCall(dataSource).withProcedureName(\"getRecord\");\r\n\t}\r\n\t\r\n\tpublic void create(String name, Integer age){\r\n\t\tJdbcTemplate jdbcTemplateObject = new JdbcTemplate(dataSource);\r\n\t\tString SQL = \"INSERT INTO Student(name,age) VALUES (?,?)\";\r\n\t\tjdbcTemplateObject.update(SQL,name,age);\r\n\t\tSystem.out.println(\"Created Record Name = \" + name + \" Age = \" + age);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tpublic Student getStudent(Integer id){\r\n\t\t\r\n\t\tSqlParameterSource in = new MapSqlParameterSource().addValue(\"inID\", id);\r\n\t\tMap&lt;String, Object&gt; out = jdbcCall.execute(in);\r\n\t\t\r\n\t\tStudent student = new Student();\r\n\t\tstudent.setId(id);\r\n\t\tstudent.setName((String) out.get(\"outName\"));\r\n\t\tstudent.setAge((Integer) out.get(\"outAge\"));\r\n\r\n\t\treturn student;\r\n\t}\r\n\t\r\n\tpublic List&lt;Student&gt; listStudents(){\r\n\t\tString SQL = \"SELECT * FROM Student\";\r\n\t\tJdbcTemplate jdbcTemplateObject = new JdbcTemplate(dataSource);\r\n\t\tList &lt;Student&gt; students = jdbcTemplateObject.query(SQL,\tnew StudentMapper());\t\t\r\n\t\treturn students;\r\n\t}\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package com.tutorialspoint;\r\n\r\npublic class Student {\r\n   private Integer age;\r\n   private String name;\r\n   private Integer id;\r\n\r\n   public void setAge(Integer age) {\r\n      this.age = age;\r\n   }\r\n   public Integer getAge() {\r\n      return age;\r\n   }\r\n\r\n   public void setName(String name) {\r\n      this.name = name;\r\n   }\r\n   public String getName() {\r\n      return name;\r\n   }\r\n\r\n   public void setId(Integer id) {\r\n      this.id = id;\r\n   }\r\n   public Integer getId() {\r\n      return id;\r\n   }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","sorting","filter","lambda","java-stream"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1659823337,"post_id":73263472,"comment_id":129387600,"body_markdown":"A sort is always going to be (at **best**) O(NlogN), if you do a linear search the **worst** case is O(N). Please elaborate on what you are actually wanting here (and why). Maybe you want a sequence of `Comparator.comparing().thenComparing()`; it&#39;s hard to tell.","body":"A sort is always going to be (at <b>best</b>) O(NlogN), if you do a linear search the <b>worst</b> case is O(N). Please elaborate on what you are actually wanting here (and why). Maybe you want a sequence of <code>Comparator.comparing().thenComparing()</code>; it&#39;s hard to tell."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659826586,"post_id":73263472,"comment_id":129387988,"body_markdown":"I agree with Elliot, it really sounds like you want `list.sort(Comparator.comparing(MyElementType::getMatchesString).thenComparingInt(MyElementType::getValue))`.","body":"I agree with Elliot, it really sounds like you want <code>list.sort(Comparator.comparing(MyElementType::getMatchesStri&zwnj;&#8203;ng).thenComparingInt&zwnj;&#8203;(MyElementType::getV&zwnj;&#8203;alue))</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659827250,"post_id":73263472,"comment_id":129388058,"body_markdown":"Storing `Optinal` in a `Collection` is an antipattern. It doesn&#39;t make sense to keep optional objects which could be potentially empty. That&#39;s an [*XY problem*](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). You shouldn&#39;t accumulate these optionals into a list in the first place.","body":"Storing <code>Optinal</code> in a <code>Collection</code> is an antipattern. It doesn&#39;t make sense to keep optional objects which could be potentially empty. That&#39;s an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\"><i>XY problem</i></a>. You shouldn&#39;t accumulate these optionals into a list in the first place."},{"owner":{"account_id":25996922,"reputation":1,"user_id":19708129,"display_name":"Blarne Soup"},"score":0,"creation_date":1659827668,"post_id":73263472,"comment_id":129388108,"body_markdown":"I see.  The way I consume the data from the passer is already in List form, and the consumed data may or may not contain all fields necessary for processing - perhaps none of them will. I can&#39;t change my inputs, but I could change how I process them. How would you suggest iterating and pruning such a structure while looking for a particular value and sorting otherwise?  I will think on this.. it seems simple iteration makes most sense.","body":"I see.  The way I consume the data from the passer is already in List form, and the consumed data may or may not contain all fields necessary for processing - perhaps none of them will. I can&#39;t change my inputs, but I could change how I process them. How would you suggest iterating and pruning such a structure while looking for a particular value and sorting otherwise?  I will think on this.. it seems simple iteration makes most sense."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659828772,"post_id":73263472,"comment_id":129388245,"body_markdown":"`data from the passer is already in List form` - you&#39;re parsing input as a `List` of `Optional` and you can&#39;t change it? `looking for a particular value and sorting otherwise` - So what is the end goal: to **find** a particular object, to **sort** the data?","body":"<code>data from the passer is already in List form</code> - you&#39;re parsing input as a <code>List</code> of <code>Optional</code> and you can&#39;t change it? <code>looking for a particular value and sorting otherwise</code> - So what is the end goal: to <b>find</b> a particular object, to <b>sort</b> the data?"},{"owner":{"account_id":25996922,"reputation":1,"user_id":19708129,"display_name":"Blarne Soup"},"score":0,"creation_date":1659829348,"post_id":73263472,"comment_id":129388296,"body_markdown":"Sorry, I should correct myself.  I am parsing in a List of data that may be missing fields - I can change it how I please, but the caller expects me to return an Optional String.  I am looking to *find* a particular value in field A, but if not present, I should return the largest value from fieldB.  Perhaps a sort isn&#39;t necessary, it&#39;s just how I initially attempted to handle it.","body":"Sorry, I should correct myself.  I am parsing in a List of data that may be missing fields - I can change it how I please, but the caller expects me to return an Optional String.  I am looking to <i>find</i> a particular value in field A, but if not present, I should return the largest value from fieldB.  Perhaps a sort isn&#39;t necessary, it&#39;s just how I initially attempted to handle it."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659831899,"post_id":73263472,"comment_id":129388503,"body_markdown":"`I am parsing in a List of data that may be missing fields - I can change it how` - To answer **how** exactly, we need to know what you&#39;re parsing (JSON, XML, etc.) and what kind of library you&#39;re using for that? For instance, if you&#39;re deserializing JSON, the fields that are missing by default would be `null` (and that&#39;s fine, no need to turn them into Optional).","body":"<code>I am parsing in a List of data that may be missing fields - I can change it how</code> - To answer <b>how</b> exactly, we need to know what you&#39;re parsing (JSON, XML, etc.) and what kind of library you&#39;re using for that? For instance, if you&#39;re deserializing JSON, the fields that are missing by default would be <code>null</code> (and that&#39;s fine, no need to turn them into Optional)."}],"owner":{"account_id":25996922,"reputation":1,"user_id":19708129,"display_name":"Blarne Soup"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659824272,"creation_date":1659822357,"question_id":73263472,"body_markdown":"I&#39;m interested in finding the most efficient way to filter, sort and collect from a List using streams, building my own Optional list, where I ultimately:\r\n\r\nSort objects, preferring those who match a particular string field,\r\notherwise sort by a different int field.\r\n\r\nMy straightforward approach is complex sort, preferring objects who return True to the string match, followed by the sort on the int field.  I haven&#39;t found a way to create a comparator that works easily with optionals. See pseudocode attempt below.\r\n\r\nAnother solution would be to perform a findFirst() for my string match, but also continue to collect and sort values if not found - don&#39;t know if something like this is possible.\r\n\r\nPseudocode for sort:\r\n\r\n```Comparator&lt;T&gt; preference = (optionalX, optionalY) -&gt; \r\noptionalX.matchedString().compareTo(optionalY.boolean.matchedString())\r\n.thenCompares(optionalX.getValue().compareTo(optionalY.getValue()) \r\n\r\nList.stream list = vals.stream()\r\n.filter (a &amp;&amp; b &amp;&amp; c)\r\n.sorted(preference)\r\n.collect.toList()\r\n```\r\n\r\nJava is awesome, I&#39;m just getting a little thrown as a recent convert from C. In cpp I might write this as a lambda looking something like this, and pass it into std::sort: \r\n```\r\n{\r\n    return a.matchesString == b.matchesString ?\r\n    a.Val &gt; b.Val : \r\n    a.matchesString ? -1 : 1;\r\n}\r\n```\r\n\r\nI&#39;ve failed to understand how to overcome the conflict this has with Optional. I&#39;m wide open to solutions that have nothing to do with my thought process, or a nudge in a different direction for research.  If an iterative approach makes more sense, also let me know.","title":"Java 8: Build an Optional List out of sorted int values, but stop if specific boolean property is found (or prefer it via complex sort)","body":"<p>I'm interested in finding the most efficient way to filter, sort and collect from a List using streams, building my own Optional list, where I ultimately:</p>\n<p>Sort objects, preferring those who match a particular string field,\notherwise sort by a different int field.</p>\n<p>My straightforward approach is complex sort, preferring objects who return True to the string match, followed by the sort on the int field.  I haven't found a way to create a comparator that works easily with optionals. See pseudocode attempt below.</p>\n<p>Another solution would be to perform a findFirst() for my string match, but also continue to collect and sort values if not found - don't know if something like this is possible.</p>\n<p>Pseudocode for sort:</p>\n<pre><code>optionalX.matchedString().compareTo(optionalY.boolean.matchedString())\n.thenCompares(optionalX.getValue().compareTo(optionalY.getValue()) \n\nList.stream list = vals.stream()\n.filter (a &amp;&amp; b &amp;&amp; c)\n.sorted(preference)\n.collect.toList()\n</code></pre>\n<p>Java is awesome, I'm just getting a little thrown as a recent convert from C. In cpp I might write this as a lambda looking something like this, and pass it into std::sort:</p>\n<pre><code>{\n    return a.matchesString == b.matchesString ?\n    a.Val &gt; b.Val : \n    a.matchesString ? -1 : 1;\n}\n</code></pre>\n<p>I've failed to understand how to overcome the conflict this has with Optional. I'm wide open to solutions that have nothing to do with my thought process, or a nudge in a different direction for research.  If an iterative approach makes more sense, also let me know.</p>\n"},{"tags":["java","arrays","sorting","filter"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1659823575,"post_id":73263561,"comment_id":129387646,"body_markdown":"`if (equipment.getEquipmentName() == DRILL)` are those strings?","body":"<code>if (equipment.getEquipmentName() == DRILL)</code> are those strings?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1659823601,"post_id":73263561,"comment_id":129387650,"body_markdown":"Also, what do you expect this `createDrill(fields).getNeedsNewBit().equals(true);` to do on its own?","body":"Also, what do you expect this <code>createDrill(fields).getNeedsNewBit().equals(true);</code> to do on its own?"},{"owner":{"account_id":25291319,"reputation":21,"user_id":19117343,"display_name":"Jonathan S."},"score":0,"creation_date":1659963399,"post_id":73263561,"comment_id":129412791,"body_markdown":"I have just tried to write many different lines of code to see what happens. I am a student, so I lack knowledge of how all the syntax works","body":"I have just tried to write many different lines of code to see what happens. I am a student, so I lack knowledge of how all the syntax works"}],"answers":[{"tags":[],"owner":{"account_id":23136889,"reputation":59,"user_id":17241007,"display_name":"Spam Garbage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659824235,"creation_date":1659824235,"answer_id":73263627,"question_id":73263561,"body_markdown":"Try java streams:\r\n\r\n    equipmentList().stream().filter(e -&gt; e.getDrill == true).collect(Collectors.toList())","title":"Filter objects in array with field values","body":"<p>Try java streams:</p>\n<pre><code>equipmentList().stream().filter(e -&gt; e.getDrill == true).collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":25291319,"reputation":21,"user_id":19117343,"display_name":"Jonathan S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659824235,"creation_date":1659823462,"question_id":73263561,"body_markdown":"I want my method PrintDrillsNeedingBitReplacement to only show me the drills with the boolean value true to this question. My current method prints every drill, wether or not it needs bit replacement. The array is being created from a .txt file with a couple of other objects in it so I struggle to filter it out depending on index value. Further down you can see my attempt. Would really appriciate detailed explanation if possible. \r\n\r\n```\r\npublic class Program {\r\n    private static final String  DRILL = &quot;Drill&quot;;\r\n    private static final String  SAW = &quot;Saw&quot;;\r\n    List&lt;Equipment&gt; equipmentList = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; fields = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;Equipment&gt; readFromFile() throws IOException {\r\n        File equipment = new File(&quot;equipment.txt&quot;);\r\n        equipmentList = new ArrayList&lt;&gt;();\r\n        fields = new ArrayList&lt;&gt;();\r\n        String line;\r\n        String type = null;\r\n        Equipment equip = null;\r\n        try (Scanner reader = new Scanner(equipment)) {\r\n            while (reader.hasNextLine()) {\r\n                line = reader.nextLine();\r\n                if (isTypeLine(line)) {\r\n                    if (type != null) {\r\n                        switch (type) {\r\n                            case DRILL:\r\n                                equip = createDrill(fields);\r\n                                break;\r\n                            case SAW:\r\n                                equip = createSaw(fields);\r\n                                break;\r\n                            default:\r\n                                equip = null;\r\n                        }\r\n                        if (equip != null) {\r\n                            equipmentList.add(equip);\r\n                        }\r\n                    }\r\n                    fields.clear();\r\n                    type = line;\r\n                }\r\n                else {\r\n                    fields.add(line);\r\n                }\r\n            }\r\n            if (type != null) {\r\n                switch (type) {\r\n                    case DRILL:\r\n                        equip = createDrill(fields);\r\n                        break;\r\n                    case SAW:\r\n                        equip = createSaw(fields);\r\n                        break;\r\n                    default:\r\n                        equip = null;\r\n                }\r\n                if (equip != null) {\r\n                    equipmentList.add(equip);\r\n                }\r\n            }\r\n            return equipmentList;\r\n        }\r\n    }\r\n\r\n    public List&lt;Equipment&gt; printDrillsNeedingBitReplacement() {\r\n        for (Equipment equipment : equipmentList) {\r\n            if (equipment.getEquipmentName() == DRILL) {\r\n                createDrill(fields).getNeedsNewBit().equals(true);\r\n                System.out.println(equipment);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    public Drill createDrill(List&lt;String&gt; fields) {\r\n        Integer id = Integer.valueOf(fields.get(0));\r\n        String locker = fields.get(1);\r\n        Integer year = Integer.valueOf(fields.get(2));\r\n        Boolean batteryPowered = Boolean.valueOf(fields.get(3));\r\n        Boolean needsNewBit = Boolean.valueOf(fields.get(4));\r\n        Drill drill = new Drill(DRILL, id, locker, year, batteryPowered, needsNewBit);\r\n        return drill;\r\n    }\r\n\r\n    private boolean isTypeLine(String line) {\r\n        return DRILL.equals(line)  ||  SAW.equals(line);\r\n    }\r\n}\r\n\r\n```","title":"Filter objects in array with field values","body":"<p>I want my method PrintDrillsNeedingBitReplacement to only show me the drills with the boolean value true to this question. My current method prints every drill, wether or not it needs bit replacement. The array is being created from a .txt file with a couple of other objects in it so I struggle to filter it out depending on index value. Further down you can see my attempt. Would really appriciate detailed explanation if possible.</p>\n<pre><code>public class Program {\n    private static final String  DRILL = &quot;Drill&quot;;\n    private static final String  SAW = &quot;Saw&quot;;\n    List&lt;Equipment&gt; equipmentList = new ArrayList&lt;&gt;();\n    List&lt;String&gt; fields = new ArrayList&lt;&gt;();\n\n    public List&lt;Equipment&gt; readFromFile() throws IOException {\n        File equipment = new File(&quot;equipment.txt&quot;);\n        equipmentList = new ArrayList&lt;&gt;();\n        fields = new ArrayList&lt;&gt;();\n        String line;\n        String type = null;\n        Equipment equip = null;\n        try (Scanner reader = new Scanner(equipment)) {\n            while (reader.hasNextLine()) {\n                line = reader.nextLine();\n                if (isTypeLine(line)) {\n                    if (type != null) {\n                        switch (type) {\n                            case DRILL:\n                                equip = createDrill(fields);\n                                break;\n                            case SAW:\n                                equip = createSaw(fields);\n                                break;\n                            default:\n                                equip = null;\n                        }\n                        if (equip != null) {\n                            equipmentList.add(equip);\n                        }\n                    }\n                    fields.clear();\n                    type = line;\n                }\n                else {\n                    fields.add(line);\n                }\n            }\n            if (type != null) {\n                switch (type) {\n                    case DRILL:\n                        equip = createDrill(fields);\n                        break;\n                    case SAW:\n                        equip = createSaw(fields);\n                        break;\n                    default:\n                        equip = null;\n                }\n                if (equip != null) {\n                    equipmentList.add(equip);\n                }\n            }\n            return equipmentList;\n        }\n    }\n\n    public List&lt;Equipment&gt; printDrillsNeedingBitReplacement() {\n        for (Equipment equipment : equipmentList) {\n            if (equipment.getEquipmentName() == DRILL) {\n                createDrill(fields).getNeedsNewBit().equals(true);\n                System.out.println(equipment);\n            }\n        }\n        return null;\n    }\n\n\n    public Drill createDrill(List&lt;String&gt; fields) {\n        Integer id = Integer.valueOf(fields.get(0));\n        String locker = fields.get(1);\n        Integer year = Integer.valueOf(fields.get(2));\n        Boolean batteryPowered = Boolean.valueOf(fields.get(3));\n        Boolean needsNewBit = Boolean.valueOf(fields.get(4));\n        Drill drill = new Drill(DRILL, id, locker, year, batteryPowered, needsNewBit);\n        return drill;\n    }\n\n    private boolean isTypeLine(String line) {\n        return DRILL.equals(line)  ||  SAW.equals(line);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":0,"creation_date":1659672452,"post_id":73244338,"comment_id":129354719,"body_markdown":"You can try to use -&gt;lg.setText(&quot;Retry&quot;);   before the -&gt;lg.setEnabled(true);   May be ..","body":"You can try to use -&gt;lg.setText(&quot;Retry&quot;);   before the -&gt;lg.setEnabled(true);   May be .."},{"owner":{"account_id":17935306,"reputation":29,"user_id":13031763,"display_name":"Terre"},"score":0,"creation_date":1659676378,"post_id":73244338,"comment_id":129355309,"body_markdown":"I already tried putting lg.setText(&quot;Retry&quot;); first and each of the 3 lines has been put first but only the first 2 are excecuted I really wonder why","body":"I already tried putting lg.setText(&quot;Retry&quot;); first and each of the 3 lines has been put first but only the first 2 are excecuted I really wonder why"},{"owner":{"account_id":14552498,"reputation":557,"user_id":10510927,"display_name":"omz1990"},"score":0,"creation_date":1659677272,"post_id":73244338,"comment_id":129355467,"body_markdown":"Please also show the xml file and other functions that are changing the UI as it is impossible to see the state of `lg` or the other attributes set on it. Also please show the exact function which you say is working.","body":"Please also show the xml file and other functions that are changing the UI as it is impossible to see the state of <code>lg</code> or the other attributes set on it. Also please show the exact function which you say is working."}],"owner":{"account_id":17935306,"reputation":29,"user_id":13031763,"display_name":"Terre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659823169,"creation_date":1659669948,"question_id":73244338,"body_markdown":"I have a method below when I call it only the first two lines are executed what could be the reason, am testing this on android 9 any help where lg is a button, pr is a progressbar all are correctly initialised. What suprises me is that the method that does the opposite of this one works pretty well please help, This method is called from within an android&#39;s javascriptInterface method which inside an inner class:\r\n\r\n    public void retry() {\r\n           pr.setVisibility(View.GONE);\r\n           lg.setEnabled(true); \r\n           lg.setText(&quot;Retry&quot;); \r\n    }\r\n\r\n\r\nretry(); was called from processesContent() which has the annotation -&gt; @JavascriptInterface like below:\r\n\r\n\r\n    final class IJavascriptHandler {\r\n        \r\n        IJavascriptHandler(Context c) {\r\n          \r\n            mContext = c;\r\n        }\r\n\r\n        //API 17 and higher required you to add @JavascriptInterface as mandatory before your method.\r\n        @JavascriptInterface\r\n        public void processContent(String string)\r\n        {\r\n           // Toast.makeText(Settings.this,string,Toast.LENGTH_LONG).show();\r\n          if(string.equals(&quot;user not found&quot;)){\r\n              retry();\r\n          }\r\n           }\r\n    }\r\n\r\nAll this was made possible by using the below code in webviewClient\r\n\r\n     @Override\r\n                public void onPageFinished(WebView view, String url)\r\n                { \r\n                    view.loadUrl(&quot;javascript:window.Android.processContent(document.getElementsByTagName(&#39;html&#39;)[0].innerText);&quot;);\r\n              \r\n                }\r\n\r\nIts seems to me the problem merges from calling methods inside a method with the annotation @JavascriptInterface, am saying this because the same method works fine when called from other methods, please help,Also I really have to use the the JavascriptInteface unless if there is better way please advise me","title":"Why Android seems to execute only the first two lines on my method","body":"<p>I have a method below when I call it only the first two lines are executed what could be the reason, am testing this on android 9 any help where lg is a button, pr is a progressbar all are correctly initialised. What suprises me is that the method that does the opposite of this one works pretty well please help, This method is called from within an android's javascriptInterface method which inside an inner class:</p>\n<pre><code>public void retry() {\n       pr.setVisibility(View.GONE);\n       lg.setEnabled(true); \n       lg.setText(&quot;Retry&quot;); \n}\n</code></pre>\n<p>retry(); was called from processesContent() which has the annotation -&gt; @JavascriptInterface like below:</p>\n<pre><code>final class IJavascriptHandler {\n    \n    IJavascriptHandler(Context c) {\n      \n        mContext = c;\n    }\n\n    //API 17 and higher required you to add @JavascriptInterface as mandatory before your method.\n    @JavascriptInterface\n    public void processContent(String string)\n    {\n       // Toast.makeText(Settings.this,string,Toast.LENGTH_LONG).show();\n      if(string.equals(&quot;user not found&quot;)){\n          retry();\n      }\n       }\n}\n</code></pre>\n<p>All this was made possible by using the below code in webviewClient</p>\n<pre><code> @Override\n            public void onPageFinished(WebView view, String url)\n            { \n                view.loadUrl(&quot;javascript:window.Android.processContent(document.getElementsByTagName('html')[0].innerText);&quot;);\n          \n            }\n</code></pre>\n<p>Its seems to me the problem merges from calling methods inside a method with the annotation @JavascriptInterface, am saying this because the same method works fine when called from other methods, please help,Also I really have to use the the JavascriptInteface unless if there is better way please advise me</p>\n"},{"tags":["java","android","kotlin","material-design","material3"],"comments":[{"owner":{"account_id":3529602,"reputation":24852,"user_id":2949612,"accept_rate":76,"display_name":"pRaNaY"},"score":0,"creation_date":1659681998,"post_id":73245613,"comment_id":129356513,"body_markdown":"check `android:popupMenuBackground`. define style in app theme or custom style you can set popupmenu background. check more here: https://m3.material.io/components/menus/implementation/android","body":"check <code>android:popupMenuBackground</code>. define style in app theme or custom style you can set popupmenu background. check more here: <a href=\"https://m3.material.io/components/menus/implementation/android\" rel=\"nofollow noreferrer\">m3.material.io/components/menus/implementation/android</a>"}],"owner":{"account_id":25984001,"reputation":11,"user_id":19697212,"display_name":"Adnan Sami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659822907,"creation_date":1659681378,"question_id":73245613,"body_markdown":"How can i change popup menu background color in material3. I have tried a lot but found no solutions. I had tried itemBacgroundColor also but it’s still in different color. I want it to white.\r\n\r\nhttps://i.stack.imgur.com/gy1EQ.jpg","title":"How to change popup menu color in material3","body":"<p>How can i change popup menu background color in material3. I have tried a lot but found no solutions. I had tried itemBacgroundColor also but it’s still in different color. I want it to white.</p>\n<p><a href=\"https://i.stack.imgur.com/gy1EQ.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/gy1EQ.jpg</a></p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659702086,"post_id":73249663,"comment_id":129363091,"body_markdown":"You&#39;re missing the most important information, i.e. the request you send with postman.","body":"You&#39;re missing the most important information, i.e. the request you send with postman."},{"owner":{"account_id":25650078,"reputation":1,"user_id":19417480,"display_name":"Ankita Shukla"},"score":0,"creation_date":1659702335,"post_id":73249663,"comment_id":129363194,"body_markdown":"The screenshot is removed info is post -body-raw-json and above mentioned json data","body":"The screenshot is removed info is post -body-raw-json and above mentioned json data"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659702395,"post_id":73249663,"comment_id":129363219,"body_markdown":"I see but the request is not only the body, there is also a URL for example, which by the message it seems may be wrong.","body":"I see but the request is not only the body, there is also a URL for example, which by the message it seems may be wrong."},{"owner":{"account_id":25650078,"reputation":1,"user_id":19417480,"display_name":"Ankita Shukla"},"score":0,"creation_date":1659702480,"post_id":73249663,"comment_id":129363251,"body_markdown":"http://localhost:9009/dept/","body":"<a href=\"http://localhost:9009/dept/\" rel=\"nofollow noreferrer\">localhost:9009/dept</a>"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659702677,"post_id":73249663,"comment_id":129363334,"body_markdown":"What if you try to change `@PostMapping(&quot;/depts&quot;)` and modify the URL to `localhost:9009/dept/depts`? Also, are you sure the service is started on port `9009` and not `8008` (did you explicitly configure that port else you&#39;ll default to that one)? Also, are you sure you&#39;re using the verb `POST` and not the default verb `GET`?","body":"What if you try to change <code>@PostMapping(&quot;&#47;depts&quot;)</code> and modify the URL to <code>localhost:9009&#47;dept&#47;depts</code>? Also, are you sure the service is started on port <code>9009</code> and not <code>8008</code> (did you explicitly configure that port else you&#39;ll default to that one)? Also, are you sure you&#39;re using the verb <code>POST</code> and not the default verb <code>GET</code>?"},{"owner":{"account_id":25650078,"reputation":1,"user_id":19417480,"display_name":"Ankita Shukla"},"score":0,"creation_date":1659703091,"post_id":73249663,"comment_id":129363490,"body_markdown":"Yes in application.yml I specified port tried via changing that too. Also the mapping(path) given is as per above and tried with changing that too but still same.Kindly help. Tried Post only as checked.","body":"Yes in application.yml I specified port tried via changing that too. Also the mapping(path) given is as per above and tried with changing that too but still same.Kindly help. Tried Post only as checked."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659703391,"post_id":73249663,"comment_id":129363620,"body_markdown":"May be a stupid question but are you sure the application is started? If you visit the link localhost:9009 what do you see?","body":"May be a stupid question but are you sure the application is started? If you visit the link localhost:9009 what do you see?"},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1659705033,"post_id":73249663,"comment_id":129364231,"body_markdown":"You should try `localhost:9009/dept/` (notice trailing `/`) not `localhost:9009/dept` or just simply remove `/` from `@PostMapping(&quot;&quot;)` on top of `saveDepartment` method.","body":"You should try <code>localhost:9009&#47;dept&#47;</code> (notice trailing <code>&#47;</code>) not <code>localhost:9009&#47;dept</code> or just simply remove <code>&#47;</code> from <code>@PostMapping(&quot;&quot;)</code> on top of <code>saveDepartment</code> method."}],"answers":[{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659705313,"creation_date":1659704566,"answer_id":73250243,"question_id":73249663,"body_markdown":"I&#39;ve tried your code and seams to be correct. Just two check you must done this the **URL** that you request in *Postman*:\r\n\r\n - *First*: Make sure that you make a `POST` request to the URL not `GET`\r\n - *Second*: You add a slash character `/` in `@PostMapping(&quot;/&quot;)` on top of `saveDepartment` method. So, you have to make your post request as:\r\n\r\n\r\n&gt;     http://localhost:9009/dept/\r\n\r\n\r\n**Notice the trailing slash at the end of the request.**\r\n\r\nOtherwise  you get 404 not found error if you missed this character `/`\r\n\r\n\r\n----------\r\n\r\nAnother way is just simply remove `/` from `@PostMapping(&quot;&quot;)` on top of `saveDepartment` method:\r\n\r\n    @PostMapping(&quot;&quot;)\r\n    public Department saveDepartment(@RequestBody Department department){\r\n        return departmentservice.saveDepartment(department);\r\n    }\r\n\r\n","title":"Getting error while running Spring boot app via Postman","body":"<p>I've tried your code and seams to be correct. Just two check you must done this the <strong>URL</strong> that you request in <em>Postman</em>:</p>\n<ul>\n<li><em>First</em>: Make sure that you make a <code>POST</code> request to the URL not <code>GET</code></li>\n<li><em>Second</em>: You add a slash character <code>/</code> in <code>@PostMapping(&quot;/&quot;)</code> on top of <code>saveDepartment</code> method. So, you have to make your post request as:</li>\n</ul>\n<blockquote>\n<pre><code>http://localhost:9009/dept/\n</code></pre>\n</blockquote>\n<p><strong>Notice the trailing slash at the end of the request.</strong></p>\n<p>Otherwise  you get 404 not found error if you missed this character <code>/</code></p>\n<hr />\n<p>Another way is just simply remove <code>/</code> from <code>@PostMapping(&quot;&quot;)</code> on top of <code>saveDepartment</code> method:</p>\n<pre><code>@PostMapping(&quot;&quot;)\npublic Department saveDepartment(@RequestBody Department department){\n    return departmentservice.saveDepartment(department);\n}\n</code></pre>\n"}],"owner":{"account_id":25650078,"reputation":1,"user_id":19417480,"display_name":"Ankita Shukla"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659821288,"creation_date":1659701993,"question_id":73249663,"body_markdown":"While running the code getting whitelabel page error as shown in Postman Kindly help with what is going wrong:\r\nNote : All classes are below main class as per few checked solution. Issue remain same with `@ComonentScan` too.\r\n\r\n    \r\n\r\n&gt; Postman error :\r\n&gt;     {\r\n&gt;         &quot;timestamp&quot;: &quot;2022-08-05T12:08:42.938+00:00&quot;,\r\n&gt;         &quot;status&quot;: 404,\r\n&gt;         &quot;error&quot;: &quot;Not Found&quot;,\r\n&gt;         &quot;path&quot;: &quot;/dept/&quot;\r\n&gt;     }\r\n\r\nJson given:\r\n\r\n    {\r\n    &quot;deptName&quot;:&quot;XYZ&quot;,\r\n    &quot;address&quot;: &quot;XYZ&quot;\r\n    }\r\n\r\nEntity code:\r\n\r\n\r\n    package com.microservice.Entity;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    //import javax.persistence.Table;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    \r\n    @Entity\r\n    @Data\r\n    \r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Department {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate int departmentId;\r\n    \t\r\n    \r\n    \tprivate String deptName;\r\n    \r\n    \r\n    \tprivate String address;\r\n    \r\n    }\r\n\r\nService:\r\n\r\n    package com.microservice.Service;\r\n    \r\n    import com.microservice.Entity.Department;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.microservice.Repository.DepartmentRepository;\r\n    \r\n    @Service\r\n    \r\n        public class DepartmentService {\r\n        \t@Autowired\r\n        \tprivate DepartmentRepository departmentRepository;\r\n        \r\n        \r\n        \r\n        \tpublic Department getByID(int departmentId)\r\n        \t{\r\n        \t\treturn departmentRepository.findByDepartmentId(departmentId);\r\n        \t}\r\n        \r\n        \tpublic Department saveDepartment(Department department) {\r\n        \t\treturn departmentRepository.save(department);\r\n        \t}\r\n        }\r\n\r\nController:\r\n\r\n    package com.microservice.FController;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import com.microservice.Entity.Department;\r\n    import com.microservice.Service.DepartmentService;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/dept&quot;)\r\n    public class DepartmentController {\r\n    \r\n      @Autowired\r\n        private DepartmentService departmentservice;\r\n    \r\n    \r\n    \r\n    \r\n     @PostMapping(&quot;/&quot;)\r\n        public Department saveDepartment(@RequestBody Department department){\r\n            return departmentservice.saveDepartment(department);\r\n        }\r\n    \r\n    @GetMapping(&quot;/{id}&quot;)\r\n        public Department getByID(@PathVariable(&quot;id&quot;) Integer departmentId  ) {\r\n        System.out.println(&quot;Inside get id controller method&quot;);\r\n    \r\n        return departmentservice.getByID(departmentId);\r\n    }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nRepository:\r\n\r\n    package com.microservice.Repository;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.microservice.Entity.Department;\r\n    \r\n    public interface DepartmentRepository extends JpaRepository&lt;Department,Integer&gt; {\r\n    \r\n         Department findByDepartmentId(int departmentId);\r\n    }\r\n    \r\nMain Class:\r\n\r\n    package com.microservice.Departmentservice;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    public class DepartmentServiceApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DepartmentServiceApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting error while running Spring boot app via Postman","body":"<p>While running the code getting whitelabel page error as shown in Postman Kindly help with what is going wrong:\nNote : All classes are below main class as per few checked solution. Issue remain same with <code>@ComonentScan</code> too.</p>\n<blockquote>\n<p>Postman error :\n{\n&quot;timestamp&quot;: &quot;2022-08-05T12:08:42.938+00:00&quot;,\n&quot;status&quot;: 404,\n&quot;error&quot;: &quot;Not Found&quot;,\n&quot;path&quot;: &quot;/dept/&quot;\n}</p>\n</blockquote>\n<p>Json given:</p>\n<pre><code>{\n&quot;deptName&quot;:&quot;XYZ&quot;,\n&quot;address&quot;: &quot;XYZ&quot;\n}\n</code></pre>\n<p>Entity code:</p>\n<pre><code>package com.microservice.Entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n//import javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Entity\n@Data\n\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Department {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int departmentId;\n    \n\n    private String deptName;\n\n\n    private String address;\n\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>package com.microservice.Service;\n\nimport com.microservice.Entity.Department;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.microservice.Repository.DepartmentRepository;\n\n@Service\n\n    public class DepartmentService {\n        @Autowired\n        private DepartmentRepository departmentRepository;\n    \n    \n    \n        public Department getByID(int departmentId)\n        {\n            return departmentRepository.findByDepartmentId(departmentId);\n        }\n    \n        public Department saveDepartment(Department department) {\n            return departmentRepository.save(department);\n        }\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code>package com.microservice.FController;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\nimport com.microservice.Entity.Department;\nimport com.microservice.Service.DepartmentService;\n\n@RestController\n@RequestMapping(&quot;/dept&quot;)\npublic class DepartmentController {\n\n  @Autowired\n    private DepartmentService departmentservice;\n\n\n\n\n @PostMapping(&quot;/&quot;)\n    public Department saveDepartment(@RequestBody Department department){\n        return departmentservice.saveDepartment(department);\n    }\n\n@GetMapping(&quot;/{id}&quot;)\n    public Department getByID(@PathVariable(&quot;id&quot;) Integer departmentId  ) {\n    System.out.println(&quot;Inside get id controller method&quot;);\n\n    return departmentservice.getByID(departmentId);\n}\n\n\n\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>package com.microservice.Repository;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.microservice.Entity.Department;\n\npublic interface DepartmentRepository extends JpaRepository&lt;Department,Integer&gt; {\n\n     Department findByDepartmentId(int departmentId);\n}\n</code></pre>\n<p>Main Class:</p>\n<pre><code>package com.microservice.Departmentservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\npublic class DepartmentServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DepartmentServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","performance","perf","jmh"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1659817192,"post_id":73261540,"comment_id":129386643,"body_markdown":"Because the loop is executed much less times in the second case (with `PAUSE` instruction). What do you find strange, and what would you expect instead?","body":"Because the loop is executed much less times in the second case (with <code>PAUSE</code> instruction). What do you find strange, and what would you expect instead?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1659817372,"post_id":73261540,"comment_id":129386671,"body_markdown":"I expected at least number of branches to be the same as in the source code I have one `if` in both methods.","body":"I expected at least number of branches to be the same as in the source code I have one <code>if</code> in both methods."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1659819613,"post_id":73261540,"comment_id":129387013,"body_markdown":"Can you put this as an answer so I could accept it?","body":"Can you put this as an answer so I could accept it?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1659839113,"post_id":73261540,"comment_id":129389134,"body_markdown":"I&#39;m guessing you&#39;re on an AMD CPU, or an Intel before Skylake.  On Skylake, `pause` blocks the front-end for that logical core for about 100 cycles, up from 5.  The CPI/IPC numbers would be even more dramatic in that case.  (It waste less power spinning, and when the other logical core has any work to do, leaves more execution resources for it.)","body":"I&#39;m guessing you&#39;re on an AMD CPU, or an Intel before Skylake.  On Skylake, <code>pause</code> blocks the front-end for that logical core for about 100 cycles, up from 5.  The CPI/IPC numbers would be even more dramatic in that case.  (It waste less power spinning, and when the other logical core has any work to do, leaves more execution resources for it.)"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659821082,"creation_date":1659821082,"answer_id":73263359,"question_id":73261540,"body_markdown":"On x86, `Thread.onSpinWait()` intrinsic is translated to the [`PAUSE`](https://www.intel.com/content/www/us/en/develop/documentation/cpp-compiler-developer-guide-and-reference/top/compiler-reference/intrinsics/intrinsics-for-sse2/miscellaneous-functions-and-intrinsics/pause-intrinsic.html) instruction. `PAUSE` delays the execution of the next instruction for an implementation-specific amount of time. Because of this delay, the second loop executes the less number of times comparing to the loop without `onSpinWait`.\r\n\r\nExtra delay per each loop iteration =&gt; less number of iterations =&gt; less number of retired instructions (including `cmp` and `jne`) =&gt; less branches and memory loads.","title":"Confusing branches and L1-dcache-loads in the output of JMH&#39;s LinuxPerfNormProfiler","body":"<p>On x86, <code>Thread.onSpinWait()</code> intrinsic is translated to the <a href=\"https://www.intel.com/content/www/us/en/develop/documentation/cpp-compiler-developer-guide-and-reference/top/compiler-reference/intrinsics/intrinsics-for-sse2/miscellaneous-functions-and-intrinsics/pause-intrinsic.html\" rel=\"nofollow noreferrer\"><code>PAUSE</code></a> instruction. <code>PAUSE</code> delays the execution of the next instruction for an implementation-specific amount of time. Because of this delay, the second loop executes the less number of times comparing to the loop without <code>onSpinWait</code>.</p>\n<p>Extra delay per each loop iteration =&gt; less number of iterations =&gt; less number of retired instructions (including <code>cmp</code> and <code>jne</code>) =&gt; less branches and memory loads.</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73263359,"answer_count":1,"score":0,"last_activity_date":1659821082,"creation_date":1659803751,"question_id":73261540,"body_markdown":"I&#39;m measuring costs of busy-waiting implemented with two approaches:\r\n```java\r\n// 1\r\nwhile(run) { // looping on volatile flag\r\n}\r\n\r\n// 2\r\nwhile(run) { // looping on volatile flag\r\n  Thread.onSpinWait();\r\n}\r\n```\r\nComplete code of the examples is available on GitHub via [link1][1] and [link2][2].\r\nI&#39;m running the benchmarks with `-prof perfnorm` and they yield:\r\n```\r\nBenchmark                                                        Mode  Cnt      Score      Error      Units\r\nWhileTrueBenchmark.whileTrue                                     avgt   20   6460.700 &#177;  109.333      ns/op\r\nWhileTrueBenchmark.whileTrue:CPI                                 avgt    4      0.444 &#177;    0.005  clks/insn\r\nWhileTrueBenchmark.whileTrue:IPC                                 avgt    4      2.252 &#177;    0.026  insns/clk\r\nWhileTrueBenchmark.whileTrue:L1-dcache-loads                     avgt    4  51523.529 &#177; 3556.009       #/op\r\nWhileTrueBenchmark.whileTrue:branches                            avgt    4  13981.285 &#177;  958.249       #/op\r\nWhileTrueBenchmark.whileTrue:cycles                              avgt    4  36407.576 &#177; 2434.292       #/op\r\nWhileTrueBenchmark.whileTrue:instructions                        avgt    4  81985.523 &#177; 6300.983       #/op\r\n\r\n\r\nThreadOnSpinWaitPlainBenchmark.onSpinWait                        avgt   20   6463.334 &#177;   49.922      ns/op\r\nThreadOnSpinWaitPlainBenchmark.onSpinWait:CPI                    avgt    4      2.143 &#177;    0.056  clks/insn\r\nThreadOnSpinWaitPlainBenchmark.onSpinWait:IPC                    avgt    4      0.467 &#177;    0.012  insns/clk\r\nThreadOnSpinWaitPlainBenchmark.onSpinWait:L1-dcache-loads        avgt    4   7262.587 &#177;  324.600       #/op\r\nThreadOnSpinWaitPlainBenchmark.onSpinWait:branches               avgt    4   2951.111 &#177;  162.867       #/op\r\nThreadOnSpinWaitPlainBenchmark.onSpinWait:cycles                 avgt    4  36307.064 &#177; 1516.787       #/op\r\nThreadOnSpinWaitPlainBenchmark.onSpinWait:instructions           avgt    4  16943.396 &#177;  820.446       #/op\r\n```\r\nSo from the output we see that for the same time elapsed we have the same cycle count, but `Thread.onSpinWait()` executed almost 5 times less instructions. This is understandable and expected behavior.\r\n\r\nWhat is unexpected to me is that it produced much less `branches` and `L1-dcache-loads`. The benchmarked code doesn&#39;t have much branching and reads one and the same flag from memory.\r\n\r\nSo why are these two metrics (`branches` and `L1-dcache-loads`) so different?\r\n\r\n\r\n  [1]: https://github.com/stsypanov/sleep/blob/master/src/main/java/com/tsypanov/slp/plain/WhileTrueBenchmark.java\r\n  [2]: https://github.com/stsypanov/sleep/blob/master/src/main/java/com/tsypanov/slp/plain/ThreadOnSpinWaitPlainBenchmark.java","title":"Confusing branches and L1-dcache-loads in the output of JMH&#39;s LinuxPerfNormProfiler","body":"<p>I'm measuring costs of busy-waiting implemented with two approaches:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// 1\nwhile(run) { // looping on volatile flag\n}\n\n// 2\nwhile(run) { // looping on volatile flag\n  Thread.onSpinWait();\n}\n</code></pre>\n<p>Complete code of the examples is available on GitHub via <a href=\"https://github.com/stsypanov/sleep/blob/master/src/main/java/com/tsypanov/slp/plain/WhileTrueBenchmark.java\" rel=\"nofollow noreferrer\">link1</a> and <a href=\"https://github.com/stsypanov/sleep/blob/master/src/main/java/com/tsypanov/slp/plain/ThreadOnSpinWaitPlainBenchmark.java\" rel=\"nofollow noreferrer\">link2</a>.\nI'm running the benchmarks with <code>-prof perfnorm</code> and they yield:</p>\n<pre><code>Benchmark                                                        Mode  Cnt      Score      Error      Units\nWhileTrueBenchmark.whileTrue                                     avgt   20   6460.700 ±  109.333      ns/op\nWhileTrueBenchmark.whileTrue:CPI                                 avgt    4      0.444 ±    0.005  clks/insn\nWhileTrueBenchmark.whileTrue:IPC                                 avgt    4      2.252 ±    0.026  insns/clk\nWhileTrueBenchmark.whileTrue:L1-dcache-loads                     avgt    4  51523.529 ± 3556.009       #/op\nWhileTrueBenchmark.whileTrue:branches                            avgt    4  13981.285 ±  958.249       #/op\nWhileTrueBenchmark.whileTrue:cycles                              avgt    4  36407.576 ± 2434.292       #/op\nWhileTrueBenchmark.whileTrue:instructions                        avgt    4  81985.523 ± 6300.983       #/op\n\n\nThreadOnSpinWaitPlainBenchmark.onSpinWait                        avgt   20   6463.334 ±   49.922      ns/op\nThreadOnSpinWaitPlainBenchmark.onSpinWait:CPI                    avgt    4      2.143 ±    0.056  clks/insn\nThreadOnSpinWaitPlainBenchmark.onSpinWait:IPC                    avgt    4      0.467 ±    0.012  insns/clk\nThreadOnSpinWaitPlainBenchmark.onSpinWait:L1-dcache-loads        avgt    4   7262.587 ±  324.600       #/op\nThreadOnSpinWaitPlainBenchmark.onSpinWait:branches               avgt    4   2951.111 ±  162.867       #/op\nThreadOnSpinWaitPlainBenchmark.onSpinWait:cycles                 avgt    4  36307.064 ± 1516.787       #/op\nThreadOnSpinWaitPlainBenchmark.onSpinWait:instructions           avgt    4  16943.396 ±  820.446       #/op\n</code></pre>\n<p>So from the output we see that for the same time elapsed we have the same cycle count, but <code>Thread.onSpinWait()</code> executed almost 5 times less instructions. This is understandable and expected behavior.</p>\n<p>What is unexpected to me is that it produced much less <code>branches</code> and <code>L1-dcache-loads</code>. The benchmarked code doesn't have much branching and reads one and the same flag from memory.</p>\n<p>So why are these two metrics (<code>branches</code> and <code>L1-dcache-loads</code>) so different?</p>\n"},{"tags":["java","methods","parameters"],"comments":[{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":2,"creation_date":1370506837,"post_id":16957032,"comment_id":24487549,"body_markdown":"what is the name and what is value here","body":"what is the name and what is value here"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":2,"creation_date":1370507002,"post_id":16957032,"comment_id":24487622,"body_markdown":"What would you need that for?","body":"What would you need that for?"},{"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"score":0,"creation_date":1370507028,"post_id":16957032,"comment_id":24487635,"body_markdown":"Why would you want to do this within the method itself? There cannot be - at least in your example - suddenly new arguments.","body":"Why would you want to do this within the method itself? There cannot be - at least in your example - suddenly new arguments."},{"owner":{"account_id":1308727,"reputation":4139,"user_id":1257185,"accept_rate":71,"display_name":"EsseTi"},"score":0,"creation_date":1370507032,"post_id":16957032,"comment_id":24487637,"body_markdown":"i need to create an hashmap with key the name of the parameter and value the value of the parameter.","body":"i need to create an hashmap with key the name of the parameter and value the value of the parameter."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1370507094,"post_id":16957032,"comment_id":24487669,"body_markdown":"This looks like a XY problem. What do you **really** need to do?","body":"This looks like a XY problem. What do you <b>really</b> need to do?"},{"owner":{"account_id":1308727,"reputation":4139,"user_id":1257185,"accept_rate":71,"display_name":"EsseTi"},"score":0,"creation_date":1370507097,"post_id":16957032,"comment_id":24487672,"body_markdown":"@DaDaDom this is a second step, where i want to have dynamic parameters. but in java i can&#39;t do that. i want to do this beacuse i don&#39;t want to do many lines of code just to create an hashmap for all the functions&#39; parameters","body":"@DaDaDom this is a second step, where i want to have dynamic parameters. but in java i can&#39;t do that. i want to do this beacuse i don&#39;t want to do many lines of code just to create an hashmap for all the functions&#39; parameters"},{"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"score":0,"creation_date":1370507109,"post_id":16957032,"comment_id":24487680,"body_markdown":"What is the point of having it? And you can always do it yourself. I am sorry but it is missing the gist.","body":"What is the point of having it? And you can always do it yourself. I am sorry but it is missing the gist."},{"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"score":1,"creation_date":1370507112,"post_id":16957032,"comment_id":24487682,"body_markdown":"Why don&#39;t you pass a Map to your function ?","body":"Why don&#39;t you pass a Map to your function ?"},{"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"score":0,"creation_date":1370507179,"post_id":16957032,"comment_id":24487720,"body_markdown":"@EsseTi: exactly: you can&#39;t do that in Java, so what&#39;s the point? ;-) And as stated in another comment/answer: reflection is the only way to achieve this.","body":"@EsseTi: exactly: you can&#39;t do that in Java, so what&#39;s the point? ;-) And as stated in another comment/answer: reflection is the only way to achieve this."},{"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"score":0,"creation_date":1370507214,"post_id":16957032,"comment_id":24487737,"body_markdown":"http://stackoverflow.com/questions/2237803/can-i-obtain-method-parameter-name-using-java-reflection","body":"<a href=\"http://stackoverflow.com/questions/2237803/can-i-obtain-method-parameter-name-using-java-reflection\" title=\"can i obtain method parameter name using java reflection\">stackoverflow.com/questions/2237803/&hellip;</a>"},{"owner":{"account_id":1308727,"reputation":4139,"user_id":1257185,"accept_rate":71,"display_name":"EsseTi"},"score":0,"creation_date":1370507300,"post_id":16957032,"comment_id":24487785,"body_markdown":"@DaDaDom that if i&#39;ve 20 methods and i want JUST create a hashmap with &lt;key,value&gt; of parameters i&#39;ve to do it by hand seems really error prone to me. so i was looking if there is something similar to ** of python http://stackoverflow.com/questions/36901/what-does-double-star-and-star-do-for-python-parameters","body":"@DaDaDom that if i&#39;ve 20 methods and i want JUST create a hashmap with &lt;key,value&gt; of parameters i&#39;ve to do it by hand seems really error prone to me. so i was looking if there is something similar to ** of python <a href=\"http://stackoverflow.com/questions/36901/what-does-double-star-and-star-do-for-python-parameters\" title=\"what does double star and star do for python parameters\">stackoverflow.com/questions/36901/&hellip;</a>"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1370507342,"post_id":16957032,"comment_id":24487806,"body_markdown":"what do you need that maps for in the first place?","body":"what do you need that maps for in the first place?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1370507362,"post_id":16957032,"comment_id":24487812,"body_markdown":"Again, you are missing the point. Please tell what you actually **want to achieve**. Seasoned Java devs do without this just fine. It more and more looks like a design problem.","body":"Again, you are missing the point. Please tell what you actually <b>want to achieve</b>. Seasoned Java devs do without this just fine. It more and more looks like a design problem."},{"owner":{"account_id":1308727,"reputation":4139,"user_id":1257185,"accept_rate":71,"display_name":"EsseTi"},"score":0,"creation_date":1370507651,"post_id":16957032,"comment_id":24487950,"body_markdown":"@fge i&#39;ve a function that accepts an hashmap and use it for making an api call. Now, i&#39;ve functions that uses the api call function. for each of them i&#39;ve to do the hashmap by hand, parameters by parameters. Plus, some operations (same api call) can have from 1 to 3 parameters, so i&#39;ve to create 7 different functions to map all the cases). it&#39;s only me that found this not really smart approach?","body":"@fge i&#39;ve a function that accepts an hashmap and use it for making an api call. Now, i&#39;ve functions that uses the api call function. for each of them i&#39;ve to do the hashmap by hand, parameters by parameters. Plus, some operations (same api call) can have from 1 to 3 parameters, so i&#39;ve to create 7 different functions to map all the cases). it&#39;s only me that found this not really smart approach?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1370507802,"post_id":16957032,"comment_id":24488031,"body_markdown":"OK, now this is getting somewhere. What are these &quot;API calls&quot;? Do they use an existing protocol (SOAP, JSON-RPC, other)? Or are they methods from another Java library?","body":"OK, now this is getting somewhere. What are these &quot;API calls&quot;? Do they use an existing protocol (SOAP, JSON-RPC, other)? Or are they methods from another Java library?"},{"owner":{"account_id":1308727,"reputation":4139,"user_id":1257185,"accept_rate":71,"display_name":"EsseTi"},"score":0,"creation_date":1370507980,"post_id":16957032,"comment_id":24488121,"body_markdown":"@fge are methods that i created.yet, it doesn&#39;t matter what they do. i  just need to get the parameters as an hasmap or something similar to be flexible. but seems impossibile in java. so i hardcoded everything.","body":"@fge are methods that i created.yet, it doesn&#39;t matter what they do. i  just need to get the parameters as an hasmap or something similar to be flexible. but seems impossibile in java. so i hardcoded everything."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1370507097,"creation_date":1370507097,"answer_id":16957142,"question_id":16957032,"body_markdown":"Unfortunately this is impossible. The only thing you can do is to retrieve the list of parameters types of a particular method using `reflection`.\r\n\r\nBut there is no way to get a map with `name` -&gt; `value` of each argument passed into the method itself.\r\n","title":"Programmatically retrive parameters and values of a method","body":"<p>Unfortunately this is impossible. The only thing you can do is to retrieve the list of parameters types of a particular method using <code>reflection</code>.</p>\n\n<p>But there is no way to get a map with <code>name</code> -> <code>value</code> of each argument passed into the method itself.</p>\n"},{"tags":[],"owner":{"account_id":1639157,"reputation":12883,"user_id":1511951,"accept_rate":77,"display_name":"Steve Benett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370507602,"creation_date":1370507144,"answer_id":16957157,"question_id":16957032,"body_markdown":"You can&#39;t get the name of the parameter, because it&#39;s no value just a name. If you wanna have the name of the parameter in your Map define a String which matches your parameter name and put it in.\r\n\r\nRead [this][1] similar question. The accepted answer seems to have a solution for this using a third party library.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/744226/java-reflection-how-to-get-the-name-of-a-variable","title":"Programmatically retrive parameters and values of a method","body":"<p>You can't get the name of the parameter, because it's no value just a name. If you wanna have the name of the parameter in your Map define a String which matches your parameter name and put it in.</p>\n\n<p>Read <a href=\"https://stackoverflow.com/questions/744226/java-reflection-how-to-get-the-name-of-a-variable\">this</a> similar question. The accepted answer seems to have a solution for this using a third party library.</p>\n"},{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370507420,"creation_date":1370507420,"answer_id":16957244,"question_id":16957032,"body_markdown":"You can&#39;t get the names of the parameters dynamically, nor can you find the values in any way other than using the variable names. However, JAVA has the next best thing: variable arguments. If you want to have a dynamic number of arguments, you can declare your method as follows:\r\n\r\n    public void foo(Object... args)\r\n\r\nWhen you call the method, you will call it with any number of arguments; `foo(1, 2, &quot;ABC&quot;)` and `foo(new File(&quot;config.dat&quot;), new Scanner(), 88.5D)` are both valid calls. Inside the function, `args` will be an array containing all of the parameters in order.\r\n\r\nJust a few usage tips, though. The method declaration above is, in general, not considered good form. Usually, you can be much more specific. Think hard about whether or not you need all this flexibility, and consider using a few overloaded methods or possibly passing a `HashMap` to the function instead. Very rarely will you actually need to have dynamic parameters in that broad of a sense.","title":"Programmatically retrive parameters and values of a method","body":"<p>You can't get the names of the parameters dynamically, nor can you find the values in any way other than using the variable names. However, JAVA has the next best thing: variable arguments. If you want to have a dynamic number of arguments, you can declare your method as follows:</p>\n\n<pre><code>public void foo(Object... args)\n</code></pre>\n\n<p>When you call the method, you will call it with any number of arguments; <code>foo(1, 2, \"ABC\")</code> and <code>foo(new File(\"config.dat\"), new Scanner(), 88.5D)</code> are both valid calls. Inside the function, <code>args</code> will be an array containing all of the parameters in order.</p>\n\n<p>Just a few usage tips, though. The method declaration above is, in general, not considered good form. Usually, you can be much more specific. Think hard about whether or not you need all this flexibility, and consider using a few overloaded methods or possibly passing a <code>HashMap</code> to the function instead. Very rarely will you actually need to have dynamic parameters in that broad of a sense.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370507689,"creation_date":1370507689,"answer_id":16957322,"question_id":16957032,"body_markdown":"You could use:\r\n\r\n    void foo(String... args) {\r\n        for (String arg: args) { }\r\n        for (int i = 0; i &lt; args.length - 1; i += 2) {\r\n            map.put(args[i], args[i + 1];\r\n        }\r\n    }\r\n\r\n    foo(&quot;a&quot;, &quot;1&quot;, &quot;b&quot;, &quot;2&quot;);\r\n\r\nOr use a Map builder, see [builder-for-hashmap][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7345241/builder-for-hashmap","title":"Programmatically retrive parameters and values of a method","body":"<p>You could use:</p>\n\n<pre><code>void foo(String... args) {\n    for (String arg: args) { }\n    for (int i = 0; i &lt; args.length - 1; i += 2) {\n        map.put(args[i], args[i + 1];\n    }\n}\n\nfoo(\"a\", \"1\", \"b\", \"2\");\n</code></pre>\n\n<p>Or use a Map builder, see <a href=\"https://stackoverflow.com/questions/7345241/builder-for-hashmap\">builder-for-hashmap</a>.</p>\n"},{"tags":[],"owner":{"account_id":1490577,"reputation":116,"user_id":1397747,"display_name":"Vasily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370509207,"creation_date":1370509207,"answer_id":16957830,"question_id":16957032,"body_markdown":"There are some hacky ways of getting the parameters values of an invoked method (But you have to understand that the parameters are unnamed, the best you can do is to get arg0.... argN). \r\n\r\n 1. Use Proxies\r\n 2. Aspect oriented programming (AspectJ, Spring AOP)\r\n\r\n\r\nLet&#39;s consider the 1st approach. Say we want to log parameters before executing the method of some interface MethodParamsInterface, here you go. If you want to use these arguments in your logic - consider to implement them in InvocationHandler (or use EasyMock instead)\r\n\r\n    interface MethodParamsInterface {\r\n        void simpleMethod(int parm1, int parm2);\r\n        void simpleMethod(int parm1, int parm2, int param3);\r\n    }\r\n    \r\n    public class MethodParams implements MethodParamsInterface {\r\n        public void simpleMethod(int parm1, int parm2) {\r\n            //business logic to be put there\r\n        }\r\n    \r\n        public void simpleMethod(int parm1, int parm2, int param3) {\r\n            //business logic to be put there\r\n        }\r\n    \r\n        public MethodParamsInterface wrappedInstance() throws Exception {\r\n            Class&lt;?&gt; proxyClass = Proxy.getProxyClass(MethodParams.class.getClassLoader(), MethodParamsInterface.class);\r\n            InvocationHandler invocationHandler = new InvocationHandler() {\r\n                @Override\r\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                    Map&lt;String, Object&gt; params = new LinkedHashMap&lt;String, Object&gt;(args.length);\r\n                    for (int i = 0; i &lt; args.length; i++)\r\n                        params.put(&quot;arg&quot; + i, args[i]);\r\n    \r\n    \r\n                    //printing out the parameters:\r\n                    for (Map.Entry&lt;String, Object&gt; paramValue : params.entrySet()) {\r\n                        System.out.println(paramValue.getKey() + &quot; : &quot; + paramValue.getValue());\r\n                    }\r\n    \r\n                    return MethodParams.this.getClass().getMethod(method.getName(), method.getParameterTypes()).invoke(MethodParams.this, args);\r\n                }\r\n            };\r\n            return (MethodParamsInterface) proxyClass.getConstructor(new Class[]{InvocationHandler.class}).newInstance(invocationHandler);\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            MethodParams instance = new MethodParams();\r\n            MethodParamsInterface wrapped = instance.wrappedInstance();\r\n    \r\n            System.out.println(&quot;First method call: &quot;);\r\n    \r\n            wrapped.simpleMethod(10, 20);\r\n    \r\n            System.out.println(&quot;Another method call: &quot;);\r\n    \r\n            wrapped.simpleMethod(10, 20, 30);\r\n        }\r\n    }\r\n","title":"Programmatically retrive parameters and values of a method","body":"<p>There are some hacky ways of getting the parameters values of an invoked method (But you have to understand that the parameters are unnamed, the best you can do is to get arg0.... argN). </p>\n\n<ol>\n<li>Use Proxies</li>\n<li>Aspect oriented programming (AspectJ, Spring AOP)</li>\n</ol>\n\n<p>Let's consider the 1st approach. Say we want to log parameters before executing the method of some interface MethodParamsInterface, here you go. If you want to use these arguments in your logic - consider to implement them in InvocationHandler (or use EasyMock instead)</p>\n\n<pre><code>interface MethodParamsInterface {\n    void simpleMethod(int parm1, int parm2);\n    void simpleMethod(int parm1, int parm2, int param3);\n}\n\npublic class MethodParams implements MethodParamsInterface {\n    public void simpleMethod(int parm1, int parm2) {\n        //business logic to be put there\n    }\n\n    public void simpleMethod(int parm1, int parm2, int param3) {\n        //business logic to be put there\n    }\n\n    public MethodParamsInterface wrappedInstance() throws Exception {\n        Class&lt;?&gt; proxyClass = Proxy.getProxyClass(MethodParams.class.getClassLoader(), MethodParamsInterface.class);\n        InvocationHandler invocationHandler = new InvocationHandler() {\n            @Override\n            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                Map&lt;String, Object&gt; params = new LinkedHashMap&lt;String, Object&gt;(args.length);\n                for (int i = 0; i &lt; args.length; i++)\n                    params.put(\"arg\" + i, args[i]);\n\n\n                //printing out the parameters:\n                for (Map.Entry&lt;String, Object&gt; paramValue : params.entrySet()) {\n                    System.out.println(paramValue.getKey() + \" : \" + paramValue.getValue());\n                }\n\n                return MethodParams.this.getClass().getMethod(method.getName(), method.getParameterTypes()).invoke(MethodParams.this, args);\n            }\n        };\n        return (MethodParamsInterface) proxyClass.getConstructor(new Class[]{InvocationHandler.class}).newInstance(invocationHandler);\n    }\n\n\n    public static void main(String[] args) throws Exception {\n        MethodParams instance = new MethodParams();\n        MethodParamsInterface wrapped = instance.wrappedInstance();\n\n        System.out.println(\"First method call: \");\n\n        wrapped.simpleMethod(10, 20);\n\n        System.out.println(\"Another method call: \");\n\n        wrapped.simpleMethod(10, 20, 30);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659820889,"creation_date":1659820889,"answer_id":73263342,"question_id":16957032,"body_markdown":"    import javassist.util.proxy.MethodFilter;\r\n    import javassist.util.proxy.MethodHandler;\r\n    import javassist.util.proxy.ProxyFactory;\r\n    \r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    \r\n    class Test01 {\r\n        public int method01(int i, int j) {\r\n            System.out.println(&quot;Original method01&quot;);\r\n            return i + j;\r\n        }\r\n    }\r\n    \r\n    class ParameterWriter {\r\n        public static &lt;T&gt; T getObject(T inp) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\r\n            ProxyFactory factory = new ProxyFactory();\r\n            factory.setSuperclass(inp.getClass());\r\n            factory.setFilter(\r\n                    new MethodFilter() {\r\n                        @Override\r\n                        public boolean isHandled(Method method) {\r\n                            return true;\r\n                        }\r\n                    }\r\n            );\r\n            MethodHandler handler = new MethodHandler() {\r\n                @Override\r\n                public Object invoke(Object self, Method thisMethod, Method proceed, Object[] args) throws Throwable {\r\n                    for (int i = 0; i &lt; args.length; i++) {\r\n                        System.out.println(proceed.getParameters()[i].getName() + &quot;:&quot; + args[i]);\r\n                    }\r\n                    return proceed.invoke(self, args);\r\n                }\r\n            };\r\n            return (T) factory.create(new Class&lt;?&gt;[0], new Object[0], handler);\r\n        }\r\n    \r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            try {\r\n                Test01 test01 = ParameterWriter.getObject(new Test01());\r\n                test01.method01(2, 3);\r\n            } catch (InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            } catch (NoSuchMethodException e) {\r\n                e.printStackTrace();\r\n            } catch (InstantiationException e) {\r\n                e.printStackTrace();\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    arg0:2\r\n    arg1:3\r\n    Original method01","title":"Programmatically retrive parameters and values of a method","body":"<pre><code>import javassist.util.proxy.MethodFilter;\nimport javassist.util.proxy.MethodHandler;\nimport javassist.util.proxy.ProxyFactory;\n\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\nclass Test01 {\n    public int method01(int i, int j) {\n        System.out.println(&quot;Original method01&quot;);\n        return i + j;\n    }\n}\n\nclass ParameterWriter {\n    public static &lt;T&gt; T getObject(T inp) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n        ProxyFactory factory = new ProxyFactory();\n        factory.setSuperclass(inp.getClass());\n        factory.setFilter(\n                new MethodFilter() {\n                    @Override\n                    public boolean isHandled(Method method) {\n                        return true;\n                    }\n                }\n        );\n        MethodHandler handler = new MethodHandler() {\n            @Override\n            public Object invoke(Object self, Method thisMethod, Method proceed, Object[] args) throws Throwable {\n                for (int i = 0; i &lt; args.length; i++) {\n                    System.out.println(proceed.getParameters()[i].getName() + &quot;:&quot; + args[i]);\n                }\n                return proceed.invoke(self, args);\n            }\n        };\n        return (T) factory.create(new Class&lt;?&gt;[0], new Object[0], handler);\n    }\n\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            Test01 test01 = ParameterWriter.getObject(new Test01());\n            test01.method01(2, 3);\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (InstantiationException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>arg0:2\narg1:3\nOriginal method01\n</code></pre>\n"}],"owner":{"account_id":1308727,"reputation":4139,"user_id":1257185,"accept_rate":71,"display_name":"EsseTi"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9815,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":16957142,"answer_count":6,"score":5,"last_activity_date":1659820889,"creation_date":1370506769,"question_id":16957032,"body_markdown":"it&#39;s been quite a few months that i quite Java in favor of Python. Now i&#39;m go back to java to project constraints. \r\nnow, i&#39;m wondering if there&#39;s a way to get all the aprameters (with values) of a functions programmatically inside the function itself.\r\n\r\nsomething like this\r\n\r\n    public void foo(String arg1,String arg2, Integer arg3){\r\n    ... pars = ...getpars();  \r\n    }\r\n\r\n    foo(&quot;abc&quot;,&quot;dfg&quot;,123);\r\n\r\nwhere `getpars()` should return an `HashMap` with `name,value` pairs.\r\n\r\nso from the example should be\r\n\r\n    arg1,&quot;abc&quot;\r\n    arg2,&quot;dfg&quot;\r\n    arg3,123\r\n\r\nis there anything like this?\r\n\r\n\r\n","title":"Programmatically retrive parameters and values of a method","body":"<p>it's been quite a few months that i quite Java in favor of Python. Now i'm go back to java to project constraints. \nnow, i'm wondering if there's a way to get all the aprameters (with values) of a functions programmatically inside the function itself.</p>\n\n<p>something like this</p>\n\n<pre><code>public void foo(String arg1,String arg2, Integer arg3){\n... pars = ...getpars();  \n}\n\nfoo(\"abc\",\"dfg\",123);\n</code></pre>\n\n<p>where <code>getpars()</code> should return an <code>HashMap</code> with <code>name,value</code> pairs.</p>\n\n<p>so from the example should be</p>\n\n<pre><code>arg1,\"abc\"\narg2,\"dfg\"\narg3,123\n</code></pre>\n\n<p>is there anything like this?</p>\n"},{"tags":["java","clojure"],"comments":[{"owner":{"account_id":32669,"reputation":91085,"user_id":90801,"accept_rate":82,"display_name":"Arthur Ulfeldt"},"score":0,"creation_date":1345054427,"post_id":11973694,"comment_id":15962550,"body_markdown":"do you have a compelling need to not use leiningen?","body":"do you have a compelling need to not use leiningen?"},{"owner":{"account_id":43588,"reputation":7705,"user_id":127508,"accept_rate":85,"display_name":"Istvan"},"score":2,"creation_date":1345054799,"post_id":11973694,"comment_id":15962712,"body_markdown":"Thanks guys, lein just saved me the headache everything works fine.","body":"Thanks guys, lein just saved me the headache everything works fine."}],"answers":[{"tags":[],"owner":{"account_id":333605,"reputation":17673,"user_id":659540,"display_name":"Joost Diepenmaat"},"down_vote_count":3,"up_vote_count":13,"is_accepted":true,"score":10,"last_activity_date":1345055128,"creation_date":1345050818,"answer_id":11973881,"question_id":11973694,"body_markdown":"The non-painful, popular method is to not mess with maven and classpaths and the JRE directly and use leiningen: https://github.com/technomancy/leiningen/\r\n\r\nOtherwise, you can modify whatever is in `clj` and add/set the classpath in whatever ways java likes. See for example https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath\r\n\r\n","title":"How to add directory to Clojure&#39;s classpath?","body":"<p>The non-painful, popular method is to not mess with maven and classpaths and the JRE directly and use leiningen: <a href=\"https://github.com/technomancy/leiningen/\" rel=\"nofollow noreferrer\">https://github.com/technomancy/leiningen/</a></p>\n\n<p>Otherwise, you can modify whatever is in <code>clj</code> and add/set the classpath in whatever ways java likes. See for example <a href=\"https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath\">Setting multiple jars in java classpath</a></p>\n"},{"tags":[],"owner":{"account_id":151783,"reputation":27742,"user_id":365872,"accept_rate":91,"display_name":"ffriend"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1345050839,"creation_date":1345050839,"answer_id":11973886,"question_id":11973694,"body_markdown":"I assume that `clj` is a script to start Clojure REPL. Take a look into this script and find line similar to this: \r\n\r\n    java -cp /path/to/clojure.jar clojure.main\r\n\r\nHere you start class `clojure.main` having &quot;clojure.jar&quot; on your classpath. To add more jars just add them to the end of `-cp` option values. E.g. on Linux: \r\n\r\n    java -cp /path/to/clojure.jar:/path/to/mylib.jar clojure.main\r\n\r\n(use `;` instead of `:` on Windows)\r\n\r\nHowever, very soon you&#39;ll get tired of this way and will look for project management tool. So it makes sense to start using it right now. Take a look at [**Leiningen**](http://leiningen.org/) - it manages dependencies for you based on Maven (so it will be extremely easy to add new jar) and has REPL. ","title":"How to add directory to Clojure&#39;s classpath?","body":"<p>I assume that <code>clj</code> is a script to start Clojure REPL. Take a look into this script and find line similar to this: </p>\n\n<pre><code>java -cp /path/to/clojure.jar clojure.main\n</code></pre>\n\n<p>Here you start class <code>clojure.main</code> having \"clojure.jar\" on your classpath. To add more jars just add them to the end of <code>-cp</code> option values. E.g. on Linux: </p>\n\n<pre><code>java -cp /path/to/clojure.jar:/path/to/mylib.jar clojure.main\n</code></pre>\n\n<p>(use <code>;</code> instead of <code>:</code> on Windows)</p>\n\n<p>However, very soon you'll get tired of this way and will look for project management tool. So it makes sense to start using it right now. Take a look at <a href=\"http://leiningen.org/\" rel=\"noreferrer\"><strong>Leiningen</strong></a> - it manages dependencies for you based on Maven (so it will be extremely easy to add new jar) and has REPL. </p>\n"},{"tags":[],"owner":{"account_id":32669,"reputation":91085,"user_id":90801,"accept_rate":82,"display_name":"Arthur Ulfeldt"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1388669533,"creation_date":1345054150,"answer_id":11974670,"question_id":11973694,"body_markdown":"Leiningen really makes this process a lot less painful by keeping the setting of the classpath associated with the project, and more importantly &lt;b&gt;leads to a repeatable build process&lt;/b&gt;. where you can come back to the project years later and still get a repl. A general outline of using leiningen in these cases:\r\n\r\n* lein new projectname\r\n* add the library you need to your project.clj file with a name you choose\r\n* run lein deps to print out the command to use to add the jar to your local repo\r\n* add the jar\r\n* run lein deps again (you can skip this step if using leiningen2)\r\n* run lein repl\r\n* enjoy\r\n\r\nthis is assuming that the library you are using is not already part of or available from a package in a maven repo, which many are.","title":"How to add directory to Clojure&#39;s classpath?","body":"<p>Leiningen really makes this process a lot less painful by keeping the setting of the classpath associated with the project, and more importantly <b>leads to a repeatable build process</b>. where you can come back to the project years later and still get a repl. A general outline of using leiningen in these cases:</p>\n\n<ul>\n<li>lein new projectname</li>\n<li>add the library you need to your project.clj file with a name you choose</li>\n<li>run lein deps to print out the command to use to add the jar to your local repo</li>\n<li>add the jar</li>\n<li>run lein deps again (you can skip this step if using leiningen2)</li>\n<li>run lein repl</li>\n<li>enjoy</li>\n</ul>\n\n<p>this is assuming that the library you are using is not already part of or available from a package in a maven repo, which many are.</p>\n"},{"tags":[],"owner":{"account_id":260389,"reputation":4203,"user_id":543915,"accept_rate":89,"display_name":"bmillare"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1496778208,"creation_date":1345216328,"answer_id":12008447,"question_id":11973694,"body_markdown":"It should be noted that you also have the option of adding classpaths at runtime with the library pomegranate https://github.com/cemerick/pomegranate\r\n\r\nThis lets you do like:\r\n\r\n     (require &#39;[cemerick.pomegranate :as pom])\r\n     (pom/add-classpath &quot;/home/user/~.m2/....&quot;)","title":"How to add directory to Clojure&#39;s classpath?","body":"<p>It should be noted that you also have the option of adding classpaths at runtime with the library pomegranate <a href=\"https://github.com/cemerick/pomegranate\" rel=\"nofollow noreferrer\">https://github.com/cemerick/pomegranate</a></p>\n\n<p>This lets you do like:</p>\n\n<pre><code> (require '[cemerick.pomegranate :as pom])\n (pom/add-classpath \"/home/user/~.m2/....\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64220,"reputation":4513,"user_id":189699,"accept_rate":52,"display_name":"acorello"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659820422,"creation_date":1659820422,"answer_id":73263297,"question_id":11973694,"body_markdown":"Another option is to create a `deps.edn` file in the folder where you plan to run the REPL or where you keep your project files.\r\n\r\nThis file is used to inform Clojure about dependencies, source files, execution profiles, etc… It&#39;s loaded when you run a REPL (but there are other use cases) and it&#39;s supported by the core of Clojure and it&#39;s officially documented on https://clojure.org/reference/deps_and_cli\r\n\r\nIn your case you may just want to put something like the following, to declare what dependencies you want to download and put on the Java classpath.\r\n\r\n```edn\r\n{\r\n   :deps {\r\n      the.dependency/you-want {:mvn/version &quot;1.0.0&quot;}\r\n   }\r\n}\r\n```\r\n\r\nIn `deps.edn` you can specify:\r\n\r\n- third party [dependencies][1] (eg JARs) that can be already saved locally, or hosted on a Maven repository, or on Git repository…\r\n- source [paths][2], where your source code resides, if any\r\n\r\nNote that the dependencies will be downloaded and cached in `.cpcache/` folder, beside the `deps.edn` itself. I&#39;m not sure if you can instruct it to use the global `~/.m2` instead.\r\n\r\nYou may find the dependency coordinates (name and latest version) on [clojars.org][3]\r\n\r\n`deps.edn` is &quot;lighter&quot;, part of the core Clojure, if less powerful than leiningen; so maybe suited for setting up an environment for casual/exploratory coding at the REPL or CLI.\r\n\r\nYou can also have a global `deps.edn` in `~/.clojure/deps.edn` where you may want to define common configurations, dependencies, etc. to be used across different projects. Specific configurations can be invoked/overridden using options on the command line.\r\n\r\n  [1]: https://clojure.org/reference/deps_and_cli#_dependencies\r\n  [2]: https://clojure.org/reference/deps_and_cli#_paths\r\n  [3]: https://clojars.org","title":"How to add directory to Clojure&#39;s classpath?","body":"<p>Another option is to create a <code>deps.edn</code> file in the folder where you plan to run the REPL or where you keep your project files.</p>\n<p>This file is used to inform Clojure about dependencies, source files, execution profiles, etc… It's loaded when you run a REPL (but there are other use cases) and it's supported by the core of Clojure and it's officially documented on <a href=\"https://clojure.org/reference/deps_and_cli\" rel=\"nofollow noreferrer\">https://clojure.org/reference/deps_and_cli</a></p>\n<p>In your case you may just want to put something like the following, to declare what dependencies you want to download and put on the Java classpath.</p>\n<pre><code>{\n   :deps {\n      the.dependency/you-want {:mvn/version &quot;1.0.0&quot;}\n   }\n}\n</code></pre>\n<p>In <code>deps.edn</code> you can specify:</p>\n<ul>\n<li>third party <a href=\"https://clojure.org/reference/deps_and_cli#_dependencies\" rel=\"nofollow noreferrer\">dependencies</a> (eg JARs) that can be already saved locally, or hosted on a Maven repository, or on Git repository…</li>\n<li>source <a href=\"https://clojure.org/reference/deps_and_cli#_paths\" rel=\"nofollow noreferrer\">paths</a>, where your source code resides, if any</li>\n</ul>\n<p>Note that the dependencies will be downloaded and cached in <code>.cpcache/</code> folder, beside the <code>deps.edn</code> itself. I'm not sure if you can instruct it to use the global <code>~/.m2</code> instead.</p>\n<p>You may find the dependency coordinates (name and latest version) on <a href=\"https://clojars.org\" rel=\"nofollow noreferrer\">clojars.org</a></p>\n<p><code>deps.edn</code> is &quot;lighter&quot;, part of the core Clojure, if less powerful than leiningen; so maybe suited for setting up an environment for casual/exploratory coding at the REPL or CLI.</p>\n<p>You can also have a global <code>deps.edn</code> in <code>~/.clojure/deps.edn</code> where you may want to define common configurations, dependencies, etc. to be used across different projects. Specific configurations can be invoked/overridden using options on the command line.</p>\n"}],"owner":{"account_id":43588,"reputation":7705,"user_id":127508,"accept_rate":85,"display_name":"Istvan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20416,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":11973881,"answer_count":5,"score":12,"last_activity_date":1659820422,"creation_date":1345050016,"question_id":11973694,"body_markdown":"I have installed the libraries with Maven to the ~/.m2/repository/ directory. I would like to add that path to the default Clojure classpath. I could not find the documentation how to do that.\r\n\r\nAny hints?\r\n\r\nCheers!\r\n\r\n    clj\r\n    Clojure 1.4.0\r\n    user=&gt; (require &#39;[clojure.java.jmx :as jmx])\r\n    FileNotFoundException Could not locate clojure/java/jmx__init.class or clojure/java/jmx.clj on classpath:   clojure.lang.RT.load (RT.java:432)\r\n\r\nThe class path by default is:\r\n\r\n    user=&gt; (println (seq (.getURLs (java.lang.ClassLoader/getSystemClassLoader))))\r\n    (#&lt;URL file:/Users/myuser/cljmx/&gt; #&lt;URL file:/usr/local/Cellar/clojure/1.4.0/clojure-1.4.0.jar&gt; #&lt;URL file:/Users/myuser/cljmx/&gt;)\r\n    nil","title":"How to add directory to Clojure&#39;s classpath?","body":"<p>I have installed the libraries with Maven to the ~/.m2/repository/ directory. I would like to add that path to the default Clojure classpath. I could not find the documentation how to do that.</p>\n\n<p>Any hints?</p>\n\n<p>Cheers!</p>\n\n<pre><code>clj\nClojure 1.4.0\nuser=&gt; (require '[clojure.java.jmx :as jmx])\nFileNotFoundException Could not locate clojure/java/jmx__init.class or clojure/java/jmx.clj on classpath:   clojure.lang.RT.load (RT.java:432)\n</code></pre>\n\n<p>The class path by default is:</p>\n\n<pre><code>user=&gt; (println (seq (.getURLs (java.lang.ClassLoader/getSystemClassLoader))))\n(#&lt;URL file:/Users/myuser/cljmx/&gt; #&lt;URL file:/usr/local/Cellar/clojure/1.4.0/clojure-1.4.0.jar&gt; #&lt;URL file:/Users/myuser/cljmx/&gt;)\nnil\n</code></pre>\n"},{"tags":["java","selenium","oop","cucumber"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1659616367,"post_id":73235964,"comment_id":129340069,"body_markdown":"then pass two null&#39;s, but keep in mind that may cause NullPointerExceptions","body":"then pass two null&#39;s, but keep in mind that may cause NullPointerExceptions"},{"owner":{"account_id":23120436,"reputation":53,"user_id":17227042,"display_name":"AutoMationKing"},"score":0,"creation_date":1659616683,"post_id":73235964,"comment_id":129340178,"body_markdown":"I will try this as I just want ready something which &#39;postResponse&#39; returning. I am working on automation, if i pass null values then will it affect test parallel execution ?","body":"I will try this as I just want ready something which &#39;postResponse&#39; returning. I am working on automation, if i pass null values then will it affect test parallel execution ?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1659617113,"post_id":73235964,"comment_id":129340356,"body_markdown":"passing null might crash the code. Just( assume there&#39;ll be impact","body":"passing null might crash the code. Just( assume there&#39;ll be impact"},{"owner":{"account_id":23120436,"reputation":53,"user_id":17227042,"display_name":"AutoMationKing"},"score":0,"creation_date":1659617596,"post_id":73235964,"comment_id":129340564,"body_markdown":"thanks for the information is there any other ways or documents that can help me to resolve this scenario","body":"thanks for the information is there any other ways or documents that can help me to resolve this scenario"},{"owner":{"account_id":23120436,"reputation":53,"user_id":17227042,"display_name":"AutoMationKing"},"score":0,"creation_date":1659617766,"post_id":73235964,"comment_id":129340631,"body_markdown":"Just FYI. i can make `postResponse` static but that again leads to some other problems in parallel execution","body":"Just FYI. i can make <code>postResponse</code> static but that again leads to some other problems in parallel execution"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1659618038,"post_id":73235964,"comment_id":129340771,"body_markdown":"well, you could look at the code itself.","body":"well, you could look at the code itself."},{"owner":{"account_id":23120436,"reputation":53,"user_id":17227042,"display_name":"AutoMationKing"},"score":0,"creation_date":1659618636,"post_id":73235964,"comment_id":129341023,"body_markdown":"Yeah i got null pointer exception when i use null.","body":"Yeah i got null pointer exception when i use null."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1659618752,"post_id":73235964,"comment_id":129341077,"body_markdown":"so, passing the parameters isn&#39;t optional. either you pass valid parameters, or simply don&#39;t call the method","body":"so, passing the parameters isn&#39;t optional. either you pass valid parameters, or simply don&#39;t call the method"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1659619940,"post_id":73235964,"comment_id":129341591,"body_markdown":"What is the point of calling method expecting parameters without parameters? What do you expect to get? Method logic implies there are some parameters in place, hence logic without parameters is undefined.","body":"What is the point of calling method expecting parameters without parameters? What do you expect to get? Method logic implies there are some parameters in place, hence logic without parameters is undefined."},{"owner":{"account_id":23120436,"reputation":53,"user_id":17227042,"display_name":"AutoMationKing"},"score":0,"creation_date":1659621092,"post_id":73235964,"comment_id":129342039,"body_markdown":"@AlexeyR. In my case i am writing cucumber steps to perform `REST` post request, i am using Cucumber DataTable and passing it as a parameter for my post request and then post request returning response. This response i want to read from other class step definitions.","body":"@AlexeyR. In my case i am writing cucumber steps to perform <code>REST</code> post request, i am using Cucumber DataTable and passing it as a parameter for my post request and then post request returning response. This response i want to read from other class step definitions."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1659759690,"post_id":73235964,"comment_id":129376549,"body_markdown":"@Stultuske passing NO parameters is not the same as passing NULL parameters. Passing `null` is passing a reference that points to null area of memory (address zero - which is blocked by the OS). Passing no parameters to a method when the method requires parameters will result in a compiling error. Therefore, it is impossible to do.","body":"@Stultuske passing NO parameters is not the same as passing NULL parameters. Passing <code>null</code> is passing a reference that points to null area of memory (address zero - which is blocked by the OS). Passing no parameters to a method when the method requires parameters will result in a compiling error. Therefore, it is impossible to do."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1659768662,"post_id":73235964,"comment_id":129377524,"body_markdown":"@hfontanez I&#39;m well aware of the difference between null and an instance. When it comes to parameters, the null can be seen as a placeholder, a default value, yes. But it&#39;s not an actual value/instance. So: when passing a value is optional, you can ignore it and pass null. Then the method will use some default value instead. But if that&#39;s not the case, you have to pass an actual value, and that seems to be the case here.","body":"@hfontanez I&#39;m well aware of the difference between null and an instance. When it comes to parameters, the null can be seen as a placeholder, a default value, yes. But it&#39;s not an actual value/instance. So: when passing a value is optional, you can ignore it and pass null. Then the method will use some default value instead. But if that&#39;s not the case, you have to pass an actual value, and that seems to be the case here."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1659818148,"post_id":73235964,"comment_id":129386785,"body_markdown":"@Stultuske But that&#39;s not really what the OP asked. Null or not null, you are still passing parameters. The OP stated (perhaps incorrectly) that he or she wishes to pass no parameters.","body":"@Stultuske But that&#39;s not really what the OP asked. Null or not null, you are still passing parameters. The OP stated (perhaps incorrectly) that he or she wishes to pass no parameters."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1659940979,"post_id":73235964,"comment_id":129405240,"body_markdown":"@hfontanez which may just have been a badly worded way to say &quot;I don&#39;t know what values to pass&quot;, or &quot;I don&#39;t want to pass specific values for each scenario&quot;. Without further  explanation from the OP, that&#39;s pretty hard to know.","body":"@hfontanez which may just have been a badly worded way to say &quot;I don&#39;t know what values to pass&quot;, or &quot;I don&#39;t want to pass specific values for each scenario&quot;. Without further  explanation from the OP, that&#39;s pretty hard to know."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1660021650,"post_id":73235964,"comment_id":129427681,"body_markdown":"It has been about 5 days since you posted this question. Two answers have been posted and you haven&#39;t provide any feedback on any of them. While there is nothing against this, it is somewhat impolite in my  opinion.","body":"It has been about 5 days since you posted this question. Two answers have been posted and you haven&#39;t provide any feedback on any of them. While there is nothing against this, it is somewhat impolite in my  opinion."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659789392,"creation_date":1659789392,"answer_id":73259796,"question_id":73235964,"body_markdown":"You have three choices: \r\n- pass parameters. This is preferred way. Because parameters of method contains some info that can be used in method\r\n- mock or stub your parameters if it is possible. It looks like you are using Selenium, but Selenium starts a real browser\r\n- pass null parameters.It is not really preferred way because your method can work incorrectly without necessary data","title":"Is it possible to access other class method without passing method parameter","body":"<p>You have three choices:</p>\n<ul>\n<li>pass parameters. This is preferred way. Because parameters of method contains some info that can be used in method</li>\n<li>mock or stub your parameters if it is possible. It looks like you are using Selenium, but Selenium starts a real browser</li>\n<li>pass null parameters.It is not really preferred way because your method can work incorrectly without necessary data</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659820270,"creation_date":1659819931,"answer_id":73263257,"question_id":73235964,"body_markdown":"I started to write this before @StepUp posted his answer. I am going to cover the way I think it should be done based on what I understood by &quot;I don&#39;t want to pass the parameter&quot;\r\n\r\nIt sounds you want to create a default case. This example is arbitrary since your code is not really specific. In general terms, when talking about functions, a default case for a function is a method with the same name, with no parameter list. For example,\r\n\r\n```\r\npublic class Class1 \r\n{\r\n    /**\r\n     * Default case\r\n     */\r\n    public Response postResponse() \r\n    {\r\n        // Some code here\r\n    }\r\n\r\n    /**\r\n     * Specific case (the ellipsis means some parameter list) \r\n     */\r\n    public Response postResponse(...)\r\n    {\r\n        // Some code here\r\n    }\r\n}\r\n```\r\n\r\nIn your case, you may want to create a default step definition that you can invoke independently in a specific scenario, or you may want to call it from the same scenario with or without parameters specified in your data table. You can still take the same approach. I want to mention that having a default case, doesn&#39;t mean that you absolutely need to pass null parameters. 99% of the time, this is a bad idea. All you need to do is to pass some default values.\r\n\r\n```\r\npublic class Class1 \r\n{\r\n    /**\r\n     * Default case\r\n     */\r\n    public Response postResponse() \r\n    {\r\n        String url = &quot;...&quot;; // maybe a base URL here?\r\n        Object col1 = ...;\r\n        Object col2 = ...;\r\n        handlePostResponse(url, col1, col2);\r\n        // Do other stuff?\r\n        return response;\r\n    }\r\n\r\n    /**\r\n     * Specific case \r\n     */\r\n    public Response postResponse(String url, DataTable dataTable)\r\n    {\r\n        // Iterate through data table and call handlePostResponse for each row\r\n        return response;\r\n    }\r\n\r\n\r\n    // This method wraps how to handle post response. The ellipsis might be the elements of the data table\r\n    private void handlePostResponse(String url, Object col1, Object col2) \r\n    {\r\n        // Do something\r\n    }\r\n}\r\n```\r\nNow that you have this, you can call your method in Class 2 that needs to invoke the default case in Class 1.\r\n\r\n```\r\npublic class Class2 \r\n{\r\n    public void readPostResponse()\r\n    {\r\n        Class1 clazz1 = new Class1();\r\n        Response resp = clazz1.postResponse(); // calling no parameters (default) case (you may not need to get the response object (ignore it altogether)\r\n        // Do more stuff?\r\n    }\r\n}\r\n```\r\nRemember that every time you pass `null` to a function or return `null` from a function, you may have to do some sort of input or output validation to ensure the object about to be used to invoke other methods is not null. Not doing so will result in Null Pointer Exceptions. \r\n\r\n**One last note**: I am using `Object` merely for illustration. In your case, it will be whatever type of object each column represent. Most likely, it will be `String`, but it could also be a number wrapper (i.e. `Integer`) or some custom data type you might&#39;ve created for your scenario(s).","title":"Is it possible to access other class method without passing method parameter","body":"<p>I started to write this before @StepUp posted his answer. I am going to cover the way I think it should be done based on what I understood by &quot;I don't want to pass the parameter&quot;</p>\n<p>It sounds you want to create a default case. This example is arbitrary since your code is not really specific. In general terms, when talking about functions, a default case for a function is a method with the same name, with no parameter list. For example,</p>\n<pre><code>public class Class1 \n{\n    /**\n     * Default case\n     */\n    public Response postResponse() \n    {\n        // Some code here\n    }\n\n    /**\n     * Specific case (the ellipsis means some parameter list) \n     */\n    public Response postResponse(...)\n    {\n        // Some code here\n    }\n}\n</code></pre>\n<p>In your case, you may want to create a default step definition that you can invoke independently in a specific scenario, or you may want to call it from the same scenario with or without parameters specified in your data table. You can still take the same approach. I want to mention that having a default case, doesn't mean that you absolutely need to pass null parameters. 99% of the time, this is a bad idea. All you need to do is to pass some default values.</p>\n<pre><code>public class Class1 \n{\n    /**\n     * Default case\n     */\n    public Response postResponse() \n    {\n        String url = &quot;...&quot;; // maybe a base URL here?\n        Object col1 = ...;\n        Object col2 = ...;\n        handlePostResponse(url, col1, col2);\n        // Do other stuff?\n        return response;\n    }\n\n    /**\n     * Specific case \n     */\n    public Response postResponse(String url, DataTable dataTable)\n    {\n        // Iterate through data table and call handlePostResponse for each row\n        return response;\n    }\n\n\n    // This method wraps how to handle post response. The ellipsis might be the elements of the data table\n    private void handlePostResponse(String url, Object col1, Object col2) \n    {\n        // Do something\n    }\n}\n</code></pre>\n<p>Now that you have this, you can call your method in Class 2 that needs to invoke the default case in Class 1.</p>\n<pre><code>public class Class2 \n{\n    public void readPostResponse()\n    {\n        Class1 clazz1 = new Class1();\n        Response resp = clazz1.postResponse(); // calling no parameters (default) case (you may not need to get the response object (ignore it altogether)\n        // Do more stuff?\n    }\n}\n</code></pre>\n<p>Remember that every time you pass <code>null</code> to a function or return <code>null</code> from a function, you may have to do some sort of input or output validation to ensure the object about to be used to invoke other methods is not null. Not doing so will result in Null Pointer Exceptions.</p>\n<p><strong>One last note</strong>: I am using <code>Object</code> merely for illustration. In your case, it will be whatever type of object each column represent. Most likely, it will be <code>String</code>, but it could also be a number wrapper (i.e. <code>Integer</code>) or some custom data type you might've created for your scenario(s).</p>\n"}],"owner":{"account_id":23120436,"reputation":53,"user_id":17227042,"display_name":"AutoMationKing"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659820270,"creation_date":1659616166,"question_id":73235964,"body_markdown":"I have scenario where i want to access another class method which is returning something.\r\n\r\nThe method in another class is expecting parameter\r\n\r\nExample: \r\n```\r\npublic class Class1()\r\n{\r\n    public Response postResponse(String getURL,DataTable dataTable)\r\n    {\r\n        /*..\r\n        my post request code here\r\n        ..*/\r\n        return postData;\r\n    }\r\n}\r\n```\r\n----------\r\n```\r\npublic class Class2()\r\n{\r\n    public void readPostResponse()\r\n    {\r\n        /*..\r\n         here i want to access Class1.postResponse method and I don&#39;t want to pass the \r\n         parameter.. \r\n        ..*/\r\n    }\r\n}\r\n```\r\nPlease let me know how to achieve this.","title":"Is it possible to access other class method without passing method parameter","body":"<p>I have scenario where i want to access another class method which is returning something.</p>\n<p>The method in another class is expecting parameter</p>\n<p>Example:</p>\n<pre><code>public class Class1()\n{\n    public Response postResponse(String getURL,DataTable dataTable)\n    {\n        /*..\n        my post request code here\n        ..*/\n        return postData;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Class2()\n{\n    public void readPostResponse()\n    {\n        /*..\n         here i want to access Class1.postResponse method and I don't want to pass the \n         parameter.. \n        ..*/\n    }\n}\n</code></pre>\n<p>Please let me know how to achieve this.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1659817559,"post_id":73263044,"comment_id":129386699,"body_markdown":"Do you have an instance variable called `strength`? Once the constructor finishes, all of its local variables and arguments are gone. As if they never existed. That variable doesn&#39;t exist when `levelUp` gets called.","body":"Do you have an instance variable called <code>strength</code>? Once the constructor finishes, all of its local variables and arguments are gone. As if they never existed. That variable doesn&#39;t exist when <code>levelUp</code> gets called."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1659817904,"post_id":73263044,"comment_id":129386750,"body_markdown":"Please show us a [Minimal, Complete, and Verifiable Example](http://stackoverflow.com/help/mcve). By the way &quot;updat[ing] the constructor&quot; is not a thing. What do you mean? You mean change the value of a specific member variable?","body":"Please show us a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>. By the way &quot;updat[ing] the constructor&quot; is not a thing. What do you mean? You mean change the value of a specific member variable?"},{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":0,"creation_date":1659817936,"post_id":73263044,"comment_id":129386754,"body_markdown":"@FedericoklezCulloca They want the hp to update every time strength changes.","body":"@FedericoklezCulloca They want the hp to update every time strength changes."},{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":0,"creation_date":1659818129,"post_id":73263044,"comment_id":129386779,"body_markdown":"Since you want your `hp` to always be up-to-date and since it does depend on other instance fields, you could create a getter for `hp` (`getHp()`) that would always return an updated value (the calculation is so simple you don&#39;t have to cache the result).","body":"Since you want your <code>hp</code> to always be up-to-date and since it does depend on other instance fields, you could create a getter for <code>hp</code> (<code>getHp()</code>) that would always return an updated value (the calculation is so simple you don&#39;t have to cache the result)."}],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659819499,"creation_date":1659818782,"answer_id":73263159,"question_id":73263044,"body_markdown":"One way to always get an up-to-date value for a calculation that depends on other variables/inputs is to calculate it on demand (useful for simple calculations, such as the one you have).\r\n\r\nEDIT: I realized that you might want to have an `hp` and a `maxHp` if your hero can actually lose/gain `hp` so I edited the example to take that into account.\r\n\r\n```\r\npublic class Hero {\r\n    // ...\r\n    public int hp;\r\n\r\n    public Hero(String heroname, double strength, double strength_gain){\r\n        this.heroname = heroname;\r\n        this.strength = strength; // &lt;-- don&#39;t forget to save the initial strength as well\r\n        this.strength_gain = strength_gain;\r\n        this.hp = getMaxHp();\r\n    }\r\n\r\n    public int getMaxHp() {\r\n        return (int) (200 + 20 * strength);\r\n    }\r\n\r\n    public void levelUp(){\r\n        strength = strength + strength_gain;\r\n        // decide if leveling up also heals your hero?\r\n        hp = getMaxHp();\r\n    }\r\n    // ...\r\n}\r\n```\r\n\r\nElsewhere in code you can access both the `.hp` and the `.getMaxHp()`.\r\n\r\n```\r\nSystem.out.println(hero.hp);\r\nSystem.out.println(hero.getMaxHp());\r\n```\r\n\r\nIf the calculations would be heavy, then using a `boolean` as a change flag and lazily recalculating only once per change and only when required would make more sense.","title":"Update constructor using method","body":"<p>One way to always get an up-to-date value for a calculation that depends on other variables/inputs is to calculate it on demand (useful for simple calculations, such as the one you have).</p>\n<p>EDIT: I realized that you might want to have an <code>hp</code> and a <code>maxHp</code> if your hero can actually lose/gain <code>hp</code> so I edited the example to take that into account.</p>\n<pre><code>public class Hero {\n    // ...\n    public int hp;\n\n    public Hero(String heroname, double strength, double strength_gain){\n        this.heroname = heroname;\n        this.strength = strength; // &lt;-- don't forget to save the initial strength as well\n        this.strength_gain = strength_gain;\n        this.hp = getMaxHp();\n    }\n\n    public int getMaxHp() {\n        return (int) (200 + 20 * strength);\n    }\n\n    public void levelUp(){\n        strength = strength + strength_gain;\n        // decide if leveling up also heals your hero?\n        hp = getMaxHp();\n    }\n    // ...\n}\n</code></pre>\n<p>Elsewhere in code you can access both the <code>.hp</code> and the <code>.getMaxHp()</code>.</p>\n<pre><code>System.out.println(hero.hp);\nSystem.out.println(hero.getMaxHp());\n</code></pre>\n<p>If the calculations would be heavy, then using a <code>boolean</code> as a change flag and lazily recalculating only once per change and only when required would make more sense.</p>\n"}],"owner":{"account_id":25996773,"reputation":11,"user_id":19708010,"display_name":"Hydro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73263159,"answer_count":1,"score":0,"last_activity_date":1659819499,"creation_date":1659817464,"question_id":73263044,"body_markdown":"I have a game app and I want it to update the constructor `strength` value when I call the `levelUp()` method.\r\n\r\n    public Hero(String heroname, double strength, double strength_gain){\r\n        this.heroname = heroname;\r\n        this.hp = (int) (200+20*strength);\r\n        this.strength_gain = strength_gain;\r\n    }\r\n    \r\n    public void levelUp(){\r\n        this.strength = strength + strength_gain;\r\n    }\r\nBut when i do `System.out.println(hero.hp);` after calling `levelUp()` it returns the first value.","title":"Update constructor using method","body":"<p>I have a game app and I want it to update the constructor <code>strength</code> value when I call the <code>levelUp()</code> method.</p>\n<pre><code>public Hero(String heroname, double strength, double strength_gain){\n    this.heroname = heroname;\n    this.hp = (int) (200+20*strength);\n    this.strength_gain = strength_gain;\n}\n\npublic void levelUp(){\n    this.strength = strength + strength_gain;\n}\n</code></pre>\n<p>But when i do <code>System.out.println(hero.hp);</code> after calling <code>levelUp()</code> it returns the first value.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":2,"creation_date":1659819101,"post_id":73262633,"comment_id":129386932,"body_markdown":"You don&#39;t have 2 types of users.  You have users (i.e. an authenticated entity using your system) and 3 roles: `ADMIN`, `AUTHOR`, and `USER`.  Don&#39;t put your users in different collections (or tables if you&#39;re using a relational database).  Add a `roles` property to your user entity and store the users in one collection (table).  When you load the user in your `DetailsService` the correct `roles` will be set when the entity is unmarshalled.","body":"You don&#39;t have 2 types of users.  You have users (i.e. an authenticated entity using your system) and 3 roles: <code>ADMIN</code>, <code>AUTHOR</code>, and <code>USER</code>.  Don&#39;t put your users in different collections (or tables if you&#39;re using a relational database).  Add a <code>roles</code> property to your user entity and store the users in one collection (table).  When you load the user in your <code>DetailsService</code> the correct <code>roles</code> will be set when the entity is unmarshalled."},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":0,"creation_date":1659821214,"post_id":73262633,"comment_id":129387269,"body_markdown":"The design you suggested was actually the first version of my application, but I couldn&#39;t figure out how to separate the field differences between User-Author entities. While there are fields for the user in the database such as the user&#39;s identity information, username, password, and books he read, there are only e-mail, password, and books he wrote for the author. While User and Author have different fields, frankly, I couldn&#39;t design in my mind to put them in the same class. Do you have an opinion on this subject?","body":"The design you suggested was actually the first version of my application, but I couldn&#39;t figure out how to separate the field differences between User-Author entities. While there are fields for the user in the database such as the user&#39;s identity information, username, password, and books he read, there are only e-mail, password, and books he wrote for the author. While User and Author have different fields, frankly, I couldn&#39;t design in my mind to put them in the same class. Do you have an opinion on this subject?"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1659822459,"post_id":73262633,"comment_id":129387456,"body_markdown":"Oh I always have opinions...they may not be right however. :D  `User` is going to be the base entity.  (oops hit enter, sorry if you saw the unfinished comment)  `Author` can extend `User` and have a field `booksAuthored`. The exact implementation somewhat depends on the type of database, relational vs document. In a relational DB you&#39;ll query  &#39;users&#39; table and left join on &#39;books&#39; table to populate the `Author` entity. It&#39;s generally better to denormalize in a document store so it would be ok if `booksAuthored` was stored in the `users` collection.","body":"Oh I always have opinions...they may not be right however. :D  <code>User</code> is going to be the base entity.  (oops hit enter, sorry if you saw the unfinished comment)  <code>Author</code> can extend <code>User</code> and have a field <code>booksAuthored</code>. The exact implementation somewhat depends on the type of database, relational vs document. In a relational DB you&#39;ll query  &#39;users&#39; table and left join on &#39;books&#39; table to populate the <code>Author</code> entity. It&#39;s generally better to denormalize in a document store so it would be ok if <code>booksAuthored</code> was stored in the <code>users</code> collection."},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":2,"creation_date":1659826564,"post_id":73262633,"comment_id":129387985,"body_markdown":"Thank you for your opinion. I don&#39;t know if it&#39;s the best, but I&#39;m sure it&#39;s excellent. As you said, I created a superclass and when I inherited the author and the user from this class, Spring magically set the whole database for it. I really didn&#39;t know that Spring was that smart. Right now everything is great and works as I want.","body":"Thank you for your opinion. I don&#39;t know if it&#39;s the best, but I&#39;m sure it&#39;s excellent. As you said, I created a superclass and when I inherited the author and the user from this class, Spring magically set the whole database for it. I really didn&#39;t know that Spring was that smart. Right now everything is great and works as I want."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1659907346,"post_id":73262633,"comment_id":129400761,"body_markdown":"another thing just to point out, if you dont want to throw an exception when fetching users you can return a `Optional&lt;User&gt;` from `userService.getUserByUsername(username);` and either use `IfPresent` or `map` and `orElse` to handle things.","body":"another thing just to point out, if you dont want to throw an exception when fetching users you can return a <code>Optional&lt;User&gt;</code> from <code>userService.getUserByUsername(username);</code> and either use <code>IfPresent</code> or <code>map</code> and <code>orElse</code> to handle things."}],"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659818080,"creation_date":1659813394,"question_id":73262633,"body_markdown":"I have 2 types of users that can log in to the system. The first is `User` and the other is `Author`. However, I can only check the roles of `User` on my `SecurityConfig` class. I&#39;m stuck because I don&#39;t know what to search for and how to improve.\r\n\r\n```java\r\n@Slf4j\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n    private final UserService userService;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http, DaoAuthenticationProvider daoAuthenticationProvider) throws Exception {\r\n        return http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(HttpMethod.POST, &quot;/api/user/create&quot;)\r\n                .permitAll()\r\n                .antMatchers(&quot;/api/user/**&quot;)\r\n                .hasRole(&quot;USER&quot;)\r\n                .antMatchers(&quot;/api/admin/**&quot;)\r\n                .hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/api/author/**&quot;)\r\n                .hasRole(&quot;AUTHOR&quot;)\r\n                .anyRequest()\r\n                .denyAll()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .authenticationProvider(daoAuthenticationProvider)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider(PasswordEncoder passwordEncoder, UserDetailsService userDetailsService) {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder);\r\n        authenticationProvider.setUserDetailsService(userDetailsService);\r\n        return authenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return username -&gt; {\r\n            final User user = userService.getUserByUsername(username);\r\n            List&lt;String&gt; roleList = user.getRoles().stream().map(role -&gt; role.getName().name()).toList();\r\n            return new MyUserDetails(user.getUsername(), user.getPassword(), roleList);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAs you can see my `userDetailsService` function is checking only the User class. \r\n\r\nThe only solution I can do is using try-catch\r\n\r\n```java\r\n@Bean\r\n    public UserDetailsService userDetailsService() {\r\n\r\n        return username -&gt; {\r\n            try {\r\n                final User user = userService.getUserByUsername(username);\r\n                List&lt;String&gt; roleList = user.getRoles().stream().map(role -&gt; role.getName().name()).toList();\r\n                return new MyUserDetails(user.getUsername(), user.getPassword(), roleList);\r\n            } catch (UserNotFoundException e) {\r\n                final Author author = authorService.findAuthorByUsername(username);\r\n                List&lt;String&gt; roleList = author.getRoles().stream().map(role -&gt; role.getName().name()).toList();\r\n                return new MyUserDetails(author.getUsername(), author.getPassword(), roleList);\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nBut I feel it isn&#39;t the best approach and Spring has a better solution.\r\n\r\n\r\nYou may also want to look at `MyUserDetails` class, there is nothing special about it I belive but here it is\r\n\r\n```java\r\npublic class MyUserDetails implements UserDetails {\r\n    private final String username;\r\n    private final String password;\r\n    private final Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n\r\n    public MyUserDetails(String username, String password, List&lt;String&gt; roles) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.authorities = roles.stream().map(SimpleGrantedAuthority::new).collect(Collectors.toList());\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return this.authorities;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nSo, what do I need to do or learn to get this function to check the entities in the author table without using extra things? Because with my solution, if there were 50 types of users the code will be so ugly.","title":"How to authenticate different types of models in Spring Security","body":"<p>I have 2 types of users that can log in to the system. The first is <code>User</code> and the other is <code>Author</code>. However, I can only check the roles of <code>User</code> on my <code>SecurityConfig</code> class. I'm stuck because I don't know what to search for and how to improve.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Configuration\n@RequiredArgsConstructor\npublic class SecurityConfig {\n    private final UserService userService;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, DaoAuthenticationProvider daoAuthenticationProvider) throws Exception {\n        return http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(HttpMethod.POST, &quot;/api/user/create&quot;)\n                .permitAll()\n                .antMatchers(&quot;/api/user/**&quot;)\n                .hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/api/admin/**&quot;)\n                .hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/api/author/**&quot;)\n                .hasRole(&quot;AUTHOR&quot;)\n                .anyRequest()\n                .denyAll()\n                .and()\n                .httpBasic()\n                .and()\n                .authenticationProvider(daoAuthenticationProvider)\n                .build();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider(PasswordEncoder passwordEncoder, UserDetailsService userDetailsService) {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setPasswordEncoder(passwordEncoder);\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        return authenticationProvider;\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; {\n            final User user = userService.getUserByUsername(username);\n            List&lt;String&gt; roleList = user.getRoles().stream().map(role -&gt; role.getName().name()).toList();\n            return new MyUserDetails(user.getUsername(), user.getPassword(), roleList);\n        };\n    }\n}\n</code></pre>\n<p>As you can see my <code>userDetailsService</code> function is checking only the User class.</p>\n<p>The only solution I can do is using try-catch</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public UserDetailsService userDetailsService() {\n\n        return username -&gt; {\n            try {\n                final User user = userService.getUserByUsername(username);\n                List&lt;String&gt; roleList = user.getRoles().stream().map(role -&gt; role.getName().name()).toList();\n                return new MyUserDetails(user.getUsername(), user.getPassword(), roleList);\n            } catch (UserNotFoundException e) {\n                final Author author = authorService.findAuthorByUsername(username);\n                List&lt;String&gt; roleList = author.getRoles().stream().map(role -&gt; role.getName().name()).toList();\n                return new MyUserDetails(author.getUsername(), author.getPassword(), roleList);\n            }\n        };\n    }\n</code></pre>\n<p>But I feel it isn't the best approach and Spring has a better solution.</p>\n<p>You may also want to look at <code>MyUserDetails</code> class, there is nothing special about it I belive but here it is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyUserDetails implements UserDetails {\n    private final String username;\n    private final String password;\n    private final Collection&lt;? extends GrantedAuthority&gt; authorities;\n\n    public MyUserDetails(String username, String password, List&lt;String&gt; roles) {\n        this.username = username;\n        this.password = password;\n        this.authorities = roles.stream().map(SimpleGrantedAuthority::new).collect(Collectors.toList());\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return this.authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p>So, what do I need to do or learn to get this function to check the entities in the author table without using extra things? Because with my solution, if there were 50 types of users the code will be so ugly.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659815631,"post_id":73262815,"comment_id":129386348,"body_markdown":"It&#39;s not clear that your code is designed in a way that this is possible.","body":"It&#39;s not clear that your code is designed in a way that this is possible."}],"answers":[{"tags":[],"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659816001,"creation_date":1659816001,"answer_id":73262921,"question_id":73262815,"body_markdown":"As here you are not using any **dependency injection**, you cannot mock and inject that object into the test class using mocikto.\r\nYou can look at this answer here :-\r\nhttps://stackoverflow.com/questions/27558284/java-mock-object-without-dependency-injection","title":"Want to mock a method which is calling another class method","body":"<p>As here you are not using any <strong>dependency injection</strong>, you cannot mock and inject that object into the test class using mocikto.\nYou can look at this answer here :-\n<a href=\"https://stackoverflow.com/questions/27558284/java-mock-object-without-dependency-injection\">Java Mock object, without dependency injection</a></p>\n"},{"tags":[],"owner":{"account_id":7003534,"reputation":61,"user_id":5368761,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659816955,"creation_date":1659816750,"answer_id":73262981,"question_id":73262815,"body_markdown":"Make B an instance variable of A, add a constructor for A, pass the mock to constructor.\r\n\r\n```\r\nclass A{\r\nB b;\r\npublic A(B b){\r\n  this.b = b;\r\n }\r\n}\r\n```\r\nin test class\r\n```\r\nA a = new A(Mockito.mock(B.class));\r\n```","title":"Want to mock a method which is calling another class method","body":"<p>Make B an instance variable of A, add a constructor for A, pass the mock to constructor.</p>\n<pre><code>class A{\nB b;\npublic A(B b){\n  this.b = b;\n }\n}\n</code></pre>\n<p>in test class</p>\n<pre><code>A a = new A(Mockito.mock(B.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659817945,"creation_date":1659817609,"answer_id":73263053,"question_id":73262815,"body_markdown":"Since you create a new instance of `B`, you could parameterize `A` with a `Function&lt;String, B&gt;` (a factory method, or just `B::new` which you can the mock in your test.\r\n\r\n```\r\nclass A {\r\n final Function&lt;String, B&gt; bCreator;\r\n A(Function&lt;String, B&gt; bCreator) {\r\n   this.bCreator = bCreator;\r\n }\r\n void method1(){\r\n  B b = bCreator.apply(orgId);\r\n  b.execute();\r\n }\r\n}\r\n\r\n// test\r\nB b = mock(B.class);\r\nFunction&lt;String, B&gt; bCreator = mock(Function.class);\r\nwhen(bCreator.apply(any()).thenReturn(b);\r\nA a = new A(bCreator);\r\na.method1();\r\nverify(b).execute();\r\n```\r\n\r\nThe test whether B::execute works correctly (ie calls the appropriate dependency methods) should be done in another test since it&#39;s another unit. ","title":"Want to mock a method which is calling another class method","body":"<p>Since you create a new instance of <code>B</code>, you could parameterize <code>A</code> with a <code>Function&lt;String, B&gt;</code> (a factory method, or just <code>B::new</code> which you can the mock in your test.</p>\n<pre><code>class A {\n final Function&lt;String, B&gt; bCreator;\n A(Function&lt;String, B&gt; bCreator) {\n   this.bCreator = bCreator;\n }\n void method1(){\n  B b = bCreator.apply(orgId);\n  b.execute();\n }\n}\n\n// test\nB b = mock(B.class);\nFunction&lt;String, B&gt; bCreator = mock(Function.class);\nwhen(bCreator.apply(any()).thenReturn(b);\nA a = new A(bCreator);\na.method1();\nverify(b).execute();\n</code></pre>\n<p>The test whether B::execute works correctly (ie calls the appropriate dependency methods) should be done in another test since it's another unit.</p>\n"}],"owner":{"account_id":6536394,"reputation":13,"user_id":5055711,"display_name":"Poggy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659817945,"creation_date":1659814914,"question_id":73262815,"body_markdown":"I am new to mockito using it for unit testing. I need some help to understand mock a method.I have a method - method1() of class A  which needs to be tested .Here i want to verify that execute() is executed (Interaction testing).Below is the method.\r\n    \r\n    \r\n    class A{\r\n    void method1(){\r\n    \r\n      B b = new B(org_id);\r\n    \r\n      b.execute();\r\n    \r\n    \r\n     }\r\n    }\r\n\r\n  -------------------  \r\n    \r\n   \r\n\r\n     Class B {\r\n        B(String orgId){\r\n        this.orgId = org_id;\r\n        }\r\n        \r\n        void execute(){\r\n         String x = Dependency.m1();\r\n        \r\n         String y = Dependency.m2();\r\n        \r\n         }\r\n        \r\n         static class Dependency{\r\n        \r\n         public String m1(){\r\n    \r\n           return K.someText();\r\n    \r\n          }\r\n        \r\n         public String m2(){\r\n    \r\n          return K.someText();\r\n    \r\n         }\r\n        }\r\n       }\r\n    \r\nCould anyone help me how to achieve it?TIA","title":"Want to mock a method which is calling another class method","body":"<p>I am new to mockito using it for unit testing. I need some help to understand mock a method.I have a method - method1() of class A  which needs to be tested .Here i want to verify that execute() is executed (Interaction testing).Below is the method.</p>\n<pre><code>class A{\nvoid method1(){\n\n  B b = new B(org_id);\n\n  b.execute();\n\n\n }\n}\n</code></pre>\n<hr />\n<pre><code> Class B {\n    B(String orgId){\n    this.orgId = org_id;\n    }\n    \n    void execute(){\n     String x = Dependency.m1();\n    \n     String y = Dependency.m2();\n    \n     }\n    \n     static class Dependency{\n    \n     public String m1(){\n\n       return K.someText();\n\n      }\n    \n     public String m2(){\n\n      return K.someText();\n\n     }\n    }\n   }\n</code></pre>\n<p>Could anyone help me how to achieve it?TIA</p>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":5592970,"reputation":325,"user_id":4431513,"display_name":"saeid rastak"},"score":1,"creation_date":1481538301,"post_id":41098589,"comment_id":69401582,"body_markdown":"I think, if your server just have been a static IP , this will work.","body":"I think, if your server just have been a static IP , this will work."},{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":1,"creation_date":1481538309,"post_id":41098589,"comment_id":69401589,"body_markdown":"1. Yes, 2. `if yes then how?` ---&gt; Too broad.","body":"1. Yes, 2. <code>if yes then how?</code> ---&gt; Too broad."},{"owner":{"account_id":5592970,"reputation":325,"user_id":4431513,"display_name":"saeid rastak"},"score":0,"creation_date":1481538596,"post_id":41098589,"comment_id":69401770,"body_markdown":"I found duplicate question : http://stackoverflow.com/questions/27003907/how-do-i-connect-to-the-server-socket-using-the-ip-address-and-port-number-clie","body":"I found duplicate question : <a href=\"http://stackoverflow.com/questions/27003907/how-do-i-connect-to-the-server-socket-using-the-ip-address-and-port-number-clie\" title=\"how do i connect to the server socket using the ip address and port number clie\">stackoverflow.com/questions/27003907/&hellip;</a>"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1481539325,"post_id":41098589,"comment_id":69402188,"body_markdown":"&quot;can i use it over internet as well as over wifi?&quot; Apples and oranges ... &quot;Wifi&quot; can be used for In**tra**net as well as In**ter**net. Whether you can reach your server from your android device via in**ter**net depends on whether your server is reachable in the internet. So you&#39;ll need to have either a domain and port that will redirect you to the server or a public IP of that server. If it is reachable in the internet, it should be irrelevant if you connect via wifi or carrier (3G, 4G, ... ) Mind that some Androids cannot handle IPv6.","body":"&quot;can i use it over internet as well as over wifi?&quot; Apples and oranges ... &quot;Wifi&quot; can be used for In<b>tra</b>net as well as In<b>ter</b>net. Whether you can reach your server from your android device via in<b>ter</b>net depends on whether your server is reachable in the internet. So you&#39;ll need to have either a domain and port that will redirect you to the server or a public IP of that server. If it is reachable in the internet, it should be irrelevant if you connect via wifi or carrier (3G, 4G, ... ) Mind that some Androids cannot handle IPv6."},{"owner":{"account_id":8865996,"reputation":175,"user_id":6621158,"accept_rate":17,"display_name":"Atul Singh"},"score":0,"creation_date":1481540287,"post_id":41098589,"comment_id":69402689,"body_markdown":"@Fildor can i use port forword here? and how?","body":"@Fildor can i use port forword here? and how?"}],"answers":[{"tags":[],"owner":{"account_id":7296836,"reputation":302,"user_id":5561298,"accept_rate":75,"display_name":"Moeen Kashisaz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481538632,"creation_date":1481538632,"answer_id":41098766,"question_id":41098589,"body_markdown":"Yes, you should use Hotspot for connect over wifi.\r\nuse this https://github.com/nickrussler/Android-Wifi-Hotspot-Manager-Class/tree/master/src/com/whitebyte/wifihotspotutils\r\n\r\nfor connect over wifi hotspot in android client.","title":"How to connect to java server (socket) using internet","body":"<p>Yes, you should use Hotspot for connect over wifi.\nuse this <a href=\"https://github.com/nickrussler/Android-Wifi-Hotspot-Manager-Class/tree/master/src/com/whitebyte/wifihotspotutils\" rel=\"nofollow noreferrer\">https://github.com/nickrussler/Android-Wifi-Hotspot-Manager-Class/tree/master/src/com/whitebyte/wifihotspotutils</a></p>\n\n<p>for connect over wifi hotspot in android client.</p>\n"},{"tags":[],"owner":{"account_id":8865996,"reputation":175,"user_id":6621158,"accept_rate":17,"display_name":"Atul Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659817679,"creation_date":1659817679,"answer_id":73263061,"question_id":41098589,"body_markdown":"Just answering my own question for helping other person who&#39;s new to this thing. It&#39;s very easy, it can be done just using `ngrok` or can be done using port forwarding using router if it has Static public IP.","title":"How to connect to java server (socket) using internet","body":"<p>Just answering my own question for helping other person who's new to this thing. It's very easy, it can be done just using <code>ngrok</code> or can be done using port forwarding using router if it has Static public IP.</p>\n"}],"owner":{"account_id":8865996,"reputation":175,"user_id":6621158,"accept_rate":17,"display_name":"Atul Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73263061,"answer_count":2,"score":0,"last_activity_date":1659817679,"creation_date":1481538003,"question_id":41098589,"body_markdown":"I&#39;d read a tutorial from [here][1]. It is chat application made using java for server side and client as well and android as client. Its running good without any error just need to connect on ip address of server but my question is, can i use it over internet as well as over wifi? if yes then how?\r\n\r\n\r\n  [1]: https://github.com/aboullaite/Multi-Client-Server-chat-application","title":"How to connect to java server (socket) using internet","body":"<p>I'd read a tutorial from <a href=\"https://github.com/aboullaite/Multi-Client-Server-chat-application\" rel=\"nofollow noreferrer\">here</a>. It is chat application made using java for server side and client as well and android as client. Its running good without any error just need to connect on ip address of server but my question is, can i use it over internet as well as over wifi? if yes then how?</p>\n"},{"tags":["java","oop","inheritance","extends"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659775141,"post_id":73258343,"comment_id":129378476,"body_markdown":"don&#39;t use static scope","body":"don&#39;t use static scope"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659776243,"post_id":73258343,"comment_id":129378674,"body_markdown":"See this fantastic video on YouTube about that: https://www.youtube.com/watch?v=HpuH7n9VOYk","body":"See this fantastic video on YouTube about that: <a href=\"https://www.youtube.com/watch?v=HpuH7n9VOYk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=HpuH7n9VOYk</a>"},{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":0,"creation_date":1659777388,"post_id":73258343,"comment_id":129378855,"body_markdown":"You example has a strange dependency graph, I think you have too much static (implicit) dependencies between your classes and that you should make those dependencies explicit, either through constructor arguments or through method call arguments (depends of the use case). That will allow you to write code that is easier to understand and will also allow you to use the inheritance (overriding methods). This answer tries to explain [how to decide when to use a static method or a static field](https://stackoverflow.com/questions/2671496/when-to-use-static-methods).","body":"You example has a strange dependency graph, I think you have too much static (implicit) dependencies between your classes and that you should make those dependencies explicit, either through constructor arguments or through method call arguments (depends of the use case). That will allow you to write code that is easier to understand and will also allow you to use the inheritance (overriding methods). This answer tries to explain <a href=\"https://stackoverflow.com/questions/2671496/when-to-use-static-methods\">how to decide when to use a static method or a static field</a>."},{"owner":{"account_id":25992655,"reputation":13,"user_id":19704545,"display_name":"GoAhead"},"score":0,"creation_date":1659887218,"post_id":73258343,"comment_id":129396578,"body_markdown":"Thanks to everybody for help! The task is resolved.","body":"Thanks to everybody for help! The task is resolved."}],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659817379,"creation_date":1659817379,"answer_id":73263035,"question_id":73258343,"body_markdown":"### Overriding the `efficiency` method\r\n\r\nIf you want to be able to override your `efficiency` method in a subclass (in the `Cat` class), you need to make it an instance method instead of a `static` method.\r\n\r\nSo you would remove the `static` keyword from the `efficiency` method in the `Animal` class\r\n\r\n```java\r\npublic class Animal {\r\n    // ...\r\n\r\n    public int efficiency(int steps) {\r\n        int equalSteps = steps + 10;\r\n        return equalSteps;\r\n    }\r\n}\r\n```\r\n\r\nYou would do the same in the `Cat` class but here you would also add the `@Override` annotation\r\n\r\n```java\r\npublic class Cat extends Animal {\r\n    @Override\r\n    public int efficiency(int steps) {\r\n        int equalSteps = steps + 50;\r\n        return equalSteps;\r\n    }\r\n}\r\n```\r\n\r\nNow the compiler will start complaining that the `Moving` class cannot access `efficiency` because the method cannot be called as a static method anymore. Now the `Moving` class needs an instance of the `Animal` class to be able to call the `efficiency` method.\r\n\r\n\r\n```java\r\npublic class Moving {\r\n    private int[] movingArray = Animal.animalArray.clone();\r\n    private int totalWay;\r\n    // Add an instance field to store the reference\r\n    private Animal animal;\r\n\r\n    // Add a constructor to pass the reference\r\n    public Moving(Animal animal) {\r\n        this.animal = animal; // store it here to use it later\r\n    }\r\n\r\n    public int walk(){\r\n        System.out.println(&quot;Go ahead&quot;);\r\n        for (int i = 0; i &lt; movingArray.length; i++){\r\n            totalWay += movingArray[i];\r\n        }\r\n        // use the reference here to be able to call the method\r\n        totalWay = animal.efficiency(totalWay);\r\n        return totalWay;\r\n    }\r\n}\r\n```\r\n\r\nAnd now the compiler will complain that `new Moving()` is not a constructor anymore, so you have to do another change\r\n\r\n```\r\npublic Animal {\r\n    // ...\r\n    public Moving letsMove() {\r\n        return new Moving(this);\r\n    }\r\n    // ...\r\n}\r\n```\r\n\r\n### Potential issue: Static storage for instance related data?\r\n\r\nUsing a static array `animalArray` (to which all `Animal` instances are adding values) to store data that belongs to each individual `Animal` instance won&#39;t produce correct results when calculating total steps for each `Animal`.\r\n\r\nWith your current example code it will work as you probably expect it to, but as soon as you will create another `Animal` instance (or another `Cat` instance) you will probably get unexpected results.\r\n\r\nIf your goal is to hold/store state that belongs to an instance, you want to use a non-static field for that. You would do the same as shown above for the `efficiency` method. Remove the `static` keyword from the `animalArray` field and change the code where it is accessed to use instance access instead of static access.\r\n\r\nIt seems the array is storing steps, so it would be less confusing if it would be called `stepsArray` instead of `animalArray`.","title":"Two classes and one method with different implementation for each of them","body":"<h3>Overriding the <code>efficiency</code> method</h3>\n<p>If you want to be able to override your <code>efficiency</code> method in a subclass (in the <code>Cat</code> class), you need to make it an instance method instead of a <code>static</code> method.</p>\n<p>So you would remove the <code>static</code> keyword from the <code>efficiency</code> method in the <code>Animal</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n    // ...\n\n    public int efficiency(int steps) {\n        int equalSteps = steps + 10;\n        return equalSteps;\n    }\n}\n</code></pre>\n<p>You would do the same in the <code>Cat</code> class but here you would also add the <code>@Override</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat extends Animal {\n    @Override\n    public int efficiency(int steps) {\n        int equalSteps = steps + 50;\n        return equalSteps;\n    }\n}\n</code></pre>\n<p>Now the compiler will start complaining that the <code>Moving</code> class cannot access <code>efficiency</code> because the method cannot be called as a static method anymore. Now the <code>Moving</code> class needs an instance of the <code>Animal</code> class to be able to call the <code>efficiency</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Moving {\n    private int[] movingArray = Animal.animalArray.clone();\n    private int totalWay;\n    // Add an instance field to store the reference\n    private Animal animal;\n\n    // Add a constructor to pass the reference\n    public Moving(Animal animal) {\n        this.animal = animal; // store it here to use it later\n    }\n\n    public int walk(){\n        System.out.println(&quot;Go ahead&quot;);\n        for (int i = 0; i &lt; movingArray.length; i++){\n            totalWay += movingArray[i];\n        }\n        // use the reference here to be able to call the method\n        totalWay = animal.efficiency(totalWay);\n        return totalWay;\n    }\n}\n</code></pre>\n<p>And now the compiler will complain that <code>new Moving()</code> is not a constructor anymore, so you have to do another change</p>\n<pre><code>public Animal {\n    // ...\n    public Moving letsMove() {\n        return new Moving(this);\n    }\n    // ...\n}\n</code></pre>\n<h3>Potential issue: Static storage for instance related data?</h3>\n<p>Using a static array <code>animalArray</code> (to which all <code>Animal</code> instances are adding values) to store data that belongs to each individual <code>Animal</code> instance won't produce correct results when calculating total steps for each <code>Animal</code>.</p>\n<p>With your current example code it will work as you probably expect it to, but as soon as you will create another <code>Animal</code> instance (or another <code>Cat</code> instance) you will probably get unexpected results.</p>\n<p>If your goal is to hold/store state that belongs to an instance, you want to use a non-static field for that. You would do the same as shown above for the <code>efficiency</code> method. Remove the <code>static</code> keyword from the <code>animalArray</code> field and change the code where it is accessed to use instance access instead of static access.</p>\n<p>It seems the array is storing steps, so it would be less confusing if it would be called <code>stepsArray</code> instead of <code>animalArray</code>.</p>\n"}],"owner":{"account_id":25992655,"reputation":13,"user_id":19704545,"display_name":"GoAhead"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73263035,"answer_count":1,"score":1,"last_activity_date":1659817379,"creation_date":1659774943,"question_id":73258343,"body_markdown":"I&#39;m just starting to learn OOP in Java, so this might be a dumb question. The Cat class extends Animal, they have a constructor, a static array, a method that fills the array, and a method that creates an object of the Moving class. On this created object of class Moving, the walk() method can be invoked. Question: how to write different behavior in the walk () method, depending on how the object was created (who was the creator Animal or Cat)? I was thinking of writing a separate efficiency() method to use in the walk() method, and put it in the Animal class and override this method in the Cat class. But in the walk() method, I can only use the static method of the Animal class and I can&#39;t override it for the Cat class.\r\n\r\nIf in Main I create Animal noName = new Cat(), then the program should call Cat.efficiency(). If I create Animal noName = new Animal(), then the Animal.efficiency() method must be called. Something like this, I think. Is it possible?\r\n\r\n\r\n    public class Animal {\r\n        private int capacity;\r\n        public static int[] animalArray;\r\n    \r\n        public Animal(int value) {\r\n            animalArray = new int[value];\r\n        }\r\n    \r\n        public boolean adSteps(int element){\r\n            if (capacity &gt;= animalArray.length) {\r\n                return false;\r\n            } else {\r\n                animalArray[capacity++] = element;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public Moving letsMove() {\r\n            return new Moving();\r\n        }\r\n        public static int efficiency(int steps){\r\n            int equalSteps = steps+10;\r\n            return equalSteps;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public class Cat extends Animal{\r\n        public Cat(int value) {\r\n            super(value);\r\n        }\r\n        public static int efficiency(int steps) {\r\n            int equalSteps = steps + 50;\r\n            return equalSteps;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public class Moving {\r\n        private int[] movingArray = Animal.animalArray.clone();\r\n        private int totalWay;\r\n        \r\n        public int walk(){\r\n            System.out.println(&quot;Go ahead&quot;);\r\n            for (int i = 0; i &lt; movingArray.length; i++){\r\n                totalWay += movingArray[i];\r\n            }\r\n            totalWay = Animal.efficiency(totalWay);\r\n            return totalWay;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            Animal noName = new Cat(3);\r\n    \r\n            noName.adSteps(5);\r\n            noName.adSteps(3);\r\n            noName.adSteps(2);\r\n    \r\n            Moving iAmMoving = noName.letsMove();\r\n    \r\n            System.out.println(iAmMoving.walk());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Two classes and one method with different implementation for each of them","body":"<p>I'm just starting to learn OOP in Java, so this might be a dumb question. The Cat class extends Animal, they have a constructor, a static array, a method that fills the array, and a method that creates an object of the Moving class. On this created object of class Moving, the walk() method can be invoked. Question: how to write different behavior in the walk () method, depending on how the object was created (who was the creator Animal or Cat)? I was thinking of writing a separate efficiency() method to use in the walk() method, and put it in the Animal class and override this method in the Cat class. But in the walk() method, I can only use the static method of the Animal class and I can't override it for the Cat class.</p>\n<p>If in Main I create Animal noName = new Cat(), then the program should call Cat.efficiency(). If I create Animal noName = new Animal(), then the Animal.efficiency() method must be called. Something like this, I think. Is it possible?</p>\n<pre><code>public class Animal {\n    private int capacity;\n    public static int[] animalArray;\n\n    public Animal(int value) {\n        animalArray = new int[value];\n    }\n\n    public boolean adSteps(int element){\n        if (capacity &gt;= animalArray.length) {\n            return false;\n        } else {\n            animalArray[capacity++] = element;\n        }\n        return true;\n    }\n\n    public Moving letsMove() {\n        return new Moving();\n    }\n    public static int efficiency(int steps){\n        int equalSteps = steps+10;\n        return equalSteps;\n    }\n}\n\n\n\npublic class Cat extends Animal{\n    public Cat(int value) {\n        super(value);\n    }\n    public static int efficiency(int steps) {\n        int equalSteps = steps + 50;\n        return equalSteps;\n    }\n}\n\n\n\npublic class Moving {\n    private int[] movingArray = Animal.animalArray.clone();\n    private int totalWay;\n    \n    public int walk(){\n        System.out.println(&quot;Go ahead&quot;);\n        for (int i = 0; i &lt; movingArray.length; i++){\n            totalWay += movingArray[i];\n        }\n        totalWay = Animal.efficiency(totalWay);\n        return totalWay;\n    }\n}\n\n\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Animal noName = new Cat(3);\n\n        noName.adSteps(5);\n        noName.adSteps(3);\n        noName.adSteps(2);\n\n        Moving iAmMoving = noName.letsMove();\n\n        System.out.println(iAmMoving.walk());\n    }\n}\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1659618479,"post_id":73236370,"comment_id":129340952,"body_markdown":"Why did you feel the need to add that null check in the first place? Your method `getHttpURLConnection` cannot return null as far as I can see and therefor checking if it returned `null` is totally pointless. And afaik that&#39;s pretty much what SonarQube is also telling you.","body":"Why did you feel the need to add that null check in the first place? Your method <code>getHttpURLConnection</code> cannot return null as far as I can see and therefor checking if it returned <code>null</code> is totally pointless. And afaik that&#39;s pretty much what SonarQube is also telling you."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659625442,"post_id":73236370,"comment_id":129343827,"body_markdown":"I’m not sure why you’re using null at all.  Do you expect `new CsvToBeanBuilder(reader)` to succeed if a null Reader is passed to it?  These uses of null look like an attempt to circumvent exceptions.","body":"I’m not sure why you’re using null at all.  Do you expect <code>new CsvToBeanBuilder(reader)</code> to succeed if a null Reader is passed to it?  These uses of null look like an attempt to circumvent exceptions."}],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659816975,"creation_date":1659816975,"answer_id":73262999,"question_id":73236370,"body_markdown":"The simplest way is to change it so doesn&#39;t check it for null.  As the first commenter pointed out, there&#39;s no way for it to be null, as simple inspection of the method that constructs it shows that it cannot return a non-null value.\r\n\r\nJust make it:\r\n\r\n    Reader reader = new InputStreamReader(httpURLConnection.getInputStream());\r\n\r\nYou might also consider combining this statement with the previous one, like this:\r\n\r\n    Reader reader =\r\n        new InputStreamReader(getHttpURLConnection(sharepointDomainUrl,\r\n                              sharepointFolderPath, sharepointFileName).getInputStream());\r\n","title":"SonarQube: Change this condition so that it does not always evaluate to true","body":"<p>The simplest way is to change it so doesn't check it for null.  As the first commenter pointed out, there's no way for it to be null, as simple inspection of the method that constructs it shows that it cannot return a non-null value.</p>\n<p>Just make it:</p>\n<pre><code>Reader reader = new InputStreamReader(httpURLConnection.getInputStream());\n</code></pre>\n<p>You might also consider combining this statement with the previous one, like this:</p>\n<pre><code>Reader reader =\n    new InputStreamReader(getHttpURLConnection(sharepointDomainUrl,\n                          sharepointFolderPath, sharepointFileName).getInputStream());\n</code></pre>\n"}],"owner":{"account_id":22576917,"reputation":1,"user_id":16762218,"display_name":"trelyin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659816975,"creation_date":1659617762,"question_id":73236370,"body_markdown":"I have the following code and I&#39;m receiving a SonarQube Error: &quot;Change this condition so that it does not always evaluate to false&quot;\r\n\r\n\r\n     private List&lt;FileSchema&gt; retrieveList(String sharepointUrl, String sharepointFolderPath, String sharepointFileName) {\r\n        try {\r\n            LOGGER.info(&quot;Retrieving data from sharepoint file started on - {}&quot;, LocalDateTime.now());\r\n            HttpURLConnection httpURLConnection = getHttpURLConnection(sharepointDomainUrl, sharepointFolderPath, sharepointFileName);\r\n            Reader reader = new InputStreamReader(httpURLConnection !=null ? httpURLConnection.getInputStream() : null);\r\n            CsvToBean csvToBean = new CsvToBeanBuilder(reader)\r\n                    .withType(FileSchema.class)\r\n                    .withSeparator(&#39;,&#39;)\r\n                    .withIgnoreLeadingWhiteSpace(true)\r\n                    .build();\r\n            List&lt;FileSchema&gt; fileSchemaList = csvToBean.parse();\r\n            return fileSchemaList;\r\n        } catch (Exception e) {\r\n            throw new CSVException(&quot;Error occurred while reading the data from sharepoint CSV with message - {}&quot;, e);\r\n        }\r\n    }\r\n\r\n\r\n     private HttpURLConnection getHttpURLConnection(String sharepointDomainUrl, String sharepointFolderPath, String sharepointFileName) {\r\n        try {\r\n            String token = authConfig.getBearerToken();\r\n            setSystemProperties();\r\n            String sharepointFilePath = sharepointDomainUrl + &quot;/_api(&#39;&quot; + sharepointFolderPath + &quot;&#39;)/&quot; + &quot;Files(&#39;&quot; + sharepointFileName + &quot;&#39;)/$value&quot;;\r\n            URL sharepointEndpoint = new URL(sharepointFilePath);\r\n            HttpURLConnection urlConnection = (HttpURLConnection) sharepointEndpoint.openConnection();\r\n            urlConnection.setConnectTimeout(30000);\r\n            urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n            urlConnection.setDoInput(true);\r\n            urlConnection.setDoOutput(true);\r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.connect();\r\n            return urlConnection;\r\n        } catch (Exception e) {\r\n        \tthrow new CSVException(&quot;Error occurred while retrieving the data from Sharepoint CSV with message - {}&quot;, e);\r\n        }\r\n    }\r\n\r\nSonarQube is giving an error on the line `httpURLConnection !=null`. Can anyone provide more insight into resolving this issue?","title":"SonarQube: Change this condition so that it does not always evaluate to true","body":"<p>I have the following code and I'm receiving a SonarQube Error: &quot;Change this condition so that it does not always evaluate to false&quot;</p>\n<pre><code> private List&lt;FileSchema&gt; retrieveList(String sharepointUrl, String sharepointFolderPath, String sharepointFileName) {\n    try {\n        LOGGER.info(&quot;Retrieving data from sharepoint file started on - {}&quot;, LocalDateTime.now());\n        HttpURLConnection httpURLConnection = getHttpURLConnection(sharepointDomainUrl, sharepointFolderPath, sharepointFileName);\n        Reader reader = new InputStreamReader(httpURLConnection !=null ? httpURLConnection.getInputStream() : null);\n        CsvToBean csvToBean = new CsvToBeanBuilder(reader)\n                .withType(FileSchema.class)\n                .withSeparator(',')\n                .withIgnoreLeadingWhiteSpace(true)\n                .build();\n        List&lt;FileSchema&gt; fileSchemaList = csvToBean.parse();\n        return fileSchemaList;\n    } catch (Exception e) {\n        throw new CSVException(&quot;Error occurred while reading the data from sharepoint CSV with message - {}&quot;, e);\n    }\n}\n\n\n private HttpURLConnection getHttpURLConnection(String sharepointDomainUrl, String sharepointFolderPath, String sharepointFileName) {\n    try {\n        String token = authConfig.getBearerToken();\n        setSystemProperties();\n        String sharepointFilePath = sharepointDomainUrl + &quot;/_api('&quot; + sharepointFolderPath + &quot;')/&quot; + &quot;Files('&quot; + sharepointFileName + &quot;')/$value&quot;;\n        URL sharepointEndpoint = new URL(sharepointFilePath);\n        HttpURLConnection urlConnection = (HttpURLConnection) sharepointEndpoint.openConnection();\n        urlConnection.setConnectTimeout(30000);\n        urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n        urlConnection.setDoInput(true);\n        urlConnection.setDoOutput(true);\n        urlConnection.setRequestMethod(&quot;GET&quot;);\n        urlConnection.connect();\n        return urlConnection;\n    } catch (Exception e) {\n        throw new CSVException(&quot;Error occurred while retrieving the data from Sharepoint CSV with message - {}&quot;, e);\n    }\n}\n</code></pre>\n<p>SonarQube is giving an error on the line <code>httpURLConnection !=null</code>. Can anyone provide more insight into resolving this issue?</p>\n"},{"tags":["java","regex","unicode","non-ascii-characters"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1605707068,"post_id":64887216,"comment_id":114733241,"body_markdown":"Not sure why you want to remove single quotes (`\\u2019`). These are normal chars. What do you want to get in the end, as a result?","body":"Not sure why you want to remove single quotes (<code>\\u2019</code>). These are normal chars. What do you want to get in the end, as a result?"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1605707851,"post_id":64887216,"comment_id":114733603,"body_markdown":"Hi @WiktorStribiżew,\nI am facing issue after pushing those values (without removal of Unicode characters) into Salesforce.that&#39;s why tried to remove. Bishan mentioned in below answer , lost some characters. so yet to test his answer ...let me know if u need any further details.","body":"Hi @WiktorStribiżew, I am facing issue after pushing those values (without removal of Unicode characters) into Salesforce.that&#39;s why tried to remove. Bishan mentioned in below answer , lost some characters. so yet to test his answer ...let me know if u need any further details."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1605708262,"post_id":64887216,"comment_id":114733779,"body_markdown":"I have a suggestion: what if you remove only symbols, punctuation and whitespace that is not ASCII? Try `.replaceAll(&quot;[\\\\p{Z}\\\\p{P}\\\\p{S}&amp;&amp;[^\\\\p{ASCII}]]&quot;, &quot;&quot;)`. Or, if you want to &quot;normalize&quot; all Unicode whitespace to a single regular space, and remove Unicode punctuation/symbols, try `comment.replaceAll(&quot;(?U)\\\\s+&quot;, &quot; &quot;).replaceAll(&quot;[\\\\p{P}\\\\p{S}&amp;&amp;[^\\\\p{ASCII}]]&quot;, &quot;&quot;)`","body":"I have a suggestion: what if you remove only symbols, punctuation and whitespace that is not ASCII? Try <code>.replaceAll(&quot;[\\\\p{Z}\\\\p{P}\\\\p{S}&amp;&amp;[^\\\\p{ASCII}]]&quot;, &quot;&quot;)</code>. Or, if you want to &quot;normalize&quot; all Unicode whitespace to a single regular space, and remove Unicode punctuation/symbols, try <code>comment.replaceAll(&quot;(?U)\\\\s+&quot;, &quot; &quot;).replaceAll(&quot;[\\\\p{P}\\\\p{S}&amp;&amp;[^\\\\p{ASCII}]]&quot;, &quot;&quot;)</code>"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1605710281,"post_id":64887216,"comment_id":114734820,"body_markdown":"Hi @WiktorStribiżew,\nThanks for ur suggestion,It works fine.but instead of replace Unicode punctuation/symbols as empty, is there any way to get exact characters. like( \\u2019 )becomes ( &#39; ). can we replace \nall characters during runtime?&quot;normalize&quot; all Unicode whitespace to a single regular space is fine.","body":"Hi @WiktorStribiżew, Thanks for ur suggestion,It works fine.but instead of replace Unicode punctuation/symbols as empty, is there any way to get exact characters. like( \\u2019 )becomes ( &#39; ). can we replace  all characters during runtime?&quot;normalize&quot; all Unicode whitespace to a single regular space is fine."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1605710659,"post_id":64887216,"comment_id":114735012,"body_markdown":"There is such a thing in Python. I have just googled Java&#39;s port, not sure it is working, see https://github.com/xuender/unidecode","body":"There is such a thing in Python. I have just googled Java&#39;s port, not sure it is working, see <a href=\"https://github.com/xuender/unidecode\" rel=\"nofollow noreferrer\">github.com/xuender/unidecode</a>"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1605711440,"post_id":64887216,"comment_id":114735461,"body_markdown":"Hi @WiktorStribiżew,\nThanks for again, reviewed it but unfortunately i can&#39;t able to find the required thing in the class called Unidecode in above github repo.can u tell me which portion is suitable for my case in that class.","body":"Hi @WiktorStribiżew, Thanks for again, reviewed it but unfortunately i can&#39;t able to find the required thing in the class called Unidecode in above github repo.can u tell me which portion is suitable for my case in that class."}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659816625,"creation_date":1605675238,"answer_id":64887306,"question_id":64887216,"body_markdown":"You can do this sequentially like below:\r\n    \r\n    public static void main(final String args[]) {\r\n        String comment = &quot;Good morning! \\u2028\\u2028I am looking to purchase a new Honda car as I\\u2019m outgrowing my current car. I currently drive a Hyundai Accent and I was looking for something a little bit larger and more comfortable like the Honda Civic. May I know if you have any of the models currently in stock? Thank you! Warm regards Sandra&quot;;\r\n    \r\n        // remove all non-ASCII characters\r\n        comment = comment.replaceAll(&quot;[^\\\\x00-\\\\x7F]&quot;, &quot;&quot;);\r\n    \r\n        // remove all the ASCII control characters\r\n        comment = comment.replaceAll(&quot;[\\\\p{Cntrl}&amp;&amp;[^\\r\\n\\t]]&quot;, &quot;&quot;);\r\n    \r\n        // removes non-printable characters from Unicode\r\n        comment = comment.replaceAll(&quot;\\\\p{C}&quot;, &quot;&quot;);\r\n        System.out.println(comment);\r\n    }","title":"To remove Unicode character from String in Java using REGEX","body":"<p>You can do this sequentially like below:</p>\n<pre><code>public static void main(final String args[]) {\n    String comment = &quot;Good morning! \\u2028\\u2028I am looking to purchase a new Honda car as I\\u2019m outgrowing my current car. I currently drive a Hyundai Accent and I was looking for something a little bit larger and more comfortable like the Honda Civic. May I know if you have any of the models currently in stock? Thank you! Warm regards Sandra&quot;;\n\n    // remove all non-ASCII characters\n    comment = comment.replaceAll(&quot;[^\\\\x00-\\\\x7F]&quot;, &quot;&quot;);\n\n    // remove all the ASCII control characters\n    comment = comment.replaceAll(&quot;[\\\\p{Cntrl}&amp;&amp;[^\\r\\n\\t]]&quot;, &quot;&quot;);\n\n    // removes non-printable characters from Unicode\n    comment = comment.replaceAll(&quot;\\\\p{C}&quot;, &quot;&quot;);\n    System.out.println(comment);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605675417,"creation_date":1605675417,"answer_id":64887332,"question_id":64887216,"body_markdown":"If you use `replace`, you will lost some characters, For example `I&#39;m` will become `Im`. So the best thing is convert.\r\n\r\n\r\nYou can Convert Unicode to UTF-8.\r\n\r\n    byte[] byteComment = comment.getBytes(&quot;UTF-8&quot;);\r\n    \r\n    String formattedComment = new String(byteComment, &quot;UTF-8&quot;);","title":"To remove Unicode character from String in Java using REGEX","body":"<p>If you use <code>replace</code>, you will lost some characters, For example <code>I'm</code> will become <code>Im</code>. So the best thing is convert.</p>\n<p>You can Convert Unicode to UTF-8.</p>\n<pre><code>byte[] byteComment = comment.getBytes(&quot;UTF-8&quot;);\n\nString formattedComment = new String(byteComment, &quot;UTF-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64887306,"answer_count":2,"score":2,"last_activity_date":1659816625,"creation_date":1605674592,"question_id":64887216,"body_markdown":"I am having Input String like below.\r\n\r\n    String comment = &quot;Good morning! \\u2028\\u2028I am looking to purchase a new Honda car as I\\u2019m outgrowing my current car. I currently drive a Hyundai Accent and I was looking for something a\r\n     little bit larger and more comfortable like the Honda Civic. May I know if you have any of the models currently in stock? Thank you! Warm regards Sandra&quot;;\r\n\r\n\r\nI want to remove Unicode characters like &quot;\\u2028&quot; , &quot;\\u2019&quot; etc if it is present in the comment section.In runtime i don&#39;t know what are all extra characters coming. So what is the best way to handle this?\r\n\r\nI tried like below which removes unicode characters in the given string.\r\n\r\n    Comments.replaceAll(&quot;\\\\P{Print}&quot;, &quot;&quot;);\r\n\r\nSo what is the best way to  match Unicode characters are present in the comment section and if present remove those, otherwise just pass the comment to target system.\r\n\r\nCan anyone please help me to resolve this?","title":"To remove Unicode character from String in Java using REGEX","body":"<p>I am having Input String like below.</p>\n<pre><code>String comment = &quot;Good morning! \\u2028\\u2028I am looking to purchase a new Honda car as I\\u2019m outgrowing my current car. I currently drive a Hyundai Accent and I was looking for something a\n little bit larger and more comfortable like the Honda Civic. May I know if you have any of the models currently in stock? Thank you! Warm regards Sandra&quot;;\n</code></pre>\n<p>I want to remove Unicode characters like &quot;\\u2028&quot; , &quot;\\u2019&quot; etc if it is present in the comment section.In runtime i don't know what are all extra characters coming. So what is the best way to handle this?</p>\n<p>I tried like below which removes unicode characters in the given string.</p>\n<pre><code>Comments.replaceAll(&quot;\\\\P{Print}&quot;, &quot;&quot;);\n</code></pre>\n<p>So what is the best way to  match Unicode characters are present in the comment section and if present remove those, otherwise just pass the comment to target system.</p>\n<p>Can anyone please help me to resolve this?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1659812485,"post_id":73262510,"comment_id":129385750,"body_markdown":"`int indeks = (int)crka - (int)(&#39;a&#39;));`","body":"<code>int indeks = (int)crka - (int)(&#39;a&#39;));</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659812499,"post_id":73262510,"comment_id":129385754,"body_markdown":"well, your string has 43 characters and as noted above, the code is counting each character as being a `z` || BTW `string.toLowerCase();` is not useful, its result is not being used (`String` is immutable) || BTW2 there is no need to cast a `char` to do `int` arithmetic","body":"well, your string has 43 characters and as noted above, the code is counting each character as being a <code>z</code> || BTW <code>string.toLowerCase();</code> is not useful, its result is not being used (<code>String</code> is immutable) || BTW2 there is no need to cast a <code>char</code> to do <code>int</code> arithmetic"},{"owner":{"account_id":25415026,"reputation":21,"user_id":19222119,"display_name":"Kalina"},"score":0,"creation_date":1659814637,"post_id":73262510,"comment_id":129386186,"body_markdown":"@OldProgrammer When I try this, I get the .ArrayIndexOutOfBoundsException error, saying that Index -13 is out of bounds for length 26. Where did I go wrong here? Any other methos I could use to input a string into an array? Thanks :)","body":"@OldProgrammer When I try this, I get the .ArrayIndexOutOfBoundsException error, saying that Index -13 is out of bounds for length 26. Where did I go wrong here? Any other methos I could use to input a string into an array? Thanks :)"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1659866217,"post_id":73262510,"comment_id":129392384,"body_markdown":"The first letter is `T` and `&#39;T&#39; - &#39;a&#39;` is -13, you can&#39;t assume all characters in the string are greater than `a`","body":"The first letter is <code>T</code> and <code>&#39;T&#39; - &#39;a&#39;</code> is -13, you can&#39;t assume all characters in the string are greater than <code>a</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659872508,"post_id":73262510,"comment_id":129393458,"body_markdown":"as I already wrote... `string.toLowerCase();` has no impact since its result is never used - it does **not** change the original `String` - `String`s in Java are immutable","body":"as I already wrote... <code>string.toLowerCase();</code> has no impact since its result is never used - it does <b>not</b> change the original <code>String</code> - <code>String</code>s in Java are immutable"}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659816217,"creation_date":1659816217,"answer_id":73262938,"question_id":73262510,"body_markdown":"Here are a few problem with your code.\r\n\r\n```\r\nstring.toLowerCase();\r\n```\r\n\r\ntoLowerCase returns the lower case of string, and doesn&#39;t change the original string.  You need to capture the returned string.\r\n\r\n```\r\nstring = string.toLowerCase();\r\n```\r\nYou need to change ```((int)(&#39;z&#39;)``` to ```((int)(crka)```.\r\n\r\nYou also need to handle the space character &#39; &#39;.  \r\n\r\nHere&#39;s are the changes:\r\n\r\n```\r\nString string = &quot;The quick brown fox jumps over the lazy dog&quot;;\r\nstring = string.toLowerCase();  // &lt;&lt;&lt;  change here\r\n\r\nint[] count = new int[26];\r\nchar[] vrstica = string.toCharArray();\r\n\r\n\r\nfor(char crka : vrstica){\r\n    int indeks = ((int)(crka) - (int)(&#39;a&#39;));  // &lt;&lt;&lt; change here\r\n    if (crka != &#39; &#39;) count[indeks]++;  // &lt;&lt;&lt; change here\r\n}\r\n\r\nfor(int i = 0; i &lt; count.length; i++){\r\n  if(count[i] != 0){\r\n    System.out.println((char)(&#39;a&#39;+ i) + &quot; &gt; &quot; + count[i]);\r\n  }\r\n}\r\n```","title":"Incorrect output when counting the occurence of each character in a given string (beginner Java)","body":"<p>Here are a few problem with your code.</p>\n<pre><code>string.toLowerCase();\n</code></pre>\n<p>toLowerCase returns the lower case of string, and doesn't change the original string.  You need to capture the returned string.</p>\n<pre><code>string = string.toLowerCase();\n</code></pre>\n<p>You need to change <code>((int)('z')</code> to <code>((int)(crka)</code>.</p>\n<p>You also need to handle the space character ' '.</p>\n<p>Here's are the changes:</p>\n<pre><code>String string = &quot;The quick brown fox jumps over the lazy dog&quot;;\nstring = string.toLowerCase();  // &lt;&lt;&lt;  change here\n\nint[] count = new int[26];\nchar[] vrstica = string.toCharArray();\n\n\nfor(char crka : vrstica){\n    int indeks = ((int)(crka) - (int)('a'));  // &lt;&lt;&lt; change here\n    if (crka != ' ') count[indeks]++;  // &lt;&lt;&lt; change here\n}\n\nfor(int i = 0; i &lt; count.length; i++){\n  if(count[i] != 0){\n    System.out.println((char)('a'+ i) + &quot; &gt; &quot; + count[i]);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25415026,"reputation":21,"user_id":19222119,"display_name":"Kalina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73262938,"answer_count":1,"score":-1,"last_activity_date":1659816217,"creation_date":1659812248,"question_id":73262510,"body_markdown":"I am trying to write a program that saves a string into an array and then gives the number of  occurences for each of the characters in that string. \r\n\r\nThis is my code so far: \r\n\r\n\tString string = &quot;The quick brown fox jumps over the lazy dog&quot;;\r\n\tstring.toLowerCase();\r\n\t\r\n\tint[] count = new int[26];\r\n\tchar[] vrstica = string.toCharArray();\r\n\t\r\n\t\r\n\tfor(char crka : vrstica){\r\n\t\tint indeks = ((int)(&#39;z&#39;) - (int)(&#39;a&#39;));\r\n\t\tcount[indeks]++;\r\n\t}\r\n\t\tfor(int i = 0; i &lt; count.length; i++){\r\n\t\t\tif(count[i] != 0){\r\n\t\t\t\tSystem.out.println((char)(&#39;a&#39;+ i) + &quot; &gt; &quot; + count[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\nand this is the output I am currently getting:\r\n\r\nz &gt; 43\r\n\r\nI am using .toCharArray() because that was the tip given in the instructions for this assignment, but I am not completely sure if the way I am using it is correct.\r\n\r\nThank you for your help :)","title":"Incorrect output when counting the occurence of each character in a given string (beginner Java)","body":"<p>I am trying to write a program that saves a string into an array and then gives the number of  occurences for each of the characters in that string.</p>\n<p>This is my code so far:</p>\n<pre><code>String string = &quot;The quick brown fox jumps over the lazy dog&quot;;\nstring.toLowerCase();\n\nint[] count = new int[26];\nchar[] vrstica = string.toCharArray();\n\n\nfor(char crka : vrstica){\n    int indeks = ((int)('z') - (int)('a'));\n    count[indeks]++;\n}\n    for(int i = 0; i &lt; count.length; i++){\n        if(count[i] != 0){\n            System.out.println((char)('a'+ i) + &quot; &gt; &quot; + count[i]);\n        }\n    }\n</code></pre>\n<p>and this is the output I am currently getting:</p>\n<p>z &gt; 43</p>\n<p>I am using .toCharArray() because that was the tip given in the instructions for this assignment, but I am not completely sure if the way I am using it is correct.</p>\n<p>Thank you for your help :)</p>\n"},{"tags":["java","spring","security","javabeans"],"answers":[{"tags":[],"owner":{"account_id":21417136,"reputation":2183,"user_id":15777370,"display_name":"vszholobov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659815462,"creation_date":1659811988,"answer_id":73262473,"question_id":73261956,"body_markdown":"To add security rules and form for endpoints simply add `.authorizeRequests()` block:\r\n\r\n```\r\n@Configuration\r\npublic class Config {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/unprotected&quot;, &quot;/endpoints/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nAlso read [Spring Security without the WebSecurityConfigurerAdapter](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter)","title":"SecurityFilterChain Bean doesn&#39;t protect app","body":"<p>To add security rules and form for endpoints simply add <code>.authorizeRequests()</code> block:</p>\n<pre><code>@Configuration\npublic class Config {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/unprotected&quot;, &quot;/endpoints/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin();\n        return http.build();\n    }\n}\n</code></pre>\n<p>Also read <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">Spring Security without the WebSecurityConfigurerAdapter</a></p>\n"}],"owner":{"account_id":21420120,"reputation":45,"user_id":15778808,"display_name":"Tea Without Sugar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73262473,"answer_count":1,"score":2,"last_activity_date":1659815462,"creation_date":1659807080,"question_id":73261956,"body_markdown":"I am in the middle of process of mirgation my Spring Security Configuration from WebSecurityConfigurerAdapter (deprecated) to configuration with beans.\r\n\r\nMy config class now looks like\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class Config {\r\n\r\n    @Bean\r\n    protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI understand that this configuration doesn&#39;t make any behavior settings, but shouldn&#39;t it return a SecurityFilterChain bean that will act like the default SecurityFilterChain (as if no configuration was specified)? When I start my app no controllers are secured.","title":"SecurityFilterChain Bean doesn&#39;t protect app","body":"<p>I am in the middle of process of mirgation my Spring Security Configuration from WebSecurityConfigurerAdapter (deprecated) to configuration with beans.</p>\n<p>My config class now looks like</p>\n<pre><code>@EnableWebSecurity\npublic class Config {\n\n    @Bean\n    protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>I understand that this configuration doesn't make any behavior settings, but shouldn't it return a SecurityFilterChain bean that will act like the default SecurityFilterChain (as if no configuration was specified)? When I start my app no controllers are secured.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659814646,"creation_date":1495203797,"answer_id":44072501,"question_id":44072418,"body_markdown":"    final ArgumentCaptor&lt;String&gt; argumentCaptor = ArgumentCaptor.forClass(String.class);\r\n    doAnswer(invocationOnMock -&gt; {\r\n    \r\n         assertEquals(&quot;yourexpectedValue&quot;, argumentCaptor.getValue());\r\n         return ;// return an instance of whatever type LambdaLogger::log method returns\r\n    \r\n    }).when(mockLambdaLogger).log(argumentCaptor.capture());\r\n\r\n    llw.logInfo(&quot;caller&quot;, &quot;yourexpectedValue&quot;);  \r\n\r\nIf you are not using Java8 replace this with anonymous inner class.","title":"Testing method called with specific string","body":"<pre><code>final ArgumentCaptor&lt;String&gt; argumentCaptor = ArgumentCaptor.forClass(String.class);\ndoAnswer(invocationOnMock -&gt; {\n\n     assertEquals(&quot;yourexpectedValue&quot;, argumentCaptor.getValue());\n     return ;// return an instance of whatever type LambdaLogger::log method returns\n\n}).when(mockLambdaLogger).log(argumentCaptor.capture());\n\nllw.logInfo(&quot;caller&quot;, &quot;yourexpectedValue&quot;);  \n</code></pre>\n<p>If you are not using Java8 replace this with anonymous inner class.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1495203806,"creation_date":1495203806,"answer_id":44072512,"question_id":44072418,"body_markdown":"Invoke the `logInfo()` method on the instance under test :\r\n\r\n    String message = &quot;my message&quot;;\r\n    llw.logInfo(&quot;caller&quot;, message);\r\n\r\nAnd use the `Mockito#verify()` method to assert that the mock was invoked with the expected method and with the parameter you have passed to the tested method :\r\n\r\n    Mockito.verify(lambdaLogger).log(message);","title":"Testing method called with specific string","body":"<p>Invoke the <code>logInfo()</code> method on the instance under test :</p>\n\n<pre><code>String message = \"my message\";\nllw.logInfo(\"caller\", message);\n</code></pre>\n\n<p>And use the <code>Mockito#verify()</code> method to assert that the mock was invoked with the expected method and with the parameter you have passed to the tested method :</p>\n\n<pre><code>Mockito.verify(lambdaLogger).log(message);\n</code></pre>\n"}],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44072512,"answer_count":2,"score":1,"last_activity_date":1659814646,"creation_date":1495203540,"question_id":44072418,"body_markdown":"I am trying to find answer to my question but unable to find something working. I have a class which does this\r\n\r\n    public class LambdaLoggerWrapper {\r\n    \r\n        public LambdaLoggerWrapper(LambdaLogger lambdaLogger){\r\n            this.lambdaLogger = lambdaLogger;\r\n        }\r\n    \r\n        public void logInfo(String caller, String message){\r\n            lambdaLogger.log(message);\r\n        }\r\n    }\r\n\r\nand my test is\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class LambdaLoggerWrapperTest{\r\n        @Mock LambdaLogger mockLambdaLogger;\r\n        \r\n        @Test\r\n        public void testLog(){\r\n             LambdaLoggerWrapper llw = new LambdaLoggerWrapper(mockLambdaLogger);\r\n             //how to test that calling llw.logInfo actually calls lambdaLogger.log with appropriate string?\r\n        }\r\n    }\r\n\r\nHow would I test that calling llw.logInfo actually calls lambdaLogger.log with the appropriate string?","title":"Testing method called with specific string","body":"<p>I am trying to find answer to my question but unable to find something working. I have a class which does this</p>\n\n<pre><code>public class LambdaLoggerWrapper {\n\n    public LambdaLoggerWrapper(LambdaLogger lambdaLogger){\n        this.lambdaLogger = lambdaLogger;\n    }\n\n    public void logInfo(String caller, String message){\n        lambdaLogger.log(message);\n    }\n}\n</code></pre>\n\n<p>and my test is</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class LambdaLoggerWrapperTest{\n    @Mock LambdaLogger mockLambdaLogger;\n\n    @Test\n    public void testLog(){\n         LambdaLoggerWrapper llw = new LambdaLoggerWrapper(mockLambdaLogger);\n         //how to test that calling llw.logInfo actually calls lambdaLogger.log with appropriate string?\n    }\n}\n</code></pre>\n\n<p>How would I test that calling llw.logInfo actually calls lambdaLogger.log with the appropriate string?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6627494,"reputation":2666,"user_id":5117236,"accept_rate":84,"display_name":"Impulse The Fox"},"score":0,"creation_date":1496124728,"post_id":44254700,"comment_id":75517484,"body_markdown":"I don&#39;t like how you spell &quot;argument&quot;","body":"I don&#39;t like how you spell &quot;argument&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9335607,"reputation":295,"user_id":6929900,"display_name":"Sripriya V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496125265,"creation_date":1496125265,"answer_id":44254884,"question_id":44254700,"body_markdown":"Try using cut command after grep. Something like:\r\n\r\n    grep argument stlog.txt | cut -d &#39; &#39; -f 6\r\n\r\nRefer https://shapeshed.com/unix-cut/","title":"Pattern matching for log analysis","body":"<p>Try using cut command after grep. Something like:</p>\n\n<pre><code>grep argument stlog.txt | cut -d ' ' -f 6\n</code></pre>\n\n<p>Refer <a href=\"https://shapeshed.com/unix-cut/\" rel=\"nofollow noreferrer\">https://shapeshed.com/unix-cut/</a></p>\n"},{"tags":[],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496126874,"creation_date":1496125289,"answer_id":44254887,"question_id":44254700,"body_markdown":"This regex matches digits and dots after `remoteAddress=/` phrase.\r\n\r\n    public static void main(String[] args) {\r\n    \t\tString s = &quot;21:45.9 INFO    SSHD    SSHD-TRANSFER-1 [accountName=root] [remoteAddress=/172.16.8.1:64931]:Invoking logout agent [accountName=null remoteAddress=STEDGE/172.16.8.3]   AuthenticationProviderImpl.java com.tumbleweed.st.server.sshd.AuthenticationProviderImpl    executeLogoutAgent  425 UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN\\r\\n&quot;;\r\n    \t\tPattern pattern = Pattern.compile(&quot;(?&lt;=remoteAddress=/)[\\\\d.]+&quot;);\r\n    \t\tMatcher matcher = pattern.matcher(s);\r\n    \t\twhile (matcher.find()) {\r\n    \t\t\tString group = matcher.group();\r\n    \t\t\tSystem.out.println(group);\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nIt won&#39;t match `remoteAddress=STEDGE/172.16.8.3`. \r\n\r\nIt uses positive lookbehind to assert that `(?&lt;=remoteAddress=/)` is before `172.16.8.1`\r\n\r\n\r\nPattern:\r\n\r\n`(?&lt;=remoteAddress=/)` positive lookbehind(zero-length assertion). It matches only if `[\\\\d.]+` is preceded by exact phrase `remoteAddress=/`.\r\n\r\n`[\\\\d.]+` match digit or period . for 1 or more times. Doesn&#39;t match anything else.","title":"Pattern matching for log analysis","body":"<p>This regex matches digits and dots after <code>remoteAddress=/</code> phrase.</p>\n\n<pre><code>public static void main(String[] args) {\n        String s = \"21:45.9 INFO    SSHD    SSHD-TRANSFER-1 [accountName=root] [remoteAddress=/172.16.8.1:64931]:Invoking logout agent [accountName=null remoteAddress=STEDGE/172.16.8.3]   AuthenticationProviderImpl.java com.tumbleweed.st.server.sshd.AuthenticationProviderImpl    executeLogoutAgent  425 UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN\\r\\n\";\n        Pattern pattern = Pattern.compile(\"(?&lt;=remoteAddress=/)[\\\\d.]+\");\n        Matcher matcher = pattern.matcher(s);\n        while (matcher.find()) {\n            String group = matcher.group();\n            System.out.println(group);\n        }\n\n    }\n</code></pre>\n\n<p>It won't match <code>remoteAddress=STEDGE/172.16.8.3</code>. </p>\n\n<p>It uses positive lookbehind to assert that <code>(?&lt;=remoteAddress=/)</code> is before <code>172.16.8.1</code></p>\n\n<p>Pattern:</p>\n\n<p><code>(?&lt;=remoteAddress=/)</code> positive lookbehind(zero-length assertion). It matches only if <code>[\\\\d.]+</code> is preceded by exact phrase <code>remoteAddress=/</code>.</p>\n\n<p><code>[\\\\d.]+</code> match digit or period . for 1 or more times. Doesn't match anything else.</p>\n"}],"owner":{"account_id":9683969,"reputation":107,"user_id":7184496,"accept_rate":92,"display_name":"attack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44254887,"answer_count":2,"score":0,"last_activity_date":1659814557,"creation_date":1496124554,"question_id":44254700,"body_markdown":"My program will issue a `grep` command to search the log base on time range and a unique key word. My program able to issued out the `grep` command successfully and it&#39;s return several matched line of log which look like the following:\r\n\r\n    22:41.9\tINFO\tSSHD\tSSHD-TRANSFER-1\t[accountName=root] [remoteAddress=/172.16.8.1:64931]:Logout agent success [accountName=null remoteAddress=STEDGE/172.16.8.3]\tAuthenticationProviderImpl.java\tcom.tumbleweed.st.server.sshd.AuthenticationProviderImpl\texecuteLogoutAgent\t429\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\r\n    21:45.9\tINFO\tSSHD\tSSHD-TRANSFER-1\t[accountName=root] [remoteAddress=/172.16.8.1:64931]:Invoking logout agent [accountName=null remoteAddress=STEDGE/172.16.8.3]\tAuthenticationProviderImpl.java\tcom.tumbleweed.st.server.sshd.AuthenticationProviderImpl\texecuteLogoutAgent\t425\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\r\n    21:45.9\tINFO\tSSHD\tSSHD-TRANSFER-1\t[accountName=root] [remoteAddress=/172.16.8.1:64931]:SSH: User &quot;null&quot; logged out from [172.16.8.1].\tAuthenticationProviderImpl.java\tcom.tumbleweed.st.server.sshd.AuthenticationProviderImpl\texecuteLogoutAgent\t422\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\tUNKNOWN\r\n\r\nBut I don&#39;t need all of this, the things I am interested in is `[remoteAddress=/172.16.8.1:64931]`. This line of code `Pattern pat1 = Pattern.compile(&quot;remoteAddress=/(\\d)&quot;);` giving the illegal escape character. May I know how to extract out the IP address only without any port number and store it into a String variable, I had searched some information on google but it fails to work. \r\n\r\nFor your reference, this is my source code:\r\n\r\n    import java.io.*;\r\n    import java.util.regex.*;\r\n    class blockIP\r\n    {\r\n       public static void main(String [] args)\r\n       {\r\n         String command1 = &quot;date +%R&quot;;\r\n         String time = null;\r\n         String argument2 = null;\r\n         String argument1 = &quot;.*java&quot;;\r\n         try\r\n           {\r\n                 Process p1 = Runtime.getRuntime().exec(command1);\r\n                 BufferedReader br1 = new BufferedReader(new InputStreamReader(p1.getInputStream()));\r\n                 \r\n                 String line1;\r\n                 while((line1 = br1.readLine()) != null )\r\n                  {\r\n                      System.out.println(line1);\r\n                      time = line1;\r\n                      argument2 =time.concat(argument1);\r\n                  }\r\n               br1.close();\r\n               String command2 = &quot;grep &quot;+argument2+&quot; stlog.txt&quot;;\r\n               System.out.println(&quot;the command2 is :&quot;+command2);\r\n               Process p2 = Runtime.getRuntime().exec(command2);\r\n               BufferedReader br2 = new BufferedReader(new InputStreamReader(p2.getInputStream()));\r\n               String line2;\r\n               while((line2 = br2.readLine()) != null)\r\n               { \r\n                  System.out.println(line2);\r\n                  Pattern pat1 = Pattern.compile(&quot;remoteAddress=/(\\d)&quot;);\r\n                  Matcher matcher1 = pat1.matcher(line2);\r\n                  while(matcher1.find())\r\n                       {\r\n                         System.out.println(matcher1.group(1));\r\n                       }\r\n               }\r\n          }\r\n          catch(IOException e)\r\n          {\r\n            e.printStackTrace();\r\n          }\r\n        \r\n       }\r\n    }","title":"Pattern matching for log analysis","body":"<p>My program will issue a <code>grep</code> command to search the log base on time range and a unique key word. My program able to issued out the <code>grep</code> command successfully and it's return several matched line of log which look like the following:</p>\n<pre><code>22:41.9 INFO    SSHD    SSHD-TRANSFER-1 [accountName=root] [remoteAddress=/172.16.8.1:64931]:Logout agent success [accountName=null remoteAddress=STEDGE/172.16.8.3]    AuthenticationProviderImpl.java com.tumbleweed.st.server.sshd.AuthenticationProviderImpl    executeLogoutAgent  429 UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN\n21:45.9 INFO    SSHD    SSHD-TRANSFER-1 [accountName=root] [remoteAddress=/172.16.8.1:64931]:Invoking logout agent [accountName=null remoteAddress=STEDGE/172.16.8.3]   AuthenticationProviderImpl.java com.tumbleweed.st.server.sshd.AuthenticationProviderImpl    executeLogoutAgent  425 UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN\n21:45.9 INFO    SSHD    SSHD-TRANSFER-1 [accountName=root] [remoteAddress=/172.16.8.1:64931]:SSH: User &quot;null&quot; logged out from [172.16.8.1]. AuthenticationProviderImpl.java com.tumbleweed.st.server.sshd.AuthenticationProviderImpl    executeLogoutAgent  422 UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN UNKNOWN\n</code></pre>\n<p>But I don't need all of this, the things I am interested in is <code>[remoteAddress=/172.16.8.1:64931]</code>. This line of code <code>Pattern pat1 = Pattern.compile(&quot;remoteAddress=/(\\d)&quot;);</code> giving the illegal escape character. May I know how to extract out the IP address only without any port number and store it into a String variable, I had searched some information on google but it fails to work.</p>\n<p>For your reference, this is my source code:</p>\n<pre><code>import java.io.*;\nimport java.util.regex.*;\nclass blockIP\n{\n   public static void main(String [] args)\n   {\n     String command1 = &quot;date +%R&quot;;\n     String time = null;\n     String argument2 = null;\n     String argument1 = &quot;.*java&quot;;\n     try\n       {\n             Process p1 = Runtime.getRuntime().exec(command1);\n             BufferedReader br1 = new BufferedReader(new InputStreamReader(p1.getInputStream()));\n             \n             String line1;\n             while((line1 = br1.readLine()) != null )\n              {\n                  System.out.println(line1);\n                  time = line1;\n                  argument2 =time.concat(argument1);\n              }\n           br1.close();\n           String command2 = &quot;grep &quot;+argument2+&quot; stlog.txt&quot;;\n           System.out.println(&quot;the command2 is :&quot;+command2);\n           Process p2 = Runtime.getRuntime().exec(command2);\n           BufferedReader br2 = new BufferedReader(new InputStreamReader(p2.getInputStream()));\n           String line2;\n           while((line2 = br2.readLine()) != null)\n           { \n              System.out.println(line2);\n              Pattern pat1 = Pattern.compile(&quot;remoteAddress=/(\\d)&quot;);\n              Matcher matcher1 = pat1.matcher(line2);\n              while(matcher1.find())\n                   {\n                     System.out.println(matcher1.group(1));\n                   }\n           }\n      }\n      catch(IOException e)\n      {\n        e.printStackTrace();\n      }\n    \n   }\n}\n</code></pre>\n"},{"tags":["java","unicode","unicode-escapes","java-18"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1658382204,"post_id":73061139,"comment_id":129038410,"body_markdown":"This was a recent bug that was supposed to have been fixed in the latest versions. Double check that you are using the latest version. As a workaround, I found I could paste characters into a comment on the line, then drag and drop into the code. I don’t remember if I had to drag into a pair of quotes, and then delete the quotes. All very annoying.","body":"This was a recent bug that was supposed to have been fixed in the latest versions. Double check that you are using the latest version. As a workaround, I found I could paste characters into a comment on the line, then drag and drop into the code. I don’t remember if I had to drag into a pair of quotes, and then delete the quotes. All very annoying."},{"owner":{"account_id":25859021,"reputation":1,"user_id":19591767,"display_name":"VISHAL SAINI"},"score":0,"creation_date":1658472792,"post_id":73061139,"comment_id":129064026,"body_markdown":"thanku so much sir for give me right information","body":"thanku so much sir for give me right information"},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1658595560,"post_id":73061139,"comment_id":129092738,"body_markdown":"[IDEA-291006](https://youtrack.jetbrains.com/issue/IDEA-291006)","body":"<a href=\"https://youtrack.jetbrains.com/issue/IDEA-291006\" rel=\"nofollow noreferrer\">IDEA-291006</a>"}],"answers":[{"tags":[],"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659814445,"creation_date":1659814445,"answer_id":73262753,"question_id":73061139,"body_markdown":"I use the below version, and it works.\r\n\r\n```\r\nIntelliJ IDEA 2022.1.4 (Community Edition)\r\n\r\nBuild #IC-221.6008.13, built on July 19, 2022\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XGjJ4.png","title":"I am not able to use Unicode system in my Intellij IDE","body":"<p>I use the below version, and it works.</p>\n<pre><code>IntelliJ IDEA 2022.1.4 (Community Edition)\n\nBuild #IC-221.6008.13, built on July 19, 2022\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XGjJ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGjJ4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25859021,"reputation":1,"user_id":19591767,"display_name":"VISHAL SAINI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659814445,"creation_date":1658381534,"question_id":73061139,"body_markdown":"Sir I am not able to use Unicode system in my Intellij IDE. I can&#39;t use copyright symbol in java 18 JDK. I get the Unicode [code point][1] number, \\U00A9.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point\r\n  [2]: https://i.stack.imgur.com/dv1kY.png","title":"I am not able to use Unicode system in my Intellij IDE","body":"<p>Sir I am not able to use Unicode system in my Intellij IDE. I can't use copyright symbol in java 18 JDK. I get the Unicode <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> number, \\U00A9.</p>\n<p><a href=\"https://i.stack.imgur.com/dv1kY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dv1kY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ssh","sftp","file-transfer","jsch"],"answers":[{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1462522885,"creation_date":1438087047,"answer_id":31676547,"question_id":15108923,"body_markdown":"Usage:\r\n\r\n    sftp(&quot;file:/C:/home/file.txt&quot;, &quot;ssh://user:pass@host/home&quot;);\r\n    sftp(&quot;ssh://user:pass@host/home/file.txt&quot;, &quot;file:/C:/home&quot;);\r\n\r\n[Implementation](https://stackoverflow.com/a/37067557/448078)\r\n","title":"SFTP file transfer using Java JSch","body":"<p>Usage:</p>\n\n<pre><code>sftp(\"file:/C:/home/file.txt\", \"ssh://user:pass@host/home\");\nsftp(\"ssh://user:pass@host/home/file.txt\", \"file:/C:/home\");\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/37067557/448078\">Implementation</a></p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1509699271,"creation_date":1509699271,"answer_id":47091705,"question_id":15108923,"body_markdown":"The most trivial way to upload a file over SFTP with JSch is:\r\n\r\n    JSch jsch = new JSch();\r\n    Session session = jsch.getSession(user, host);\r\n    session.setPassword(password);\r\n    session.connect();\r\n\r\n    ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n    sftpChannel.connect();\r\n\r\n    sftpChannel.put(&quot;C:/source/local/path/file.zip&quot;, &quot;/target/remote/path/file.zip&quot;);\r\n\r\nSimilarly for a download:\r\n\r\n    sftpChannel.get(&quot;/source/remote/path/file.zip&quot;, &quot;C:/target/local/path/file.zip&quot;);\r\n\r\n---\r\n\r\n*You may need to [deal with `UnknownHostKey` exception](https://stackoverflow.com/q/32852906/850848#32858953).*","title":"SFTP file transfer using Java JSch","body":"<p>The most trivial way to upload a file over SFTP with JSch is:</p>\n\n<pre><code>JSch jsch = new JSch();\nSession session = jsch.getSession(user, host);\nsession.setPassword(password);\nsession.connect();\n\nChannelSftp sftpChannel = (ChannelSftp) session.openChannel(\"sftp\");\nsftpChannel.connect();\n\nsftpChannel.put(\"C:/source/local/path/file.zip\", \"/target/remote/path/file.zip\");\n</code></pre>\n\n<p>Similarly for a download:</p>\n\n<pre><code>sftpChannel.get(\"/source/remote/path/file.zip\", \"C:/target/local/path/file.zip\");\n</code></pre>\n\n<hr>\n\n<p><em>You may need to <a href=\"https://stackoverflow.com/q/32852906/850848#32858953\">deal with <code>UnknownHostKey</code> exception</a>.</em></p>\n"},{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1577781650,"creation_date":1527667698,"answer_id":50599480,"question_id":15108923,"body_markdown":" Below code works for me\r\n\r\n       public static void sftpsript(String filepath) {\r\n    \r\n     try {\r\n      String user =&quot;demouser&quot;; // username for remote host\r\n      String password =&quot;demo123&quot;; // password of the remote host\r\n    \r\n       String host = &quot;demo.net&quot;; // remote host address\r\n      JSch jsch = new JSch();\r\n      Session session = jsch.getSession(user, host);\r\n      session.setPassword(password);\r\n      session.connect();\r\n    \r\n      ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n      sftpChannel.connect();\r\n    \r\n      sftpChannel.put(&quot;I:/demo/myOutFile.txt&quot;, &quot;/tmp/QA_Auto/myOutFile.zip&quot;);\r\n      sftpChannel.disconnect();\r\n      session.disconnect();\r\n     }catch(Exception ex){\r\n         ex.printStackTrace();\r\n     }\r\n       }\r\n\r\n**OR using StrictHostKeyChecking as &quot;NO&quot; (security consequences)**\r\n\r\n    public static void sftpsript(String filepath) {\r\n\r\n     try {\r\n      String user =&quot;demouser&quot;; // username for remote host\r\n      String password =&quot;demo123&quot;; // password of the remote host\r\n    \r\n       String host = &quot;demo.net&quot;; // remote host address\r\n      JSch jsch = new JSch();\r\n       Session session = jsch.getSession(user, host, 22);\r\n       Properties config = new Properties();\r\n       config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n       session.setConfig(config);;\r\n       session.setPassword(password);\r\n       System.out.println(&quot;user==&quot;+user+&quot;\\n host==&quot;+host);\r\n       session.connect();\r\n    \r\n      ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n      sftpChannel.connect();\r\n    \r\n      sftpChannel.put(&quot;I:/demo/myOutFile.txt&quot;, &quot;/tmp/QA_Auto/myOutFile.zip&quot;);\r\n      sftpChannel.disconnect();\r\n      session.disconnect();\r\n     }catch(Exception ex){\r\n         ex.printStackTrace();\r\n     }\r\n       }","title":"SFTP file transfer using Java JSch","body":"<p>Below code works for me</p>\n\n<pre><code>   public static void sftpsript(String filepath) {\n\n try {\n  String user =\"demouser\"; // username for remote host\n  String password =\"demo123\"; // password of the remote host\n\n   String host = \"demo.net\"; // remote host address\n  JSch jsch = new JSch();\n  Session session = jsch.getSession(user, host);\n  session.setPassword(password);\n  session.connect();\n\n  ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(\"sftp\");\n  sftpChannel.connect();\n\n  sftpChannel.put(\"I:/demo/myOutFile.txt\", \"/tmp/QA_Auto/myOutFile.zip\");\n  sftpChannel.disconnect();\n  session.disconnect();\n }catch(Exception ex){\n     ex.printStackTrace();\n }\n   }\n</code></pre>\n\n<p><strong>OR using StrictHostKeyChecking as \"NO\" (security consequences)</strong></p>\n\n<pre><code>public static void sftpsript(String filepath) {\n\n try {\n  String user =\"demouser\"; // username for remote host\n  String password =\"demo123\"; // password of the remote host\n\n   String host = \"demo.net\"; // remote host address\n  JSch jsch = new JSch();\n   Session session = jsch.getSession(user, host, 22);\n   Properties config = new Properties();\n   config.put(\"StrictHostKeyChecking\", \"no\");\n   session.setConfig(config);;\n   session.setPassword(password);\n   System.out.println(\"user==\"+user+\"\\n host==\"+host);\n   session.connect();\n\n  ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(\"sftp\");\n  sftpChannel.connect();\n\n  sftpChannel.put(\"I:/demo/myOutFile.txt\", \"/tmp/QA_Auto/myOutFile.zip\");\n  sftpChannel.disconnect();\n  session.disconnect();\n }catch(Exception ex){\n     ex.printStackTrace();\n }\n   }\n</code></pre>\n"}],"owner":{"account_id":1211479,"reputation":9533,"user_id":1179916,"accept_rate":69,"display_name":"MAHI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141183,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":3,"score":30,"last_activity_date":1659813233,"creation_date":1361958617,"question_id":15108923,"body_markdown":"Here is my code, which retrieves content of the file, on the remote server and display as output.\r\n\r\n    package sshexample;\r\n\r\n    import com.jcraft.jsch.*;\r\n    import java.io.*;\r\n\r\n    public class SSHexample \r\n    {\r\n    public static void main(String[] args) \r\n    {\r\n        String user = &quot;user&quot;;\r\n        String password = &quot;password&quot;;\r\n        String host = &quot;192.168.100.103&quot;;\r\n        int port=22;\r\n\r\n        String remoteFile=&quot;sample.txt&quot;;\r\n\r\n        try\r\n        {\r\n            JSch jsch = new JSch();\r\n            Session session = jsch.getSession(user, host, port);\r\n            session.setPassword(password);\r\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            System.out.println(&quot;Establishing Connection...&quot;);\r\n            session.connect();\r\n            System.out.println(&quot;Connection established.&quot;);\r\n            System.out.println(&quot;Creating SFTP Channel.&quot;);\r\n            ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n            sftpChannel.connect();\r\n            System.out.println(&quot;SFTP Channel created.&quot;);\r\n            InputStream out= null;\r\n    \t    out= sftpChannel.get(remoteFile);\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(out));\r\n            String line;\r\n            while ((line = br.readLine()) != null) \r\n\t        {\r\n                System.out.println(line);\r\n            }\r\n\t        br.close();\r\n            sftpChannel.disconnect();\r\n            session.disconnect();\r\n        }\r\n    \tcatch(JSchException | SftpException | IOException e)\r\n    \t{\r\n\t\t    System.out.println(e);\r\n\t    }\r\n    }\r\n    }\r\n \r\n\r\nNow how to implement this program that the file is copied in the localhost and how to copy a file from localhost to the server.\r\n\r\nHere how to make work the transfer of files for any format of files.","title":"SFTP file transfer using Java JSch","body":"<p>Here is my code, which retrieves content of the file, on the remote server and display as output.</p>\n\n<pre><code>package sshexample;\n\nimport com.jcraft.jsch.*;\nimport java.io.*;\n\npublic class SSHexample \n{\npublic static void main(String[] args) \n{\n    String user = \"user\";\n    String password = \"password\";\n    String host = \"192.168.100.103\";\n    int port=22;\n\n    String remoteFile=\"sample.txt\";\n\n    try\n    {\n        JSch jsch = new JSch();\n        Session session = jsch.getSession(user, host, port);\n        session.setPassword(password);\n        session.setConfig(\"StrictHostKeyChecking\", \"no\");\n        System.out.println(\"Establishing Connection...\");\n        session.connect();\n        System.out.println(\"Connection established.\");\n        System.out.println(\"Creating SFTP Channel.\");\n        ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(\"sftp\");\n        sftpChannel.connect();\n        System.out.println(\"SFTP Channel created.\");\n        InputStream out= null;\n        out= sftpChannel.get(remoteFile);\n        BufferedReader br = new BufferedReader(new InputStreamReader(out));\n        String line;\n        while ((line = br.readLine()) != null) \n        {\n            System.out.println(line);\n        }\n        br.close();\n        sftpChannel.disconnect();\n        session.disconnect();\n    }\n    catch(JSchException | SftpException | IOException e)\n    {\n        System.out.println(e);\n    }\n}\n}\n</code></pre>\n\n<p>Now how to implement this program that the file is copied in the localhost and how to copy a file from localhost to the server.</p>\n\n<p>Here how to make work the transfer of files for any format of files.</p>\n"},{"tags":["java","hibernate","listener"],"comments":[{"owner":{"account_id":393614,"reputation":1615,"user_id":755568,"accept_rate":0,"display_name":"Hung Tran"},"score":1,"creation_date":1450339074,"post_id":34329282,"comment_id":56400182,"body_markdown":"You could check it yourself by printing out the current thread id, one in the Hibernate logger and the other one is in the place you call the Session.save method.","body":"You could check it yourself by printing out the current thread id, one in the Hibernate logger and the other one is in the place you call the Session.save method."},{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":0,"creation_date":1450346364,"post_id":34329282,"comment_id":56404684,"body_markdown":"&quot;Heavy logic&quot;, synchronous, asynchronous are completely different things. Altering entity relationships in entity listeners is not recommended for portable applications (by the JPA spec). The order in which entity listeners are invoked while cascading is undefined. Thus, applications relying upon the specific order in which entity listeners are invoked is forbidden by the JPA spec. Portable applications should thus not rely upon the specific order in which entity listeners are invoked.","body":"&quot;Heavy logic&quot;, synchronous, asynchronous are completely different things. Altering entity relationships in entity listeners is not recommended for portable applications (by the JPA spec). The order in which entity listeners are invoked while cascading is undefined. Thus, applications relying upon the specific order in which entity listeners are invoked is forbidden by the JPA spec. Portable applications should thus not rely upon the specific order in which entity listeners are invoked."},{"owner":{"account_id":5539938,"reputation":430,"user_id":4396876,"accept_rate":33,"display_name":"Mackiavelli"},"score":0,"creation_date":1659342512,"post_id":34329282,"comment_id":129263430,"body_markdown":"Well, heavy logic could be calling some external service or performing some cpu intensive task. In that sense, I also can&#39;t understand if it would be OK to put something inside. Also it matters if it is synchronous or not - if the callback has to complete before the control is turned over to the code that did the persisting/deleting/whatever then that could be a big no-no","body":"Well, heavy logic could be calling some external service or performing some cpu intensive task. In that sense, I also can&#39;t understand if it would be OK to put something inside. Also it matters if it is synchronous or not - if the callback has to complete before the control is turned over to the code that did the persisting/deleting/whatever then that could be a big no-no"}],"answers":[{"tags":[],"owner":{"account_id":2134002,"reputation":8980,"user_id":1894198,"accept_rate":52,"display_name":"tharindu_DG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659811975,"creation_date":1450344837,"answer_id":34331092,"question_id":34329282,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nSection : [12.3. JPA Callbacks][2]\r\n\r\nUPDATE: Link is dead but the screenshot reflects the essential content\r\n\r\n  [1]: http://i.stack.imgur.com/JmFxD.jpg\r\n  [2]: http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#d5e1578\r\n\r\nHope this helps","title":"Does hibernate listener async?","body":"<p><a href=\"https://i.stack.imgur.com/JmFxD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JmFxD.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Section : <a href=\"http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#d5e1578\" rel=\"nofollow noreferrer\">12.3. JPA Callbacks</a></p>\n<p>UPDATE: Link is dead but the screenshot reflects the essential content</p>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659811975,"creation_date":1450338655,"question_id":34329282,"body_markdown":"Hibernate has [listeners][1] are they synchronous or not? E.g. when I subsribed to `save` action, can I perform some havy logic?\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#d5e1578","title":"Does hibernate listener async?","body":"<p>Hibernate has <a href=\"http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#d5e1578\" rel=\"nofollow\">listeners</a> are they synchronous or not? E.g. when I subsribed to <code>save</code> action, can I perform some havy logic?</p>\n"},{"tags":["java","visual-studio-code","jar","executable-jar"],"comments":[{"owner":{"account_id":10661768,"reputation":9318,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"score":0,"creation_date":1525779224,"post_id":50232557,"comment_id":87482492,"body_markdown":"visual studio code is a text editor its not an ide so your system variables(if you are on windows) will have class path for your java and other libraries","body":"visual studio code is a text editor its not an ide so your system variables(if you are on windows) will have class path for your java and other libraries"},{"owner":{"account_id":2843093,"reputation":2205,"user_id":2650325,"display_name":"Manuel Perez Heredia"},"score":0,"creation_date":1525779277,"post_id":50232557,"comment_id":87482521,"body_markdown":"Start here, I haven&#39;t read it completely but you can find useful info https://code.visualstudio.com/docs/java/java-tutorial","body":"Start here, I haven&#39;t read it completely but you can find useful info <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-tutorial</a>"},{"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"score":1,"creation_date":1525779289,"post_id":50232557,"comment_id":87482534,"body_markdown":"This is not a duplicate since the question was about Visual Studio, not Visual Studio Code","body":"This is not a duplicate since the question was about Visual Studio, not Visual Studio Code"},{"owner":{"account_id":13526420,"reputation":771,"user_id":9758110,"display_name":"gqp21"},"score":0,"creation_date":1525779897,"post_id":50232557,"comment_id":87482890,"body_markdown":"Thanks for this hint. I tried to do: export CLASSPATH=&lt;list of jar files&gt;, then started visual studio code with this environment variable, but the problems stays the same: build fails.","body":"Thanks for this hint. I tried to do: export CLASSPATH=&lt;list of jar files&gt;, then started visual studio code with this environment variable, but the problems stays the same: build fails."},{"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"score":0,"creation_date":1525780106,"post_id":50232557,"comment_id":87483008,"body_markdown":"I am not sure that vscode is really adapted for Java development but anyway this will depend on which extension you will install to develop in Java. What have you installed???  Furthermore, whatever the one you chose, I suggest you to use Maven or Gradle to manage you dependencies.","body":"I am not sure that vscode is really adapted for Java development but anyway this will depend on which extension you will install to develop in Java. What have you installed???  Furthermore, whatever the one you chose, I suggest you to use Maven or Gradle to manage you dependencies."},{"owner":{"account_id":13526420,"reputation":771,"user_id":9758110,"display_name":"gqp21"},"score":0,"creation_date":1525786095,"post_id":50232557,"comment_id":87486916,"body_markdown":"Yes, thanks, that&#39;s correct. Adding jar&#39;s to a &#39;naked&#39;  &#39;hello world&#39; projects seems not to work. So I created a Maven project and added the dependency as`&lt;html&gt; &lt;code&gt;&lt;dependency&gt;\n    &lt;groupId&gt;org.jdom&lt;/groupId&gt;\n    &lt;artifactId&gt;jdom2&lt;/artifactId&gt;\n    &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt; &lt;/code&gt;`&lt;/html&gt;` This works.","body":"Yes, thanks, that&#39;s correct. Adding jar&#39;s to a &#39;naked&#39;  &#39;hello world&#39; projects seems not to work. So I created a Maven project and added the dependency as<code>&lt;html&gt; &lt;code&gt;&lt;dependency&gt;     &lt;groupId&gt;org.jdom&lt;&#47;groupId&gt;     &lt;artifactId&gt;jdom2&lt;&#47;artifactId&gt;     &lt;version&gt;2.0.6&lt;&#47;version&gt; &lt;&#47;dependency&gt; &lt;&#47;code&gt;</code>&lt;/html&gt;` This works."},{"owner":{"account_id":11897952,"reputation":1170,"user_id":8706759,"display_name":"Ganesh Chowdhary Sadanala"},"score":0,"creation_date":1529562635,"post_id":50232557,"comment_id":88930678,"body_markdown":"So if you added a jar dependency in Eclipse, reopening the same project in vscode should work, if it&#39;s a simple Java project.\nIf it doesn&#39;t, please provide a sample project reproducing the issue\nhere is the sample eclipse project.\ni could not import this eclipse project with VS code. I have to use the folder source\n[test_vs_code.zip](https://drive.google.com/open?id=1iC-GkjLeX8_5wQBzq00_QmEDVM_y2j57)\nWorks for me (after pointing to a json.jar on my machine). It even works in Atom. Can you try opening this one (the jar is included in the project directory, so it&#39;s more portable)?\n[test_vs_code2","body":"So if you added a jar dependency in Eclipse, reopening the same project in vscode should work, if it&#39;s a simple Java project. If it doesn&#39;t, please provide a sample project reproducing the issue here is the sample eclipse project. i could not import this eclipse project with VS code. I have to use the folder source <a href=\"https://drive.google.com/open?id=1iC-GkjLeX8_5wQBzq00_QmEDVM_y2j57\" rel=\"nofollow noreferrer\">test_vs_code.zip</a> Works for me (after pointing to a json.jar on my machine). It even works in Atom. Can you try opening this one (the jar is included in the project directory, so it&#39;s more portable)? [test_vs_code2"},{"owner":{"account_id":8736445,"reputation":95,"user_id":6534937,"accept_rate":100,"display_name":"Greasyjoe"},"score":0,"creation_date":1538663631,"post_id":50232557,"comment_id":92230523,"body_markdown":"https://stackoverflow.com/questions/50749388/setting-the-classpath-in-a-visual-studio-code-maven-based-java-project lots of great answers here","body":"<a href=\"https://stackoverflow.com/questions/50749388/setting-the-classpath-in-a-visual-studio-code-maven-based-java-project\" title=\"setting the classpath in a visual studio code maven based java project\">stackoverflow.com/questions/50749388/&hellip;</a> lots of great answers here"},{"owner":{"account_id":207032,"reputation":1411,"user_id":456678,"display_name":"Hemang"},"score":0,"creation_date":1549372978,"post_id":50232557,"comment_id":95872336,"body_markdown":"https://github.com/Microsoft/vscode-java-pack/issues/94","body":"<a href=\"https://github.com/Microsoft/vscode-java-pack/issues/94\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode-java-pack/issues/94</a>"}],"answers":[{"tags":[],"owner":{"account_id":501769,"reputation":9256,"user_id":1022707,"accept_rate":63,"display_name":"clankill3r"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1548706082,"creation_date":1548706082,"answer_id":54409526,"question_id":50232557,"body_markdown":"A terrible solution, but for me it works.\r\n(Assuming maven is installed).\r\n\r\nLocate your maven repository directory, for me it is:\r\n\r\n`/Users/username/.m2/repository`\r\n\r\nThen create the path required following the package name.\r\nIf you don&#39;t know the package name you can rename the `.jar` to a `.zip` and extract the content.\r\n\r\nAlso create a version number, if you don&#39;t have one then make one up.\r\nHere is a example of a structure that I created for `byte-buddy-agent` since that does not have a maven snippet.\r\n\r\nHaving done that you edit `pom.xml` and add something among the lines of:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.bytebuddyagent&lt;/groupId&gt;\r\n      &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSave the file, reload the changes, and you should be good to go.\r\nA bunch of files should be created in the directory.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uePNT.png","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>A terrible solution, but for me it works.\n(Assuming maven is installed).</p>\n\n<p>Locate your maven repository directory, for me it is:</p>\n\n<p><code>/Users/username/.m2/repository</code></p>\n\n<p>Then create the path required following the package name.\nIf you don't know the package name you can rename the <code>.jar</code> to a <code>.zip</code> and extract the content.</p>\n\n<p>Also create a version number, if you don't have one then make one up.\nHere is a example of a structure that I created for <code>byte-buddy-agent</code> since that does not have a maven snippet.</p>\n\n<p>Having done that you edit <code>pom.xml</code> and add something among the lines of:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.bytebuddyagent&lt;/groupId&gt;\n  &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n  &lt;version&gt;1.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Save the file, reload the changes, and you should be good to go.\nA bunch of files should be created in the directory.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uePNT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uePNT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":207032,"reputation":1411,"user_id":456678,"display_name":"Hemang"},"down_vote_count":2,"up_vote_count":87,"is_accepted":false,"score":85,"last_activity_date":1589293324,"creation_date":1549372565,"answer_id":54535301,"question_id":50232557,"body_markdown":"# Update for latest version\r\nPre-requisite: In VS Code you need to open the folder and not just file to include any jar file for compilation, running, debugging and testing\r\n\r\nVSCode works fine with maven or gradle, and if we are using any of those, we should use maven or gradle for dependency management.\r\n\r\nIf you are not using any dependency management, then there are two options to add jar file\r\n\r\n### Option 1: Manually\r\nOpen .vscode/settings.json file (if not present, you can create one) and add required jar file there as shown below. In this case all the jar files present in lib directory will be included + I have added common-logging-1.1.1.jar which is located outside the project directory\r\n\r\n```json\r\n{\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n        &quot;c:\\\\path\\\\to\\\\jarfile\\\\commons-logging-1.1.1.jar&quot;\r\n    ]\r\n}\r\n```\r\n\r\n### Option 2: Via User Interface\r\n\r\nIf Java Extension is enabled then on left panel there will be Java Dependencies.\r\nInside there you can click on `+` symbol to add customer jar files. With this method too, the `settings.json` file will be updated\r\n\r\n[![Screenshot for Adding Java Dependency][1]][1]\r\n\r\n\r\n# Old Answer kept for reference...\r\n\r\nVSCode works fine with maven or gradle. But without those, as far as I know they have not provided any direct way to add jar file in classpath.\r\n\r\nThe workaround is to add the entry in `.classpath` file manually.\r\n\r\nFor e.g. in below file I have added `common-logging-1.2.jar` located in `lib` directory manually by adding a line `&lt;classpathentry exported=&quot;true&quot; kind=&quot;lib&quot; path=&quot;lib/commons-logging-1.2.jar&quot;/&gt;`\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n        &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;/&gt;\r\n        &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n        &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n        &lt;classpathentry exported=&quot;true&quot; kind=&quot;lib&quot; path=&quot;lib/commons-logging-1.2.jar&quot;/&gt;\r\n&lt;/classpath&gt;\r\n```\r\n\r\n**Update**\r\n\r\nFinally VSCode team is working towards a better solution. This is still work in progress, but you can refer to this link for better aproach https://github.com/microsoft/vscode-java-pack/issues/94#issuecomment-573487982\r\n\r\n**Update April 2020**\r\n\r\nVSCode Extension update now supports this feature out of the box.\r\nNow VS Code Java lets you work with JAR files directly without any build tools. Go to JAVA DEPENDENCIES view, find the Referenced Libraries node and click the + icon.\r\n\r\nReference https://github.com/microsoft/vscode-java-pack/blob/master/release-notes/v0.9.0.md#work-with-jar-files-directly\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6s2Va.png","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<h1>Update for latest version</h1>\n\n<p>Pre-requisite: In VS Code you need to open the folder and not just file to include any jar file for compilation, running, debugging and testing</p>\n\n<p>VSCode works fine with maven or gradle, and if we are using any of those, we should use maven or gradle for dependency management.</p>\n\n<p>If you are not using any dependency management, then there are two options to add jar file</p>\n\n<h3>Option 1: Manually</h3>\n\n<p>Open .vscode/settings.json file (if not present, you can create one) and add required jar file there as shown below. In this case all the jar files present in lib directory will be included + I have added common-logging-1.1.1.jar which is located outside the project directory</p>\n\n<pre><code>{\n    \"java.project.referencedLibraries\": [\n        \"lib/**/*.jar\",\n        \"c:\\\\path\\\\to\\\\jarfile\\\\commons-logging-1.1.1.jar\"\n    ]\n}\n</code></pre>\n\n<h3>Option 2: Via User Interface</h3>\n\n<p>If Java Extension is enabled then on left panel there will be Java Dependencies.\nInside there you can click on <code>+</code> symbol to add customer jar files. With this method too, the <code>settings.json</code> file will be updated</p>\n\n<p><a href=\"https://i.stack.imgur.com/6s2Va.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6s2Va.png\" alt=\"Screenshot for Adding Java Dependency\"></a></p>\n\n<h1>Old Answer kept for reference...</h1>\n\n<p>VSCode works fine with maven or gradle. But without those, as far as I know they have not provided any direct way to add jar file in classpath.</p>\n\n<p>The workaround is to add the entry in <code>.classpath</code> file manually.</p>\n\n<p>For e.g. in below file I have added <code>common-logging-1.2.jar</code> located in <code>lib</code> directory manually by adding a line <code>&lt;classpathentry exported=\"true\" kind=\"lib\" path=\"lib/commons-logging-1.2.jar\"/&gt;</code></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n        &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8\"/&gt;\n        &lt;classpathentry kind=\"src\" path=\"src\"/&gt;\n        &lt;classpathentry kind=\"output\" path=\"bin\"/&gt;\n        &lt;classpathentry exported=\"true\" kind=\"lib\" path=\"lib/commons-logging-1.2.jar\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Finally VSCode team is working towards a better solution. This is still work in progress, but you can refer to this link for better aproach <a href=\"https://github.com/microsoft/vscode-java-pack/issues/94#issuecomment-573487982\" rel=\"noreferrer\">https://github.com/microsoft/vscode-java-pack/issues/94#issuecomment-573487982</a></p>\n\n<p><strong>Update April 2020</strong></p>\n\n<p>VSCode Extension update now supports this feature out of the box.\nNow VS Code Java lets you work with JAR files directly without any build tools. Go to JAVA DEPENDENCIES view, find the Referenced Libraries node and click the + icon.</p>\n\n<p>Reference <a href=\"https://github.com/microsoft/vscode-java-pack/blob/master/release-notes/v0.9.0.md#work-with-jar-files-directly\" rel=\"noreferrer\">https://github.com/microsoft/vscode-java-pack/blob/master/release-notes/v0.9.0.md#work-with-jar-files-directly</a></p>\n"},{"tags":[],"owner":{"account_id":11913298,"reputation":1863,"user_id":8717854,"display_name":"lazyTank"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1561005538,"creation_date":1561005538,"answer_id":56679082,"question_id":50232557,"body_markdown":"For adding external Jar files whithout maven or gradle .classpath file must be changed for the library.. example \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/log4j-1.2.6.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nBut one extension conflicts with vscode-java. \r\nhttps://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac\r\n.Disable it if you&#39;ve installed to suppress error if you find after changing .classpath file. You can check this issue-\r\nhttps://github.com/redhat-developer/vscode-java/issues/956\r\n\r\n","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>For adding external Jar files whithout maven or gradle .classpath file must be changed for the library.. example </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8\"/&gt;\n    &lt;classpathentry kind=\"src\" path=\"src\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"lib/log4j-1.2.6.jar\"/&gt;\n    &lt;classpathentry kind=\"output\" path=\"bin\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p>But one extension conflicts with vscode-java. \n<a href=\"https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac</a>\n.Disable it if you've installed to suppress error if you find after changing .classpath file. You can check this issue-\n<a href=\"https://github.com/redhat-developer/vscode-java/issues/956\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/956</a></p>\n"},{"tags":[],"owner":{"account_id":16996378,"reputation":622,"user_id":12294690,"display_name":"Nimr Sawafta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1572404811,"creation_date":1572402237,"answer_id":58617906,"question_id":50232557,"body_markdown":"It&#39;s so easy, anyway:\r\n\r\n0. Create project with java &lt;kbd&gt;ctrl+shift+p&lt;/kbd&gt;\r\n1. Add the jar file to your `.classpath`\r\n2. Add on the top of your project package [app]; the name of your package\r\n3. We are done, don&#39;t forget to refresh it.","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>It's so easy, anyway:</p>\n\n<ol>\n<li>Create project with java <kbd>ctrl+shift+p</kbd></li>\n<li>Add the jar file to your <code>.classpath</code></li>\n<li>Add on the top of your project package [app]; the name of your package</li>\n<li>We are done, don't forget to refresh it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6513969,"reputation":159,"user_id":6838782,"display_name":"Dortmunder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1578484527,"creation_date":1578484527,"answer_id":59645355,"question_id":50232557,"body_markdown":"I know this is pretty old, but it is still high up on Google results and many may find it.\r\nI just want to recommend the following guide to VSCode wich includes a small but sufficient part to including libraries:\r\n \r\nhttps://blog.usejournal.com/visual-studio-code-for-java-the-ultimate-guide-2019-8de7d2b59902\r\n\r\nthe answer is pretty simple:\r\n\r\n1. add the jar to a folder you prefer, e.g. a new directory &quot;lib&quot; in the project folder.\r\n2. add a line like: `&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/javaxt-cor.jar&quot;/&gt;`to your  `.classpath`.\r\n3. done. You can simply import it as you are used to.","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>I know this is pretty old, but it is still high up on Google results and many may find it.\nI just want to recommend the following guide to VSCode wich includes a small but sufficient part to including libraries:</p>\n\n<p><a href=\"https://blog.usejournal.com/visual-studio-code-for-java-the-ultimate-guide-2019-8de7d2b59902\" rel=\"noreferrer\">https://blog.usejournal.com/visual-studio-code-for-java-the-ultimate-guide-2019-8de7d2b59902</a></p>\n\n<p>the answer is pretty simple:</p>\n\n<ol>\n<li>add the jar to a folder you prefer, e.g. a new directory \"lib\" in the project folder.</li>\n<li>add a line like: <code>&lt;classpathentry kind=\"lib\" path=\"lib/javaxt-cor.jar\"/&gt;</code>to your  <code>.classpath</code>.</li>\n<li>done. You can simply import it as you are used to.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3681446,"reputation":534,"user_id":3066321,"display_name":"TimSmith-Aardwolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579175822,"creation_date":1579175822,"answer_id":59769204,"question_id":50232557,"body_markdown":"I&#39;m going to use the Apache Commons Codec http://commons.apache.org/proper/commons-codec/  as an example and start from scratch. I&#39;ve installed the Visual Studio Code Java Pack Installer https://code.visualstudio.com/docs/languages/java and got a new VSCode window.\r\n\r\n1. &lt;kbd&gt;Ctrl+Shift+P&lt;/kbd&gt; and type to select ``Java: Create Java Project``\r\n2. Choose a folder for your project and click ``Select the location``\r\n3. Give your project a name and press Enter\r\n4. Create folder in the project called lib and copy in the commons-codec-1.14 folder from the zip file. \r\n5. Open the .classpath file and add the following line inside the &lt;classpath&gt; node&lt;br&gt; ``&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/commons-codec-1.14/commons-codec-1.14.jar&quot;/&gt;``&lt;br&gt;  NB You *may* need to use the absolute address of the lib file. In my first go the above code worked fine. My demo project for this guide only worked with a full path eg &lt;br&gt; ``&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/Users/tim/Desktop/JavaExample/JavaExample/lib/commons-codec-1.14/commons-codec-1.14.jar&quot;/&gt;``\r\n6. Open the src\\App.java file and add the following line below the ``package app;`` line ``import org.apache.commons.codec.binary.Base64;``\r\n\r\nI was then able to run the following code in App.java\r\n\r\n    package app;\r\n    import org.apache.commons.codec.binary.Base64;\r\n\r\n\r\n    public class App {\r\n        public static void main(String[] args) throws Exception {\r\n            String message = &quot;Hello World&quot;;\r\n            System.out.println(message);\r\n            String encodedMessage = Base64.encodeBase64String(message.getBytes());\r\n            System.out.println(encodedMessage);\r\n\r\n        }\r\n    }\r\n\r\nTo produce\r\n\r\n    Hello World\r\n    SGVsbG8gV29ybGQ=","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>I'm going to use the Apache Commons Codec <a href=\"http://commons.apache.org/proper/commons-codec/\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-codec/</a>  as an example and start from scratch. I've installed the Visual Studio Code Java Pack Installer <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/java</a> and got a new VSCode window.</p>\n\n<ol>\n<li><kbd>Ctrl+Shift+P</kbd> and type to select <code>Java: Create Java Project</code></li>\n<li>Choose a folder for your project and click <code>Select the location</code></li>\n<li>Give your project a name and press Enter</li>\n<li>Create folder in the project called lib and copy in the commons-codec-1.14 folder from the zip file. </li>\n<li>Open the .classpath file and add the following line inside the  node<br> <code>&lt;classpathentry kind=\"lib\" path=\"lib/commons-codec-1.14/commons-codec-1.14.jar\"/&gt;</code><br>  NB You <em>may</em> need to use the absolute address of the lib file. In my first go the above code worked fine. My demo project for this guide only worked with a full path eg <br> <code>&lt;classpathentry kind=\"lib\" path=\"C:/Users/tim/Desktop/JavaExample/JavaExample/lib/commons-codec-1.14/commons-codec-1.14.jar\"/&gt;</code></li>\n<li>Open the src\\App.java file and add the following line below the <code>package app;</code> line <code>import org.apache.commons.codec.binary.Base64;</code></li>\n</ol>\n\n<p>I was then able to run the following code in App.java</p>\n\n<pre><code>package app;\nimport org.apache.commons.codec.binary.Base64;\n\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        String message = \"Hello World\";\n        System.out.println(message);\n        String encodedMessage = Base64.encodeBase64String(message.getBytes());\n        System.out.println(encodedMessage);\n\n    }\n}\n</code></pre>\n\n<p>To produce</p>\n\n<pre><code>Hello World\nSGVsbG8gV29ybGQ=\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12123394,"reputation":197,"user_id":8853705,"display_name":"Abhay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597895097,"creation_date":1589810279,"answer_id":61871249,"question_id":50232557,"body_markdown":"You must have the **Java Dependency Viewer** extension installed which helps import the jar files and add them to the project&#39;s classpath ***OR*** add the libraries to the &quot;***.classpath***&quot; file manually by using  `&lt;classpathentry kind=&quot;lib&quot; path=&quot;manual\\path\\entry\\jarfile.jar&quot;/&gt;` tags within `&lt;classpath&gt;&lt;/classpath&gt;` tags for each jar file.  \r\n\r\nFirst what you want to do is know how to create a proper Java &quot;project&quot; in VS Code.\r\n    \r\nTo do that:  \r\n\r\n1. Have a folder opened in VSCode  \r\n2. Press &lt;kbd&gt;Ctrl+Shift+P&lt;/kbd&gt; to open the **Command Palette**  \r\n3. Type in `Java: Create New Project`  \r\n4. Follow the steps according to your requirements and provide the project name    \r\n\r\nThen : Expand the **Java Dependencies** section in your Explorer Panel then Expand your &quot;project name&quot;.  \r\n\r\n1. When you hover over &quot;**Referenced Libraries**&quot; you will see the &quot;**+**&quot; sign. Click it.  \r\n2. It will open the explorer. Use it to select all your jar files and click &quot;**Select Jar Files**&quot; button. \r\n\r\nThat&#39;s it!!!!\r\n  \r\nBy the way you can see all of this in detail at \r\nhttps://code.visualstudio.com/docs/java/java-project#_working-with-jar-files , it has a clear visual representation of everything related.  \r\n\r\nHappy Coding!!!   ","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>You must have the <strong>Java Dependency Viewer</strong> extension installed which helps import the jar files and add them to the project's classpath <em><strong>OR</strong></em> add the libraries to the &quot;<em><strong>.classpath</strong></em>&quot; file manually by using  <code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;manual\\path\\entry\\jarfile.jar&quot;/&gt;</code> tags within <code>&lt;classpath&gt;&lt;/classpath&gt;</code> tags for each jar file.</p>\n<p>First what you want to do is know how to create a proper Java &quot;project&quot; in VS Code.</p>\n<p>To do that:</p>\n<ol>\n<li>Have a folder opened in VSCode</li>\n<li>Press <kbd>Ctrl+Shift+P</kbd> to open the <strong>Command Palette</strong></li>\n<li>Type in <code>Java: Create New Project</code></li>\n<li>Follow the steps according to your requirements and provide the project name</li>\n</ol>\n<p>Then : Expand the <strong>Java Dependencies</strong> section in your Explorer Panel then Expand your &quot;project name&quot;.</p>\n<ol>\n<li>When you hover over &quot;<strong>Referenced Libraries</strong>&quot; you will see the &quot;<strong>+</strong>&quot; sign. Click it.</li>\n<li>It will open the explorer. Use it to select all your jar files and click &quot;<strong>Select Jar Files</strong>&quot; button.</li>\n</ol>\n<p>That's it!!!!</p>\n<p>By the way you can see all of this in detail at\n<a href=\"https://code.visualstudio.com/docs/java/java-project#_working-with-jar-files\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_working-with-jar-files</a> , it has a clear visual representation of everything related.</p>\n<p>Happy Coding!!!</p>\n"},{"tags":[],"owner":{"account_id":8224232,"reputation":31,"user_id":6186987,"display_name":"BlueMoonWolf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598769223,"creation_date":1598767657,"answer_id":63654494,"question_id":50232557,"body_markdown":"import external jar file into java project,now in vscode 1.48.2 is work well,follow the reference below:\r\nhttps://code.visualstudio.com/docs/java/java-project#_working-with-jar-files\r\n\r\nwhat I want to said is, if your external jar path has Chinese characters，even if put the jar files into lib directory under project root directory and the project path has chinese characters,when you debug or run,it will report an error message like this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils\r\n\r\n\r\nI had not idea whether this problem  appear in other language characters.be careful.","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>import external jar file into java project,now in vscode 1.48.2 is work well,follow the reference below:\n<a href=\"https://code.visualstudio.com/docs/java/java-project#_working-with-jar-files\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_working-with-jar-files</a></p>\n<p>what I want to said is, if your external jar path has Chinese characters，even if put the jar files into lib directory under project root directory and the project path has chinese characters,when you debug or run,it will report an error message like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils\n</code></pre>\n<p>I had not idea whether this problem  appear in other language characters.be careful.</p>\n"},{"tags":[],"owner":{"account_id":1890249,"reputation":1366,"user_id":1708543,"accept_rate":50,"display_name":"JimmyJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657309700,"creation_date":1657309700,"answer_id":72916332,"question_id":50232557,"body_markdown":"I didn&#39;t read every answer here but none of them seem to  align with the interface I am seeing.  I poked around and noticed that at the bottom of the left hand pane underneath &#39;OUTLINE&#39; and &#39;TIMELINE&#39;, there was a &#39;JAVA PROJECTS&#39; accordion menu.  When I hover over it, there&#39;s an ellipses which, when clicked, brings up a menu containing the option: &#39;Configure Classpath&#39;.  Selecting that brings up a Window and the last section is &#39;Refenced Libraries&#39; where you can add jars from your filesystem.","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>I didn't read every answer here but none of them seem to  align with the interface I am seeing.  I poked around and noticed that at the bottom of the left hand pane underneath 'OUTLINE' and 'TIMELINE', there was a 'JAVA PROJECTS' accordion menu.  When I hover over it, there's an ellipses which, when clicked, brings up a menu containing the option: 'Configure Classpath'.  Selecting that brings up a Window and the last section is 'Refenced Libraries' where you can add jars from your filesystem.</p>\n"},{"tags":[],"owner":{"account_id":19044543,"reputation":6383,"user_id":13903942,"display_name":"Federico Ba&#249;"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1659810891,"creation_date":1659810891,"answer_id":73262371,"question_id":50232557,"body_markdown":"# Follow these steps in `vscode`(2022) \r\n\r\n### Make sure *Extension Pack for Java* is installed\r\n\r\n\r\nInstall [Extension Pack for Java][1], you may need to restart the vscode. \r\n\r\n### Project Structure \r\n\r\nCreate the **following**\r\n\r\n```\r\n.vscode/\r\n | -- settings.json\r\nbin/\r\nlib/ &lt;-- Add here all the .jar files \r\nsrc/ &lt;-- Add here you java source code\r\n\r\n```\r\nSo that the project structure should look like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\n### Add settings to `settings.json`\r\n\r\n```\r\n{\r\n    &quot;java.project.sourcePaths&quot;: [\r\n        &quot;src&quot;\r\n    ],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n    ]\r\n}\r\n\r\n```\r\n\r\n* {\r\n    &quot;java.project.sourcePaths&quot;: [\r\n        &quot;src&quot;\r\n    ],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n    ]\r\n}\r\n\r\n* **java.project.sourcePaths**: Path of your java source code\r\n* **java.project.outputPath** Binary output\r\n* **java.project.referencedLibraries**: The `.jar` files\r\n\r\nNow, restart `vscode` and also if you still have error you many need to **[Clear file content cache in Visual Studio Code][3]**\r\n\r\n\r\nAlso you should see now the library in the **Referenced Libraries list**. *(Note: this may be updated in future vscode version, like name, position and so on)*\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://i.stack.imgur.com/Myc0J.png\r\n  [3]: https://stackoverflow.com/a/46102591/13903942\r\n  [4]: https://i.stack.imgur.com/jZrXw.png","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<h1>Follow these steps in <code>vscode</code>(2022)</h1>\n<h3>Make sure <em>Extension Pack for Java</em> is installed</h3>\n<p>Install <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"noreferrer\">Extension Pack for Java</a>, you may need to restart the vscode.</p>\n<h3>Project Structure</h3>\n<p>Create the <strong>following</strong></p>\n<pre><code>.vscode/\n | -- settings.json\nbin/\nlib/ &lt;-- Add here all the .jar files \nsrc/ &lt;-- Add here you java source code\n\n</code></pre>\n<p>So that the project structure should look like this</p>\n<p><a href=\"https://i.stack.imgur.com/Myc0J.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Myc0J.png\" alt=\"enter image description here\" /></a></p>\n<h3>Add settings to <code>settings.json</code></h3>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [\n        &quot;src&quot;\n    ],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;,\n    ]\n}\n\n</code></pre>\n<ul>\n<li><p>{\n&quot;java.project.sourcePaths&quot;: [\n&quot;src&quot;\n],\n&quot;java.project.outputPath&quot;: &quot;bin&quot;,\n&quot;java.project.referencedLibraries&quot;: [\n&quot;lib/**/*.jar&quot;,\n]\n}</p>\n</li>\n<li><p><strong>java.project.sourcePaths</strong>: Path of your java source code</p>\n</li>\n<li><p><strong>java.project.outputPath</strong> Binary output</p>\n</li>\n<li><p><strong>java.project.referencedLibraries</strong>: The <code>.jar</code> files</p>\n</li>\n</ul>\n<p>Now, restart <code>vscode</code> and also if you still have error you many need to <strong><a href=\"https://stackoverflow.com/a/46102591/13903942\">Clear file content cache in Visual Studio Code</a></strong></p>\n<p>Also you should see now the library in the <strong>Referenced Libraries list</strong>. <em>(Note: this may be updated in future vscode version, like name, position and so on)</em></p>\n<p><a href=\"https://i.stack.imgur.com/jZrXw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jZrXw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13526420,"reputation":771,"user_id":9758110,"display_name":"gqp21"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189248,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":10,"score":77,"last_activity_date":1659810940,"creation_date":1525779035,"question_id":50232557,"body_markdown":"In Eclipse IDE, I add a JAR library using \r\n\r\n&gt; Project &gt; Build Path &gt; Configure Build Path...\r\n\r\n**What is the equivalent in VisualStudioCode?**\r\n\r\nI had a look into `launch.json`. There is a classpath defined. Adding JARs to this classpath (array) variable seems to have no effect. \r\n\r\nEssentially, this is a duplicate question of \r\nhttps://stackoverflow.com/questions/45282178/visual-studio-java-language-support-add-jar.  \r\nBut that question is unanswered. \r\n\r\nThis is such an extremely basic question, that I really don&#39;t understand not to find a solution for it in Microsoft&#39;s documentation or via Google search.","title":"Visual Studio Code, Java Extension, how to add a JAR to classpath?","body":"<p>In Eclipse IDE, I add a JAR library using</p>\n<blockquote>\n<p>Project &gt; Build Path &gt; Configure Build Path...</p>\n</blockquote>\n<p><strong>What is the equivalent in VisualStudioCode?</strong></p>\n<p>I had a look into <code>launch.json</code>. There is a classpath defined. Adding JARs to this classpath (array) variable seems to have no effect.</p>\n<p>Essentially, this is a duplicate question of\n<a href=\"https://stackoverflow.com/questions/45282178/visual-studio-java-language-support-add-jar\">Visual Studio Java Language Support add jar</a>.<br />\nBut that question is unanswered.</p>\n<p>This is such an extremely basic question, that I really don't understand not to find a solution for it in Microsoft's documentation or via Google search.</p>\n"},{"tags":["java","firebase","spring-boot","gradle","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659810495,"creation_date":1659810495,"answer_id":73262335,"question_id":73261553,"body_markdown":"The `createUserWithEmailAndPassword` method only exists in the client-side SDKs of Firebase, such as those for use in Web and Android apps.\r\n\r\nYou are using the Admin SDK for Java, which is made for using in server-side code such as yours. The Admin SDKs do not have a `createUserWithEmailAndPassword`, but you can [create a user](https://firebase.google.com/docs/auth/admin/manage-users#create_a_user) by calling `createUser` as shown in the link.","title":"Using the createUserWithEmailAndPassword method","body":"<p>The <code>createUserWithEmailAndPassword</code> method only exists in the client-side SDKs of Firebase, such as those for use in Web and Android apps.</p>\n<p>You are using the Admin SDK for Java, which is made for using in server-side code such as yours. The Admin SDKs do not have a <code>createUserWithEmailAndPassword</code>, but you can <a href=\"https://firebase.google.com/docs/auth/admin/manage-users#create_a_user\" rel=\"nofollow noreferrer\">create a user</a> by calling <code>createUser</code> as shown in the link.</p>\n"}],"owner":{"account_id":22648249,"reputation":145,"user_id":16823308,"display_name":"Itamarled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73262335,"answer_count":1,"score":0,"last_activity_date":1659810495,"creation_date":1659803829,"question_id":73261553,"body_markdown":"I&#39;m trying to create a web app using java and spring-boot as the backend.\r\nI want to use the createUserWithEmailAndPassword method of FirebaseAuth in order to create a new user in my firebase database.\r\n\r\nThis is init of the FirebaseAuth object:\r\n```\r\nprivate final FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n```\r\nI&#39;m trying to access createUserWithEmailAndPassword from the mAuth object but it does not recognize the method, it can only find:\r\n\r\n`mAuth.createUser(CreateRequest request);`\r\nor\r\n`mAuth.createUserAsync(CreateRequest request);`\r\n\r\nThe project is build with gradle:\r\n```\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;com.google.firebase:firebase-admin:9.0.0&#39;\r\n}\r\n```\r\n\r\nwhat am I missing?\r\n\r\n\r\n","title":"Using the createUserWithEmailAndPassword method","body":"<p>I'm trying to create a web app using java and spring-boot as the backend.\nI want to use the createUserWithEmailAndPassword method of FirebaseAuth in order to create a new user in my firebase database.</p>\n<p>This is init of the FirebaseAuth object:</p>\n<pre><code>private final FirebaseAuth mAuth = FirebaseAuth.getInstance();\n</code></pre>\n<p>I'm trying to access createUserWithEmailAndPassword from the mAuth object but it does not recognize the method, it can only find:</p>\n<p><code>mAuth.createUser(CreateRequest request);</code>\nor\n<code>mAuth.createUserAsync(CreateRequest request);</code></p>\n<p>The project is build with gradle:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'com.google.firebase:firebase-admin:9.0.0'\n}\n</code></pre>\n<p>what am I missing?</p>\n"},{"tags":["java","docker","vue.js","docker-compose","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":14251238,"reputation":380,"user_id":10294811,"display_name":"coedycode"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585820587,"creation_date":1585820587,"answer_id":60988610,"question_id":60986908,"body_markdown":"It&#39;s not really a docker configuration problem, it&#39;s a CORS issue.  When the browser makes an HTTP request from http://localhost to http://backend that&#39;s a Cross Origin Request, and the backend isn&#39;t allowing it. The ping to backend works because pings are not affected by CORS.\r\n\r\nIn a development situation, the webserver in the backend container could be configured to allow CORS from localhost, in production I&#39;m not sure how you&#39;d go about setting it up securely to allow CORS, maybe use an api subdomain network alias for the backend and allow requests from the main domain&#39;s network alias?","title":"Web container cannot call backend container from docker compose","body":"<p>It's not really a docker configuration problem, it's a CORS issue.  When the browser makes an HTTP request from <a href=\"http://localhost\" rel=\"nofollow noreferrer\">http://localhost</a> to <a href=\"http://backend\" rel=\"nofollow noreferrer\">http://backend</a> that's a Cross Origin Request, and the backend isn't allowing it. The ping to backend works because pings are not affected by CORS.</p>\n\n<p>In a development situation, the webserver in the backend container could be configured to allow CORS from localhost, in production I'm not sure how you'd go about setting it up securely to allow CORS, maybe use an api subdomain network alias for the backend and allow requests from the main domain's network alias?</p>\n"},{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1585825720,"creation_date":1585825720,"answer_id":60990164,"question_id":60986908,"body_markdown":"The important thing for this setup is that your actual front-end code is not running in Docker, it&#39;s running in your browser.  That means it has no idea about Docker networking, containers, or anything else; the URL you give it has to be one that reaches a published port on your host.  That&#39;s why `localhost` works here (if the browser and containers are running on the same host) but `backend` doesn&#39;t.\r\n\r\nA typical approach to this is to set up some sort of reverse proxy that can both host the front-end application code and proxy to the back-end application.  (For example, set up Nginx where its `/api` route `proxy_pass http://backend:8098`, and its `/` route either `try_files` a prebuilt Javascript application or `proxy_pass http://frontend:8080`.)\r\n\r\nIf you do this, then _e.g._ `http://localhost:8900` is the front-end and `http://localhost:8900/api` is the back-end, from the browser&#39;s point of view.  This avoids the CORS issues @coedycode hints at in [their answer](https://stackoverflow.com/a/60988610/10008173); but it also means that the front-end code can use a relative URL `/api` (with no host name) and dodge this whole problem.\r\n\r\n    +-------------+                  | Docker &gt;           /     +----------+\r\n    +-------------+                  |                 /------&gt; | frontend |\r\n    |             |  localhost:8900  |    +-------+    |        +----------+\r\n    |   Browser   | ---------------&gt; | -&gt; | nginx | -&gt; +\r\n    |             |                  |    +-------+    | /api   +----------+\r\n    |             |                  |                 \\------&gt; | backend  |\r\n    +-------------+                  |                          +----------+","title":"Web container cannot call backend container from docker compose","body":"<p>The important thing for this setup is that your actual front-end code is not running in Docker, it's running in your browser.  That means it has no idea about Docker networking, containers, or anything else; the URL you give it has to be one that reaches a published port on your host.  That's why <code>localhost</code> works here (if the browser and containers are running on the same host) but <code>backend</code> doesn't.</p>\n\n<p>A typical approach to this is to set up some sort of reverse proxy that can both host the front-end application code and proxy to the back-end application.  (For example, set up Nginx where its <code>/api</code> route <code>proxy_pass http://backend:8098</code>, and its <code>/</code> route either <code>try_files</code> a prebuilt Javascript application or <code>proxy_pass http://frontend:8080</code>.)</p>\n\n<p>If you do this, then <em>e.g.</em> <code>http://localhost:8900</code> is the front-end and <code>http://localhost:8900/api</code> is the back-end, from the browser's point of view.  This avoids the CORS issues @coedycode hints at in <a href=\"https://stackoverflow.com/a/60988610/10008173\">their answer</a>; but it also means that the front-end code can use a relative URL <code>/api</code> (with no host name) and dodge this whole problem.</p>\n\n<pre><code>+-------------+                  | Docker &gt;           /     +----------+\n+-------------+                  |                 /------&gt; | frontend |\n|             |  localhost:8900  |    +-------+    |        +----------+\n|   Browser   | ---------------&gt; | -&gt; | nginx | -&gt; +\n|             |                  |    +-------+    | /api   +----------+\n|             |                  |                 \\------&gt; | backend  |\n+-------------+                  |                          +----------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20152187,"reputation":1,"user_id":14779252,"display_name":"Med"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659810163,"creation_date":1659810163,"answer_id":73262303,"question_id":60986908,"body_markdown":"As @coedycode said in a small but precise paragraph it is the backend&#39;s issue and you need to specify to accept requests from a special [network:port].\r\nYou can annotate in your controller class as bellow to fix the problem. \r\n\r\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)","title":"Web container cannot call backend container from docker compose","body":"<p>As @coedycode said in a small but precise paragraph it is the backend's issue and you need to specify to accept requests from a special [network:port].\nYou can annotate in your controller class as bellow to fix the problem.</p>\n<pre><code>@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n</code></pre>\n"}],"owner":{"account_id":2275402,"reputation":1030,"user_id":2001810,"accept_rate":50,"display_name":"Tahniat Ashraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4176,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60990164,"answer_count":3,"score":3,"last_activity_date":1659810163,"creation_date":1585814862,"question_id":60986908,"body_markdown":"I am still finding my feet in the docker world. I am trying to dockerize my small pet project. The frontend is a vue-cli app which communicates with backend containing restful APIs made by spring boot. \r\n\r\nSo my approach was to declare two separate dockerfile for backend and frontend and combine them via one docker compose file. So the folder structure is -\r\n\r\n    backend/\r\n           - Dockerfile\r\n    frontend/\r\n           - Dockerfile\r\n    docker-compose.yml\r\n\r\nAs frontend needs to be able to call backend services, I created a bridge network and shared the network between them. This is my docker compose file -\r\n\r\n    version: &quot;2&quot;\r\n    services:\r\n      backend:\r\n        build: backend/.\r\n        networks:\r\n          - movie-network\r\n        ports:\r\n          - &quot;8098:8098&quot;\r\n      frontend:\r\n        build: frontend/.\r\n        ports:\r\n          - &quot;8812:8080&quot;\r\n        networks:\r\n          - movie-network\r\n    \r\n    networks:\r\n      movie-network:\r\n        driver: bridge\r\n\r\nI have an endpoint exposed at backend called `/api/findAll`. Now if the frontend service calls the API via `http://localhost:8098:/api/findAll` (host network), I can view it from my browser (http://localhost:8812), everything works fine.\r\n\r\nBut If frontend calls the same API using `backend:8098/api/findAll`; utilizing bridge network - it gives error in my browser -\r\n\r\n[![error][1]][1]\r\n\r\nIf I do a `docker exec` in the frontend and ping backend, the ping is successful\r\n\r\n\r\nSo, why is it giving error in my browser (http://localhost:8812)? Am I conceptually doing anything wrong? Seeking suggestions.\r\n\r\nFrontend Dockerfile -\r\n\r\n    FROM node:lts-alpine\r\n    \r\n    # install simple http server for serving static content\r\n    RUN npm install -g http-server\r\n    \r\n    # make the &#39;app&#39; folder the current working directory\r\n    WORKDIR /app\r\n    \r\n    # copy both &#39;package.json&#39; and &#39;package-lock.json&#39; (if available)\r\n    COPY package*.json ./\r\n    \r\n    # install project dependencies\r\n    RUN npm install\r\n    \r\n    # copy project files and folders to the current working directory (i.e. &#39;app&#39; folder)\r\n    COPY . .\r\n    \r\n    # build app for production with minification\r\n    RUN npm run build\r\n    \r\n    EXPOSE 8080\r\n\r\nBackend Dockerfile -\r\n\r\n    FROM openjdk:11-jre-slim\r\n    # Creating app directory\r\n    WORKDIR /usr/src/movies\r\n    # Copying Jar (didn&#39;t use FROM maven to save some time)\r\n    COPY target/movies*.jar movies.jar\r\n    \r\n    RUN pwd\r\n    \r\n    RUN ls -la\r\n    # Exposing Port\r\n    EXPOSE 8098\r\n    # Running App\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/src/movies/movies.jar&quot;]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7XFjz.png","title":"Web container cannot call backend container from docker compose","body":"<p>I am still finding my feet in the docker world. I am trying to dockerize my small pet project. The frontend is a vue-cli app which communicates with backend containing restful APIs made by spring boot. </p>\n\n<p>So my approach was to declare two separate dockerfile for backend and frontend and combine them via one docker compose file. So the folder structure is -</p>\n\n<pre><code>backend/\n       - Dockerfile\nfrontend/\n       - Dockerfile\ndocker-compose.yml\n</code></pre>\n\n<p>As frontend needs to be able to call backend services, I created a bridge network and shared the network between them. This is my docker compose file -</p>\n\n<pre><code>version: \"2\"\nservices:\n  backend:\n    build: backend/.\n    networks:\n      - movie-network\n    ports:\n      - \"8098:8098\"\n  frontend:\n    build: frontend/.\n    ports:\n      - \"8812:8080\"\n    networks:\n      - movie-network\n\nnetworks:\n  movie-network:\n    driver: bridge\n</code></pre>\n\n<p>I have an endpoint exposed at backend called <code>/api/findAll</code>. Now if the frontend service calls the API via <code>http://localhost:8098:/api/findAll</code> (host network), I can view it from my browser (<a href=\"http://localhost:8812\" rel=\"nofollow noreferrer\">http://localhost:8812</a>), everything works fine.</p>\n\n<p>But If frontend calls the same API using <code>backend:8098/api/findAll</code>; utilizing bridge network - it gives error in my browser -</p>\n\n<p><a href=\"https://i.stack.imgur.com/7XFjz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7XFjz.png\" alt=\"error\"></a></p>\n\n<p>If I do a <code>docker exec</code> in the frontend and ping backend, the ping is successful</p>\n\n<p>So, why is it giving error in my browser (<a href=\"http://localhost:8812\" rel=\"nofollow noreferrer\">http://localhost:8812</a>)? Am I conceptually doing anything wrong? Seeking suggestions.</p>\n\n<p>Frontend Dockerfile -</p>\n\n<pre><code>FROM node:lts-alpine\n\n# install simple http server for serving static content\nRUN npm install -g http-server\n\n# make the 'app' folder the current working directory\nWORKDIR /app\n\n# copy both 'package.json' and 'package-lock.json' (if available)\nCOPY package*.json ./\n\n# install project dependencies\nRUN npm install\n\n# copy project files and folders to the current working directory (i.e. 'app' folder)\nCOPY . .\n\n# build app for production with minification\nRUN npm run build\n\nEXPOSE 8080\n</code></pre>\n\n<p>Backend Dockerfile -</p>\n\n<pre><code>FROM openjdk:11-jre-slim\n# Creating app directory\nWORKDIR /usr/src/movies\n# Copying Jar (didn't use FROM maven to save some time)\nCOPY target/movies*.jar movies.jar\n\nRUN pwd\n\nRUN ls -la\n# Exposing Port\nEXPOSE 8098\n# Running App\nENTRYPOINT [\"java\",\"-jar\",\"/usr/src/movies/movies.jar\"]\n</code></pre>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1659711330,"post_id":73251632,"comment_id":129366822,"body_markdown":"You can get a `List&lt;String&gt; lines = Files.readAllLines(Path)`, but the downside is this method does not stream, it loads everything into your RAM, which makes is unusable for very large files. As far as I know, the lines are then ordered, first line is the first entry in the resulting list.","body":"You can get a <code>List&lt;String&gt; lines = Files.readAllLines(Path)</code>, but the downside is this method does not stream, it loads everything into your RAM, which makes is unusable for very large files. As far as I know, the lines are then ordered, first line is the first entry in the resulting list."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1659725055,"post_id":73251632,"comment_id":129371028,"body_markdown":"Your code doesn&#39;t reflect what you are saying. Can you show how you would do it with the `while` approach?","body":"Your code doesn&#39;t reflect what you are saying. Can you show how you would do it with the <code>while</code> approach?"},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1659808777,"post_id":73251632,"comment_id":129385087,"body_markdown":"@magicmn I accidentally described a different but similar loop. Fixed now.","body":"@magicmn I accidentally described a different but similar loop. Fixed now."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659711792,"creation_date":1659711397,"answer_id":73251694,"question_id":73251632,"body_markdown":"Given that the lines are being read from a file, I can&#39;t see why they wouldn&#39;t be in file order - it would take more storage to do anything other than read the current line, then read the next line etc.\r\n\r\nIrrespective, don&#39;t do it like this: you are going against [what it says in the documentation about the predicate of `Stream.allMatch`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#allMatch(java.util.function.Predicate)):\r\n\r\n&gt; `predicate` - a non-interfering, stateless predicate to apply to elements of this stream\r\n\r\nYour predicate is not stateless. You shouldn&#39;t do this in `allMatch`.\r\n\r\nStick with `BufferedReader`.","title":"Is Files.lines().allMatch() ordered?","body":"<p>Given that the lines are being read from a file, I can't see why they wouldn't be in file order - it would take more storage to do anything other than read the current line, then read the next line etc.</p>\n<p>Irrespective, don't do it like this: you are going against <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#allMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">what it says in the documentation about the predicate of <code>Stream.allMatch</code></a>:</p>\n<blockquote>\n<p><code>predicate</code> - a non-interfering, stateless predicate to apply to elements of this stream</p>\n</blockquote>\n<p>Your predicate is not stateless. You shouldn't do this in <code>allMatch</code>.</p>\n<p>Stick with <code>BufferedReader</code>.</p>\n"}],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73251694,"answer_count":1,"score":0,"last_activity_date":1659808711,"creation_date":1659711113,"question_id":73251632,"body_markdown":"I&#39;m trying to get away from `while ((line = br.readLine()) != null)`, but the limitations of streams are proving to be hard to overcome in an elegant way in this case. I want the first line which matches a certain criterion and the last two lines before this which matches two different criteria. This seems to be the best I can do, but it only works if lines are encountered in the right order so it doesn&#39;t terminate early. So are they? It&#39;s hard to tell from the documentation.\r\n\r\n```\r\nString[] savedLines = { &quot;&quot;, &quot;&quot;, &quot;&quot; };\r\ntry (Stream&lt;String&gt; lines = Files.lines(file)) {\r\n    lines.allMatch(line -&gt; {\r\n        if (line.startsWith(s1)) {\r\n            savedLines[0] = line;\r\n        else if (line.startsWith(s2) &amp;&amp; line.contains(s3)) {\r\n            savedLines[1] = line;\r\n        } else if (line.startsWith(s4)) {\r\n            savedLines[2] = line;\r\n            return false;\r\n        }\r\n        return true;\r\n    });\r\n}\r\n\r\n```","title":"Is Files.lines().allMatch() ordered?","body":"<p>I'm trying to get away from <code>while ((line = br.readLine()) != null)</code>, but the limitations of streams are proving to be hard to overcome in an elegant way in this case. I want the first line which matches a certain criterion and the last two lines before this which matches two different criteria. This seems to be the best I can do, but it only works if lines are encountered in the right order so it doesn't terminate early. So are they? It's hard to tell from the documentation.</p>\n<pre><code>String[] savedLines = { &quot;&quot;, &quot;&quot;, &quot;&quot; };\ntry (Stream&lt;String&gt; lines = Files.lines(file)) {\n    lines.allMatch(line -&gt; {\n        if (line.startsWith(s1)) {\n            savedLines[0] = line;\n        else if (line.startsWith(s2) &amp;&amp; line.contains(s3)) {\n            savedLines[1] = line;\n        } else if (line.startsWith(s4)) {\n            savedLines[2] = line;\n            return false;\n        }\n        return true;\n    });\n}\n\n</code></pre>\n"},{"tags":["java","xml","spring","spring-boot","java-ee-6"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1629286226,"post_id":68831324,"comment_id":121645223,"body_markdown":"You are already reading it. What do you think `zis.read` does?","body":"You are already reading it. What do you think <code>zis.read</code> does?"},{"owner":{"account_id":22426433,"reputation":341,"user_id":16632970,"display_name":"Amara"},"score":0,"creation_date":1629286629,"post_id":68831324,"comment_id":121645377,"body_markdown":"it&#39;s getting extracted in file how can do it without making a new file,","body":"it&#39;s getting extracted in file how can do it without making a new file,"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1629286717,"post_id":68831324,"comment_id":121645401,"body_markdown":"Read your code. You are already reading it, and then writing to a file. Just don&#39;t write to a file, read it put it in a `String` (apparently you don&#39;t want to parse it).","body":"Read your code. You are already reading it, and then writing to a file. Just don&#39;t write to a file, read it put it in a <code>String</code> (apparently you don&#39;t want to parse it)."},{"owner":{"account_id":22426433,"reputation":341,"user_id":16632970,"display_name":"Amara"},"score":0,"creation_date":1629287668,"post_id":68831324,"comment_id":121645760,"body_markdown":"@M.Deinum I am new to java and unaware of many basic concepts could you please let me know how can I store that data in a String?","body":"@M.Deinum I am new to java and unaware of many basic concepts could you please let me know how can I store that data in a String?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1629288164,"post_id":68831324,"comment_id":121645960,"body_markdown":"As you are, judging from the tags, using Spring. Just use the `StreamUtils.copyToString` method. Which will read the content to a `String`.","body":"As you are, judging from the tags, using Spring. Just use the <code>StreamUtils.copyToString</code> method. Which will read the content to a <code>String</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1629289105,"post_id":68831324,"comment_id":121646357,"body_markdown":"`org.xml.sax.InputSource source = new org.xml.sax.InputSource(zis);` if using sax","body":"<code>org.xml.sax.InputSource source = new org.xml.sax.InputSource(zis);</code> if using sax"}],"owner":{"account_id":22426433,"reputation":341,"user_id":16632970,"display_name":"Amara"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659808248,"creation_date":1629285284,"question_id":68831324,"body_markdown":"I want to unzip and read the xml file data without actually unzipping or extracting the zip file in my project folder. How can I do this.\r\n\r\nI have written code to unzip a file and make directory but I don&#39;t know how to do it without actually extracting.\r\nMy code - \r\n\r\n    public class ZipFile {\r\n        public static void main(String[] args) throws IOException {\r\n            String zipFileName = &quot;people.zip&quot;;\r\n            String destDirectory = &quot;src/main/xmlfiles&quot;;\r\n            File destDirectoryFolder = new File(destDirectory);\r\n            if(!destDirectoryFolder.exists()){\r\n                destDirectoryFolder.mkdir();\r\n            }\r\n            byte[] buffer = new byte[1024];\r\n            ZipInputStream zis = new ZipInputStream(new FileInputStream(zipFileName));\r\n            ZipEntry zipEntry = zis.getNextEntry();\r\n            while (zipEntry != null){\r\n                String filePath = destDirectory + File.separator + zipEntry.getName();\r\n                System.out.println(&quot;unzipping &quot;+ filePath);\r\n                if(!zipEntry.isDirectory()){\r\n                    FileOutputStream fos = new FileOutputStream(filePath);\r\n                    int len ;\r\n                    while((len = zis.read(buffer)) &gt; 0){\r\n                        fos.write(buffer, 0 ,len);\r\n                    }\r\n                    fos.close();\r\n                }\r\n                else{\r\n                    File dir = new File(filePath);\r\n                    dir.mkdir();\r\n                }\r\n                zis.closeEntry();\r\n                zipEntry = zis.getNextEntry();\r\n            }\r\n            zis.closeEntry();\r\n            zis.close();\r\n            System.out.println(&quot;Unzip complete&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nI also want to read the xml file, without parser I just want to read it like normal xml file. Anyone can please give me any idea how to do it what should I need to learn! Thanks ","title":"How to read XML from Zip without extracting the zip in the directory","body":"<p>I want to unzip and read the xml file data without actually unzipping or extracting the zip file in my project folder. How can I do this.</p>\n<p>I have written code to unzip a file and make directory but I don't know how to do it without actually extracting.\nMy code -</p>\n<pre><code>public class ZipFile {\n    public static void main(String[] args) throws IOException {\n        String zipFileName = &quot;people.zip&quot;;\n        String destDirectory = &quot;src/main/xmlfiles&quot;;\n        File destDirectoryFolder = new File(destDirectory);\n        if(!destDirectoryFolder.exists()){\n            destDirectoryFolder.mkdir();\n        }\n        byte[] buffer = new byte[1024];\n        ZipInputStream zis = new ZipInputStream(new FileInputStream(zipFileName));\n        ZipEntry zipEntry = zis.getNextEntry();\n        while (zipEntry != null){\n            String filePath = destDirectory + File.separator + zipEntry.getName();\n            System.out.println(&quot;unzipping &quot;+ filePath);\n            if(!zipEntry.isDirectory()){\n                FileOutputStream fos = new FileOutputStream(filePath);\n                int len ;\n                while((len = zis.read(buffer)) &gt; 0){\n                    fos.write(buffer, 0 ,len);\n                }\n                fos.close();\n            }\n            else{\n                File dir = new File(filePath);\n                dir.mkdir();\n            }\n            zis.closeEntry();\n            zipEntry = zis.getNextEntry();\n        }\n        zis.closeEntry();\n        zis.close();\n        System.out.println(&quot;Unzip complete&quot;);\n\n    }\n}\n</code></pre>\n<p>I also want to read the xml file, without parser I just want to read it like normal xml file. Anyone can please give me any idea how to do it what should I need to learn! Thanks</p>\n"},{"tags":["java","linux","installation","fedora"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1659811035,"post_id":73261866,"comment_id":129385490,"body_markdown":"Download JDK 18 tar from https://jdk.java.net/18/ for your arch, untar to your preferred location and run `java -version`","body":"Download JDK 18 tar from <a href=\"https://jdk.java.net/18/\" rel=\"nofollow noreferrer\">jdk.java.net/18</a> for your arch, untar to your preferred location and run <code>java -version</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1659821958,"post_id":73261866,"comment_id":129387375,"body_markdown":"I don&#39;t use Fedora but it looks to me that your package manager is not configured right in respect to repositories (at least). You should be seeing the vanilla openjdk there as well","body":"I don&#39;t use Fedora but it looks to me that your package manager is not configured right in respect to repositories (at least). You should be seeing the vanilla openjdk there as well"}],"owner":{"account_id":13602762,"reputation":53,"user_id":9812935,"display_name":"abhishek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659806290,"creation_date":1659806290,"question_id":73261866,"body_markdown":"I referred the official doc to install openjdk : https://docs.fedoraproject.org/en-US/quick-docs/installing-java/\r\n\r\nFirst searched the package:\r\n\r\n```\r\n[user@server]$ dnf search openjdk\r\n\r\n================================================================= Name &amp; Summary Matched: openjdk ==================================================================\r\njava-latest-openjdk.x86_64 : OpenJDK 18 Runtime Environment\r\njava-latest-openjdk-demo.x86_64 : OpenJDK 18 Demos\r\njava-latest-openjdk-demo-fastdebug.x86_64 : OpenJDK 18 Demos optimised with full debugging on\r\njava-latest-openjdk-demo-slowdebug.x86_64 : OpenJDK 18 Demos unoptimised with full debugging on\r\njava-latest-openjdk-devel.x86_64 : OpenJDK 18 Development Environment\r\n```\r\n\r\nThen I tried to installed the first one but got error\r\n```\r\n[user@server]$ sudo dnf install java-latest-openjdk.x86_64\r\n\r\nEnvoyproxy Official Repository - tetrate-getenvoy-rpm-stable                                                                        2.6 kB/s | 1.4 kB     00:00    \r\nModule yaml error: Unexpected key in data: static_context [line 9 col 3]\r\nModule yaml error: Unexpected key in data: static_context [line 9 col 3]\r\nError: \r\n Problem: conflicting requests\r\n  - nothing provides libXtst.so.6()(64bit) needed by java-latest-openjdk-1:18.0.1.0.10-1.rolling.el8.x86_64\r\n  - nothing provides libgif.so.7()(64bit) needed by java-latest-openjdk-1:18.0.1.0.10-1.rolling.el8.x86_64\r\n  - nothing provides libXcomposite(x86-64) needed by java-latest-openjdk-1:18.0.1.0.10-1.rolling.el8.x86_64\r\n  - nothing provides xorg-x11-fonts-Type1 needed by java-latest-openjdk-1:18.0.1.0.10-1.rolling.el8.x86_64\r\n(try to add &#39;--skip-broken&#39; to skip uninstallable packages or &#39;--nobest&#39; to use not only best candidate packages)\r\n```\r\n\r\nCan anyone help?","title":"Unable to install openjdk in Fedora","body":"<p>I referred the official doc to install openjdk : <a href=\"https://docs.fedoraproject.org/en-US/quick-docs/installing-java/\" rel=\"nofollow noreferrer\">https://docs.fedoraproject.org/en-US/quick-docs/installing-java/</a></p>\n<p>First searched the package:</p>\n<pre><code>[user@server]$ dnf search openjdk\n\n================================================================= Name &amp; Summary Matched: openjdk ==================================================================\njava-latest-openjdk.x86_64 : OpenJDK 18 Runtime Environment\njava-latest-openjdk-demo.x86_64 : OpenJDK 18 Demos\njava-latest-openjdk-demo-fastdebug.x86_64 : OpenJDK 18 Demos optimised with full debugging on\njava-latest-openjdk-demo-slowdebug.x86_64 : OpenJDK 18 Demos unoptimised with full debugging on\njava-latest-openjdk-devel.x86_64 : OpenJDK 18 Development Environment\n</code></pre>\n<p>Then I tried to installed the first one but got error</p>\n<pre><code>[user@server]$ sudo dnf install java-latest-openjdk.x86_64\n\nEnvoyproxy Official Repository - tetrate-getenvoy-rpm-stable                                                                        2.6 kB/s | 1.4 kB     00:00    \nModule yaml error: Unexpected key in data: static_context [line 9 col 3]\nModule yaml error: Unexpected key in data: static_context [line 9 col 3]\nError: \n Problem: conflicting requests\n  - nothing provides libXtst.so.6()(64bit) needed by java-latest-openjdk-1:18.0.1.0.10-1.rolling.el8.x86_64\n  - nothing provides libgif.so.7()(64bit) needed by java-latest-openjdk-1:18.0.1.0.10-1.rolling.el8.x86_64\n  - nothing provides libXcomposite(x86-64) needed by java-latest-openjdk-1:18.0.1.0.10-1.rolling.el8.x86_64\n  - nothing provides xorg-x11-fonts-Type1 needed by java-latest-openjdk-1:18.0.1.0.10-1.rolling.el8.x86_64\n(try to add '--skip-broken' to skip uninstallable packages or '--nobest' to use not only best candidate packages)\n</code></pre>\n<p>Can anyone help?</p>\n"},{"tags":["java","matrix","logic"],"comments":[{"owner":{"account_id":1666294,"reputation":30950,"user_id":1533609,"accept_rate":100,"display_name":"bugwheels94"},"score":0,"creation_date":1468577917,"post_id":38393581,"comment_id":64195761,"body_markdown":"What do you mean by &quot;rotating by 90&quot;?","body":"What do you mean by &quot;rotating by 90&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468578304,"creation_date":1468578304,"answer_id":38393761,"question_id":38393581,"body_markdown":"It looks as though you were trying to use the code from [this SO question][1], but it didn&#39;t work.  I transcripted the answer verbatim (AFAIK) into Java.  I don&#39;t know what direction you want to rotate but maybe this will help you.\r\n\r\n    int n = 4;\r\n    int a[][] = new int[n][n];\r\n    int f = Math.floor((double)n/2);\r\n    int c = Math.ceil((double)n/2);\r\n\r\n    for (int x=0; x &lt; f; ++x) {\r\n        for (int y=0; y &lt; c; ++y) {\r\n            int temp = a[x,y];\r\n            a[x, y] = a[y, n-1-x];\r\n            a[y, n-1-x] = a[n-1-x, n-1-y];\r\n            a[n-1-x, n-1-y] = a[n-1-y, x];\r\n            a[n-1-y, x] = temp;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3488691/how-to-rotate-a-matrix-90-degrees-without-using-any-extra-space","title":"Logical Error in rotating a NxN matrix by 90 degree in place","body":"<p>It looks as though you were trying to use the code from <a href=\"https://stackoverflow.com/questions/3488691/how-to-rotate-a-matrix-90-degrees-without-using-any-extra-space\">this SO question</a>, but it didn't work.  I transcripted the answer verbatim (AFAIK) into Java.  I don't know what direction you want to rotate but maybe this will help you.</p>\n\n<pre><code>int n = 4;\nint a[][] = new int[n][n];\nint f = Math.floor((double)n/2);\nint c = Math.ceil((double)n/2);\n\nfor (int x=0; x &lt; f; ++x) {\n    for (int y=0; y &lt; c; ++y) {\n        int temp = a[x,y];\n        a[x, y] = a[y, n-1-x];\n        a[y, n-1-x] = a[n-1-x, n-1-y];\n        a[n-1-x, n-1-y] = a[n-1-y, x];\n        a[n-1-y, x] = temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7737257,"reputation":1,"user_id":5858469,"display_name":"J&#246;rn Schulze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468588287,"creation_date":1468588287,"answer_id":38397003,"question_id":38393581,"body_markdown":"Another variant for rotating 90 degrees by left, this solution is only dealing with int. It also cares for odd dimension values.\r\n\r\n    int dim = 5;\r\n    int a[][] = new int[dim][dim];\r\n    int floor = dim / 2;\r\n    int ceil = (dim + 1) / 2;\r\n    \r\n    for (int row = 0; row &lt; floor; row++) {\r\n        for (int col = 0; col &lt; ceil; col++) {\r\n            int oppRow = dim - row - 1;\r\n            int oppCol = dim - col - 1;\r\n            int temp = a[row][col];\r\n            a[row][col] = a[col][oppRow];\r\n            a[col][oppRow] = a[oppRow][oppCol];\r\n            a[oppRow][oppCol] = a[oppCol][row];\r\n            a[oppCol][row] = temp;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Logical Error in rotating a NxN matrix by 90 degree in place","body":"<p>Another variant for rotating 90 degrees by left, this solution is only dealing with int. It also cares for odd dimension values.</p>\n\n<pre><code>int dim = 5;\nint a[][] = new int[dim][dim];\nint floor = dim / 2;\nint ceil = (dim + 1) / 2;\n\nfor (int row = 0; row &lt; floor; row++) {\n    for (int col = 0; col &lt; ceil; col++) {\n        int oppRow = dim - row - 1;\n        int oppCol = dim - col - 1;\n        int temp = a[row][col];\n        a[row][col] = a[col][oppRow];\n        a[col][oppRow] = a[oppRow][oppCol];\n        a[oppRow][oppCol] = a[oppCol][row];\n        a[oppCol][row] = temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4814273,"reputation":1342,"user_id":3886821,"accept_rate":93,"display_name":"h8pathak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659774621,"creation_date":1468681577,"answer_id":38412442,"question_id":38393581,"body_markdown":"I have modified your program a little bit and now it works. I have provided codes for rotating the matrix by 90 degrees on left as well as right. Have a look.\r\n\r\n    for (i = 0; i &lt; n / 2; i++) {\r\n        for (j = i; j &lt; n - 1 - i; j++) {\r\n            //Rotating left by 90 degrees\r\n            temp = a[i][j];\r\n            a[i][j] = a[j][n - 1 - i];\r\n            a[j][n - 1 - i] = a[n - 1 - i][n - 1 - j];\r\n            a[n - 1 - i][n - 1 - j] = a[n - 1 - j][i];\r\n            a[n - 1 - j][i] = temp;\r\n\r\n            /*\r\n            //Rotating right by 90 degrees\r\n            temp = a[i][j];\r\n            a[i][j] = a[n - 1 - j][i];\r\n            a[n - 1 - j][i] = a[n - 1 - i][n - 1 - j];\r\n            a[n - 1 - i][n - 1 - j] = a[j][n - 1 - i];\r\n            a[j][n - 1 - i] = temp;\r\n            */\r\n        }\r\n    }\r\n","title":"Logical Error in rotating a NxN matrix by 90 degree in place","body":"<p>I have modified your program a little bit and now it works. I have provided codes for rotating the matrix by 90 degrees on left as well as right. Have a look.</p>\n<pre><code>for (i = 0; i &lt; n / 2; i++) {\n    for (j = i; j &lt; n - 1 - i; j++) {\n        //Rotating left by 90 degrees\n        temp = a[i][j];\n        a[i][j] = a[j][n - 1 - i];\n        a[j][n - 1 - i] = a[n - 1 - i][n - 1 - j];\n        a[n - 1 - i][n - 1 - j] = a[n - 1 - j][i];\n        a[n - 1 - j][i] = temp;\n\n        /*\n        //Rotating right by 90 degrees\n        temp = a[i][j];\n        a[i][j] = a[n - 1 - j][i];\n        a[n - 1 - j][i] = a[n - 1 - i][n - 1 - j];\n        a[n - 1 - i][n - 1 - j] = a[j][n - 1 - i];\n        a[j][n - 1 - i] = temp;\n        */\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5465117,"reputation":691,"user_id":4346138,"accept_rate":67,"display_name":"TheHardRock"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38412442,"answer_count":3,"score":1,"last_activity_date":1659805223,"creation_date":1468577768,"question_id":38393581,"body_markdown":"I am using the below code to rotate a NxN matrix by 90 degrees to the left. But it has some logical error. Most of the elements have rotated, but some haven&#39;t still. Please help me correct the code. \r\n\r\n    int n = 4, x = 1, i, j, temp;\r\n    int a[][] = new int[n][n];\r\n\r\n    for (i = 0; i &lt; n; i++) {\r\n        for (j = 0; j &lt; n; j++) {\r\n            a[i][j] = x++;\r\n        }\r\n    }\r\n\r\n    for (i = 0; i &lt; n / 2; i++) {\r\n        for (j = n - 1; j &gt;= n / 2; j--) {\r\n\r\n            temp = a[i][j];\r\n            a[i][j] = a[n - 1 - i][j];\r\n            a[n - 1 - i][j] = a[j][i];\r\n            a[j][i] = a[i][n - 1 - j];\r\n            a[i][n - 1 - j] = temp;\r\n        }\r\n    }\r\n\r\n\r\n    for (i = 0; i &lt; n; i++) {\r\n        for (j = 0; j &lt; n; j++) {\r\n            System.out.print(a[i][j] + &quot; &quot;);\r\n        }\r\n        System.out.print(&quot;\\n&quot;);\r\n    }\r\n","title":"Logical Error in rotating a NxN matrix by 90 degree in place","body":"<p>I am using the below code to rotate a NxN matrix by 90 degrees to the left. But it has some logical error. Most of the elements have rotated, but some haven't still. Please help me correct the code.</p>\n<pre><code>int n = 4, x = 1, i, j, temp;\nint a[][] = new int[n][n];\n\nfor (i = 0; i &lt; n; i++) {\n    for (j = 0; j &lt; n; j++) {\n        a[i][j] = x++;\n    }\n}\n\nfor (i = 0; i &lt; n / 2; i++) {\n    for (j = n - 1; j &gt;= n / 2; j--) {\n\n        temp = a[i][j];\n        a[i][j] = a[n - 1 - i][j];\n        a[n - 1 - i][j] = a[j][i];\n        a[j][i] = a[i][n - 1 - j];\n        a[i][n - 1 - j] = temp;\n    }\n}\n\n\nfor (i = 0; i &lt; n; i++) {\n    for (j = 0; j &lt; n; j++) {\n        System.out.print(a[i][j] + &quot; &quot;);\n    }\n    System.out.print(&quot;\\n&quot;);\n}\n</code></pre>\n"},{"tags":["java","eclipse","visual-studio-code","junit"],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659660699,"creation_date":1659660699,"answer_id":73243569,"question_id":73240557,"body_markdown":"The JUnit 5 container should be a lib container that you created and configured in Eclipse, where the information is stored in the Eclipse IDE. Thus, VS Code could not recover it.\r\n\r\nAs a workaround, you can open the `.classpath` of your project, find the entry of the container `Junit 5`, remove it. And add JUnit 5 dependencies like this:\r\n\r\n```\r\n&lt;classpathentry kind=&quot;lib&quot; path=&quot;xxx/xxx/junit-platform-console-standalone-1.9.0.jar&quot; sourcepath=&quot;xxx/xxx/junit-platform-console-standalone-1.9.0-sources.jar&quot;/&gt;\r\n```\r\n\r\n&gt; The sourcepath is optional depending on whether you want to check the sources of the lib or not.\r\n\r\n\r\nOr, if your assignment is not limited to be completed as an Eclipse project, you can create a new unmanaged folder project in VS Code: https://code.visualstudio.com/docs/java/java-project#_create-a-new-java-project, select `No build tools`.\r\n\r\nAnd enable the testing framework: https://code.visualstudio.com/docs/java/java-testing#_enable-testing-and-adding-test-framework-jars-to-your-project","title":"Invalid classpath container: &#39;JUnit 5&#39; in project &#39;Project&#39; when importing project to vscode","body":"<p>The JUnit 5 container should be a lib container that you created and configured in Eclipse, where the information is stored in the Eclipse IDE. Thus, VS Code could not recover it.</p>\n<p>As a workaround, you can open the <code>.classpath</code> of your project, find the entry of the container <code>Junit 5</code>, remove it. And add JUnit 5 dependencies like this:</p>\n<pre><code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;xxx/xxx/junit-platform-console-standalone-1.9.0.jar&quot; sourcepath=&quot;xxx/xxx/junit-platform-console-standalone-1.9.0-sources.jar&quot;/&gt;\n</code></pre>\n<blockquote>\n<p>The sourcepath is optional depending on whether you want to check the sources of the lib or not.</p>\n</blockquote>\n<p>Or, if your assignment is not limited to be completed as an Eclipse project, you can create a new unmanaged folder project in VS Code: <a href=\"https://code.visualstudio.com/docs/java/java-project#_create-a-new-java-project\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_create-a-new-java-project</a>, select <code>No build tools</code>.</p>\n<p>And enable the testing framework: <a href=\"https://code.visualstudio.com/docs/java/java-testing#_enable-testing-and-adding-test-framework-jars-to-your-project\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-testing#_enable-testing-and-adding-test-framework-jars-to-your-project</a></p>\n"}],"owner":{"account_id":25979799,"reputation":13,"user_id":19693723,"display_name":"karlhammar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73243569,"answer_count":1,"score":1,"last_activity_date":1659805186,"creation_date":1659636723,"question_id":73240557,"body_markdown":"I got this java project from github as it was to be completed for an assignment. It works fine in Eclipse, however when running in vscode I receive the two errors under &quot;Problems&quot;:\r\n\r\n```&quot;Invalid classpath container: &#39;JUnit 5&#39; in project &#39;projectName&#39;&quot;```\r\n\r\n```&quot;The project cannot be built until build path errors are resolved&quot;```\r\n\r\nThe only difference I&#39;ve found between eclipse and vscode is that eclipse uses its own(?) JRE, while vscode uses the microsoft17\r\n\r\n\r\nWhen i proceed to run the project I get the error:\r\n\r\n```Cannot invoke &quot;org.eclipse.jdt.core.IClasspathEntry.getEntryKind()&quot; because &quot;cpe&quot; is null```\r\n\r\nWhen I open the log the first error message is \r\n```!ENTRY org.eclipse.jdt.junit.core 4 4 2022-08-04 19:33:36.467\r\n!MESSAGE Error\r\n!STACK 0\r\njava.io.FileNotFoundException: org.eclipse.equinox.simpleconfigurator/bundles.info (No such file or directory)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:86)\r\n\tat java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:189)\r\n\tat java.base/java.net.URL.openStream(URL.java:1161)\r\n\tat org.eclipse.equinox.internal.simpleconfigurator.manipulator.SimpleConfiguratorManipulatorImpl.loadConfiguration(SimpleConfiguratorManipulatorImpl.java:365)\r\n\tat org.eclipse.jdt.internal.junit.buildpath.P2Utils.findBundle(P2Utils.java:93)\r\n\tat org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport$JUnitPluginDescription.getBundleLocation(BuildPathSupport.java:89)\r\n\tat org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport$JUnitPluginDescription.getBundleLocation(BuildPathSupport.java:85)\r\n\tat org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport$JUnitPluginDescription.getLibraryEntry(BuildPathSupport.java:207)\r\n\tat org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport.getJUnitJupiterApiLibraryEntry(BuildPathSupport.java:430)\r\n\tat org.eclipse.jdt.internal.junit.buildpath.JUnitContainerInitializer.getNewContainer(JUnitContainerInitializer.java:125)\r\n\tat org.eclipse.jdt.internal.junit.buildpath.JUnitContainerInitializer.initialize(JUnitContainerInitializer.java:101)\r\n\tat org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:3145)\r\n\tat org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:2093)\r\n\tat org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:3789)\r\n\tat org.eclipse.jdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:3270)\r\n\tat org.eclipse.jdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:3434)\r\n\tat org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2519)\r\n\tat org.eclipse.jdt.internal.core.ExternalFoldersManager.refreshReferences(ExternalFoldersManager.java:494)\r\n\tat org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaProcessor.java:2091)\r\n\tat org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(DeltaProcessingState.java:501)\r\n\tat org.eclipse.core.internal.events.NotificationManager$1.run(NotificationManager.java:307)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:297)\r\n\tat org.eclipse.core.internal.events.NotificationManager.handleEvent(NotificationManager.java:279)\r\n\tat org.eclipse.core.internal.resources.Workspace.broadcastEvent(Workspace.java:383)\r\n\tat org.eclipse.core.internal.resources.Resource.refreshLocal(Resource.java:1572)\r\n\tat org.eclipse.core.internal.resources.Project.open(Project.java:1094)\r\n\tat org.eclipse.jdt.ls.core.internal.managers.EclipseProjectImporter.importDir(EclipseProjectImporter.java:130)\r\n\tat org.eclipse.jdt.ls.core.internal.managers.EclipseProjectImporter.lambda$4(EclipseProjectImporter.java:100)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.eclipse.jdt.ls.core.internal.managers.EclipseProjectImporter.importToWorkspace(EclipseProjectImporter.java:100)\r\n\tat org.eclipse.jdt.ls.core.internal.managers.ProjectsManager.importProjects(ProjectsManager.java:149)\r\n\tat org.eclipse.jdt.ls.core.internal.managers.ProjectsManager.initializeProjects(ProjectsManager.java:111)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.InitHandler$1.runInWorkspace(InitHandler.java:244)\r\n\tat org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)```","title":"Invalid classpath container: &#39;JUnit 5&#39; in project &#39;Project&#39; when importing project to vscode","body":"<p>I got this java project from github as it was to be completed for an assignment. It works fine in Eclipse, however when running in vscode I receive the two errors under &quot;Problems&quot;:</p>\n<p><code>&quot;Invalid classpath container: 'JUnit 5' in project 'projectName'&quot;</code></p>\n<p><code>&quot;The project cannot be built until build path errors are resolved&quot;</code></p>\n<p>The only difference I've found between eclipse and vscode is that eclipse uses its own(?) JRE, while vscode uses the microsoft17</p>\n<p>When i proceed to run the project I get the error:</p>\n<p><code>Cannot invoke &quot;org.eclipse.jdt.core.IClasspathEntry.getEntryKind()&quot; because &quot;cpe&quot; is null</code></p>\n<p>When I open the log the first error message is</p>\n<pre><code>!MESSAGE Error\n!STACK 0\njava.io.FileNotFoundException: org.eclipse.equinox.simpleconfigurator/bundles.info (No such file or directory)\n    at java.base/java.io.FileInputStream.open0(Native Method)\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n    at java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:86)\n    at java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:189)\n    at java.base/java.net.URL.openStream(URL.java:1161)\n    at org.eclipse.equinox.internal.simpleconfigurator.manipulator.SimpleConfiguratorManipulatorImpl.loadConfiguration(SimpleConfiguratorManipulatorImpl.java:365)\n    at org.eclipse.jdt.internal.junit.buildpath.P2Utils.findBundle(P2Utils.java:93)\n    at org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport$JUnitPluginDescription.getBundleLocation(BuildPathSupport.java:89)\n    at org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport$JUnitPluginDescription.getBundleLocation(BuildPathSupport.java:85)\n    at org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport$JUnitPluginDescription.getLibraryEntry(BuildPathSupport.java:207)\n    at org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport.getJUnitJupiterApiLibraryEntry(BuildPathSupport.java:430)\n    at org.eclipse.jdt.internal.junit.buildpath.JUnitContainerInitializer.getNewContainer(JUnitContainerInitializer.java:125)\n    at org.eclipse.jdt.internal.junit.buildpath.JUnitContainerInitializer.initialize(JUnitContainerInitializer.java:101)\n    at org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:3145)\n    at org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:2093)\n    at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:3789)\n    at org.eclipse.jdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:3270)\n    at org.eclipse.jdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:3434)\n    at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2519)\n    at org.eclipse.jdt.internal.core.ExternalFoldersManager.refreshReferences(ExternalFoldersManager.java:494)\n    at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaProcessor.java:2091)\n    at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(DeltaProcessingState.java:501)\n    at org.eclipse.core.internal.events.NotificationManager$1.run(NotificationManager.java:307)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:297)\n    at org.eclipse.core.internal.events.NotificationManager.handleEvent(NotificationManager.java:279)\n    at org.eclipse.core.internal.resources.Workspace.broadcastEvent(Workspace.java:383)\n    at org.eclipse.core.internal.resources.Resource.refreshLocal(Resource.java:1572)\n    at org.eclipse.core.internal.resources.Project.open(Project.java:1094)\n    at org.eclipse.jdt.ls.core.internal.managers.EclipseProjectImporter.importDir(EclipseProjectImporter.java:130)\n    at org.eclipse.jdt.ls.core.internal.managers.EclipseProjectImporter.lambda$4(EclipseProjectImporter.java:100)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.eclipse.jdt.ls.core.internal.managers.EclipseProjectImporter.importToWorkspace(EclipseProjectImporter.java:100)\n    at org.eclipse.jdt.ls.core.internal.managers.ProjectsManager.importProjects(ProjectsManager.java:149)\n    at org.eclipse.jdt.ls.core.internal.managers.ProjectsManager.initializeProjects(ProjectsManager.java:111)\n    at org.eclipse.jdt.ls.core.internal.handlers.InitHandler$1.runInWorkspace(InitHandler.java:244)\n    at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)```\n</code></pre>\n"},{"tags":["python","java","android","tensorflow","kotlin"],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659805098,"creation_date":1659803942,"answer_id":73261565,"question_id":73261241,"body_markdown":"\r\nThe docs for [TensorBufferFloat](https://www.tensorflow.org/lite/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBufferFloat) list 2 methods that might be useful to you\r\n\r\n&gt; float[] getFloatArray()\r\n&gt;\r\n&gt; Returns a float array of the values stored in this buffer.\r\n\r\n&gt; float getFloatValue(int absIndex)\r\n&gt;\r\n&gt; Returns a float value at a given index.\r\n\r\nThe docs are for Java, which means that in Kotlin all getters (and setters) just become normal field/property access, i.e. `.getFloatArray()` becomes just `.floatArray`\r\n\r\nSo if you get the whole array with `.floatArray` you can just join the values together with some separator to get a string representation.\r\n\r\n```kotlin\r\nval output = outputFeature0.floatArray.joinToString(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;)\r\n\r\nLog.d(&quot;TAG&quot;, output)\r\n```\r\n\r\nIf you want to control the formatting use the [`DecimalFormat`](https://developer.android.com/reference/kotlin/java/text/DecimalFormat)\r\n\r\n```kotlin\r\nval pattern = &quot;#.0#&quot; // rounds to 2 decimal places if needed\r\nval locale = Locale.ENGLISH\r\nval formatter = DecimalFormat(pattern, DecimalFormatSymbols(locale))\r\nformatter.roundingMode = RoundingMode.HALF_EVEN // this is the default rounding mode anyway    \r\n\r\nval output = outputFeature0.floatArray.joinToString(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;) { value -&gt;\r\n    formatter.format(value)\r\n}\r\n\r\nLog.d(&quot;TAG&quot;, output)\r\n```\r\n\r\nIf you need to do this formatting in different places you can move the logic into an extension method\r\n\r\n```kotlin\r\nfun FloatArray.joinToFormattedString(): String {\r\n    val pattern = &quot;#.0#&quot; // rounds to 2 decimal places if needed\r\n    val locale = Locale.ENGLISH\r\n    val formatter = DecimalFormat(pattern, DecimalFormatSymbols(locale))\r\n    formatter.roundingMode = RoundingMode.HALF_EVEN // this is the default rounding mode anyway\r\n    return this.joinToString(\r\n        separator = &quot;, &quot;,\r\n        prefix = &quot;[&quot;,\r\n        postfix = &quot;]&quot;,\r\n    ) { value -&gt;\r\n        formatter.format(value)\r\n    }\r\n}\r\n```\r\n\r\nThen you can simply call\r\n\r\n```kotlin\r\nLog.d(&quot;TAG&quot;, outputFeature0.floatArray.joinToFormattedString())\r\n```","title":"Unable to get proper output of TFLite model in Kotlin","body":"<p>The docs for <a href=\"https://www.tensorflow.org/lite/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBufferFloat\" rel=\"nofollow noreferrer\">TensorBufferFloat</a> list 2 methods that might be useful to you</p>\n<blockquote>\n<p>float[] getFloatArray()</p>\n<p>Returns a float array of the values stored in this buffer.</p>\n</blockquote>\n<blockquote>\n<p>float getFloatValue(int absIndex)</p>\n<p>Returns a float value at a given index.</p>\n</blockquote>\n<p>The docs are for Java, which means that in Kotlin all getters (and setters) just become normal field/property access, i.e. <code>.getFloatArray()</code> becomes just <code>.floatArray</code></p>\n<p>So if you get the whole array with <code>.floatArray</code> you can just join the values together with some separator to get a string representation.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val output = outputFeature0.floatArray.joinToString(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;)\n\nLog.d(&quot;TAG&quot;, output)\n</code></pre>\n<p>If you want to control the formatting use the <a href=\"https://developer.android.com/reference/kotlin/java/text/DecimalFormat\" rel=\"nofollow noreferrer\"><code>DecimalFormat</code></a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val pattern = &quot;#.0#&quot; // rounds to 2 decimal places if needed\nval locale = Locale.ENGLISH\nval formatter = DecimalFormat(pattern, DecimalFormatSymbols(locale))\nformatter.roundingMode = RoundingMode.HALF_EVEN // this is the default rounding mode anyway    \n\nval output = outputFeature0.floatArray.joinToString(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;) { value -&gt;\n    formatter.format(value)\n}\n\nLog.d(&quot;TAG&quot;, output)\n</code></pre>\n<p>If you need to do this formatting in different places you can move the logic into an extension method</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun FloatArray.joinToFormattedString(): String {\n    val pattern = &quot;#.0#&quot; // rounds to 2 decimal places if needed\n    val locale = Locale.ENGLISH\n    val formatter = DecimalFormat(pattern, DecimalFormatSymbols(locale))\n    formatter.roundingMode = RoundingMode.HALF_EVEN // this is the default rounding mode anyway\n    return this.joinToString(\n        separator = &quot;, &quot;,\n        prefix = &quot;[&quot;,\n        postfix = &quot;]&quot;,\n    ) { value -&gt;\n        formatter.format(value)\n    }\n}\n</code></pre>\n<p>Then you can simply call</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Log.d(&quot;TAG&quot;, outputFeature0.floatArray.joinToFormattedString())\n</code></pre>\n"}],"owner":{"account_id":25995151,"reputation":13,"user_id":19706673,"display_name":"user19706673"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73261565,"answer_count":1,"score":1,"last_activity_date":1659805098,"creation_date":1659801242,"question_id":73261241,"body_markdown":"I used FER2013 dataset from kaggle and trained a CNN model. Saved the model as TFLite. Made a Kotlin app using it. Now I am not able to get proper output. Sample output of the model : ```[0. 0. 0. 1. 0. 0. 0.]``` for happy\r\n\r\nPlease check the code for MainActivity.kt. I am pure noobie. Thank you so much for bearing with me.\r\n\r\n```\r\npackage com.example.mooddetector\r\n\r\nimport android.content.pm.PackageManager\r\nimport android.graphics.Bitmap\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.widget.Button\r\nimport android.widget.ImageView\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport androidx.activity.result.contract.ActivityResultContracts\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.core.content.ContextCompat\r\nimport com.example.mooddetector.databinding.ActivityMainBinding\r\nimport com.example.mooddetector.ml.MoodDetector\r\nimport org.tensorflow.lite.DataType\r\nimport org.tensorflow.lite.support.image.ColorSpaceType\r\nimport org.tensorflow.lite.support.image.TensorImage\r\nimport org.tensorflow.lite.support.image.ops.TransformToGrayscaleOp\r\nimport org.tensorflow.lite.support.tensorbuffer.TensorBuffer\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    private lateinit var binding: ActivityMainBinding\r\n    private lateinit var imageView: ImageView\r\n    private lateinit var button: Button\r\n    private lateinit var tvOutput: TextView\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        val view = binding.root\r\n        setContentView(view)\r\n\r\n        imageView = binding.imageView\r\n        button = binding.btnCaptureImage\r\n        tvOutput = binding.tvOutput\r\n        val buttonLoad = binding.btnLoadImage\r\n        button.setOnClickListener {\r\n            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA)\r\n                == PackageManager.PERMISSION_GRANTED\r\n            ) {\r\n                takePicturePreview.launch(null)\r\n            } else {\r\n                requestPermission.launch(android.Manifest.permission.CAMERA)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n        private val requestPermission = registerForActivityResult(ActivityResultContracts.RequestPermission()) { granted -&gt;\r\n            if (granted) {\r\n                takePicturePreview.launch(null)\r\n            } else {\r\n                Toast.makeText(this, &quot;Permission Denied.&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        }\r\n\r\n        private val takePicturePreview = registerForActivityResult(ActivityResultContracts.TakePicturePreview()){bitmap-&gt;\r\n             if(bitmap!=null){\r\n                 imageView.setImageBitmap(bitmap)\r\n                 outputGenerator(bitmap)\r\n                 }\r\n            }\r\n\r\n\r\n    private fun outputGenerator(bitmap: Bitmap){\r\n        val model = MoodDetector.newInstance(this)\r\n        \r\n        val newBitmap = Bitmap.createScaledBitmap(bitmap, 48, 48, true)\r\n        val tfimage = TensorImage(DataType.FLOAT32)\r\n        tfimage.load(newBitmap)\r\n        val tfimagegrayscale = TransformToGrayscaleOp().apply(tfimage)\r\n        val tensorbuffr=tfimagegrayscale.tensorBuffer\r\n        val tensorimg = TensorImage(DataType.FLOAT32)\r\n        tensorimg.load(tensorbuffr,ColorSpaceType.GRAYSCALE)\r\n        val byteBuffer = tensorimg.buffer\r\n\r\n        // Creates inputs for reference.\r\n        val inputFeature0 = TensorBuffer.createFixedSize(intArrayOf(1, 48, 48, 1), DataType.FLOAT32)\r\n        inputFeature0.loadBuffer(byteBuffer)\r\n        \r\n        // Runs model inference and gets result.\r\n        val outputs = model.process(inputFeature0)\r\n        val outputFeature0 = outputs.outputFeature0AsTensorBuffer\r\n        tvOutput.text = outputFeature0.toString()\r\n        Log.d(&quot;TAG&quot;, outputs.toString())\r\n        Log.d(&quot;TAG&quot;, outputFeature0.toString())\r\n        \r\n//        val data1 = outputFeature0.floatArray\r\n//        Log.d(&quot;TAG2&quot;, outputFeature0.dataType.toString())\r\n//        Log.d(&quot;TAG2&quot;, data1[0].toString())\r\n\r\n//        val probabilityBuffer = TensorBuffer.createFixedSize(intArrayOf(1, 1001), DataType.UINT8)\r\n\r\n        // Releases model resources if no longer used.\r\n        model.close()\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe output of the last 2 log files is:\r\ncom.example.mooddetector.ml.MoodDetector$Outputs@a04fe1\r\norg.tensorflow.lite.support.tensorbuffer.TensorBufferFloat@ca3b548","title":"Unable to get proper output of TFLite model in Kotlin","body":"<p>I used FER2013 dataset from kaggle and trained a CNN model. Saved the model as TFLite. Made a Kotlin app using it. Now I am not able to get proper output. Sample output of the model : <code>[0. 0. 0. 1. 0. 0. 0.]</code> for happy</p>\n<p>Please check the code for MainActivity.kt. I am pure noobie. Thank you so much for bearing with me.</p>\n<pre><code>package com.example.mooddetector\n\nimport android.content.pm.PackageManager\nimport android.graphics.Bitmap\nimport android.os.Bundle\nimport android.util.Log\nimport android.widget.Button\nimport android.widget.ImageView\nimport android.widget.TextView\nimport android.widget.Toast\nimport androidx.activity.result.contract.ActivityResultContracts\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.core.content.ContextCompat\nimport com.example.mooddetector.databinding.ActivityMainBinding\nimport com.example.mooddetector.ml.MoodDetector\nimport org.tensorflow.lite.DataType\nimport org.tensorflow.lite.support.image.ColorSpaceType\nimport org.tensorflow.lite.support.image.TensorImage\nimport org.tensorflow.lite.support.image.ops.TransformToGrayscaleOp\nimport org.tensorflow.lite.support.tensorbuffer.TensorBuffer\n\n\nclass MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n    private lateinit var imageView: ImageView\n    private lateinit var button: Button\n    private lateinit var tvOutput: TextView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        val view = binding.root\n        setContentView(view)\n\n        imageView = binding.imageView\n        button = binding.btnCaptureImage\n        tvOutput = binding.tvOutput\n        val buttonLoad = binding.btnLoadImage\n        button.setOnClickListener {\n            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA)\n                == PackageManager.PERMISSION_GRANTED\n            ) {\n                takePicturePreview.launch(null)\n            } else {\n                requestPermission.launch(android.Manifest.permission.CAMERA)\n            }\n        }\n\n    }\n\n        private val requestPermission = registerForActivityResult(ActivityResultContracts.RequestPermission()) { granted -&gt;\n            if (granted) {\n                takePicturePreview.launch(null)\n            } else {\n                Toast.makeText(this, &quot;Permission Denied.&quot;, Toast.LENGTH_SHORT).show()\n            }\n        }\n\n        private val takePicturePreview = registerForActivityResult(ActivityResultContracts.TakePicturePreview()){bitmap-&gt;\n             if(bitmap!=null){\n                 imageView.setImageBitmap(bitmap)\n                 outputGenerator(bitmap)\n                 }\n            }\n\n\n    private fun outputGenerator(bitmap: Bitmap){\n        val model = MoodDetector.newInstance(this)\n        \n        val newBitmap = Bitmap.createScaledBitmap(bitmap, 48, 48, true)\n        val tfimage = TensorImage(DataType.FLOAT32)\n        tfimage.load(newBitmap)\n        val tfimagegrayscale = TransformToGrayscaleOp().apply(tfimage)\n        val tensorbuffr=tfimagegrayscale.tensorBuffer\n        val tensorimg = TensorImage(DataType.FLOAT32)\n        tensorimg.load(tensorbuffr,ColorSpaceType.GRAYSCALE)\n        val byteBuffer = tensorimg.buffer\n\n        // Creates inputs for reference.\n        val inputFeature0 = TensorBuffer.createFixedSize(intArrayOf(1, 48, 48, 1), DataType.FLOAT32)\n        inputFeature0.loadBuffer(byteBuffer)\n        \n        // Runs model inference and gets result.\n        val outputs = model.process(inputFeature0)\n        val outputFeature0 = outputs.outputFeature0AsTensorBuffer\n        tvOutput.text = outputFeature0.toString()\n        Log.d(&quot;TAG&quot;, outputs.toString())\n        Log.d(&quot;TAG&quot;, outputFeature0.toString())\n        \n//        val data1 = outputFeature0.floatArray\n//        Log.d(&quot;TAG2&quot;, outputFeature0.dataType.toString())\n//        Log.d(&quot;TAG2&quot;, data1[0].toString())\n\n//        val probabilityBuffer = TensorBuffer.createFixedSize(intArrayOf(1, 1001), DataType.UINT8)\n\n        // Releases model resources if no longer used.\n        model.close()\n\n    }\n}\n</code></pre>\n<p>The output of the last 2 log files is:\ncom.example.mooddetector.ml.MoodDetector$Outputs@a04fe1\norg.tensorflow.lite.support.tensorbuffer.TensorBufferFloat@ca3b548</p>\n"},{"tags":["java","spring","web","functional-programming","swagger"],"answers":[{"tags":[],"owner":{"account_id":2070916,"reputation":1,"user_id":9603397,"display_name":"user9603397"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659804996,"creation_date":1659546833,"answer_id":73225296,"question_id":57042335,"body_markdown":"Looks like, as of now, there is no way of using swagger in a functional web framework, check here https://github.com/swagger-api/swagger-core/issues/3265","title":"How to use swagger with Functional Web Framework","body":"<p>Looks like, as of now, there is no way of using swagger in a functional web framework, check here <a href=\"https://github.com/swagger-api/swagger-core/issues/3265\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/issues/3265</a></p>\n"}],"owner":{"account_id":11811946,"reputation":41,"user_id":8643177,"display_name":"hmo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659804996,"creation_date":1563202399,"question_id":57042335,"body_markdown":"I try to find a way to use swagger with Spring 5 Functional Web Framework with Java.\r\nIs there a way to manage that?\r\n","title":"How to use swagger with Functional Web Framework","body":"<p>I try to find a way to use swagger with Spring 5 Functional Web Framework with Java.\nIs there a way to manage that?</p>\n"},{"tags":["java","spring","kubernetes","spring-webflux"],"comments":[{"owner":{"account_id":6741678,"reputation":23,"user_id":7661808,"display_name":"wuase"},"score":0,"creation_date":1659804994,"post_id":73261637,"comment_id":129384374,"body_markdown":"I add as additional info: the behavior is the same either connecting by port-forward or api gateway","body":"I add as additional info: the behavior is the same either connecting by port-forward or api gateway"},{"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"score":1,"creation_date":1659915114,"post_id":73261637,"comment_id":129401906,"body_markdown":"Did you check that the connection has been terminated? look like that you are missing some kubernet settings for reactive web","body":"Did you check that the connection has been terminated? look like that you are missing some kubernet settings for reactive web"},{"owner":{"account_id":6741678,"reputation":23,"user_id":7661808,"display_name":"wuase"},"score":0,"creation_date":1660053591,"post_id":73261637,"comment_id":129438441,"body_markdown":"Connections aren&#39;t actually closed. What kind of configuration should be done on the kubernetes side?","body":"Connections aren&#39;t actually closed. What kind of configuration should be done on the kubernetes side?"}],"owner":{"account_id":6741678,"reputation":23,"user_id":7661808,"display_name":"wuase"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659804523,"creation_date":1659804523,"question_id":73261637,"body_markdown":"I have a controller with an endpoint that provide a flux like this reported below.\r\nWhen the app is deployed to kubernetes, methods doOnCancel and doOnTerminate are not invoked.\r\nLocally instead, it works like a charm (when the tab of the browser is closed as instance).\r\n\r\n```java\r\n@Slf4j\r\n@RestController\r\npublic class TestController {\r\n    ...\r\n\t@GetMapping(value = &quot;/test&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n\tpublic Flux&lt;String&gt; testStream() {\r\n\t\tlog.info(&quot;Requested test streaming&quot;);\r\n\t\t\r\n\t\treturn mySink.asFlux()\r\n\t\t\t\t.startWith(&quot;INIT TEST&quot;)\r\n\t\t\t\t.doOnCancel(() -&gt; log.info(&quot;On cancel&quot;))\r\n\t\t\t\t.doOnTerminate(() -&gt; log.info(&quot;On terminate&quot;));\r\n\t}\r\n    ...\r\n}\r\n```\r\n\r\n```\r\n\r\n2022-08-06 18:25:42.115  INFO 3685 --- [           main] com.wuase.sinkdemo.SinkDemoApplication   : Starting SinkDemoApplication using Java 1.8.0_252 on aniello-pc with PID 3685 (/home/pc/eclipse-workspace/sink-demo/target/classes started by pc in /home/pc/eclipse-workspace/sink-demo)\r\n2022-08-06 18:25:42.124  INFO 3685 --- [           main] com.wuase.sinkdemo.SinkDemoApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-08-06 18:25:44.985  INFO 3685 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080\r\n2022-08-06 18:25:45.018  INFO 3685 --- [           main] com.wuase.sinkdemo.SinkDemoApplication   : Started SinkDemoApplication in 3.737 seconds (JVM running for 5.36)\r\n2022-08-06 18:26:09.706  INFO 3685 --- [or-http-epoll-3] com.wuase.sinkdemo.TestController        : Requested test streaming\r\n2022-08-06 18:26:14.799  INFO 3685 --- [or-http-epoll-3] com.wuase.sinkdemo.TestController        : On cancel\r\n```\r\n\r\nHas anyone encountred the same problem?\r\nAny idea about that?","title":"Spring Webflux doOnCancel is not invoked when an app is deployed to Kubernetes","body":"<p>I have a controller with an endpoint that provide a flux like this reported below.\nWhen the app is deployed to kubernetes, methods doOnCancel and doOnTerminate are not invoked.\nLocally instead, it works like a charm (when the tab of the browser is closed as instance).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\npublic class TestController {\n    ...\n    @GetMapping(value = &quot;/test&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;String&gt; testStream() {\n        log.info(&quot;Requested test streaming&quot;);\n        \n        return mySink.asFlux()\n                .startWith(&quot;INIT TEST&quot;)\n                .doOnCancel(() -&gt; log.info(&quot;On cancel&quot;))\n                .doOnTerminate(() -&gt; log.info(&quot;On terminate&quot;));\n    }\n    ...\n}\n</code></pre>\n<pre><code>\n2022-08-06 18:25:42.115  INFO 3685 --- [           main] com.wuase.sinkdemo.SinkDemoApplication   : Starting SinkDemoApplication using Java 1.8.0_252 on aniello-pc with PID 3685 (/home/pc/eclipse-workspace/sink-demo/target/classes started by pc in /home/pc/eclipse-workspace/sink-demo)\n2022-08-06 18:25:42.124  INFO 3685 --- [           main] com.wuase.sinkdemo.SinkDemoApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-08-06 18:25:44.985  INFO 3685 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080\n2022-08-06 18:25:45.018  INFO 3685 --- [           main] com.wuase.sinkdemo.SinkDemoApplication   : Started SinkDemoApplication in 3.737 seconds (JVM running for 5.36)\n2022-08-06 18:26:09.706  INFO 3685 --- [or-http-epoll-3] com.wuase.sinkdemo.TestController        : Requested test streaming\n2022-08-06 18:26:14.799  INFO 3685 --- [or-http-epoll-3] com.wuase.sinkdemo.TestController        : On cancel\n</code></pre>\n<p>Has anyone encountred the same problem?\nAny idea about that?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8864,"page":1128,"page_size":100}
