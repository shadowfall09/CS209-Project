{"items":[{"tags":["java","algorithm","math"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678264685,"post_id":75670689,"comment_id":133497329,"body_markdown":"maybe it would have been better to use `Math.absExact()` instead of `Math.abs()` (the first method is provided exactly for this case)","body":"maybe it would have been better to use <code>Math.absExact()</code> instead of <code>Math.abs()</code> (the first method is provided exactly for this case)"},{"owner":{"account_id":26291330,"reputation":17,"user_id":19958316,"display_name":"SBM"},"score":0,"creation_date":1678266424,"post_id":75670689,"comment_id":133497783,"body_markdown":"@user16320675 -- Now It&#39;s showing error instead of answer 0    i,e `Exception in thread &quot;main&quot; java.lang.ArithmeticException: Overflow to represent absolute value of Integer.MIN_VALUE`","body":"@user16320675 -- Now It&#39;s showing error instead of answer 0    i,e <code>Exception in thread &quot;main&quot; java.lang.ArithmeticException: Overflow to represent absolute value of Integer.MIN_VALUE</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678267267,"post_id":75670689,"comment_id":133498025,"body_markdown":"that is exactly the reason for using that method - so you know that `2147483648` is not a valid value for `int`, or that `-2147483648` cannot be converted to a positive `int`","body":"that is exactly the reason for using that method - so you know that <code>2147483648</code> is not a valid value for <code>int</code>, or that <code>-2147483648</code> cannot be converted to a positive <code>int</code>"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1678267672,"post_id":75670689,"comment_id":133498134,"body_markdown":"`ans = -ans` and not `ans = ans * -1` or you used multiplication.","body":"<code>ans = -ans</code> and not <code>ans = ans * -1</code> or you used multiplication."}],"answers":[{"tags":[],"owner":{"account_id":13755361,"reputation":21,"user_id":9926451,"display_name":"Naresh Anchuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678288073,"creation_date":1678268176,"answer_id":75671391,"question_id":75670689,"body_markdown":"    //works for integers only\r\n\r\n    public class MathSkills {\r\n\r\n\t    public static void main(String[] args) {\r\n\t    \t// TODO Auto-generated method stub\r\n\t\t    System.out.println(dividend(100,4));\r\n\r\n\t    }\r\n    \tpublic static int dividend(int a, int b) {\r\n\t\t    int ans=0;\r\n\t    \tfor(;a&gt;=b;ans++) {\r\n\t\t    \ta=a-b;\r\n\t    \t}\r\n\t\t\r\n\t    \treturn ans;\r\n    \t}\r\n\r\n    }","title":"Why don&#39;t I get positive values when trying to divide two integers (without using multiplication, div, mod, log)?","body":"<pre><code>//works for integers only\n\npublic class MathSkills {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.println(dividend(100,4));\n\n    }\n    public static int dividend(int a, int b) {\n        int ans=0;\n        for(;a&gt;=b;ans++) {\n            a=a-b;\n        }\n    \n        return ans;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678269595,"creation_date":1678269595,"answer_id":75671597,"question_id":75670689,"body_markdown":"`int`s in Java have 32 bits, so the min is -2147483648 and the max is 2147483647. This means you get overflow when you do abs(min).\r\n\r\nI think actually the easiest way to fix this is just working with negative numbers, something like this:\r\n\r\n    public int divide(int dividend, int divisor) {\r\n        if (divisor == 0 || dividend == Integer.MIN_VALUE &amp;&amp; divisor == -1) throw new IllegalArgumentException();\r\n        if (dividend == 0) return 0;\r\n        if (divisor == 1) return dividend; // required for dividend = MIN_VALUE\r\n        boolean negative = false;\r\n        if (dividend &gt; 0) dividend = -dividend; else negative = true;\r\n        if (divisor &gt; 0) divisor = -divisor; else negative = !negative;\r\n        int result = 0;\r\n        for (; dividend &lt;= divisor; result++) dividend -= divisor;\r\n        return negative ? -result : result;\r\n    }","title":"Why don&#39;t I get positive values when trying to divide two integers (without using multiplication, div, mod, log)?","body":"<p><code>int</code>s in Java have 32 bits, so the min is -2147483648 and the max is 2147483647. This means you get overflow when you do abs(min).</p>\n<p>I think actually the easiest way to fix this is just working with negative numbers, something like this:</p>\n<pre><code>public int divide(int dividend, int divisor) {\n    if (divisor == 0 || dividend == Integer.MIN_VALUE &amp;&amp; divisor == -1) throw new IllegalArgumentException();\n    if (dividend == 0) return 0;\n    if (divisor == 1) return dividend; // required for dividend = MIN_VALUE\n    boolean negative = false;\n    if (dividend &gt; 0) dividend = -dividend; else negative = true;\n    if (divisor &gt; 0) divisor = -divisor; else negative = !negative;\n    int result = 0;\n    for (; dividend &lt;= divisor; result++) dividend -= divisor;\n    return negative ? -result : result;\n}\n</code></pre>\n"}],"owner":{"account_id":26291330,"reputation":17,"user_id":19958316,"display_name":"SBM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678359367,"creation_date":1678263498,"question_id":75670689,"body_markdown":"In the `int divide()` method, `Math.abs()` is returning negative values for upper and lower boundary values. Even if I multiply it with *-1 the negative is not converting into positive value (`div` is showing a negative value), but the same methods works when I tried `Math.abs()` in `main()` method.\r\n\r\n```java\r\npublic class Mass {\r\n    public static int divide(int dividend, int divisor) {\r\n           int ans =0;\r\n        long val  = Math.abs(divisor);\r\n        long  div = Math.abs(dividend);\r\n            System.out.println(div);\r\n        for(int i =1;i&lt;=div;i++){\r\n            val--;\r\n            if(val ==0){\r\n                ans++;\r\n                val = Math.abs(divisor);\r\n            }\r\n        }\r\n        if((dividend&lt;0 &amp;&amp; divisor &gt;0 ) || (dividend &gt;0 &amp;&amp; divisor&lt;0) ){\r\n            ans = ans *(-1);\r\n        }\r\n\r\n        return ans;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n       int a= divide(-2147483648, -2);\r\n    \r\n       System.out.println(a);\r\n    }\r\n}\r\n```\r\n\r\nWhy do I have trouble with negative values?  \r\n","title":"Why don&#39;t I get positive values when trying to divide two integers (without using multiplication, div, mod, log)?","body":"<p>In the <code>int divide()</code> method, <code>Math.abs()</code> is returning negative values for upper and lower boundary values. Even if I multiply it with *-1 the negative is not converting into positive value (<code>div</code> is showing a negative value), but the same methods works when I tried <code>Math.abs()</code> in <code>main()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Mass {\n    public static int divide(int dividend, int divisor) {\n           int ans =0;\n        long val  = Math.abs(divisor);\n        long  div = Math.abs(dividend);\n            System.out.println(div);\n        for(int i =1;i&lt;=div;i++){\n            val--;\n            if(val ==0){\n                ans++;\n                val = Math.abs(divisor);\n            }\n        }\n        if((dividend&lt;0 &amp;&amp; divisor &gt;0 ) || (dividend &gt;0 &amp;&amp; divisor&lt;0) ){\n            ans = ans *(-1);\n        }\n\n        return ans;\n    }\n\n    public static void main(String[] args) {\n       int a= divide(-2147483648, -2);\n    \n       System.out.println(a);\n    }\n}\n</code></pre>\n<p>Why do I have trouble with negative values?</p>\n"},{"tags":["java","android","camera","android-camera","android-camera2"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1678387384,"post_id":75683633,"comment_id":133527311,"body_markdown":"Did you find: https://developer.android.com/training/camera2/multi-camera#multi","body":"Did you find: <a href=\"https://developer.android.com/training/camera2/multi-camera#multi\" rel=\"nofollow noreferrer\">developer.android.com/training/camera2/multi-camera#multi</a>"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678359335,"creation_date":1678359335,"question_id":75683633,"body_markdown":"I have read many discussions here about this topic but I still haven&#39;t found any way to check if the device supports this feature or not.\r\n\r\nFrom what I&#39;ve read it probably depends on the processor hardware, for example some Snapdragons support this feature and some don&#39;t.\r\n\r\nSo do you know if there is a way to check if it supports this feature?\r\n\r\nP.S.\r\n\r\nDo you think that in the future Android will support this?","title":"Android use front and back camera at the same time","body":"<p>I have read many discussions here about this topic but I still haven't found any way to check if the device supports this feature or not.</p>\n<p>From what I've read it probably depends on the processor hardware, for example some Snapdragons support this feature and some don't.</p>\n<p>So do you know if there is a way to check if it supports this feature?</p>\n<p>P.S.</p>\n<p>Do you think that in the future Android will support this?</p>\n"},{"tags":["java","jdbc","apache-commons-dbutils"],"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1429886821,"post_id":29849200,"comment_id":47827037,"body_markdown":"See my answer. Had to do a lot of digging in the java docs and the source code to come up with a solution :)","body":"See my answer. Had to do a lot of digging in the java docs and the source code to come up with a solution :)"},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1429888552,"post_id":29849200,"comment_id":47828416,"body_markdown":"Yes, bot I just did and getting `ArrayIndexOutofBoundsException`. See my updated code above.","body":"Yes, bot I just did and getting <code>ArrayIndexOutofBoundsException</code>. See my updated code above."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1429888642,"post_id":29849200,"comment_id":47828480,"body_markdown":"That is not how stackoverflow works. You can&#39;t take an answer, add to your quesiton and keep creating new quesitons. If you got an issue with my answer, you can post a comment on my answer.","body":"That is not how stackoverflow works. You can&#39;t take an answer, add to your quesiton and keep creating new quesitons. If you got an issue with my answer, you can post a comment on my answer."},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1429888795,"post_id":29849200,"comment_id":47828596,"body_markdown":"Apologize for this as I did not know how to show the changes that I did to my code to you and hence I edited the original question. The &quot;Add Comment&quot; section only allows me to add very little information.","body":"Apologize for this as I did not know how to show the changes that I did to my code to you and hence I edited the original question. The &quot;Add Comment&quot; section only allows me to add very little information."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1429888916,"post_id":29849200,"comment_id":47828673,"body_markdown":"No problem. But that&#39;s not how stackoverflow works. You can&#39;t just keep incrementing your question. You can post a new question instead of changing this question. I believe I have answered your original question `How to use BeanProcessor to map column names to properties`","body":"No problem. But that&#39;s not how stackoverflow works. You can&#39;t just keep incrementing your question. You can post a new question instead of changing this question. I believe I have answered your original question <code>How to use BeanProcessor to map column names to properties</code>"},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1429889047,"post_id":29849200,"comment_id":47828760,"body_markdown":"Agreed and it is definitely a progress from earlier version of my program :)","body":"Agreed and it is definitely a progress from earlier version of my program :)"}],"answers":[{"tags":[],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429889738,"creation_date":1429885467,"answer_id":29850026,"question_id":29849200,"body_markdown":"If you take a look at the Java docs for BeanProcessor :\r\n\r\n&gt; protected int[] mapColumnsToProperties(ResultSetMetaData rsmd,\r\n&gt;                            PropertyDescriptor[] props)\r\n&gt;                                 throws SQLException \r\n\r\n&gt;The positions in the returned array represent column numbers. The values stored at each\r\n&gt; position represent the index in the PropertyDescriptor[] for the bean\r\n&gt; property that matches the column name. If no bean property was found\r\n&gt; for a column, the position is set to PROPERTY_NOT_FOUND. Parameters:\r\n&gt; rsmd - The ResultSetMetaData containing column information. props -\r\n&gt; The bean property descriptors. Returns: An int[] with column index to\r\n&gt; property index mappings. The 0th element is meaningless because JDBC\r\n&gt; column indexing starts at 1.\r\n\r\nLooks like you will need to create a class that extends from `BeanProcessor` and overrides the `mapColumnsToProperties` method as follows :\r\n\r\n    public class StateBeanProcessor extends BeanProcessor {\r\n    \r\n        @Override\r\n        protected  int[] mapColumnsToProperties(ResultSetMetaData rsmd, PropertyDescriptor[] props) throws SQLException {\r\n              int[] mapping = super.mapColumnsToProperties(rsmd, props);\r\n              /*Map database columns to fields in the order in which they appear\r\n                1st column in the DB will be mapped to 1st field in the Java\r\n                class and so on.. */\r\n              for(int i=0;i&lt;mapping.length;++i) {\r\n                 mapping[i]=i;\r\n              }\r\n          }\r\n      }\r\n\r\nYou can then plugin the above StateBeanProcessor into your code as follows :\r\n\r\n    states = (List&lt;State&gt;) new QueryRunner().query(conn, &quot;select * from states&quot;, new BeanListHandler(State.class,new BasicRowProcessor(new StateBeanProcessor())));\r\n\r\n**Disclaimer :** I have not tested out this code. It aims to show you the bits and pieces that you can put together to have custom field mappings. If you find an issue with it, you can let me know so I can look into it.\r\n\r\n","title":"How to map database column names to Java class fields using apache-commons-dbutils","body":"<p>If you take a look at the Java docs for BeanProcessor :</p>\n\n<blockquote>\n  <p>protected int[] mapColumnsToProperties(ResultSetMetaData rsmd,\n                             PropertyDescriptor[] props)\n                                  throws SQLException </p>\n  \n  <p>The positions in the returned array represent column numbers. The values stored at each\n  position represent the index in the PropertyDescriptor[] for the bean\n  property that matches the column name. If no bean property was found\n  for a column, the position is set to PROPERTY_NOT_FOUND. Parameters:\n  rsmd - The ResultSetMetaData containing column information. props -\n  The bean property descriptors. Returns: An int[] with column index to\n  property index mappings. The 0th element is meaningless because JDBC\n  column indexing starts at 1.</p>\n</blockquote>\n\n<p>Looks like you will need to create a class that extends from <code>BeanProcessor</code> and overrides the <code>mapColumnsToProperties</code> method as follows :</p>\n\n<pre><code>public class StateBeanProcessor extends BeanProcessor {\n\n    @Override\n    protected  int[] mapColumnsToProperties(ResultSetMetaData rsmd, PropertyDescriptor[] props) throws SQLException {\n          int[] mapping = super.mapColumnsToProperties(rsmd, props);\n          /*Map database columns to fields in the order in which they appear\n            1st column in the DB will be mapped to 1st field in the Java\n            class and so on.. */\n          for(int i=0;i&lt;mapping.length;++i) {\n             mapping[i]=i;\n          }\n      }\n  }\n</code></pre>\n\n<p>You can then plugin the above StateBeanProcessor into your code as follows :</p>\n\n<pre><code>states = (List&lt;State&gt;) new QueryRunner().query(conn, \"select * from states\", new BeanListHandler(State.class,new BasicRowProcessor(new StateBeanProcessor())));\n</code></pre>\n\n<p><strong>Disclaimer :</strong> I have not tested out this code. It aims to show you the bits and pieces that you can put together to have custom field mappings. If you find an issue with it, you can let me know so I can look into it.</p>\n"},{"tags":[],"owner":{"account_id":9080036,"reputation":61,"user_id":6760151,"display_name":"guomin bai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472197313,"creation_date":1472193699,"answer_id":39159866,"question_id":29849200,"body_markdown":"i&#39;m from china,my english is not very well;\r\nbut this issue ,this is my resolve :\r\nbecause the dbutils is open source, you can modify the source code, and use maven to make a jar only for you ,i just modify the BeanProcessor class,you can add a method named `changeColumnName` like this :\r\n\r\n    public  String changeColumnName(String columnName){\r\n        \tif(columnName == null){\r\n        \t\treturn null;\r\n        \t}\r\n        \tif(columnName.contains(&quot;_&quot;)){\r\n        \t\tchar[] cs = columnName.toCharArray();\r\n        \t\tint flag = -1;\r\n        \t\tfor(int index=0;index&lt;columnName.toCharArray().length;index++){\r\n        \t\t\tif(cs[index] == &#39;_&#39;){\r\n        \t\t\t\tflag = index;\r\n        \t\t\t\tbreak;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\tcolumnName = columnName.substring(0, flag) + columnName.substring(flag+1,flag+2).toUpperCase() + columnName.substring(flag+2);\r\n        \t\treturn changeColumnName(columnName);\r\n        \t}else{\r\n        \t\treturn columnName;\r\n        \t}\r\n        }\r\n\r\nand  in the method \r\n\r\n    protected int[] mapColumnsToProperties(ResultSetMetaData rsmd,\r\n            PropertyDescriptor[] props) throws SQLException {\r\n\r\n        int cols = rsmd.getColumnCount();\r\n        int[] columnToProperty = new int[cols + 1];\r\n        Arrays.fill(columnToProperty, PROPERTY_NOT_FOUND);\r\n\r\n        for (int col = 1; col &lt;= cols; col++) {\r\n            String columnName = rsmd.getColumnLabel(col);\r\n            if (null == columnName || 0 == columnName.length()) {\r\n              columnName = rsmd.getColumnName(col);\r\n            }\r\n            String propertyName = columnToPropertyOverrides.get(columnName);\r\n            if (propertyName == null) {\r\n                propertyName = changeColumnName(columnName);//add here\r\n            }\r\n            for (int i = 0; i &lt; props.length; i++) {\r\n\r\n                if (propertyName.equalsIgnoreCase(props[i].getName())) {\r\n                    columnToProperty[col] = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return columnToProperty;\r\n    }\r\n\r\nit can solve the problem.welcome to discuss with me .my google email is guomin.bai@gmail.com ","title":"How to map database column names to Java class fields using apache-commons-dbutils","body":"<p>i'm from china,my english is not very well;\nbut this issue ,this is my resolve :\nbecause the dbutils is open source, you can modify the source code, and use maven to make a jar only for you ,i just modify the BeanProcessor class,you can add a method named <code>changeColumnName</code> like this :</p>\n\n<pre><code>public  String changeColumnName(String columnName){\n        if(columnName == null){\n            return null;\n        }\n        if(columnName.contains(\"_\")){\n            char[] cs = columnName.toCharArray();\n            int flag = -1;\n            for(int index=0;index&lt;columnName.toCharArray().length;index++){\n                if(cs[index] == '_'){\n                    flag = index;\n                    break;\n                }\n            }\n            columnName = columnName.substring(0, flag) + columnName.substring(flag+1,flag+2).toUpperCase() + columnName.substring(flag+2);\n            return changeColumnName(columnName);\n        }else{\n            return columnName;\n        }\n    }\n</code></pre>\n\n<p>and  in the method </p>\n\n<pre><code>protected int[] mapColumnsToProperties(ResultSetMetaData rsmd,\n        PropertyDescriptor[] props) throws SQLException {\n\n    int cols = rsmd.getColumnCount();\n    int[] columnToProperty = new int[cols + 1];\n    Arrays.fill(columnToProperty, PROPERTY_NOT_FOUND);\n\n    for (int col = 1; col &lt;= cols; col++) {\n        String columnName = rsmd.getColumnLabel(col);\n        if (null == columnName || 0 == columnName.length()) {\n          columnName = rsmd.getColumnName(col);\n        }\n        String propertyName = columnToPropertyOverrides.get(columnName);\n        if (propertyName == null) {\n            propertyName = changeColumnName(columnName);//add here\n        }\n        for (int i = 0; i &lt; props.length; i++) {\n\n            if (propertyName.equalsIgnoreCase(props[i].getName())) {\n                columnToProperty[col] = i;\n                break;\n            }\n        }\n    }\n\n    return columnToProperty;\n}\n</code></pre>\n\n<p>it can solve the problem.welcome to discuss with me .my google email is guomin.bai@gmail.com </p>\n"},{"tags":[],"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517389066,"creation_date":1482305524,"answer_id":41257375,"question_id":29849200,"body_markdown":"\tMap&lt;String,String&gt; mapColumnsToProperties = new HashMap&lt;&gt;();\r\n    //mapping you database to entity here;\r\n\tmapColumnsToProperties.put(&quot;database_column&quot;,&quot;entity_property&quot;);\r\n\tBeanProcessor beanProcessor = new BeanProcessor(mapColumnsToProperties);\r\n\tRowProcessor rowProcessor = new BasicRowProcessor( beanProcessor); \r\n\tResultSetHandler&lt;List&lt;Entity&gt;&gt; resultSetHandler = new BeanListHandler&lt;Entity&gt;(Entity.class,rowProcessor);\r\n\tList&lt;Entity&gt; entityLists = queryRunner.query(findListSQL, resultSetHandler);\t","title":"How to map database column names to Java class fields using apache-commons-dbutils","body":"<pre><code>Map&lt;String,String&gt; mapColumnsToProperties = new HashMap&lt;&gt;();\n//mapping you database to entity here;\nmapColumnsToProperties.put(\"database_column\",\"entity_property\");\nBeanProcessor beanProcessor = new BeanProcessor(mapColumnsToProperties);\nRowProcessor rowProcessor = new BasicRowProcessor( beanProcessor); \nResultSetHandler&lt;List&lt;Entity&gt;&gt; resultSetHandler = new BeanListHandler&lt;Entity&gt;(Entity.class,rowProcessor);\nList&lt;Entity&gt; entityLists = queryRunner.query(findListSQL, resultSetHandler);    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510209370,"creation_date":1510209370,"answer_id":47195371,"question_id":29849200,"body_markdown":"I have already answered similar [so question here][1].\r\n\r\nYou can use `GenerousBeanProcessor` which is a subclass of `BeanProcessor` it ignores underscore &amp; case sensitivity from column name. You don&#39;t have to implement your own custom `BeanProcessor` for this particular case.\r\n\r\n`GenerousBeanProcessor` is available since version 1.6 of *commons-dbutils*.\r\n\r\nUsage:\r\n\r\n    // TODO initialize\r\n    QueryRunner queryRunner = null;\r\n    \r\n    ResultSetHandler&lt;List&lt;State&gt;&gt; resultSetHandler =\r\n                    new BeanListHandler&lt;State&gt;(State.class, new BasicRowProcessor(new GenerousBeanProcessor()));\r\n    \r\n    // best practice is mentioning only required columns in the query\r\n    final List&lt;State&gt; states = queryRunner.query(&quot;select * from states a where a.active=&#39;Y&#39;&quot;, resultSetHandler);\r\n    \r\n    for (State state : states) {\r\n        System.out.println(state.getStateId());\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24563564/dbutils-fails-to-fill-fields-of-a-java-bean/47173835#47173835\r\n","title":"How to map database column names to Java class fields using apache-commons-dbutils","body":"<p>I have already answered similar <a href=\"https://stackoverflow.com/questions/24563564/dbutils-fails-to-fill-fields-of-a-java-bean/47173835#47173835\">so question here</a>.</p>\n\n<p>You can use <code>GenerousBeanProcessor</code> which is a subclass of <code>BeanProcessor</code> it ignores underscore &amp; case sensitivity from column name. You don't have to implement your own custom <code>BeanProcessor</code> for this particular case.</p>\n\n<p><code>GenerousBeanProcessor</code> is available since version 1.6 of <em>commons-dbutils</em>.</p>\n\n<p>Usage:</p>\n\n<pre><code>// TODO initialize\nQueryRunner queryRunner = null;\n\nResultSetHandler&lt;List&lt;State&gt;&gt; resultSetHandler =\n                new BeanListHandler&lt;State&gt;(State.class, new BasicRowProcessor(new GenerousBeanProcessor()));\n\n// best practice is mentioning only required columns in the query\nfinal List&lt;State&gt; states = queryRunner.query(\"select * from states a where a.active='Y'\", resultSetHandler);\n\nfor (State state : states) {\n    System.out.println(state.getStateId());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2338585,"reputation":11,"user_id":2050379,"display_name":"kdhakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678359117,"creation_date":1614109328,"answer_id":66339984,"question_id":29849200,"body_markdown":"This can be easily done using MapListHandler and Jackson without defining a custom bean processor or providing a column mapping.\r\n\r\n1. change your POJO to \r\n\r\n        public class State implements Serializable {\r\n    \r\n        @JsonProperty(&quot;state_id&quot;)//db column name\r\n        private int stateId;\r\n    \r\n        @JsonProperty(&quot;state_cd&quot;)\r\n        private String stateCode;\r\n        \r\n        //and so on ....\r\n      }\r\n\r\n2. Use MapListHandler with Jackson to fetch and convert the response to POJO.\r\n   \r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\n\r\nList&lt;State&gt; stateList = new QueryRunner()\r\n.query(connection, query, new MapListHandler())\r\n.stream()\r\n.map(response -&gt; objectMapper.convertValue(response, State.class))\r\n.collect(Collectors.toList());\r\n```\r\n\r\nIn this approach, you are first fetching List&lt;Map&lt;String, Object&gt;&gt; which is a list of records and each record is coming in a map of column name and value, which can be mapped to a POJO using Jackson&#39;s convertValue method (which will use @JsonProperty annotation to map the column to the POJO field).\r\n\r\nThis approach will give you better control of mapping a DB column to a POJO field.\r\n","title":"How to map database column names to Java class fields using apache-commons-dbutils","body":"<p>This can be easily done using MapListHandler and Jackson without defining a custom bean processor or providing a column mapping.</p>\n<ol>\n<li><p>change your POJO to</p>\n<pre><code> public class State implements Serializable {\n\n @JsonProperty(&quot;state_id&quot;)//db column name\n private int stateId;\n\n @JsonProperty(&quot;state_cd&quot;)\n private String stateCode;\n\n //and so on ....\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Use MapListHandler with Jackson to fetch and convert the response to POJO.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\n\nList&lt;State&gt; stateList = new QueryRunner()\n.query(connection, query, new MapListHandler())\n.stream()\n.map(response -&gt; objectMapper.convertValue(response, State.class))\n.collect(Collectors.toList());\n</code></pre>\n<p>In this approach, you are first fetching List&lt;Map&lt;String, Object&gt;&gt; which is a list of records and each record is coming in a map of column name and value, which can be mapped to a POJO using Jackson's convertValue method (which will use @JsonProperty annotation to map the column to the POJO field).</p>\n<p>This approach will give you better control of mapping a DB column to a POJO field.</p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11191,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":29850026,"answer_count":5,"score":2,"last_activity_date":1678359117,"creation_date":1429883201,"question_id":29849200,"body_markdown":"I would like to populate a POJO (State.java) from DB using `Apache DBUtils` library. However, since the names of the Bean properties do not match exactly with DB column names some of the properties are left unfilled. \r\n\r\nNow, I did some research on this by googling and found that this can be achieved by:\r\n\r\n 1. Column aliasing while writing an SQL query (which I do not prefer as I have multiple joins in some of larger tables and hence would require lot of aliasing) \r\n 2. Using BeanProcessor (could not find a really good example anywhere)\r\n\r\nCan anybody provide a good example on how to use `BeanProcessor` to map column names to properties? Tweaking the example provided me would be even better.\r\n\r\n**DB Table**\r\n\r\n    CREATE TABLE public.states (\r\n      state_id INTEGER DEFAULT nextval(&#39;states_seq&#39;::regclass) NOT NULL,\r\n      state_cd VARCHAR(2) NOT NULL,\r\n      name VARCHAR(100) NOT NULL,\r\n      tax_pct NUMERIC(10,2) DEFAULT 0.00 NOT NULL,\r\n      active CHAR(1) DEFAULT &#39;Y&#39;::bpchar NOT NULL,\r\n    ) \r\n\r\n\r\n**State.java**\r\n\r\n  \r\n\r\n      public class State implements Serializable {\r\n    \r\n        private int stateId;\r\n        private String stateCode;\r\n        private String name;\r\n        private BigDecimal taxPct = new BigDecimal(0);\r\n        private Date expiryDate;\r\n        private String createdBy;\r\n        private Date createdOn;\r\n        private String active;\r\n        \r\n        //getters and setters here\r\n    }\r\n\r\n**Main.java**\r\n\r\n        public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            String url = &quot;jdbc:postgresql://gsi-547576.gsiccorp.net:5432/istore-db&quot;;\r\n            String driver = &quot;org.postgresql.Driver&quot;;\r\n            String user = &quot;postgres&quot;;\r\n            String pwd = &quot;postgres&quot;;\r\n            Connection conn = null;\r\n            List&lt;State&gt; states = null;\r\n    \r\n            try {\r\n                DbUtils.loadDriver(driver);\r\n                conn = DriverManager.getConnection(url, user, pwd);\r\n    \r\n                states = (List&lt;State&gt;) new QueryRunner().query(conn, &quot;select * from states a where a.active=&#39;Y&#39;&quot;, new BeanListHandler(State.class);\r\n    \r\n                System.out.println(&quot;states::  &quot; + states);\r\n    \r\n            } catch (SQLException ex) {\r\n                ex.printStackTrace();\r\n            } finally {\r\n                DbUtils.closeQuietly(conn);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"How to map database column names to Java class fields using apache-commons-dbutils","body":"<p>I would like to populate a POJO (State.java) from DB using <code>Apache DBUtils</code> library. However, since the names of the Bean properties do not match exactly with DB column names some of the properties are left unfilled. </p>\n\n<p>Now, I did some research on this by googling and found that this can be achieved by:</p>\n\n<ol>\n<li>Column aliasing while writing an SQL query (which I do not prefer as I have multiple joins in some of larger tables and hence would require lot of aliasing) </li>\n<li>Using BeanProcessor (could not find a really good example anywhere)</li>\n</ol>\n\n<p>Can anybody provide a good example on how to use <code>BeanProcessor</code> to map column names to properties? Tweaking the example provided me would be even better.</p>\n\n<p><strong>DB Table</strong></p>\n\n<pre><code>CREATE TABLE public.states (\n  state_id INTEGER DEFAULT nextval('states_seq'::regclass) NOT NULL,\n  state_cd VARCHAR(2) NOT NULL,\n  name VARCHAR(100) NOT NULL,\n  tax_pct NUMERIC(10,2) DEFAULT 0.00 NOT NULL,\n  active CHAR(1) DEFAULT 'Y'::bpchar NOT NULL,\n) \n</code></pre>\n\n<p><strong>State.java</strong></p>\n\n<pre><code>  public class State implements Serializable {\n\n    private int stateId;\n    private String stateCode;\n    private String name;\n    private BigDecimal taxPct = new BigDecimal(0);\n    private Date expiryDate;\n    private String createdBy;\n    private Date createdOn;\n    private String active;\n\n    //getters and setters here\n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>    public class Main {\n\n    public static void main(String[] args) {\n        String url = \"jdbc:postgresql://gsi-547576.gsiccorp.net:5432/istore-db\";\n        String driver = \"org.postgresql.Driver\";\n        String user = \"postgres\";\n        String pwd = \"postgres\";\n        Connection conn = null;\n        List&lt;State&gt; states = null;\n\n        try {\n            DbUtils.loadDriver(driver);\n            conn = DriverManager.getConnection(url, user, pwd);\n\n            states = (List&lt;State&gt;) new QueryRunner().query(conn, \"select * from states a where a.active='Y'\", new BeanListHandler(State.class);\n\n            System.out.println(\"states::  \" + states);\n\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        } finally {\n            DbUtils.closeQuietly(conn);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","angular","frontend","cors","backend"],"comments":[{"owner":{"account_id":1968981,"reputation":55,"user_id":1768491,"accept_rate":50,"display_name":"S.Honderdos"},"score":0,"creation_date":1677080071,"post_id":75534696,"comment_id":133267406,"body_markdown":"You mention that if you hardcode the id in the `deleteEmployee` function you don&#39;t get a error. Looking at the URL from the error you receive it contains `[object%20Object]` . \n\nCan you verify that you are actually passing a number to the function `deleteEmployee` and not an object.","body":"You mention that if you hardcode the id in the <code>deleteEmployee</code> function you don&#39;t get a error. Looking at the URL from the error you receive it contains <code>[object%20Object]</code> .   Can you verify that you are actually passing a number to the function <code>deleteEmployee</code> and not an object."},{"owner":{"account_id":27851987,"reputation":11,"user_id":21266316,"display_name":"Alessandro Bigherati"},"score":0,"creation_date":1677080913,"post_id":75534696,"comment_id":133267731,"body_markdown":"By using console.log(id) it appears as \nidemp: 1\n[[Prototype]]:  Object\nSo it seems that i am passing an object but shouldn&#39;t id:number specify that id is an int or double variable?","body":"By using console.log(id) it appears as  idemp: 1 [[Prototype]]:  Object So it seems that i am passing an object but shouldn&#39;t id:number specify that id is an int or double variable?"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1677091388,"post_id":75534696,"comment_id":133270957,"body_markdown":"This is a long shot (I haven&#39;t studied Spring&#39;s source code closely), but try replacing `allowedHeaders(&quot;*&quot;)` with `allowedHeaders(&quot;Content-Type&quot;)`.","body":"This is a long shot (I haven&#39;t studied Spring&#39;s source code closely), but try replacing <code>allowedHeaders(&quot;*&quot;)</code> with <code>allowedHeaders(&quot;Content-Type&quot;)</code>."},{"owner":{"account_id":1968981,"reputation":55,"user_id":1768491,"accept_rate":50,"display_name":"S.Honderdos"},"score":0,"creation_date":1677103282,"post_id":75534696,"comment_id":133274167,"body_markdown":"It does not guarantee a number. If the object, as you suggest, has a property `idemp`. Changing the `${id}` to `${id.idemp}` should work. But judging by the code I think you want to make the caller of the function responsible for passing the correct value as a parameter.\n\nI don&#39;t think your issue is related to CORS but related to passing the wrong parameter to the function.","body":"It does not guarantee a number. If the object, as you suggest, has a property <code>idemp</code>. Changing the <code>${id}</code> to <code>${id.idemp}</code> should work. But judging by the code I think you want to make the caller of the function responsible for passing the correct value as a parameter.  I don&#39;t think your issue is related to CORS but related to passing the wrong parameter to the function."},{"owner":{"account_id":27851987,"reputation":11,"user_id":21266316,"display_name":"Alessandro Bigherati"},"score":0,"creation_date":1677140775,"post_id":75534696,"comment_id":133279971,"body_markdown":"I manage to fix it by doing JSON.Stringify(id) and making the methods in backend receive a String value that was like &quot;{idemp: 1}&quot; Then i manage to generate a substring that takes only the numbers from the sent string and converted it to int, it seems to work this way. Thanks for the help guys I didn&#39;t notice that I was sending an object at the beginning s(^.^)-b","body":"I manage to fix it by doing JSON.Stringify(id) and making the methods in backend receive a String value that was like &quot;{idemp: 1}&quot; Then i manage to generate a substring that takes only the numbers from the sent string and converted it to int, it seems to work this way. Thanks for the help guys I didn&#39;t notice that I was sending an object at the beginning s(^.^)-b"}],"answers":[{"tags":[],"owner":{"account_id":6152068,"reputation":3072,"user_id":4796214,"display_name":"marcel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678359003,"creation_date":1678295105,"answer_id":75676081,"question_id":75534696,"body_markdown":"I know, you already found a solution, but for anyone else who stumbles across this post: Here are two options on how to enable CORS globally.\r\n\r\n### Prerequisite\r\nI added the cors parameters into my `application.yml`\r\n\r\n```yml\r\nspring:\r\n  cors:\r\n    allowed-origins: https://localhost:4200\r\n    allowed-headers: cors_allowed_headers:Origin,X-Requested-With,Content-Type,Accept,Authorization\r\n    allowed-methods: cors_allowed_methods:GET,OPTIONS,POST,PATCH,PUT,DELETE\r\n    allow-credentials: cors_allow_credentials:false\r\n    max-age: cors_max_age:3600\r\n```\r\n\r\n### 1. Option using Interceptor\r\nYou can use an Interceptor that checks the request origin and sets the headers:\r\n\r\n```java\r\npublic class CORSInterceptor implements HandlerInterceptor {\r\n    public static final String HEADER_CREDENTIALS_NAME = &quot;Access-Control-Allow-Credentials&quot;;\r\n    public static final String HEADER_ORIGIN_NAME = &quot;Access-Control-Allow-Origin&quot;;\r\n    public static final String HEADER_METHODS_NAME = &quot;Access-Control-Allow-Methods&quot;;\r\n    public static final String HEADER_HEADERS_NAME = &quot;Access-Control-Allow-Headers&quot;;\r\n    public static final String HEADER_MAX_AGE_NAME = &quot;Access-Control-Max-Age&quot;;\r\n\r\n    private final Environment env;\r\n\r\n    public CORSInterceptor(Environment env) {\r\n        this.env = env;\r\n    }\r\n\r\n    @Override\r\n    public boolean preHandle(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Object handler\r\n    ) throws Exception {\r\n        String[] allowedOrigins = this.env.getProperty(WebConfiguration.CORS_ALLOWED_ORIGINS, String[].class);\r\n        String allowedHeaders = this.env.getProperty(WebConfiguration.CORS_ALLOWED_HEADERS);\r\n        String allowedMethods = this.env.getProperty(WebConfiguration.CORS_ALLOWED_METHODS);\r\n        String allowCredentials = this.env.getProperty(WebConfiguration.CORS_ALLOWED_CREDENTIALS);\r\n        String maxAge = this.env.getProperty(WebConfiguration.CORS_MAX_AGE);\r\n\r\n        String requestOrigin = request.getHeader(&quot;Origin&quot;);\r\n        if (Arrays.stream(allowedOrigins).anyMatch(allowedOrigin -&gt; allowedOrigin.equals(requestOrigin))) {\r\n            response.setHeader(HEADER_ORIGIN_NAME, requestOrigin);\r\n        }\r\n        response.setHeader(HEADER_CREDENTIALS_NAME, allowCredentials);\r\n        response.setHeader(HEADER_METHODS_NAME, allowedMethods);\r\n        response.setHeader(HEADER_HEADERS_NAME, allowedHeaders);\r\n        response.setHeader(HEADER_MAX_AGE_NAME, maxAge);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n&gt; HINT: `Access-Control-Allow-Origin`-header can only contain one URL. So I need to check, if the request origin is allowed and set the header accordingly.\r\n\r\nThen register the interceptor in your WebConfig:\r\n\r\n```java\r\n@EnableWebMvc\r\n@Configuration\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new CORSInterceptor());\r\n    }\r\n\r\n}\r\n```\r\n\r\n### 2. Option using Configuration\r\nYou can also use the `WebMvcConfigurer` directly:\r\n\r\n```java\r\n@EnableWebMvc\r\n@Configuration\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    public static final String CORS_ALLOWED_ORIGINS = &quot;spring.cors.allowed-origins&quot;;\r\n    public static final String CORS_ALLOWED_HEADERS = &quot;spring.cors.allowed-headers&quot;;\r\n    public static final String CORS_ALLOWED_METHODS = &quot;spring.cors.allowed-methods&quot;;\r\n    public static final String CORS_ALLOWED_CREDENTIALS = &quot;spring.cors.allow-credentials&quot;;\r\n    public static final String CORS_MAX_AGE = &quot;spring.cors.max-age&quot;;\r\n\r\n    private final Environment env;\r\n\r\n    public WebConfiguration(Environment env) {\r\n        this.env = env;\r\n    }\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        String[] allowedOrigins = this.env.getProperty(CORS_ALLOWED_ORIGINS, String[].class);\r\n        String[] allowedHeaders = this.env.getProperty(CORS_ALLOWED_HEADERS, String[].class);\r\n        String[] allowedMethods = this.env.getProperty(CORS_ALLOWED_METHODS, String[].class);\r\n        Boolean allowCredentials = this.env.getProperty(CORS_ALLOWED_CREDENTIALS, Boolean.class);\r\n        Long maxAge = this.env.getProperty(CORS_MAX_AGE, Long.class);\r\n\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(allowedOrigins));\r\n        configuration.setAllowedMethods(List.of(allowedMethods));\r\n        configuration.setAllowedHeaders(List.of(allowedHeaders));\r\n        configuration.setAllowCredentials(allowCredentials);\r\n        configuration.setMaxAge(maxAge);\r\n\r\n        registry.addMapping(&quot;/**&quot;).combine(configuration);\r\n    }\r\n}\r\n```\r\n\r\nUPDATE: Figured our that you only need the interceptor OR the web configuration. I will update my answer accordingly.\r\n","title":"How do I fix Cors policy from blocking requestes with Pathvariables on Angular?","body":"<p>I know, you already found a solution, but for anyone else who stumbles across this post: Here are two options on how to enable CORS globally.</p>\n<h3>Prerequisite</h3>\n<p>I added the cors parameters into my <code>application.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cors:\n    allowed-origins: https://localhost:4200\n    allowed-headers: cors_allowed_headers:Origin,X-Requested-With,Content-Type,Accept,Authorization\n    allowed-methods: cors_allowed_methods:GET,OPTIONS,POST,PATCH,PUT,DELETE\n    allow-credentials: cors_allow_credentials:false\n    max-age: cors_max_age:3600\n</code></pre>\n<h3>1. Option using Interceptor</h3>\n<p>You can use an Interceptor that checks the request origin and sets the headers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CORSInterceptor implements HandlerInterceptor {\n    public static final String HEADER_CREDENTIALS_NAME = &quot;Access-Control-Allow-Credentials&quot;;\n    public static final String HEADER_ORIGIN_NAME = &quot;Access-Control-Allow-Origin&quot;;\n    public static final String HEADER_METHODS_NAME = &quot;Access-Control-Allow-Methods&quot;;\n    public static final String HEADER_HEADERS_NAME = &quot;Access-Control-Allow-Headers&quot;;\n    public static final String HEADER_MAX_AGE_NAME = &quot;Access-Control-Max-Age&quot;;\n\n    private final Environment env;\n\n    public CORSInterceptor(Environment env) {\n        this.env = env;\n    }\n\n    @Override\n    public boolean preHandle(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Object handler\n    ) throws Exception {\n        String[] allowedOrigins = this.env.getProperty(WebConfiguration.CORS_ALLOWED_ORIGINS, String[].class);\n        String allowedHeaders = this.env.getProperty(WebConfiguration.CORS_ALLOWED_HEADERS);\n        String allowedMethods = this.env.getProperty(WebConfiguration.CORS_ALLOWED_METHODS);\n        String allowCredentials = this.env.getProperty(WebConfiguration.CORS_ALLOWED_CREDENTIALS);\n        String maxAge = this.env.getProperty(WebConfiguration.CORS_MAX_AGE);\n\n        String requestOrigin = request.getHeader(&quot;Origin&quot;);\n        if (Arrays.stream(allowedOrigins).anyMatch(allowedOrigin -&gt; allowedOrigin.equals(requestOrigin))) {\n            response.setHeader(HEADER_ORIGIN_NAME, requestOrigin);\n        }\n        response.setHeader(HEADER_CREDENTIALS_NAME, allowCredentials);\n        response.setHeader(HEADER_METHODS_NAME, allowedMethods);\n        response.setHeader(HEADER_HEADERS_NAME, allowedHeaders);\n        response.setHeader(HEADER_MAX_AGE_NAME, maxAge);\n        return true;\n    }\n}\n</code></pre>\n<blockquote>\n<p>HINT: <code>Access-Control-Allow-Origin</code>-header can only contain one URL. So I need to check, if the request origin is allowed and set the header accordingly.</p>\n</blockquote>\n<p>Then register the interceptor in your WebConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebMvc\n@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new CORSInterceptor());\n    }\n\n}\n</code></pre>\n<h3>2. Option using Configuration</h3>\n<p>You can also use the <code>WebMvcConfigurer</code> directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebMvc\n@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    public static final String CORS_ALLOWED_ORIGINS = &quot;spring.cors.allowed-origins&quot;;\n    public static final String CORS_ALLOWED_HEADERS = &quot;spring.cors.allowed-headers&quot;;\n    public static final String CORS_ALLOWED_METHODS = &quot;spring.cors.allowed-methods&quot;;\n    public static final String CORS_ALLOWED_CREDENTIALS = &quot;spring.cors.allow-credentials&quot;;\n    public static final String CORS_MAX_AGE = &quot;spring.cors.max-age&quot;;\n\n    private final Environment env;\n\n    public WebConfiguration(Environment env) {\n        this.env = env;\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        String[] allowedOrigins = this.env.getProperty(CORS_ALLOWED_ORIGINS, String[].class);\n        String[] allowedHeaders = this.env.getProperty(CORS_ALLOWED_HEADERS, String[].class);\n        String[] allowedMethods = this.env.getProperty(CORS_ALLOWED_METHODS, String[].class);\n        Boolean allowCredentials = this.env.getProperty(CORS_ALLOWED_CREDENTIALS, Boolean.class);\n        Long maxAge = this.env.getProperty(CORS_MAX_AGE, Long.class);\n\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(allowedOrigins));\n        configuration.setAllowedMethods(List.of(allowedMethods));\n        configuration.setAllowedHeaders(List.of(allowedHeaders));\n        configuration.setAllowCredentials(allowCredentials);\n        configuration.setMaxAge(maxAge);\n\n        registry.addMapping(&quot;/**&quot;).combine(configuration);\n    }\n}\n</code></pre>\n<p>UPDATE: Figured our that you only need the interceptor OR the web configuration. I will update my answer accordingly.</p>\n"}],"owner":{"account_id":27851987,"reputation":11,"user_id":21266316,"display_name":"Alessandro Bigherati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678359003,"creation_date":1677078818,"question_id":75534696,"body_markdown":"so basically I am new to Angular and I am trying to send a delete request and a get request that uses path variables. \r\n\r\nThis is the frontend call:\r\n\r\n```\r\n public deleteEmployee(id: number): Observable&lt;void&gt; {\r\n  const options= { headers: { &#39;Content-Type&#39;: &#39;application/json&#39;} }\r\n  return this.http.delete&lt;void&gt;(` ${this.apiServerUrl}/employee/del/${id}`,options);\r\n }\r\n public searchEmployee(id: number) : Observable&lt;Employee&gt;\r\n {\r\n  const options=  {\r\n    headers: new HttpHeaders({&#39;Content-Type&#39;:  &#39;application/json&#39;,})\r\n  };\r\n\r\n  return this.http.get&lt;any&gt;(` ${this.apiServerUrl}/employee/foundid/${id}`);\r\n }\r\n```\r\nThis are the backend methods:\r\n\r\n\r\n```\r\n\t@DeleteMapping(&quot;/employee/del/{id}&quot;)\r\n\tpublic void deleteEmployee(@PathVariable int id)\r\n\t{\r\n\r\n\t\tif(repo.findById(id).isPresent())\r\n\t\t{\r\n\t\t\trepo.deleteById(id);\r\n\t\t\tSystem.out.println(&quot;Employee Deleted&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Employee not found&quot;);\r\n\t\t}\r\n\t}\r\n\t@GetMapping(&quot;/employee/foundid&quot;)\r\n\tpublic Employee getEmployee(@PathVariable int id)\r\n\t{\r\n\t\tif(repo.findById(id).isPresent())\r\n\t\t{\r\n\t\t\treturn repo.findById(id).get();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot; Employee not found&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n```\r\nThis is my WebMvcConfig class\r\n\r\n\r\n```\r\n@Configuration\r\npublic class WebMvcConfig {\r\n    private final long MAX_AGE_SECS = 3600;\r\n\r\n    @Bean\r\n    public WebMvcConfigurer addCorsMappingsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:4200&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;,&quot;DELETE&quot;, &quot;OPTIONS&quot;).allowedHeaders(&quot;*&quot;)\r\n                        .allowCredentials(true).maxAge(MAX_AGE_SECS);\r\n            }\r\n        };\r\n\r\n    }\r\n}\r\n```\r\nThis is the error I am getting:\r\nAccess to XMLHttpRequest at &#39;http://localhost:8080/employee/del/[object%20Object]&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n\r\nI saw the methods works only if the variable was hardcoded like:\r\n\r\n```\r\nid=4\r\nreturn this.http.get&lt;any&gt;(` ${this.apiServerUrl}/employee/foundid/${id}`);\r\n```\r\n\r\nWhat am I doing wrong? Thanks in advance for the help\r\n","title":"How do I fix Cors policy from blocking requestes with Pathvariables on Angular?","body":"<p>so basically I am new to Angular and I am trying to send a delete request and a get request that uses path variables.</p>\n<p>This is the frontend call:</p>\n<pre><code> public deleteEmployee(id: number): Observable&lt;void&gt; {\n  const options= { headers: { 'Content-Type': 'application/json'} }\n  return this.http.delete&lt;void&gt;(` ${this.apiServerUrl}/employee/del/${id}`,options);\n }\n public searchEmployee(id: number) : Observable&lt;Employee&gt;\n {\n  const options=  {\n    headers: new HttpHeaders({'Content-Type':  'application/json',})\n  };\n\n  return this.http.get&lt;any&gt;(` ${this.apiServerUrl}/employee/foundid/${id}`);\n }\n</code></pre>\n<p>This are the backend methods:</p>\n<pre><code>    @DeleteMapping(&quot;/employee/del/{id}&quot;)\n    public void deleteEmployee(@PathVariable int id)\n    {\n\n        if(repo.findById(id).isPresent())\n        {\n            repo.deleteById(id);\n            System.out.println(&quot;Employee Deleted&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;Employee not found&quot;);\n        }\n    }\n    @GetMapping(&quot;/employee/foundid&quot;)\n    public Employee getEmployee(@PathVariable int id)\n    {\n        if(repo.findById(id).isPresent())\n        {\n            return repo.findById(id).get();\n        }\n        else\n        {\n            System.out.println(&quot; Employee not found&quot;);\n            return null;\n        }\n    }\n</code></pre>\n<p>This is my WebMvcConfig class</p>\n<pre><code>@Configuration\npublic class WebMvcConfig {\n    private final long MAX_AGE_SECS = 3600;\n\n    @Bean\n    public WebMvcConfigurer addCorsMappingsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:4200&quot;)\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;,&quot;DELETE&quot;, &quot;OPTIONS&quot;).allowedHeaders(&quot;*&quot;)\n                        .allowCredentials(true).maxAge(MAX_AGE_SECS);\n            }\n        };\n\n    }\n}\n</code></pre>\n<p>This is the error I am getting:\nAccess to XMLHttpRequest at 'http://localhost:8080/employee/del/[object%20Object]' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>I saw the methods works only if the variable was hardcoded like:</p>\n<pre><code>id=4\nreturn this.http.get&lt;any&gt;(` ${this.apiServerUrl}/employee/foundid/${id}`);\n</code></pre>\n<p>What am I doing wrong? Thanks in advance for the help</p>\n"},{"tags":["java","mysql","google-app-engine","migration","datastore"],"comments":[{"owner":{"account_id":6931568,"reputation":49916,"user_id":5320906,"display_name":"snakecharmerb"},"score":0,"creation_date":1508241619,"post_id":46789515,"comment_id":80525474,"body_markdown":"I&#39;ve asked Google Support this question myself recently (I am planning a similar migration), and their response was that there were no offical tools to support this.","body":"I&#39;ve asked Google Support this question myself recently (I am planning a similar migration), and their response was that there were no offical tools to support this."},{"owner":{"account_id":4047023,"reputation":310,"user_id":3327951,"accept_rate":75,"display_name":"Chetan S. Choudhary"},"score":0,"creation_date":1508241752,"post_id":46789515,"comment_id":80525553,"body_markdown":"Oh :( Google has provided both option Datastore and Cloud SQL. There should be something to do switching, NO?","body":"Oh :( Google has provided both option Datastore and Cloud SQL. There should be something to do switching, NO?"},{"owner":{"account_id":4047023,"reputation":310,"user_id":3327951,"accept_rate":75,"display_name":"Chetan S. Choudhary"},"score":0,"creation_date":1508315691,"post_id":46789515,"comment_id":80558830,"body_markdown":"I got an another related question https://stackoverflow.com/questions/14811839/migrate-from-google-java-api-datastore-to-mysql But it show is for Python and my application developed in Java.","body":"I got an another related question <a href=\"https://stackoverflow.com/questions/14811839/migrate-from-google-java-api-datastore-to-mysql\" title=\"migrate from google java api datastore to mysql\">stackoverflow.com/questions/14811839/&hellip;</a> But it show is for Python and my application developed in Java."}],"answers":[{"tags":[],"owner":{"account_id":4047023,"reputation":310,"user_id":3327951,"accept_rate":75,"display_name":"Chetan S. Choudhary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1532882745,"creation_date":1532882745,"answer_id":51582459,"question_id":46789515,"body_markdown":"I completed the migration from DataStore to CloudSQL. My Journey proceeded as follows:\r\n\r\n 1. Import Datastore data to google bigquery using cloud storage bucket.\r\n 2. Select data from bigquery as per desired db schema and export in Excel format.\r\n 3. Import the exported excel in Cloud SQL directly or converting into SQL script.\r\n\r\nAbove are the steps in summarized way which required to migrate from DataStore to CloudSql.\r\n\r\n","title":"Move data from datastore to MySQL(Cloud SQL)","body":"<p>I completed the migration from DataStore to CloudSQL. My Journey proceeded as follows:</p>\n\n<ol>\n<li>Import Datastore data to google bigquery using cloud storage bucket.</li>\n<li>Select data from bigquery as per desired db schema and export in Excel format.</li>\n<li>Import the exported excel in Cloud SQL directly or converting into SQL script.</li>\n</ol>\n\n<p>Above are the steps in summarized way which required to migrate from DataStore to CloudSql.</p>\n"}],"owner":{"account_id":4047023,"reputation":310,"user_id":3327951,"accept_rate":75,"display_name":"Chetan S. Choudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51582459,"answer_count":1,"score":2,"last_activity_date":1678358665,"creation_date":1508241239,"question_id":46789515,"body_markdown":"I am working on moving data from Google App engine datastore to Cloud SQL and I searched every where for any tool or process for this I Got few details/link are :&lt;br&gt;\r\n1. https://cloud.google.com/datastore/docs/export-import-entities&lt;br&gt;\r\n2. https://cloud.google.com/appengine/docs/standard/python/console/datastore-backing-up-restoring&lt;br&gt;\r\n3. https://johanndutoit.net/importing-a-datastore-backup-for-local-development-on-app-engine/&lt;br&gt;\r\n4. https://stackoverflow.com/questions/1317037/exporting-google-app-engine-datastore-to-mysql\r\n\r\nBut didn&#39;t got the perfect solution. Can anyone please help me in findout the efficient approach, any tool or guidelines by which I can move complete data on Mysql.\r\nSome table using other tables keys in their column values so we need to take care of key mismatch problem.\r\n\r\nYour help would be appreciated.\r\n","title":"Move data from datastore to MySQL(Cloud SQL)","body":"<p>I am working on moving data from Google App engine datastore to Cloud SQL and I searched every where for any tool or process for this I Got few details/link are :<br>\n1. <a href=\"https://cloud.google.com/datastore/docs/export-import-entities\" rel=\"nofollow noreferrer\">https://cloud.google.com/datastore/docs/export-import-entities</a><br>\n2. <a href=\"https://cloud.google.com/appengine/docs/standard/python/console/datastore-backing-up-restoring\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/python/console/datastore-backing-up-restoring</a><br>\n3. <a href=\"https://johanndutoit.net/importing-a-datastore-backup-for-local-development-on-app-engine/\" rel=\"nofollow noreferrer\">https://johanndutoit.net/importing-a-datastore-backup-for-local-development-on-app-engine/</a><br>\n4. <a href=\"https://stackoverflow.com/questions/1317037/exporting-google-app-engine-datastore-to-mysql\">Exporting Google App Engine Datastore to MySQL?</a></p>\n\n<p>But didn't got the perfect solution. Can anyone please help me in findout the efficient approach, any tool or guidelines by which I can move complete data on Mysql.\nSome table using other tables keys in their column values so we need to take care of key mismatch problem.</p>\n\n<p>Your help would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","openid-connect","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678358620,"creation_date":1678358620,"answer_id":75683506,"question_id":75126457,"body_markdown":"The `CallbackController` is automatically set on the `/callback` endpoint. Though, you can change that with the `pac4j.callback.path` property.\r\nSee: https://github.com/pac4j/spring-webflux-pac4j/blob/master/src/main/java/org/pac4j/springframework/web/CallbackController.java#L46","title":"OIDC Callback URL 404 - pac4j","body":"<p>The <code>CallbackController</code> is automatically set on the <code>/callback</code> endpoint. Though, you can change that with the <code>pac4j.callback.path</code> property.\nSee: <a href=\"https://github.com/pac4j/spring-webflux-pac4j/blob/master/src/main/java/org/pac4j/springframework/web/CallbackController.java#L46\" rel=\"nofollow noreferrer\">https://github.com/pac4j/spring-webflux-pac4j/blob/master/src/main/java/org/pac4j/springframework/web/CallbackController.java#L46</a></p>\n"}],"owner":{"account_id":15682724,"reputation":519,"user_id":11316253,"display_name":"dCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75683506,"answer_count":1,"score":0,"last_activity_date":1678358620,"creation_date":1673798846,"question_id":75126457,"body_markdown":"I am using https://github.com/pac4j/spring-webflux-pac4j-boot-demo to do an OIDC authentication with spring boot and webflux using pac4j. I am setting a OIDC client with a custom callback url.\r\n\r\nWhen you visit `/authenticate`, you are taken to the IDP provider to login, after logging in, you are redirected to the callback URl. However, the callback url returns `404`.\r\n\r\n The default callback `/callback` is still working. If you try to send a GET request to `/callback` the logs how that the callback logic is executed. Why is the callback url change (using `setCallbackUrl`) not working?\r\n\r\n```\r\n2023-01-15 21:27:04.417 DEBUG 442814 --- [or-http-epoll-3] o.p.core.engine.DefaultCallbackLogic     : === CALLBACK ===\r\n2023-01-15 21:27:05.995 DEBUG 442814 --- [or-http-epoll-3] o.p.core.engine.DefaultCallbackLogic     : foundClient: #OidcClient# |....\r\n... \r\n```\r\n\r\nPac4jConfig.java [Original file [here][1]]\r\n```\r\npackage io.company.auth;\r\nimport java.util.Optional;\r\nimport org.pac4j.core.client.Clients;\r\nimport org.pac4j.core.config.Config;\r\nimport org.pac4j.core.matching.matcher.PathMatcher;\r\nimport org.pac4j.springframework.web.SecurityFilter;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.server.WebFilter;\r\nimport org.pac4j.oidc.client.OidcClient;\r\nimport org.pac4j.oidc.config.OidcConfiguration;\r\n\r\n@Configuration\r\n// to define the callback and logout controllers\r\n@ComponentScan(basePackages = &quot;org.pac4j.springframework.web&quot;)\r\npublic class Pac4jConfig {\r\n   @Bean\r\n    public Config config() {\r\n\t   \tOidcConfiguration config = new OidcConfiguration();\r\n\t\tconfig.setClientId(&quot;my_client_id&quot;);\r\n\t\tconfig.setSecret(&quot;my_secret&quot;);\r\n\t\tconfig.setDiscoveryURI(&quot;idp_dicovery_url&quot;);\r\n\t\tconfig.setScope(&quot;openid&quot;);\r\n\t\tconfig.setUseNonce(false);\r\n\t\tOidcClient oidcClient = new OidcClient(config);\r\n\t\toidcClient.setName(&quot;ABCDapp&quot;);\r\n\t\toidcClient.setCallbackUrl(&quot;http://localhost:8081/api/oidc/cb?client_name=abcd&quot;);\r\n        final Clients clients = new Clients(&quot;http://localhost:8081/api/oidc/cb?client_name=abcd&quot;, oidcClient);\r\n        return new Config(clients);\r\n    }\r\n    @Bean\r\n    public WebFilter protectedFilter() {\r\n        return SecurityFilter.build(config(), new PathMatcher().includePath(&quot;/authenticate&quot;));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/pac4j/spring-webflux-pac4j-boot-demo/blob/master/src/main/java/org/pac4j/demo/spring/Pac4jConfig.java","title":"OIDC Callback URL 404 - pac4j","body":"<p>I am using <a href=\"https://github.com/pac4j/spring-webflux-pac4j-boot-demo\" rel=\"nofollow noreferrer\">https://github.com/pac4j/spring-webflux-pac4j-boot-demo</a> to do an OIDC authentication with spring boot and webflux using pac4j. I am setting a OIDC client with a custom callback url.</p>\n<p>When you visit <code>/authenticate</code>, you are taken to the IDP provider to login, after logging in, you are redirected to the callback URl. However, the callback url returns <code>404</code>.</p>\n<p>The default callback <code>/callback</code> is still working. If you try to send a GET request to <code>/callback</code> the logs how that the callback logic is executed. Why is the callback url change (using <code>setCallbackUrl</code>) not working?</p>\n<pre><code>2023-01-15 21:27:04.417 DEBUG 442814 --- [or-http-epoll-3] o.p.core.engine.DefaultCallbackLogic     : === CALLBACK ===\n2023-01-15 21:27:05.995 DEBUG 442814 --- [or-http-epoll-3] o.p.core.engine.DefaultCallbackLogic     : foundClient: #OidcClient# |....\n... \n</code></pre>\n<p>Pac4jConfig.java [Original file <a href=\"https://github.com/pac4j/spring-webflux-pac4j-boot-demo/blob/master/src/main/java/org/pac4j/demo/spring/Pac4jConfig.java\" rel=\"nofollow noreferrer\">here</a>]</p>\n<pre><code>package io.company.auth;\nimport java.util.Optional;\nimport org.pac4j.core.client.Clients;\nimport org.pac4j.core.config.Config;\nimport org.pac4j.core.matching.matcher.PathMatcher;\nimport org.pac4j.springframework.web.SecurityFilter;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.server.WebFilter;\nimport org.pac4j.oidc.client.OidcClient;\nimport org.pac4j.oidc.config.OidcConfiguration;\n\n@Configuration\n// to define the callback and logout controllers\n@ComponentScan(basePackages = &quot;org.pac4j.springframework.web&quot;)\npublic class Pac4jConfig {\n   @Bean\n    public Config config() {\n        OidcConfiguration config = new OidcConfiguration();\n        config.setClientId(&quot;my_client_id&quot;);\n        config.setSecret(&quot;my_secret&quot;);\n        config.setDiscoveryURI(&quot;idp_dicovery_url&quot;);\n        config.setScope(&quot;openid&quot;);\n        config.setUseNonce(false);\n        OidcClient oidcClient = new OidcClient(config);\n        oidcClient.setName(&quot;ABCDapp&quot;);\n        oidcClient.setCallbackUrl(&quot;http://localhost:8081/api/oidc/cb?client_name=abcd&quot;);\n        final Clients clients = new Clients(&quot;http://localhost:8081/api/oidc/cb?client_name=abcd&quot;, oidcClient);\n        return new Config(clients);\n    }\n    @Bean\n    public WebFilter protectedFilter() {\n        return SecurityFilter.build(config(), new PathMatcher().includePath(&quot;/authenticate&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","liquibase","graylog"],"owner":{"account_id":16940699,"reputation":13,"user_id":12252624,"display_name":"Commander300"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678358247,"creation_date":1678358247,"question_id":75683429,"body_markdown":"Please, help me turn off just only liquibase.hub - Skipping auto-registration warring from Graylog. I have liquibase in 4.3.5 version.","title":"How to switch off liquibase warring - liquibase.hub - Skipping auto-registration","body":"<p>Please, help me turn off just only liquibase.hub - Skipping auto-registration warring from Graylog. I have liquibase in 4.3.5 version.</p>\n"},{"tags":["java","spring-data"],"comments":[{"owner":{"account_id":6064888,"reputation":1355,"user_id":4735549,"accept_rate":69,"display_name":"DanielD"},"score":0,"creation_date":1472086744,"post_id":39135000,"comment_id":65615462,"body_markdown":"found one solution using java stream. But it still is something where I would have to iterate: videos.forEach(videoList::add);","body":"found one solution using java stream. But it still is something where I would have to iterate: videos.forEach(videoList::add);"},{"owner":{"account_id":6064888,"reputation":1355,"user_id":4735549,"accept_rate":69,"display_name":"DanielD"},"score":1,"creation_date":1472088049,"post_id":39135000,"comment_id":65615731,"body_markdown":"can someone explain why my question is not good rather than downvoting it?","body":"can someone explain why my question is not good rather than downvoting it?"},{"owner":{"account_id":1143154,"reputation":19795,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"score":5,"creation_date":1472111513,"post_id":39135000,"comment_id":65623558,"body_markdown":"Please see [how to ask a good question](http://stackoverflow.com/help/how-to-ask). Please pay special attention to the sentence `Pretend you&#39;re talking to a busy colleague`. A good question is one that shows effort and research. Given that `Page` has a `getContent` method that returns a `List`, it does not seem that any research or effort was put in before asking the question. Hence, users (busy colleagues) are likely to be offended and therefore the downvotes.","body":"Please see <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>. Please pay special attention to the sentence <code>Pretend you&#39;re talking to a busy colleague</code>. A good question is one that shows effort and research. Given that <code>Page</code> has a <code>getContent</code> method that returns a <code>List</code>, it does not seem that any research or effort was put in before asking the question. Hence, users (busy colleagues) are likely to be offended and therefore the downvotes."}],"answers":[{"tags":[],"owner":{"account_id":5144524,"reputation":1739,"user_id":4120875,"accept_rate":75,"display_name":"Sathyendran a"},"down_vote_count":0,"up_vote_count":108,"is_accepted":true,"score":108,"last_activity_date":1472104254,"creation_date":1472104254,"answer_id":39137592,"question_id":39135000,"body_markdown":"    Page&lt;Video&gt; videos = videoRepository.findAllVideos(new PageRequest(1, 50));\r\n    List&lt;Video&gt; videosList = videos.getContent();\r\n\r\nYou can use the above code to get the list of videos from page\r\n","title":"How to convert a page of objects to list in spring data","body":"<pre><code>Page&lt;Video&gt; videos = videoRepository.findAllVideos(new PageRequest(1, 50));\nList&lt;Video&gt; videosList = videos.getContent();\n</code></pre>\n\n<p>You can use the above code to get the list of videos from page</p>\n"},{"tags":[],"owner":{"account_id":1477140,"reputation":1906,"user_id":1387275,"accept_rate":100,"display_name":"Shessuky"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1678357688,"creation_date":1575913685,"answer_id":59254082,"question_id":39135000,"body_markdown":"Try this solution (and avoid all exception risks) :\r\n\r\n    Page&lt;Video&gt; videoPage = videoRepository.findAllVideos(new PageRequest(1, 50));\r\n    List&lt;Video&gt; videoList = new ArrayList&lt;&gt;();\r\n    if(videoPage != null &amp;&amp; videoPage.hasContent()) {\r\n        videoList = videoPage.getContent();\r\n    }","title":"How to convert a page of objects to list in spring data","body":"<p>Try this solution (and avoid all exception risks) :</p>\n<pre><code>Page&lt;Video&gt; videoPage = videoRepository.findAllVideos(new PageRequest(1, 50));\nList&lt;Video&gt; videoList = new ArrayList&lt;&gt;();\nif(videoPage != null &amp;&amp; videoPage.hasContent()) {\n    videoList = videoPage.getContent();\n}\n</code></pre>\n"}],"owner":{"account_id":6064888,"reputation":1355,"user_id":4735549,"accept_rate":69,"display_name":"DanielD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65409,"favorite_count":0,"down_vote_count":5,"up_vote_count":48,"accepted_answer_id":39137592,"answer_count":2,"score":43,"last_activity_date":1678357688,"creation_date":1472085545,"question_id":39135000,"body_markdown":"I have a page of objects like this:\r\n\r\n    Page&lt;Video&gt; videos = videoRepository.findAllVideos(new PageRequest(1, 50));\r\n\r\nHow can I convert that to a list of Video objs without iterating over my page?","title":"How to convert a page of objects to list in spring data","body":"<p>I have a page of objects like this:</p>\n\n<pre><code>Page&lt;Video&gt; videos = videoRepository.findAllVideos(new PageRequest(1, 50));\n</code></pre>\n\n<p>How can I convert that to a list of Video objs without iterating over my page?</p>\n"},{"tags":["java","xml","google-maps","api-key"],"comments":[{"owner":{"account_id":203892,"reputation":629,"user_id":451797,"display_name":"Catweazle"},"score":1,"creation_date":1678354611,"post_id":75682097,"comment_id":133517326,"body_markdown":"your question is not related to google maps. You fail to look up the supportMapfragment. It is null after the call to findfragmentById.\nSo I would suggest changing the title of your question to &quot;Android: fragment lookup fails (returns null)&quot;.","body":"your question is not related to google maps. You fail to look up the supportMapfragment. It is null after the call to findfragmentById. So I would suggest changing the title of your question to &quot;Android: fragment lookup fails (returns null)&quot;."}],"owner":{"account_id":25279636,"reputation":3,"user_id":19107680,"display_name":"jasag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678356744,"creation_date":1678350839,"question_id":75682097,"body_markdown":"I&#39;ve started a new project in Android Studio(I am new to Android Studio), which uses Google Maps. I want the map to open when I click on *map* in my navigation drawer. This leads to a fragment called `MapFragment`.\r\n\r\nBut when I press on *map* it throws me this error, and then it closes the aplication:\r\n[Error](https://i.stack.imgur.com/E333j.png) \r\n\r\nThis is what the navigation drawer looks like:\r\n[Navigation Drawer](https://i.stack.imgur.com/dXqlj.png)\r\n\r\nAlso I&#39;m using version 8.0(Oreo).\r\n\r\nI&#39;ve used these codes to implement google maps:\r\n\r\nMain: activity:\r\n\r\n\r\n\r\n```\r\npackage com.example.policetracker;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Menu;\r\n\r\nimport com.example.policetracker.ui.map.MapFragment;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.policetracker.databinding.ActivityMainBinding;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    private ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        setSupportActionBar(binding.appBarMain.toolbar);\r\n        binding.appBarMain.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n            }\r\n        });\r\n        DrawerLayout drawer = binding.drawerLayout;\r\n        NavigationView navigationView = binding.navView;\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.nav_home, R.id.nav_map)\r\n                .setOpenableLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n\r\n       // Fragment fragment = new MapFragment();\r\n        //getSupportFragmentManager().beginTransaction().replace(R.id.frame_layout,fragment).commit();\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nMapFragment.java:\r\n\r\n\r\n```\r\npackage com.example.policetracker.ui.map;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.policetracker.R;\r\nimport com.example.policetracker.databinding.FragmentMapBinding;\r\nimport com.example.policetracker.ui.map.MapViewModel;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\n\r\npublic class MapFragment extends Fragment {\r\n\r\n    private MapViewModel mapViewModel;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\r\n            getChildFragmentManager().findFragmentById(R.id.google_map);\r\n\r\n        supportMapFragment.getMapAsync(new OnMapReadyCallback() {\r\n            @Override\r\n            public void onMapReady(@NonNull GoogleMap googleMap) {\r\n                googleMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n                    @Override\r\n                    public void onMapClick(@NonNull LatLng latLng) {\r\n                        MarkerOptions markerOptions = new MarkerOptions();\r\n                        markerOptions.position(latLng);\r\n                        markerOptions.title(latLng.latitude + &quot; : &quot; + latLng.longitude);\r\n                        googleMap.clear();\r\n                        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(\r\n                                latLng,10\r\n                        ));\r\n                        googleMap.addMarker(markerOptions);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nfregment_map.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.map.MapFragment&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/frame_layout&quot;/&gt;\r\n\r\n    &lt;fragment\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/google_map&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;/&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAnd AndroidManifest.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.PoliceTracker&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MapsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.PoliceTracker.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;//API KEY&quot;/&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\nI&#39;ve hidden the key.\r\n","title":"Android: fragment lookup fails (returns null)","body":"<p>I've started a new project in Android Studio(I am new to Android Studio), which uses Google Maps. I want the map to open when I click on <em>map</em> in my navigation drawer. This leads to a fragment called <code>MapFragment</code>.</p>\n<p>But when I press on <em>map</em> it throws me this error, and then it closes the aplication:\n<a href=\"https://i.stack.imgur.com/E333j.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>This is what the navigation drawer looks like:\n<a href=\"https://i.stack.imgur.com/dXqlj.png\" rel=\"nofollow noreferrer\">Navigation Drawer</a></p>\n<p>Also I'm using version 8.0(Oreo).</p>\n<p>I've used these codes to implement google maps:</p>\n<p>Main: activity:</p>\n<pre><code>package com.example.policetracker;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Menu;\n\nimport com.example.policetracker.ui.map.MapFragment;\nimport com.google.android.material.snackbar.Snackbar;\nimport com.google.android.material.navigation.NavigationView;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.policetracker.databinding.ActivityMainBinding;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private AppBarConfiguration mAppBarConfiguration;\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        setSupportActionBar(binding.appBarMain.toolbar);\n        binding.appBarMain.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                        .setAction(&quot;Action&quot;, null).show();\n            }\n        });\n        DrawerLayout drawer = binding.drawerLayout;\n        NavigationView navigationView = binding.navView;\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home, R.id.nav_map)\n                .setOpenableLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n\n       // Fragment fragment = new MapFragment();\n        //getSupportFragmentManager().beginTransaction().replace(R.id.frame_layout,fragment).commit();\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n}\n</code></pre>\n<p>MapFragment.java:</p>\n<pre><code>package com.example.policetracker.ui.map;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport com.example.policetracker.R;\nimport com.example.policetracker.databinding.FragmentMapBinding;\nimport com.example.policetracker.ui.map.MapViewModel;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapFragment extends Fragment {\n\n    private MapViewModel mapViewModel;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\n            getChildFragmentManager().findFragmentById(R.id.google_map);\n\n        supportMapFragment.getMapAsync(new OnMapReadyCallback() {\n            @Override\n            public void onMapReady(@NonNull GoogleMap googleMap) {\n                googleMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n                    @Override\n                    public void onMapClick(@NonNull LatLng latLng) {\n                        MarkerOptions markerOptions = new MarkerOptions();\n                        markerOptions.position(latLng);\n                        markerOptions.title(latLng.latitude + &quot; : &quot; + latLng.longitude);\n                        googleMap.clear();\n                        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(\n                                latLng,10\n                        ));\n                        googleMap.addMarker(markerOptions);\n                    }\n                });\n            }\n        });\n\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\n        return view;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n    }\n\n}\n</code></pre>\n<p>fregment_map.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.map.MapFragment&quot;&gt;\n\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/frame_layout&quot;/&gt;\n\n    &lt;fragment\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/google_map&quot;\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.PoliceTracker&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MapsActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.PoliceTracker.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;//API KEY&quot;/&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I've hidden the key.</p>\n"},{"tags":["java","database","authorization","keycloak","keycloak-services"],"owner":{"account_id":18791729,"reputation":11,"user_id":13704028,"display_name":"rutss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678356408,"creation_date":1678018579,"question_id":75642148,"body_markdown":"We are using keycloak for SSO Authentication in our application.Users are added in keycloak via LDAP.\r\nRBAC Requirements : \r\n\r\n 1. Sharable Resources: Policies, Dashboards. Here policies and dashboards can be shared with other \r\n   users with some level of permission\r\n 2. Roles: Administrator,Moderator,Engineer,Operator,Project Manager\r\n          All these roles have different views. Only Engineer and Moderator can see policy page \r\n          and perform any action on it. Other roles cannot see these pages. Since views are static\r\n          planning to control it from UI.\r\n 3. Groups: Group will contain list of users who are having same roles\r\n 4. Permissions: Read,Execute,Modify,Delete\r\n 5. One engineer/moderator user E1 can share resource (i.e policy or dashboard) with other engineer/moderator role user E2 with read/execute/modify/delete permissions. But if engineer/moderator user E1 tries to share it with Administrator user A1, application should thorw error as Administrator cannot see this page.\r\n 6. One engineer/moderator user E1 can share resource (i.e policy or dashboard) with group G1 as well.\r\n 7. Let&#39;s say E2,E3,E4 users are part of G1 group with engineer as role. E1 has created resource &quot;policy1&quot; and shared resource &quot;policy1&quot; with E2 as read permission. Now E1 is again sharing the same policy &quot;policy1&quot; with Group G1 with execute permission. Now if we observe here E2 is already having only read permission. In this case E2 should be assigned with execute permission on &quot;policy1&quot; as execute &gt; read. Basically whichever is higher should be retained or applied.\r\n\r\nI have following questions:\r\n\r\n - Since we have many conditional requirements , I am not sure if I should go for keycloak to manage RBAC or should I go for designing DB tables and relationship and handle it by queries and business logic ?\r\n - If I go with keycloak how would I be able to achieve 5th and 7th points ?\r\n","title":"Can keycloak Authorization be used in following complex RBAC requirement or go with database tables and relationships by building business logic?","body":"<p>We are using keycloak for SSO Authentication in our application.Users are added in keycloak via LDAP.\nRBAC Requirements :</p>\n<ol>\n<li>Sharable Resources: Policies, Dashboards. Here policies and dashboards can be shared with other\nusers with some level of permission</li>\n<li>Roles: Administrator,Moderator,Engineer,Operator,Project Manager\nAll these roles have different views. Only Engineer and Moderator can see policy page\nand perform any action on it. Other roles cannot see these pages. Since views are static\nplanning to control it from UI.</li>\n<li>Groups: Group will contain list of users who are having same roles</li>\n<li>Permissions: Read,Execute,Modify,Delete</li>\n<li>One engineer/moderator user E1 can share resource (i.e policy or dashboard) with other engineer/moderator role user E2 with read/execute/modify/delete permissions. But if engineer/moderator user E1 tries to share it with Administrator user A1, application should thorw error as Administrator cannot see this page.</li>\n<li>One engineer/moderator user E1 can share resource (i.e policy or dashboard) with group G1 as well.</li>\n<li>Let's say E2,E3,E4 users are part of G1 group with engineer as role. E1 has created resource &quot;policy1&quot; and shared resource &quot;policy1&quot; with E2 as read permission. Now E1 is again sharing the same policy &quot;policy1&quot; with Group G1 with execute permission. Now if we observe here E2 is already having only read permission. In this case E2 should be assigned with execute permission on &quot;policy1&quot; as execute &gt; read. Basically whichever is higher should be retained or applied.</li>\n</ol>\n<p>I have following questions:</p>\n<ul>\n<li>Since we have many conditional requirements , I am not sure if I should go for keycloak to manage RBAC or should I go for designing DB tables and relationship and handle it by queries and business logic ?</li>\n<li>If I go with keycloak how would I be able to achieve 5th and 7th points ?</li>\n</ul>\n"},{"tags":["java","unit-testing","dependency-injection","kotlin","ktor"],"answers":[{"tags":[],"owner":{"account_id":9944,"reputation":11892,"user_id":18575,"display_name":"Ilya Ryzhenkov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1678355518,"creation_date":1505377082,"answer_id":46213944,"question_id":46185168,"body_markdown":"Ktor doesn&#39;t have a built-in dependency injection mechanism. If you need to use DI, you will need to use any framework you like, such as Guice for example. It would look something like this:\r\n\r\n    fun Application.module() {\r\n      Guice.createInjector(MainModule(this))\r\n    }\r\n\r\n    // Main module, binds application and routes\r\n    class MainModule(private val application: Application) : AbstractModule() {\r\n        override fun configure() {\r\n            bind(Application::class.java).toInstance(application)\r\n            ... other bindings ...\r\n        }\r\n    }\r\n\r\nThis way you delegate application composition to Guice and build it up as any other application. E.g. you might compose different parts of your application like this:\r\n\r\n```kotlin\r\nclass Hello @Inject constructor(application: Application) {\r\n  init {\r\n    application.routing {\r\n        get(&quot;/&quot;) {\r\n            call.respondText(&quot;Hello&quot;)\r\n        }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nand then bind it in a main module:\r\n\r\n    bind(Hello::class.java).asEagerSingleton()\r\n\r\n`asEagerSingleton` is needed so that Guice will create it eagerly since no other service would query it. ","title":"How to inject dependencies in a ktor Application","body":"<p>Ktor doesn't have a built-in dependency injection mechanism. If you need to use DI, you will need to use any framework you like, such as Guice for example. It would look something like this:</p>\n<pre><code>fun Application.module() {\n  Guice.createInjector(MainModule(this))\n}\n\n// Main module, binds application and routes\nclass MainModule(private val application: Application) : AbstractModule() {\n    override fun configure() {\n        bind(Application::class.java).toInstance(application)\n        ... other bindings ...\n    }\n}\n</code></pre>\n<p>This way you delegate application composition to Guice and build it up as any other application. E.g. you might compose different parts of your application like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Hello @Inject constructor(application: Application) {\n  init {\n    application.routing {\n        get(&quot;/&quot;) {\n            call.respondText(&quot;Hello&quot;)\n        }\n    }\n  }\n}\n</code></pre>\n<p>and then bind it in a main module:</p>\n<pre><code>bind(Hello::class.java).asEagerSingleton()\n</code></pre>\n<p><code>asEagerSingleton</code> is needed so that Guice will create it eagerly since no other service would query it.</p>\n"},{"tags":[],"owner":{"account_id":3656419,"reputation":4613,"user_id":3047318,"accept_rate":69,"display_name":"Pavel Shorokhov"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1547167992,"creation_date":1547167992,"answer_id":54138970,"question_id":46185168,"body_markdown":"Easy example with **Koin**\r\n\r\n1) At first, define our prod and test dependencies:\r\n\r\n    val prodModule = module {\r\n        single&lt;IFirstService&gt; { RealFirstService() }\r\n        single&lt;ISecondService&gt; { RealSecondService() }\r\n    }\r\n    \r\n    val testModule = module {\r\n        single&lt;IFirstService&gt; { FakeFirstService() }\r\n        single&lt;ISecondService&gt; { FakeSecondService() }\r\n    }\r\n\r\n2) Then add DI initialization before app start:\r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n        startKoin(listOf(prodModule))\r\n        embeddedServer(Netty, commandLineEnvironment(args)).start(true)\r\n    }\r\n\r\n3) Use inject in Application or in routes:\r\n\r\n    fun Application.apiModule() {\r\n        val firstService: IFirstService by inject()\r\n        val secondService: ISecondService by inject()\r\n        ...\r\n        routing {\r\n            someApi(inject(), inject())\r\n        }\r\n    }\r\n\r\n4) *(Optional)* For tests just add initialization in testModule before run test:\r\n\r\n    fun testApp(test: TestApplicationEngine.() -&gt; Unit) {\r\n        withTestApplication({\r\n            ... // configure your test app here\r\n    \r\n            stopKoin() // Need to stop koin and restart after other tests\r\n            startKoin(listOf(testModule)) // Init with test DI\r\n    \r\n            apiModule() // Run you application\r\n        })\r\n    }\r\n    \r\n    // And run tests\r\n    @Test\r\n    fun `get events`() = testApp {\r\n        // do tests\r\n    }\r\n\r\nThat&#39;s all!","title":"How to inject dependencies in a ktor Application","body":"<p>Easy example with <strong>Koin</strong></p>\n\n<p>1) At first, define our prod and test dependencies:</p>\n\n<pre><code>val prodModule = module {\n    single&lt;IFirstService&gt; { RealFirstService() }\n    single&lt;ISecondService&gt; { RealSecondService() }\n}\n\nval testModule = module {\n    single&lt;IFirstService&gt; { FakeFirstService() }\n    single&lt;ISecondService&gt; { FakeSecondService() }\n}\n</code></pre>\n\n<p>2) Then add DI initialization before app start:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    startKoin(listOf(prodModule))\n    embeddedServer(Netty, commandLineEnvironment(args)).start(true)\n}\n</code></pre>\n\n<p>3) Use inject in Application or in routes:</p>\n\n<pre><code>fun Application.apiModule() {\n    val firstService: IFirstService by inject()\n    val secondService: ISecondService by inject()\n    ...\n    routing {\n        someApi(inject(), inject())\n    }\n}\n</code></pre>\n\n<p>4) <em>(Optional)</em> For tests just add initialization in testModule before run test:</p>\n\n<pre><code>fun testApp(test: TestApplicationEngine.() -&gt; Unit) {\n    withTestApplication({\n        ... // configure your test app here\n\n        stopKoin() // Need to stop koin and restart after other tests\n        startKoin(listOf(testModule)) // Init with test DI\n\n        apiModule() // Run you application\n    })\n}\n\n// And run tests\n@Test\nfun `get events`() = testApp {\n    // do tests\n}\n</code></pre>\n\n<p>That's all!</p>\n"},{"tags":[],"owner":{"account_id":10066191,"reputation":1108,"user_id":7441319,"display_name":"Alkis Mavridis"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1678356158,"creation_date":1617270349,"answer_id":66902225,"question_id":46185168,"body_markdown":"After experimenting a bit with Koin, Kodein, and Daggers, we ended up using **spring-context** with Ktor. It works like a charm.\r\n\r\n**Step 1**: In our Gradle file:\r\n\r\n    implementation(group = &quot;org.springframework&quot;, name = &quot;spring-context&quot;, version = &quot;5.3.5&quot;)\r\n\r\nChange that to any `spring-context` version you prefer.\r\n\r\n**Step 2**: We defined our `@Component`s, `@Configuration`s, `@Bean`s etc. like we would with any spring application.\r\n\r\n\r\n**Step 3**: in our `main` method, we have a little bit of glue code to explicitly initialize the DI context and use it for initializing Ktor:\r\n\r\n```kotlin\r\n    val ctx = AnnotationConfigApplicationContext(&quot;YOUR.ROOT.PACKAGE.GOES.HERE&quot;)\r\n    val someBean = ctx.getBean(SomeBean::class.java) // you can get any bean you need to use in your top-level glue code\r\n\r\n    // ... go ahead with KTOR configuration as usual. You can access any bean using the ctx variable.\r\n```\r\n\r\nOf course this glue code where we explicitly interact with the spring context is done only once. The rest of the project consist of components that reference each other using the regular spring-context way.","title":"How to inject dependencies in a ktor Application","body":"<p>After experimenting a bit with Koin, Kodein, and Daggers, we ended up using <strong>spring-context</strong> with Ktor. It works like a charm.</p>\n<p><strong>Step 1</strong>: In our Gradle file:</p>\n<pre><code>implementation(group = &quot;org.springframework&quot;, name = &quot;spring-context&quot;, version = &quot;5.3.5&quot;)\n</code></pre>\n<p>Change that to any <code>spring-context</code> version you prefer.</p>\n<p><strong>Step 2</strong>: We defined our <code>@Component</code>s, <code>@Configuration</code>s, <code>@Bean</code>s etc. like we would with any spring application.</p>\n<p><strong>Step 3</strong>: in our <code>main</code> method, we have a little bit of glue code to explicitly initialize the DI context and use it for initializing Ktor:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    val ctx = AnnotationConfigApplicationContext(&quot;YOUR.ROOT.PACKAGE.GOES.HERE&quot;)\n    val someBean = ctx.getBean(SomeBean::class.java) // you can get any bean you need to use in your top-level glue code\n\n    // ... go ahead with KTOR configuration as usual. You can access any bean using the ctx variable.\n</code></pre>\n<p>Of course this glue code where we explicitly interact with the spring context is done only once. The rest of the project consist of components that reference each other using the regular spring-context way.</p>\n"}],"owner":{"account_id":1795126,"reputation":5398,"user_id":1634695,"display_name":"Mehdi Karamosly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16670,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1678356158,"creation_date":1505249618,"question_id":46185168,"body_markdown":"The documentation talks about dependency injection but does not really show how it is being done.\r\n\r\nDocumentation is not completed as well and has a bunch of place holders:\r\nhttp://ktor.io/getting-started.html\r\n\r\nI tried to create my main function in a way that it accepts parameter (which is my dependency) but that failed on the test side when I call `withTestApplication`.\r\nI looked into the application code and saw that Application accepts a configuration object but I have no idea how I can change that configuration object to inject some dependencies inside of it.\r\n\r\n    package org.jetbrains.ktor.application\r\n    \r\n    /**\r\n     * Represents configured and running web application, capable of handling requests\r\n     */\r\n    class Application(val environment: ApplicationEnvironment) : ApplicationCallPipeline() {\r\n        /**\r\n         * Called by host when [Application] is terminated\r\n         */\r\n        fun dispose() {\r\n            uninstallAllFeatures()\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Convenience property to access log from application\r\n     */\r\n    val Application.log get() = environment.log\r\n\r\n\r\nIn the test code using `withTestApplication` I have something similar to the below:\r\n\r\n    @Test\r\n    internal fun myTest() = withTestApplication (Application::myMain)\r\n\r\nThe above `withTestApplication` would fail if I call `myMain` with parameters (parameters that I need to mock and inject.)\r\n\r\n**Update:**\r\n\r\nThe issue is that in my request handling, I am using a dependency class that connects to other web services outside and does some requests, I need a way to be able to inject this so in my tests I can stub/mock it and change its behavior based on my test cases.\r\n","title":"How to inject dependencies in a ktor Application","body":"<p>The documentation talks about dependency injection but does not really show how it is being done.</p>\n\n<p>Documentation is not completed as well and has a bunch of place holders:\n<a href=\"http://ktor.io/getting-started.html\" rel=\"noreferrer\">http://ktor.io/getting-started.html</a></p>\n\n<p>I tried to create my main function in a way that it accepts parameter (which is my dependency) but that failed on the test side when I call <code>withTestApplication</code>.\nI looked into the application code and saw that Application accepts a configuration object but I have no idea how I can change that configuration object to inject some dependencies inside of it.</p>\n\n<pre><code>package org.jetbrains.ktor.application\n\n/**\n * Represents configured and running web application, capable of handling requests\n */\nclass Application(val environment: ApplicationEnvironment) : ApplicationCallPipeline() {\n    /**\n     * Called by host when [Application] is terminated\n     */\n    fun dispose() {\n        uninstallAllFeatures()\n    }\n}\n\n/**\n * Convenience property to access log from application\n */\nval Application.log get() = environment.log\n</code></pre>\n\n<p>In the test code using <code>withTestApplication</code> I have something similar to the below:</p>\n\n<pre><code>@Test\ninternal fun myTest() = withTestApplication (Application::myMain)\n</code></pre>\n\n<p>The above <code>withTestApplication</code> would fail if I call <code>myMain</code> with parameters (parameters that I need to mock and inject.)</p>\n\n<p><strong>Update:</strong></p>\n\n<p>The issue is that in my request handling, I am using a dependency class that connects to other web services outside and does some requests, I need a way to be able to inject this so in my tests I can stub/mock it and change its behavior based on my test cases.</p>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":1879869,"reputation":143,"user_id":1700313,"display_name":"MarcoB"},"score":0,"creation_date":1677536103,"post_id":75579922,"comment_id":133353846,"body_markdown":"After the first call, Flutter is awaiting for a result from the MethodChannel call. You can&#39;t call another one if still waiting. So I think you just need to uncomment those 2 lines with result.success or result.notImplemented","body":"After the first call, Flutter is awaiting for a result from the MethodChannel call. You can&#39;t call another one if still waiting. So I think you just need to uncomment those 2 lines with result.success or result.notImplemented"},{"owner":{"account_id":2401254,"reputation":33,"user_id":2098855,"accept_rate":100,"display_name":"Rokudo"},"score":0,"creation_date":1677675610,"post_id":75579922,"comment_id":133384027,"body_markdown":"@MarcoB Thanks for response, tried this but still same error. I can get the result first time (&quot;ActivityStarted&quot;) but second time it still throws error and never resolves","body":"@MarcoB Thanks for response, tried this but still same error. I can get the result first time (&quot;ActivityStarted&quot;) but second time it still throws error and never resolves"},{"owner":{"account_id":1879869,"reputation":143,"user_id":1700313,"display_name":"MarcoB"},"score":0,"creation_date":1677676240,"post_id":75579922,"comment_id":133384260,"body_markdown":"so the bad behavior could be due to the IntentWedgeSample intent. Maybe is still running or not stopped correctly?","body":"so the bad behavior could be due to the IntentWedgeSample intent. Maybe is still running or not stopped correctly?"}],"answers":[{"tags":[],"owner":{"account_id":2401254,"reputation":33,"user_id":2098855,"accept_rate":100,"display_name":"Rokudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678355934,"creation_date":1678355934,"answer_id":75682989,"question_id":75579922,"body_markdown":"Managed to fix this by using Android Intent+ plugin instead of MethodChannel (https://pub.dev/packages/android_intent_plus)\r\n\r\nThen instead of the MethodChannel code, use:\r\n\r\n               AndroidIntent intent = AndroidIntent(\r\n                action: &#39;android.intent.action.ACTION_VIEW&#39;,\r\n\r\n                // Replace this by your package name.\r\n                package: &#39;com.example&#39;,\r\n\r\n                // Replace this by your package name followed by the activity you want to open.\r\n                // The default activity provided by Flutter is MainActivity, but you can check\r\n                // this in AndroidManifest.xml.\r\n                componentName: &#39;com.example.IntentWedgeSample&#39;,\r\n              );\r\n\r\n              await intent.launch();\r\n          ","title":"Flutter - Native Android Component invoke with MethodChannel only works on first time then throws MissingPluginException","body":"<p>Managed to fix this by using Android Intent+ plugin instead of MethodChannel (<a href=\"https://pub.dev/packages/android_intent_plus\" rel=\"nofollow noreferrer\">https://pub.dev/packages/android_intent_plus</a>)</p>\n<p>Then instead of the MethodChannel code, use:</p>\n<pre><code>           AndroidIntent intent = AndroidIntent(\n            action: 'android.intent.action.ACTION_VIEW',\n\n            // Replace this by your package name.\n            package: 'com.example',\n\n            // Replace this by your package name followed by the activity you want to open.\n            // The default activity provided by Flutter is MainActivity, but you can check\n            // this in AndroidManifest.xml.\n            componentName: 'com.example.IntentWedgeSample',\n          );\n\n          await intent.launch();\n      \n</code></pre>\n"}],"owner":{"account_id":2401254,"reputation":33,"user_id":2098855,"accept_rate":100,"display_name":"Rokudo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75682989,"answer_count":1,"score":0,"last_activity_date":1678355934,"creation_date":1677497527,"question_id":75579922,"body_markdown":"I have a Flutter app with a native android component for scanning barcodes, on first run this native component runs fine and does what it needs to then returns to the Flutter section of app.\r\n\r\nHowever, anytime after that if you try to open the native android component again it always throws the error: [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: MissingPluginException(No implementation found for method StartSecondActivity on channel com.example)\r\n\r\nOnly restarting the app seems to solve this problem, where it will run once with no error then repeat.\r\n\r\ndart looks something like this, runs first time and gets error any subsequent tries unless app is restarted:\r\n``` \r\n    MethodChannel _channel = MethodChannel(&#39;com.example&#39;);\r\n    await _channel.invokeMethod(&#39;StartSecondActivity&#39;);\r\n```\r\n\r\nMainActivity.java class:\r\n``` \r\n    import android.content.Intent;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import io.flutter.embedding.android.FlutterActivity;\r\n    import io.flutter.embedding.engine.FlutterEngine;\r\n    import io.flutter.embedding.engine.FlutterEngineCache;\r\n    import io.flutter.plugin.common.MethodChannel;\r\n    import io.flutter.plugins.GeneratedPluginRegistrant;\r\n\r\n    public class MainActivity extends FlutterActivity {\r\n    private static final String CHANNEL = &quot;com.example&quot;;\r\n\r\n    @Override\r\n    public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n        super.configureFlutterEngine(flutterEngine);\r\n\r\n        GeneratedPluginRegistrant.registerWith(flutterEngine);\r\n\r\n        flutterEngine.getNavigationChannel().setInitialRoute(&quot;/waybill&quot;);\r\n\r\n        FlutterEngineCache.getInstance().put(&quot;bac_flutter_id&quot;, flutterEngine);\r\n\r\n        new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\r\n            .setMethodCallHandler((call, result) -&gt; {\r\n                if(call.method.equals(&quot;StartSecondActivity&quot;)){\r\n\r\n                    Intent intent = new Intent(MainActivity.this, IntentWedgeSample.class);\r\n                    startActivity(intent);\r\n                    //result.success(&quot;ActivityStarted&quot;);\r\n                }else{\r\n                    //result.notImplemented();\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nFairly new to Flutter and did not originally write this app so any hints on how to go about solving this would be much appreciated.","title":"Flutter - Native Android Component invoke with MethodChannel only works on first time then throws MissingPluginException","body":"<p>I have a Flutter app with a native android component for scanning barcodes, on first run this native component runs fine and does what it needs to then returns to the Flutter section of app.</p>\n<p>However, anytime after that if you try to open the native android component again it always throws the error: [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: MissingPluginException(No implementation found for method StartSecondActivity on channel com.example)</p>\n<p>Only restarting the app seems to solve this problem, where it will run once with no error then repeat.</p>\n<p>dart looks something like this, runs first time and gets error any subsequent tries unless app is restarted:</p>\n<pre><code>    MethodChannel _channel = MethodChannel('com.example');\n    await _channel.invokeMethod('StartSecondActivity');\n</code></pre>\n<p>MainActivity.java class:</p>\n<pre><code>    import android.content.Intent;\n    import android.widget.Toast;\n\n    import androidx.annotation.NonNull;\n    import io.flutter.embedding.android.FlutterActivity;\n    import io.flutter.embedding.engine.FlutterEngine;\n    import io.flutter.embedding.engine.FlutterEngineCache;\n    import io.flutter.plugin.common.MethodChannel;\n    import io.flutter.plugins.GeneratedPluginRegistrant;\n\n    public class MainActivity extends FlutterActivity {\n    private static final String CHANNEL = &quot;com.example&quot;;\n\n    @Override\n    public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\n        super.configureFlutterEngine(flutterEngine);\n\n        GeneratedPluginRegistrant.registerWith(flutterEngine);\n\n        flutterEngine.getNavigationChannel().setInitialRoute(&quot;/waybill&quot;);\n\n        FlutterEngineCache.getInstance().put(&quot;bac_flutter_id&quot;, flutterEngine);\n\n        new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\n            .setMethodCallHandler((call, result) -&gt; {\n                if(call.method.equals(&quot;StartSecondActivity&quot;)){\n\n                    Intent intent = new Intent(MainActivity.this, IntentWedgeSample.class);\n                    startActivity(intent);\n                    //result.success(&quot;ActivityStarted&quot;);\n                }else{\n                    //result.notImplemented();\n                }\n            });\n        }\n    }\n</code></pre>\n<p>Fairly new to Flutter and did not originally write this app so any hints on how to go about solving this would be much appreciated.</p>\n"},{"tags":["java","android","mqtt"],"comments":[{"owner":{"account_id":12368064,"reputation":843,"user_id":9019332,"display_name":"global_warming"},"score":0,"creation_date":1516255464,"post_id":48314693,"comment_id":83615127,"body_markdown":"I would suggest you to use a `Service` for MQTT that runs in background and notifies `Activity` when message arrives.","body":"I would suggest you to use a <code>Service</code> for MQTT that runs in background and notifies <code>Activity</code> when message arrives."}],"answers":[{"tags":[],"owner":{"account_id":5733906,"reputation":328,"user_id":4528663,"accept_rate":33,"display_name":"Vihanga Yasith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516256199,"creation_date":1516256199,"answer_id":48314952,"question_id":48314693,"body_markdown":"You need to create a singleton class. Here is an sample.\r\n\r\n    public class SocketIO {\r\n\r\n    private static final String TAG = SocketIO.class.getSimpleName();\r\n    private static SocketIO instance;\r\n    private Socket socket;\r\n\r\n    private SocketIO() {\r\n        try {\r\n            socket = IO.socket(&quot;http://ur_url_here&quot;);\r\n        } catch (URISyntaxException e) {\r\n            e.printStackTrace();\r\n            Log.e(TAG, e.getMessage());\r\n        }\r\n    }\r\n\r\n    public static synchronized SocketIO getInstance() {\r\n        if (instance == null) {\r\n            instance = new SocketIO();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public Socket getSocket() {\r\n        return socket;\r\n    }\r\n\r\n    public void open() {\r\n        if (socket != null)\r\n            socket.open();\r\n    }\r\n\r\n    public void close() {\r\n        if (socket != null)\r\n            socket.close();\r\n    }}\r\n\r\n\r\n\r\n\r\n","title":"How to use Common MQTT class for Android APP?","body":"<p>You need to create a singleton class. Here is an sample.</p>\n\n<pre><code>public class SocketIO {\n\nprivate static final String TAG = SocketIO.class.getSimpleName();\nprivate static SocketIO instance;\nprivate Socket socket;\n\nprivate SocketIO() {\n    try {\n        socket = IO.socket(\"http://ur_url_here\");\n    } catch (URISyntaxException e) {\n        e.printStackTrace();\n        Log.e(TAG, e.getMessage());\n    }\n}\n\npublic static synchronized SocketIO getInstance() {\n    if (instance == null) {\n        instance = new SocketIO();\n    }\n    return instance;\n}\n\npublic Socket getSocket() {\n    return socket;\n}\n\npublic void open() {\n    if (socket != null)\n        socket.open();\n}\n\npublic void close() {\n    if (socket != null)\n        socket.close();\n}}\n</code></pre>\n"}],"owner":{"account_id":6137419,"reputation":798,"user_id":4785772,"accept_rate":50,"display_name":"Tausif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678355270,"creation_date":1516254964,"question_id":48314693,"body_markdown":"I am a novice android  developer, I am using MQTT protocol for my android app.\r\nI have found a code from internet for MQTT.But problem is that i have to use this MQTT Code for every activity which is redundant.I want to make a common java class \r\nwhich can be call called any time whenever i need MQTT connection and communication.I have already tried but failed.Please anyone suggest me how to approach this?The code is given below\r\n\r\n     \r\n    com.example.ab.mushroomv2;\r\n\r\n\r\n    import org.eclipse.paho.android.service.MqttAndroidClient;\r\n    import org.eclipse.paho.client.mqttv3.IMqttActionListener;\r\n    import org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\r\n    import org.eclipse.paho.client.mqttv3.IMqttToken;\r\n    import org.eclipse.paho.client.mqttv3.MqttCallback;\r\n    import org.eclipse.paho.client.mqttv3.MqttClient;\r\n    import org.eclipse.paho.client.mqttv3.MqttException;\r\n    import org.eclipse.paho.client.mqttv3.MqttMessage;\r\n\r\n    public class DashboardActivity extends AppCompatActivity {\r\n\r\n\r\n    final Context context = this;\r\n\r\n    //private EditText result;\r\n\r\n\r\n    private static final String TAG = &quot;DA&quot;;\r\n\r\n\r\n    ProgressBar p_temp;\r\n    TextView progressingTemp;\r\n\r\n\r\n\r\n    MqttAndroidClient client;\r\n    String clientId;\r\n    static String topicTemp = &quot;mushroom/temp&quot;;\r\n\r\n    String subMsg, top;\r\n    static String host = &quot;tcp://iot.eclipse.org:1883&quot;;\r\n\r\n    Handler progressHandler = new Handler();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dashboard);\r\n\r\n\r\n        p_temp = (ProgressBar) findViewById(R.id.progress_bar_temp);\r\n        \r\n\r\n        progressingTemp = (TextViewfindViewById(R.id.progress_circle_temp_text);\r\n       \r\n\r\n\r\n\r\n        establish();\r\n\r\n        \r\n\r\n\r\n\r\n        client.setCallback(new MqttCallback() {\r\n\r\n\r\n            @Override\r\n            public void connectionLost(Throwable cause) {\r\n                establish();\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void messageArrived(String topic, MqttMessage message) throws \r\n               Exception {\r\n\r\n                subMsg = new String(message.getPayload());\r\n\r\n                top=new String(topic);\r\n                if(top.contains(&quot;temp&quot;))\r\n                {\r\n\r\n\r\n                    double a=Double.parseDouble(subMsg);\r\n                    final int  msgTemp = (int) a;\r\n\r\n                    Log.d(TAG, String.valueOf(msgTemp));\r\n\r\n                    new Thread(new Runnable() {\r\n                        public void run() {\r\n\r\n\r\n                            progressHandler.post(new Runnable() {\r\n                                public void run() {\r\n                                    p_temp.setProgress(msgTemp);\r\n                                    progressingTemp.setText(&quot;&quot; + msgTemp + &quot; ℃ \r\n                              &quot;);\r\n                                }\r\n                            });\r\n                            try {\r\n                                Thread.sleep(100);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n\r\n                        }\r\n                    }).start();\r\n                }\r\n                \r\n            }\r\n\r\n\r\n            @Override\r\n            public void deliveryComplete(IMqttDeliveryToken token) {\r\n\r\n            }\r\n              });\r\n             }\r\n\r\n    \r\n\r\n    \r\n\r\n\r\n\r\n\r\n         public void establish() {\r\n         clientId = MqttClient.generateClientId();\r\n         client = new MqttAndroidClient(this.getApplicationContext(), host, \r\n         clientId);\r\n\r\n         try {\r\n            IMqttToken token = client.connect();\r\n            token.setActionCallback(new IMqttActionListener() {\r\n                @Override\r\n                public void onSuccess(IMqttToken asyncActionToken) {\r\n                    // We are connected\r\n                    Toast.makeText(DashboardActivity.this, &quot;Client Connected&quot;, \r\n                Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                    try {\r\n                        client.subscribe(topicTemp, 0);\r\n\r\n                    } catch (MqttException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(IMqttToken asyncActionToken, Throwable \r\n          exception) {\r\n                    \r\n                    Toast.makeText(DashboardActivity.this, &quot;Client failed to \r\n                  Connect&quot;, Toast.LENGTH_SHORT).show();\r\n                    // establish();\r\n\r\n                }\r\n            });\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n       }\r\n          }","title":"How to use Common MQTT class for Android APP?","body":"<p>I am a novice android  developer, I am using MQTT protocol for my android app.\nI have found a code from internet for MQTT.But problem is that i have to use this MQTT Code for every activity which is redundant.I want to make a common java class\nwhich can be call called any time whenever i need MQTT connection and communication.I have already tried but failed.Please anyone suggest me how to approach this?The code is given below</p>\n<pre><code>com.example.ab.mushroomv2;\n\n\nimport org.eclipse.paho.android.service.MqttAndroidClient;\nimport org.eclipse.paho.client.mqttv3.IMqttActionListener;\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\nimport org.eclipse.paho.client.mqttv3.IMqttToken;\nimport org.eclipse.paho.client.mqttv3.MqttCallback;\nimport org.eclipse.paho.client.mqttv3.MqttClient;\nimport org.eclipse.paho.client.mqttv3.MqttException;\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\n\npublic class DashboardActivity extends AppCompatActivity {\n\n\nfinal Context context = this;\n\n//private EditText result;\n\n\nprivate static final String TAG = &quot;DA&quot;;\n\n\nProgressBar p_temp;\nTextView progressingTemp;\n\n\n\nMqttAndroidClient client;\nString clientId;\nstatic String topicTemp = &quot;mushroom/temp&quot;;\n\nString subMsg, top;\nstatic String host = &quot;tcp://iot.eclipse.org:1883&quot;;\n\nHandler progressHandler = new Handler();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_dashboard);\n\n\n    p_temp = (ProgressBar) findViewById(R.id.progress_bar_temp);\n    \n\n    progressingTemp = (TextViewfindViewById(R.id.progress_circle_temp_text);\n   \n\n\n\n    establish();\n\n    \n\n\n\n    client.setCallback(new MqttCallback() {\n\n\n        @Override\n        public void connectionLost(Throwable cause) {\n            establish();\n\n\n        }\n\n        @Override\n        public void messageArrived(String topic, MqttMessage message) throws \n           Exception {\n\n            subMsg = new String(message.getPayload());\n\n            top=new String(topic);\n            if(top.contains(&quot;temp&quot;))\n            {\n\n\n                double a=Double.parseDouble(subMsg);\n                final int  msgTemp = (int) a;\n\n                Log.d(TAG, String.valueOf(msgTemp));\n\n                new Thread(new Runnable() {\n                    public void run() {\n\n\n                        progressHandler.post(new Runnable() {\n                            public void run() {\n                                p_temp.setProgress(msgTemp);\n                                progressingTemp.setText(&quot;&quot; + msgTemp + &quot; ℃ \n                          &quot;);\n                            }\n                        });\n                        try {\n                            Thread.sleep(100);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n\n                    }\n                }).start();\n            }\n            \n        }\n\n\n        @Override\n        public void deliveryComplete(IMqttDeliveryToken token) {\n\n        }\n          });\n         }\n\n\n\n\n\n\n\n\n     public void establish() {\n     clientId = MqttClient.generateClientId();\n     client = new MqttAndroidClient(this.getApplicationContext(), host, \n     clientId);\n\n     try {\n        IMqttToken token = client.connect();\n        token.setActionCallback(new IMqttActionListener() {\n            @Override\n            public void onSuccess(IMqttToken asyncActionToken) {\n                // We are connected\n                Toast.makeText(DashboardActivity.this, &quot;Client Connected&quot;, \n            Toast.LENGTH_SHORT).show();\n\n\n                try {\n                    client.subscribe(topicTemp, 0);\n\n                } catch (MqttException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onFailure(IMqttToken asyncActionToken, Throwable \n      exception) {\n                \n                Toast.makeText(DashboardActivity.this, &quot;Client failed to \n              Connect&quot;, Toast.LENGTH_SHORT).show();\n                // establish();\n\n            }\n        });\n    } catch (MqttException e) {\n        e.printStackTrace();\n    }\n\n   }\n      }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1678351347,"post_id":75682167,"comment_id":133516353,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678351639,"post_id":75682167,"comment_id":133516436,"body_markdown":"Pleae put in your post the code of mentioned classes. Please point out where lays the problem and how did you try to resolve it.","body":"Pleae put in your post the code of mentioned classes. Please point out where lays the problem and how did you try to resolve it."},{"owner":{"account_id":15308290,"reputation":19,"user_id":11044306,"display_name":"Pratik Singh"},"score":0,"creation_date":1678351959,"post_id":75682167,"comment_id":133516534,"body_markdown":"@fascynacja Now you can check","body":"@fascynacja Now you can check"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678351969,"post_id":75682167,"comment_id":133516539,"body_markdown":"@PratikSingh I see that you are new to stack overflow. Please take it as a friendly advice and read the: https://stackoverflow.com/help","body":"@PratikSingh I see that you are new to stack overflow. Please take it as a friendly advice and read the: <a href=\"https://stackoverflow.com/help\">stackoverflow.com/help</a>"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678352011,"post_id":75682167,"comment_id":133516550,"body_markdown":"the Player class code will be also needed to help you find solution.","body":"the Player class code will be also needed to help you find solution."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678352301,"post_id":75682167,"comment_id":133516631,"body_markdown":"from the classes and description I see that you have to: create a method calculateGradeBonus() to calculate the bonus of each player based on his grade. (this will happen in the TournamentIncome  class) so why you need to get the income variable in this method?","body":"from the classes and description I see that you have to: create a method calculateGradeBonus() to calculate the bonus of each player based on his grade. (this will happen in the TournamentIncome  class) so why you need to get the income variable in this method?"},{"owner":{"account_id":15308290,"reputation":19,"user_id":11044306,"display_name":"Pratik Singh"},"score":0,"creation_date":1678352461,"post_id":75682167,"comment_id":133516680,"body_markdown":"Because if Grade is A and rate is 10% so to calculate the 10% amount of his income i need to access the income variable.","body":"Because if Grade is A and rate is 10% so to calculate the 10% amount of his income i need to access the income variable."},{"owner":{"account_id":15308290,"reputation":19,"user_id":11044306,"display_name":"Pratik Singh"},"score":0,"creation_date":1678352582,"post_id":75682167,"comment_id":133516714,"body_markdown":"Also in displayDetails() i need income + bonus to calculate final income","body":"Also in displayDetails() i need income + bonus to calculate final income"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678353464,"post_id":75682167,"comment_id":133516994,"body_markdown":"Please add also your PlayerTest. I am struggling to understand the concept of all this classes together. For instance why Tournament extends Player. It will be usefull to understand what are the real instances in the &quot;game&quot;. H the objects are being initialized and how the TournamentIncome is initiliaized. How they relate to each other in a test scenario.","body":"Please add also your PlayerTest. I am struggling to understand the concept of all this classes together. For instance why Tournament extends Player. It will be usefull to understand what are the real instances in the &quot;game&quot;. H the objects are being initialized and how the TournamentIncome is initiliaized. How they relate to each other in a test scenario."}],"answers":[{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678355018,"creation_date":1678353761,"answer_id":75682604,"question_id":75682167,"body_markdown":"I changed it, hope it helps:\r\n\r\nSomething I noticed:\r\n\r\n1. PlayerIncome doesn\\`t belong to Player, so don\\`t extend Player, also TournamentIncome.\r\n2. we can use return value of a method for further usage, like you don\\`t have to keep a tax field(I think you have to initialize tax field before you access it, if you want to initialize tax field, then do it in constructor of PlayerIncome class)\r\n\r\n```\r\npublic abstract class Player {\r\n    String name;\r\n\r\n    public Player(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    abstract void displayDetails();\r\n}\r\npublic class PlayerIncome implements Tax {\r\n\r\n    Player player;\r\n    double income;\r\n\r\n    public PlayerIncome(Player player, double income) {\r\n        this.player = player;\r\n        this.income = income;\r\n    }\r\n\r\n    @Override\r\n    public double calculateTax() {\r\n        return income * (TAX_PERCENT / 100);\r\n    }\r\n\r\n    @Override\r\n    void displayDetails() {\r\n        System.out.println(&quot;Player Name: &quot; + player.name);\r\n        System.out.println(&quot;Income: &quot; + income);\r\n        System.out.println(&quot;Tax: &quot; + calculateTax());\r\n    }\r\n}\r\npublic class TournamentIncome implements GradeBonus {\r\n\r\n    PlayerIncome playerIncome;\r\n    String grade;\r\n    int rate;\r\n\r\n    public TournamentIncome(PlayerIncome playerIncome, String grade, int rate) {\r\n        this.playerIncome = playerIncome;\r\n        this.grade = grade;\r\n        this.rate = rate;\r\n    }\r\n\r\n    @Override\r\n    public int calculateGradeBonus() {\r\n        if (this.grade == &quot;A&quot; &amp;&amp; rate == 10) {\r\n            return (int)this.playerIncome.income * 10 / 100;\r\n        }\r\n        return (int)this.playerIncome.income * 5 / 100;;\r\n    }\r\n\r\n    @Override\r\n    void displayDetails() {\r\n        System.out.println(&quot;Player Name: &quot; + playerIncome.player.name);\r\n        System.out.println(&quot;FinalIncome: &quot; + calculateGradeBonus());\r\n        System.out.println(&quot;Tax: &quot; + playerIncome.calculateTax());\r\n        System.out.println(&quot;Grade: &quot; + grade);\r\n        System.out.println(&quot;rate: &quot; + rate);\r\n    }\r\n}\r\n```","title":"How can I access income variable in calculateGradeBonus() method of TournamentIncome.java?","body":"<p>I changed it, hope it helps:</p>\n<p>Something I noticed:</p>\n<ol>\n<li>PlayerIncome doesn`t belong to Player, so don`t extend Player, also TournamentIncome.</li>\n<li>we can use return value of a method for further usage, like you don`t have to keep a tax field(I think you have to initialize tax field before you access it, if you want to initialize tax field, then do it in constructor of PlayerIncome class)</li>\n</ol>\n<pre><code>public abstract class Player {\n    String name;\n\n    public Player(String name) {\n        this.name = name;\n    }\n\n    abstract void displayDetails();\n}\npublic class PlayerIncome implements Tax {\n\n    Player player;\n    double income;\n\n    public PlayerIncome(Player player, double income) {\n        this.player = player;\n        this.income = income;\n    }\n\n    @Override\n    public double calculateTax() {\n        return income * (TAX_PERCENT / 100);\n    }\n\n    @Override\n    void displayDetails() {\n        System.out.println(&quot;Player Name: &quot; + player.name);\n        System.out.println(&quot;Income: &quot; + income);\n        System.out.println(&quot;Tax: &quot; + calculateTax());\n    }\n}\npublic class TournamentIncome implements GradeBonus {\n\n    PlayerIncome playerIncome;\n    String grade;\n    int rate;\n\n    public TournamentIncome(PlayerIncome playerIncome, String grade, int rate) {\n        this.playerIncome = playerIncome;\n        this.grade = grade;\n        this.rate = rate;\n    }\n\n    @Override\n    public int calculateGradeBonus() {\n        if (this.grade == &quot;A&quot; &amp;&amp; rate == 10) {\n            return (int)this.playerIncome.income * 10 / 100;\n        }\n        return (int)this.playerIncome.income * 5 / 100;;\n    }\n\n    @Override\n    void displayDetails() {\n        System.out.println(&quot;Player Name: &quot; + playerIncome.player.name);\n        System.out.println(&quot;FinalIncome: &quot; + calculateGradeBonus());\n        System.out.println(&quot;Tax: &quot; + playerIncome.calculateTax());\n        System.out.println(&quot;Grade: &quot; + grade);\n        System.out.println(&quot;rate: &quot; + rate);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15308290,"reputation":19,"user_id":11044306,"display_name":"Pratik Singh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75682604,"answer_count":1,"score":-1,"last_activity_date":1678355018,"creation_date":1678351281,"question_id":75682167,"body_markdown":"application consist of the \r\nfollowing files.\r\n1. Player.java (abstract base class)\r\n2. Tax.java (interface) \r\n3. PlayerIncome.java (extends player implements Tax) + income variable\r\n4. GradeBonus.java (interface)\r\n5. TournamentIncome.java (extends player implements Tax)\r\n6. PlayerTest.java\r\n\r\nTask:\r\nCreate a new instance of class TournamentIncome and store the details in the three parameters \r\nname, grade and rate. Now, create a method calculateGradeBonus() to calculate the bonus of \r\neach player based on his grade. Create a method displayDetails() to display the details about each \r\nplayer. Here, calculate the income of the player using his income and the bonus amount he will \r\nbe given as per his grade.\r\n\r\n    public class PlayerIncome extends Player implements Tax {\r\n\t\r\n\tdouble income;\r\n\tdouble tax;\r\n\t\r\n\tpublic PlayerIncome(String name, double income) {\r\n\t\tsuper(name);\r\n\t\tthis.income = income;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void calculateTax() {\r\n\t\ttax = income * (TAX_PERCENT / 100);\r\n\t}\r\n\r\n\t@Override\r\n\tvoid displayDetails() {\r\n\t\tSystem.out.println(&quot;Player Name: &quot; + name);\r\n\t\tSystem.out.println(&quot;Income: &quot; + income);\r\n\t\tSystem.out.println(&quot;Tax: &quot; + tax);\r\n\t}\r\n}\r\n\r\nIncome is an instance variable of PlayerIncome Class.\r\n\r\n    public class TournamentIncome extends Player implements GradeBonus {\r\n\t\r\n\tString grade;\r\n\tint rate;\r\n\r\n\tpublic TournamentIncome(String name, String grade, int rate) {\r\n\t\tsuper(name);\r\n\t\tthis.grade = grade;\r\n\t\tthis.rate = rate;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void calculateGradeBonus() {\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tvoid displayDetails() {\r\n\t\t \r\n\t\t\r\n\t}\r\n\r\nI want to use that income variable in TournamentIncome Class for calculating Bonus\r\n\r\n    public abstract class Player {\r\n\tString name;\r\n\t\r\n\tpublic Player(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tabstract void displayDetails();\r\n\t\r\n}","title":"How can I access income variable in calculateGradeBonus() method of TournamentIncome.java?","body":"<p>application consist of the\nfollowing files.</p>\n<ol>\n<li>Player.java (abstract base class)</li>\n<li>Tax.java (interface)</li>\n<li>PlayerIncome.java (extends player implements Tax) + income variable</li>\n<li>GradeBonus.java (interface)</li>\n<li>TournamentIncome.java (extends player implements Tax)</li>\n<li>PlayerTest.java</li>\n</ol>\n<p>Task:\nCreate a new instance of class TournamentIncome and store the details in the three parameters\nname, grade and rate. Now, create a method calculateGradeBonus() to calculate the bonus of\neach player based on his grade. Create a method displayDetails() to display the details about each\nplayer. Here, calculate the income of the player using his income and the bonus amount he will\nbe given as per his grade.</p>\n<pre><code>public class PlayerIncome extends Player implements Tax {\n\ndouble income;\ndouble tax;\n\npublic PlayerIncome(String name, double income) {\n    super(name);\n    this.income = income;\n}\n\n@Override\npublic void calculateTax() {\n    tax = income * (TAX_PERCENT / 100);\n}\n\n@Override\nvoid displayDetails() {\n    System.out.println(&quot;Player Name: &quot; + name);\n    System.out.println(&quot;Income: &quot; + income);\n    System.out.println(&quot;Tax: &quot; + tax);\n}\n</code></pre>\n<p>}</p>\n<p>Income is an instance variable of PlayerIncome Class.</p>\n<pre><code>public class TournamentIncome extends Player implements GradeBonus {\n\nString grade;\nint rate;\n\npublic TournamentIncome(String name, String grade, int rate) {\n    super(name);\n    this.grade = grade;\n    this.rate = rate;\n}\n\n@Override\npublic void calculateGradeBonus() {\n    \n}\n\n@Override\nvoid displayDetails() {\n     \n    \n}\n</code></pre>\n<p>I want to use that income variable in TournamentIncome Class for calculating Bonus</p>\n<pre><code>public abstract class Player {\nString name;\n\npublic Player(String name) {\n    this.name = name;\n}\n\nabstract void displayDetails();\n</code></pre>\n<p>}</p>\n"},{"tags":["java","garbage-collection","blockingqueue"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678354767,"creation_date":1678354767,"answer_id":75682761,"question_id":75660622,"body_markdown":"Whenever an attempt to acquire a `ReentrantLock` is made, there’s potentiall a memory allocation. When there’s no contention or the lock is released during the spinning phase, the `lock()` method will return without allocations. But when the thread is added to the queue of waiting threads, a node object is allocated for that.\r\n\r\nThis applies to all classes using a `ReentrantLock` under the hood, like `ArrayBlockingQueue`, but also to all concurrency classes using `AbstractQueued[Long]Synchronizer` behind the scenes in general.\r\n\r\nSo your code looks like an attempted premature optimization that backfired. To avoid creating a simple object holding the `ByteBuffer`, `InetSocketAddress`, and `Marker` belonging to a task, you have three blocking queues requiring not only three `poll` calls but also to protect them with three `isEmpty()` checks, so you end up with up to six allocations in the worst case, instead of the one you had with a single `poll()` and `null` check when you used a single queue of objects holding all three values.\r\n\r\nBut the entire loop is literally a polling loop, repeatedly calling `poll()` without ever giving up the CPU. It’s creating the very overhead it (apparently) was supposed to avoid. Just calling `take()`, to only return when there is a new element would avoid this. This would queue the thread if there is no new element, but as said, a thread gets queued anyway when there’s contention at the lock and repeatedly calling `poll()` in a tight loop is a recipe to get contention sooner or later. On the other hand, `take()` will work exactly the same as `poll()` when there is a new element.\r\n","title":"How to poll() and remove item from ArrayBlockingQueue without memory allocation","body":"<p>Whenever an attempt to acquire a <code>ReentrantLock</code> is made, there’s potentiall a memory allocation. When there’s no contention or the lock is released during the spinning phase, the <code>lock()</code> method will return without allocations. But when the thread is added to the queue of waiting threads, a node object is allocated for that.</p>\n<p>This applies to all classes using a <code>ReentrantLock</code> under the hood, like <code>ArrayBlockingQueue</code>, but also to all concurrency classes using <code>AbstractQueued[Long]Synchronizer</code> behind the scenes in general.</p>\n<p>So your code looks like an attempted premature optimization that backfired. To avoid creating a simple object holding the <code>ByteBuffer</code>, <code>InetSocketAddress</code>, and <code>Marker</code> belonging to a task, you have three blocking queues requiring not only three <code>poll</code> calls but also to protect them with three <code>isEmpty()</code> checks, so you end up with up to six allocations in the worst case, instead of the one you had with a single <code>poll()</code> and <code>null</code> check when you used a single queue of objects holding all three values.</p>\n<p>But the entire loop is literally a polling loop, repeatedly calling <code>poll()</code> without ever giving up the CPU. It’s creating the very overhead it (apparently) was supposed to avoid. Just calling <code>take()</code>, to only return when there is a new element would avoid this. This would queue the thread if there is no new element, but as said, a thread gets queued anyway when there’s contention at the lock and repeatedly calling <code>poll()</code> in a tight loop is a recipe to get contention sooner or later. On the other hand, <code>take()</code> will work exactly the same as <code>poll()</code> when there is a new element.</p>\n"}],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75682761,"answer_count":1,"score":0,"last_activity_date":1678354767,"creation_date":1678184106,"question_id":75660622,"body_markdown":"I am trying to poll an ArrayBlockingQueue to get the item:\r\n\r\n        public void run() {\r\n            while (true) {\r\n                if (Thread.currentThread().isInterrupted()){\r\n                    closeAppender();\r\n                    break;\r\n                }\r\n    \r\n                if (!TASK_BUFFER.isEmpty() &amp;&amp; !TASK_ADDRESS.isEmpty() &amp;&amp; !TASK_MARKER.isEmpty()){\r\n                    buffer = TASK_BUFFER.poll();\r\n                    remoteAdd = TASK_ADDRESS.poll();\r\n                    marker = TASK_MARKER.poll();\r\n    \r\n    //                if (buffer.hasArray()){  //if byte buffer is used just get array\r\n    //                    byteArr = buffer.array();\r\n    //                }else{\r\n    //                    byteArr = directArr;  //if direct buffer is used, we get into direct arr\r\n    ////                    Arrays.fill(byteArr, (byte)0);  //reset every value to &quot;null&quot; value\r\n    //                    buffer.get(byteArr, 0, buffer.remaining());\r\n    //                }\r\n    //                remaining = buffer.remaining();\r\n    //                runTask();\r\n                    BUFFER_POOL.returnBuffer(buffer);\r\n                }\r\n            }\r\n            LOGGER.info(mainMarker,&quot;Task Scheduler Thread has terminated...&quot;);\r\n        }\r\n\r\nHowever, when I run jvisualvm, I can see that whenever I &quot;schedule&quot; a task and poll the queue, it is allocating bytes. I have tried commenting and uncommenting the other parts of the code but only the polling and scheduling will affect the allocated bytes. \r\n\r\n[![jvisualvm][1]][1]\r\n\r\nI have checked this [link](https://stackoverflow.com/questions/63986434/how-to-iterate-through-arrayblockingqueue-without-memory-allocation-gc-delays) but I am not looking to iterate the whole array. I am looking to get one item at a time to process then remove it. What is the proper way to approach this? \r\n\r\nedit: I have a separate thread that &quot;produces&quot; instances of ByteBuffer, InetSocketAddress and Marker and puts it inside the arrayblockingqueues. I also just checked the source code for poll() and dequeue() it doesn&#39;t seem that it does anything that should warrant the allocation of bytes. If I am creating the objects in the main thread, and adding it to queue, it shouldnt allocate bytes if this thread is only used for processing the queue values\r\n\r\nThe constructor looks like this:\r\n\r\n    private final BlockingQueue&lt;ByteBuffer&gt; TASK_BUFFER;\r\n    private final BlockingQueue&lt;InetSocketAddress&gt; TASK_ADDRESS;\r\n    private final BlockingQueue&lt;Marker&gt; TASK_MARKER;\r\n    private final BufferPool BUFFER_POOL;\r\n    private final ExcerptAppender APPENDER;\r\n    \r\n    public TaskScheduler(BufferPool bufferPool, ChronicleQueue chronicleQueue){\r\n        TASK_BUFFER = new ArrayBlockingQueue&lt;&gt;(bufferPool.getCapacity());\r\n        TASK_ADDRESS = new ArrayBlockingQueue&lt;&gt;(bufferPool.getCapacity());\r\n        TASK_MARKER = new ArrayBlockingQueue&lt;&gt;(bufferPool.getCapacity());\r\n        BUFFER_POOL = bufferPool;\r\n        APPENDER = chronicleQueue.acquireAppender();\r\n    }\r\n\r\nand this puts the produced values inside the queue:\r\n\r\n        public void scheduleTask(final ByteBuffer buffer, final InetSocketAddress remoteAdd, final Marker marker) throws InterruptedException {\r\n            TASK_BUFFER.put(buffer);\r\n            TASK_ADDRESS.put(remoteAdd);\r\n            TASK_MARKER.put(marker);\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pC6J2.png","title":"How to poll() and remove item from ArrayBlockingQueue without memory allocation","body":"<p>I am trying to poll an ArrayBlockingQueue to get the item:</p>\n<pre><code>    public void run() {\n        while (true) {\n            if (Thread.currentThread().isInterrupted()){\n                closeAppender();\n                break;\n            }\n\n            if (!TASK_BUFFER.isEmpty() &amp;&amp; !TASK_ADDRESS.isEmpty() &amp;&amp; !TASK_MARKER.isEmpty()){\n                buffer = TASK_BUFFER.poll();\n                remoteAdd = TASK_ADDRESS.poll();\n                marker = TASK_MARKER.poll();\n\n//                if (buffer.hasArray()){  //if byte buffer is used just get array\n//                    byteArr = buffer.array();\n//                }else{\n//                    byteArr = directArr;  //if direct buffer is used, we get into direct arr\n////                    Arrays.fill(byteArr, (byte)0);  //reset every value to &quot;null&quot; value\n//                    buffer.get(byteArr, 0, buffer.remaining());\n//                }\n//                remaining = buffer.remaining();\n//                runTask();\n                BUFFER_POOL.returnBuffer(buffer);\n            }\n        }\n        LOGGER.info(mainMarker,&quot;Task Scheduler Thread has terminated...&quot;);\n    }\n</code></pre>\n<p>However, when I run jvisualvm, I can see that whenever I &quot;schedule&quot; a task and poll the queue, it is allocating bytes. I have tried commenting and uncommenting the other parts of the code but only the polling and scheduling will affect the allocated bytes.</p>\n<p><a href=\"https://i.stack.imgur.com/pC6J2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pC6J2.png\" alt=\"jvisualvm\" /></a></p>\n<p>I have checked this <a href=\"https://stackoverflow.com/questions/63986434/how-to-iterate-through-arrayblockingqueue-without-memory-allocation-gc-delays\">link</a> but I am not looking to iterate the whole array. I am looking to get one item at a time to process then remove it. What is the proper way to approach this?</p>\n<p>edit: I have a separate thread that &quot;produces&quot; instances of ByteBuffer, InetSocketAddress and Marker and puts it inside the arrayblockingqueues. I also just checked the source code for poll() and dequeue() it doesn't seem that it does anything that should warrant the allocation of bytes. If I am creating the objects in the main thread, and adding it to queue, it shouldnt allocate bytes if this thread is only used for processing the queue values</p>\n<p>The constructor looks like this:</p>\n<pre><code>private final BlockingQueue&lt;ByteBuffer&gt; TASK_BUFFER;\nprivate final BlockingQueue&lt;InetSocketAddress&gt; TASK_ADDRESS;\nprivate final BlockingQueue&lt;Marker&gt; TASK_MARKER;\nprivate final BufferPool BUFFER_POOL;\nprivate final ExcerptAppender APPENDER;\n\npublic TaskScheduler(BufferPool bufferPool, ChronicleQueue chronicleQueue){\n    TASK_BUFFER = new ArrayBlockingQueue&lt;&gt;(bufferPool.getCapacity());\n    TASK_ADDRESS = new ArrayBlockingQueue&lt;&gt;(bufferPool.getCapacity());\n    TASK_MARKER = new ArrayBlockingQueue&lt;&gt;(bufferPool.getCapacity());\n    BUFFER_POOL = bufferPool;\n    APPENDER = chronicleQueue.acquireAppender();\n}\n</code></pre>\n<p>and this puts the produced values inside the queue:</p>\n<pre><code>    public void scheduleTask(final ByteBuffer buffer, final InetSocketAddress remoteAdd, final Marker marker) throws InterruptedException {\n        TASK_BUFFER.put(buffer);\n        TASK_ADDRESS.put(remoteAdd);\n        TASK_MARKER.put(marker);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tuples","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1678176996,"post_id":75657881,"comment_id":133478128,"body_markdown":"[Tuples.of(fluxOne, fluxTwo, fluxThree)](https://projectreactor.io/docs/core/release/api/reactor/util/function/Tuples.html#of-T1-T2-T3-) ? I am not sure, do you just want to pack fluxes together ? (i.e. Tuple3 factory above), or do you want to zip Flux contents, producing a single Flux combining each flux signal ? (in which case Flux.zip exists)","body":"<a href=\"https://projectreactor.io/docs/core/release/api/reactor/util/function/Tuples.html#of-T1-T2-T3-\" rel=\"nofollow noreferrer\">Tuples.of(fluxOne, fluxTwo, fluxThree)</a> ? I am not sure, do you just want to pack fluxes together ? (i.e. Tuple3 factory above), or do you want to zip Flux contents, producing a single Flux combining each flux signal ? (in which case Flux.zip exists)"},{"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"score":0,"creation_date":1678177583,"post_id":75657881,"comment_id":133478282,"body_markdown":"Thanks for your message @amanin. I am trying to zip the Flux contents to 1 object `OrderDetailsAggregate` to get aggregated contents as response\nExample:\n`{\n    &quot;fluxOne&quot;: {\n        &quot;123&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]\n    },\n    &quot;fluxTwo&quot;: {\n        &quot;456&quot;: &quot;SomeValue&quot;\n    },\n    &quot;fluxThree&quot;: {\n        &quot;789&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]\n        &quot;101&quot;: [&quot;ITEM4&quot;, &quot;ITEM5&quot;, &quot;ITEM6&quot;]\n    }\n`}","body":"Thanks for your message @amanin. I am trying to zip the Flux contents to 1 object <code>OrderDetailsAggregate</code> to get aggregated contents as response Example: <code>{     &quot;fluxOne&quot;: {         &quot;123&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]     },     &quot;fluxTwo&quot;: {         &quot;456&quot;: &quot;SomeValue&quot;     },     &quot;fluxThree&quot;: {         &quot;789&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]         &quot;101&quot;: [&quot;ITEM4&quot;, &quot;ITEM5&quot;, &quot;ITEM6&quot;]     } </code>}"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1678178106,"post_id":75657881,"comment_id":133478436,"body_markdown":"please do not post code in comments, as you can see its completely unreadaable, use the edit button on your question. And the answer is if you are using `Flux` why arn&#39;t you just using `Flux.zip`?","body":"please do not post code in comments, as you can see its completely unreadaable, use the edit button on your question. And the answer is if you are using <code>Flux</code> why arn&#39;t you just using <code>Flux.zip</code>?"}],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678180268,"creation_date":1678180268,"answer_id":75659952,"question_id":75657881,"body_markdown":"If you need to return `Mono&lt;OrderDetailsAggregate&gt;` from `getAggregatedOrderDetails` method, then why  not just create `Mono` object without zip:\r\n\r\n```java\r\npublic Mono&lt;OrderDetailsAggregate&gt; getAggregatedOrderDetails(List&lt;String&gt; orderNoList1,\r\n                                                                 List&lt;String&gt; orderNoList2, List&lt;String&gt; orderNoList3) {\r\n        Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxOne = this.appWebClient.getFluxOne(orderNoList1);\r\n        Flux&lt;Map&lt;String, String&gt;&gt; fluxTwo = this.appWebClient.getFluxTwo(orderNoList2);\r\n        Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxThree = this.appWebClient.getFluxThree(orderNoList3);\r\n        OrderDetailsAggregate aggregate = OrderDetailsAggregate.create(fluxOne, fluxTwo, fluxThree);\r\n        return Mono.just(aggregate);\r\n    }\r\n```","title":"Spring Webflux - How to aggregate three Flux objects into 1 using Tuple3","body":"<p>If you need to return <code>Mono&lt;OrderDetailsAggregate&gt;</code> from <code>getAggregatedOrderDetails</code> method, then why  not just create <code>Mono</code> object without zip:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;OrderDetailsAggregate&gt; getAggregatedOrderDetails(List&lt;String&gt; orderNoList1,\n                                                                 List&lt;String&gt; orderNoList2, List&lt;String&gt; orderNoList3) {\n        Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxOne = this.appWebClient.getFluxOne(orderNoList1);\n        Flux&lt;Map&lt;String, String&gt;&gt; fluxTwo = this.appWebClient.getFluxTwo(orderNoList2);\n        Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxThree = this.appWebClient.getFluxThree(orderNoList3);\n        OrderDetailsAggregate aggregate = OrderDetailsAggregate.create(fluxOne, fluxTwo, fluxThree);\n        return Mono.just(aggregate);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17525087,"reputation":39,"user_id":12710322,"display_name":"94621"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678354487,"creation_date":1678354068,"answer_id":75682651,"question_id":75657881,"body_markdown":"To me it looks like you are treating the Flux&#39;es your `appWebClient` is returning as if they were Mono&#39;s.\r\n\r\nI assume, you want to have all values of the fluxes in your `OrderDetailsAggregate`. Should that be the case, I would suggest to `collect` the Flux into a Mono, do a `Mono.zip` to get a tuple and map that to your `OrderDetailsAggregate`:\r\n``` java\r\npublic Mono&lt;OrderDetailsAggregate&gt; getAggregatedOrderDetails(List&lt;String&gt; orderNoList1,\r\n            List&lt;String&gt; orderNoList2, List&lt;String&gt; orderNoList3) {\r\n        Mono&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; monoOne = this.appWebClient.getFluxOne(orderNoList1).collect(HashMap::new, Map::putAll);\r\n        Mono&lt;Map&lt;String, String&gt;&gt; monoTwo = this.appWebClient.getFluxTwo(orderNoList2).collect(HashMap::new, Map::putAll);\r\n        Mono&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; monoThree = this.appWebClient.getFluxThree(orderNoList3).collect(HashMap::new, Map::putAll);\r\n\r\n        return Mono.zip(monoOne, monoTwo, monoThree).map(tuple -&gt; OrderDetailsAggregate.create(tuple.getT1(), tuple.getT2(), tuple.getT3()));\r\n}\r\n```\r\nShould you just care about one value from the flux, then you can replace the `collect()` with `next()`.\r\n\r\nEdit: I see you are passing `Flux` to your `create()` method. So this answer only applies if you would change that as well. If your `OrderDetailsAggregate` is a Dto and not a service, then it would perhaps be a good idea to not have that flux logic in there but rather do it in the `getAggregatedOrderDetails` method.","title":"Spring Webflux - How to aggregate three Flux objects into 1 using Tuple3","body":"<p>To me it looks like you are treating the Flux'es your <code>appWebClient</code> is returning as if they were Mono's.</p>\n<p>I assume, you want to have all values of the fluxes in your <code>OrderDetailsAggregate</code>. Should that be the case, I would suggest to <code>collect</code> the Flux into a Mono, do a <code>Mono.zip</code> to get a tuple and map that to your <code>OrderDetailsAggregate</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;OrderDetailsAggregate&gt; getAggregatedOrderDetails(List&lt;String&gt; orderNoList1,\n            List&lt;String&gt; orderNoList2, List&lt;String&gt; orderNoList3) {\n        Mono&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; monoOne = this.appWebClient.getFluxOne(orderNoList1).collect(HashMap::new, Map::putAll);\n        Mono&lt;Map&lt;String, String&gt;&gt; monoTwo = this.appWebClient.getFluxTwo(orderNoList2).collect(HashMap::new, Map::putAll);\n        Mono&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; monoThree = this.appWebClient.getFluxThree(orderNoList3).collect(HashMap::new, Map::putAll);\n\n        return Mono.zip(monoOne, monoTwo, monoThree).map(tuple -&gt; OrderDetailsAggregate.create(tuple.getT1(), tuple.getT2(), tuple.getT3()));\n}\n</code></pre>\n<p>Should you just care about one value from the flux, then you can replace the <code>collect()</code> with <code>next()</code>.</p>\n<p>Edit: I see you are passing <code>Flux</code> to your <code>create()</code> method. So this answer only applies if you would change that as well. If your <code>OrderDetailsAggregate</code> is a Dto and not a service, then it would perhaps be a good idea to not have that flux logic in there but rather do it in the <code>getAggregatedOrderDetails</code> method.</p>\n"}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678354487,"creation_date":1678160853,"question_id":75657881,"body_markdown":"I am trying to aggregate 3 `Flux` objects into 1 using `Tuple3`\r\nHowever, I am still stuck. I searched online and saw that you can use `Mono.zip()` but that doesn&#39;t apply to `Flux`.\r\n\r\n    public class OrderService {\r\n    \r\n    \tprivate final AppWebClient appWebClient;\r\n    \r\n    \tpublic Mono&lt;OrderDetailsAggregate&gt; getAggregatedOrderDetails(List&lt;String&gt; orderNoList1,\r\n    \t\t\tList&lt;String&gt; orderNoList2, List&lt;String&gt; orderNoList3) {\r\n    \t\tFlux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxOne = this.appWebClient.getFluxOne(orderNoList1);\r\n    \t\tFlux&lt;Map&lt;String, String&gt;&gt; fluxTwo = this.appWebClient.getFluxTwo(orderNoList2);\r\n    \t\tFlux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxThree = this.appWebClient.getFluxThree(orderNoList3);\r\n    \r\n    \t\treturn Mono.zip(fluxOne, fluxTwo, fluxThree).map(this::combine); //error here\r\n    \t}\r\n    \r\n    \tprivate OrderDetailsAggregate combine(\r\n    \t\t\tTuple3&lt; Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;, Flux&lt;Map&lt;String, String&gt;&gt;, Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; &gt; tuple) {\r\n    \t\treturn OrderDetailsAggregate.create(tuple.getT1(), tuple.getT2(), tuple.getT3()); \r\n    \t}\r\n    \r\n    }\r\n    \r\n`fluxOne`, `fluxTwo`, `fluxThree` have different data types.\r\n\r\n**OrderDetailsAggregate** class\r\n\r\n    @Data\r\n    @ToString\r\n    @AllArgsConstructor(staticName = &quot;create&quot;)\r\n    public class OrderDetailsAggregate {\r\n    \r\n    \tprivate Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;  fluxOne;\r\n    \tprivate Flux&lt;Map&lt;String, String&gt;&gt; fluxTwo;\r\n    \tprivate Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxThree;\r\n    }\r\n\r\nHow do I combine them?\r\n\r\nThank you.","title":"Spring Webflux - How to aggregate three Flux objects into 1 using Tuple3","body":"<p>I am trying to aggregate 3 <code>Flux</code> objects into 1 using <code>Tuple3</code>\nHowever, I am still stuck. I searched online and saw that you can use <code>Mono.zip()</code> but that doesn't apply to <code>Flux</code>.</p>\n<pre><code>public class OrderService {\n\n    private final AppWebClient appWebClient;\n\n    public Mono&lt;OrderDetailsAggregate&gt; getAggregatedOrderDetails(List&lt;String&gt; orderNoList1,\n            List&lt;String&gt; orderNoList2, List&lt;String&gt; orderNoList3) {\n        Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxOne = this.appWebClient.getFluxOne(orderNoList1);\n        Flux&lt;Map&lt;String, String&gt;&gt; fluxTwo = this.appWebClient.getFluxTwo(orderNoList2);\n        Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxThree = this.appWebClient.getFluxThree(orderNoList3);\n\n        return Mono.zip(fluxOne, fluxTwo, fluxThree).map(this::combine); //error here\n    }\n\n    private OrderDetailsAggregate combine(\n            Tuple3&lt; Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;, Flux&lt;Map&lt;String, String&gt;&gt;, Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; &gt; tuple) {\n        return OrderDetailsAggregate.create(tuple.getT1(), tuple.getT2(), tuple.getT3()); \n    }\n\n}\n</code></pre>\n<p><code>fluxOne</code>, <code>fluxTwo</code>, <code>fluxThree</code> have different data types.</p>\n<p><strong>OrderDetailsAggregate</strong> class</p>\n<pre><code>@Data\n@ToString\n@AllArgsConstructor(staticName = &quot;create&quot;)\npublic class OrderDetailsAggregate {\n\n    private Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;  fluxOne;\n    private Flux&lt;Map&lt;String, String&gt;&gt; fluxTwo;\n    private Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxThree;\n}\n</code></pre>\n<p>How do I combine them?</p>\n<p>Thank you.</p>\n"},{"tags":["java","selenium-webdriver","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678354379,"creation_date":1678354379,"answer_id":75682712,"question_id":75680712,"body_markdown":"This error message...\r\n\r\n\tError occurred during initialization of boot layer\r\n\tjava.lang.module.FindException: Module processed.jcommander not found, required by org.seleniumhq.selenium.remote_driver\r\n\r\n...implies that [Selenium](https://stackoverflow.com/a/54482491/7429447) jars/binaries were not configured properly within the framework.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nIn such cases, the two basic steps to be taken are as follows:\r\n\r\n- Delete the _`module-info.java`_ file (incase you have one)\r\n- Move the Selenium jar from the _Modulepath_ to the _**Classpath**_ (within Project &gt; Properties: Java Build Path, tab Libraries)","title":"java.lang.module.FindException: Module processed.jcommander not found, required by org.seleniumhq.selenium.remote_driver error using Selenium Java","body":"<p>This error message...</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module processed.jcommander not found, required by org.seleniumhq.selenium.remote_driver\n</code></pre>\n<p>...implies that <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> jars/binaries were not configured properly within the framework.</p>\n<hr />\n<h2>Solution</h2>\n<p>In such cases, the two basic steps to be taken are as follows:</p>\n<ul>\n<li>Delete the <em><code>module-info.java</code></em> file (incase you have one)</li>\n<li>Move the Selenium jar from the <em>Modulepath</em> to the <em><strong>Classpath</strong></em> (within Project &gt; Properties: Java Build Path, tab Libraries)</li>\n</ul>\n"}],"owner":{"account_id":27971109,"reputation":1,"user_id":21360802,"display_name":"amit kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678354469,"creation_date":1678339340,"question_id":75680712,"body_markdown":"I  am trying to run selenium script with java language but facing the following error: \r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module processed.jcommander not found, required by org.seleniumhq.selenium.remote_driver\r\n```\r\n\r\n","title":"java.lang.module.FindException: Module processed.jcommander not found, required by org.seleniumhq.selenium.remote_driver error using Selenium Java","body":"<p>I  am trying to run selenium script with java language but facing the following error:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module processed.jcommander not found, required by org.seleniumhq.selenium.remote_driver\n</code></pre>\n"},{"tags":["java","amazon-web-services","elasticsearch","opensearch"],"answers":[{"tags":[],"owner":{"account_id":14795454,"reputation":1996,"user_id":10685211,"display_name":"Musab Dogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678354347,"creation_date":1678354347,"answer_id":75682706,"question_id":75681739,"body_markdown":"From the official documentation:\r\n\r\n&gt; We no longer recommend using the scroll API for deep pagination. If\r\n&gt; you need to preserve the index state while paging through more than\r\n&gt; 10,000 hits, use the search_after parameter with a point in time\r\n&gt; (PIT).\r\n\r\nIf you need pagination I recommend you use &quot;size&quot; and &quot;from&quot; parameters.\r\nFor details and other solutions, you can check [this link.][1]\r\n\r\nHere are some java examples for you.\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/client-helpers.html\r\n\r\n\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/paginate-search-results.html","title":"How to read data from elastic search or opensearch using scroll api for java","body":"<p>From the official documentation:</p>\n<blockquote>\n<p>We no longer recommend using the scroll API for deep pagination. If\nyou need to preserve the index state while paging through more than\n10,000 hits, use the search_after parameter with a point in time\n(PIT).</p>\n</blockquote>\n<p>If you need pagination I recommend you use &quot;size&quot; and &quot;from&quot; parameters.\nFor details and other solutions, you can check <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/paginate-search-results.html\" rel=\"nofollow noreferrer\">this link.</a></p>\n<p>Here are some java examples for you.\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/client-helpers.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/client-helpers.html</a></p>\n"}],"owner":{"account_id":27962495,"reputation":1,"user_id":21353960,"display_name":"CodingPolygolots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678354347,"creation_date":1678348210,"question_id":75681739,"body_markdown":"I want to read data from elastic search or opensearch .\r\nI want to use scroll api for this. I don&#39;t know how to use it. can someone answer me about it.\r\n\r\nI required Java code for reading data from elastic search or opensearch","title":"How to read data from elastic search or opensearch using scroll api for java","body":"<p>I want to read data from elastic search or opensearch .\nI want to use scroll api for this. I don't know how to use it. can someone answer me about it.</p>\n<p>I required Java code for reading data from elastic search or opensearch</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1675993060,"post_id":75406024,"comment_id":133052440,"body_markdown":"Doing `mvn eclipse:...` is wrong nowadays. Anything in the _Error Log_ view? If yes, please go to the _Error Log_ view, select the error, hit Ctrl+C and paste it into your question formatted as _Sample Code_.","body":"Doing <code>mvn eclipse:...</code> is wrong nowadays. Anything in the <i>Error Log</i> view? If yes, please go to the <i>Error Log</i> view, select the error, hit Ctrl+C and paste it into your question formatted as <i>Sample Code</i>."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1678366220,"post_id":75406024,"comment_id":133520620,"body_markdown":"The problem indicated by stacktrace is that the plugin tries to use method from maven integration that is not there. This indicates that there is a dependency compatibility issue. I recall that such error should have been fixed in the newest version of Vaadin Eclipse Plugin, can you verify you use the latest version?","body":"The problem indicated by stacktrace is that the plugin tries to use method from maven integration that is not there. This indicates that there is a dependency compatibility issue. I recall that such error should have been fixed in the newest version of Vaadin Eclipse Plugin, can you verify you use the latest version?"},{"owner":{"account_id":4049957,"reputation":925,"user_id":3329922,"accept_rate":67,"display_name":"Tony B"},"score":0,"creation_date":1678912677,"post_id":75406024,"comment_id":133627326,"body_markdown":"Plugin version 4.1.7, if I am reading it correctly.  I just tried to update it and it said that no updates were found.  Update sites are http://vaadin.com/eclipse/ and https://vaadin.com/eclipse/.  Eclipse version is 2023-03 (4.27.0), build 20230309-1520.  The vaadin version I am using is 7.7.17 (the latest I can currently use because of my licensing and the type of account I have).","body":"Plugin version 4.1.7, if I am reading it correctly.  I just tried to update it and it said that no updates were found.  Update sites are <a href=\"http://vaadin.com/eclipse/\" rel=\"nofollow noreferrer\">vaadin.com/eclipse</a> and <a href=\"https://vaadin.com/eclipse/\" rel=\"nofollow noreferrer\">vaadin.com/eclipse</a>.  Eclipse version is 2023-03 (4.27.0), build 20230309-1520.  The vaadin version I am using is 7.7.17 (the latest I can currently use because of my licensing and the type of account I have)."}],"owner":{"account_id":4049957,"reputation":925,"user_id":3329922,"accept_rate":67,"display_name":"Tony B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678354067,"creation_date":1675991223,"question_id":75406024,"body_markdown":"In eclipse, when I right click on my project and click &quot;Update Maven Project&quot;, I get the below error:\r\n```\r\nAn internal error occurred during: &quot;Updating Maven Project&quot;.\r\n&#39;org.apache.maven.project.MavenProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getMavenProject()&#39;\r\n```\r\nI know this looks like quite a few other StackOverflow posts, but none of those helped me, and very few reference this precise problem.  The closest I ever saw were ones referencing `getProject` instead of `getMavenProject`.  Most say to do things I already tried (see below).\r\n\r\nI have tried pretty much everything:\r\n- Ran `mvn eclipse:clean` and then `mvn eclipse:eclipse`\r\n- Removed projected and re-imported it as a maven project\r\n- Reloaded the entire workspace, after removing a bunch of plugins\r\n- Removed .m2 directory and let it be rebuilt\r\n- Probably something else I am forgetting \r\nThe closest I ever got was when I removed some add-ons (m2e-wtp related stuff, if memory serves), but then a normal eclipse update added them back (when I started Eclipse next time, it popped up a message saying I needed to install them, so I clicked &quot;Yes&quot;, hoping things were fixed).  I did try to uninstall these m2e-wtp, but that did not fix things, so I added them back (since it kept asking me to).\r\n\r\nI expect to update the maven project with no error.  Basically, I want to get rid of the `getMavenProject` error, either by fixing something in my setup, or getting a fix from the m2e people (maybe the update site is not one of the ones I am using, for instance).\r\n\r\n\r\nMore information below:\r\nVersion information:\r\nEclipse IDE for Enterprise Java and Web Developers (includes Incubating components)\r\n\r\nVersion: 2022-12 (4.26.0)\r\nBuild id: 20221201-1913\r\n\r\nWindows 11 Pro\r\nFully updated eclipse (just did &quot;Check Updates&quot;).\r\n\r\nAvailable Software sites export:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;bookmarks&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/releases/2022-06&quot; selected=&quot;true&quot; name=&quot;2022-06&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/releases/2022-06/202206151000&quot; selected=&quot;true&quot; name=&quot;2022-06&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/releases/2021-12&quot; selected=&quot;true&quot; name=&quot;2022-12&quot;/&gt;\r\n   &lt;site url=&quot;http://sdbg.github.io/p2&quot; selected=&quot;true&quot; name=&quot;com.github.sdbg.releng.p2&quot;/&gt;\r\n   &lt;site url=&quot;http://vaadin.com/eclipse/&quot; selected=&quot;true&quot; name=&quot;com.vaadin.update.site&quot;/&gt;\r\n   &lt;site url=&quot;http://download.eclipse.org/releases/2020-03&quot; selected=&quot;true&quot; name=&quot;Eclipse Repository&quot;/&gt;\r\n   &lt;site url=&quot;http://marketplace.yatta.de/eclipse-mirror/releases/2020-03&quot; selected=&quot;true&quot; name=&quot;Eclipse Repository&quot;/&gt;\r\n   &lt;site url=&quot;http://www.apache.org/dist/ant/ivyde/updatesite&quot; selected=&quot;true&quot; name=&quot;IvyDE&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/technology/epp/packages/latest/&quot; selected=&quot;true&quot; name=&quot;Latest Eclipse IDE Packages Release&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/releases/latest&quot; selected=&quot;true&quot; name=&quot;Latest Eclipse Simultaneous Release&quot;/&gt;\r\n   &lt;site url=&quot;http://www.liclipse.com/text/updates&quot; selected=&quot;true&quot; name=&quot;LiClipseText Update Site&quot;/&gt;\r\n   &lt;site url=&quot;http://storage.googleapis.com/gwt-eclipse-plugin/v3/release&quot; selected=&quot;true&quot; name=&quot;repo&quot;/&gt;\r\n   &lt;site url=&quot;http://download.eclipse.org/wildwebdeveloper/releases/latest/&quot; selected=&quot;true&quot; name=&quot;repository&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/lsp4e/releases/0.20.7/&quot; selected=&quot;true&quot; name=&quot;repository&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/wildwebdeveloper/releases/1.0.0/&quot; selected=&quot;true&quot; name=&quot;repository&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/eclipse/updates/4.25/&quot; selected=&quot;true&quot; name=&quot;The Eclipse Project repository&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/eclipse/updates/4.24&quot; selected=&quot;true&quot; name=&quot;The Eclipse Project Updates&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/eclipse/updates/4.26&quot; selected=&quot;true&quot; name=&quot;The Eclipse Project Updates&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/webtools/repository/latest&quot; selected=&quot;true&quot; name=&quot;The Eclipse Web Tools Platform (WTP) software repository&quot;/&gt;\r\n   &lt;site url=&quot;http://download.eclipse.org/usssdk/updates/release/latest&quot; selected=&quot;true&quot; name=&quot;User Storage Latest Release&quot;/&gt;\r\n   &lt;site url=&quot;http://ant.apache.org/ivy/ivyde/updatesite&quot; selected=&quot;false&quot; name=&quot;&quot;/&gt;\r\n   &lt;site url=&quot;https://download.eclipse.org/technology/epp/packages/2022-06/202206091200&quot; selected=&quot;true&quot; name=&quot;&quot;/&gt;\r\n&lt;/bookmarks&gt;\r\n```\r\n\r\n\r\nError log for above error message:\r\n```\r\neclipse.buildId=4.26.0.20221201-1200\r\njava.version=19.0.1\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\nFramework arguments:  -product org.eclipse.epp.package.jee.product\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product\r\n\r\norg.eclipse.core.jobs\r\nError\r\nFri Feb 10 16:55:52 EST 2023\r\nAn internal error occurred during: &quot;Updating Maven Project&quot;.\r\n\r\njava.lang.NoSuchMethodError: &#39;org.apache.maven.project.MavenProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getMavenProject()&#39;\r\n\tat com.vaadin.integration.eclipse.maven.VaadinMavenProjectConfigurator.getSourceFolders(VaadinMavenProjectConfigurator.java:46)\r\n\tat org.eclipse.m2e.jdt.AbstractSourcesGenerationProjectConfigurator.configureRawClasspath(AbstractSourcesGenerationProjectConfigurator.java:65)\r\n\tat org.eclipse.m2e.jdt.internal.AbstractJavaProjectConfigurator.invokeJavaProjectConfigurators(AbstractJavaProjectConfigurator.java:227)\r\n\tat org.eclipse.m2e.jdt.internal.AbstractJavaProjectConfigurator.configure(AbstractJavaProjectConfigurator.java:186)\r\n\tat org.eclipse.m2e.core.project.configurator.AbstractLifecycleMapping.configure(AbstractLifecycleMapping.java:123)\r\n\tat org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$6(ProjectConfigurationManager.java:494)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:364)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:274)\r\n\tat org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:488)\r\n\tat org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$4(ProjectConfigurationManager.java:416)\r\n\tat java.base/java.util.Collection.removeIf(Collection.java:576)\r\n\tat org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration0(ProjectConfigurationManager.java:410)\r\n\tat org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$3(ProjectConfigurationManager.java:340)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:364)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:274)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:213)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1102)\r\n\tat org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:339)\r\n\tat org.eclipse.m2e.core.ui.internal.UpdateMavenProjectJob.runInWorkspace(UpdateMavenProjectJob.java:80)\r\n\tat org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n```\r\n","title":"internal error occurred while Updating Maven Project getMavenProject","body":"<p>In eclipse, when I right click on my project and click &quot;Update Maven Project&quot;, I get the below error:</p>\n<pre><code>An internal error occurred during: &quot;Updating Maven Project&quot;.\n'org.apache.maven.project.MavenProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getMavenProject()'\n</code></pre>\n<p>I know this looks like quite a few other StackOverflow posts, but none of those helped me, and very few reference this precise problem.  The closest I ever saw were ones referencing <code>getProject</code> instead of <code>getMavenProject</code>.  Most say to do things I already tried (see below).</p>\n<p>I have tried pretty much everything:</p>\n<ul>\n<li>Ran <code>mvn eclipse:clean</code> and then <code>mvn eclipse:eclipse</code></li>\n<li>Removed projected and re-imported it as a maven project</li>\n<li>Reloaded the entire workspace, after removing a bunch of plugins</li>\n<li>Removed .m2 directory and let it be rebuilt</li>\n<li>Probably something else I am forgetting\nThe closest I ever got was when I removed some add-ons (m2e-wtp related stuff, if memory serves), but then a normal eclipse update added them back (when I started Eclipse next time, it popped up a message saying I needed to install them, so I clicked &quot;Yes&quot;, hoping things were fixed).  I did try to uninstall these m2e-wtp, but that did not fix things, so I added them back (since it kept asking me to).</li>\n</ul>\n<p>I expect to update the maven project with no error.  Basically, I want to get rid of the <code>getMavenProject</code> error, either by fixing something in my setup, or getting a fix from the m2e people (maybe the update site is not one of the ones I am using, for instance).</p>\n<p>More information below:\nVersion information:\nEclipse IDE for Enterprise Java and Web Developers (includes Incubating components)</p>\n<p>Version: 2022-12 (4.26.0)\nBuild id: 20221201-1913</p>\n<p>Windows 11 Pro\nFully updated eclipse (just did &quot;Check Updates&quot;).</p>\n<p>Available Software sites export:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;bookmarks&gt;\n   &lt;site url=&quot;https://download.eclipse.org/releases/2022-06&quot; selected=&quot;true&quot; name=&quot;2022-06&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/releases/2022-06/202206151000&quot; selected=&quot;true&quot; name=&quot;2022-06&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/releases/2021-12&quot; selected=&quot;true&quot; name=&quot;2022-12&quot;/&gt;\n   &lt;site url=&quot;http://sdbg.github.io/p2&quot; selected=&quot;true&quot; name=&quot;com.github.sdbg.releng.p2&quot;/&gt;\n   &lt;site url=&quot;http://vaadin.com/eclipse/&quot; selected=&quot;true&quot; name=&quot;com.vaadin.update.site&quot;/&gt;\n   &lt;site url=&quot;http://download.eclipse.org/releases/2020-03&quot; selected=&quot;true&quot; name=&quot;Eclipse Repository&quot;/&gt;\n   &lt;site url=&quot;http://marketplace.yatta.de/eclipse-mirror/releases/2020-03&quot; selected=&quot;true&quot; name=&quot;Eclipse Repository&quot;/&gt;\n   &lt;site url=&quot;http://www.apache.org/dist/ant/ivyde/updatesite&quot; selected=&quot;true&quot; name=&quot;IvyDE&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/technology/epp/packages/latest/&quot; selected=&quot;true&quot; name=&quot;Latest Eclipse IDE Packages Release&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/releases/latest&quot; selected=&quot;true&quot; name=&quot;Latest Eclipse Simultaneous Release&quot;/&gt;\n   &lt;site url=&quot;http://www.liclipse.com/text/updates&quot; selected=&quot;true&quot; name=&quot;LiClipseText Update Site&quot;/&gt;\n   &lt;site url=&quot;http://storage.googleapis.com/gwt-eclipse-plugin/v3/release&quot; selected=&quot;true&quot; name=&quot;repo&quot;/&gt;\n   &lt;site url=&quot;http://download.eclipse.org/wildwebdeveloper/releases/latest/&quot; selected=&quot;true&quot; name=&quot;repository&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/lsp4e/releases/0.20.7/&quot; selected=&quot;true&quot; name=&quot;repository&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/wildwebdeveloper/releases/1.0.0/&quot; selected=&quot;true&quot; name=&quot;repository&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/eclipse/updates/4.25/&quot; selected=&quot;true&quot; name=&quot;The Eclipse Project repository&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/eclipse/updates/4.24&quot; selected=&quot;true&quot; name=&quot;The Eclipse Project Updates&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/eclipse/updates/4.26&quot; selected=&quot;true&quot; name=&quot;The Eclipse Project Updates&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/webtools/repository/latest&quot; selected=&quot;true&quot; name=&quot;The Eclipse Web Tools Platform (WTP) software repository&quot;/&gt;\n   &lt;site url=&quot;http://download.eclipse.org/usssdk/updates/release/latest&quot; selected=&quot;true&quot; name=&quot;User Storage Latest Release&quot;/&gt;\n   &lt;site url=&quot;http://ant.apache.org/ivy/ivyde/updatesite&quot; selected=&quot;false&quot; name=&quot;&quot;/&gt;\n   &lt;site url=&quot;https://download.eclipse.org/technology/epp/packages/2022-06/202206091200&quot; selected=&quot;true&quot; name=&quot;&quot;/&gt;\n&lt;/bookmarks&gt;\n</code></pre>\n<p>Error log for above error message:</p>\n<pre><code>eclipse.buildId=4.26.0.20221201-1200\njava.version=19.0.1\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nFramework arguments:  -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product\n\norg.eclipse.core.jobs\nError\nFri Feb 10 16:55:52 EST 2023\nAn internal error occurred during: &quot;Updating Maven Project&quot;.\n\njava.lang.NoSuchMethodError: 'org.apache.maven.project.MavenProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getMavenProject()'\n    at com.vaadin.integration.eclipse.maven.VaadinMavenProjectConfigurator.getSourceFolders(VaadinMavenProjectConfigurator.java:46)\n    at org.eclipse.m2e.jdt.AbstractSourcesGenerationProjectConfigurator.configureRawClasspath(AbstractSourcesGenerationProjectConfigurator.java:65)\n    at org.eclipse.m2e.jdt.internal.AbstractJavaProjectConfigurator.invokeJavaProjectConfigurators(AbstractJavaProjectConfigurator.java:227)\n    at org.eclipse.m2e.jdt.internal.AbstractJavaProjectConfigurator.configure(AbstractJavaProjectConfigurator.java:186)\n    at org.eclipse.m2e.core.project.configurator.AbstractLifecycleMapping.configure(AbstractLifecycleMapping.java:123)\n    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$6(ProjectConfigurationManager.java:494)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:364)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:274)\n    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:488)\n    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$4(ProjectConfigurationManager.java:416)\n    at java.base/java.util.Collection.removeIf(Collection.java:576)\n    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration0(ProjectConfigurationManager.java:410)\n    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$3(ProjectConfigurationManager.java:340)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:364)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:274)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:213)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1102)\n    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:339)\n    at org.eclipse.m2e.core.ui.internal.UpdateMavenProjectJob.runInWorkspace(UpdateMavenProjectJob.java:80)\n    at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n"},{"tags":["java","maven","jenkins","testing","hash"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1678269407,"post_id":75671490,"comment_id":133498574,"body_markdown":"If the hash is different, then the overwhelmingly most likely explanation is that the content that you hash is different. What is `obj.getInputStream()`? Are you sure that it&#39;s byte-for-byte the same data every time?","body":"If the hash is different, then the overwhelmingly most likely explanation is that the content that you hash is different. What is <code>obj.getInputStream()</code>? Are you sure that it&#39;s byte-for-byte the same data every time?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678269547,"post_id":75671490,"comment_id":133498604,"body_markdown":"The code you are showing is deterministic enough. The problem is unlikely to be in this bit. Look elsewhere. Or try to distill it into a [mre].","body":"The code you are showing is deterministic enough. The problem is unlikely to be in this bit. Look elsewhere. Or try to distill it into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":27963537,"reputation":21,"user_id":21354841,"display_name":"GSac"},"score":0,"creation_date":1678270826,"post_id":75671490,"comment_id":133498881,"body_markdown":"@JoachimSauer yes, the file i&#39;m hashing for the test is located inside the test/resources folder of the project","body":"@JoachimSauer yes, the file i&#39;m hashing for the test is located inside the test/resources folder of the project"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678270983,"post_id":75671490,"comment_id":133498921,"body_markdown":"@GianlucaSacchi: then you do something wrong with reading/converting to bytes. Show us the code to actually read the content (or better yet, reduce it to a [mre] that shows the problem with minimal code, as also suggested by teapot418). I&#39;m almost 100% sure that for some reason `obj.getInputStream()` doesn&#39;t return the same stream of bytes on both environments. A common source for this is usage of `String.getBytes()` or other methods that rely on the platform default encoding.","body":"@GianlucaSacchi: then you do something wrong with reading/converting to bytes. Show us the code to actually read the content (or better yet, reduce it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows the problem with minimal code, as also suggested by teapot418). I&#39;m almost 100% sure that for some reason <code>obj.getInputStream()</code> doesn&#39;t return the same stream of bytes on both environments. A common source for this is usage of <code>String.getBytes()</code> or other methods that rely on the platform default encoding."},{"owner":{"account_id":27963537,"reputation":21,"user_id":21354841,"display_name":"GSac"},"score":0,"creation_date":1678272320,"post_id":75671490,"comment_id":133499300,"body_markdown":"@JoachimSauer done, so if that&#39;s the case it must be a test-related issue, that would be a relief","body":"@JoachimSauer done, so if that&#39;s the case it must be a test-related issue, that would be a relief"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1678273110,"post_id":75671490,"comment_id":133499498,"body_markdown":"Another possibility for different bytes: if you check out source from source control and on a Windows system you have line ending conversion activated (LF to CRLF) and on Jenkins there is no line ending conversion.","body":"Another possibility for different bytes: if you check out source from source control and on a Windows system you have line ending conversion activated (LF to CRLF) and on Jenkins there is no line ending conversion."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678275077,"post_id":75671490,"comment_id":133499954,"body_markdown":"@GianlucaSacchi: the code does not have the encoding problem I alluded to (as you purely handle the data as `byte[]` and never convert to/from `String`), so the thing that Thomas Kl&#228;ger mentions is the (or a?) likely cause. You probably want to use `.gitattributes` to ensure files are always checked out in the same way accross systems.","body":"@GianlucaSacchi: the code does not have the encoding problem I alluded to (as you purely handle the data as <code>byte[]</code> and never convert to/from <code>String</code>), so the thing that Thomas Kl&#228;ger mentions is the (or a?) likely cause. You probably want to use <code>.gitattributes</code> to ensure files are always checked out in the same way accross systems."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678277479,"post_id":75671490,"comment_id":133500566,"body_markdown":"Btw: if the line endings are the issue, then simply printing the *length* or the byte array should show a difference between the two (because using CRLF would add 1 byte to each line compared to just LF).","body":"Btw: if the line endings are the issue, then simply printing the <i>length</i> or the byte array should show a difference between the two (because using CRLF would add 1 byte to each line compared to just LF)."}],"answers":[{"tags":[],"owner":{"account_id":27963537,"reputation":21,"user_id":21354841,"display_name":"GSac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678353949,"creation_date":1678353949,"answer_id":75682628,"question_id":75671490,"body_markdown":"I solved the problem, it really was an issue with the reading of the file.\r\n\r\nAfter I&#39;ve put the file content in a single line and changed the code to read that file one time only instead of once per test it all worked.\r\n\r\nThanks for the help!","title":"Hashing function gives different output when running Maven JUnit tests on Jenkins","body":"<p>I solved the problem, it really was an issue with the reading of the file.</p>\n<p>After I've put the file content in a single line and changed the code to read that file one time only instead of once per test it all worked.</p>\n<p>Thanks for the help!</p>\n"}],"owner":{"account_id":27963537,"reputation":21,"user_id":21354841,"display_name":"GSac"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75682628,"answer_count":1,"score":1,"last_activity_date":1678353949,"creation_date":1678268909,"question_id":75671490,"body_markdown":"As the title says,  have this function which takes as arguments a ByteArrayResource and a String representing the name of the algorithm to use.\r\n\r\nI&#39;m using `java.security.MessageDigest` with `GnuCrypto` and `BouncyCastleProvider` providers.\r\n\r\nI&#39;m having some issues identifying what the problem could be, both my machine and the Jenkins one are running java 11, here&#39;s the code:\r\n\r\nTest:\r\n\r\n    void hashOk{\r\n\t\tbyte[] bytes = Files.readAllBytes(Path.of(&quot;path/to/file.xml&quot;));\r\n\r\n        String hash1 = &quot;5EDF3285285FDABCFFB7019E2442B31F&quot;;\r\n\t\tString hash2 = hashService.hash(new ByteArrayResource(bytes), &quot;MD5&quot;);\r\n\r\n\t\tAssertions.assertEquals(hash1, hash2);\r\n    }\r\n\r\nService:\r\n\r\n    public String hash(ByteArrayResource obj, String algorithm) throws NoSuchAlgorithmException {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n    \tSecurity.addProvider(new GnuCrypto());\r\n\r\n    \tvar md = MessageDigest.getInstance(algorithm);\r\n    \r\n    \ttry (DigestInputStream dis = new DigestInputStream(new BufferedInputStream(obj.getInputStream()), md)) {\r\n    \t\tbyte[] buffer = new byte[1024];\r\n    \t\twhile (dis.read(buffer) != -1) ;\r\n    \r\n    \t\tbyte[] hash = md.digest();\r\n    \r\n    \t\treturn DatatypeConverter.printHexBinary(hash).toUpperCase();\r\n    \r\n    \t} catch (IOException e) {...} }\r\n\r\nAm I missing something?\r\n\r\nThese are the results of the test, where &quot;hash1&quot; is the control string and &quot;hash2&quot; is the generated one:\r\n\r\nLocal MD5\r\n\r\n```\r\nhash1: 5EDF3285285FDABCFFB7019E2442B31F\r\nhash2: 5EDF3285285FDABCFFB7019E2442B31F\r\n``` \r\n\r\nJenkins MD5\r\n\r\n```\r\nhash1: 5EDF3285285FDABCFFB7019E2442B31F \r\nhash2: 7A7E0BBA2452963746BA4D71EB8CCFA3 \r\n```\r\n\r\nI&#39;ve also tried on a different machine with Jenkins and it gives the same results.\r\n \r\nSome solutions I found were just a different arrangement of the same code (and I tried them).\r\n\r\nThere&#39;s one which told me to change the `pom.xml` and set the `forkCount` property to 0 on the `maven-surefire-plugin`, but that gave me an exception because it couldn&#39;t find the file for the hashing test (?).\r\n\r\n","title":"Hashing function gives different output when running Maven JUnit tests on Jenkins","body":"<p>As the title says,  have this function which takes as arguments a ByteArrayResource and a String representing the name of the algorithm to use.</p>\n<p>I'm using <code>java.security.MessageDigest</code> with <code>GnuCrypto</code> and <code>BouncyCastleProvider</code> providers.</p>\n<p>I'm having some issues identifying what the problem could be, both my machine and the Jenkins one are running java 11, here's the code:</p>\n<p>Test:</p>\n<pre><code>void hashOk{\n    byte[] bytes = Files.readAllBytes(Path.of(&quot;path/to/file.xml&quot;));\n\n    String hash1 = &quot;5EDF3285285FDABCFFB7019E2442B31F&quot;;\n    String hash2 = hashService.hash(new ByteArrayResource(bytes), &quot;MD5&quot;);\n\n    Assertions.assertEquals(hash1, hash2);\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public String hash(ByteArrayResource obj, String algorithm) throws NoSuchAlgorithmException {\n    Security.addProvider(new BouncyCastleProvider());\n    Security.addProvider(new GnuCrypto());\n\n    var md = MessageDigest.getInstance(algorithm);\n\n    try (DigestInputStream dis = new DigestInputStream(new BufferedInputStream(obj.getInputStream()), md)) {\n        byte[] buffer = new byte[1024];\n        while (dis.read(buffer) != -1) ;\n\n        byte[] hash = md.digest();\n\n        return DatatypeConverter.printHexBinary(hash).toUpperCase();\n\n    } catch (IOException e) {...} }\n</code></pre>\n<p>Am I missing something?</p>\n<p>These are the results of the test, where &quot;hash1&quot; is the control string and &quot;hash2&quot; is the generated one:</p>\n<p>Local MD5</p>\n<pre><code>hash1: 5EDF3285285FDABCFFB7019E2442B31F\nhash2: 5EDF3285285FDABCFFB7019E2442B31F\n</code></pre>\n<p>Jenkins MD5</p>\n<pre><code>hash1: 5EDF3285285FDABCFFB7019E2442B31F \nhash2: 7A7E0BBA2452963746BA4D71EB8CCFA3 \n</code></pre>\n<p>I've also tried on a different machine with Jenkins and it gives the same results.</p>\n<p>Some solutions I found were just a different arrangement of the same code (and I tried them).</p>\n<p>There's one which told me to change the <code>pom.xml</code> and set the <code>forkCount</code> property to 0 on the <code>maven-surefire-plugin</code>, but that gave me an exception because it couldn't find the file for the hashing test (?).</p>\n"},{"tags":["java","spring-boot","hibernate","migration","schema"],"owner":{"account_id":26495013,"reputation":1,"user_id":20132904,"display_name":"doms61"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678353697,"creation_date":1678308976,"question_id":75678136,"body_markdown":"I have increased the version of my `spring-boot-starter-parent` from `2.6.7` to `3.0.4`. The older one uses `hibernate 5.6.8` and the newer `6.1.7`. I have adapted all the `javax.persistance` to `jakarta.persistance`, also all the required annotations and the code in general. However, when I run it, and try to query for a specific table (note: for find it happens only for this one table) I get the following error:\r\n\r\n&gt; o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState:\r\n&gt; 3F000  o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: schema &quot;s1_0&quot;\r\n&gt; does not exist   Position: 263\r\n&gt; \r\n&gt; o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\n&gt; servlet [dispatcherServlet] in context with path [] threw exception\r\n&gt; [Request processing failed:\r\n&gt; org.springframework.orm.jpa.JpaSystemException: JDBC exception\r\n&gt; executing SQL [select\r\n&gt; s1_0.id,s1_0.absence,s1_0.active_state,s1_0.activity_id,s1_0.bad_weather,s1_0.checked,s1_0.cost_center_id,s1_0.employee_id,s1_0.end_date_time,s1_0.end_coordinates_id,s1_0.end_date_time\r\n&gt; + make_interval( CAST(9000 - extract(YEAR from s1_0.end_date_time) AS s1_0.int4), CAST(12 - extract(MONTH from s1_0.end_date_time) AS\r\n&gt; s1_0.int4), 0, CAST(31 - extract(DAY from s1_0.end_date_time) AS\r\n&gt; s1_0.int4), 0, 0)\r\n&gt; ,s1_0.exact_end_date_time,s1_0.exact_start_date_time,s1_0.is_break,s1_0.locked,s1_0.recorded_manually,s1_0.recorder_id,s1_0.sent_end_from_device,s1_0.sent_start_from_device,s1_0.site_manager_id,s1_0.staff_time_group_uuid,date_trunc(&#39;day&#39;,\r\n&gt; s1_0.start_date_time),s1_0.start_date_time,s1_0.begin_coordinates_id,s1_0.start_date_time\r\n&gt; + make_interval( CAST(9000 - extract(YEAR from s1_0.start_date_time) AS s1_0.int4), CAST(12 - extract(MONTH from s1_0.start_date_time) AS\r\n&gt; s1_0.int4), 0, CAST(31 - extract(DAY from s1_0.start_date_time) AS\r\n&gt; s1_0.int4), 0, 0) ,extract(EPOCH from (s1_0.end_date_time -\r\n&gt; s1_0.start_date_time)) ,s1_0.task_id,s1_0.text,s1_0.updated_at from\r\n&gt; public.staff_time s1_0`\r\n&gt; \r\n&gt; org.postgresql.util.PSQLException: ERROR: schema &quot;s1_0&quot; does not exist\r\n&gt; \tat\r\n&gt; org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\r\n&gt; ~[postgresql-42.5.1.jar:42.5.1]\r\n\r\nAs per my understanding there should not be schema `s1_0`, that should be a table. It doesn&#39;t have an issue with other tables. At least when I tried different ones for `repository.findAll()` it worked for all except this. \r\n\r\n\r\n\r\nI have tried to add to all the `@OneToOne`, `@ManyToOne`, `@OneToMany` a lazy fethType `(fetch = FetchType.LAZY)`. It did helped with something similar, but not here. \r\n\r\nI&#39;ve tried to rename the table from `staff_time` to `table_staff_time`, to see if when hibernate create the query, if the `s1_0` is reserved for a schema or something, but again, it was the same and it tried with the same name (was trying to fetch from the right table, but to no avail).\r\n\r\nI am getting lost, I don&#39;t know what else to try.  ","title":"After migration from hibernate 5.6.8 to 6.1.7 I am getting this: ERROR: schema &quot;s1_0&quot; does not exist","body":"<p>I have increased the version of my <code>spring-boot-starter-parent</code> from <code>2.6.7</code> to <code>3.0.4</code>. The older one uses <code>hibernate 5.6.8</code> and the newer <code>6.1.7</code>. I have adapted all the <code>javax.persistance</code> to <code>jakarta.persistance</code>, also all the required annotations and the code in general. However, when I run it, and try to query for a specific table (note: for find it happens only for this one table) I get the following error:</p>\n<blockquote>\n<p>o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState:\n3F000  o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: schema &quot;s1_0&quot;\ndoes not exist   Position: 263</p>\n<p>o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\nservlet [dispatcherServlet] in context with path [] threw exception\n[Request processing failed:\norg.springframework.orm.jpa.JpaSystemException: JDBC exception\nexecuting SQL [select\ns1_0.id,s1_0.absence,s1_0.active_state,s1_0.activity_id,s1_0.bad_weather,s1_0.checked,s1_0.cost_center_id,s1_0.employee_id,s1_0.end_date_time,s1_0.end_coordinates_id,s1_0.end_date_time</p>\n<ul>\n<li>make_interval( CAST(9000 - extract(YEAR from s1_0.end_date_time) AS s1_0.int4), CAST(12 - extract(MONTH from s1_0.end_date_time) AS\ns1_0.int4), 0, CAST(31 - extract(DAY from s1_0.end_date_time) AS\ns1_0.int4), 0, 0)\n,s1_0.exact_end_date_time,s1_0.exact_start_date_time,s1_0.is_break,s1_0.locked,s1_0.recorded_manually,s1_0.recorder_id,s1_0.sent_end_from_device,s1_0.sent_start_from_device,s1_0.site_manager_id,s1_0.staff_time_group_uuid,date_trunc('day',\ns1_0.start_date_time),s1_0.start_date_time,s1_0.begin_coordinates_id,s1_0.start_date_time</li>\n<li>make_interval( CAST(9000 - extract(YEAR from s1_0.start_date_time) AS s1_0.int4), CAST(12 - extract(MONTH from s1_0.start_date_time) AS\ns1_0.int4), 0, CAST(31 - extract(DAY from s1_0.start_date_time) AS\ns1_0.int4), 0, 0) ,extract(EPOCH from (s1_0.end_date_time -\ns1_0.start_date_time)) ,s1_0.task_id,s1_0.text,s1_0.updated_at from\npublic.staff_time s1_0`</li>\n</ul>\n<p>org.postgresql.util.PSQLException: ERROR: schema &quot;s1_0&quot; does not exist\nat\norg.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n~[postgresql-42.5.1.jar:42.5.1]</p>\n</blockquote>\n<p>As per my understanding there should not be schema <code>s1_0</code>, that should be a table. It doesn't have an issue with other tables. At least when I tried different ones for <code>repository.findAll()</code> it worked for all except this.</p>\n<p>I have tried to add to all the <code>@OneToOne</code>, <code>@ManyToOne</code>, <code>@OneToMany</code> a lazy fethType <code>(fetch = FetchType.LAZY)</code>. It did helped with something similar, but not here.</p>\n<p>I've tried to rename the table from <code>staff_time</code> to <code>table_staff_time</code>, to see if when hibernate create the query, if the <code>s1_0</code> is reserved for a schema or something, but again, it was the same and it tried with the same name (was trying to fetch from the right table, but to no avail).</p>\n<p>I am getting lost, I don't know what else to try.</p>\n"},{"tags":["java","excel","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1678337635,"post_id":75680515,"comment_id":133513844,"body_markdown":"Does [this](https://stackoverflow.com/a/27277918/1271785) help?","body":"Does <a href=\"https://stackoverflow.com/a/27277918/1271785\">this</a> help?"},{"owner":{"account_id":22180512,"reputation":1,"user_id":16424305,"display_name":"dheeraj"},"score":0,"creation_date":1678339810,"post_id":75680515,"comment_id":133514134,"body_markdown":"no that did not help , i have used that, it says &quot;The method setCellStyle(CellStyle) in the type Cell is not applicable for the arguments (void)&quot; .","body":"no that did not help , i have used that, it says &quot;The method setCellStyle(CellStyle) in the type Cell is not applicable for the arguments (void)&quot; ."},{"owner":{"account_id":22180512,"reputation":1,"user_id":16424305,"display_name":"dheeraj"},"score":0,"creation_date":1678342116,"post_id":75680515,"comment_id":133514448,"body_markdown":"i have mentioned the formula that i am using to calculate the sum of data inside the cell, using that formula i am getting the expected sum but i need that with a pound symbol","body":"i have mentioned the formula that i am using to calculate the sum of data inside the cell, using that formula i am getting the expected sum but i need that with a pound symbol"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1678342888,"post_id":75680515,"comment_id":133514551,"body_markdown":"`cellDynamic.setCellStyle(style.setDataFormat((short)8));`: That cannot work. It should throw an exception. Do that in two steps: `style.setDataFormat((short)8); cellDynamic.setCellStyle(style);`","body":"<code>cellDynamic.setCellStyle(style.setDataFormat((short)8));</code>: That cannot work. It should throw an exception. Do that in two steps: <code>style.setDataFormat((short)8); cellDynamic.setCellStyle(style);</code>"},{"owner":{"account_id":22180512,"reputation":1,"user_id":16424305,"display_name":"dheeraj"},"score":0,"creation_date":1678343654,"post_id":75680515,"comment_id":133514681,"body_markdown":"thank you @AxelRichter , its working , but it is showing dollar symbol, i need pound, can you tell me which short value or anything else that i have to add ?","body":"thank you @AxelRichter , its working , but it is showing dollar symbol, i need pound, can you tell me which short value or anything else that i have to add ?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1678345187,"post_id":75680515,"comment_id":133514978,"body_markdown":"It shows the currency symbol which is set in your Windows system (Region settings). If you change that to en_GB, then it will show &#163;.","body":"It shows the currency symbol which is set in your Windows system (Region settings). If you change that to en_GB, then it will show &#163;."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1678347028,"post_id":75680515,"comment_id":133515400,"body_markdown":"If you need different currencies in one Excel sheet, see https://stackoverflow.com/questions/67801007/how-to-set-different-currency-in-different-cell-depending-on-currency-code/67816490#67816490","body":"If you need different currencies in one Excel sheet, see <a href=\"https://stackoverflow.com/questions/67801007/how-to-set-different-currency-in-different-cell-depending-on-currency-code/67816490#67816490\" title=\"how to set different currency in different cell depending on currency code\">stackoverflow.com/questions/67801007/&hellip;</a>"},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1678349011,"post_id":75680515,"comment_id":133515822,"body_markdown":"https://stackoverflow.com/questions/67801007/how-to-set-different-currency-in-different-cell-depending-on-currency-code here the answer to your question","body":"<a href=\"https://stackoverflow.com/questions/67801007/how-to-set-different-currency-in-different-cell-depending-on-currency-code\" title=\"how to set different currency in different cell depending on currency code\">stackoverflow.com/questions/67801007/&hellip;</a> here the answer to your question"}],"owner":{"account_id":22180512,"reputation":1,"user_id":16424305,"display_name":"dheeraj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678353638,"creation_date":1678337068,"question_id":75680515,"body_markdown":"I have applied formula on a cell to calculate sum of the doubles in cells of a row, I want the answer to be printed with symbol pound(GBP).\r\n\r\n\r\nThis is the formula:\r\n\r\n```java\r\nCell cellDynamic = row.createCell(59); cellDynamic.setCellFormula(&quot;SUM(J10*$J9+K10*$K$9+L10*$L$9+M10*$M$9+N10*$N$9)&quot;);\r\n```\r\nI have tried to set the cell-style but it does not work:\r\n\r\n```\r\nCellStyle style = workbook.createCellStyle();\r\ncellDynamic.setCellStyle(style.setDataFormat((short)8));\r\n```\r\nI am getting answer as (for eg) : 225.45, whereas it should be : &#163;225.45","title":"I am using apache-poi in my spring boot project to build a excel sheet in which i am calculating sum using excel formula","body":"<p>I have applied formula on a cell to calculate sum of the doubles in cells of a row, I want the answer to be printed with symbol pound(GBP).</p>\n<p>This is the formula:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cell cellDynamic = row.createCell(59); cellDynamic.setCellFormula(&quot;SUM(J10*$J9+K10*$K$9+L10*$L$9+M10*$M$9+N10*$N$9)&quot;);\n</code></pre>\n<p>I have tried to set the cell-style but it does not work:</p>\n<pre><code>CellStyle style = workbook.createCellStyle();\ncellDynamic.setCellStyle(style.setDataFormat((short)8));\n</code></pre>\n<p>I am getting answer as (for eg) : 225.45, whereas it should be : £225.45</p>\n"},{"tags":["java","unit-testing","assertj"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1472562663,"creation_date":1472562663,"answer_id":39228450,"question_id":39228234,"body_markdown":"    assertThat(yoda.isJedi()).isTrue()","title":"How to check boolean getter with AssertJ?","body":"<pre><code>assertThat(yoda.isJedi()).isTrue()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6489979,"reputation":101,"user_id":5448650,"display_name":"Yuriy Mankovskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678353465,"creation_date":1678353465,"answer_id":75682556,"question_id":39228234,"body_markdown":"assertThat(yoda.isJedi()).isEqualTo(true);\r\n","title":"How to check boolean getter with AssertJ?","body":"<p>assertThat(yoda.isJedi()).isEqualTo(true);</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5111,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":39228450,"answer_count":2,"score":6,"last_activity_date":1678353465,"creation_date":1472562062,"question_id":39228234,"body_markdown":"It looks very cool \r\n\r\n    assertThat(yoda).is(jedi);\r\n\r\nuntil you don&#39;t know what is `yoda` and `jedi`. But suppose \r\n\r\n    yoda instanceof Person\r\n\r\nwhere\r\n\r\n    interface Person {\r\n        boolean isJedi();\r\n    }\r\n\r\nThen how actually check `isJedi` with `AssertJ`?\r\n\r\nIn conventional `JUnit` I would write\r\n\r\n    assertTrue( yoda.isJedi() );\r\n\r\nbut what in `AssertJ`?","title":"How to check boolean getter with AssertJ?","body":"<p>It looks very cool </p>\n\n<pre><code>assertThat(yoda).is(jedi);\n</code></pre>\n\n<p>until you don't know what is <code>yoda</code> and <code>jedi</code>. But suppose </p>\n\n<pre><code>yoda instanceof Person\n</code></pre>\n\n<p>where</p>\n\n<pre><code>interface Person {\n    boolean isJedi();\n}\n</code></pre>\n\n<p>Then how actually check <code>isJedi</code> with <code>AssertJ</code>?</p>\n\n<p>In conventional <code>JUnit</code> I would write</p>\n\n<pre><code>assertTrue( yoda.isJedi() );\n</code></pre>\n\n<p>but what in <code>AssertJ</code>?</p>\n"},{"tags":["java","dictionary","spring-webflux","flux","collect"],"answers":[{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678353199,"creation_date":1678353199,"answer_id":75682515,"question_id":75682083,"body_markdown":"Perhaps this is what you are looking for:\r\n\r\n    Mono&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; monoOne = fluxOne.collect(HashMap::new, Map::putAll);\r\n    Mono&lt;Map&lt;String, String&gt;&gt; monoTwo = fluxTwo.collect(HashMap::new, Map::putAll);","title":"How to collect Flux of Map into Mono of Map (Flux&lt;Map&lt;String,String&gt;&gt; into Mono&lt;Map&lt;String,String&gt;&gt;)?","body":"<p>Perhaps this is what you are looking for:</p>\n<pre><code>Mono&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; monoOne = fluxOne.collect(HashMap::new, Map::putAll);\nMono&lt;Map&lt;String, String&gt;&gt; monoTwo = fluxTwo.collect(HashMap::new, Map::putAll);\n</code></pre>\n"}],"owner":{"account_id":17525087,"reputation":39,"user_id":12710322,"display_name":"94621"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75682515,"answer_count":1,"score":1,"last_activity_date":1678353199,"creation_date":1678350759,"question_id":75682083,"body_markdown":"I have found an extensive [thread of how to merge maps in java8 streams](https://stackoverflow.com/questions/47334245/how-to-merge-a-collection-of-maps-using-streams), but I cannot quite translate that to Webflux.\r\n\r\nI have two Fluxes of the form:\r\n```java\r\nFlux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxOne = Flux.fromIterable(\r\n    List.of(\r\n        Collections.singletonMap(&quot;one&quot;, List.of(&quot;one&quot;,&quot;two&quot;)),\r\n        Collections.singletonMap(&quot;two&quot;, List.of(&quot;one&quot;,&quot;two&quot;))));\r\nFlux&lt;Map&lt;String, String&gt;&gt; fluxTwo = Flux.fromIterable(\r\n    List.of(\r\n        Collections.singletonMap(&quot;one&quot;, &quot;two&quot;),\r\n        Collections.singletonMap(&quot;one&quot;, &quot;two&quot;)));\r\n```\r\nI&#39;d like to transform that into Mono&#39;s by collecting it&#39;s values:\r\n```java\r\nMono&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; monoOne = fluxOne.collect(...);\r\nMono&lt;Map&lt;String, String&gt;&gt; monoTwo = fluxTwo.collect(...);\r\n```\r\nSo my question, how do I do that?","title":"How to collect Flux of Map into Mono of Map (Flux&lt;Map&lt;String,String&gt;&gt; into Mono&lt;Map&lt;String,String&gt;&gt;)?","body":"<p>I have found an extensive <a href=\"https://stackoverflow.com/questions/47334245/how-to-merge-a-collection-of-maps-using-streams\">thread of how to merge maps in java8 streams</a>, but I cannot quite translate that to Webflux.</p>\n<p>I have two Fluxes of the form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; fluxOne = Flux.fromIterable(\n    List.of(\n        Collections.singletonMap(&quot;one&quot;, List.of(&quot;one&quot;,&quot;two&quot;)),\n        Collections.singletonMap(&quot;two&quot;, List.of(&quot;one&quot;,&quot;two&quot;))));\nFlux&lt;Map&lt;String, String&gt;&gt; fluxTwo = Flux.fromIterable(\n    List.of(\n        Collections.singletonMap(&quot;one&quot;, &quot;two&quot;),\n        Collections.singletonMap(&quot;one&quot;, &quot;two&quot;)));\n</code></pre>\n<p>I'd like to transform that into Mono's by collecting it's values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; monoOne = fluxOne.collect(...);\nMono&lt;Map&lt;String, String&gt;&gt; monoTwo = fluxTwo.collect(...);\n</code></pre>\n<p>So my question, how do I do that?</p>\n"},{"tags":["java","android","arrays","json","android-glide"],"owner":{"account_id":27953977,"reputation":1,"user_id":21347184,"display_name":"SIMBU TK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678353196,"creation_date":1678351503,"question_id":75682197,"body_markdown":"  \r\n\r\n     {\r\n         &quot;details&quot;:[\r\n              \r\n          { &quot;image&quot;:&quot;...URL...&quot;,\r\n           &quot;name&quot;:&quot;Name of the person in the image&quot;,\r\n           &quot;description&quot;:&quot;Something about the person&quot;\r\n          },\r\n          {\r\n           &quot;image&quot;:&quot;...URL...&quot;,\r\n           &quot;name&quot;:&quot;Name of the person in the image&quot;,\r\n           &quot;description&quot;:&quot;Something about the person&quot;\r\n          },\r\n         {\r\n           &quot;image&quot;:&quot;...URL...&quot;,\r\n           &quot;name&quot;:&quot;Name of the person in the image&quot;\r\n          },\r\n         {\r\n           &quot;image&quot;:&quot;...URL...&quot;,\r\n           &quot;name&quot;:&quot;Name of the person in the image&quot;,\r\n           &quot;description&quot;:&quot;Something about the person&quot;\r\n          }\r\n    \r\n                 ]\r\n    \r\n       }\r\n\r\nI know how to read and add the regular array in the recyclerview with pojo class and Adapter.Now i&#39;m facing the difficulty to read and show in the recylerview with missing array element.","title":"How to read the json file from raw directory and how to use in recyclerview with irregular array elements","body":"<pre><code> {\n     &quot;details&quot;:[\n          \n      { &quot;image&quot;:&quot;...URL...&quot;,\n       &quot;name&quot;:&quot;Name of the person in the image&quot;,\n       &quot;description&quot;:&quot;Something about the person&quot;\n      },\n      {\n       &quot;image&quot;:&quot;...URL...&quot;,\n       &quot;name&quot;:&quot;Name of the person in the image&quot;,\n       &quot;description&quot;:&quot;Something about the person&quot;\n      },\n     {\n       &quot;image&quot;:&quot;...URL...&quot;,\n       &quot;name&quot;:&quot;Name of the person in the image&quot;\n      },\n     {\n       &quot;image&quot;:&quot;...URL...&quot;,\n       &quot;name&quot;:&quot;Name of the person in the image&quot;,\n       &quot;description&quot;:&quot;Something about the person&quot;\n      }\n\n             ]\n\n   }\n</code></pre>\n<p>I know how to read and add the regular array in the recyclerview with pojo class and Adapter.Now i'm facing the difficulty to read and show in the recylerview with missing array element.</p>\n"},{"tags":["java","rdp","printers"],"comments":[{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1678352515,"post_id":75672965,"comment_id":133516699,"body_markdown":"Please add more details, e.g. how are you running the app, are you running the application with local user rights or elevated rights?","body":"Please add more details, e.g. how are you running the app, are you running the application with local user rights or elevated rights?"},{"owner":{"account_id":1811627,"reputation":220,"user_id":1647570,"accept_rate":0,"display_name":"Joshjje"},"score":0,"creation_date":1678990263,"post_id":75672965,"comment_id":133644663,"body_markdown":"@makozaki They said its running as a windows service, system user.  With the process running that way im not sure you can filter by user.  Or you could run the process under that specific user if that is an option.","body":"@makozaki They said its running as a windows service, system user.  With the process running that way im not sure you can filter by user.  Or you could run the process under that specific user if that is an option."}],"owner":{"account_id":11807716,"reputation":59,"user_id":8639824,"display_name":"Jake N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678353174,"creation_date":1678278049,"question_id":75672965,"body_markdown":"I&#39;m launching this code on Remote Desktop Connection session to find printers:\r\n   \r\n\r\n    public void findPrinters() {\r\n\r\n           PrintService[] services = PrinterJob.lookupPrintServices();\r\n    \r\n           for (PrintService printService : services) {\r\n    \r\n                log.info(&quot;Found printer: {}&quot;, printService.getName());     \r\n    \r\n           } \r\n    \r\n    }\r\n\r\nCode is launched as a windows service, system user.\r\nWhen more than one user is logged in, I receive all printers connected, also from another users.\r\nI would like to filter them by current user which use this process currently.","title":"Java RDP filter redirected printers by current user","body":"<p>I'm launching this code on Remote Desktop Connection session to find printers:</p>\n<pre><code>public void findPrinters() {\n\n       PrintService[] services = PrinterJob.lookupPrintServices();\n\n       for (PrintService printService : services) {\n\n            log.info(&quot;Found printer: {}&quot;, printService.getName());     \n\n       } \n\n}\n</code></pre>\n<p>Code is launched as a windows service, system user.\nWhen more than one user is logged in, I receive all printers connected, also from another users.\nI would like to filter them by current user which use this process currently.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1678350731,"post_id":75681951,"comment_id":133516207,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":27972245,"reputation":1,"user_id":21361764,"display_name":"kuruk"},"score":0,"creation_date":1678352026,"post_id":75681951,"comment_id":133516554,"body_markdown":"Thank you, but my question is different, because i have this error ( title of topic ) when i execute with for with my parameter and not without.","body":"Thank you, but my question is different, because i have this error ( title of topic ) when i execute with for with my parameter and not without."}],"answers":[{"tags":[],"owner":{"account_id":13803081,"reputation":472,"user_id":9962650,"display_name":"saber javadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678353148,"creation_date":1678353148,"answer_id":75682505,"question_id":75681951,"body_markdown":"i think your purpose cant be achived with the method you are doing it. first in model that you are using for recyclerview item you should have a param for indicate item is checked or not something like this :\r\n\r\n    itemModel{\r\n     String txt1;\r\n     String txt2;\r\n     Boolean isChecked;\r\n}\r\n\r\nand inside of your adapter class have a paramether to keep is a checked item is available for example: \r\nboolean  checkedItemFlag=false;\r\nthen in your recyclerview adapter when check status of checkbox of on item is changed , if checkedItemFlag is true you should loop inside your main list and when you reach first checked item, tou change next comming items check status to true until you reach to current item , if checkedItemFlag is false you just change check status of current item to chaecked and set flag status to true finaly you call noifyDataSetChanged method of adapter to apply changes","title":"Error: android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference","body":"<p>i think your purpose cant be achived with the method you are doing it. first in model that you are using for recyclerview item you should have a param for indicate item is checked or not something like this :</p>\n<pre><code>itemModel{\n String txt1;\n String txt2;\n Boolean isChecked;\n</code></pre>\n<p>}</p>\n<p>and inside of your adapter class have a paramether to keep is a checked item is available for example:\nboolean  checkedItemFlag=false;\nthen in your recyclerview adapter when check status of checkbox of on item is changed , if checkedItemFlag is true you should loop inside your main list and when you reach first checked item, tou change next comming items check status to true until you reach to current item , if checkedItemFlag is false you just change check status of current item to chaecked and set flag status to true finaly you call noifyDataSetChanged method of adapter to apply changes</p>\n"}],"owner":{"account_id":27972245,"reputation":1,"user_id":21361764,"display_name":"kuruk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678353148,"creation_date":1678349816,"question_id":75681951,"body_markdown":"Sorry for my english , i have a question for you ( and thank you for your reply ).\r\nI have a recyclerview that componed with a checkbox and three textview. \r\nI want create this, when click first checkbox and click last checkbox i want that all range ( 0,1,2,3 ) are checked. \r\n\r\n\r\nin my fragment i have this method: \r\n\r\n\r\n```\r\n recyclerView.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        for(int i=0; i&lt;3; i++){\r\n                            if(recyclerView.findViewHolderForAdapterPosition(i)!=null )\r\n                            {                              recyclerView.findViewHolderForAdapterPosition(i).itemView.findViewById(R.id.linearlayout_item).performClick();\r\n                            }\r\n                        }\r\n                    }\r\n                },50);\r\n```\r\n\r\nand i not have a problem but when i change in this: \r\n\r\n\r\n```\r\nif ( posizione_elementi.size() == 2 ) {\r\n                    for (int i = posizione_elementi.get(0); i &lt;= posizione_elementi.get(1); i++) {\r\n                        int finalI = i;\r\n                        recyclerView.postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                recyclerView.findViewHolderForAdapterPosition(finalI).itemView.findViewById(R.id.linearlayout_item).performClick();\r\n                            }\r\n                        },50);\r\n                    }\r\n                }\r\n```\r\nI have this error &quot;java.lang.NullPointerException: Attempt to read from field &#39;android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference&quot;.\r\nWhy i have this error ? and how can resolve ?.\r\n\r\nThank you for answered","title":"Error: android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference","body":"<p>Sorry for my english , i have a question for you ( and thank you for your reply ).\nI have a recyclerview that componed with a checkbox and three textview.\nI want create this, when click first checkbox and click last checkbox i want that all range ( 0,1,2,3 ) are checked.</p>\n<p>in my fragment i have this method:</p>\n<pre><code> recyclerView.postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        for(int i=0; i&lt;3; i++){\n                            if(recyclerView.findViewHolderForAdapterPosition(i)!=null )\n                            {                              recyclerView.findViewHolderForAdapterPosition(i).itemView.findViewById(R.id.linearlayout_item).performClick();\n                            }\n                        }\n                    }\n                },50);\n</code></pre>\n<p>and i not have a problem but when i change in this:</p>\n<pre><code>if ( posizione_elementi.size() == 2 ) {\n                    for (int i = posizione_elementi.get(0); i &lt;= posizione_elementi.get(1); i++) {\n                        int finalI = i;\n                        recyclerView.postDelayed(new Runnable() {\n                            @Override\n                            public void run() {\n                                recyclerView.findViewHolderForAdapterPosition(finalI).itemView.findViewById(R.id.linearlayout_item).performClick();\n                            }\n                        },50);\n                    }\n                }\n</code></pre>\n<p>I have this error &quot;java.lang.NullPointerException: Attempt to read from field 'android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView' on a null object reference&quot;.\nWhy i have this error ? and how can resolve ?.</p>\n<p>Thank you for answered</p>\n"},{"tags":["java","spring-boot","pdf"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678343256,"post_id":75680133,"comment_id":133514601,"body_markdown":"Have you compared the original and the download? In particular, is a large contiguous piece (e.g. the last few KB) missing or several short ranges (e.g. single bytes here and there)?","body":"Have you compared the original and the download? In particular, is a large contiguous piece (e.g. the last few KB) missing or several short ranges (e.g. single bytes here and there)?"},{"owner":{"account_id":27970378,"reputation":1,"user_id":21360226,"display_name":"Shawjintran"},"score":0,"creation_date":1678349975,"post_id":75680133,"comment_id":133516041,"body_markdown":"@mkl sorry，I didn&#39;t compare those，but I just tested the way of using flush() by ur suggestion , it&#39;s useful, so i guess it might be the last few KB. Thank u.","body":"@mkl sorry，I didn&#39;t compare those，but I just tested the way of using flush() by ur suggestion , it&#39;s useful, so i guess it might be the last few KB. Thank u."}],"answers":[{"tags":[],"owner":{"account_id":27970378,"reputation":1,"user_id":21360226,"display_name":"Shawjintran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678341879,"creation_date":1678341879,"answer_id":75680944,"question_id":75680133,"body_markdown":"Fine, I find the bug.  \r\nIn my other function, I turn `ServletOutputStream` into `BufferedOutputStream`  \r\n`new BufferedOutputStream(outputStream);`  \r\nWhen I just tested, I used `IOUtils.copy(...)` by `ServletOutputStream` directly, the problem has been solved.  \r\nBut, I don&#39;t know why can&#39;t the `BufferedOutputStream`, hope somebody can give me some guidance.","title":"(Done) Use SpringBoot todownload Pdf file，but can&#39;t open it","body":"<p>Fine, I find the bug.<br />\nIn my other function, I turn <code>ServletOutputStream</code> into <code>BufferedOutputStream</code><br />\n<code>new BufferedOutputStream(outputStream);</code><br />\nWhen I just tested, I used <code>IOUtils.copy(...)</code> by <code>ServletOutputStream</code> directly, the problem has been solved.<br />\nBut, I don't know why can't the <code>BufferedOutputStream</code>, hope somebody can give me some guidance.</p>\n"}],"owner":{"account_id":27970378,"reputation":1,"user_id":21360226,"display_name":"Shawjintran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678352905,"creation_date":1678331809,"question_id":75680133,"body_markdown":"I use SpringBoot to download Pdf file，but can&#39;t open it.   \r\nAnd I saw the original file is lager than the download.  \r\n[enter image description here](https://i.stack.imgur.com/tzy3d.png)  \r\n[enter image description here](https://i.stack.imgur.com/zHCTL.png)  \r\nbut I use `IOUtils.copy` to copy stream  \r\n``` java\r\nfilename=pdf_location+filename+&quot;.pdf&quot;;\r\nBufferedInputStream inputStream = new BufferedInputStream(\r\n\t\t\t\tnew FileInputStream(filename));\r\nIOUtils.copy(inputStream,out);\r\n```\r\nso I think there might be no bugs in my code :)  \r\n\r\n\r\n\r\nSpringBoot `2.4.2`， Apache Common  `2.11.0`，Swagger `knife4j-spring-boot-starter 3.0.2`  \r\nWhen it can&#39;t be opened, I check details about this part of code.  \r\nAbout `HttpServletResponse` , the Controller layer\r\n\r\n``` java\r\nresponse.setContentType(&quot;application/pdf&quot;);\r\nresponse.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+ fileName + &quot;.pdf&quot;);\r\n```\r\n\r\n```java\r\n@GetMapping(value = &quot;download/{pdfId}&quot;, produces = &quot;application/pdf&quot;)\r\n```\r\nAnd because I use Swagger2 to test firstly, next I try to use browser to open it directly.  \r\nUnfortunately, it&#39;s the same.  \r\nI also change the type of file, the image can be opened...\r\nthe image is 6.3mb,but pdf is only 300kb, I can&#39;t understand.   \r\nIf anyone also have this question,or know another ways to download pdf  \r\nplease give me some suggestions or point my mistake.\r\nreally need your help.","title":"(Done) Use SpringBoot todownload Pdf file，but can&#39;t open it","body":"<p>I use SpringBoot to download Pdf file，but can't open it.<br />\nAnd I saw the original file is lager than the download.<br />\n<a href=\"https://i.stack.imgur.com/tzy3d.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\n<a href=\"https://i.stack.imgur.com/zHCTL.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nbut I use <code>IOUtils.copy</code> to copy stream</p>\n<pre class=\"lang-java prettyprint-override\"><code>filename=pdf_location+filename+&quot;.pdf&quot;;\nBufferedInputStream inputStream = new BufferedInputStream(\n                new FileInputStream(filename));\nIOUtils.copy(inputStream,out);\n</code></pre>\n<p>so I think there might be no bugs in my code :)</p>\n<p>SpringBoot <code>2.4.2</code>， Apache Common  <code>2.11.0</code>，Swagger <code>knife4j-spring-boot-starter 3.0.2</code><br />\nWhen it can't be opened, I check details about this part of code.<br />\nAbout <code>HttpServletResponse</code> , the Controller layer</p>\n<pre class=\"lang-java prettyprint-override\"><code>response.setContentType(&quot;application/pdf&quot;);\nresponse.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+ fileName + &quot;.pdf&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;download/{pdfId}&quot;, produces = &quot;application/pdf&quot;)\n</code></pre>\n<p>And because I use Swagger2 to test firstly, next I try to use browser to open it directly.<br />\nUnfortunately, it's the same.<br />\nI also change the type of file, the image can be opened...\nthe image is 6.3mb,but pdf is only 300kb, I can't understand.<br />\nIf anyone also have this question,or know another ways to download pdf<br />\nplease give me some suggestions or point my mistake.\nreally need your help.</p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1678298945,"post_id":75676573,"comment_id":133507252,"body_markdown":"What Java code are you writing?  Edit your question to include a [mre] that we can compile, run, and test on our IDE.","body":"What Java code are you writing?  Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can compile, run, and test on our IDE."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678300942,"post_id":75676573,"comment_id":133507767,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27028914,"reputation":3,"user_id":21358168,"display_name":"complexlogarithm"},"score":0,"creation_date":1678351816,"post_id":75676573,"comment_id":133516496,"body_markdown":"I edited the question. Is that piece of code sufficient? Thank you!","body":"I edited the question. Is that piece of code sufficient? Thank you!"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1678352264,"post_id":75676573,"comment_id":133516620,"body_markdown":"Does the compiler give you any errors? You shouldn&#39;t need any additional .interface you just compile and run the `Integers.java` file. The way it is formatted here, it would not compile. Is that how your actual file is, or is it an error in the formatting when you pasted it.","body":"Does the compiler give you any errors? You shouldn&#39;t need any additional .interface you just compile and run the <code>Integers.java</code> file. The way it is formatted here, it would not compile. Is that how your actual file is, or is it an error in the formatting when you pasted it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1678352594,"post_id":75676573,"comment_id":133516722,"body_markdown":"What is `JNumberField` it isn&#39;t a standard class in java, are you using a library or did you create the class?","body":"What is <code>JNumberField</code> it isn&#39;t a standard class in java, are you using a library or did you create the class?"},{"owner":{"account_id":27028914,"reputation":3,"user_id":21358168,"display_name":"complexlogarithm"},"score":0,"creation_date":1678352820,"post_id":75676573,"comment_id":133516780,"body_markdown":"It is an error in the formatting. I just opened a new &quot;JFrame&quot;-file in JavaEditor and used AWT/Swing. Not sure if that is what you mean... Thanks and kind regards.","body":"It is an error in the formatting. I just opened a new &quot;JFrame&quot;-file in JavaEditor and used AWT/Swing. Not sure if that is what you mean... Thanks and kind regards."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1678352951,"post_id":75676573,"comment_id":133516826,"body_markdown":"When you try to run the file/program from eclipse it should give you an error. What is the error?","body":"When you try to run the file/program from eclipse it should give you an error. What is the error?"},{"owner":{"account_id":27028914,"reputation":3,"user_id":21358168,"display_name":"complexlogarithm"},"score":0,"creation_date":1678353110,"post_id":75676573,"comment_id":133516872,"body_markdown":"I posted it in the question.\nError: Error occurred during initialization of boot layer.","body":"I posted it in the question. Error: Error occurred during initialization of boot layer."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678352904,"creation_date":1678352904,"answer_id":75682455,"question_id":75676573,"body_markdown":"I reformatted your code, and created a dummy `JNumberField` class because it doesn&#39;t exist in java. Then it works fine. Your formatting is broken, it has invalid characters and it has important characters after inline comments. \r\n\r\n```\r\nimport java.awt.*; \r\n\r\nimport java.awt.event.*; \r\n\r\nimport javax.swing.*; \r\n\r\nimport javax.swing.event.*;\r\n\r\n\r\npublic class Integers extends JFrame { \r\n\r\n    // Anfang Attribute \r\n\r\n    private JNumberField \r\n    jNumberField1 = new JNumberField(); \r\n\r\n    private JButton \r\n    jButton1 = new JButton(); \r\n\r\n    private JTextField \r\n    jTextField1 = new JTextField(); \r\n\r\n    private JNumberField \r\n    jNumberField2 = new JNumberField(); \r\n    private JNumberField jNumberField3 = new JNumberField(); \r\n    private JNumberField jNumberField4 = new JNumberField(); \r\n    private JTextField \r\n    jTextField2 = new JTextField(); \r\n    private JButton jButton2 = new JButton(); \r\n    // Ende Attribute \r\n\r\n    public Integers() { \r\n        // Frame-Initialisierung \r\n        super(); \r\n        setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE); \r\n\r\n        int frameWidth = 300; \r\n        int frameHeight = 300; \r\n        setSize(frameWidth, frameHeight); \r\n\r\n        Dimension d = Toolkit.getDefaultToolkit().getScreenSize(); \r\n\r\n        int x = (d.width - getSize().width) / 2; \r\n\r\n        int y = (d.height - getSize().height) / 2; \r\n\r\n        setLocation(x, y); \r\n\r\n        setTitle(&quot;Integers&quot;); \r\n\r\n        setResizable(false); \r\n\r\n        Container cp = getContentPane(); \r\n\r\n        cp.setLayout(null); \r\n        // Anfang Komponenten \r\n\r\n        jNumberField1.setBounds(39, 31, 75, 20); \r\n\r\n        jNumberField1.setText(&quot;&quot;); \r\n\r\n        cp.add(jNumberField1); \r\n\r\n\r\n        jButton1.setBounds(192, 184, 75, 25); \r\n\r\n        jButton1.setText(&quot;addieren&quot;); \r\n\r\n        jButton1.setMargin(new Insets(2, 2, 2, 2)); \r\n        jButton1.addActionListener(new ActionListener() { \r\n            public void actionPerformed(ActionEvent evt) { \r\n                jButton1_ActionPerformed(evt); \r\n            } \r\n        }); \r\n\r\n        cp.add(jButton1); \r\n\r\n        jTextField1.setBounds(45, 213, 174, 20); \r\n\r\n        cp.add(jTextField1); \r\n\r\n        jNumberField2.setBounds(39, 64, 75, 20); \r\n\r\n        jNumberField2.setText(&quot;&quot;); \r\n        cp.add(jNumberField2); \r\n        jNumberField3.setBounds(39, 101, 75, 20); \r\n        jNumberField3.setText(&quot;&quot;); \r\n        cp.add(jNumberField3); \r\n        jNumberField4.setBounds(40, 137, 75, 20); \r\n        jNumberField4.setText(&quot;&quot;); \r\n        cp.add(jNumberField4); \r\n        jTextField2.setBounds(40, 3, 198, 20); \r\n        cp.add(jTextField2); \r\n        jTextField2.setText(&quot;Addieren in den ganzen Zahlen&quot;); \r\n        jButton2.setBounds(182, 136, 75, 25); \r\n\r\n        jButton2.setText(&quot;alles l&#246;schen&quot;); \r\n\r\n        jButton2.setMargin(new Insets(2, 2, 2, 2)); \r\n        jButton2.addActionListener(new ActionListener() { \r\n            public void actionPerformed(ActionEvent evt) { \r\n\r\n            jButton2_ActionPerformed(evt); \r\n        }}); \r\n\r\n        cp.add(jButton2); \r\n\r\n        // Ende Komponenten \r\n\r\n\r\n        setVisible(true); \r\n    } // end of public Integers \r\n\r\n    // Anfang Methoden \r\n\r\n    public static void main(String[] args) { \r\n        new Integers(); \r\n    } // end of main \r\n\r\n    public void jButton1_ActionPerformed(ActionEvent evt) {\r\n         \r\n        // TODO hier Quelltext einf&#252;gen \r\n\r\n        int x1 = jNumberField1.getInt(); \r\n\r\n        int x2 = jNumberField2.getInt(); \r\n\r\n        int x3 = jNumberField3.getInt(); \r\n\r\n        int x4 = jNumberField4.getInt(); \r\n\r\n\r\n        int sum = x1+x2+x3+x4; \r\n\r\n        jTextField1.setText(&quot;Ergebnis: &quot;+sum); \r\n    } // end of jButton1_ActionPerformed\r\n\r\n    public void jButton2_ActionPerformed(ActionEvent evt) { \r\n\r\n        // TODO hier Quelltext einf&#252;gen \r\n\r\n        jNumberField1.setInt(0); \r\n\r\n        jNumberField2.setInt(0); \r\n\r\n        jNumberField3.setInt(0); \r\n\r\n        jNumberField4.setInt(0); \r\n    } \r\n    // end of jButton2_ActionPerformed\r\n    // Ende Methoden \r\n} // end of class Integers\r\nclass JNumberField extends JTextField{\r\n    public void setInt( int a){\r\n        setText(&quot;&quot; + a);\r\n    }\r\n    \r\n    public int getInt(){\r\n        return Integer.parseInt( getText() );\r\n    }\r\n}\r\n```","title":"JFrame code in JavaEditor doesn&#39;t compile in Eclipse","body":"<p>I reformatted your code, and created a dummy <code>JNumberField</code> class because it doesn't exist in java. Then it works fine. Your formatting is broken, it has invalid characters and it has important characters after inline comments.</p>\n<pre><code>import java.awt.*; \n\nimport java.awt.event.*; \n\nimport javax.swing.*; \n\nimport javax.swing.event.*;\n\n\npublic class Integers extends JFrame { \n\n    // Anfang Attribute \n\n    private JNumberField \n    jNumberField1 = new JNumberField(); \n\n    private JButton \n    jButton1 = new JButton(); \n\n    private JTextField \n    jTextField1 = new JTextField(); \n\n    private JNumberField \n    jNumberField2 = new JNumberField(); \n    private JNumberField jNumberField3 = new JNumberField(); \n    private JNumberField jNumberField4 = new JNumberField(); \n    private JTextField \n    jTextField2 = new JTextField(); \n    private JButton jButton2 = new JButton(); \n    // Ende Attribute \n\n    public Integers() { \n        // Frame-Initialisierung \n        super(); \n        setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE); \n\n        int frameWidth = 300; \n        int frameHeight = 300; \n        setSize(frameWidth, frameHeight); \n\n        Dimension d = Toolkit.getDefaultToolkit().getScreenSize(); \n\n        int x = (d.width - getSize().width) / 2; \n\n        int y = (d.height - getSize().height) / 2; \n\n        setLocation(x, y); \n\n        setTitle(&quot;Integers&quot;); \n\n        setResizable(false); \n\n        Container cp = getContentPane(); \n\n        cp.setLayout(null); \n        // Anfang Komponenten \n\n        jNumberField1.setBounds(39, 31, 75, 20); \n\n        jNumberField1.setText(&quot;&quot;); \n\n        cp.add(jNumberField1); \n\n\n        jButton1.setBounds(192, 184, 75, 25); \n\n        jButton1.setText(&quot;addieren&quot;); \n\n        jButton1.setMargin(new Insets(2, 2, 2, 2)); \n        jButton1.addActionListener(new ActionListener() { \n            public void actionPerformed(ActionEvent evt) { \n                jButton1_ActionPerformed(evt); \n            } \n        }); \n\n        cp.add(jButton1); \n\n        jTextField1.setBounds(45, 213, 174, 20); \n\n        cp.add(jTextField1); \n\n        jNumberField2.setBounds(39, 64, 75, 20); \n\n        jNumberField2.setText(&quot;&quot;); \n        cp.add(jNumberField2); \n        jNumberField3.setBounds(39, 101, 75, 20); \n        jNumberField3.setText(&quot;&quot;); \n        cp.add(jNumberField3); \n        jNumberField4.setBounds(40, 137, 75, 20); \n        jNumberField4.setText(&quot;&quot;); \n        cp.add(jNumberField4); \n        jTextField2.setBounds(40, 3, 198, 20); \n        cp.add(jTextField2); \n        jTextField2.setText(&quot;Addieren in den ganzen Zahlen&quot;); \n        jButton2.setBounds(182, 136, 75, 25); \n\n        jButton2.setText(&quot;alles löschen&quot;); \n\n        jButton2.setMargin(new Insets(2, 2, 2, 2)); \n        jButton2.addActionListener(new ActionListener() { \n            public void actionPerformed(ActionEvent evt) { \n\n            jButton2_ActionPerformed(evt); \n        }}); \n\n        cp.add(jButton2); \n\n        // Ende Komponenten \n\n\n        setVisible(true); \n    } // end of public Integers \n\n    // Anfang Methoden \n\n    public static void main(String[] args) { \n        new Integers(); \n    } // end of main \n\n    public void jButton1_ActionPerformed(ActionEvent evt) {\n         \n        // TODO hier Quelltext einfügen \n\n        int x1 = jNumberField1.getInt(); \n\n        int x2 = jNumberField2.getInt(); \n\n        int x3 = jNumberField3.getInt(); \n\n        int x4 = jNumberField4.getInt(); \n\n\n        int sum = x1+x2+x3+x4; \n\n        jTextField1.setText(&quot;Ergebnis: &quot;+sum); \n    } // end of jButton1_ActionPerformed\n\n    public void jButton2_ActionPerformed(ActionEvent evt) { \n\n        // TODO hier Quelltext einfügen \n\n        jNumberField1.setInt(0); \n\n        jNumberField2.setInt(0); \n\n        jNumberField3.setInt(0); \n\n        jNumberField4.setInt(0); \n    } \n    // end of jButton2_ActionPerformed\n    // Ende Methoden \n} // end of class Integers\nclass JNumberField extends JTextField{\n    public void setInt( int a){\n        setText(&quot;&quot; + a);\n    }\n    \n    public int getInt(){\n        return Integer.parseInt( getText() );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27028914,"reputation":3,"user_id":21358168,"display_name":"complexlogarithm"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75682455,"answer_count":1,"score":0,"last_activity_date":1678352904,"creation_date":1678298049,"question_id":75676573,"body_markdown":"I am at the very beginning of learning about GUIs in Java.\r\nI use two computers - one old Windows computer and one MacBook.\r\nNow, I&#39;m running the default Java Editor on the Windows PC and Eclipse on the Mac.\r\nIt worked fine until I got to AWT/Swing with a JFrame etc. How can I quickly and easily just execute the code written in JavaEditor on my Mac in Eclipse? \r\n\r\n\r\nCan somebody please help me out? I want to be able to just copy and paste the code to Eclipse from JavaEditor and run it. Thank you very much.\r\n\r\nI tried creating a new &quot;Interface&quot; file and it didn&#39;t compile. Error: Error occurred during initialization of boot layer.\r\n\r\n\r\nCode: \r\n```\r\nimport java.awt.*;  \r\nimport java.awt.event.*;  \r\nimport javax.swing.*;  \r\nimport javax.swing.event.*;\r\n\r\n\r\npublic class Integers extends JFrame { \r\n // Anfang Attribute  \r\nprivate JNumberField \r\njNumberField1 = new JNumberField(); \r\n private JButton \r\njButton1 = new JButton();  \r\nprivate JTextField \r\njTextField1 = new JTextField();  \r\nprivate JNumberField \r\njNumberField2 = new JNumberField();  private JNumberField jNumberField3 = new JNumberField();  private JNumberField jNumberField4 = new JNumberField();  private JTextField \r\njTextField2 = new JTextField();  private JButton jButton2 = new JButton();  // Ende Attribute   public Integers() {  // Frame-Initialisierung  super();  setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);  \r\nint frameWidth = 300;  int frameHeight = 300;  setSize(frameWidth, frameHeight);  \r\nDimension d = Toolkit.getDefaultToolkit().getScreenSize();  \r\nint x = (d.width - getSize().width) / 2; \r\n int y = (d.height - getSize().height) / 2;  \r\nsetLocation(x, y);  \r\nsetTitle(&quot;Integers&quot;); \r\n setResizable(false);  \r\nContainer cp = getContentPane(); \r\n cp.setLayout(null);  // Anfang Komponenten   jNumberField1.setBounds(39, 31, 75, 20);  \r\njNumberField1.setText(&quot;&quot;); \r\n cp.add(jNumberField1);   \r\njButton1.setBounds(192, 184, 75, 25);  \r\njButton1.setText(&quot;addieren&quot;);  \r\njButton1.setMargin(new Insets(2, 2, 2, 2));  jButton1.addActionListener(new ActionListener() { \r\npublic void actionPerformed(ActionEvent evt) {  jButton1_ActionPerformed(evt);  }  });  \r\ncp.add(jButton1); \r\n jTextField1.setBounds(45, 213, 174, 20);  \r\ncp.add(jTextField1); \r\n jNumberField2.setBounds(39, 64, 75, 20); \r\n jNumberField2.setText(&quot;&quot;);  cp.add(jNumberField2);  jNumberField3.setBounds(39, 101, 75, 20);  jNumberField3.setText(&quot;&quot;);  cp.add(jNumberField3);  jNumberField4.setBounds(40, 137, 75, 20);  jNumberField4.setText(&quot;&quot;);  cp.add(jNumberField4);  jTextField2.setBounds(40, 3, 198, 20);  cp.add(jTextField2);  jTextField2.setText(&quot;Addieren in den ganzen Zahlen&quot;);  jButton2.setBounds(182, 136, 75, 25);  \r\njButton2.setText(&quot;alles l&#246;schen&quot;);  \r\njButton2.setMargin(new Insets(2, 2, 2, 2));  jButton2.addActionListener(new ActionListener() {  public void actionPerformed(ActionEvent evt) { \r\n jButton2_ActionPerformed(evt);  }  }); \r\n cp.add(jButton2);  \r\n// Ende Komponenten   \r\nsetVisible(true);  } // end of public Integers   // Anfang Methoden   public static void main(String[] args) { \r\n new Integers();  } // end of main   public void jButton1_ActionPerformed(ActionEvent evt) {\r\n  // TODO hier Quelltext einf&#252;gen  \r\nint x1 = jNumberField1.getInt(); \r\n int x2 = jNumberField2.getInt();  \r\nint x3 = jNumberField3.getInt();  \r\nint x4 = jNumberField4.getInt();   \r\nint sum = x1+x2+x3+x4;   jTextField1.setText(&quot;Ergebnis: &quot;+sum);  } // end of jButton1_ActionPerformed\r\n\r\npublic void jButton2_ActionPerformed(ActionEvent evt) {  \r\n// TODO hier Quelltext einf&#252;gen  \r\njNumberField1.setInt(0);  \r\njNumberField2.setInt(0);  \r\njNumberField3.setInt(0); \r\n jNumberField4.setInt(0);  } \r\n// end of jButton2_ActionPerformed\r\n// Ende Methoden  } // end of class Integers```","title":"JFrame code in JavaEditor doesn&#39;t compile in Eclipse","body":"<p>I am at the very beginning of learning about GUIs in Java.\nI use two computers - one old Windows computer and one MacBook.\nNow, I'm running the default Java Editor on the Windows PC and Eclipse on the Mac.\nIt worked fine until I got to AWT/Swing with a JFrame etc. How can I quickly and easily just execute the code written in JavaEditor on my Mac in Eclipse?</p>\n<p>Can somebody please help me out? I want to be able to just copy and paste the code to Eclipse from JavaEditor and run it. Thank you very much.</p>\n<p>I tried creating a new &quot;Interface&quot; file and it didn't compile. Error: Error occurred during initialization of boot layer.</p>\n<p>Code:</p>\n<pre><code>import java.awt.*;  \nimport java.awt.event.*;  \nimport javax.swing.*;  \nimport javax.swing.event.*;\n\n\npublic class Integers extends JFrame { \n // Anfang Attribute  \nprivate JNumberField \njNumberField1 = new JNumberField(); \n private JButton \njButton1 = new JButton();  \nprivate JTextField \njTextField1 = new JTextField();  \nprivate JNumberField \njNumberField2 = new JNumberField();  private JNumberField jNumberField3 = new JNumberField();  private JNumberField jNumberField4 = new JNumberField();  private JTextField \njTextField2 = new JTextField();  private JButton jButton2 = new JButton();  // Ende Attribute   public Integers() {  // Frame-Initialisierung  super();  setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);  \nint frameWidth = 300;  int frameHeight = 300;  setSize(frameWidth, frameHeight);  \nDimension d = Toolkit.getDefaultToolkit().getScreenSize();  \nint x = (d.width - getSize().width) / 2; \n int y = (d.height - getSize().height) / 2;  \nsetLocation(x, y);  \nsetTitle(&quot;Integers&quot;); \n setResizable(false);  \nContainer cp = getContentPane(); \n cp.setLayout(null);  // Anfang Komponenten   jNumberField1.setBounds(39, 31, 75, 20);  \njNumberField1.setText(&quot;&quot;); \n cp.add(jNumberField1);   \njButton1.setBounds(192, 184, 75, 25);  \njButton1.setText(&quot;addieren&quot;);  \njButton1.setMargin(new Insets(2, 2, 2, 2));  jButton1.addActionListener(new ActionListener() { \npublic void actionPerformed(ActionEvent evt) {  jButton1_ActionPerformed(evt);  }  });  \ncp.add(jButton1); \n jTextField1.setBounds(45, 213, 174, 20);  \ncp.add(jTextField1); \n jNumberField2.setBounds(39, 64, 75, 20); \n jNumberField2.setText(&quot;&quot;);  cp.add(jNumberField2);  jNumberField3.setBounds(39, 101, 75, 20);  jNumberField3.setText(&quot;&quot;);  cp.add(jNumberField3);  jNumberField4.setBounds(40, 137, 75, 20);  jNumberField4.setText(&quot;&quot;);  cp.add(jNumberField4);  jTextField2.setBounds(40, 3, 198, 20);  cp.add(jTextField2);  jTextField2.setText(&quot;Addieren in den ganzen Zahlen&quot;);  jButton2.setBounds(182, 136, 75, 25);  \njButton2.setText(&quot;alles löschen&quot;);  \njButton2.setMargin(new Insets(2, 2, 2, 2));  jButton2.addActionListener(new ActionListener() {  public void actionPerformed(ActionEvent evt) { \n jButton2_ActionPerformed(evt);  }  }); \n cp.add(jButton2);  \n// Ende Komponenten   \nsetVisible(true);  } // end of public Integers   // Anfang Methoden   public static void main(String[] args) { \n new Integers();  } // end of main   public void jButton1_ActionPerformed(ActionEvent evt) {\n  // TODO hier Quelltext einfügen  \nint x1 = jNumberField1.getInt(); \n int x2 = jNumberField2.getInt();  \nint x3 = jNumberField3.getInt();  \nint x4 = jNumberField4.getInt();   \nint sum = x1+x2+x3+x4;   jTextField1.setText(&quot;Ergebnis: &quot;+sum);  } // end of jButton1_ActionPerformed\n\npublic void jButton2_ActionPerformed(ActionEvent evt) {  \n// TODO hier Quelltext einfügen  \njNumberField1.setInt(0);  \njNumberField2.setInt(0);  \njNumberField3.setInt(0); \n jNumberField4.setInt(0);  } \n// end of jButton2_ActionPerformed\n// Ende Methoden  } // end of class Integers```\n</code></pre>\n"},{"tags":["java","unit-testing","junit","spock","powermock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1678259390,"post_id":75664096,"comment_id":133496178,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. Besides, why are you using such old Spock and Groovy versions? Is this a legacy project? If so, think about what you changed lately. I would assume, before your changes it must have worked.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. Besides, why are you using such old Spock and Groovy versions? Is this a legacy project? If so, think about what you changed lately. I would assume, before your changes it must have worked."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678352820,"creation_date":1678352820,"answer_id":75682442,"question_id":75664096,"body_markdown":"Without you reacting to my request for an [MCVE](https://stackoverflow.com/help/mcve), I can only make an educated guess, but this\r\n\r\n```none\r\nJUnitException: Unsupported version of junit:junit: 4.11.\r\nPlease upgrade to version 4.12 or later.\r\n```\r\n\r\nsounds to me like you should simply version-manage JUnit 4 for your project. Then you would no longer need to exclude anything, and probably it would just work:\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.13.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\nAnd then just refer to the preconfigured (managed) dependency without the version number, when declaring it:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n","title":"JUnit incompability issue when using powermock and spock","body":"<p>Without you reacting to my request for an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, I can only make an educated guess, but this</p>\n<pre class=\"lang-none prettyprint-override\"><code>JUnitException: Unsupported version of junit:junit: 4.11.\nPlease upgrade to version 4.12 or later.\n</code></pre>\n<p>sounds to me like you should simply version-manage JUnit 4 for your project. Then you would no longer need to exclude anything, and probably it would just work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>And then just refer to the preconfigured (managed) dependency without the version number, when declaring it:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678352820,"creation_date":1678203634,"question_id":75664096,"body_markdown":"I am trying to run tests and running into this issue warning causing tests not to be run when running a maven build\r\n\r\n\r\n \r\n\r\n      Mar 07, 2023 8:57:49 AM org.junit.platform.launcher.core.DefaultLauncher handleThrowable\r\n        WARNING: TestEngine with ID &#39;junit-vintage&#39; failed to discover tests\r\n        org.junit.platform.commons.JUnitException: Unsupported version of junit:junit: 4.11. Please upgrade to version 4.12 or later.\r\n        \tat org.junit.vintage.engine.JUnit4VersionCheck.checkSupported(JUnit4VersionCheck.java:49)\r\n        \tat org.junit.vintage.engine.JUnit4VersionCheck.checkSupported(JUnit4VersionCheck.java:35)\r\n        \tat org.junit.vintage.engine.VintageTestEngine.discover(VintageTestEngine.java:63)\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:168)\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:155)\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:120)\r\n        \tat org.apache.maven.surefire.junitplatform.TestPlanScannerFilter.accept(TestPlanScannerFilter.java:56)\r\n        \tat org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\r\n        \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.scanClasspath(JUnitPlatformProvider.java:143)\r\n        \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\r\n        \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n        \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n        \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n        \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\n\r\nI figure it has to do with a compability issue with our powermock and spock here is the pom\r\n\r\nRelavent POM.xml\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2-groovy-2.4&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n          &lt;version&gt;2.6&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n          &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n          &lt;version&gt;2.4.9&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n          &lt;version&gt;3.12.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n              &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.9&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.7&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;powermock-module-junit4-common&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.7&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;powermock-reflect&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n              &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n          &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n          &lt;version&gt;0.8.8&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nI am not sure if there is a real versioning issue but I am not sure where to continue my investigation.\r\n\r\nThank you","title":"JUnit incompability issue when using powermock and spock","body":"<p>I am trying to run tests and running into this issue warning causing tests not to be run when running a maven build</p>\n<pre><code>  Mar 07, 2023 8:57:49 AM org.junit.platform.launcher.core.DefaultLauncher handleThrowable\n    WARNING: TestEngine with ID 'junit-vintage' failed to discover tests\n    org.junit.platform.commons.JUnitException: Unsupported version of junit:junit: 4.11. Please upgrade to version 4.12 or later.\n        at org.junit.vintage.engine.JUnit4VersionCheck.checkSupported(JUnit4VersionCheck.java:49)\n        at org.junit.vintage.engine.JUnit4VersionCheck.checkSupported(JUnit4VersionCheck.java:35)\n        at org.junit.vintage.engine.VintageTestEngine.discover(VintageTestEngine.java:63)\n        at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:168)\n        at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:155)\n        at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:120)\n        at org.apache.maven.surefire.junitplatform.TestPlanScannerFilter.accept(TestPlanScannerFilter.java:56)\n        at org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.scanClasspath(JUnitPlatformProvider.java:143)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\n        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\n</code></pre>\n<p>I figure it has to do with a compability issue with our powermock and spock here is the pom</p>\n<p>Relavent POM.xml</p>\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\n      &lt;version&gt;1.2-groovy-2.4&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n      &lt;version&gt;2.6&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n      &lt;version&gt;2.4.9&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n      &lt;version&gt;3.12.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n          &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\n          &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n      &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n      &lt;version&gt;2.0.9&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n      &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n      &lt;version&gt;2.0.7&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;powermock-module-junit4-common&lt;/artifactId&gt;\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n      &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n      &lt;version&gt;2.0.7&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;powermock-reflect&lt;/artifactId&gt;\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n          &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n          &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n      &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n      &lt;version&gt;0.8.8&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>I am not sure if there is a real versioning issue but I am not sure where to continue my investigation.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565683045,"creation_date":1565683045,"answer_id":57473461,"question_id":57472586,"body_markdown":"If I understand correctly you have some Web-related dependencies on the classpath but aren&#39;t building a web application, you can explicitly tell `SpringApplication` that you don&#39;t want a web application:\r\n\r\n    app.setWebEnvironment(false);\r\n\r\nThis is the way to disabling Web-related auto-configuration as it means you don&#39;t need to know what those auto-configuration classes are and lets Spring Boot take care of it for you.","title":"APPLICATION FAILED TO START due to same bean","body":"<p>If I understand correctly you have some Web-related dependencies on the classpath but aren't building a web application, you can explicitly tell <code>SpringApplication</code> that you don't want a web application:</p>\n\n<pre><code>app.setWebEnvironment(false);\n</code></pre>\n\n<p>This is the way to disabling Web-related auto-configuration as it means you don't need to know what those auto-configuration classes are and lets Spring Boot take care of it for you.</p>\n"},{"tags":[],"owner":{"account_id":3507195,"reputation":14509,"user_id":2932476,"display_name":"Bourbia Brahim"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1678352808,"creation_date":1565685098,"answer_id":57473961,"question_id":57472586,"body_markdown":"In your Spring Boot startup class, the `@EnableAutoConfiguration` annotation will auto configure the MVC part (`WebMvcAutoConfiguration` will fail due to same bean name in `DelegatingWebFluxConfiguration`) \r\n\r\nSo try to exclude this from auto config like this:\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = {WebMvcAutoConfiguration.class })\r\n    public static void main(String[] args) {\r\n        ...\r\n        SpringApplication.run(MyApp.class, args);\r\n    }","title":"APPLICATION FAILED TO START due to same bean","body":"<p>In your Spring Boot startup class, the <code>@EnableAutoConfiguration</code> annotation will auto configure the MVC part (<code>WebMvcAutoConfiguration</code> will fail due to same bean name in <code>DelegatingWebFluxConfiguration</code>)</p>\n<p>So try to exclude this from auto config like this:</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude = {WebMvcAutoConfiguration.class })\npublic static void main(String[] args) {\n    ...\n    SpringApplication.run(MyApp.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9315159,"reputation":171,"user_id":6915717,"display_name":"Rishith Poloju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617954743,"creation_date":1617954743,"answer_id":67017131,"question_id":57472586,"body_markdown":"As mentioned in your problem description, Using dependencies of Spring MVC in Spring Webflux can cause this issue. I have solved this issue by excluding the group &quot;org.springframework.boot&quot; while including the old dependency.\r\n\r\nIn gradle.build i have did something like below:\r\n\r\n    implementation(&quot;dependency-using-spring-mvc&quot;) {\r\n        exclude(group= &quot;org.springframework.boot&quot;)\r\n    }","title":"APPLICATION FAILED TO START due to same bean","body":"<p>As mentioned in your problem description, Using dependencies of Spring MVC in Spring Webflux can cause this issue. I have solved this issue by excluding the group &quot;org.springframework.boot&quot; while including the old dependency.</p>\n<p>In gradle.build i have did something like below:</p>\n<pre><code>implementation(&quot;dependency-using-spring-mvc&quot;) {\n    exclude(group= &quot;org.springframework.boot&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":1976470,"reputation":874,"user_id":1774159,"accept_rate":80,"display_name":"Atul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11169,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1678352808,"creation_date":1565679444,"question_id":57472586,"body_markdown":"I have a **Spring Webflux** application where I am trying to load a dependency from an old module (old module is on **Spring WebMVC** framework). \r\n\r\nWhen the application is launched, this error is thrown - \r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    The bean &#39;requestMappingHandlerAdapter&#39;, defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [org/springframework/web/reactive/config/DelegatingWebFluxConfiguration.class] and overriding is disabled.\r\n    \r\n    Action:\r\n    \r\n    Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true\r\n\r\nI want all the beans from webflux package to be initiated, so I can&#39;t set `spring.main.allow-bean-definition-overriding=true`. \r\n\r\n\r\nAlso tried excluding all classes within org.springframework.boot at the time of component scan - `@ComponentScan(excludeFilters = @Filter(type = FilterType.REGEX, pattern = &quot;org.springframework.boot*&quot;)`. \r\nAlso tried excluding all spring packages in pom.xml of my webflux project like this -\r\n\r\n     &lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n\r\nSince I cannot modify the older dependency project to webflux, are there any options I could use the make the code work ?","title":"APPLICATION FAILED TO START due to same bean","body":"<p>I have a <strong>Spring Webflux</strong> application where I am trying to load a dependency from an old module (old module is on <strong>Spring WebMVC</strong> framework). </p>\n\n<p>When the application is launched, this error is thrown - </p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe bean 'requestMappingHandlerAdapter', defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [org/springframework/web/reactive/config/DelegatingWebFluxConfiguration.class] and overriding is disabled.\n\nAction:\n\nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true\n</code></pre>\n\n<p>I want all the beans from webflux package to be initiated, so I can't set <code>spring.main.allow-bean-definition-overriding=true</code>. </p>\n\n<p>Also tried excluding all classes within org.springframework.boot at the time of component scan - <code>@ComponentScan(excludeFilters = @Filter(type = FilterType.REGEX, pattern = \"org.springframework.boot*\")</code>. \nAlso tried excluding all spring packages in pom.xml of my webflux project like this -</p>\n\n<pre><code> &lt;exclusion&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n</code></pre>\n\n<p>Since I cannot modify the older dependency project to webflux, are there any options I could use the make the code work ?</p>\n"},{"tags":["java","jar","jvm","lzma"],"comments":[{"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"score":1,"creation_date":1643147893,"post_id":70855088,"comment_id":125262449,"body_markdown":"I think you&#39;d need to write your own class-loader based on the jar class loader. I&#39;d also give your not-jar files a different extension so the regular jar class loader doesn&#39;t try to load one of your files and break.","body":"I think you&#39;d need to write your own class-loader based on the jar class loader. I&#39;d also give your not-jar files a different extension so the regular jar class loader doesn&#39;t try to load one of your files and break."},{"owner":{"account_id":2094074,"reputation":516,"user_id":1863244,"accept_rate":75,"display_name":"Hamid Nazari"},"score":0,"creation_date":1643161551,"post_id":70855088,"comment_id":125265306,"body_markdown":"Yes, I&#39;ve already done that and my LZMA JARs have JARZ extension. I&#39;m seeking a JVM integrated solution.","body":"Yes, I&#39;ve already done that and my LZMA JARs have JARZ extension. I&#39;m seeking a JVM integrated solution."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643195747,"post_id":70855088,"comment_id":125273679,"body_markdown":"I wouldn’t waste any development effort on something that gains you 50 to 60% space saving. The first thing to check, is how much you gain from putting the ordinary jar file into another zip/jar file. When I do this with the `rt.jar` from JDK&#160;8 (62&#160;MiB), the resulting jar file has 20 MiB. Which means 67% gain without the need to write extra software and an easy reversal at the target environment; just extract the jar again…","body":"I wouldn’t waste any development effort on something that gains you 50 to 60% space saving. The first thing to check, is how much you gain from putting the ordinary jar file into another zip/jar file. When I do this with the <code>rt.jar</code> from JDK 8 (62 MiB), the resulting jar file has 20 MiB. Which means 67% gain without the need to write extra software and an easy reversal at the target environment; just extract the jar again…"},{"owner":{"account_id":2094074,"reputation":516,"user_id":1863244,"accept_rate":75,"display_name":"Hamid Nazari"},"score":0,"creation_date":1643209385,"post_id":70855088,"comment_id":125279089,"body_markdown":"Speaking in Information Theory context, source compression reduces redundancy and increases entropy. Therefore, sequential application of source compression will not have the effect of their joint or separate application.","body":"Speaking in Information Theory context, source compression reduces redundancy and increases entropy. Therefore, sequential application of source compression will not have the effect of their joint or separate application."},{"owner":{"account_id":2094074,"reputation":516,"user_id":1863244,"accept_rate":75,"display_name":"Hamid Nazari"},"score":0,"creation_date":1643209527,"post_id":70855088,"comment_id":125279157,"body_markdown":"In this context, when a JAR file is compressed with 7z (since ZIP has already taken away its redundancy to some extent, you wont get the same result if you compress its exploded contents using 7z. And it really depends on how much ZIP has tried to remove redundancy. When lower ZIP compression levels are chosen, there is plenty of redundancy.","body":"In this context, when a JAR file is compressed with 7z (since ZIP has already taken away its redundancy to some extent, you wont get the same result if you compress its exploded contents using 7z. And it really depends on how much ZIP has tried to remove redundancy. When lower ZIP compression levels are chosen, there is plenty of redundancy."},{"owner":{"account_id":2094074,"reputation":516,"user_id":1863244,"accept_rate":75,"display_name":"Hamid Nazari"},"score":0,"creation_date":1643210078,"post_id":70855088,"comment_id":125279398,"body_markdown":"For the case of `rt.jar` on `JDK1.8.0_221` as it is a `PACK200` packaging only, it has no compression at all! That is why you get a huge difference, even with simple ZIP. Here are the stats, `rt.jar` is `60.7 MB`, compressing it with 7z (LZMA2/Ultra) and it shrinks to `12.3 MB`. Extracting it and compressing the contents gives `12.0 MB`. The last two results are is inline with the fact that there is plenty of redundancy for LZMA to play with.","body":"For the case of <code>rt.jar</code> on <code>JDK1.8.0_221</code> as it is a <code>PACK200</code> packaging only, it has no compression at all! That is why you get a huge difference, even with simple ZIP. Here are the stats, <code>rt.jar</code> is <code>60.7 MB</code>, compressing it with 7z (LZMA2/Ultra) and it shrinks to <code>12.3 MB</code>. Extracting it and compressing the contents gives <code>12.0 MB</code>. The last two results are is inline with the fact that there is plenty of redundancy for LZMA to play with."},{"owner":{"account_id":2094074,"reputation":516,"user_id":1863244,"accept_rate":75,"display_name":"Hamid Nazari"},"score":0,"creation_date":1643210180,"post_id":70855088,"comment_id":125279445,"body_markdown":"But the JAR I see produced are not usually a mere `PACK200`, I see compression levels ranging from `3` to `9`.","body":"But the JAR I see produced are not usually a mere <code>PACK200</code>, I see compression levels ranging from <code>3</code> to <code>9</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1643210503,"post_id":70855088,"comment_id":125279581,"body_markdown":"You won&#39;t find a solution for rt.jar because from Java 9 onwards there is no longer an rt.jar (and I doubt that anyone will want to implement it for Java 8 only). And for your own jar files the solution with the custom class loader should be sufficient.","body":"You won&#39;t find a solution for rt.jar because from Java 9 onwards there is no longer an rt.jar (and I doubt that anyone will want to implement it for Java 8 only). And for your own jar files the solution with the custom class loader should be sufficient."},{"owner":{"account_id":2094074,"reputation":516,"user_id":1863244,"accept_rate":75,"display_name":"Hamid Nazari"},"score":0,"creation_date":1643212557,"post_id":70855088,"comment_id":125280562,"body_markdown":"@ThomasKl&#228;ger Please note that my question is not about `Java 8` nor `rt.jar`, I was just answering @Holger","body":"@ThomasKl&#228;ger Please note that my question is not about <code>Java 8</code> nor <code>rt.jar</code>, I was just answering @Holger"}],"answers":[{"tags":[],"owner":{"account_id":5216374,"reputation":58,"user_id":7649614,"display_name":"peyrona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678352426,"creation_date":1678352426,"answer_id":75682366,"question_id":70855088,"body_markdown":"There is a Java class ad hoc compression tool: Pack200. It should compress even more than LZMA because it was designed specifically for .class archives.\r\n\r\nYou can find more here:\r\nhttps://docs.oracle.com/javase/7/docs/technotes/tools/share/pack200.html\r\n\r\nand here:\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/jar/Pack200.html","title":"Is there any solution to have JVM load classes form JARs with LZMA compression?","body":"<p>There is a Java class ad hoc compression tool: Pack200. It should compress even more than LZMA because it was designed specifically for .class archives.</p>\n<p>You can find more here:\n<a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/share/pack200.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/share/pack200.html</a></p>\n<p>and here:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/jar/Pack200.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/jar/Pack200.html</a></p>\n"}],"owner":{"account_id":2094074,"reputation":516,"user_id":1863244,"accept_rate":75,"display_name":"Hamid Nazari"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1678352426,"creation_date":1643141478,"question_id":70855088,"body_markdown":"I&#39;m wondering if there is any plan for `JVM` to directly use `JAR` files which have `LZMA/LZMA2` compression on class/module path. As of `JDK 17.0.1`, I don&#39;t seem to be able to find a solution, or maybe I&#39;ve just been searching with wrong keywords.\r\n\r\nI&#39;m fully aware of the added runtime overhead for decompression and I&#39;m familiar with the nature of problems with archives based on `LZMA`. But, since `LZMA/LZMA2` gives superior compression ratio compared to a plain-old-ZIP file, I&#39;ve been doing this on my own for a while for deploying my applications.\r\n\r\nThe process is straight forward:\r\n\r\n 1. Produce the `JAR` file/files with `ANT/Maven/manually`\r\n 2. Extract each `JAR` file into a separate folder\r\n 3. Compress contents of the folder into a similarly named `7z` file (using 7-zip, of course)\r\n 4. Bundle them in a installer and deploy\r\n 5. After installation, use a custom and small bootstrapper and helper class-loader which reads these `7z` files at runtime and load classes from these archives to execute on `JVM`.\r\n\r\nThis is not a big deal or hassle, but saves me around **50~60%** of final deployed installer and installed size on disk. The runtime overhead, to my experience, is negligible, as it is just a one time issue per loaded class file. \r\n\r\nIt is not ideal for a serverless solution, but a Web backend can nicely get around it. For performance critical tasks, the installer recreates the `JAR`s or even explodes them and avoids the bootstrapper/class-loader altogether.\r\n\r\nI&#39;m actually looking for a solution or a JSR which integrates this feature within `JDK`.\r\n\r\nAny suggestion would be appreciated.","title":"Is there any solution to have JVM load classes form JARs with LZMA compression?","body":"<p>I'm wondering if there is any plan for <code>JVM</code> to directly use <code>JAR</code> files which have <code>LZMA/LZMA2</code> compression on class/module path. As of <code>JDK 17.0.1</code>, I don't seem to be able to find a solution, or maybe I've just been searching with wrong keywords.</p>\n<p>I'm fully aware of the added runtime overhead for decompression and I'm familiar with the nature of problems with archives based on <code>LZMA</code>. But, since <code>LZMA/LZMA2</code> gives superior compression ratio compared to a plain-old-ZIP file, I've been doing this on my own for a while for deploying my applications.</p>\n<p>The process is straight forward:</p>\n<ol>\n<li>Produce the <code>JAR</code> file/files with <code>ANT/Maven/manually</code></li>\n<li>Extract each <code>JAR</code> file into a separate folder</li>\n<li>Compress contents of the folder into a similarly named <code>7z</code> file (using 7-zip, of course)</li>\n<li>Bundle them in a installer and deploy</li>\n<li>After installation, use a custom and small bootstrapper and helper class-loader which reads these <code>7z</code> files at runtime and load classes from these archives to execute on <code>JVM</code>.</li>\n</ol>\n<p>This is not a big deal or hassle, but saves me around <strong>50~60%</strong> of final deployed installer and installed size on disk. The runtime overhead, to my experience, is negligible, as it is just a one time issue per loaded class file.</p>\n<p>It is not ideal for a serverless solution, but a Web backend can nicely get around it. For performance critical tasks, the installer recreates the <code>JAR</code>s or even explodes them and avoids the bootstrapper/class-loader altogether.</p>\n<p>I'm actually looking for a solution or a JSR which integrates this feature within <code>JDK</code>.</p>\n<p>Any suggestion would be appreciated.</p>\n"},{"tags":["java","spring-boot","java-melody"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1678343100,"post_id":75681023,"comment_id":133514576,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1678343845,"post_id":75681023,"comment_id":133514706,"body_markdown":"All the autowired services are null. I have only added the dependency of java-melody in my application. It works fine if i remove the dependency but throws error when i add the melody dependency in pom file.","body":"All the autowired services are null. I have only added the dependency of java-melody in my application. It works fine if i remove the dependency but throws error when i add the melody dependency in pom file."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678343923,"post_id":75681023,"comment_id":133514718,"body_markdown":"The method is `private` so you are doing an internal method call on a proxy. A proxy doesn&#39;t have any dependencies associated with it. HOwever I do expect that the real culprit is your `doSoftLogin` method which you probably made `final` like your other mehods. `final` methods (and classes) cannot be proxied and will lead to this behavior.","body":"The method is <code>private</code> so you are doing an internal method call on a proxy. A proxy doesn&#39;t have any dependencies associated with it. HOwever I do expect that the real culprit is your <code>doSoftLogin</code> method which you probably made <code>final</code> like your other mehods. <code>final</code> methods (and classes) cannot be proxied and will lead to this behavior."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1678344636,"post_id":75681023,"comment_id":133514852,"body_markdown":"No my doSoftLogin method is not final. I also just removed final from my other methods but still the same issue persists","body":"No my doSoftLogin method is not final. I also just removed final from my other methods but still the same issue persists"},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1678344767,"post_id":75681023,"comment_id":133514877,"body_markdown":"I have added doSoftLogin method also","body":"I have added doSoftLogin method also"},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1678346171,"post_id":75681023,"comment_id":133515182,"body_markdown":"My spring boot version is 2.2.9.RELEASE","body":"My spring boot version is 2.2.9.RELEASE"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678349656,"post_id":75681023,"comment_id":133515965,"body_markdown":"as stated it is an internal method call on a `private` method, which will be, eventually, invokled on the proxy and not the underlying object. Also the `doSoftLogin` isn&#39;t the main method that is `invoke`. Please add your full class instead of snippets.","body":"as stated it is an internal method call on a <code>private</code> method, which will be, eventually, invokled on the proxy and not the underlying object. Also the <code>doSoftLogin</code> isn&#39;t the main method that is <code>invoke</code>. Please add your full class instead of snippets."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1678351717,"post_id":75681023,"comment_id":133516462,"body_markdown":"I have updated the question. doSoftLogin is the main method as it is called directly from the controller","body":"I have updated the question. doSoftLogin is the main method as it is called directly from the controller"}],"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678352178,"creation_date":1678342645,"question_id":75681023,"body_markdown":"When I added java-melody starter dependency on my spring boot application, it throws null pointer exception whenever i try to access the application.\r\n\r\nI added this dependency in my pom file\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.92.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd the application throws error at validationService as Null pointer\r\nThis is my AuthenticationService class\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class AuthenticationService implements IAuthenticationService {\r\n\t@Autowired\r\n\tprivate ValidationService validationService;\r\n\t@Autowired\r\n\tprivate UserLoginDao userLoginDao;\r\n\r\npublic TempLoginModel doSoftLogin(@Valid UserLoginRequest request) {\r\n\r\n\t\tUserLogin userLogin = userLoginDao.findByUsernameAndCorporateCode(request.getUsername())\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(\r\n\t\t\t\t\t\tenv.getProperty(&quot;message.authentication.service.wrong.credential&quot;)));\r\n\r\nvalidationService.exceptionIfUserLoginNotActivated\r\n\t\t\t\t.andThen(validationService.exceptionIfUserLoginLocked)\r\n.accept(userLogin);\r\n\r\n\r\n\t\tString jwtToken = JWTUtil.createJwt(request.getUsername(),\r\n\t\t\t\tuserLogin.getUserInformation().getMobileNumber());\r\n\r\n\t\treturn new TempLoginModel(jwtToken);\r\n\r\n\t}\r\n}\r\n\r\n```\r\nMy validationService class is as\r\n```\r\n@Slf4j\r\n@Service\r\npublic class ValidationService {\r\n\tpublic Consumer&lt;UserLogin&gt; exceptionIfUserLoginNotActivated = (user) -&gt; {\r\n\t\tif (!user.isActivated()) {\r\n\t\t\tthrow new NoAccessException(env.getProperty(&quot;message.user.login.not.activate&quot;));\r\n\t\t}\r\n\t};\r\n\r\n\tpublic Consumer&lt;UserLogin&gt; exceptionIfUserLoginLocked = (user) -&gt; {\r\n\r\n\t\tif (user.getWrongLoginAttempt() &gt;= getWrongPasswordAttemptCount()) {\r\n\t\t\tthrow new NoAccessException(env.getProperty(&quot;message.user.login.locked&quot;));\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n```\r\nI have a controller which directly calls the authenticationService\r\n\r\n\r\nThe exception is thrown as \r\n```\r\njava.lang.NullPointerException: null\r\n\tat com.java.corporate.service.impl.AuthenticationService.exceptionIfInvalidLogin(AuthenticationService.java:355)\r\n\tat com.java.corporate.service.impl.AuthenticationService.doSoftLogin(AuthenticationService.java:190)\r\n\tat com.java.corporate.service.impl.AuthenticationService$$FastClassBySpringCGLIB$$1d9d9fd9.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n```\r\n\r\nWhat additional configurations should be done for the java-melody monitoring to function properly?\r\n\r\n\r\nMy main method is \r\n```\r\npublic TempLoginModel doSoftLogin(@Valid UserLoginRequest request) {\r\n\r\n\t\tUserLogin userLogin = userLoginDao.findByUsername(request.getUsername())\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(\r\n\t\t\t\t\t\tenv.getProperty(&quot;message.authentication.service.wrong.credential&quot;)));\r\n\r\n\t\texceptionIfInvalidLogin(request.getPassword(), userLogin);\r\n}\r\n\r\n\r\n```","title":"Null pointer exception on invoking a service in a spring boot application when java-melody dependency is added","body":"<p>When I added java-melody starter dependency on my spring boot application, it throws null pointer exception whenever i try to access the application.</p>\n<p>I added this dependency in my pom file</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\n            &lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.92.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And the application throws error at validationService as Null pointer\nThis is my AuthenticationService class</p>\n<pre><code>@Slf4j\n@Service\npublic class AuthenticationService implements IAuthenticationService {\n    @Autowired\n    private ValidationService validationService;\n    @Autowired\n    private UserLoginDao userLoginDao;\n\npublic TempLoginModel doSoftLogin(@Valid UserLoginRequest request) {\n\n        UserLogin userLogin = userLoginDao.findByUsernameAndCorporateCode(request.getUsername())\n                .orElseThrow(() -&gt; new UsernameNotFoundException(\n                        env.getProperty(&quot;message.authentication.service.wrong.credential&quot;)));\n\nvalidationService.exceptionIfUserLoginNotActivated\n                .andThen(validationService.exceptionIfUserLoginLocked)\n.accept(userLogin);\n\n\n        String jwtToken = JWTUtil.createJwt(request.getUsername(),\n                userLogin.getUserInformation().getMobileNumber());\n\n        return new TempLoginModel(jwtToken);\n\n    }\n}\n\n</code></pre>\n<p>My validationService class is as</p>\n<pre><code>@Slf4j\n@Service\npublic class ValidationService {\n    public Consumer&lt;UserLogin&gt; exceptionIfUserLoginNotActivated = (user) -&gt; {\n        if (!user.isActivated()) {\n            throw new NoAccessException(env.getProperty(&quot;message.user.login.not.activate&quot;));\n        }\n    };\n\n    public Consumer&lt;UserLogin&gt; exceptionIfUserLoginLocked = (user) -&gt; {\n\n        if (user.getWrongLoginAttempt() &gt;= getWrongPasswordAttemptCount()) {\n            throw new NoAccessException(env.getProperty(&quot;message.user.login.locked&quot;));\n        }\n\n    };\n\n}\n</code></pre>\n<p>I have a controller which directly calls the authenticationService</p>\n<p>The exception is thrown as</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.java.corporate.service.impl.AuthenticationService.exceptionIfInvalidLogin(AuthenticationService.java:355)\n    at com.java.corporate.service.impl.AuthenticationService.doSoftLogin(AuthenticationService.java:190)\n    at com.java.corporate.service.impl.AuthenticationService$$FastClassBySpringCGLIB$$1d9d9fd9.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n</code></pre>\n<p>What additional configurations should be done for the java-melody monitoring to function properly?</p>\n<p>My main method is</p>\n<pre><code>public TempLoginModel doSoftLogin(@Valid UserLoginRequest request) {\n\n        UserLogin userLogin = userLoginDao.findByUsername(request.getUsername())\n                .orElseThrow(() -&gt; new UsernameNotFoundException(\n                        env.getProperty(&quot;message.authentication.service.wrong.credential&quot;)));\n\n        exceptionIfInvalidLogin(request.getPassword(), userLogin);\n}\n\n\n</code></pre>\n"},{"tags":["java","classloader","java-bytecode-asm","dynamic-class-loaders"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1678347430,"post_id":75681407,"comment_id":133515490,"body_markdown":"check the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)) of `loadClass`:  mainly point 2: &quot;*Invoke the `loadClass` method on the parent class loader*&quot;, eventually point 1: &quot;*check if the class has already been loaded*&quot;","body":"check the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)\" rel=\"nofollow noreferrer\">documentation</a> of <code>loadClass</code>:  mainly point 2: &quot;<i>Invoke the <code>loadClass</code> method on the parent class loader</i>&quot;, eventually point 1: &quot;<i>check if the class has already been loaded</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678352030,"creation_date":1678352030,"answer_id":75682296,"question_id":75681407,"body_markdown":"As already [said by user16320675 in a comment], `loadClass` will attempt to load the class from the parent class loader first. So you can change `new ClassLoader()` to `new ClassLoader(null)` to set the bootstrap loader as its parent and it will not see the original definition.\r\n\r\nHowever, that will only work for very simple cases as then, the modified class can’t access other classes defined by the application class loader then.\r\n\r\nIf the class has not been loaded yet, you can materialize the new definition like\r\n\r\n```java\r\nClass&lt;?&gt; myClass = MethodHandles.lookup().defineClass(modifiedClass);\r\n```\r\n\r\nThis will create the class in your current context, so even code using `MyClass` without Reflection will use the modified class.\r\n\r\nIf you can’t preclude the environment from loading the class before this point, there is no way around writing a real Java Agent using [the Instrumentation API] or create a new environment with the custom class loader containing *all* classes the modified class might collaborate with. In other words, the environment of the class file transformator and the environment of the code to transform must be different then.\r\n\r\n---\r\n\r\nIn either case, after fixing this issue, you’ll get a `java.lang.ClassFormatError: Duplicate method name &quot;myMethod&quot; with signature &quot;()V&quot; in class file MyClass`, because your transformation code copies all artifacts of the original class file and adds another `myMethod`. To replace `myMethod`, you must intercept the class visitor when it encounters the original `myMethod`.\r\n\r\n```java\r\nimport java.lang.invoke.MethodHandles;\r\n\r\nimport org.objectweb.asm.*;\r\n    \r\npublic class MyClassInjector {\r\n    public static void main(String[] args) throws Exception {\r\n        // Load the MyClass class\r\n        ClassReader cr = new ClassReader(&quot;MyClass&quot;);\r\n        ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS);\r\n        MyClassVisitor cv = new MyClassVisitor(cw);\r\n        cr.accept(cv, 0);\r\n\r\n        // Define the new byte array with the modified class bytecode\r\n        byte[] modifiedClass = cw.toByteArray();\r\n\r\n        Class&lt;?&gt; myClass = MethodHandles.lookup().defineClass(modifiedClass);\r\n        Object myObject = myClass.getConstructor().newInstance(); // Class.newInstance() is deprecated\r\n        myClass.getMethod(&quot;myMethod&quot;).invoke(myObject);\r\n    }\r\n}\r\n\r\nclass MyClassVisitor extends ClassVisitor {\r\n    public MyClassVisitor(ClassVisitor cv) {\r\n        super(Opcodes.ASM5, cv);\r\n    }\r\n\r\n    @Override\r\n    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature, String[] exceptions) {\r\n        MethodVisitor mv = super.visitMethod(access, name, descriptor, signature, exceptions);\r\n        if(name.equals(&quot;myMethod&quot;) &amp;&amp; descriptor.equals(&quot;()V&quot;)) {\r\n            instrument(mv);\r\n            return null;\r\n        }\r\n        return mv;\r\n    }\r\n\r\n    private void instrument(MethodVisitor mv) {\r\n      // change myMethod\r\n      mv.visitCode();\r\n      mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;MyClass&quot;, &quot;newMethod&quot;, &quot;()V&quot;, false);\r\n      mv.visitInsn(Opcodes.RETURN);\r\n      mv.visitMaxs(0, 0);\r\n      mv.visitEnd();\r\n    }\r\n\r\n    @Override\r\n    public void visitEnd() {\r\n        // Define the newMethod method\r\n        MethodVisitor mv = cv.visitMethod(Opcodes.ACC_PUBLIC | Opcodes.ACC_STATIC, &quot;newMethod&quot;, &quot;()V&quot;, null, null);\r\n        mv.visitCode();\r\n        mv.visitFieldInsn(Opcodes.GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\n        mv.visitLdcInsn(&quot;Injected code&quot;);\r\n        mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\r\n        mv.visitInsn(Opcodes.RETURN);\r\n        mv.visitMaxs(0, 0);\r\n        mv.visitEnd();\r\n        super.visitEnd();\r\n    }\r\n}\r\n```\r\n\r\nNote that there was another issue that you tried to invoke `MyClassInjector.newMethod()` in the modified code instead of `MyClass.newMethod()`.\r\n\r\n[said by user16320675 in a comment]: https://stackoverflow.com/q/75681407/2711488/#comment133515490_75681407\r\n[the Instrumentation API]: https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/package-summary.html","title":"Java ASM byte code manipulation to inject code into a method not working","body":"<p>As already <a href=\"https://stackoverflow.com/q/75681407/2711488/#comment133515490_75681407\">said by user16320675 in a comment</a>, <code>loadClass</code> will attempt to load the class from the parent class loader first. So you can change <code>new ClassLoader()</code> to <code>new ClassLoader(null)</code> to set the bootstrap loader as its parent and it will not see the original definition.</p>\n<p>However, that will only work for very simple cases as then, the modified class can’t access other classes defined by the application class loader then.</p>\n<p>If the class has not been loaded yet, you can materialize the new definition like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; myClass = MethodHandles.lookup().defineClass(modifiedClass);\n</code></pre>\n<p>This will create the class in your current context, so even code using <code>MyClass</code> without Reflection will use the modified class.</p>\n<p>If you can’t preclude the environment from loading the class before this point, there is no way around writing a real Java Agent using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">the Instrumentation API</a> or create a new environment with the custom class loader containing <em>all</em> classes the modified class might collaborate with. In other words, the environment of the class file transformator and the environment of the code to transform must be different then.</p>\n<hr />\n<p>In either case, after fixing this issue, you’ll get a <code>java.lang.ClassFormatError: Duplicate method name &quot;myMethod&quot; with signature &quot;()V&quot; in class file MyClass</code>, because your transformation code copies all artifacts of the original class file and adds another <code>myMethod</code>. To replace <code>myMethod</code>, you must intercept the class visitor when it encounters the original <code>myMethod</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.invoke.MethodHandles;\n\nimport org.objectweb.asm.*;\n    \npublic class MyClassInjector {\n    public static void main(String[] args) throws Exception {\n        // Load the MyClass class\n        ClassReader cr = new ClassReader(&quot;MyClass&quot;);\n        ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS);\n        MyClassVisitor cv = new MyClassVisitor(cw);\n        cr.accept(cv, 0);\n\n        // Define the new byte array with the modified class bytecode\n        byte[] modifiedClass = cw.toByteArray();\n\n        Class&lt;?&gt; myClass = MethodHandles.lookup().defineClass(modifiedClass);\n        Object myObject = myClass.getConstructor().newInstance(); // Class.newInstance() is deprecated\n        myClass.getMethod(&quot;myMethod&quot;).invoke(myObject);\n    }\n}\n\nclass MyClassVisitor extends ClassVisitor {\n    public MyClassVisitor(ClassVisitor cv) {\n        super(Opcodes.ASM5, cv);\n    }\n\n    @Override\n    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature, String[] exceptions) {\n        MethodVisitor mv = super.visitMethod(access, name, descriptor, signature, exceptions);\n        if(name.equals(&quot;myMethod&quot;) &amp;&amp; descriptor.equals(&quot;()V&quot;)) {\n            instrument(mv);\n            return null;\n        }\n        return mv;\n    }\n\n    private void instrument(MethodVisitor mv) {\n      // change myMethod\n      mv.visitCode();\n      mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;MyClass&quot;, &quot;newMethod&quot;, &quot;()V&quot;, false);\n      mv.visitInsn(Opcodes.RETURN);\n      mv.visitMaxs(0, 0);\n      mv.visitEnd();\n    }\n\n    @Override\n    public void visitEnd() {\n        // Define the newMethod method\n        MethodVisitor mv = cv.visitMethod(Opcodes.ACC_PUBLIC | Opcodes.ACC_STATIC, &quot;newMethod&quot;, &quot;()V&quot;, null, null);\n        mv.visitCode();\n        mv.visitFieldInsn(Opcodes.GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\n        mv.visitLdcInsn(&quot;Injected code&quot;);\n        mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\n        mv.visitInsn(Opcodes.RETURN);\n        mv.visitMaxs(0, 0);\n        mv.visitEnd();\n        super.visitEnd();\n    }\n}\n</code></pre>\n<p>Note that there was another issue that you tried to invoke <code>MyClassInjector.newMethod()</code> in the modified code instead of <code>MyClass.newMethod()</code>.</p>\n"}],"owner":{"account_id":997544,"reputation":2566,"user_id":1013139,"accept_rate":51,"display_name":"rysv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75682296,"answer_count":1,"score":0,"last_activity_date":1678352030,"creation_date":1678345620,"question_id":75681407,"body_markdown":"I want to inject some code into an existing class/method. But I am unable to get the classloader to &quot;find&quot; the class in order to use the modified byte code. \r\n\r\n**MyClassInjector.java**\r\n\r\n    import org.objectweb.asm.*;\r\n        \r\n    public class MyClassInjector {\r\n        public static void main(String[] args) throws Exception {\r\n            // Load the MyClass class\r\n            ClassReader cr = new ClassReader(&quot;MyClass&quot;);\r\n            ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS);\r\n            MyClassVisitor cv = new MyClassVisitor(cw);\r\n            cr.accept(cv, 0);\r\n    \r\n            // Inject code into the myMethod method\r\n            MethodVisitor mv = cv.visitMethod(Opcodes.ACC_PUBLIC, &quot;myMethod&quot;, &quot;()V&quot;, null, null);\r\n            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;MyClassInjector&quot;, &quot;newMethod&quot;, &quot;()V&quot;, false);\r\n            mv.visitInsn(Opcodes.RETURN);\r\n            mv.visitMaxs(0, 0);\r\n            mv.visitEnd();\r\n    \r\n            // Define the newMethod method\r\n            MethodVisitor mv2 = cv.visitMethod(Opcodes.ACC_PUBLIC + Opcodes.ACC_STATIC, &quot;newMethod&quot;, &quot;()V&quot;, null, null);\r\n            mv2.visitCode();\r\n            mv2.visitFieldInsn(Opcodes.GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\n            mv2.visitLdcInsn(&quot;Injected code&quot;);\r\n            mv2.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\r\n            mv2.visitInsn(Opcodes.RETURN);\r\n            mv2.visitMaxs(0, 0);\r\n            mv2.visitEnd();\r\n    \r\n            // Define the new byte array with the modified class bytecode\r\n            byte[] modifiedClass = cw.toByteArray();\r\n    \r\n            // Define a new class loader to load the modified class\r\n            ClassLoader cl = new ClassLoader() {\r\n                @Override\r\n                protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n                    if (name.equals(&quot;MyClass&quot;)) {\r\n                        return defineClass(name, modifiedClass, 0, modifiedClass.length);\r\n                    } else {\r\n                        return super.findClass(name);\r\n                    }\r\n                }\r\n            };\r\n    \r\n            // Load the modified class and call myMethod\r\n            Class&lt;?&gt; myClass = cl.loadClass(&quot;MyClass&quot;); &lt;----------------------- HERE\r\n            Object myObject = myClass.newInstance();\r\n            myClass.getMethod(&quot;myMethod&quot;).invoke(myObject);\r\n        }\r\n    }\r\n    \r\n    class MyClassVisitor extends ClassVisitor {\r\n        public MyClassVisitor(ClassVisitor cv) {\r\n            super(Opcodes.ASM5, cv);\r\n        }\r\n    }\r\n\r\n**MyClass.java**\r\n\r\n    public class MyClass {\r\n        public void myMethod() {\r\n            System.out.println(&quot;Hello, world!&quot;);\r\n        }\r\n    }\r\n\r\nWhen I call loadClass (marked by HERE above), it is not invoking &quot;findClass&quot; so method is not modified. From what I read, loadClass() is supposed to class findClass(). Any idea?","title":"Java ASM byte code manipulation to inject code into a method not working","body":"<p>I want to inject some code into an existing class/method. But I am unable to get the classloader to &quot;find&quot; the class in order to use the modified byte code.</p>\n<p><strong>MyClassInjector.java</strong></p>\n<pre><code>import org.objectweb.asm.*;\n    \npublic class MyClassInjector {\n    public static void main(String[] args) throws Exception {\n        // Load the MyClass class\n        ClassReader cr = new ClassReader(&quot;MyClass&quot;);\n        ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS);\n        MyClassVisitor cv = new MyClassVisitor(cw);\n        cr.accept(cv, 0);\n\n        // Inject code into the myMethod method\n        MethodVisitor mv = cv.visitMethod(Opcodes.ACC_PUBLIC, &quot;myMethod&quot;, &quot;()V&quot;, null, null);\n        mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;MyClassInjector&quot;, &quot;newMethod&quot;, &quot;()V&quot;, false);\n        mv.visitInsn(Opcodes.RETURN);\n        mv.visitMaxs(0, 0);\n        mv.visitEnd();\n\n        // Define the newMethod method\n        MethodVisitor mv2 = cv.visitMethod(Opcodes.ACC_PUBLIC + Opcodes.ACC_STATIC, &quot;newMethod&quot;, &quot;()V&quot;, null, null);\n        mv2.visitCode();\n        mv2.visitFieldInsn(Opcodes.GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\n        mv2.visitLdcInsn(&quot;Injected code&quot;);\n        mv2.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\n        mv2.visitInsn(Opcodes.RETURN);\n        mv2.visitMaxs(0, 0);\n        mv2.visitEnd();\n\n        // Define the new byte array with the modified class bytecode\n        byte[] modifiedClass = cw.toByteArray();\n\n        // Define a new class loader to load the modified class\n        ClassLoader cl = new ClassLoader() {\n            @Override\n            protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n                if (name.equals(&quot;MyClass&quot;)) {\n                    return defineClass(name, modifiedClass, 0, modifiedClass.length);\n                } else {\n                    return super.findClass(name);\n                }\n            }\n        };\n\n        // Load the modified class and call myMethod\n        Class&lt;?&gt; myClass = cl.loadClass(&quot;MyClass&quot;); &lt;----------------------- HERE\n        Object myObject = myClass.newInstance();\n        myClass.getMethod(&quot;myMethod&quot;).invoke(myObject);\n    }\n}\n\nclass MyClassVisitor extends ClassVisitor {\n    public MyClassVisitor(ClassVisitor cv) {\n        super(Opcodes.ASM5, cv);\n    }\n}\n</code></pre>\n<p><strong>MyClass.java</strong></p>\n<pre><code>public class MyClass {\n    public void myMethod() {\n        System.out.println(&quot;Hello, world!&quot;);\n    }\n}\n</code></pre>\n<p>When I call loadClass (marked by HERE above), it is not invoking &quot;findClass&quot; so method is not modified. From what I read, loadClass() is supposed to class findClass(). Any idea?</p>\n"},{"tags":["java","freemarker"],"answers":[{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1678351770,"creation_date":1251845028,"answer_id":1365011,"question_id":1362343,"body_markdown":"FreeMarker allows invoking methods that were made available through the model from within &lt;a href=&quot;http://freemarker.org/docs/dgui_template_exp.html#dgui_template_exp_methodcall&quot;&gt;expressions&lt;/a&gt;.\r\n\r\nAssuming your object has been exposed as `myBean` you can invoke the method as follows:\r\n\r\n    &lt;#list myBean.getunits(&quot;myType&quot;) as unit&gt;\r\n      do stuff with ${unit}\r\n    &lt;/#list&gt;\r\n\r\nYou don&#39;t have to use `&lt;#list&gt;`, of course, it&#39;s just there as an example since your method returns a list.","title":"How do I call java methods on an object from a FreeMarker template?","body":"<p>FreeMarker allows invoking methods that were made available through the model from within <a href=\"http://freemarker.org/docs/dgui_template_exp.html#dgui_template_exp_methodcall\" rel=\"nofollow noreferrer\">expressions</a>.</p>\n<p>Assuming your object has been exposed as <code>myBean</code> you can invoke the method as follows:</p>\n<pre><code>&lt;#list myBean.getunits(&quot;myType&quot;) as unit&gt;\n  do stuff with ${unit}\n&lt;/#list&gt;\n</code></pre>\n<p>You don't have to use <code>&lt;#list&gt;</code>, of course, it's just there as an example since your method returns a list.</p>\n"},{"tags":[],"owner":{"account_id":41200,"reputation":3669,"user_id":119693,"accept_rate":50,"display_name":"monzonj"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1295276528,"creation_date":1295276528,"answer_id":4714553,"question_id":1362343,"body_markdown":"As **ChssPly76** said, you can just peform the method call from within a Freemarker template, as long as you expose the object in the model. \r\n\r\nBut it&#39;s important to keep in mind that if your method returns NULL (for whatever reason), you are going to get a confusing \r\n\r\n    Expression myBean.getunits() is undefined on line ....\r\n\r\nTo avoid this, you should better use `myBean.getunits(...)!` (notice the exclamation point).\r\n\r\nLearn more about how Freemarker handles nulls here: http://freemarker.org/docs/dgui_template_exp.html#dgui_template_exp_missing","title":"How do I call java methods on an object from a FreeMarker template?","body":"<p>As <strong>ChssPly76</strong> said, you can just peform the method call from within a Freemarker template, as long as you expose the object in the model. </p>\n\n<p>But it's important to keep in mind that if your method returns NULL (for whatever reason), you are going to get a confusing </p>\n\n<pre><code>Expression myBean.getunits() is undefined on line ....\n</code></pre>\n\n<p>To avoid this, you should better use <code>myBean.getunits(...)!</code> (notice the exclamation point).</p>\n\n<p>Learn more about how Freemarker handles nulls here: <a href=\"http://freemarker.org/docs/dgui_template_exp.html#dgui_template_exp_missing\">http://freemarker.org/docs/dgui_template_exp.html#dgui_template_exp_missing</a></p>\n"}],"owner":{"account_id":23739,"reputation":4125,"user_id":59724,"accept_rate":33,"display_name":"Graham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61260,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":1365011,"answer_count":2,"score":50,"last_activity_date":1678351770,"creation_date":1251809732,"question_id":1362343,"body_markdown":"Is it possible to call a method that takes parameters from a Freemarker template?\r\n\r\nI have an object model that I&#39;m trying to render with Freemarker into a web page. One of the objects has a method to get a sublist of it&#39;s contents - taking a parameter that is used to filter the list:\r\n\r\n&lt;code&gt;public List&lt;Unit&gt; getunits(final String type);&lt;/code&gt;\r\n\r\nI know in JSP you can&#39;t do this directly, but you can write custom functions that will allow you to achieve the result you want. How do you solve this in Freemarker? Is it the same with writing custom functions? Or is there some way of actually calling this kind of function?\r\n","title":"How do I call java methods on an object from a FreeMarker template?","body":"<p>Is it possible to call a method that takes parameters from a Freemarker template?</p>\n\n<p>I have an object model that I'm trying to render with Freemarker into a web page. One of the objects has a method to get a sublist of it's contents - taking a parameter that is used to filter the list:</p>\n\n<p><code>public List getunits(final String type);</code></p>\n\n<p>I know in JSP you can't do this directly, but you can write custom functions that will allow you to achieve the result you want. How do you solve this in Freemarker? Is it the same with writing custom functions? Or is there some way of actually calling this kind of function?</p>\n"},{"tags":["java","ftp","sftp"],"comments":[{"owner":{"account_id":1662197,"reputation":1370,"user_id":1530259,"accept_rate":100,"display_name":"Tushar Mishra"},"score":1,"creation_date":1362046588,"post_id":15096589,"comment_id":21299906,"body_markdown":"There is a similar post here - http://stackoverflow.com/questions/6037623/any-good-in-memory-sftp-servers-for-java. I wonder if this is what your are looking for.","body":"There is a similar post here - <a href=\"http://stackoverflow.com/questions/6037623/any-good-in-memory-sftp-servers-for-java\" title=\"any good in memory sftp servers for java\">stackoverflow.com/questions/6037623/&hellip;</a>. I wonder if this is what your are looking for."},{"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"score":0,"creation_date":1486520206,"post_id":15096589,"comment_id":71376975,"body_markdown":"Perhaps Apache Camel?  It has support for FTP/SFTP/etc... and it has many built-in testing features using mock services...","body":"Perhaps Apache Camel?  It has support for FTP/SFTP/etc... and it has many built-in testing features using mock services..."},{"owner":{"account_id":5086394,"reputation":166,"user_id":4080913,"display_name":"Alex C."},"score":0,"creation_date":1493197562,"post_id":15096589,"comment_id":74307620,"body_markdown":"Have you find an answer for this question ? It might be difficult to achieve this goal regarding the complexity of your client. At work, I wrote an abstract API with all the different implementations in order to access those different types of server in the same way, regardless the server (with some specificities due to our activities). And we had to run the tests for each protocol on real and specifics servers. It would have been nice to develop a test suite for all those by implementing a strategy pattern, for exemple, and systematically run the tests with Maven.","body":"Have you find an answer for this question ? It might be difficult to achieve this goal regarding the complexity of your client. At work, I wrote an abstract API with all the different implementations in order to access those different types of server in the same way, regardless the server (with some specificities due to our activities). And we had to run the tests for each protocol on real and specifics servers. It would have been nice to develop a test suite for all those by implementing a strategy pattern, for exemple, and systematically run the tests with Maven."}],"answers":[{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1536932041,"creation_date":1522177832,"answer_id":49520720,"question_id":15096589,"body_markdown":"There is [Fake SFTP server rule](https://github.com/stefanbirkner/fake-sftp-server-rule). It is a rule/library for JUnit 4 that runs an SFTP server during test. It provides convenience method that help you to put files onto the server and get files from it.\r\n\r\nFull Disclosure: I&#39;m the author of Fake SFTP server rule.","title":"Mocking SFTP, FTP, FTPS, Local File System Server in Java","body":"<p>There is <a href=\"https://github.com/stefanbirkner/fake-sftp-server-rule\" rel=\"noreferrer\">Fake SFTP server rule</a>. It is a rule/library for JUnit 4 that runs an SFTP server during test. It provides convenience method that help you to put files onto the server and get files from it.</p>\n\n<p>Full Disclosure: I'm the author of Fake SFTP server rule.</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619779809,"creation_date":1619779809,"answer_id":67332650,"question_id":15096589,"body_markdown":"The questions is a bit older, but I post my answer anyway as it might help someone else as well.\r\n\r\nI&#180;ve written an [article][1] on how create a mock sftp server using Testcontainers and  the atmoz/sftp Docker image, which is adaptable to your other requirements as well.\r\n\r\n**The full example can be seen [here][1]**\r\n\r\n\r\n\r\nYou would define your TestContainer with SFTP like that\r\n\r\n     private static final GenericContainer sftp = new GenericContainer(\r\n                new ImageFromDockerfile()\r\n                        .withDockerfileFromBuilder(builder -&gt;\r\n                                builder\r\n                                        .from(&quot;atmoz/sftp:latest&quot;)\r\n                                        .run(&quot;mkdir -p /home/&quot; + USER + &quot;/upload; chmod -R 007 /home/&quot; + USER)\r\n                                        .build()))\r\n                //.withFileSystemBind(sftpHomeDirectory.getAbsolutePath(), &quot;/home/&quot; + USER + REMOTE_PATH, BindMode.READ_WRITE) //uncomment to mount host directory - not required / recommended\r\n                .withExposedPorts(PORT)\r\n                .withCommand(USER + &quot;:&quot; + PASSWORD + &quot;:1001:::upload&quot;);\r\n\r\n\r\n\r\nWhen you need an FTPS server or any other protocoll, you can pick another image like this for example and adapt the container configuration. [https://hub.docker.com/r/bozorgiyan/ftps-server][2]\r\n\r\n\r\nAs for the Local File System, I&#180;m not sure if there is anything special required. With JUnit 5 you can easily create a temporary directory like so\r\n\r\n    @TempDir\r\n    File mockFileSystemDirectory;\r\n\r\nAnd you can create a util class that rewrites your paths to that directory like so:\r\n\r\n    public static File convertToFakeFileSystem(File yourFile, File fakeFileSystem) {\r\n        return new File(fakeFileSystem.getAbsolutePath() + yourFile\r\n                .getAbsolutePath()\r\n                .replaceAll(&quot;C://&quot;, &quot;/&quot;));\r\n    }\r\n\r\n  [1]: https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/\r\n  [2]: https://hub.docker.com/r/bozorgiyan/ftps-server","title":"Mocking SFTP, FTP, FTPS, Local File System Server in Java","body":"<p>The questions is a bit older, but I post my answer anyway as it might help someone else as well.</p>\n<p>I´ve written an <a href=\"https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/\" rel=\"nofollow noreferrer\">article</a> on how create a mock sftp server using Testcontainers and  the atmoz/sftp Docker image, which is adaptable to your other requirements as well.</p>\n<p><strong>The full example can be seen <a href=\"https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/\" rel=\"nofollow noreferrer\">here</a></strong></p>\n<p>You would define your TestContainer with SFTP like that</p>\n<pre><code> private static final GenericContainer sftp = new GenericContainer(\n            new ImageFromDockerfile()\n                    .withDockerfileFromBuilder(builder -&gt;\n                            builder\n                                    .from(&quot;atmoz/sftp:latest&quot;)\n                                    .run(&quot;mkdir -p /home/&quot; + USER + &quot;/upload; chmod -R 007 /home/&quot; + USER)\n                                    .build()))\n            //.withFileSystemBind(sftpHomeDirectory.getAbsolutePath(), &quot;/home/&quot; + USER + REMOTE_PATH, BindMode.READ_WRITE) //uncomment to mount host directory - not required / recommended\n            .withExposedPorts(PORT)\n            .withCommand(USER + &quot;:&quot; + PASSWORD + &quot;:1001:::upload&quot;);\n</code></pre>\n<p>When you need an FTPS server or any other protocoll, you can pick another image like this for example and adapt the container configuration. <a href=\"https://hub.docker.com/r/bozorgiyan/ftps-server\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/bozorgiyan/ftps-server</a></p>\n<p>As for the Local File System, I´m not sure if there is anything special required. With JUnit 5 you can easily create a temporary directory like so</p>\n<pre><code>@TempDir\nFile mockFileSystemDirectory;\n</code></pre>\n<p>And you can create a util class that rewrites your paths to that directory like so:</p>\n<pre><code>public static File convertToFakeFileSystem(File yourFile, File fakeFileSystem) {\n    return new File(fakeFileSystem.getAbsolutePath() + yourFile\n            .getAbsolutePath()\n            .replaceAll(&quot;C://&quot;, &quot;/&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10131551,"reputation":159,"user_id":7484761,"display_name":"sabeena kumarawadu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678351701,"creation_date":1678351701,"answer_id":75682240,"question_id":15096589,"body_markdown":"Yes, the best option to mock a SFTP server, is to use [TestContainers][1], still I would like to add some comments to the previous answer. \r\n\r\nNow we can use the image name *atmoz/sftp*.\r\nAlso can use *withCopyFileToContainer* method which is very similar to the *docker cp* command.\r\n\r\n    // to initialize sftp server container\r\n    GenericContainer&lt;?&gt; sftpContainer = new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;atmoz/sftp&quot;))\r\n            .withExposedPorts(22)\r\n            .withEnv(&quot;SFTP_USERS&quot;, TEST_SFTP_USERNAME + &quot;:&quot; + TEST_SFTP_PASSWORD)\r\n            .withCopyFileToContainer(\r\n                    MountableFile.forHostPath(&quot;src/test/resources/sftpFiles&quot;),\r\n                    &quot;/home/&quot; + TEST_SFTP_USERNAME + &quot;/SHOP/&quot;\r\n            );\r\n    sftpContainer.start();\r\n\r\n**NOTE:** When uploading files using *withCopyFileToContainer*, we should give the container path by appending /home/&lt;username_we_log_in_while_SSH&gt;, as in the given example. Otherwise following exceptions may occur, when we SSH the testcontatiner to read the files.\r\n\r\n&gt; net.schmizz.sshj.sftp.SFTPException: No such file\r\n\r\n&gt; 2 No such file\r\n\r\nThat is because, when we SSH the testcontainers it search in the path /home/&lt;username_we_log_in_while_SSH&gt;\r\n\r\nWe can verify if the files have been correctly uploaded in the given location, using the same testcontainer with *execInContainer* method to execute commands inside the testcontainer.\r\n\r\n  \r\n\r\n    sftpContainer.execInContainer(&quot;ls&quot;,&quot;home/&lt;username_we_log_in_while_SSH&gt;&quot;).getStdout();\r\n\r\n  [1]: https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/","title":"Mocking SFTP, FTP, FTPS, Local File System Server in Java","body":"<p>Yes, the best option to mock a SFTP server, is to use <a href=\"https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/\" rel=\"nofollow noreferrer\">TestContainers</a>, still I would like to add some comments to the previous answer.</p>\n<p>Now we can use the image name <em>atmoz/sftp</em>.\nAlso can use <em>withCopyFileToContainer</em> method which is very similar to the <em>docker cp</em> command.</p>\n<pre><code>// to initialize sftp server container\nGenericContainer&lt;?&gt; sftpContainer = new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;atmoz/sftp&quot;))\n        .withExposedPorts(22)\n        .withEnv(&quot;SFTP_USERS&quot;, TEST_SFTP_USERNAME + &quot;:&quot; + TEST_SFTP_PASSWORD)\n        .withCopyFileToContainer(\n                MountableFile.forHostPath(&quot;src/test/resources/sftpFiles&quot;),\n                &quot;/home/&quot; + TEST_SFTP_USERNAME + &quot;/SHOP/&quot;\n        );\nsftpContainer.start();\n</code></pre>\n<p><strong>NOTE:</strong> When uploading files using <em>withCopyFileToContainer</em>, we should give the container path by appending /home/&lt;username_we_log_in_while_SSH&gt;, as in the given example. Otherwise following exceptions may occur, when we SSH the testcontatiner to read the files.</p>\n<blockquote>\n<p>net.schmizz.sshj.sftp.SFTPException: No such file</p>\n</blockquote>\n<blockquote>\n<p>2 No such file</p>\n</blockquote>\n<p>That is because, when we SSH the testcontainers it search in the path /home/&lt;username_we_log_in_while_SSH&gt;</p>\n<p>We can verify if the files have been correctly uploaded in the given location, using the same testcontainer with <em>execInContainer</em> method to execute commands inside the testcontainer.</p>\n<pre><code>sftpContainer.execInContainer(&quot;ls&quot;,&quot;home/&lt;username_we_log_in_while_SSH&gt;&quot;).getStdout();\n</code></pre>\n"}],"owner":{"account_id":342631,"reputation":687,"user_id":673895,"accept_rate":75,"display_name":"Here to Learn."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19999,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1678351701,"creation_date":1361903411,"question_id":15096589,"body_markdown":"I need to test FTP/FTPS/SFTP/Local File System protocols in Java.\r\n\r\nI need a mock server which can be used in any of these methods.\r\n\r\nI could find a MockFTPServer. According to my understanding, it can be used only for simple FTP protocol and not for FTPS/SFTP/Local File System.\r\n\r\nCan anybody suggest if there is any mock implementation available for a server which supports FTP/FTPS/SFTP/Local File System in Java?\r\n\r\nThanks,\r\n\r\nVijay Bhore","title":"Mocking SFTP, FTP, FTPS, Local File System Server in Java","body":"<p>I need to test FTP/FTPS/SFTP/Local File System protocols in Java.</p>\n\n<p>I need a mock server which can be used in any of these methods.</p>\n\n<p>I could find a MockFTPServer. According to my understanding, it can be used only for simple FTP protocol and not for FTPS/SFTP/Local File System.</p>\n\n<p>Can anybody suggest if there is any mock implementation available for a server which supports FTP/FTPS/SFTP/Local File System in Java?</p>\n\n<p>Thanks,</p>\n\n<p>Vijay Bhore</p>\n"},{"tags":["java","cas","shiro","pac4j"],"comments":[{"owner":{"account_id":8631943,"reputation":4386,"user_id":6463291,"display_name":"Ng Sek Long"},"score":0,"creation_date":1626947545,"post_id":68463423,"comment_id":121029496,"body_markdown":"Would this help you? `cas.http-web-request.header.xframe-options` https://apereo.github.io/cas/6.3.x/configuration/Configuration-Properties.html#http-web-requests","body":"Would this help you? <code>cas.http-web-request.header.xframe-options</code> <a href=\"https://apereo.github.io/cas/6.3.x/configuration/Configuration-Properties.html#http-web-requests\" rel=\"nofollow noreferrer\">apereo.github.io/cas/6.3.x/configuration/&hellip;</a>"},{"owner":{"account_id":21735991,"reputation":1,"user_id":16043989,"display_name":"OracleLin"},"score":0,"creation_date":1627376931,"post_id":68463423,"comment_id":121133408,"body_markdown":"sorry,NO, i can not to modify the cas server config, my springboot applicaiton is cas client","body":"sorry,NO, i can not to modify the cas server config, my springboot applicaiton is cas client"}],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678351300,"creation_date":1678351300,"answer_id":75682170,"question_id":68463423,"body_markdown":"In the latest pac4j versions, the *securityheaders* matchers is applied meaning the following matchers: *hsts*,*nosniff*,*noframe*,*xssprotection*,*nocache* as well as the *csrfToken* matcher.\r\nSee: https://www.pac4j.org/docs/matchers.html\r\n\r\nYou can of course override this configuration by setting the *matchers* of the SecurityFilter to *none* or whatever you want.","title":"about pac4j-cas and buji-pac4j upgrade version question","body":"<p>In the latest pac4j versions, the <em>securityheaders</em> matchers is applied meaning the following matchers: <em>hsts</em>,<em>nosniff</em>,<em>noframe</em>,<em>xssprotection</em>,<em>nocache</em> as well as the <em>csrfToken</em> matcher.\nSee: <a href=\"https://www.pac4j.org/docs/matchers.html\" rel=\"nofollow noreferrer\">https://www.pac4j.org/docs/matchers.html</a></p>\n<p>You can of course override this configuration by setting the <em>matchers</em> of the SecurityFilter to <em>none</em> or whatever you want.</p>\n"}],"owner":{"account_id":21735991,"reputation":1,"user_id":16043989,"display_name":"OracleLin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678351300,"creation_date":1626835835,"question_id":68463423,"body_markdown":"my spring-boot project(2.3.10.RELEASE ) with shiro (1.7.1) updating the pac4j-cas(3.9.0) and buji-pac4j(4.1.1) to the latest (pac4j-cas :5.1.2 pac4j-cas:6.0.0),but it happen to I can not use iframe in the HTML （X-Frame-Options deny） and ajax was forbidden,who can tell me how can I deal with those questions\r\n\r\n\r\n```\r\n部分代码如下：\r\nShiroConfig\r\npublic class ShiroConfig {\r\n\r\n    private final ShiroCasParams shiroCasParams;\r\n    private final CacheManager cacheManager;\r\n    private final Config pac4jConfig;\r\n\r\n    /**\r\n     * 生命周期\r\n     * @return\r\n     */\r\n    @Bean\r\n    public static LifecycleBeanPostProcessor lifecycleBeanPostProcessor() {\r\n        return new LifecycleBeanPostProcessor();\r\n    }\r\n\r\n    /**\r\n     * 单点登出的listener\r\n     *\r\n     * @return\r\n     */\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\r\n    @Bean\r\n    public ServletListenerRegistrationBean&lt;?&gt; singleSignOutHttpSessionListener() {\r\n        ServletListenerRegistrationBean bean = new ServletListenerRegistrationBean();\r\n        bean.setListener(new SingleSignOutHttpSessionListener());\r\n        bean.setEnabled(true);\r\n        return bean;\r\n    }\r\n\r\n    /**\r\n     * 单点登出filter\r\n     *\r\n     * @return\r\n     */\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public FilterRegistrationBean singleSignOutFilter() {\r\n        FilterRegistrationBean bean = new FilterRegistrationBean();\r\n        bean.setName(&quot;singleSignOutFilter&quot;);\r\n        SingleSignOutFilter singleSignOutFilter = new SingleSignOutFilter();\r\n        singleSignOutFilter.setLogoutCallbackPath(shiroCasParams.getCasServerUrlPrefix());\r\n        singleSignOutFilter.setIgnoreInitConfiguration(true);\r\n        bean.setFilter(singleSignOutFilter);\r\n        bean.addUrlPatterns(&quot;/*&quot;);\r\n        bean.setEnabled(true);\r\n        return bean;\r\n    }\r\n\r\n    /**\r\n     * 添加shiro的filter\r\n     *\r\n     * @return\r\n     */\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public FilterRegistrationBean filterRegistrationBean() {\r\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\r\n        filterRegistration.setFilter(new DelegatingFilterProxy(&quot;shiroFilter&quot;));\r\n        filterRegistration.addInitParameter(&quot;targetFilterLifecycle&quot;, &quot;true&quot;);\r\n        filterRegistration.setEnabled(true);\r\n        filterRegistration.addUrlPatterns(&quot;/*&quot;);\r\n        return filterRegistration;\r\n    }\r\n\r\n    /**\r\n     * 进一步配置shiroCasRealm\r\n     *\r\n     * @return ShiroCasRealm\r\n     */\r\n    @Bean(name = &quot;shiroCasRealm&quot;)\r\n    public ShiroCasRealm casRealm() {\r\n        ShiroCasRealm shiroCasRealm = new ShiroCasRealm();\r\n        shiroCasRealm.setName(shiroCasParams.getClientName());\r\n        shiroCasRealm.setCachingEnabled(false);\r\n        shiroCasRealm.setAuthorizationCachingEnabled(false);\r\n        shiroCasRealm.setAuthenticationCachingEnabled(false);\r\n        return shiroCasRealm;\r\n    }\r\n\r\n    /**\r\n     * 配置过滤策略\r\n     *\r\n     * @param securityManager\r\n     * @return\r\n     */\r\n    @Bean(name = &quot;shiroFilter&quot;)\r\n    public ShiroFilterFactoryBean shiroFilter(DefaultWebSecurityManager securityManager) {\r\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\r\n        // 设置安全管理器\r\n        shiroFilterFactoryBean.setSecurityManager(securityManager);\r\n        // 设置登录地址\r\n        shiroFilterFactoryBean.setLoginUrl(shiroCasParams.getLoginUrl());\r\n        shiroFilterFactoryBean.setUnauthorizedUrl(shiroCasParams.getLoginUrl());\r\n        // 配置拦截地址\r\n        Map&lt;String, Filter&gt; filters = new HashMap&lt;&gt;(16);\r\n\r\n        // cas 资源认证拦截器\r\n        SecurityFilter securityFilter = new CsrfTokenFilter();\r\n        securityFilter.setConfig(pac4jConfig);\r\n        filters.put(&quot;securityFilter&quot;, securityFilter);\r\n\r\n        //cas 认证后回调拦截器\r\n        CallbackFilter callbackFilter = new CallbackFilter();\r\n        callbackFilter.setConfig(pac4jConfig);\r\n        callbackFilter.setDefaultUrl(&quot;/&quot;);\r\n        filters.put(&quot;callbackFilter&quot;, callbackFilter);\r\n\r\n        // 本地登出同步登出CAS服务器\r\n        LogoutFilter logoutFilter = new LogoutFilter();\r\n        logoutFilter.setConfig(pac4jConfig);\r\n        logoutFilter.setCentralLogout(true);\r\n        logoutFilter.setLocalLogout(true);\r\n        logoutFilter.setDefaultUrl(shiroCasParams.getLogoutUrl());\r\n        filters.put(&quot;logoutFilter&quot;, logoutFilter);\r\n        shiroFilterFactoryBean.setFilters(filters);\r\n\r\n        loadShiroFilterChain(shiroFilterFactoryBean);\r\n        return shiroFilterFactoryBean;\r\n    }\r\n\r\n    /**\r\n     * 1、当我们第一次访问客户端时，先去cas进行认证，成功后会返回一个ticket\r\n     * 2、返回的ticket地址在casRealm已经进行了配置，shiroServerUrlPrefix + casFilterUrlPattern\r\n     * 3、即地址为/shiro-cas，对该地址进行casFilter拦截\r\n     */\r\n    private void loadShiroFilterChain(ShiroFilterFactoryBean shiroFilterFactoryBean) {\r\n        Map&lt;String, String&gt; filterChainDefinitionMap = new LinkedHashMap&lt;&gt;();\r\n        for (String uri : SystemParams.getUN_LOGIN_URI()) {\r\n            filterChainDefinitionMap.put(uri, &quot;anon&quot;);\r\n        }\r\n        //相当于/callback，见callbackFilter\r\n        filterChainDefinitionMap.put(&quot;/shiro-cas&quot;, &quot;callbackFilter&quot;);\r\n        filterChainDefinitionMap.put(&quot;/logout&quot;, &quot;logoutFilter&quot;);\r\n        filterChainDefinitionMap.put(&quot;/**&quot;, &quot;securityFilter&quot;);\r\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap);\r\n    }\r\n\r\n    /**\r\n     * 配置授权策略\r\n     */\r\n    @Bean(name = &quot;authenticator&quot;)\r\n    public ModularRealmAuthenticator modularRealmAuthenticator() {\r\n        ModularRealmAuthenticator authenticator = new ModularRealmAuthenticator();\r\n        authenticator.setAuthenticationStrategy(new AtLeastOneSuccessfulStrategy());\r\n        return authenticator;\r\n    }\r\n\r\n    /**\r\n     * 使用 pac4j 的 subjectFactory\r\n     * @return\r\n     */\r\n    @Bean\r\n    public Pac4jSubjectFactory subjectFactory() {\r\n        return new Pac4jSubjectFactory();\r\n    }\r\n\r\n    /**\r\n     * 配置securityManager\r\n     *\r\n     * @param authenticator\r\n     * @return\r\n     */\r\n    @Bean(name = &quot;securityManager&quot;)\r\n    public DefaultWebSecurityManager securityManager(ModularRealmAuthenticator authenticator) {\r\n        DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager();\r\n        securityManager.setAuthenticator(authenticator);\r\n        securityManager.setRealm(casRealm());\r\n        //新pac4jSubjectFactory，替换原来new casSubjectFactory()\r\n        securityManager.setSubjectFactory(subjectFactory());\r\n        securityManager.setCacheManager(getEhCacheManager(CacheConstant.SYS_AUTHORIZATION_CACHE));\r\n        return securityManager;\r\n    }\r\n\r\n    // 取消对session的配置，因为这会导致cas单点登出产生问题\r\n    /**\r\n     * Session配置\r\n     *\r\n     * @return\r\n     */\r\n    @Bean\r\n    @ConditionalOnProperty(name = &quot;spring.cache.type&quot;, havingValue = &quot;jcache&quot;)\r\n    public WebSessionManager sessionManager() {\r\n        DefaultWebSessionManager sessionManager = new DefaultWebSessionManager();\r\n        sessionManager.setGlobalSessionTimeout(-1L);\r\n        sessionManager.setDeleteInvalidSessions(true);\r\n        sessionManager.setSessionIdUrlRewritingEnabled(false);\r\n        return sessionManager;\r\n    }\r\n\r\n    /**\r\n     * 开启shiro aop注解支持.\r\n     * 使用代理方式-所以需要开启代码支持\r\n     *\r\n     * @param securityManager\r\n     * @return\r\n     */\r\n    @Bean\r\n    public AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor(DefaultWebSecurityManager securityManager) {\r\n        AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor = new AuthorizationAttributeSourceAdvisor();\r\n        authorizationAttributeSourceAdvisor.setSecurityManager(securityManager);\r\n        return authorizationAttributeSourceAdvisor;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultAdvisorAutoProxyCreator advisorAutoProxyCreator() {\r\n        DefaultAdvisorAutoProxyCreator advisorAutoProxyCreator = new DefaultAdvisorAutoProxyCreator();\r\n        advisorAutoProxyCreator.setProxyTargetClass(true);\r\n        return advisorAutoProxyCreator;\r\n    }\r\n\r\n    /**\r\n     * 权限缓存兼容Ehcache3\r\n     *\r\n     * @return\r\n     */\r\n    private org.apache.shiro.cache.CacheManager getEhCacheManager(String name) {\r\n        Assert.notNull(cacheManager, &quot;无Ehcache缓存支持!&quot;);\r\n        return new org.apache.shiro.cache.CacheManager() {\r\n            @Override\r\n            public &lt;K, V&gt; Cache&lt;K, V&gt; getCache(String s) throws CacheException {\r\n                return new ShiroEhcacheCache&lt;K, V&gt;(cacheManager.getCache(name));\r\n            }\r\n        };\r\n    }\r\n\r\npublic class CsrfTokenFilter extends SecurityFilter {\r\n    /**\r\n     * token验证\r\n     */\r\n    private boolean tokenVerification(ServletRequest request, ServletResponse response) {\r\n        ShiroHttpServletRequest httpServletRequest = (ShiroHttpServletRequest) request;\r\n        //Get请求无需Token\r\n        //Get no need Token\r\n        if (StrUtil.equalsIgnoreCase(CommonConstant.HTTP_OPTIONS_GET, httpServletRequest.getMethod())) {\r\n            return Boolean.TRUE;\r\n        }\r\n        String token = httpServletRequest.getHeader(HttpConstant.TOKEN_HEADER);\r\n        if (StrUtil.isBlank(token)) {\r\n            return Boolean.FALSE;\r\n        } else {\r\n            return ShiroUserUtil.isLogin() &amp;&amp; token.equals(ShiroUserUtil.getToken());\r\n        }\r\n    }\r\n\r\n    private boolean monitorVerification() {\r\n        if (StrUtil.isNotBlank(ShiroUserUtil.getMonitorId())) {\r\n            return CommonConstant.STATUS_YES.equals(ParamsUtil.Default.MONITOR.get());\r\n        }\r\n        return Boolean.TRUE;\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n  \r\n        if (!ShiroUserUtil.isSaveUserProfile() &amp;&amp; StrUtil.isBlank(servletRequest.getParameter(&quot;appId&quot;))) {\r\n            ((HttpServletResponse)servletResponse).sendRedirect(&quot;http://xxxxxx/&quot;);\r\n            return;\r\n        }\r\n       \r\n        if (tokenVerification(servletRequest, servletResponse) &amp;&amp; monitorVerification()) {\r\n            super.doFilter(servletRequest, servletResponse, filterChain);\r\n        }\r\n    }\r\n}\r\n```","title":"about pac4j-cas and buji-pac4j upgrade version question","body":"<p>my spring-boot project(2.3.10.RELEASE ) with shiro (1.7.1) updating the pac4j-cas(3.9.0) and buji-pac4j(4.1.1) to the latest (pac4j-cas :5.1.2 pac4j-cas:6.0.0),but it happen to I can not use iframe in the HTML （X-Frame-Options deny） and ajax was forbidden,who can tell me how can I deal with those questions</p>\n<pre><code>部分代码如下：\nShiroConfig\npublic class ShiroConfig {\n\n    private final ShiroCasParams shiroCasParams;\n    private final CacheManager cacheManager;\n    private final Config pac4jConfig;\n\n    /**\n     * 生命周期\n     * @return\n     */\n    @Bean\n    public static LifecycleBeanPostProcessor lifecycleBeanPostProcessor() {\n        return new LifecycleBeanPostProcessor();\n    }\n\n    /**\n     * 单点登出的listener\n     *\n     * @return\n     */\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\n    @Bean\n    public ServletListenerRegistrationBean&lt;?&gt; singleSignOutHttpSessionListener() {\n        ServletListenerRegistrationBean bean = new ServletListenerRegistrationBean();\n        bean.setListener(new SingleSignOutHttpSessionListener());\n        bean.setEnabled(true);\n        return bean;\n    }\n\n    /**\n     * 单点登出filter\n     *\n     * @return\n     */\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public FilterRegistrationBean singleSignOutFilter() {\n        FilterRegistrationBean bean = new FilterRegistrationBean();\n        bean.setName(&quot;singleSignOutFilter&quot;);\n        SingleSignOutFilter singleSignOutFilter = new SingleSignOutFilter();\n        singleSignOutFilter.setLogoutCallbackPath(shiroCasParams.getCasServerUrlPrefix());\n        singleSignOutFilter.setIgnoreInitConfiguration(true);\n        bean.setFilter(singleSignOutFilter);\n        bean.addUrlPatterns(&quot;/*&quot;);\n        bean.setEnabled(true);\n        return bean;\n    }\n\n    /**\n     * 添加shiro的filter\n     *\n     * @return\n     */\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public FilterRegistrationBean filterRegistrationBean() {\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\n        filterRegistration.setFilter(new DelegatingFilterProxy(&quot;shiroFilter&quot;));\n        filterRegistration.addInitParameter(&quot;targetFilterLifecycle&quot;, &quot;true&quot;);\n        filterRegistration.setEnabled(true);\n        filterRegistration.addUrlPatterns(&quot;/*&quot;);\n        return filterRegistration;\n    }\n\n    /**\n     * 进一步配置shiroCasRealm\n     *\n     * @return ShiroCasRealm\n     */\n    @Bean(name = &quot;shiroCasRealm&quot;)\n    public ShiroCasRealm casRealm() {\n        ShiroCasRealm shiroCasRealm = new ShiroCasRealm();\n        shiroCasRealm.setName(shiroCasParams.getClientName());\n        shiroCasRealm.setCachingEnabled(false);\n        shiroCasRealm.setAuthorizationCachingEnabled(false);\n        shiroCasRealm.setAuthenticationCachingEnabled(false);\n        return shiroCasRealm;\n    }\n\n    /**\n     * 配置过滤策略\n     *\n     * @param securityManager\n     * @return\n     */\n    @Bean(name = &quot;shiroFilter&quot;)\n    public ShiroFilterFactoryBean shiroFilter(DefaultWebSecurityManager securityManager) {\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\n        // 设置安全管理器\n        shiroFilterFactoryBean.setSecurityManager(securityManager);\n        // 设置登录地址\n        shiroFilterFactoryBean.setLoginUrl(shiroCasParams.getLoginUrl());\n        shiroFilterFactoryBean.setUnauthorizedUrl(shiroCasParams.getLoginUrl());\n        // 配置拦截地址\n        Map&lt;String, Filter&gt; filters = new HashMap&lt;&gt;(16);\n\n        // cas 资源认证拦截器\n        SecurityFilter securityFilter = new CsrfTokenFilter();\n        securityFilter.setConfig(pac4jConfig);\n        filters.put(&quot;securityFilter&quot;, securityFilter);\n\n        //cas 认证后回调拦截器\n        CallbackFilter callbackFilter = new CallbackFilter();\n        callbackFilter.setConfig(pac4jConfig);\n        callbackFilter.setDefaultUrl(&quot;/&quot;);\n        filters.put(&quot;callbackFilter&quot;, callbackFilter);\n\n        // 本地登出同步登出CAS服务器\n        LogoutFilter logoutFilter = new LogoutFilter();\n        logoutFilter.setConfig(pac4jConfig);\n        logoutFilter.setCentralLogout(true);\n        logoutFilter.setLocalLogout(true);\n        logoutFilter.setDefaultUrl(shiroCasParams.getLogoutUrl());\n        filters.put(&quot;logoutFilter&quot;, logoutFilter);\n        shiroFilterFactoryBean.setFilters(filters);\n\n        loadShiroFilterChain(shiroFilterFactoryBean);\n        return shiroFilterFactoryBean;\n    }\n\n    /**\n     * 1、当我们第一次访问客户端时，先去cas进行认证，成功后会返回一个ticket\n     * 2、返回的ticket地址在casRealm已经进行了配置，shiroServerUrlPrefix + casFilterUrlPattern\n     * 3、即地址为/shiro-cas，对该地址进行casFilter拦截\n     */\n    private void loadShiroFilterChain(ShiroFilterFactoryBean shiroFilterFactoryBean) {\n        Map&lt;String, String&gt; filterChainDefinitionMap = new LinkedHashMap&lt;&gt;();\n        for (String uri : SystemParams.getUN_LOGIN_URI()) {\n            filterChainDefinitionMap.put(uri, &quot;anon&quot;);\n        }\n        //相当于/callback，见callbackFilter\n        filterChainDefinitionMap.put(&quot;/shiro-cas&quot;, &quot;callbackFilter&quot;);\n        filterChainDefinitionMap.put(&quot;/logout&quot;, &quot;logoutFilter&quot;);\n        filterChainDefinitionMap.put(&quot;/**&quot;, &quot;securityFilter&quot;);\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap);\n    }\n\n    /**\n     * 配置授权策略\n     */\n    @Bean(name = &quot;authenticator&quot;)\n    public ModularRealmAuthenticator modularRealmAuthenticator() {\n        ModularRealmAuthenticator authenticator = new ModularRealmAuthenticator();\n        authenticator.setAuthenticationStrategy(new AtLeastOneSuccessfulStrategy());\n        return authenticator;\n    }\n\n    /**\n     * 使用 pac4j 的 subjectFactory\n     * @return\n     */\n    @Bean\n    public Pac4jSubjectFactory subjectFactory() {\n        return new Pac4jSubjectFactory();\n    }\n\n    /**\n     * 配置securityManager\n     *\n     * @param authenticator\n     * @return\n     */\n    @Bean(name = &quot;securityManager&quot;)\n    public DefaultWebSecurityManager securityManager(ModularRealmAuthenticator authenticator) {\n        DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager();\n        securityManager.setAuthenticator(authenticator);\n        securityManager.setRealm(casRealm());\n        //新pac4jSubjectFactory，替换原来new casSubjectFactory()\n        securityManager.setSubjectFactory(subjectFactory());\n        securityManager.setCacheManager(getEhCacheManager(CacheConstant.SYS_AUTHORIZATION_CACHE));\n        return securityManager;\n    }\n\n    // 取消对session的配置，因为这会导致cas单点登出产生问题\n    /**\n     * Session配置\n     *\n     * @return\n     */\n    @Bean\n    @ConditionalOnProperty(name = &quot;spring.cache.type&quot;, havingValue = &quot;jcache&quot;)\n    public WebSessionManager sessionManager() {\n        DefaultWebSessionManager sessionManager = new DefaultWebSessionManager();\n        sessionManager.setGlobalSessionTimeout(-1L);\n        sessionManager.setDeleteInvalidSessions(true);\n        sessionManager.setSessionIdUrlRewritingEnabled(false);\n        return sessionManager;\n    }\n\n    /**\n     * 开启shiro aop注解支持.\n     * 使用代理方式-所以需要开启代码支持\n     *\n     * @param securityManager\n     * @return\n     */\n    @Bean\n    public AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor(DefaultWebSecurityManager securityManager) {\n        AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor = new AuthorizationAttributeSourceAdvisor();\n        authorizationAttributeSourceAdvisor.setSecurityManager(securityManager);\n        return authorizationAttributeSourceAdvisor;\n    }\n\n    @Bean\n    public DefaultAdvisorAutoProxyCreator advisorAutoProxyCreator() {\n        DefaultAdvisorAutoProxyCreator advisorAutoProxyCreator = new DefaultAdvisorAutoProxyCreator();\n        advisorAutoProxyCreator.setProxyTargetClass(true);\n        return advisorAutoProxyCreator;\n    }\n\n    /**\n     * 权限缓存兼容Ehcache3\n     *\n     * @return\n     */\n    private org.apache.shiro.cache.CacheManager getEhCacheManager(String name) {\n        Assert.notNull(cacheManager, &quot;无Ehcache缓存支持!&quot;);\n        return new org.apache.shiro.cache.CacheManager() {\n            @Override\n            public &lt;K, V&gt; Cache&lt;K, V&gt; getCache(String s) throws CacheException {\n                return new ShiroEhcacheCache&lt;K, V&gt;(cacheManager.getCache(name));\n            }\n        };\n    }\n\npublic class CsrfTokenFilter extends SecurityFilter {\n    /**\n     * token验证\n     */\n    private boolean tokenVerification(ServletRequest request, ServletResponse response) {\n        ShiroHttpServletRequest httpServletRequest = (ShiroHttpServletRequest) request;\n        //Get请求无需Token\n        //Get no need Token\n        if (StrUtil.equalsIgnoreCase(CommonConstant.HTTP_OPTIONS_GET, httpServletRequest.getMethod())) {\n            return Boolean.TRUE;\n        }\n        String token = httpServletRequest.getHeader(HttpConstant.TOKEN_HEADER);\n        if (StrUtil.isBlank(token)) {\n            return Boolean.FALSE;\n        } else {\n            return ShiroUserUtil.isLogin() &amp;&amp; token.equals(ShiroUserUtil.getToken());\n        }\n    }\n\n    private boolean monitorVerification() {\n        if (StrUtil.isNotBlank(ShiroUserUtil.getMonitorId())) {\n            return CommonConstant.STATUS_YES.equals(ParamsUtil.Default.MONITOR.get());\n        }\n        return Boolean.TRUE;\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n  \n        if (!ShiroUserUtil.isSaveUserProfile() &amp;&amp; StrUtil.isBlank(servletRequest.getParameter(&quot;appId&quot;))) {\n            ((HttpServletResponse)servletResponse).sendRedirect(&quot;http://xxxxxx/&quot;);\n            return;\n        }\n       \n        if (tokenVerification(servletRequest, servletResponse) &amp;&amp; monitorVerification()) {\n            super.doFilter(servletRequest, servletResponse, filterChain);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","websocket","cors","handshake"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1678353054,"post_id":75682164,"comment_id":133516854,"body_markdown":"CORS doesn&#39;t apply to WebSockets.","body":"CORS doesn&#39;t apply to WebSockets."},{"owner":{"account_id":26322370,"reputation":1,"user_id":19984207,"display_name":"Mirey Mackey"},"score":0,"creation_date":1678357796,"post_id":75682164,"comment_id":133518233,"body_markdown":"So, there is no way to handle the error on the server side? In this case, is the proxy server the only way?","body":"So, there is no way to handle the error on the server side? In this case, is the proxy server the only way?"}],"owner":{"account_id":26322370,"reputation":1,"user_id":19984207,"display_name":"Mirey Mackey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678351276,"creation_date":1678351276,"question_id":75682164,"body_markdown":"I want to use the data from my WebSocket in the JS app in a browser, but it is resulting into the &quot;GET has been blocked by CORS policy&quot; error. \r\nThe websocket written with javax lib. To run I use the tyrus server.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        int port = Integer.parseInt(args[0]);\r\n\r\n        final Server server = new Server(&quot;0.0.0.0&quot;, port, &quot;/&quot;, null, LiveWebSocket.class);\r\n        try {\r\n            server.start();\r\n            System.out.println(&quot;WebSocketServer started on port &quot; + port);\r\n        } catch (final DeploymentException e) {\r\n            throw new RuntimeException(&quot;Failed to start WebSocketServer&quot;, e);\r\n        }\r\n\r\n        try {\r\n            Thread.currentThread().join();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nI don&#39;t really understand how to add the (&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;) header to the handshake response, so I can use it with different domains.\r\n\r\nI tried to use ContainerResponseFilter\r\n\r\n```\r\n@Provider\r\n    public class CorsFilter implements ContainerResponseFilter {\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) {\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;origin, content-type, accept, authorization&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Max-Age&quot;, &quot;1209600&quot;);\r\n    }\r\n}\r\n```\r\nthat have been added to the ResourceConfig\r\n\r\n\r\n```\r\nfinal ResourceConfig config = new ResourceConfig();\r\n        config.register(CorsFilter.class);\r\n        config.register(LiveWebSocket.class);\r\n```\r\n\r\nbut I don&#39;t know how to integrate this into the server.\r\n\r\nI want to run the socket from my main method and don&#39;t want to use proxy servers to handle the connection. Does anybody have an idea around it?","title":"Adding headers to the websocket handshake response on Java","body":"<p>I want to use the data from my WebSocket in the JS app in a browser, but it is resulting into the &quot;GET has been blocked by CORS policy&quot; error.\nThe websocket written with javax lib. To run I use the tyrus server.</p>\n<pre><code>public static void main(String[] args) {\n        int port = Integer.parseInt(args[0]);\n\n        final Server server = new Server(&quot;0.0.0.0&quot;, port, &quot;/&quot;, null, LiveWebSocket.class);\n        try {\n            server.start();\n            System.out.println(&quot;WebSocketServer started on port &quot; + port);\n        } catch (final DeploymentException e) {\n            throw new RuntimeException(&quot;Failed to start WebSocketServer&quot;, e);\n        }\n\n        try {\n            Thread.currentThread().join();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>I don't really understand how to add the (&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;) header to the handshake response, so I can use it with different domains.</p>\n<p>I tried to use ContainerResponseFilter</p>\n<pre><code>@Provider\n    public class CorsFilter implements ContainerResponseFilter {\n    @Override\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) {\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;origin, content-type, accept, authorization&quot;);\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\n        responseContext.getHeaders().add(&quot;Access-Control-Max-Age&quot;, &quot;1209600&quot;);\n    }\n}\n</code></pre>\n<p>that have been added to the ResourceConfig</p>\n<pre><code>final ResourceConfig config = new ResourceConfig();\n        config.register(CorsFilter.class);\n        config.register(LiveWebSocket.class);\n</code></pre>\n<p>but I don't know how to integrate this into the server.</p>\n<p>I want to run the socket from my main method and don't want to use proxy servers to handle the connection. Does anybody have an idea around it?</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1600682902,"post_id":63989952,"comment_id":113154183,"body_markdown":"Did you try running gradle directly from the shell so the IntelliJ plugin is not involved? If that works as expected then there most likely is a problem with the plugin. Also in cases like this, it is very relevant to provide the output that the build generates. You should edit it into the question.","body":"Did you try running gradle directly from the shell so the IntelliJ plugin is not involved? If that works as expected then there most likely is a problem with the plugin. Also in cases like this, it is very relevant to provide the output that the build generates. You should edit it into the question."},{"owner":{"account_id":14930200,"reputation":11,"user_id":10779810,"display_name":"uhl1k"},"score":0,"creation_date":1600683275,"post_id":63989952,"comment_id":113154353,"body_markdown":"I appended gradle output into question, tried both cosnole and intelliJ","body":"I appended gradle output into question, tried both cosnole and intelliJ"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1600683363,"post_id":63989952,"comment_id":113154391,"body_markdown":"&quot;Task :server:bootWar UP-TO-DATE&quot; - I read that as &quot;I&#39;m not recreating the war because nothing changed&quot;","body":"&quot;Task :server:bootWar UP-TO-DATE&quot; - I read that as &quot;I&#39;m not recreating the war because nothing changed&quot;"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1600683437,"post_id":63989952,"comment_id":113154427,"body_markdown":"What do you mean by &quot;For the second and later times gradle runs but no war is generated&quot;? The bootWar task is up to date so generating it again is not needed. This is default gradle behaviour - it avoids to perform tasks again if the output would be the same (caching).","body":"What do you mean by &quot;For the second and later times gradle runs but no war is generated&quot;? The bootWar task is up to date so generating it again is not needed. This is default gradle behaviour - it avoids to perform tasks again if the output would be the same (caching)."},{"owner":{"account_id":14930200,"reputation":11,"user_id":10779810,"display_name":"uhl1k"},"score":0,"creation_date":1600683478,"post_id":63989952,"comment_id":113154440,"body_markdown":"But then why the previous war dissapears? I am not running clean or anything, it just dissapears. It doesn&#39;t generate war after changing the code.","body":"But then why the previous war dissapears? I am not running clean or anything, it just dissapears. It doesn&#39;t generate war after changing the code."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1600695936,"post_id":63989952,"comment_id":113160362,"body_markdown":"That&#39;s the real question. Apparently the problem is not that the war is not rebuilt, apparently it is being deleted after the standard build process decides that it does not need updating.","body":"That&#39;s the real question. Apparently the problem is not that the war is not rebuilt, apparently it is being deleted after the standard build process decides that it does not need updating."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1600703970,"post_id":63989952,"comment_id":113164583,"body_markdown":"Does the war physically disappear from the build output directory? Is there antivirus/firewall? Or other process that could delete the war?","body":"Does the war physically disappear from the build output directory? Is there antivirus/firewall? Or other process that could delete the war?"}],"answers":[{"tags":[],"owner":{"account_id":27972449,"reputation":1,"user_id":21361918,"display_name":"Nicholas Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678351177,"creation_date":1678351089,"answer_id":75682141,"question_id":63989952,"body_markdown":"`tasks.bootWar.outputs.upToDateWhen { false }`\r\n\r\nYou can add above configuration to have a try, this will force gradle to build the war, the upToDate calculation is wrong sometimes","title":"Gradle is not building boot war","body":"<p><code>tasks.bootWar.outputs.upToDateWhen { false }</code></p>\n<p>You can add above configuration to have a try, this will force gradle to build the war, the upToDate calculation is wrong sometimes</p>\n"}],"owner":{"account_id":14930200,"reputation":11,"user_id":10779810,"display_name":"uhl1k"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678351177,"creation_date":1600682077,"question_id":63989952,"body_markdown":"I am having problem with my project in Java. When I try running bootWar task in gradle on Windows it only generates war for the first time. For the second and later times gradle runs but no war is generated. If I restart Idea, it generates war for the first time again and then nothing. When I was working on Linux (Mint 19 Cinnamon) everything was working OK.\r\n\r\nI tried clean task, reloading gradle, reloading project from Git and rewriting gradle files but nothing helped.\r\n\r\n**root build.gradle**\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;cz.uhl1k.tcs&#39;\r\nversion &#39;0.9.5&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n```\r\n\r\n**subproject build.gradle**\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.3.4.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.10.RELEASE&#39;\r\n    id &#39;java&#39;\r\n    id &#39;war&#39;\r\n}\r\n\r\ngroup &#39;cz.uhl1k.tcs&#39;\r\nversion &#39;0.9.5&#39;\r\n\r\nconfigurations {\r\n    developmentOnly\r\n    runtimeClasspath {\r\n        extendsFrom developmentOnly\r\n    }\r\n}\r\n\r\nspringBoot {\r\n    mainClassName = &#39;cz.uhl1k.tcs.server.TcsServer&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.session:spring-session-core&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    implementation &#39;org.apache.tomcat.embed:tomcat-embed-jasper&#39;\r\n    providedRuntime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n        exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    }\r\n\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    compile &#39;org.springframework.session:spring-session-core&#39;\r\n\r\n    implementation(&#39;org.postgresql:postgresql:9.4-1206-jdbc42&#39;)\r\n    compileOnly(&#39;org.projectlombok:lombok&#39;)\r\n}\r\n```\r\n\r\nThanks for any help.\r\n\r\n--- Edit ---\r\n\r\nI tried running from Idea nad console with same results. Here is gradle output from build:\r\n\r\n```\r\n12:10:20: Executing task &#39;bootWar&#39;...\r\n\r\n&gt; Task :server:compileJava UP-TO-DATE\r\n&gt; Task :server:processResources NO-SOURCE\r\n&gt; Task :server:classes UP-TO-DATE\r\n&gt; Task :server:bootWar UP-TO-DATE\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD SUCCESSFUL in 2s\r\n2 actionable tasks: 2 up-to-date\r\n12:10:24: Task execution finished &#39;bootWar&#39;.\r\n```","title":"Gradle is not building boot war","body":"<p>I am having problem with my project in Java. When I try running bootWar task in gradle on Windows it only generates war for the first time. For the second and later times gradle runs but no war is generated. If I restart Idea, it generates war for the first time again and then nothing. When I was working on Linux (Mint 19 Cinnamon) everything was working OK.</p>\n<p>I tried clean task, reloading gradle, reloading project from Git and rewriting gradle files but nothing helped.</p>\n<p><strong>root build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'cz.uhl1k.tcs'\nversion '0.9.5'\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n<p><strong>subproject build.gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.3.4.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.10.RELEASE'\n    id 'java'\n    id 'war'\n}\n\ngroup 'cz.uhl1k.tcs'\nversion '0.9.5'\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n}\n\nspringBoot {\n    mainClassName = 'cz.uhl1k.tcs.server.TcsServer'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.session:spring-session-core'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'org.apache.tomcat.embed:tomcat-embed-jasper'\n    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    compile 'org.springframework.session:spring-session-core'\n\n    implementation('org.postgresql:postgresql:9.4-1206-jdbc42')\n    compileOnly('org.projectlombok:lombok')\n}\n</code></pre>\n<p>Thanks for any help.</p>\n<p>--- Edit ---</p>\n<p>I tried running from Idea nad console with same results. Here is gradle output from build:</p>\n<pre><code>12:10:20: Executing task 'bootWar'...\n\n&gt; Task :server:compileJava UP-TO-DATE\n&gt; Task :server:processResources NO-SOURCE\n&gt; Task :server:classes UP-TO-DATE\n&gt; Task :server:bootWar UP-TO-DATE\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 2s\n2 actionable tasks: 2 up-to-date\n12:10:24: Task execution finished 'bootWar'.\n</code></pre>\n"},{"tags":["java","spring-boot","ssh","mainframe","zos"],"comments":[{"owner":{"account_id":336963,"reputation":641,"user_id":664933,"accept_rate":94,"display_name":"paulywill"},"score":2,"creation_date":1676693758,"post_id":75489154,"comment_id":133193997,"body_markdown":"It is a case of EBCDIC vs. ASCII? Are you able to compare if the `privatekey` mutated on z/OS?","body":"It is a case of EBCDIC vs. ASCII? Are you able to compare if the <code>privatekey</code> mutated on z/OS?"},{"owner":{"account_id":5345878,"reputation":129,"user_id":4261459,"display_name":"Jarek Brocki"},"score":0,"creation_date":1676891203,"post_id":75489154,"comment_id":133222299,"body_markdown":"@paulywill 99.9% it&#39;s not the case of the conversion. I&#39;ve logged on to USS directly and using the same private key managed to logon via SSH to the service ID - both on the inbound IP and the localhost. So I know the key works and the SSHD are set up correctly. \nAdditionally I&#39;ve managed to setup JSch.Logger to get normal ssh clients -v option working.  \nWhen running in windows and targeting inboud IP I the whole verbose stack:\n`Authentication succeeded (publickey)`\nWhen running same jar on z/OS I only get:\n`java.lang.RuntimeException: com.jcraft.jsch.JSchException: invalid privatekey`","body":"@paulywill 99.9% it&#39;s not the case of the conversion. I&#39;ve logged on to USS directly and using the same private key managed to logon via SSH to the service ID - both on the inbound IP and the localhost. So I know the key works and the SSHD are set up correctly.  Additionally I&#39;ve managed to setup JSch.Logger to get normal ssh clients -v option working.   When running in windows and targeting inboud IP I the whole verbose stack: <code>Authentication succeeded (publickey)</code> When running same jar on z/OS I only get: <code>java.lang.RuntimeException: com.jcraft.jsch.JSchException: invalid privatekey</code>"},{"owner":{"account_id":5345878,"reputation":129,"user_id":4261459,"display_name":"Jarek Brocki"},"score":0,"creation_date":1676920185,"post_id":75489154,"comment_id":133230527,"body_markdown":"So I&#39;ve also regenerated new key using `ssh-keygen -t rsa -b 4096 -m PEM` and moved it to the authorized_keys for user. After moving the key to my PC I managed to SSH to the service ID using the new key via the command line and JSch. I can also do it via command line on the lpar targeting the localhost SSHD. However again I cannot logon to the localhost SSH via JSch application running on z/OS.","body":"So I&#39;ve also regenerated new key using <code>ssh-keygen -t rsa -b 4096 -m PEM</code> and moved it to the authorized_keys for user. After moving the key to my PC I managed to SSH to the service ID using the new key via the command line and JSch. I can also do it via command line on the lpar targeting the localhost SSHD. However again I cannot logon to the localhost SSH via JSch application running on z/OS."}],"answers":[{"tags":[],"owner":{"account_id":5345878,"reputation":129,"user_id":4261459,"display_name":"Jarek Brocki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678350900,"creation_date":1678350900,"answer_id":75682108,"question_id":75489154,"body_markdown":"It works!\r\n\r\nThe problem was that I&#39;ve created the key pair in the USS session and transfered them for testing, to my windows machine using VSCode zExplorer plugin.\r\nSeems that this plugin does already a transfer back and fourth with ASCII and EBCDIC character sets.\r\n\r\nI reviewed the keys and they were identical - but I was trying to use a mainframe java program using a EBCDIC generated key. \r\n\r\nTurns out that SSHD daemon has already engraved that although it runs on z/OS which is a EBCDIC system it expects always a ASCII key.\r\n\r\nAfter converting the key to ASCII using iconv all works as it should\r\n\r\n    iconv –f IBM-1047 –t ISO8859-1 id_rsa &gt; id_rsa_ascii\r\n\r\n\r\n@paulywill Thanks for hinting me where to look.","title":"JSch on z/OS - invalid key when connecting to localhost","body":"<p>It works!</p>\n<p>The problem was that I've created the key pair in the USS session and transfered them for testing, to my windows machine using VSCode zExplorer plugin.\nSeems that this plugin does already a transfer back and fourth with ASCII and EBCDIC character sets.</p>\n<p>I reviewed the keys and they were identical - but I was trying to use a mainframe java program using a EBCDIC generated key.</p>\n<p>Turns out that SSHD daemon has already engraved that although it runs on z/OS which is a EBCDIC system it expects always a ASCII key.</p>\n<p>After converting the key to ASCII using iconv all works as it should</p>\n<pre><code>iconv –f IBM-1047 –t ISO8859-1 id_rsa &gt; id_rsa_ascii\n</code></pre>\n<p>@paulywill Thanks for hinting me where to look.</p>\n"}],"owner":{"account_id":5345878,"reputation":129,"user_id":4261459,"display_name":"Jarek Brocki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678350900,"creation_date":1676667227,"question_id":75489154,"body_markdown":"I&#39;m working on a SpringBoot application running on z/OS natively (not in a zCX container).\r\nThe idea is to maintain a session to a PROTECTED RACF service id using ssh key private/public key pair.\r\n\r\nI&#39;ve set the user, the USS directory and the keys are in the right places.\r\n\r\nHere is the interesting bit - I&#39;ve written the application for easy of testing that runs locally on my corporate laptop. I&#39;ve targeted in it the inbound address of the z/OS and the same exact private key as when running on z/OS natively(therefore I&#39;m sure the key format is correct). Everything works as expected and I&#39;m able to connect using this key.\r\n\r\nHowever when I package the application to a jar file and run it on z/OS I get \r\n\r\n    java.lang.RuntimeException: com.jcraft.jsch.JSchException: invalid privatekey\r\n\r\nThe service ID that is running the SpringBoot application on z/OS has access to the private key used when using `jSch.addIdentity()` - I know this because I changed the owner of the key and tested it out. Got a ICH408I message stating the user doesn&#39;t have access to the private key(reverted back after testing).\r\n\r\nAfter few days of scratching my head and testing out lots of access setups I&#39;ve decided to test out if I&#39;m even able to establish a SSH session to this ID from within z/OS - no problems here.\r\n\r\nI&#39;ve also set a password to service ID that is used to run the SpringBoot application. Logged to it and ran `ssh XXXXXX@localhost -i private_key` without any problems. Therefore I&#39;m pretty sure that this is somehow related to a JSch library problem.\r\n\r\nAnyone ever came a cross something like that ?\r\n","title":"JSch on z/OS - invalid key when connecting to localhost","body":"<p>I'm working on a SpringBoot application running on z/OS natively (not in a zCX container).\nThe idea is to maintain a session to a PROTECTED RACF service id using ssh key private/public key pair.</p>\n<p>I've set the user, the USS directory and the keys are in the right places.</p>\n<p>Here is the interesting bit - I've written the application for easy of testing that runs locally on my corporate laptop. I've targeted in it the inbound address of the z/OS and the same exact private key as when running on z/OS natively(therefore I'm sure the key format is correct). Everything works as expected and I'm able to connect using this key.</p>\n<p>However when I package the application to a jar file and run it on z/OS I get</p>\n<pre><code>java.lang.RuntimeException: com.jcraft.jsch.JSchException: invalid privatekey\n</code></pre>\n<p>The service ID that is running the SpringBoot application on z/OS has access to the private key used when using <code>jSch.addIdentity()</code> - I know this because I changed the owner of the key and tested it out. Got a ICH408I message stating the user doesn't have access to the private key(reverted back after testing).</p>\n<p>After few days of scratching my head and testing out lots of access setups I've decided to test out if I'm even able to establish a SSH session to this ID from within z/OS - no problems here.</p>\n<p>I've also set a password to service ID that is used to run the SpringBoot application. Logged to it and ran <code>ssh XXXXXX@localhost -i private_key</code> without any problems. Therefore I'm pretty sure that this is somehow related to a JSch library problem.</p>\n<p>Anyone ever came a cross something like that ?</p>\n"},{"tags":["java","mongodb","spring-boot","gradle","dependencies"],"owner":{"account_id":10248632,"reputation":420,"user_id":7563638,"accept_rate":75,"display_name":"groot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678351870,"answer_count":0,"score":0,"last_activity_date":1678350638,"creation_date":1678350253,"question_id":75682017,"body_markdown":"I&#39;m doing dependency upgrades for my project, post upgrading the version, there has been issues with the tests\r\n\r\nJava Version - 1.8\r\n\r\nError stack - \r\n\r\n```\r\ncom.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;\r\njava.lang.NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$15(MongoTemplate.java:1555)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:598)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1549)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1345)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1245)\r\n```\r\n\r\nbuild.gradle \r\n\r\n```\r\n...\r\n\r\nimplementation(group: &#39;org.springframework.data&#39;, name: &#39;spring-data-mongodb&#39;, version: &#39;3.4.7&#39;) {\r\n        exclude group: &#39;org.mongodb&#39;\r\n    }\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-commons&#39;, version: &#39;2.7.7&#39;\r\n    implementation group: &#39;org.mongodb&#39;, name: &#39;mongo-java-driver&#39;, version: &#39;3.12.4&#39;\r\n...\r\ntestImplementation group: &#39;de.bwaldvogel&#39;, name: &#39;mongo-java-server&#39;\r\n```\r\n\r\nAny hints?","title":"NoSuchMethodError for mongodb InsertOneResult","body":"<p>I'm doing dependency upgrades for my project, post upgrading the version, there has been issues with the tests</p>\n<p>Java Version - 1.8</p>\n<p>Error stack -</p>\n<pre><code>com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;\njava.lang.NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;\n    at org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$15(MongoTemplate.java:1555)\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:598)\n    at org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1549)\n    at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1345)\n    at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260)\n    at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1245)\n</code></pre>\n<p>build.gradle</p>\n<pre><code>...\n\nimplementation(group: 'org.springframework.data', name: 'spring-data-mongodb', version: '3.4.7') {\n        exclude group: 'org.mongodb'\n    }\n    implementation group: 'org.springframework.data', name: 'spring-data-commons', version: '2.7.7'\n    implementation group: 'org.mongodb', name: 'mongo-java-driver', version: '3.12.4'\n...\ntestImplementation group: 'de.bwaldvogel', name: 'mongo-java-server'\n</code></pre>\n<p>Any hints?</p>\n"},{"tags":["java","api","content-management-system","response","status"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":1,"creation_date":1678353737,"post_id":75682051,"comment_id":133517074,"body_markdown":"Welcome to stack overflow. In order to create proper questions please read the &quot;help&quot; section. In the meantime could you share your code which throws the error? Could you also share the stacktrace of the error?","body":"Welcome to stack overflow. In order to create proper questions please read the &quot;help&quot; section. In the meantime could you share your code which throws the error? Could you also share the stacktrace of the error?"}],"owner":{"account_id":27972349,"reputation":1,"user_id":21361844,"display_name":"Ashwini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678350588,"creation_date":1678350525,"question_id":75682051,"body_markdown":"CMs Api-\r\nhttps://aflapi.afl.uat1.testafl.com/search/v2/AFL?fullObjectResponse=true&amp;sort=publish_form%20desc&amp;terms=Patrick*&amp;type=VIDEO&amp;start=0&amp;size=20\r\n\r\nCausing 400 error for %20.\r\nTried after removing %20 from API, it is working fine but getting syntax error for %20\r\n\r\nTried API after encoding in utf-8 and windows -1252 but still issue not resolved ","title":"Getting 400 as a Response Status after processing CMS API with getRequest in Java","body":"<p>CMs Api-\n<a href=\"https://aflapi.afl.uat1.testafl.com/search/v2/AFL?fullObjectResponse=true&amp;sort=publish_form%20desc&amp;terms=Patrick*&amp;type=VIDEO&amp;start=0&amp;size=20\" rel=\"nofollow noreferrer\">https://aflapi.afl.uat1.testafl.com/search/v2/AFL?fullObjectResponse=true&amp;sort=publish_form%20desc&amp;terms=Patrick*&amp;type=VIDEO&amp;start=0&amp;size=20</a></p>\n<p>Causing 400 error for %20.\nTried after removing %20 from API, it is working fine but getting syntax error for %20</p>\n<p>Tried API after encoding in utf-8 and windows -1252 but still issue not resolved</p>\n"},{"tags":["java","algorithm","data-structures","compiler-errors"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1577890637,"post_id":59553491,"comment_id":105275531,"body_markdown":"You&#39;re simply trying to call methods that don&#39;t exist. Read the message carefully. look at the methods you&#39;re calling. Then look at the methods you&#39;ve defined.","body":"You&#39;re simply trying to call methods that don&#39;t exist. Read the message carefully. look at the methods you&#39;re calling. Then look at the methods you&#39;ve defined."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1577890684,"post_id":59553491,"comment_id":105275538,"body_markdown":"The errors mean that there are no methods named `stringToStringList` and `stringToString2dList` in your class `MainClass`. Looking at your class, there are indeed no such methods, however you do have methods named `stringToStringArray` and `stringToString2dArray`. Solution: Use the correct method names.","body":"The errors mean that there are no methods named <code>stringToStringList</code> and <code>stringToString2dList</code> in your class <code>MainClass</code>. Looking at your class, there are indeed no such methods, however you do have methods named <code>stringToStringArray</code> and <code>stringToString2dArray</code>. Solution: Use the correct method names."},{"owner":{"account_id":1463487,"reputation":16359,"user_id":1377097,"display_name":"beaker"},"score":0,"creation_date":1577901971,"post_id":59553491,"comment_id":105278295,"body_markdown":"Please change your question title to reflect the actual problem you are facing. As it stands, it does nobody any good.","body":"Please change your question title to reflect the actual problem you are facing. As it stands, it does nobody any good."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577890751,"creation_date":1577890751,"answer_id":59553520,"question_id":59553491,"body_markdown":"You really don&#39;t seem to have a `stringToStringList` method. You&#39;ll have to add one, but luckily, it should be quite easy to reuse the `stringToStringArray` method you already have:\r\n\r\n```java\r\npublic static String[] stringToStringList(String line) {\r\n    return Arrays.asList(stringToStringArray(line));\r\n}\r\n```","title":"Is there any chance to get rid of that error?(Memory Limit Exceeded)","body":"<p>You really don't seem to have a <code>stringToStringList</code> method. You'll have to add one, but luckily, it should be quite easy to reuse the <code>stringToStringArray</code> method you already have:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] stringToStringList(String line) {\n    return Arrays.asList(stringToStringArray(line));\n}\n</code></pre>\n"}],"owner":{"account_id":17429332,"reputation":9,"user_id":12633625,"display_name":"scorpion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678350544,"creation_date":1577890394,"question_id":59553491,"body_markdown":"Here is a problem:\r\nGiven a list of airline tickets represented by pairs of departure and arrival airports [from, to], reconstruct the itinerary in order. All of the tickets belong to a man who departs from JFK. Thus, the itinerary must begin with JFK.\r\n\r\nNote:\r\n\r\nIf there are multiple valid itineraries, you should return the itinerary that has the smallest lexical order when read as a single string. For example, the itinerary [&quot;JFK&quot;, &quot;LGA&quot;] has a smaller lexical order than [&quot;JFK&quot;, &quot;LGB&quot;].\r\nAll airports are represented by three capital letters (IATA code).\r\nYou may assume all tickets form at least one valid itinerary.\r\n\r\nUnfortunately i get  all the time these errors \r\n\r\n\r\n&gt; Line 63: error: cannot find symbol [in MainClass.java]\r\n&gt;           list.add(stringToStringList(cols.toString()));\r\n&gt;                    ^   symbol:   method stringToStringList(String)   location: class MainClass Line 83: error: cannot find symbol [in\r\n&gt; MainClass.java]\r\n&gt;             List&lt;List&lt;String&gt;&gt; tickets = stringToString2dList(line);\r\n&gt;                                          ^   symbol:   method stringToString2dList(String)   location: class MainClass 2 errors\r\n\r\n\r\n\r\nHere is my code:\r\n\r\n```\r\nclass Solution {\r\n\tclass Checker implements Comparator&lt;String&gt;{\r\n\t\t@Override\r\n\t\tpublic int compare(String o1, String o2) {\r\n\t\t\treturn o1.compareToIgnoreCase(o2);\r\n\t\t}\r\n\t}\r\n\tpublic List&lt;String&gt; findItinerary(List&lt;List&lt;String&gt;&gt; tickets){\r\n\t\tString begin=&quot;JFK&quot;;\r\n\t\tfinal String example=begin;\r\n\t\tList&lt;String&gt; solution = new ArrayList&lt;&gt;();\r\n\t\tlong counter=tickets.stream().filter(lister-&gt;lister.get(0).equals(example)).count();\r\n\t\tList&lt;String&gt; lexic=tickets.stream().filter(lister-&gt;lister.get(0).equals(&quot;JFK&quot;)).map(p-&gt;p.get(1)).distinct().collect(Collectors.toList());\r\n\t\tComparator&lt;String&gt; comparator =new Checker();\r\n\t\tlexic.sort(comparator);\r\n\t\tsolution.add(begin);\r\n\t\tbegin=lexic.get(0);\r\n\t\tSystem.out.println(counter);\r\n\t\tfor(int i=0;i&lt;tickets.size();i++) {\r\n\t\t\tif(tickets.get(i).get(0).equals(begin)) {\r\n\t\t\t\tif(!solution.contains(begin)) {\r\n\t\t\t\t\tsolution.add(begin);\r\n\t\t\t\t}\r\n\t\t\t\tbegin=tickets.get(i).get(1);\r\n\t\t\t\tsolution.add(begin);\r\n\t\t\t\ti=-1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn solution;\r\n\t}\r\n\r\n}\r\n\r\npublic class MainClass {\r\n    public static String[] stringToStringArray(String line) {\r\n        JsonArray jsonArray = JsonArray.readFrom(line);\r\n        String[] arr = new String[jsonArray.size()];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n          arr[i] = jsonArray.get(i).asString();\r\n        }\r\n        return arr;\r\n    }\r\n    \r\n    public static List&lt;List&lt;String&gt;&gt; stringToString2dArray(String input) {\r\n        JsonArray jsonArray = JsonArray.readFrom(input);\r\n        if (jsonArray.size() == 0) {\r\n          return new ArrayList&lt;List&lt;String&gt;&gt;();\r\n        }\r\n        List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;(jsonArray.size());\r\n        for (int i = 0; i &lt; jsonArray.size(); i++) {\r\n          JsonArray cols = jsonArray.get(i).asArray();\r\n          list.add(stringToStringList(cols.toString()));\r\n        }\r\n        return list;\r\n    }\r\n    \r\n    public static String stringListToString(List&lt;String&gt; stringList) {\r\n        StringBuilder sb = new StringBuilder(&quot;[&quot;);\r\n        for (String item : stringList) {\r\n            sb.append(item);\r\n            sb.append(&quot;,&quot;);\r\n        }\r\n    \r\n        sb.setCharAt(sb.length() - 1, &#39;]&#39;);\r\n        return sb.toString();\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n        String line;\r\n        while ((line = in.readLine()) != null) {\r\n            List&lt;List&lt;String&gt;&gt; tickets = stringToString2dList(line);\r\n            \r\n            List&lt;String&gt; ret = new Solution().findItinerary(tickets);\r\n            \r\n            String out = stringListToString(ret);\r\n            \r\n            System.out.print(out);\r\n        }\r\n    }\r\n}\r\n```","title":"Is there any chance to get rid of that error?(Memory Limit Exceeded)","body":"<p>Here is a problem:\nGiven a list of airline tickets represented by pairs of departure and arrival airports [from, to], reconstruct the itinerary in order. All of the tickets belong to a man who departs from JFK. Thus, the itinerary must begin with JFK.</p>\n\n<p>Note:</p>\n\n<p>If there are multiple valid itineraries, you should return the itinerary that has the smallest lexical order when read as a single string. For example, the itinerary [\"JFK\", \"LGA\"] has a smaller lexical order than [\"JFK\", \"LGB\"].\nAll airports are represented by three capital letters (IATA code).\nYou may assume all tickets form at least one valid itinerary.</p>\n\n<p>Unfortunately i get  all the time these errors </p>\n\n<blockquote>\n  <p>Line 63: error: cannot find symbol [in MainClass.java]\n            list.add(stringToStringList(cols.toString()));\n                     ^   symbol:   method stringToStringList(String)   location: class MainClass Line 83: error: cannot find symbol [in\n  MainClass.java]\n              List> tickets = stringToString2dList(line);\n                                           ^   symbol:   method stringToString2dList(String)   location: class MainClass 2 errors</p>\n</blockquote>\n\n<p>Here is my code:</p>\n\n<pre><code>class Solution {\n    class Checker implements Comparator&lt;String&gt;{\n        @Override\n        public int compare(String o1, String o2) {\n            return o1.compareToIgnoreCase(o2);\n        }\n    }\n    public List&lt;String&gt; findItinerary(List&lt;List&lt;String&gt;&gt; tickets){\n        String begin=\"JFK\";\n        final String example=begin;\n        List&lt;String&gt; solution = new ArrayList&lt;&gt;();\n        long counter=tickets.stream().filter(lister-&gt;lister.get(0).equals(example)).count();\n        List&lt;String&gt; lexic=tickets.stream().filter(lister-&gt;lister.get(0).equals(\"JFK\")).map(p-&gt;p.get(1)).distinct().collect(Collectors.toList());\n        Comparator&lt;String&gt; comparator =new Checker();\n        lexic.sort(comparator);\n        solution.add(begin);\n        begin=lexic.get(0);\n        System.out.println(counter);\n        for(int i=0;i&lt;tickets.size();i++) {\n            if(tickets.get(i).get(0).equals(begin)) {\n                if(!solution.contains(begin)) {\n                    solution.add(begin);\n                }\n                begin=tickets.get(i).get(1);\n                solution.add(begin);\n                i=-1;\n            }\n        }\n        return solution;\n    }\n\n}\n\npublic class MainClass {\n    public static String[] stringToStringArray(String line) {\n        JsonArray jsonArray = JsonArray.readFrom(line);\n        String[] arr = new String[jsonArray.size()];\n        for (int i = 0; i &lt; arr.length; i++) {\n          arr[i] = jsonArray.get(i).asString();\n        }\n        return arr;\n    }\n\n    public static List&lt;List&lt;String&gt;&gt; stringToString2dArray(String input) {\n        JsonArray jsonArray = JsonArray.readFrom(input);\n        if (jsonArray.size() == 0) {\n          return new ArrayList&lt;List&lt;String&gt;&gt;();\n        }\n        List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;(jsonArray.size());\n        for (int i = 0; i &lt; jsonArray.size(); i++) {\n          JsonArray cols = jsonArray.get(i).asArray();\n          list.add(stringToStringList(cols.toString()));\n        }\n        return list;\n    }\n\n    public static String stringListToString(List&lt;String&gt; stringList) {\n        StringBuilder sb = new StringBuilder(\"[\");\n        for (String item : stringList) {\n            sb.append(item);\n            sb.append(\",\");\n        }\n\n        sb.setCharAt(sb.length() - 1, ']');\n        return sb.toString();\n    }\n\n    public static void main(String[] args) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        String line;\n        while ((line = in.readLine()) != null) {\n            List&lt;List&lt;String&gt;&gt; tickets = stringToString2dList(line);\n\n            List&lt;String&gt; ret = new Solution().findItinerary(tickets);\n\n            String out = stringListToString(ret);\n\n            System.out.print(out);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gremlin","janusgraph"],"comments":[{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1679378393,"post_id":75681706,"comment_id":133706498,"body_markdown":"We faced the same issue, You need to create an index before creating any vertices.","body":"We faced the same issue, You need to create an index before creating any vertices."}],"owner":{"account_id":27954177,"reputation":11,"user_id":21347358,"display_name":"m v s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678350507,"creation_date":1678348009,"question_id":75681706,"body_markdown":"i tried writing script for creating index but then it is throeing an exception during buildCompositeIndex() function the error that is showing is &quot;org.janusgraph.diskstorage.TemporaryBackendException: Wrote claim for id block \\[1301, 1351) in PT0.318886S =\\&gt; too slow,threshold is: PT0.3S&quot;. but tried increasing the time in my graph configuration still it is giving this error not sure what is the issue ,then i tried to create index from gremlin console but the index is getting created but the status of the index is shoeing as installed ,is there any way that can solve this issue.\r\n\r\nthis is what i tried from gremlin console :\r\n```\r\nmgmt=graphname.openManagement() \r\nPropertyKey propertyName = mgmt.getPropertyKey(&quot;name&quot;); mgmt.buildIndex(&quot;myIndex&quot;,Vertex.class).addKey(mgmt.getPropertyKey(&quot;name&quot;)).indexOnly(mgmt.getVertxLabel(&quot;Column&quot;)).buildCompositeIndex(); \r\nmgmt.commit();\r\n```\r\n the status here is giving installed i know that first the status is going to installed then registered and then enabled but here in my case it is not updating when i try creating it from console.\r\n\r\nthen i wrote a script to create index :\r\n```\r\nmgmt=graphname.openManagement()\r\nPropertyKey propertyName = mgmt.getPropertyKey(&quot;name&quot;);\r\nmgmt.buildIndex(&quot;myIndex&quot;, Vertex.class).addKey(mgmt.getPropertyKey(&quot;name&quot;)).indexOnly(mgmt.getVertexLabel(&quot;Column&quot;)).buildCompositeIndex();\r\nmgmt.commit();\r\nManagementSystem.awaitGraphIndexStatus(graph, indexName).call();\r\nmgmt.updateIndex(mgmt.getGraphIndex(indexName), SchemaAction.ENABLE_INDEX).get();\r\nmgmt.commit();\r\nManagementSystem.awaitGraphIndexStatus(graph, indexName).status(SchemaStatus.REGISTERED, SchemaStatus.ENABLED).call();           \r\ngraph.close();\r\n```\r\nhere at the time of buildCompositeIndex() function is is throwing error TemporaryBackendException is there any issue with my code or beacuse of my laptop memory issue ","title":"how to create index from gremlin console in janusgraph","body":"<p>i tried writing script for creating index but then it is throeing an exception during buildCompositeIndex() function the error that is showing is &quot;org.janusgraph.diskstorage.TemporaryBackendException: Wrote claim for id block [1301, 1351) in PT0.318886S =&gt; too slow,threshold is: PT0.3S&quot;. but tried increasing the time in my graph configuration still it is giving this error not sure what is the issue ,then i tried to create index from gremlin console but the index is getting created but the status of the index is shoeing as installed ,is there any way that can solve this issue.</p>\n<p>this is what i tried from gremlin console :</p>\n<pre><code>mgmt=graphname.openManagement() \nPropertyKey propertyName = mgmt.getPropertyKey(&quot;name&quot;); mgmt.buildIndex(&quot;myIndex&quot;,Vertex.class).addKey(mgmt.getPropertyKey(&quot;name&quot;)).indexOnly(mgmt.getVertxLabel(&quot;Column&quot;)).buildCompositeIndex(); \nmgmt.commit();\n</code></pre>\n<p>the status here is giving installed i know that first the status is going to installed then registered and then enabled but here in my case it is not updating when i try creating it from console.</p>\n<p>then i wrote a script to create index :</p>\n<pre><code>mgmt=graphname.openManagement()\nPropertyKey propertyName = mgmt.getPropertyKey(&quot;name&quot;);\nmgmt.buildIndex(&quot;myIndex&quot;, Vertex.class).addKey(mgmt.getPropertyKey(&quot;name&quot;)).indexOnly(mgmt.getVertexLabel(&quot;Column&quot;)).buildCompositeIndex();\nmgmt.commit();\nManagementSystem.awaitGraphIndexStatus(graph, indexName).call();\nmgmt.updateIndex(mgmt.getGraphIndex(indexName), SchemaAction.ENABLE_INDEX).get();\nmgmt.commit();\nManagementSystem.awaitGraphIndexStatus(graph, indexName).status(SchemaStatus.REGISTERED, SchemaStatus.ENABLED).call();           \ngraph.close();\n</code></pre>\n<p>here at the time of buildCompositeIndex() function is is throwing error TemporaryBackendException is there any issue with my code or beacuse of my laptop memory issue</p>\n"},{"tags":["java","github","repository","pom.xml","artifact"],"answers":[{"tags":[],"owner":{"account_id":27969433,"reputation":3,"user_id":21359486,"display_name":"Matthew Van Kuyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678349487,"creation_date":1678349487,"answer_id":75681914,"question_id":75679090,"body_markdown":"After a good night sleep and some more testing I found the URL that was working. Also I saw I was testing with data that was inconsistent.\r\n\r\nThe URL is: \r\nhttps://raw.githubusercontent.com/[ORGANISATION]/[Repository name]/mvn-repo/\r\n\r\nThe artifact I was trying to fetch was a version 1.0-SNAPSHOT . During the build, the SNAPSHOT is translated in a timestamp making that my dependancy had to be \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n                 &lt;groupId&gt;com.fooditsolutions&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;Util&lt;/artifactId&gt;\r\n                 &lt;version&gt;1.0.-20230308.203114-2&lt;/version&gt;\r\n             &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ninstead of \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n                 &lt;groupId&gt;com.fooditsolutions&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;Util&lt;/artifactId&gt;\r\n                 &lt;version&gt;1.0.-SNAPSHOT&lt;/version&gt;\r\n             &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;","title":"POM repository infromation from GitHub","body":"<p>After a good night sleep and some more testing I found the URL that was working. Also I saw I was testing with data that was inconsistent.</p>\n<p>The URL is:\n<a href=\"https://raw.githubusercontent.com/%5BORGANISATION%5D/%5BRepository\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/[ORGANISATION]/[Repository</a> name]/mvn-repo/</p>\n<p>The artifact I was trying to fetch was a version 1.0-SNAPSHOT . During the build, the SNAPSHOT is translated in a timestamp making that my dependancy had to be</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n             &lt;groupId&gt;com.fooditsolutions&lt;/groupId&gt;\n             &lt;artifactId&gt;Util&lt;/artifactId&gt;\n             &lt;version&gt;1.0.-20230308.203114-2&lt;/version&gt;\n         &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>instead of\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n             &lt;groupId&gt;com.fooditsolutions&lt;/groupId&gt;\n             &lt;artifactId&gt;Util&lt;/artifactId&gt;\n             &lt;version&gt;1.0.-SNAPSHOT&lt;/version&gt;\n         &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":27969433,"reputation":3,"user_id":21359486,"display_name":"Matthew Van Kuyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678349487,"creation_date":1678317494,"question_id":75679090,"body_markdown":"I am trying to host my artifacts on GitHub. I am able to push them following this article:\r\nhttps://stackoverflow.com/questions/14013644/hosting-a-maven-repository-on-github\r\n\r\nBut now I want to get the artifact in another project and try to add all information in my POM file.\r\n\r\nPOM.XML\r\n\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n \r\n     &lt;groupId&gt;com.playground&lt;/groupId&gt;\r\n     &lt;artifactId&gt;db-service&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n     &lt;name&gt;db-service&lt;/name&gt;\r\n     &lt;packaging&gt;war&lt;/packaging&gt;\r\n \r\n     &lt;properties&gt;\r\n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n         &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n         &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n         &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\r\n     &lt;/properties&gt;\r\n     &lt;repositories&gt;\r\n         &lt;repository&gt;\r\n             &lt;id&gt;github&lt;/id&gt;\r\n             &lt;url&gt;https://github.com/[ORGANISATION]/[PROJECT]/raw/[BRANCH]/&lt;/url&gt;\r\n             &lt;snapshots&gt;\r\n                 &lt;enabled&gt;true&lt;/enabled&gt;\r\n                 &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n             &lt;/snapshots&gt;\r\n         &lt;/repository&gt;\r\n     &lt;/repositories&gt;\r\n \r\n     &lt;dependencies&gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n             &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n             &lt;version&gt;2.0.SP1&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n             &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n             &lt;version&gt;2.1.1&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n             &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n             &lt;version&gt;4.0.1&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n             &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n             &lt;version&gt;${junit.version}&lt;/version&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n             &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n             &lt;version&gt;${junit.version}&lt;/version&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jaybird&lt;/artifactId&gt;\r\n             &lt;version&gt;5.0.0.java8&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;com.fooditsolutions&lt;/groupId&gt;\r\n             &lt;artifactId&gt;Util&lt;/artifactId&gt;\r\n             &lt;version&gt;1.0&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n     &lt;/dependencies&gt;\r\n \r\n     &lt;build&gt;\r\n         &lt;plugins&gt;\r\n             &lt;plugin&gt;\r\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                 &lt;version&gt;3.3.2&lt;/version&gt;\r\n             &lt;/plugin&gt;\r\n         &lt;/plugins&gt;\r\n     &lt;/build&gt;\r\n &lt;/project&gt;\r\n```\r\n\r\nI have a settings.xml file with my login credentials\r\n\r\n```\r\n&lt;settings&gt;\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;github&lt;/id&gt;\r\n\t  &lt;username&gt;[USERNAME]&lt;/username&gt;\r\n      &lt;password&gt;[API_TOKEN]&lt;/password&gt;\r\n\t  &lt;configuration&gt;\r\n        &lt;httpHeaders&gt;\r\n          &lt;property&gt;\r\n            &lt;name&gt;Authorization&lt;/name&gt;\r\n            &lt;!-- Base64-encoded username:access_token --&gt;\r\n            &lt;value&gt;Basic [BASE64USERNAME:PASSWORD]==&lt;/value&gt;\r\n          &lt;/property&gt;\r\n        &lt;/httpHeaders&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nThe settings.xml is working for the push of the artifact. But when I try to download it in another project I am getting:\r\n`\\[ERROR\\] Failed to execute goal on project db-service: Could not resolve dependencies for project com.playground:db-service:war:1.0-SNAPSHOT: Could not find artifact com.fooditsolutions:Util:jar:1.0 in github (https://github.com/%5C%5C%5C%5BORGANISATION%5C%5C%5C%5D/%5C%5C%5C%5BPROJECT%5C%5C%5C%5D/raw/%5C%5C%5C%5BBRANCH%5C%5C%5C%5D/) -\\&gt; \\[Help 1\\]`\r\n\r\nI have already tried different URL&#39;s.\r\n\r\nI have also tried to set the project as public.\r\n\r\nAdding extra information in settings.xml\r\n\r\nAll these things did not help... .","title":"POM repository infromation from GitHub","body":"<p>I am trying to host my artifacts on GitHub. I am able to push them following this article:\n<a href=\"https://stackoverflow.com/questions/14013644/hosting-a-maven-repository-on-github\">Hosting a Maven repository on github</a></p>\n<p>But now I want to get the artifact in another project and try to add all information in my POM file.</p>\n<p>POM.XML</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n \n     &lt;groupId&gt;com.playground&lt;/groupId&gt;\n     &lt;artifactId&gt;db-service&lt;/artifactId&gt;\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n     &lt;name&gt;db-service&lt;/name&gt;\n     &lt;packaging&gt;war&lt;/packaging&gt;\n \n     &lt;properties&gt;\n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n         &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n         &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n         &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\n     &lt;/properties&gt;\n     &lt;repositories&gt;\n         &lt;repository&gt;\n             &lt;id&gt;github&lt;/id&gt;\n             &lt;url&gt;https://github.com/[ORGANISATION]/[PROJECT]/raw/[BRANCH]/&lt;/url&gt;\n             &lt;snapshots&gt;\n                 &lt;enabled&gt;true&lt;/enabled&gt;\n                 &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n             &lt;/snapshots&gt;\n         &lt;/repository&gt;\n     &lt;/repositories&gt;\n \n     &lt;dependencies&gt;\n         &lt;dependency&gt;\n             &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n             &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n             &lt;version&gt;2.0.SP1&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n             &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n             &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n             &lt;version&gt;2.1.1&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n             &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n             &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n             &lt;version&gt;4.0.1&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n             &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n             &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n             &lt;version&gt;${junit.version}&lt;/version&gt;\n             &lt;scope&gt;test&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n             &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n             &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n             &lt;version&gt;${junit.version}&lt;/version&gt;\n             &lt;scope&gt;test&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n             &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\n             &lt;artifactId&gt;jaybird&lt;/artifactId&gt;\n             &lt;version&gt;5.0.0.java8&lt;/version&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n             &lt;groupId&gt;com.fooditsolutions&lt;/groupId&gt;\n             &lt;artifactId&gt;Util&lt;/artifactId&gt;\n             &lt;version&gt;1.0&lt;/version&gt;\n         &lt;/dependency&gt;\n     &lt;/dependencies&gt;\n \n     &lt;build&gt;\n         &lt;plugins&gt;\n             &lt;plugin&gt;\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                 &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                 &lt;version&gt;3.3.2&lt;/version&gt;\n             &lt;/plugin&gt;\n         &lt;/plugins&gt;\n     &lt;/build&gt;\n &lt;/project&gt;\n</code></pre>\n<p>I have a settings.xml file with my login credentials</p>\n<pre><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;github&lt;/id&gt;\n      &lt;username&gt;[USERNAME]&lt;/username&gt;\n      &lt;password&gt;[API_TOKEN]&lt;/password&gt;\n      &lt;configuration&gt;\n        &lt;httpHeaders&gt;\n          &lt;property&gt;\n            &lt;name&gt;Authorization&lt;/name&gt;\n            &lt;!-- Base64-encoded username:access_token --&gt;\n            &lt;value&gt;Basic [BASE64USERNAME:PASSWORD]==&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/httpHeaders&gt;\n      &lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>The settings.xml is working for the push of the artifact. But when I try to download it in another project I am getting:\n<code>\\[ERROR\\] Failed to execute goal on project db-service: Could not resolve dependencies for project com.playground:db-service:war:1.0-SNAPSHOT: Could not find artifact com.fooditsolutions:Util:jar:1.0 in github (https://github.com/%5C%5C%5C%5BORGANISATION%5C%5C%5C%5D/%5C%5C%5C%5BPROJECT%5C%5C%5C%5D/raw/%5C%5C%5C%5BBRANCH%5C%5C%5C%5D/) -\\&gt; \\[Help 1\\]</code></p>\n<p>I have already tried different URL's.</p>\n<p>I have also tried to set the project as public.</p>\n<p>Adding extra information in settings.xml</p>\n<p>All these things did not help... .</p>\n"},{"tags":["java","security","ssl","pkix"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678349352,"creation_date":1678341991,"answer_id":75680954,"question_id":75680511,"body_markdown":"Does `abc.p12` also contain intermediate and root certs?\r\n\r\nA single source of truth, so to speak.\r\n\r\nAnd the JVM itself is configured to use it as a trust store too?\r\n\r\n```\r\n-Djavax.net.ssl.trustStore=abc.p12 -Djavax.net.ssl.trustStorePassword=changeit\r\n```\r\n\r\nI ask, because the JVM isn&#39;t recognizing the root CA, and that is why it can&#39;t build the chain.","title":"Able to call REST API protected with SSL (HTTPS) from Postman client, but not able to call from java code","body":"<p>Does <code>abc.p12</code> also contain intermediate and root certs?</p>\n<p>A single source of truth, so to speak.</p>\n<p>And the JVM itself is configured to use it as a trust store too?</p>\n<pre><code>-Djavax.net.ssl.trustStore=abc.p12 -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n<p>I ask, because the JVM isn't recognizing the root CA, and that is why it can't build the chain.</p>\n"}],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678349352,"creation_date":1678336999,"question_id":75680511,"body_markdown":"I have a 3rd party service that I need to make a REST call to from my java application, the rest api uses a client certificate-based authentication, and for using the API the 3rd party team has provided us with .cer and .key files. When I add these .cer and .key files in postman client certificates, i am able to call the API and get a response\r\n[![enter image description here][1]][1]\r\n\r\nHowever, when trying to import the client certificate in java truststore(jre/lib/security/cacert) or loading the certificate in custom ssl context and then trying to make the call from my java application using a http client gives me the following exception - \r\n```\r\n PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nI, first of all, created a pkcs12 certificate (.p12) using openssl command, using the cer and the key file. \r\n```\r\npkcs12 -export -in C:\\cert\\abc.cer -inkey C:\\certs\\abc.key -out abc.p12 -name test\r\n```\r\nthen tried to import the p12 file in my java code to create a custom restTemplate - \r\n```\r\n@Configuration\r\npublic class CustomConfiguration {\r\n\r\n\t@Bean\r\n\tpublic RestTemplate restTemplate() throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException,\r\n\t\t\tCertificateException, MalformedURLException, IOException {\r\n\r\n\t\tSSLContext sslContext = new SSLContextBuilder()\r\n\t\t\t\t.loadTrustMaterial(new URL(&quot;file:src/main/resources/abc.p12&quot;), &quot;changeit&quot;.toCharArray()).build();\r\n\t\tSSLConnectionSocketFactory sslConFactory = new SSLConnectionSocketFactory(sslContext);\r\n\r\n\t\tCloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslConFactory).build();\r\n\t\tClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n\t\tRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n\r\n\t\treturn restTemplate;\r\n\r\n\t}\r\n}\r\n```\r\n\r\nprior to this I also tried to add this p12 cert to a new java keystore (jks) file and imported it to my system&#39;s java cacert, however, i still keep getting the same PKIX path building failed error.\r\nWhat am I doing incorrectly?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Iw5Y.png","title":"Able to call REST API protected with SSL (HTTPS) from Postman client, but not able to call from java code","body":"<p>I have a 3rd party service that I need to make a REST call to from my java application, the rest api uses a client certificate-based authentication, and for using the API the 3rd party team has provided us with .cer and .key files. When I add these .cer and .key files in postman client certificates, i am able to call the API and get a response\n<a href=\"https://i.stack.imgur.com/8Iw5Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Iw5Y.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when trying to import the client certificate in java truststore(jre/lib/security/cacert) or loading the certificate in custom ssl context and then trying to make the call from my java application using a http client gives me the following exception -</p>\n<pre><code> PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I, first of all, created a pkcs12 certificate (.p12) using openssl command, using the cer and the key file.</p>\n<pre><code>pkcs12 -export -in C:\\cert\\abc.cer -inkey C:\\certs\\abc.key -out abc.p12 -name test\n</code></pre>\n<p>then tried to import the p12 file in my java code to create a custom restTemplate -</p>\n<pre><code>@Configuration\npublic class CustomConfiguration {\n\n    @Bean\n    public RestTemplate restTemplate() throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException,\n            CertificateException, MalformedURLException, IOException {\n\n        SSLContext sslContext = new SSLContextBuilder()\n                .loadTrustMaterial(new URL(&quot;file:src/main/resources/abc.p12&quot;), &quot;changeit&quot;.toCharArray()).build();\n        SSLConnectionSocketFactory sslConFactory = new SSLConnectionSocketFactory(sslContext);\n\n        CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslConFactory).build();\n        ClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\n\n        return restTemplate;\n\n    }\n}\n</code></pre>\n<p>prior to this I also tried to add this p12 cert to a new java keystore (jks) file and imported it to my system's java cacert, however, i still keep getting the same PKIX path building failed error.\nWhat am I doing incorrectly?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-activity"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678348463,"post_id":75681742,"comment_id":133515693,"body_markdown":"Show us the code that doesn&#39;t work the way you expect.","body":"Show us the code that doesn&#39;t work the way you expect."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678373206,"post_id":75681742,"comment_id":133522967,"body_markdown":"Firebase SDKs perform all network and file I/O off the main thread already. So if something is blocking rendering, that is likely some of your own code (for example some pre- or post-processing of the data). It&#39;s impossible for us to say what that is based on the code you shared though - so I recommend running in a profiler or adding logging to see where the app is spending its time.","body":"Firebase SDKs perform all network and file I/O off the main thread already. So if something is blocking rendering, that is likely some of your own code (for example some pre- or post-processing of the data). It&#39;s impossible for us to say what that is based on the code you shared though - so I recommend running in a profiler or adding logging to see where the app is spending its time."},{"owner":{"account_id":14500152,"reputation":93,"user_id":10473593,"display_name":"Kabilan"},"score":0,"creation_date":1678382396,"post_id":75681742,"comment_id":133525965,"body_markdown":"If I commented the above code it is working fine","body":"If I commented the above code it is working fine"}],"owner":{"account_id":14500152,"reputation":93,"user_id":10473593,"display_name":"Kabilan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678348937,"creation_date":1678348234,"question_id":75681742,"body_markdown":"I have app which does live streaming. I have a method to upload data to firebase every 1 minute. During this operation activity UI freezes for couple of seconds. This happens every time I call the firebase upload method. Also, it is not happening immediately, it happens after streaming for more than a hour.\r\n\r\nI tried using Thread, Executors, async, threadpool, etc. But, nothing solves the issue\r\n\r\n    public void dropDeviceInfo(String streamId, String streamState, Boolean fromForceStart, Context context, boolean isMuted, boolean isAutoFocus, boolean adaptiveBitrateEnabled, int currentResolutionTarget, StreamQuality targetStreamQuality, boolean isDropInitialBandwithAlerts, String bandwidthMessage, String alertType, boolean shouldAddConnectivityBW, boolean shouldAddDeviceDetail, boolean shouldAddAFInfo, boolean shouldAddAudioInfo, boolean shouldDropNetWorkSource) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Map&lt;String, Object&gt; deviceInfo = new HashMap&lt;String, Object&gt;();\r\n\r\n\r\n        db.collection(&quot;livestreamTechnicals&quot;).document(streamId).collection(&quot;deviceInfo&quot;).get().addOnCompleteListener(task -&gt; {\r\n            Log.e(&quot;is success&quot;, task.isSuccessful() + &quot;&quot;);\r\n            if (task.isSuccessful()) {\r\n                if (task.getResult().size() &gt; 0) {\r\n                    try {\r\n                        for (DocumentSnapshot document : task.getResult()) {\r\n                            documentId = document.getId();\r\n                        }\r\n                        DocumentReference reference = db.collection(&quot;livestreamTechnicals&quot;).document(streamId).collection(&quot;deviceInfo&quot;).document(documentId);\r\n                        Log.d(&quot;deviceInfo&quot;, &quot;DocumentSnapshot data: &quot; + task.getResult().getDocuments().get(0).getData());\r\n                        Map&lt;String, Object&gt; netSource = new HashMap&lt;&gt;();\r\n                        netSource.put(&quot;networkSource&quot;, getNetworkClass(context));\r\n                        netSource.put(&quot;timestamp&quot;, new Timestamp(new Date()));\r\n                        reference.update(&quot;connectionInfo&quot;, FieldValue.arrayUnion(netSource));\r\n\r\n                        Map&lt;String, Object&gt; bwAlerts = new HashMap&lt;&gt;();\r\n                        bwAlerts.put(&quot;message&quot;, bandwidthMessage);\r\n                        bwAlerts.put(&quot;timestamp&quot;, new Timestamp(new Date()));\r\n                        reference.update(&quot;bandwidthAlerts&quot;, FieldValue.arrayUnion(bwAlerts));\r\n\r\n                        reference.update(&quot;streamState&quot;, streamState);\r\n\r\n                        if (shouldAddAudioInfo) {\r\n                            Map&lt;String, Object&gt; audioDetails = new HashMap&lt;&gt;();\r\n                            if (isMuted)\r\n                                audioDetails.put(&quot;message&quot;, &quot;Audio is now turned off&quot;);\r\n                            else\r\n                                audioDetails.put(&quot;message&quot;, &quot;Audio is now turned on&quot;);\r\n                            audioDetails.put(&quot;timestamp&quot;, new Timestamp(new Date()));\r\n                            reference.update(&quot;streamAudioInfo&quot;, FieldValue.arrayUnion(audioDetails));\r\n                        }\r\n\r\n                        if (shouldAddAFInfo) {\r\n                            Map&lt;String, Object&gt; autoFocusDetails = new HashMap&lt;&gt;();\r\n                            if (isAutoFocus)\r\n                                autoFocusDetails.put(&quot;message&quot;, &quot;Autofocus - ON&quot;);\r\n                            else\r\n                                autoFocusDetails.put(&quot;message&quot;, &quot;Autofocus - OFF&quot;);\r\n\r\n                            autoFocusDetails.put(&quot;timestamp&quot;, new Timestamp(new Date()));\r\n                            reference.update(&quot;focusInfo&quot;, FieldValue.arrayUnion(autoFocusDetails));\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }","title":"Android UI freezes when doing firebase firestore read and write?","body":"<p>I have app which does live streaming. I have a method to upload data to firebase every 1 minute. During this operation activity UI freezes for couple of seconds. This happens every time I call the firebase upload method. Also, it is not happening immediately, it happens after streaming for more than a hour.</p>\n<p>I tried using Thread, Executors, async, threadpool, etc. But, nothing solves the issue</p>\n<pre><code>public void dropDeviceInfo(String streamId, String streamState, Boolean fromForceStart, Context context, boolean isMuted, boolean isAutoFocus, boolean adaptiveBitrateEnabled, int currentResolutionTarget, StreamQuality targetStreamQuality, boolean isDropInitialBandwithAlerts, String bandwidthMessage, String alertType, boolean shouldAddConnectivityBW, boolean shouldAddDeviceDetail, boolean shouldAddAFInfo, boolean shouldAddAudioInfo, boolean shouldDropNetWorkSource) {\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n    Map&lt;String, Object&gt; deviceInfo = new HashMap&lt;String, Object&gt;();\n\n\n    db.collection(&quot;livestreamTechnicals&quot;).document(streamId).collection(&quot;deviceInfo&quot;).get().addOnCompleteListener(task -&gt; {\n        Log.e(&quot;is success&quot;, task.isSuccessful() + &quot;&quot;);\n        if (task.isSuccessful()) {\n            if (task.getResult().size() &gt; 0) {\n                try {\n                    for (DocumentSnapshot document : task.getResult()) {\n                        documentId = document.getId();\n                    }\n                    DocumentReference reference = db.collection(&quot;livestreamTechnicals&quot;).document(streamId).collection(&quot;deviceInfo&quot;).document(documentId);\n                    Log.d(&quot;deviceInfo&quot;, &quot;DocumentSnapshot data: &quot; + task.getResult().getDocuments().get(0).getData());\n                    Map&lt;String, Object&gt; netSource = new HashMap&lt;&gt;();\n                    netSource.put(&quot;networkSource&quot;, getNetworkClass(context));\n                    netSource.put(&quot;timestamp&quot;, new Timestamp(new Date()));\n                    reference.update(&quot;connectionInfo&quot;, FieldValue.arrayUnion(netSource));\n\n                    Map&lt;String, Object&gt; bwAlerts = new HashMap&lt;&gt;();\n                    bwAlerts.put(&quot;message&quot;, bandwidthMessage);\n                    bwAlerts.put(&quot;timestamp&quot;, new Timestamp(new Date()));\n                    reference.update(&quot;bandwidthAlerts&quot;, FieldValue.arrayUnion(bwAlerts));\n\n                    reference.update(&quot;streamState&quot;, streamState);\n\n                    if (shouldAddAudioInfo) {\n                        Map&lt;String, Object&gt; audioDetails = new HashMap&lt;&gt;();\n                        if (isMuted)\n                            audioDetails.put(&quot;message&quot;, &quot;Audio is now turned off&quot;);\n                        else\n                            audioDetails.put(&quot;message&quot;, &quot;Audio is now turned on&quot;);\n                        audioDetails.put(&quot;timestamp&quot;, new Timestamp(new Date()));\n                        reference.update(&quot;streamAudioInfo&quot;, FieldValue.arrayUnion(audioDetails));\n                    }\n\n                    if (shouldAddAFInfo) {\n                        Map&lt;String, Object&gt; autoFocusDetails = new HashMap&lt;&gt;();\n                        if (isAutoFocus)\n                            autoFocusDetails.put(&quot;message&quot;, &quot;Autofocus - ON&quot;);\n                        else\n                            autoFocusDetails.put(&quot;message&quot;, &quot;Autofocus - OFF&quot;);\n\n                        autoFocusDetails.put(&quot;timestamp&quot;, new Timestamp(new Date()));\n                        reference.update(&quot;focusInfo&quot;, FieldValue.arrayUnion(autoFocusDetails));\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n</code></pre>\n"},{"tags":["java","for-loop","math","integer","numbers"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1660826588,"post_id":73403244,"comment_id":129628161,"body_markdown":"`array[i]` is a `char`. Ex: the char code for `&#39;1&#39;` is 49. You can use [`Character.getNumericValue(array[i])`](https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getNumericValue(char)).","body":"<code>array[i]</code> is a <code>char</code>. Ex: the char code for <code>&#39;1&#39;</code> is 49. You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getNumericValue(char)\" rel=\"nofollow noreferrer\"><code>Character.getNumericValue(array[i])</code></a>."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1660826628,"post_id":73403244,"comment_id":129628181,"body_markdown":"When you use a debugger, what is the *first* line that doesn&#39;t do what you wanted/expected?","body":"When you use a debugger, what is the <i>first</i> line that doesn&#39;t do what you wanted/expected?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1660826707,"post_id":73403244,"comment_id":129628216,"body_markdown":"What part of this code is raising anything to the 3rd power?","body":"What part of this code is raising anything to the 3rd power?"},{"owner":{"account_id":24907835,"reputation":21,"user_id":18777689,"display_name":"Rodix"},"score":0,"creation_date":1660826722,"post_id":73403244,"comment_id":129628222,"body_markdown":"Sorry, I dont know how to use the debugger... @ScottHunter","body":"Sorry, I dont know how to use the debugger... @ScottHunter"},{"owner":{"account_id":24907835,"reputation":21,"user_id":18777689,"display_name":"Rodix"},"score":0,"creation_date":1660826919,"post_id":73403244,"comment_id":129628307,"body_markdown":"@ScottHunter Before the for loop I raise the first index of the number/array to the 3rd power and in the for loop, I raise the last 2 indices of the number/array to the 3rd power and everything is added together.","body":"@ScottHunter Before the for loop I raise the first index of the number/array to the 3rd power and in the for loop, I raise the last 2 indices of the number/array to the 3rd power and everything is added together."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660828098,"post_id":73403244,"comment_id":129628826,"body_markdown":"@ScottHunter The explanation given by OP is misleading. [Armstrong number -  is a number that is the sum of its own digits each raised to the power of the number of digits](https://en.wikipedia.org/wiki/Narcissistic_number) - Digits should be raised to the power that is equal to the **number of digits**, which is `3` only in the given example.","body":"@ScottHunter The explanation given by OP is misleading. <a href=\"https://en.wikipedia.org/wiki/Narcissistic_number\" rel=\"nofollow noreferrer\">Armstrong number -  is a number that is the sum of its own digits each raised to the power of the number of digits</a> - Digits should be raised to the power that is equal to the <b>number of digits</b>, which is <code>3</code> only in the given example."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660930192,"creation_date":1660826899,"answer_id":73403350,"question_id":73403244,"body_markdown":"You aren&#39;t summing the digits, but the numeric values of the characters representing them. You can convert such a character to its numeric value by subtracting the character `&#39;0&#39;`:\r\n\r\n```java\r\nint result = 0;\r\nfor(int i = 0; i &lt; array.length; i++) {\r\n    result = result + (int) Math.pow(array[i] - &#39;0&#39;, indices);\r\n}\r\n```\r\n\r\nHaving said that, it&#39;s arguably (probably?) more elegant to read the input as an actual `int` number and iterate its digits by taking the reminder of `10` on each iteration. The number of digits itself can be calculated using a base-10 log.\r\n\r\n```java\r\nint temp = input;\r\nint result = 0;\r\nint indices = (int) Math.log10(input) + 1;\r\nwhile (temp != 0) { \r\n    int digit = temp % 10;\r\n    result += (int) Math.pow(digit, indices);\r\n    temp /= 10;\r\n}\r\n```","title":"Armstrong Number Checker in Java","body":"<p>You aren't summing the digits, but the numeric values of the characters representing them. You can convert such a character to its numeric value by subtracting the character <code>'0'</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int result = 0;\nfor(int i = 0; i &lt; array.length; i++) {\n    result = result + (int) Math.pow(array[i] - '0', indices);\n}\n</code></pre>\n<p>Having said that, it's arguably (probably?) more elegant to read the input as an actual <code>int</code> number and iterate its digits by taking the reminder of <code>10</code> on each iteration. The number of digits itself can be calculated using a base-10 log.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int temp = input;\nint result = 0;\nint indices = (int) Math.log10(input) + 1;\nwhile (temp != 0) { \n    int digit = temp % 10;\n    result += (int) Math.pow(digit, indices);\n    temp /= 10;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660827254,"creation_date":1660826903,"answer_id":73403353,"question_id":73403244,"body_markdown":"There is a small logical mistake in your code, You&#39;re not converting the character to an integer instead you&#39;re doing something like \r\n```\r\nMath.pow(&#39;1&#39;, 3) -&gt; Math.pow(49, 3) // what you&#39;re doing\r\n\r\nMath.pow(1, 3) // what should be done\r\n```\r\nYou should first convert the character to the string using any method below\r\n```\r\nresult = (int) Math.pow(array[0],indices);\r\n\r\nfor(int i = 1;i&lt;array.length;i++) {\r\n     result = result + (int) Math.pow(array[i],indices);\r\n}\r\n```\r\n\r\n**For converting char to integer**\r\n```\r\nint x = Character.getNumericValue(array[i]);\r\n```\r\n**or**\r\n```\r\nint x = Integer.parseInt(String.valueOf(array[i])); \r\n```\r\n**or**\r\n```\r\nint x = array[i] - &#39;0&#39;; \r\n```\r\n\r\n## Alternatively ##\r\nYou can also check for Armstrong&#39;s number without any conversion, using the logic below\r\n```\r\npublic class Armstrong {\r\n    public static void main(String[] args) {\r\n\r\n        int number = 153, num, rem, res = 0;\r\n        num = number;\r\n\r\n        while (num != 0)\r\n        {\r\n            rem = num % 10;\r\n            res += Math.pow(rem, 3);\r\n            num /= 10;\r\n        }\r\n\r\n        if(res == num)\r\n            System.out.println(&quot;YES&quot;);\r\n        else\r\n            System.out.println(&quot;NO&quot;);\r\n    }\r\n}\r\n```","title":"Armstrong Number Checker in Java","body":"<p>There is a small logical mistake in your code, You're not converting the character to an integer instead you're doing something like</p>\n<pre><code>Math.pow('1', 3) -&gt; Math.pow(49, 3) // what you're doing\n\nMath.pow(1, 3) // what should be done\n</code></pre>\n<p>You should first convert the character to the string using any method below</p>\n<pre><code>result = (int) Math.pow(array[0],indices);\n\nfor(int i = 1;i&lt;array.length;i++) {\n     result = result + (int) Math.pow(array[i],indices);\n}\n</code></pre>\n<p><strong>For converting char to integer</strong></p>\n<pre><code>int x = Character.getNumericValue(array[i]);\n</code></pre>\n<p><strong>or</strong></p>\n<pre><code>int x = Integer.parseInt(String.valueOf(array[i])); \n</code></pre>\n<p><strong>or</strong></p>\n<pre><code>int x = array[i] - '0'; \n</code></pre>\n<h2>Alternatively</h2>\n<p>You can also check for Armstrong's number without any conversion, using the logic below</p>\n<pre><code>public class Armstrong {\n    public static void main(String[] args) {\n\n        int number = 153, num, rem, res = 0;\n        num = number;\n\n        while (num != 0)\n        {\n            rem = num % 10;\n            res += Math.pow(rem, 3);\n            num /= 10;\n        }\n\n        if(res == num)\n            System.out.println(&quot;YES&quot;);\n        else\n            System.out.println(&quot;NO&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660928641,"creation_date":1660833514,"answer_id":73404966,"question_id":73403244,"body_markdown":"For any `int &gt;= 0` you can do it like this.\r\n\r\nPrint all the Armstrong numbers less than 10_000.\r\n```\r\nfor (int i = 0; i &lt; 10_000; i++) {\r\n\tif (isArmstrong(i)) {\r\n\t\tSystem.out.println(i);\r\n\t}\r\n}\r\n```\r\nprints\r\n```\r\n0\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n153\r\n370\r\n371\r\n407\r\n1634\r\n8208\r\n9474\r\n```\r\nThe key is to use `Math.log10` to compute the number of digits in the candidate number.  This must be amended by adding 1.  So `Math.log10(923)` returns `2.965201701025912`.  Casting to an `int` and adding `1` would be `3 digits`.\r\nThe number of digits is then the power used for computation.\r\n\r\nThen it&#39;s just a matter of summing up the digits raised to that power.  The method short circuits and returns `false` if the sum exceeds the number before all the digits are processed.\r\n```\r\n\t\r\npublic static boolean isArmstrong(int v) {\r\n\r\n\tif (v &lt; 0) {\r\n\t\tthrow new IllegalArgumentException(&quot;Argument must &gt;= 0&quot;);\r\n\t}\r\n\t\r\n\tint temp = v;\r\n\tint power = (int)Math.log10(temp)+1;\r\n\tint sum = 0;\r\n\t\r\n\twhile (temp &gt; 0) {\r\n\t\tsum += Math.pow(temp % 10, power);\r\n\t\t\r\n        if (sum &gt; v) {\r\n           return false;\r\n        }\r\n\r\n        temp/= 10;\r\n\t}\r\n\t\r\n\treturn v == sum;\r\n}","title":"Armstrong Number Checker in Java","body":"<p>For any <code>int &gt;= 0</code> you can do it like this.</p>\n<p>Print all the Armstrong numbers less than 10_000.</p>\n<pre><code>for (int i = 0; i &lt; 10_000; i++) {\n    if (isArmstrong(i)) {\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n153\n370\n371\n407\n1634\n8208\n9474\n</code></pre>\n<p>The key is to use <code>Math.log10</code> to compute the number of digits in the candidate number.  This must be amended by adding 1.  So <code>Math.log10(923)</code> returns <code>2.965201701025912</code>.  Casting to an <code>int</code> and adding <code>1</code> would be <code>3 digits</code>.\nThe number of digits is then the power used for computation.</p>\n<p>Then it's just a matter of summing up the digits raised to that power.  The method short circuits and returns <code>false</code> if the sum exceeds the number before all the digits are processed.</p>\n<pre><code>    \npublic static boolean isArmstrong(int v) {\n\n    if (v &lt; 0) {\n        throw new IllegalArgumentException(&quot;Argument must &gt;= 0&quot;);\n    }\n    \n    int temp = v;\n    int power = (int)Math.log10(temp)+1;\n    int sum = 0;\n    \n    while (temp &gt; 0) {\n        sum += Math.pow(temp % 10, power);\n        \n        if (sum &gt; v) {\n           return false;\n        }\n\n        temp/= 10;\n    }\n    \n    return v == sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27822335,"reputation":1,"user_id":21242441,"display_name":"Hirpara Anadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678348836,"creation_date":1678041307,"answer_id":75644473,"question_id":73403244,"body_markdown":"You can also check for Armstrong&#39;s number without any conversion, using the logic below for any number!!\r\n    \r\n    \r\n    package mypack;\r\n    \r\n    import java.util.Scanner;\r\n    import java.lang.Math;\r\n    \r\n    public class Armstrong {\r\n        public static void main(String[] args) {\r\n            System.out.print(&quot;Enter a number to check whether it is an Armstrong number or not:&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            int num = sc.nextInt();\r\n            int count;\r\n            int temp=num;\r\n    \r\n            for(count=0;temp!=0;count++)\r\n            {\r\n                temp=temp/10;\r\n            }\r\n            int result = 0;\r\n      for ( int mynum=num;mynum!=0;mynum=mynum/10)\r\n      {\r\n            int rem=mynum%10;\r\n             result+=Math.pow(rem,count);\r\n    \r\n      }\r\n            if (result==num) {\r\n                System.out.println(&quot;its Armstrong number!!!&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;its not Armstrong num&quot;);}\r\n    \r\n        }\r\n    }","title":"Armstrong Number Checker in Java","body":"<p>You can also check for Armstrong's number without any conversion, using the logic below for any number!!</p>\n<pre><code>package mypack;\n\nimport java.util.Scanner;\nimport java.lang.Math;\n\npublic class Armstrong {\n    public static void main(String[] args) {\n        System.out.print(&quot;Enter a number to check whether it is an Armstrong number or not:&quot;);\n        Scanner sc = new Scanner(System.in);\n        int num = sc.nextInt();\n        int count;\n        int temp=num;\n\n        for(count=0;temp!=0;count++)\n        {\n            temp=temp/10;\n        }\n        int result = 0;\n  for ( int mynum=num;mynum!=0;mynum=mynum/10)\n  {\n        int rem=mynum%10;\n         result+=Math.pow(rem,count);\n\n  }\n        if (result==num) {\n            System.out.println(&quot;its Armstrong number!!!&quot;);\n        }\n        else {\n            System.out.println(&quot;its not Armstrong num&quot;);}\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24907835,"reputation":21,"user_id":18777689,"display_name":"Rodix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73403350,"answer_count":4,"score":1,"last_activity_date":1678348836,"creation_date":1660826350,"question_id":73403244,"body_markdown":"I am still somewhat of a beginner to Java, but I need help with my code. I wanted to write an Armstrong Number checker.\r\n\r\n&gt; An Armstrong number is one whose sum of digits raised to the power three equals the number itself. 371, for example, is an Armstrong number because 3^3 + 7^3 + 1^3 = 371.\r\n\r\nIf I understand this concept correctly, then my code should work fine, but I don&#39;t know where I made mistakes. I would appreciate if you could help correct my mistakes, but still kind of stick with my solution to the problem, unless my try is completely wrong or most of it needs to change.\r\n\r\nHere is the code: \r\n\r\n```java\r\npublic class ArmstrongChecker {\r\n\t\r\n\t boolean confirm = false;\r\n\t Integer input;\r\n\t String converter;\r\n\t int indices;\r\n\t int result = 1;\r\n\t\r\n\t void ArmstrongCheck(Integer input) {\r\n\t\tthis.input = input;\r\n\t\tconverter = input.toString();\r\n\t\tchar[] array = converter.toCharArray();\r\n\t\tindices = array.length;\r\n\t\tresult = (int) Math.pow(array[0], indices);\r\n\t\t\r\n\t\tfor (int i = 1; i &lt; array.length; i++) {\r\n\t\t\tresult = result + (int) Math.pow(array[i], indices);\r\n\t\t}\r\n\t\tif (result == input) {\r\n\t\t\tconfirm = true;\r\n\t\t\tSystem.out.println(confirm);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(confirm);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nFor my tries I used &#39;153&#39; as an input. Thank you for your help!","title":"Armstrong Number Checker in Java","body":"<p>I am still somewhat of a beginner to Java, but I need help with my code. I wanted to write an Armstrong Number checker.</p>\n<blockquote>\n<p>An Armstrong number is one whose sum of digits raised to the power three equals the number itself. 371, for example, is an Armstrong number because 3^3 + 7^3 + 1^3 = 371.</p>\n</blockquote>\n<p>If I understand this concept correctly, then my code should work fine, but I don't know where I made mistakes. I would appreciate if you could help correct my mistakes, but still kind of stick with my solution to the problem, unless my try is completely wrong or most of it needs to change.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArmstrongChecker {\n    \n     boolean confirm = false;\n     Integer input;\n     String converter;\n     int indices;\n     int result = 1;\n    \n     void ArmstrongCheck(Integer input) {\n        this.input = input;\n        converter = input.toString();\n        char[] array = converter.toCharArray();\n        indices = array.length;\n        result = (int) Math.pow(array[0], indices);\n        \n        for (int i = 1; i &lt; array.length; i++) {\n            result = result + (int) Math.pow(array[i], indices);\n        }\n        if (result == input) {\n            confirm = true;\n            System.out.println(confirm);\n        } else {\n            System.out.println(confirm);\n        }\n    }\n}\n</code></pre>\n<p>For my tries I used '153' as an input. Thank you for your help!</p>\n"},{"tags":["java","class","urlclassloader"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1678354266,"post_id":75681833,"comment_id":133517233,"body_markdown":"Loading one class might require also loading other classes that it depends on.","body":"Loading one class might require also loading other classes that it depends on."},{"owner":{"account_id":27946039,"reputation":11,"user_id":21341012,"display_name":"pbuort"},"score":0,"creation_date":1678359135,"post_id":75681833,"comment_id":133518631,"body_markdown":"Is there a way that this can be done automatically, or do i have to do that manually from inside the main method?","body":"Is there a way that this can be done automatically, or do i have to do that manually from inside the main method?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1678359764,"post_id":75681833,"comment_id":133518797,"body_markdown":"It’s automatic, but all of the dependencies need to be available to the class loader (or its parents).","body":"It’s automatic, but all of the dependencies need to be available to the class loader (or its parents)."},{"owner":{"account_id":27946039,"reputation":11,"user_id":21341012,"display_name":"pbuort"},"score":0,"creation_date":1679900466,"post_id":75681833,"comment_id":133797060,"body_markdown":"I checked the project and found that the model_with_HSQLDB class uses the Modelable_1_8 interface and that the problem is probably with that.  \n\nIt&#39;s also pretty old code (Java 1.8) that i was trying to run on Java 11 or newer.  I&#39;ve also seen a lot of posts that from Java 1.8 to the later versions quite a few breaking changes occurred.","body":"I checked the project and found that the model_with_HSQLDB class uses the Modelable_1_8 interface and that the problem is probably with that.    It&#39;s also pretty old code (Java 1.8) that i was trying to run on Java 11 or newer.  I&#39;ve also seen a lot of posts that from Java 1.8 to the later versions quite a few breaking changes occurred."}],"owner":{"account_id":27946039,"reputation":11,"user_id":21341012,"display_name":"pbuort"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678348835,"creation_date":1678348835,"question_id":75681833,"body_markdown":"The code block below is inside a function that accesses a jar file.  I have already checked to see if the path to the file is correct.  When printing the classnames from the jar file to the console, i see all the correct classnames.  &quot;model_with_HSQLDB_1_8.HSQLDB_Local_Model_1_8&quot; is among one of those class names.  When i try to load that class using the code below, i get an error.  \r\n\r\n```\r\n\r\nClass myClass = getClassFromJarFile(jarfile, &quot;model_with_HSQLDB_1_8.HSQLDB_Local_Model_1_8&quot;);\r\n\r\n\r\npublic static Class getClassFromJarFile(File jarfile, String className){\r\n\r\n    try (URLClassLoader cl = URLClassLoader.newInstance(\r\n                 new URL[] { new URL(&quot;jar:file:&quot; + jarFile + &quot;!/&quot;) })) { \r\n\r\n        return cl.loadClass(className);\r\n    }\r\n}\r\n````\r\n\r\nThe cl.loadClass() throws the Error.  \r\n\r\nI get the following error message:\r\n\r\n    \r\n```\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: interfaces/Modelable_1_8...\r\n    Caused by: java.lang.ClassNotFoundException: interfaces.Modelable_1_8\r\n\r\n```\r\nthe weird thing is that the error is` &quot;java.lang.ClassNotFoundException: interfaces.Modelable_1_8&quot;`\r\ninstead of something like `&quot;java.lang.ClassNotFoundException: model_with_HSQLDB_1_8.HSQLDB_Local_Model_1_8&quot;`\r\n\r\n\r\n\r\nAny help on this topic would be great! ","title":"Getting NoClassDefFoundError even tho the system can see the class ist is meant to load","body":"<p>The code block below is inside a function that accesses a jar file.  I have already checked to see if the path to the file is correct.  When printing the classnames from the jar file to the console, i see all the correct classnames.  &quot;model_with_HSQLDB_1_8.HSQLDB_Local_Model_1_8&quot; is among one of those class names.  When i try to load that class using the code below, i get an error.</p>\n<pre><code>\nClass myClass = getClassFromJarFile(jarfile, &quot;model_with_HSQLDB_1_8.HSQLDB_Local_Model_1_8&quot;);\n\n\npublic static Class getClassFromJarFile(File jarfile, String className){\n\n    try (URLClassLoader cl = URLClassLoader.newInstance(\n                 new URL[] { new URL(&quot;jar:file:&quot; + jarFile + &quot;!/&quot;) })) { \n\n        return cl.loadClass(className);\n    }\n}\n</code></pre>\n<p>The cl.loadClass() throws the Error.</p>\n<p>I get the following error message:</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: interfaces/Modelable_1_8...\n    Caused by: java.lang.ClassNotFoundException: interfaces.Modelable_1_8\n\n</code></pre>\n<p>the weird thing is that the error is<code> &quot;java.lang.ClassNotFoundException: interfaces.Modelable_1_8&quot;</code>\ninstead of something like <code>&quot;java.lang.ClassNotFoundException: model_with_HSQLDB_1_8.HSQLDB_Local_Model_1_8&quot;</code></p>\n<p>Any help on this topic would be great!</p>\n"},{"tags":["java","spring","spring-boot","keycloak","nimbus-jose-jwt"],"answers":[{"tags":[],"owner":{"account_id":229445,"reputation":22393,"user_id":492410,"accept_rate":57,"display_name":"ddewaele"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678346920,"creation_date":1678346920,"answer_id":75681560,"question_id":75650468,"body_markdown":"That particular Keycloak version has known issues with duplicate json keys in the JWT token (https://issues.redhat.com/browse/KEYCLOAK-14309).\r\n\r\nDuplicate keys in JSON are technically possible (although definitely not recommenced), as such you are at the mercy of the JWT decoder.\r\n\r\nUnfortunately, the Nimbus JWT decoder is strict about this as it will reject the JSON \r\n\r\n```\r\nInvalid JSON: Unexpected duplicate key:sub at position 328.\r\n```\r\n\r\nYour only options are :\r\n\r\n- Upgrade to a new version of keycloak that doesn&#39;t have this bug\r\n- Override the standard JwtDecoder provided by Spring Security Oauth2 \r\n\r\n\r\n```\r\n        @Bean\r\n        public JwtDecoder jwtDecoder() {\r\n            // create and return your own jwtDecoder bean here.\r\n            return jwtDecoder;\r\n        }\r\n```\r\n\r\n\r\nIf you go for the custom jwtDecoder route you will need to register your custom decoder in your spring security context\r\n\r\n\r\n```\r\n@Bean\r\nSecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n\thttp\r\n\t\t.authorizeExchange(exchanges -&gt; exchanges\r\n\t\t\t.anyExchange().authenticated()\r\n\t\t)\r\n\t\t.oauth2ResourceServer(oauth2 -&gt; oauth2\r\n\t\t\t.jwt(jwt -&gt; jwt\r\n\t\t\t\t.decoder(myCustomDecoder())\r\n\t\t\t)\r\n\t\t);\r\n    return http.build();\r\n}\r\n```","title":"Keycloak integration with Spring boot error : Payload of JWS object is not a valid JSON object","body":"<p>That particular Keycloak version has known issues with duplicate json keys in the JWT token (<a href=\"https://issues.redhat.com/browse/KEYCLOAK-14309\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/KEYCLOAK-14309</a>).</p>\n<p>Duplicate keys in JSON are technically possible (although definitely not recommenced), as such you are at the mercy of the JWT decoder.</p>\n<p>Unfortunately, the Nimbus JWT decoder is strict about this as it will reject the JSON</p>\n<pre><code>Invalid JSON: Unexpected duplicate key:sub at position 328.\n</code></pre>\n<p>Your only options are :</p>\n<ul>\n<li>Upgrade to a new version of keycloak that doesn't have this bug</li>\n<li>Override the standard JwtDecoder provided by Spring Security Oauth2</li>\n</ul>\n<pre><code>        @Bean\n        public JwtDecoder jwtDecoder() {\n            // create and return your own jwtDecoder bean here.\n            return jwtDecoder;\n        }\n</code></pre>\n<p>If you go for the custom jwtDecoder route you will need to register your custom decoder in your spring security context</p>\n<pre><code>@Bean\nSecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n    http\n        .authorizeExchange(exchanges -&gt; exchanges\n            .anyExchange().authenticated()\n        )\n        .oauth2ResourceServer(oauth2 -&gt; oauth2\n            .jwt(jwt -&gt; jwt\n                .decoder(myCustomDecoder())\n            )\n        );\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":14244737,"reputation":13,"user_id":10290158,"display_name":"Murali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75681560,"answer_count":1,"score":1,"last_activity_date":1678346920,"creation_date":1678103100,"question_id":75650468,"body_markdown":"Our project running on Spring boot 3.0.2 has issue integrating with keycloak 10.0.2 (3 yrs old version) for a particular client.\r\n\r\nBelow here are couple of dependencies:\r\n\r\npom : \r\n```\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\napplication.properties :\r\n\r\n```\r\nspring.security.oauth2.client.registration.keycloak.client-id=client1\r\nspring.security.oauth2.client.registration.keycloak.client-secret=xxxxx-xxxxx\r\nspring.security.oauth2.client.registration.keycloak.client-name=keycloak\r\nspring.security.oauth2.client.registration.keycloak.scope=profile,openid,email\r\nspring.security.oauth2.client.registration.keycloak.redirect-uri=https://localhost:9097/login/oauth2/code/keycloak\r\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/auth/realms/testrealm2\r\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/auth/realms/testrealm\r\n```\r\n\r\n\r\nSpring security config :\r\n\r\n  \r\n```\r\n@Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.csrf()\r\n        .disable()\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(getStaticResources(coralEnabled).toArray(new String[0]))\r\n        .permitAll()\r\n        .anyRequest()\r\n        .authenticated()\r\n        .and()\r\n        .oauth2Login()\r\n        .successHandler(kwAuthenticationSuccessHandler)\r\n        .failureHandler(kwAuthenticationFailureHandler)\r\n        .failureUrl(&quot;/login?error&quot;)\r\n        .loginPage(&quot;/login&quot;)\r\n        .permitAll()\r\n        .and()\r\n        .logout()\r\n        .invalidateHttpSession(true)\r\n        .logoutUrl(&quot;/logout&quot;)\r\n        .logoutSuccessUrl(&quot;/login&quot;)\r\n        .addLogoutHandler(\r\n            new HeaderWriterLogoutHandler(\r\n                new ClearSiteDataHeaderWriter(\r\n                    ClearSiteDataHeaderWriter.Directive.CACHE,\r\n                    ClearSiteDataHeaderWriter.Directive.COOKIES,\r\n                    ClearSiteDataHeaderWriter.Directive.STORAGE)));\r\n    return http.build();\r\n  }\r\n\r\n@Bean\r\n  WebClient webClient(\r\n      ClientRegistrationRepository clientRegistrationRepository,\r\n      OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n    ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2 =\r\n        new ServletOAuth2AuthorizedClientExchangeFilterFunction(\r\n            clientRegistrationRepository, authorizedClientRepository);\r\n    oauth2.setDefaultOAuth2AuthorizedClient(true);\r\n\r\n    return WebClient.builder().apply(oauth2.oauth2Configuration()).build();\r\n  }\r\n\r\n  @Bean\r\n  public AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt;\r\n      authorizationRequestRepository() {\r\n    return new HttpSessionOAuth2AuthorizationRequestRepository();\r\n  }\r\n\r\n  @Bean\r\n  public OAuth2AccessTokenResponseClient&lt;OAuth2AuthorizationCodeGrantRequest&gt;\r\n      accessTokenResponseClient() {\r\n    DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient =\r\n        new DefaultAuthorizationCodeTokenResponseClient();\r\n    return accessTokenResponseClient;\r\n  }\r\n```\r\n\r\n\r\nKeycloack version : 10.0.2\r\n\r\nSpring boot web application is UI/thymeleaf based.\r\n\r\nWhen the user clicks on the login button from UI, it fails at nimbus framework : invalid json when trying to parse.\r\n\r\n\r\nError : \r\n\r\n    com.nimbusds.jwt.proc.BadJWTException: Payload of JWS object is not a valid JSON object\r\n    \tat com.nimbusds.jwt.proc.DefaultJWTProcessor.extractJWTClaimsSet(DefaultJWTProcessor.java:262) ~[nimbus-jose-jwt-9.24.4.jar!/:9.24.4]\r\n    \tat com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:352) ~[nimbus-jose-jwt-9.24.4.jar!/:9.24.4]\r\n    \tat com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.24.4.jar!/:9.24.4]\r\n    \tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:154) ~[spring-security-oauth2-jose-6.0.1.jar!/:6.0.1]\r\n    \tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:137) ~[spring-security-oauth2-jose-6.0.1.jar!/:6.0.1]\r\n    \tat org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.getJwt(OidcAuthorizationCodeAuthenticationProvider.java:245) ~[spring-security-oauth2-client-6.0.1.jar!/:6.0.1]\r\n    \tat org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.createOidcToken(OidcAuthorizationCodeAuthenticationProvider.java:236) ~[spring-security-oauth2-client-6.0.1.jar!/:6.0.1]\r\n    \tat org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.authenticate(OidcAuthorizationCodeAuthenticationProvider.java:154) ~[spring-security-oauth2-client-6.0.1.jar!/:6.0.1]\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.0.1.jar!/:6.0.1]\r\n    \tat org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.0.1.jar!/:6.0.1]\r\n    \tat io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.3.jar!/:1.10.3]\r\n    \tat org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:52) ~[spring-security-core-6.0.1.jar!/:6.0.1] \r\n\r\nOther oauth2 integrations like Azure AD, Google work fine, but with keycloak, notice some issue with parsing tokens.\r\n\r\nAfter some debugging, we notice when the tokens are merged, there are two attributes with same name &quot;sub&quot;, and hence invalid json.\r\n\r\n\r\n```\r\n{\r\n   &quot;exp&quot;:1675788223,\r\n   &quot;iat&quot;:1675787923,\r\n   &quot;auth_time&quot;:1675787563,\r\n   &quot;jti&quot;:&quot;c07d2db2-xxxx&quot;,\r\n   &quot;iss&quot;:&quot;https://login.idm.xxx.com/auth/realms/appid-xxx&quot;,\r\n   &quot;aud&quot;:&quot;xxxx-dev&quot;,\r\n   &quot;sub&quot;:&quot;f:5ce9dxxxx:user@user.com&quot;,\r\n   &quot;typ&quot;:&quot;ID&quot;,\r\n   &quot;azp&quot;:&quot;xxxx-dev&quot;,\r\n   &quot;nonce&quot;:&quot;dH4EL-2zxxxx&quot;,\r\n   &quot;session_state&quot;:&quot;fc0a7xxxx&quot;,\r\n   &quot;acr&quot;:&quot;0&quot;,\r\n   &quot;sub&quot;:&quot;user@user.com&quot;,\r\n   &quot;groups&quot;:[\r\n      &quot;FGM-AuthUser&quot;,\r\n      &quot;FGM-admin&quot;\r\n  }\r\n```\r\n\r\nDoes someone have any idea ?\r\n\r\n\r\nIntegrating keycloak 10.0.2 (spring oauth2 config) with spring boot 3.0.2, and expect the authentication to work seamlessly, but fails during nimbus token parsing.","title":"Keycloak integration with Spring boot error : Payload of JWS object is not a valid JSON object","body":"<p>Our project running on Spring boot 3.0.2 has issue integrating with keycloak 10.0.2 (3 yrs old version) for a particular client.</p>\n<p>Below here are couple of dependencies:</p>\n<p>pom :</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>application.properties :</p>\n<pre><code>spring.security.oauth2.client.registration.keycloak.client-id=client1\nspring.security.oauth2.client.registration.keycloak.client-secret=xxxxx-xxxxx\nspring.security.oauth2.client.registration.keycloak.client-name=keycloak\nspring.security.oauth2.client.registration.keycloak.scope=profile,openid,email\nspring.security.oauth2.client.registration.keycloak.redirect-uri=https://localhost:9097/login/oauth2/code/keycloak\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/auth/realms/testrealm2\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/auth/realms/testrealm\n</code></pre>\n<p>Spring security config :</p>\n<pre><code>@Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf()\n        .disable()\n        .authorizeHttpRequests()\n        .requestMatchers(getStaticResources(coralEnabled).toArray(new String[0]))\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .oauth2Login()\n        .successHandler(kwAuthenticationSuccessHandler)\n        .failureHandler(kwAuthenticationFailureHandler)\n        .failureUrl(&quot;/login?error&quot;)\n        .loginPage(&quot;/login&quot;)\n        .permitAll()\n        .and()\n        .logout()\n        .invalidateHttpSession(true)\n        .logoutUrl(&quot;/logout&quot;)\n        .logoutSuccessUrl(&quot;/login&quot;)\n        .addLogoutHandler(\n            new HeaderWriterLogoutHandler(\n                new ClearSiteDataHeaderWriter(\n                    ClearSiteDataHeaderWriter.Directive.CACHE,\n                    ClearSiteDataHeaderWriter.Directive.COOKIES,\n                    ClearSiteDataHeaderWriter.Directive.STORAGE)));\n    return http.build();\n  }\n\n@Bean\n  WebClient webClient(\n      ClientRegistrationRepository clientRegistrationRepository,\n      OAuth2AuthorizedClientRepository authorizedClientRepository) {\n    ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2 =\n        new ServletOAuth2AuthorizedClientExchangeFilterFunction(\n            clientRegistrationRepository, authorizedClientRepository);\n    oauth2.setDefaultOAuth2AuthorizedClient(true);\n\n    return WebClient.builder().apply(oauth2.oauth2Configuration()).build();\n  }\n\n  @Bean\n  public AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt;\n      authorizationRequestRepository() {\n    return new HttpSessionOAuth2AuthorizationRequestRepository();\n  }\n\n  @Bean\n  public OAuth2AccessTokenResponseClient&lt;OAuth2AuthorizationCodeGrantRequest&gt;\n      accessTokenResponseClient() {\n    DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient =\n        new DefaultAuthorizationCodeTokenResponseClient();\n    return accessTokenResponseClient;\n  }\n</code></pre>\n<p>Keycloack version : 10.0.2</p>\n<p>Spring boot web application is UI/thymeleaf based.</p>\n<p>When the user clicks on the login button from UI, it fails at nimbus framework : invalid json when trying to parse.</p>\n<p>Error :</p>\n<pre><code>com.nimbusds.jwt.proc.BadJWTException: Payload of JWS object is not a valid JSON object\n    at com.nimbusds.jwt.proc.DefaultJWTProcessor.extractJWTClaimsSet(DefaultJWTProcessor.java:262) ~[nimbus-jose-jwt-9.24.4.jar!/:9.24.4]\n    at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:352) ~[nimbus-jose-jwt-9.24.4.jar!/:9.24.4]\n    at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.24.4.jar!/:9.24.4]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:154) ~[spring-security-oauth2-jose-6.0.1.jar!/:6.0.1]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:137) ~[spring-security-oauth2-jose-6.0.1.jar!/:6.0.1]\n    at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.getJwt(OidcAuthorizationCodeAuthenticationProvider.java:245) ~[spring-security-oauth2-client-6.0.1.jar!/:6.0.1]\n    at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.createOidcToken(OidcAuthorizationCodeAuthenticationProvider.java:236) ~[spring-security-oauth2-client-6.0.1.jar!/:6.0.1]\n    at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.authenticate(OidcAuthorizationCodeAuthenticationProvider.java:154) ~[spring-security-oauth2-client-6.0.1.jar!/:6.0.1]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.0.1.jar!/:6.0.1]\n    at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.0.1.jar!/:6.0.1]\n    at io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.3.jar!/:1.10.3]\n    at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:52) ~[spring-security-core-6.0.1.jar!/:6.0.1] \n</code></pre>\n<p>Other oauth2 integrations like Azure AD, Google work fine, but with keycloak, notice some issue with parsing tokens.</p>\n<p>After some debugging, we notice when the tokens are merged, there are two attributes with same name &quot;sub&quot;, and hence invalid json.</p>\n<pre><code>{\n   &quot;exp&quot;:1675788223,\n   &quot;iat&quot;:1675787923,\n   &quot;auth_time&quot;:1675787563,\n   &quot;jti&quot;:&quot;c07d2db2-xxxx&quot;,\n   &quot;iss&quot;:&quot;https://login.idm.xxx.com/auth/realms/appid-xxx&quot;,\n   &quot;aud&quot;:&quot;xxxx-dev&quot;,\n   &quot;sub&quot;:&quot;f:5ce9dxxxx:user@user.com&quot;,\n   &quot;typ&quot;:&quot;ID&quot;,\n   &quot;azp&quot;:&quot;xxxx-dev&quot;,\n   &quot;nonce&quot;:&quot;dH4EL-2zxxxx&quot;,\n   &quot;session_state&quot;:&quot;fc0a7xxxx&quot;,\n   &quot;acr&quot;:&quot;0&quot;,\n   &quot;sub&quot;:&quot;user@user.com&quot;,\n   &quot;groups&quot;:[\n      &quot;FGM-AuthUser&quot;,\n      &quot;FGM-admin&quot;\n  }\n</code></pre>\n<p>Does someone have any idea ?</p>\n<p>Integrating keycloak 10.0.2 (spring oauth2 config) with spring boot 3.0.2, and expect the authentication to work seamlessly, but fails during nimbus token parsing.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677009238,"post_id":75525257,"comment_id":133251627,"body_markdown":"`Set&lt;Box&lt;SOMETHING&gt;&gt;`","body":"<code>Set&lt;Box&lt;SOMETHING&gt;&gt;</code>"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1677009259,"post_id":75525257,"comment_id":133251636,"body_markdown":"Your IDE warned you that `Set&lt;Box&gt;` uses a raw-type, so why is &quot;mySet&quot; still defined as `Set&lt;Box&gt;`? Also, why do you use `Set&lt;T&gt;` when `Box` had the raw-type, not `Set`?","body":"Your IDE warned you that <code>Set&lt;Box&gt;</code> uses a raw-type, so why is &quot;mySet&quot; still defined as <code>Set&lt;Box&gt;</code>? Also, why do you use <code>Set&lt;T&gt;</code> when <code>Box</code> had the raw-type, not <code>Set</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17463111,"reputation":27,"user_id":12898759,"display_name":"Lge24"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677009869,"creation_date":1677009869,"answer_id":75525385,"question_id":75525257,"body_markdown":"Thanks for the answers, I actually mixed up two generic parameters, the proper method definition is now \r\n```\r\n    public &lt;T, U extends Box&lt;T&gt;&gt; void openAllBoxes(Set&lt;U&gt; boxes) {\r\n```","title":"How to call a generic method ? [java]","body":"<p>Thanks for the answers, I actually mixed up two generic parameters, the proper method definition is now</p>\n<pre><code>    public &lt;T, U extends Box&lt;T&gt;&gt; void openAllBoxes(Set&lt;U&gt; boxes) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678346374,"creation_date":1677105067,"answer_id":75538797,"question_id":75525257,"body_markdown":"If you indeed don&#39;t care enough about the element type of your Boxes in order to open them all, you can avoid both the raw type warning and giving that element type a name with the signature\r\n\r\n```java\r\npublic void openAllBoxes(Set&lt;? extends Box&lt;?&gt;&gt; boxes) {\r\n// ...\r\n}\r\n```\r\n\r\nThis signature is at least as general as the OP&#39;s answer.","title":"How to call a generic method ? [java]","body":"<p>If you indeed don't care enough about the element type of your Boxes in order to open them all, you can avoid both the raw type warning and giving that element type a name with the signature</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void openAllBoxes(Set&lt;? extends Box&lt;?&gt;&gt; boxes) {\n// ...\n}\n</code></pre>\n<p>This signature is at least as general as the OP's answer.</p>\n"}],"owner":{"account_id":17463111,"reputation":27,"user_id":12898759,"display_name":"Lge24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1678346374,"creation_date":1677009098,"question_id":75525257,"body_markdown":"I have the following interface and implementation : \r\n\r\n```\r\npublic interface Box&lt;T&gt; extends Serializable {\r\n\r\n    String getLabel();\r\n    T getContent();\r\n}\r\n```\r\n\r\n```\r\npublic class BananaBox implements Box&lt;Banana&gt; {\r\n\r\n    private String label;\r\n    private Banana content;\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public Banana getContent() {\r\n        return content;\r\n    }\r\n}\r\n```\r\n\r\nThen I&#39;m using these classes in a method : \r\n```\r\npublic void openAllBoxes(Set&lt;Box&gt; boxes) {\r\n}\r\n\r\npublic class do() {\r\n    this.openAllBoxes(mySet)\r\n}\r\n\r\n```\r\nMy IDE intelliJ was highlighting `Set&lt;Box&gt;` because of raw use of parameterized class &#39;Box&#39;, so I made it generic : \r\n```\r\npublic &lt;T extends Box&lt;T&gt;&gt; void openAllBoxes(Set&lt;T&gt; boxes) {\r\n}\r\n\r\n```\r\nHowever now my method `openAllBoxes(mySet)` is invalid, because it is expecting a `Set&lt;T&gt;` instead of a `Set&lt;Box&gt;`. Exact error is `reason: no instance(s) of type variable(s) T exist so that Banana conforms to Box&lt;T&gt;`, \r\nI don&#39;t understand what should be done and why. \r\n\r\nThx!","title":"How to call a generic method ? [java]","body":"<p>I have the following interface and implementation :</p>\n<pre><code>public interface Box&lt;T&gt; extends Serializable {\n\n    String getLabel();\n    T getContent();\n}\n</code></pre>\n<pre><code>public class BananaBox implements Box&lt;Banana&gt; {\n\n    private String label;\n    private Banana content;\n\n    public String getLabel() {\n        return label;\n    }\n\n    public Banana getContent() {\n        return content;\n    }\n}\n</code></pre>\n<p>Then I'm using these classes in a method :</p>\n<pre><code>public void openAllBoxes(Set&lt;Box&gt; boxes) {\n}\n\npublic class do() {\n    this.openAllBoxes(mySet)\n}\n\n</code></pre>\n<p>My IDE intelliJ was highlighting <code>Set&lt;Box&gt;</code> because of raw use of parameterized class 'Box', so I made it generic :</p>\n<pre><code>public &lt;T extends Box&lt;T&gt;&gt; void openAllBoxes(Set&lt;T&gt; boxes) {\n}\n\n</code></pre>\n<p>However now my method <code>openAllBoxes(mySet)</code> is invalid, because it is expecting a <code>Set&lt;T&gt;</code> instead of a <code>Set&lt;Box&gt;</code>. Exact error is <code>reason: no instance(s) of type variable(s) T exist so that Banana conforms to Box&lt;T&gt;</code>,\nI don't understand what should be done and why.</p>\n<p>Thx!</p>\n"},{"tags":["java","objective-c","react-native"],"owner":{"account_id":8632386,"reputation":597,"user_id":6463625,"display_name":"Nald Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678346258,"creation_date":1678346258,"question_id":75681471,"body_markdown":"I have one function on native side after initialized, called occasionally returning some value without calling it first from JS side\r\n\r\nin JS side how to subscribe and get values to that native function from time to time whenever it called in native side?","title":"How to subscribe native function in React-Native?","body":"<p>I have one function on native side after initialized, called occasionally returning some value without calling it first from JS side</p>\n<p>in JS side how to subscribe and get values to that native function from time to time whenever it called in native side?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":17176700,"reputation":1,"user_id":12432740,"display_name":"SnakerBone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678345929,"creation_date":1678345662,"question_id":75681411,"body_markdown":"I recently got into Minecraft modding with forge, I&#39;m quite experienced with Java as I have learnt it years ago, but I just can&#39;t seem to figure out what&#39;s going on here.\r\n\r\nSo basically, I&#39;ve made a custom block using GLSL shaders for its texture. However, when its spawned in by world generation the block ends up going invisible. \r\n\r\nHere&#39;s my relevant code:\r\n\r\n```lang-java\r\n/* === BlockEntity class === */\r\n\r\npublic class WaterColourBlockEntity extends BlockEntity implements IAnimatable {\r\n    private final AnimationFactory FACTORY = GeckoLibUtil.createFactory(this);\r\n\r\n    public WaterColourBlockEntity(BlockPos pos, BlockState state) {\r\n\r\n        super(SnakerBoneContentRegistry.WATERCOLOUR_BE.get(), pos, state);\r\n\r\n    }\r\n\r\n    private &lt;E extends IAnimatable&gt; PlayState predicate(AnimationEvent&lt;E&gt; entity) {\r\n\r\n        return PlayState.CONTINUE;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void registerControllers(AnimationData data) {\r\n\r\n        data.addAnimationController(new AnimationController&lt;&gt;(this, &quot;controller&quot;, 0, this::predicate));\r\n\r\n    }\r\n\r\n    @Override\r\n    public AnimationFactory getFactory() {\r\n\r\n        return FACTORY;\r\n\r\n    }\r\n}\r\n```\r\n\r\n```lang-java\r\n/* === BlockEntityRenderer class === */\r\n\r\npublic class WaterColourBlockRender extends GeoBlockRenderer&lt;WaterColourBlockEntity&gt; {\r\n\r\n    public WaterColourBlockRender(BlockEntityRendererProvider.Context rendererProvider) {\r\n\r\n        super(rendererProvider, new WaterColourBlockModel());\r\n\r\n    }\r\n\r\n    @Override\r\n    public RenderType getRenderType(WaterColourBlockEntity animatable, float partialTick, PoseStack poseStack, @Nullable MultiBufferSource bufferSource, @Nullable VertexConsumer buffer, int packedLight, ResourceLocation texture) {\r\n\r\n        return SnakerBoneShaders.BWATERCOLOUR;\r\n\r\n    }\r\n}\r\n```\r\n\r\n```lang-java\r\n/* === Block class === */\r\n\r\npublic class WaterColourBlock extends BaseEntityBlock {\r\n\r\n    public WaterColourBlock() {\r\n\r\n        super(Properties.of(METAL).requiresCorrectToolForDrops().strength(5));\r\n\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public BlockEntity newBlockEntity(BlockPos pos, BlockState state) {\r\n\r\n        return SnakerBoneContentRegistry.WATERCOLOUR_BE.get().create(pos, state);\r\n\r\n    }\r\n\r\n    @Override\r\n    public RenderShape getRenderShape(BlockState state) {\r\n\r\n        return RenderShape.ENTITYBLOCK_ANIMATED;\r\n\r\n    }\r\n}\r\n```\r\n\r\n```lang-java\r\n/* === Biome class === */\r\n\r\npublic class ShaderPlains {\r\n    public static Biome getBiome() {\r\n\r\n        MobSpawnSettings.Builder SpawnBuilder = new MobSpawnSettings.Builder();\r\n        BiomeGenerationSettings.Builder BiomeBuilder = new BiomeGenerationSettings.Builder();\r\n\r\n        addMobSpawn(SpawnBuilder, MobCategory.MONSTER, SnakerBoneEntityRegistry.COSMO, 15, 1, 3);\r\n        addMobSpawn(SpawnBuilder, MobCategory.MONSTER, SnakerBoneEntityRegistry.FLARE, 15, 1, 3);\r\n\r\n        return generateBiome(Biome.Precipitation.NONE, 0.8F, 0, hexToInt(&quot;18ADBD&quot;), hexToInt(&quot;58AAB2&quot;), hexToInt(&quot;064C53&quot;), SpawnBuilder, BiomeBuilder, AmbientMoodSettings.LEGACY_CAVE_SETTINGS, null);\r\n\r\n    }\r\n\r\n    protected static int calculateSkyColor(float colour) {\r\n\r\n        float hsv = colour / 3;\r\n\r\n        hsv = Mth.clamp(hsv, -1, 1);\r\n\r\n        return Mth.hsvToRgb(0.62222224F - hsv * 0.05F, 0.5F + hsv * 0.1F, 1);\r\n\r\n    }\r\n\r\n    private static Biome generateBiome(Biome.Precipitation precipitation, float temperature, float downfall, int fogColour, int waterColour, int waterFogColour, MobSpawnSettings.Builder spawnBuilder, BiomeGenerationSettings.Builder biomeBuilder, AmbientMoodSettings mood, @Nullable Music music) {\r\n\r\n        return new Biome.BiomeBuilder().precipitation(precipitation).temperature(temperature).downfall(downfall).specialEffects(new BiomeSpecialEffects.Builder().waterColor(waterColour).waterFogColor(waterFogColour).fogColor(fogColour).skyColor(calculateSkyColor(temperature)).ambientMoodSound(mood).backgroundMusic(music).build()).mobSpawnSettings(spawnBuilder.build()).generationSettings(biomeBuilder.build()).build();\r\n\r\n    }\r\n\r\n    private static &lt;M extends Mob&gt; void addMobSpawn(MobSpawnSettings.Builder builder, MobCategory category, EntityType&lt;M&gt; type, int weight, int min, int max) {\r\n\r\n        builder.addSpawn(category, new MobSpawnSettings.SpawnerData(type, weight, min, max));\r\n\r\n        BiomeDefaultFeatures.commonSpawns(builder);\r\n\r\n    }\r\n\r\n    private static &lt;M extends Mob&gt; void addMobSpawn(MobSpawnSettings.Builder builder, MobCategory category, RegistryObject&lt;EntityType&lt;M&gt;&gt; type, int weight, int min, int max) {\r\n\r\n        builder.addSpawn(category, new MobSpawnSettings.SpawnerData(type.get(), weight, min, max));\r\n\r\n        BiomeDefaultFeatures.commonSpawns(builder);\r\n\r\n    }\r\n\r\n    private static void addDefaultFeatures(BiomeGenerationSettings.Builder builder) {\r\n\r\n        BiomeDefaultFeatures.addDefaultOres(builder);\r\n        BiomeDefaultFeatures.addDefaultSoftDisks(builder);\r\n        BiomeDefaultFeatures.addExtraEmeralds(builder);\r\n        BiomeDefaultFeatures.addInfestedStone(builder);\r\n        BiomeDefaultFeatures.addDefaultCarversAndLakes(builder);\r\n        BiomeDefaultFeatures.addDefaultCrystalFormations(builder);\r\n        BiomeDefaultFeatures.addDefaultUndergroundVariety(builder);\r\n        BiomeDefaultFeatures.addDefaultSprings(builder);\r\n\r\n    }\r\n\r\n    public static class RuleData {\r\n        private static final SurfaceRules.RuleSource SWIRL_BLOCK = makeStateRule(SnakerBoneContentRegistry.SWIRL_BLOCK);\r\n        private static final SurfaceRules.RuleSource STARS_BLOCK = makeStateRule(SnakerBoneContentRegistry.STARS_BLOCK);\r\n        private static final SurfaceRules.RuleSource WATERCOLOUR_BLOCK = makeStateRule(SnakerBoneContentRegistry.WATERCOLOUR_BLOCK);\r\n\r\n        public static SurfaceRules.RuleSource getRules() {\r\n\r\n            SurfaceRules.ConditionSource WaterBlockCheck = SurfaceRules.waterBlockCheck(-1, 0);\r\n\r\n            SurfaceRules.RuleSource surface = SurfaceRules.sequence(SurfaceRules.ifTrue(WaterBlockCheck, STARS_BLOCK), SWIRL_BLOCK);\r\n\r\n            return SurfaceRules.sequence(SurfaceRules.ifTrue(SurfaceRules.isBiome(SnakerBoneWorldGenRegistry.SHADER_PLAINS), WATERCOLOUR_BLOCK), SurfaceRules.ifTrue(SurfaceRules.ON_FLOOR, surface));\r\n\r\n        }\r\n\r\n        private static SurfaceRules.RuleSource makeStateRule(RegistryObject&lt;Block&gt; block) {\r\n\r\n            return SurfaceRules.state(block.get().defaultBlockState());\r\n\r\n        }\r\n\r\n        private static SurfaceRules.RuleSource makeStateRule(Block block) {\r\n\r\n            return SurfaceRules.state(block.defaultBlockState());\r\n\r\n        }\r\n    }\r\n\r\n    public static class BiomeRegion extends Region {\r\n        public BiomeRegion(ResourceLocation name, int weight) {\r\n\r\n            super(name, RegionType.OVERWORLD, weight);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void addBiomes(Registry&lt;Biome&gt; registry, Consumer&lt;Pair&lt;Climate.ParameterPoint, ResourceKey&lt;Biome&gt;&gt;&gt; mapper) {\r\n\r\n            this.addModifiedVanillaOverworldBiomes(mapper, builder -&gt; builder.replaceBiome(PLAINS, SnakerBoneWorldGenRegistry.SHADER_PLAINS));\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve spent the last few days trying to fix this but unfortunately have not been successful. I have tried creating a ticker for the block entity and calling `Level#removeBlock`, `Level#markAndNotifyBlock`, `Level#sendBlockUpdated`, `Level#sendBlockUpdated`, `Level#setBlocksDirty`. I have also tried calling `BlockEntity#getUpdatePacket` and returning\r\n`ClientboundBlockEntityDataPacket.create();`. \r\n\r\n[Here](https://i.postimg.cc/52cy2kP7/2023-03-09-17-51-43.png) is the expected result and [Here](https://i.postimg.cc/pLHmW6rW/2023-03-09-12-40-42.png) is the result I get.\r\n\r\n[Here is the full project repository if you need more info.](https://github.com/SnakerBone/SnakerBoneMod/tree/master/src/main/java/snaker/snakerbone)\r\n\r\nThe version of Minecraft is 1.19.2.","title":"Block/BlockEntity invisible when spawned in by world generation, however is visible when placed by player","body":"<p>I recently got into Minecraft modding with forge, I'm quite experienced with Java as I have learnt it years ago, but I just can't seem to figure out what's going on here.</p>\n<p>So basically, I've made a custom block using GLSL shaders for its texture. However, when its spawned in by world generation the block ends up going invisible.</p>\n<p>Here's my relevant code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* === BlockEntity class === */\n\npublic class WaterColourBlockEntity extends BlockEntity implements IAnimatable {\n    private final AnimationFactory FACTORY = GeckoLibUtil.createFactory(this);\n\n    public WaterColourBlockEntity(BlockPos pos, BlockState state) {\n\n        super(SnakerBoneContentRegistry.WATERCOLOUR_BE.get(), pos, state);\n\n    }\n\n    private &lt;E extends IAnimatable&gt; PlayState predicate(AnimationEvent&lt;E&gt; entity) {\n\n        return PlayState.CONTINUE;\n\n    }\n\n    @Override\n    public void registerControllers(AnimationData data) {\n\n        data.addAnimationController(new AnimationController&lt;&gt;(this, &quot;controller&quot;, 0, this::predicate));\n\n    }\n\n    @Override\n    public AnimationFactory getFactory() {\n\n        return FACTORY;\n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/* === BlockEntityRenderer class === */\n\npublic class WaterColourBlockRender extends GeoBlockRenderer&lt;WaterColourBlockEntity&gt; {\n\n    public WaterColourBlockRender(BlockEntityRendererProvider.Context rendererProvider) {\n\n        super(rendererProvider, new WaterColourBlockModel());\n\n    }\n\n    @Override\n    public RenderType getRenderType(WaterColourBlockEntity animatable, float partialTick, PoseStack poseStack, @Nullable MultiBufferSource bufferSource, @Nullable VertexConsumer buffer, int packedLight, ResourceLocation texture) {\n\n        return SnakerBoneShaders.BWATERCOLOUR;\n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/* === Block class === */\n\npublic class WaterColourBlock extends BaseEntityBlock {\n\n    public WaterColourBlock() {\n\n        super(Properties.of(METAL).requiresCorrectToolForDrops().strength(5));\n\n    }\n\n    @Nullable\n    @Override\n    public BlockEntity newBlockEntity(BlockPos pos, BlockState state) {\n\n        return SnakerBoneContentRegistry.WATERCOLOUR_BE.get().create(pos, state);\n\n    }\n\n    @Override\n    public RenderShape getRenderShape(BlockState state) {\n\n        return RenderShape.ENTITYBLOCK_ANIMATED;\n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/* === Biome class === */\n\npublic class ShaderPlains {\n    public static Biome getBiome() {\n\n        MobSpawnSettings.Builder SpawnBuilder = new MobSpawnSettings.Builder();\n        BiomeGenerationSettings.Builder BiomeBuilder = new BiomeGenerationSettings.Builder();\n\n        addMobSpawn(SpawnBuilder, MobCategory.MONSTER, SnakerBoneEntityRegistry.COSMO, 15, 1, 3);\n        addMobSpawn(SpawnBuilder, MobCategory.MONSTER, SnakerBoneEntityRegistry.FLARE, 15, 1, 3);\n\n        return generateBiome(Biome.Precipitation.NONE, 0.8F, 0, hexToInt(&quot;18ADBD&quot;), hexToInt(&quot;58AAB2&quot;), hexToInt(&quot;064C53&quot;), SpawnBuilder, BiomeBuilder, AmbientMoodSettings.LEGACY_CAVE_SETTINGS, null);\n\n    }\n\n    protected static int calculateSkyColor(float colour) {\n\n        float hsv = colour / 3;\n\n        hsv = Mth.clamp(hsv, -1, 1);\n\n        return Mth.hsvToRgb(0.62222224F - hsv * 0.05F, 0.5F + hsv * 0.1F, 1);\n\n    }\n\n    private static Biome generateBiome(Biome.Precipitation precipitation, float temperature, float downfall, int fogColour, int waterColour, int waterFogColour, MobSpawnSettings.Builder spawnBuilder, BiomeGenerationSettings.Builder biomeBuilder, AmbientMoodSettings mood, @Nullable Music music) {\n\n        return new Biome.BiomeBuilder().precipitation(precipitation).temperature(temperature).downfall(downfall).specialEffects(new BiomeSpecialEffects.Builder().waterColor(waterColour).waterFogColor(waterFogColour).fogColor(fogColour).skyColor(calculateSkyColor(temperature)).ambientMoodSound(mood).backgroundMusic(music).build()).mobSpawnSettings(spawnBuilder.build()).generationSettings(biomeBuilder.build()).build();\n\n    }\n\n    private static &lt;M extends Mob&gt; void addMobSpawn(MobSpawnSettings.Builder builder, MobCategory category, EntityType&lt;M&gt; type, int weight, int min, int max) {\n\n        builder.addSpawn(category, new MobSpawnSettings.SpawnerData(type, weight, min, max));\n\n        BiomeDefaultFeatures.commonSpawns(builder);\n\n    }\n\n    private static &lt;M extends Mob&gt; void addMobSpawn(MobSpawnSettings.Builder builder, MobCategory category, RegistryObject&lt;EntityType&lt;M&gt;&gt; type, int weight, int min, int max) {\n\n        builder.addSpawn(category, new MobSpawnSettings.SpawnerData(type.get(), weight, min, max));\n\n        BiomeDefaultFeatures.commonSpawns(builder);\n\n    }\n\n    private static void addDefaultFeatures(BiomeGenerationSettings.Builder builder) {\n\n        BiomeDefaultFeatures.addDefaultOres(builder);\n        BiomeDefaultFeatures.addDefaultSoftDisks(builder);\n        BiomeDefaultFeatures.addExtraEmeralds(builder);\n        BiomeDefaultFeatures.addInfestedStone(builder);\n        BiomeDefaultFeatures.addDefaultCarversAndLakes(builder);\n        BiomeDefaultFeatures.addDefaultCrystalFormations(builder);\n        BiomeDefaultFeatures.addDefaultUndergroundVariety(builder);\n        BiomeDefaultFeatures.addDefaultSprings(builder);\n\n    }\n\n    public static class RuleData {\n        private static final SurfaceRules.RuleSource SWIRL_BLOCK = makeStateRule(SnakerBoneContentRegistry.SWIRL_BLOCK);\n        private static final SurfaceRules.RuleSource STARS_BLOCK = makeStateRule(SnakerBoneContentRegistry.STARS_BLOCK);\n        private static final SurfaceRules.RuleSource WATERCOLOUR_BLOCK = makeStateRule(SnakerBoneContentRegistry.WATERCOLOUR_BLOCK);\n\n        public static SurfaceRules.RuleSource getRules() {\n\n            SurfaceRules.ConditionSource WaterBlockCheck = SurfaceRules.waterBlockCheck(-1, 0);\n\n            SurfaceRules.RuleSource surface = SurfaceRules.sequence(SurfaceRules.ifTrue(WaterBlockCheck, STARS_BLOCK), SWIRL_BLOCK);\n\n            return SurfaceRules.sequence(SurfaceRules.ifTrue(SurfaceRules.isBiome(SnakerBoneWorldGenRegistry.SHADER_PLAINS), WATERCOLOUR_BLOCK), SurfaceRules.ifTrue(SurfaceRules.ON_FLOOR, surface));\n\n        }\n\n        private static SurfaceRules.RuleSource makeStateRule(RegistryObject&lt;Block&gt; block) {\n\n            return SurfaceRules.state(block.get().defaultBlockState());\n\n        }\n\n        private static SurfaceRules.RuleSource makeStateRule(Block block) {\n\n            return SurfaceRules.state(block.defaultBlockState());\n\n        }\n    }\n\n    public static class BiomeRegion extends Region {\n        public BiomeRegion(ResourceLocation name, int weight) {\n\n            super(name, RegionType.OVERWORLD, weight);\n\n        }\n\n        @Override\n        public void addBiomes(Registry&lt;Biome&gt; registry, Consumer&lt;Pair&lt;Climate.ParameterPoint, ResourceKey&lt;Biome&gt;&gt;&gt; mapper) {\n\n            this.addModifiedVanillaOverworldBiomes(mapper, builder -&gt; builder.replaceBiome(PLAINS, SnakerBoneWorldGenRegistry.SHADER_PLAINS));\n\n        }\n    }\n}\n</code></pre>\n<p>I've spent the last few days trying to fix this but unfortunately have not been successful. I have tried creating a ticker for the block entity and calling <code>Level#removeBlock</code>, <code>Level#markAndNotifyBlock</code>, <code>Level#sendBlockUpdated</code>, <code>Level#sendBlockUpdated</code>, <code>Level#setBlocksDirty</code>. I have also tried calling <code>BlockEntity#getUpdatePacket</code> and returning\n<code>ClientboundBlockEntityDataPacket.create();</code>.</p>\n<p><a href=\"https://i.postimg.cc/52cy2kP7/2023-03-09-17-51-43.png\" rel=\"nofollow noreferrer\">Here</a> is the expected result and <a href=\"https://i.postimg.cc/pLHmW6rW/2023-03-09-12-40-42.png\" rel=\"nofollow noreferrer\">Here</a> is the result I get.</p>\n<p><a href=\"https://github.com/SnakerBone/SnakerBoneMod/tree/master/src/main/java/snaker/snakerbone\" rel=\"nofollow noreferrer\">Here is the full project repository if you need more info.</a></p>\n<p>The version of Minecraft is 1.19.2.</p>\n"},{"tags":["java","android","firebase","kotlin","retrofit"],"comments":[{"owner":{"account_id":23984265,"reputation":25,"user_id":17971278,"display_name":"kathir"},"score":0,"creation_date":1678768670,"post_id":75681401,"comment_id":133593227,"body_markdown":"still facing that issue, anybody else please help me.","body":"still facing that issue, anybody else please help me."}],"owner":{"account_id":23984265,"reputation":25,"user_id":17971278,"display_name":"kathir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678345589,"creation_date":1678345589,"question_id":75681401,"body_markdown":"I am facing the issue of a 403 error for Android 12 version, but it is working on all other mobile versions, including 12. The issue was only on one mobile, and I don&#39;t know why this issue came up. All mobiles are working fine, including versions 12 and 13. I have attached the log file; please resolve my issue.\r\n\r\n        --------- beginning of main\r\n    03-09 23:18:07.444 12351 12351 I .water.modifie: Using CollectorTypeCC GC.\r\n    03-09 23:18:07.464 12351 12351 E .water.modifie: Not starting debugger since process cannot load the jdwp agent.\r\n    03-09 23:18:07.469 12351 12351 D ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\r\n    03-09 23:18:07.607 12351 12351 D CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10242; state: ENABLED\r\n    03-09 23:18:07.727 12351 12351 D nativeloader: Configuring classloader-namespace for other apk /data/app/~~egdAvsw7to9x6bYqw8iwiw==/com.hul.water.modified-dR1EpobkHg3SiaNiAt9_OA==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~egdAvsw7to9x6bYqw8iwiw==/com.hul.water.modified-dR1EpobkHg3SiaNiAt9_OA==/lib/arm64:/data/app/~~egdAvsw7to9x6bYqw8iwiw==/com.hul.water.modified-dR1EpobkHg3SiaNiAt9_OA==/base.apk!/lib/arm64-v8a, permitted_path=/data:/mnt/expand:/data/user/0/com.hul.water.modified\r\n    03-09 23:18:07.792 12351 12351 V GraphicsEnvironment: ANGLE Developer option for &#39;com.hul.water.modified&#39; set to: &#39;default&#39;\r\n    03-09 23:18:07.792 12351 12351 V GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\r\n    03-09 23:18:07.795 12351 12351 D NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: false\r\n    03-09 23:18:07.800 12351 12351 D NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: false\r\n    03-09 23:18:07.839 12351 12351 D FirebasePerformance: CollectionEnabled metadata key unknown or value not found in manifest.\r\n    03-09 23:18:07.839 12351 12351 D FirebasePerformance: Retrieving master flag for Firebase Performance SDK enabled configuration value.\r\n    03-09 23:18:07.839 12351 12351 D FirebasePerformance: Retrieving Firebase Performance SDK disabled versions configuration value.\r\n    03-09 23:18:07.844 12351 12351 D FirebasePerformance: CollectionEnabled metadata key unknown or value not found in manifest.\r\n    03-09 23:18:07.844 12351 12351 D FirebasePerformance: Retrieving master flag for Firebase Performance SDK enabled configuration value.\r\n    03-09 23:18:07.844 12351 12351 D FirebasePerformance: Retrieving Firebase Performance SDK disabled versions configuration value.\r\n    03-09 23:18:07.844 12351 12351 D FirebasePerformance: Retrieving session sampling rate configuration value.\r\n    03-09 23:18:07.844 12351 12351 D FirebasePerformance: Creating a new Non Verbose Session: b534dedef9074c3784b2d0fbea941509\r\n    03-09 23:18:07.845 12351 12351 D FirebasePerformance: CollectionEnabled metadata key unknown or value not found in manifest.\r\n    03-09 23:18:07.845 12351 12351 D FirebasePerformance: Retrieving master flag for Firebase Performance SDK enabled configuration value.\r\n    03-09 23:18:07.845 12351 12351 D FirebasePerformance: Retrieving Firebase Performance SDK disabled versions configuration value.\r\n    03-09 23:18:07.845 12351 12351 D FirebasePerformance: Retrieving session sampling rate configuration value.\r\n    03-09 23:18:07.845 12351 12351 D FirebasePerformance: Creating a new Non Verbose Session: eff34d2dd1fc4524b3f64fa50b9830c2\r\n    03-09 23:18:07.983 12351 12351 D FirebasePerformance: CollectionEnabled metadata key unknown or value not found in manifest.\r\n    03-09 23:18:08.100 12351 12378 I DynamiteModule: Considering local module com.google.android.gms.measurement.dynamite:13 and remote module com.google.android.gms.measurement.dynamite:0\r\n    03-09 23:18:08.109 12351 12378 I DynamiteModule: Selected local version of com.google.android.gms.measurement.dynamite\r\n\r\n","title":"I am getting 403 error for android mobile version 12","body":"<p>I am facing the issue of a 403 error for Android 12 version, but it is working on all other mobile versions, including 12. The issue was only on one mobile, and I don't know why this issue came up. All mobiles are working fine, including versions 12 and 13. I have attached the log file; please resolve my issue.</p>\n<pre><code>    --------- beginning of main\n03-09 23:18:07.444 12351 12351 I .water.modifie: Using CollectorTypeCC GC.\n03-09 23:18:07.464 12351 12351 E .water.modifie: Not starting debugger since process cannot load the jdwp agent.\n03-09 23:18:07.469 12351 12351 D ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\n03-09 23:18:07.607 12351 12351 D CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10242; state: ENABLED\n03-09 23:18:07.727 12351 12351 D nativeloader: Configuring classloader-namespace for other apk /data/app/~~egdAvsw7to9x6bYqw8iwiw==/com.hul.water.modified-dR1EpobkHg3SiaNiAt9_OA==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~egdAvsw7to9x6bYqw8iwiw==/com.hul.water.modified-dR1EpobkHg3SiaNiAt9_OA==/lib/arm64:/data/app/~~egdAvsw7to9x6bYqw8iwiw==/com.hul.water.modified-dR1EpobkHg3SiaNiAt9_OA==/base.apk!/lib/arm64-v8a, permitted_path=/data:/mnt/expand:/data/user/0/com.hul.water.modified\n03-09 23:18:07.792 12351 12351 V GraphicsEnvironment: ANGLE Developer option for 'com.hul.water.modified' set to: 'default'\n03-09 23:18:07.792 12351 12351 V GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\n03-09 23:18:07.795 12351 12351 D NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: false\n03-09 23:18:07.800 12351 12351 D NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: false\n03-09 23:18:07.839 12351 12351 D FirebasePerformance: CollectionEnabled metadata key unknown or value not found in manifest.\n03-09 23:18:07.839 12351 12351 D FirebasePerformance: Retrieving master flag for Firebase Performance SDK enabled configuration value.\n03-09 23:18:07.839 12351 12351 D FirebasePerformance: Retrieving Firebase Performance SDK disabled versions configuration value.\n03-09 23:18:07.844 12351 12351 D FirebasePerformance: CollectionEnabled metadata key unknown or value not found in manifest.\n03-09 23:18:07.844 12351 12351 D FirebasePerformance: Retrieving master flag for Firebase Performance SDK enabled configuration value.\n03-09 23:18:07.844 12351 12351 D FirebasePerformance: Retrieving Firebase Performance SDK disabled versions configuration value.\n03-09 23:18:07.844 12351 12351 D FirebasePerformance: Retrieving session sampling rate configuration value.\n03-09 23:18:07.844 12351 12351 D FirebasePerformance: Creating a new Non Verbose Session: b534dedef9074c3784b2d0fbea941509\n03-09 23:18:07.845 12351 12351 D FirebasePerformance: CollectionEnabled metadata key unknown or value not found in manifest.\n03-09 23:18:07.845 12351 12351 D FirebasePerformance: Retrieving master flag for Firebase Performance SDK enabled configuration value.\n03-09 23:18:07.845 12351 12351 D FirebasePerformance: Retrieving Firebase Performance SDK disabled versions configuration value.\n03-09 23:18:07.845 12351 12351 D FirebasePerformance: Retrieving session sampling rate configuration value.\n03-09 23:18:07.845 12351 12351 D FirebasePerformance: Creating a new Non Verbose Session: eff34d2dd1fc4524b3f64fa50b9830c2\n03-09 23:18:07.983 12351 12351 D FirebasePerformance: CollectionEnabled metadata key unknown or value not found in manifest.\n03-09 23:18:08.100 12351 12378 I DynamiteModule: Considering local module com.google.android.gms.measurement.dynamite:13 and remote module com.google.android.gms.measurement.dynamite:0\n03-09 23:18:08.109 12351 12378 I DynamiteModule: Selected local version of com.google.android.gms.measurement.dynamite\n</code></pre>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":2513352,"reputation":3785,"user_id":2185295,"accept_rate":49,"display_name":"Usman Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678344781,"creation_date":1678344781,"answer_id":75681298,"question_id":75681239,"body_markdown":"ReactActivity class class provides you `getApplicationContext()`, so use this context inside MainActivity.java  class. \r\n\r\nCheck the following code snippet as per your code:\r\n\r\n\r\n    public class MainActivity extends ReactActivity {\r\n    \r\n      @Override\r\n      protected String getMainComponentName() {\r\n        return &quot;hackerkid&quot;;\r\n      }\r\n    \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        SplashScreen.show(this);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        TextView splashText = findViewById(R.id.splashTitle);\r\n\r\n        // This getApplicationContext() is from ReactActivity class.\r\n\r\n        Typeface face = Typeface.createFromAsset(getApplicationContext().getAssets(), &quot;fonts/FredokaOne-Regular.ttf&quot;);\r\n        splashText.setTypeface(face);\r\n      }\r\n    }","title":"how to get context inside MainActivity.java","body":"<p>ReactActivity class class provides you <code>getApplicationContext()</code>, so use this context inside MainActivity.java  class.</p>\n<p>Check the following code snippet as per your code:</p>\n<pre><code>public class MainActivity extends ReactActivity {\n\n  @Override\n  protected String getMainComponentName() {\n    return &quot;hackerkid&quot;;\n  }\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    SplashScreen.show(this);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    TextView splashText = findViewById(R.id.splashTitle);\n\n    // This getApplicationContext() is from ReactActivity class.\n\n    Typeface face = Typeface.createFromAsset(getApplicationContext().getAssets(), &quot;fonts/FredokaOne-Regular.ttf&quot;);\n    splashText.setTypeface(face);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18175222,"reputation":282,"user_id":13224117,"display_name":"Sai Darshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75681298,"answer_count":1,"score":0,"last_activity_date":1678345268,"creation_date":1678344383,"question_id":75681239,"body_markdown":"I am trying to do a splash screen for a React Native application.\r\nI have succeeded but I have to add a custom font to the heading.\r\n\r\nBelow is my code for doing it, but clearly it is not working.\r\n\r\n    package com.hackerkid;\r\n    \r\n    import android.os.Bundle;\r\n    import com.facebook.react.ReactActivity;\r\n    import org.devio.rn.splashscreen.SplashScreen;\r\n    import android.widget.TextView;\r\n    import android.graphics.Typeface;\r\n    import \tandroid.content.Context;\r\n    \r\n    public class MainActivity extends ReactActivity {\r\n      /**\r\n       * Returns the name of the main component registered from JavaScript. This is used to schedule\r\n       * rendering of the component.\r\n       */\r\n      @Override\r\n      protected String getMainComponentName() {\r\n        return &quot;hackerkid&quot;;\r\n      }\r\n    \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        SplashScreen.show(this);\r\n        super.onCreate(savedInstanceState);\r\n        TextView splashText = (TextView) findViewById(R.id.splashTitle);\r\n    \r\n        Typeface face = Typeface.createFromAsset(this.getAssets(), &quot;fonts/FredokaOne-Regular.ttf&quot;);\r\n        splashText.setTypeface(face);\r\n      }\r\n    }\r\n\r\n\r\n`getAssests()` is not working, I am not able to get the current context to getAssests from it.\r\nI am very new to android development.\r\nI have tried `getApplicationContext()` but it did not work.\r\n\r\nKindly guide me how to get the context inside MainActivity.java\r\n\r\nThanks","title":"how to get context inside MainActivity.java","body":"<p>I am trying to do a splash screen for a React Native application.\nI have succeeded but I have to add a custom font to the heading.</p>\n<p>Below is my code for doing it, but clearly it is not working.</p>\n<pre><code>package com.hackerkid;\n\nimport android.os.Bundle;\nimport com.facebook.react.ReactActivity;\nimport org.devio.rn.splashscreen.SplashScreen;\nimport android.widget.TextView;\nimport android.graphics.Typeface;\nimport  android.content.Context;\n\npublic class MainActivity extends ReactActivity {\n  /**\n   * Returns the name of the main component registered from JavaScript. This is used to schedule\n   * rendering of the component.\n   */\n  @Override\n  protected String getMainComponentName() {\n    return &quot;hackerkid&quot;;\n  }\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    SplashScreen.show(this);\n    super.onCreate(savedInstanceState);\n    TextView splashText = (TextView) findViewById(R.id.splashTitle);\n\n    Typeface face = Typeface.createFromAsset(this.getAssets(), &quot;fonts/FredokaOne-Regular.ttf&quot;);\n    splashText.setTypeface(face);\n  }\n}\n</code></pre>\n<p><code>getAssests()</code> is not working, I am not able to get the current context to getAssests from it.\nI am very new to android development.\nI have tried <code>getApplicationContext()</code> but it did not work.</p>\n<p>Kindly guide me how to get the context inside MainActivity.java</p>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":5,"creation_date":1678343728,"post_id":75681155,"comment_id":133514693,"body_markdown":"The second loop should use `i` instead of `digits[i]`.","body":"The second loop should use <code>i</code> instead of <code>digits[i]</code>."},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1678343825,"post_id":75681155,"comment_id":133514701,"body_markdown":"inside the first loop you are iterating through the index, inside the second loop you are iterating through the objects in this case an integer","body":"inside the first loop you are iterating through the index, inside the second loop you are iterating through the objects in this case an integer"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678344729,"post_id":75681155,"comment_id":133514867,"body_markdown":"Because ... there&#39;s a bug / typo in your code ... as explained by other comments and the answer.  Basically, code does what you tell it.  But in this case you told it to do different things.  (Aside: I recommend the [Rubber Duck Debugging](https://rubberduckdebugging.com) technique as a good way to spot this kind of error.  And as a good self-training technique.)","body":"Because ... there&#39;s a bug / typo in your code ... as explained by other comments and the answer.  Basically, code does what you tell it.  But in this case you told it to do different things.  (Aside: I recommend the <a href=\"https://rubberduckdebugging.com\" rel=\"nofollow noreferrer\">Rubber Duck Debugging</a> technique as a good way to spot this kind of error.  And as a good self-training technique.)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1678344929,"post_id":75681155,"comment_id":133514910,"body_markdown":"in the first loop, i is the index, in the second it&#39;s the element of the array","body":"in the first loop, i is the index, in the second it&#39;s the element of the array"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678345255,"creation_date":1678343921,"answer_id":75681190,"question_id":75681155,"body_markdown":"This line will count indexes for you:\r\n\r\n    for(int i = 0; i &lt; digits.length; i++)\r\n\r\nand you have to get to the real number by looking it up:\r\n\r\n    int digit = digits[i];\r\n    n = n*10+digit;\r\n\r\nWhile that expression will directly give you the numbers you are interested in:\r\n\r\n    for(int digit : digits) {\r\n\r\nso you do not look up but use it directly:\r\n\r\n    n = n*10+digit;","title":"Why don&#39;t Java for loops work the same way?","body":"<p>This line will count indexes for you:</p>\n<pre><code>for(int i = 0; i &lt; digits.length; i++)\n</code></pre>\n<p>and you have to get to the real number by looking it up:</p>\n<pre><code>int digit = digits[i];\nn = n*10+digit;\n</code></pre>\n<p>While that expression will directly give you the numbers you are interested in:</p>\n<pre><code>for(int digit : digits) {\n</code></pre>\n<p>so you do not look up but use it directly:</p>\n<pre><code>n = n*10+digit;\n</code></pre>\n"}],"owner":{"account_id":26010489,"reputation":1,"user_id":19719631,"display_name":"himan01"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678350195,"accepted_answer_id":75681190,"answer_count":1,"score":-1,"last_activity_date":1678345255,"creation_date":1678343590,"question_id":75681155,"body_markdown":"    public static int[] plusOne(int[] digits) {\r\n       long n = 0;\r\n       for(int i = 0; i &lt; digits.length; i++) {\r\n         n = n*10+digits[i];\r\n       }\r\n       System.out.println(n);\r\n       n = 0; \r\n       for(int i : digits) {\r\n         n = n*10+digits[i];\r\n       }\r\n       System.out.println(n);\r\n       return digits;\r\n    }\r\n\r\nThe above code for me prints entirely different numbers for n depending on which loop I use. The first one prints out &quot;9876543210&quot; and the second one prints out &quot;123456789&quot;. My input array is &quot;{9,8,7,6,5,4,3,2,1,0}.&quot; I am changing the int[] array to a single value and expected output is the result of the classic for loop &quot;9876543210&quot;. My understanding is that these should work essentially the same way. \r\n","title":"Why don&#39;t Java for loops work the same way?","body":"<pre><code>public static int[] plusOne(int[] digits) {\n   long n = 0;\n   for(int i = 0; i &lt; digits.length; i++) {\n     n = n*10+digits[i];\n   }\n   System.out.println(n);\n   n = 0; \n   for(int i : digits) {\n     n = n*10+digits[i];\n   }\n   System.out.println(n);\n   return digits;\n}\n</code></pre>\n<p>The above code for me prints entirely different numbers for n depending on which loop I use. The first one prints out &quot;9876543210&quot; and the second one prints out &quot;123456789&quot;. My input array is &quot;{9,8,7,6,5,4,3,2,1,0}.&quot; I am changing the int[] array to a single value and expected output is the result of the classic for loop &quot;9876543210&quot;. My understanding is that these should work essentially the same way.</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak","unauthorized"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1678293249,"post_id":75675671,"comment_id":133505605,"body_markdown":"why havn&#39;t you enabled the spring security debug logs and checked the reason for your 401 Unauthorized error?","body":"why havn&#39;t you enabled the spring security debug logs and checked the reason for your 401 Unauthorized error?"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1678293390,"post_id":75675671,"comment_id":133505644,"body_markdown":"did you actually search google or read the spring documentation, before asking me? https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users please do research before asking.","body":"did you actually search google or read the spring documentation, before asking me? <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\" title=\"how much research effort is expected of stack overflow users\">meta.stackoverflow.com/questions/261592/&hellip;</a> please do research before asking."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678318353,"post_id":75675671,"comment_id":133511561,"body_markdown":"&quot;How I can avoid this?&quot; - by using a *correct* pattern ([javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html)) also &quot;Note: a pattern and a path must both be absolute or must both be relative in order for the two to match. Therefore, it is recommended that users of this implementation to sanitize patterns in order to prefix them with &quot;/&quot; as it makes sense in the context in which they&#39;re used.&quot;","body":"&quot;How I can avoid this?&quot; - by using a <i>correct</i> pattern (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"nofollow noreferrer\">javadoc</a>) also &quot;Note: a pattern and a path must both be absolute or must both be relative in order for the two to match. Therefore, it is recommended that users of this implementation to sanitize patterns in order to prefix them with &quot;/&quot; as it makes sense in the context in which they&#39;re used.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678316457,"creation_date":1678316457,"answer_id":75678993,"question_id":75675671,"body_markdown":"From shared config - HttpSecurity is actually properly configured.\r\n\r\nIt looks like issue is actually is in actual value of ANT_MATCHERS and WEB_SECURITY_ANT_MATCHERS variables - as they use single asterisk (*) symbol.\r\n\r\nAnt matcher syntax (and also as Spring Security examples) expected wildcard to be represented not by 1 asterisk but by 2 (**) of them.\r\n\r\nSo, in your example, if endpoint that you want to publicly exposed is just &#39;/my-endpoint&#39; - you can change value of both variables to just &quot;/my-endpoint&quot;.\r\n\r\nOnly if this URL is somehow prefixed or postfixed by some additional URL parts - only then you actually need to introduce additional matching. In that case you&#39;ll need to update it to &quot;\\**/my-endpoint/**&quot;","title":"Expose end-point in Spring Security for unauthenticated users","body":"<p>From shared config - HttpSecurity is actually properly configured.</p>\n<p>It looks like issue is actually is in actual value of ANT_MATCHERS and WEB_SECURITY_ANT_MATCHERS variables - as they use single asterisk (*) symbol.</p>\n<p>Ant matcher syntax (and also as Spring Security examples) expected wildcard to be represented not by 1 asterisk but by 2 (**) of them.</p>\n<p>So, in your example, if endpoint that you want to publicly exposed is just '/my-endpoint' - you can change value of both variables to just &quot;/my-endpoint&quot;.</p>\n<p>Only if this URL is somehow prefixed or postfixed by some additional URL parts - only then you actually need to introduce additional matching. In that case you'll need to update it to &quot;**/my-endpoint/**&quot;</p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1678345012,"creation_date":1678292857,"question_id":75675671,"body_markdown":"I&#39;m trying to expose an endpoint in a way that everyone can access it. That is, even a user who is not logged in can access.\r\n\r\nI have the following setup:\r\n\r\nMy Config class:\r\n\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @ComponentScan(basePackageClasses = KeycloakSpringBootConfigResolver.class)\r\n    @KeycloakConfiguration\r\n    public class SecurityAuthenticationConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n    \t\r\n        private static final String ANT_MATCHERS = &quot;*/myEndPoint*&quot;;\r\n               \r\n        private static final String WEB_SECURITY_ANT_MATCHERS = &quot;*/myEndPoint*&quot;;\r\n\r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) {\r\n            KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n            keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n            auth.authenticationProvider(keycloakAuthenticationProvider);\r\n        }\r\n        \r\n        @Bean\r\n        public KeycloakConfigResolver keycloakConfigResolver() {\r\n            return new KeycloakSpringBootConfigResolver();\r\n        }\r\n        \r\n        @Override\r\n        protected void configure(final HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http.authorizeRequests()\r\n            \t.antMatchers(ANT_MATCHERS)\r\n            \t.permitAll()\r\n            \t.anyRequest()\r\n            \t.authenticated();\r\n        }\r\n\r\n        @Bean\r\n        @Override\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n        }\r\n\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            super.configure(web);\r\n            web.ignoring().antMatchers(WEB_SECURITY_ANT_MATCHERS);\r\n        }\r\n    }\r\n\r\nHowever, when I issue a request to the &#39;*/myEndPoint*&#39; end-point, I get a 401 Unauthorized\r\n error. How I can avoid this? I have tried to reproduce the following issues but I have not succeeded:\r\n\r\n[401 Spring Security][1]\r\n\r\n[Configuring Springboot security, permitted path(s) not authorised 401][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67650666/how-ant-matcher-works-in-spring-security\r\n  [2]: https://stackoverflow.com/questions/63171163/configuring-springboot-security-permitted-paths-not-authorised-401\r\n\r\n\r\nUPDATE:\r\nThe spring logs shows:\r\n\r\n     Securing POST /v1/myEndPoint/3\r\n     SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n     KeycloakDeployment   : Loaded URLs from http://localhost:8081/auth/realms/myRealm/.well-known/openid-configuration\r\n     SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n     Securing POST /error\r\n     SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n     SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request","title":"Expose end-point in Spring Security for unauthenticated users","body":"<p>I'm trying to expose an endpoint in a way that everyone can access it. That is, even a user who is not logged in can access.</p>\n<p>I have the following setup:</p>\n<p>My Config class:</p>\n<pre><code>@EnableGlobalMethodSecurity(prePostEnabled = true)\n@ComponentScan(basePackageClasses = KeycloakSpringBootConfigResolver.class)\n@KeycloakConfiguration\npublic class SecurityAuthenticationConfig extends KeycloakWebSecurityConfigurerAdapter {\n    \n    private static final String ANT_MATCHERS = &quot;*/myEndPoint*&quot;;\n           \n    private static final String WEB_SECURITY_ANT_MATCHERS = &quot;*/myEndPoint*&quot;;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n        auth.authenticationProvider(keycloakAuthenticationProvider);\n    }\n    \n    @Bean\n    public KeycloakConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n    \n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.authorizeRequests()\n            .antMatchers(ANT_MATCHERS)\n            .permitAll()\n            .anyRequest()\n            .authenticated();\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n        web.ignoring().antMatchers(WEB_SECURITY_ANT_MATCHERS);\n    }\n}\n</code></pre>\n<p>However, when I issue a request to the '<em>/myEndPoint</em>' end-point, I get a 401 Unauthorized\nerror. How I can avoid this? I have tried to reproduce the following issues but I have not succeeded:</p>\n<p><a href=\"https://stackoverflow.com/questions/67650666/how-ant-matcher-works-in-spring-security\">401 Spring Security</a></p>\n<p><a href=\"https://stackoverflow.com/questions/63171163/configuring-springboot-security-permitted-paths-not-authorised-401\">Configuring Springboot security, permitted path(s) not authorised 401</a></p>\n<p>UPDATE:\nThe spring logs shows:</p>\n<pre><code> Securing POST /v1/myEndPoint/3\n SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n KeycloakDeployment   : Loaded URLs from http://localhost:8081/auth/realms/myRealm/.well-known/openid-configuration\n SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n Securing POST /error\n SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n</code></pre>\n"},{"tags":["java","database","connection","connection-pooling","jmx"],"comments":[{"owner":{"account_id":15296947,"reputation":63,"user_id":11036695,"display_name":"Subham Banerjee"},"score":0,"creation_date":1678344759,"post_id":75681278,"comment_id":133514875,"body_markdown":"I am using this dependancy: \n\n &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;/dependency&gt;","body":"I am using this dependancy:    &lt;dependency&gt;             &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;             &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1678476196,"post_id":75681278,"comment_id":133546359,"body_markdown":"https://stackoverflow.com/a/38337147/175554 may help","body":"<a href=\"https://stackoverflow.com/a/38337147/175554\">stackoverflow.com/a/38337147/175554</a> may help"}],"owner":{"account_id":15296947,"reputation":63,"user_id":11036695,"display_name":"Subham Banerjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678344655,"creation_date":1678344655,"question_id":75681278,"body_markdown":"A DB is created using apache commons DBCP 2.0 not able to find MBean names as part of JMX to monitor the connection pool related data how to enable it if it is not enabled by default?","title":"Monitoring DB connection pool status using JMX?","body":"<p>A DB is created using apache commons DBCP 2.0 not able to find MBean names as part of JMX to monitor the connection pool related data how to enable it if it is not enabled by default?</p>\n"},{"tags":["java","variables","primitive-types"],"comments":[{"owner":{"account_id":282472,"reputation":2355,"user_id":579381,"accept_rate":75,"display_name":"Ayub"},"score":0,"creation_date":1492085058,"post_id":1560685,"comment_id":73844460,"body_markdown":"Declaring uninitialized local variable is possible but using it not possible :)","body":"Declaring uninitialized local variable is possible but using it not possible :)"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1641647138,"post_id":1560685,"comment_id":124861837,"body_markdown":"Does this answer your question? [Why are local variables not initialized in Java?](https://stackoverflow.com/questions/415687/why-are-local-variables-not-initialized-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/415687/why-are-local-variables-not-initialized-in-java\">Why are local variables not initialized in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1565326991,"creation_date":1255445248,"answer_id":1560704,"question_id":1560685,"body_markdown":"\r\nBasically, requiring a variable to be assigned a value before you read it is a Good Thing. It means you won&#39;t accidentally read something you didn&#39;t intend to. Yes, variables could have default values - but isn&#39;t it better for the compiler to be able to catch your bug instead, if it can prove that you&#39;re trying to read something which might not have been assigned yet? If you want to give a local variable a default value, you can always assign that explicitly.\r\n\r\nNow that&#39;s fine for local variables - but for instance and static variables, the compiler has no way of knowing the order in which methods will be called. Will a property &quot;setter&quot; be called before the &quot;getter&quot;? It has no way of knowing, so it has no way of alerting you to the danger. That&#39;s why default values *are* used for instance/static variables - at least then you&#39;ll get a known value (0, false, null etc) instead of just &quot;whatever happened to be in memory at the time.&quot; (It also removes the potential security issue of reading sensitive data which hadn&#39;t been explicitly wiped.)\r\n\r\nThere was a [question about this very recently for C#][1]... - read the answers there as well, as it&#39;s basically the same thing. You might also find [Eric Lippert&#39;s recent blog post][2] interesting; it&#39;s at least around the same area, even though it has a somewhat different thrust.\r\n\r\n  [1]: https://stackoverflow.com/questions/1542824/c-initialization-of-instance-fields-vs-local-variables/1542851#1542851\r\n  [2]: http://blogs.msdn.com/ericlippert/archive/2009/10/12/absence-of-evidence-is-not-evidence-of-absence.aspx","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>Basically, requiring a variable to be assigned a value before you read it is a Good Thing. It means you won't accidentally read something you didn't intend to. Yes, variables could have default values - but isn't it better for the compiler to be able to catch your bug instead, if it can prove that you're trying to read something which might not have been assigned yet? If you want to give a local variable a default value, you can always assign that explicitly.</p>\n\n<p>Now that's fine for local variables - but for instance and static variables, the compiler has no way of knowing the order in which methods will be called. Will a property \"setter\" be called before the \"getter\"? It has no way of knowing, so it has no way of alerting you to the danger. That's why default values <em>are</em> used for instance/static variables - at least then you'll get a known value (0, false, null etc) instead of just \"whatever happened to be in memory at the time.\" (It also removes the potential security issue of reading sensitive data which hadn't been explicitly wiped.)</p>\n\n<p>There was a <a href=\"https://stackoverflow.com/questions/1542824/c-initialization-of-instance-fields-vs-local-variables/1542851#1542851\">question about this very recently for C#</a>... - read the answers there as well, as it's basically the same thing. You might also find <a href=\"http://blogs.msdn.com/ericlippert/archive/2009/10/12/absence-of-evidence-is-not-evidence-of-absence.aspx\" rel=\"noreferrer\">Eric Lippert's recent blog post</a> interesting; it's at least around the same area, even though it has a somewhat different thrust.</p>\n"},{"tags":[],"owner":{"account_id":29773,"reputation":14194,"user_id":80701,"accept_rate":87,"display_name":"monksy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255445314,"creation_date":1255445314,"answer_id":1560713,"question_id":1560685,"body_markdown":"Local variables and primitives should be initialized before use because you would know what to expect from the values. Historically, when a new variable was created it would contain random values from the memory [and one could not predict the value]. Java also requires this because it prevents the presence of orphaned variables. ","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>Local variables and primitives should be initialized before use because you would know what to expect from the values. Historically, when a new variable was created it would contain random values from the memory [and one could not predict the value]. Java also requires this because it prevents the presence of orphaned variables. </p>\n"},{"tags":[],"owner":{"account_id":62810,"reputation":5725,"user_id":186338,"accept_rate":95,"display_name":"James Cronen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255445355,"creation_date":1255445355,"answer_id":1560719,"question_id":1560685,"body_markdown":"In practice all variables need to be initialized before using them.\r\n\r\nI can&#39;t think of a time you&#39;d want to use a variable before setting its value (unless you&#39;re comparing it against null).\r\n","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>In practice all variables need to be initialized before using them.</p>\n\n<p>I can't think of a time you'd want to use a variable before setting its value (unless you're comparing it against null).</p>\n"},{"tags":[],"owner":{"account_id":38729,"reputation":829,"user_id":111344,"display_name":"quosoo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1255445392,"creation_date":1255445392,"answer_id":1560724,"question_id":1560685,"body_markdown":"Well, in case of local variable it&#39;s clear what it means &#39;before&#39; since the program flow between declaration (in method) and reference is sequential. In case of fields declared outside of the method compiler never knows which code is going to be used when so it cannot generate an error as possibly some other method is going to initialize the field before it is used.","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>Well, in case of local variable it's clear what it means 'before' since the program flow between declaration (in method) and reference is sequential. In case of fields declared outside of the method compiler never knows which code is going to be used when so it cannot generate an error as possibly some other method is going to initialize the field before it is used.</p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1255449183,"creation_date":1255449183,"answer_id":1561154,"question_id":1560685,"body_markdown":"Not totally true. Local variables only need to be initialized if being reference. A local variable can be left uninitialized if never referenced. For example:\r\n\r\n    int x;  // Valid\r\n    int y;\r\n    println(&quot;y=&quot; + y);  // Not valid since y&#39;s value has never been assigned","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>Not totally true. Local variables only need to be initialized if being reference. A local variable can be left uninitialized if never referenced. For example:</p>\n\n<pre><code>int x;  // Valid\nint y;\nprintln(\"y=\" + y);  // Not valid since y's value has never been assigned\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1084280,"reputation":1364,"user_id":1080389,"display_name":"Sven"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1553807009,"creation_date":1326554326,"answer_id":8863102,"question_id":1560685,"body_markdown":"In Java, class and instance variables assume a default value (null, 0, false) if they are not initialized manually. However, local variables don&#39;t have a default value. Unless a local variable has been assigned a value, the compiler will refuse to compile the code that reads it. IMHO, this leads to the conclusion, that initializing a local variable with some default value (like null, which might lead to a NullPointerException later) when it is declared is actually a bad thing. Consider the following example:\r\n\r\n    Object o;\r\n    if (&lt;some boolean condition&gt;)\r\n      o = &lt;some value&gt;;\r\n    else\r\n      o = &lt;some other value&gt;;\r\n    System.out.println(o);\r\n\r\nAn initialization of &lt;code&gt;o&lt;/code&gt; with null is completely unnecessary, since the Java compiler checks at compile time, that any code-path initializes &lt;code&gt;o&lt;/code&gt; (with either null or some non-null value) before the variable is read. That means, that the compiler will refuse to compile the line &lt;code&gt;System.out.println(o);&lt;/code&gt; if you would comment out any of the two initializations of the variable &lt;code&gt;o&lt;/code&gt; in the code snippet above.\r\n\r\nThis holds for Java, and maybe for Java only. I don&#39;t know about language like C#. In good old C (and maybe C++) however, it is still recommended to always initialize variables when declaring them, AFAIK. Such &quot;old-school&quot; programming languages might be the reason, that the recommendation to always initialize variables pops up in books and discussions about modern languages like Java, where the compiler keeps track of whether a variable has been initialized or not.","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>In Java, class and instance variables assume a default value (null, 0, false) if they are not initialized manually. However, local variables don't have a default value. Unless a local variable has been assigned a value, the compiler will refuse to compile the code that reads it. IMHO, this leads to the conclusion, that initializing a local variable with some default value (like null, which might lead to a NullPointerException later) when it is declared is actually a bad thing. Consider the following example:</p>\n\n<pre><code>Object o;\nif (&lt;some boolean condition&gt;)\n  o = &lt;some value&gt;;\nelse\n  o = &lt;some other value&gt;;\nSystem.out.println(o);\n</code></pre>\n\n<p>An initialization of <code>o</code> with null is completely unnecessary, since the Java compiler checks at compile time, that any code-path initializes <code>o</code> (with either null or some non-null value) before the variable is read. That means, that the compiler will refuse to compile the line <code>System.out.println(o);</code> if you would comment out any of the two initializations of the variable <code>o</code> in the code snippet above.</p>\n\n<p>This holds for Java, and maybe for Java only. I don't know about language like C#. In good old C (and maybe C++) however, it is still recommended to always initialize variables when declaring them, AFAIK. Such \"old-school\" programming languages might be the reason, that the recommendation to always initialize variables pops up in books and discussions about modern languages like Java, where the compiler keeps track of whether a variable has been initialized or not.</p>\n"},{"tags":[],"owner":{"account_id":11847624,"reputation":941,"user_id":8669765,"display_name":"Shashank Bodkhe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528024767,"creation_date":1528019221,"answer_id":50665081,"question_id":1560685,"body_markdown":"It is necessary to initialize local variables (only when we use them) because they don&#39;t get any default value like instance variables.\r\n\r\nAnd as basic rule, we should always initialize any variable before using it. Otherwise it may result in an error like nullPointer, etc  \r\n\r\nNow, why don&#39;t local variables get default value? The reason is that local variables reside on stack and is visible only in local method context, unlike instance variables which resides on heap and has scope throughout the program.\r\n\r\nSo when the stack will end local method&#39;s value will also get destroyed therefore:\r\n1] They are supposed to be initialized explicitly (when we use them) \r\n2] They should not be initialized implicitly (by null,0 or false) like instance variables","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>It is necessary to initialize local variables (only when we use them) because they don't get any default value like instance variables.</p>\n\n<p>And as basic rule, we should always initialize any variable before using it. Otherwise it may result in an error like nullPointer, etc  </p>\n\n<p>Now, why don't local variables get default value? The reason is that local variables reside on stack and is visible only in local method context, unlike instance variables which resides on heap and has scope throughout the program.</p>\n\n<p>So when the stack will end local method's value will also get destroyed therefore:\n1] They are supposed to be initialized explicitly (when we use them) \n2] They should not be initialized implicitly (by null,0 or false) like instance variables</p>\n"},{"tags":[],"owner":{"account_id":14906928,"reputation":1,"user_id":10763825,"display_name":"udoh unyime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544276298,"creation_date":1544276298,"answer_id":53683068,"question_id":1560685,"body_markdown":"Going by the definition of local variable which state, a local variable is declared within a function or is passed as an argument in a function. If you do not initialized a local variable you will encounter exception handling problem because, the compiler will not be able to understand what value the variable holds","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>Going by the definition of local variable which state, a local variable is declared within a function or is passed as an argument in a function. If you do not initialized a local variable you will encounter exception handling problem because, the compiler will not be able to understand what value the variable holds</p>\n"},{"tags":[],"owner":{"account_id":8287385,"reputation":156,"user_id":6230110,"display_name":"alexis_dia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678344366,"creation_date":1678344366,"answer_id":75681237,"question_id":1560685,"body_markdown":"A couple more words about the stack. Java is a safe language, unlike C++, and therefore it is made at the compiler level that it is mandatory that a method variable must be initialized before its first use, because if this is not done, then previous values could be read, which was not safe.\r\nThe second reason is speed. The stack does not clean up memory - that&#39;s why it works fast. That is, he only needs to move the cursor.","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>A couple more words about the stack. Java is a safe language, unlike C++, and therefore it is made at the compiler level that it is mandatory that a method variable must be initialized before its first use, because if this is not done, then previous values could be read, which was not safe.\nThe second reason is speed. The stack does not clean up memory - that's why it works fast. That is, he only needs to move the cursor.</p>\n"}],"owner":{"account_id":58457,"reputation":1071,"user_id":175023,"accept_rate":38,"display_name":"Gourav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43897,"favorite_count":0,"down_vote_count":1,"up_vote_count":73,"accepted_answer_id":1560704,"answer_count":9,"score":72,"last_activity_date":1678344366,"creation_date":1255445081,"question_id":1560685,"body_markdown":"Why must local variables, including primitives, always be initialized in Java?  Why is the same not applicable in the case of instance variables?","title":"Why must local variables, including primitives, always be initialized in Java?","body":"<p>Why must local variables, including primitives, always be initialized in Java?  Why is the same not applicable in the case of instance variables?</p>\n"},{"tags":["java","rest","jersey","swagger"],"answers":[{"tags":[],"owner":{"account_id":1900523,"reputation":226,"user_id":1716470,"display_name":"localhost"},"down_vote_count":2,"up_vote_count":11,"is_accepted":true,"score":9,"last_activity_date":1504197342,"creation_date":1414654430,"answer_id":26647373,"question_id":24398653,"body_markdown":"The key is to use [`allowableValues`](http://docs.swagger.io/swagger-core/current/apidocs/io/swagger/annotations/ApiParam.html#allowableValues()) in the `@ApiParam` annotation.\r\n\r\nThe demo showing the result:\r\n\r\nhttp://petstore.swagger.io/#!/pet/findPetsByStatus\r\n\r\nCheck out `pet/findByStatus`, it&#39;s not a dropdown but input is limited in\r\nthe multi-select box.","title":"How to get Swagger UI&#39;s Parameter to be Dropdown menu instead of Text Input","body":"<p>The key is to use <a href=\"http://docs.swagger.io/swagger-core/current/apidocs/io/swagger/annotations/ApiParam.html#allowableValues()\" rel=\"noreferrer\"><code>allowableValues</code></a> in the <code>@ApiParam</code> annotation.</p>\n\n<p>The demo showing the result:</p>\n\n<p><a href=\"http://petstore.swagger.io/#!/pet/findPetsByStatus\" rel=\"noreferrer\">http://petstore.swagger.io/#!/pet/findPetsByStatus</a></p>\n\n<p>Check out <code>pet/findByStatus</code>, it's not a dropdown but input is limited in\nthe multi-select box.</p>\n"},{"tags":[],"owner":{"account_id":3182723,"reputation":259,"user_id":2689110,"accept_rate":0,"display_name":"Kundan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1458821244,"creation_date":1458821244,"answer_id":36199823,"question_id":24398653,"body_markdown":"you can display dropdown using following code of swagger. You have to use **enum**.\r\ne.g. if you want to take gender as input then there can be three possible values \r\n\r\n&gt; - male, female, other\r\n\r\n\r\n\r\n    -name: &quot;gender&quot;\r\n              in: &quot;query&quot;\r\n              type: &quot;string&quot;\r\n              enum: [ &quot;male&quot;, &quot;female&quot;, &quot;other&quot;]\r\n              description: &quot;Enter user gender here.&quot;\r\n              required: true","title":"How to get Swagger UI&#39;s Parameter to be Dropdown menu instead of Text Input","body":"<p>you can display dropdown using following code of swagger. You have to use <strong>enum</strong>.\ne.g. if you want to take gender as input then there can be three possible values </p>\n\n<blockquote>\n  <ul>\n  <li>male, female, other</li>\n  </ul>\n</blockquote>\n\n<pre><code>-name: \"gender\"\n          in: \"query\"\n          type: \"string\"\n          enum: [ \"male\", \"female\", \"other\"]\n          description: \"Enter user gender here.\"\n          required: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2918769,"reputation":1175,"user_id":2501471,"accept_rate":54,"display_name":"Sagar Vaghela"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1501845857,"creation_date":1501842567,"answer_id":45504438,"question_id":24398653,"body_markdown":"You can directly use enum instead of String parameter as a API parameter.\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n    public void test(EnumTest enum) {\r\n        // body\r\n    }\r\n\r\nEnumTest.java\r\n\r\n    public enum EnumTest {\r\n\r\n        One(&quot;One&quot;),\r\n        Two(&quot;Two&quot;);\r\n\r\n        private String str;\r\n\r\n        EnumTest(String str){\r\n           this.str = str;\r\n        }\r\n\r\n        public String getStr() {\r\n           return str;\r\n        }\r\n   }\r\n","title":"How to get Swagger UI&#39;s Parameter to be Dropdown menu instead of Text Input","body":"<p>You can directly use enum instead of String parameter as a API parameter.</p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.POST)\npublic void test(EnumTest enum) {\n    // body\n}\n</code></pre>\n\n<p>EnumTest.java</p>\n\n<pre><code>public enum EnumTest {\n\n    One(\"One\"),\n    Two(\"Two\");\n\n    private String str;\n\n    EnumTest(String str){\n       this.str = str;\n    }\n\n    public String getStr() {\n       return str;\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12483411,"reputation":633,"user_id":9087374,"display_name":"Arya Mohanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675701474,"creation_date":1675701474,"answer_id":75364121,"question_id":24398653,"body_markdown":"The above solutions did not work for me. The simplest way to add a dropdown list in Swagger is to update the swagger.json file.\r\n\r\n    &quot;parameters&quot;: [\r\n                    {\r\n                        &quot;name&quot;: &quot;status&quot;,\r\n                        &quot;in&quot;: &quot;query&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;,\r\n                        &quot;default&quot;: &quot;available&quot;,\r\n                        &quot;enum&quot;: [\r\n                                    &quot;active&quot;,\r\n                                    &quot;inactive&quot;,\r\n                                    &quot;available&quot;\r\n                        ],\r\n                        &quot;required&quot;: true\r\n                    }     \r\n                ],\r\nNote: I&#39;m using swagger version 2.0\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YNDRD.png","title":"How to get Swagger UI&#39;s Parameter to be Dropdown menu instead of Text Input","body":"<p>The above solutions did not work for me. The simplest way to add a dropdown list in Swagger is to update the swagger.json file.</p>\n<pre><code>&quot;parameters&quot;: [\n                {\n                    &quot;name&quot;: &quot;status&quot;,\n                    &quot;in&quot;: &quot;query&quot;,\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;default&quot;: &quot;available&quot;,\n                    &quot;enum&quot;: [\n                                &quot;active&quot;,\n                                &quot;inactive&quot;,\n                                &quot;available&quot;\n                    ],\n                    &quot;required&quot;: true\n                }     \n            ],\n</code></pre>\n<p>Note: I'm using swagger version 2.0</p>\n<p><a href=\"https://i.stack.imgur.com/YNDRD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YNDRD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16500264,"reputation":289,"user_id":11921751,"display_name":"Abdullah Imran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678344165,"creation_date":1678344165,"answer_id":75681216,"question_id":24398653,"body_markdown":"with swagger 3(OAS) you can achieve that with below code\r\n\r\n```\r\npublic class TestController{\r\n\r\n@Operation(\r\n      tags = &quot;APIs&quot;,\r\n      summary = &quot;Find XYZ&quot;,\r\n      parameters = {\r\n            @Parameter(\r\n            in = ParameterIn.QUERY,\r\n            name = &quot;id&quot;,\r\n            schema = @Schema(allowableValues = { &quot;value1&quot;, &quot;value2&quot;,\r\n                &quot;value3&quot;, &quot;value4&quot; }),\r\n            description =&quot;description &quot;)\r\n      })\r\n\t \r\n@GetMapping\r\npublic Flux&lt;Response&gt; getResponse(@RequestParam(value = &quot;id&quot;) Optional&lt;String&gt; id){\r\n\r\n}\t \r\n}\r\n```\r\n\r\nSo if you run this you will have value1, value2, value3, value4 as dropdown value for id field in swagger","title":"How to get Swagger UI&#39;s Parameter to be Dropdown menu instead of Text Input","body":"<p>with swagger 3(OAS) you can achieve that with below code</p>\n<pre><code>public class TestController{\n\n@Operation(\n      tags = &quot;APIs&quot;,\n      summary = &quot;Find XYZ&quot;,\n      parameters = {\n            @Parameter(\n            in = ParameterIn.QUERY,\n            name = &quot;id&quot;,\n            schema = @Schema(allowableValues = { &quot;value1&quot;, &quot;value2&quot;,\n                &quot;value3&quot;, &quot;value4&quot; }),\n            description =&quot;description &quot;)\n      })\n     \n@GetMapping\npublic Flux&lt;Response&gt; getResponse(@RequestParam(value = &quot;id&quot;) Optional&lt;String&gt; id){\n\n}    \n}\n</code></pre>\n<p>So if you run this you will have value1, value2, value3, value4 as dropdown value for id field in swagger</p>\n"}],"owner":{"account_id":2968421,"reputation":277,"user_id":2521087,"display_name":"mirage1s7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56096,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":26647373,"answer_count":5,"score":20,"last_activity_date":1678344165,"creation_date":1403658200,"question_id":24398653,"body_markdown":"I am using swagger to display my RESTApi, one parameter of an API takes string as input and convert it to enum value. Is there any way to display a drop-down menu on the Swagger UI instead of having a text input field so that users can only select the string values within the enum value.","title":"How to get Swagger UI&#39;s Parameter to be Dropdown menu instead of Text Input","body":"<p>I am using swagger to display my RESTApi, one parameter of an API takes string as input and convert it to enum value. Is there any way to display a drop-down menu on the Swagger UI instead of having a text input field so that users can only select the string values within the enum value.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678255118,"post_id":75669774,"comment_id":133495544,"body_markdown":"You are creating an anonymous subclass of `User` instead of creating an instance of `User`","body":"You are creating an anonymous subclass of <code>User</code> instead of creating an instance of <code>User</code>"}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678343903,"creation_date":1678255244,"answer_id":75669814,"question_id":75669774,"body_markdown":"When you call {} right after `new User()` you are actually creating an anonymous subclass of User which doesnt have the `@Entity` annotation (Class level annotations are not accessible for subclasses)\r\n\r\nJust do this instead:\r\n\r\n    User user = new User();\r\n    user.setUsername(registerRequestDto.getUsername());\r\n    user.setEmail(registerRequestDto.getEmail());\r\n    user.setPassword(registerRequestDto.getPassword());\r\n\r\nIf you really want to save time and lines just create a suiting constructor or use builder pattern. (But make sure to define a no args constructor as well - spring jpa needs it)\r\n","title":"Error caused by entity not being recognized as entity when trying to perform a database save with JPA repository","body":"<p>When you call {} right after <code>new User()</code> you are actually creating an anonymous subclass of User which doesnt have the <code>@Entity</code> annotation (Class level annotations are not accessible for subclasses)</p>\n<p>Just do this instead:</p>\n<pre><code>User user = new User();\nuser.setUsername(registerRequestDto.getUsername());\nuser.setEmail(registerRequestDto.getEmail());\nuser.setPassword(registerRequestDto.getPassword());\n</code></pre>\n<p>If you really want to save time and lines just create a suiting constructor or use builder pattern. (But make sure to define a no args constructor as well - spring jpa needs it)</p>\n"}],"owner":{"account_id":10981215,"reputation":99,"user_id":8068231,"display_name":"Danii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75669814,"answer_count":1,"score":0,"last_activity_date":1678343903,"creation_date":1678254721,"question_id":75669774,"body_markdown":"I&#39;m post calling `/users/register` with the body\r\n\r\n```\r\n{\r\n    &quot;username&quot;: &quot;daniel&quot;,\r\n    &quot;email&quot;: &quot;email@yahoo.com&quot;,\r\n    &quot;password&quot;: &quot;something&quot;\r\n}\r\n```\r\n\r\n**User**\r\n```\r\npackage com.youngahn.RobinhoodAPI.entity;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport lombok.Data;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Data\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    private String username;\r\n\r\n    @NotBlank\r\n    private String email;\r\n\r\n    @NotBlank\r\n    private String password;\r\n\r\n    private BigDecimal funds = new BigDecimal(&quot;0.00&quot;);\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    public Set&lt;UserStock&gt; userStocks = new HashSet&lt;&gt;();\r\n\r\n}\r\n\r\n```\r\n\r\n**UserController**\r\n```\r\npackage com.youngahn.RobinhoodAPI.controllers;\r\n\r\nimport com.youngahn.RobinhoodAPI.dtos.LoginRequestDto;\r\nimport com.youngahn.RobinhoodAPI.dtos.RegisterRequestDto;\r\nimport com.youngahn.RobinhoodAPI.entity.User;\r\nimport com.youngahn.RobinhoodAPI.repository.UserRepository;\r\nimport com.youngahn.RobinhoodAPI.service.UserService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class UserController {\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserController(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @PostMapping(&quot;/signin&quot;)\r\n    public ResponseEntity&lt;?&gt; getUser(@RequestBody LoginRequestDto loginRequestDto) {\r\n        return ResponseEntity.ok(loginRequestDto);\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;?&gt; createUser(@Valid @RequestBody RegisterRequestDto registerRequestDto) {\r\n        User user = new User() {{\r\n            setUsername(registerRequestDto.getUsername());\r\n            setEmail(registerRequestDto.getEmail());\r\n            setPassword(registerRequestDto.getPassword());\r\n        }};\r\n\r\n        userRepository.save(user);\r\n        return ResponseEntity.ok(registerRequestDto);\r\n    }\r\n}\r\n\r\n```\r\n**UserRepository**\r\n```\r\npackage com.youngahn.RobinhoodAPI.repository;\r\n\r\nimport com.youngahn.RobinhoodAPI.entity.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n}\r\n```\r\n\r\nAnd I&#39;m getting this error where it seems like entity is not being recognized as entity when it is trying to be saved. I have not seen any error like this on google.\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-03-08T05:40:40.215+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.dao.InvalidDataAccessApiUsageException: com.youngahn.RobinhoodAPI.controllers.UserController$1 is not an entity\\n\\tat\r\n\r\n...\r\n\r\n    &quot;message&quot;: &quot;com.youngahn.RobinhoodAPI.controllers.UserController$1 is not an entity&quot;,\r\n    &quot;path&quot;: &quot;/users/register&quot;\r\n}\r\n```","title":"Error caused by entity not being recognized as entity when trying to perform a database save with JPA repository","body":"<p>I'm post calling <code>/users/register</code> with the body</p>\n<pre><code>{\n    &quot;username&quot;: &quot;daniel&quot;,\n    &quot;email&quot;: &quot;email@yahoo.com&quot;,\n    &quot;password&quot;: &quot;something&quot;\n}\n</code></pre>\n<p><strong>User</strong></p>\n<pre><code>package com.youngahn.RobinhoodAPI.entity;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.NotBlank;\nimport lombok.Data;\n\nimport java.math.BigDecimal;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Table(name = &quot;users&quot;)\n@Data\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    private String username;\n\n    @NotBlank\n    private String email;\n\n    @NotBlank\n    private String password;\n\n    private BigDecimal funds = new BigDecimal(&quot;0.00&quot;);\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n    public Set&lt;UserStock&gt; userStocks = new HashSet&lt;&gt;();\n\n}\n\n</code></pre>\n<p><strong>UserController</strong></p>\n<pre><code>package com.youngahn.RobinhoodAPI.controllers;\n\nimport com.youngahn.RobinhoodAPI.dtos.LoginRequestDto;\nimport com.youngahn.RobinhoodAPI.dtos.RegisterRequestDto;\nimport com.youngahn.RobinhoodAPI.entity.User;\nimport com.youngahn.RobinhoodAPI.repository.UserRepository;\nimport com.youngahn.RobinhoodAPI.service.UserService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\n@CrossOrigin(origins = &quot;*&quot;)\npublic class UserController {\n    private UserRepository userRepository;\n\n    @Autowired\n    public UserController(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @PostMapping(&quot;/signin&quot;)\n    public ResponseEntity&lt;?&gt; getUser(@RequestBody LoginRequestDto loginRequestDto) {\n        return ResponseEntity.ok(loginRequestDto);\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; createUser(@Valid @RequestBody RegisterRequestDto registerRequestDto) {\n        User user = new User() {{\n            setUsername(registerRequestDto.getUsername());\n            setEmail(registerRequestDto.getEmail());\n            setPassword(registerRequestDto.getPassword());\n        }};\n\n        userRepository.save(user);\n        return ResponseEntity.ok(registerRequestDto);\n    }\n}\n\n</code></pre>\n<p><strong>UserRepository</strong></p>\n<pre><code>package com.youngahn.RobinhoodAPI.repository;\n\nimport com.youngahn.RobinhoodAPI.entity.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    \n}\n</code></pre>\n<p>And I'm getting this error where it seems like entity is not being recognized as entity when it is trying to be saved. I have not seen any error like this on google.</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-03-08T05:40:40.215+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.dao.InvalidDataAccessApiUsageException: com.youngahn.RobinhoodAPI.controllers.UserController$1 is not an entity\\n\\tat\n\n...\n\n    &quot;message&quot;: &quot;com.youngahn.RobinhoodAPI.controllers.UserController$1 is not an entity&quot;,\n    &quot;path&quot;: &quot;/users/register&quot;\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","css-selectors","nosuchelementexception","selenium-java"],"comments":[{"owner":{"account_id":2842894,"reputation":102511,"user_id":2442099,"display_name":"G-Cyrillus"},"score":0,"creation_date":1678312788,"post_id":75678584,"comment_id":133510570,"body_markdown":"you should start from form.sign-in , not body , there can be anything popping up in the structure you are not aware of","body":"you should start from form.sign-in , not body , there can be anything popping up in the structure you are not aware of"},{"owner":{"account_id":27969118,"reputation":1,"user_id":21359240,"display_name":"Lena Azaryan"},"score":0,"creation_date":1678314409,"post_id":75678584,"comment_id":133510924,"body_markdown":"I tried .form-signin p:nth-child(2), and it thows exception too , org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;.form-signin p:nth-child(2)&quot;}","body":"I tried .form-signin p:nth-child(2), and it thows exception too , org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;.form-signin p:nth-child(2)&quot;}"},{"owner":{"account_id":2940217,"reputation":8529,"user_id":2518285,"display_name":"Brett Donald"},"score":0,"creation_date":1678315791,"post_id":75678584,"comment_id":133511182,"body_markdown":"Please don&#39;t post [code as an image](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors). Place it directly into your question and format it as a code sample (fifth button from the left).","body":"Please don&#39;t post <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">code as an image</a>. Place it directly into your question and format it as a code sample (fifth button from the left)."},{"owner":{"account_id":27969118,"reputation":1,"user_id":21359240,"display_name":"Lena Azaryan"},"score":0,"creation_date":1678341774,"post_id":75678584,"comment_id":133514393,"body_markdown":"ok I will next time, thank you","body":"ok I will next time, thank you"}],"answers":[{"tags":[],"owner":{"account_id":2940217,"reputation":8529,"user_id":2518285,"display_name":"Brett Donald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678342744,"creation_date":1678316279,"answer_id":75678980,"question_id":75678584,"body_markdown":"A CSS selector which starts from the body element and uses `&gt;` to identify every descendant down to the target, as you have done, is **not** a great idea, because as soon as you move things around in your document, the selector will break. Instead, use classes or ids to target elements directly.\r\n\r\nIn your case, the only ids you have in your code are on the input fields, but as these immediately precede your error message elements, you could use the [adjacent sibling combinator][1] to target your error message elements:\r\n\r\nThe error message for the email field could be selected with any of the following:\r\n\r\n - `#email + p`\r\n - `#email + .err_message`\r\n - `#email + p.err_message`\r\n\r\nThe error message for the password field could be selected with any of the following:\r\n\r\n - `#password + p`\r\n - `#password + .err_message`\r\n - `#password + p.err_message`\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/CSS/Adjacent_sibling_combinator","title":"How to locate either of two similar &lt;p&gt; elements inside a &lt;div&gt;","body":"<p>A CSS selector which starts from the body element and uses <code>&gt;</code> to identify every descendant down to the target, as you have done, is <strong>not</strong> a great idea, because as soon as you move things around in your document, the selector will break. Instead, use classes or ids to target elements directly.</p>\n<p>In your case, the only ids you have in your code are on the input fields, but as these immediately precede your error message elements, you could use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Adjacent_sibling_combinator\" rel=\"nofollow noreferrer\">adjacent sibling combinator</a> to target your error message elements:</p>\n<p>The error message for the email field could be selected with any of the following:</p>\n<ul>\n<li><code>#email + p</code></li>\n<li><code>#email + .err_message</code></li>\n<li><code>#email + p.err_message</code></li>\n</ul>\n<p>The error message for the password field could be selected with any of the following:</p>\n<ul>\n<li><code>#password + p</code></li>\n<li><code>#password + .err_message</code></li>\n<li><code>#password + p.err_message</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678318250,"creation_date":1678318250,"answer_id":75679152,"question_id":75678584,"body_markdown":"To locate the `&lt;p&gt;` elements you can use the _Email Address_ and _Password_ field as a reference identified through unique attributes and you can use the following [_css_selector_](https://stackoverflow.com/a/48578370/7429447):\r\n\r\n- `&lt;p&gt;` tag for _Email Address_ field:\r\n\r\n\t  WebElement element = driver.findElement(By.cssSelector(&quot;div.login_page form.form-signin div.form_item input#email +p&quot;));\r\n\r\n- `&lt;p&gt;` tag for _Password_ field:\r\n\r\n\t  WebElement element = driver.findElement(By.cssSelector(&quot;div.login_page form.form-signin div.form_item input#password +p&quot;));","title":"How to locate either of two similar &lt;p&gt; elements inside a &lt;div&gt;","body":"<p>To locate the <code>&lt;p&gt;</code> elements you can use the <em>Email Address</em> and <em>Password</em> field as a reference identified through unique attributes and you can use the following <a href=\"https://stackoverflow.com/a/48578370/7429447\"><em>css_selector</em></a>:</p>\n<ul>\n<li><p><code>&lt;p&gt;</code> tag for <em>Email Address</em> field:</p>\n<pre><code>WebElement element = driver.findElement(By.cssSelector(&quot;div.login_page form.form-signin div.form_item input#email +p&quot;));\n</code></pre>\n</li>\n<li><p><code>&lt;p&gt;</code> tag for <em>Password</em> field:</p>\n<pre><code>WebElement element = driver.findElement(By.cssSelector(&quot;div.login_page form.form-signin div.form_item input#password +p&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27969118,"reputation":1,"user_id":21359240,"display_name":"Lena Azaryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678342744,"creation_date":1678312447,"question_id":75678584,"body_markdown":"I cannot locate `err_message` elements for email and password. I&#39;m getting an error as:\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;body &gt; div:nth-child(1) &gt; div:nth-child(4) &gt; form:nth-child(2) &gt; div:nth-child(1) &gt; p:nth-child(3)&quot;}\r\n\r\n\r\nTried with: \r\n\r\n    .form-signin .form_item .err_message:nth-child(1), .err_message:nth-of-type(1)\r\n\r\nHTML snapshot:\r\n\r\n![enter image description here](https://i.stack.imgur.com/WaZA3.png)","title":"How to locate either of two similar &lt;p&gt; elements inside a &lt;div&gt;","body":"<p>I cannot locate <code>err_message</code> elements for email and password. I'm getting an error as:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;body &gt; div:nth-child(1) &gt; div:nth-child(4) &gt; form:nth-child(2) &gt; div:nth-child(1) &gt; p:nth-child(3)&quot;}\n</code></pre>\n<p>Tried with:</p>\n<pre><code>.form-signin .form_item .err_message:nth-child(1), .err_message:nth-of-type(1)\n</code></pre>\n<p>HTML snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/WaZA3.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","gradle","test-results"],"owner":{"account_id":14399098,"reputation":952,"user_id":10401397,"display_name":"O_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678342190,"creation_date":1672767560,"question_id":74996801,"body_markdown":"I am working on a multi module java gradle project. I am trying to create a Test report with test results coming from all modules. I tried to use Test Report Aggregation Plugin but its not working. Can anyone suggest how to use it or any other way to aggregate test results across multiple subprojects.","title":"How to generate single html test result in multi module gradle project?","body":"<p>I am working on a multi module java gradle project. I am trying to create a Test report with test results coming from all modules. I tried to use Test Report Aggregation Plugin but its not working. Can anyone suggest how to use it or any other way to aggregate test results across multiple subprojects.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1678342076,"post_id":75680947,"comment_id":133514442,"body_markdown":"How do you think we can find out what is wrong?","body":"How do you think we can find out what is wrong?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678353498,"post_id":75680947,"comment_id":133517009,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27971336,"reputation":1,"user_id":21360990,"display_name":"Kolthuru Kaleemulla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678342161,"creation_date":1678341934,"question_id":75680947,"body_markdown":"Continuously I am getting the 404 error while doing the load test with 150 users in JMeter for a web application. Out of 150 users some users getting passed and rest getting failed. \r\n\r\nWhat is the reason behind this, your help will be highly appreciated.\r\n\r\n\r\nGetting 404 error. Please help me in this issue. . .","title":"404 Error while doing load test in JMeter","body":"<p>Continuously I am getting the 404 error while doing the load test with 150 users in JMeter for a web application. Out of 150 users some users getting passed and rest getting failed.</p>\n<p>What is the reason behind this, your help will be highly appreciated.</p>\n<p>Getting 404 error. Please help me in this issue. . .</p>\n"},{"tags":["java","android","android-layout","swipe"],"owner":{"account_id":27963893,"reputation":1,"user_id":21355135,"display_name":"Hugo Coutant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678342089,"creation_date":1678269788,"question_id":75671629,"body_markdown":"I want to create an application with bottom navbar with the possibility of swipe right and left to change fragment. After implementing these features, I noticed that the swipe works by changing the corresponding fragment on the navbar. But a second instance of fragment is present in parallel corresponding to the click on the various items of the navbar.\r\nSo I have two fragments that appear in parallel on the screen, one linked to the swipe and the other linked to the navbar. So I will know how to link the same instance of each fragment to the swipe and navbar.\r\n\r\nAt the start of my application, I took the activity with the bottom navbar as a main activity.\r\n\r\nHere is a screen to illustrate:\r\n\r\n![1](https://i.stack.imgur.com/pyHEw.png)\r\n\r\n\r\nI tried to manipulate the fragments for added them to the items of the navbar but I failed to know how to do with the nav host fragment.","title":"Separation between bottom navbar and swipe left/right","body":"<p>I want to create an application with bottom navbar with the possibility of swipe right and left to change fragment. After implementing these features, I noticed that the swipe works by changing the corresponding fragment on the navbar. But a second instance of fragment is present in parallel corresponding to the click on the various items of the navbar.\nSo I have two fragments that appear in parallel on the screen, one linked to the swipe and the other linked to the navbar. So I will know how to link the same instance of each fragment to the swipe and navbar.</p>\n<p>At the start of my application, I took the activity with the bottom navbar as a main activity.</p>\n<p>Here is a screen to illustrate:</p>\n<p><img src=\"https://i.stack.imgur.com/pyHEw.png\" alt=\"1\" /></p>\n<p>I tried to manipulate the fragments for added them to the items of the navbar but I failed to know how to do with the nav host fragment.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11365073,"reputation":1,"user_id":9277849,"display_name":"Bruno Nascimento"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678341398,"creation_date":1677878519,"answer_id":75631988,"question_id":75631541,"body_markdown":"do you just ask for permission or do you also search for location data?\r\n\r\nHere is an example of a request for permission without seeking the location.\r\n\r\n    if((ContextCompat.checkSelfPermission(activity,Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED)) {\r\n    \r\n    return true\r\n    \r\n    }\r\n    else{\r\n    \r\n    return false\r\n    \r\n    }","title":"Android studio location permission issue","body":"<p>do you just ask for permission or do you also search for location data?</p>\n<p>Here is an example of a request for permission without seeking the location.</p>\n<pre><code>if((ContextCompat.checkSelfPermission(activity,Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED)) {\n\nreturn true\n\n}\nelse{\n\nreturn false\n\n}\n</code></pre>\n"}],"owner":{"account_id":24275729,"reputation":1,"user_id":18223057,"display_name":"Jayesh Kumavat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678341398,"creation_date":1677874706,"question_id":75631541,"body_markdown":"I made an android application.\r\n\r\nI have problem when starting the app because of location permission, when app start I put function to get device location. The problem is sometime when we click &quot;Yes&quot; on the permission it crashed on the first time. It still get the location and have no problem for second and afterwards.\r\n\r\nDo you have any idea how to solve this?\r\n\r\nHow to resolve this issue?","title":"Android studio location permission issue","body":"<p>I made an android application.</p>\n<p>I have problem when starting the app because of location permission, when app start I put function to get device location. The problem is sometime when we click &quot;Yes&quot; on the permission it crashed on the first time. It still get the location and have no problem for second and afterwards.</p>\n<p>Do you have any idea how to solve this?</p>\n<p>How to resolve this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1678167701,"post_id":75658362,"comment_id":133476356,"body_markdown":"You&#39;ve typed different commands -- `java MyClass`, which as the error message explains doesn&#39;t work because you left out the package, and `java MyClass.java` which uses the new ability of `java` to run a single class from the source file, without a compilation step.","body":"You&#39;ve typed different commands -- <code>java MyClass</code>, which as the error message explains doesn&#39;t work because you left out the package, and <code>java MyClass.java</code> which uses the new ability of <code>java</code> to run a single class from the source file, without a compilation step."},{"owner":{"account_id":19068233,"reputation":7,"user_id":13922943,"display_name":"Vats"},"score":0,"creation_date":1678168373,"post_id":75658362,"comment_id":133476440,"body_markdown":"so what is correct syntax without .java?","body":"so what is correct syntax without .java?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678169431,"post_id":75658362,"comment_id":133476569,"body_markdown":"What&#39;s the first line of the `MyClass.java` file? Please [edit] your question to include the first few lines of the file _as text_ (not as image)","body":"What&#39;s the first line of the <code>MyClass.java</code> file? Please <a href=\"https://stackoverflow.com/posts/75658362/edit\">edit</a> your question to include the first few lines of the file <i>as text</i> (not as image)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678173534,"creation_date":1678168471,"answer_id":75658456,"question_id":75658362,"body_markdown":"&gt; `java MyClass`\r\n\r\nThis treats the argument as a _Fully Qualified Name_ and looks that type up in the _classpath_. It does this by translating the FQN to a filename (replace all dots with slashes and stick `.class` at the end of it), so, `/MyClass.class`, and then looks for that file by appending that string to all entries on the classpath. This succeeds, in that `.` (the current directory) is likely on your classpath, and there is indeed `./MyClass.class` - that is a real file.\r\n\r\nHowever, this then fails: This class file is opened, read, and java _only then_ notices: Ah, this is a class file describing `myPackage.myClass`, and I wanted `MyClass`, so while I found the file, I&#39;m not going to run it.\r\n\r\nTo make it work, you&#39;d have to run `java myPackage.myClass` (note the lower case m here), which will look for /myPackage/MyClass.class relative to all classpaths. For it to work it needs to [A] find the file, __and__ [B] that file needs to be the product of compiling a file containing `package myPackage; .... class myClass {}` in it.\r\n\r\n&gt; `java MyClass.java`\r\n\r\nThis is something completely different; javac treats this is as a special case (new functionality since Java 11), __solely__ intended for very bare bones &quot;I am learning java&quot; / &quot;Making a quick demo project&quot;. This bypasses all attempts to build a complete application and shortcuts the process: It opens that file, compiles it, and runs that class that was in it that was `public`, regardless of its actual name or package.\r\n\r\nThis &#39;mode&#39; is triggered because the argument ends in `.java` _and_ that file exists.\r\n\r\nThis does work and runs your code fine.\r\n\r\n","title":"javac and java command in terminal","body":"<blockquote>\n<p><code>java MyClass</code></p>\n</blockquote>\n<p>This treats the argument as a <em>Fully Qualified Name</em> and looks that type up in the <em>classpath</em>. It does this by translating the FQN to a filename (replace all dots with slashes and stick <code>.class</code> at the end of it), so, <code>/MyClass.class</code>, and then looks for that file by appending that string to all entries on the classpath. This succeeds, in that <code>.</code> (the current directory) is likely on your classpath, and there is indeed <code>./MyClass.class</code> - that is a real file.</p>\n<p>However, this then fails: This class file is opened, read, and java <em>only then</em> notices: Ah, this is a class file describing <code>myPackage.myClass</code>, and I wanted <code>MyClass</code>, so while I found the file, I'm not going to run it.</p>\n<p>To make it work, you'd have to run <code>java myPackage.myClass</code> (note the lower case m here), which will look for /myPackage/MyClass.class relative to all classpaths. For it to work it needs to [A] find the file, <strong>and</strong> [B] that file needs to be the product of compiling a file containing <code>package myPackage; .... class myClass {}</code> in it.</p>\n<blockquote>\n<p><code>java MyClass.java</code></p>\n</blockquote>\n<p>This is something completely different; javac treats this is as a special case (new functionality since Java 11), <strong>solely</strong> intended for very bare bones &quot;I am learning java&quot; / &quot;Making a quick demo project&quot;. This bypasses all attempts to build a complete application and shortcuts the process: It opens that file, compiles it, and runs that class that was in it that was <code>public</code>, regardless of its actual name or package.</p>\n<p>This 'mode' is triggered because the argument ends in <code>.java</code> <em>and</em> that file exists.</p>\n<p>This does work and runs your code fine.</p>\n"}],"owner":{"account_id":19068233,"reputation":7,"user_id":13922943,"display_name":"Vats"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75658456,"answer_count":1,"score":-1,"last_activity_date":1678340883,"creation_date":1678167309,"question_id":75658362,"body_markdown":"I have a question below. I use JDK 17. \r\n\r\nthis is my codes.\r\n\r\n    package myPackage;\r\n     \r\n      public class myClass {\r\n      \r\n      public static void main(String[] args){\r\n    \r\n        System.out.println(&quot;test&quot;);\r\n     }\r\n      \r\n    }\r\n\r\n\r\n1.When I write in IntelliJ terminal:\r\n\r\n    javac MyClass.java\r\n    java MyClass\r\n\r\nError:Could not find or load main class MyClass\r\njava.lang.NoClassDefFoundError: myPackage/myClass(wrong name: MyClass)\r\n\r\n2.When I write in IntelliJ terminal:\r\n\r\n    javac MyClass.java\r\n    java MyClass.java\r\n\r\nProgram run succesfully without any error. \r\n\r\nMay somebody explain me why this happen?\r\n\r\nEdit:\r\n[This is directory and cmd commands][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w8DqJ.png","title":"javac and java command in terminal","body":"<p>I have a question below. I use JDK 17.</p>\n<p>this is my codes.</p>\n<pre><code>package myPackage;\n \n  public class myClass {\n  \n  public static void main(String[] args){\n\n    System.out.println(&quot;test&quot;);\n }\n  \n}\n</code></pre>\n<p>1.When I write in IntelliJ terminal:</p>\n<pre><code>javac MyClass.java\njava MyClass\n</code></pre>\n<p>Error:Could not find or load main class MyClass\njava.lang.NoClassDefFoundError: myPackage/myClass(wrong name: MyClass)</p>\n<p>2.When I write in IntelliJ terminal:</p>\n<pre><code>javac MyClass.java\njava MyClass.java\n</code></pre>\n<p>Program run succesfully without any error.</p>\n<p>May somebody explain me why this happen?</p>\n<p>Edit:\n<a href=\"https://i.stack.imgur.com/w8DqJ.png\" rel=\"nofollow noreferrer\">This is directory and cmd commands</a></p>\n"},{"tags":["python","java","pyspark"],"owner":{"account_id":27969106,"reputation":1,"user_id":21359230,"display_name":"StevieWeevie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678340356,"creation_date":1678311870,"question_id":75678523,"body_markdown":"# Error Description\r\nFull error is as follows below, getting a really weird error to launch pyspark, and am unable to reproduce this bug on other machines. \r\n\r\nWorking on getting Pyspark 3.2.1 to run with Python 3.8.15, unable to get the installs to work. \r\n\r\n## Installed following these commands: [Original Instructions](https://sparkbyexamples.com/pyspark/install-pyspark-in-anaconda-jupyter-notebook/)\r\n\r\nconda install openjdk\r\nconda install pyspark\r\nconda install -c conda-forge findspark\r\npyspark (fails to launch)\r\n\r\nFull error below: \r\n```\r\nPython 3.8.15 (default, Nov 24 2022, 15:19:38) \r\n[GCC 11.2.0] :: Anaconda, Inc. on linux\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\nminiconda3/lib/python3.8/site-packages/pyspark//python/pyspark/shell.py:42: UserWarning: Failed to initialize Spark session.                                                     \r\n  warnings.warn(&quot;Failed to initialize Spark session.&quot;)\r\nTraceback (most recent call last):\r\n  File &quot;miniconda3/lib/python3.8/site-packages/pyspark//python/pyspark/shell.py&quot;, line 38, in &lt;module&gt;\r\n    spark = SparkSession._create_shell_session()  # type: ignore\r\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/sql/session.py&quot;, line 553, in _create_shell_session\r\n    return SparkSession.builder.getOrCreate()\r\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/sql/session.py&quot;, line 231, in getOrCreate\r\n    session = SparkSession(sc)\r\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/sql/session.py&quot;, line 248, in __init__\r\n    if self._jvm.SparkSession.getDefaultSession().isDefined() \\\r\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/python/lib/py4j-0.10.9.3-src.zip/py4j/java_gateway.py&quot;, line 1321, in __call__\r\n    return_value = get_return_value(\r\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/python/lib/py4j-0.10.9.3-src.zip/py4j/protocol.py&quot;, line 326, in get_return_value\r\n    raise Py4JJavaError(\r\npy4j.protocol.Py4JJavaError: An error occurred while calling z:org.apache.spark.sql.SparkSession.getDefaultSession.\r\n: java.lang.NoSuchMethodError: org.apache.spark.util.Utils$.isInRunningSparkTask()Z\r\n        at org.apache.spark.sql.SparkSession$.getDefaultSession(SparkSession.scala:1042)\r\n        at org.apache.spark.sql.SparkSession.getDefaultSession(SparkSession.scala)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:497)\r\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n        at py4j.Gateway.invoke(Gateway.java:282)\r\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n```\r\n\r\nTried multiple reinstalls using different Conda environments. \r\n\r\nIf I move to other machines, I am able to easily get it to work with no problems. Just does not want to work on the specific machine it has to work on. ","title":"PySpark 3.2.1 Cannot Launch Pyspark","body":"<h1>Error Description</h1>\n<p>Full error is as follows below, getting a really weird error to launch pyspark, and am unable to reproduce this bug on other machines.</p>\n<p>Working on getting Pyspark 3.2.1 to run with Python 3.8.15, unable to get the installs to work.</p>\n<h2>Installed following these commands: <a href=\"https://sparkbyexamples.com/pyspark/install-pyspark-in-anaconda-jupyter-notebook/\" rel=\"nofollow noreferrer\">Original Instructions</a></h2>\n<p>conda install openjdk\nconda install pyspark\nconda install -c conda-forge findspark\npyspark (fails to launch)</p>\n<p>Full error below:</p>\n<pre><code>Python 3.8.15 (default, Nov 24 2022, 15:19:38) \n[GCC 11.2.0] :: Anaconda, Inc. on linux\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\nminiconda3/lib/python3.8/site-packages/pyspark//python/pyspark/shell.py:42: UserWarning: Failed to initialize Spark session.                                                     \n  warnings.warn(&quot;Failed to initialize Spark session.&quot;)\nTraceback (most recent call last):\n  File &quot;miniconda3/lib/python3.8/site-packages/pyspark//python/pyspark/shell.py&quot;, line 38, in &lt;module&gt;\n    spark = SparkSession._create_shell_session()  # type: ignore\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/sql/session.py&quot;, line 553, in _create_shell_session\n    return SparkSession.builder.getOrCreate()\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/sql/session.py&quot;, line 231, in getOrCreate\n    session = SparkSession(sc)\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/sql/session.py&quot;, line 248, in __init__\n    if self._jvm.SparkSession.getDefaultSession().isDefined() \\\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/python/lib/py4j-0.10.9.3-src.zip/py4j/java_gateway.py&quot;, line 1321, in __call__\n    return_value = get_return_value(\n  File &quot;/home/ubuntu/miniconda3/lib/python3.8/site-packages/pyspark/python/lib/py4j-0.10.9.3-src.zip/py4j/protocol.py&quot;, line 326, in get_return_value\n    raise Py4JJavaError(\npy4j.protocol.Py4JJavaError: An error occurred while calling z:org.apache.spark.sql.SparkSession.getDefaultSession.\n: java.lang.NoSuchMethodError: org.apache.spark.util.Utils$.isInRunningSparkTask()Z\n        at org.apache.spark.sql.SparkSession$.getDefaultSession(SparkSession.scala:1042)\n        at org.apache.spark.sql.SparkSession.getDefaultSession(SparkSession.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n        at py4j.Gateway.invoke(Gateway.java:282)\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n</code></pre>\n<p>Tried multiple reinstalls using different Conda environments.</p>\n<p>If I move to other machines, I am able to easily get it to work with no problems. Just does not want to work on the specific machine it has to work on.</p>\n"},{"tags":["java","android","modbus-tcp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678025618,"post_id":75625388,"comment_id":133449280,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":19682641,"reputation":80,"user_id":14409408,"display_name":"Lookyus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677851555,"creation_date":1677851555,"answer_id":75627941,"question_id":75625388,"body_markdown":"I am not sure that I completely understand the question, but I do think that it has something to do with you connecting your phone directly to your laptop.\r\n\r\nWhen you connect your phone to a network device, such as router or switch, it get&#39;s the IP address from the DHCP server, but when you connect it directly to your laptop, your phone simply doesn&#39;t have any IP address, unless you set up a static address, so it&#39;s not visible on the network.","title":"Accessing ethernet port connected to android phone","body":"<p>I am not sure that I completely understand the question, but I do think that it has something to do with you connecting your phone directly to your laptop.</p>\n<p>When you connect your phone to a network device, such as router or switch, it get's the IP address from the DHCP server, but when you connect it directly to your laptop, your phone simply doesn't have any IP address, unless you set up a static address, so it's not visible on the network.</p>\n"}],"owner":{"account_id":27925660,"reputation":3,"user_id":21324827,"display_name":"Darshan Modi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75627941,"answer_count":1,"score":0,"last_activity_date":1678340068,"creation_date":1677836238,"question_id":75625388,"body_markdown":"I am trying to build an app for modbus tcp/ip client on my android device.\r\nI&#39;ve attached a USB to ethernet port converter and I&#39;m trying to communicate through my laptop as a server.\r\nI&#39;m not able to connect to the network with the error saying:\r\n\r\njava.net.ConnectionException: failed to connect to /192.168.29.244 (port 502) from /::(port 0): connect failed: ENETUNREACH (network is unreachable)\r\n\r\nI&#39;m trying that by keeping the phone on Wifi and data off/airplane mode so as not to confuse it with Wifi signals.\r\n\r\nIt works flawlessly when my android device and laptop are on the same wireless network, but when attempting a wired connection with the laptop, it fails with the above-mentioned error.\r\nBut when I tried a wired connection with the network switch on which I&#39;ve my entire wifi internet, it worked.\r\n\r\nNot able to figure out the problem.\r\n\r\n[Table][1]\r\n\r\n    Thread t1 = new Thread(() -&gt; {\r\n                    /* The important instances of the classes mentioned before */\r\n                    con = null; //the connection\r\n\r\n                    /* Variables for storing the parameters */\r\n                    int port = Integer.parseInt(etPort.getText().toString());\r\n\r\n                    String ip = etIP.getText().toString();\r\n                    try {\r\n                        InetAddress addr = InetAddress.getByName(ip);//the slave&#39;s address\r\n\r\n                        con = new TCPMasterConnection(addr);\r\n                        con.setPort(port);\r\n                        con.setTimeout(500);\r\n                        Log.d(&quot;Connection parameters&quot;, &quot;Timeout: &quot; + con.getTimeout() + &quot; Port: &quot; + port);\r\n                        con.connect();\r\n                        runOnUiThread(() -&gt; {\r\n                            tv.setText(&quot;Connected!!!&quot;);\r\n                            connect.setText(&quot;Disconnect&quot;);\r\n                        });\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        Log.e(&quot;Error!&quot;, e.toString());\r\n                        runOnUiThread(() -&gt; {\r\n                            tv.setText(e.toString());\r\n                        });\r\n                    }\r\n                });\r\n                if (connect.getText().equals(&quot;Connect&quot;))\r\n                    t1.start();\r\n                else {\r\n                    Log.d(&quot;In diconnect&quot;, &quot;Coonection closed!&quot;);\r\n                    con.close();\r\n                    connect.setText(&quot;Connect&quot;);\r\n                    tv.setText(&quot;Disconnected!!!&quot;);\r\n                }\r\n\r\n  [1]: https://i.stack.imgur.com/jDPYK.png","title":"Accessing ethernet port connected to android phone","body":"<p>I am trying to build an app for modbus tcp/ip client on my android device.\nI've attached a USB to ethernet port converter and I'm trying to communicate through my laptop as a server.\nI'm not able to connect to the network with the error saying:</p>\n<p>java.net.ConnectionException: failed to connect to /192.168.29.244 (port 502) from /::(port 0): connect failed: ENETUNREACH (network is unreachable)</p>\n<p>I'm trying that by keeping the phone on Wifi and data off/airplane mode so as not to confuse it with Wifi signals.</p>\n<p>It works flawlessly when my android device and laptop are on the same wireless network, but when attempting a wired connection with the laptop, it fails with the above-mentioned error.\nBut when I tried a wired connection with the network switch on which I've my entire wifi internet, it worked.</p>\n<p>Not able to figure out the problem.</p>\n<p><a href=\"https://i.stack.imgur.com/jDPYK.png\" rel=\"nofollow noreferrer\">Table</a></p>\n<pre><code>Thread t1 = new Thread(() -&gt; {\n                /* The important instances of the classes mentioned before */\n                con = null; //the connection\n\n                /* Variables for storing the parameters */\n                int port = Integer.parseInt(etPort.getText().toString());\n\n                String ip = etIP.getText().toString();\n                try {\n                    InetAddress addr = InetAddress.getByName(ip);//the slave's address\n\n                    con = new TCPMasterConnection(addr);\n                    con.setPort(port);\n                    con.setTimeout(500);\n                    Log.d(&quot;Connection parameters&quot;, &quot;Timeout: &quot; + con.getTimeout() + &quot; Port: &quot; + port);\n                    con.connect();\n                    runOnUiThread(() -&gt; {\n                        tv.setText(&quot;Connected!!!&quot;);\n                        connect.setText(&quot;Disconnect&quot;);\n                    });\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    Log.e(&quot;Error!&quot;, e.toString());\n                    runOnUiThread(() -&gt; {\n                        tv.setText(e.toString());\n                    });\n                }\n            });\n            if (connect.getText().equals(&quot;Connect&quot;))\n                t1.start();\n            else {\n                Log.d(&quot;In diconnect&quot;, &quot;Coonection closed!&quot;);\n                con.close();\n                connect.setText(&quot;Connect&quot;);\n                tv.setText(&quot;Disconnected!!!&quot;);\n            }\n</code></pre>\n"},{"tags":["java","string","string-formatting"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1678203308,"post_id":75663999,"comment_id":133485550,"body_markdown":"You&#39;ll have to first propose some logic by which your program should decide which spaces to keep. A large part of software development is defining the problem and algorithms for solution in clear terms. Your first step should be to define a clear ruleset by which anyone, including a computer, can decide which of the spaces should be deleted and which ones kept.","body":"You&#39;ll have to first propose some logic by which your program should decide which spaces to keep. A large part of software development is defining the problem and algorithms for solution in clear terms. Your first step should be to define a clear ruleset by which anyone, including a computer, can decide which of the spaces should be deleted and which ones kept."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1678203881,"post_id":75663999,"comment_id":133485746,"body_markdown":"How do you want your program to figure out `I&#39;am a String` instead of `I&#39;amaString`?","body":"How do you want your program to figure out <code>I&#39;am a String</code> instead of <code>I&#39;amaString</code>?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1678206491,"post_id":75663999,"comment_id":133486620,"body_markdown":"Are you **sure** those extra characters are space characters?  Recently, I saw a Stack Overflow question which observed a similar effect, because someone tried to convert UTF-16 bytes to a String using the platform’s default charset, which happened to be a one-byte windows-12nn charset.  Are you sure your extra characters are space characters and not zero ([NUL](https://www.fileformat.info/info/unicode/char/0000/)) characters?","body":"Are you <b>sure</b> those extra characters are space characters?  Recently, I saw a Stack Overflow question which observed a similar effect, because someone tried to convert UTF-16 bytes to a String using the platform’s default charset, which happened to be a one-byte windows-12nn charset.  Are you sure your extra characters are space characters and not zero (<a href=\"https://www.fileformat.info/info/unicode/char/0000/\" rel=\"nofollow noreferrer\">NUL</a>) characters?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678219895,"post_id":75663999,"comment_id":133490210,"body_markdown":"Your example was somewhat trivial.  How do you define excessive spaces?  For example,  `&quot;H e     l   l        o   ,      W  o    r l  d!!&quot;` has excessive spaces.  Would you expect that to be reduced to `&quot;Hello, World!!&quot;`?","body":"Your example was somewhat trivial.  How do you define excessive spaces?  For example,  <code>&quot;H e     l   l        o   ,      W  o    r l  d!!&quot;</code> has excessive spaces.  Would you expect that to be reduced to <code>&quot;Hello, World!!&quot;</code>?"},{"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"score":0,"creation_date":1678308294,"post_id":75663999,"comment_id":133509562,"body_markdown":"@WJS, my question is specific to the one extra whitespace between characters and normal spaces, but yes your example would be valid as well","body":"@WJS, my question is specific to the one extra whitespace between characters and normal spaces, but yes your example would be valid as well"}],"answers":[{"tags":[],"owner":{"account_id":3929541,"reputation":384,"user_id":3248732,"display_name":"Triphon Penakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678340040,"creation_date":1678204615,"answer_id":75664295,"question_id":75663999,"body_markdown":"We have to substitute `space,not a space` sequence with the second symbol(s) ( `not a space` ). \r\n\r\nThere are more than one spaces between the words and one space between the letters in the word. With the regular expression `oldString.replaceAll(&quot; ([^ ]+)&quot;, &quot;$1&quot;)` we are removing any space that is followed by non space character. In that way only spaces is left between words and no spaces left between the letters in the word. Now we can normalize the spaces between words with the following expression:  `newString1.replaceAll(&quot;[ ]{2,}&quot;, &quot; &quot;)`\r\n\r\n\r\nBelow is the code that doing it:\r\n```\r\n  @Test\r\n  void removeEmptySpaces() {\r\n    final String oldString = &quot;1  :  H i ,  I &#39; a m  a     S t r i n g .&quot;;\r\n    final String expectedString = &quot;1 : Hi, I&#39;am a String.&quot;;\r\n    // Trying to substitute all &#39;space,not a space&#39; sequence with the second symbol(s)\r\n    final String newString1 = oldString.replaceAll(&quot; ([^ ]+)&quot;, &quot;$1&quot;);\r\n    final String newString = newString1.replaceAll(&quot;[ ]{2,}&quot;, &quot; &quot;);\r\n    System.out.println(newString); // 1 : Hi, I&#39;am a String.\r\n    Assertions.assertEquals(expectedString, newString);\r\n  }\r\n\r\n  }\r\n```","title":"How do I remove excessive spaces between characters in java String","body":"<p>We have to substitute <code>space,not a space</code> sequence with the second symbol(s) ( <code>not a space</code> ).</p>\n<p>There are more than one spaces between the words and one space between the letters in the word. With the regular expression <code>oldString.replaceAll(&quot; ([^ ]+)&quot;, &quot;$1&quot;)</code> we are removing any space that is followed by non space character. In that way only spaces is left between words and no spaces left between the letters in the word. Now we can normalize the spaces between words with the following expression:  <code>newString1.replaceAll(&quot;[ ]{2,}&quot;, &quot; &quot;)</code></p>\n<p>Below is the code that doing it:</p>\n<pre><code>  @Test\n  void removeEmptySpaces() {\n    final String oldString = &quot;1  :  H i ,  I ' a m  a     S t r i n g .&quot;;\n    final String expectedString = &quot;1 : Hi, I'am a String.&quot;;\n    // Trying to substitute all 'space,not a space' sequence with the second symbol(s)\n    final String newString1 = oldString.replaceAll(&quot; ([^ ]+)&quot;, &quot;$1&quot;);\n    final String newString = newString1.replaceAll(&quot;[ ]{2,}&quot;, &quot; &quot;);\n    System.out.println(newString); // 1 : Hi, I'am a String.\n    Assertions.assertEquals(expectedString, newString);\n  }\n\n  }\n</code></pre>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1678220390,"accepted_answer_id":75664295,"answer_count":1,"score":-1,"last_activity_date":1678340040,"creation_date":1678203137,"question_id":75663999,"body_markdown":"I am pulling text from a file and for some reason it is formatted with extra whitespace between each character(ex: &quot;H i ,  I  a m  a  S t r i n g .&quot;).\r\n\r\nIs there a way I can cleanly remove the excess white space something like\r\n\r\n```java\r\npublic String cleanString(Sting string){\r\n    //do Something\r\n    return cleanedString;\r\n}\r\nString oldString = &quot;1  :  H i ,  I &#39; a m  a  S t r i n g .&quot;;\r\n\r\nSystem.out.println(cleanString(oldString));\r\n``` \r\n`Output: &quot;1: Hi, I&#39;am a String.&quot;`\r\n\r\nEdit: By excessive spaces/white space I mean the extra space between every character in the string including the valid spaces.\r\n\r\nI am replacing the &quot;excessive space&quot; with • so it is more visible\r\nString -&gt; &quot;H•e•l•l•o• •W•o•r•l•d&quot;\r\nImagine that the • is just white space or the &quot;space&quot; character. I would like to remove them.\r\n\r\nThe extra spaces are indeed spaces and not null characters, I double checked that.\r\n\r\n\r\n","title":"How do I remove excessive spaces between characters in java String","body":"<p>I am pulling text from a file and for some reason it is formatted with extra whitespace between each character(ex: &quot;H i ,  I  a m  a  S t r i n g .&quot;).</p>\n<p>Is there a way I can cleanly remove the excess white space something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String cleanString(Sting string){\n    //do Something\n    return cleanedString;\n}\nString oldString = &quot;1  :  H i ,  I ' a m  a  S t r i n g .&quot;;\n\nSystem.out.println(cleanString(oldString));\n</code></pre>\n<p><code>Output: &quot;1: Hi, I'am a String.&quot;</code></p>\n<p>Edit: By excessive spaces/white space I mean the extra space between every character in the string including the valid spaces.</p>\n<p>I am replacing the &quot;excessive space&quot; with • so it is more visible\nString -&gt; &quot;H•e•l•l•o• •W•o•r•l•d&quot;\nImagine that the • is just white space or the &quot;space&quot; character. I would like to remove them.</p>\n<p>The extra spaces are indeed spaces and not null characters, I double checked that.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1678203164,"post_id":75663695,"comment_id":133485506,"body_markdown":"The first matched substring is `2` having one digit. What are you trying to achieve? what is the overall expected output? `[2, 18]` ?","body":"The first matched substring is <code>2</code> having one digit. What are you trying to achieve? what is the overall expected output? <code>[2, 18]</code> ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678207194,"post_id":75663695,"comment_id":133486820,"body_markdown":"“I am trying to create a regular expression that extracts all consecutive digits from a string (including single digit)” The pattern `&quot;\\\\d{1,4}&quot;` is all you need to do this.  You are literally looking for a sequence of 1–4 digits.  There is no need to make it more complicated than that.","body":"“I am trying to create a regular expression that extracts all consecutive digits from a string (including single digit)” The pattern <code>&quot;\\\\d{1,4}&quot;</code> is all you need to do this.  You are literally looking for a sequence of 1–4 digits.  There is no need to make it more complicated than that."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678207651,"creation_date":1678206184,"answer_id":75664598,"question_id":75663695,"body_markdown":"The pattern `&quot;.*(\\\\d{4})|(\\\\d{3})|(\\\\d{2})|(\\\\d+).*&quot;` would match something like `&quot;abc1234|567|89|0efg&quot;`\r\n\r\nI suppose you need a pattern like this: `&quot;(\\\\d{1,4})&quot;`\r\n\r\n    public static void main(String[] args) {\r\n        checkRegex(&quot;2G18R&quot;);\r\n        checkRegex(&quot;2G18R15559X9871C1&quot;);\r\n    }\r\n\r\n    private static void checkRegex(String str) {\r\n        System.out.println(&quot;original string &quot; + str);\r\n        Pattern pattern = Pattern.compile(&quot;(\\\\d+)&quot;);\r\n        Matcher matcher = pattern.matcher(str);\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        while (matcher.find()) {\r\n            result.add(matcher.group(1));\r\n        }\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n\r\nAnd output:\r\n```\r\noriginal string 2G18R\r\nResult: [2, 18]\r\noriginal string 2G18R15559X9871C1\r\nResult: [2, 18, 15559, 9871, 1]\r\n","title":"Java Regular Expression Matcher not returning group of 2 consecutive digits when ORing with single digit group","body":"<p>The pattern <code>&quot;.*(\\\\d{4})|(\\\\d{3})|(\\\\d{2})|(\\\\d+).*&quot;</code> would match something like <code>&quot;abc1234|567|89|0efg&quot;</code></p>\n<p>I suppose you need a pattern like this: <code>&quot;(\\\\d{1,4})&quot;</code></p>\n<pre><code>public static void main(String[] args) {\n    checkRegex(&quot;2G18R&quot;);\n    checkRegex(&quot;2G18R15559X9871C1&quot;);\n}\n\nprivate static void checkRegex(String str) {\n    System.out.println(&quot;original string &quot; + str);\n    Pattern pattern = Pattern.compile(&quot;(\\\\d+)&quot;);\n    Matcher matcher = pattern.matcher(str);\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    while (matcher.find()) {\n        result.add(matcher.group(1));\n    }\n    System.out.println(&quot;Result: &quot; + result);\n}\n</code></pre>\n<p>And output:</p>\n<pre><code>original string 2G18R\nResult: [2, 18]\noriginal string 2G18R15559X9871C1\nResult: [2, 18, 15559, 9871, 1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678243401,"creation_date":1678242674,"answer_id":75668950,"question_id":75663695,"body_markdown":"It&#39;s unclear if you just want the array of numbers or want to use regular expressions.  Here is an alternative to matching.  Just use split.\r\n```\r\nString[] array = {\r\n        &quot;2G18R&quot;,&quot;2sls2l2222l1l1&quot;,&quot;ksksks2232ksksk2k2k22k222k2k9282&quot;\r\n};\r\n```\r\n- Here, split will split the string on any length of nonDigits `\\\\D+`\r\n- if all your strings start with digits, then you won&#39;t need the conditional copy as that just copies the array and skips the first cell if the string doesn&#39;t start with a digit.\r\n```\r\nfor (String str : array) {\r\n    String[] numbers = str.split(&quot;\\\\D+&quot;);\r\n    if (numbers.length &gt; 0 &amp;&amp; numbers[0].isBlank()) {\r\n        numbers = Arrays.copyOfRange(numbers, 1, numbers.length);\r\n    }\r\n    System.out.println(Arrays.toString(numbers));\r\n}\r\n```\r\nYou could also just take a stream approach and filter out the offending string.\r\n```\r\nfor (String str : array) {\r\n    String[] numbers = Arrays.stream(str.split(&quot;\\\\D+&quot;))\r\n            .filter(s -&gt; !s.isBlank()).toArray(String[]::new);\r\n    System.out.println(Arrays.toString(numbers));\r\n}\r\n```\r\nboth print the following\r\n```\r\n[2, 18]\r\n[2, 2, 2222, 1, 1]\r\n[2232, 2, 2, 22, 222, 2, 9282]\r\n","title":"Java Regular Expression Matcher not returning group of 2 consecutive digits when ORing with single digit group","body":"<p>It's unclear if you just want the array of numbers or want to use regular expressions.  Here is an alternative to matching.  Just use split.</p>\n<pre><code>String[] array = {\n        &quot;2G18R&quot;,&quot;2sls2l2222l1l1&quot;,&quot;ksksks2232ksksk2k2k22k222k2k9282&quot;\n};\n</code></pre>\n<ul>\n<li>Here, split will split the string on any length of nonDigits <code>\\\\D+</code></li>\n<li>if all your strings start with digits, then you won't need the conditional copy as that just copies the array and skips the first cell if the string doesn't start with a digit.</li>\n</ul>\n<pre><code>for (String str : array) {\n    String[] numbers = str.split(&quot;\\\\D+&quot;);\n    if (numbers.length &gt; 0 &amp;&amp; numbers[0].isBlank()) {\n        numbers = Arrays.copyOfRange(numbers, 1, numbers.length);\n    }\n    System.out.println(Arrays.toString(numbers));\n}\n</code></pre>\n<p>You could also just take a stream approach and filter out the offending string.</p>\n<pre><code>for (String str : array) {\n    String[] numbers = Arrays.stream(str.split(&quot;\\\\D+&quot;))\n            .filter(s -&gt; !s.isBlank()).toArray(String[]::new);\n    System.out.println(Arrays.toString(numbers));\n}\n</code></pre>\n<p>both print the following</p>\n<pre><code>[2, 18]\n[2, 2, 2222, 1, 1]\n[2232, 2, 2, 22, 222, 2, 9282]\n</code></pre>\n"}],"owner":{"account_id":6299015,"reputation":967,"user_id":4894189,"accept_rate":71,"display_name":"Amit Dube"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75668950,"answer_count":2,"score":0,"last_activity_date":1678339744,"creation_date":1678201526,"question_id":75663695,"body_markdown":"I am trying to create a regular expression that extracts all consecutive digits from a string (including single digit)\r\n\r\nBelow regular expression is not able to extract 2 consecutive digits.\r\n\r\n```\r\npublic static void main(String args[]) {\r\n\tprint(checkRegex(&quot;2G18R&quot;));\r\n}\r\nprivate static void print(String arr []) {\r\n\tfor(String s : arr) {\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\tSystem.out.println(&quot;-----------------------------&quot;);\r\n}\r\nprivate static String [] checkRegex(String str) {\r\n\tSystem.out.println(&quot;original string &quot; + str);\r\n\tPattern pattern = Pattern.compile(&quot;.*(\\\\d{4})|(\\\\d{3})|(\\\\d{2})|(\\\\d+).*&quot;);\r\n    Matcher matcher = pattern.matcher(str);\r\n    if(matcher.find()) {\r\n\t\treturn new String [] {\r\n\t\t\tmatcher.group(1),\r\n\t\t\tmatcher.group(2),\r\n\t\t\tmatcher.group(3),\r\n\t\t\tmatcher.group(4)\r\n\t\t};\r\n     }\r\n     return new String [] {};\r\n}\r\n```\r\nExpected output is that matcher.group(3) should return 18.\r\nBut it is returning null.\r\n\r\nOverall expected output is [2, 18]\r\n ","title":"Java Regular Expression Matcher not returning group of 2 consecutive digits when ORing with single digit group","body":"<p>I am trying to create a regular expression that extracts all consecutive digits from a string (including single digit)</p>\n<p>Below regular expression is not able to extract 2 consecutive digits.</p>\n<pre><code>public static void main(String args[]) {\n    print(checkRegex(&quot;2G18R&quot;));\n}\nprivate static void print(String arr []) {\n    for(String s : arr) {\n        System.out.println(s);\n    }\n    System.out.println(&quot;-----------------------------&quot;);\n}\nprivate static String [] checkRegex(String str) {\n    System.out.println(&quot;original string &quot; + str);\n    Pattern pattern = Pattern.compile(&quot;.*(\\\\d{4})|(\\\\d{3})|(\\\\d{2})|(\\\\d+).*&quot;);\n    Matcher matcher = pattern.matcher(str);\n    if(matcher.find()) {\n        return new String [] {\n            matcher.group(1),\n            matcher.group(2),\n            matcher.group(3),\n            matcher.group(4)\n        };\n     }\n     return new String [] {};\n}\n</code></pre>\n<p>Expected output is that matcher.group(3) should return 18.\nBut it is returning null.</p>\n<p>Overall expected output is [2, 18]</p>\n"},{"tags":["java","http","sockets"],"answers":[{"tags":[],"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374223867,"creation_date":1374223867,"answer_id":17741826,"question_id":17741774,"body_markdown":"you need to get it as a stream: `response.getEntity().getContent()`\r\n\r\nthen you can directly read the stream into a `byte[]`.","title":"Convert HttpResponse to byte array","body":"<p>you need to get it as a stream: <code>response.getEntity().getContent()</code></p>\n\n<p>then you can directly read the stream into a <code>byte[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1678327086,"creation_date":1374227496,"answer_id":17743123,"question_id":17741774,"body_markdown":"It is not easy.\r\n\r\nIf you simply wanted the body of the response, then you could do this to grab it\r\n\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        response.getEntity().writeTo(baos);\r\n        byte[] bytes = baos.toByteArray();\r\n\r\nAlternatively:\r\n\r\n        byte[] bytes = EntityUtils.toByteArray(response.getEntity());\r\n\r\nThen you could add the content to another `HttpResponse` object as follows:\r\n\r\n        HttpResponse response = ...\r\n        response.setEntity(new ByteArrayEntity(bytes));\r\n\r\n-----------\r\n\r\nBut that&#39;s probably not good enough because you most likely need all of the other stuff in the original response; e.g. the status line and the headers (including the original content type and length).\r\n\r\nIf you want to deal with the whole response, you appear to have two choices:\r\n\r\n  - You could pick the response apart (e.g. getting the status line, iterating the headers) and manually serialize, then do the reverse at the other end.\r\n\r\n  - You can use `HttpResponseWriter` to do the serializing and `HttpResponseParser` to rebuild the response at the other end.  This is explained [here][1].\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-core-ga/tutorial/html/advanced.html","title":"Convert HttpResponse to byte array","body":"<p>It is not easy.</p>\n<p>If you simply wanted the body of the response, then you could do this to grab it</p>\n<pre><code>    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    response.getEntity().writeTo(baos);\n    byte[] bytes = baos.toByteArray();\n</code></pre>\n<p>Alternatively:</p>\n<pre><code>    byte[] bytes = EntityUtils.toByteArray(response.getEntity());\n</code></pre>\n<p>Then you could add the content to another <code>HttpResponse</code> object as follows:</p>\n<pre><code>    HttpResponse response = ...\n    response.setEntity(new ByteArrayEntity(bytes));\n</code></pre>\n<hr />\n<p>But that's probably not good enough because you most likely need all of the other stuff in the original response; e.g. the status line and the headers (including the original content type and length).</p>\n<p>If you want to deal with the whole response, you appear to have two choices:</p>\n<ul>\n<li><p>You could pick the response apart (e.g. getting the status line, iterating the headers) and manually serialize, then do the reverse at the other end.</p>\n</li>\n<li><p>You can use <code>HttpResponseWriter</code> to do the serializing and <code>HttpResponseParser</code> to rebuild the response at the other end.  This is explained <a href=\"http://hc.apache.org/httpcomponents-core-ga/tutorial/html/advanced.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615321348,"creation_date":1615321348,"answer_id":66554255,"question_id":17741774,"body_markdown":"With java11:\r\n\r\n    var client = HttpClient.newBuilder().build();\r\n    var request = HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(&quot;https://yourdomain.test&quot;)).GET().build();\r\n    HttpResponse&lt;byte[]&gt; response = client.send(request, HttpResponse.BodyHandlers.ofByteArray());\r\n    if (200 == response.statusCode()) {\r\n\t\t\t\tbyte[] bytes = response.body();\r\n    }\r\n","title":"Convert HttpResponse to byte array","body":"<p>With java11:</p>\n<pre><code>var client = HttpClient.newBuilder().build();\nvar request = HttpRequest.newBuilder()\n            .uri(URI.create(&quot;https://yourdomain.test&quot;)).GET().build();\nHttpResponse&lt;byte[]&gt; response = client.send(request, HttpResponse.BodyHandlers.ofByteArray());\nif (200 == response.statusCode()) {\n            byte[] bytes = response.body();\n}\n</code></pre>\n"}],"owner":{"account_id":1692453,"reputation":63,"user_id":1554547,"display_name":"chehom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30064,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17743123,"answer_count":3,"score":6,"last_activity_date":1678339692,"creation_date":1374223687,"question_id":17741774,"body_markdown":"I have\r\n\r\n     HttpResponse response = httpclient.execute(httpget);\r\n my method can transfer byte[] over sockets on device and PC, so how can i convert HttpResponse into byte[] and than back to HttpResponse?","title":"Convert HttpResponse to byte array","body":"<p>I have</p>\n\n<pre><code> HttpResponse response = httpclient.execute(httpget);\n</code></pre>\n\n<p>my method can transfer byte[] over sockets on device and PC, so how can i convert HttpResponse into byte[] and than back to HttpResponse?</p>\n"},{"tags":["java","sockets","ssl","x509certificate","truststore"],"answers":[{"tags":[],"owner":{"account_id":10190,"reputation":3578,"user_id":19136,"accept_rate":65,"display_name":"German"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1344016834,"creation_date":1344016834,"answer_id":11800936,"question_id":11799733,"body_markdown":"Provided that the server certificate is signed and valid, you only need to open the connection as usual:\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class URLConnectionReader {\r\n        public static void main(String[] args) throws Exception {\r\n            URL google = new URL(&quot;https://www.google.com/&quot;);\r\n            URLConnection yc = google.openConnection();\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(\r\n                                        yc.getInputStream()));\r\n            String inputLine;\r\n            while ((inputLine = in.readLine()) != null) \r\n                System.out.println(inputLine);\r\n            in.close();\r\n        }\r\n    }\r\n\r\nNote that the URL has the HTTPS schema to indicate the use of SSL.\r\n\r\nIf the server&#39;s certificate is signed but you are accessing using a different IP address/domain name than the one in the certificate, you can bypass hostname verification with this:\r\n\r\n    HostnameVerifier hv = new HostnameVerifier() {\r\n        public boolean verify(String urlHostName,SSLSession session) {\r\n            return true;\r\n        }\r\n    };\r\n    \r\n    HttpsURLConnection.setDefaultHostnameVerifier(hv);\r\n\r\nIf the certificate is not signed then you need to add it to the keystore used by the JVM ([useful commands][1]).\r\n\r\n\r\n  [1]: http://www.sslshopper.com/article-most-common-java-keytool-keystore-commands.html","title":"Received fatal alert: bad_certificate","body":"<p>Provided that the server certificate is signed and valid, you only need to open the connection as usual:</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class URLConnectionReader {\n    public static void main(String[] args) throws Exception {\n        URL google = new URL(\"https://www.google.com/\");\n        URLConnection yc = google.openConnection();\n        BufferedReader in = new BufferedReader(new InputStreamReader(\n                                    yc.getInputStream()));\n        String inputLine;\n        while ((inputLine = in.readLine()) != null) \n            System.out.println(inputLine);\n        in.close();\n    }\n}\n</code></pre>\n\n<p>Note that the URL has the HTTPS schema to indicate the use of SSL.</p>\n\n<p>If the server's certificate is signed but you are accessing using a different IP address/domain name than the one in the certificate, you can bypass hostname verification with this:</p>\n\n<pre><code>HostnameVerifier hv = new HostnameVerifier() {\n    public boolean verify(String urlHostName,SSLSession session) {\n        return true;\n    }\n};\n\nHttpsURLConnection.setDefaultHostnameVerifier(hv);\n</code></pre>\n\n<p>If the certificate is not signed then you need to add it to the keystore used by the JVM (<a href=\"http://www.sslshopper.com/article-most-common-java-keytool-keystore-commands.html\" rel=\"nofollow\">useful commands</a>).</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1344030881,"creation_date":1344030881,"answer_id":11803823,"question_id":11799733,"body_markdown":"You need to add the root cert to the keystore as well.","title":"Received fatal alert: bad_certificate","body":"<p>You need to add the root cert to the keystore as well.</p>\n"},{"tags":[],"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1498775923,"creation_date":1498775923,"answer_id":44836013,"question_id":11799733,"body_markdown":"I got this error when I removed these 2 lines. If you know your keystore has the right certs, make sure your code is looking at the right keystore.\r\n\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &lt;keystorePath&gt;));\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,&lt;keystorePassword&gt;));\r\n\r\nI also needed this VM argument:\r\n`-Djavax.net.ssl.trustStore=/app/certs/keystore.jk`\r\nSee here for more details:\r\nhttps://stackoverflow.com/a/34311797/1308453\r\n","title":"Received fatal alert: bad_certificate","body":"<p>I got this error when I removed these 2 lines. If you know your keystore has the right certs, make sure your code is looking at the right keystore.</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.keyStore\", &lt;keystorePath&gt;));\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\",&lt;keystorePassword&gt;));\n</code></pre>\n\n<p>I also needed this VM argument:\n<code>-Djavax.net.ssl.trustStore=/app/certs/keystore.jk</code>\nSee here for more details:\n<a href=\"https://stackoverflow.com/a/34311797/1308453\">https://stackoverflow.com/a/34311797/1308453</a></p>\n"},{"tags":[],"owner":{"account_id":3482752,"reputation":703,"user_id":2914366,"display_name":"lafual"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678338629,"creation_date":1678338629,"answer_id":75680648,"question_id":11799733,"body_markdown":"You will also get this error if one of the certificates used within the JKS has passed its expiry date.\r\n\r\nIn my specific test, I was using JRE8 to IBM MQ over SSL and the personal certificate had passed its expiration date. I only mention this in case that `bad_certificate` is symptomatic of the JRE version or an IBM MQ SSL handshake.\r\n\r\nThis doesn&#39;t necessarily answer the question, in that the author said that they had just generated a certificate, however if someone Google&#39;s the error (as I did) you may end up here.","title":"Received fatal alert: bad_certificate","body":"<p>You will also get this error if one of the certificates used within the JKS has passed its expiry date.</p>\n<p>In my specific test, I was using JRE8 to IBM MQ over SSL and the personal certificate had passed its expiration date. I only mention this in case that <code>bad_certificate</code> is symptomatic of the JRE version or an IBM MQ SSL handshake.</p>\n<p>This doesn't necessarily answer the question, in that the author said that they had just generated a certificate, however if someone Google's the error (as I did) you may end up here.</p>\n"}],"owner":{"account_id":1389073,"reputation":303,"user_id":1320360,"accept_rate":67,"display_name":"highflyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101134,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":11803823,"answer_count":4,"score":23,"last_activity_date":1678338629,"creation_date":1344011487,"question_id":11799733,"body_markdown":"I am trying to setup a SSL Socket connection (and am doing the following on the client)\r\n\r\n1. I generate a Certificte Signing Request to obtain a signed client certificate\r\n\r\n2. Now I have a private key (used during the CSR), a signed client certificate and root certificate (obtained out of band).\r\n\r\n3. I add the private key and signed client certificate to a cert chain and add that to the key manager. and the root cert to the trust manager.\r\nBut I get a bad certificate error.\r\n\r\nI am pretty sure I am using the right certs. Should I add the signed client cert to the trust manager as well? Tried that, no luck still.\r\n\r\n    //I add the private key and the client cert to KeyStore ks\r\n    FileInputStream certificateStream = new FileInputStream(clientCertFile);\r\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    java.security.cert.Certificate[] chain = {};\r\n    chain = certificateFactory.generateCertificates(certificateStream).toArray(chain);\r\n    certificateStream.close();\r\n    String privateKeyEntryPassword = &quot;123&quot;;\r\n    ks.setEntry(&quot;abc&quot;, new KeyStore.PrivateKeyEntry(privateKey, chain),\r\n            new KeyStore.PasswordProtection(privateKeyEntryPassword.toCharArray()));\r\n\r\n    //Add the root certificate to keystore jks\r\n    FileInputStream is = new FileInputStream(new File(filename));\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    java.security.cert.X509Certificate cert = (X509Certificate) cf.generateCertificate(is);\r\n    System.out.println(&quot;Certificate Information: &quot;);\r\n    System.out.println(cert.getSubjectDN().toString());\r\n    jks.setCertificateEntry(cert.getSubjectDN().toString(), cert);\r\n\r\n    //Initialize the keymanager and trustmanager and add them to the SSL context\r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n    kmf.init(ks, &quot;123&quot;.toCharArray());\r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n    tmf.init(jks);\r\n\r\nIs there some sort of certificate chain that I need to create here?  \r\nI had a p12 with these components as well and upon using pretty similar code, adding the private key to the keymanager and the root cert from p12 to the trust manager I could make it work. But now I need to make it work without the p12.\r\n\r\nEDIT: Stack trace was requested. Hope this should suffice. (NOTE: I masked the filenames)\r\n\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1720)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:954)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1165)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1149)\r\n\tat client.abc2.openSocketConnection(abc2.java:33)\r\n\tat client.abc1.runClient(abc1.java:63)\r\n\tat screens.app.abc.validateLogin(abc.java:197)\r\n\t... 32 more\r\n","title":"Received fatal alert: bad_certificate","body":"<p>I am trying to setup a SSL Socket connection (and am doing the following on the client)</p>\n\n<ol>\n<li><p>I generate a Certificte Signing Request to obtain a signed client certificate</p></li>\n<li><p>Now I have a private key (used during the CSR), a signed client certificate and root certificate (obtained out of band).</p></li>\n<li><p>I add the private key and signed client certificate to a cert chain and add that to the key manager. and the root cert to the trust manager.\nBut I get a bad certificate error.</p></li>\n</ol>\n\n<p>I am pretty sure I am using the right certs. Should I add the signed client cert to the trust manager as well? Tried that, no luck still.</p>\n\n<pre><code>//I add the private key and the client cert to KeyStore ks\nFileInputStream certificateStream = new FileInputStream(clientCertFile);\nCertificateFactory certificateFactory = CertificateFactory.getInstance(\"X.509\");\njava.security.cert.Certificate[] chain = {};\nchain = certificateFactory.generateCertificates(certificateStream).toArray(chain);\ncertificateStream.close();\nString privateKeyEntryPassword = \"123\";\nks.setEntry(\"abc\", new KeyStore.PrivateKeyEntry(privateKey, chain),\n        new KeyStore.PasswordProtection(privateKeyEntryPassword.toCharArray()));\n\n//Add the root certificate to keystore jks\nFileInputStream is = new FileInputStream(new File(filename));\nCertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\njava.security.cert.X509Certificate cert = (X509Certificate) cf.generateCertificate(is);\nSystem.out.println(\"Certificate Information: \");\nSystem.out.println(cert.getSubjectDN().toString());\njks.setCertificateEntry(cert.getSubjectDN().toString(), cert);\n\n//Initialize the keymanager and trustmanager and add them to the SSL context\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\nkmf.init(ks, \"123\".toCharArray());\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(\"SunX509\");\ntmf.init(jks);\n</code></pre>\n\n<p>Is there some sort of certificate chain that I need to create here?<br>\nI had a p12 with these components as well and upon using pretty similar code, adding the private key to the keymanager and the root cert from p12 to the trust manager I could make it work. But now I need to make it work without the p12.</p>\n\n<p>EDIT: Stack trace was requested. Hope this should suffice. (NOTE: I masked the filenames)</p>\n\n<pre><code>Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate\nat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\nat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1720)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:954)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1165)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1149)\nat client.abc2.openSocketConnection(abc2.java:33)\nat client.abc1.runClient(abc1.java:63)\nat screens.app.abc.validateLogin(abc.java:197)\n... 32 more\n</code></pre>\n"},{"tags":["java","jpa","intellij-idea","jpa-buddy"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673963667,"post_id":75146278,"comment_id":132610034,"body_markdown":"If you have an attribute of type string with the @Lob annotation jpa buddy creates a script with the attribute of type TEXT","body":"If you have an attribute of type string with the @Lob annotation jpa buddy creates a script with the attribute of type TEXT"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673972208,"post_id":75146278,"comment_id":132613330,"body_markdown":"What is the java type of the property? Text is a string, and with Postgres, doesn&#39;t need to be marked as a lob. Do you really want an OID? Let Hibernate generate the DDL instead of JPA Buddy then.","body":"What is the java type of the property? Text is a string, and with Postgres, doesn&#39;t need to be marked as a lob. Do you really want an OID? Let Hibernate generate the DDL instead of JPA Buddy then."},{"owner":{"account_id":3742081,"reputation":728,"user_id":3111662,"display_name":"aleksey.stukalov"},"score":0,"creation_date":1674201965,"post_id":75146278,"comment_id":132667463,"body_markdown":"@K.Nicholas, thank you for helping us with answering the questions. Ping us via info@jpa-buddy.com to get your free JPA Buddy license as an active community member :)","body":"@K.Nicholas, thank you for helping us with answering the questions. Ping us via info@jpa-buddy.com to get your free JPA Buddy license as an active community member :)"},{"owner":{"account_id":3742081,"reputation":728,"user_id":3111662,"display_name":"aleksey.stukalov"},"score":1,"creation_date":1674201983,"post_id":75146278,"comment_id":132667472,"body_markdown":"@Chris, thank you for helping us with answering the questions. Ping us via info@jpa-buddy.com to get your free JPA Buddy license as an active community member :)","body":"@Chris, thank you for helping us with answering the questions. Ping us via info@jpa-buddy.com to get your free JPA Buddy license as an active community member :)"}],"answers":[{"tags":[],"owner":{"account_id":3742081,"reputation":728,"user_id":3111662,"display_name":"aleksey.stukalov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674201756,"creation_date":1674201756,"answer_id":75181233,"question_id":75146278,"body_markdown":" 1. Open Type Mappings Settings (Tools -&gt; JPA Buddy -&gt; Database Versionong -&gt; Type Mappings)&#160;\r\n 2. Select postgresql type&#160;\r\n 3. Add custom Mapping Type for the `jakarta.persistence.Lob` or `javax.persistence.Lob` or `java.lang.LobString` and mapping to `oid` SQL type\r\n\r\nSee the picture below:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CoQJM.png","title":"@Lob annotation JPA Buddy creates a script with the attribute of type TEXT","body":"<ol>\n<li>Open Type Mappings Settings (Tools -&gt; JPA Buddy -&gt; Database Versionong -&gt; Type Mappings) </li>\n<li>Select postgresql type </li>\n<li>Add custom Mapping Type for the <code>jakarta.persistence.Lob</code> or <code>javax.persistence.Lob</code> or <code>java.lang.LobString</code> and mapping to <code>oid</code> SQL type</li>\n</ol>\n<p>See the picture below:\n<a href=\"https://i.stack.imgur.com/CoQJM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CoQJM.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27085849,"reputation":291,"user_id":20634376,"display_name":"Georgii Vlasov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75181233,"answer_count":1,"score":1,"last_activity_date":1678336980,"creation_date":1673957726,"question_id":75146278,"body_markdown":"I encountered a bug when creating an init script from the java classes for flyway with a postgresql database. If you have an attribute of type string with the @Lob annotation jpa buddy creates a script with the attribute of type TEXT. Hibernate expects this to be of type oid because postgresql stores large objects in a separated table. \r\n\r\nIntelliJ IDEA 2022.2.1 (Ultimate Edition); JPA Buddy2022.5.2-222; Spring Boot 2.7.7; flyway 9.10.2; Postgresql 15.1\r\n\r\nWhat should I do to make it generate OID?","title":"@Lob annotation JPA Buddy creates a script with the attribute of type TEXT","body":"<p>I encountered a bug when creating an init script from the java classes for flyway with a postgresql database. If you have an attribute of type string with the @Lob annotation jpa buddy creates a script with the attribute of type TEXT. Hibernate expects this to be of type oid because postgresql stores large objects in a separated table.</p>\n<p>IntelliJ IDEA 2022.2.1 (Ultimate Edition); JPA Buddy2022.5.2-222; Spring Boot 2.7.7; flyway 9.10.2; Postgresql 15.1</p>\n<p>What should I do to make it generate OID?</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1678301506,"post_id":75677069,"comment_id":133507887,"body_markdown":"You used `var`.","body":"You used <code>var</code>."},{"owner":{"account_id":27967622,"reputation":13,"user_id":21358122,"display_name":"Alpharius"},"score":0,"creation_date":1678302632,"post_id":75677069,"comment_id":133508147,"body_markdown":"@K.Nicholas Is it a considered unethical? :) My teammates adopted it after switching to java 11, seems convenient.","body":"@K.Nicholas Is it a considered unethical? :) My teammates adopted it after switching to java 11, seems convenient."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1678308363,"post_id":75677069,"comment_id":133509580,"body_markdown":"Mr. T said it best. &quot;You fools&quot;","body":"Mr. T said it best. &quot;You fools&quot;"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678336578,"creation_date":1678336578,"answer_id":75680475,"question_id":75677069,"body_markdown":"You can use `Mono.expand` to fetch results recursively and use the result of a previous query to retrieve next results.\r\n\r\n```\r\nprivate Flux&lt;Integer&gt; fetch(int start, int end) {\r\n    return calculateNext(start)\r\n            .expand(res -&gt; calculateNext(res))\r\n            .takeUntil(res -&gt; res == end);\r\n}\r\n\r\n@Test\r\nvoid test() {\r\n    StepVerifier.create(fetch(0, 5))\r\n            .expectNext(1, 2, 3, 4, 5)\r\n            .verifyComplete();\r\n}\r\n```","title":"How to properly generate a Flux from a function that supplies a Mono?","body":"<p>You can use <code>Mono.expand</code> to fetch results recursively and use the result of a previous query to retrieve next results.</p>\n<pre><code>private Flux&lt;Integer&gt; fetch(int start, int end) {\n    return calculateNext(start)\n            .expand(res -&gt; calculateNext(res))\n            .takeUntil(res -&gt; res == end);\n}\n\n@Test\nvoid test() {\n    StepVerifier.create(fetch(0, 5))\n            .expectNext(1, 2, 3, 4, 5)\n            .verifyComplete();\n}\n</code></pre>\n"}],"owner":{"account_id":27967622,"reputation":13,"user_id":21358122,"display_name":"Alpharius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75680475,"answer_count":1,"score":1,"last_activity_date":1678336578,"creation_date":1678301325,"question_id":75677069,"body_markdown":"I want to write a piece of code that would iterate over a database reactively (the next query depends on the result of a previous query).\r\n\r\nMy question could be simplified as follows:\r\nLets say we have a function like this\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\n// some long running call\r\nprivate Mono&lt;Integer&gt; calculateNext(Integer value) {\r\n    return Mono.defer(() -&gt; Mono.just(value + 1))\r\n        .delayElement(Duration.ofSeconds(1L));\r\n}\r\n```\r\n\r\nHow to make a Flux&lt;Int&gt; out of it that would contain the results of repeatedly calling the function?\r\n\r\nThe following works\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\nFlux.generate(\r\n    () -&gt; Mono.just(0),\r\n    (previousResult, sink) -&gt; {\r\n        var nextResult = calculateNext(previousResult.block());\r\n        sink.next(nextResult);\r\n        return nextResult;\r\n    }\r\n).flatMap(it -&gt; (Mono&lt;Integer&gt;) it)\r\n.takeUntil(it -&gt; it &gt; 1000)\r\n.doOnNext(it -&gt; LOG.info(&quot;it = &quot; + it))\r\n.subscribeOn(Schedulers.boundedElastic())\r\n.blockLast();\r\n```\r\n\r\n\r\nand produces increasing integers from 1 to 1000.\r\n\r\nBut it seems like using `.block()` defeats the purpose of using Fluxes and Monos and might lead to performance issues.\r\n\r\nThis\r\n&lt;!-- language: java --&gt;\r\n```\r\n(previousResult, sink) -&gt; {\r\n    var nextResult = previousResult.flatMap(it -&gt; calculateNext(it));\r\n    sink.next(nextResult);\r\n    return nextResult;\r\n}\r\n```\r\n\r\nalso works, but seems kinda scary as it appears to be equivalent to chaining a thousand of `.flatMap` calls.\r\n\r\n\r\n","title":"How to properly generate a Flux from a function that supplies a Mono?","body":"<p>I want to write a piece of code that would iterate over a database reactively (the next query depends on the result of a previous query).</p>\n<p>My question could be simplified as follows:\nLets say we have a function like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>// some long running call\nprivate Mono&lt;Integer&gt; calculateNext(Integer value) {\n    return Mono.defer(() -&gt; Mono.just(value + 1))\n        .delayElement(Duration.ofSeconds(1L));\n}\n</code></pre>\n<p>How to make a Flux out of it that would contain the results of repeatedly calling the function?</p>\n<p>The following works</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.generate(\n    () -&gt; Mono.just(0),\n    (previousResult, sink) -&gt; {\n        var nextResult = calculateNext(previousResult.block());\n        sink.next(nextResult);\n        return nextResult;\n    }\n).flatMap(it -&gt; (Mono&lt;Integer&gt;) it)\n.takeUntil(it -&gt; it &gt; 1000)\n.doOnNext(it -&gt; LOG.info(&quot;it = &quot; + it))\n.subscribeOn(Schedulers.boundedElastic())\n.blockLast();\n</code></pre>\n<p>and produces increasing integers from 1 to 1000.</p>\n<p>But it seems like using <code>.block()</code> defeats the purpose of using Fluxes and Monos and might lead to performance issues.</p>\n<p>This</p>\n<pre class=\"lang-java prettyprint-override\"><code>(previousResult, sink) -&gt; {\n    var nextResult = previousResult.flatMap(it -&gt; calculateNext(it));\n    sink.next(nextResult);\n    return nextResult;\n}\n</code></pre>\n<p>also works, but seems kinda scary as it appears to be equivalent to chaining a thousand of <code>.flatMap</code> calls.</p>\n"},{"tags":["java","spring","spring-boot","exception","logging"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1532540334,"post_id":31250598,"comment_id":90018294,"body_markdown":"So it&#39;s getting to the `log.warn` line but *also* logging the entire exception? I may be wrong but I&#39;ve seen `@ExceptionHandler`s before that don&#39;t throw, they just return a `ResponseEntity` (with status 500, etc.) instead FWIW...","body":"So it&#39;s getting to the <code>log.warn</code> line but <i>also</i> logging the entire exception? I may be wrong but I&#39;ve seen <code>@ExceptionHandler</code>s before that don&#39;t throw, they just return a <code>ResponseEntity</code> (with status 500, etc.) instead FWIW..."}],"answers":[{"tags":[],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1436259055,"creation_date":1436259055,"answer_id":31263942,"question_id":31250598,"body_markdown":"If you don&#39;t need the stack trace you can suppress the stack trace by overriding `fillInStackTrace` in your exception class.\r\n\r\n    public class DuplicateFoundException extends RuntimeException {\r\n        @Override\r\n        public synchronized Throwable fillInStackTrace() {\r\n            return this;\r\n        }\r\n    }\r\n\r\nWhen you invoke `e.printStackTrace()` then no stack trace will be printed.\r\n\r\nSee also [this blog post](http://blogs.atlassian.com/2011/05/if_you_use_exceptions_for_path_control_dont_fill_in_the_stac/).","title":"Prevent stack trace logging for custom exception in Spring Boot application","body":"<p>If you don't need the stack trace you can suppress the stack trace by overriding <code>fillInStackTrace</code> in your exception class.</p>\n\n<pre><code>public class DuplicateFoundException extends RuntimeException {\n    @Override\n    public synchronized Throwable fillInStackTrace() {\n        return this;\n    }\n}\n</code></pre>\n\n<p>When you invoke <code>e.printStackTrace()</code> then no stack trace will be printed.</p>\n\n<p>See also <a href=\"http://blogs.atlassian.com/2011/05/if_you_use_exceptions_for_path_control_dont_fill_in_the_stac/\" rel=\"noreferrer\">this blog post</a>.</p>\n"},{"tags":[],"owner":{"account_id":347560,"reputation":3575,"user_id":681752,"accept_rate":80,"display_name":"rhorvath"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1436456045,"creation_date":1436456045,"answer_id":31322055,"question_id":31250598,"body_markdown":"Solution was to **leave the exception handling to spring boot**, so that custom exception is not logged and any other is logged by default. I removed the @ControllerAdvice and also the logging statements from the rest controller and **added logging statement to custom exception constructor**.\r\n\r\n    public DuplicateFoundException(String message) {\r\n        super(message);\r\n        LOGGER.warn(message);\r\n    }\r\nI am not sure if this is the best approach, but now I have custom exception logging only at one place and don&#39;t have to repeat the log statement for every exception or see its stack trace or any other error message in the logs.\r\n\r\n ","title":"Prevent stack trace logging for custom exception in Spring Boot application","body":"<p>Solution was to <strong>leave the exception handling to spring boot</strong>, so that custom exception is not logged and any other is logged by default. I removed the @ControllerAdvice and also the logging statements from the rest controller and <strong>added logging statement to custom exception constructor</strong>.</p>\n\n<pre><code>public DuplicateFoundException(String message) {\n    super(message);\n    LOGGER.warn(message);\n}\n</code></pre>\n\n<p>I am not sure if this is the best approach, but now I have custom exception logging only at one place and don't have to repeat the log statement for every exception or see its stack trace or any other error message in the logs.</p>\n"},{"tags":[],"owner":{"account_id":3550040,"reputation":904,"user_id":4891898,"display_name":"Carlos Negron"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1550138551,"creation_date":1550138551,"answer_id":54687733,"question_id":31250598,"body_markdown":"I&#39;m using Spring Boot 2+\r\njust add this line to your application.properties:\r\n\r\nserver.error.include-stacktrace=never\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/ErrorProperties.IncludeStacktrace.html\r\n\r\n","title":"Prevent stack trace logging for custom exception in Spring Boot application","body":"<p>I'm using Spring Boot 2+\njust add this line to your application.properties:</p>\n\n<p>server.error.include-stacktrace=never</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/ErrorProperties.IncludeStacktrace.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/ErrorProperties.IncludeStacktrace.html</a></p>\n"},{"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1603836489,"creation_date":1569770060,"answer_id":58156517,"question_id":31250598,"body_markdown":"Be wary of Spring Boot DevTools.\r\n\r\nDespite `NEVER` being the default for `server.error.include-stacktrace`, if you include Spring Boot DevTools it overides to `ALWAYS`.\r\n\r\nIf you&#39;re interested in more detail, see [this commit][1], which became part of Spring Boot 2.1.0+\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/commit/cb621024e480fb08a79277273f81aa169aed14df#diff-518d871f83187bdb14818725044d64d2R59\r\n  [2]: https://i.stack.imgur.com/FPcNY.png","title":"Prevent stack trace logging for custom exception in Spring Boot application","body":"<p>Be wary of Spring Boot DevTools.</p>\n<p>Despite <code>NEVER</code> being the default for <code>server.error.include-stacktrace</code>, if you include Spring Boot DevTools it overides to <code>ALWAYS</code>.</p>\n<p>If you're interested in more detail, see <a href=\"https://github.com/spring-projects/spring-boot/commit/cb621024e480fb08a79277273f81aa169aed14df#diff-518d871f83187bdb14818725044d64d2R59\" rel=\"noreferrer\">this commit</a>, which became part of Spring Boot 2.1.0+\n<a href=\"https://i.stack.imgur.com/FPcNY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FPcNY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6632909,"reputation":61,"user_id":5121016,"display_name":"Jeelan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621665620,"creation_date":1621624514,"answer_id":67642778,"question_id":31250598,"body_markdown":"Call overloaded super constructor to avoid showing the stacktrace in response.\r\n```\r\npublic class ProductCustomException extends Exception{\r\n\t\r\n\tprivate static final long serialVersionUID = -291211739734090347L;\r\n\r\n\tpublic ProductCustomException(String message) {\r\n\t\tsuper(message,null,false,false);\r\n\t}\r\n\r\n}\r\n```\r\nSuper loaded Constructor from Exception Class\r\n```\r\n protected Exception(String message, Throwable cause,\r\n                        boolean enableSuppression,\r\n                        boolean writableStackTrace) {\r\n        super(message, cause, enableSuppression, writableStackTrace);\r\n    }\r\n\t\r\n}","title":"Prevent stack trace logging for custom exception in Spring Boot application","body":"<p>Call overloaded super constructor to avoid showing the stacktrace in response.</p>\n<pre><code>public class ProductCustomException extends Exception{\n    \n    private static final long serialVersionUID = -291211739734090347L;\n\n    public ProductCustomException(String message) {\n        super(message,null,false,false);\n    }\n\n}\n</code></pre>\n<p>Super loaded Constructor from Exception Class</p>\n<pre><code> protected Exception(String message, Throwable cause,\n                        boolean enableSuppression,\n                        boolean writableStackTrace) {\n        super(message, cause, enableSuppression, writableStackTrace);\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678335396,"creation_date":1678335396,"answer_id":75680392,"question_id":31250598,"body_markdown":"One other thing worth mentioning is that, for recent versions of **Springboot** like **3.0.4** in my case, when and if you build your application as a JAR file even if you have **Devtools** in your `pom.xml` and assuming that by default your server error stacktrace is set to never like this: `server.error.include-stacktrace=never`, your stacktrace will not show up since you use a custom exception class\r\n\r\n ","title":"Prevent stack trace logging for custom exception in Spring Boot application","body":"<p>One other thing worth mentioning is that, for recent versions of <strong>Springboot</strong> like <strong>3.0.4</strong> in my case, when and if you build your application as a JAR file even if you have <strong>Devtools</strong> in your <code>pom.xml</code> and assuming that by default your server error stacktrace is set to never like this: <code>server.error.include-stacktrace=never</code>, your stacktrace will not show up since you use a custom exception class</p>\n"}],"owner":{"account_id":347560,"reputation":3575,"user_id":681752,"accept_rate":80,"display_name":"rhorvath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58225,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":31322055,"answer_count":6,"score":42,"last_activity_date":1678335396,"creation_date":1436198897,"question_id":31250598,"body_markdown":"Is there a way in Spring Boot (MVC) to log a custom exception and throw it without its stack trace being visible in the log file? But for any other exception still see the stack trace.\r\n\r\nLong explanation:\r\n\r\nI am using spring boot to create a simple rest service. I like that for a custom exceptions there is no stack trace in the logs by default and JSON response is created with the basic exception details (status, error, message).\r\n\r\nThe problem is that it also creates no log entry at all, therefore I would have to do this manually: \r\n\r\nCustom Exception\r\n\r\n    @ResponseStatus(value = HttpStatus.CONFLICT)\r\n    public class DuplicateFoundException extends RuntimeException {\r\n        public DuplicateFoundException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nException throwing in service method (in @RestController)\r\n\r\n    if (!voteDao.findByItemAndUser(item, voteDto.getUserId()).isEmpty()) {\r\n        log.warn(&quot;... already voted ...&quot;);   //TODO: don&#39;t do this for every throw\r\n        throw new DuplicateFoundException(&quot;... already voted ...&quot;);\r\n    }\r\n\r\n\r\nHaving more exceptions leads to placing log statement before each throw, which is a bad approach I think. I&#39;ve tried removing all the log statements from the service method and created `@ControllerAdvice` where I would log all the custom exceptions and just re-throw them so I still get the nice JSON as before:\r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler {\r\n        private static final Logger log = Logger.getLogger(RestExceptionHandler.class);\r\n\r\n        @ExceptionHandler\r\n        public ModelAndView defaultErrorHandler(HttpServletRequest req, Exception e) throws Exception {\r\n            if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {\r\n                log.warn(e.getMessage());\r\n            } else {\r\n                log.error(&quot;...&quot;);\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n\r\nNow the problem is that I see not just the log entry, but also the stack trace for custom exceptions and can&#39;t find a way how to prevent this. \r\nI think the problem is caused by throwing it again. A possible solution could be to create a custom class for exception which I will return instead, but I dislike the idea since exception marshalling seems to work fine. \r\n\r\nAny hints?","title":"Prevent stack trace logging for custom exception in Spring Boot application","body":"<p>Is there a way in Spring Boot (MVC) to log a custom exception and throw it without its stack trace being visible in the log file? But for any other exception still see the stack trace.</p>\n<p>Long explanation:</p>\n<p>I am using spring boot to create a simple rest service. I like that for a custom exceptions there is no stack trace in the logs by default and JSON response is created with the basic exception details (status, error, message).</p>\n<p>The problem is that it also creates no log entry at all, therefore I would have to do this manually:</p>\n<p>Custom Exception</p>\n<pre><code>@ResponseStatus(value = HttpStatus.CONFLICT)\npublic class DuplicateFoundException extends RuntimeException {\n    public DuplicateFoundException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>Exception throwing in service method (in @RestController)</p>\n<pre><code>if (!voteDao.findByItemAndUser(item, voteDto.getUserId()).isEmpty()) {\n    log.warn(&quot;... already voted ...&quot;);   //TODO: don't do this for every throw\n    throw new DuplicateFoundException(&quot;... already voted ...&quot;);\n}\n</code></pre>\n<p>Having more exceptions leads to placing log statement before each throw, which is a bad approach I think. I've tried removing all the log statements from the service method and created <code>@ControllerAdvice</code> where I would log all the custom exceptions and just re-throw them so I still get the nice JSON as before:</p>\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler {\n    private static final Logger log = Logger.getLogger(RestExceptionHandler.class);\n\n    @ExceptionHandler\n    public ModelAndView defaultErrorHandler(HttpServletRequest req, Exception e) throws Exception {\n        if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {\n            log.warn(e.getMessage());\n        } else {\n            log.error(&quot;...&quot;);\n        }\n        throw e;\n    }\n}\n</code></pre>\n<p>Now the problem is that I see not just the log entry, but also the stack trace for custom exceptions and can't find a way how to prevent this.\nI think the problem is caused by throwing it again. A possible solution could be to create a custom class for exception which I will return instead, but I dislike the idea since exception marshalling seems to work fine.</p>\n<p>Any hints?</p>\n"},{"tags":["java","database","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":7796007,"reputation":2642,"user_id":5897065,"display_name":"Sanjeev Saha"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1465896901,"creation_date":1465896901,"answer_id":37808227,"question_id":37807875,"body_markdown":"As per [Oracle Doc][1] @OrderColumn is:\r\n\r\n&gt; Specifies a column that is used to maintain the persistent order of a\r\n&gt; list. The persistence provider is responsible for maintaining the\r\n&gt; order upon retrieval and in the database. The persistence provider is\r\n&gt; responsible for updating the ordering upon flushing to the database to\r\n&gt; reflect any insertion, deletion, or reordering affecting the list.\r\n\r\nSo it is likely that the collection is sorted after the data  is retrieved from the database and it is done in memory.\r\n\r\n \r\n\r\n\r\n  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/persistence/OrderColumn.html","title":"How Hibernate sorts collection with @OrderColumn annotation?","body":"<p>As per <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/OrderColumn.html\" rel=\"nofollow\">Oracle Doc</a> @OrderColumn is:</p>\n\n<blockquote>\n  <p>Specifies a column that is used to maintain the persistent order of a\n  list. The persistence provider is responsible for maintaining the\n  order upon retrieval and in the database. The persistence provider is\n  responsible for updating the ordering upon flushing to the database to\n  reflect any insertion, deletion, or reordering affecting the list.</p>\n</blockquote>\n\n<p>So it is likely that the collection is sorted after the data  is retrieved from the database and it is done in memory.</p>\n"},{"tags":[],"owner":{"account_id":6433222,"reputation":1497,"user_id":4985572,"accept_rate":75,"display_name":"Igoranze"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1465897571,"creation_date":1465897298,"answer_id":37808407,"question_id":37807875,"body_markdown":"OrderBy adds an order by clause to the generated SQL to order the members of the retrieved collection by a column of the table of the target entity:\r\n\r\n    @OrderBy(&quot;GAME_ORDER ASC&quot;)\r\n    public List&lt;Long&gt; gameIds;\r\n    will generate a SQL query like\r\n\r\nselect ... order by game.game_order ASC\r\n\r\n`@OrderColumn` defines the name of an additional column in the table, containing the index of the entity in the list. \r\nIf you change the ordering of the elements in the list, Hibernate will change the value of this column. And if your gameId have 0, 3, and 5 as values in this column, the list will be\r\n\r\n    [gameIds0, null, null, gameIds3, null, gameIds5]\r\n\r\n[see here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11433410/4985572","title":"How Hibernate sorts collection with @OrderColumn annotation?","body":"<p>OrderBy adds an order by clause to the generated SQL to order the members of the retrieved collection by a column of the table of the target entity:</p>\n\n<pre><code>@OrderBy(\"GAME_ORDER ASC\")\npublic List&lt;Long&gt; gameIds;\nwill generate a SQL query like\n</code></pre>\n\n<p>select ... order by game.game_order ASC</p>\n\n<p><code>@OrderColumn</code> defines the name of an additional column in the table, containing the index of the entity in the list. \nIf you change the ordering of the elements in the list, Hibernate will change the value of this column. And if your gameId have 0, 3, and 5 as values in this column, the list will be</p>\n\n<pre><code>[gameIds0, null, null, gameIds3, null, gameIds5]\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/11433410/4985572\">see here</a></p>\n"},{"tags":[],"owner":{"account_id":156792,"reputation":683,"user_id":374303,"accept_rate":83,"display_name":"SAGExSDX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678335302,"creation_date":1678335302,"answer_id":75680388,"question_id":37807875,"body_markdown":"Answering the OP&#39;s updated question since no one answered it and I didn&#39;t find a lot in my Google searches that explained how `@OrderColumn` actually works.\r\n\r\nIf you&#39;re using `@OrderColumn`, indeed you will not see an `ORDER BY` clause in the generated query. Instead what happens is Hibernate will query all of the rows _completely deferring to what the database query plan decides the order will be when there is no `ORDER BY`_ and do [this code](https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/collection/internal/PersistentList.java#L398) (from Hibernate 5.6. Other versions probably vary)\r\n\r\n1. Get the row data from the persister (populates the persistence object)\r\n2. Get the value (current index) for the column specified for `@OrderColumn` from the persister\r\n3. Add null entries in the list up till the max order index it&#39;s seen\r\n4. Puts the populated persistence object in the list at the current index\r\n\r\nI want to draw attention again to the fact that because there is no `ORDER BY` clause, **Hibernate will just use the rows in the order the database gives it back.** So if for some reason you have multiple rows with the same order index value, Hibernate will drop all of them except for the last one with that order index value.\r\n\r\nAnd [don&#39;t be tempted to think](https://web.archive.org/web/20160808070425/https://blogs.msdn.microsoft.com/conor_cunningham_msft/2008/08/27/no-seatbelt-expecting-order-without-order-by/) that you&#39;ll always get the rows back in primary key order.","title":"How Hibernate sorts collection with @OrderColumn annotation?","body":"<p>Answering the OP's updated question since no one answered it and I didn't find a lot in my Google searches that explained how <code>@OrderColumn</code> actually works.</p>\n<p>If you're using <code>@OrderColumn</code>, indeed you will not see an <code>ORDER BY</code> clause in the generated query. Instead what happens is Hibernate will query all of the rows <em>completely deferring to what the database query plan decides the order will be when there is no <code>ORDER BY</code></em> and do <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/collection/internal/PersistentList.java#L398\" rel=\"nofollow noreferrer\">this code</a> (from Hibernate 5.6. Other versions probably vary)</p>\n<ol>\n<li>Get the row data from the persister (populates the persistence object)</li>\n<li>Get the value (current index) for the column specified for <code>@OrderColumn</code> from the persister</li>\n<li>Add null entries in the list up till the max order index it's seen</li>\n<li>Puts the populated persistence object in the list at the current index</li>\n</ol>\n<p>I want to draw attention again to the fact that because there is no <code>ORDER BY</code> clause, <strong>Hibernate will just use the rows in the order the database gives it back.</strong> So if for some reason you have multiple rows with the same order index value, Hibernate will drop all of them except for the last one with that order index value.</p>\n<p>And <a href=\"https://web.archive.org/web/20160808070425/https://blogs.msdn.microsoft.com/conor_cunningham_msft/2008/08/27/no-seatbelt-expecting-order-without-order-by/\" rel=\"nofollow noreferrer\">don't be tempted to think</a> that you'll always get the rows back in primary key order.</p>\n"}],"owner":{"account_id":2311059,"reputation":23,"user_id":2029177,"display_name":"Vitali Zarembouski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4039,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678335302,"creation_date":1465896041,"question_id":37807875,"body_markdown":"As I can see from generated SQL while querying entities with collection mapped like this:\r\n\r\n    @ElementCollection(targetClass = Long.class, fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;LIST_GAMES&quot;, \r\n                     joinColumns = @JoinColumn(name = &quot;LIST_ID&quot;, referencedColumnName = &quot;ID&quot;))\r\n    @Column(name = &quot;GAME_ID&quot;)\r\n    @OrderColumn(name = &quot;GAME_ORDER&quot;)\r\n    private List&lt;Long&gt; gameIds;\r\n\r\nHibernate doesn&#39;t add any &#39;order by&#39; statements to it. So does it mean, that collection is sorted in-memory after loading? Or does it means that I need a complex index on db level like (LIST_ID, GAME_ORDER) to handle order by in the db?\r\n\r\n**UP:** My question is actually **HOW** hibernate sorts this collection? Is It handled by hibernate in-memory or its retrieved already sorted from db? And am I need to create database index for GAME_ORDER column?","title":"How Hibernate sorts collection with @OrderColumn annotation?","body":"<p>As I can see from generated SQL while querying entities with collection mapped like this:</p>\n\n<pre><code>@ElementCollection(targetClass = Long.class, fetch = FetchType.EAGER)\n@CollectionTable(name = \"LIST_GAMES\", \n                 joinColumns = @JoinColumn(name = \"LIST_ID\", referencedColumnName = \"ID\"))\n@Column(name = \"GAME_ID\")\n@OrderColumn(name = \"GAME_ORDER\")\nprivate List&lt;Long&gt; gameIds;\n</code></pre>\n\n<p>Hibernate doesn't add any 'order by' statements to it. So does it mean, that collection is sorted in-memory after loading? Or does it means that I need a complex index on db level like (LIST_ID, GAME_ORDER) to handle order by in the db?</p>\n\n<p><strong>UP:</strong> My question is actually <strong>HOW</strong> hibernate sorts this collection? Is It handled by hibernate in-memory or its retrieved already sorted from db? And am I need to create database index for GAME_ORDER column?</p>\n"},{"tags":["java","swing","flashing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1678202630,"post_id":75663618,"comment_id":133485340,"body_markdown":"1) Don&#39;t invoke repaint() in the paint() method. The `repaint()` method should be invoked in the `Timer` code. 2) Don&#39;t overridie paint(). Custom painting is done by overriding `paintComponent(...)`. Also make sure you invoke super.paintComponent(...) as the first statement to make sure the background is cleared before doing your custom painting.","body":"1) Don&#39;t invoke repaint() in the paint() method. The <code>repaint()</code> method should be invoked in the <code>Timer</code> code. 2) Don&#39;t overridie paint(). Custom painting is done by overriding <code>paintComponent(...)</code>. Also make sure you invoke super.paintComponent(...) as the first statement to make sure the background is cleared before doing your custom painting."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1678202897,"post_id":75663618,"comment_id":133485418,"body_markdown":"@camickr this would solve the issue?","body":"@camickr this would solve the issue?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1678203173,"post_id":75663618,"comment_id":133485509,"body_markdown":"There may be other problems but this is the proper way to do custom painting and use animation, so these are the first things to fix. Read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html). There are section on `Performing Custom Painting` and `How to Use Swing Timers`.","body":"There may be other problems but this is the proper way to do custom painting and use animation, so these are the first things to fix. Read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a>. There are section on <code>Performing Custom Painting</code> and <code>How to Use Swing Timers</code>."},{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1678203465,"post_id":75663618,"comment_id":133485598,"body_markdown":"Please post a [minimal reproducible example](https://stackoverflow.com/help/MINIMAL-REPRODUCIBLE-EXAMPLE).","body":"Please post a <a href=\"https://stackoverflow.com/help/MINIMAL-REPRODUCIBLE-EXAMPLE\">minimal reproducible example</a>."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1678203511,"post_id":75663618,"comment_id":133485615,"body_markdown":"Invoking repaint() does nothing in Timer code @camickr","body":"Invoking repaint() does nothing in Timer code @camickr"},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1678203743,"post_id":75663618,"comment_id":133485680,"body_markdown":"@BentheCoder I have done that.","body":"@BentheCoder I have done that."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1678205061,"post_id":75663618,"comment_id":133486151,"body_markdown":"*Invoking repaint() does nothing in Timer code* - I see where you invoke ball.move(). Where do you invoke AI.move()? See: https://stackoverflow.com/a/54028681/131872 for an [mre] that demonstrates animation using a Timer and custom painting.","body":"<i>Invoking repaint() does nothing in Timer code</i> - I see where you invoke ball.move(). Where do you invoke AI.move()? See: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates animation using a Timer and custom painting."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1678205728,"post_id":75663618,"comment_id":133486373,"body_markdown":"@camickr I invoke the AI(opponent class) In that code example in the collison class but invoking it in the action timer has the same effect","body":"@camickr I invoke the AI(opponent class) In that code example in the collison class but invoking it in the action timer has the same effect"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678207172,"post_id":75663618,"comment_id":133486812,"body_markdown":"This [Stack Overflow answer](https://stackoverflow.com/questions/66732003/how-to-add-smooth-movement-to-my-java-game/66734544#66734544) about another Pong game might help explain some of the problems with your code.","body":"This <a href=\"https://stackoverflow.com/questions/66732003/how-to-add-smooth-movement-to-my-java-game/66734544#66734544\">Stack Overflow answer</a> about another Pong game might help explain some of the problems with your code."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1678208047,"post_id":75663618,"comment_id":133487086,"body_markdown":"@GilbertLeBlanc I see what you mean but not the solution to my problem.","body":"@GilbertLeBlanc I see what you mean but not the solution to my problem."}],"answers":[{"tags":[],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678334984,"creation_date":1678334892,"answer_id":75680365,"question_id":75663618,"body_markdown":"Issue is solved. \r\n\r\n\r\nInt the opponent class change the movement into this.\r\n\r\n    public void move(int ballY){\r\n\r\n        if(opponent.y &gt;= 566){\r\n            opponent.y = 566 ;\r\n        }\r\n\r\n        if(opponent.y &lt;= 50){\r\n            opponent.y = 50;\r\n        }\r\n\r\n        if (opponent.y  &lt; ballY) {\r\n            down = true;\r\n            up = false;\r\n            opponent.y += 3;\r\n\r\n        } else if (opponent.y  &gt; ballY) {\r\n            down = false;\r\n            up = true;\r\n            opponent.y -= 3;\r\n        }\r\n\r\n\r\nIn the GamePlay class change it like this adding another timer. \r\n\r\n    Timer timer2 = new Timer(17, new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            opponent.move(ball.ball.y);\r\n            collision();\r\n\r\n        }\r\n    });\r\n\r\n","title":"Java pong game AI/opponent is not acting as it should","body":"<p>Issue is solved.</p>\n<p>Int the opponent class change the movement into this.</p>\n<pre><code>public void move(int ballY){\n\n    if(opponent.y &gt;= 566){\n        opponent.y = 566 ;\n    }\n\n    if(opponent.y &lt;= 50){\n        opponent.y = 50;\n    }\n\n    if (opponent.y  &lt; ballY) {\n        down = true;\n        up = false;\n        opponent.y += 3;\n\n    } else if (opponent.y  &gt; ballY) {\n        down = false;\n        up = true;\n        opponent.y -= 3;\n    }\n</code></pre>\n<p>In the GamePlay class change it like this adding another timer.</p>\n<pre><code>Timer timer2 = new Timer(17, new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        opponent.move(ball.ball.y);\n        collision();\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":75680365,"answer_count":1,"score":-3,"last_activity_date":1678334984,"creation_date":1678201120,"question_id":75663618,"body_markdown":"I am coding a Java pong game that is almost complete except that the AI is acting quite oddly I am not sure why it&#39;s acting the way it does honestly.\r\n\r\nIt seems to move up and down rather quickly and has a tendency to appear to teleport and get stuck then suddenly teleport.\r\nMain class to start things:\r\n```python\r\npublic class Pong {\r\n\r\n\tBoard board = new Board();  \r\n   \r\n   public void frame() {\r\n\t\tJFrame b = new JFrame(&quot;Pong&quot;);\r\n\t\tb.setSize(905,705);\r\n\t\tb.setLocation(300,60);\r\n\t\tb.setResizable(false);\r\n\t\tb.setVisible(true);\r\n\t\tb.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        \r\n\t\tb.add(board);\r\n   }\r\n\r\n   public static  void main(String[] args) {\r\n\t   Pong start = new Pong();\r\n\t   start.frame();\r\n   }\r\n}\r\n```\r\nThe board class:\r\n```python\r\npublic class Board extends JPanel {\r\n\r\n    GamePlay play = new GamePlay(0,0,900,900);\r\n\r\n    public Board(){\r\n       // addKeyListener((KeyListener) play.player);\r\n        addKeyListener((KeyListener) play);\r\n        setFocusable(true);\r\n\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            g2.setColor(Color.black);\r\n            g2.fill(play.a);\r\n            g.setColor(Color.WHITE);\r\n            board(g);\r\n            g2.setColor(Color.white);\r\n            g2.fill(play.opponent.opponent);\r\n            g2.fill(play.ball.ball);\r\n\r\n            if(play.playerScore == 5){\r\n                g.setColor(Color.WHITE);\t\r\n                g.setFont(new Font(&quot;game over&quot;,Font.BOLD,20));\r\n                g.drawString(&quot;You win!&quot;, 300, 300);\r\n                g.drawString(&quot;press space bar to restart.&quot;, 300, 350);\r\n            }\r\n            if (play.opponentScore == 5){\r\n                g.setColor(Color.WHITE);\t\r\n                g.setFont(new Font(&quot;game over&quot;,Font.BOLD,20));\r\n                g.drawString(&quot;You lose!&quot;, 300, 300);\r\n                g.drawString(&quot;press space bar to restart.&quot;, 300, 350);\r\n            }\r\n\r\n            repaint();\r\n    }\r\n\r\n    public void board(Graphics g) {\r\n            Graphics2D g2d = (Graphics2D) g;\r\n            Stroke stroke1 = new BasicStroke(4f);\r\n            g2d.setColor(Color.white);\r\n            g2d.setStroke(stroke1);\r\n            g2d.drawRect(20, 50, 850, 600);\r\n            g2d.setColor(Color.white);\r\n            float[] dashingPattern2 = {10f, 4f};\r\n            Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\r\n            BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\r\n            g2d.setStroke(stroke2);\r\n            g2d.drawLine(435, 50, 435, 650);\r\n            g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\r\n            g.drawString(&quot;&quot;+play.playerScore, 20, 35);\r\n            g.drawString(&quot;&quot;+play.opponentScore, 855, 35);\r\n    }\r\n\r\n}\r\n```\r\nThe GamePlay class is more or less just to make things run:\r\n```python\r\npublic class GamePlay extends JPanel implements ActionListener,KeyListener {\r\n\t\r\n    public int x,y,z,c;\r\n    public int playerScore = 0;\r\n    public int opponentScore = 0;\r\n    boolean over = false;\r\n    Rectangle a;\r\n\r\n    Opponent opponent = new Opponent(835,300,15,80);\r\n    Ball ball = new Ball(400,350,20,20);\r\n\r\n    public GamePlay(int x,int y,int z,int c){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.c = c;\r\n        a = new Rectangle(x, y, z, c);\r\n\r\n        timer.start();\r\n\r\n    }\r\n\r\n    public void collision(){\r\n        opponent.move();\r\n\r\n        opponent.getBallPos(ball.ball.y);\r\n\r\n        if(ball.ball.intersects(opponent.opponent)){\r\n            ball.right = false;\r\n\r\n        }        \r\n\r\n\r\n        if(ball.ball.intersects(opponent.opponent)){\r\n            ball.right = false;\r\n        }\r\n\r\n        if(ball.ball.x &gt;= 862){\r\n            playerScore = playerScore + 1;\r\n        }\r\n\r\n        if(ball.ball.x &lt;= 4){\r\n            opponentScore = opponentScore + 1;\r\n\r\n        }\r\n    }\r\n\r\n\r\n    Timer timer = new Timer(5, new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            //opponent.move();\r\n\r\n            collision();\r\n\r\n\r\n            if(playerScore ==5 || opponentScore == 5){\r\n                over = true;\r\n                timer.stop();\r\n            }\r\n\r\n            //repaint the screen\r\n            if(ball.right == false){\r\n                //collision();\r\n               // opponent.move();\r\n\r\n                ball.move();\r\n            //repaint();\r\n\r\n            }\r\n\r\n            if(ball.right == true){\r\n            //collision();\r\n                //opponent.move();\r\n\r\n                ball.move();\r\n            //repaint();\r\n\r\n            }\r\n\r\n            \r\n\r\n        }\r\n    });\r\n\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent arg0) {\r\n        // TODO Auto-generated method stub\r\n        throw new UnsupportedOperationException(&quot;Unimplemented method &#39;actionPerformed&#39;&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        if(e.getKeyCode() == KeyEvent.VK_SPACE) {\r\n            if(over == true){\r\n                timer.start();\r\n                opponentScore = 0;\r\n                playerScore = 0;\r\n                opponent.opponent.x = 835;\r\n                opponent.opponent.y = 300;\r\n                over = false;\r\n                repaint();\r\n\r\n\r\n            }\r\n\r\n       }\r\n  \r\n    }\r\n\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent arg0) {\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent arg0) {\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\nThe balls class (of course it controls the ball):\r\n```python\r\npublic class Ball extends JPanel{\r\n\t\r\n    public int ballXpos;\r\n    public int ballYpos;\r\n    public int ballWidth;\r\n    public int ballHeight;\r\n    boolean right = false;\r\n    boolean up = true;\r\n    Random random = new Random();\r\n\r\n    Rectangle ball;\r\n\r\n    public Ball(int ballXpos, int ballYpos, int ballWidth, int ballHeight){\r\n        this.ballXpos = ballXpos;\r\n\t\tthis.ballYpos = ballYpos;\r\n\t\tthis.ballWidth = ballWidth;\r\n        this.ballWidth = ballHeight;\r\n        up = random.nextBoolean();\r\n        right = random.nextBoolean();\r\n\t\tball = new Rectangle(ballXpos, ballYpos, ballWidth, ballHeight);\r\n\r\n        //move();\r\n    } \r\n\r\n/* to make the ball move properly when hit by paddles have it boolean paddels up means the ball direction means up down moving paddle means ball goes down\r\n * can be down using boolean true and false but maybe can be done with less lines of code using variebles\r\n * \r\n */\r\n    public void move(){\r\n        if(right == false){\r\n           \r\n            ball.x = ball.x - 1;\r\n        }\r\n        \r\n        if(right == true){\r\n            \r\n            ball.x = ball.x + 1;\r\n            \r\n        }\r\n        if(up == true){\r\n            ball.y = ball.y - 1;\r\n        }\r\n\r\n        if(up == false){\r\n            ball.y = ball.y + 1;\r\n\r\n        }\r\n\r\n        if(ball.x &gt;= 863){\r\n            ball.x = 400;\r\n            up = random.nextBoolean();\r\n            right = random.nextBoolean();\r\n\r\n        }\r\n\r\n        if(ball.x &lt;= 3){\r\n            ball.x = 400;\r\n            up = random.nextBoolean();\r\n            right = random.nextBoolean();\r\n        }\r\n\r\n        if(ball.y &lt;= 38){\r\n            up = false;\r\n        }\r\n\r\n        if(ball.y &gt;= 630){\r\n            up = true;\r\n        }\r\n    }\r\n}\r\n```\r\nAnd the AI class:\r\n\r\n    public class Opponent {\r\n    public int opponentXpos;\r\n    public int opponentYpos;\r\n    public int opponentWidth;\r\n    public int opponentHeight;\r\n    public int ballPos;\r\n    Rectangle opponent;\r\n\r\n    public Opponent(int opponentXpos, int opponentYpos, int opponentWidth, int opponentHeight){\r\n        this.opponentXpos = opponentXpos;\r\n\t\tthis.opponentYpos = opponentYpos;\r\n\t\tthis.opponentWidth = opponentWidth;\r\n        this.opponentWidth = opponentHeight;\r\n\t\topponent = new Rectangle(opponentXpos, opponentYpos, opponentWidth, opponentHeight);\r\n    }\r\n\r\n\r\n    public void move(){\r\n\r\n        if(opponent.y &gt;= 570){\r\n\r\n            opponent.y = 570 ;\r\n        }\r\n\r\n        if(opponent.y &lt;= 50){\r\n\r\n            opponent.y = 50;\r\n        }\r\n\r\n        if(opponent.y &lt;= ballPos){\r\n            opponent.y = opponent.y + 1;\r\n\r\n        }\r\n\r\n        if(opponent.y &gt;= ballPos){\r\n            opponent.y = opponent.y = - 1;\r\n\r\n        }\r\n\r\n\r\n        if(opponent.y == ballPos){\r\n            opponent.y = opponent.y;\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public void getBallPos(int ball){\r\n        this.ballPos = ball;\r\n\r\n    }\r\n}\r\n\r\n\r\nI have tried to move around where I call for the opponents move method, I have negated the issue somewhat but cannot fix it completely.\r\n\r\nI expect of course the paddle to move smoothly like the ball does and try to follow the ball rather than moving up and down the way it does.\r\n\r\nMaybe I need to implement a separate action listener for the AI rather than using the one for the ball.","title":"Java pong game AI/opponent is not acting as it should","body":"<p>I am coding a Java pong game that is almost complete except that the AI is acting quite oddly I am not sure why it's acting the way it does honestly.</p>\n<p>It seems to move up and down rather quickly and has a tendency to appear to teleport and get stuck then suddenly teleport.\nMain class to start things:</p>\n<pre class=\"lang-py prettyprint-override\"><code>public class Pong {\n\n    Board board = new Board();  \n   \n   public void frame() {\n        JFrame b = new JFrame(&quot;Pong&quot;);\n        b.setSize(905,705);\n        b.setLocation(300,60);\n        b.setResizable(false);\n        b.setVisible(true);\n        b.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        \n        b.add(board);\n   }\n\n   public static  void main(String[] args) {\n       Pong start = new Pong();\n       start.frame();\n   }\n}\n</code></pre>\n<p>The board class:</p>\n<pre class=\"lang-py prettyprint-override\"><code>public class Board extends JPanel {\n\n    GamePlay play = new GamePlay(0,0,900,900);\n\n    public Board(){\n       // addKeyListener((KeyListener) play.player);\n        addKeyListener((KeyListener) play);\n        setFocusable(true);\n\n    }\n\n    public void paint(Graphics g) {\n            Graphics2D g2 = (Graphics2D) g;\n            g2.setColor(Color.black);\n            g2.fill(play.a);\n            g.setColor(Color.WHITE);\n            board(g);\n            g2.setColor(Color.white);\n            g2.fill(play.opponent.opponent);\n            g2.fill(play.ball.ball);\n\n            if(play.playerScore == 5){\n                g.setColor(Color.WHITE);    \n                g.setFont(new Font(&quot;game over&quot;,Font.BOLD,20));\n                g.drawString(&quot;You win!&quot;, 300, 300);\n                g.drawString(&quot;press space bar to restart.&quot;, 300, 350);\n            }\n            if (play.opponentScore == 5){\n                g.setColor(Color.WHITE);    \n                g.setFont(new Font(&quot;game over&quot;,Font.BOLD,20));\n                g.drawString(&quot;You lose!&quot;, 300, 300);\n                g.drawString(&quot;press space bar to restart.&quot;, 300, 350);\n            }\n\n            repaint();\n    }\n\n    public void board(Graphics g) {\n            Graphics2D g2d = (Graphics2D) g;\n            Stroke stroke1 = new BasicStroke(4f);\n            g2d.setColor(Color.white);\n            g2d.setStroke(stroke1);\n            g2d.drawRect(20, 50, 850, 600);\n            g2d.setColor(Color.white);\n            float[] dashingPattern2 = {10f, 4f};\n            Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\n            BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\n            g2d.setStroke(stroke2);\n            g2d.drawLine(435, 50, 435, 650);\n            g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\n            g.drawString(&quot;&quot;+play.playerScore, 20, 35);\n            g.drawString(&quot;&quot;+play.opponentScore, 855, 35);\n    }\n\n}\n</code></pre>\n<p>The GamePlay class is more or less just to make things run:</p>\n<pre class=\"lang-py prettyprint-override\"><code>public class GamePlay extends JPanel implements ActionListener,KeyListener {\n    \n    public int x,y,z,c;\n    public int playerScore = 0;\n    public int opponentScore = 0;\n    boolean over = false;\n    Rectangle a;\n\n    Opponent opponent = new Opponent(835,300,15,80);\n    Ball ball = new Ball(400,350,20,20);\n\n    public GamePlay(int x,int y,int z,int c){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.c = c;\n        a = new Rectangle(x, y, z, c);\n\n        timer.start();\n\n    }\n\n    public void collision(){\n        opponent.move();\n\n        opponent.getBallPos(ball.ball.y);\n\n        if(ball.ball.intersects(opponent.opponent)){\n            ball.right = false;\n\n        }        \n\n\n        if(ball.ball.intersects(opponent.opponent)){\n            ball.right = false;\n        }\n\n        if(ball.ball.x &gt;= 862){\n            playerScore = playerScore + 1;\n        }\n\n        if(ball.ball.x &lt;= 4){\n            opponentScore = opponentScore + 1;\n\n        }\n    }\n\n\n    Timer timer = new Timer(5, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            //opponent.move();\n\n            collision();\n\n\n            if(playerScore ==5 || opponentScore == 5){\n                over = true;\n                timer.stop();\n            }\n\n            //repaint the screen\n            if(ball.right == false){\n                //collision();\n               // opponent.move();\n\n                ball.move();\n            //repaint();\n\n            }\n\n            if(ball.right == true){\n            //collision();\n                //opponent.move();\n\n                ball.move();\n            //repaint();\n\n            }\n\n            \n\n        }\n    });\n\n\n    @Override\n    public void actionPerformed(ActionEvent arg0) {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException(&quot;Unimplemented method 'actionPerformed'&quot;);\n    }\n\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if(e.getKeyCode() == KeyEvent.VK_SPACE) {\n            if(over == true){\n                timer.start();\n                opponentScore = 0;\n                playerScore = 0;\n                opponent.opponent.x = 835;\n                opponent.opponent.y = 300;\n                over = false;\n                repaint();\n\n\n            }\n\n       }\n  \n    }\n\n\n    @Override\n    public void keyReleased(KeyEvent arg0) {\n\n    }\n\n\n    @Override\n    public void keyTyped(KeyEvent arg0) {\n\n    }\n\n\n\n}\n</code></pre>\n<p>The balls class (of course it controls the ball):</p>\n<pre class=\"lang-py prettyprint-override\"><code>public class Ball extends JPanel{\n    \n    public int ballXpos;\n    public int ballYpos;\n    public int ballWidth;\n    public int ballHeight;\n    boolean right = false;\n    boolean up = true;\n    Random random = new Random();\n\n    Rectangle ball;\n\n    public Ball(int ballXpos, int ballYpos, int ballWidth, int ballHeight){\n        this.ballXpos = ballXpos;\n        this.ballYpos = ballYpos;\n        this.ballWidth = ballWidth;\n        this.ballWidth = ballHeight;\n        up = random.nextBoolean();\n        right = random.nextBoolean();\n        ball = new Rectangle(ballXpos, ballYpos, ballWidth, ballHeight);\n\n        //move();\n    } \n\n/* to make the ball move properly when hit by paddles have it boolean paddels up means the ball direction means up down moving paddle means ball goes down\n * can be down using boolean true and false but maybe can be done with less lines of code using variebles\n * \n */\n    public void move(){\n        if(right == false){\n           \n            ball.x = ball.x - 1;\n        }\n        \n        if(right == true){\n            \n            ball.x = ball.x + 1;\n            \n        }\n        if(up == true){\n            ball.y = ball.y - 1;\n        }\n\n        if(up == false){\n            ball.y = ball.y + 1;\n\n        }\n\n        if(ball.x &gt;= 863){\n            ball.x = 400;\n            up = random.nextBoolean();\n            right = random.nextBoolean();\n\n        }\n\n        if(ball.x &lt;= 3){\n            ball.x = 400;\n            up = random.nextBoolean();\n            right = random.nextBoolean();\n        }\n\n        if(ball.y &lt;= 38){\n            up = false;\n        }\n\n        if(ball.y &gt;= 630){\n            up = true;\n        }\n    }\n}\n</code></pre>\n<p>And the AI class:</p>\n<pre><code>public class Opponent {\npublic int opponentXpos;\npublic int opponentYpos;\npublic int opponentWidth;\npublic int opponentHeight;\npublic int ballPos;\nRectangle opponent;\n\npublic Opponent(int opponentXpos, int opponentYpos, int opponentWidth, int opponentHeight){\n    this.opponentXpos = opponentXpos;\n    this.opponentYpos = opponentYpos;\n    this.opponentWidth = opponentWidth;\n    this.opponentWidth = opponentHeight;\n    opponent = new Rectangle(opponentXpos, opponentYpos, opponentWidth, opponentHeight);\n}\n\n\npublic void move(){\n\n    if(opponent.y &gt;= 570){\n\n        opponent.y = 570 ;\n    }\n\n    if(opponent.y &lt;= 50){\n\n        opponent.y = 50;\n    }\n\n    if(opponent.y &lt;= ballPos){\n        opponent.y = opponent.y + 1;\n\n    }\n\n    if(opponent.y &gt;= ballPos){\n        opponent.y = opponent.y = - 1;\n\n    }\n\n\n    if(opponent.y == ballPos){\n        opponent.y = opponent.y;\n\n    }\n\n\n}\n\npublic void getBallPos(int ball){\n    this.ballPos = ball;\n\n}\n</code></pre>\n<p>}</p>\n<p>I have tried to move around where I call for the opponents move method, I have negated the issue somewhat but cannot fix it completely.</p>\n<p>I expect of course the paddle to move smoothly like the ball does and try to follow the ball rather than moving up and down the way it does.</p>\n<p>Maybe I need to implement a separate action listener for the AI rather than using the one for the ball.</p>\n"},{"tags":["java","elasticsearch","elasticsearch-1.7.5"],"answers":[{"tags":[],"owner":{"account_id":27483606,"reputation":1,"user_id":20970231,"display_name":"Kendall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678331017,"creation_date":1678331017,"answer_id":75680069,"question_id":75680020,"body_markdown":"You can integrate Lucene IK analyzer into elasticsearch with IK Analysis plug-in, and support custom dictionary.\r\nYou can add the segmentation you need in the custom dictionary.\r\nhttps://github.com/medcl/elasticsearch-analysis-ik\r\nI hope it will help you.","title":"Elasticsearch: Stem problem for polish on/ona","body":"<p>You can integrate Lucene IK analyzer into elasticsearch with IK Analysis plug-in, and support custom dictionary.\nYou can add the segmentation you need in the custom dictionary.\n<a href=\"https://github.com/medcl/elasticsearch-analysis-ik\" rel=\"nofollow noreferrer\">https://github.com/medcl/elasticsearch-analysis-ik</a>\nI hope it will help you.</p>\n"}],"owner":{"account_id":10261797,"reputation":1,"user_id":21360245,"display_name":"Thien Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678334642,"creation_date":1678330231,"question_id":75680020,"body_markdown":"I&#39;m new in elasticsearch and having trouble with polish using elasticsearch search query, for example on/ona (means men/women in polish). The problem is if i use standard analyzer, it seems to understand men/women filter and return correct records, but when i tried &quot;on&quot;, it will include both on and ona in returned records. \r\nI tried using https://www.elastic.co/guide/en/elasticsearch/reference/1.7/analysis-keyword-marker-tokenfilter.html but it didn&#39;t work also.\r\n\r\nHave anyone been in this situation before ? Can someone explain to me how this work and do u guys have solution for this ?\r\n\r\nI tried\r\n\r\n    index :\r\n        analysis :\r\n            analyzer :\r\n                myAnalyzer :\r\n                    type : custom\r\n                    tokenizer : standard\r\n                    filter : [lowercase, protwords, porter_stem]\r\n            filter :\r\n                protwords :\r\n                    type : keyword_marker\r\n                    keywords : [ona]\r\n\r\nI expected if i search for &quot;on&quot;, it only appears records with &quot;on&quot; but not &quot;ona&quot; and vice versa.","title":"Elasticsearch: Stem problem for polish on/ona","body":"<p>I'm new in elasticsearch and having trouble with polish using elasticsearch search query, for example on/ona (means men/women in polish). The problem is if i use standard analyzer, it seems to understand men/women filter and return correct records, but when i tried &quot;on&quot;, it will include both on and ona in returned records.\nI tried using <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/1.7/analysis-keyword-marker-tokenfilter.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/1.7/analysis-keyword-marker-tokenfilter.html</a> but it didn't work also.</p>\n<p>Have anyone been in this situation before ? Can someone explain to me how this work and do u guys have solution for this ?</p>\n<p>I tried</p>\n<pre><code>index :\n    analysis :\n        analyzer :\n            myAnalyzer :\n                type : custom\n                tokenizer : standard\n                filter : [lowercase, protwords, porter_stem]\n        filter :\n            protwords :\n                type : keyword_marker\n                keywords : [ona]\n</code></pre>\n<p>I expected if i search for &quot;on&quot;, it only appears records with &quot;on&quot; but not &quot;ona&quot; and vice versa.</p>\n"},{"tags":["java","selenium","file-upload","applescript","robotframework"],"answers":[{"tags":[],"owner":{"account_id":27970651,"reputation":1,"user_id":21360439,"display_name":"hurtus-fructus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678334368,"creation_date":1678334368,"answer_id":75680314,"question_id":72601582,"body_markdown":"After trying several methods, below codes worked without any issue for me on the MAC. I added &quot;Command + W&quot; keys.\r\n\r\n    //Click on the Choose file Button\r\n    browser.findElement(By.className(&quot;choosefile&quot;)).click();\r\n    //Path of file need to be upload\r\n    File file = new File(&quot;/Users/John/Desktop/IMG_0100.PNG&quot;);\r\n    StringSelection stringSelection = new StringSelection(file.getAbsolutePath());\r\n    //Copy to clipboard \r\n    Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n    try {\r\n        Robot robot = new Robot();\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_W);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n        robot.keyRelease(KeyEvent.VK_W);\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_SHIFT);\r\n        robot.keyPress(KeyEvent.VK_G);\r\n        robot.keyRelease(KeyEvent.VK_G);\r\n        robot.keyRelease(KeyEvent.VK_SHIFT);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n\r\n        // Paste the clipBoard content - Command ⌘ + V.\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n\r\n        // Press Enter (GO - To bring up the file.)\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n        robot.delay(1000 * 4);\r\n\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\n    } catch (AWTException e) {\r\n        e.printStackTrace();\r\n    }","title":"Upload file in MAC using selenium","body":"<p>After trying several methods, below codes worked without any issue for me on the MAC. I added &quot;Command + W&quot; keys.</p>\n<pre><code>//Click on the Choose file Button\nbrowser.findElement(By.className(&quot;choosefile&quot;)).click();\n//Path of file need to be upload\nFile file = new File(&quot;/Users/John/Desktop/IMG_0100.PNG&quot;);\nStringSelection stringSelection = new StringSelection(file.getAbsolutePath());\n//Copy to clipboard \nToolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\ntry {\n    Robot robot = new Robot();\n    robot.keyPress(KeyEvent.VK_META);\n    robot.keyPress(KeyEvent.VK_W);\n    robot.keyRelease(KeyEvent.VK_META);\n    robot.keyRelease(KeyEvent.VK_W);\n    robot.keyPress(KeyEvent.VK_META);\n    robot.keyPress(KeyEvent.VK_SHIFT);\n    robot.keyPress(KeyEvent.VK_G);\n    robot.keyRelease(KeyEvent.VK_G);\n    robot.keyRelease(KeyEvent.VK_SHIFT);\n    robot.keyRelease(KeyEvent.VK_META);\n\n    // Paste the clipBoard content - Command ⌘ + V.\n    robot.keyPress(KeyEvent.VK_META);\n    robot.keyPress(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_META);\n\n    // Press Enter (GO - To bring up the file.)\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n    robot.delay(1000 * 4);\n\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n\n} catch (AWTException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":13236113,"reputation":39,"user_id":9558214,"display_name":"vinsr04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678334368,"creation_date":1655117292,"question_id":72601582,"body_markdown":"I am trying to upload file in MAC using selenium java. The button does not have input tag. So i tried using robot script and with apple script but could not proceed. Can any one help me.\r\n\r\nApple script\r\n\r\n        tell application &quot;System Events&quot;\r\n    \t--one second delay\r\n    \tdelay 1\r\n    \t--To press command+shift+G\r\n    \tkeystroke &quot;G&quot; using {command down, shift down}\r\n    \tdelay 2\r\n    \t--Enter file path\r\n    \tkeystroke &quot;file path&quot;\r\n    \t\r\n    \tkeystroke return\r\n    \tdelay 1\r\n    \tkeystroke return\r\n    \t\r\n    end tell\r\n\r\nJava code :\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    Process process = runtime.exec(filePath);\r\n\r\nAnd also please let me know how to pass filePath from java into apple script?\r\n","title":"Upload file in MAC using selenium","body":"<p>I am trying to upload file in MAC using selenium java. The button does not have input tag. So i tried using robot script and with apple script but could not proceed. Can any one help me.</p>\n<p>Apple script</p>\n<pre><code>    tell application &quot;System Events&quot;\n    --one second delay\n    delay 1\n    --To press command+shift+G\n    keystroke &quot;G&quot; using {command down, shift down}\n    delay 2\n    --Enter file path\n    keystroke &quot;file path&quot;\n    \n    keystroke return\n    delay 1\n    keystroke return\n    \nend tell\n</code></pre>\n<p>Java code :</p>\n<pre><code>Runtime runtime = Runtime.getRuntime();\nProcess process = runtime.exec(filePath);\n</code></pre>\n<p>And also please let me know how to pass filePath from java into apple script?</p>\n"},{"tags":["java","sockets","java-native-interface","pyarrow","apache-arrow"],"comments":[{"owner":{"account_id":406832,"reputation":102417,"user_id":776560,"display_name":"Wes McKinney"},"score":0,"creation_date":1541790525,"post_id":53231052,"comment_id":93350701,"body_markdown":"Can you ask on the developer mailing list dev@arrow.apache.org? This is extremely bleeding edge stuff","body":"Can you ask on the developer mailing list dev@arrow.apache.org? This is extremely bleeding edge stuff"},{"owner":{"account_id":9132415,"reputation":343,"user_id":6793483,"display_name":"codie"},"score":0,"creation_date":1549389010,"post_id":53231052,"comment_id":95881753,"body_markdown":"My suggestion would be a missing native library (due to JNI) which is required.","body":"My suggestion would be a missing native library (due to JNI) which is required."}],"answers":[{"tags":[],"owner":{"account_id":9132415,"reputation":343,"user_id":6793483,"display_name":"codie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549397459,"creation_date":1549396884,"answer_id":54542149,"question_id":53231052,"body_markdown":"It&#39;s been a while since I was doing this but the issue is quite simple, though not easy to find. In the test routines you can find an important line:\r\n\r\n```java\r\nSystem.loadLibrary(&quot;plasma_java&quot;);\r\nval plasmaClient = new PlasmaClient(&quot;/tmp/plasma&quot;,&quot;&quot;,0);\r\n```\r\n\r\nThe shared library `libplasma_java.so` is created when compiling the C++ extension in CMake with the option `-DARROW_PLASMA_JAVA_CLIENT=on`. In the `arrow/java/plasma/test.sh` file you can find the entire build command but this is a derived one from that file:\r\n\r\n```bash\r\ncd arrow/cpp\r\nmkdir release\r\ncd release\r\ncmake -DCMAKE_BUILD_TYPE=Release \\\r\n            -DCMAKE_C_FLAGS=&quot;-g -O3&quot; \\\r\n            -DCMAKE_CXX_FLAGS=&quot;-g -O3&quot; \\\r\n            -DARROW_BUILD_TESTS=off \\\r\n            -DARROW_HDFS=on \\\r\n            -DARROW_BOOST_USE_SHARED=on \\\r\n            -DARROW_PYTHON=on \\\r\n            -DARROW_PLASMA=on \\\r\n            -DPLASMA_PYTHON=on \\\r\n            -DARROW_JEMALLOC=off \\\r\n            -DARROW_WITH_BROTLI=off \\\r\n            -DARROW_WITH_LZ4=off \\\r\n            -DARROW_WITH_ZLIB=off \\\r\n            -DARROW_WITH_ZSTD=off \\\r\n            -DARROW_PLASMA_JAVA_CLIENT=on \\\r\n            ..\r\nmake VERBOSE=1 -j4\r\nmake install\r\n```\r\nI just ran it and it built everythin as desired. If you want to install it somewhere simply add a prefix `-DCMAKE_INSTALL_PREFIX=/home/myuser/install-here`.\r\n\r\nIf you run `System.loadLibrary(&quot;plasma_java&quot;)` it only works if the `.so` can be found somewhere on your system (such stuff is usually specified on Linux by the environment variable `LD_LIBRARY_PATH`). Note that this also requires `libplasma.so` and `libarrow.so` in the system path as well.","title":"Apache Arrow Plasma Client - Can&#39;t connect to memory store (UnsatisfiedLinkError)","body":"<p>It's been a while since I was doing this but the issue is quite simple, though not easy to find. In the test routines you can find an important line:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.loadLibrary(\"plasma_java\");\nval plasmaClient = new PlasmaClient(\"/tmp/plasma\",\"\",0);\n</code></pre>\n\n<p>The shared library <code>libplasma_java.so</code> is created when compiling the C++ extension in CMake with the option <code>-DARROW_PLASMA_JAVA_CLIENT=on</code>. In the <code>arrow/java/plasma/test.sh</code> file you can find the entire build command but this is a derived one from that file:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cd arrow/cpp\nmkdir release\ncd release\ncmake -DCMAKE_BUILD_TYPE=Release \\\n            -DCMAKE_C_FLAGS=\"-g -O3\" \\\n            -DCMAKE_CXX_FLAGS=\"-g -O3\" \\\n            -DARROW_BUILD_TESTS=off \\\n            -DARROW_HDFS=on \\\n            -DARROW_BOOST_USE_SHARED=on \\\n            -DARROW_PYTHON=on \\\n            -DARROW_PLASMA=on \\\n            -DPLASMA_PYTHON=on \\\n            -DARROW_JEMALLOC=off \\\n            -DARROW_WITH_BROTLI=off \\\n            -DARROW_WITH_LZ4=off \\\n            -DARROW_WITH_ZLIB=off \\\n            -DARROW_WITH_ZSTD=off \\\n            -DARROW_PLASMA_JAVA_CLIENT=on \\\n            ..\nmake VERBOSE=1 -j4\nmake install\n</code></pre>\n\n<p>I just ran it and it built everythin as desired. If you want to install it somewhere simply add a prefix <code>-DCMAKE_INSTALL_PREFIX=/home/myuser/install-here</code>.</p>\n\n<p>If you run <code>System.loadLibrary(\"plasma_java\")</code> it only works if the <code>.so</code> can be found somewhere on your system (such stuff is usually specified on Linux by the environment variable <code>LD_LIBRARY_PATH</code>). Note that this also requires <code>libplasma.so</code> and <code>libarrow.so</code> in the system path as well.</p>\n"}],"owner":{"account_id":13681704,"reputation":21,"user_id":9871889,"display_name":"SSS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678334231,"creation_date":1541786355,"question_id":53231052,"body_markdown":"I&#39;m trying to use the Java API for Apache Arrow to connect to a memory store. I&#39;ve done this in Python, successfully, using the Python API by following the guide [here][1]. \r\n\r\nI&#39;ve also looked at the [C++ API documentation][2], but it didn&#39;t help much.\r\n\r\n[The Java Docs][3] makes it look similar to the other documentation. \r\n\r\n\r\n 1. Make sure the plasma object store is running (usually &quot;/tmp/plasma&quot;\r\n    for the examples).\r\n\r\n    2. Create client \r\n3. Connect to the client by providing the object store (&quot;/tmp/plasma&quot;), and (&quot;&quot;, 0) for the other two parameters.  \r\n\r\n\r\n----------\r\nHowever, when attempting to use the following line, I get an UnsatisfiedLinkError, that I can&#39;t find any reference to within the Apache Arrow documentation. Other solutions found of google (such as calling System.load) haven&#39;t been successful either. \r\n    \r\n&gt; `PlasmaClient client = new PlasmaClient(&quot;/tmp/plasma&quot;, &quot;&quot;, 0);`\r\n\r\nA copy of my error messages can be seen below:\r\n\r\n&gt; `Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError:org.apache.arrow.plasma.PlasmaClientJNI.connect(Ljava/lang/String;Ljava/lang/String;I)J\r\n\tat org.apache.arrow.plasma.PlasmaClientJNI.connect(Native Method)\r\n\tat org.apache.arrow.plasma.PlasmaClient.&lt;init&gt;(PlasmaClient.java:44)\r\n\tat plas.main(plas.java:11)`\r\n\r\n\r\n----------\r\n\r\nAny help is appreciated. Thank you!\r\n\r\n  [1]: https://arrow.apache.org/docs/python/plasma.html#the-plasma-in-memory-object-store\r\n  [2]: https://arrow.apache.org/docs/cpp/md_tutorials_plasma.html\r\n  [3]: https://arrow.apache.org/docs/java/org/apache/arrow/plasma/PlasmaClient.html","title":"Apache Arrow Plasma Client - Can&#39;t connect to memory store (UnsatisfiedLinkError)","body":"<p>I'm trying to use the Java API for Apache Arrow to connect to a memory store. I've done this in Python, successfully, using the Python API by following the guide <a href=\"https://arrow.apache.org/docs/python/plasma.html#the-plasma-in-memory-object-store\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>I've also looked at the <a href=\"https://arrow.apache.org/docs/cpp/md_tutorials_plasma.html\" rel=\"nofollow noreferrer\">C++ API documentation</a>, but it didn't help much.</p>\n\n<p><a href=\"https://arrow.apache.org/docs/java/org/apache/arrow/plasma/PlasmaClient.html\" rel=\"nofollow noreferrer\">The Java Docs</a> makes it look similar to the other documentation. </p>\n\n<ol>\n<li><p>Make sure the plasma object store is running (usually \"/tmp/plasma\"\nfor the examples).</p>\n\n<ol start=\"2\">\n<li>Create client </li>\n<li>Connect to the client by providing the object store (\"/tmp/plasma\"), and (\"\", 0) for the other two parameters.  </li>\n</ol></li>\n</ol>\n\n<hr>\n\n<p>However, when attempting to use the following line, I get an UnsatisfiedLinkError, that I can't find any reference to within the Apache Arrow documentation. Other solutions found of google (such as calling System.load) haven't been successful either. </p>\n\n<blockquote>\n  <p><code>PlasmaClient client = new PlasmaClient(\"/tmp/plasma\", \"\", 0);</code></p>\n</blockquote>\n\n<p>A copy of my error messages can be seen below:</p>\n\n<blockquote>\n  <p><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError:org.apache.arrow.plasma.PlasmaClientJNI.connect(Ljava/lang/String;Ljava/lang/String;I)J\n      at org.apache.arrow.plasma.PlasmaClientJNI.connect(Native Method)\n      at org.apache.arrow.plasma.PlasmaClient.&lt;init&gt;(PlasmaClient.java:44)\n      at plas.main(plas.java:11)</code></p>\n</blockquote>\n\n<hr>\n\n<p>Any help is appreciated. Thank you!</p>\n"},{"tags":["java","spring","rest","spring-hateoas","hateoas"],"answers":[{"tags":[],"owner":{"account_id":13864691,"reputation":2209,"user_id":10009424,"display_name":"yejianfengblue"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1600500188,"creation_date":1600500188,"answer_id":63966321,"question_id":63963571,"body_markdown":"A `RepresentationModelAssembler` is required. A model class `extends EntityModel&lt;T&gt;` is unnecessary if you don&#39;t need additional fields.\r\n\r\nMy example entity class is `Inventory`.\r\n\r\nRepresentationModelAssembler. You can add more links here.\r\n```java\r\n@Component\r\npublic class InventoryModelAssembler implements RepresentationModelAssembler&lt;Inventory, EntityModel&lt;Inventory&gt;&gt; {\r\n\r\n    @Override\r\n    public EntityModel&lt;Inventory&gt; toModel(Inventory inventory) {\r\n\r\n        return EntityModel.of(inventory,\r\n                linkTo(methodOn(InventoryController.class).get(inventory.getId()))\r\n                        .withSelfRel());\r\n    }\r\n}\r\n```\r\n\r\nController\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/inventories&quot;)\r\n@RequiredArgsConstructor\r\npublic class InventoryController {\r\n\r\n    private final InventoryRepository inventoryRepository;\r\n\r\n    private final PagedResourcesAssembler pagedResourcesAssembler;\r\n\r\n    private final InventoryModelAssembler inventoryModelAssembler;\r\n\r\n    @GetMapping\r\n    public ResponseEntity get(Pageable pageable) {\r\n\r\n        Page&lt;Inventory&gt; inventories = inventoryRepository.findAll(pageable);\r\n\r\n        return ResponseEntity\r\n                .ok()\r\n                .contentType(MediaTypes.HAL_JSON)\r\n                .body(pagedResourcesAssembler.toModel(inventories, inventoryModelAssembler));\r\n    }\r\n}\r\n```\r\n\r\nHAL JSON response. A full long response can be found in my [HTML doc](https://github.com/yejianfengblue/steins-gate-airline/blob/develop/sga-search/index.html). Download it and open with your browser.\r\n```json\r\n{\r\n  &quot;_embedded&quot; : {\r\n    &quot;inventories&quot; : [ {\r\n      &quot;carrier&quot; : &quot;SG&quot;,\r\n      &quot;fltNum&quot; : &quot;001&quot;,\r\n      &quot;serviceType&quot; : &quot;PAX&quot;,\r\n      &quot;fltDate&quot; : &quot;2020-01-20&quot;,\r\n      &quot;fltDow&quot; : 1,\r\n      &quot;createdDate&quot; : &quot;2020-06-11T13:21:44.992Z&quot;,\r\n      &quot;lastModifiedDate&quot; : &quot;2020-06-11T13:21:44.992Z&quot;,\r\n      &quot;_links&quot; : {\r\n        &quot;self&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8080/inventories/5ee22fe8853b0f45ae5fca27&quot;\r\n        }\r\n      }\r\n    }]\r\n  },\r\n  &quot;_links&quot; : {\r\n    &quot;first&quot; : {\r\n      &quot;href&quot; : &quot;http://localhost:8080/inventories?carrier=SG&amp;fltNum=001&amp;page=0&amp;size=10&amp;sort=fltNum,asc&amp;sort=fltDate,desc&quot;\r\n    },\r\n    &quot;self&quot; : {\r\n      &quot;href&quot; : &quot;http://localhost:8080/inventories?carrier=SG&amp;fltNum=001&amp;page=0&amp;size=10&amp;sort=fltNum,asc&amp;sort=fltDate,desc&quot;\r\n    },\r\n    &quot;next&quot; : {\r\n      &quot;href&quot; : &quot;http://localhost:8080/inventories?carrier=SG&amp;fltNum=001&amp;page=1&amp;size=10&amp;sort=fltNum,asc&amp;sort=fltDate,desc&quot;\r\n    },\r\n    &quot;last&quot; : {\r\n      &quot;href&quot; : &quot;http://localhost:8080/inventories?carrier=SG&amp;fltNum=001&amp;page=1&amp;size=10&amp;sort=fltNum,asc&amp;sort=fltDate,desc&quot;\r\n    }\r\n  },\r\n  &quot;page&quot; : {\r\n    &quot;size&quot; : 10,\r\n    &quot;totalElements&quot; : 20,\r\n    &quot;totalPages&quot; : 2,\r\n    &quot;number&quot; : 0\r\n  }\r\n}\r\n```\r\n\r\nFull code is shared in [Github](https://github.com/yejianfengblue/steins-gate-airline/tree/develop/sga-search). If my project is helpful other than this answer, consider give it a star in Github.","title":"Is there a simple implementation of HATEOAS + Pagination in Spring without data rest?","body":"<p>A <code>RepresentationModelAssembler</code> is required. A model class <code>extends EntityModel&lt;T&gt;</code> is unnecessary if you don't need additional fields.</p>\n<p>My example entity class is <code>Inventory</code>.</p>\n<p>RepresentationModelAssembler. You can add more links here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class InventoryModelAssembler implements RepresentationModelAssembler&lt;Inventory, EntityModel&lt;Inventory&gt;&gt; {\n\n    @Override\n    public EntityModel&lt;Inventory&gt; toModel(Inventory inventory) {\n\n        return EntityModel.of(inventory,\n                linkTo(methodOn(InventoryController.class).get(inventory.getId()))\n                        .withSelfRel());\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/inventories&quot;)\n@RequiredArgsConstructor\npublic class InventoryController {\n\n    private final InventoryRepository inventoryRepository;\n\n    private final PagedResourcesAssembler pagedResourcesAssembler;\n\n    private final InventoryModelAssembler inventoryModelAssembler;\n\n    @GetMapping\n    public ResponseEntity get(Pageable pageable) {\n\n        Page&lt;Inventory&gt; inventories = inventoryRepository.findAll(pageable);\n\n        return ResponseEntity\n                .ok()\n                .contentType(MediaTypes.HAL_JSON)\n                .body(pagedResourcesAssembler.toModel(inventories, inventoryModelAssembler));\n    }\n}\n</code></pre>\n<p>HAL JSON response. A full long response can be found in my <a href=\"https://github.com/yejianfengblue/steins-gate-airline/blob/develop/sga-search/index.html\" rel=\"noreferrer\">HTML doc</a>. Download it and open with your browser.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;_embedded&quot; : {\n    &quot;inventories&quot; : [ {\n      &quot;carrier&quot; : &quot;SG&quot;,\n      &quot;fltNum&quot; : &quot;001&quot;,\n      &quot;serviceType&quot; : &quot;PAX&quot;,\n      &quot;fltDate&quot; : &quot;2020-01-20&quot;,\n      &quot;fltDow&quot; : 1,\n      &quot;createdDate&quot; : &quot;2020-06-11T13:21:44.992Z&quot;,\n      &quot;lastModifiedDate&quot; : &quot;2020-06-11T13:21:44.992Z&quot;,\n      &quot;_links&quot; : {\n        &quot;self&quot; : {\n          &quot;href&quot; : &quot;http://localhost:8080/inventories/5ee22fe8853b0f45ae5fca27&quot;\n        }\n      }\n    }]\n  },\n  &quot;_links&quot; : {\n    &quot;first&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/inventories?carrier=SG&amp;fltNum=001&amp;page=0&amp;size=10&amp;sort=fltNum,asc&amp;sort=fltDate,desc&quot;\n    },\n    &quot;self&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/inventories?carrier=SG&amp;fltNum=001&amp;page=0&amp;size=10&amp;sort=fltNum,asc&amp;sort=fltDate,desc&quot;\n    },\n    &quot;next&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/inventories?carrier=SG&amp;fltNum=001&amp;page=1&amp;size=10&amp;sort=fltNum,asc&amp;sort=fltDate,desc&quot;\n    },\n    &quot;last&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/inventories?carrier=SG&amp;fltNum=001&amp;page=1&amp;size=10&amp;sort=fltNum,asc&amp;sort=fltDate,desc&quot;\n    }\n  },\n  &quot;page&quot; : {\n    &quot;size&quot; : 10,\n    &quot;totalElements&quot; : 20,\n    &quot;totalPages&quot; : 2,\n    &quot;number&quot; : 0\n  }\n}\n</code></pre>\n<p>Full code is shared in <a href=\"https://github.com/yejianfengblue/steins-gate-airline/tree/develop/sga-search\" rel=\"noreferrer\">Github</a>. If my project is helpful other than this answer, consider give it a star in Github.</p>\n"},{"tags":[],"owner":{"account_id":4895829,"reputation":61,"user_id":3945501,"display_name":"Hamid Pourgholi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678333068,"creation_date":1678333068,"answer_id":75680224,"question_id":63963571,"body_markdown":"There is an excellent explanation here in this example with code \r\n[Pagination(with Hateoas), Filtering &amp; Sorting with Spring Boot and JPA][1]\r\nMultiple approaches are demonstrated. This covers exactly the appraoch to implement pagination, including sorting and filtering without spring data rest. \r\n\r\n\r\n  [1]: https://www.springcloud.io/post/2022-04/hateoas-spring-boot-and-jpa/#gsc.tab=0","title":"Is there a simple implementation of HATEOAS + Pagination in Spring without data rest?","body":"<p>There is an excellent explanation here in this example with code\n<a href=\"https://www.springcloud.io/post/2022-04/hateoas-spring-boot-and-jpa/#gsc.tab=0\" rel=\"nofollow noreferrer\">Pagination(with Hateoas), Filtering &amp; Sorting with Spring Boot and JPA</a>\nMultiple approaches are demonstrated. This covers exactly the appraoch to implement pagination, including sorting and filtering without spring data rest.</p>\n"}],"owner":{"account_id":11257063,"reputation":140,"user_id":8256460,"display_name":"sylleryum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6403,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1678333068,"creation_date":1600468328,"question_id":63963571,"body_markdown":"I&#39;ve been searching for a few days on how to implement a Spring REST API containing HATEOAS links + Pagination with Spring boot and JPA (No spring data rest) like this random example:\r\n\r\n    {\r\n        &quot;_links&quot;: {\r\n            &quot;first&quot;: {\r\n                &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=0&amp;size=2&amp;sort=title,desc&quot;\r\n            },\r\n            &quot;prev&quot;: {\r\n                &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=0&amp;size=2&amp;sort=title,desc&quot;\r\n            },\r\n            &quot;self&quot;: {\r\n                &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=1&amp;size=2&amp;sort=title,desc&quot;\r\n            },\r\n            &quot;next&quot;: {\r\n                &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=2&amp;size=2&amp;sort=title,desc&quot;\r\n            },\r\n            &quot;last&quot;: {\r\n                &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=4&amp;size=2&amp;sort=title,desc&quot;\r\n            }\r\n        },\r\n        &quot;page&quot;: {\r\n            &quot;size&quot;: 2,\r\n            &quot;totalElements&quot;: 10,\r\n            &quot;totalPages&quot;: 5,\r\n            &quot;number&quot;: 1\r\n        },\r\n        &quot;_embedded&quot;: {\r\n            &quot;albums&quot;: [\r\n                {\r\n                    &quot;id&quot;: 7,\r\n                    &quot;title&quot;: &quot;Top Hits Vol 7&quot;,\r\n                    &quot;description&quot;: &quot;Top hits vol 7. description&quot;,\r\n                    &quot;releaseDate&quot;: &quot;10-03-1987&quot;,\r\n                    &quot;actors&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 4,\r\n                            &quot;firstName&quot;: &quot;Janice&quot;,\r\n                            &quot;lastName&quot;: &quot;Preston&quot;,\r\n                            &quot;_links&quot;: {\r\n                                &quot;self&quot;: {\r\n                                    &quot;href&quot;: &quot;http://localhost:8080/api/actors/4&quot;\r\n                                }\r\n                            }\r\n                        }\r\n                    ],\r\n                    &quot;_links&quot;: {\r\n                        &quot;self&quot;: {\r\n                            &quot;href&quot;: &quot;http://localhost:8080/api/actors/7&quot;\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    &quot;id&quot;: 6,\r\n                    &quot;title&quot;: &quot;Top Hits Vol 6&quot;,\r\n                    &quot;description&quot;: &quot;Top hits vol 6. description&quot;,\r\n                    &quot;releaseDate&quot;: &quot;10-03-1986&quot;,\r\n                    &quot;actors&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 3,\r\n                            &quot;firstName&quot;: &quot;Laverne&quot;,\r\n                            &quot;lastName&quot;: &quot;Mann&quot;,\r\n                            &quot;_links&quot;: {\r\n                                &quot;self&quot;: {\r\n                                    &quot;href&quot;: &quot;http://localhost:8080/api/actors/3&quot;\r\n                                }\r\n                            }\r\n                        }\r\n                    ],\r\n                    &quot;_links&quot;: {\r\n                        &quot;self&quot;: {\r\n                            &quot;href&quot;: &quot;http://localhost:8080/api/actors/6&quot;\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\nHowever, the solutions that I&#39;ve found so far are ridiculously complicated or the amount of boilerplate are laughable \r\nThis solution for instance:\r\nhttps://howtodoinjava.com/spring5/hateoas/pagination-links/\r\nthe tutorial on the page doesn&#39;t present it entirely but it requires you to create the entity, a model for the entity, and a long RepresentationModelAssemblerSupport full of boilerplate\r\n\r\nI&#39;ve tried this also:\r\nhttps://spring.io/guides/tutorials/rest/\r\nHowever the nested classes (i have relations of one to many/many to one) don&#39;t get the links for HATEOAS:\r\n\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;nome&quot;: &quot;Amazonas&quot;,\r\n        &quot;uf&quot;: &quot;AM&quot;,\r\n        &quot;cidades&quot;: [\r\n            {\r\n    \t    //no HATEOAS in here\r\n                &quot;id&quot;: 10003,\r\n                &quot;nome&quot;: null,\r\n                &quot;instituicoes&quot;: [],\r\n                &quot;uf&quot;: &quot;AM&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;: 219,\r\n                &quot;nome&quot;: &quot;Alvar&#227;es&quot;,\r\n                &quot;instituicoes&quot;: [],\r\n                &quot;uf&quot;: &quot;AM&quot;\r\n            }\r\n        ],\r\n        &quot;_links&quot;: {\r\n            &quot;self&quot;: {\r\n                &quot;href&quot;: &quot;http://localhost:8080/api/v1/estados/estadoes/3&quot;\r\n            },\r\n            &quot;estadoes&quot;: {\r\n                &quot;href&quot;: &quot;http://localhost:8080/api/v1/estados/estadoes&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nI mean, isn&#39;t there a simpler solution? Luckily for pagination PagingAndSortingRepository is useful but then having both pagination + HATEOAS, what a nightmare.","title":"Is there a simple implementation of HATEOAS + Pagination in Spring without data rest?","body":"<p>I've been searching for a few days on how to implement a Spring REST API containing HATEOAS links + Pagination with Spring boot and JPA (No spring data rest) like this random example:</p>\n<pre><code>{\n    &quot;_links&quot;: {\n        &quot;first&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=0&amp;size=2&amp;sort=title,desc&quot;\n        },\n        &quot;prev&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=0&amp;size=2&amp;sort=title,desc&quot;\n        },\n        &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=1&amp;size=2&amp;sort=title,desc&quot;\n        },\n        &quot;next&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=2&amp;size=2&amp;sort=title,desc&quot;\n        },\n        &quot;last&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/albums-list?page=4&amp;size=2&amp;sort=title,desc&quot;\n        }\n    },\n    &quot;page&quot;: {\n        &quot;size&quot;: 2,\n        &quot;totalElements&quot;: 10,\n        &quot;totalPages&quot;: 5,\n        &quot;number&quot;: 1\n    },\n    &quot;_embedded&quot;: {\n        &quot;albums&quot;: [\n            {\n                &quot;id&quot;: 7,\n                &quot;title&quot;: &quot;Top Hits Vol 7&quot;,\n                &quot;description&quot;: &quot;Top hits vol 7. description&quot;,\n                &quot;releaseDate&quot;: &quot;10-03-1987&quot;,\n                &quot;actors&quot;: [\n                    {\n                        &quot;id&quot;: 4,\n                        &quot;firstName&quot;: &quot;Janice&quot;,\n                        &quot;lastName&quot;: &quot;Preston&quot;,\n                        &quot;_links&quot;: {\n                            &quot;self&quot;: {\n                                &quot;href&quot;: &quot;http://localhost:8080/api/actors/4&quot;\n                            }\n                        }\n                    }\n                ],\n                &quot;_links&quot;: {\n                    &quot;self&quot;: {\n                        &quot;href&quot;: &quot;http://localhost:8080/api/actors/7&quot;\n                    }\n                }\n            },\n            {\n                &quot;id&quot;: 6,\n                &quot;title&quot;: &quot;Top Hits Vol 6&quot;,\n                &quot;description&quot;: &quot;Top hits vol 6. description&quot;,\n                &quot;releaseDate&quot;: &quot;10-03-1986&quot;,\n                &quot;actors&quot;: [\n                    {\n                        &quot;id&quot;: 3,\n                        &quot;firstName&quot;: &quot;Laverne&quot;,\n                        &quot;lastName&quot;: &quot;Mann&quot;,\n                        &quot;_links&quot;: {\n                            &quot;self&quot;: {\n                                &quot;href&quot;: &quot;http://localhost:8080/api/actors/3&quot;\n                            }\n                        }\n                    }\n                ],\n                &quot;_links&quot;: {\n                    &quot;self&quot;: {\n                        &quot;href&quot;: &quot;http://localhost:8080/api/actors/6&quot;\n                    }\n                }\n            }\n        ]\n    }\n}\n</code></pre>\n<p>However, the solutions that I've found so far are ridiculously complicated or the amount of boilerplate are laughable\nThis solution for instance:\n<a href=\"https://howtodoinjava.com/spring5/hateoas/pagination-links/\" rel=\"noreferrer\">https://howtodoinjava.com/spring5/hateoas/pagination-links/</a>\nthe tutorial on the page doesn't present it entirely but it requires you to create the entity, a model for the entity, and a long RepresentationModelAssemblerSupport full of boilerplate</p>\n<p>I've tried this also:\n<a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"noreferrer\">https://spring.io/guides/tutorials/rest/</a>\nHowever the nested classes (i have relations of one to many/many to one) don't get the links for HATEOAS:</p>\n<pre><code>{\n    &quot;id&quot;: 3,\n    &quot;nome&quot;: &quot;Amazonas&quot;,\n    &quot;uf&quot;: &quot;AM&quot;,\n    &quot;cidades&quot;: [\n        {\n        //no HATEOAS in here\n            &quot;id&quot;: 10003,\n            &quot;nome&quot;: null,\n            &quot;instituicoes&quot;: [],\n            &quot;uf&quot;: &quot;AM&quot;\n        },\n        {\n            &quot;id&quot;: 219,\n            &quot;nome&quot;: &quot;Alvarães&quot;,\n            &quot;instituicoes&quot;: [],\n            &quot;uf&quot;: &quot;AM&quot;\n        }\n    ],\n    &quot;_links&quot;: {\n        &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/v1/estados/estadoes/3&quot;\n        },\n        &quot;estadoes&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/v1/estados/estadoes&quot;\n        }\n    }\n}\n</code></pre>\n<p>I mean, isn't there a simpler solution? Luckily for pagination PagingAndSortingRepository is useful but then having both pagination + HATEOAS, what a nightmare.</p>\n"},{"tags":["java","oauth-2.0","google-calendar-api","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":1883670,"reputation":3650,"user_id":1703313,"accept_rate":67,"display_name":"Francois Bourgeois"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1383296266,"creation_date":1383234314,"answer_id":19710965,"question_id":19706562,"body_markdown":"The oauth2 authorization grant flow (I think, that&#39;s what you are doing) defines that your application gets the flow back via a HTTP redirect.\r\n\r\nIt&#39;s like this:\r\n\r\n 1. Your application opens a socket and listens there for HTTP requests\r\n 2. It now opens the browser and lets the user enter his/her credentials\r\n 3. The user clicks submit and sends the credentials to the oauth server\r\n 4. The server checks the credentials and, if correct, redirects the browser to your application (to the socket you opened in 1.)\r\n 5. Your application gets the auth code from the browser and exchanges it with the access ticket.\r\n\r\nTo let the server know where to redirect to, you use the oauth parameter [redirect_uri][1] in step 2.\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6749#section-3.1.2","title":"How to handle urn:ietf:wg:oauth:2.0:oob redirect in Google Calendar API Authorization","body":"<p>The oauth2 authorization grant flow (I think, that's what you are doing) defines that your application gets the flow back via a HTTP redirect.</p>\n<p>It's like this:</p>\n<ol>\n<li>Your application opens a socket and listens there for HTTP requests</li>\n<li>It now opens the browser and lets the user enter his/her credentials</li>\n<li>The user clicks submit and sends the credentials to the oauth server</li>\n<li>The server checks the credentials and, if correct, redirects the browser to your application (to the socket you opened in 1.)</li>\n<li>Your application gets the auth code from the browser and exchanges it with the access ticket.</li>\n</ol>\n<p>To let the server know where to redirect to, you use the oauth parameter <a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-3.1.2\" rel=\"nofollow noreferrer\">redirect_uri</a> in step 2.</p>\n"},{"tags":[],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395330972,"creation_date":1395330972,"answer_id":22538444,"question_id":19706562,"body_markdown":"You have to use a service account (which comes with a private key) in order to skip the step involving user interaction. There is a detailed guide about this [here][1].\r\n\r\n\r\n  [1]: https://developers.google.com/accounts/docs/OAuth2ServiceAccount","title":"How to handle urn:ietf:wg:oauth:2.0:oob redirect in Google Calendar API Authorization","body":"<p>You have to use a service account (which comes with a private key) in order to skip the step involving user interaction. There is a detailed guide about this <a href=\"https://developers.google.com/accounts/docs/OAuth2ServiceAccount\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11451,"reputation":1401,"user_id":22079,"display_name":"Jeff Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537371820,"creation_date":1537371820,"answer_id":52409664,"question_id":19706562,"body_markdown":"[This page][1] seems to indicate that the auth code is in the title of the browser window, and the desktop app is expected to read it from there. (Gack.)\r\n\r\n\r\n  [1]: https://developers.google.com/api-client-library/python/auth/installed-app","title":"How to handle urn:ietf:wg:oauth:2.0:oob redirect in Google Calendar API Authorization","body":"<p><a href=\"https://developers.google.com/api-client-library/python/auth/installed-app\" rel=\"nofollow noreferrer\">This page</a> seems to indicate that the auth code is in the title of the browser window, and the desktop app is expected to read it from there. (Gack.)</p>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631220674,"creation_date":1631220674,"answer_id":69124583,"question_id":19706562,"body_markdown":"I found the solution. \r\nNote: this is java code, but I bet it works the same way in all other languages.\r\nThe problem is my server is very restricted with and so I cannot start either browser there(since that is just a server without UI), either start localhost server for getting the code.\r\nAll you need is custom `VerificationCodeReceiver`:\r\n```java\r\nVerificationCodeReceiver inbrowserListener = new VerificationCodeReceiver() {\r\n    @Override\r\n    public String getRedirectUri() throws IOException {\r\n        return &quot;urn:ietf:wg:oauth:2.0:oob&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String waitForCode() throws IOException {\r\n        // Reading console line\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        return reader.readLine();\r\n    }\r\n\r\n    @Override\r\n    public void stop() throws IOException {\r\n    }\r\n};\r\n```\r\nthen simply use it in usual flow:\r\n```java\r\nprivate static Credential getCredentials() {\r\n    .....\r\n    return new AuthorizationCodeInstalledApp(flow, inbrowserListener).authorize(&quot;user&quot;);\r\n}\r\n```\r\n","title":"How to handle urn:ietf:wg:oauth:2.0:oob redirect in Google Calendar API Authorization","body":"<p>I found the solution.\nNote: this is java code, but I bet it works the same way in all other languages.\nThe problem is my server is very restricted with and so I cannot start either browser there(since that is just a server without UI), either start localhost server for getting the code.\nAll you need is custom <code>VerificationCodeReceiver</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>VerificationCodeReceiver inbrowserListener = new VerificationCodeReceiver() {\n    @Override\n    public String getRedirectUri() throws IOException {\n        return &quot;urn:ietf:wg:oauth:2.0:oob&quot;;\n    }\n\n    @Override\n    public String waitForCode() throws IOException {\n        // Reading console line\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        return reader.readLine();\n    }\n\n    @Override\n    public void stop() throws IOException {\n    }\n};\n</code></pre>\n<p>then simply use it in usual flow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Credential getCredentials() {\n    .....\n    return new AuthorizationCodeInstalledApp(flow, inbrowserListener).authorize(&quot;user&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1838209,"reputation":191,"user_id":2837882,"display_name":"theflyingwolves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32013,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1678332064,"creation_date":1383222470,"question_id":19706562,"body_markdown":"I am currently working on a installed desktop application implemented in java. I intend to integrate Google Calendar API into the application. \r\n\r\nDuring the authorization procedure, I come to this stage where I am able to get the authorization code only through triggering a browser where the user consent page is displayed. Users then have to click &quot;accept&quot; and will be redirected to a webpage where the authorization code is presented. Users are to copy this code to the Eclipse System.in in order for the authorization process to continue (to exchange the authorization code for a TokenResponse). \r\n\r\nMy question is that how can I simplify this process so that the user won&#39;t have to do this stupid copy-and-paste stuff for the authorization code to be received? (This won&#39;t work anyway, if the project is compiled into a jar file...) Currently all I know is that I will need to provide a callbackurl or something, I just can&#39;t figure this out. Therefore, I would appreciate a more concrete answer, rather than simply tell me the concepts.\r\n\r\nThanks in advance.","title":"How to handle urn:ietf:wg:oauth:2.0:oob redirect in Google Calendar API Authorization","body":"<p>I am currently working on a installed desktop application implemented in java. I intend to integrate Google Calendar API into the application. </p>\n\n<p>During the authorization procedure, I come to this stage where I am able to get the authorization code only through triggering a browser where the user consent page is displayed. Users then have to click \"accept\" and will be redirected to a webpage where the authorization code is presented. Users are to copy this code to the Eclipse System.in in order for the authorization process to continue (to exchange the authorization code for a TokenResponse). </p>\n\n<p>My question is that how can I simplify this process so that the user won't have to do this stupid copy-and-paste stuff for the authorization code to be received? (This won't work anyway, if the project is compiled into a jar file...) Currently all I know is that I will need to provide a callbackurl or something, I just can't figure this out. Therefore, I would appreciate a more concrete answer, rather than simply tell me the concepts.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1678157216,"post_id":75657433,"comment_id":133475146,"body_markdown":"Instead of `&quot;queueManager&quot;: &quot;*&quot;` use `&quot;queueManager&quot;: &quot;QMGROUP&quot;` then specify `connectionFactory.setQueueManager(&quot;*QMGROUP&quot;);` for it to use that entry.   What version of MQ jars are you using? What version of MQ are the queue managers?","body":"Instead of <code>&quot;queueManager&quot;: &quot;*&quot;</code> use <code>&quot;queueManager&quot;: &quot;QMGROUP&quot;</code> then specify <code>connectionFactory.setQueueManager(&quot;*QMGROUP&quot;);</code> for it to use that entry.   What version of MQ jars are you using? What version of MQ are the queue managers?"}],"answers":[{"tags":[],"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678331148,"creation_date":1678159658,"answer_id":75657797,"question_id":75657433,"body_markdown":"You need to have a CCDT with n x 2 entries.\r\n\r\n - 1 entry for each individual queue manager with the queue manager name set to the REAL queue manager name (as you have) \r\n - 1 entry for each individual queue manager with the queue manager name set to the group name - anything you want, I tend to use the Uniform Cluster name.\r\n\r\nSo just duplicate the first three entries, and then edit the queue manager names.\r\n\r\nAlso, in your client program, do not set any channel attributes, e.g. channel name, connection name, port number, ssl cipher, as those attributes all come from the CCDT. That looks like what you are doing, but I thought I&#39;d mention it explicitly as I&#39;m not sure where your `sslEnabled` boolean is coming from.\r\n\r\nEnsure your reconnect options are not limited to the queue manager, but allow the connection to be sent to another queue manager, so use `WMQ_CLIENT_RECONNECT` rather than `WMQ_CLIENT_RECONNECT_Q_MGR`.\r\n\r\nAnd as @JoshMc said in his comment, ensure your connect is made using a queue manager name of the group name, whatever it was you chose.\r\n\r\nFor further reading, this blog post released by Hursley, at the time JMS was supported by Application Rebalancing, might be of interest.\r\n\r\n - [Rebalancing JMS applications within a MQ Uniform Cluster in MQ 9.1.3\r\n][1]\r\n\r\n\r\n  [1]: https://community.ibm.com/community/user/integration/viewdocument/rebalancing-jms-applications-within","title":"How to connect to an IBM MQ uniform cluster","body":"<p>You need to have a CCDT with n x 2 entries.</p>\n<ul>\n<li>1 entry for each individual queue manager with the queue manager name set to the REAL queue manager name (as you have)</li>\n<li>1 entry for each individual queue manager with the queue manager name set to the group name - anything you want, I tend to use the Uniform Cluster name.</li>\n</ul>\n<p>So just duplicate the first three entries, and then edit the queue manager names.</p>\n<p>Also, in your client program, do not set any channel attributes, e.g. channel name, connection name, port number, ssl cipher, as those attributes all come from the CCDT. That looks like what you are doing, but I thought I'd mention it explicitly as I'm not sure where your <code>sslEnabled</code> boolean is coming from.</p>\n<p>Ensure your reconnect options are not limited to the queue manager, but allow the connection to be sent to another queue manager, so use <code>WMQ_CLIENT_RECONNECT</code> rather than <code>WMQ_CLIENT_RECONNECT_Q_MGR</code>.</p>\n<p>And as @JoshMc said in his comment, ensure your connect is made using a queue manager name of the group name, whatever it was you chose.</p>\n<p>For further reading, this blog post released by Hursley, at the time JMS was supported by Application Rebalancing, might be of interest.</p>\n<ul>\n<li><a href=\"https://community.ibm.com/community/user/integration/viewdocument/rebalancing-jms-applications-within\" rel=\"nofollow noreferrer\">Rebalancing JMS applications within a MQ Uniform Cluster in MQ 9.1.3\n</a></li>\n</ul>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75657797,"answer_count":1,"score":1,"last_activity_date":1678331148,"creation_date":1678154572,"question_id":75657433,"body_markdown":"I recently posted this [How to reconnect to all IBM MQ queue managers in a cluster][1] question and I was suggested that a uniform cluster would be the solution. Reading through the docs it seemed to be exactly what we need.\r\n\r\nOur infrastructure guys configured the uniform cluster and I am trying to connect to it and test the functionality.\r\n\r\nTo connect to that I created a json CCDT file similar with below:\r\n\r\n    {\r\n      &quot;channel&quot;:\r\n      [\r\n        {\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server1&quot;,\r\n                &quot;port&quot;: 1414\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QM1&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        },\r\n        {\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server2&quot;,\r\n                &quot;port&quot;: 1414\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QM2&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        },\r\n        {\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server3&quot;,\r\n                &quot;port&quot;: 1414\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QM3&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        },\r\n        {\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server1&quot;,\r\n                &quot;port&quot;: 1414\r\n              },\r\n              {\r\n              &quot;host&quot;: &quot;server2&quot;,\r\n              &quot;port&quot;: 1414\r\n              },\r\n              {\r\n              &quot;host&quot;: &quot;server3&quot;,\r\n              &quot;port&quot;: 1414\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;*&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        }\r\n      ]\r\n    }\r\n \r\nIn other words I was trying to create a client connection to each queue manager and a forth one to the group of three queue managers. Initially this entry was not in the file  &quot;queueManager&quot;: &quot;*&quot; but when trying to run I was getting **missing required attribute**. That made me put that &quot; * &quot;. The error went away however I am still unable to connect which make me think that my CCDT config is wrong. On the client side I have this `ConnectionFactory` creation:\r\n\r\n            connectionFactory.setTransportType(WMQ_CM_CLIENT);\r\n            if (Objects.isNull(ccdtUrl)) {\r\n                connectionFactory.setConnectionNameList(connectionNameList);\r\n                connectionFactory.setChannel(queueManagerChannel);\r\n                connectionFactory.setPort(connectionPort);\r\n            } else {\r\n                connectionFactory.setCCDTURL(ccdtUrl);\r\n            }\r\n            connectionFactory.setCCSID(1208);\r\n            connectionFactory.setClientReconnectOptions(WMQ_CLIENT_RECONNECT_Q_MGR);\r\n            connectionFactory.setClientReconnectTimeout(reconnectTimeout);\r\n            connectionFactory.setAppName(applicationName);\r\n\r\n            if (sslEnabled) {\r\n                connectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n                connectionFactory.setSSLFipsRequired(sslFipsRequired);\r\n                System.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, useIBMCipherMappings);\r\n            }\r\nCan you advise about what I am doing wrong and how can I fix it. I haven&#39;t used CCDT before.\r\n\r\nThank you in advance. \r\n\r\n**UPDATE**\r\n\r\nFollowing the provided answer and the comments I ended up with this CCDT definition:\r\n\r\n    {\r\n      &quot;channel&quot;:\r\n      [\r\n        {\r\n          &quot;connectionManagement&quot;:\r\n          {\r\n            &quot;clientWeight&quot;: 10,\r\n            &quot;affinity&quot;: &quot;none&quot;\r\n          },\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server1&quot;,\r\n                &quot;port&quot;: 1415\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QM1&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        },\r\n        {\r\n          &quot;connectionManagement&quot;:\r\n          {\r\n            &quot;clientWeight&quot;: 10,\r\n            &quot;affinity&quot;: &quot;none&quot;\r\n          },\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server2&quot;,\r\n                &quot;port&quot;: 1415\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QM2&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        },\r\n        {\r\n          &quot;connectionManagement&quot;:\r\n          {\r\n            &quot;clientWeight&quot;: 10,\r\n            &quot;affinity&quot;: &quot;none&quot;\r\n          },\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server3&quot;,\r\n                &quot;port&quot;: 1415\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QM3&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        },\r\n        {\r\n          &quot;connectionManagement&quot;:\r\n          {\r\n            &quot;clientWeight&quot;: 10,\r\n            &quot;affinity&quot;: &quot;none&quot;\r\n          },\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server1&quot;,\r\n                &quot;port&quot;: 1415\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QMGROUP&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        },\r\n        {\r\n          &quot;connectionManagement&quot;:\r\n          {\r\n            &quot;clientWeight&quot;: 10,\r\n            &quot;affinity&quot;: &quot;none&quot;\r\n          },\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server2&quot;,\r\n                &quot;port&quot;: 1415\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QMGROUP&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        },\r\n        {\r\n          &quot;connectionManagement&quot;:\r\n          {\r\n            &quot;clientWeight&quot;: 10,\r\n            &quot;affinity&quot;: &quot;none&quot;\r\n          },\r\n          &quot;general&quot;:\r\n          {\r\n            &quot;description&quot;: &quot;My channel&quot;,\r\n            &quot;maximumMessageLength&quot;: 4194304\r\n          },\r\n          &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\r\n          &quot;clientConnection&quot;:\r\n          {\r\n            &quot;connection&quot;:\r\n            [\r\n              {\r\n                &quot;host&quot;: &quot;server3&quot;,\r\n                &quot;port&quot;: 1415\r\n              }\r\n            ],\r\n            &quot;queueManager&quot;: &quot;QMGROUP&quot;\r\n          },\r\n          &quot;transmissionSecurity&quot;:\r\n          {\r\n            &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\r\n          },\r\n          &quot;type&quot;: &quot;clientConnection&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nAnd this connection factory implementation on the client side:\r\n\r\n            connectionFactory.setTransportType(WMQ_CM_CLIENT);\r\n            if (Objects.isNull(ccdtUrl)) {\r\n                connectionFactory.setConnectionNameList(connectionNameList);\r\n                connectionFactory.setChannel(queueManagerChannel);\r\n                connectionFactory.setPort(connectionPort);\r\n                if (sslEnabled) {\r\n                    connectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n                    connectionFactory.setSSLFipsRequired(sslFipsRequired);\r\n                    System.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, useIBMCipherMappings);\r\n                }\r\n            } else {\r\n                connectionFactory.setCCDTURL(ccdtUrl);\r\n                connectionFactory.setQueueManager(&quot;*QMGROUP&quot;);\r\n            }\r\n            connectionFactory.setCCSID(1208);\r\n            connectionFactory.setClientReconnectOptions(WMQ_CLIENT_RECONNECT);\r\n            connectionFactory.setClientReconnectTimeout(reconnectTimeout);\r\n            connectionFactory.setAppName(applicationName);\r\n\r\nWhen deployed we were able to process a message, then we started seeing lots of connection broken exceptions, the service became unhealthy and being restarted.\r\n\r\n    Caused by: com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2009&#39; (&#39;MQRC_CONNECTION_BROKEN&#39;).\r\n\r\nAt this point I am not sure if this was caused by my CCDT configuration and or the way I created connection factory or by the way the cluster was configured. We know that the cluster works OK when the connection factory is not driven by CCDT.\r\n\r\nAny advice much appreciated.\r\n\r\n  [1]: https://stackoverflow.com/questions/75599900/how-to-reconnect-to-all-ibm-queue-managers-in-a-cluster","title":"How to connect to an IBM MQ uniform cluster","body":"<p>I recently posted this <a href=\"https://stackoverflow.com/questions/75599900/how-to-reconnect-to-all-ibm-queue-managers-in-a-cluster\">How to reconnect to all IBM MQ queue managers in a cluster</a> question and I was suggested that a uniform cluster would be the solution. Reading through the docs it seemed to be exactly what we need.</p>\n<p>Our infrastructure guys configured the uniform cluster and I am trying to connect to it and test the functionality.</p>\n<p>To connect to that I created a json CCDT file similar with below:</p>\n<pre><code>{\n  &quot;channel&quot;:\n  [\n    {\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server1&quot;,\n            &quot;port&quot;: 1414\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QM1&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    },\n    {\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server2&quot;,\n            &quot;port&quot;: 1414\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QM2&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    },\n    {\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server3&quot;,\n            &quot;port&quot;: 1414\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QM3&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    },\n    {\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server1&quot;,\n            &quot;port&quot;: 1414\n          },\n          {\n          &quot;host&quot;: &quot;server2&quot;,\n          &quot;port&quot;: 1414\n          },\n          {\n          &quot;host&quot;: &quot;server3&quot;,\n          &quot;port&quot;: 1414\n          }\n        ],\n        &quot;queueManager&quot;: &quot;*&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    }\n  ]\n}\n</code></pre>\n<p>In other words I was trying to create a client connection to each queue manager and a forth one to the group of three queue managers. Initially this entry was not in the file  &quot;queueManager&quot;: &quot;*&quot; but when trying to run I was getting <strong>missing required attribute</strong>. That made me put that &quot; * &quot;. The error went away however I am still unable to connect which make me think that my CCDT config is wrong. On the client side I have this <code>ConnectionFactory</code> creation:</p>\n<pre><code>        connectionFactory.setTransportType(WMQ_CM_CLIENT);\n        if (Objects.isNull(ccdtUrl)) {\n            connectionFactory.setConnectionNameList(connectionNameList);\n            connectionFactory.setChannel(queueManagerChannel);\n            connectionFactory.setPort(connectionPort);\n        } else {\n            connectionFactory.setCCDTURL(ccdtUrl);\n        }\n        connectionFactory.setCCSID(1208);\n        connectionFactory.setClientReconnectOptions(WMQ_CLIENT_RECONNECT_Q_MGR);\n        connectionFactory.setClientReconnectTimeout(reconnectTimeout);\n        connectionFactory.setAppName(applicationName);\n\n        if (sslEnabled) {\n            connectionFactory.setSSLCipherSuite(sslCipherSuite);\n            connectionFactory.setSSLFipsRequired(sslFipsRequired);\n            System.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, useIBMCipherMappings);\n        }\n</code></pre>\n<p>Can you advise about what I am doing wrong and how can I fix it. I haven't used CCDT before.</p>\n<p>Thank you in advance.</p>\n<p><strong>UPDATE</strong></p>\n<p>Following the provided answer and the comments I ended up with this CCDT definition:</p>\n<pre><code>{\n  &quot;channel&quot;:\n  [\n    {\n      &quot;connectionManagement&quot;:\n      {\n        &quot;clientWeight&quot;: 10,\n        &quot;affinity&quot;: &quot;none&quot;\n      },\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server1&quot;,\n            &quot;port&quot;: 1415\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QM1&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    },\n    {\n      &quot;connectionManagement&quot;:\n      {\n        &quot;clientWeight&quot;: 10,\n        &quot;affinity&quot;: &quot;none&quot;\n      },\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server2&quot;,\n            &quot;port&quot;: 1415\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QM2&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    },\n    {\n      &quot;connectionManagement&quot;:\n      {\n        &quot;clientWeight&quot;: 10,\n        &quot;affinity&quot;: &quot;none&quot;\n      },\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server3&quot;,\n            &quot;port&quot;: 1415\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QM3&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    },\n    {\n      &quot;connectionManagement&quot;:\n      {\n        &quot;clientWeight&quot;: 10,\n        &quot;affinity&quot;: &quot;none&quot;\n      },\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server1&quot;,\n            &quot;port&quot;: 1415\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QMGROUP&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    },\n    {\n      &quot;connectionManagement&quot;:\n      {\n        &quot;clientWeight&quot;: 10,\n        &quot;affinity&quot;: &quot;none&quot;\n      },\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server2&quot;,\n            &quot;port&quot;: 1415\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QMGROUP&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    },\n    {\n      &quot;connectionManagement&quot;:\n      {\n        &quot;clientWeight&quot;: 10,\n        &quot;affinity&quot;: &quot;none&quot;\n      },\n      &quot;general&quot;:\n      {\n        &quot;description&quot;: &quot;My channel&quot;,\n        &quot;maximumMessageLength&quot;: 4194304\n      },\n      &quot;name&quot;: &quot;CHANNEL.NAME&quot;,\n      &quot;clientConnection&quot;:\n      {\n        &quot;connection&quot;:\n        [\n          {\n            &quot;host&quot;: &quot;server3&quot;,\n            &quot;port&quot;: 1415\n          }\n        ],\n        &quot;queueManager&quot;: &quot;QMGROUP&quot;\n      },\n      &quot;transmissionSecurity&quot;:\n      {\n        &quot;cipherSpecification&quot;: &quot;TLS_AES_256_GCM_SHA384&quot;\n      },\n      &quot;type&quot;: &quot;clientConnection&quot;\n    }\n  ]\n}\n</code></pre>\n<p>And this connection factory implementation on the client side:</p>\n<pre><code>        connectionFactory.setTransportType(WMQ_CM_CLIENT);\n        if (Objects.isNull(ccdtUrl)) {\n            connectionFactory.setConnectionNameList(connectionNameList);\n            connectionFactory.setChannel(queueManagerChannel);\n            connectionFactory.setPort(connectionPort);\n            if (sslEnabled) {\n                connectionFactory.setSSLCipherSuite(sslCipherSuite);\n                connectionFactory.setSSLFipsRequired(sslFipsRequired);\n                System.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, useIBMCipherMappings);\n            }\n        } else {\n            connectionFactory.setCCDTURL(ccdtUrl);\n            connectionFactory.setQueueManager(&quot;*QMGROUP&quot;);\n        }\n        connectionFactory.setCCSID(1208);\n        connectionFactory.setClientReconnectOptions(WMQ_CLIENT_RECONNECT);\n        connectionFactory.setClientReconnectTimeout(reconnectTimeout);\n        connectionFactory.setAppName(applicationName);\n</code></pre>\n<p>When deployed we were able to process a message, then we started seeing lots of connection broken exceptions, the service became unhealthy and being restarted.</p>\n<pre><code>Caused by: com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2009' ('MQRC_CONNECTION_BROKEN').\n</code></pre>\n<p>At this point I am not sure if this was caused by my CCDT configuration and or the way I created connection factory or by the way the cluster was configured. We know that the cluster works OK when the connection factory is not driven by CCDT.</p>\n<p>Any advice much appreciated.</p>\n"},{"tags":["java","android","firebase","database-design","google-cloud-firestore"],"comments":[{"owner":{"account_id":355005,"reputation":7146,"user_id":693687,"accept_rate":50,"display_name":"J&#252;rgen Brandstetter"},"score":0,"creation_date":1510831277,"post_id":46979375,"comment_id":81607282,"body_markdown":"Disclaimer: I only ready through the firestore docs.\n\nAs firestore has much better querying then firebase-realtime-db, you don&#39;t need to copy data anymore. So what I would do is: when a user looks at their timeline, create a firestore query which says `give me all posts which are from the people i follow`. \nSomething like: posts.where(user== john OR mark OR katy OR ...). I expect that something like this works. \nIn case I have time to try it I let you know.","body":"Disclaimer: I only ready through the firestore docs.  As firestore has much better querying then firebase-realtime-db, you don&#39;t need to copy data anymore. So what I would do is: when a user looks at their timeline, create a firestore query which says <code>give me all posts which are from the people i follow</code>.  Something like: posts.where(user== john OR mark OR katy OR ...). I expect that something like this works.  In case I have time to try it I let you know."},{"owner":{"account_id":7081024,"reputation":1135,"user_id":5485931,"accept_rate":0,"display_name":"Zicsus"},"score":3,"creation_date":1510979702,"post_id":46979375,"comment_id":81677958,"body_markdown":"@jurgenBrandstetter Firestore does not support &#39;OR&#39; right now and if it would than also your method won&#39;t work. suppose someone have 1000 followers than I have to make 1000 OR statements.","body":"@jurgenBrandstetter Firestore does not support &#39;OR&#39; right now and if it would than also your method won&#39;t work. suppose someone have 1000 followers than I have to make 1000 OR statements."},{"owner":{"account_id":6364280,"reputation":583,"user_id":4938712,"accept_rate":75,"display_name":"Giovanny Pi&#241;eros"},"score":1,"creation_date":1526670886,"post_id":46979375,"comment_id":87851390,"body_markdown":"I was thinking, may be if you put in your document the id of the person that is following you. For example UserA follows UserB, then in the UserB post document you put UserAID = true. So when you do the query it will be something like == postDocRef.where(UserAID=true), but i dont know if a document in firestore can support up to a n million followers","body":"I was thinking, may be if you put in your document the id of the person that is following you. For example UserA follows UserB, then in the UserB post document you put UserAID = true. So when you do the query it will be something like == postDocRef.where(UserAID=true), but i dont know if a document in firestore can support up to a n million followers"},{"owner":{"account_id":7827703,"reputation":2618,"user_id":5918849,"accept_rate":90,"display_name":"bibscy"},"score":0,"creation_date":1535566045,"post_id":46979375,"comment_id":91117675,"body_markdown":"@Zicsus Let&#39;s assume this example. I made 10 000 posts. Now you are following me. You can order the posts by timestamp and then limit to a certain amount, for example 15 posts and use .childAdded method. In order to load more data in the same chronological order you could create a method with an observer of type: ObserveSingleEvent(ofType:Value) with a limit of 10 posts. Then implement a pull to refresh function in your table view or use the scroll view offset and when you reach the bottom of the table, just call your  `ObserveSingleEvent` method and get more items and so on.","body":"@Zicsus Let&#39;s assume this example. I made 10 000 posts. Now you are following me. You can order the posts by timestamp and then limit to a certain amount, for example 15 posts and use .childAdded method. In order to load more data in the same chronological order you could create a method with an observer of type: ObserveSingleEvent(ofType:Value) with a limit of 10 posts. Then implement a pull to refresh function in your table view or use the scroll view offset and when you reach the bottom of the table, just call your  <code>ObserveSingleEvent</code> method and get more items and so on."},{"owner":{"account_id":7081024,"reputation":1135,"user_id":5485931,"accept_rate":0,"display_name":"Zicsus"},"score":0,"creation_date":1535566813,"post_id":46979375,"comment_id":91118029,"body_markdown":"@bibscy Question is not about preparing feed if you are following only one person but how to prepare a chronologically feed like twitter where you see activities of all the users you are following.","body":"@bibscy Question is not about preparing feed if you are following only one person but how to prepare a chronologically feed like twitter where you see activities of all the users you are following."}],"answers":[{"tags":[],"owner":{"account_id":14247815,"reputation":166,"user_id":10292304,"display_name":"thenamethatwasnottaken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535670685,"creation_date":1535669441,"answer_id":52106363,"question_id":46979375,"body_markdown":"I went through some of the the Firebase documentation, and I&#39;m confused as to why the suggested implementation at https://firebase.google.com/docs/database/android/structure-data#fanout wouldn&#39;t work in your case. Something like this: \r\n\r\n    users\r\n    --userid(somedude)\r\n    ---name\r\n    ---etc\r\n    ---leaders:\t\r\n    ----someotherdude\r\n    ----someotherotherdude\r\n    \r\n    leaders:\r\n    --userid(someotherdude)\r\n    ---datelastupdated\r\n    ---followers\r\n    ----somedude\r\n    ----thatotherdude\r\n    ---posts\r\n    ----postid\r\n    \r\n    posts\r\n    --postid\r\n    ---date\r\n    ---image\r\n    ---contentid\r\n    \r\n    postcontent\r\n    --contentid\r\n    ---content\r\n\r\nThe guide goes on to mention &quot;This is a necessary redundancy for two-way relationships. It allows you to quickly and efficiently fetch Ada&#39;s memberships, even when the list of users or groups scales into the millions.&quot;, so it doesn&#39;t seem that scalability is exclusively a Firestore thing. \r\n\r\nUnless I&#39;m missing something the main problem seems to be the existence of the timeline node itself. I get that it makes it easier to generate a view of a particular user&#39;s timeline, but that comes at the cost of having to maintain all of those relationships and is significantly delaying your project. Is it too inefficient to use queries to build a timeline on the fly from a structure similar to the above, based on a submitted user?","title":"How to structure a feed and follow system?","body":"<p>I went through some of the the Firebase documentation, and I'm confused as to why the suggested implementation at <a href=\"https://firebase.google.com/docs/database/android/structure-data#fanout\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/database/android/structure-data#fanout</a> wouldn't work in your case. Something like this: </p>\n\n<pre><code>users\n--userid(somedude)\n---name\n---etc\n---leaders: \n----someotherdude\n----someotherotherdude\n\nleaders:\n--userid(someotherdude)\n---datelastupdated\n---followers\n----somedude\n----thatotherdude\n---posts\n----postid\n\nposts\n--postid\n---date\n---image\n---contentid\n\npostcontent\n--contentid\n---content\n</code></pre>\n\n<p>The guide goes on to mention \"This is a necessary redundancy for two-way relationships. It allows you to quickly and efficiently fetch Ada's memberships, even when the list of users or groups scales into the millions.\", so it doesn't seem that scalability is exclusively a Firestore thing. </p>\n\n<p>Unless I'm missing something the main problem seems to be the existence of the timeline node itself. I get that it makes it easier to generate a view of a particular user's timeline, but that comes at the cost of having to maintain all of those relationships and is significantly delaying your project. Is it too inefficient to use queries to build a timeline on the fly from a structure similar to the above, based on a submitted user?</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":6,"up_vote_count":89,"is_accepted":false,"score":83,"last_activity_date":1602493085,"creation_date":1535991392,"answer_id":52153332,"question_id":46979375,"body_markdown":"I&#39;ve seen your question a little later but I will also try to provide you the best database structure I can think of. So hope you&#39;ll find this answer useful.\r\n\r\nI&#39;m thinking of a schema that has there three top-level collections for `users`, `users that a user is following` and `posts`:\r\n\r\n    Firestore-root\r\n       |\r\n       --- users (collection)\r\n       |     |\r\n       |     --- uid (documents)\r\n       |          |\r\n       |          --- name: &quot;User Name&quot;\r\n       |          |\r\n       |          --- email: &quot;email@email.com&quot;\r\n       |\r\n       --- following (collection)\r\n       |      |\r\n       |      --- uid (document)\r\n       |           |\r\n       |           --- userFollowing (collection)\r\n       |                 |\r\n       |                 --- uid (documents)\r\n       |                 |\r\n       |                 --- uid (documents)\r\n       |\r\n       --- posts (collection)\r\n             |\r\n             --- uid (documents)\r\n                  |\r\n                  --- userPosts (collection)\r\n                        |\r\n                        --- postId (documents)\r\n                        |     |\r\n                        |     --- title: &quot;Post Title&quot;\r\n                        |     |\r\n                        |     --- date: September 03, 2018 at 6:16:58 PM UTC+3\r\n                        |\r\n                        --- postId (documents)\r\n                              |\r\n                              --- title: &quot;Post Title&quot;\r\n                              |\r\n                              --- date: September 03, 2018 at 6:16:58 PM UTC+3\r\n\r\n&gt; if someone have 10,000 followers than a new post was added to all of the 10,000 follower&#39;s Timeline.\r\n\r\nThat will be no problem at all because this is the reason the collections are ment in Firestore. According to the official documentation of [modeling a Cloud Firestore database](https://firebase.google.com/docs/firestore/data-model):\r\n\r\n&gt; Cloud Firestore is optimized for storing large collections of small documents.\r\n\r\nThis is the reason I have added `userFollowing` as a collection and not as a simple object/map that can hold other objects. Remember, the maximum size of a document according to the official documentation regarding [limits and quota](https://firebase.google.com/docs/firestore/quotas) is `1 MiB (1,048,576 bytes)`. In the case of collection, there is no limitation regarding the number of documents beneath a collection. In fact, for this kind of structure is Firestore optimized for.\r\n\r\nSo having those 10,000 followers in this manner, will work perfectly fine. Furthermore, you can query the database in such a manner that will be no need to copy anything anywhere.\r\n\r\nAs you can see, the database is pretty much **denormalized** allowing you to query it very simple. Let&#39;s take some example but before let&#39;s create a connection to the database and get the `uid` of the user using the following lines of code:\r\n\r\n    FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\nIf you want to query the database to get all the users a user is following, you can use a `get()` call on the following reference:\r\n\r\n    CollectionReference userFollowingRef = rootRef.collection(&quot;following/&quot; + uid + &quot;/userFollowing&quot;);\r\n\r\nSo in this way, you can get all user objects a user is following. Having their uid&#39;s you can simply get all their posts.\r\n\r\nLet&#39;s say you want to get on your timeline the latest three posts of every user. The key for solving this problem, when using very large data sets is to load the data in smaller chunks. I have explained in my answer from this **[post](https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android)** a recommended way in which you can paginate queries by combining query cursors with the `limit()` method. I also recommend you take a look at this **[video](https://www.youtube.com/watch?v=KdgKvLll07s)** for a better understanding. So to get the latest three posts of every user, you should consider using this solution. So first you need to get the first 15 user objects that you are following and then based on their `uid`, to get their latest three posts. To get the latest three posts of a single user, please use the following query:\r\n\r\n    Query query = rootRef.collection(&quot;posts/&quot; + uid + &quot;/userPosts&quot;).orderBy(&quot;date&quot;, Query.Direction.DESCENDING)).limit(3);\r\n\r\nAs you are scrolling down, load other 15 user objects and get their latest three posts and so on. Beside the `date` you can also add other properties to your `post` object, like the number of likes, comments, shares and so on.\r\n\r\n&gt; If someone have large amount of posts than every new follower received all of those posts in his Timeline.\r\n\r\nNo way. There is no need to do something like this. I have already explained above why.\r\n\r\n**Edit May 20, 2019:**\r\n\r\nAnother solution to optimize the operation in which the user should see all the recent posts of everyone he follow, is to store the posts that the user should see in a document for that user.\r\n\r\nSo if we take an example, let&#39;s say facebook, you&#39;ll need to have a document containing the facebook feed for each user. However, if there is too much data that a single document can hold ([1 Mib](https://firebase.google.com/docs/firestore/quotas#limits)), you need to put that data in a collection, as explained above.","title":"How to structure a feed and follow system?","body":"<p>I've seen your question a little later but I will also try to provide you the best database structure I can think of. So hope you'll find this answer useful.</p>\n<p>I'm thinking of a schema that has there three top-level collections for <code>users</code>, <code>users that a user is following</code> and <code>posts</code>:</p>\n<pre><code>Firestore-root\n   |\n   --- users (collection)\n   |     |\n   |     --- uid (documents)\n   |          |\n   |          --- name: &quot;User Name&quot;\n   |          |\n   |          --- email: &quot;email@email.com&quot;\n   |\n   --- following (collection)\n   |      |\n   |      --- uid (document)\n   |           |\n   |           --- userFollowing (collection)\n   |                 |\n   |                 --- uid (documents)\n   |                 |\n   |                 --- uid (documents)\n   |\n   --- posts (collection)\n         |\n         --- uid (documents)\n              |\n              --- userPosts (collection)\n                    |\n                    --- postId (documents)\n                    |     |\n                    |     --- title: &quot;Post Title&quot;\n                    |     |\n                    |     --- date: September 03, 2018 at 6:16:58 PM UTC+3\n                    |\n                    --- postId (documents)\n                          |\n                          --- title: &quot;Post Title&quot;\n                          |\n                          --- date: September 03, 2018 at 6:16:58 PM UTC+3\n</code></pre>\n<blockquote>\n<p>if someone have 10,000 followers than a new post was added to all of the 10,000 follower's Timeline.</p>\n</blockquote>\n<p>That will be no problem at all because this is the reason the collections are ment in Firestore. According to the official documentation of <a href=\"https://firebase.google.com/docs/firestore/data-model\" rel=\"noreferrer\">modeling a Cloud Firestore database</a>:</p>\n<blockquote>\n<p>Cloud Firestore is optimized for storing large collections of small documents.</p>\n</blockquote>\n<p>This is the reason I have added <code>userFollowing</code> as a collection and not as a simple object/map that can hold other objects. Remember, the maximum size of a document according to the official documentation regarding <a href=\"https://firebase.google.com/docs/firestore/quotas\" rel=\"noreferrer\">limits and quota</a> is <code>1 MiB (1,048,576 bytes)</code>. In the case of collection, there is no limitation regarding the number of documents beneath a collection. In fact, for this kind of structure is Firestore optimized for.</p>\n<p>So having those 10,000 followers in this manner, will work perfectly fine. Furthermore, you can query the database in such a manner that will be no need to copy anything anywhere.</p>\n<p>As you can see, the database is pretty much <strong>denormalized</strong> allowing you to query it very simple. Let's take some example but before let's create a connection to the database and get the <code>uid</code> of the user using the following lines of code:</p>\n<pre><code>FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\nString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n</code></pre>\n<p>If you want to query the database to get all the users a user is following, you can use a <code>get()</code> call on the following reference:</p>\n<pre><code>CollectionReference userFollowingRef = rootRef.collection(&quot;following/&quot; + uid + &quot;/userFollowing&quot;);\n</code></pre>\n<p>So in this way, you can get all user objects a user is following. Having their uid's you can simply get all their posts.</p>\n<p>Let's say you want to get on your timeline the latest three posts of every user. The key for solving this problem, when using very large data sets is to load the data in smaller chunks. I have explained in my answer from this <strong><a href=\"https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\">post</a></strong> a recommended way in which you can paginate queries by combining query cursors with the <code>limit()</code> method. I also recommend you take a look at this <strong><a href=\"https://www.youtube.com/watch?v=KdgKvLll07s\" rel=\"noreferrer\">video</a></strong> for a better understanding. So to get the latest three posts of every user, you should consider using this solution. So first you need to get the first 15 user objects that you are following and then based on their <code>uid</code>, to get their latest three posts. To get the latest three posts of a single user, please use the following query:</p>\n<pre><code>Query query = rootRef.collection(&quot;posts/&quot; + uid + &quot;/userPosts&quot;).orderBy(&quot;date&quot;, Query.Direction.DESCENDING)).limit(3);\n</code></pre>\n<p>As you are scrolling down, load other 15 user objects and get their latest three posts and so on. Beside the <code>date</code> you can also add other properties to your <code>post</code> object, like the number of likes, comments, shares and so on.</p>\n<blockquote>\n<p>If someone have large amount of posts than every new follower received all of those posts in his Timeline.</p>\n</blockquote>\n<p>No way. There is no need to do something like this. I have already explained above why.</p>\n<p><strong>Edit May 20, 2019:</strong></p>\n<p>Another solution to optimize the operation in which the user should see all the recent posts of everyone he follow, is to store the posts that the user should see in a document for that user.</p>\n<p>So if we take an example, let's say facebook, you'll need to have a document containing the facebook feed for each user. However, if there is too much data that a single document can hold (<a href=\"https://firebase.google.com/docs/firestore/quotas#limits\" rel=\"noreferrer\">1 Mib</a>), you need to put that data in a collection, as explained above.</p>\n"},{"tags":[],"owner":{"account_id":11188012,"reputation":737,"user_id":8209569,"display_name":"Niyas"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1550473973,"creation_date":1550472968,"answer_id":54741889,"question_id":46979375,"body_markdown":"There have two situations\r\n\r\n1. Users in your app have a small number of followers.\r\n\r\n2. Users in your app have a large number of followers. If we are going to store whole followers in a single array in a single document in firestore. Then it will hit the firestore limit of 1 MiB per document.\r\n\r\n---\r\n\r\n1. In the first situation, each user must keep a document which stores the followers&#39; list in a single document in a single array. By using `arrayUnion()` and `arrayRemove()` it is possible to efficiently manage followers list. And when you are going to post something in your timeline you must add the list of followers in post document.\r\n\r\n    And use query given below to fetch posts\r\n\r\n        postCollectionRef.whereArrayContains(&quot;followers&quot;, userUid).orderBy(&quot;date&quot;);\r\n\r\n2. In the second situation, you just need to break user following document based on the size or count of followers array. After reaching the size of the array into a fixed size the next follower&#39;s id must add into the next document. And the first document must keep the field &quot;hasNext&quot;, which stores a boolean value.\r\nWhen adding a new post you must duplicate post document and each document consist of followers list that breaks earlier.\r\nAnd we can make the same query which is given above to fetch documents.","title":"How to structure a feed and follow system?","body":"<p>There have two situations</p>\n\n<ol>\n<li><p>Users in your app have a small number of followers.</p></li>\n<li><p>Users in your app have a large number of followers. If we are going to store whole followers in a single array in a single document in firestore. Then it will hit the firestore limit of 1 MiB per document.</p></li>\n</ol>\n\n<hr>\n\n<ol>\n<li><p>In the first situation, each user must keep a document which stores the followers' list in a single document in a single array. By using <code>arrayUnion()</code> and <code>arrayRemove()</code> it is possible to efficiently manage followers list. And when you are going to post something in your timeline you must add the list of followers in post document.</p>\n\n<p>And use query given below to fetch posts</p>\n\n<pre><code>postCollectionRef.whereArrayContains(\"followers\", userUid).orderBy(\"date\");\n</code></pre></li>\n<li><p>In the second situation, you just need to break user following document based on the size or count of followers array. After reaching the size of the array into a fixed size the next follower's id must add into the next document. And the first document must keep the field \"hasNext\", which stores a boolean value.\nWhen adding a new post you must duplicate post document and each document consist of followers list that breaks earlier.\nAnd we can make the same query which is given above to fetch documents.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13549346,"reputation":3319,"user_id":9774624,"display_name":"Tsabary"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563522502,"creation_date":1563522502,"answer_id":57107873,"question_id":46979375,"body_markdown":"I&#39;ve been struggling bit with the suggested solutions her, mostly due to a technical gap, so i figured another solution that works for me.\r\n\r\nFor every user I have a document with all the accounts that they follow, but also all a list of all the accounts that follow that user.\r\n\r\nWhen the app starts, I get a hold of the list of accounts that follow this current user, and when a user makes a post, part of the post object is the array of all the users that follow them.\r\n\r\nWhen user B wants too get all the posts of the people they are following, i just ad to the query a simple `whereArrayContains(&quot;followers&quot;, currentUser.uid)`.\r\n\r\nI like this approach because it still allows me to order the results by any other parameters I want.\r\n\r\nBased on:\r\n\r\n - 1mb per document, which by a google search I&#39;ve made seems to hold 1,048,576 chaarecters.\r\n - The fact that Firestore generated UIDs seem to be around 28 characters long.\r\n - The rest of the info in the object doesn&#39;t take too much size.\r\n\r\nThis approach should work for users that have up to approx 37,000 followers. ","title":"How to structure a feed and follow system?","body":"<p>I've been struggling bit with the suggested solutions her, mostly due to a technical gap, so i figured another solution that works for me.</p>\n\n<p>For every user I have a document with all the accounts that they follow, but also all a list of all the accounts that follow that user.</p>\n\n<p>When the app starts, I get a hold of the list of accounts that follow this current user, and when a user makes a post, part of the post object is the array of all the users that follow them.</p>\n\n<p>When user B wants too get all the posts of the people they are following, i just ad to the query a simple <code>whereArrayContains(\"followers\", currentUser.uid)</code>.</p>\n\n<p>I like this approach because it still allows me to order the results by any other parameters I want.</p>\n\n<p>Based on:</p>\n\n<ul>\n<li>1mb per document, which by a google search I've made seems to hold 1,048,576 chaarecters.</li>\n<li>The fact that Firestore generated UIDs seem to be around 28 characters long.</li>\n<li>The rest of the info in the object doesn't take too much size.</li>\n</ul>\n\n<p>This approach should work for users that have up to approx 37,000 followers. </p>\n"},{"tags":[],"owner":{"account_id":16851065,"reputation":1,"user_id":12184086,"display_name":"Naman Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591127313,"creation_date":1591051275,"answer_id":62142095,"question_id":46979375,"body_markdown":"I think one possibility is to make another top-level collection named `&quot;users_following&quot;` which contains a document named `&quot;user_id&quot;` and a field for an array that contains all the users that the user is following. Within that `&quot;users_following&quot;` document one can have sub-collection of that particular user all posts or a top-level collection will also do the job. The next important thing that comes is that one has to store a recent one post inside `&quot;users-following&quot;` document as an array or map. Basically this normalized data is going to be used to populate the feed of the person who is following you. But its drawback is that you will only see one post per person even if the person has added two posts recently or even if you store your two to three posts in the normalized way than your all three posts will be shown at once (like three posts of the same user in a row). But it&#39;s something still good if you just need to show one post per user.","title":"How to structure a feed and follow system?","body":"<p>I think one possibility is to make another top-level collection named <code>\"users_following\"</code> which contains a document named <code>\"user_id\"</code> and a field for an array that contains all the users that the user is following. Within that <code>\"users_following\"</code> document one can have sub-collection of that particular user all posts or a top-level collection will also do the job. The next important thing that comes is that one has to store a recent one post inside <code>\"users-following\"</code> document as an array or map. Basically this normalized data is going to be used to populate the feed of the person who is following you. But its drawback is that you will only see one post per person even if the person has added two posts recently or even if you store your two to three posts in the normalized way than your all three posts will be shown at once (like three posts of the same user in a row). But it's something still good if you just need to show one post per user.</p>\n"},{"tags":[],"owner":{"account_id":405164,"reputation":17440,"user_id":2057171,"accept_rate":82,"display_name":"Albert Renshaw"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1675250934,"creation_date":1614047432,"answer_id":66326224,"question_id":46979375,"body_markdown":"The other answers are going to get **very costly** if you have any decent amount of activity on your network *(e.g. People following 1,000 people, or people making 1,000 posts).*\r\n\r\nMy solution is to add a field to every user document called &#39;recentPosts&#39;, this field will be an array.\r\n\r\nNow, whenever a post is made, have a cloud function which detects onWrite(), and updates that poster&#39;s `recentPosts` array on their userDocument to have info about that post added.\r\n\r\nSo, you might add the following map to the front of the recentPosts array:\r\n```\r\n{\r\n&quot;postId&quot;: xxxxxxxxxxx,\r\n&quot;createdAt&quot;: tttttt\r\n}\r\n```\r\nLimit the recentPosts array to 1,000 objects, deleting the oldest entry when going over limit. \r\n\r\nNow, suppose you are following 1,000 users and want to populate your feed... Grab all 1,000 user documents. This will count as 1k reads.\r\n\r\nOnce you have the 1,000 documents, each document will have an array of `recentPosts`. Merge all of those arrays on client into one master array and sort by createdAt. \r\n\r\nNow you have up to potentially 1 million post&#39;s docIDs, all sorted chronologically, for only 1,000 reads. Now as your user scrolls their feed simply query those documents by their docID as needed, presumably 10 at a time or something. \r\n\r\nYou can now load a feed of X posts from Y followees for `Y + X` reads.\r\n\r\nSo 2,000 posts from 100 followees would only be 2,100 reads.&lt;br&gt;\r\nSo 1,000 posts from 1,000 followees would only be 2,000 reads.&lt;br&gt;\r\n*etc...*\r\n\r\n\r\n_______\r\n\r\n\r\nEdit 1) further optimization. When loading the userDocuments you can batch them 10 at a time by using the [`in` query][1] ... normally this would make no difference because it&#39;s still 10 reads even though it&#39;s batched... but you can also filter by a field like `recentPostsLastUpdatedAt` and check that it&#39;s greater than your cached value for that user doc, then any user docs that haven&#39;t updated their recentPosts array will not get read. This can save you theoretically 10x on base reads. \r\n\r\n&lt;s&gt;Edit 2) You can attach listeners to each userDocument too to get new posts as their recentPosts change without querying every single follower each time you need to refresh your feed. (Although 1,000+ snapshot listeners could be bad practice, I don&#39;t know how they work under the hood)&lt;/s&gt; (Edit3: Firebase limits a project to only 1k listeners so edit2 wasn&#39;t a scalable optimization)\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/queries#in_not-in_and_array-contains-any","title":"How to structure a feed and follow system?","body":"<p>The other answers are going to get <strong>very costly</strong> if you have any decent amount of activity on your network <em>(e.g. People following 1,000 people, or people making 1,000 posts).</em></p>\n<p>My solution is to add a field to every user document called 'recentPosts', this field will be an array.</p>\n<p>Now, whenever a post is made, have a cloud function which detects onWrite(), and updates that poster's <code>recentPosts</code> array on their userDocument to have info about that post added.</p>\n<p>So, you might add the following map to the front of the recentPosts array:</p>\n<pre><code>{\n&quot;postId&quot;: xxxxxxxxxxx,\n&quot;createdAt&quot;: tttttt\n}\n</code></pre>\n<p>Limit the recentPosts array to 1,000 objects, deleting the oldest entry when going over limit.</p>\n<p>Now, suppose you are following 1,000 users and want to populate your feed... Grab all 1,000 user documents. This will count as 1k reads.</p>\n<p>Once you have the 1,000 documents, each document will have an array of <code>recentPosts</code>. Merge all of those arrays on client into one master array and sort by createdAt.</p>\n<p>Now you have up to potentially 1 million post's docIDs, all sorted chronologically, for only 1,000 reads. Now as your user scrolls their feed simply query those documents by their docID as needed, presumably 10 at a time or something.</p>\n<p>You can now load a feed of X posts from Y followees for <code>Y + X</code> reads.</p>\n<p>So 2,000 posts from 100 followees would only be 2,100 reads.<br>\nSo 1,000 posts from 1,000 followees would only be 2,000 reads.<br>\n<em>etc...</em></p>\n<hr />\n<p>Edit 1) further optimization. When loading the userDocuments you can batch them 10 at a time by using the <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#in_not-in_and_array-contains-any\" rel=\"nofollow noreferrer\"><code>in</code> query</a> ... normally this would make no difference because it's still 10 reads even though it's batched... but you can also filter by a field like <code>recentPostsLastUpdatedAt</code> and check that it's greater than your cached value for that user doc, then any user docs that haven't updated their recentPosts array will not get read. This can save you theoretically 10x on base reads.</p>\n<p><s>Edit 2) You can attach listeners to each userDocument too to get new posts as their recentPosts change without querying every single follower each time you need to refresh your feed. (Although 1,000+ snapshot listeners could be bad practice, I don't know how they work under the hood)</s> (Edit3: Firebase limits a project to only 1k listeners so edit2 wasn't a scalable optimization)</p>\n"},{"tags":[],"owner":{"account_id":100757,"reputation":4163,"user_id":271450,"accept_rate":50,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678329848,"creation_date":1616596555,"answer_id":66783307,"question_id":46979375,"body_markdown":"**Update**: 3/7/23\r\n\r\nThis post is out of date. I personally believe you should go with Mass Duplication, which is possible even with the limits in Firestore Functions. I have put together every possible version in an updated article.\r\n  \r\nhttps://code.build/p/GNWh51AdUxUd3B8vEnSMam/building-a-scalable-follower-feed-with-firestore\r\n\r\n___\r\n**Original Post**\r\n___\r\n\r\nMy scalable idea is that users may have 1,000,000+ followers, but a REAL user does not follow more than 1000 people. We could simply aggregate their feed (a collection of posts).\r\n\r\n**Collections**\r\n```\r\n/users\r\n/users/{userId}/follows\r\n/users/{userId}/feed\r\n/posts\r\n```\r\n\r\n### 1. Populate the feed\r\n\r\nPopulate feed needs to run first, and should honestly be in a cloud function. To avoid costs, it will only get new posts to your feed, but not posts older than 10 days (or however old).\r\n\r\n`populateFeed()` - something like this...\r\n```typescript\r\nnumFollowing = get(&#39;users/numFollowing&#39;);\r\nlastUpdate = get(&#39;users/lastUpdate&#39;);\r\ntenDaysOld = timestamp 10 days ago\r\n\r\n// maybe chunk at 20 here...\r\nfor (numFollowing) {\r\n  docs = db.collection(&#39;posts&#39;)\r\n    .where(&#39;userId&#39;, &#39;==&#39;, userId)\r\n    .where(&#39;createdAt&#39;, &#39;&gt;&#39;, lastUpdate)\r\n    .where(&#39;createdAt&#39;, &#39;&lt;&#39;, tenDaysOld);\r\n  db.collection(&#39;users/${userId}/feed&#39;).batch.set(docs);\r\n```\r\n\r\nUpdate `users/${userId}/lastUpdate` to current timestamp.\r\n\r\nThis way, you don&#39;t get too many documents (only 10 days old for example), and you don&#39;t waste reads on docs you already have.\r\n\r\n### 2. Read the feed\r\n\r\nA feed will be the aggregated posts.\r\n\r\n`loadFeed()` - call this after `populateFeed()`\r\n```typescript\r\ndb.collection(&#39;/users/${userId}/feed&#39;).orderBy(&#39;createdAt&#39;);\r\n```\r\n\r\nThe documents in **feed** only really need the **createdAt** date and **postId** since you can pull the post on the front end, although you could store all data if you don&#39;t expect it to change:\r\n```typescript\r\npostId: {\r\n  createdAt: date\r\n}\r\n```\r\n\r\nYour **userDoc** will also have:\r\n```typescript\r\n{\r\n  numFollowing: number,\r\n  lastUpdate: date\r\n}\r\n```\r\n\r\nThe app should automatically call `loadFeed()` on load.  There could be a button that runs `populateFeed()` as a callable cloud function (the best), or locally. If your feed is a firebase observable, it will update automatically as they populate.\r\n\r\nThere might be some other cleaner ways to solve this problem that scale. It is possible to update the field on a posts **onWrite** to all followers feed.  The only constraint is time, which, although normally in the 60s, can be up to [9min][1]. Just make sure you bulk update asynchronously.\r\n\r\nSee my **adv-firestore-functions** package [here][2].\r\n\r\n  [1]: https://cloud.google.com/functions/docs/concepts/exec#timeout\r\n  [2]: https://github.com/jdgamble555/adv-firestore-functions/blob/master/src/shared/bulk.ts\r\n\r\nJ","title":"How to structure a feed and follow system?","body":"<p><strong>Update</strong>: 3/7/23</p>\n<p>This post is out of date. I personally believe you should go with Mass Duplication, which is possible even with the limits in Firestore Functions. I have put together every possible version in an updated article.</p>\n<p><a href=\"https://code.build/p/GNWh51AdUxUd3B8vEnSMam/building-a-scalable-follower-feed-with-firestore\" rel=\"nofollow noreferrer\">https://code.build/p/GNWh51AdUxUd3B8vEnSMam/building-a-scalable-follower-feed-with-firestore</a></p>\n<hr />\n<p><strong>Original Post</strong></p>\n<hr />\n<p>My scalable idea is that users may have 1,000,000+ followers, but a REAL user does not follow more than 1000 people. We could simply aggregate their feed (a collection of posts).</p>\n<p><strong>Collections</strong></p>\n<pre><code>/users\n/users/{userId}/follows\n/users/{userId}/feed\n/posts\n</code></pre>\n<h3>1. Populate the feed</h3>\n<p>Populate feed needs to run first, and should honestly be in a cloud function. To avoid costs, it will only get new posts to your feed, but not posts older than 10 days (or however old).</p>\n<p><code>populateFeed()</code> - something like this...</p>\n<pre class=\"lang-js prettyprint-override\"><code>numFollowing = get('users/numFollowing');\nlastUpdate = get('users/lastUpdate');\ntenDaysOld = timestamp 10 days ago\n\n// maybe chunk at 20 here...\nfor (numFollowing) {\n  docs = db.collection('posts')\n    .where('userId', '==', userId)\n    .where('createdAt', '&gt;', lastUpdate)\n    .where('createdAt', '&lt;', tenDaysOld);\n  db.collection('users/${userId}/feed').batch.set(docs);\n</code></pre>\n<p>Update <code>users/${userId}/lastUpdate</code> to current timestamp.</p>\n<p>This way, you don't get too many documents (only 10 days old for example), and you don't waste reads on docs you already have.</p>\n<h3>2. Read the feed</h3>\n<p>A feed will be the aggregated posts.</p>\n<p><code>loadFeed()</code> - call this after <code>populateFeed()</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection('/users/${userId}/feed').orderBy('createdAt');\n</code></pre>\n<p>The documents in <strong>feed</strong> only really need the <strong>createdAt</strong> date and <strong>postId</strong> since you can pull the post on the front end, although you could store all data if you don't expect it to change:</p>\n<pre class=\"lang-js prettyprint-override\"><code>postId: {\n  createdAt: date\n}\n</code></pre>\n<p>Your <strong>userDoc</strong> will also have:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  numFollowing: number,\n  lastUpdate: date\n}\n</code></pre>\n<p>The app should automatically call <code>loadFeed()</code> on load.  There could be a button that runs <code>populateFeed()</code> as a callable cloud function (the best), or locally. If your feed is a firebase observable, it will update automatically as they populate.</p>\n<p>There might be some other cleaner ways to solve this problem that scale. It is possible to update the field on a posts <strong>onWrite</strong> to all followers feed.  The only constraint is time, which, although normally in the 60s, can be up to <a href=\"https://cloud.google.com/functions/docs/concepts/exec#timeout\" rel=\"nofollow noreferrer\">9min</a>. Just make sure you bulk update asynchronously.</p>\n<p>See my <strong>adv-firestore-functions</strong> package <a href=\"https://github.com/jdgamble555/adv-firestore-functions/blob/master/src/shared/bulk.ts\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>J</p>\n"},{"tags":[],"owner":{"account_id":15731757,"reputation":145,"user_id":11351916,"display_name":"Nader Khaled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643191758,"creation_date":1643191758,"answer_id":70861741,"question_id":46979375,"body_markdown":"Alright after some thinking about this problem I came up with a theoretical solution (because I didn&#39;t test it yet). I will be using Cloud Firestore for this:\r\n\r\nMy Solution is compromised of two parts :\r\n\r\n**1. Database Shema design :** \r\n\r\n    Firestore-root\r\n         |\r\n          _ _ users (collection):\r\n                   |\r\n                    _ _ uid (document):\r\n                           |\r\n                            _ _ name: &#39;Jack&#39;\r\n                           |\r\n                            _ _ posts (sub-collection):\r\n                                     |\r\n                                      _ _ postId (document)\r\n                           |\r\n                            _ _ feed (sub-collection):\r\n                                    |\r\n                                     _ _ postId (document)\r\n                           |\r\n                            _ _ following (sub-collection):\r\n                                         |\r\n                                          _ _ userId (document)\r\n                           |\r\n                            _ _ followers (sub-collection):\r\n                                         |\r\n                                          _ _ userId (document)\r\n\r\n\r\n\r\n **1.1 Explanation:**     \r\n \r\nAs you can see here, I have created a collection named `users` representing each user in the database. Each `uid` document in the `users` collection has it&#39;s own fields like `name` for example and it&#39;s own sub-collections. Each `uid` document contains it&#39;s own created posts in the `posts` sub-collection, it contains the posts from the people the current user follows in the `feed` sub-collection. Finally it contains two sub-collections representing the `following` and `followers`. \r\n\r\n\r\n**2. Use Cloud Functions:**\r\n\r\n    const functions = require(&quot;firebase-functions&quot;);\r\n\r\n    const firebaseAuth = require(&quot;firebase/auth&quot;);\r\n\r\n    const admin = require(&quot;firebase-admin&quot;);\r\n\r\n    admin.initializeApp();\r\n\r\n    const firestore = admin.firestore();\r\n\r\n    const uid = firebaseAuth.getAuth().currentUser.uid;\r\n\r\n    exports.addToUserFeed = \r\n      \r\n      functions.firestore.document(&quot;/users/{uid}/posts/{postId}&quot;).onCreate(async \r\n      (snapshot,context) =&gt; {\r\n\r\n        const userId = context.params.uid;\r\n\r\n        const followers = await firestore.collection(&#39;users&#39;).doc(userId).collection(&#39;followers&#39;).where(&quot;userId&quot;, &quot;==&quot;, uid).get();\r\n\r\n        const isFollowing = !followers.empty;\r\n\r\n        if (isFollowing == true) {\r\n\r\n            const docRef = \r\n            firestore.collection(&#39;users&#39;).doc(uid).collection(&#39;feed&#39;).doc();\r\n\r\n            const data = snapshot.data();\r\n\r\n            firestore.runTransaction(transaction =&gt; {\r\n               transaction.create(docRef, data);\r\n           });\r\n        }\r\n    });\r\n\r\n**2.1 Explanation:**\r\n  \r\nHere we trigger a cloud function whenever a user creates a post in its sub-collection `posts`. Since we want to add the posts to the current users feed (`feed` sub-collection), from the users it is following, we check first whether the current user (which we got its id using `firebase auth` in form of `uid` constant) follows the created post author which its id is stored in the wildcard `uid` (We can access it through `context.params.uid`). The Checking is done through performing a `Query` to check if any of the `userId` documents in the `followers` sub-collection matches the current user id `uid`. This returns a `QuerySnapshot`. Then we check if the `QuerySnapshot` is empty or not. If it is empty that means that the current user doesn&#39;t follow the `context.params.uid` user. Otherwise it does follow it. If it does follow, then we add the newly created post into the current users `feed` sub-collection using a transaction.\r\n\r\nAlright thats it. I hope this helps anyone. Again I didn&#39;t test it yet, so maybe something can not work out, but hopefully it will. Thanks!","title":"How to structure a feed and follow system?","body":"<p>Alright after some thinking about this problem I came up with a theoretical solution (because I didn't test it yet). I will be using Cloud Firestore for this:</p>\n<p>My Solution is compromised of two parts :</p>\n<p><strong>1. Database Shema design :</strong></p>\n<pre><code>Firestore-root\n     |\n      _ _ users (collection):\n               |\n                _ _ uid (document):\n                       |\n                        _ _ name: 'Jack'\n                       |\n                        _ _ posts (sub-collection):\n                                 |\n                                  _ _ postId (document)\n                       |\n                        _ _ feed (sub-collection):\n                                |\n                                 _ _ postId (document)\n                       |\n                        _ _ following (sub-collection):\n                                     |\n                                      _ _ userId (document)\n                       |\n                        _ _ followers (sub-collection):\n                                     |\n                                      _ _ userId (document)\n</code></pre>\n<p><strong>1.1 Explanation:</strong></p>\n<p>As you can see here, I have created a collection named <code>users</code> representing each user in the database. Each <code>uid</code> document in the <code>users</code> collection has it's own fields like <code>name</code> for example and it's own sub-collections. Each <code>uid</code> document contains it's own created posts in the <code>posts</code> sub-collection, it contains the posts from the people the current user follows in the <code>feed</code> sub-collection. Finally it contains two sub-collections representing the <code>following</code> and <code>followers</code>.</p>\n<p><strong>2. Use Cloud Functions:</strong></p>\n<pre><code>const functions = require(&quot;firebase-functions&quot;);\n\nconst firebaseAuth = require(&quot;firebase/auth&quot;);\n\nconst admin = require(&quot;firebase-admin&quot;);\n\nadmin.initializeApp();\n\nconst firestore = admin.firestore();\n\nconst uid = firebaseAuth.getAuth().currentUser.uid;\n\nexports.addToUserFeed = \n  \n  functions.firestore.document(&quot;/users/{uid}/posts/{postId}&quot;).onCreate(async \n  (snapshot,context) =&gt; {\n\n    const userId = context.params.uid;\n\n    const followers = await firestore.collection('users').doc(userId).collection('followers').where(&quot;userId&quot;, &quot;==&quot;, uid).get();\n\n    const isFollowing = !followers.empty;\n\n    if (isFollowing == true) {\n\n        const docRef = \n        firestore.collection('users').doc(uid).collection('feed').doc();\n\n        const data = snapshot.data();\n\n        firestore.runTransaction(transaction =&gt; {\n           transaction.create(docRef, data);\n       });\n    }\n});\n</code></pre>\n<p><strong>2.1 Explanation:</strong></p>\n<p>Here we trigger a cloud function whenever a user creates a post in its sub-collection <code>posts</code>. Since we want to add the posts to the current users feed (<code>feed</code> sub-collection), from the users it is following, we check first whether the current user (which we got its id using <code>firebase auth</code> in form of <code>uid</code> constant) follows the created post author which its id is stored in the wildcard <code>uid</code> (We can access it through <code>context.params.uid</code>). The Checking is done through performing a <code>Query</code> to check if any of the <code>userId</code> documents in the <code>followers</code> sub-collection matches the current user id <code>uid</code>. This returns a <code>QuerySnapshot</code>. Then we check if the <code>QuerySnapshot</code> is empty or not. If it is empty that means that the current user doesn't follow the <code>context.params.uid</code> user. Otherwise it does follow it. If it does follow, then we add the newly created post into the current users <code>feed</code> sub-collection using a transaction.</p>\n<p>Alright thats it. I hope this helps anyone. Again I didn't test it yet, so maybe something can not work out, but hopefully it will. Thanks!</p>\n"}],"owner":{"account_id":7081024,"reputation":1135,"user_id":5485931,"accept_rate":0,"display_name":"Zicsus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27113,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"answer_count":8,"score":85,"last_activity_date":1678329848,"creation_date":1509120759,"question_id":46979375,"body_markdown":"I was using Firebase realtime database for my social network app were you can follow and receive posts of people you follow.\r\n\r\nMy database :\r\n\r\n    Users\r\n    --USER_ID_1\r\n    ----name\r\n    ----email\r\n    --USER_ID_2\r\n    ----name\r\n    ----email\r\n\r\n    Posts\r\n    --POST_ID_1\r\n    ----image\r\n    ----userid\r\n    ----date\r\n    --POST_ID_2\r\n    ----image\r\n    ----userid\r\n    ----date\r\n   \r\n    Timeline\r\n    --User_ID_1\r\n    ----POST_ID_2\r\n    ------date\r\n    ----POST_ID_1\r\n    ------date\r\n\r\nAnother node &quot;Content&quot; contained id of the all the user posts. If &quot;A&quot; followed &quot;B&quot; then all post id&#39;s of B where added to A&#39;s timeline. And if B posted something it&#39;s also added to all of its follower&#39;s timelines.\r\n\r\nIt has scalability issues :\r\n\r\n - If someone has 10,000 followers a new post was added to all 10,000 follower&#39;s timelines.\r\n - If someone has a large amount of posts then every new follower receives all of those in his timeline.\r\n\r\nI want to change to Firestore as it&#39;s been claimed scalable. How should I structure my database so these problems in realtime database are eliminated in Firestore?","title":"How to structure a feed and follow system?","body":"<p>I was using Firebase realtime database for my social network app were you can follow and receive posts of people you follow.</p>\n<p>My database :</p>\n<pre><code>Users\n--USER_ID_1\n----name\n----email\n--USER_ID_2\n----name\n----email\n\nPosts\n--POST_ID_1\n----image\n----userid\n----date\n--POST_ID_2\n----image\n----userid\n----date\n\nTimeline\n--User_ID_1\n----POST_ID_2\n------date\n----POST_ID_1\n------date\n</code></pre>\n<p>Another node &quot;Content&quot; contained id of the all the user posts. If &quot;A&quot; followed &quot;B&quot; then all post id's of B where added to A's timeline. And if B posted something it's also added to all of its follower's timelines.</p>\n<p>It has scalability issues :</p>\n<ul>\n<li>If someone has 10,000 followers a new post was added to all 10,000 follower's timelines.</li>\n<li>If someone has a large amount of posts then every new follower receives all of those in his timeline.</li>\n</ul>\n<p>I want to change to Firestore as it's been claimed scalable. How should I structure my database so these problems in realtime database are eliminated in Firestore?</p>\n"},{"tags":["java","sql","database","swing","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678323761,"post_id":75679493,"comment_id":133512181,"body_markdown":"If `Application.getInstance()` has been called before your &quot;check email&quot; workflow, subsequent calls to `getInstance` WILL NOT create a new instance of `Application`, therefore, it will NEVER try and execute the &quot;forgotten&quot; password workflow.  Instead, you should have a &quot;forgotPassword&quot; method, into which you pass your email address and it would run the workflow independently - and `Application` shouldn&#39;t be display dialogs, that&#39;s the responsibility of the caller","body":"If <code>Application.getInstance()</code> has been called before your &quot;check email&quot; workflow, subsequent calls to <code>getInstance</code> WILL NOT create a new instance of <code>Application</code>, therefore, it will NEVER try and execute the &quot;forgotten&quot; password workflow.  Instead, you should have a &quot;forgotPassword&quot; method, into which you pass your email address and it would run the workflow independently - and <code>Application</code> shouldn&#39;t be display dialogs, that&#39;s the responsibility of the caller"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678323818,"post_id":75679493,"comment_id":133512188,"body_markdown":"I would also do some research into the [singleton pattern](https://www.google.com/search?q=java+singlton+pattern&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+singlton+pattern&amp;aqs=chrome..69i57.3255j0j7&amp;sourceid=chrome&amp;ie=UTF-8) in Java, as how you&#39;re doing it isn&#39;t the recommend way (hint, anything that isn&#39;t making use of a `enum` is probably doing it wrong)","body":"I would also do some research into the <a href=\"https://www.google.com/search?q=java+singlton+pattern&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+singlton+pattern&amp;aqs=chrome..69i57.3255j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">singleton pattern</a> in Java, as how you&#39;re doing it isn&#39;t the recommend way (hint, anything that isn&#39;t making use of a <code>enum</code> is probably doing it wrong)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678323884,"post_id":75679493,"comment_id":133512203,"body_markdown":"I would also recommend making use of [`PreparedStatement`](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)","body":"I would also recommend making use of <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code></a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678324097,"post_id":75679493,"comment_id":133512231,"body_markdown":"And you could save yourself some trouble by using [`create table if not exists`](https://www.google.com/search?q=sqlite+create+table+if+not+exists&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=sqlite+crea&amp;aqs=chrome.1.69i57j69i59.8444j0j7&amp;sourceid=chrome&amp;ie=UTF-8)","body":"And you could save yourself some trouble by using <a href=\"https://www.google.com/search?q=sqlite+create+table+if+not+exists&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=sqlite+crea&amp;aqs=chrome.1.69i57j69i59.8444j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\"><code>create table if not exists</code></a>"},{"owner":{"account_id":27105396,"reputation":9,"user_id":20651301,"display_name":"StanAtkinson"},"score":0,"creation_date":1678325569,"post_id":75679493,"comment_id":133512418,"body_markdown":"@MadProgrammer I took your advice and removed the code that checked the validity of the inputted email from the constructor of the Application class. I inserted new code into the actionPerformed method in my ForgotPasswordController class, but now I&#39;m getting an SQLException. My IDE is not saying what specifically is wrong with my code; it simply says &quot;java: unreported exception java.sql.SQLException; must be caught or declared to be thrown&quot;. If add &quot;throws SQLException&quot; to actionPerformed, it throws a new error saying... (message continued in next comment)","body":"@MadProgrammer I took your advice and removed the code that checked the validity of the inputted email from the constructor of the Application class. I inserted new code into the actionPerformed method in my ForgotPasswordController class, but now I&#39;m getting an SQLException. My IDE is not saying what specifically is wrong with my code; it simply says &quot;java: unreported exception java.sql.SQLException; must be caught or declared to be thrown&quot;. If add &quot;throws SQLException&quot; to actionPerformed, it throws a new error saying... (message continued in next comment)"},{"owner":{"account_id":27105396,"reputation":9,"user_id":20651301,"display_name":"StanAtkinson"},"score":0,"creation_date":1678325614,"post_id":75679493,"comment_id":133512423,"body_markdown":"... &quot;java: actionPerformed(java.awt.event.ActionEvent) in ForgotPasswordController cannot implement actionPerformed(java.awt.event.ActionEvent) in java.awt.event.ActionListener\n  overridden method does not throw java.sql.SQLException&quot;. I&#39;ll put the new code I wrote in an edit of my original post.","body":"... &quot;java: actionPerformed(java.awt.event.ActionEvent) in ForgotPasswordController cannot implement actionPerformed(java.awt.event.ActionEvent) in java.awt.event.ActionListener   overridden method does not throw java.sql.SQLException&quot;. I&#39;ll put the new code I wrote in an edit of my original post."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678327530,"post_id":75679493,"comment_id":133512683,"body_markdown":"*&quot;unreported exception java.sql.SQLException&quot;* That&#39;s because many of the JDBC methods throw `SQLException`, which you should need to report","body":"<i>&quot;unreported exception java.sql.SQLException&quot;</i> That&#39;s because many of the JDBC methods throw <code>SQLException</code>, which you should need to report"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678327604,"post_id":75679493,"comment_id":133512695,"body_markdown":"`actionPerformed` is defined by `ActionListener`, it doesn&#39;t throw any exceptions, you will nee to add a `try-catch` to catch `SQLException` within the `actionPerformed` method","body":"<code>actionPerformed</code> is defined by <code>ActionListener</code>, it doesn&#39;t throw any exceptions, you will nee to add a <code>try-catch</code> to catch <code>SQLException</code> within the <code>actionPerformed</code> method"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678334803,"post_id":75679493,"comment_id":133513506,"body_markdown":"`if (resultSet.getString(1) != email)` will almost certainly fail.  See https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java.","body":"<code>if (resultSet.getString(1) != email)</code> will almost certainly fail.  See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678325116,"creation_date":1678325116,"answer_id":75679633,"question_id":75679493,"body_markdown":"Let&#39;s strip away some of the noise and have a close look at this...\r\n\r\n    public class Application {\r\n\r\n        private static Application instance;   // Singleton pattern\r\n\r\n        private static boolean checkEmail = false;\r\n        private static String email;\r\n\r\n        public static Application getInstance() {\r\n            if (instance == null) {\r\n                instance = new Application();\r\n            }\r\n            return instance;\r\n        }\r\n\r\n        public Connection getConnection() {\r\n            return connection;\r\n        }\r\n\r\n        private Application() {\r\n            // create SQLite database connection here!\r\n            try {\r\n                Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n                connection = DriverManager.getConnection(&quot;jdbc:sqlite:store.db&quot;);\r\n                Statement stmt = connection.createStatement();\r\n                if (!stmt.executeQuery(&quot;select * from product&quot;).next()) // product table do not exist\r\n                {\r\n                    initializeDatabase(stmt);\r\n                }\r\n                if (!stmt.executeQuery(&quot;select * from email&quot;).next()) // product table do not exist\r\n                {\r\n                    initializeEmailList(stmt);\r\n                }\r\n                if (checkEmail == true) {\r\n                    Statement stmt2 = connection.createStatement();\r\n                    ResultSet resultSet = stmt2.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\r\n                    if (!resultSet.next()) {\r\n                        JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\r\n                    } else if (resultSet.getString(1) != email) {\r\n                        JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);\r\n                    }\r\n                    //Application.getInstance().checkEmail(email);\r\n                    checkEmail = false;\r\n                }\r\n\r\n            } catch (ClassNotFoundException ex) {\r\n                System.out.println(&quot;SQLite is not installed. System exits with error!&quot;);\r\n                System.exit(1);\r\n            } catch (SQLException ex) {\r\n                System.out.println(&quot;SQLite database is not ready. System exits with error!&quot; + ex.getMessage());\r\n\r\n                System.exit(2);\r\n            }\r\n\r\n            // Create data adapter here!\r\n            dataAdapter = new DataAdapter(connection);\r\n\r\n            productController = new ProductController(productView, dataAdapter);\r\n\r\n            checkoutController = new CheckoutController(checkoutScreen, dataAdapter);\r\n\r\n            loginController = new LoginController(loginScreen, dataAdapter);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Application.getInstance().getLoginScreen().setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\nSo, in the `main` method you call `Application.getInstance().getLoginScreen().setVisible(true);`\r\n\r\nThis will:\r\n\r\n* Create a new instance of `Application` (in `getInstance`)\r\n* The constructor will initialise the database and other internal state, but since `checkEmail` is `false` by default, it won&#39;t execute that workflow\r\n* Display the login screen\r\n\r\nEventually, we find ourselves here...\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == forgotPasswordScreen.getSendEmail()) {\r\n            String email = forgotPasswordScreen.getEmailAddress().getText().trim();\r\n            Application.setEmail(email);\r\n            Application.setCheckEmail();\r\n            Application application = Application.getInstance();\r\n        }\r\n    }\r\n\r\nNow, the problem with this is, when you call `Application.getInstance()`, you will get back the instance which was previously create (way back in when `main` was called, kind of the point of a singleton), so the constructor is never called.\r\n\r\nInstead, you should have a dedicated method for handling forgotten passwords, maybe something more like...\r\n\r\n    public enum Application {\r\n        INSTANCE;\r\n\r\n        private Connection connection;\r\n        private User currentUser = null;\r\n\r\n        private Application() {\r\n            // Setup and initialisation\r\n        }\r\n\r\n        public Connection getConnection() {\r\n            return connection;\r\n        }\r\n\r\n        // Not sure this makes sense to me, unless the authentication\r\n        // workflow is seperate from the Application, I&#39;d probably not\r\n        // allow the user to be set here, but that&#39;s me\r\n        public void setCurrentUser(User user) {\r\n            this.currentUser = user;\r\n        }\r\n\r\n        public User getCurrentUser() {\r\n            return currentUser;\r\n        }\r\n\r\n        public void recoverAccount(String email) throws Exception {\r\n            try (PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * from Email WHERE UserID = ?&quot;)) {\r\n                // How do you get the current userId for a user whose not logged in?\r\n                // I smell a NullPointerException in your future\r\n                stmt.setInt(1, getCurrentUser().getUserID());\r\n                try (ResultSet rs = stmt.executeQuery()) {\r\n                    // Personally, I&#39;d throw customised exceptions here, as they are\r\n                    // easier to deal with\r\n                    if (!resultSet.next()) {\r\n                        throw Exception(&quot;This email does not belong to any registered user!&quot;);\r\n                    } else if (resultSet.getString(1) != email) {\r\n                        throw Exception(&quot;Incorrect email!&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Other functionality not implemented\r\n    }\r\n\r\nAnd then you&#39;d simply call `Application.INSTANCE.recoverAccount(someEmailAddress);` ... but just beware, this will throw an `Exception`","title":"Why is JOptionPane.showMessageDialog() not working in my program?","body":"<p>Let's strip away some of the noise and have a close look at this...</p>\n<pre><code>public class Application {\n\n    private static Application instance;   // Singleton pattern\n\n    private static boolean checkEmail = false;\n    private static String email;\n\n    public static Application getInstance() {\n        if (instance == null) {\n            instance = new Application();\n        }\n        return instance;\n    }\n\n    public Connection getConnection() {\n        return connection;\n    }\n\n    private Application() {\n        // create SQLite database connection here!\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:sqlite:store.db&quot;);\n            Statement stmt = connection.createStatement();\n            if (!stmt.executeQuery(&quot;select * from product&quot;).next()) // product table do not exist\n            {\n                initializeDatabase(stmt);\n            }\n            if (!stmt.executeQuery(&quot;select * from email&quot;).next()) // product table do not exist\n            {\n                initializeEmailList(stmt);\n            }\n            if (checkEmail == true) {\n                Statement stmt2 = connection.createStatement();\n                ResultSet resultSet = stmt2.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\n                if (!resultSet.next()) {\n                    JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\n                } else if (resultSet.getString(1) != email) {\n                    JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);\n                }\n                //Application.getInstance().checkEmail(email);\n                checkEmail = false;\n            }\n\n        } catch (ClassNotFoundException ex) {\n            System.out.println(&quot;SQLite is not installed. System exits with error!&quot;);\n            System.exit(1);\n        } catch (SQLException ex) {\n            System.out.println(&quot;SQLite database is not ready. System exits with error!&quot; + ex.getMessage());\n\n            System.exit(2);\n        }\n\n        // Create data adapter here!\n        dataAdapter = new DataAdapter(connection);\n\n        productController = new ProductController(productView, dataAdapter);\n\n        checkoutController = new CheckoutController(checkoutScreen, dataAdapter);\n\n        loginController = new LoginController(loginScreen, dataAdapter);\n    }\n\n    public static void main(String[] args) {\n        Application.getInstance().getLoginScreen().setVisible(true);\n    }\n}\n</code></pre>\n<p>So, in the <code>main</code> method you call <code>Application.getInstance().getLoginScreen().setVisible(true);</code></p>\n<p>This will:</p>\n<ul>\n<li>Create a new instance of <code>Application</code> (in <code>getInstance</code>)</li>\n<li>The constructor will initialise the database and other internal state, but since <code>checkEmail</code> is <code>false</code> by default, it won't execute that workflow</li>\n<li>Display the login screen</li>\n</ul>\n<p>Eventually, we find ourselves here...</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == forgotPasswordScreen.getSendEmail()) {\n        String email = forgotPasswordScreen.getEmailAddress().getText().trim();\n        Application.setEmail(email);\n        Application.setCheckEmail();\n        Application application = Application.getInstance();\n    }\n}\n</code></pre>\n<p>Now, the problem with this is, when you call <code>Application.getInstance()</code>, you will get back the instance which was previously create (way back in when <code>main</code> was called, kind of the point of a singleton), so the constructor is never called.</p>\n<p>Instead, you should have a dedicated method for handling forgotten passwords, maybe something more like...</p>\n<pre><code>public enum Application {\n    INSTANCE;\n\n    private Connection connection;\n    private User currentUser = null;\n\n    private Application() {\n        // Setup and initialisation\n    }\n\n    public Connection getConnection() {\n        return connection;\n    }\n\n    // Not sure this makes sense to me, unless the authentication\n    // workflow is seperate from the Application, I'd probably not\n    // allow the user to be set here, but that's me\n    public void setCurrentUser(User user) {\n        this.currentUser = user;\n    }\n\n    public User getCurrentUser() {\n        return currentUser;\n    }\n\n    public void recoverAccount(String email) throws Exception {\n        try (PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * from Email WHERE UserID = ?&quot;)) {\n            // How do you get the current userId for a user whose not logged in?\n            // I smell a NullPointerException in your future\n            stmt.setInt(1, getCurrentUser().getUserID());\n            try (ResultSet rs = stmt.executeQuery()) {\n                // Personally, I'd throw customised exceptions here, as they are\n                // easier to deal with\n                if (!resultSet.next()) {\n                    throw Exception(&quot;This email does not belong to any registered user!&quot;);\n                } else if (resultSet.getString(1) != email) {\n                    throw Exception(&quot;Incorrect email!&quot;);\n                }\n            }\n        }\n    }\n    // Other functionality not implemented\n}\n</code></pre>\n<p>And then you'd simply call <code>Application.INSTANCE.recoverAccount(someEmailAddress);</code> ... but just beware, this will throw an <code>Exception</code></p>\n"}],"owner":{"account_id":27105396,"reputation":9,"user_id":20651301,"display_name":"StanAtkinson"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678329396,"creation_date":1678323048,"question_id":75679493,"body_markdown":"My program is a simulated online shopping system. The program displays a login screen when it is run, and the user can click the &quot;Forgot Password&quot; button if they do not remember their login. Upon clicking this button, the program opens a frame where the user can enter their email address. When the user enters this email address and hits the &quot;Send Password Recovery Email&quot;, a message dialog is supposed to show up informing the user that the email either was successfully sent (if the user has entered in the email address that is actually associated with their ID) or was not sent (if the address the user entered either does not exist in the database or all or is tied to a different user). However, no message dialog pops up when I run the program, and I cannot figure out why. No exception is returned - the program just refuses to display the dialog.\r\n\r\nHere is the code for all the relevant parts of the program. Sorry for providing so much code, but since the program isn&#39;t returning an exception, I have no idea whatsoever where the code that is causing the program to malfunction is. There are other parts to the program, but they are not directly relevant to the &quot;forgot password&quot; screen.\r\n\r\nApplication:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.sql.*;\r\n\r\npublic class Application {\r\n\r\n    private static Application instance;   // Singleton pattern\r\n\r\n    private static boolean checkEmail = false;\r\n\r\n    private static String email;\r\n\r\n    public static Application getInstance() {\r\n        if (instance == null) {\r\n            instance = new Application();\r\n        }\r\n        return instance;\r\n    }\r\n    // Main components of this application\r\n\r\n    private Connection connection;\r\n\r\n    public Connection getConnection() {\r\n        return connection;\r\n    }\r\n\r\n    public static void setCheckEmail() {\r\n        checkEmail = true;\r\n    }\r\n\r\n    public static void setEmail(String theEmail) {\r\n        email = theEmail;\r\n    }\r\n\r\n    private DataAdapter dataAdapter;\r\n\r\n    private User currentUser = null;\r\n\r\n    public void setCurrentUser(User user) {\r\n        this.currentUser = user;\r\n    }\r\n\r\n    public User getCurrentUser() {\r\n        return currentUser;\r\n    }\r\n\r\n    // Create the Product View and Controller here!\r\n\r\n    private ProductView productView = new ProductView();\r\n\r\n    private CheckoutScreen checkoutScreen = new CheckoutScreen();\r\n\r\n    private MainScreen mainScreen = new MainScreen();\r\n\r\n    public MainScreen getMainScreen() {\r\n        return mainScreen;\r\n    }\r\n\r\n    public ProductView getProductView() {\r\n        return productView;\r\n    }\r\n\r\n    public CheckoutScreen getCheckoutScreen() {\r\n        return checkoutScreen;\r\n    }\r\n\r\n    public LoginScreen loginScreen = new LoginScreen();\r\n\r\n    public LoginScreen getLoginScreen() {\r\n        return loginScreen;\r\n    }\r\n\r\n    public LoginController loginController; // = new LoginController(loginScreen, dataAdapter);\r\n\r\n    private ProductController productController;\r\n\r\n    public ProductController getProductController() {\r\n        return productController;\r\n    }\r\n\r\n    private CheckoutController checkoutController;\r\n\r\n    public CheckoutController getCheckoutController() {\r\n        return checkoutController;\r\n    }\r\n\r\n    public DataAdapter getDataAdapter() {\r\n        return dataAdapter;\r\n    }\r\n\r\n    private ForgotPasswordScreen forgotPasswordScreen = new ForgotPasswordScreen();\r\n\r\n    public ForgotPasswordScreen getForgotPasswordScreen() {\r\n        return forgotPasswordScreen;\r\n    }\r\n\r\n    private void initializeDatabase(Statement stmt) throws SQLException { // CHANGE: Added initialization code\r\n        // create the tables and insert sample data here!\r\n\r\n        stmt.execute(&quot;create table Product (ProductID int PRIMARY KEY, ProductName char(30), Price double, Quantity double);&quot;);\r\n        stmt.execute(&quot;create table Orders (ProductID int PRIMARY KEY, ProductName char(30), Price double, Quantity double);&quot;);\r\n        stmt.execute(&quot;create table OrderLine (OrderID INT NOT NULL, ProductID INT NOT NULL, Quantity double, Cost double, PRIMARY KEY (ProductID, OrderID);&quot;);\r\n        stmt.execute(&quot;create table User (UserID INT NOT NULL, UserName CHAR(30) NOT NULL, Password CHAR(30) NOT NULL, DisplayName CHAR(30), IsManager BOOL DEFAULT FALSE, PRIMARY KEY(UserID));&quot;);\r\n        stmt.execute(&quot;create table sqlite_sequence (name, seq);&quot;);\r\n        stmt.execute(&quot;INSERT INTO Product VALUES (1, &#39;Apple&#39;, 1.0, 257.0), (2, &#39;Chair&#39;, 100.0, 38.0), (3, &#39;Smartphone&#39;, 699.99, 486.0), (4, &#39;T-shirt&#39;, 20.0, 244.0), (5, &#39;TV&#39;, 250.0, 43.0);&quot;);\r\n        stmt.execute(&quot;INSERT INTO User VALUES (1, &#39;admin&#39;, &#39;password&#39;, &#39;Admin&#39;, TRUE);&quot;);\r\n\r\n\r\n    }\r\n\r\n    private void initializeEmailList(Statement stmt) throws SQLException {\r\n        stmt.execute(&quot;CREATE TABLE Email (Email CHAR(30) NOT NULL, UserID int NOT NULL);&quot;);\r\n        stmt.execute(&quot;INSERT INTO Email VALUES(&#39;admin@example.com&#39;, 1);&quot;);\r\n    }\r\n\r\n    private Application() {\r\n        // create SQLite database connection here!\r\n        try {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:sqlite:store.db&quot;);\r\n            Statement stmt = connection.createStatement();\r\n            if (!stmt.executeQuery(&quot;select * from product&quot;).next()) // product table do not exist\r\n                initializeDatabase(stmt);\r\n            if (!stmt.executeQuery(&quot;select * from email&quot;).next()) // product table do not exist\r\n                initializeEmailList(stmt);\r\n            if(checkEmail == true) {\r\n                Statement stmt2 = connection.createStatement();\r\n                ResultSet resultSet = stmt2.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\r\n                if (!resultSet.next())\r\n                    JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\r\n                else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\r\n                else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);\r\n                //Application.getInstance().checkEmail(email);\r\n                checkEmail = false;\r\n            }\r\n\r\n\r\n        }\r\n        catch (ClassNotFoundException ex) {\r\n            System.out.println(&quot;SQLite is not installed. System exits with error!&quot;);\r\n            System.exit(1);\r\n        }\r\n\r\n        catch (SQLException ex) {\r\n            System.out.println(&quot;SQLite database is not ready. System exits with error!&quot; + ex.getMessage());\r\n\r\n            System.exit(2);\r\n        }\r\n\r\n        // Create data adapter here!\r\n        dataAdapter = new DataAdapter(connection);\r\n\r\n        productController = new ProductController(productView, dataAdapter);\r\n\r\n        checkoutController = new CheckoutController(checkoutScreen, dataAdapter);\r\n\r\n        loginController = new LoginController(loginScreen, dataAdapter);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Application.getInstance().getLoginScreen().setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nForgotPasswordController:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.sql.*;\r\n\r\npublic class ForgotPasswordController implements ActionListener {\r\n    private ForgotPasswordScreen forgotPasswordScreen;\r\n\r\n    public ForgotPasswordController(ForgotPasswordScreen forgotPasswordScreen) {\r\n        this.forgotPasswordScreen = forgotPasswordScreen;\r\n        this.forgotPasswordScreen.getSendEmail().addActionListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == forgotPasswordScreen.getSendEmail()) {\r\n            String email = forgotPasswordScreen.getEmailAddress().getText().trim();\r\n            Application.setEmail(email);\r\n            Application.setCheckEmail();\r\n            /*Connection forgotPasswordConnection = Application.getInstance().getConnection();\r\n            Statement stmt = forgotPasswordConnection.createStatement();\r\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\r\n            if (!resultSet.next())\r\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\r\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\r\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);*/\r\n            //Application.getInstance().checkEmail(email);\r\n            Application application = Application.getInstance();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nForgotPasswordScreen:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\npublic class ForgotPasswordScreen extends JFrame {\r\n    private JTextField emailAddress = new JTextField(30);\r\n\r\n    private JButton sendEmail = new JButton(&quot;Send Password Recovery Email&quot;);\r\n\r\n    public JButton getSendEmail() {\r\n        return sendEmail;\r\n    }\r\n\r\n    public JTextField getEmailAddress() {\r\n        return emailAddress;\r\n    }\r\n\r\n    public ForgotPasswordScreen() {\r\n        this.setLayout(new BoxLayout(this.getContentPane(), BoxLayout.Y_AXIS));\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setSize(400, 200);\r\n\r\n        JPanel panelForgotPasswordScreen = new JPanel();\r\n\r\n        JLabel emailAddressLabel = new JLabel(&quot;Email address:&quot;);\r\n\r\n        panelForgotPasswordScreen.add(emailAddressLabel);\r\n        panelForgotPasswordScreen.add(emailAddress);\r\n\r\n        this.getContentPane().add(panelForgotPasswordScreen);\r\n\r\n        JPanel panelSendEmailButton = new JPanel();\r\n        panelSendEmailButton.add(sendEmail);\r\n\r\n        this.getContentPane().add(sendEmail);\r\n\r\n    }\r\n}\r\n```\r\n\r\nLoginController:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class LoginController implements ActionListener {\r\n    private LoginScreen loginScreen;\r\n    private DataAdapter dataAdapter;\r\n\r\n\r\n    public LoginController(LoginScreen loginScreen, DataAdapter dataAdapter) {\r\n        this.loginScreen = loginScreen;\r\n        this.dataAdapter = dataAdapter;\r\n        this.loginScreen.getBtnLogin().addActionListener(this);\r\n        this.loginScreen.getBtnForgotPassword().addActionListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == loginScreen.getBtnLogin()) {\r\n            String username = loginScreen.getTxtUserName().getText().trim();\r\n            String password = loginScreen.getTxtPassword().getText().trim();\r\n\r\n            System.out.println(&quot;Login with username = &quot; + username + &quot; and password = &quot; + password);\r\n            User user = dataAdapter.loadUser(username, password);\r\n\r\n            if (user == null) {\r\n                JOptionPane.showMessageDialog(null, &quot;This user does not exist!&quot;);\r\n            }\r\n            else {\r\n                Application.getInstance().setCurrentUser(user);\r\n                this.loginScreen.setVisible(false);\r\n                Application.getInstance().getMainScreen().setVisible(true);\r\n            }\r\n        }\r\n        if(e.getSource() == loginScreen.getBtnForgotPassword()) {\r\n            Application.getInstance().getForgotPasswordScreen().setVisible(true);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLoginScreen:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class LoginScreen extends JFrame {\r\n    private JTextField txtUserName = new JTextField(10);\r\n    private JTextField txtPassword = new JTextField(10);\r\n    private JButton    btnLogin    = new JButton(&quot;Login&quot;);\r\n    private JButton btnForgotPassword = new JButton(&quot;Forgot Password&quot;); //CHANGE: Added a mechanism for the user to recover a forgotten password\r\n\r\n    public JButton getBtnLogin() {\r\n        return btnLogin;\r\n    }\r\n\r\n    public JTextField getTxtPassword() {\r\n        return txtPassword;\r\n    }\r\n\r\n    public JTextField getTxtUserName() {\r\n        return txtUserName;\r\n    }\r\n\r\n    public JButton getBtnForgotPassword() {\r\n        return btnForgotPassword;\r\n    }\r\n\r\n    public LoginScreen() {\r\n\r\n\r\n        this.setSize(300, 400);\r\n        this.setLayout(new BoxLayout(this.getContentPane(), BoxLayout.Y_AXIS));\r\n\r\n        this.getContentPane().add(new JLabel (&quot;Store Management System&quot;));\r\n\r\n        JPanel panelUserName = new JPanel();\r\n        panelUserName.add(new JLabel(&quot;Username:&quot;));\r\n        panelUserName.add(txtUserName);\r\n\r\n        this.getContentPane().add(panelUserName);\r\n\r\n        JPanel panelPassword = new JPanel();\r\n        panelPassword.add(new JLabel(&quot;Password:&quot;));\r\n        panelPassword.add(txtPassword);\r\n\r\n        this.getContentPane().add(panelPassword);\r\n\r\n        JPanel panelLogin = new JPanel();\r\n        panelLogin.setAlignmentX(Component.CENTER_ALIGNMENT); //CHANGE: Centered the login and &quot;forgot password&quot; buttons\r\n        panelLogin.add(btnLogin);\r\n\r\n        JPanel panelForgotPassword = new JPanel();\r\n        panelLogin.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        panelForgotPassword.add(btnForgotPassword);\r\n\r\n        this.getContentPane().add(panelLogin);\r\n        this.getContentPane().add(panelForgotPassword);\r\n    }\r\n}\r\n```\r\n\r\nEDIT: Following MadProgrammer&#39;s advice, I removed the code that tests the validity of the email address inputted by the user from the Application class and added it to my ForgotPasswordController class inside the actionPerformed method; however, I am now receiving a new error: &quot;unreported exception java.sql.SQLException; must be caught or declared to be thrown&quot;. \r\n\r\nAdding &quot;throws SQLException&quot; to the actionPerformed method does not work in diagnosing the problem because the method it is overriding does not include &quot;throws SQLException&quot;; doing this merely creates a new error saying &quot;java: actionPerformed(java.awt.event.ActionEvent) in ForgotPasswordController cannot implement actionPerformed(java.awt.event.ActionEvent) in java.awt.event.ActionListener\r\n  overridden method does not throw java.sql.SQLException&quot;.\r\n\r\nHere is the new code for my actionPerformed method:\r\n\r\n```\r\n@Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == forgotPasswordScreen.getSendEmail()) {\r\n            String email = forgotPasswordScreen.getEmailAddress().getText().trim();\r\n            //Application.setEmail(email);\r\n            //Application.setCheckEmail();\r\n            /*Connection forgotPasswordConnection = Application.getInstance().getConnection();\r\n            Statement stmt = forgotPasswordConnection.createStatement();\r\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\r\n            if (!resultSet.next())\r\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\r\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\r\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);*/\r\n            //Application.getInstance().checkEmail(email);\r\n            //Application application = Application.getInstance();\r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite:store.db&quot;);\r\n            Statement stmt = connection.createStatement();\r\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\r\n            if (!resultSet.next())\r\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\r\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\r\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nEDIT 2: I have now removed most of the above code from my ForgotPasswordController method and created a new method within my Application class called emailValidityChecker:\r\n\r\n```\r\npublic void emailValidityChecker(String emailAddress, String username) throws SQLException {\r\n            Statement stmt2 = connection.createStatement();\r\n            ResultSet resultSet = stmt2.executeQuery(&quot;SELECT * from User WHERE UserName = &quot; + username);\r\n            if (!resultSet.next())\r\n                JOptionPane.showMessageDialog(null, &quot;No account has been registered with this username!&quot;);\r\n            else {\r\n                int userID = resultSet.getInt(1);\r\n                Statement stmt3 = connection.createStatement();\r\n                ResultSet resultSet2 = stmt3.executeQuery(&quot;SELECT * from Email where UserID = &quot; + userID);\r\n                String correspondingEmail = resultSet2.getString(1);\r\n                if (!resultSet2.next())\r\n                    JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\r\n                else if (!correspondingEmail.equals(emailAddress))\r\n                    JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\r\n                else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);\r\n            }\r\n        }\r\n```\r\n\r\nI have also changed my actionPerformed method in my ForgotPasswordController class so that it now looks like this: \r\n\r\n```\r\n@Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == forgotPasswordScreen.getSendEmail()) {\r\n            String email = forgotPasswordScreen.getEmailAddress().getText().trim();\r\n            String username = forgotPasswordScreen.getUsername().getText().trim();\r\n            //Application.setEmail(email);\r\n            //Application.setCheckEmail();\r\n            /*Connection forgotPasswordConnection = Application.getInstance().getConnection();\r\n            Statement stmt = forgotPasswordConnection.createStatement();\r\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\r\n            if (!resultSet.next())\r\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\r\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\r\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);*/\r\n            //Application.getInstance().checkEmail(email);\r\n            //Application application = Application.getInstance();\r\n            /*Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite:store.db&quot;);\r\n            Statement stmt = connection.createStatement();\r\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\r\n            if (!resultSet.next())\r\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\r\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\r\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);*/\r\n            Application.getInstance().emailValidityChecker(email, username);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nUnfortunately, I am experiencing the same error I was describing in my previous edit. I am still getting the message &quot;java: unreported exception java.sql.SQLException; must be caught or declared to be thrown&quot; on the line &quot;Statement stmt2 = connection.createStatement();&quot;, and adding &quot;throws SQLException&quot; doesn&#39;t help because I then got the exact same exception but on the last line of my actionPerformed method in my ForgotPasswordController class. I could add a try-catch block in my emailValidityChecker method, but this still wouldn&#39;t tell me anything about *why* I am receiving an SQL exception.","title":"Why is JOptionPane.showMessageDialog() not working in my program?","body":"<p>My program is a simulated online shopping system. The program displays a login screen when it is run, and the user can click the &quot;Forgot Password&quot; button if they do not remember their login. Upon clicking this button, the program opens a frame where the user can enter their email address. When the user enters this email address and hits the &quot;Send Password Recovery Email&quot;, a message dialog is supposed to show up informing the user that the email either was successfully sent (if the user has entered in the email address that is actually associated with their ID) or was not sent (if the address the user entered either does not exist in the database or all or is tied to a different user). However, no message dialog pops up when I run the program, and I cannot figure out why. No exception is returned - the program just refuses to display the dialog.</p>\n<p>Here is the code for all the relevant parts of the program. Sorry for providing so much code, but since the program isn't returning an exception, I have no idea whatsoever where the code that is causing the program to malfunction is. There are other parts to the program, but they are not directly relevant to the &quot;forgot password&quot; screen.</p>\n<p>Application:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\n\npublic class Application {\n\n    private static Application instance;   // Singleton pattern\n\n    private static boolean checkEmail = false;\n\n    private static String email;\n\n    public static Application getInstance() {\n        if (instance == null) {\n            instance = new Application();\n        }\n        return instance;\n    }\n    // Main components of this application\n\n    private Connection connection;\n\n    public Connection getConnection() {\n        return connection;\n    }\n\n    public static void setCheckEmail() {\n        checkEmail = true;\n    }\n\n    public static void setEmail(String theEmail) {\n        email = theEmail;\n    }\n\n    private DataAdapter dataAdapter;\n\n    private User currentUser = null;\n\n    public void setCurrentUser(User user) {\n        this.currentUser = user;\n    }\n\n    public User getCurrentUser() {\n        return currentUser;\n    }\n\n    // Create the Product View and Controller here!\n\n    private ProductView productView = new ProductView();\n\n    private CheckoutScreen checkoutScreen = new CheckoutScreen();\n\n    private MainScreen mainScreen = new MainScreen();\n\n    public MainScreen getMainScreen() {\n        return mainScreen;\n    }\n\n    public ProductView getProductView() {\n        return productView;\n    }\n\n    public CheckoutScreen getCheckoutScreen() {\n        return checkoutScreen;\n    }\n\n    public LoginScreen loginScreen = new LoginScreen();\n\n    public LoginScreen getLoginScreen() {\n        return loginScreen;\n    }\n\n    public LoginController loginController; // = new LoginController(loginScreen, dataAdapter);\n\n    private ProductController productController;\n\n    public ProductController getProductController() {\n        return productController;\n    }\n\n    private CheckoutController checkoutController;\n\n    public CheckoutController getCheckoutController() {\n        return checkoutController;\n    }\n\n    public DataAdapter getDataAdapter() {\n        return dataAdapter;\n    }\n\n    private ForgotPasswordScreen forgotPasswordScreen = new ForgotPasswordScreen();\n\n    public ForgotPasswordScreen getForgotPasswordScreen() {\n        return forgotPasswordScreen;\n    }\n\n    private void initializeDatabase(Statement stmt) throws SQLException { // CHANGE: Added initialization code\n        // create the tables and insert sample data here!\n\n        stmt.execute(&quot;create table Product (ProductID int PRIMARY KEY, ProductName char(30), Price double, Quantity double);&quot;);\n        stmt.execute(&quot;create table Orders (ProductID int PRIMARY KEY, ProductName char(30), Price double, Quantity double);&quot;);\n        stmt.execute(&quot;create table OrderLine (OrderID INT NOT NULL, ProductID INT NOT NULL, Quantity double, Cost double, PRIMARY KEY (ProductID, OrderID);&quot;);\n        stmt.execute(&quot;create table User (UserID INT NOT NULL, UserName CHAR(30) NOT NULL, Password CHAR(30) NOT NULL, DisplayName CHAR(30), IsManager BOOL DEFAULT FALSE, PRIMARY KEY(UserID));&quot;);\n        stmt.execute(&quot;create table sqlite_sequence (name, seq);&quot;);\n        stmt.execute(&quot;INSERT INTO Product VALUES (1, 'Apple', 1.0, 257.0), (2, 'Chair', 100.0, 38.0), (3, 'Smartphone', 699.99, 486.0), (4, 'T-shirt', 20.0, 244.0), (5, 'TV', 250.0, 43.0);&quot;);\n        stmt.execute(&quot;INSERT INTO User VALUES (1, 'admin', 'password', 'Admin', TRUE);&quot;);\n\n\n    }\n\n    private void initializeEmailList(Statement stmt) throws SQLException {\n        stmt.execute(&quot;CREATE TABLE Email (Email CHAR(30) NOT NULL, UserID int NOT NULL);&quot;);\n        stmt.execute(&quot;INSERT INTO Email VALUES('admin@example.com', 1);&quot;);\n    }\n\n    private Application() {\n        // create SQLite database connection here!\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:sqlite:store.db&quot;);\n            Statement stmt = connection.createStatement();\n            if (!stmt.executeQuery(&quot;select * from product&quot;).next()) // product table do not exist\n                initializeDatabase(stmt);\n            if (!stmt.executeQuery(&quot;select * from email&quot;).next()) // product table do not exist\n                initializeEmailList(stmt);\n            if(checkEmail == true) {\n                Statement stmt2 = connection.createStatement();\n                ResultSet resultSet = stmt2.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\n                if (!resultSet.next())\n                    JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\n                else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\n                else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);\n                //Application.getInstance().checkEmail(email);\n                checkEmail = false;\n            }\n\n\n        }\n        catch (ClassNotFoundException ex) {\n            System.out.println(&quot;SQLite is not installed. System exits with error!&quot;);\n            System.exit(1);\n        }\n\n        catch (SQLException ex) {\n            System.out.println(&quot;SQLite database is not ready. System exits with error!&quot; + ex.getMessage());\n\n            System.exit(2);\n        }\n\n        // Create data adapter here!\n        dataAdapter = new DataAdapter(connection);\n\n        productController = new ProductController(productView, dataAdapter);\n\n        checkoutController = new CheckoutController(checkoutScreen, dataAdapter);\n\n        loginController = new LoginController(loginScreen, dataAdapter);\n    }\n\n\n    public static void main(String[] args) {\n        Application.getInstance().getLoginScreen().setVisible(true);\n    }\n}\n</code></pre>\n<p>ForgotPasswordController:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\n\npublic class ForgotPasswordController implements ActionListener {\n    private ForgotPasswordScreen forgotPasswordScreen;\n\n    public ForgotPasswordController(ForgotPasswordScreen forgotPasswordScreen) {\n        this.forgotPasswordScreen = forgotPasswordScreen;\n        this.forgotPasswordScreen.getSendEmail().addActionListener(this);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == forgotPasswordScreen.getSendEmail()) {\n            String email = forgotPasswordScreen.getEmailAddress().getText().trim();\n            Application.setEmail(email);\n            Application.setCheckEmail();\n            /*Connection forgotPasswordConnection = Application.getInstance().getConnection();\n            Statement stmt = forgotPasswordConnection.createStatement();\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\n            if (!resultSet.next())\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);*/\n            //Application.getInstance().checkEmail(email);\n            Application application = Application.getInstance();\n        }\n    }\n}\n</code></pre>\n<p>ForgotPasswordScreen:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\npublic class ForgotPasswordScreen extends JFrame {\n    private JTextField emailAddress = new JTextField(30);\n\n    private JButton sendEmail = new JButton(&quot;Send Password Recovery Email&quot;);\n\n    public JButton getSendEmail() {\n        return sendEmail;\n    }\n\n    public JTextField getEmailAddress() {\n        return emailAddress;\n    }\n\n    public ForgotPasswordScreen() {\n        this.setLayout(new BoxLayout(this.getContentPane(), BoxLayout.Y_AXIS));\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(400, 200);\n\n        JPanel panelForgotPasswordScreen = new JPanel();\n\n        JLabel emailAddressLabel = new JLabel(&quot;Email address:&quot;);\n\n        panelForgotPasswordScreen.add(emailAddressLabel);\n        panelForgotPasswordScreen.add(emailAddress);\n\n        this.getContentPane().add(panelForgotPasswordScreen);\n\n        JPanel panelSendEmailButton = new JPanel();\n        panelSendEmailButton.add(sendEmail);\n\n        this.getContentPane().add(sendEmail);\n\n    }\n}\n</code></pre>\n<p>LoginController:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class LoginController implements ActionListener {\n    private LoginScreen loginScreen;\n    private DataAdapter dataAdapter;\n\n\n    public LoginController(LoginScreen loginScreen, DataAdapter dataAdapter) {\n        this.loginScreen = loginScreen;\n        this.dataAdapter = dataAdapter;\n        this.loginScreen.getBtnLogin().addActionListener(this);\n        this.loginScreen.getBtnForgotPassword().addActionListener(this);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == loginScreen.getBtnLogin()) {\n            String username = loginScreen.getTxtUserName().getText().trim();\n            String password = loginScreen.getTxtPassword().getText().trim();\n\n            System.out.println(&quot;Login with username = &quot; + username + &quot; and password = &quot; + password);\n            User user = dataAdapter.loadUser(username, password);\n\n            if (user == null) {\n                JOptionPane.showMessageDialog(null, &quot;This user does not exist!&quot;);\n            }\n            else {\n                Application.getInstance().setCurrentUser(user);\n                this.loginScreen.setVisible(false);\n                Application.getInstance().getMainScreen().setVisible(true);\n            }\n        }\n        if(e.getSource() == loginScreen.getBtnForgotPassword()) {\n            Application.getInstance().getForgotPasswordScreen().setVisible(true);\n        }\n    }\n}\n</code></pre>\n<p>LoginScreen:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class LoginScreen extends JFrame {\n    private JTextField txtUserName = new JTextField(10);\n    private JTextField txtPassword = new JTextField(10);\n    private JButton    btnLogin    = new JButton(&quot;Login&quot;);\n    private JButton btnForgotPassword = new JButton(&quot;Forgot Password&quot;); //CHANGE: Added a mechanism for the user to recover a forgotten password\n\n    public JButton getBtnLogin() {\n        return btnLogin;\n    }\n\n    public JTextField getTxtPassword() {\n        return txtPassword;\n    }\n\n    public JTextField getTxtUserName() {\n        return txtUserName;\n    }\n\n    public JButton getBtnForgotPassword() {\n        return btnForgotPassword;\n    }\n\n    public LoginScreen() {\n\n\n        this.setSize(300, 400);\n        this.setLayout(new BoxLayout(this.getContentPane(), BoxLayout.Y_AXIS));\n\n        this.getContentPane().add(new JLabel (&quot;Store Management System&quot;));\n\n        JPanel panelUserName = new JPanel();\n        panelUserName.add(new JLabel(&quot;Username:&quot;));\n        panelUserName.add(txtUserName);\n\n        this.getContentPane().add(panelUserName);\n\n        JPanel panelPassword = new JPanel();\n        panelPassword.add(new JLabel(&quot;Password:&quot;));\n        panelPassword.add(txtPassword);\n\n        this.getContentPane().add(panelPassword);\n\n        JPanel panelLogin = new JPanel();\n        panelLogin.setAlignmentX(Component.CENTER_ALIGNMENT); //CHANGE: Centered the login and &quot;forgot password&quot; buttons\n        panelLogin.add(btnLogin);\n\n        JPanel panelForgotPassword = new JPanel();\n        panelLogin.setAlignmentX(Component.CENTER_ALIGNMENT);\n        panelForgotPassword.add(btnForgotPassword);\n\n        this.getContentPane().add(panelLogin);\n        this.getContentPane().add(panelForgotPassword);\n    }\n}\n</code></pre>\n<p>EDIT: Following MadProgrammer's advice, I removed the code that tests the validity of the email address inputted by the user from the Application class and added it to my ForgotPasswordController class inside the actionPerformed method; however, I am now receiving a new error: &quot;unreported exception java.sql.SQLException; must be caught or declared to be thrown&quot;.</p>\n<p>Adding &quot;throws SQLException&quot; to the actionPerformed method does not work in diagnosing the problem because the method it is overriding does not include &quot;throws SQLException&quot;; doing this merely creates a new error saying &quot;java: actionPerformed(java.awt.event.ActionEvent) in ForgotPasswordController cannot implement actionPerformed(java.awt.event.ActionEvent) in java.awt.event.ActionListener\noverridden method does not throw java.sql.SQLException&quot;.</p>\n<p>Here is the new code for my actionPerformed method:</p>\n<pre><code>@Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == forgotPasswordScreen.getSendEmail()) {\n            String email = forgotPasswordScreen.getEmailAddress().getText().trim();\n            //Application.setEmail(email);\n            //Application.setCheckEmail();\n            /*Connection forgotPasswordConnection = Application.getInstance().getConnection();\n            Statement stmt = forgotPasswordConnection.createStatement();\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\n            if (!resultSet.next())\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);*/\n            //Application.getInstance().checkEmail(email);\n            //Application application = Application.getInstance();\n            Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite:store.db&quot;);\n            Statement stmt = connection.createStatement();\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\n            if (!resultSet.next())\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);\n        }\n    }\n</code></pre>\n<p>EDIT 2: I have now removed most of the above code from my ForgotPasswordController method and created a new method within my Application class called emailValidityChecker:</p>\n<pre><code>public void emailValidityChecker(String emailAddress, String username) throws SQLException {\n            Statement stmt2 = connection.createStatement();\n            ResultSet resultSet = stmt2.executeQuery(&quot;SELECT * from User WHERE UserName = &quot; + username);\n            if (!resultSet.next())\n                JOptionPane.showMessageDialog(null, &quot;No account has been registered with this username!&quot;);\n            else {\n                int userID = resultSet.getInt(1);\n                Statement stmt3 = connection.createStatement();\n                ResultSet resultSet2 = stmt3.executeQuery(&quot;SELECT * from Email where UserID = &quot; + userID);\n                String correspondingEmail = resultSet2.getString(1);\n                if (!resultSet2.next())\n                    JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\n                else if (!correspondingEmail.equals(emailAddress))\n                    JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\n                else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);\n            }\n        }\n</code></pre>\n<p>I have also changed my actionPerformed method in my ForgotPasswordController class so that it now looks like this:</p>\n<pre><code>@Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == forgotPasswordScreen.getSendEmail()) {\n            String email = forgotPasswordScreen.getEmailAddress().getText().trim();\n            String username = forgotPasswordScreen.getUsername().getText().trim();\n            //Application.setEmail(email);\n            //Application.setCheckEmail();\n            /*Connection forgotPasswordConnection = Application.getInstance().getConnection();\n            Statement stmt = forgotPasswordConnection.createStatement();\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\n            if (!resultSet.next())\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);*/\n            //Application.getInstance().checkEmail(email);\n            //Application application = Application.getInstance();\n            /*Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite:store.db&quot;);\n            Statement stmt = connection.createStatement();\n            ResultSet resultSet = stmt.executeQuery(&quot;SELECT * from Email WHERE UserID = &quot; + Application.getInstance().getCurrentUser().getUserID());\n            if (!resultSet.next())\n                JOptionPane.showMessageDialog(null, &quot;This email does not belong to any registered user!&quot;);\n            else if (resultSet.getString(1) != email) JOptionPane.showMessageDialog(null, &quot;Incorrect email!&quot;);\n            else JOptionPane.showMessageDialog(null, &quot;Email sent!&quot;);*/\n            Application.getInstance().emailValidityChecker(email, username);\n        }\n    }\n</code></pre>\n<p>Unfortunately, I am experiencing the same error I was describing in my previous edit. I am still getting the message &quot;java: unreported exception java.sql.SQLException; must be caught or declared to be thrown&quot; on the line &quot;Statement stmt2 = connection.createStatement();&quot;, and adding &quot;throws SQLException&quot; doesn't help because I then got the exact same exception but on the last line of my actionPerformed method in my ForgotPasswordController class. I could add a try-catch block in my emailValidityChecker method, but this still wouldn't tell me anything about <em>why</em> I am receiving an SQL exception.</p>\n"},{"tags":["java","android","google-play","codenameone","privacy"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678329262,"creation_date":1678329262,"answer_id":75679948,"question_id":75673410,"body_markdown":"We went through that too, see [this](https://dev.to/codenameone/google-play-kafkaesque-experience-mp3). The TL;DR this might not be a problem in the current version of the app and might be a bug in a version that&#39;s in the alpha or beta channel.\r\n\r\nIf you build a new version and upload it this should be resolved. But it won&#39;t if you ever had an app in alpha or beta (even if you closed the alpha/beta). So you might need to publish in the applicable channel and promote your app to production.\r\n\r\nTo be clear: we obviously don&#39;t upload phone details, we needed access to a global permission (which included phone details) to do some basic things. There was no other workaround back in the day.","title":"CN1 - App excluded from Google Play Store","body":"<p>We went through that too, see <a href=\"https://dev.to/codenameone/google-play-kafkaesque-experience-mp3\" rel=\"nofollow noreferrer\">this</a>. The TL;DR this might not be a problem in the current version of the app and might be a bug in a version that's in the alpha or beta channel.</p>\n<p>If you build a new version and upload it this should be resolved. But it won't if you ever had an app in alpha or beta (even if you closed the alpha/beta). So you might need to publish in the applicable channel and promote your app to production.</p>\n<p>To be clear: we obviously don't upload phone details, we needed access to a global permission (which included phone details) to do some basic things. There was no other workaround back in the day.</p>\n"}],"owner":{"account_id":8345300,"reputation":3313,"user_id":6269247,"accept_rate":49,"display_name":"rainer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75679948,"answer_count":1,"score":0,"last_activity_date":1678329262,"creation_date":1678280739,"question_id":75673410,"body_markdown":"One of my older applications (&gt; 2 yrs.) has been excluded from the Google Play Store due to violating the privacy. I am allegedly uploading users&#39; phone numbers. \r\n\r\n    (...) your app is uploading users&#39; Phone number information\r\n    to https://cloud.codenameone.com without disclosing it in the \r\n    privacy policy in Play Console and without posting a privacy \r\n    policy in Play Distributed App.\r\n\r\nFact is I am not uploading anything to anyplace, at least not knowingly. The app doesn&#39;t even have ads. \r\n \r\nAny idea what&#39;s going on and how to get around it? The app was generated on Eclipse (Arch Linux) and doesn&#39;t use Maven. \r\n\r\nThis is the code from the Main Class :\r\n\r\n&gt;     package com.torus.A1;\r\n&gt; \r\n&gt;     import static com.codename1.ui.CN.addNetworkErrorListener;   \r\n&gt;     import static com.codename1.ui.CN.getCurrentForm; \r\n&gt;     import static com.codename1.ui.CN.updateNetworkThreadCount;\r\n&gt;     import java.io.IOException;\r\n&gt;     import com.codename1.io.Log; \r\n&gt;     import com.codename1.ui.Dialog; \r\n&gt;     import com.codename1.ui.Form; \r\n&gt;     import com.codename1.ui.Toolbar; \r\n&gt;     import com.codename1.ui.plaf.UIManager; \r\n&gt;     import com.codename1.ui.util.Resources;\r\n&gt; \r\n&gt;      public class A1Main {\r\n&gt;     \r\n&gt;     private Form current;\r\n&gt;     private Resources theme;\r\n&gt;     private ClassPojos classPojos = new ClassPojos();\r\n&gt; \r\n&gt; \r\n&gt;     public void init(Object context) {\r\n&gt;      \r\n&gt;         updateNetworkThreadCount(2);\r\n&gt; \r\n&gt;         theme = UIManager.initFirstTheme(&quot;/theme&quot;);                 \r\n&gt;         CSSUtilities.loadMultipleCSSes(&quot;theme&quot;);\r\n&gt; \r\n&gt;         Toolbar.setGlobalToolbar(true);\r\n&gt; \r\n&gt;         Log.bindCrashProtection(true);\r\n&gt; \r\n&gt;         addNetworkErrorListener(err -&gt; {\r\n&gt;             // prevent the event from propagating\r\n&gt;             err.consume();\r\n&gt;             if(err.getError() != null) {\r\n&gt;                 Log.e(err.getError());\r\n&gt;             }\r\n&gt;             Log.sendLogAsync();\r\n&gt;             Dialog.show(&quot;Connection Error&quot;, &quot;There was a networking error in the \r\n&gt;              connection to &quot; + err.getConnectionRequest().getUrl(),\r\n&gt;             &quot;OK&quot;, null);\r\n&gt;         });        \r\n&gt;     }\r\n&gt;     \r\n&gt;     public void start() {\r\n&gt;         if(current != null){\r\n&gt;             current.show();\r\n&gt;             return;\r\n&gt;             \r\n&gt;         }\r\n&gt; \r\n&gt;         try {\r\n&gt;     \t\t\tnew ClassStartScreen().startScreen(classPojos, new ClassPojos2()); \t\t\r\n&gt;         } catch (IOException e) {\r\n&gt;                e.printStackTrace();\r\n&gt; \t\t}\r\n&gt; \r\n&gt;     }\r\n&gt; \r\n&gt;     public void stop() {\r\n&gt;         current = getCurrentForm();\r\n&gt;         if(current instanceof Dialog) {\r\n&gt;             ((Dialog)current).dispose();\r\n&gt;             current = getCurrentForm();\r\n&gt;         }\r\n&gt;     }\r\n&gt;     \r\n&gt;     public void destroy() {\r\n&gt;     }\r\n&gt; \r\n&gt;     }","title":"CN1 - App excluded from Google Play Store","body":"<p>One of my older applications (&gt; 2 yrs.) has been excluded from the Google Play Store due to violating the privacy. I am allegedly uploading users' phone numbers.</p>\n<pre><code>(...) your app is uploading users' Phone number information\nto https://cloud.codenameone.com without disclosing it in the \nprivacy policy in Play Console and without posting a privacy \npolicy in Play Distributed App.\n</code></pre>\n<p>Fact is I am not uploading anything to anyplace, at least not knowingly. The app doesn't even have ads.</p>\n<p>Any idea what's going on and how to get around it? The app was generated on Eclipse (Arch Linux) and doesn't use Maven.</p>\n<p>This is the code from the Main Class :</p>\n<blockquote>\n<pre><code>package com.torus.A1;\n\nimport static com.codename1.ui.CN.addNetworkErrorListener;   \nimport static com.codename1.ui.CN.getCurrentForm; \nimport static com.codename1.ui.CN.updateNetworkThreadCount;\nimport java.io.IOException;\nimport com.codename1.io.Log; \nimport com.codename1.ui.Dialog; \nimport com.codename1.ui.Form; \nimport com.codename1.ui.Toolbar; \nimport com.codename1.ui.plaf.UIManager; \nimport com.codename1.ui.util.Resources;\n\n public class A1Main {\n\nprivate Form current;\nprivate Resources theme;\nprivate ClassPojos classPojos = new ClassPojos();\n\n\npublic void init(Object context) {\n \n    updateNetworkThreadCount(2);\n\n    theme = UIManager.initFirstTheme(&quot;/theme&quot;);                 \n    CSSUtilities.loadMultipleCSSes(&quot;theme&quot;);\n\n    Toolbar.setGlobalToolbar(true);\n\n    Log.bindCrashProtection(true);\n\n    addNetworkErrorListener(err -&gt; {\n        // prevent the event from propagating\n        err.consume();\n        if(err.getError() != null) {\n            Log.e(err.getError());\n        }\n        Log.sendLogAsync();\n        Dialog.show(&quot;Connection Error&quot;, &quot;There was a networking error in the \n         connection to &quot; + err.getConnectionRequest().getUrl(),\n        &quot;OK&quot;, null);\n    });        \n}\n\npublic void start() {\n    if(current != null){\n        current.show();\n        return;\n        \n    }\n\n    try {\n          new ClassStartScreen().startScreen(classPojos, new ClassPojos2());      \n    } catch (IOException e) {\n           e.printStackTrace();\n  }\n\n}\n\npublic void stop() {\n    current = getCurrentForm();\n    if(current instanceof Dialog) {\n        ((Dialog)current).dispose();\n        current = getCurrentForm();\n    }\n}\n\npublic void destroy() {\n}\n\n}\n</code></pre>\n</blockquote>\n"},{"tags":["java","kotlin","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1678323819,"post_id":75679525,"comment_id":133512190,"body_markdown":"Why not just call [`undo()`](https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/TextInputControl.html#undo()) on the `TextField` inside the button&#39;s on-action handler?","body":"Why not just call <a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/TextInputControl.html#undo()\" rel=\"nofollow noreferrer\"><code>undo()</code></a> on the <code>TextField</code> inside the button&#39;s on-action handler?"},{"owner":{"account_id":27969914,"reputation":1,"user_id":21359842,"display_name":"Max Wingate"},"score":0,"creation_date":1678324014,"post_id":75679525,"comment_id":133512221,"body_markdown":"Sorry I meant HTMLEditor*","body":"Sorry I meant HTMLEditor*"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1678334581,"post_id":75679525,"comment_id":133513482,"body_markdown":"If you want your program to be cross-platform, remember that Macs don’t use Ctrl-Z for undo, they use ⌘-Z, which I believe is Meta-Z in Java.","body":"If you want your program to be cross-platform, remember that Macs don’t use Ctrl-Z for undo, they use ⌘-Z, which I believe is Meta-Z in Java."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678329153,"creation_date":1678329153,"answer_id":75679942,"question_id":75679525,"body_markdown":"**Note:** In [a comment][1] you said you&#39;re using an `HTMLEditor`, not a `TextField`. If you _were_ using a `TextField`, then simply calling `undo()` on it would work.\r\n\r\nLooking at the source of `HTMLEditor` and its associated skin and behavior classes, it appears it doesn&#39;t directly handle the &quot;undo command&quot;. Instead, this seems to be a feature of `WebView`. With that in mind, the following appears to do what you want:\r\n\r\n```lang-java\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.web.HTMLEditor;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    private static KeyEvent createUndoKeyEvent() {\r\n        // On Windows, the &quot;undo&quot; shortcut is typically Ctrl+Z\r\n        return new KeyEvent(\r\n                KeyEvent.KEY_PRESSED,\r\n                Character.toString(0),  // character (this is what Ctrl+Z gives me on my Windows device)\r\n                &quot;z&quot;,                    // text ( this is what Ctrl+Z gives me on my Windows device)\r\n                KeyCode.Z,\r\n                false, // shiftDown\r\n                true,  // controlDown\r\n                false, // altDown\r\n                false  // metaDown\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        var editor = new HTMLEditor();\r\n\r\n        var undoBtn = new Button(&quot;Undo&quot;);\r\n        undoBtn.setOnAction(e -&gt; {\r\n            e.consume();\r\n\r\n            // Grab the WebView used by the default HTMLEditor skin. Note it&#39;s\r\n            // important this code is executed **after** the HTMLEditor has had\r\n            // its skin set (which typically means after it&#39;s been displayed).\r\n            var node = editor.lookup(&quot;.web-view&quot;);\r\n            node.fireEvent(createUndoKeyEvent());\r\n        });\r\n\r\n        var top = new HBox(undoBtn);\r\n        top.setPadding(new Insets(10));\r\n\r\n        var root = new BorderPane();\r\n        root.setTop(top);\r\n        root.setCenter(editor);\r\n\r\n        primaryStage.setScene(new Scene(root));\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\nThough I will note that the `HTMLEditor` / `WebView` does not seem to keep a very long history. In fact, when I press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Z&lt;/kbd&gt; it only ever seems to undo one &quot;action&quot; (i.e., if I type some text, wait a while, then type more text, executing the &quot;undo command&quot; only ever gets rid of the &quot;more text&quot; bit no matter how many more times I press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Z&lt;/kbd&gt;).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75679525/javafx-want-to-simulate-key-press-when-a-button-is-pressed#comment133512221_75679525\r\n","title":"JavaFx want to simulate key press when a button is pressed","body":"<p><strong>Note:</strong> In <a href=\"https://stackoverflow.com/questions/75679525/javafx-want-to-simulate-key-press-when-a-button-is-pressed#comment133512221_75679525\">a comment</a> you said you're using an <code>HTMLEditor</code>, not a <code>TextField</code>. If you <em>were</em> using a <code>TextField</code>, then simply calling <code>undo()</code> on it would work.</p>\n<p>Looking at the source of <code>HTMLEditor</code> and its associated skin and behavior classes, it appears it doesn't directly handle the &quot;undo command&quot;. Instead, this seems to be a feature of <code>WebView</code>. With that in mind, the following appears to do what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.web.HTMLEditor;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private static KeyEvent createUndoKeyEvent() {\n        // On Windows, the &quot;undo&quot; shortcut is typically Ctrl+Z\n        return new KeyEvent(\n                KeyEvent.KEY_PRESSED,\n                Character.toString(0),  // character (this is what Ctrl+Z gives me on my Windows device)\n                &quot;z&quot;,                    // text ( this is what Ctrl+Z gives me on my Windows device)\n                KeyCode.Z,\n                false, // shiftDown\n                true,  // controlDown\n                false, // altDown\n                false  // metaDown\n        );\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        var editor = new HTMLEditor();\n\n        var undoBtn = new Button(&quot;Undo&quot;);\n        undoBtn.setOnAction(e -&gt; {\n            e.consume();\n\n            // Grab the WebView used by the default HTMLEditor skin. Note it's\n            // important this code is executed **after** the HTMLEditor has had\n            // its skin set (which typically means after it's been displayed).\n            var node = editor.lookup(&quot;.web-view&quot;);\n            node.fireEvent(createUndoKeyEvent());\n        });\n\n        var top = new HBox(undoBtn);\n        top.setPadding(new Insets(10));\n\n        var root = new BorderPane();\n        root.setTop(top);\n        root.setCenter(editor);\n\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>Though I will note that the <code>HTMLEditor</code> / <code>WebView</code> does not seem to keep a very long history. In fact, when I press <kbd>Ctrl</kbd>+<kbd>Z</kbd> it only ever seems to undo one &quot;action&quot; (i.e., if I type some text, wait a while, then type more text, executing the &quot;undo command&quot; only ever gets rid of the &quot;more text&quot; bit no matter how many more times I press <kbd>Ctrl</kbd>+<kbd>Z</kbd>).</p>\n"}],"owner":{"account_id":27969914,"reputation":1,"user_id":21359842,"display_name":"Max Wingate"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678329153,"creation_date":1678323594,"question_id":75679525,"body_markdown":"I am trying to simulate a CTRL+Z key press to activate the undo functionality of the TextField when I click the undo button in my JavaFX program. Any idea on if this is possible?\r\n\r\nI tried creating a KeyEvent with the Key_Pressed and correct parameters then calling Event.fireEvent, but no changes occurred","title":"JavaFx want to simulate key press when a button is pressed","body":"<p>I am trying to simulate a CTRL+Z key press to activate the undo functionality of the TextField when I click the undo button in my JavaFX program. Any idea on if this is possible?</p>\n<p>I tried creating a KeyEvent with the Key_Pressed and correct parameters then calling Event.fireEvent, but no changes occurred</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":3,"creation_date":1510928109,"post_id":47352640,"comment_id":81657386,"body_markdown":"use `.equals` not `==` to compare strings, `domain.equals(hosts.get(i).getDomain())`","body":"use <code>.equals</code> not <code>==</code> to compare strings, <code>domain.equals(hosts.get(i).getDomain())</code>"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1510928194,"post_id":47352640,"comment_id":81657450,"body_markdown":"The problem is that you cannot be sure that your loop and if statement will be entered at all. You need to define a return statement in case the current return statement isn&#39;t reached.","body":"The problem is that you cannot be sure that your loop and if statement will be entered at all. You need to define a return statement in case the current return statement isn&#39;t reached."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":1,"creation_date":1510928505,"post_id":47352640,"comment_id":81657662,"body_markdown":"or throw an exception if not found","body":"or throw an exception if not found"}],"answers":[{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510928979,"creation_date":1510928979,"answer_id":47352971,"question_id":47352640,"body_markdown":"First, to compare `String` you need to use `String.equals`\r\n\r\n    if(domain.equals(hosts.get(i).getDomain()))\r\n\r\nSecond, you don&#39;t return something if this is not found, you need to either return `null` or throw an exception\r\n\r\n     for(int i = 0; i &lt; hosts.size(); i++) {\r\n         ...\r\n     }\r\n     return null;\r\n\r\nor\r\n\r\n     for(int i = 0; i &lt; hosts.size(); i++) {\r\n         ...\r\n     }\r\n     throw new ItemNotFoundException(); //Or any exception you want","title":"How can I return an object from a ArrayList?","body":"<p>First, to compare <code>String</code> you need to use <code>String.equals</code></p>\n\n<pre><code>if(domain.equals(hosts.get(i).getDomain()))\n</code></pre>\n\n<p>Second, you don't return something if this is not found, you need to either return <code>null</code> or throw an exception</p>\n\n<pre><code> for(int i = 0; i &lt; hosts.size(); i++) {\n     ...\n }\n return null;\n</code></pre>\n\n<p>or</p>\n\n<pre><code> for(int i = 0; i &lt; hosts.size(); i++) {\n     ...\n }\n throw new ItemNotFoundException(); //Or any exception you want\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510928997,"creation_date":1510928997,"answer_id":47352975,"question_id":47352640,"body_markdown":"What about `stream` and `Optional`\r\n\r\n    return hosts.stream().filter(host -&gt; host.getDomain().equals(domain)).findAny();\r\n\r\nresult type will be `Optinal&lt;Host&gt;`","title":"How can I return an object from a ArrayList?","body":"<p>What about <code>stream</code> and <code>Optional</code></p>\n\n<pre><code>return hosts.stream().filter(host -&gt; host.getDomain().equals(domain)).findAny();\n</code></pre>\n\n<p>result type will be <code>Optinal&lt;Host&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":11409302,"reputation":72,"user_id":8363923,"display_name":"Yasin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510929537,"creation_date":1510929537,"answer_id":47353138,"question_id":47352640,"body_markdown":"Could it be because the last line in your method is not a return? Maybe try this:\r\n\r\n    public Host getHost (String domain) {\r\n          Host host = null;\r\n          for(int i = 0; i &lt; hosts.size(); i++) {\r\n              if(domain.equals(hosts.get(i).getDomain())) {\r\n                  //saves in the variable declared outside of for\r\n                  host = hosts.get(i);\r\n              }\r\n          }\r\n          //attention: if nothing is found in your arraylist, the returned object is refers to null\r\n          return host;\r\n      }","title":"How can I return an object from a ArrayList?","body":"<p>Could it be because the last line in your method is not a return? Maybe try this:</p>\n\n<pre><code>public Host getHost (String domain) {\n      Host host = null;\n      for(int i = 0; i &lt; hosts.size(); i++) {\n          if(domain.equals(hosts.get(i).getDomain())) {\n              //saves in the variable declared outside of for\n              host = hosts.get(i);\n          }\n      }\n      //attention: if nothing is found in your arraylist, the returned object is refers to null\n      return host;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7430182,"reputation":396,"user_id":5651442,"display_name":"DevJava"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1510930039,"creation_date":1510929573,"answer_id":47353157,"question_id":47352640,"body_markdown":"You just need to return null after your loop.\r\n\r\n  \r\n\r\n      public Host getHost (String domain) {\r\n            for(int i = 0; i &lt; hosts.size(); i++) {\r\n                if(domain.equals(hosts.get(i).getDomain())) {\r\n                  return hosts.get(i);\r\n                }\r\n            }      \r\n            return null;\r\n        }\r\nYou can also throw an Exception if nothing found.\r\n","title":"How can I return an object from a ArrayList?","body":"<p>You just need to return null after your loop.</p>\n\n<pre><code>  public Host getHost (String domain) {\n        for(int i = 0; i &lt; hosts.size(); i++) {\n            if(domain.equals(hosts.get(i).getDomain())) {\n              return hosts.get(i);\n            }\n        }      \n        return null;\n    }\n</code></pre>\n\n<p>You can also throw an Exception if nothing found.</p>\n"}],"owner":{"account_id":12105813,"reputation":25,"user_id":8844864,"display_name":"Tetsuo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47353157,"answer_count":4,"score":1,"last_activity_date":1678328248,"creation_date":1510928041,"question_id":47352640,"body_markdown":"I would like to return the *Host* thats have the same **domain** as the *Host* in the List. But it gives me and error: *&quot;This method have to return a type of Host&quot;*.\r\n\r\nHow I have to return the object *Host*?\r\n\r\n\r\n    public class Manager {\r\n\r\n    private List&lt;Host&gt; hosts = new ArrayList&lt;Host&gt;();\r\n\r\n    public Host getHost (String domain) {\r\n    \t  \r\n    \t  for(int i = 0; i &lt; hosts.size(); i++) {\r\n    \t\t  if(domain == hosts.get(i).getDomain()) {\r\n    \t\t\t  return hosts.get(i);\r\n    \t\t  }}\t  \r\n      }\r\n\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nThanks.","title":"How can I return an object from a ArrayList?","body":"<p>I would like to return the <em>Host</em> thats have the same <strong>domain</strong> as the <em>Host</em> in the List. But it gives me and error: <em>\"This method have to return a type of Host\"</em>.</p>\n\n<p>How I have to return the object <em>Host</em>?</p>\n\n<pre><code>public class Manager {\n\nprivate List&lt;Host&gt; hosts = new ArrayList&lt;Host&gt;();\n\npublic Host getHost (String domain) {\n\n      for(int i = 0; i &lt; hosts.size(); i++) {\n          if(domain == hosts.get(i).getDomain()) {\n              return hosts.get(i);\n          }}      \n  }\n</code></pre>\n\n\n\n<p>Thanks.</p>\n"},{"tags":["java","mongodb","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678328194,"post_id":75674914,"comment_id":133512758,"body_markdown":"Connectors, like any consumer, default to set auto.offset.reset=latest, so are you producing new records **after** starting the connector? Or have you tried overriding that config?","body":"Connectors, like any consumer, default to set auto.offset.reset=latest, so are you producing new records <b>after</b> starting the connector? Or have you tried overriding that config?"},{"owner":{"account_id":11409302,"reputation":72,"user_id":8363923,"display_name":"Yasin"},"score":1,"creation_date":1678343104,"post_id":75674914,"comment_id":133514577,"body_markdown":"I did not override that config, but always produced new messages after setting it all up","body":"I did not override that config, but always produced new messages after setting it all up"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678396898,"post_id":75674914,"comment_id":133529526,"body_markdown":"Not sure, then. You may want to see https://stackoverflow.com/questions/45717658/what-is-a-simple-effective-way-to-debug-custom-kafka-connectors","body":"Not sure, then. You may want to see <a href=\"https://stackoverflow.com/questions/45717658/what-is-a-simple-effective-way-to-debug-custom-kafka-connectors\" title=\"what is a simple effective way to debug custom kafka connectors\">stackoverflow.com/questions/45717658/&hellip;</a>"}],"owner":{"account_id":11409302,"reputation":72,"user_id":8363923,"display_name":"Yasin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678328108,"creation_date":1678288700,"question_id":75674914,"body_markdown":"I have a KafkaConnect service running, to which I am able to add a connector via it&#39;s REST interface (POST `/connectors`). \r\nThe request body looks like this (simplified):\r\n```\r\n{\r\n  &quot;name&quot;: &quot;my-sink&quot;,\r\n  &quot;config&quot;: {\r\n    &quot;connector.class&quot;: &quot;com.streamprocessing.MySinkConnector&quot;,\r\n    &quot;topics.regex&quot;: &quot;MyComponent\\\\.MyTopic.*&quot;   //should listen to everything with Prefix &quot;MyComponent.MyTopic&quot;\r\n  }\r\n}\r\n```\r\n\r\nA subsequent GET request to `/connectors?expand=info&amp;expand=status` then correctly returns me the connector with its task (id 0), both having the state `RUNNING`.\r\n\r\nThe task is being executed, but my custom code inside the Task classes&#39; `put()` is never executed, because the `sinkRecords` Collection from its signature is always empty and therefore triggers an early return:\r\n\r\n```\r\npublic class MySinkTask extends SinkTask {\r\n@Override\r\npublic void put(Collection&lt;SinkRecord&gt; sinkRecords) {\r\n   log.info(&quot;Start put, batch size: &quot; + sinkRecords.size());\r\n   int batchSize = sinkRecords.size();\r\n\r\n   if (batchSize == 0) {\r\n       return;\r\n   }\r\n   // ...\r\n}\r\n```\r\nThis keeps logging me a size of 0 every 10 seconds, I already tested with two different Kafka brokers and verified the reception of my test messages by consuming them separately in both cases.\r\n\r\n\r\nPossible problem sources which - I am sure - can be excluded:\r\n- Connection to Kafka broker (topics for config, status and offsets are created successfully -&gt; at least the initial connection is established successfully)\r\n- Wrong configuration of the connector -&gt; put() function is called successfully and returns because the early return condition is truthy\r\n- Invalid topic in request body -&gt; I tried with different variations of the regex in `topics.regex`  (including matching everything via `&quot;.*&quot;`) as well as the specific topic (in `topics`, which should also work according to [the documentation](https://docs.confluent.io/platform/current/installation/configuration/connect/sink-connect-configs.html#topics)\r\n\r\nI also tried deploying my source code to our test environment to see if it works there, but that results in the exact same behavior as to when I run everything locally.\r\nThe sink is supposed to consume messages produced with a specific topic prefix and insert them into a new MongoDB collection.\r\n\r\nI do not have any more ideas for what could cause the `sinkRecords` to be empty, did anybody ever have this issue?","title":"Kafka Connect Sink running but only with empty sinkRecords","body":"<p>I have a KafkaConnect service running, to which I am able to add a connector via it's REST interface (POST <code>/connectors</code>).\nThe request body looks like this (simplified):</p>\n<pre><code>{\n  &quot;name&quot;: &quot;my-sink&quot;,\n  &quot;config&quot;: {\n    &quot;connector.class&quot;: &quot;com.streamprocessing.MySinkConnector&quot;,\n    &quot;topics.regex&quot;: &quot;MyComponent\\\\.MyTopic.*&quot;   //should listen to everything with Prefix &quot;MyComponent.MyTopic&quot;\n  }\n}\n</code></pre>\n<p>A subsequent GET request to <code>/connectors?expand=info&amp;expand=status</code> then correctly returns me the connector with its task (id 0), both having the state <code>RUNNING</code>.</p>\n<p>The task is being executed, but my custom code inside the Task classes' <code>put()</code> is never executed, because the <code>sinkRecords</code> Collection from its signature is always empty and therefore triggers an early return:</p>\n<pre><code>public class MySinkTask extends SinkTask {\n@Override\npublic void put(Collection&lt;SinkRecord&gt; sinkRecords) {\n   log.info(&quot;Start put, batch size: &quot; + sinkRecords.size());\n   int batchSize = sinkRecords.size();\n\n   if (batchSize == 0) {\n       return;\n   }\n   // ...\n}\n</code></pre>\n<p>This keeps logging me a size of 0 every 10 seconds, I already tested with two different Kafka brokers and verified the reception of my test messages by consuming them separately in both cases.</p>\n<p>Possible problem sources which - I am sure - can be excluded:</p>\n<ul>\n<li>Connection to Kafka broker (topics for config, status and offsets are created successfully -&gt; at least the initial connection is established successfully)</li>\n<li>Wrong configuration of the connector -&gt; put() function is called successfully and returns because the early return condition is truthy</li>\n<li>Invalid topic in request body -&gt; I tried with different variations of the regex in <code>topics.regex</code>  (including matching everything via <code>&quot;.*&quot;</code>) as well as the specific topic (in <code>topics</code>, which should also work according to <a href=\"https://docs.confluent.io/platform/current/installation/configuration/connect/sink-connect-configs.html#topics\" rel=\"nofollow noreferrer\">the documentation</a></li>\n</ul>\n<p>I also tried deploying my source code to our test environment to see if it works there, but that results in the exact same behavior as to when I run everything locally.\nThe sink is supposed to consume messages produced with a specific topic prefix and insert them into a new MongoDB collection.</p>\n<p>I do not have any more ideas for what could cause the <code>sinkRecords</code> to be empty, did anybody ever have this issue?</p>\n"},{"tags":["java","generics","super","bounded-wildcard","pecs"],"comments":[{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":5,"creation_date":1547965356,"post_id":2723397,"comment_id":95370616,"body_markdown":"A very good explanation with an example @ youtube.com/watch?v=34oiEq9nD0M&amp;feature=youtu.be&amp;t=1630 which explains `super` part but, gives an idea of another.","body":"A very good explanation with an example @ youtube.com/watch?v=34oiEq9nD0M&amp;feature=youtu.be&amp;t=1630 which explains <code>super</code> part but, gives an idea of another."}],"answers":[{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1503664485,"creation_date":1272389572,"answer_id":2723503,"question_id":2723397,"body_markdown":"As I explain in [my answer][1] to another question, PECS is a mnemonic device  created by Josh Bloch to help remember **P**roducer &lt;code&gt;&lt;strong&gt;e&lt;/strong&gt;xtends&lt;/code&gt;, **C**onsumer &lt;code&gt;&lt;strong&gt;s&lt;/strong&gt;uper&lt;/code&gt;.\n\n&gt; This means that when a parameterized type being passed to a method will *produce* instances of &lt;code&gt;T&lt;/code&gt; (they will be retrieved from it in some way), &lt;code&gt;? extends T&lt;/code&gt; should be used, since any instance of a subclass of &lt;code&gt;T&lt;/code&gt; is also a &lt;code&gt;T&lt;/code&gt;.\n&gt;\n&gt; When a parameterized type being passed to a method will *consume* instances of &lt;code&gt;T&lt;/code&gt; (they will be passed to it to do something), &lt;code&gt;? super T&lt;/code&gt; should be used because an instance of &lt;code&gt;T&lt;/code&gt; can legally be passed to any method that accepts some supertype of &lt;code&gt;T&lt;/code&gt;. A &lt;code&gt;Comparator&amp;lt;Number&amp;gt;&lt;/code&gt; could be used on a &lt;code&gt;Collection&amp;lt;Integer&amp;gt;&lt;/code&gt;, for example. &lt;code&gt;? extends T&lt;/code&gt; would not work, because a &lt;code&gt;Comparator&amp;lt;Integer&amp;gt;&lt;/code&gt; could not operate on a &lt;code&gt;Collection&amp;lt;Number&amp;gt;&lt;/code&gt;.\n\nNote that generally you should only be using &lt;code&gt;? extends T&lt;/code&gt; and &lt;code&gt;? super T&lt;/code&gt; for the parameters of some method. Methods should just use &lt;code&gt;T&lt;/code&gt; as the type parameter on a generic return type.\n\n\n  [1]: https://stackoverflow.com/questions/2248390/java-generics-collections-max-signature-and-comparator/2248503#2248503","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>As I explain in <a href=\"https://stackoverflow.com/questions/2248390/java-generics-collections-max-signature-and-comparator/2248503#2248503\">my answer</a> to another question, PECS is a mnemonic device  created by Josh Bloch to help remember <strong>P</strong>roducer <code><strong>e</strong>xtends</code>, <strong>C</strong>onsumer <code><strong>s</strong>uper</code>.</p>\n<blockquote>\n<p>This means that when a parameterized type being passed to a method will <em>produce</em> instances of <code>T</code> (they will be retrieved from it in some way), <code>? extends T</code> should be used, since any instance of a subclass of <code>T</code> is also a <code>T</code>.</p>\n<p>When a parameterized type being passed to a method will <em>consume</em> instances of <code>T</code> (they will be passed to it to do something), <code>? super T</code> should be used because an instance of <code>T</code> can legally be passed to any method that accepts some supertype of <code>T</code>. A <code>Comparator&lt;Number&gt;</code> could be used on a <code>Collection&lt;Integer&gt;</code>, for example. <code>? extends T</code> would not work, because a <code>Comparator&lt;Integer&gt;</code> could not operate on a <code>Collection&lt;Number&gt;</code>.</p>\n</blockquote>\n<p>Note that generally you should only be using <code>? extends T</code> and <code>? super T</code> for the parameters of some method. Methods should just use <code>T</code> as the type parameter on a generic return type.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":2,"up_vote_count":1035,"is_accepted":true,"score":1033,"last_activity_date":1609610845,"creation_date":1272389846,"answer_id":2723538,"question_id":2723397,"body_markdown":"**tl;dr:** &quot;PECS&quot; is from the collection&#39;s point of view. If you are *only* pulling items from a generic collection, it is a producer and you should use `extends`; if you are *only* stuffing items in, it is a consumer and you should use `super`. If you do both with the same collection, you shouldn&#39;t use either `extends` or `super`.\r\n\r\n---\r\n\r\nSuppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a `Collection&lt;Thing&gt;`.\r\n\r\n**Case 1: You want to go through the collection and do things with each item.**  \r\nThen the list is a **producer**, so you should use a `Collection&lt;? extends Thing&gt;`.\r\n\r\nThe reasoning is that a `Collection&lt;? extends Thing&gt;` could hold any subtype of `Thing`, and thus each element will behave as a `Thing` when you perform your operation. (You actually cannot add anything (except null) to a `Collection&lt;? extends Thing&gt;`, because you cannot know at runtime which *specific* subtype of `Thing` the collection holds.)\r\n\r\n**Case 2: You want to add things to the collection.**  \r\nThen the list is a **consumer**, so you should use a `Collection&lt;? super Thing&gt;`.\r\n\r\nThe reasoning here is that unlike `Collection&lt;? extends Thing&gt;`, `Collection&lt;? super Thing&gt;` can always hold a `Thing` no matter what the actual parameterized type is. Here you don&#39;t care what is already in the list as long as it will allow a `Thing` to be added; this is what `? super Thing` guarantees.","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p><strong>tl;dr:</strong> &quot;PECS&quot; is from the collection's point of view. If you are <em>only</em> pulling items from a generic collection, it is a producer and you should use <code>extends</code>; if you are <em>only</em> stuffing items in, it is a consumer and you should use <code>super</code>. If you do both with the same collection, you shouldn't use either <code>extends</code> or <code>super</code>.</p>\n<hr />\n<p>Suppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a <code>Collection&lt;Thing&gt;</code>.</p>\n<p><strong>Case 1: You want to go through the collection and do things with each item.</strong><br />\nThen the list is a <strong>producer</strong>, so you should use a <code>Collection&lt;? extends Thing&gt;</code>.</p>\n<p>The reasoning is that a <code>Collection&lt;? extends Thing&gt;</code> could hold any subtype of <code>Thing</code>, and thus each element will behave as a <code>Thing</code> when you perform your operation. (You actually cannot add anything (except null) to a <code>Collection&lt;? extends Thing&gt;</code>, because you cannot know at runtime which <em>specific</em> subtype of <code>Thing</code> the collection holds.)</p>\n<p><strong>Case 2: You want to add things to the collection.</strong><br />\nThen the list is a <strong>consumer</strong>, so you should use a <code>Collection&lt;? super Thing&gt;</code>.</p>\n<p>The reasoning here is that unlike <code>Collection&lt;? extends Thing&gt;</code>, <code>Collection&lt;? super Thing&gt;</code> can always hold a <code>Thing</code> no matter what the actual parameterized type is. Here you don't care what is already in the list as long as it will allow a <code>Thing</code> to be added; this is what <code>? super Thing</code> guarantees.</p>\n"},{"tags":[],"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1381169713,"creation_date":1381169713,"answer_id":19231762,"question_id":2723397,"body_markdown":"    public class Test {\r\n    \r\n    \tpublic class A {}\r\n    \r\n    \tpublic class B extends A {}\r\n    \r\n    \tpublic class C extends B {}\r\n    \r\n    \tpublic void testCoVariance(List&lt;? extends B&gt; myBlist) {\r\n    \t\tB b = new B();\r\n    \t\tC c = new C();\r\n    \t\tmyBlist.add(b); // does not compile\r\n    \t\tmyBlist.add(c); // does not compile\r\n    \t\tA a = myBlist.get(0); \r\n    \t}\r\n    \t\r\n    \tpublic void testContraVariance(List&lt;? super B&gt; myBlist) {\r\n    \t\tB b = new B();\r\n    \t\tC c = new C();\r\n    \t\tmyBlist.add(b);\r\n    \t\tmyBlist.add(c);\r\n    \t\tA a = myBlist.get(0); // does not compile\r\n    \t}\r\n    }","title":"What is PECS (Producer Extends Consumer Super)?","body":"<pre><code>public class Test {\n\n    public class A {}\n\n    public class B extends A {}\n\n    public class C extends B {}\n\n    public void testCoVariance(List&lt;? extends B&gt; myBlist) {\n        B b = new B();\n        C c = new C();\n        myBlist.add(b); // does not compile\n        myBlist.add(c); // does not compile\n        A a = myBlist.get(0); \n    }\n\n    public void testContraVariance(List&lt;? super B&gt; myBlist) {\n        B b = new B();\n        C c = new C();\n        myBlist.add(b);\n        myBlist.add(c);\n        A a = myBlist.get(0); // does not compile\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1399922,"reputation":9340,"user_id":1328888,"accept_rate":78,"display_name":"anoopelias"},"down_vote_count":3,"up_vote_count":677,"is_accepted":false,"score":674,"last_activity_date":1622275448,"creation_date":1383374078,"answer_id":19739576,"question_id":2723397,"body_markdown":"The principles behind this in computer science is called\r\n\r\n - Covariance: `? extends MyClass`,\r\n - Contravariance: `? super MyClass` and\r\n - Invariance/non-variance: `MyClass`\r\n\r\nThe picture below should explain the concept. \r\nPicture courtesy: [Andrey Tyukin][2]\r\n\r\n![Covariance vs Contravariance][1]\r\n\r\n  [1]: http://i.stack.imgur.com/KjDLw.png\r\n  [2]: https://stackoverflow.com/users/2707792/andrey-tyukin\r\n","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>The principles behind this in computer science is called</p>\n<ul>\n<li>Covariance: <code>? extends MyClass</code>,</li>\n<li>Contravariance: <code>? super MyClass</code> and</li>\n<li>Invariance/non-variance: <code>MyClass</code></li>\n</ul>\n<p>The picture below should explain the concept.\nPicture courtesy: <a href=\"https://stackoverflow.com/users/2707792/andrey-tyukin\">Andrey Tyukin</a></p>\n<p><img src=\"https://i.stack.imgur.com/KjDLw.png\" alt=\"Covariance vs Contravariance\" /></p>\n"},{"tags":[],"owner":{"account_id":2596160,"reputation":1526,"user_id":2249812,"accept_rate":67,"display_name":"Pradeep Kr Kaushal"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1547893796,"creation_date":1415861484,"answer_id":26902970,"question_id":2723397,"body_markdown":"In a nutshell, three easy rules to remember PECS: \r\n\r\n 1. Use the `&lt;? extends T&gt;` wildcard if you need to retrieve object of\r\n    type `T` from a collection.\r\n 2. Use the `&lt;? super T&gt;` wildcard if you need to put objects of type `T` in\r\n    a collection.\r\n 3. If you need to satisfy both things, well, don’t use any wildcard. As\r\n    simple as that.\r\n","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>In a nutshell, three easy rules to remember PECS: </p>\n\n<ol>\n<li>Use the <code>&lt;? extends T&gt;</code> wildcard if you need to retrieve object of\ntype <code>T</code> from a collection.</li>\n<li>Use the <code>&lt;? super T&gt;</code> wildcard if you need to put objects of type <code>T</code> in\na collection.</li>\n<li>If you need to satisfy both things, well, don’t use any wildcard. As\nsimple as that.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1649471648,"creation_date":1437892429,"answer_id":31634364,"question_id":2723397,"body_markdown":"&gt;When dealing with collections, a common rule for selecting between upper or lower bounded wildcards is PECS. [credit][1]\r\n\r\nPECS (Producer `extends` and Consumer `super`) \r\n\r\nmnemonic → Ge**t** (ex**t**end) and P**u**t (S**u**per) principle.  \r\n\r\n- This **principle** states that:\r\n \r\n  - Use an `extends` wildcard when you only get values out of a structure.\r\n  - Use a `super` wildcard when you only put values into a structure.\r\n  - And don’t use a wildcard when you both get and put.\r\n\r\n\r\n\r\nExample in Java:\r\n\r\n    class Super {\r\n            Number testCoVariance() {\r\n                return null;\r\n            }\r\n            void testContraVariance(Number parameter) {\r\n            } \r\n        }\r\n        \r\n        class Sub extends Super {\r\n            @Override\r\n            Integer testCoVariance() {\r\n                return null;\r\n            } //compiles successfully i.e. return type is don&#39;t care(Integer is subtype of Number)\r\n            @Override\r\n            void testContraVariance(Integer parameter) {\r\n            } //doesn&#39;t support even though Integer is subtype of Number\r\n        }\r\n\r\nThe Liskov Substitution Principle (LSP) states that “**objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program**”. \r\n\r\nWithin the type system of a programming language, a typing rule   \r\n\r\n- **covariant** if it preserves the ordering of types (≤), which orders types from more specific to more generic;\r\n- **contravariant** if it reverses this ordering;\r\n- **invariant** or nonvariant if neither of these applies.\r\n\r\n[Covariance and contravariance][2]\r\n\r\n- Read-only data types (sources) can be **[covariant][3]**; \r\n- write-only data types (sinks) can be **contravariant**. \r\n- Mutable data types which act as both sources and sinks should be **invariant**. \r\n\r\nTo illustrate this general phenomenon, consider the array type. For the type Animal we can make the type Animal[]  \r\n\r\n- **covariant**: a Cat[] is an Animal[];\r\n- **contravariant**: an Animal[] is a Cat[];\r\n- **invariant**: an Animal[] is not a Cat[] and a Cat[] is not an Animal[].\r\n\r\nJava Examples:\r\n\r\n\r\n    Object name= new String(&quot;prem&quot;); //works\r\n    List&lt;Number&gt; numbers = new ArrayList&lt;Integer&gt;();//gets compile time error\r\n    \r\n    Integer[] myInts = {1,2,3,4};\r\n    Number[] myNumber = myInts;\r\n    myNumber[0] = 3.14; //attempt of heap pollution i.e. at runtime gets java.lang.ArrayStoreException: java.lang.Double(we can fool compiler but not run-time)\r\n\r\n    List&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n    list.add(&quot;prem&quot;);\r\n    List&lt;Object&gt; listObject=list; //Type mismatch: cannot convert from List&lt;String&gt; to List&lt;Object&gt; at Compiletime  \r\n\r\n[more examples][4] \r\n\r\n[![enter image description here][5]][5] [Image src][6]\r\n\r\n \r\n\r\n\r\n**bounded**(i.e. heading toward somewhere) **wildcard** : There are 3 different flavours of wildcards:   \r\n\r\n -  In-variance/Non-variance: `?` or `? extends Object` - **Unbounded** Wildcard. It stands for the family of  all types. Use when you both get and put.\r\n -  Co-variance: `? extends T` ( Reign of `T` descendants)  - a wildcard with an **upper bound**. `T` is the **upper**-most class in the inheritance hierarchy. Use an `extends` wildcard when you only **Get** values out of a structure. \r\n -  Contra-variance: `? super T` ( Reign of `T` ancestor)  - a wildcard with a **lower bound**. `T` is the **lower**-most class in the inheritance hierarchy. Use a `super` wildcard when you only **Put** values into a structure.\r\n\r\nNote: wildcard `?` means **zero or one time**, represents an **unknown type**. The wildcard can be used as the type of a parameter, never used as a type argument for a generic method invocation, a generic class instance creation.(i.e. when used wildcard that reference not used in elsewhere in program like we use `T`)\r\n\r\n[![enter image description here][7]][7]\r\n\r\n  \r\n\r\n     import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    class Shape { void draw() {}}\r\n    \r\n    class Circle extends Shape {void draw() {}}\r\n    \r\n    class Square extends Shape {void draw() {}}\r\n    \r\n    class Rectangle extends Shape {void draw() {}}\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            //? extends Shape i.e. can use any sub type of Shape, here Shape is Upper Bound in inheritance hierarchy\r\n            List&lt;? extends Shape&gt; intList5 = new ArrayList&lt;Shape&gt;();\r\n            List&lt;? extends Shape&gt; intList6 = new ArrayList&lt;Cricle&gt;();\r\n            List&lt;? extends Shape&gt; intList7 = new ArrayList&lt;Rectangle&gt;();\r\n            List&lt;? extends Shape&gt; intList9 = new ArrayList&lt;Object&gt;();//ERROR.\r\n    \r\n    \r\n            //? super Shape i.e. can use any super type of Shape, here Shape is Lower Bound in inheritance hierarchy\r\n            List&lt;? super Shape&gt; inList5 = new ArrayList&lt;Shape&gt;();\r\n            List&lt;? super Shape&gt; inList6 = new ArrayList&lt;Object&gt;();\r\n            List&lt;? super Shape&gt; inList7 = new ArrayList&lt;Circle&gt;(); //ERROR.\r\n    \r\n            //-----------------------------------------------------------\r\n            Circle circle = new Circle();\r\n            Shape shape = circle; // OK. Circle IS-A Shape\r\n    \r\n            List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n            List&lt;Shape&gt; shapes = circles; // ERROR. List&lt;Circle&gt; is not subtype of List&lt;Shape&gt; even when Circle IS-A Shape\r\n    \r\n            List&lt;? extends Circle&gt; circles2 = new ArrayList&lt;&gt;();\r\n            List&lt;? extends Shape&gt; shapes2 = circles2; // OK. List&lt;? extends Circle&gt; is subtype of List&lt;? extends Shape&gt;\r\n    \r\n    \r\n            //-----------------------------------------------------------\r\n            Shape shape2 = new Shape();\r\n            Circle circle2= (Circle) shape2; // OK. with type casting\r\n    \r\n            List&lt;Shape&gt; shapes3 = new ArrayList&lt;&gt;();\r\n            List&lt;Circle&gt; circles3 = shapes3; //ERROR. List&lt;Circle&gt; is not subtype of  List&lt;Shape&gt; even Circle is subetype of Shape\r\n    \r\n            List&lt;? super Shape&gt; shapes4 = new ArrayList&lt;&gt;();\r\n            List&lt;? super Circle&gt; circles4 = shapes4; //OK.\r\n        }\r\n    \r\n        \r\n        \r\n        /*\r\n         * Example for an upper bound wildcard (Get values i.e Producer `extends`)\r\n         *\r\n         * */\r\n        public void testCoVariance(List&lt;? extends Shape&gt; list) {\r\n            list.add(new Object());//ERROR\r\n            list.add(new Shape()); //ERROR\r\n            list.add(new Circle()); // ERROR\r\n            list.add(new Square()); // ERROR\r\n            list.add(new Rectangle()); // ERROR\r\n            Shape shape= list.get(0);//OK so list act as produces only\r\n        /*\r\n         * You can&#39;t add a Shape,Circle,Square,Rectangle to a List&lt;? extends Shape&gt;\r\n         * You can get an object and know that it will be an Shape\r\n         */\r\n        }\r\n        \r\n        \r\n        /*\r\n         * Example for  a lower bound wildcard (Put values i.e Consumer`super`)\r\n         * */\r\n        public void testContraVariance(List&lt;? super Shape&gt; list) {\r\n            list.add(new Object());//ERROR\r\n            list.add(new Shape());//OK\r\n            list.add(new Circle());//OK\r\n            list.add(new Square());//OK\r\n            list.add(new Rectangle());//OK\r\n            Shape shape= list.get(0); // ERROR. Type mismatch, so list acts only as consumer\r\n            Object object= list.get(0); //OK gets an object, but we don&#39;t know what kind of Object it is.\r\n            /*\r\n             * You can add a Shape,Circle,Square,Rectangle to a List&lt;? super Shape&gt;\r\n             * You can&#39;t get an Shape(but can get Object) and don&#39;t know what kind of Shape it is.\r\n             */\r\n        }\r\n    }\r\n\r\n[generics][8] and [examples][9]\r\n\r\n\r\n[Covariance and contravariance][10] determine compatibility based on types. In either case, variance is a directed relation. Covariance can be translated as &quot;**different in the same direction**,&quot; or with-different, whereas contravariance means &quot;**different in the opposite direction**,&quot; or against-different. Covariant and contravariant types are not the same, but there is a correlation between them. The names imply the direction of the correlation.\r\n\r\n\r\nhttps://stackoverflow.com/a/54576828/1697099  \r\nhttps://stackoverflow.com/a/64888058/1697099\r\n\r\n - Covariance: accept subtypes (read only i.e. Producer) \r\n - Contravariance: accept supertypes (write only i.e. Consumer)\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-generics-interview-questions#q13-when-would-you-choose-to-use-a-lower-bounded-type-vs-an-upper-bounded-type\r\n  [2]: https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\r\n  [3]: https://en.m.wikipedia.org/wiki/Covariant_return_type\r\n  [4]: http://www.codejava.net/java-core/collections/generics-with-subtyping-and-the-substitution-principle\r\n  [5]: https://i.stack.imgur.com/KoW5X.png\r\n  [6]: https://www.mathsisfun.com/definitions/bounds.html\r\n  [7]: http://i.stack.imgur.com/ki1Kf.jpg\r\n  [8]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html\r\n  [9]: http://www.codejava.net/java-core/collections/generics-with-extends-and-super-wildcards-and-the-get-and-put-principle\r\n  [10]: https://www.infoworld.com/article/3172592/type-dependency-in-java-part-1.html","title":"What is PECS (Producer Extends Consumer Super)?","body":"<blockquote>\n<p>When dealing with collections, a common rule for selecting between upper or lower bounded wildcards is PECS. <a href=\"https://www.baeldung.com/java-generics-interview-questions#q13-when-would-you-choose-to-use-a-lower-bounded-type-vs-an-upper-bounded-type\" rel=\"noreferrer\">credit</a></p>\n</blockquote>\n<p>PECS (Producer <code>extends</code> and Consumer <code>super</code>)</p>\n<p>mnemonic → Ge<strong>t</strong> (ex<strong>t</strong>end) and P<strong>u</strong>t (S<strong>u</strong>per) principle.</p>\n<ul>\n<li><p>This <strong>principle</strong> states that:</p>\n<ul>\n<li>Use an <code>extends</code> wildcard when you only get values out of a structure.</li>\n<li>Use a <code>super</code> wildcard when you only put values into a structure.</li>\n<li>And don’t use a wildcard when you both get and put.</li>\n</ul>\n</li>\n</ul>\n<p>Example in Java:</p>\n<pre><code>class Super {\n        Number testCoVariance() {\n            return null;\n        }\n        void testContraVariance(Number parameter) {\n        } \n    }\n    \n    class Sub extends Super {\n        @Override\n        Integer testCoVariance() {\n            return null;\n        } //compiles successfully i.e. return type is don't care(Integer is subtype of Number)\n        @Override\n        void testContraVariance(Integer parameter) {\n        } //doesn't support even though Integer is subtype of Number\n    }\n</code></pre>\n<p>The Liskov Substitution Principle (LSP) states that “<strong>objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program</strong>”.</p>\n<p>Within the type system of a programming language, a typing rule</p>\n<ul>\n<li><strong>covariant</strong> if it preserves the ordering of types (≤), which orders types from more specific to more generic;</li>\n<li><strong>contravariant</strong> if it reverses this ordering;</li>\n<li><strong>invariant</strong> or nonvariant if neither of these applies.</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\" rel=\"noreferrer\">Covariance and contravariance</a></p>\n<ul>\n<li>Read-only data types (sources) can be <strong><a href=\"https://en.m.wikipedia.org/wiki/Covariant_return_type\" rel=\"noreferrer\">covariant</a></strong>;</li>\n<li>write-only data types (sinks) can be <strong>contravariant</strong>.</li>\n<li>Mutable data types which act as both sources and sinks should be <strong>invariant</strong>.</li>\n</ul>\n<p>To illustrate this general phenomenon, consider the array type. For the type Animal we can make the type Animal[]</p>\n<ul>\n<li><strong>covariant</strong>: a Cat[] is an Animal[];</li>\n<li><strong>contravariant</strong>: an Animal[] is a Cat[];</li>\n<li><strong>invariant</strong>: an Animal[] is not a Cat[] and a Cat[] is not an Animal[].</li>\n</ul>\n<p>Java Examples:</p>\n<pre><code>Object name= new String(&quot;prem&quot;); //works\nList&lt;Number&gt; numbers = new ArrayList&lt;Integer&gt;();//gets compile time error\n\nInteger[] myInts = {1,2,3,4};\nNumber[] myNumber = myInts;\nmyNumber[0] = 3.14; //attempt of heap pollution i.e. at runtime gets java.lang.ArrayStoreException: java.lang.Double(we can fool compiler but not run-time)\n\nList&lt;String&gt; list=new ArrayList&lt;&gt;();\nlist.add(&quot;prem&quot;);\nList&lt;Object&gt; listObject=list; //Type mismatch: cannot convert from List&lt;String&gt; to List&lt;Object&gt; at Compiletime  \n</code></pre>\n<p><a href=\"http://www.codejava.net/java-core/collections/generics-with-subtyping-and-the-substitution-principle\" rel=\"noreferrer\">more examples</a></p>\n<p><a href=\"https://i.stack.imgur.com/KoW5X.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KoW5X.png\" alt=\"enter image description here\" /></a> <a href=\"https://www.mathsisfun.com/definitions/bounds.html\" rel=\"noreferrer\">Image src</a></p>\n<p><strong>bounded</strong>(i.e. heading toward somewhere) <strong>wildcard</strong> : There are 3 different flavours of wildcards:</p>\n<ul>\n<li>In-variance/Non-variance: <code>?</code> or <code>? extends Object</code> - <strong>Unbounded</strong> Wildcard. It stands for the family of  all types. Use when you both get and put.</li>\n<li>Co-variance: <code>? extends T</code> ( Reign of <code>T</code> descendants)  - a wildcard with an <strong>upper bound</strong>. <code>T</code> is the <strong>upper</strong>-most class in the inheritance hierarchy. Use an <code>extends</code> wildcard when you only <strong>Get</strong> values out of a structure.</li>\n<li>Contra-variance: <code>? super T</code> ( Reign of <code>T</code> ancestor)  - a wildcard with a <strong>lower bound</strong>. <code>T</code> is the <strong>lower</strong>-most class in the inheritance hierarchy. Use a <code>super</code> wildcard when you only <strong>Put</strong> values into a structure.</li>\n</ul>\n<p>Note: wildcard <code>?</code> means <strong>zero or one time</strong>, represents an <strong>unknown type</strong>. The wildcard can be used as the type of a parameter, never used as a type argument for a generic method invocation, a generic class instance creation.(i.e. when used wildcard that reference not used in elsewhere in program like we use <code>T</code>)</p>\n<p><a href=\"https://i.stack.imgur.com/ki1Kf.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ki1Kf.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code> import java.util.ArrayList;\nimport java.util.List;\n\nclass Shape { void draw() {}}\n\nclass Circle extends Shape {void draw() {}}\n\nclass Square extends Shape {void draw() {}}\n\nclass Rectangle extends Shape {void draw() {}}\n\npublic class Test {\n\n    public static void main(String[] args) {\n        //? extends Shape i.e. can use any sub type of Shape, here Shape is Upper Bound in inheritance hierarchy\n        List&lt;? extends Shape&gt; intList5 = new ArrayList&lt;Shape&gt;();\n        List&lt;? extends Shape&gt; intList6 = new ArrayList&lt;Cricle&gt;();\n        List&lt;? extends Shape&gt; intList7 = new ArrayList&lt;Rectangle&gt;();\n        List&lt;? extends Shape&gt; intList9 = new ArrayList&lt;Object&gt;();//ERROR.\n\n\n        //? super Shape i.e. can use any super type of Shape, here Shape is Lower Bound in inheritance hierarchy\n        List&lt;? super Shape&gt; inList5 = new ArrayList&lt;Shape&gt;();\n        List&lt;? super Shape&gt; inList6 = new ArrayList&lt;Object&gt;();\n        List&lt;? super Shape&gt; inList7 = new ArrayList&lt;Circle&gt;(); //ERROR.\n\n        //-----------------------------------------------------------\n        Circle circle = new Circle();\n        Shape shape = circle; // OK. Circle IS-A Shape\n\n        List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n        List&lt;Shape&gt; shapes = circles; // ERROR. List&lt;Circle&gt; is not subtype of List&lt;Shape&gt; even when Circle IS-A Shape\n\n        List&lt;? extends Circle&gt; circles2 = new ArrayList&lt;&gt;();\n        List&lt;? extends Shape&gt; shapes2 = circles2; // OK. List&lt;? extends Circle&gt; is subtype of List&lt;? extends Shape&gt;\n\n\n        //-----------------------------------------------------------\n        Shape shape2 = new Shape();\n        Circle circle2= (Circle) shape2; // OK. with type casting\n\n        List&lt;Shape&gt; shapes3 = new ArrayList&lt;&gt;();\n        List&lt;Circle&gt; circles3 = shapes3; //ERROR. List&lt;Circle&gt; is not subtype of  List&lt;Shape&gt; even Circle is subetype of Shape\n\n        List&lt;? super Shape&gt; shapes4 = new ArrayList&lt;&gt;();\n        List&lt;? super Circle&gt; circles4 = shapes4; //OK.\n    }\n\n    \n    \n    /*\n     * Example for an upper bound wildcard (Get values i.e Producer `extends`)\n     *\n     * */\n    public void testCoVariance(List&lt;? extends Shape&gt; list) {\n        list.add(new Object());//ERROR\n        list.add(new Shape()); //ERROR\n        list.add(new Circle()); // ERROR\n        list.add(new Square()); // ERROR\n        list.add(new Rectangle()); // ERROR\n        Shape shape= list.get(0);//OK so list act as produces only\n    /*\n     * You can't add a Shape,Circle,Square,Rectangle to a List&lt;? extends Shape&gt;\n     * You can get an object and know that it will be an Shape\n     */\n    }\n    \n    \n    /*\n     * Example for  a lower bound wildcard (Put values i.e Consumer`super`)\n     * */\n    public void testContraVariance(List&lt;? super Shape&gt; list) {\n        list.add(new Object());//ERROR\n        list.add(new Shape());//OK\n        list.add(new Circle());//OK\n        list.add(new Square());//OK\n        list.add(new Rectangle());//OK\n        Shape shape= list.get(0); // ERROR. Type mismatch, so list acts only as consumer\n        Object object= list.get(0); //OK gets an object, but we don't know what kind of Object it is.\n        /*\n         * You can add a Shape,Circle,Square,Rectangle to a List&lt;? super Shape&gt;\n         * You can't get an Shape(but can get Object) and don't know what kind of Shape it is.\n         */\n    }\n}\n</code></pre>\n<p><a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html\" rel=\"noreferrer\">generics</a> and <a href=\"http://www.codejava.net/java-core/collections/generics-with-extends-and-super-wildcards-and-the-get-and-put-principle\" rel=\"noreferrer\">examples</a></p>\n<p><a href=\"https://www.infoworld.com/article/3172592/type-dependency-in-java-part-1.html\" rel=\"noreferrer\">Covariance and contravariance</a> determine compatibility based on types. In either case, variance is a directed relation. Covariance can be translated as &quot;<strong>different in the same direction</strong>,&quot; or with-different, whereas contravariance means &quot;<strong>different in the opposite direction</strong>,&quot; or against-different. Covariant and contravariant types are not the same, but there is a correlation between them. The names imply the direction of the correlation.</p>\n<p><a href=\"https://stackoverflow.com/a/54576828/1697099\">https://stackoverflow.com/a/54576828/1697099</a><br />\n<a href=\"https://stackoverflow.com/a/64888058/1697099\">https://stackoverflow.com/a/64888058/1697099</a></p>\n<ul>\n<li>Covariance: accept subtypes (read only i.e. Producer)</li>\n<li>Contravariance: accept supertypes (write only i.e. Consumer)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1495044742,"creation_date":1495044742,"answer_id":44032098,"question_id":2723397,"body_markdown":"(adding an answer because never enough examples with Generics wildcards)\r\n\r\n           // Source \r\n           List&lt;Integer&gt; intList = Arrays.asList(1,2,3);\r\n           List&lt;Double&gt; doubleList = Arrays.asList(2.78,3.14);\r\n           List&lt;Number&gt; numList = Arrays.asList(1,2,2.78,3.14,5);\r\n        \r\n           // Destination\r\n           List&lt;Integer&gt; intList2 = new ArrayList&lt;&gt;();\r\n           List&lt;Double&gt; doublesList2 = new ArrayList&lt;&gt;();\r\n           List&lt;Number&gt; numList2 = new ArrayList&lt;&gt;();\r\n    \r\n            // Works\r\n            copyElements1(intList,intList2);         // from int to int\r\n            copyElements1(doubleList,doublesList2);  // from double to double\r\n    \r\n    \r\n         static &lt;T&gt; void copyElements1(Collection&lt;T&gt; src, Collection&lt;T&gt; dest) {\r\n            for(T n : src){\r\n                dest.add(n);\r\n             }\r\n          }\r\n    \r\n    \r\n         // Let&#39;s try to copy intList to its supertype\r\n         copyElements1(intList,numList2); // error, method signature just says &quot;T&quot;\r\n                                          // and here the compiler is given \r\n                                          // two types: Integer and Number, \r\n                                          // so which one shall it be?\r\n    \r\n         // PECS to the rescue!\r\n         copyElements2(intList,numList2);  // possible\r\n    \r\n    \r\n    \r\n        // copy Integer (? extends T) to its supertype (Number is super of Integer)\r\n        private static &lt;T&gt; void copyElements2(Collection&lt;? extends T&gt; src, \r\n                                              Collection&lt;? super T&gt; dest) {\r\n            for(T n : src){\r\n                dest.add(n);\r\n            }\r\n        }","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>(adding an answer because never enough examples with Generics wildcards)</p>\n\n<pre><code>       // Source \n       List&lt;Integer&gt; intList = Arrays.asList(1,2,3);\n       List&lt;Double&gt; doubleList = Arrays.asList(2.78,3.14);\n       List&lt;Number&gt; numList = Arrays.asList(1,2,2.78,3.14,5);\n\n       // Destination\n       List&lt;Integer&gt; intList2 = new ArrayList&lt;&gt;();\n       List&lt;Double&gt; doublesList2 = new ArrayList&lt;&gt;();\n       List&lt;Number&gt; numList2 = new ArrayList&lt;&gt;();\n\n        // Works\n        copyElements1(intList,intList2);         // from int to int\n        copyElements1(doubleList,doublesList2);  // from double to double\n\n\n     static &lt;T&gt; void copyElements1(Collection&lt;T&gt; src, Collection&lt;T&gt; dest) {\n        for(T n : src){\n            dest.add(n);\n         }\n      }\n\n\n     // Let's try to copy intList to its supertype\n     copyElements1(intList,numList2); // error, method signature just says \"T\"\n                                      // and here the compiler is given \n                                      // two types: Integer and Number, \n                                      // so which one shall it be?\n\n     // PECS to the rescue!\n     copyElements2(intList,numList2);  // possible\n\n\n\n    // copy Integer (? extends T) to its supertype (Number is super of Integer)\n    private static &lt;T&gt; void copyElements2(Collection&lt;? extends T&gt; src, \n                                          Collection&lt;? super T&gt; dest) {\n        for(T n : src){\n            dest.add(n);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1524982396,"creation_date":1519033808,"answer_id":48863403,"question_id":2723397,"body_markdown":"Remember this: \r\n\r\n&gt; Consumer eat **supper**(super); Producer **extends** his parent&#39;s factory","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>Remember this: </p>\n\n<blockquote>\n  <p>Consumer eat <strong>supper</strong>(super); Producer <strong>extends</strong> his parent's factory</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10179440,"reputation":372,"user_id":7516845,"display_name":"Daniel"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1587122847,"creation_date":1537724554,"answer_id":52468697,"question_id":2723397,"body_markdown":"let&#39;s assume this hierarchy:\r\n\r\n    class Creature{}// X\r\n    class Animal extends Creature{}// Y\r\n    class Fish extends Animal{}// Z\r\n    class Shark extends Fish{}// A\r\n    class HammerSkark extends Shark{}// B\r\n    class DeadHammerShark extends HammerSkark{}// C\r\n\r\n**Let&#39;s clarify PE - Producer Extends:**\r\n\r\n    List&lt;? extends Shark&gt; sharks = new ArrayList&lt;&gt;();\r\n\r\nWhy you cannot add objects that extend &quot;Shark&quot; in this list? like:\r\n    \r\n    sharks.add(new HammerShark());//will result in compilation error\r\n\r\nSince you have a list that can be of type A, B or C **at runtime**, you cannot add any object of type A, B or C in it because you can end up with a combination that is not allowed in java. &lt;br&gt;In practice, the compiler can indeed see at compiletime that you add a B:\r\n\r\n    sharks.add(new HammerShark());\r\n\r\n...but it has no way to tell if at runtime, your B will be a subtype or supertype of the list type. At runtime the list type can be any of the types A, B, C. So you cannot end up adding HammerSkark (super type) in a list of DeadHammerShark for example.\r\n\r\n*You will say: &quot;OK, but why can&#39;t I add HammerSkark in it since it is the smallest type?&quot;. \r\nAnswer: It is the smallest **you** know. But HammerSkark can be extended too by somebody else and you end up in the same scenario.\r\n\r\n**Let&#39;s clarify CS - Consumer Super:**\r\n\r\nIn the same hierarchy we can try this:\r\n\r\n    List&lt;? super Shark&gt; sharks = new ArrayList&lt;&gt;();\r\n\r\nWhat and why you **can** add to this list?\r\n\r\n    sharks.add(new Shark());\r\n    sharks.add(new DeadHammerShark());\r\n    sharks.add(new HammerSkark());\r\n\r\nYou can add the above types of objects because anything below shark(A,B,C) will always be subtypes of anything above shark (X,Y,Z). Easy to understand. \r\n\r\nYou **cannot** add types above Shark, because **at runtime** the type of added object can be higher in hierarchy than the declared type of the list(X,Y,Z). This is not allowed.\r\n\r\nBut why you cannot read from this list?\r\n(I mean you can get an element out of it, but you cannot assign it to anything other than Object o):\r\n\r\n    Object o;\r\n    o = sharks.get(2);// only assignment that works\r\n        \r\n    Animal s;\r\n    s = sharks.get(2);//doen&#39;t work\r\n\r\nAt runtime, the type of list can be any type above A: X, Y, Z, ...\r\nThe compiler can compile your assignment statement (which seems correct) but, **at runtime** the type of s (Animal) can be lower in hierarchy than the declared type of the list(which could be Creature, or higher). This is not allowed.\r\n\r\n**To sum up**\r\n\r\n**We use `&lt;? super T&gt;` to add objects of types equal or below `T` to the `List`.** We cannot read from \r\nit.&lt;br&gt;\r\n**We use `&lt;? extends T&gt;` to read objects of types equal or below `T` from list.** We cannot add element to it.","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>let's assume this hierarchy:</p>\n\n<pre><code>class Creature{}// X\nclass Animal extends Creature{}// Y\nclass Fish extends Animal{}// Z\nclass Shark extends Fish{}// A\nclass HammerSkark extends Shark{}// B\nclass DeadHammerShark extends HammerSkark{}// C\n</code></pre>\n\n<p><strong>Let's clarify PE - Producer Extends:</strong></p>\n\n<pre><code>List&lt;? extends Shark&gt; sharks = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Why you cannot add objects that extend \"Shark\" in this list? like:</p>\n\n<pre><code>sharks.add(new HammerShark());//will result in compilation error\n</code></pre>\n\n<p>Since you have a list that can be of type A, B or C <strong>at runtime</strong>, you cannot add any object of type A, B or C in it because you can end up with a combination that is not allowed in java. <br>In practice, the compiler can indeed see at compiletime that you add a B:</p>\n\n<pre><code>sharks.add(new HammerShark());\n</code></pre>\n\n<p>...but it has no way to tell if at runtime, your B will be a subtype or supertype of the list type. At runtime the list type can be any of the types A, B, C. So you cannot end up adding HammerSkark (super type) in a list of DeadHammerShark for example.</p>\n\n<p>*You will say: \"OK, but why can't I add HammerSkark in it since it is the smallest type?\". \nAnswer: It is the smallest <strong>you</strong> know. But HammerSkark can be extended too by somebody else and you end up in the same scenario.</p>\n\n<p><strong>Let's clarify CS - Consumer Super:</strong></p>\n\n<p>In the same hierarchy we can try this:</p>\n\n<pre><code>List&lt;? super Shark&gt; sharks = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>What and why you <strong>can</strong> add to this list?</p>\n\n<pre><code>sharks.add(new Shark());\nsharks.add(new DeadHammerShark());\nsharks.add(new HammerSkark());\n</code></pre>\n\n<p>You can add the above types of objects because anything below shark(A,B,C) will always be subtypes of anything above shark (X,Y,Z). Easy to understand. </p>\n\n<p>You <strong>cannot</strong> add types above Shark, because <strong>at runtime</strong> the type of added object can be higher in hierarchy than the declared type of the list(X,Y,Z). This is not allowed.</p>\n\n<p>But why you cannot read from this list?\n(I mean you can get an element out of it, but you cannot assign it to anything other than Object o):</p>\n\n<pre><code>Object o;\no = sharks.get(2);// only assignment that works\n\nAnimal s;\ns = sharks.get(2);//doen't work\n</code></pre>\n\n<p>At runtime, the type of list can be any type above A: X, Y, Z, ...\nThe compiler can compile your assignment statement (which seems correct) but, <strong>at runtime</strong> the type of s (Animal) can be lower in hierarchy than the declared type of the list(which could be Creature, or higher). This is not allowed.</p>\n\n<p><strong>To sum up</strong></p>\n\n<p><strong>We use <code>&lt;? super T&gt;</code> to add objects of types equal or below <code>T</code> to the <code>List</code>.</strong> We cannot read from \nit.<br>\n<strong>We use <code>&lt;? extends T&gt;</code> to read objects of types equal or below <code>T</code> from list.</strong> We cannot add element to it.</p>\n"},{"tags":[],"owner":{"account_id":7284149,"reputation":673,"user_id":5552809,"display_name":"contrapost"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542721661,"creation_date":1542721661,"answer_id":53394456,"question_id":2723397,"body_markdown":"Using real life example (with some simplifications):\r\n\r\n1. Imagine a freight train with freight cars as analogy to a list.\r\n2. You can **put** a cargo in a freight car if the cargo has **the same or smaller size** than the freight car = `&lt;? super FreightCarSize&gt;`\r\n3. You can **unload** a cargo from a freight car if you have **enough place** (more than the size of the cargo) in your depot = `&lt;? extends DepotSize&gt;`","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>Using real life example (with some simplifications):</p>\n\n<ol>\n<li>Imagine a freight train with freight cars as analogy to a list.</li>\n<li>You can <strong>put</strong> a cargo in a freight car if the cargo has <strong>the same or smaller size</strong> than the freight car = <code>&lt;? super FreightCarSize&gt;</code></li>\n<li>You can <strong>unload</strong> a cargo from a freight car if you have <strong>enough place</strong> (more than the size of the cargo) in your depot = <code>&lt;? extends DepotSize&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549553617,"creation_date":1549553617,"answer_id":54576828,"question_id":2723397,"body_markdown":"**Covariance**: accept subtypes&lt;br&gt;\r\n**Contravariance**: accept supertypes\r\n\r\nCovariant types are read-only, while contravariant types are write-only.","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p><strong>Covariance</strong>: accept subtypes<br>\n<strong>Contravariance</strong>: accept supertypes</p>\n\n<p>Covariant types are read-only, while contravariant types are write-only.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1579726622,"creation_date":1579726622,"answer_id":59868129,"question_id":2723397,"body_markdown":"This is the clearest, simplest way for me think of extends vs. super:\r\n\r\n- `extends` is for **reading**\r\n\r\n- `super` is for **writing**\r\n\r\nI find &quot;PECS&quot; to be a non-obvious way to think of things regarding who is the &quot;producer&quot; and who is the &quot;consumer&quot;. &quot;PECS&quot; is defined from the perspective of the _data collection itself_ – the collection &quot;consumes&quot; if objects are being written _to_ it (it is consuming objects from calling code), and it &quot;produces&quot; if objects are being read _from_ it (it is producing objects to some calling code). This is counter to how everything else is named though. Standard Java APIs are named from the perspective of the calling code, not the collection itself. For example, a collection-centric view of [java.util.List](https://docs.oracle.com/javase/9/docs/api/java/util/List.html) should have a method named &quot;receive()&quot; instead of &quot;add()&quot; – after all, the calling code _adds_ the element, but the list itself _receives_ the element.\r\n\r\nI think it&#39;s more intuitive, natural and consistent to think of things from the perspective of the code that interacts with the collection – does the code &quot;read from&quot; or &quot;write to&quot; the collection? Following that, any code _writing to_ the collection would be the &quot;producer&quot;, and any code _reading from_ the collection would be the &quot;consumer&quot;.\r\n\r\n","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>This is the clearest, simplest way for me think of extends vs. super:</p>\n\n<ul>\n<li><p><code>extends</code> is for <strong>reading</strong></p></li>\n<li><p><code>super</code> is for <strong>writing</strong></p></li>\n</ul>\n\n<p>I find \"PECS\" to be a non-obvious way to think of things regarding who is the \"producer\" and who is the \"consumer\". \"PECS\" is defined from the perspective of the <em>data collection itself</em> – the collection \"consumes\" if objects are being written <em>to</em> it (it is consuming objects from calling code), and it \"produces\" if objects are being read <em>from</em> it (it is producing objects to some calling code). This is counter to how everything else is named though. Standard Java APIs are named from the perspective of the calling code, not the collection itself. For example, a collection-centric view of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html\" rel=\"noreferrer\">java.util.List</a> should have a method named \"receive()\" instead of \"add()\" – after all, the calling code <em>adds</em> the element, but the list itself <em>receives</em> the element.</p>\n\n<p>I think it's more intuitive, natural and consistent to think of things from the perspective of the code that interacts with the collection – does the code \"read from\" or \"write to\" the collection? Following that, any code <em>writing to</em> the collection would be the \"producer\", and any code <em>reading from</em> the collection would be the \"consumer\".</p>\n"},{"tags":[],"owner":{"account_id":15396867,"reputation":294,"user_id":11107679,"display_name":"mouselabs"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1678328017,"creation_date":1587234658,"answer_id":61294213,"question_id":2723397,"body_markdown":"What helped me was looking at it using ordinary assignment as an analogy. \r\n\r\nThe PECS &quot;rule&quot; just ensures that the following is legal:\r\n\r\n - Consumer: whatever `?` is, it can legally *refer to* `T` \r\n - Producer: whatever `?` is, it can legally be *referred to by* `T`\r\n\r\nThe typical pairing along the lines of `List&lt;? super T&gt; consumer`, `List&lt;? extends T&gt; producer` is simply ensuring that the compiler can enforce the standard &quot;IS-A&quot; inheritance and assignment rules.\r\n\r\nConsider the following toy code:\r\n\r\n```java\r\n// copies the elements of &#39;producer&#39; into &#39;consumer&#39;\r\nstatic &lt;T&gt; void copy(List&lt;? super T&gt; consumer, List&lt;? extends T&gt; producer) {\r\n   for(T t : producer)\r\n       consumer.add(t);\r\n}\r\n```\r\n\r\nThe `consumer` type is the reference - the &quot;left hand side&quot; of the assignment - and it must be `T` or a super-type of `T` - `&lt;? super T&gt;` ensures that. \r\n\r\nFor `producer` the concern is the same it&#39;s just inverted: the `producer` type is the &quot;referent&quot; - the &quot;right hand side&quot; of the assignment - and it must be `T` or a sub-type of `T` - `&lt;? extends T&gt;` ensures that.","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>What helped me was looking at it using ordinary assignment as an analogy.</p>\n<p>The PECS &quot;rule&quot; just ensures that the following is legal:</p>\n<ul>\n<li>Consumer: whatever <code>?</code> is, it can legally <em>refer to</em> <code>T</code></li>\n<li>Producer: whatever <code>?</code> is, it can legally be <em>referred to by</em> <code>T</code></li>\n</ul>\n<p>The typical pairing along the lines of <code>List&lt;? super T&gt; consumer</code>, <code>List&lt;? extends T&gt; producer</code> is simply ensuring that the compiler can enforce the standard &quot;IS-A&quot; inheritance and assignment rules.</p>\n<p>Consider the following toy code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// copies the elements of 'producer' into 'consumer'\nstatic &lt;T&gt; void copy(List&lt;? super T&gt; consumer, List&lt;? extends T&gt; producer) {\n   for(T t : producer)\n       consumer.add(t);\n}\n</code></pre>\n<p>The <code>consumer</code> type is the reference - the &quot;left hand side&quot; of the assignment - and it must be <code>T</code> or a super-type of <code>T</code> - <code>&lt;? super T&gt;</code> ensures that.</p>\n<p>For <code>producer</code> the concern is the same it's just inverted: the <code>producer</code> type is the &quot;referent&quot; - the &quot;right hand side&quot; of the assignment - and it must be <code>T</code> or a sub-type of <code>T</code> - <code>&lt;? extends T&gt;</code> ensures that.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1664435195,"creation_date":1591181737,"answer_id":62171149,"question_id":2723397,"body_markdown":"**PECS (Producer extends and Consumer super)**\r\n\r\n[\\[Covariance and contravariance\\]][1]\r\n\r\n\r\nLets take a look at example\r\n\r\n``` Java\r\npublic class A { }\r\n//B is A\r\npublic class B extends A { }\r\n//C is A\r\npublic class C extends A { }\r\n```\r\n\r\nGenerics allows you to work with Types dynamically in a safe way\r\n\r\n``` Java\r\n//ListA\r\nList&lt;A&gt; listA = new ArrayList&lt;A&gt;();\r\n\r\n//add\r\nlistA.add(new A());\r\nlistA.add(new B());\r\nlistA.add(new C());\r\n\r\n//get\r\nA a0 = listA.get(0);\r\nA a1 = listA.get(1);\r\nA a2 = listA.get(2);\r\n```\r\n\r\n``` Java\r\n//ListB\r\nList&lt;B&gt; listB = new ArrayList&lt;B&gt;();\r\n\r\n//add\r\nlistB.add(new B());\r\n\r\n//get\r\nB b0 = listB.get(0);\r\n```\r\n&lt;img src=&quot;https://i.stack.imgur.com/D4RwI.png&quot; height=&quot;150&quot;&gt;\r\n\r\nProblem\r\n-------\r\nSince Java&#39;s Collection is a reference type as a result we have next issues:\r\n\r\n**Problem #1**\r\n\r\n``` Java\r\n//not compiled\r\n//danger of **adding** non-B objects using listA reference\r\nlistA = listB;\r\n```\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/WyHs7.png&quot; height=&quot;150&quot;&gt;\r\n\r\n*Swift&#39;s generic does not have such problem because Collection is `Value type`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2] therefore a new collection is created\r\n\r\n**Problem #2**\r\n``` Java\r\n//not compiled\r\n//danger of **getting** non-B objects using listB reference\r\nlistB = listA;\r\n```\r\n\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/nTEXJ.png&quot; height=&quot;150&quot;&gt;\r\n\r\nThe solution - Generic Wildcards\r\n--------------------------------\r\n\r\nWildcard is a reference type feature and it can not be instantiated directly\r\n\r\n**Solution #1**\r\n`&lt;? super A&gt;` aka lower bound aka contravariance aka consumers guarantees that it is operates by A and all superclasses, that is why it is safe to **add**\r\n\r\n``` Java\r\nList&lt;? super A&gt; listSuperA;\r\nlistSuperA = listA;\r\nlistSuperA = new ArrayList&lt;Object&gt;();\r\n\r\n//add\r\nlistSuperA.add(new A());\r\nlistSuperA.add(new B());\r\n\r\n//get\r\nObject o0 = listSuperA.get(0);\r\n```\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/jtcBs.png&quot; height=&quot;150&quot;&gt;\r\n\r\n**Solution #2**\r\n\r\n`&lt;? extends A&gt;` aka upper bound aka covariance aka producers guarantees that it is operates by A and all subclasses, that is why it is safe to **get** and cast\r\n\r\n``` Java\r\nList&lt;? extends A&gt; listExtendsA;\r\nlistExtendsA = listA;\r\nlistExtendsA = listB;\r\n\r\n//get\r\nA a0 = listExtendsA.get(0);\r\n```\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Y33aY.png&quot; height=&quot;150&quot;&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62752867/4770877\r\n  [2]: https://stackoverflow.com/a/59219141/4770877","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p><strong>PECS (Producer extends and Consumer super)</strong></p>\n<p><a href=\"https://stackoverflow.com/a/62752867/4770877\">[Covariance and contravariance]</a></p>\n<p>Lets take a look at example</p>\n<pre><code>public class A { }\n//B is A\npublic class B extends A { }\n//C is A\npublic class C extends A { }\n</code></pre>\n<p>Generics allows you to work with Types dynamically in a safe way</p>\n<pre><code>//ListA\nList&lt;A&gt; listA = new ArrayList&lt;A&gt;();\n\n//add\nlistA.add(new A());\nlistA.add(new B());\nlistA.add(new C());\n\n//get\nA a0 = listA.get(0);\nA a1 = listA.get(1);\nA a2 = listA.get(2);\n</code></pre>\n<pre><code>//ListB\nList&lt;B&gt; listB = new ArrayList&lt;B&gt;();\n\n//add\nlistB.add(new B());\n\n//get\nB b0 = listB.get(0);\n</code></pre>\n<img src=\"https://i.stack.imgur.com/D4RwI.png\" height=\"150\">\n<h2>Problem</h2>\n<p>Since Java's Collection is a reference type as a result we have next issues:</p>\n<p><strong>Problem #1</strong></p>\n<pre><code>//not compiled\n//danger of **adding** non-B objects using listA reference\nlistA = listB;\n</code></pre>\n<img src=\"https://i.stack.imgur.com/WyHs7.png\" height=\"150\">\n<p>*Swift's generic does not have such problem because Collection is <code>Value type</code><a href=\"https://stackoverflow.com/a/59219141/4770877\"><sup>[About]</sup></a> therefore a new collection is created</p>\n<p><strong>Problem #2</strong></p>\n<pre><code>//not compiled\n//danger of **getting** non-B objects using listB reference\nlistB = listA;\n</code></pre>\n<img src=\"https://i.stack.imgur.com/nTEXJ.png\" height=\"150\">\n<h2>The solution - Generic Wildcards</h2>\n<p>Wildcard is a reference type feature and it can not be instantiated directly</p>\n<p><strong>Solution #1</strong>\n<code>&lt;? super A&gt;</code> aka lower bound aka contravariance aka consumers guarantees that it is operates by A and all superclasses, that is why it is safe to <strong>add</strong></p>\n<pre><code>List&lt;? super A&gt; listSuperA;\nlistSuperA = listA;\nlistSuperA = new ArrayList&lt;Object&gt;();\n\n//add\nlistSuperA.add(new A());\nlistSuperA.add(new B());\n\n//get\nObject o0 = listSuperA.get(0);\n</code></pre>\n<img src=\"https://i.stack.imgur.com/jtcBs.png\" height=\"150\">\n<p><strong>Solution #2</strong></p>\n<p><code>&lt;? extends A&gt;</code> aka upper bound aka covariance aka producers guarantees that it is operates by A and all subclasses, that is why it is safe to <strong>get</strong> and cast</p>\n<pre><code>List&lt;? extends A&gt; listExtendsA;\nlistExtendsA = listA;\nlistExtendsA = listB;\n\n//get\nA a0 = listExtendsA.get(0);\n</code></pre>\n<img src=\"https://i.stack.imgur.com/Y33aY.png\" height=\"150\">\n"},{"tags":[],"owner":{"account_id":13889174,"reputation":2884,"user_id":10027592,"display_name":"starriet"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1605680490,"creation_date":1605680490,"answer_id":64888058,"question_id":2723397,"body_markdown":"let’s try visualizing this concept.\r\n\r\n`&lt;? super SomeType&gt;` is an “undefined(yet)” type, but that undefined type **should be a super**class of the ‘SomeType’ class.\r\n\r\nThe same goes for `&lt;? extends SomeType&gt;`. It’s a type that **should extend** the ‘SomeType’ class (it should be a child class of the ‘SomeType’ class).\r\n\r\nIf we consider the concept of &#39;class inheritance&#39; in a Venn diagram, an example would be like this:\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMammal class **extends** Animal class (Animal class is a **super**class of Mammal class).\r\n\r\nCat/Dog class **extends** Mammal class (Mammal class is a **super**class of Cat/Dog class).\r\n\r\n\r\n\r\n\r\nThen, let’s think about the ‘circles’ in the above diagram as a ‘box’ that has a physical volume.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou CAN’T put a bigger box into a smaller one.\r\n\r\nYou can ONLY put a smaller box into a bigger one.\r\n\r\n\r\nWhen you say `&lt;? super SomeType&gt;`, you wanna describe a ‘box’ that is the same size or **bigger** than the ‘SomeType’ box.\r\n\r\nIf you say `&lt;? extends SomeType&gt;`, then you wanna describe a ‘box’ that is the same size or **smaller** than the ‘SomeType’ box.\r\n\r\n\r\n *so what is PECS anyway?*\r\n\r\nAn example of a ‘Producer’ is a List which we only read from.\r\n\r\nAn example of a ‘Consumer’ is a List which we only write into.\r\n\r\n\r\n*Just keep in mind this:*\r\n\r\n - We ‘read’ from a ‘producer’, and take that stuff into our own box.\r\n   \r\n - And we ‘write’ our own box into a ‘consumer’.\r\n\r\n\r\n\r\n\r\nSo, we need to read(take) something from a ‘producer’ **and put that into our ‘box’.** This means that any boxes taken from the producer should **NOT** be bigger than our ‘box’. That’s why “**P**roducer **E**xtends.”\r\n\r\n\r\n**“Extends” means a smaller box**(smaller circle in the Venn diagram above). The boxes of a producer should be smaller than our own box, because we are gonna take those boxes from the producer and put them into our own box. We can’t put anything bigger than our box!\r\n\r\n\r\nAlso, we need to write(put) **our own ‘box’ into** a ‘consumer’. This means that the boxes of the consumer should **NOT** be smaller than our own box. That’s why “**C**onsumer **S**uper.”\r\n\r\n\r\n**“Super” means a bigger box**(bigger circle in the Venn diagram above). If we want to put our own boxes into a consumer, the boxes of the consumer should be bigger than our box!\r\n\r\nNow we can easily understand this example:\r\n\r\n```\r\npublic class Collections { \r\n  public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\r\n      for (int i = 0; i &lt; src.size(); i++) \r\n        dest.set(i, src.get(i)); \r\n  } \r\n}\r\n```\r\n\r\nIn the above example, we want to read(take) something from `src` and write(put) them into `dest`. So the `src` is a “Producer” and its “boxes” should be smaller(more specific) than some type `T`.\r\n\r\nVice versa, the `dest` is a “Consumer” and its “boxes” should be bigger(more general) than some type `T`.\r\n\r\nIf the “boxes” of the `src` were bigger than that of the `dest`, we couldn’t put those big boxes into the smaller boxes the `dest` has.\r\n\r\nIf anyone reads this, I hope it helps you better understand\r\n “**P**roducer **E**xtends, **C**onsumer **S**uper.”\r\n\r\nHappy coding! :)\r\n\r\n  [1]: https://i.stack.imgur.com/rneiP.png\r\n  [2]: https://i.stack.imgur.com/mpxnl.png","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>let’s try visualizing this concept.</p>\n<p><code>&lt;? super SomeType&gt;</code> is an “undefined(yet)” type, but that undefined type <strong>should be a super</strong>class of the ‘SomeType’ class.</p>\n<p>The same goes for <code>&lt;? extends SomeType&gt;</code>. It’s a type that <strong>should extend</strong> the ‘SomeType’ class (it should be a child class of the ‘SomeType’ class).</p>\n<p>If we consider the concept of 'class inheritance' in a Venn diagram, an example would be like this:</p>\n<p><a href=\"https://i.stack.imgur.com/rneiP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rneiP.png\" alt=\"enter image description here\" /></a></p>\n<p>Mammal class <strong>extends</strong> Animal class (Animal class is a <strong>super</strong>class of Mammal class).</p>\n<p>Cat/Dog class <strong>extends</strong> Mammal class (Mammal class is a <strong>super</strong>class of Cat/Dog class).</p>\n<p>Then, let’s think about the ‘circles’ in the above diagram as a ‘box’ that has a physical volume.</p>\n<p><a href=\"https://i.stack.imgur.com/mpxnl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mpxnl.png\" alt=\"enter image description here\" /></a></p>\n<p>You CAN’T put a bigger box into a smaller one.</p>\n<p>You can ONLY put a smaller box into a bigger one.</p>\n<p>When you say <code>&lt;? super SomeType&gt;</code>, you wanna describe a ‘box’ that is the same size or <strong>bigger</strong> than the ‘SomeType’ box.</p>\n<p>If you say <code>&lt;? extends SomeType&gt;</code>, then you wanna describe a ‘box’ that is the same size or <strong>smaller</strong> than the ‘SomeType’ box.</p>\n<p><em>so what is PECS anyway?</em></p>\n<p>An example of a ‘Producer’ is a List which we only read from.</p>\n<p>An example of a ‘Consumer’ is a List which we only write into.</p>\n<p><em>Just keep in mind this:</em></p>\n<ul>\n<li><p>We ‘read’ from a ‘producer’, and take that stuff into our own box.</p>\n</li>\n<li><p>And we ‘write’ our own box into a ‘consumer’.</p>\n</li>\n</ul>\n<p>So, we need to read(take) something from a ‘producer’ <strong>and put that into our ‘box’.</strong> This means that any boxes taken from the producer should <strong>NOT</strong> be bigger than our ‘box’. That’s why “<strong>P</strong>roducer <strong>E</strong>xtends.”</p>\n<p><strong>“Extends” means a smaller box</strong>(smaller circle in the Venn diagram above). The boxes of a producer should be smaller than our own box, because we are gonna take those boxes from the producer and put them into our own box. We can’t put anything bigger than our box!</p>\n<p>Also, we need to write(put) <strong>our own ‘box’ into</strong> a ‘consumer’. This means that the boxes of the consumer should <strong>NOT</strong> be smaller than our own box. That’s why “<strong>C</strong>onsumer <strong>S</strong>uper.”</p>\n<p><strong>“Super” means a bigger box</strong>(bigger circle in the Venn diagram above). If we want to put our own boxes into a consumer, the boxes of the consumer should be bigger than our box!</p>\n<p>Now we can easily understand this example:</p>\n<pre><code>public class Collections { \n  public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\n      for (int i = 0; i &lt; src.size(); i++) \n        dest.set(i, src.get(i)); \n  } \n}\n</code></pre>\n<p>In the above example, we want to read(take) something from <code>src</code> and write(put) them into <code>dest</code>. So the <code>src</code> is a “Producer” and its “boxes” should be smaller(more specific) than some type <code>T</code>.</p>\n<p>Vice versa, the <code>dest</code> is a “Consumer” and its “boxes” should be bigger(more general) than some type <code>T</code>.</p>\n<p>If the “boxes” of the <code>src</code> were bigger than that of the <code>dest</code>, we couldn’t put those big boxes into the smaller boxes the <code>dest</code> has.</p>\n<p>If anyone reads this, I hope it helps you better understand\n“<strong>P</strong>roducer <strong>E</strong>xtends, <strong>C</strong>onsumer <strong>S</strong>uper.”</p>\n<p>Happy coding! :)</p>\n"},{"tags":[],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648884872,"creation_date":1648822715,"answer_id":71708416,"question_id":2723397,"body_markdown":"PECS: Producer extends and Consumer super\r\n-----------------------------------------\r\n\r\nPrerequisites for understanding:\r\n\r\n - Generics and generic wildcards\r\n- Polymorphism, Subtyping and Supertyping\r\n\r\n\r\n----------\r\n\r\n\r\nLets say we have a type which takes a generic type parameter T, for example `List&lt;T&gt;`. When we write code it can be potentially beneficial to also allow subtypes or supertypes of our generic type parameter T. This relaxes the restraints for the user of the API and can make the code more flexible.\r\n\r\nLet first see what we gain relaxing these restrictions. Lets say we have the following 3 classes:\r\n\r\n    class BaseAnimal{};\r\n    \r\n    class Animal extends BaseAnimal{};\r\n    \r\n    class Duck extends Animal{};\r\n\r\nand we are building a public method which takes a `list&lt;Animal&gt;`\r\n\r\n 1. If we use a super `List&lt;? super Animal&gt;` instead of `List&lt;Animal&gt;` we now can pass in more lists to satisfy the requirement of our method. We now can pass in either `List&lt;Animal&gt;` or `List&lt;BaseAnimal&gt;` even `List&lt;Object&gt;`\r\n2. If we use an extends `List&lt;? extends Animal&gt;` instead of `List&lt;Animal&gt;` we now can pass in more lists to satisfy the requirement of our method. We now can pass in either `List&lt;Animal&gt;` or `List&lt;Duck&gt;`\r\n\r\nHowever this poses the following 2 restrictions:\r\n\r\n 1. If we use a super type like `List&lt;? super Animal&gt;` we don&#39;t know the exact type of `List&lt;T&gt;` it will be. It could be either a list of `List&lt;Animal&gt;` or `List&lt;BaseAnimal&gt;` or `List&lt;Object&gt;`. We have no way of knowing. This means we can never get a value out of this List because we do not know what the type will be. However we can put any data type which is `Animal` or extends it into the `List`. Because we can only put data into the  `List` it is called a **consumer** of data. \r\n2. If we use an extends `List&lt;? extends Animal&gt;` instead of `List&lt;Animal&gt;`. We also don&#39;t know what the exact type is. It can either be `List&lt;Animal&gt;` or `List&lt;Duck&gt;`. We can&#39;t add something to the `List` now because we can never certainly know what the type is. However we can pull something out because we always know that anything which comes out of the list is a subtype of `Animal`. Because we can only pull data out of the `List` is it called a **producer** of data.\r\n\r\n\r\nHere is a simple program to illustrate the relaxation of the type restrictions:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Generics {\r\n        public static void main(String[] args) {\r\n    \r\n            Generics generics = new Generics();\r\n    \r\n            generics.producerExtends(new ArrayList&lt;Duck&gt;());\r\n            generics.producerExtends(new ArrayList&lt;Animal&gt;());\r\n    \r\n            generics.consumerSuper(new ArrayList&lt;Object&gt;());\r\n            generics.consumerSuper(new ArrayList&lt;Animal&gt;());\r\n    \r\n        }\r\n    \r\n        //  ? extends T   is an upper bound\r\n        public void producerExtends (List&lt;? extends Animal&gt; list) {\r\n    \r\n            // Following are illegal since we never know exactly what type the list will be\r\n            // list.add(new Duck());\r\n            // list.add(new Animal());\r\n            \r\n            // We can read from it since we are always getting an Animal or subclass from it\r\n            // However we can read them as an animal type, so this compiles fine\r\n            if (list.size() &gt; 0) {\r\n                Animal animal = list.get(0);\r\n            }\r\n        }\r\n    \r\n        // ? extends T   is a lower bound\r\n        public void consumerSuper (List&lt;? super Animal&gt; list) {\r\n            // It will be either a list of Animal or a superclass of it\r\n            // Therefore we can add any type which extends animals\r\n            list.add(new Duck());\r\n            list.add(new Animal());\r\n    \r\n            // Compiler won&#39;t allow this it could potentially be a super type of Animal\r\n            // Animal animal = list.get(0);\r\n        }","title":"What is PECS (Producer Extends Consumer Super)?","body":"<h2>PECS: Producer extends and Consumer super</h2>\n<p>Prerequisites for understanding:</p>\n<ul>\n<li>Generics and generic wildcards</li>\n<li>Polymorphism, Subtyping and Supertyping</li>\n</ul>\n<hr />\n<p>Lets say we have a type which takes a generic type parameter T, for example <code>List&lt;T&gt;</code>. When we write code it can be potentially beneficial to also allow subtypes or supertypes of our generic type parameter T. This relaxes the restraints for the user of the API and can make the code more flexible.</p>\n<p>Let first see what we gain relaxing these restrictions. Lets say we have the following 3 classes:</p>\n<pre><code>class BaseAnimal{};\n\nclass Animal extends BaseAnimal{};\n\nclass Duck extends Animal{};\n</code></pre>\n<p>and we are building a public method which takes a <code>list&lt;Animal&gt;</code></p>\n<ol>\n<li>If we use a super <code>List&lt;? super Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code> we now can pass in more lists to satisfy the requirement of our method. We now can pass in either <code>List&lt;Animal&gt;</code> or <code>List&lt;BaseAnimal&gt;</code> even <code>List&lt;Object&gt;</code></li>\n<li>If we use an extends <code>List&lt;? extends Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code> we now can pass in more lists to satisfy the requirement of our method. We now can pass in either <code>List&lt;Animal&gt;</code> or <code>List&lt;Duck&gt;</code></li>\n</ol>\n<p>However this poses the following 2 restrictions:</p>\n<ol>\n<li>If we use a super type like <code>List&lt;? super Animal&gt;</code> we don't know the exact type of <code>List&lt;T&gt;</code> it will be. It could be either a list of <code>List&lt;Animal&gt;</code> or <code>List&lt;BaseAnimal&gt;</code> or <code>List&lt;Object&gt;</code>. We have no way of knowing. This means we can never get a value out of this List because we do not know what the type will be. However we can put any data type which is <code>Animal</code> or extends it into the <code>List</code>. Because we can only put data into the  <code>List</code> it is called a <strong>consumer</strong> of data.</li>\n<li>If we use an extends <code>List&lt;? extends Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code>. We also don't know what the exact type is. It can either be <code>List&lt;Animal&gt;</code> or <code>List&lt;Duck&gt;</code>. We can't add something to the <code>List</code> now because we can never certainly know what the type is. However we can pull something out because we always know that anything which comes out of the list is a subtype of <code>Animal</code>. Because we can only pull data out of the <code>List</code> is it called a <strong>producer</strong> of data.</li>\n</ol>\n<p>Here is a simple program to illustrate the relaxation of the type restrictions:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Generics {\n    public static void main(String[] args) {\n\n        Generics generics = new Generics();\n\n        generics.producerExtends(new ArrayList&lt;Duck&gt;());\n        generics.producerExtends(new ArrayList&lt;Animal&gt;());\n\n        generics.consumerSuper(new ArrayList&lt;Object&gt;());\n        generics.consumerSuper(new ArrayList&lt;Animal&gt;());\n\n    }\n\n    //  ? extends T   is an upper bound\n    public void producerExtends (List&lt;? extends Animal&gt; list) {\n\n        // Following are illegal since we never know exactly what type the list will be\n        // list.add(new Duck());\n        // list.add(new Animal());\n        \n        // We can read from it since we are always getting an Animal or subclass from it\n        // However we can read them as an animal type, so this compiles fine\n        if (list.size() &gt; 0) {\n            Animal animal = list.get(0);\n        }\n    }\n\n    // ? extends T   is a lower bound\n    public void consumerSuper (List&lt;? super Animal&gt; list) {\n        // It will be either a list of Animal or a superclass of it\n        // Therefore we can add any type which extends animals\n        list.add(new Duck());\n        list.add(new Animal());\n\n        // Compiler won't allow this it could potentially be a super type of Animal\n        // Animal animal = list.get(0);\n    }\n</code></pre>\n"}],"owner":{"account_id":45413,"reputation":28777,"user_id":133830,"accept_rate":87,"display_name":"peakit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164518,"favorite_count":0,"down_vote_count":2,"up_vote_count":900,"accepted_answer_id":2723538,"answer_count":16,"score":898,"last_activity_date":1678328017,"creation_date":1272388600,"question_id":2723397,"body_markdown":"I came across PECS (short for *Producer `extends` and Consumer `super`*) while reading up on generics. \r\n\r\nCan someone explain to me how to use PECS to resolve confusion between `extends` and `super`?","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>I came across PECS (short for <em>Producer <code>extends</code> and Consumer <code>super</code></em>) while reading up on generics. </p>\n\n<p>Can someone explain to me how to use PECS to resolve confusion between <code>extends</code> and <code>super</code>?</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":20626554,"reputation":310,"user_id":16202819,"display_name":"ocean moist"},"score":1,"creation_date":1678241276,"post_id":75668697,"comment_id":133494012,"body_markdown":"there is a semi colon in the original echo&#39;d env variable. is this intentional?","body":"there is a semi colon in the original echo&#39;d env variable. is this intentional?"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1678263909,"post_id":75668697,"comment_id":133497108,"body_markdown":"Why are you using VSCODE for java? You should try intellij instead","body":"Why are you using VSCODE for java? You should try intellij instead"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678327700,"creation_date":1678327700,"answer_id":75679832,"question_id":75668697,"body_markdown":"&gt; The JAVA_HOME environment variable is not defined correctly, \r\n&gt; \r\n&gt; this environment variable is needed to run this program. \r\n\r\nThe error message has reminded environmental variable `JAVA_HOME` incorrectly, please check the settings of *JAVA_HOME* in the system and user environment variables. Confirm that setting the correct *JAVA_HOME* environment variable and restarting VSCODE.\r\n\r\nIn addition, you can use the command to check whether you can succeed in the external terminal, which shows that it is not the problem of VSCODE.\r\n\r\n\r\nOr you can manually set the correct Javhom variable with `set JAVA_HOME=&lt;path\\to\\JDK&gt;`.\r\n\r\n","title":"Create maven project in Visual Studio Code (VScode) failing due to JAVA_HOME","body":"<blockquote>\n<p>The JAVA_HOME environment variable is not defined correctly,</p>\n<p>this environment variable is needed to run this program.</p>\n</blockquote>\n<p>The error message has reminded environmental variable <code>JAVA_HOME</code> incorrectly, please check the settings of <em>JAVA_HOME</em> in the system and user environment variables. Confirm that setting the correct <em>JAVA_HOME</em> environment variable and restarting VSCODE.</p>\n<p>In addition, you can use the command to check whether you can succeed in the external terminal, which shows that it is not the problem of VSCODE.</p>\n<p>Or you can manually set the correct Javhom variable with <code>set JAVA_HOME=&lt;path\\to\\JDK&gt;</code>.</p>\n"}],"owner":{"account_id":4070056,"reputation":40351,"user_id":3626371,"display_name":"KavinduWije"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678327700,"creation_date":1678239228,"question_id":75668697,"body_markdown":"I&#39;m using windows OS and installed VScode version 1.76.0.\r\n\r\n\r\nWhen I select create java project with maven then I&#39;m getting below error. \r\n\r\nI already set the JAVA_HOME in my environment variables correctly. \r\n\r\nI&#39;m using **Maven for Java** extension in VScode as well. \r\n\r\nI herewith pasted the VScode console log as shows below. \r\n\r\n```\r\n*&#160; Executing task: &quot;mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DarchetypeArtifactId=&quot;maven-archetype-quickstart&quot; -DarchetypeGroupId=&quot;org.apache.maven.archetypes&quot; -DarchetypeVersion=&quot;1.0&quot; -DgroupId=&quot;com.helloman&quot; -DartifactId=&quot;hello&quot;&quot;&#160;\r\n\r\nThe JAVA_HOME environment variable is not defined correctly,&#160;\r\nthis environment variable is needed to run this program.&#160;\r\n\r\n*&#160; The terminal process &quot;cmd.exe /c &quot;mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DarchetypeArtifactId=&quot;maven-archetype-quickstart&quot; -DarchetypeGroupId=&quot;org.apache.maven.archetypes&quot; -DarchetypeVersion=&quot;1.0&quot; -DgroupId=&quot;com.helloman&quot; -DartifactId=&quot;hello&quot;&quot;&quot; terminated with exit code: 1.&#160;\r\n*&#160; Terminal will be reused by tasks, press any key to close it.\r\n```\r\n\r\nI tried with different archtypes also but got no success on that. \r\n\r\nIn windows CMD see JAVA home location by executing echo %JAVA_HOME% but without set JAVA_HOME in cmd manually the Maven is not identify the JAVA_HOME set in windows environment variables\r\n\r\nPlease refer to the below image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LjRRM.png","title":"Create maven project in Visual Studio Code (VScode) failing due to JAVA_HOME","body":"<p>I'm using windows OS and installed VScode version 1.76.0.</p>\n<p>When I select create java project with maven then I'm getting below error.</p>\n<p>I already set the JAVA_HOME in my environment variables correctly.</p>\n<p>I'm using <strong>Maven for Java</strong> extension in VScode as well.</p>\n<p>I herewith pasted the VScode console log as shows below.</p>\n<pre><code>*  Executing task: &quot;mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DarchetypeArtifactId=&quot;maven-archetype-quickstart&quot; -DarchetypeGroupId=&quot;org.apache.maven.archetypes&quot; -DarchetypeVersion=&quot;1.0&quot; -DgroupId=&quot;com.helloman&quot; -DartifactId=&quot;hello&quot;&quot; \n\nThe JAVA_HOME environment variable is not defined correctly, \nthis environment variable is needed to run this program. \n\n*  The terminal process &quot;cmd.exe /c &quot;mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DarchetypeArtifactId=&quot;maven-archetype-quickstart&quot; -DarchetypeGroupId=&quot;org.apache.maven.archetypes&quot; -DarchetypeVersion=&quot;1.0&quot; -DgroupId=&quot;com.helloman&quot; -DartifactId=&quot;hello&quot;&quot;&quot; terminated with exit code: 1. \n*  Terminal will be reused by tasks, press any key to close it.\n</code></pre>\n<p>I tried with different archtypes also but got no success on that.</p>\n<p>In windows CMD see JAVA home location by executing echo %JAVA_HOME% but without set JAVA_HOME in cmd manually the Maven is not identify the JAVA_HOME set in windows environment variables</p>\n<p>Please refer to the below image</p>\n<p><a href=\"https://i.stack.imgur.com/LjRRM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LjRRM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678227054,"creation_date":1678227054,"answer_id":75667673,"question_id":75667409,"body_markdown":"try with `onSaveInstanceState` method instead of creating &quot;dummy&quot; `Bundle`, saving `WebView`s state into it (in `onPause`) and then... doing nothing with this `Bundle` - it will be gc&#39;ed and state is lost (when `Fragment` gets destroyed and new instance will be created)\r\n\r\n\r\n    @Override\r\n    public void onSaveInstanceState(@NonNull Bundle outState) {\r\n        webView.saveState(outState);\r\n        super.onSaveInstanceState(outState);\r\n    }","title":"save webview state in fragment","body":"<p>try with <code>onSaveInstanceState</code> method instead of creating &quot;dummy&quot; <code>Bundle</code>, saving <code>WebView</code>s state into it (in <code>onPause</code>) and then... doing nothing with this <code>Bundle</code> - it will be gc'ed and state is lost (when <code>Fragment</code> gets destroyed and new instance will be created)</p>\n<pre><code>@Override\npublic void onSaveInstanceState(@NonNull Bundle outState) {\n    webView.saveState(outState);\n    super.onSaveInstanceState(outState);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678327115,"creation_date":1678237132,"answer_id":75668548,"question_id":75667409,"body_markdown":"You need to save the created bundle somewhere. Depending on the use case the place you store it may be different – the use case `saveState` is designed for is during activity recreation you put it in `onSaveInstanceState` and restore it in `onRestoreInstanceState`, as suggested in @snachmsm&#39;s answer.\r\n\r\nBut this won&#39;t help if you want to handle the case where the user navigates away and the fragment is removed from the back stack. For example, if you have a tabbed activity with multiple fragments. In that case, you may want to pass the bundle up to the activity to hold onto, and use the patterns described in https://developer.android.com/guide/fragments/communicate.\r\n\r\nFor example, you can define the view model like this:\r\n\r\n```kt\r\nclass WebViewModel : ViewModel() {\r\n    val webViewState = Bundle()\r\n}\r\n```\r\n\r\nAnd then share them between the activity and the fragment:\r\n\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n    private val viewModel: WebViewModel by viewModels()\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n    }\r\n}\r\n\r\nclass WebFragment : Fragment() {\r\n    private val viewModel: WebViewModel by activityViewModels()\r\n\r\n    override fun onCreateView(): View {\r\n        val webview = ... // inflate the webview\r\n        webview.restoreState(viewModel.webViewState)\r\n        return webview\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        webView.saveState(viewModel.webViewState)\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n\r\nIf you want to go further than that, to get the user back onto the same page even if the Activity finishes, as far as I can find there is no good way to do that. Since `Bundle` itself is not persistable, you cannot write it to disk without risking compatibility issues. It may work depending on the WebView implementation, as described in https://stackoverflow.com/questions/59469477/how-can-i-save-and-restore-android-webviews-webbackforwardlist, but be prepared to handle any errors if you try to do that.\r\n\r\nThere is also `copyBackForwardList()`, which allows you to get the `WebBackForwardList`, and all its public API data is persistable. However, there is no API to restore / set / inject that list back into WebView after recreation, so you&#39;ll have to resort to replaying the history by repeatedly calling `setUrl`, or use the [javascript History API](https://developer.mozilla.org/en-US/docs/Web/API/History/pushState).\r\n\r\nNone of these are particularly good options, so I would suggest looking into whether the &quot;restore&quot; requirements can be relaxed to only go back to the last (current) page on the stack rather than restoring the full history. Obviously not ideal, but it&#39;s a reasonable compromise if you are just embedding a webview for interactions with a few simple web pages rather than building your own browser.","title":"save webview state in fragment","body":"<p>You need to save the created bundle somewhere. Depending on the use case the place you store it may be different – the use case <code>saveState</code> is designed for is during activity recreation you put it in <code>onSaveInstanceState</code> and restore it in <code>onRestoreInstanceState</code>, as suggested in @snachmsm's answer.</p>\n<p>But this won't help if you want to handle the case where the user navigates away and the fragment is removed from the back stack. For example, if you have a tabbed activity with multiple fragments. In that case, you may want to pass the bundle up to the activity to hold onto, and use the patterns described in <a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/communicate</a>.</p>\n<p>For example, you can define the view model like this:</p>\n<pre><code>class WebViewModel : ViewModel() {\n    val webViewState = Bundle()\n}\n</code></pre>\n<p>And then share them between the activity and the fragment:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private val viewModel: WebViewModel by viewModels()\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n}\n\nclass WebFragment : Fragment() {\n    private val viewModel: WebViewModel by activityViewModels()\n\n    override fun onCreateView(): View {\n        val webview = ... // inflate the webview\n        webview.restoreState(viewModel.webViewState)\n        return webview\n    }\n\n    override fun onDestroyView() {\n        webView.saveState(viewModel.webViewState)\n    }\n}\n</code></pre>\n<hr />\n<p>If you want to go further than that, to get the user back onto the same page even if the Activity finishes, as far as I can find there is no good way to do that. Since <code>Bundle</code> itself is not persistable, you cannot write it to disk without risking compatibility issues. It may work depending on the WebView implementation, as described in <a href=\"https://stackoverflow.com/questions/59469477/how-can-i-save-and-restore-android-webviews-webbackforwardlist\">How can i save and restore android WebView&#39;s WebBackForwardList?</a>, but be prepared to handle any errors if you try to do that.</p>\n<p>There is also <code>copyBackForwardList()</code>, which allows you to get the <code>WebBackForwardList</code>, and all its public API data is persistable. However, there is no API to restore / set / inject that list back into WebView after recreation, so you'll have to resort to replaying the history by repeatedly calling <code>setUrl</code>, or use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\" rel=\"nofollow noreferrer\">javascript History API</a>.</p>\n<p>None of these are particularly good options, so I would suggest looking into whether the &quot;restore&quot; requirements can be relaxed to only go back to the last (current) page on the stack rather than restoring the full history. Obviously not ideal, but it's a reasonable compromise if you are just embedding a webview for interactions with a few simple web pages rather than building your own browser.</p>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678327115,"creation_date":1678225133,"question_id":75667409,"body_markdown":"I&#39;m basically using navigation component with graph.  I navigate from home fragment to web fragment when I open the url in a webview.  My issue is that I want to save the webview state when I leave web fragment, and when I come back, I want to show the saved instance instead of reloading the whole page, but what I have done so far is not working.  If anyone could help , I would appreciate it. Thank you \r\n\r\n\r\n * This is my code \r\n\r\n```\r\n\r\n public class TestFragment extends Fragment {\r\n\r\n    private WebView webView;\r\n    private Bundle webViewBundle;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.test_layout, container, false);\r\n        webView = v.findViewById(R.id.webView);\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.setWebViewClient(new MyWebViewClient());\r\n        if(webViewBundle != null){\r\n            webView.restoreState(webViewBundle);\r\n        } else {\r\n            assert getArguments() != null;\r\n            String url = getArguments().getString(&quot;url&quot;);\r\n            webView.loadUrl(url);\r\n        }\r\n        return v;\r\n    }\r\n\r\n    @Override\r\n    public void onViewStateRestored(@Nullable Bundle savedInstanceState) {\r\n        super.onViewStateRestored(savedInstanceState);\r\n        webView.restoreState(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        webViewBundle = new Bundle();\r\n        webView.saveState(webViewBundle);\r\n    }\r\n\r\n    class MyWebViewClient extends WebViewClient {\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            webView.loadUrl(url);\r\n            webView.saveState(webViewBundle);\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"save webview state in fragment","body":"<p>I'm basically using navigation component with graph.  I navigate from home fragment to web fragment when I open the url in a webview.  My issue is that I want to save the webview state when I leave web fragment, and when I come back, I want to show the saved instance instead of reloading the whole page, but what I have done so far is not working.  If anyone could help , I would appreciate it. Thank you</p>\n<ul>\n<li>This is my code</li>\n</ul>\n<pre><code>\n public class TestFragment extends Fragment {\n\n    private WebView webView;\n    private Bundle webViewBundle;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.test_layout, container, false);\n        webView = v.findViewById(R.id.webView);\n\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.setWebViewClient(new MyWebViewClient());\n        if(webViewBundle != null){\n            webView.restoreState(webViewBundle);\n        } else {\n            assert getArguments() != null;\n            String url = getArguments().getString(&quot;url&quot;);\n            webView.loadUrl(url);\n        }\n        return v;\n    }\n\n    @Override\n    public void onViewStateRestored(@Nullable Bundle savedInstanceState) {\n        super.onViewStateRestored(savedInstanceState);\n        webView.restoreState(savedInstanceState);\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        webViewBundle = new Bundle();\n        webView.saveState(webViewBundle);\n    }\n\n    class MyWebViewClient extends WebViewClient {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            webView.loadUrl(url);\n            webView.saveState(webViewBundle);\n            return true;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","kerberos","jaas"],"comments":[{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1678395398,"post_id":75676558,"comment_id":133529187,"body_markdown":"`krb5.conf` is the configuration of *any* Kerberos client (C, Java, etc) -- so that it knows how to contact the Kerberos service! Whereas your JAAS config is specific to *Java* authentication library in *your* specific Java app, but might cover any protocol (Kerberos, LDAP, basic login/pwd etc)","body":"<code>krb5.conf</code> is the configuration of <i>any</i> Kerberos client (C, Java, etc) -- so that it knows how to contact the Kerberos service! Whereas your JAAS config is specific to <i>Java</i> authentication library in <i>your</i> specific Java app, but might cover any protocol (Kerberos, LDAP, basic login/pwd etc)"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1678395573,"post_id":75676558,"comment_id":133529232,"body_markdown":"And a keytab file is just a (history of) encrypted password(s) for a specific account (a &quot;principal&quot; in Kerberos jargon)","body":"And a keytab file is just a (history of) encrypted password(s) for a specific account (a &quot;principal&quot; in Kerberos jargon)"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1678395690,"post_id":75676558,"comment_id":133529261,"body_markdown":"Note that env variable `KRB5_CONFIG` can be used to override the default location of the Kerberos client conf -- that default being `/etc/krb5.conf` on Linux and `%something%\\krb5.ini` on Windows","body":"Note that env variable <code>KRB5_CONFIG</code> can be used to override the default location of the Kerberos client conf -- that default being <code>&#47;etc&#47;krb5.conf</code> on Linux and <code>%something%\\krb5.ini</code> on Windows"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678326499,"creation_date":1678326499,"answer_id":75679741,"question_id":75676558,"body_markdown":"The first is specific config to only the Kafka client.\r\n\r\nThe second is a JVM wide property, which is carried through to any library you&#39;re using that needs Kerberos. Ideally, you pass this at `java -D` CLI argument, rather than via code `System.setProperty`","title":"Krb5.conf vs krb5.keytab in Kafka kerberos authentication","body":"<p>The first is specific config to only the Kafka client.</p>\n<p>The second is a JVM wide property, which is carried through to any library you're using that needs Kerberos. Ideally, you pass this at <code>java -D</code> CLI argument, rather than via code <code>System.setProperty</code></p>\n"}],"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75679741,"answer_count":1,"score":0,"last_activity_date":1678326618,"creation_date":1678297945,"question_id":75676558,"body_markdown":"We are connecting to a Kafka server that uses kerberos authentication and from my understanding I know that When using Kerberos, we can provide the credentials to the client application in two ways. Either in the form of a valid Kerberos ticket, stored in a ticket cache, or as a keytab file, which the application can use to obtain a Kerberos ticket.\r\n\r\nHere , I have keytab file . so , I have created a **JASS config** like below and have set that to kafkaConfig.\r\n\r\n\r\n```\r\nkerberosConfig = &quot;com.ibm.security.auth.module.Krb5LoginModule required &quot;\r\n\t\t\t\t+ &quot;useKeytab=\\&quot;&quot;\r\n\t\t\t\t+ keytabPath\r\n\t\t\t\t+ &quot;\\&quot; credsType=both  principal=\\&quot;&quot;\r\n\t\t\t\t+ principal + &quot;\\&quot;;&quot;;\r\n\r\nkafkaConfig.setProperty(&quot;sasl.jaas.config&quot;, kerberosConfig );\r\n```\r\nNow , the question here is **I just used this JAAS config with keytab for kafka connection and it works fine without any issue** but I found that we also need to pass krb5.confi to system properties as well for kerberos authentication like below \r\n\r\n\r\n```\r\nSystem.setProperty(&quot;java.security.krb5.conf&quot;, krb5.conf);\r\n```\r\nSo , could someone please explain what is is the difference between keytab vs krb5.conf and whether keytab file alone is enough or should I need to pass krb5.conf to system props as well? or whether krb5.conf alone is enough ?\r\n\r\n\r\n","title":"Krb5.conf vs krb5.keytab in Kafka kerberos authentication","body":"<p>We are connecting to a Kafka server that uses kerberos authentication and from my understanding I know that When using Kerberos, we can provide the credentials to the client application in two ways. Either in the form of a valid Kerberos ticket, stored in a ticket cache, or as a keytab file, which the application can use to obtain a Kerberos ticket.</p>\n<p>Here , I have keytab file . so , I have created a <strong>JASS config</strong> like below and have set that to kafkaConfig.</p>\n<pre><code>kerberosConfig = &quot;com.ibm.security.auth.module.Krb5LoginModule required &quot;\n                + &quot;useKeytab=\\&quot;&quot;\n                + keytabPath\n                + &quot;\\&quot; credsType=both  principal=\\&quot;&quot;\n                + principal + &quot;\\&quot;;&quot;;\n\nkafkaConfig.setProperty(&quot;sasl.jaas.config&quot;, kerberosConfig );\n</code></pre>\n<p>Now , the question here is <strong>I just used this JAAS config with keytab for kafka connection and it works fine without any issue</strong> but I found that we also need to pass krb5.confi to system properties as well for kerberos authentication like below</p>\n<pre><code>System.setProperty(&quot;java.security.krb5.conf&quot;, krb5.conf);\n</code></pre>\n<p>So , could someone please explain what is is the difference between keytab vs krb5.conf and whether keytab file alone is enough or should I need to pass krb5.conf to system props as well? or whether krb5.conf alone is enough ?</p>\n"},{"tags":["java","android","android-videoview"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678238428,"post_id":75667160,"comment_id":133493688,"body_markdown":"Can you provide more information on this statement ***however the video does not play at all***? Any error log? And do you test it on an emulator? Can you try it on a real device or try another emulator? And also what is your ```R.raw.asf``` format? Is the encoding supported by the device?","body":"Can you provide more information on this statement <b><i>however the video does not play at all</i></b>? Any error log? And do you test it on an emulator? Can you try it on a real device or try another emulator? And also what is your <code>R.raw.asf</code> format? Is the encoding supported by the device?"},{"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"score":0,"creation_date":1678241925,"post_id":75667160,"comment_id":133494082,"body_markdown":"Hello! Sure i have tried both emulator and Real device. R.raw.asf it&#39;s MP4 file so yes supported by device. Log is clear.","body":"Hello! Sure i have tried both emulator and Real device. R.raw.asf it&#39;s MP4 file so yes supported by device. Log is clear."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678243191,"post_id":75667160,"comment_id":133494218,"body_markdown":"May I know if you are showing the correct layout with ```@layout/videopozadina```? The way that you set the video to your ```VideoView``` looks good to me. And just to double confirm your video can be played and is not corrupted?","body":"May I know if you are showing the correct layout with <code>@layout&#47;videopozadina</code>? The way that you set the video to your <code>VideoView</code> looks good to me. And just to double confirm your video can be played and is not corrupted?"},{"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"score":1,"creation_date":1678243648,"post_id":75667160,"comment_id":133494269,"body_markdown":"Hello thanks for your reply. I have tried with another video but same thing... Also i have tried to add directly to my fragment_login layour by\n`&lt;VideoView\n            android:id=&quot;@+id/bgVideoView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            android:keepScreenOn=&quot;true&quot; /&gt;\n`\nStill no progress...","body":"Hello thanks for your reply. I have tried with another video but same thing... Also i have tried to add directly to my fragment_login layour by <code>&lt;VideoView             android:id=&quot;@+id&#47;bgVideoView&quot;             android:layout_width=&quot;match_parent&quot;             android:layout_height=&quot;match_parent&quot;             android:fitsSystemWindows=&quot;true&quot;             android:keepScreenOn=&quot;true&quot; &#47;&gt; </code> Still no progress..."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678244427,"post_id":75667160,"comment_id":133494359,"body_markdown":"I have instead provided a little guiding sample that should be working fine. See if it gives you any hint.","body":"I have instead provided a little guiding sample that should be working fine. See if it gives you any hint."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678326485,"post_id":75667160,"comment_id":133512534,"body_markdown":"I have reposted another guide from your provided screenshot. See if that is your case?","body":"I have reposted another guide from your provided screenshot. See if that is your case?"}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678326430,"creation_date":1678326430,"answer_id":75679733,"question_id":75667160,"body_markdown":"So from the provided screenshot, I guess it should be from this xml:\r\n```xml\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;include layout=&quot;@layout/videopozadina&quot; /&gt;\r\n    &lt;!-- There should be more layout design here --&gt;\r\n```\r\n\r\nAnd you need to make sure that for this layout ```videopozadina```, it has the ```VideoView``` defined there, which I believe it should be something you provided like this:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/bgVideoView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:keepScreenOn=&quot;true&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nThen, you need to further define an ID for the included layout in the first xml mentioned here:\r\n```xml\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;include id=&quot;@+id/videoLayout&quot; \r\n             layout=&quot;@layout/videopozadina&quot; /&gt;\r\n   &lt;!-- There should be more layout design here --&gt;\r\n```\r\n\r\nAnd you should set the video in the Fragment or Activity of your login / register page (I am not sure if it is ```videologreg```):\r\n```java\r\npublic class videologreg extends AppCompatActivity {\r\n    private VideoView mVideoView;\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // I guess you should have setContentView() elsewhere, and the View should be the first mentioned xml, I believe\r\n        // to play a video on the login background\r\n        // You should first retrieve the included layout with the ID first, then further access the VideoView inside the included layout\r\n        mVideoView = (VideoView) findViewById(R.id.videoLayout).findViewById(R.id.bgVideoView);\r\n\r\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.asf);\r\n        mVideoView.setVideoURI(uri);\r\n        mVideoView.start();\r\n        mVideoView.setOnPreparedListener(mediaPlayer -&gt; mediaPlayer.setLooping(true));\r\n    }\r\n}\r\n```","title":"Video intended for background does not play","body":"<p>So from the provided screenshot, I guess it should be from this xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;include layout=&quot;@layout/videopozadina&quot; /&gt;\n    &lt;!-- There should be more layout design here --&gt;\n</code></pre>\n<p>And you need to make sure that for this layout <code>videopozadina</code>, it has the <code>VideoView</code> defined there, which I believe it should be something you provided like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;VideoView\n        android:id=&quot;@+id/bgVideoView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:keepScreenOn=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Then, you need to further define an ID for the included layout in the first xml mentioned here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;include id=&quot;@+id/videoLayout&quot; \n             layout=&quot;@layout/videopozadina&quot; /&gt;\n   &lt;!-- There should be more layout design here --&gt;\n</code></pre>\n<p>And you should set the video in the Fragment or Activity of your login / register page (I am not sure if it is <code>videologreg</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class videologreg extends AppCompatActivity {\n    private VideoView mVideoView;\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // I guess you should have setContentView() elsewhere, and the View should be the first mentioned xml, I believe\n        // to play a video on the login background\n        // You should first retrieve the included layout with the ID first, then further access the VideoView inside the included layout\n        mVideoView = (VideoView) findViewById(R.id.videoLayout).findViewById(R.id.bgVideoView);\n\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.asf);\n        mVideoView.setVideoURI(uri);\n        mVideoView.start();\n        mVideoView.setOnPreparedListener(mediaPlayer -&gt; mediaPlayer.setLooping(true));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678326430,"creation_date":1678223120,"question_id":75667160,"body_markdown":"I want to put on my application a background video on the login/register page\r\n\r\nI have made videobg.xml layout\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/bgVideoView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:keepScreenOn=&quot;true&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nafter that I made videologreg.java\r\n\r\n\r\n```java\r\npublic class videologreg extends AppCompatActivity {\r\n    private VideoView mVideoView;\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //to play a video on the login background\r\n        mVideoView = (VideoView) findViewById(R.id.bgVideoView);\r\n\r\n\r\n\r\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.asf);\r\n        mVideoView.setVideoURI(uri);\r\n        mVideoView.start();\r\n\r\n        mVideoView.setOnPreparedListener(mediaPlayer -&gt; mediaPlayer.setLooping(true));\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nand finally I&#39;m in the register login layout\r\n\r\n\r\n```xml\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;include layout=&quot;@layout/videopozadina&quot; /&gt;\r\n```\r\n\r\nhowever the video does not play at all so I would like your help, thanks in advance.\r\n\r\n\r\n\r\n\r\nI have tried all the above things but unfortunately it doesn&#39;t work\r\n\r\n\r\nAbout black screen what i got\r\n\r\n[![what i got][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/24s0n.jpg","title":"Video intended for background does not play","body":"<p>I want to put on my application a background video on the login/register page</p>\n<p>I have made videobg.xml layout</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;VideoView\n        android:id=&quot;@+id/bgVideoView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:keepScreenOn=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>after that I made videologreg.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class videologreg extends AppCompatActivity {\n    private VideoView mVideoView;\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //to play a video on the login background\n        mVideoView = (VideoView) findViewById(R.id.bgVideoView);\n\n\n\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.asf);\n        mVideoView.setVideoURI(uri);\n        mVideoView.start();\n\n        mVideoView.setOnPreparedListener(mediaPlayer -&gt; mediaPlayer.setLooping(true));\n\n\n\n\n    }\n}\n</code></pre>\n<p>and finally I'm in the register login layout</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;include layout=&quot;@layout/videopozadina&quot; /&gt;\n</code></pre>\n<p>however the video does not play at all so I would like your help, thanks in advance.</p>\n<p>I have tried all the above things but unfortunately it doesn't work</p>\n<p>About black screen what i got</p>\n<p><a href=\"https://i.stack.imgur.com/24s0n.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/24s0n.jpg\" alt=\"what i got\" /></a></p>\n"},{"tags":["java","jasper-reports"],"owner":{"account_id":25816987,"reputation":11,"user_id":19556778,"display_name":"Jihed Ben Zarb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678326304,"creation_date":1678326304,"question_id":75679727,"body_markdown":"i made a template in jasper studio that only has a tabe in the first place , i passed the data to this table with a java program using JrBeanCollectionDataSource ,everything worked fine ! but when i try to add fields outside the table in the report , they stay null , when i try to change my JasperFillManager.fillReport(jasperReport,parameters,new JrEmptyDataSource()) to JasperFillManager.fillReport(jasperReport,parameters,itemsDataSource) , the fields get the data but now the table wont get anything and wont appear at all \r\nthis is my java Program\r\n```\r\nList&lt;Invoice&gt; listItems= new ArrayList&lt;Invoice&gt;();\r\n\r\n        Invoice invoice=new Invoice();\r\n\r\n        Invoice.setFromTo(&quot;HammamSousse/Kantaoui&quot;);\r\n        Invoice.setTripPrice(&quot;9.265&quot;);\r\n\r\n        listItems.add(invoice);\r\n\r\n        JRBeanCollectionDataSource itemsJRBean=new JRBeanCollectionDataSource(listItems);\r\n        Map&lt;String,Object&gt; parameters=new HashMap&lt;String,Object&gt;();\r\n        parameters.put(&quot;Parameter1&quot;,itemsJRBean);\r\n        InputStream input =new FileInputStream(new File(&quot;path\\\\vt.jrxml&quot;));\r\n        JasperDesign jasperDesign= JRXmlLoader.load(input);\r\n        JasperReport jasperReport=JasperCompileManager.compileReport(jasperDesign);\r\n        JasperPrint jasperPrint=JasperFillManager.fillReport(jasperReport,parameters,new JREmptyDataSource());\r\n        JasperViewer.viewReport(jasperPrint);\r\n```\r\nthis is my jrxml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  --&gt;\r\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;vt&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;39704726-dd18-487b-ad98-129fcc839d94&quot;&gt;\r\n\t&lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\r\n\t&lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;subDataset name=&quot;Dataset2&quot; uuid=&quot;52282a42-91df-4c9f-b013-7c06e354af7d&quot;&gt;\r\n\t\t&lt;queryString&gt;\r\n\t\t\t&lt;![CDATA[]]&gt;\r\n\t\t&lt;/queryString&gt;\r\n\t\t&lt;field name=&quot;fromTo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t&lt;field name=&quot;tripPrice&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;/subDataset&gt;\r\n\t&lt;parameter name=&quot;Parameter1&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\r\n\t&lt;queryString&gt;\r\n\t\t&lt;![CDATA[]]&gt;\r\n\t&lt;/queryString&gt;\r\n\t&lt;background&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/background&gt;\r\n\t&lt;title&gt;\r\n\t\t&lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/title&gt;\r\n\t&lt;pageHeader&gt;\r\n\t\t&lt;band height=&quot;35&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/pageHeader&gt;\r\n\t&lt;columnHeader&gt;\r\n\t\t&lt;band height=&quot;67&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/columnHeader&gt;\r\n\t&lt;detail&gt;\r\n\t\t&lt;band height=&quot;274&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t&lt;componentElement&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;70&quot; y=&quot;37&quot; width=&quot;410&quot; height=&quot;63&quot; uuid=&quot;f6e0b09e-81be-47e7-a751-07cc0a469e45&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table_TH&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table_CH&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table_TD&quot;/&gt;\r\n\t\t\t\t&lt;/reportElement&gt;\r\n\t\t\t\t&lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\r\n\t\t\t\t\t&lt;datasetRun subDataset=&quot;Dataset2&quot; uuid=&quot;8b074442-09df-43e1-b7e2-bd0616ee1ce8&quot;&gt;\r\n\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[$P{Parameter1}]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t&lt;/datasetRun&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;250&quot; uuid=&quot;0e2ca4af-49fd-4103-9d22-d9f95a71ae6b&quot;&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column1&quot;/&gt;\r\n\t\t\t\t\t\t&lt;jr:columnHeader style=&quot;Table_CH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;250&quot; height=&quot;30&quot; uuid=&quot;03aa47f1-fbd2-46a8-8cd3-9a353ae46704&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Static Text]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:columnHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;250&quot; height=&quot;30&quot; uuid=&quot;daea7ee2-0796-46f1-8520-a3aff839a4a0&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{fromTo}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;160&quot; uuid=&quot;42babb80-7040-4118-8ebb-d617e52023bd&quot;&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column2&quot;/&gt;\r\n\t\t\t\t\t\t&lt;jr:columnHeader style=&quot;Table_CH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;160&quot; height=&quot;30&quot; uuid=&quot;96bf0ffe-5585-48bd-a409-1c52b391f2e4&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Static Text]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:columnHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;160&quot; height=&quot;30&quot; uuid=&quot;caa8f50d-3a61-4cb6-b7db-5da2ec76fc5b&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{tripPrice}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t&lt;/jr:table&gt;\r\n\t\t\t&lt;/componentElement&gt;\r\n\t\t&lt;/band&gt;\r\n\t&lt;/detail&gt;\r\n\t&lt;columnFooter&gt;\r\n\t\t&lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/columnFooter&gt;\r\n\t&lt;pageFooter&gt;\r\n\t\t&lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/pageFooter&gt;\r\n\t&lt;summary&gt;\r\n\t\t&lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/summary&gt;\r\n&lt;/jasperReport&gt;\r\n```\r\n\r\n\r\n\r\ni want to pass the same data to the fields outside the table and to the table itself , Any Solutions? Thanks in advance ","title":"unable to display both the data in the table and outside the table at the same time","body":"<p>i made a template in jasper studio that only has a tabe in the first place , i passed the data to this table with a java program using JrBeanCollectionDataSource ,everything worked fine ! but when i try to add fields outside the table in the report , they stay null , when i try to change my JasperFillManager.fillReport(jasperReport,parameters,new JrEmptyDataSource()) to JasperFillManager.fillReport(jasperReport,parameters,itemsDataSource) , the fields get the data but now the table wont get anything and wont appear at all\nthis is my java Program</p>\n<pre><code>List&lt;Invoice&gt; listItems= new ArrayList&lt;Invoice&gt;();\n\n        Invoice invoice=new Invoice();\n\n        Invoice.setFromTo(&quot;HammamSousse/Kantaoui&quot;);\n        Invoice.setTripPrice(&quot;9.265&quot;);\n\n        listItems.add(invoice);\n\n        JRBeanCollectionDataSource itemsJRBean=new JRBeanCollectionDataSource(listItems);\n        Map&lt;String,Object&gt; parameters=new HashMap&lt;String,Object&gt;();\n        parameters.put(&quot;Parameter1&quot;,itemsJRBean);\n        InputStream input =new FileInputStream(new File(&quot;path\\\\vt.jrxml&quot;));\n        JasperDesign jasperDesign= JRXmlLoader.load(input);\n        JasperReport jasperReport=JasperCompileManager.compileReport(jasperDesign);\n        JasperPrint jasperPrint=JasperFillManager.fillReport(jasperReport,parameters,new JREmptyDataSource());\n        JasperViewer.viewReport(jasperPrint);\n</code></pre>\n<p>this is my jrxml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  --&gt;\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;vt&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;39704726-dd18-487b-ad98-129fcc839d94&quot;&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\n    &lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;subDataset name=&quot;Dataset2&quot; uuid=&quot;52282a42-91df-4c9f-b013-7c06e354af7d&quot;&gt;\n        &lt;queryString&gt;\n            &lt;![CDATA[]]&gt;\n        &lt;/queryString&gt;\n        &lt;field name=&quot;fromTo&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;tripPrice&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;/subDataset&gt;\n    &lt;parameter name=&quot;Parameter1&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[]]&gt;\n    &lt;/queryString&gt;\n    &lt;background&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/background&gt;\n    &lt;title&gt;\n        &lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/title&gt;\n    &lt;pageHeader&gt;\n        &lt;band height=&quot;35&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/pageHeader&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=&quot;67&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=&quot;274&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;componentElement&gt;\n                &lt;reportElement x=&quot;70&quot; y=&quot;37&quot; width=&quot;410&quot; height=&quot;63&quot; uuid=&quot;f6e0b09e-81be-47e7-a751-07cc0a469e45&quot;&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table_TH&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table_CH&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table_TD&quot;/&gt;\n                &lt;/reportElement&gt;\n                &lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\n                    &lt;datasetRun subDataset=&quot;Dataset2&quot; uuid=&quot;8b074442-09df-43e1-b7e2-bd0616ee1ce8&quot;&gt;\n                        &lt;dataSourceExpression&gt;&lt;![CDATA[$P{Parameter1}]]&gt;&lt;/dataSourceExpression&gt;\n                    &lt;/datasetRun&gt;\n                    &lt;jr:column width=&quot;250&quot; uuid=&quot;0e2ca4af-49fd-4103-9d22-d9f95a71ae6b&quot;&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column1&quot;/&gt;\n                        &lt;jr:columnHeader style=&quot;Table_CH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;250&quot; height=&quot;30&quot; uuid=&quot;03aa47f1-fbd2-46a8-8cd3-9a353ae46704&quot;/&gt;\n                                &lt;text&gt;&lt;![CDATA[Static Text]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:columnHeader&gt;\n                        &lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;30&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;250&quot; height=&quot;30&quot; uuid=&quot;daea7ee2-0796-46f1-8520-a3aff839a4a0&quot;/&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{fromTo}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;160&quot; uuid=&quot;42babb80-7040-4118-8ebb-d617e52023bd&quot;&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column2&quot;/&gt;\n                        &lt;jr:columnHeader style=&quot;Table_CH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;160&quot; height=&quot;30&quot; uuid=&quot;96bf0ffe-5585-48bd-a409-1c52b391f2e4&quot;/&gt;\n                                &lt;text&gt;&lt;![CDATA[Static Text]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:columnHeader&gt;\n                        &lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;30&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;160&quot; height=&quot;30&quot; uuid=&quot;caa8f50d-3a61-4cb6-b7db-5da2ec76fc5b&quot;/&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{tripPrice}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                &lt;/jr:table&gt;\n            &lt;/componentElement&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n    &lt;columnFooter&gt;\n        &lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnFooter&gt;\n    &lt;pageFooter&gt;\n        &lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/pageFooter&gt;\n    &lt;summary&gt;\n        &lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n<p>i want to pass the same data to the fields outside the table and to the table itself , Any Solutions? Thanks in advance</p>\n"},{"tags":["java","binary","twos-complement"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1488630286,"post_id":42595963,"comment_id":72322997,"body_markdown":"Do you know the theory behind it? If you know the theory, implementing it is an easy task. What have you tried so far?","body":"Do you know the theory behind it? If you know the theory, implementing it is an easy task. What have you tried so far?"},{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":0,"creation_date":1488630340,"post_id":42595963,"comment_id":72323012,"body_markdown":"This possibly pure Java.. How is it specific to Android?","body":"This possibly pure Java.. How is it specific to Android?"},{"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"score":0,"creation_date":1488630864,"post_id":42595963,"comment_id":72323166,"body_markdown":"@BackSlash I have posted my code to get 1&#39;s complement.","body":"@BackSlash I have posted my code to get 1&#39;s complement."},{"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"score":0,"creation_date":1488631484,"post_id":42595963,"comment_id":72323316,"body_markdown":"@suraj Android uses core Java itself.","body":"@suraj Android uses core Java itself."},{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":0,"creation_date":1488631552,"post_id":42595963,"comment_id":72323335,"body_markdown":"You are right. my point was being a core java question, there is no need for android tag. It is not an android related issue","body":"You are right. my point was being a core java question, there is no need for android tag. It is not an android related issue"},{"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"score":0,"creation_date":1488631687,"post_id":42595963,"comment_id":72323369,"body_markdown":"okay thanks for you suggestion.","body":"okay thanks for you suggestion."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1488632647,"post_id":42595963,"comment_id":72323715,"body_markdown":"Possible duplicate of [How to convert ones&#39; complement number into its 2&#39;s complement?](http://stackoverflow.com/questions/35196967/how-to-convert-ones-complement-number-into-its-2s-complement)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/35196967/how-to-convert-ones-complement-number-into-its-2s-complement\">How to convert ones&#39; complement number into its 2&#39;s complement?</a>"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1488642734,"post_id":42595963,"comment_id":72326932,"body_markdown":"It&#39;s &quot;complement&quot;, not &quot;compliment&quot;. One should spell the terms of art correctly.","body":"It&#39;s &quot;complement&quot;, not &quot;compliment&quot;. One should spell the terms of art correctly."},{"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"score":0,"creation_date":1488642872,"post_id":42595963,"comment_id":72326979,"body_markdown":"@Lew Bloch Sorry for misspell.","body":"@Lew Bloch Sorry for misspell."}],"answers":[{"tags":[],"owner":{"account_id":10377194,"reputation":4505,"user_id":7653073,"display_name":"Malte Hartwig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488633752,"creation_date":1488633352,"answer_id":42596461,"question_id":42595963,"body_markdown":"[This wikipedia section][1] explains an easy way to get the 2&#39;s complement: Get the 1&#39;s complement, then add 1 (in binary logic). So you can use the `complementFunction` you already have, then go through the String backwards. If you find a 1, flip it and continue. If you find a 0, flip it and stop.\r\n\r\n    String  twos = &quot;&quot;;\r\n    for (int i = bin.length() - 1; i &gt;= 0; i--) {\r\n        if (bin.charAt(i) == &#39;1&#39;) {\r\n            twos = &quot;0&quot; + twos;\r\n        } else {\r\n            twos = bin.substring(0, i) + &quot;1&quot; + two;\r\n            break;\r\n        }\r\n        twos = flip(bin.charAt(i));\r\n    }\r\n    return twos;\r\n  [1]: https://en.wikipedia.org/wiki/Two%27s_complement#From_the_ones.27_complement &quot;Two&#39;s complement&quot;  \r\n\r\n","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p><a href=\"https://en.wikipedia.org/wiki/Two%27s_complement#From_the_ones.27_complement\" rel=\"nofollow noreferrer\" title=\"Two&#39;s complement\">This wikipedia section</a> explains an easy way to get the 2's complement: Get the 1's complement, then add 1 (in binary logic). So you can use the <code>complementFunction</code> you already have, then go through the String backwards. If you find a 1, flip it and continue. If you find a 0, flip it and stop.</p>\n\n<pre><code>String  twos = \"\";\nfor (int i = bin.length() - 1; i &gt;= 0; i--) {\n    if (bin.charAt(i) == '1') {\n        twos = \"0\" + twos;\n    } else {\n        twos = bin.substring(0, i) + \"1\" + two;\n        break;\n    }\n    twos = flip(bin.charAt(i));\n}\nreturn twos;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1488863422,"creation_date":1488644382,"answer_id":42598250,"question_id":42595963,"body_markdown":"Thanks for your help everyone.\r\nI got the solution and it is as follows :\r\n\r\n      public String twosCompliment(String bin) {\r\n            String twos = &quot;&quot;, ones = &quot;&quot;;\r\n    \r\n            for (int i = 0; i &lt; bin.length(); i++) {\r\n                ones += flip(bin.charAt(i));\r\n            }\r\n            int number0 = Integer.parseInt(ones, 2);\r\n            StringBuilder builder = new StringBuilder(ones);\r\n            boolean b = false;\r\n            for (int i = ones.length() - 1; i &gt; 0; i--) {\r\n                if (ones.charAt(i) == &#39;1&#39;) {\r\n                    builder.setCharAt(i, &#39;0&#39;);\r\n                } else {\r\n                    builder.setCharAt(i, &#39;1&#39;);\r\n                    b = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!b)\r\n                builder.append(&quot;1&quot;, 0, 7);\r\n    \r\n            twos = builder.toString();\r\n    \r\n            return twos;\r\n        }\r\n\r\n    // Returns &#39;0&#39; for &#39;1&#39; and &#39;1&#39; for &#39;0&#39;\r\n        public char flip(char c) {\r\n            return (c == &#39;0&#39;) ? &#39;1&#39; : &#39;0&#39;;\r\n        }\r\n\r\n\r\nThanks to all for helping.","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p>Thanks for your help everyone.\nI got the solution and it is as follows :</p>\n\n<pre><code>  public String twosCompliment(String bin) {\n        String twos = \"\", ones = \"\";\n\n        for (int i = 0; i &lt; bin.length(); i++) {\n            ones += flip(bin.charAt(i));\n        }\n        int number0 = Integer.parseInt(ones, 2);\n        StringBuilder builder = new StringBuilder(ones);\n        boolean b = false;\n        for (int i = ones.length() - 1; i &gt; 0; i--) {\n            if (ones.charAt(i) == '1') {\n                builder.setCharAt(i, '0');\n            } else {\n                builder.setCharAt(i, '1');\n                b = true;\n                break;\n            }\n        }\n        if (!b)\n            builder.append(\"1\", 0, 7);\n\n        twos = builder.toString();\n\n        return twos;\n    }\n\n// Returns '0' for '1' and '1' for '0'\n    public char flip(char c) {\n        return (c == '0') ? '1' : '0';\n    }\n</code></pre>\n\n<p>Thanks to all for helping.</p>\n"},{"tags":[],"owner":{"account_id":2843312,"reputation":937,"user_id":2442396,"display_name":"bp4D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543000974,"creation_date":1543000974,"answer_id":53452000,"question_id":42595963,"body_markdown":"@BackSlash&#39;s comment above is intriguing.  This answer is the full program written based on this idea:\r\n\r\n    import java.time.temporal.ValueRange;\r\n    import java.util.Scanner;\r\n    \r\n    //This program generates convert decimal to binary\r\n    public class ConvertDecimalToBinary {\r\n    \r\n    \r\n        public static int getNumberOfBytes(int n) {\r\n            int bytes = 0;\r\n            ValueRange byteRange = ValueRange.of(Byte.MIN_VALUE, Byte.MAX_VALUE);\r\n            ValueRange shortRange = ValueRange.of(Short.MIN_VALUE, Short.MAX_VALUE);\r\n            ValueRange intRange = ValueRange.of(Integer.MIN_VALUE, Integer.MAX_VALUE);\r\n            if (byteRange.isValidValue(n)) {\r\n                bytes = 1;\r\n            } else if (shortRange.isValidValue(n)) {\r\n                bytes = 2;\r\n            } else if (intRange.isValidValue(n)) {\r\n                bytes = 4;\r\n            }\r\n            return bytes;\r\n        }\r\n    \r\n        //Convert a positive decimal number to binary\r\n        public static String convertPositiveNumberToBinary(int n, int bytes,boolean reverse) {\r\n            int bits = 8 * bytes;\r\n            StringBuilder sb = new StringBuilder(bits); //in-bits\r\n            if (n == 0) {\r\n                sb.append(&quot;0&quot;);\r\n            } else {\r\n                while (n &gt; 0) {\r\n                    sb.append(n % 2);\r\n                    n &gt;&gt;= 1;  //aka n/2\r\n                }\r\n            }\r\n    \r\n            if (sb.length() &lt; bits) {\r\n                for (int i = sb.length(); i &lt; bits; i++) {\r\n                    sb.append(&quot;0&quot;);\r\n    \r\n                }\r\n            }\r\n            if (reverse) {\r\n                return sb.toString();\r\n            } else {\r\n                return sb.reverse().toString();\r\n            }\r\n        }\r\n    \r\n        //Convert negative decimal number to binary\r\n        public static String convertNegativeNumberToBinary(int n, int bytes) {\r\n            int m = -n; //conver to positve\r\n            String binary = convertPositiveNumberToBinary(m,bytes,true);\r\n            int len = binary.length();\r\n            StringBuilder sb = new StringBuilder(len); //in-bits\r\n            boolean foundFirstOne = false;\r\n            for(int i=0; i &lt; len;i++) {\r\n                if(foundFirstOne)  {\r\n                    if(binary.charAt(i) == &#39;1&#39;) {\r\n                        sb.append(&#39;0&#39;);\r\n                    }\r\n                    else {\r\n                        sb.append(&#39;1&#39;);\r\n                    }\r\n                }\r\n                else {\r\n                    if(binary.charAt(i) == &#39;1&#39;) {\r\n                        foundFirstOne = true;\r\n                    }\r\n                    sb.append(binary.charAt(i));\r\n                }\r\n            }\r\n            return sb.reverse().toString();\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            while(scanner.hasNextInt()) {\r\n                int n = scanner.nextInt();\r\n                int bytes = getNumberOfBytes(n);\r\n                String binary;\r\n    \r\n                if(n &gt;= 0) {\r\n                    binary = convertPositiveNumberToBinary(n,bytes,false);\r\n                }\r\n                else {\r\n                    binary = convertNegativeNumberToBinary(n,bytes);\r\n                }\r\n                System.out.println(String.format(&quot;Binary representation of {%s} is {%s}&quot;,n,binary));\r\n            }\r\n            scanner.close();\r\n        }\r\n    }","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p>@BackSlash's comment above is intriguing.  This answer is the full program written based on this idea:</p>\n\n<pre><code>import java.time.temporal.ValueRange;\nimport java.util.Scanner;\n\n//This program generates convert decimal to binary\npublic class ConvertDecimalToBinary {\n\n\n    public static int getNumberOfBytes(int n) {\n        int bytes = 0;\n        ValueRange byteRange = ValueRange.of(Byte.MIN_VALUE, Byte.MAX_VALUE);\n        ValueRange shortRange = ValueRange.of(Short.MIN_VALUE, Short.MAX_VALUE);\n        ValueRange intRange = ValueRange.of(Integer.MIN_VALUE, Integer.MAX_VALUE);\n        if (byteRange.isValidValue(n)) {\n            bytes = 1;\n        } else if (shortRange.isValidValue(n)) {\n            bytes = 2;\n        } else if (intRange.isValidValue(n)) {\n            bytes = 4;\n        }\n        return bytes;\n    }\n\n    //Convert a positive decimal number to binary\n    public static String convertPositiveNumberToBinary(int n, int bytes,boolean reverse) {\n        int bits = 8 * bytes;\n        StringBuilder sb = new StringBuilder(bits); //in-bits\n        if (n == 0) {\n            sb.append(\"0\");\n        } else {\n            while (n &gt; 0) {\n                sb.append(n % 2);\n                n &gt;&gt;= 1;  //aka n/2\n            }\n        }\n\n        if (sb.length() &lt; bits) {\n            for (int i = sb.length(); i &lt; bits; i++) {\n                sb.append(\"0\");\n\n            }\n        }\n        if (reverse) {\n            return sb.toString();\n        } else {\n            return sb.reverse().toString();\n        }\n    }\n\n    //Convert negative decimal number to binary\n    public static String convertNegativeNumberToBinary(int n, int bytes) {\n        int m = -n; //conver to positve\n        String binary = convertPositiveNumberToBinary(m,bytes,true);\n        int len = binary.length();\n        StringBuilder sb = new StringBuilder(len); //in-bits\n        boolean foundFirstOne = false;\n        for(int i=0; i &lt; len;i++) {\n            if(foundFirstOne)  {\n                if(binary.charAt(i) == '1') {\n                    sb.append('0');\n                }\n                else {\n                    sb.append('1');\n                }\n            }\n            else {\n                if(binary.charAt(i) == '1') {\n                    foundFirstOne = true;\n                }\n                sb.append(binary.charAt(i));\n            }\n        }\n        return sb.reverse().toString();\n\n    }\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        while(scanner.hasNextInt()) {\n            int n = scanner.nextInt();\n            int bytes = getNumberOfBytes(n);\n            String binary;\n\n            if(n &gt;= 0) {\n                binary = convertPositiveNumberToBinary(n,bytes,false);\n            }\n            else {\n                binary = convertNegativeNumberToBinary(n,bytes);\n            }\n            System.out.println(String.format(\"Binary representation of {%s} is {%s}\",n,binary));\n        }\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678325592,"creation_date":1678325592,"answer_id":75679675,"question_id":42595963,"body_markdown":"I was doing some browsing on this subject and ended up reading this question and its answers. The way I see it, there is this much simpler way to calculate the two&#39;s complement of a integer.\r\n\r\n```\r\npublic static int twosComplement(final int value) {\r\n    final int mask = 0xffff_ffff;\r\n    return (value ^ mask) + 1;\r\n}\r\n\r\npublic static String stringTwosComplement(String bin) {\r\n    int value = Integer.parseInt(bin, 2);\r\n    int result = twosComplement(value);\r\n    return Integer.toBinaryString(result);\r\n}\r\n```\r\n\r\nThe algorithm is based on the same idea @malte-hartwig brought in his answer: the two&#39;s complement is the **one&#39;s complement** plus `1`.","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p>I was doing some browsing on this subject and ended up reading this question and its answers. The way I see it, there is this much simpler way to calculate the two's complement of a integer.</p>\n<pre><code>public static int twosComplement(final int value) {\n    final int mask = 0xffff_ffff;\n    return (value ^ mask) + 1;\n}\n\npublic static String stringTwosComplement(String bin) {\n    int value = Integer.parseInt(bin, 2);\n    int result = twosComplement(value);\n    return Integer.toBinaryString(result);\n}\n</code></pre>\n<p>The algorithm is based on the same idea @malte-hartwig brought in his answer: the two's complement is the <strong>one's complement</strong> plus <code>1</code>.</p>\n"}],"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26263,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":42598250,"answer_count":4,"score":4,"last_activity_date":1678325592,"creation_date":1488630128,"question_id":42595963,"body_markdown":"How to calculate the 2&#39;s Complement of a Hex number in Android/Java.\r\n\r\n        For Example : \r\n        String x = 10011010;\r\n        1&#39;s complement of x = 01100101;\r\n        2&#39;s complement is 01100110;\r\n\r\n*How I can pro-grammatically achieve in Java?*\r\n\r\nI had tried the following code to convert the binary to its 1&#39;s compliment:\r\n\r\n\r\n \r\n\r\n    public String complementFunction(String bin) {\r\n            String  ones = &quot;&quot;;\r\n    \r\n            for (int i = 0; i &lt; bin.length(); i++) {\r\n                ones += flip(bin.charAt(i));\r\n            }\r\n            return ones;\r\n        }\r\n    \r\n    // Returns &#39;0&#39; for &#39;1&#39; and &#39;1&#39; for &#39;0&#39;\r\n        public char flip(char c) {\r\n            return (c == &#39;0&#39;) ? &#39;1&#39; : &#39;0&#39;;\r\n        }\r\n\r\nBut I&#39;m not able to get its two&#39;s complement.\r\n","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p>How to calculate the 2's Complement of a Hex number in Android/Java.</p>\n\n<pre><code>    For Example : \n    String x = 10011010;\n    1's complement of x = 01100101;\n    2's complement is 01100110;\n</code></pre>\n\n<p><em>How I can pro-grammatically achieve in Java?</em></p>\n\n<p>I had tried the following code to convert the binary to its 1's compliment:</p>\n\n<pre><code>public String complementFunction(String bin) {\n        String  ones = \"\";\n\n        for (int i = 0; i &lt; bin.length(); i++) {\n            ones += flip(bin.charAt(i));\n        }\n        return ones;\n    }\n\n// Returns '0' for '1' and '1' for '0'\n    public char flip(char c) {\n        return (c == '0') ? '1' : '0';\n    }\n</code></pre>\n\n<p>But I'm not able to get its two's complement.</p>\n"},{"tags":["java","aws-lambda","android-management-api"],"owner":{"account_id":21118765,"reputation":43,"user_id":15525282,"display_name":"swdev123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678324561,"creation_date":1678324475,"question_id":75679580,"body_markdown":"I am looking for a way to make the AMA calls from AWS lambda. I came across workload identity federation which will help us make the calls without having to store service account keys. But I am not able to find any documentation on how this can be done for AMA. Is this supported? If so is there a java library that can help simplify these calls?","title":"Is there support for workload identity federation for Android management api to make calls from AWS Lambda","body":"<p>I am looking for a way to make the AMA calls from AWS lambda. I came across workload identity federation which will help us make the calls without having to store service account keys. But I am not able to find any documentation on how this can be done for AMA. Is this supported? If so is there a java library that can help simplify these calls?</p>\n"},{"tags":["java","cron","quartz-scheduler","crontrigger"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1678314414,"post_id":75678701,"comment_id":133510926,"body_markdown":"Also, you want `ofEpochMilli` not `ofEpochSecond`","body":"Also, you want <code>ofEpochMilli</code> not <code>ofEpochSecond</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678314492,"post_id":75678701,"comment_id":133510935,"body_markdown":"I just want to point out that `Date.from(Instant.ofEpochSecond(prevRun))` produces  `Wed Nov 28 21:03:20 AEDT 55151` ... pretty sure you don&#39;t want to wait that long","body":"I just want to point out that <code>Date.from(Instant.ofEpochSecond(prevRun))</code> produces  <code>Wed Nov 28 21:03:20 AEDT 55151</code> ... pretty sure you don&#39;t want to wait that long"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1678314587,"post_id":75678701,"comment_id":133510947,"body_markdown":"Stop worrying about what things like `Date` (you should stop using this) prints by default, it&#39;s `toString` method will make use of the current local/time zone, this is what date formatters are for.  Care only that the value, if converted to UTC, is correct.","body":"Stop worrying about what things like <code>Date</code> (you should stop using this) prints by default, it&#39;s <code>toString</code> method will make use of the current local/time zone, this is what date formatters are for.  Care only that the value, if converted to UTC, is correct."},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678314875,"post_id":75678701,"comment_id":133511003,"body_markdown":"@g00se - Adding ofEpochMilli gives `Tue Jan 20 02:10:58 PST 1970`","body":"@g00se - Adding ofEpochMilli gives <code>Tue Jan 20 02:10:58 PST 1970</code>"},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678314965,"post_id":75678701,"comment_id":133511017,"body_markdown":"@MadProgrammer - i ad put correct prevRun Value","body":"@MadProgrammer - i ad put correct prevRun Value"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678315039,"post_id":75678701,"comment_id":133511031,"body_markdown":"2023-03-08T07:01:05Z is what it gives me from prevRun. If you want to operate in UTC, you probably want something like `long prevRun = 1678258865000L;\nInstant i = Instant.ofEpochMilli(prevRun);\nZonedDateTime prevRunZdt = ZonedDateTime.ofInstant(i, ZoneId.of(&quot;UTC&quot;));\n// Now add to prevRunZdt`","body":"2023-03-08T07:01:05Z is what it gives me from prevRun. If you want to operate in UTC, you probably want something like <code>long prevRun = 1678258865000L; Instant i = Instant.ofEpochMilli(prevRun); ZonedDateTime prevRunZdt = ZonedDateTime.ofInstant(i, ZoneId.of(&quot;UTC&quot;)); &#47;&#47; Now add to prevRunZdt</code>"},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678315277,"post_id":75678701,"comment_id":133511074,"body_markdown":"How do I determine the next cron run? The cron expression using quartz scheduler operates only on Date ? My main problem is determining next run in UTC format.","body":"How do I determine the next cron run? The cron expression using quartz scheduler operates only on Date ? My main problem is determining next run in UTC format."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678315879,"post_id":75678701,"comment_id":133511202,"body_markdown":"Yes you might have to convert back into to `Date` to use that API","body":"Yes you might have to convert back into to <code>Date</code> to use that API"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678317012,"post_id":75678701,"comment_id":133511383,"body_markdown":"`Date.from(ZonedDateTime.ofInstant(Instant.ofEpochMilli(1678258865000L), ZoneId.of(&quot;UTC&quot;)).toInstant());`.  Note `ZonedDateTime.ofInstant` will result in `2023-03-08T07:01:05Z[UTC]` and `Date.from` will result in `Wed Mar 08 18:01:05 AEDT 2023` (for me) which is correct, as AU is +11 hours ahead of UTC - stop worrying about what `Date#toString` prints","body":"<code>Date.from(ZonedDateTime.ofInstant(Instant.ofEpochMilli(16782&zwnj;&#8203;58865000L), ZoneId.of(&quot;UTC&quot;)).toInstant());</code>.  Note <code>ZonedDateTime.ofInstant</code> will result in <code>2023-03-08T07:01:05Z[UTC]</code> and <code>Date.from</code> will result in <code>Wed Mar 08 18:01:05 AEDT 2023</code> (for me) which is correct, as AU is +11 hours ahead of UTC - stop worrying about what <code>Date#toString</code> prints"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678321987,"post_id":75678701,"comment_id":133511977,"body_markdown":"In your first example, I don’t see how that long number corresponds to that date-time mathematically; the fractional second does not match. Furthermore, your date-time lacks an indicator of time zone or offset. Is that meant to be in UTC, an offset of zero?","body":"In your first example, I don’t see how that long number corresponds to that date-time mathematically; the fractional second does not match. Furthermore, your date-time lacks an indicator of time zone or offset. Is that meant to be in UTC, an offset of zero?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678322267,"post_id":75678701,"comment_id":133512011,"body_markdown":"Why don’t you fetch your date-time from the database using `OffsetDateTime` with `ResultSet::getObject` as prescribed by JDBC 4.2+, and as described on many existing Answers on Stack Overflow?","body":"Why don’t you fetch your date-time from the database using <code>OffsetDateTime</code> with <code>ResultSet::getObject</code> as prescribed by JDBC 4.2+, and as described on many existing Answers on Stack Overflow?"},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678324376,"post_id":75678701,"comment_id":133512276,"body_markdown":"I just took a sample of a long number that was returned from the database. In the database, it&#39;s stored in UTC time format.","body":"I just took a sample of a long number that was returned from the database. In the database, it&#39;s stored in UTC time format."}],"answers":[{"tags":[],"owner":{"account_id":20436985,"reputation":31,"user_id":14994609,"display_name":"Oscar Oliveira"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1678323713,"creation_date":1678320658,"answer_id":75679331,"question_id":75678701,"body_markdown":"Good night friend\r\n\r\n    \tlong prevRun = 1678298465L; // is Wed Mar 08 15:01:05 BRT\r\n\t\tfinal CronExpression cronExpression = new CronExpression(&quot;0 1 18 * * ?&quot;);\r\n\t    cronExpression.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\t    Date date = Date.from(Instant.ofEpochSecond(prevRun)); \r\n\t    Date nextRun = cronExpression.getNextValidTimeAfter(date);\r\n\t    System.out.println(date);        // Wed Mar 08 15:01:05 BRT 2023\r\n\t    System.out.println(nextRun);     // Thu Mar 09 15:01:00 BRT 2023","title":"Convert next cron time in UTC format","body":"<p>Good night friend</p>\n<pre><code>    long prevRun = 1678298465L; // is Wed Mar 08 15:01:05 BRT\n    final CronExpression cronExpression = new CronExpression(&quot;0 1 18 * * ?&quot;);\n    cronExpression.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\n    Date date = Date.from(Instant.ofEpochSecond(prevRun)); \n    Date nextRun = cronExpression.getNextValidTimeAfter(date);\n    System.out.println(date);        // Wed Mar 08 15:01:05 BRT 2023\n    System.out.println(nextRun);     // Thu Mar 09 15:01:00 BRT 2023\n</code></pre>\n"}],"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75679331,"answer_count":1,"score":-1,"last_activity_date":1678324405,"creation_date":1678313447,"question_id":75678701,"body_markdown":"My database has times in UTC format. When I fetch from the database it comes in a long datatype format. For eg \r\n\r\n    In DB - 2023-03-08 15:01:05.234081\r\n    Corresponding Long - 1678258865\r\n\r\nI am having a cron expression and trying to determine the next time to be run for the particular data. For eg, the next run should be at 2023-03-09 15:00:00.234081 UTC for the above data.\r\n\r\n        long prevRun = 1678258865L;\r\n        final CronExpression cronExpression = new CronExpression(&quot;0 1 0 * * ?&quot;);\r\n        cronExpression.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n        Date date = Date.from(Instant.ofEpochSecond(prevRun)); =&gt; Outputs Tue Mar 07 23:01:05 PST 2023\r\n        Date nextRun = cronExpression.getNextValidTimeAfter(prevRun); =&gt; Outputs Wed Mar 08 16:01:00 PST 2023\r\n\r\nThe fourth line always gives in the local system time zone which is why the cron gives this output. \r\nAny advice on how I can get a new run in UTC time format for the above cron expression? I am using a cron quartz expression parser for my current use case.","title":"Convert next cron time in UTC format","body":"<p>My database has times in UTC format. When I fetch from the database it comes in a long datatype format. For eg</p>\n<pre><code>In DB - 2023-03-08 15:01:05.234081\nCorresponding Long - 1678258865\n</code></pre>\n<p>I am having a cron expression and trying to determine the next time to be run for the particular data. For eg, the next run should be at 2023-03-09 15:00:00.234081 UTC for the above data.</p>\n<pre><code>    long prevRun = 1678258865L;\n    final CronExpression cronExpression = new CronExpression(&quot;0 1 0 * * ?&quot;);\n    cronExpression.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\n    Date date = Date.from(Instant.ofEpochSecond(prevRun)); =&gt; Outputs Tue Mar 07 23:01:05 PST 2023\n    Date nextRun = cronExpression.getNextValidTimeAfter(prevRun); =&gt; Outputs Wed Mar 08 16:01:00 PST 2023\n</code></pre>\n<p>The fourth line always gives in the local system time zone which is why the cron gives this output.\nAny advice on how I can get a new run in UTC time format for the above cron expression? I am using a cron quartz expression parser for my current use case.</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":5360271,"reputation":4735,"user_id":4271755,"accept_rate":100,"display_name":"Invisible Arrow"},"score":1,"creation_date":1424452977,"post_id":28634586,"comment_id":45569247,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/9482309/javadoc-bug-link-cant-handle-generics","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9482309/javadoc-bug-link-cant-handle-generics\" title=\"javadoc bug link cant handle generics\">stackoverflow.com/questions/9482309/&hellip;</a>"},{"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"score":0,"creation_date":1424452993,"post_id":28634586,"comment_id":45569254,"body_markdown":"Type parameters do not change the signature of the methods and so there is no chance you are going to have more than one method with two different component types for the list argument; that would result in a compilation error. So the link will always work. If what you are worried about is the text that appears in the final documentation link you can control that with a their argument for the {@link annotation.","body":"Type parameters do not change the signature of the methods and so there is no chance you are going to have more than one method with two different component types for the list argument; that would result in a compilation error. So the link will always work. If what you are worried about is the text that appears in the final documentation link you can control that with a their argument for the {@link annotation."},{"owner":{"account_id":10069,"reputation":55091,"user_id":18852,"accept_rate":67,"display_name":"Senthil Kumaran"},"score":0,"creation_date":1424453037,"post_id":28634586,"comment_id":45569287,"body_markdown":"This question is not generics.","body":"This question is not generics."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1424453683,"post_id":28634586,"comment_id":45569664,"body_markdown":"@ValentinRuano, I think I see what you&#39;re getting at, but type parameters are significant in the signature -- the output type of a call can be affected by type parameters that appear in the signature.  Type parameters in the signature do not affect static dispatch though -- you can&#39;t overload a method by changing only type parameters so you can&#39;t affect which method is called by adding or specializing type parameters to the static type of inputs.","body":"@ValentinRuano, I think I see what you&#39;re getting at, but type parameters are significant in the signature -- the output type of a call can be affected by type parameters that appear in the signature.  Type parameters in the signature do not affect static dispatch though -- you can&#39;t overload a method by changing only type parameters so you can&#39;t affect which method is called by adding or specializing type parameters to the static type of inputs."},{"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"score":0,"creation_date":1424456931,"post_id":28634586,"comment_id":45571346,"body_markdown":"@MikeSamuel the return type may change but overloaded methods should pretty much do the same albeit with different input parameters. I think that if it is important for the documentation that the link (note that this is just a link) has the full list of args (specially if more than 2) to understand it, is a sign that either you are over-overloading or the documentation around that link can be written better. I think that the main reason behind the possibility of adding the formal arguments is to de-ambiguate the link itself and not documenting per se; the user should follow the link for that","body":"@MikeSamuel the return type may change but overloaded methods should pretty much do the same albeit with different input parameters. I think that if it is important for the documentation that the link (note that this is just a link) has the full list of args (specially if more than 2) to understand it, is a sign that either you are over-overloading or the documentation around that link can be written better. I think that the main reason behind the possibility of adding the formal arguments is to de-ambiguate the link itself and not documenting per se; the user should follow the link for that"}],"answers":[{"tags":[],"owner":{"account_id":411202,"reputation":41987,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424453102,"creation_date":1424453102,"answer_id":28634729,"question_id":28634586,"body_markdown":"That should work:\r\n\r\n    {@link #getVersionMetadata(String, String, String, List)}\r\n","title":"Javadoc link tag with List parameter","body":"<p>That should work:</p>\n\n<pre><code>{@link #getVersionMetadata(String, String, String, List)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1424453249,"creation_date":1424453249,"answer_id":28634784,"question_id":28634586,"body_markdown":"You can change the text in the link to reflect the list type parameter like so...\r\n\r\n       {@link #getVersionMetadata(String, String, String, List) getVersionMetaData(String,String,String,List&amp;lt;String&amp;gt;)}","title":"Javadoc link tag with List parameter","body":"<p>You can change the text in the link to reflect the list type parameter like so...</p>\n\n<pre><code>   {@link #getVersionMetadata(String, String, String, List) getVersionMetaData(String,String,String,List&amp;lt;String&amp;gt;)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27969916,"reputation":1,"user_id":21359844,"display_name":"Jesse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678323443,"creation_date":1678323443,"answer_id":75679519,"question_id":28634586,"body_markdown":"An alternative which works in IntelliJ and actually links to the classes. I&#39;m unsure how it will appear in other IDEs.\r\n```\r\n{@link List}&lt;{@link String}&gt;\r\n```","title":"Javadoc link tag with List parameter","body":"<p>An alternative which works in IntelliJ and actually links to the classes. I'm unsure how it will appear in other IDEs.</p>\n<pre><code>{@link List}&lt;{@link String}&gt;\n</code></pre>\n"}],"owner":{"account_id":10069,"reputation":55091,"user_id":18852,"accept_rate":67,"display_name":"Senthil Kumaran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28634784,"answer_count":3,"score":1,"last_activity_date":1678323443,"creation_date":1424452587,"question_id":28634586,"body_markdown":"I was writing a javadoc link tag, with the parameter List as something like this.\r\n\r\n    {@link #getVersionMetadata(String, String, String, List&lt;String&gt;)\r\n\r\nIt does not feel right to me. And escaping the `&lt;` and `&gt;` does not seem acceptable by the IDE.\r\n\r\n    {@link #getVersionMetadata(String, String, String, List&amp;lt;String&amp;gt;)\r\n\r\nWhat is the correct way to use List&lt;&gt; with javadoc @link?","title":"Javadoc link tag with List parameter","body":"<p>I was writing a javadoc link tag, with the parameter List as something like this.</p>\n\n<pre><code>{@link #getVersionMetadata(String, String, String, List&lt;String&gt;)\n</code></pre>\n\n<p>It does not feel right to me. And escaping the <code>&lt;</code> and <code>&gt;</code> does not seem acceptable by the IDE.</p>\n\n<pre><code>{@link #getVersionMetadata(String, String, String, List&amp;lt;String&amp;gt;)\n</code></pre>\n\n<p>What is the correct way to use List&lt;> with javadoc @link?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9402,"page":590,"page_size":100}
