{"items":[{"tags":["java","azure","caching","redis","vert.x"],"owner":{"account_id":14778997,"reputation":1,"user_id":10672956,"display_name":"Prasanna R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701580812,"creation_date":1701540373,"question_id":77591612,"body_markdown":"I am trying to connect to Azure cache for redis (6.0) using Java vertx framework in ssl mode and it&#39;s not getting connected. I was able to connect using Java via setting verifypeer false based on various forums. But i am not able to find the equivalent of it for Java vertx.if anyone has any pointers, pl share\r\n\r\nWe tried by removing the username by jus passing host, port, ssl= true and password\r\nWe are expecting a sample fir verifypeer = false in Java vertx\r\n\r\nWe tried referring to Java vertx redis - https://vertx.io/docs/vertx-redis-client/java/\r\nbut there is no reference to setting verifyPeer = false\r\n\r\nWhat i understand is that there is an issue with SSL certificate verification with Azure Cache for Redis (as mentioned in various forums) and we changed the Java code to include verifyPeer=false and it worked for Java and Nodejs. But we have not been able to work for Java vertx","title":"Java vertx + Redis + Azure cache for redis","body":"<p>I am trying to connect to Azure cache for redis (6.0) using Java vertx framework in ssl mode and it's not getting connected. I was able to connect using Java via setting verifypeer false based on various forums. But i am not able to find the equivalent of it for Java vertx.if anyone has any pointers, pl share</p>\n<p>We tried by removing the username by jus passing host, port, ssl= true and password\nWe are expecting a sample fir verifypeer = false in Java vertx</p>\n<p>We tried referring to Java vertx redis - <a href=\"https://vertx.io/docs/vertx-redis-client/java/\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-redis-client/java/</a>\nbut there is no reference to setting verifyPeer = false</p>\n<p>What i understand is that there is an issue with SSL certificate verification with Azure Cache for Redis (as mentioned in various forums) and we changed the Java code to include verifyPeer=false and it worked for Java and Nodejs. But we have not been able to work for Java vertx</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1629874928,"post_id":68915762,"comment_id":121798760,"body_markdown":"Do you mean you want a feature like multi-select modules then go on next steps instead of selecting them one by one? You may put a feature request in [microsoft/vscode-maven](https://github.com/microsoft/vscode-maven/issues).","body":"Do you mean you want a feature like multi-select modules then go on next steps instead of selecting them one by one? You may put a feature request in <a href=\"https://github.com/microsoft/vscode-maven/issues\" rel=\"nofollow noreferrer\">microsoft/vscode-maven</a>."},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1629908887,"post_id":68915762,"comment_id":121813694,"body_markdown":"I just started using VSCode, so I don&#39;t really know whether this is a How-To or a Feature Request. Ultimately I would like to remove repetitive manual steps, i.e. when I edit code, the changes would be quickly reflected in the local deploy, without me having to do anything manual to re-build and re-deploy. Given the popularity of VSCode, my initial assumption is that there must be a way to do this. Eclipse has supported this since the early 2000&#39;s.","body":"I just started using VSCode, so I don&#39;t really know whether this is a How-To or a Feature Request. Ultimately I would like to remove repetitive manual steps, i.e. when I edit code, the changes would be quickly reflected in the local deploy, without me having to do anything manual to re-build and re-deploy. Given the popularity of VSCode, my initial assumption is that there must be a way to do this. Eclipse has supported this since the early 2000&#39;s."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1629919593,"post_id":68915762,"comment_id":121817615,"body_markdown":"`mvn war:exploded` why do you need that every time you change your code? Do you use tests?","body":"<code>mvn war:exploded</code> why do you need that every time you change your code? Do you use tests?"},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1630011142,"post_id":68915762,"comment_id":121846521,"body_markdown":"@khmarbaise I have to run the `mvn war:exploded` to update the files in the `classes\\appname` folder which are read by Tomcat. Are you asking a rhetorical question, i.e. are you saying there is a way to avoid this or that I shouldn&#39;t have to use it?","body":"@khmarbaise I have to run the <code>mvn war:exploded</code> to update the files in the <code>classes\\appname</code> folder which are read by Tomcat. Are you asking a rhetorical question, i.e. are you saying there is a way to avoid this or that I shouldn&#39;t have to use it?"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1630033807,"post_id":68915762,"comment_id":121850731,"body_markdown":"@AlexR. It indeed can automatically rebuild project if you add or remove dependencies, but the feature in your origin question i can&#39;t find in extension **maven for java**, so i suggest you to put a feature request in github. If the feature already exists, you may get answer in github.","body":"@AlexR. It indeed can automatically rebuild project if you add or remove dependencies, but the feature in your origin question i can&#39;t find in extension <b>maven for java</b>, so i suggest you to put a feature request in github. If the feature already exists, you may get answer in github."}],"answers":[{"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1701537550,"post_id":77550005,"comment_id":136789237,"body_markdown":"Thank you. I&#39;ve decided to award you the 50 points reputation but still leave the answer unselected for now. Because although your answer gets me closer to a solution, it&#39;s still not a true incremental build. I will leave the question open in case things change in the future and a correct answer emerges.","body":"Thank you. I&#39;ve decided to award you the 50 points reputation but still leave the answer unselected for now. Because although your answer gets me closer to a solution, it&#39;s still not a true incremental build. I will leave the question open in case things change in the future and a correct answer emerges."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1701554685,"post_id":77550005,"comment_id":136790971,"body_markdown":"@AlexR OK, I have edited the answer to try and get closer to a true incremental build.","body":"@AlexR OK, I have edited the answer to try and get closer to a true incremental build."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701554643,"creation_date":1700957407,"answer_id":77550005,"question_id":68915762,"body_markdown":"&gt; in the hopes there there is a little-known extension or ways to configure VSCode for parity with Eclipse.\r\n\r\nAnd... [I do not see any extension](https://marketplace.visualstudio.com/search?term=maven+module&amp;target=VSCode&amp;category=All+categories&amp;sortBy=Relevance) matching this description: [`microsoft/vscode-maven` issue 821](https://github.com/microsoft/vscode-maven/issues/821) opened in Aug. 2022 is still opened (&quot;Is there a way to create Multi-Module Maven in VSCode?&quot;).\r\n\r\nFor now, you might consider automating the build and deployment process through [Maven](https://maven.apache.org/guides/index.html).  \r\nYou can use Maven profiles and lifecycle phases to automatically handle the build (`mvn package`) and deployment (`mvn war:exploded`) steps. Create a script or use Maven plugins to trigger these commands upon code changes.\r\n\r\n\r\n```xml\r\n&lt;!-- In your pom.xml --&gt;\r\n&lt;profiles&gt;\r\n    &lt;profile&gt;\r\n        &lt;id&gt;auto-deploy&lt;/id&gt;\r\n        &lt;activation&gt;\r\n            &lt;!-- Activation configuration (if needed) --&gt;\r\n        &lt;/activation&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- Configure your build and deploy plugins here --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- Configuration for war:exploded --&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\nSince Maven does not directly support watching files for changes, you can use a simple shell script to monitor file changes and trigger Maven commands.\r\n\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\nwhile true; do\r\n    # Check for file changes in src directory\r\n    change=$(inotifywait -r -e modify,create,delete --format &#39;%w%f&#39; src/)\r\n\r\n    echo &quot;Detected change in $change&quot;\r\n    # Run Maven commands\r\n    mvn -Pauto-deploy clean package war:exploded\r\n\r\n    # Optional: Restart Tomcat or deploy to a server\r\ndone\r\n```\r\n\r\nThat script uses [`inotifywait`](https://linux.die.net/man/1/inotifywait) (as in [this answer](https://unix.stackexchange.com/a/323919/7490)) to monitor changes in the `src/` directory. When a change is detected, it runs Maven with the `auto-deploy` profile. You will need to install [`inotify-tools`](https://github.com/inotify-tools/inotify-tools/wiki) to use `inotifywait`.\r\n\r\n----\r\n\r\n&gt; It&#39;s still not a true incremental build\r\n\r\nIncremental builds involve only compiling and deploying the parts of the project that have changed, rather than rebuilding the entire project each time. That can be challenging to implement manually, but can be achieved with the right setup.\r\n\r\nMaven does not natively support incremental builds in the way modern build tools like Gradle do. However, you can use the `maven-compiler-plugin` with its [incremental compilation feature](https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#useIncrementalCompilation). That plugin only recompiles the classes that have changed or are affected by changes.\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;useIncrementalCompilation&gt;true&lt;/useIncrementalCompilation&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- Other plugins --&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nModify the script to better detect changes and only trigger the necessary Maven goals for affected modules. That requires a more sophisticated script that can determine which modules have changed and only execute Maven commands for those modules.  \r\nAs an example:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\n# Function to determine affected modules\r\ndetermine_changed_modules() {\r\n    # Logic to determine which modules have changed\r\n    # Returns a list of changed modules\r\n}\r\n\r\nwhile true; do\r\n    change=$(inotifywait -r -e modify,create,delete --format &#39;%w%f&#39; src/)\r\n    echo &quot;Detected change in $change&quot;\r\n\r\n    # Determine which modules are affected\r\n    changed_modules=$(determine_changed_modules &quot;$change&quot;)\r\n\r\n    # Run Maven commands only for affected modules\r\n    for module in $changed_modules; do\r\n        mvn -pl $module -am clean package war:exploded\r\n    done\r\n\r\n    # Optional: Restart Tomcat or deploy to a server for affected modules\r\ndone\r\n```\r\n\r\nFor complex projects with many modules and interdependencies, achieving a true incremental build can be intricate. In such cases, consider using a build tool like Gradle, which has more advanced support for incremental builds.","title":"Is there a more efficient way to setup multi-module Java WAR projects in VSCode?","body":"<blockquote>\n<p>in the hopes there there is a little-known extension or ways to configure VSCode for parity with Eclipse.</p>\n</blockquote>\n<p>And... <a href=\"https://marketplace.visualstudio.com/search?term=maven+module&amp;target=VSCode&amp;category=All+categories&amp;sortBy=Relevance\" rel=\"nofollow noreferrer\">I do not see any extension</a> matching this description: <a href=\"https://github.com/microsoft/vscode-maven/issues/821\" rel=\"nofollow noreferrer\"><code>microsoft/vscode-maven</code> issue 821</a> opened in Aug. 2022 is still opened (&quot;Is there a way to create Multi-Module Maven in VSCode?&quot;).</p>\n<p>For now, you might consider automating the build and deployment process through <a href=\"https://maven.apache.org/guides/index.html\" rel=\"nofollow noreferrer\">Maven</a>.<br />\nYou can use Maven profiles and lifecycle phases to automatically handle the build (<code>mvn package</code>) and deployment (<code>mvn war:exploded</code>) steps. Create a script or use Maven plugins to trigger these commands upon code changes.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- In your pom.xml --&gt;\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;auto-deploy&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;!-- Activation configuration (if needed) --&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;!-- Configure your build and deploy plugins here --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;!-- Configuration for war:exploded --&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>Since Maven does not directly support watching files for changes, you can use a simple shell script to monitor file changes and trigger Maven commands.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nwhile true; do\n    # Check for file changes in src directory\n    change=$(inotifywait -r -e modify,create,delete --format '%w%f' src/)\n\n    echo &quot;Detected change in $change&quot;\n    # Run Maven commands\n    mvn -Pauto-deploy clean package war:exploded\n\n    # Optional: Restart Tomcat or deploy to a server\ndone\n</code></pre>\n<p>That script uses <a href=\"https://linux.die.net/man/1/inotifywait\" rel=\"nofollow noreferrer\"><code>inotifywait</code></a> (as in <a href=\"https://unix.stackexchange.com/a/323919/7490\">this answer</a>) to monitor changes in the <code>src/</code> directory. When a change is detected, it runs Maven with the <code>auto-deploy</code> profile. You will need to install <a href=\"https://github.com/inotify-tools/inotify-tools/wiki\" rel=\"nofollow noreferrer\"><code>inotify-tools</code></a> to use <code>inotifywait</code>.</p>\n<hr />\n<blockquote>\n<p>It's still not a true incremental build</p>\n</blockquote>\n<p>Incremental builds involve only compiling and deploying the parts of the project that have changed, rather than rebuilding the entire project each time. That can be challenging to implement manually, but can be achieved with the right setup.</p>\n<p>Maven does not natively support incremental builds in the way modern build tools like Gradle do. However, you can use the <code>maven-compiler-plugin</code> with its <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#useIncrementalCompilation\" rel=\"nofollow noreferrer\">incremental compilation feature</a>. That plugin only recompiles the classes that have changed or are affected by changes.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;useIncrementalCompilation&gt;true&lt;/useIncrementalCompilation&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- Other plugins --&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Modify the script to better detect changes and only trigger the necessary Maven goals for affected modules. That requires a more sophisticated script that can determine which modules have changed and only execute Maven commands for those modules.<br />\nAs an example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Function to determine affected modules\ndetermine_changed_modules() {\n    # Logic to determine which modules have changed\n    # Returns a list of changed modules\n}\n\nwhile true; do\n    change=$(inotifywait -r -e modify,create,delete --format '%w%f' src/)\n    echo &quot;Detected change in $change&quot;\n\n    # Determine which modules are affected\n    changed_modules=$(determine_changed_modules &quot;$change&quot;)\n\n    # Run Maven commands only for affected modules\n    for module in $changed_modules; do\n        mvn -pl $module -am clean package war:exploded\n    done\n\n    # Optional: Restart Tomcat or deploy to a server for affected modules\ndone\n</code></pre>\n<p>For complex projects with many modules and interdependencies, achieving a true incremental build can be intricate. In such cases, consider using a build tool like Gradle, which has more advanced support for incremental builds.</p>\n"},{"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1701537587,"post_id":77590280,"comment_id":136789242,"body_markdown":"Thank you. I did use this, but it doesn&#39;t address the main issue of having to do a bunch of stuff manually.","body":"Thank you. I did use this, but it doesn&#39;t address the main issue of having to do a bunch of stuff manually."},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701541238,"post_id":77590280,"comment_id":136789619,"body_markdown":"Yes I was not sure what was the issue, I completed the answer to better understand your need :)","body":"Yes I was not sure what was the issue, I completed the answer to better understand your need :)"},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1701548326,"post_id":77590280,"comment_id":136790357,"body_markdown":"Yes, your 2nd screenshot is part of the functionality I&#39;m alluding to. But it goes beyond just the ability to launch a single Tomcat server which is what your screenshot shows. It&#39;s also what happens after you launch it. In Eclipse you get &quot;hot code replace&quot; for very fast edit/test cycles without having to run a time-consuming build process each time, and the code can be organized into multiple Maven modules (effectively, separate projects which link together through CLASSPATH settings).","body":"Yes, your 2nd screenshot is part of the functionality I&#39;m alluding to. But it goes beyond just the ability to launch a single Tomcat server which is what your screenshot shows. It&#39;s also what happens after you launch it. In Eclipse you get &quot;hot code replace&quot; for very fast edit/test cycles without having to run a time-consuming build process each time, and the code can be organized into multiple Maven modules (effectively, separate projects which link together through CLASSPATH settings)."},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701580804,"post_id":77590280,"comment_id":136792543,"body_markdown":"I&#39;m a huge fan of eclipse for that kind of functionnality even if now, with SB applications and embedded servers,.I don&#39;t use this anymore. I&#39;ve added another link in the answer. Maybe you&#39;ll find something interesting in that extension","body":"I&#39;m a huge fan of eclipse for that kind of functionnality even if now, with SB applications and embedded servers,.I don&#39;t use this anymore. I&#39;ve added another link in the answer. Maybe you&#39;ll find something interesting in that extension"}],"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701580670,"creation_date":1701518897,"answer_id":77590280,"question_id":68915762,"body_markdown":"Did you get the [Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) (extension ID : `vscjava.vscode-java-pack`) ?\r\n\r\nIt includes many extension like :\r\n\r\n    &#128230; Language Support for Java™ by Red Hat\r\n        Code Navigation\r\n        Auto Completion\r\n        Refactoring\r\n        Code Snippets\r\n    &#128230; Debugger for Java\r\n        Debugging\r\n    &#128230; Test Runner for Java\r\n        Run &amp; Debug JUnit/TestNG Test Cases\r\n    &#128230; Maven for Java\r\n        Project Scaffolding\r\n        Custom Goals\r\n    &#128230; Project Manager for Java\r\n        Manage Java projects, referenced libraries, resource files, packages, classes, and class members\r\n    &#128230; Visual Studio IntelliCode\r\n        AI-assisted development\r\n        Completion list ranked by AI\r\n\r\nDid you mean the following equivalent in VSCode of this in Eclipse :\r\n[![servers view eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QZkBj.png\r\n\r\nIf so, the [following extension](https://code.visualstudio.com/docs/java/java-tomcat-jetty) could help.","title":"Is there a more efficient way to setup multi-module Java WAR projects in VSCode?","body":"<p>Did you get the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a> (extension ID : <code>vscjava.vscode-java-pack</code>) ?</p>\n<p>It includes many extension like :</p>\n<pre><code>📦 Language Support for Java™ by Red Hat\n    Code Navigation\n    Auto Completion\n    Refactoring\n    Code Snippets\n📦 Debugger for Java\n    Debugging\n📦 Test Runner for Java\n    Run &amp; Debug JUnit/TestNG Test Cases\n📦 Maven for Java\n    Project Scaffolding\n    Custom Goals\n📦 Project Manager for Java\n    Manage Java projects, referenced libraries, resource files, packages, classes, and class members\n📦 Visual Studio IntelliCode\n    AI-assisted development\n    Completion list ranked by AI\n</code></pre>\n<p>Did you mean the following equivalent in VSCode of this in Eclipse :\n<a href=\"https://i.stack.imgur.com/QZkBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QZkBj.png\" alt=\"servers view eclipse\" /></a></p>\n<p>If so, the <a href=\"https://code.visualstudio.com/docs/java/java-tomcat-jetty\" rel=\"nofollow noreferrer\">following extension</a> could help.</p>\n"}],"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701580670,"creation_date":1629855215,"question_id":68915762,"body_markdown":"I inherited a multi-module Maven project that had been maintained using Eclipse, and now I really want to use VSCode instead.\r\n\r\nIt seems the VSCode best practice (based on this [video][1]) is to run `mvn war:exploded` and then right-click `target/classes` to launch each of the modules into Tomcat.\r\n\r\nThis is very laborious for a project with several modules, and also time-consuming considering I need to run `mvn package` before `mvn war:exploded` every time the code is changed.\r\n\r\nIs there a way to setup VSCode to remove some or all of the recurring manual steps, and provide an experience that feels more like incremental compile &amp; hot-deploy?\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=R9mugpHWr14\r\n\r\n**TL;DR**\r\n\r\nHow can VSCode be setup to be as productive and convenient as Eclipse for complex Java multi-module projects?","title":"Is there a more efficient way to setup multi-module Java WAR projects in VSCode?","body":"<p>I inherited a multi-module Maven project that had been maintained using Eclipse, and now I really want to use VSCode instead.</p>\n<p>It seems the VSCode best practice (based on this <a href=\"https://www.youtube.com/watch?v=R9mugpHWr14\" rel=\"nofollow noreferrer\">video</a>) is to run <code>mvn war:exploded</code> and then right-click <code>target/classes</code> to launch each of the modules into Tomcat.</p>\n<p>This is very laborious for a project with several modules, and also time-consuming considering I need to run <code>mvn package</code> before <code>mvn war:exploded</code> every time the code is changed.</p>\n<p>Is there a way to setup VSCode to remove some or all of the recurring manual steps, and provide an experience that feels more like incremental compile &amp; hot-deploy?</p>\n<p><strong>TL;DR</strong></p>\n<p>How can VSCode be setup to be as productive and convenient as Eclipse for complex Java multi-module projects?</p>\n"},{"tags":["java","authentication","security","electron","fiddler"],"owner":{"account_id":30052215,"reputation":1,"user_id":23030413,"display_name":"evervess"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701579690,"creation_date":1701579690,"question_id":77593078,"body_markdown":"I am working on the authentication and protection against Fiddler and its counterparts simultaneously. I have found a lot of resources online that could help me with this, but I haven&#39;t achieved the desired results. Below, I have attached everything I have tried.\r\n\r\nI also found an interesting piece of code on Github that uses ElectronJS and does exactly what I need. I attempted to replicate it in Java, but again, I was unsuccessful.\r\n\r\nI hope you can help me; I have been struggling with this for a long time.\r\n\r\n\r\n\r\nElectronJS part (from [Github](https://github.com/overnote/over-javascript/blob/791c979f07cf7fac524e3c784805bc6f2ae90316/附录-Electron/08.1-Electron安全问题.md?plain=1#L91))\r\n\r\n```js\r\n    session.setCertificateVerifyProc((request, callback) =&gt; {\r\n        if (request.certificate.issuer.commonName == &#39;DO_NOT_TRUST_FiddlerRoot&#39;) {\r\n            // 假设现在安装的是 Fiddler 的证书\r\n            callback(-2) // 如果不符合预期，传入 -2 驳回\r\n        } else {\r\n            callback(-3) // -3 表示使用 Chromium 的验证结果，0 表示成功并禁止使用证书透明度验证\r\n        }\r\n    })\r\n```\r\n\r\nMy attempt to replicate\r\n```java\r\n    SSLSocketFactory factory = HttpsURLConnection.getDefaultSSLSocketFactory();\r\n    SSLSocket socket = (SSLSocket) factory.createSocket(&quot;XXX&quot;, 443);\r\n    socket.startHandshake();\r\n    SSLSession session = socket.getSession();\r\n\r\n    for (Certificate certificate : session.getPeerCertificates()) {\r\n        X509Certificate cert = (X509Certificate) certificate;\r\n        System.out.println(cert.getIssuerDN().getName());\r\n        if (cert.getIssuerDN().getName().contains(&quot;DO_NOT_TRUST_FiddlerRoot&quot;)) {\r\n            throw new SSLHandshakeException(&quot;Invalid certificate&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nThe result when Fiddler is not running \r\n&gt; CN=GlobalSign ECC OV SSL CA 2018, O=GlobalSign nv-sa, C=BE\r\n&gt; CN=GlobalSign, O=GlobalSign, OU=GlobalSign ECC Root CA - R5\r\n&gt; CN=GlobalSign Root CA, OU=Root CA, O=GlobalSign nv-sa, C=BE\r\n\r\nThe result when Fiddler is running\r\n&gt; CN=GlobalSign ECC OV SSL CA 2018, O=GlobalSign nv-sa, C=BE\r\n&gt; CN=GlobalSign, O=GlobalSign, OU=GlobalSign ECC Root CA - R5\r\n&gt; CN=GlobalSign Root CA, OU=Root CA, O=GlobalSign nv-sa, C=BE\r\n\r\nThe Fiddler HTTPS certificate is installed, everything is good with that\r\n\r\nAnd many, many other options, tried using not just getPeerCertificates, but for example getLocalCertificates, but it returned null","title":"Struggling with Fiddler and Security Challenges: Seeking Help in Java Replication","body":"<p>I am working on the authentication and protection against Fiddler and its counterparts simultaneously. I have found a lot of resources online that could help me with this, but I haven't achieved the desired results. Below, I have attached everything I have tried.</p>\n<p>I also found an interesting piece of code on Github that uses ElectronJS and does exactly what I need. I attempted to replicate it in Java, but again, I was unsuccessful.</p>\n<p>I hope you can help me; I have been struggling with this for a long time.</p>\n<p>ElectronJS part (from <a href=\"https://github.com/overnote/over-javascript/blob/791c979f07cf7fac524e3c784805bc6f2ae90316/%E9%99%84%E5%BD%95-Electron/08.1-Electron%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98.md?plain=1#L91\" rel=\"nofollow noreferrer\">Github</a>)</p>\n<pre class=\"lang-js prettyprint-override\"><code>    session.setCertificateVerifyProc((request, callback) =&gt; {\n        if (request.certificate.issuer.commonName == 'DO_NOT_TRUST_FiddlerRoot') {\n            // 假设现在安装的是 Fiddler 的证书\n            callback(-2) // 如果不符合预期，传入 -2 驳回\n        } else {\n            callback(-3) // -3 表示使用 Chromium 的验证结果，0 表示成功并禁止使用证书透明度验证\n        }\n    })\n</code></pre>\n<p>My attempt to replicate</p>\n<pre class=\"lang-java prettyprint-override\"><code>    SSLSocketFactory factory = HttpsURLConnection.getDefaultSSLSocketFactory();\n    SSLSocket socket = (SSLSocket) factory.createSocket(&quot;XXX&quot;, 443);\n    socket.startHandshake();\n    SSLSession session = socket.getSession();\n\n    for (Certificate certificate : session.getPeerCertificates()) {\n        X509Certificate cert = (X509Certificate) certificate;\n        System.out.println(cert.getIssuerDN().getName());\n        if (cert.getIssuerDN().getName().contains(&quot;DO_NOT_TRUST_FiddlerRoot&quot;)) {\n            throw new SSLHandshakeException(&quot;Invalid certificate&quot;);\n        }\n    }\n</code></pre>\n<p>The result when Fiddler is not running</p>\n<blockquote>\n<p>CN=GlobalSign ECC OV SSL CA 2018, O=GlobalSign nv-sa, C=BE\nCN=GlobalSign, O=GlobalSign, OU=GlobalSign ECC Root CA - R5\nCN=GlobalSign Root CA, OU=Root CA, O=GlobalSign nv-sa, C=BE</p>\n</blockquote>\n<p>The result when Fiddler is running</p>\n<blockquote>\n<p>CN=GlobalSign ECC OV SSL CA 2018, O=GlobalSign nv-sa, C=BE\nCN=GlobalSign, O=GlobalSign, OU=GlobalSign ECC Root CA - R5\nCN=GlobalSign Root CA, OU=Root CA, O=GlobalSign nv-sa, C=BE</p>\n</blockquote>\n<p>The Fiddler HTTPS certificate is installed, everything is good with that</p>\n<p>And many, many other options, tried using not just getPeerCertificates, but for example getLocalCertificates, but it returned null</p>\n"},{"tags":["java","web-services","soap","wsdl","jax-ws"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1406728394,"post_id":25038393,"comment_id":38942800,"body_markdown":"It looks like you are trying to make TestClassA a &quot;remote&quot; object like in RMI.  This isn&#39;t how jaxws works (or webservices in general).  The objects returned from a jax-ws service call are simple DTO&#39;s.","body":"It looks like you are trying to make TestClassA a &quot;remote&quot; object like in RMI.  This isn&#39;t how jaxws works (or webservices in general).  The objects returned from a jax-ws service call are simple DTO&#39;s."},{"owner":{"account_id":4820854,"reputation":1,"user_id":3891579,"display_name":"Sagi S"},"score":0,"creation_date":1406734103,"post_id":25038393,"comment_id":38947032,"body_markdown":"Thsnks for your answer.  Do you know a good way to do that in Web Service.  I want that MyClientApiV2_5 will be entry point to different APIs. I don&#39;t want to expose all the method s in one class and also not to have several entry points.","body":"Thsnks for your answer.  Do you know a good way to do that in Web Service.  I want that MyClientApiV2_5 will be entry point to different APIs. I don&#39;t want to expose all the method s in one class and also not to have several entry points."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1406734574,"post_id":25038393,"comment_id":38947365,"body_markdown":"i don&#39;t think there is a way to &quot;link&quot; services in jax-ws.  you basically need to have separate entry-points to the separate services.  you could have a top-level &quot;service&quot; which has methods which return Strings which are the urls of the other sub-services.","body":"i don&#39;t think there is a way to &quot;link&quot; services in jax-ws.  you basically need to have separate entry-points to the separate services.  you could have a top-level &quot;service&quot; which has methods which return Strings which are the urls of the other sub-services."}],"answers":[{"comments":[{"owner":{"account_id":4820854,"reputation":1,"user_id":3891579,"display_name":"Sagi S"},"score":0,"creation_date":1406742153,"post_id":25042174,"comment_id":38952195,"body_markdown":"Thanks, I will check it tomorrow","body":"Thanks, I will check it tomorrow"},{"owner":{"account_id":4820854,"reputation":1,"user_id":3891579,"display_name":"Sagi S"},"score":0,"creation_date":1406812042,"post_id":25042174,"comment_id":38982527,"body_markdown":"Thanks, I understand that I need to change approach.","body":"Thanks, I understand that I need to change approach."}],"tags":[],"owner":{"account_id":2910018,"reputation":88,"user_id":2494477,"display_name":"mt523"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406738250,"creation_date":1406737939,"answer_id":25042174,"question_id":25038393,"body_markdown":"Add the @XmlRootElement annotation. JaxB will then handle marshalling/unmarshalling your complex types. By default, public fields will be bound automatically, but you can also annotate them yourself with @XmlElement.\r\n\r\n    package test.api.soap.server;\r\n    \r\n    @XmlRootElement\r\n    public class TestClassA {\r\n    \r\n        public TestClassA() {\r\n    \r\n        }\r\n    \r\n        public String doA() {\r\n            System.out.println(&quot;Start doA()&quot;);\r\n            return &quot;In do A&quot;;\r\n        }\r\n    }","title":"Return custom object from Web services using JAX-WS","body":"<p>Add the @XmlRootElement annotation. JaxB will then handle marshalling/unmarshalling your complex types. By default, public fields will be bound automatically, but you can also annotate them yourself with @XmlElement.</p>\n\n<pre><code>package test.api.soap.server;\n\n@XmlRootElement\npublic class TestClassA {\n\n    public TestClassA() {\n\n    }\n\n    public String doA() {\n        System.out.println(\"Start doA()\");\n        return \"In do A\";\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4820854,"reputation":1,"user_id":3891579,"display_name":"Sagi S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701579680,"creation_date":1406727599,"question_id":25038393,"body_markdown":"The question is a little bit long but I wanted to supply all the information in advance\r\n\r\nI have the following class:\r\n\r\n    package test.api.soap.server;\r\n    \r\n    public class TestClassA {\r\n\r\n\t    public TestClassA() {\r\n\r\n\t    }\r\n\r\n\t    public String doA() {\r\n\t\t    System.out.println(&quot;Start doA()&quot;);\r\n\t\t    return &quot;In do A&quot;;\r\n\t    }\r\n    }\r\n\r\nI want to expose it as web service but not directly so i created wrapper class:\r\n    package test.api.soap.server;\r\n    \r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebService;\r\n    \r\n    @WebService\r\n    public class MyClientApiV2_5 {\r\n    \r\n\t    public MyClientApiV2_5() {\r\n    \r\n\t    }\r\n    \r\n\t    @WebMethod\r\n\t    public TestClassA getTestClassA() {\r\n\t    \treturn new TestClassA();\r\n\t    }\r\n    }\r\n\r\nI creating the server WSDL using standard wsgen in ant task:\r\n    \r\n    &lt;target name=&quot;Create-JAXWS-SOAP-Server&quot;&gt;\r\n    \t&lt;echo message=&quot;Generate SOAP server stubs&quot; /&gt;\r\n    \t&lt;exec executable=&quot;${wsgen-cmd}&quot;&gt;\r\n    \t\t&lt;arg value=&quot;-verbose&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-classpath&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;${build}&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-wsdl&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-d&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;${build}&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-r&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;wsdl&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-s&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;${src}&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-keep&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;test.api.soap.server.MyClientApiV2_5&quot; /&gt;\r\n    \t&lt;/exec&gt;\r\n    &lt;/target&gt; \r\n\r\nThe out come are 2 files:\r\n**MyClientApiV25Service.wsdl**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;!-- Generated by JAX-WS RI at http://jax-ws.dev.java.net. RI&#39;s version is JAX-WS RI 2.2.3-b01-. --&gt;\r\n    &lt;definitions targetNamespace=&quot;http://server.soap.api.test/&quot; name=&quot;MyClientApiV2_5Service&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; xmlns:tns=&quot;http://server.soap.api.test/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wsp1_2=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:wsam=&quot;http://www.w3.org/2007/05/addressing/metadata&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n      &lt;types&gt;\r\n        &lt;xsd:schema&gt;\r\n          &lt;xsd:import namespace=&quot;http://server.soap.api.test/&quot; schemaLocation=&quot;MyClientApiV25Service_schema1.xsd&quot;/&gt;\r\n        &lt;/xsd:schema&gt;\r\n      &lt;/types&gt;\r\n      &lt;message name=&quot;getTestClassA&quot;&gt;\r\n        &lt;part name=&quot;parameters&quot; element=&quot;tns:getTestClassA&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;getTestClassAResponse&quot;&gt;\r\n        &lt;part name=&quot;parameters&quot; element=&quot;tns:getTestClassAResponse&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;portType name=&quot;MyClientApiV2_5&quot;&gt;\r\n        &lt;operation name=&quot;getTestClassA&quot;&gt;\r\n          &lt;input wsam:Action=&quot;http://server.soap.api.test/MyClientApiV2_5/getTestClassARequest&quot; message=&quot;tns:getTestClassA&quot;/&gt;\r\n          &lt;output wsam:Action=&quot;http://server.soap.api.test/MyClientApiV2_5/getTestClassAResponse&quot; message=&quot;tns:getTestClassAResponse&quot;/&gt;\r\n        &lt;/operation&gt;\r\n      &lt;/portType&gt;\r\n      &lt;binding name=&quot;MyClientApiV2_5PortBinding&quot; type=&quot;tns:MyClientApiV2_5&quot;&gt;\r\n        &lt;soap:binding transport=&quot;http://schemas.xmlsoap.org/soap/http&quot; style=&quot;document&quot;/&gt;\r\n        &lt;operation name=&quot;getTestClassA&quot;&gt;\r\n          &lt;soap:operation soapAction=&quot;&quot;/&gt;\r\n          &lt;input&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/input&gt;\r\n          &lt;output&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/output&gt;\r\n        &lt;/operation&gt;\r\n      &lt;/binding&gt;\r\n      &lt;service name=&quot;MyClientApiV2_5Service&quot;&gt;\r\n        &lt;port name=&quot;MyClientApiV2_5Port&quot; binding=&quot;tns:MyClientApiV2_5PortBinding&quot;&gt;\r\n          &lt;soap:address location=&quot;REPLACE_WITH_ACTUAL_URL&quot;/&gt;\r\n        &lt;/port&gt;\r\n      &lt;/service&gt;\r\n    &lt;/definitions&gt;\r\n\r\n**MyClientApiV25Service_schema1.xsd**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;xs:schema version=&quot;1.0&quot; targetNamespace=&quot;http://server.soap.api.test/&quot; xmlns:tns=&quot;http://server.soap.api.test/&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n      &lt;xs:element name=&quot;getTestClassA&quot; type=&quot;tns:getTestClassA&quot;/&gt;\r\n      &lt;xs:element name=&quot;getTestClassAResponse&quot; type=&quot;tns:getTestClassAResponse&quot;/&gt;\r\n      &lt;xs:complexType name=&quot;getTestClassA&quot;&gt;\r\n        &lt;xs:sequence/&gt;\r\n      &lt;/xs:complexType&gt;\r\n      &lt;xs:complexType name=&quot;getTestClassAResponse&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n          &lt;xs:element name=&quot;return&quot; type=&quot;tns:testClassA&quot; minOccurs=&quot;0&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n      &lt;/xs:complexType&gt;\r\n      &lt;xs:complexType name=&quot;testClassA&quot;&gt;\r\n        &lt;xs:sequence/&gt;\r\n      &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\nI created the client stub:\r\n\r\n    &lt;target name=&quot;Create-JAXWS-SOAP-Client&quot; &gt;\r\n    \t&lt;echo message=&quot;Generate SOAP client stubs&quot; /&gt;\r\n    \t&lt;exec executable=&quot;${wsimport-cmd}&quot;&gt;\r\n    \t\t&lt;arg value=&quot;-verbose&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-keep&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-s&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;${src}&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-d&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;${build}&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;-p&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;test.api.soap.client.stubs&quot; /&gt;\r\n    \t\t&lt;arg value=&quot;wsdl\\MyClientApiV25Service.wsdl&quot; /&gt;\r\n    \t&lt;/exec&gt;\r\n    &lt;/target&gt; \r\n\r\nI then write simple client class to get the web service:\r\n\r\n    package test.api.soap.client;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import test.api.soap.client.stubs.MyClientApiV25;\r\n    import test.api.soap.client.stubs.MyClientApiV25Service;\r\n    import test.api.soap.client.stubs.TestClassA;\r\n    \r\n    public class SampleClient {\r\n    \r\n    \tprivate MyClientApiV25\t       api\t       = null;\r\n    \tstatic MyClientApiV25Service service;\r\n    \r\n    \tpublic SampleClient() throws MalformedURLException {\r\n    \t\tapi = service.getMyClientApiV25Port();\r\n    \t\t\t\t\r\n    \t\tTestClassA testClass = api.getTestClassA();\r\n    \t\ttestClass.doA();\r\n    \t}\r\n    }\r\n\r\n**The problem is**:\r\nWriting testClass.doA(); returns: \r\n\r\n&gt; The method doA() is undefined for the type TestClassA\r\n\r\nAny suggestions?","title":"Return custom object from Web services using JAX-WS","body":"<p>The question is a little bit long but I wanted to supply all the information in advance</p>\n\n<p>I have the following class:</p>\n\n<pre><code>package test.api.soap.server;\n\npublic class TestClassA {\n\n    public TestClassA() {\n\n    }\n\n    public String doA() {\n        System.out.println(\"Start doA()\");\n        return \"In do A\";\n    }\n}\n</code></pre>\n\n<p>I want to expose it as web service but not directly so i created wrapper class:\n    package test.api.soap.server;</p>\n\n<pre><code>import javax.jws.WebMethod;\nimport javax.jws.WebService;\n\n@WebService\npublic class MyClientApiV2_5 {\n\n    public MyClientApiV2_5() {\n\n    }\n\n    @WebMethod\n    public TestClassA getTestClassA() {\n        return new TestClassA();\n    }\n}\n</code></pre>\n\n<p>I creating the server WSDL using standard wsgen in ant task:</p>\n\n<pre><code>&lt;target name=\"Create-JAXWS-SOAP-Server\"&gt;\n    &lt;echo message=\"Generate SOAP server stubs\" /&gt;\n    &lt;exec executable=\"${wsgen-cmd}\"&gt;\n        &lt;arg value=\"-verbose\" /&gt;\n        &lt;arg value=\"-classpath\" /&gt;\n        &lt;arg value=\"${build}\" /&gt;\n        &lt;arg value=\"-wsdl\" /&gt;\n        &lt;arg value=\"-d\" /&gt;\n        &lt;arg value=\"${build}\" /&gt;\n        &lt;arg value=\"-r\" /&gt;\n        &lt;arg value=\"wsdl\" /&gt;\n        &lt;arg value=\"-s\" /&gt;\n        &lt;arg value=\"${src}\" /&gt;\n        &lt;arg value=\"-keep\" /&gt;\n        &lt;arg value=\"test.api.soap.server.MyClientApiV2_5\" /&gt;\n    &lt;/exec&gt;\n&lt;/target&gt; \n</code></pre>\n\n<p>The out come are 2 files:\n<strong>MyClientApiV25Service.wsdl</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;!-- Generated by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is JAX-WS RI 2.2.3-b01-. --&gt;\n&lt;definitions targetNamespace=\"http://server.soap.api.test/\" name=\"MyClientApiV2_5Service\" xmlns=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:wsp=\"http://www.w3.org/ns/ws-policy\" xmlns:tns=\"http://server.soap.api.test/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:wsp1_2=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:wsam=\"http://www.w3.org/2007/05/addressing/metadata\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n  &lt;types&gt;\n    &lt;xsd:schema&gt;\n      &lt;xsd:import namespace=\"http://server.soap.api.test/\" schemaLocation=\"MyClientApiV25Service_schema1.xsd\"/&gt;\n    &lt;/xsd:schema&gt;\n  &lt;/types&gt;\n  &lt;message name=\"getTestClassA\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:getTestClassA\"/&gt;\n  &lt;/message&gt;\n  &lt;message name=\"getTestClassAResponse\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:getTestClassAResponse\"/&gt;\n  &lt;/message&gt;\n  &lt;portType name=\"MyClientApiV2_5\"&gt;\n    &lt;operation name=\"getTestClassA\"&gt;\n      &lt;input wsam:Action=\"http://server.soap.api.test/MyClientApiV2_5/getTestClassARequest\" message=\"tns:getTestClassA\"/&gt;\n      &lt;output wsam:Action=\"http://server.soap.api.test/MyClientApiV2_5/getTestClassAResponse\" message=\"tns:getTestClassAResponse\"/&gt;\n    &lt;/operation&gt;\n  &lt;/portType&gt;\n  &lt;binding name=\"MyClientApiV2_5PortBinding\" type=\"tns:MyClientApiV2_5\"&gt;\n    &lt;soap:binding transport=\"http://schemas.xmlsoap.org/soap/http\" style=\"document\"/&gt;\n    &lt;operation name=\"getTestClassA\"&gt;\n      &lt;soap:operation soapAction=\"\"/&gt;\n      &lt;input&gt;\n        &lt;soap:body use=\"literal\"/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soap:body use=\"literal\"/&gt;\n      &lt;/output&gt;\n    &lt;/operation&gt;\n  &lt;/binding&gt;\n  &lt;service name=\"MyClientApiV2_5Service\"&gt;\n    &lt;port name=\"MyClientApiV2_5Port\" binding=\"tns:MyClientApiV2_5PortBinding\"&gt;\n      &lt;soap:address location=\"REPLACE_WITH_ACTUAL_URL\"/&gt;\n    &lt;/port&gt;\n  &lt;/service&gt;\n&lt;/definitions&gt;\n</code></pre>\n\n<p><strong>MyClientApiV25Service_schema1.xsd</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;xs:schema version=\"1.0\" targetNamespace=\"http://server.soap.api.test/\" xmlns:tns=\"http://server.soap.api.test/\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;\n  &lt;xs:element name=\"getTestClassA\" type=\"tns:getTestClassA\"/&gt;\n  &lt;xs:element name=\"getTestClassAResponse\" type=\"tns:getTestClassAResponse\"/&gt;\n  &lt;xs:complexType name=\"getTestClassA\"&gt;\n    &lt;xs:sequence/&gt;\n  &lt;/xs:complexType&gt;\n  &lt;xs:complexType name=\"getTestClassAResponse\"&gt;\n    &lt;xs:sequence&gt;\n      &lt;xs:element name=\"return\" type=\"tns:testClassA\" minOccurs=\"0\"/&gt;\n    &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n  &lt;xs:complexType name=\"testClassA\"&gt;\n    &lt;xs:sequence/&gt;\n  &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>I created the client stub:</p>\n\n<pre><code>&lt;target name=\"Create-JAXWS-SOAP-Client\" &gt;\n    &lt;echo message=\"Generate SOAP client stubs\" /&gt;\n    &lt;exec executable=\"${wsimport-cmd}\"&gt;\n        &lt;arg value=\"-verbose\" /&gt;\n        &lt;arg value=\"-keep\" /&gt;\n        &lt;arg value=\"-s\" /&gt;\n        &lt;arg value=\"${src}\" /&gt;\n        &lt;arg value=\"-d\" /&gt;\n        &lt;arg value=\"${build}\" /&gt;\n        &lt;arg value=\"-p\" /&gt;\n        &lt;arg value=\"test.api.soap.client.stubs\" /&gt;\n        &lt;arg value=\"wsdl\\MyClientApiV25Service.wsdl\" /&gt;\n    &lt;/exec&gt;\n&lt;/target&gt; \n</code></pre>\n\n<p>I then write simple client class to get the web service:</p>\n\n<pre><code>package test.api.soap.client;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport javax.xml.namespace.QName;\n\nimport test.api.soap.client.stubs.MyClientApiV25;\nimport test.api.soap.client.stubs.MyClientApiV25Service;\nimport test.api.soap.client.stubs.TestClassA;\n\npublic class SampleClient {\n\n    private MyClientApiV25         api         = null;\n    static MyClientApiV25Service service;\n\n    public SampleClient() throws MalformedURLException {\n        api = service.getMyClientApiV25Port();\n\n        TestClassA testClass = api.getTestClassA();\n        testClass.doA();\n    }\n}\n</code></pre>\n\n<p><strong>The problem is</strong>:\nWriting testClass.doA(); returns: </p>\n\n<blockquote>\n  <p>The method doA() is undefined for the type TestClassA</p>\n</blockquote>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","web-services","https"],"answers":[{"tags":[],"owner":{"account_id":48121,"reputation":4041,"user_id":142824,"accept_rate":79,"display_name":"Tommy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249913304,"creation_date":1249913304,"answer_id":1255094,"question_id":1255083,"body_markdown":"You can do that, or you can disable the SSL validation with a fake trust-manager. I think both subjects are described in this similar question:\r\n\r\n[https://stackoverflow.com/questions/875467/java-client-certificates-over-https-ssl][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/875467/java-client-certificates-over-https-ssl\r\n\r\nIt can be a hassle to manage many SSL cerificates: expiration, changed domains, changed issuer ++ If SSL is not that important to you I say skip it","title":"Consuming HTTPS web services","body":"<p>You can do that, or you can disable the SSL validation with a fake trust-manager. I think both subjects are described in this similar question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/875467/java-client-certificates-over-https-ssl\">Java client certificates over HTTPS/SSL</a></p>\n\n<p>It can be a hassle to manage many SSL cerificates: expiration, changed domains, changed issuer ++ If SSL is not that important to you I say skip it</p>\n"},{"tags":[],"owner":{"account_id":19314,"reputation":6654,"user_id":45163,"accept_rate":86,"display_name":"Chris Nava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444972533,"creation_date":1444972533,"answer_id":33163032,"question_id":1255083,"body_markdown":"Not necessarily.  Your java app will need to establish a chain of trust from the server cert to the JVM&#39;s own trusted CA certs.  As long as a CA cert is available that starts that chain, you should be fine.  If you self sign certs, you will need to add your signing CA to the java&#39;s keystore.  You do not need to import every server&#39;s certificate.  Just the trusted CA certificate that signed them all if it is not already trusted.\r\n\r\nImport a root or intermediate CA certificate to an existing Java keystore:\r\n\r\n    keytool -import -trustcacerts -alias root -file Thawte.crt -keystore keystore.jks","title":"Consuming HTTPS web services","body":"<p>Not necessarily.  Your java app will need to establish a chain of trust from the server cert to the JVM's own trusted CA certs.  As long as a CA cert is available that starts that chain, you should be fine.  If you self sign certs, you will need to add your signing CA to the java's keystore.  You do not need to import every server's certificate.  Just the trusted CA certificate that signed them all if it is not already trusted.</p>\n\n<p>Import a root or intermediate CA certificate to an existing Java keystore:</p>\n\n<pre><code>keytool -import -trustcacerts -alias root -file Thawte.crt -keystore keystore.jks\n</code></pre>\n"}],"owner":{"display_name":"Stranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701579680,"creation_date":1249913000,"question_id":1255083,"body_markdown":"We needed to consume MOSS out of the box web services hosted on HTTPS protocol from a Java application running on WebLogic server. Do we need to import SSL certificate of the MOSS website into WebLogic server or can we simply bypass certificate validation? What is the best approach? We may need to support more than one web site as more MOSS web sites can be configured in future.\r\n\r\nThanks.","title":"Consuming HTTPS web services","body":"<p>We needed to consume MOSS out of the box web services hosted on HTTPS protocol from a Java application running on WebLogic server. Do we need to import SSL certificate of the MOSS website into WebLogic server or can we simply bypass certificate validation? What is the best approach? We may need to support more than one web site as more MOSS web sites can be configured in future.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":27936463,"reputation":11,"user_id":21333370,"display_name":"Nolife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701578869,"creation_date":1701578869,"question_id":77593061,"body_markdown":"I&#39;m trying to use hibernate but I just can&#39;t get it to load.\r\n\r\nThis is the exception I am getting:\r\n```org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 1 and column 87 in FILE E:\\Craftanvil\\Proxy\\plugins\\BungeeCore\\hibernate.cfg.xml. Message: cvc-elt.1.a: Cannot find the declaration of element &#39;hibernate-configuration&#39;.\r\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:132)\r\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:66)\r\n    at org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlFile(ConfigLoader.java:76)\r\n    at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:248)\r\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:347)\r\n    at net.craftanvil.bungeecore.Main.onEnable(Main.java:41)\r\n    at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(PluginManager.java:266)\r\n    at net.md_5.bungee.BungeeCord.start(BungeeCord.java:295)\r\n    at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\r\n    at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\r\nCaused by: jakarta.xml.bind.UnmarshalException\r\n - with linked exception:\r\n[org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 87; cvc-elt.1.a: Cannot find the declaration of element &#39;hibernate-configuration&#39;.]\r\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:443)\r\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:423)\r\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:395)\r\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:125)\r\n    ... 9 more\r\nCaused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 87; cvc-elt.1.a: Cannot find the declaration of element &#39;hibernate-configuration&#39;.\r\n    at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\r\n    at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\r\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\r\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\r\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\r\n    at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2133)\r\n    at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:830)\r\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorHandlerImpl.startElement(ValidatorHandlerImpl.java:571)\r\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.ValidatingUnmarshaller.startElement(ValidatingUnmarshaller.java:71)\r\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:46)\r\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.StAXEventConnector.handleStartElement(StAXEventConnector.java:225)\r\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.StAXEventConnector.bridge(StAXEventConnector.java:94)\r\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:420)\r\n    ... 11 more\r\n```\r\n\r\nHere is my main class and my configuration file:\r\n\r\n```\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        \r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n```\r\nthis.sessionFactory = new org.hibernate.cfg.Configuration()\r\n                .configure(new File(this.getDataFolder().getAbsolutePath() + &quot;/&quot; + HIBERNATE_CONFIG_FILE_NAME))\r\n                .addAnnotatedClass(PlayerData.class)\r\n                //.setProperty(&quot;connection.url&quot;, config.getString(&quot;database.host&quot;))\r\n                //.setProperty(&quot;connection.username&quot;, config.getString(&quot;database.username&quot;))\r\n                //.setProperty(&quot;connection.password&quot;, config.getString(&quot;database.password&quot;))\r\n                .buildSessionFactory();\r\n```\r\n\r\nI&#39;ve tried a a lot of solution either changing the config or the main class but... not of them worked.","title":"Hibernate 6.1.1.Final - Cannot find the declaration of element &#39;hibernate-configuration&#39;","body":"<p>I'm trying to use hibernate but I just can't get it to load.</p>\n<p>This is the exception I am getting:</p>\n<pre><code>    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:132)\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:66)\n    at org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlFile(ConfigLoader.java:76)\n    at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:248)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:347)\n    at net.craftanvil.bungeecore.Main.onEnable(Main.java:41)\n    at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(PluginManager.java:266)\n    at net.md_5.bungee.BungeeCord.start(BungeeCord.java:295)\n    at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\n    at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\nCaused by: jakarta.xml.bind.UnmarshalException\n - with linked exception:\n[org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 87; cvc-elt.1.a: Cannot find the declaration of element 'hibernate-configuration'.]\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:443)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:423)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:395)\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:125)\n    ... 9 more\nCaused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 87; cvc-elt.1.a: Cannot find the declaration of element 'hibernate-configuration'.\n    at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\n    at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2133)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:830)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorHandlerImpl.startElement(ValidatorHandlerImpl.java:571)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.ValidatingUnmarshaller.startElement(ValidatingUnmarshaller.java:71)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:46)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.StAXEventConnector.handleStartElement(StAXEventConnector.java:225)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.StAXEventConnector.bridge(StAXEventConnector.java:94)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:420)\n    ... 11 more\n</code></pre>\n<p>Here is my main class and my configuration file:</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        \n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<pre><code>this.sessionFactory = new org.hibernate.cfg.Configuration()\n                .configure(new File(this.getDataFolder().getAbsolutePath() + &quot;/&quot; + HIBERNATE_CONFIG_FILE_NAME))\n                .addAnnotatedClass(PlayerData.class)\n                //.setProperty(&quot;connection.url&quot;, config.getString(&quot;database.host&quot;))\n                //.setProperty(&quot;connection.username&quot;, config.getString(&quot;database.username&quot;))\n                //.setProperty(&quot;connection.password&quot;, config.getString(&quot;database.password&quot;))\n                .buildSessionFactory();\n</code></pre>\n<p>I've tried a a lot of solution either changing the config or the main class but... not of them worked.</p>\n"},{"tags":["java","android","image","whatsapp"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701506896,"post_id":77589493,"comment_id":136786352,"body_markdown":"You better remember the uri and then share the uri to that app.","body":"You better remember the uri and then share the uri to that app."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701507037,"post_id":77589493,"comment_id":136786364,"body_markdown":"Else you have to get bitmap from the view. Save that bitmap to file. Get an uri for it using a file provider and then share that uri.","body":"Else you have to get bitmap from the view. Save that bitmap to file. Get an uri for it using a file provider and then share that uri."},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1701507138,"post_id":77589493,"comment_id":136786382,"body_markdown":"Please will you explain with sample code? Thanks","body":"Please will you explain with sample code? Thanks"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701507218,"post_id":77589493,"comment_id":136786388,"body_markdown":"Which one? As i suggested two ways. Be exact.","body":"Which one? As i suggested two ways. Be exact."},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1701507286,"post_id":77589493,"comment_id":136786393,"body_markdown":"Through save that bitmap to file and then","body":"Through save that bitmap to file and then"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701507339,"post_id":77589493,"comment_id":136786397,"body_markdown":"That are at least four steps. For which of them you need help?","body":"That are at least four steps. For which of them you need help?"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1701507456,"post_id":77589493,"comment_id":136786409,"body_markdown":"I have no ideal about this . Please if you don&#39;t mind then help me.","body":"I have no ideal about this . Please if you don&#39;t mind then help me."}],"answers":[{"comments":[{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1701517757,"post_id":77590129,"comment_id":136787267,"body_markdown":"I will inform you by checking in the app.","body":"I will inform you by checking in the app."},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1701518694,"post_id":77590129,"comment_id":136787322,"body_markdown":"Uri imgUri = Uri.parse(pictureFile.getAbsolutePath());  What is image path file ?","body":"Uri imgUri = Uri.parse(pictureFile.getAbsolutePath());  What is image path file ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701522205,"post_id":77590129,"comment_id":136787626,"body_markdown":"You should of course use your own uri as i said in my first comment: `Uri uri = result.getData().getData();`; Step four of the four.","body":"You should of course use your own uri as i said in my first comment: <code>Uri uri = result.getData().getData();</code>; Step four of the four."},{"owner":{"account_id":15980042,"reputation":274,"user_id":11531910,"display_name":"Mahdi Iranmanesh"},"score":0,"creation_date":1701523826,"post_id":77590129,"comment_id":136787770,"body_markdown":"I edit my answer. Instead of getting Uri from the file you can directly use uri from activity result like below.\n```Uri imgUri = result.getData().getData();```","body":"I edit my answer. Instead of getting Uri from the file you can directly use uri from activity result like below. <code>Uri imgUri = result.getData().getData();</code>"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1701568164,"post_id":77590129,"comment_id":136791953,"body_markdown":"BitmapDrawable bitmapDrawable = (BitmapDrawable) ivImage.getDrawable();\n                 Bitmap bitmap = bitmapDrawable.getBitmap();\n                 Uri imgUri = Uri.parse(String.valueOf(bitmap));\n                 Intent intent = new Intent(Intent.ACTION_SEND);\n                 intent.setPackage(&quot;com.whatsapp&quot;);\n                 intent.putExtra(Intent.EXTRA_TEXT, &quot;The text you wanted to share&quot;);\n                 intent.putExtra(Intent.EXTRA_STREAM, imgUri);\n                 intent.setType(&quot;image/jpeg&quot;);\n                 intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);","body":"BitmapDrawable bitmapDrawable = (BitmapDrawable) ivImage.getDrawable();                  Bitmap bitmap = bitmapDrawable.getBitmap();                  Uri imgUri = Uri.parse(String.valueOf(bitmap));                  Intent intent = new Intent(Intent.ACTION_SEND);                  intent.setPackage(&quot;com.whatsapp&quot;);                  intent.putExtra(Intent.EXTRA_TEXT, &quot;The text you wanted to share&quot;);                  intent.putExtra(Intent.EXTRA_STREAM, imgUri);                  intent.setType(&quot;image/jpeg&quot;);                  intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1701568184,"post_id":77590129,"comment_id":136791955,"body_markdown":"But the error is &quot; File Format not supported &quot;","body":"But the error is &quot; File Format not supported &quot;"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1701575856,"post_id":77590129,"comment_id":136792325,"body_markdown":"Please see my updated Question. Thanks","body":"Please see my updated Question. Thanks"}],"tags":[],"owner":{"account_id":15980042,"reputation":274,"user_id":11531910,"display_name":"Mahdi Iranmanesh"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701523651,"creation_date":1701515974,"answer_id":77590129,"question_id":77589493,"body_markdown":"you can try this code:\r\n\r\n```\r\n    Uri imgUri = result.getData().getData();\r\n    Intent intent = new Intent(Intent.ACTION_SEND);\r\n    intent.setType(&quot;text/plain&quot;);\r\n    intent.setPackage(&quot;com.whatsapp&quot;);\r\n    intent.putExtra(Intent.EXTRA_TEXT, &quot;The text you wanted to share&quot;);\r\n    intent.putExtra(Intent.EXTRA_STREAM, imgUri);\r\n    intent.setType(&quot;image/jpeg&quot;);\r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n    try {\r\n        activity.startActivity(intent);\r\n    } catch (android.content.ActivityNotFoundException ex) {\r\n        ToastHelper.MakeShortText(&quot;Whatsapp have not been installed.&quot;);\r\n    }\r\n```\r\n\r\nfor more description check this [link][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-add-images-directly-to-whatsapp-in-android/","title":"How to Whats App an image that is in image view from image gallery?","body":"<p>you can try this code:</p>\n<pre><code>    Uri imgUri = result.getData().getData();\n    Intent intent = new Intent(Intent.ACTION_SEND);\n    intent.setType(&quot;text/plain&quot;);\n    intent.setPackage(&quot;com.whatsapp&quot;);\n    intent.putExtra(Intent.EXTRA_TEXT, &quot;The text you wanted to share&quot;);\n    intent.putExtra(Intent.EXTRA_STREAM, imgUri);\n    intent.setType(&quot;image/jpeg&quot;);\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n    try {\n        activity.startActivity(intent);\n    } catch (android.content.ActivityNotFoundException ex) {\n        ToastHelper.MakeShortText(&quot;Whatsapp have not been installed.&quot;);\n    }\n</code></pre>\n<p>for more description check this <a href=\"https://www.geeksforgeeks.org/how-to-add-images-directly-to-whatsapp-in-android/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701576532,"creation_date":1701502194,"question_id":77589493,"body_markdown":"I can select any image from the gallery with the help of the given code and insert the selected image into an image view.\r\n\r\nFor getting an image from Gallery i use this code that work perfect.\r\n\r\n         btnGetImage.setOnClickListener(new View.OnClickListener() {\r\n             @Override\r\n             public void onClick(View view) {\r\n                 Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                 takeImage.launch(intent);\r\n\r\n        //After getting image in image view When the image is received, then \r\n                    //it becomes WhatsApp immediately Which we don&#39;t want. We want to \r\n                   // WhatsApp the obtained result through another button.\r\n\r\n         Uri imgUri = result.getData().getData();\r\n                    Intent intent = new Intent(Intent.ACTION_SEND);\r\n                    intent.setType(&quot;text/plain&quot;);\r\n                    intent.setPackage(&quot;com.whatsapp&quot;);\r\n                    intent.putExtra(Intent.EXTRA_TEXT, &quot;The text you wanted to share&quot;);\r\n                    intent.putExtra(Intent.EXTRA_STREAM, imgUri);\r\n                    intent.setType(&quot;image/jpeg&quot;);\r\n                    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n                    try {\r\n                        startActivity(intent);\r\n                    } catch (android.content.ActivityNotFoundException ex) {\r\n                        Toast.makeText(MainActivity.this,\r\n                                &quot;Whatsapp have not been installed.&quot;,\r\n                                Toast.LENGTH_SHORT).show();\r\n                    }\r\n             }\r\n         });\r\n\r\n          ActivityResultLauncher&lt;Intent&gt; takeImage = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result-&gt; {\r\n                if ( result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\r\n                    Uri uri = result.getData().getData();\r\n                    ivImage.setImageURI(uri);\r\n                }\r\n            }\r\n    );\r\n\r\nAs you can see we get the image and then instantly Whats App it. But the purpose of my question is that we first get the image from the gallery. When we see the image in the image view, then if we want, we can Whats App it or change it again and Whats App it with other send button.","title":"How to Whats App an image that is in image view from image gallery?","body":"<p>I can select any image from the gallery with the help of the given code and insert the selected image into an image view.</p>\n<p>For getting an image from Gallery i use this code that work perfect.</p>\n<pre><code>     btnGetImage.setOnClickListener(new View.OnClickListener() {\n         @Override\n         public void onClick(View view) {\n             Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n             takeImage.launch(intent);\n\n    //After getting image in image view When the image is received, then \n                //it becomes WhatsApp immediately Which we don't want. We want to \n               // WhatsApp the obtained result through another button.\n\n     Uri imgUri = result.getData().getData();\n                Intent intent = new Intent(Intent.ACTION_SEND);\n                intent.setType(&quot;text/plain&quot;);\n                intent.setPackage(&quot;com.whatsapp&quot;);\n                intent.putExtra(Intent.EXTRA_TEXT, &quot;The text you wanted to share&quot;);\n                intent.putExtra(Intent.EXTRA_STREAM, imgUri);\n                intent.setType(&quot;image/jpeg&quot;);\n                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n                try {\n                    startActivity(intent);\n                } catch (android.content.ActivityNotFoundException ex) {\n                    Toast.makeText(MainActivity.this,\n                            &quot;Whatsapp have not been installed.&quot;,\n                            Toast.LENGTH_SHORT).show();\n                }\n         }\n     });\n\n      ActivityResultLauncher&lt;Intent&gt; takeImage = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        result-&gt; {\n            if ( result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\n                Uri uri = result.getData().getData();\n                ivImage.setImageURI(uri);\n            }\n        }\n);\n</code></pre>\n<p>As you can see we get the image and then instantly Whats App it. But the purpose of my question is that we first get the image from the gallery. When we see the image in the image view, then if we want, we can Whats App it or change it again and Whats App it with other send button.</p>\n"},{"tags":["java","eclipse","package-explorer"],"comments":[{"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"score":0,"creation_date":1321132417,"post_id":8107528,"comment_id":9941697,"body_markdown":"I guess the problem lied with other unrelated thing. It seems like it wasn&#39;t considering this to be a Java Project, at least it wouldn&#39;t allow me to use the refactoring capabilities.","body":"I guess the problem lied with other unrelated thing. It seems like it wasn&#39;t considering this to be a Java Project, at least it wouldn&#39;t allow me to use the refactoring capabilities."}],"answers":[{"tags":[],"owner":{"account_id":235324,"reputation":4269,"user_id":502059,"accept_rate":79,"display_name":"suat"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1321133114,"creation_date":1321132773,"answer_id":8107637,"question_id":8107528,"body_markdown":"![enter image description here][1]\r\n\r\nFrom the menu pointed in the image, setting `Package Presentation` as `flat` may solve your problem.\r\n\r\nEdit: Pointed menu is also available in `Package Explorer` view.\r\n\r\n  [1]: http://i.stack.imgur.com/PuBeS.png","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p><img src=\"https://i.stack.imgur.com/PuBeS.png\" alt=\"enter image description here\"></p>\n\n<p>From the menu pointed in the image, setting <code>Package Presentation</code> as <code>flat</code> may solve your problem.</p>\n\n<p>Edit: Pointed menu is also available in <code>Package Explorer</code> view.</p>\n"},{"comments":[{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1548349144,"post_id":8107673,"comment_id":95518934,"body_markdown":"I commited my project to Git, then cloned it from another computer. Now path entries are missing, and the actual ones not there (and thus not showing as packages). Did I do something wrong during commiting?","body":"I commited my project to Git, then cloned it from another computer. Now path entries are missing, and the actual ones not there (and thus not showing as packages). Did I do something wrong during commiting?"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1321133148,"creation_date":1321133148,"answer_id":8107673,"question_id":8107528,"body_markdown":"Do you configure the corresponding folders to be the source folder?\r\n\r\nThey should be included in the java build path (**The project properties--&gt; java build path --&gt; source** )  . Eclipse only shows the package structure and provides the necessary stuff such as refactoring capabilities , checking java syntax error for the folders that are included in the java build path.\r\n\r\n","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>Do you configure the corresponding folders to be the source folder?</p>\n\n<p>They should be included in the java build path (<strong>The project properties--> java build path --> source</strong> )  . Eclipse only shows the package structure and provides the necessary stuff such as refactoring capabilities , checking java syntax error for the folders that are included in the java build path.</p>\n"},{"tags":[],"owner":{"account_id":5386856,"reputation":51,"user_id":4290458,"display_name":"vivek"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1416897872,"creation_date":1416897872,"answer_id":27120322,"question_id":8107528,"body_markdown":"Right Click on your top level of your package, go to **build path-&gt;use as source folder**. Will show you what you want.","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>Right Click on your top level of your package, go to <strong>build path->use as source folder</strong>. Will show you what you want.</p>\n"},{"tags":[],"owner":{"account_id":328571,"reputation":3309,"user_id":651601,"accept_rate":94,"display_name":"keiki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420916050,"creation_date":1420916050,"answer_id":27879969,"question_id":8107528,"body_markdown":"In my case the folder was already in the build path. \r\n\r\nBut Excluded was set to **\r\n\r\nAfter I set it to (None) using the remove button it worked.","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>In my case the folder was already in the build path. </p>\n\n<p>But Excluded was set to **</p>\n\n<p>After I set it to (None) using the remove button it worked.</p>\n"},{"tags":[],"owner":{"account_id":6684345,"reputation":51,"user_id":5156224,"display_name":"张宇鹏"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462479732,"creation_date":1462437355,"answer_id":37046022,"question_id":8107528,"body_markdown":"Following steps are OK for my teammate :\r\n\r\nproject properties -&gt; Project Facets -&gt; tick EAR(version 1.3)\r\n\r\nHope it is useful. ","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>Following steps are OK for my teammate :</p>\n\n<p>project properties -> Project Facets -> tick EAR(version 1.3)</p>\n\n<p>Hope it is useful. </p>\n"},{"tags":[],"owner":{"account_id":6108133,"reputation":77,"user_id":4765295,"display_name":"wahidd"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1485323549,"creation_date":1485323549,"answer_id":41844355,"question_id":8107528,"body_markdown":"Navigate-&gt; Show In -&gt; Package Explorer","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>Navigate-> Show In -> Package Explorer</p>\n"},{"tags":[],"owner":{"account_id":6098940,"reputation":439,"user_id":4758687,"display_name":"Mabad"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492423156,"creation_date":1492423156,"answer_id":43449240,"question_id":8107528,"body_markdown":"I am using Eclipse neon, just click on the top right corner button(The one near the bug icon). [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SXmGm.png\r\n\r\nWhen you hover over it, hint says &#39;Java&#39;.\r\nThat should do the trick!","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>I am using Eclipse neon, just click on the top right corner button(The one near the bug icon). <a href=\"https://i.stack.imgur.com/SXmGm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SXmGm.png\" alt=\"enter image description here\"></a></p>\n\n<p>When you hover over it, hint says 'Java'.\nThat should do the trick!</p>\n"},{"tags":[],"owner":{"account_id":10278388,"reputation":11,"user_id":7584461,"display_name":"Savvy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514009374,"creation_date":1514008999,"answer_id":47950187,"question_id":8107528,"body_markdown":"just follow the below in your Project Explorer !!\r\n\r\n1.project presentation --&gt; flat (click Pic 1 &amp; 2 to see images)\r\n\r\n2.Top level Elements --&gt;Projects\r\n\r\n[Pic 1][1]\r\n[Pic 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TdbkK.png\r\n  [2]: https://i.stack.imgur.com/eCJ6G.png","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>just follow the below in your Project Explorer !!</p>\n\n<p>1.project presentation --> flat (click Pic 1 &amp; 2 to see images)</p>\n\n<p>2.Top level Elements -->Projects</p>\n\n<p><a href=\"https://i.stack.imgur.com/TdbkK.png\" rel=\"nofollow noreferrer\">Pic 1</a>\n<a href=\"https://i.stack.imgur.com/eCJ6G.png\" rel=\"nofollow noreferrer\">Pic 2</a></p>\n"},{"tags":[],"owner":{"account_id":10843140,"reputation":31,"user_id":7973686,"display_name":"Pravin Kaushik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536122156,"creation_date":1536122156,"answer_id":52177130,"question_id":8107528,"body_markdown":"Click on menu view of project explorer -&gt; select working set-&gt; manually select all set.\r\n\r\nThis works for me.","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>Click on menu view of project explorer -> select working set-> manually select all set.</p>\n\n<p>This works for me.</p>\n"},{"tags":[],"owner":{"account_id":3444588,"reputation":147,"user_id":2885704,"accept_rate":56,"display_name":"Ken"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566544456,"creation_date":1566544456,"answer_id":57621454,"question_id":8107528,"body_markdown":"Tried all the above. I deleted the project from eclipse. Restarted eclipse. Re-imported my maven projects and it worked.","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>Tried all the above. I deleted the project from eclipse. Restarted eclipse. Re-imported my maven projects and it worked.</p>\n"},{"tags":[],"owner":{"account_id":8405479,"reputation":8659,"user_id":7098524,"accept_rate":0,"display_name":"eli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580715139,"creation_date":1580715139,"answer_id":60034872,"question_id":8107528,"body_markdown":"In Spring Suite Go to **Window --&gt; Show View --&gt; Project Explore**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BmW7R.png","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>In Spring Suite Go to <strong>Window --> Show View --> Project Explore</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/BmW7R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BmW7R.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621780879,"creation_date":1621780879,"answer_id":67660953,"question_id":8107528,"body_markdown":"For Me *Spring Tool Suite 4* \r\n\r\n&gt;Version: 4.7.2.RELEASE\r\n\r\n&gt; Build Id: 202009020958 `\r\n\r\nThere is a back arrow in the project explorer - just click , it solved my issue\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gSIv1.png","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>For Me <em>Spring Tool Suite 4</em></p>\n<blockquote>\n<p>Version: 4.7.2.RELEASE</p>\n</blockquote>\n<blockquote>\n<p>Build Id: 202009020958 `</p>\n</blockquote>\n<p>There is a back arrow in the project explorer - just click , it solved my issue</p>\n<p><a href=\"https://i.stack.imgur.com/gSIv1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gSIv1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2396304,"reputation":164,"user_id":2095034,"display_name":"Ishmael Mavor Raines"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689863415,"creation_date":1689861074,"answer_id":76730586,"question_id":8107528,"body_markdown":"Similar problem in Eclipse Spring Tools IDE. This is what i tried it worked for maven project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DXqv8.png\r\n  [2]: https://i.stack.imgur.com/Zj8pP.png\r\n  [3]: https://i.stack.imgur.com/kcIRm.png\r\n  [4]: https://i.stack.imgur.com/d86k8.png","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>Similar problem in Eclipse Spring Tools IDE. This is what i tried it worked for maven project</p>\n<p><a href=\"https://i.stack.imgur.com/DXqv8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DXqv8.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Zj8pP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zj8pP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kcIRm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kcIRm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/d86k8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d86k8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":30052075,"reputation":1,"user_id":23030301,"display_name":"Kayky Carvalho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701575699,"creation_date":1701575619,"answer_id":77592980,"question_id":8107528,"body_markdown":"File &gt; Open projects from file system &gt; directory\r\n\r\n[image1][1]\r\n\r\n[image2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ZRmm.png\r\n  [2]: https://i.stack.imgur.com/E75oD.png","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>File &gt; Open projects from file system &gt; directory</p>\n<p><a href=\"https://i.stack.imgur.com/5ZRmm.png\" rel=\"nofollow noreferrer\">image1</a></p>\n<p><a href=\"https://i.stack.imgur.com/E75oD.png\" rel=\"nofollow noreferrer\">image2</a></p>\n"}],"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65472,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":8107673,"answer_count":14,"score":18,"last_activity_date":1701575699,"creation_date":1321131559,"question_id":8107528,"body_markdown":"By some reason, it seems my Package Explorer is showing the folder structure of my project instead of its package structure. How would I go about &quot;fixing&quot; this? I&#39;ve tried playing with the filters but it seemed of no avail.\r\n\r\nThanks!","title":"Package explorer not showing...packages, in Eclipse. How to fix it?","body":"<p>By some reason, it seems my Package Explorer is showing the folder structure of my project instead of its package structure. How would I go about \"fixing\" this? I've tried playing with the filters but it seemed of no avail.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","unit-testing","configuration","microservices"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693891487,"post_id":77041876,"comment_id":135815289,"body_markdown":"I wonder if you shouldn&#39;t remove `scanBasePackageClasses = Application.class` from your `@SpringBootApplication` declarations. `AbstractSecurityConfig`, `SatConfig`... are I think, in the `com.xxx.my_project` or `com.yyy.dependency_project` packages? Their packages declaration aren&#39;t shown.","body":"I wonder if you shouldn&#39;t remove <code>scanBasePackageClasses = Application.class</code> from your <code>@SpringBootApplication</code> declarations. <code>AbstractSecurityConfig</code>, <code>SatConfig</code>... are I think, in the <code>com.xxx.my_project</code> or <code>com.yyy.dependency_project</code> packages? Their packages declaration aren&#39;t shown."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693893351,"post_id":77041876,"comment_id":135815500,"body_markdown":"`SatConfig` is in `com.yyy` -- add that to `scanBasePackages`.","body":"<code>SatConfig</code> is in <code>com.yyy</code> -- add that to <code>scanBasePackages</code>."},{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":0,"creation_date":1693895513,"post_id":77041876,"comment_id":135815803,"body_markdown":"Could you show the test class?","body":"Could you show the test class?"},{"owner":{"account_id":29351856,"reputation":13,"user_id":22488771,"display_name":"Backend Engine Developer"},"score":0,"creation_date":1693921348,"post_id":77041876,"comment_id":135821117,"body_markdown":"Sorry.\nI have solved this problem after add this code to test config class.\n\n  @Bean\n  public SatConfig satConfig() {\n    SatConfig satConfig = EasyMock.createMock(SatConfig.class);\n    return satConfig;\n  }","body":"Sorry. I have solved this problem after add this code to test config class.    @Bean   public SatConfig satConfig() {     SatConfig satConfig = EasyMock.createMock(SatConfig.class);     return satConfig;   }"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1701571033,"post_id":77041876,"comment_id":136792085,"body_markdown":"For unknown reasons, this question got 140,000 views in about 90 days (more than 1,500 per day on average).","body":"For unknown reasons, this question got 140,000 views in about 90 days (more than 1,500 per day on average)."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1693919590,"post_id":77043822,"comment_id":135820693,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77043822/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26079635,"reputation":24,"user_id":19778028,"display_name":"Elentari"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701570845,"creation_date":1693910651,"answer_id":77043822,"question_id":77041876,"body_markdown":"You can define SatConfig as Bean at the Test file separately. Clone the class to the test folder and use @TestConfiguration annotation. Then Spring Boot will see the bean at the test. Also you can define separate properties file for test. It solved for me.\r\n\r\n","title":"UnsatisfiedDependencyException: No qualifying bean of type &#39;XXX&#39; available","body":"<p>You can define SatConfig as Bean at the Test file separately. Clone the class to the test folder and use @TestConfiguration annotation. Then Spring Boot will see the bean at the test. Also you can define separate properties file for test. It solved for me.</p>\n"}],"owner":{"account_id":29351856,"reputation":13,"user_id":22488771,"display_name":"Backend Engine Developer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138860,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77043822,"answer_count":1,"score":0,"last_activity_date":1701575478,"creation_date":1693891011,"question_id":77041876,"body_markdown":"This is a Spring Boot project.\r\nMy project is having another project as a dependency. Like this:\r\n`SecurityConfig(my project) extends AbstractSecurityConfig(dependency project)`\r\n\r\nAnd this is the AbstractSecurityConfig code part:\r\n\r\n```\r\npublic abstract class AbstractSecurityConfig {\r\n\r\n    private SatValidationConfiguration satValidationConfiguration;\r\n\r\n    @Autowired\r\n    private SatConfig satConfig;\r\n```\r\n\r\nAnd this is the SatConfig (dependency project) code part.\r\n\r\n```\r\n@Lazy\r\n@Component\r\npublic class SatConfig {\r\n\r\n    @Value(&quot;${satKeysDir:/etc/satKeys}&quot;)\r\n    private String satKeysDir;\r\n\r\n    @Value(&quot;${pubSatKeys:test.pub}&quot;)\r\n    private List&lt;String&gt; pubSatKeys;\r\n\r\n    @Value(&quot;${pubSatKeysUrl:https://sat-prod.codebig2.net/keys}&quot;)\r\n    private String pubSatKeysUrl;\r\n\r\n    @Value(&quot;${satGracePeriod:1000}&quot;)\r\n    private int satGracePeriod;\r\n\r\n    private KeyResolverV1 keyResolver;\r\n\r\n    @PostConstruct\r\n    public void init() throws Exception {\r\n        final File keyFolder = new File(satKeysDir);\r\n        keyFolder.mkdirs();\r\n        .....\r\n    }\r\n    .....\r\n}\r\n```\r\n\r\nI tried unit testing.\r\n\r\nBut all unit tests are failing.\r\nI&#39;m encountering an issue with my Spring application where I&#39;m getting an UnsatisfiedDependencyException with the following error message:\r\n\r\n```lang-none\r\nError creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency expressed through field &#39;satConfig&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.yyy.SatConfig&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\n\r\nI have a class SatConfig that is annotated with @Component and has the necessary @Value annotations to inject properties. However, it seems that Spring is unable to find a qualifying bean of type SatConfig during the bean creation process.\r\n\r\n- Verified that the SatConfig class is being scanned by Spring. The package containing SatConfig is included in the component scan configuration.\r\n\r\n    ```\r\n    @EnableScheduling\r\n    @EnableCaching\r\n    @EnableConfigurationProperties()\r\n    @SpringBootApplication(\r\n        scanBasePackageClasses = Application.class,\r\n        scanBasePackages = {\r\n            &quot;com.xxx.my_project&quot;,\r\n            &quot;com.yyy.dependency_project&quot;\r\n        })\r\n    public class Application extends AbstractApplication implements WebMvcConfigurer {\r\n    ```\r\n\r\n- Verified that the necessary dependencies for SatConfig are available and properly configured as beans.\r\n\r\n    ```\r\n    @Lazy\r\n    @Component\r\n    public class SatConfig {\r\n    ```\r\n\r\n\r\n","title":"UnsatisfiedDependencyException: No qualifying bean of type &#39;XXX&#39; available","body":"<p>This is a Spring Boot project.\nMy project is having another project as a dependency. Like this:\n<code>SecurityConfig(my project) extends AbstractSecurityConfig(dependency project)</code></p>\n<p>And this is the AbstractSecurityConfig code part:</p>\n<pre><code>public abstract class AbstractSecurityConfig {\n\n    private SatValidationConfiguration satValidationConfiguration;\n\n    @Autowired\n    private SatConfig satConfig;\n</code></pre>\n<p>And this is the SatConfig (dependency project) code part.</p>\n<pre><code>@Lazy\n@Component\npublic class SatConfig {\n\n    @Value(&quot;${satKeysDir:/etc/satKeys}&quot;)\n    private String satKeysDir;\n\n    @Value(&quot;${pubSatKeys:test.pub}&quot;)\n    private List&lt;String&gt; pubSatKeys;\n\n    @Value(&quot;${pubSatKeysUrl:https://sat-prod.codebig2.net/keys}&quot;)\n    private String pubSatKeysUrl;\n\n    @Value(&quot;${satGracePeriod:1000}&quot;)\n    private int satGracePeriod;\n\n    private KeyResolverV1 keyResolver;\n\n    @PostConstruct\n    public void init() throws Exception {\n        final File keyFolder = new File(satKeysDir);\n        keyFolder.mkdirs();\n        .....\n    }\n    .....\n}\n</code></pre>\n<p>I tried unit testing.</p>\n<p>But all unit tests are failing.\nI'm encountering an issue with my Spring application where I'm getting an UnsatisfiedDependencyException with the following error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'satConfig'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.yyy.SatConfig' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>I have a class SatConfig that is annotated with @Component and has the necessary @Value annotations to inject properties. However, it seems that Spring is unable to find a qualifying bean of type SatConfig during the bean creation process.</p>\n<ul>\n<li><p>Verified that the SatConfig class is being scanned by Spring. The package containing SatConfig is included in the component scan configuration.</p>\n<pre><code>@EnableScheduling\n@EnableCaching\n@EnableConfigurationProperties()\n@SpringBootApplication(\n    scanBasePackageClasses = Application.class,\n    scanBasePackages = {\n        &quot;com.xxx.my_project&quot;,\n        &quot;com.yyy.dependency_project&quot;\n    })\npublic class Application extends AbstractApplication implements WebMvcConfigurer {\n</code></pre>\n</li>\n<li><p>Verified that the necessary dependencies for SatConfig are available and properly configured as beans.</p>\n<pre><code>@Lazy\n@Component\npublic class SatConfig {\n</code></pre>\n</li>\n</ul>\n"},{"tags":["java","visual-studio-code","classnotfoundexception","java.lang.class"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1701676578,"post_id":77592955,"comment_id":136800693,"body_markdown":"There is no problem with the code here. What is your file name? Is it consistent with the class name? Also describe how you get error information in detail, step by step. Finally, if you click the `Run` above the editing page Main method to execute the script?","body":"There is no problem with the code here. What is your file name? Is it consistent with the class name? Also describe how you get error information in detail, step by step. Finally, if you click the <code>Run</code> above the editing page Main method to execute the script?"},{"owner":{"account_id":22570404,"reputation":1,"user_id":16756646,"display_name":"Azizur Rahaman 1063"},"score":0,"creation_date":1701766728,"post_id":77592955,"comment_id":136813315,"body_markdown":"Yes the filename and the class name are same if i dont compile the code manually by clicking the run button it is not working and giving this error if i give the wrong name for class for example test.java has test2 as main class it is saying Error: Could not find or load main class test2 Caused by: java.lang.ClassNotFoundException: test2 not for test if i modify an existing file it is showing error but before editing it is working perfectly fine","body":"Yes the filename and the class name are same if i dont compile the code manually by clicking the run button it is not working and giving this error if i give the wrong name for class for example test.java has test2 as main class it is saying Error: Could not find or load main class test2 Caused by: java.lang.ClassNotFoundException: test2 not for test if i modify an existing file it is showing error but before editing it is working perfectly fine"}],"owner":{"account_id":22570404,"reputation":1,"user_id":16756646,"display_name":"Azizur Rahaman 1063"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701575410,"creation_date":1701574923,"question_id":77592955,"body_markdown":"I have a folder named java where i keep all the .java files&lt;br/&gt;\r\nRecently I created a new java file to solve a simple DSA problem named MinimumTime.java &lt;br/&gt;\r\n\r\n    public class MinimumTime {\r\n        public static void main(String[] args) {\r\n            MinimumTime ob1 = new MinimumTime();\r\n            int a[][]={\r\n                {1,1},\r\n                {3,4},\r\n                {-1,0}\r\n            };\r\n            System.out.println(ob1.minTimeToVisitAllPoints(a));\r\n        }\r\n        public int minTimeToVisitAllPoints(int[][] points) {\r\n            int n=points.length;\r\n            if(n==1){\r\n                return 0;\r\n            }\r\n            int time=0;\r\n            for (int i = 1; i &lt; points.length; i++) {\r\n                int xDiff = Math.abs(points[i][0] - points[i - 1][0]);\r\n                int yDiff = Math.abs(points[i][1] - points[i - 1][1]);\r\n                time += Math.max(xDiff, yDiff);\r\n            }\r\n            return time;\r\n        }\r\n    }\r\n&lt;br/&gt;\r\n\r\n\r\nThis is the code but when i click the Run button on the top right corner i get this error in the terminal\r\n    `Error: Could not find or load main class MinimumTime\r\n    Caused by: java.lang.ClassNotFoundException: MinimumTime`\r\nI thought it was problem with the jdk so to check it i tried the \r\n    `javac MinimumTime.java`\r\nand\r\n    `java MinimumTime`\r\nboth were working perfectly fine it was creating a new .class file and executing the code as expected so i tried running other java files in the same folder they were working as expected so i tried modifying the code in an existing file and it was not working anymore and was giving the same error \r\n\r\ni tried running other java files in the same folder they were working as expected so i tried modifying the code in an existing file and it was not working anymore and was giving the same error \r\n\r\nEdit: I just created an new .java file named \r\n    Test.java \r\nin that i intentionally named the class with the main fucntion as \r\n    class MinimumTime\r\nit was giving the error\r\n    `Error: Could not find or load main class MinimumTime\r\n    Caused by: java.lang.ClassNotFoundException: MinimumTime`\r\nin stead of \r\n    `Error: Could not find or load main class Test\r\n    Caused by: java.lang.ClassNotFoundException: Test`\r\n","title":"Newly created or modified java files not running in vscode","body":"<p>I have a folder named java where i keep all the .java files<br/>\nRecently I created a new java file to solve a simple DSA problem named MinimumTime.java <br/></p>\n<pre><code>public class MinimumTime {\n    public static void main(String[] args) {\n        MinimumTime ob1 = new MinimumTime();\n        int a[][]={\n            {1,1},\n            {3,4},\n            {-1,0}\n        };\n        System.out.println(ob1.minTimeToVisitAllPoints(a));\n    }\n    public int minTimeToVisitAllPoints(int[][] points) {\n        int n=points.length;\n        if(n==1){\n            return 0;\n        }\n        int time=0;\n        for (int i = 1; i &lt; points.length; i++) {\n            int xDiff = Math.abs(points[i][0] - points[i - 1][0]);\n            int yDiff = Math.abs(points[i][1] - points[i - 1][1]);\n            time += Math.max(xDiff, yDiff);\n        }\n        return time;\n    }\n}\n</code></pre>\n<br/>\n<p>This is the code but when i click the Run button on the top right corner i get this error in the terminal\n<code>Error: Could not find or load main class MinimumTime Caused by: java.lang.ClassNotFoundException: MinimumTime</code>\nI thought it was problem with the jdk so to check it i tried the\n<code>javac MinimumTime.java</code>\nand\n<code>java MinimumTime</code>\nboth were working perfectly fine it was creating a new .class file and executing the code as expected so i tried running other java files in the same folder they were working as expected so i tried modifying the code in an existing file and it was not working anymore and was giving the same error</p>\n<p>i tried running other java files in the same folder they were working as expected so i tried modifying the code in an existing file and it was not working anymore and was giving the same error</p>\n<p>Edit: I just created an new .java file named\nTest.java\nin that i intentionally named the class with the main fucntion as\nclass MinimumTime\nit was giving the error\n<code>Error: Could not find or load main class MinimumTime Caused by: java.lang.ClassNotFoundException: MinimumTime</code>\nin stead of\n<code>Error: Could not find or load main class Test Caused by: java.lang.ClassNotFoundException: Test</code></p>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1701356967,"post_id":77579473,"comment_id":136767792,"body_markdown":"`List.of(1.1f, 2.2f)` could be considered a `List&lt;Number&gt;` and `Number` is a superclass of `Integer`.","body":"<code>List.of(1.1f, 2.2f)</code> could be considered a <code>List&lt;Number&gt;</code> and <code>Number</code> is a superclass of <code>Integer</code>."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701768011,"post_id":77579525,"comment_id":136813536,"body_markdown":"The compiler does not try to infer the type of the list from its arguments. That would indeed end up at `List&lt;Float&gt;`and fail, as was the case before Java&#160;8. Since Java&#160;8, the target type (left hand side of the assignment operator) determines the type of the expression which is not `List&lt;Number&gt;` but `List&lt;? super Integer&gt;`. Then, the subexpressions are checked against the derived constraints but for `? super …`, any argument will fulfill the constraints. You can also write `intList = List.of();` where the right side has no arguments to derive a stand-alone type.","body":"The compiler does not try to infer the type of the list from its arguments. That would indeed end up at <code>List&lt;Float&gt;</code>and fail, as was the case before Java 8. Since Java 8, the target type (left hand side of the assignment operator) determines the type of the expression which is not <code>List&lt;Number&gt;</code> but <code>List&lt;? super Integer&gt;</code>. Then, the subexpressions are checked against the derived constraints but for <code>? super …</code>, any argument will fulfill the constraints. You can also write <code>intList = List.of();</code> where the right side has no arguments to derive a stand-alone type."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701356770,"creation_date":1701356770,"answer_id":77579525,"question_id":77579473,"body_markdown":"`List&lt;? super Integer&gt;` means that the actual type is `Integer` or one of its super types: `Number` or `Object`, but also `Comparable` or `Serializable`.\r\n\r\nWhen you assign `List.of(1.1f,2.2f)` to `intList`, the compiler tries to find a match. It finds one that&#39;s not `List&lt;Integer&gt;`; I&#39;m guessing `List&lt;Number&gt;`. The result is a list that you can add `Integer` instances to. That it may also contain non-`Integer` values is not an issue here.\r\n\r\nThis is also the reason why you cannot extract elements as `Integer` but only `Object` (or the wildcard, `?`).","title":"Java generics and collections: Why it is possible to assign float list to List&lt;? super Integer&gt;?","body":"<p><code>List&lt;? super Integer&gt;</code> means that the actual type is <code>Integer</code> or one of its super types: <code>Number</code> or <code>Object</code>, but also <code>Comparable</code> or <code>Serializable</code>.</p>\n<p>When you assign <code>List.of(1.1f,2.2f)</code> to <code>intList</code>, the compiler tries to find a match. It finds one that's not <code>List&lt;Integer&gt;</code>; I'm guessing <code>List&lt;Number&gt;</code>. The result is a list that you can add <code>Integer</code> instances to. That it may also contain non-<code>Integer</code> values is not an issue here.</p>\n<p>This is also the reason why you cannot extract elements as <code>Integer</code> but only <code>Object</code> (or the wildcard, <code>?</code>).</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701358694,"creation_date":1701357826,"answer_id":77579625,"question_id":77579473,"body_markdown":"&gt; In Java generics topic stated, that expression `? super Integer` means any type(class) that has Integer as super class(Including Integer.class).\r\n\r\nNo, that&#39;s backwards.  The type expression `? super Integer` means an unspecified type that is a superclass *of* `Integer`, or is `Integer` itself.  Supposing that we are talking about `java.lang.Integer`, and referring to the Java 21 standard library, that means one of  `java.lang.Integer`, `java.lang.Number`, `java.lang.Object`, `java.lang.Serializable`, `java.lang.Comparable&lt;Integer&gt;`, `java.lang.constant.Constable`, or `java.lang.constant.ConstantDesc`.\r\n\r\nA `List&lt;? super Integer&gt;` is one to which you are certain to be able to *add* an `Integer`, but which provides no guarantees at all about what other types of objects might also be within.\r\n\r\n&gt; [...] why following behavior possible? \r\n\r\n&gt;     List&lt;? super Integer&gt; intList = new ArrayList&lt;&gt;();\r\n&gt;     // [...]\r\n&gt;     intList = List.of(1.1f,2.2f);\r\n\r\nBecause Java can infer the type of the list to be any number of compatible things that would accomodate objects of type `Float`, such as `List&lt;Number&gt;` or `List&lt;Object&gt;`.  It doesn&#39;t actually need to choose one in this case -- it is sufficient to know that there are viable options.  The compiler cannot safely assume that the list referred to as a `List&lt;? super Float&gt;` has one of those types, however, which is why your other assignment is rejected.\r\n\r\nIf you want a `List` that can contain any object of class `Integer` or any subclass of `Integer` then that is spelled `List&lt;Integer&gt;`.\r\n\r\nIf you want to accommodate lists with any type parameter that is `Integer` or a subtype of `Integer` then that is spelled `List&lt;? extends Integer&gt;`.\r\n\r\nNote that the latter allows you to assume that any object pulled from the list is an `Integer`, but not, formally, that you can add elements whose class is exactly `Integer`.  That&#39;s because if `Integer` were not `final` then you could have a subclass, say `SmallInteger`, that was the actual type parameter of the list.  Any object of that class is also an `Integer`, but an object whose class is `Integer` *is not* a `SmallInteger`.","title":"Java generics and collections: Why it is possible to assign float list to List&lt;? super Integer&gt;?","body":"<blockquote>\n<p>In Java generics topic stated, that expression <code>? super Integer</code> means any type(class) that has Integer as super class(Including Integer.class).</p>\n</blockquote>\n<p>No, that's backwards.  The type expression <code>? super Integer</code> means an unspecified type that is a superclass <em>of</em> <code>Integer</code>, or is <code>Integer</code> itself.  Supposing that we are talking about <code>java.lang.Integer</code>, and referring to the Java 21 standard library, that means one of  <code>java.lang.Integer</code>, <code>java.lang.Number</code>, <code>java.lang.Object</code>, <code>java.lang.Serializable</code>, <code>java.lang.Comparable&lt;Integer&gt;</code>, <code>java.lang.constant.Constable</code>, or <code>java.lang.constant.ConstantDesc</code>.</p>\n<p>A <code>List&lt;? super Integer&gt;</code> is one to which you are certain to be able to <em>add</em> an <code>Integer</code>, but which provides no guarantees at all about what other types of objects might also be within.</p>\n<blockquote>\n<p>[...] why following behavior possible?</p>\n</blockquote>\n<blockquote>\n<pre><code>List&lt;? super Integer&gt; intList = new ArrayList&lt;&gt;();\n// [...]\nintList = List.of(1.1f,2.2f);\n</code></pre>\n</blockquote>\n<p>Because Java can infer the type of the list to be any number of compatible things that would accomodate objects of type <code>Float</code>, such as <code>List&lt;Number&gt;</code> or <code>List&lt;Object&gt;</code>.  It doesn't actually need to choose one in this case -- it is sufficient to know that there are viable options.  The compiler cannot safely assume that the list referred to as a <code>List&lt;? super Float&gt;</code> has one of those types, however, which is why your other assignment is rejected.</p>\n<p>If you want a <code>List</code> that can contain any object of class <code>Integer</code> or any subclass of <code>Integer</code> then that is spelled <code>List&lt;Integer&gt;</code>.</p>\n<p>If you want to accommodate lists with any type parameter that is <code>Integer</code> or a subtype of <code>Integer</code> then that is spelled <code>List&lt;? extends Integer&gt;</code>.</p>\n<p>Note that the latter allows you to assume that any object pulled from the list is an <code>Integer</code>, but not, formally, that you can add elements whose class is exactly <code>Integer</code>.  That's because if <code>Integer</code> were not <code>final</code> then you could have a subclass, say <code>SmallInteger</code>, that was the actual type parameter of the list.  Any object of that class is also an <code>Integer</code>, but an object whose class is <code>Integer</code> <em>is not</em> a <code>SmallInteger</code>.</p>\n"}],"owner":{"account_id":26391077,"reputation":11,"user_id":20042929,"display_name":"Dmitriy Vasilyev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701571311,"creation_date":1701356298,"question_id":77579473,"body_markdown":"&lt;br/&gt;\r\nIn Java generics topic stated, that expression `? super Integer` means any type(class) that has Integer as super class(Including Integer.class).&lt;br/&gt;\r\nThen why following behavior possible?\r\n\r\n\r\n```\r\nList&lt;? super Integer&gt; intList = new ArrayList&lt;&gt;();\r\nList&lt;? super Float&gt; floatList = List.of(1.1f,2.2f);\r\n\r\nintList = floatList;   \r\n//Not possible, Required type: List &lt;? super Integer&gt; Provided: List &lt;capture of ? super Float&gt;\r\n\r\nintList = List.of(1.1f,2.2f);\r\n//Ok, intList will now contains float values\r\n```\r\n\r\nI do understand that in runtime there is no generics, but why there is no compilation error?","title":"Java generics and collections: Why it is possible to assign float list to List&lt;? super Integer&gt;?","body":"<br/>\nIn Java generics topic stated, that expression `? super Integer` means any type(class) that has Integer as super class(Including Integer.class).<br/>\nThen why following behavior possible?\n<pre><code>List&lt;? super Integer&gt; intList = new ArrayList&lt;&gt;();\nList&lt;? super Float&gt; floatList = List.of(1.1f,2.2f);\n\nintList = floatList;   \n//Not possible, Required type: List &lt;? super Integer&gt; Provided: List &lt;capture of ? super Float&gt;\n\nintList = List.of(1.1f,2.2f);\n//Ok, intList will now contains float values\n</code></pre>\n<p>I do understand that in runtime there is no generics, but why there is no compilation error?</p>\n"},{"tags":["java","spring","flyway","sharding"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1701571145,"post_id":77390141,"comment_id":136792090,"body_markdown":"Please review *[Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/)* (e.g., *&quot;Images should only be used to illustrate problems that* ***can&#39;t be made clear in any other way,*** *such as to provide screenshots of a user interface.&quot;*) and [do the right thing](https://stackoverflow.com/posts/77390141/edit) (it covers answers as well). Thanks in advance.","body":"Please review <i><a href=\"https://meta.stackoverflow.com/questions/285551/\">Why not upload images of code/errors when asking a question?</a></i> (e.g., <i>&quot;Images should only be used to illustrate problems that</i> <b><i>can&#39;t be made clear in any other way,</i></b> <i>such as to provide screenshots of a user interface.&quot;</i>) and <a href=\"https://stackoverflow.com/posts/77390141/edit\">do the right thing</a> (it covers answers as well). Thanks in advance."}],"owner":{"account_id":21693805,"reputation":11,"user_id":16008055,"display_name":"mrliu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701571301,"creation_date":1698681266,"question_id":77390141,"body_markdown":"I want to use Flyway to manage the database version, and I want to use the data source of shardingjdbc, but I encounter various problems when I start. How can I fix this problem?\r\n\r\n### Dependencies\r\n\r\nshardingsphere-jdbc-core-spring-boot-starter:5.1.1\r\nflyway-core:8.5.13\r\nflyway-mysql:8.5.13\r\nmysql-connector-j:8.0.33\r\njdk8\r\n\r\n### application.yaml\r\n\r\n``` yaml\r\nspring:\r\n  autoconfigure:\r\n    exclude: com.alibaba.druid.spring.boot.autoconfigure.DruidDataSourceAutoConfigure\r\n  shardingsphere:\r\n    enabled: true\r\n    datasource:\r\n      schema:\r\n        name: store\r\n      names: store\r\n      store:\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n        type: com.alibaba.druid.pool.DruidDataSource\r\n        username: root\r\n        password: root\r\n        url: jdbc:mysql://pigx-mysql:3306/store?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai\r\n    props:\r\n      sql-show: true\r\n    rules:\r\n      sharding:\r\n        sharding-algorithms:\r\n          table-inline:\r\n            props:\r\n              algorithm-expression: store_$-&gt;{tenant_id}\r\n            type: INLINE\r\n        tables:\r\n          version:\r\n            actual-data-nodes: store.t_version\r\n            table-strategy:\r\n              none:\r\n          store:\r\n            actual-data-nodes: store.store_1716476137853374465, store.store_1717116448820633602\r\n            table-strategy:\r\n              standard:\r\n                sharding-algorithm-name: table-inline\r\n                sharding-column: tenant_id\r\n  ## flyway ---------------------------------\r\n  flyway:\r\n    enabled: true\r\n    baseline-on-migrate: true\r\n    clean-disabled: false\r\n    out-of-order: true\r\n```\r\n\r\nThe following exception is displayed when the startup is displayed:\r\n\r\n![Image](https://github.com/apache/shardingsphere/assets/49528104/895a2984-bcdc-489e-b7f2-37d4a93d5951)\r\n\r\n```java\r\norg.springframework.beans.factory.BeanCreationException:\r\nError creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed;\r\nnested exception is org.flywaydb.core.internal.exception.FlywaySqlException: Unable to check whether schema `store` exists\r\n\r\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to check whether schema `store` exists\r\n\r\nCaused by: java.sql.SQLSyntaxErrorException: Table &#39;store.schemata&#39; doesn&#39;t exist\r\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n```\r\n\r\n\r\n####  SQL execution logs\r\n\r\n![image](https://github.com/apache/shardingsphere/assets/49528104/3c7f304e-426f-4558-817a-58fe2b80d2de)\r\n\r\n```sql\r\nLogic SQL: SELECT COUNT(1) FROM information_schema.schemata WHERE schema_name=? LIMIT 1\r\nActual SQL: store ::: SELECT COUNT(1) FROM schemata WHERE schema_name=? LIMIT 1 ::: [store]\r\n```\r\n\r\nshardingjdbc routes SQL statements to the `store` database.\r\nSo I added the information_schema to the data source, and configured it as follows:\r\n\r\n```yaml\r\n   datasource:\r\n      names: store, information_schema\r\n      ....\r\n      information_schema:\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n        type: com.alibaba.druid.pool.DruidDataSource\r\n        username: root\r\n        password: root\r\n        url: jdbc:mysql://pigx-mysql:3306/information_schema\r\n      ...\r\n    rules:\r\n      ...\r\n      sharding:\r\n        tables:\r\n            schemata:\r\n              actual-data-nodes: information_schema.schemata\r\n              table-strategy:\r\n                none:\r\n            tables:\r\n              actual-data-nodes: information_schema.tables\r\n              table-strategy:\r\n                none:\r\n     ...\r\n```\r\n\r\nThe following is the startup execution log:\r\n\r\n```java\r\nSql log:\r\nLogic SQL:    SELECT COUNT(1) FROM information_schema.schemata WHERE schema_name=? LIMIT 1\r\nActual SQL:  information_schema ::: SELECT COUNT(1) FROM schemata WHERE schema_name=? LIMIT 1 ::: [store]\r\n\r\nException information:\r\n\r\n2023-10-30 22:36:40.986  WARN 23832 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.apache.shardingsphere.infra.exception.SchemaNotExistedException: Schema &#39;store&#39; doesn&#39;t exist.\r\n....\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.apache.shardingsphere.infra.exception.SchemaNotExistedException: Schema &#39;store&#39; doesn&#39;t exist.\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.30.jar:5.3.30]\r\n....\r\n\r\nCaused by: org.apache.shardingsphere.infra.exception.SchemaNotExistedException: Schema &#39;store&#39; doesn&#39;t exist.\r\n    at org.apache.shardingsphere.infra.binder.statement.dml.SelectStatementContext.getSchema(SelectStatementContext.java:138) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\r\n    at org.apache.shardingsphere.infra.binder.statement.dml.SelectStatementContext.&lt;init&gt;(SelectStatementContext.java:111) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\r\n    at org.apache.shardingsphere.infra.binder.SQLStatementContextFactory.getDMLStatementContext(SQLStatementContextFactory.java:146) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\r\n    at org.apache.shardingsphere.infra.binder.SQLStatementContextFactory.newInstance(SQLStatementContextFactory.java:129) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\r\n    at org.apache.shardingsphere.infra.binder.SQLStatementContextFactory.newInstance(SQLStatementContextFactory.java:114) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\r\n    at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.&lt;init&gt;(ShardingSpherePreparedStatement.java:181) ~[shardingsphere-jdbc-core-5.1.1.jar:5.1.1]\r\n    at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.&lt;init&gt;(ShardingSpherePreparedStatement.java:149) ~[shardingsphere-jdbc-core-5.1.1.jar:5.1.1]\r\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ShardingSphereConnection.prepareStatement(ShardingSphereConnection.java:80) ~[shardingsphere-jdbc-core-5.1.1.jar:5.1.1]\r\n    at org.flywaydb.core.internal.jdbc.JdbcTemplate.prepareStatement(JdbcTemplate.java:300) ~[flyway-core-8.5.13.jar:na]\r\n    at org.flywaydb.core.internal.jdbc.JdbcTemplate.query(JdbcTemplate.java:339) ~[flyway-core-8.5.13.jar:na]\r\n....\r\n```\r\n\r\nshardingjdbc can&#39;t find the schema for the store, the break point is only the schema of the logic_db, please teach how to solve this problem\r\n\r\nThe Git project repository: https://github.com/8baba/flyway-shardingjdbc-test\r\n\r\nHow will I properly use Flyway to manage the database?\r\n\r\n\r\n","title":"Shardingsphere and Flyway integration startup error: Schema &#39;xxxx&#39; doesn&#39;t exist","body":"<p>I want to use Flyway to manage the database version, and I want to use the data source of shardingjdbc, but I encounter various problems when I start. How can I fix this problem?</p>\n<h3>Dependencies</h3>\n<p>shardingsphere-jdbc-core-spring-boot-starter:5.1.1\nflyway-core:8.5.13\nflyway-mysql:8.5.13\nmysql-connector-j:8.0.33\njdk8</p>\n<h3>application.yaml</h3>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  autoconfigure:\n    exclude: com.alibaba.druid.spring.boot.autoconfigure.DruidDataSourceAutoConfigure\n  shardingsphere:\n    enabled: true\n    datasource:\n      schema:\n        name: store\n      names: store\n      store:\n        driver-class-name: com.mysql.cj.jdbc.Driver\n        type: com.alibaba.druid.pool.DruidDataSource\n        username: root\n        password: root\n        url: jdbc:mysql://pigx-mysql:3306/store?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai\n    props:\n      sql-show: true\n    rules:\n      sharding:\n        sharding-algorithms:\n          table-inline:\n            props:\n              algorithm-expression: store_$-&gt;{tenant_id}\n            type: INLINE\n        tables:\n          version:\n            actual-data-nodes: store.t_version\n            table-strategy:\n              none:\n          store:\n            actual-data-nodes: store.store_1716476137853374465, store.store_1717116448820633602\n            table-strategy:\n              standard:\n                sharding-algorithm-name: table-inline\n                sharding-column: tenant_id\n  ## flyway ---------------------------------\n  flyway:\n    enabled: true\n    baseline-on-migrate: true\n    clean-disabled: false\n    out-of-order: true\n</code></pre>\n<p>The following exception is displayed when the startup is displayed:</p>\n<p><img src=\"https://github.com/apache/shardingsphere/assets/49528104/895a2984-bcdc-489e-b7f2-37d4a93d5951\" alt=\"Image\" /></p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed;\nnested exception is org.flywaydb.core.internal.exception.FlywaySqlException: Unable to check whether schema `store` exists\n\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to check whether schema `store` exists\n\nCaused by: java.sql.SQLSyntaxErrorException: Table 'store.schemata' doesn't exist\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n</code></pre>\n<h4>SQL execution logs</h4>\n<p><img src=\"https://github.com/apache/shardingsphere/assets/49528104/3c7f304e-426f-4558-817a-58fe2b80d2de\" alt=\"image\" /></p>\n<pre class=\"lang-sql prettyprint-override\"><code>Logic SQL: SELECT COUNT(1) FROM information_schema.schemata WHERE schema_name=? LIMIT 1\nActual SQL: store ::: SELECT COUNT(1) FROM schemata WHERE schema_name=? LIMIT 1 ::: [store]\n</code></pre>\n<p>shardingjdbc routes SQL statements to the <code>store</code> database.\nSo I added the information_schema to the data source, and configured it as follows:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>   datasource:\n      names: store, information_schema\n      ....\n      information_schema:\n        driver-class-name: com.mysql.cj.jdbc.Driver\n        type: com.alibaba.druid.pool.DruidDataSource\n        username: root\n        password: root\n        url: jdbc:mysql://pigx-mysql:3306/information_schema\n      ...\n    rules:\n      ...\n      sharding:\n        tables:\n            schemata:\n              actual-data-nodes: information_schema.schemata\n              table-strategy:\n                none:\n            tables:\n              actual-data-nodes: information_schema.tables\n              table-strategy:\n                none:\n     ...\n</code></pre>\n<p>The following is the startup execution log:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Sql log:\nLogic SQL:    SELECT COUNT(1) FROM information_schema.schemata WHERE schema_name=? LIMIT 1\nActual SQL:  information_schema ::: SELECT COUNT(1) FROM schemata WHERE schema_name=? LIMIT 1 ::: [store]\n\nException information:\n\n2023-10-30 22:36:40.986  WARN 23832 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.apache.shardingsphere.infra.exception.SchemaNotExistedException: Schema 'store' doesn't exist.\n....\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.apache.shardingsphere.infra.exception.SchemaNotExistedException: Schema 'store' doesn't exist.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.30.jar:5.3.30]\n....\n\nCaused by: org.apache.shardingsphere.infra.exception.SchemaNotExistedException: Schema 'store' doesn't exist.\n    at org.apache.shardingsphere.infra.binder.statement.dml.SelectStatementContext.getSchema(SelectStatementContext.java:138) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\n    at org.apache.shardingsphere.infra.binder.statement.dml.SelectStatementContext.&lt;init&gt;(SelectStatementContext.java:111) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\n    at org.apache.shardingsphere.infra.binder.SQLStatementContextFactory.getDMLStatementContext(SQLStatementContextFactory.java:146) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\n    at org.apache.shardingsphere.infra.binder.SQLStatementContextFactory.newInstance(SQLStatementContextFactory.java:129) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\n    at org.apache.shardingsphere.infra.binder.SQLStatementContextFactory.newInstance(SQLStatementContextFactory.java:114) ~[shardingsphere-infra-binder-5.1.1.jar:5.1.1]\n    at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.&lt;init&gt;(ShardingSpherePreparedStatement.java:181) ~[shardingsphere-jdbc-core-5.1.1.jar:5.1.1]\n    at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.&lt;init&gt;(ShardingSpherePreparedStatement.java:149) ~[shardingsphere-jdbc-core-5.1.1.jar:5.1.1]\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ShardingSphereConnection.prepareStatement(ShardingSphereConnection.java:80) ~[shardingsphere-jdbc-core-5.1.1.jar:5.1.1]\n    at org.flywaydb.core.internal.jdbc.JdbcTemplate.prepareStatement(JdbcTemplate.java:300) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.jdbc.JdbcTemplate.query(JdbcTemplate.java:339) ~[flyway-core-8.5.13.jar:na]\n....\n</code></pre>\n<p>shardingjdbc can't find the schema for the store, the break point is only the schema of the logic_db, please teach how to solve this problem</p>\n<p>The Git project repository: <a href=\"https://github.com/8baba/flyway-shardingjdbc-test\" rel=\"nofollow noreferrer\">https://github.com/8baba/flyway-shardingjdbc-test</a></p>\n<p>How will I properly use Flyway to manage the database?</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":287674,"reputation":2988,"user_id":587641,"accept_rate":42,"display_name":"xtian"},"score":0,"creation_date":1645738174,"post_id":42120588,"comment_id":125957865,"body_markdown":"Some solutions are here https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5","body":"Some solutions are here <a href=\"https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5\" title=\"how to prevent parameter binding from interpreting commas in spring 3 0 5\">stackoverflow.com/questions/4998748/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7741621,"reputation":422,"user_id":5861136,"display_name":"Amey Lokhande"},"score":0,"creation_date":1640256031,"post_id":42134833,"comment_id":124553721,"body_markdown":"Can you suggest a similar solution for an individual endpoint?","body":"Can you suggest a similar solution for an individual endpoint?"}],"tags":[],"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1486637836,"creation_date":1486637836,"answer_id":42134833,"question_id":42120588,"body_markdown":"You can remove the StringToCollectionConverter and replace it with your own in [WebMvcConfigurerAdapter.addFormatters(FormatterRegistry registry)](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.html#addFormatters-org.springframework.format.FormatterRegistry-) method:\r\n\r\nSomething like this:\r\n\r\n    @Configuration\r\n    public class MyWebMvcConfig extends WebMvcConfigurerAdapter {\r\n      @Override\r\n      public void addFormatters(FormatterRegistry registry) {\r\n        registry.removeConvertible(String.class,Collection.class);\r\n        registry.addConverter(String.class,Collection.class,myConverter);\r\n      }\r\n    }\r\n","title":"How to prevent Spring MVC from interpreting commas when converting to a Collection in Spring Boot?","body":"<p>You can remove the StringToCollectionConverter and replace it with your own in <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.html#addFormatters-org.springframework.format.FormatterRegistry-\" rel=\"noreferrer\">WebMvcConfigurerAdapter.addFormatters(FormatterRegistry registry)</a> method:</p>\n\n<p>Something like this:</p>\n\n<pre><code>@Configuration\npublic class MyWebMvcConfig extends WebMvcConfigurerAdapter {\n  @Override\n  public void addFormatters(FormatterRegistry registry) {\n    registry.removeConvertible(String.class,Collection.class);\n    registry.addConverter(String.class,Collection.class,myConverter);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6672238,"reputation":131,"user_id":5148036,"display_name":"Neonchen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701571269,"creation_date":1576084695,"answer_id":59290947,"question_id":42120588,"body_markdown":"this is a shorter version, THANKS to @Strelok\r\n\r\n```\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.format.FormatterRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n\r\n@Configuration\r\nclass WebMvcConfig extends WebMvcConfigurerAdapter {\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.removeConvertible(String.class, Collection.class);\r\n        registry.addConverter(String.class, Collection.class, Collections::singletonList);\r\n    }\r\n}\r\n```","title":"How to prevent Spring MVC from interpreting commas when converting to a Collection in Spring Boot?","body":"<p>this is a shorter version, THANKS to @Strelok</p>\n<pre><code>import java.util.Collection;\nimport java.util.Collections;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.format.FormatterRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n@Configuration\nclass WebMvcConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.removeConvertible(String.class, Collection.class);\n        registry.addConverter(String.class, Collection.class, Collections::singletonList);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15591825,"reputation":11,"user_id":17667773,"display_name":"Helder Hern&#225;ndez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646434256,"creation_date":1646434256,"answer_id":71358042,"question_id":42120588,"body_markdown":"I managed to solve the problem by applying the following:\r\n[how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5](https://stackoverflow.com/a/20375369/17667773)\r\n\r\nThe trick is done by the following lines of code\r\n\r\n```java\r\n@InitBinder\r\npublic void initBinder(WebDataBinder binder) {\r\n  binder.registerCustomEditor(String[].class, new StringArrayPropertyEditor(null));\r\n}\r\n```\r\n\r\nMore information:\r\n[Why escaped comma is the delimiter for @RequestParam List&lt;String&gt;?](https://github.com/spring-projects/spring-framework/issues/23820#issuecomment-1059578991)\r\n\r\n","title":"How to prevent Spring MVC from interpreting commas when converting to a Collection in Spring Boot?","body":"<p>I managed to solve the problem by applying the following:\n<a href=\"https://stackoverflow.com/a/20375369/17667773\">how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5</a></p>\n<p>The trick is done by the following lines of code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InitBinder\npublic void initBinder(WebDataBinder binder) {\n  binder.registerCustomEditor(String[].class, new StringArrayPropertyEditor(null));\n}\n</code></pre>\n<p>More information:\n<a href=\"https://github.com/spring-projects/spring-framework/issues/23820#issuecomment-1059578991\" rel=\"nofollow noreferrer\">Why escaped comma is the delimiter for @RequestParam List?</a></p>\n"}],"owner":{"account_id":7700687,"reputation":93,"user_id":7229728,"display_name":"ircecho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5137,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":42134833,"answer_count":3,"score":7,"last_activity_date":1701571269,"creation_date":1486577468,"question_id":42120588,"body_markdown":"We basically have the same problem as [this question][1] poses, but for lists and additionally, we are looking for a global solution.\r\n\r\nCurrently we have a REST call that is defined like this:\r\n\r\n    @RequestMapping\r\n    @ResponseBody\r\n    public Object listProducts(@RequestParam(value = &quot;attributes&quot;, required = false) List&lt;String&gt; attributes) {\r\n\r\nThe call works fine and the list attributes will contain two elements &quot;test1:12,3&quot; and &quot;test1:test2&quot; when called like this:\r\n\r\n    product/list?attributes=test1:12,3&amp;attributes=test1:test2\r\n\r\nHowever, the list attributes will also contain two elements, &quot;test1:12&quot; and &quot;3&quot; when called as follows:\r\n\r\n    product/list?attributes=test1:12,3\r\n\r\nThe reason for this is, that in the first case, Spring will use a ArrayToCollectionConverter in the first case. In the second case it will use a StringToCollectionConverter which will split the argument using &quot;,&quot; as a separator.\r\n\r\nHow can I configure Spring Boot to ignore the comma in the parameter? The solution should be global if possible.\r\n\r\n**What we have tried:**\r\n\r\n[This question][1] does not work for us, because we have a List instead of an array. Besides, this would be a controller-local solution only.\r\n\r\nI also tried to add this configuration:\r\n\r\n    @Bean(name=&quot;conversionService&quot;)\r\n    public ConversionService getConversionService() {\r\n        ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\r\n        bean.setConverters(Collections.singleton(new CustomStringToCollectionConverter()));\r\n        bean.afterPropertiesSet();\r\n        return bean.getObject();\r\n    }\r\n\r\nwhere CustomStringToCollectionConverter is a copy of the Spring StringToCollectionConverter, but without the splitting, however, the Spring converter still gets called preferentially.\r\n\r\nOn a hunch, I also tried &quot;mvcConversionService&quot; as a bean name, but that did not change anything either.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5\r\n","title":"How to prevent Spring MVC from interpreting commas when converting to a Collection in Spring Boot?","body":"<p>We basically have the same problem as <a href=\"https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5\">this question</a> poses, but for lists and additionally, we are looking for a global solution.</p>\n\n<p>Currently we have a REST call that is defined like this:</p>\n\n<pre><code>@RequestMapping\n@ResponseBody\npublic Object listProducts(@RequestParam(value = \"attributes\", required = false) List&lt;String&gt; attributes) {\n</code></pre>\n\n<p>The call works fine and the list attributes will contain two elements \"test1:12,3\" and \"test1:test2\" when called like this:</p>\n\n<pre><code>product/list?attributes=test1:12,3&amp;attributes=test1:test2\n</code></pre>\n\n<p>However, the list attributes will also contain two elements, \"test1:12\" and \"3\" when called as follows:</p>\n\n<pre><code>product/list?attributes=test1:12,3\n</code></pre>\n\n<p>The reason for this is, that in the first case, Spring will use a ArrayToCollectionConverter in the first case. In the second case it will use a StringToCollectionConverter which will split the argument using \",\" as a separator.</p>\n\n<p>How can I configure Spring Boot to ignore the comma in the parameter? The solution should be global if possible.</p>\n\n<p><strong>What we have tried:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5\">This question</a> does not work for us, because we have a List instead of an array. Besides, this would be a controller-local solution only.</p>\n\n<p>I also tried to add this configuration:</p>\n\n<pre><code>@Bean(name=\"conversionService\")\npublic ConversionService getConversionService() {\n    ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\n    bean.setConverters(Collections.singleton(new CustomStringToCollectionConverter()));\n    bean.afterPropertiesSet();\n    return bean.getObject();\n}\n</code></pre>\n\n<p>where CustomStringToCollectionConverter is a copy of the Spring StringToCollectionConverter, but without the splitting, however, the Spring converter still gets called preferentially.</p>\n\n<p>On a hunch, I also tried \"mvcConversionService\" as a bean name, but that did not change anything either.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701569073,"post_id":77592715,"comment_id":136791998,"body_markdown":"java.util.ArrayList implements java.util.List interface , with polymorphism of objects they can be more than one type by &quot;extending&quot; (another class or interface) or with interfaces on a class &quot;implementing&quot; or an interface &quot;extending&quot; another interface. Generics is more complicated &lt;Integer&gt; means the data contained must only be that of java.lang.Integer , that is called a &quot;type safe check&quot; e.g. &lt;T&gt; almost anything or for classes not &quot;final class&quot; , e.g.  &lt;? extends java.util.ArrayList&gt;   apart it extends java.util.AbstractList&lt;E&gt; E element is mainly document representation.","body":"java.util.ArrayList implements java.util.List interface , with polymorphism of objects they can be more than one type by &quot;extending&quot; (another class or interface) or with interfaces on a class &quot;implementing&quot; or an interface &quot;extending&quot; another interface. Generics is more complicated &lt;Integer&gt; means the data contained must only be that of java.lang.Integer , that is called a &quot;type safe check&quot; e.g. &lt;T&gt; almost anything or for classes not &quot;final class&quot; , e.g.  &lt;? extends java.util.ArrayList&gt;   apart it extends java.util.AbstractList&lt;E&gt; E element is mainly document representation."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701569708,"post_id":77592715,"comment_id":136792030,"body_markdown":"&lt;? extends java.util.ArrayList&gt; would be something like class MySpecialList extends java,util.ArrayList{  // arraylist is public  NOTE java.util.ArrayList implements java.util.List interface  therefore ArrayList IS A List","body":"&lt;? extends java.util.ArrayList&gt; would be something like class MySpecialList extends java,util.ArrayList{  // arraylist is public  NOTE java.util.ArrayList implements java.util.List interface  therefore ArrayList IS A List"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701570651,"post_id":77592715,"comment_id":136792071,"body_markdown":"Of this . .&quot;returns a valid list of subset given an array.&quot;..  I don&#39;t actually agree , it may be resolving bringing back the first entry of the level it finds by hierarchy is an Integer,not actually looking that deep except as &quot;resolving&quot; because it could contain Integer deeper because it found an aka List .I&#39;m not sure how it internally holds onto its E elements in it.Rather than an extended class,it is able to treat the variables it stores as inner sub class to reach Integer,as close as it ever gets to finding Integer by &quot;Java Reflection&quot;.it is possible to use super keyword on variables.","body":"Of this . .&quot;returns a valid list of subset given an array.&quot;..  I don&#39;t actually agree , it may be resolving bringing back the first entry of the level it finds by hierarchy is an Integer,not actually looking that deep except as &quot;resolving&quot; because it could contain Integer deeper because it found an aka List .I&#39;m not sure how it internally holds onto its E elements in it.Rather than an extended class,it is able to treat the variables it stores as inner sub class to reach Integer,as close as it ever gets to finding Integer by &quot;Java Reflection&quot;.it is possible to use super keyword on variables."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701570066,"creation_date":1701570066,"answer_id":77592859,"question_id":77592715,"body_markdown":"Count the `new`.\r\n\r\nIn the broken solution, one `new` occurs in `subsets`, which is only called once. The `search` method calls itself a bunch of times, but contains __zero__ `new` statements. Finally, there&#39;s `outputs`, but that&#39;s a different concept here so we don&#39;t care much about it. Even disregarding that, that&#39;s only 1 `new` for a grand total of two.\r\n\r\n__That means there is just the one list object__. You&#39;re re-using it every time. So,  That `state.add()` call? That adds to the one and only list that exists.  And, the `state.remove()` call also applies to the one and only list that exists.\r\n\r\nThus, your code:\r\n\r\n1. Adds something to the list. Which starts off empty.\r\n2. Recurses.\r\n3. Removes that something from the list.\r\n\r\nAt the very deepest levels of recursing, your list contains plenty of stuff, but, it&#39;s all removed at the end. Crucially, your list-of-lists (`output`) just contains a reference to the same list over and over. As your one and only list ends up being empty, that one list that is repeatedly in `outputs` is that same empty list.\r\n\r\nHere&#39;s how to think about it:\r\n\r\nYou build one house, and only one. You write its address on a piece of paper and hand it to a buddy to process (this is the `subsets` method&#39;s `new ArrayList&lt;Integer&gt;()` call).\r\n\r\nYour buddy then walks over to the address, and, will:\r\n\r\n1. Make a copy of the note with the address and stick it in a big folder (`outputs.add(state)`). __Not a copy of the house__, no, just a reference - i.e. a copy of its address.\r\n2. Build a cupboard in the house. (`state.add(thing)`).\r\n3. Make another copy of the note with the address and hand it to another buddy who is going to do similar things. All to the same house. You&#39;ll wait while your buddy does her thing.\r\n4. You remove the cupboard from the house.\r\n5. You do steps 2-4 a bunch of times.\r\n\r\nYour buddy does the same &#39;algorithm&#39;, but, no matter how you slice this, this one house ends up with zero cupboards in it, and your big folder of outputs contains just a whole bunch of little notes, and each and every note has the exact same address on it. Which leads to a house that contains no cupboards. It used to - but it no longer does.\r\n\r\nContrast to the working snippets, which replaced:\r\n\r\n1. Make a copy of the note with the address and stick it in a big folder.\r\n\r\nwith:\r\n\r\n1. Find an empty spot of land and build a new house, then copy the exact state of the old house - whatever cupboards are in the main house, painstakingly copy that exactly to this newly built house. Then write the address of this newly built house on a note and stick that in a big folder.\r\n\r\nIn java parlance, all non-primitive values are __references__ - they are not the value itself, but a pointer to it. Java is pass-by-value (i.e. anytime you call a method, all arguments are copied), but, what&#39;s copied is the reference. `.` and `[]` are the dereferencing operators: It&#39;s the equivalent of &quot;walk over to the address on the note&quot;. `=` isn&#39;t - that overwrites notes with addresses.\r\n\r\nImagine a list with 5 million items on it. `listA = listB;` is very fast because it just copies the pointer, it doesn&#39;t copy all 5 million items. `new ArrayList&lt;Integer&gt;(someList)` hands a copy of the reference (a copy of the pointer that leads to whatever `someList` is currently pointing at) to that constructor of `ArrayList`. That constructor shallowly copies the entire list. That would take ~5 million steps.\r\n","title":"Explanation of the difference of code.. Subset recursive call","body":"<p>Count the <code>new</code>.</p>\n<p>In the broken solution, one <code>new</code> occurs in <code>subsets</code>, which is only called once. The <code>search</code> method calls itself a bunch of times, but contains <strong>zero</strong> <code>new</code> statements. Finally, there's <code>outputs</code>, but that's a different concept here so we don't care much about it. Even disregarding that, that's only 1 <code>new</code> for a grand total of two.</p>\n<p><strong>That means there is just the one list object</strong>. You're re-using it every time. So,  That <code>state.add()</code> call? That adds to the one and only list that exists.  And, the <code>state.remove()</code> call also applies to the one and only list that exists.</p>\n<p>Thus, your code:</p>\n<ol>\n<li>Adds something to the list. Which starts off empty.</li>\n<li>Recurses.</li>\n<li>Removes that something from the list.</li>\n</ol>\n<p>At the very deepest levels of recursing, your list contains plenty of stuff, but, it's all removed at the end. Crucially, your list-of-lists (<code>output</code>) just contains a reference to the same list over and over. As your one and only list ends up being empty, that one list that is repeatedly in <code>outputs</code> is that same empty list.</p>\n<p>Here's how to think about it:</p>\n<p>You build one house, and only one. You write its address on a piece of paper and hand it to a buddy to process (this is the <code>subsets</code> method's <code>new ArrayList&lt;Integer&gt;()</code> call).</p>\n<p>Your buddy then walks over to the address, and, will:</p>\n<ol>\n<li>Make a copy of the note with the address and stick it in a big folder (<code>outputs.add(state)</code>). <strong>Not a copy of the house</strong>, no, just a reference - i.e. a copy of its address.</li>\n<li>Build a cupboard in the house. (<code>state.add(thing)</code>).</li>\n<li>Make another copy of the note with the address and hand it to another buddy who is going to do similar things. All to the same house. You'll wait while your buddy does her thing.</li>\n<li>You remove the cupboard from the house.</li>\n<li>You do steps 2-4 a bunch of times.</li>\n</ol>\n<p>Your buddy does the same 'algorithm', but, no matter how you slice this, this one house ends up with zero cupboards in it, and your big folder of outputs contains just a whole bunch of little notes, and each and every note has the exact same address on it. Which leads to a house that contains no cupboards. It used to - but it no longer does.</p>\n<p>Contrast to the working snippets, which replaced:</p>\n<ol>\n<li>Make a copy of the note with the address and stick it in a big folder.</li>\n</ol>\n<p>with:</p>\n<ol>\n<li>Find an empty spot of land and build a new house, then copy the exact state of the old house - whatever cupboards are in the main house, painstakingly copy that exactly to this newly built house. Then write the address of this newly built house on a note and stick that in a big folder.</li>\n</ol>\n<p>In java parlance, all non-primitive values are <strong>references</strong> - they are not the value itself, but a pointer to it. Java is pass-by-value (i.e. anytime you call a method, all arguments are copied), but, what's copied is the reference. <code>.</code> and <code>[]</code> are the dereferencing operators: It's the equivalent of &quot;walk over to the address on the note&quot;. <code>=</code> isn't - that overwrites notes with addresses.</p>\n<p>Imagine a list with 5 million items on it. <code>listA = listB;</code> is very fast because it just copies the pointer, it doesn't copy all 5 million items. <code>new ArrayList&lt;Integer&gt;(someList)</code> hands a copy of the reference (a copy of the pointer that leads to whatever <code>someList</code> is currently pointing at) to that constructor of <code>ArrayList</code>. That constructor shallowly copies the entire list. That would take ~5 million steps.</p>\n"}],"owner":{"account_id":8687065,"reputation":101,"user_id":6501155,"accept_rate":100,"display_name":"exAns"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701570066,"creation_date":1701564782,"question_id":77592715,"body_markdown":"Can someone help me understand what the difference is under the hood between these codes:\r\n\r\n\r\n```\r\nclass Solution {\r\n    List&lt;List&lt;Integer&gt;&gt; output = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\r\n        search(new ArrayList&lt;Integer&gt;(), 0, nums);\r\n        return output; \r\n    }\r\n\r\n    private void search(List&lt;Integer&gt; state, int index, int[] nums){\r\n        output.add((state));\r\n        for(int i = index; i &lt; nums.length; i++){\r\n            state.add(nums[i]);\r\n            search(state, i+1, nums);\r\n            state.remove(state.size()-1);\r\n        }\r\n    }\r\n}\r\n```\r\nwhich returns [[][][][][][]]\r\n\r\nBut \r\n```\r\nclass Solution {\r\n    List&lt;List&lt;Integer&gt;&gt; output = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\r\n        search(new ArrayList&lt;Integer&gt;(), 0, nums);\r\n        return output; \r\n    }\r\n\r\n    private void search(List&lt;Integer&gt; state, int index, int[] nums){\r\n        output.add(new ArrayList&lt;Integer&gt;(state));\r\n        for(int i = index; i &lt; nums.length; i++){\r\n            state.add(nums[i]);\r\n            search(state, i+1, nums);\r\n            state.remove(state.size()-1);\r\n        }\r\n    }\r\n}\r\n```\r\nreturns a valid list of subset given an array.\r\n\r\nWhy do I need to wrap my state with a new ArrayList when adding to output? \r\n\r\nThanks a bunch!","title":"Explanation of the difference of code.. Subset recursive call","body":"<p>Can someone help me understand what the difference is under the hood between these codes:</p>\n<pre><code>class Solution {\n    List&lt;List&lt;Integer&gt;&gt; output = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\n        search(new ArrayList&lt;Integer&gt;(), 0, nums);\n        return output; \n    }\n\n    private void search(List&lt;Integer&gt; state, int index, int[] nums){\n        output.add((state));\n        for(int i = index; i &lt; nums.length; i++){\n            state.add(nums[i]);\n            search(state, i+1, nums);\n            state.remove(state.size()-1);\n        }\n    }\n}\n</code></pre>\n<p>which returns [[][][][][][]]</p>\n<p>But</p>\n<pre><code>class Solution {\n    List&lt;List&lt;Integer&gt;&gt; output = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\n        search(new ArrayList&lt;Integer&gt;(), 0, nums);\n        return output; \n    }\n\n    private void search(List&lt;Integer&gt; state, int index, int[] nums){\n        output.add(new ArrayList&lt;Integer&gt;(state));\n        for(int i = index; i &lt; nums.length; i++){\n            state.add(nums[i]);\n            search(state, i+1, nums);\n            state.remove(state.size()-1);\n        }\n    }\n}\n</code></pre>\n<p>returns a valid list of subset given an array.</p>\n<p>Why do I need to wrap my state with a new ArrayList when adding to output?</p>\n<p>Thanks a bunch!</p>\n"},{"tags":["java","oracle","xa"],"answers":[{"comments":[{"owner":{"account_id":150942,"reputation":2423,"user_id":364474,"accept_rate":31,"display_name":"bprasanna"},"score":0,"creation_date":1386568633,"post_id":20393893,"comment_id":30578931,"body_markdown":"Thank you very much for the hint. Found a solution in link http://surachartopun.com/2013/11/db12c-ora-29548.html. By using update_javavm_db.sql given by Oracle, the version mismatch got fixed.","body":"Thank you very much for the hint. Found a solution in link <a href=\"http://surachartopun.com/2013/11/db12c-ora-29548.html\" rel=\"nofollow noreferrer\">surachartopun.com/2013/11/db12c-ora-29548.html</a>. By using update_javavm_db.sql given by Oracle, the version mismatch got fixed."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386228292,"creation_date":1386228292,"answer_id":20393893,"question_id":20393769,"body_markdown":"Actually, I think you&#39;ve got a developer who did a build with `1.7` (or `1.8`) and didn&#39;t set the compliance level to `1.6`. I say that because your error is actually from the JRE and the relevant part of the exception is &quot;Java system class reported: could not identify release&quot;","title":"ORA-29548: Java system class reported: could not identify release specified in classes.bin","body":"<p>Actually, I think you've got a developer who did a build with <code>1.7</code> (or <code>1.8</code>) and didn't set the compliance level to <code>1.6</code>. I say that because your error is actually from the JRE and the relevant part of the exception is \"Java system class reported: could not identify release\"</p>\n"},{"tags":[],"owner":{"account_id":6535042,"reputation":11,"user_id":5054906,"display_name":"Curtis"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1435364226,"creation_date":1435364226,"answer_id":31083873,"question_id":20393769,"body_markdown":"IF you have applied a recent PSU or java patch to your database make sure you have ran the @postinstall.sql.  For example 20406220 has a postinstall.sql in Oracle_home/sqlpatch/20406220 directory.","title":"ORA-29548: Java system class reported: could not identify release specified in classes.bin","body":"<p>IF you have applied a recent PSU or java patch to your database make sure you have ran the @postinstall.sql.  For example 20406220 has a postinstall.sql in Oracle_home/sqlpatch/20406220 directory.</p>\n"}],"owner":{"account_id":150942,"reputation":2423,"user_id":364474,"accept_rate":31,"display_name":"bprasanna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701569005,"creation_date":1386227833,"question_id":20393769,"body_markdown":"Problem: During simulation of distributed transactions using Java and Oracle XA, while starting a new transaction (xa.start) hitting exception &quot;ORA-29548: Java system class reported: could not identify release specified in classes.bin&quot;\r\n\r\nInitial analysis: Checked the versions of system JDK and JDK version in Oracle. There is a mismatch. \r\n\r\n    System JDK (Java -version): 1.6.0_31\r\n    Oracle JDK (DBMS_JAVA.GET_JDK_VERSION()): 1.6.0_37\r\n\r\nIs the difference in JDK a reason for &quot;**could not identify release specified in classes.bin**&quot; error? Is there any other potential cases which can cause this?\r\n","title":"ORA-29548: Java system class reported: could not identify release specified in classes.bin","body":"<p>Problem: During simulation of distributed transactions using Java and Oracle XA, while starting a new transaction (xa.start) hitting exception \"ORA-29548: Java system class reported: could not identify release specified in classes.bin\"</p>\n\n<p>Initial analysis: Checked the versions of system JDK and JDK version in Oracle. There is a mismatch. </p>\n\n<pre><code>System JDK (Java -version): 1.6.0_31\nOracle JDK (DBMS_JAVA.GET_JDK_VERSION()): 1.6.0_37\n</code></pre>\n\n<p>Is the difference in JDK a reason for \"<strong>could not identify release specified in classes.bin</strong>\" error? Is there any other potential cases which can cause this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1701496654,"post_id":77589279,"comment_id":136785734,"body_markdown":"This site is english only - please translate your post to english. Note that there is also [Stack Overflow em Portugu&#234;s](https://pt.stackoverflow.com/)","body":"This site is english only - please translate your post to english. Note that there is also <a href=\"https://pt.stackoverflow.com/\">Stack Overflow em Portugu&#234;s</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701503106,"post_id":77589279,"comment_id":136786097,"body_markdown":"See https://stackoverflow.com/questions/15099530","body":"See <a href=\"https://stackoverflow.com/questions/15099530\">stackoverflow.com/questions/15099530</a>"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701566734,"creation_date":1701507547,"answer_id":77589705,"question_id":77589279,"body_markdown":"bash-5.1$ java AreasDesLocos\r\n\r\nEnter 2.0001D numbers :\r\n\r\n3.142000\r\n\r\n-0- 3.142\r\n\r\n5.50001\r\n\r\n-1- 5.50001\r\n\r\nAdd :  3.142  +  5.50001 = 8.642009999999999\r\n\r\nEnter 2.0001D numbers :\r\n\r\n3.142000\r\n\r\n-0- 3.142\r\n\r\n7.00001\r\n\r\n-1- 7.00001\r\n\r\nMultiply :  3.142  x  7.00001 = 21.99403142\r\n\r\nbash-5.1$ \r\n\r\n\r\n\r\ndisculpa , desculpa - contando , \r\n\r\n        \r\n    public class AreasDesLocos{\r\n    \r\n    public AreasDesLocos(){}\r\n    \r\n        // e.g.\r\n       // 3.1420 &lt;ENTER&gt;\r\n         // 2.50000 &lt;ENTER&gt;\r\n    \r\n    // javac AreasDesLocos.java\r\n    // java AreasDesLocos\r\n    \r\n    public static double multiply(double n1,double n2){\r\n    double n = n1 * n2;\r\n    return (n);\r\n    }\r\n    \r\n    public static String sendstring(){\r\n    return &quot;Enter 2.0001D numbers :&quot;;\r\n    }\r\n    \r\n    public static void main(String[] args){\r\n    \r\n    \r\n    System.out.println(sendstring());\r\n    \r\n    java.util.Scanner scn = new java.util.Scanner(System.in);\r\n    \r\n    double[] val = {1.0001D,1.0001D};\r\n    \r\n    String tokin = &quot;&quot;;\r\n    int ct =0;\r\n    \r\n    tokin = scn.next();\r\n    val[ct] = new Double(tokin).doubleValue();\r\n    System.out.println(&quot;-&quot;+(ct)+&quot;- &quot;+val[0]);\r\n    \r\n    ct++;\r\n    \r\n    tokin = scn.next();\r\n    val[ct] = new Double(tokin).doubleValue();\r\n    System.out.println(&quot;-&quot;+(ct)+&quot;- &quot;+val[1]);\r\n    \r\n    ct++;\r\n    \r\n    \r\n    \r\n    double summ = val[0] + val[1];\r\n    System.out.println(&quot;Add :  &quot;+val[0]+&quot;  +  &quot;+val[1]+&quot; = &quot;+summ);\r\n    \r\n    System.out.println(sendstring());\r\n    \r\n    \r\n    \r\n    tokin = &quot;&quot;;\r\n    ct =0;\r\n    \r\n    tokin = scn.next();\r\n    val[ct] = new Double(tokin).doubleValue();\r\n    System.out.println(&quot;-&quot;+(ct)+&quot;- &quot;+val[0]);\r\n    \r\n    ct++;\r\n    \r\n    tokin = scn.next();\r\n    val[ct] = new Double(tokin).doubleValue();\r\n    System.out.println(&quot;-&quot;+(ct)+&quot;- &quot;+val[1]);\r\n    \r\n    ct++;\r\n    \r\n    \r\n    summ = multiply(val[0],val[1]);\r\n    System.out.println(&quot;Multiply :  &quot;+val[0]+&quot;  x  &quot;+val[1]+&quot; = &quot;+summ);\r\n    \r\n    scn.close();\r\n    \r\n    \r\n    }// end main\r\n    \r\n    \r\n    }\r\n\r\nincorrecto incorreto sem sin **Areas.**calcular..... \r\n\r\ncomo static calcularAreaTrapezio(baseMaior, baseMenor, alturaTrapezio)\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: at Areas.main(Areas.java:67)","body":"<p>bash-5.1$ java AreasDesLocos</p>\n<p>Enter 2.0001D numbers :</p>\n<p>3.142000</p>\n<p>-0- 3.142</p>\n<p>5.50001</p>\n<p>-1- 5.50001</p>\n<p>Add :  3.142  +  5.50001 = 8.642009999999999</p>\n<p>Enter 2.0001D numbers :</p>\n<p>3.142000</p>\n<p>-0- 3.142</p>\n<p>7.00001</p>\n<p>-1- 7.00001</p>\n<p>Multiply :  3.142  x  7.00001 = 21.99403142</p>\n<p>bash-5.1$</p>\n<p>disculpa , desculpa - contando ,</p>\n<pre><code>public class AreasDesLocos{\n\npublic AreasDesLocos(){}\n\n    // e.g.\n   // 3.1420 &lt;ENTER&gt;\n     // 2.50000 &lt;ENTER&gt;\n\n// javac AreasDesLocos.java\n// java AreasDesLocos\n\npublic static double multiply(double n1,double n2){\ndouble n = n1 * n2;\nreturn (n);\n}\n\npublic static String sendstring(){\nreturn &quot;Enter 2.0001D numbers :&quot;;\n}\n\npublic static void main(String[] args){\n\n\nSystem.out.println(sendstring());\n\njava.util.Scanner scn = new java.util.Scanner(System.in);\n\ndouble[] val = {1.0001D,1.0001D};\n\nString tokin = &quot;&quot;;\nint ct =0;\n\ntokin = scn.next();\nval[ct] = new Double(tokin).doubleValue();\nSystem.out.println(&quot;-&quot;+(ct)+&quot;- &quot;+val[0]);\n\nct++;\n\ntokin = scn.next();\nval[ct] = new Double(tokin).doubleValue();\nSystem.out.println(&quot;-&quot;+(ct)+&quot;- &quot;+val[1]);\n\nct++;\n\n\n\ndouble summ = val[0] + val[1];\nSystem.out.println(&quot;Add :  &quot;+val[0]+&quot;  +  &quot;+val[1]+&quot; = &quot;+summ);\n\nSystem.out.println(sendstring());\n\n\n\ntokin = &quot;&quot;;\nct =0;\n\ntokin = scn.next();\nval[ct] = new Double(tokin).doubleValue();\nSystem.out.println(&quot;-&quot;+(ct)+&quot;- &quot;+val[0]);\n\nct++;\n\ntokin = scn.next();\nval[ct] = new Double(tokin).doubleValue();\nSystem.out.println(&quot;-&quot;+(ct)+&quot;- &quot;+val[1]);\n\nct++;\n\n\nsumm = multiply(val[0],val[1]);\nSystem.out.println(&quot;Multiply :  &quot;+val[0]+&quot;  x  &quot;+val[1]+&quot; = &quot;+summ);\n\nscn.close();\n\n\n}// end main\n\n\n}\n</code></pre>\n<p>incorrecto incorreto sem sin **Areas.**calcular.....</p>\n<p>como static calcularAreaTrapezio(baseMaior, baseMenor, alturaTrapezio)</p>\n"}],"owner":{"account_id":22113584,"reputation":1,"user_id":23024927,"display_name":"Rhana Petreski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701914751,"answer_count":1,"score":0,"last_activity_date":1701566734,"creation_date":1701495926,"question_id":77589279,"body_markdown":"Comecei a aprender Java essa semana e n&#227;o consigo executar um programa com uma para calcular &#225;reas:\r\n\r\npublic interface Formulas \r\n{\r\n    \r\n    public Double calcularAreaQuadrado(Double largura, Double altura);\r\n    \r\n    public Double calcularAreaCirculo(Double raio);\r\n    \r\n    public Double calcularAreaLosango(Double diagonalMenor, Double diagonalMaior);\r\n    \r\n    public Double calcularAreaTriangulo(Double base, Double altura);\r\n    \r\n    public Double calcularAreaTrapezio(Double baseMaior, Double baseMenor, Double altura);\r\n    \r\n}\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Areas implements Formulas\r\n{\r\n\r\n\r\n    public static Double calcularAreaQuadrado(Double largura, Double altura)\r\n    {\r\n\r\n        double areaQuadrado;\r\n        areaQuadrado = largura * altura;\r\n        return System.out.println(&quot;A &#225;rea do quadrado &#233;: &quot; + %.2f,areaQuadrado);\r\n    }\r\n\r\n    public static Double calcularAreaCirculo(Double raio)\r\n    {\r\n\r\n        double areaCirculo;\r\n        areaCirculo = Math.PI*(raio**2);\r\n        return System.out.println(&quot;A &#225;rea do c&#237;rculo &#233;: &quot; + %.2f, areaCirculo);\r\n\r\n    }\r\n\r\n\r\n    public static Double calcularAreaLosango(Double diagonalMenor, Double diagonalMaior)\r\n    {\r\n\r\n        double areaLosango;\r\n        areaLosango = (diagonalMenor*diagonalMaior)/2;\r\n        return System.out.println(&quot;A &#225;rea do losango &#233;: &quot; + %.2f, areaLosango);\r\n    }\r\n\r\n    public static Double calcularAreaTriangulo(Double base, Double altura)\r\n    {\r\n\r\n        double areaTriangulo;\r\n        areaTriangulo = (base*altura)/2;\r\n        return System.out.println(&quot;A &#225;rea do tri&#226;ngulo &#233;: &quot; + %.2f, areaTriangulo);\r\n    }\r\n\r\n    public static Double calcularAreaTrapezio(Double baseMaior, Double baseMenor, Double altura)\r\n    {\r\n\r\n        double areaTrapezio;\r\n        areaTrapezio = ((baseMaior + baseMenor)*altura)/2;\r\n        return System.out.println(&quot;A &#225;rea do trap&#233;zio &#233;: &quot; + %.2f, areaTrapezio);\r\n            \r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        double largura, altura, areaQuadrado;\r\n\r\n        System.out.println(&quot;Valor da largura do quadrado&quot;);\r\n        largura = sc.nextDouble();\r\n        System.out.println(&quot;Valor da altura do quadrado:&quot;);\r\n        altura = sc.nextDouble();\r\n\r\n        Areas.calcularAreaQuadrado(largura,altura);\r\n\r\n        double raio, areaCirculo;\r\n        \r\n        System.out.println(&quot;Valor do raio do quadrado:&quot;);\r\n        raio = sc.nextDouble();\r\n\r\n        Areas.calcularAreaCirculo(raio);\r\n\r\n        double diagonalMenor, diagonalMaior, areaLosango;\r\n\r\n        System.out.println(&quot;Valor da diagonal menor:&quot;);\r\n        diagonalMenor = sc.nextDouble();\r\n        System.out.println(&quot;Valor da diagonal maior:&quot;);\r\n        diagonalMaior = sc.nextDouble();\r\n\r\n        Areas.calcularAreaLosango(diagonalMenor, diagonalMaior);\r\n        \r\n        double baseTriangulo, alturaTriangulo, areaTriangulo;\r\n\r\n        System.out.println(&quot;Valor da base do tri&#226;ngulo:&quot;);\r\n        baseTriangulo = sc.nextDouble();\r\n        System.out.println(&quot;Valor da altura do tri&#226;ngulo:&quot;);\r\n        alturaTriangulo = sc.nextDouble();\r\n\r\n        Areas.calcularAreaTriangulo(baseTriangulo, alturaTriangulo);\r\n\r\n        double baseMaior, baseMenor, alturaTrapezio, areaTrapezio;\r\n\r\n        System.out.println(&quot;/n Valor da base maior do trap&#233;zio: /n&quot;);\r\n        baseMaior = sc.nextDouble();\r\n        System.out.println(&quot;/n Valor da base menor do trap&#233;zio: /n&quot;);\r\n        baseMenor = sc.nextDouble();\r\n        System.out.println(&quot;/n Valor da altura do trap&#233;zio: /n&quot;);\r\n        alturaTrapezio = sc.nextDouble();\r\n\r\n        Areas.calcularAreaTrapezio(baseMaior, baseMenor, alturaTrapezio);\r\n    }\r\n}\r\n\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\r\n\r\n        at Areas.main(Areas.java:67)\r\n\r\nSendo que a liha 67 &#233; a linha logo abaixo a chave de abertura do m&#233;todo main, uma linha vazia.\r\n\r\nRealmente n&#227;o sei qual seria o problema. Desde j&#225;, obrigada !","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: at Areas.main(Areas.java:67)","body":"<p>Comecei a aprender Java essa semana e não consigo executar um programa com uma para calcular áreas:</p>\n<p>public interface Formulas\n{</p>\n<pre><code>public Double calcularAreaQuadrado(Double largura, Double altura);\n\npublic Double calcularAreaCirculo(Double raio);\n\npublic Double calcularAreaLosango(Double diagonalMenor, Double diagonalMaior);\n\npublic Double calcularAreaTriangulo(Double base, Double altura);\n\npublic Double calcularAreaTrapezio(Double baseMaior, Double baseMenor, Double altura);\n</code></pre>\n<p>}</p>\n<p>import java.util.Scanner;</p>\n<p>public class Areas implements Formulas\n{</p>\n<pre><code>public static Double calcularAreaQuadrado(Double largura, Double altura)\n{\n\n    double areaQuadrado;\n    areaQuadrado = largura * altura;\n    return System.out.println(&quot;A área do quadrado é: &quot; + %.2f,areaQuadrado);\n}\n\npublic static Double calcularAreaCirculo(Double raio)\n{\n\n    double areaCirculo;\n    areaCirculo = Math.PI*(raio**2);\n    return System.out.println(&quot;A área do círculo é: &quot; + %.2f, areaCirculo);\n\n}\n\n\npublic static Double calcularAreaLosango(Double diagonalMenor, Double diagonalMaior)\n{\n\n    double areaLosango;\n    areaLosango = (diagonalMenor*diagonalMaior)/2;\n    return System.out.println(&quot;A área do losango é: &quot; + %.2f, areaLosango);\n}\n\npublic static Double calcularAreaTriangulo(Double base, Double altura)\n{\n\n    double areaTriangulo;\n    areaTriangulo = (base*altura)/2;\n    return System.out.println(&quot;A área do triângulo é: &quot; + %.2f, areaTriangulo);\n}\n\npublic static Double calcularAreaTrapezio(Double baseMaior, Double baseMenor, Double altura)\n{\n\n    double areaTrapezio;\n    areaTrapezio = ((baseMaior + baseMenor)*altura)/2;\n    return System.out.println(&quot;A área do trapézio é: &quot; + %.2f, areaTrapezio);\n        \n}\n\npublic static void main(String[] args)\n{\n\n    Scanner sc = new Scanner(System.in);\n\n    double largura, altura, areaQuadrado;\n\n    System.out.println(&quot;Valor da largura do quadrado&quot;);\n    largura = sc.nextDouble();\n    System.out.println(&quot;Valor da altura do quadrado:&quot;);\n    altura = sc.nextDouble();\n\n    Areas.calcularAreaQuadrado(largura,altura);\n\n    double raio, areaCirculo;\n    \n    System.out.println(&quot;Valor do raio do quadrado:&quot;);\n    raio = sc.nextDouble();\n\n    Areas.calcularAreaCirculo(raio);\n\n    double diagonalMenor, diagonalMaior, areaLosango;\n\n    System.out.println(&quot;Valor da diagonal menor:&quot;);\n    diagonalMenor = sc.nextDouble();\n    System.out.println(&quot;Valor da diagonal maior:&quot;);\n    diagonalMaior = sc.nextDouble();\n\n    Areas.calcularAreaLosango(diagonalMenor, diagonalMaior);\n    \n    double baseTriangulo, alturaTriangulo, areaTriangulo;\n\n    System.out.println(&quot;Valor da base do triângulo:&quot;);\n    baseTriangulo = sc.nextDouble();\n    System.out.println(&quot;Valor da altura do triângulo:&quot;);\n    alturaTriangulo = sc.nextDouble();\n\n    Areas.calcularAreaTriangulo(baseTriangulo, alturaTriangulo);\n\n    double baseMaior, baseMenor, alturaTrapezio, areaTrapezio;\n\n    System.out.println(&quot;/n Valor da base maior do trapézio: /n&quot;);\n    baseMaior = sc.nextDouble();\n    System.out.println(&quot;/n Valor da base menor do trapézio: /n&quot;);\n    baseMenor = sc.nextDouble();\n    System.out.println(&quot;/n Valor da altura do trapézio: /n&quot;);\n    alturaTrapezio = sc.nextDouble();\n\n    Areas.calcularAreaTrapezio(baseMaior, baseMenor, alturaTrapezio);\n}\n</code></pre>\n<p>}</p>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:</p>\n<pre><code>    at Areas.main(Areas.java:67)\n</code></pre>\n<p>Sendo que a liha 67 é a linha logo abaixo a chave de abertura do método main, uma linha vazia.</p>\n<p>Realmente não sei qual seria o problema. Desde já, obrigada !</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":5,"creation_date":1701539541,"post_id":77591350,"comment_id":136789453,"body_markdown":"[Bind](https://docs.oracle.com/javase/8/javafx/properties-binding-tutorial/binding.htm#JFXBD107) the [disable](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#disableProperty) property using the _fluent API_.","body":"<a href=\"https://docs.oracle.com/javase/8/javafx/properties-binding-tutorial/binding.htm#JFXBD107\" rel=\"nofollow noreferrer\">Bind</a> the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#disableProperty\" rel=\"nofollow noreferrer\">disable</a> property using the <i>fluent API</i>."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701566273,"creation_date":1701566273,"answer_id":77592747,"question_id":77591350,"body_markdown":"Use bindings for this. You can learn more about bindings, and properties, by reading the [Using JavaFX Properties and Bindings][1] article. I also recommend studying the [`javafx.beans.binding`][2] API. The `Bindings` class offers many static utilities for binding. And the `XXXExpression` classes offer the fluent binding API if you prefer that.\r\n\r\nNote that all standard property _classes_ provided in the [`javafx.beans.property`][3] package inherit from their corresponding &quot;expression class&quot;. For example, a `BooleanProperty` inherits from `BooleanExpression`. That means you can use the fluent API with the properties of the various nodes/controls provided by JavaFX.\r\n\r\nHere is an example with one `ComboBox`, five `CheckBox`es, and a `Button`. The button will be disabled if the combo box has no item selected or if none of the check boxes are selected. This is accomplished via the fluent API. The example does not include your &quot;two boolean variables&quot;, as I don&#39;t know exactly what you mean by that; however, if you make the type of those two variables `BooleanProperty`, or at the very least `ObservableValue&lt;Boolean&gt;`, then you should be able to adapt the code to fit your needs relatively easily.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javafx.application.Application;\r\nimport javafx.beans.binding.BooleanExpression;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.CheckBox;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n  public static void main(String[] args) {\r\n    launch(Main.class, args);\r\n  }\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    var comboBox = createComboBox();\r\n    var checkBoxes = createCheckBoxes();\r\n    var button = createButton();\r\n\r\n    // Use bindings to disable the button when appropriate\r\n    var noItemSelected = comboBox.valueProperty().isNull();\r\n    var noCheckBoxesSelected =\r\n        checkBoxes.stream()\r\n            .map(box -&gt; box.selectedProperty().not()) // not selected\r\n            .reduce(BooleanExpression::and) // *all* not selected\r\n            .orElseThrow();\r\n    // If *either* the combo box has no item selected, or none of the check\r\n    // boxes are selected, then disable the button.\r\n    button.disableProperty().bind(noItemSelected.or(noCheckBoxesSelected));\r\n\r\n    primaryStage.setScene(new Scene(createGridPane(comboBox, checkBoxes, button)));\r\n    primaryStage.show();\r\n  }\r\n\r\n  private GridPane createGridPane(\r\n      ComboBox&lt;String&gt; comboBox, List&lt;CheckBox&gt; checkBoxes, Button button) {\r\n    GridPane grid = new GridPane();\r\n    grid.setAlignment(Pos.CENTER);\r\n    grid.setPadding(new Insets(30));\r\n    grid.setHgap(20);\r\n    grid.setVgap(10);\r\n\r\n    grid.add(comboBox, 0, 0);\r\n    for (int i = 0; i &lt; checkBoxes.size(); i++) {\r\n      grid.add(checkBoxes.get(i), 1, i);\r\n    }\r\n    grid.add(button, 1, checkBoxes.size());\r\n\r\n    return grid;\r\n  }\r\n\r\n  private ComboBox&lt;String&gt; createComboBox() {\r\n    var comboBox = new ComboBox&lt;String&gt;();\r\n    for (int i = 1; i &lt;= 5; i++) {\r\n      comboBox.getItems().add(&quot;Item &quot; + i);\r\n    }\r\n    return comboBox;\r\n  }\r\n\r\n  private List&lt;CheckBox&gt; createCheckBoxes() {\r\n    var checkBoxes = new ArrayList&lt;CheckBox&gt;(5);\r\n    for (int i = 1; i &lt;= 5; i++) {\r\n      checkBoxes.add(new CheckBox(&quot;Check &quot; + i));\r\n    }\r\n    return checkBoxes;\r\n  }\r\n\r\n  private Button createButton() {\r\n    var button = new Button(&quot;Action...&quot;);\r\n    button.setOnAction(\r\n        e -&gt; {\r\n          e.consume();\r\n          System.out.println(&quot;ACTION!&quot;);\r\n        });\r\n    return button;\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm\r\n  [2]: https://openjfx.io/javadoc/21/javafx.base/javafx/beans/binding/package-summary.html\r\n  [3]: https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/package-summary.html","title":"JavaFX observer pattern to enable button","body":"<p>Use bindings for this. You can learn more about bindings, and properties, by reading the <a href=\"https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm\" rel=\"nofollow noreferrer\">Using JavaFX Properties and Bindings</a> article. I also recommend studying the <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/beans/binding/package-summary.html\" rel=\"nofollow noreferrer\"><code>javafx.beans.binding</code></a> API. The <code>Bindings</code> class offers many static utilities for binding. And the <code>XXXExpression</code> classes offer the fluent binding API if you prefer that.</p>\n<p>Note that all standard property <em>classes</em> provided in the <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/package-summary.html\" rel=\"nofollow noreferrer\"><code>javafx.beans.property</code></a> package inherit from their corresponding &quot;expression class&quot;. For example, a <code>BooleanProperty</code> inherits from <code>BooleanExpression</code>. That means you can use the fluent API with the properties of the various nodes/controls provided by JavaFX.</p>\n<p>Here is an example with one <code>ComboBox</code>, five <code>CheckBox</code>es, and a <code>Button</code>. The button will be disabled if the combo box has no item selected or if none of the check boxes are selected. This is accomplished via the fluent API. The example does not include your &quot;two boolean variables&quot;, as I don't know exactly what you mean by that; however, if you make the type of those two variables <code>BooleanProperty</code>, or at the very least <code>ObservableValue&lt;Boolean&gt;</code>, then you should be able to adapt the code to fit your needs relatively easily.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport javafx.application.Application;\nimport javafx.beans.binding.BooleanExpression;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n  public static void main(String[] args) {\n    launch(Main.class, args);\n  }\n\n  @Override\n  public void start(Stage primaryStage) {\n    var comboBox = createComboBox();\n    var checkBoxes = createCheckBoxes();\n    var button = createButton();\n\n    // Use bindings to disable the button when appropriate\n    var noItemSelected = comboBox.valueProperty().isNull();\n    var noCheckBoxesSelected =\n        checkBoxes.stream()\n            .map(box -&gt; box.selectedProperty().not()) // not selected\n            .reduce(BooleanExpression::and) // *all* not selected\n            .orElseThrow();\n    // If *either* the combo box has no item selected, or none of the check\n    // boxes are selected, then disable the button.\n    button.disableProperty().bind(noItemSelected.or(noCheckBoxesSelected));\n\n    primaryStage.setScene(new Scene(createGridPane(comboBox, checkBoxes, button)));\n    primaryStage.show();\n  }\n\n  private GridPane createGridPane(\n      ComboBox&lt;String&gt; comboBox, List&lt;CheckBox&gt; checkBoxes, Button button) {\n    GridPane grid = new GridPane();\n    grid.setAlignment(Pos.CENTER);\n    grid.setPadding(new Insets(30));\n    grid.setHgap(20);\n    grid.setVgap(10);\n\n    grid.add(comboBox, 0, 0);\n    for (int i = 0; i &lt; checkBoxes.size(); i++) {\n      grid.add(checkBoxes.get(i), 1, i);\n    }\n    grid.add(button, 1, checkBoxes.size());\n\n    return grid;\n  }\n\n  private ComboBox&lt;String&gt; createComboBox() {\n    var comboBox = new ComboBox&lt;String&gt;();\n    for (int i = 1; i &lt;= 5; i++) {\n      comboBox.getItems().add(&quot;Item &quot; + i);\n    }\n    return comboBox;\n  }\n\n  private List&lt;CheckBox&gt; createCheckBoxes() {\n    var checkBoxes = new ArrayList&lt;CheckBox&gt;(5);\n    for (int i = 1; i &lt;= 5; i++) {\n      checkBoxes.add(new CheckBox(&quot;Check &quot; + i));\n    }\n    return checkBoxes;\n  }\n\n  private Button createButton() {\n    var button = new Button(&quot;Action...&quot;);\n    button.setOnAction(\n        e -&gt; {\n          e.consume();\n          System.out.println(&quot;ACTION!&quot;);\n        });\n    return button;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9305717,"reputation":47,"user_id":6909544,"display_name":"Marko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701566273,"creation_date":1701536712,"question_id":77591350,"body_markdown":"In a small JavaFX application I would like to implement a simple validation check.\r\nOne button should be enabled ONLY if two boolean variables are true, one combobox has an selected item and at least one checkbox (out of five) is selected.\r\n\r\nImho as a newbie I think that should be implemented with the observer pattern. My question: How can the button (aka observer) be notified about the correct values/states of the components (aka subjects) to get enabled?\r\n\r\nThanks.  ","title":"JavaFX observer pattern to enable button","body":"<p>In a small JavaFX application I would like to implement a simple validation check.\nOne button should be enabled ONLY if two boolean variables are true, one combobox has an selected item and at least one checkbox (out of five) is selected.</p>\n<p>Imho as a newbie I think that should be implemented with the observer pattern. My question: How can the button (aka observer) be notified about the correct values/states of the components (aka subjects) to get enabled?</p>\n<p>Thanks.</p>\n"},{"tags":["java","xml","hibernate","orm","persistence"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701565876,"post_id":77592720,"comment_id":136791826,"body_markdown":"This type of error, caught at runtime, usually indicates a version difference between the libraries in the compile environment vs the deployment environment.  Make sure the versions are the same in both places.","body":"This type of error, caught at runtime, usually indicates a version difference between the libraries in the compile environment vs the deployment environment.  Make sure the versions are the same in both places."},{"owner":{"account_id":30051483,"reputation":1,"user_id":23029881,"display_name":"alexfaisca"},"score":0,"creation_date":1701566967,"post_id":77592720,"comment_id":136791883,"body_markdown":"Thank you, I think I might have found the problem. You were right, mismatch between the hibernate-envers version and everything else.","body":"Thank you, I think I might have found the problem. You were right, mismatch between the hibernate-envers version and everything else."}],"owner":{"account_id":30051483,"reputation":1,"user_id":23029881,"display_name":"alexfaisca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701565793,"creation_date":1701564943,"question_id":77592720,"body_markdown":"I&#39;m trying to config a hibernate database through persitence.xml file. I currently have the following persistence.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;postgres&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://127.0.0.1:5432/BlingBankDB&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL92Dialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.listeners.envers.autoRegister&quot;&gt;false&lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\nThe database seems seems to connect to the postgres cluster but I&#39;m getting the following error:\r\n\r\n```\r\nCaused by: java.lang.AbstractMethodError: Receiver class org.hibernate.envers.internal.entities.RevisionTypeType does not define or inherit an implementation of the resolved method &#39;abstract int[] sqlTypes()&#39; of interface org.hibernate.usertype.UserType.\r\n\r\n```\r\nThis is the complete stack trace:\r\n\r\n```\r\n! java.lang.ExceptionInInitializerError\r\n    at pt.tecnico.sirs.databaseserver.repository.hibernate.HibernateUtil.buildSessionFactory (HibernateUtil.java:29)\r\n    at pt.tecnico.sirs.databaseserver.repository.hibernate.HibernateUtil.&lt;clinit&gt; (HibernateUtil.java:10)\r\n    at pt.tecnico.sirs.databaseserver.DatabaseServer.&lt;init&gt; (DatabaseServer.java:20)\r\n    at pt.tecnico.sirs.databaseserver.DatabaseServer.main (DatabaseServer.java:63)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n    at java.lang.Thread.run (Thread.java:840)\r\nCaused by: java.lang.AbstractMethodError: Receiver class org.hibernate.envers.internal.entities.RevisionTypeType does not define or inherit an implementation of the resolved method &#39;abstract int[] sqlTypes()&#39; of interface org.hibernate.usertype.UserType.\r\n    at org.hibernate.type.CustomType.&lt;init&gt; (CustomType.java:58)\r\n    at org.hibernate.type.BasicTypeRegistry.register (BasicTypeRegistry.java:166)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$2.contributeType (MetadataBuildingProcess.java:356)\r\n    at org.hibernate.envers.boot.internal.TypeContributorImpl.contribute (TypeContributorImpl.java:27)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes (MetadataBuildingProcess.java:391)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete (MetadataBuildingProcess.java:132)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build (MetadataBuildingProcess.java:86)\r\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build (MetadataBuilderImpl.java:479)\r\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build (MetadataBuilderImpl.java:85)\r\n    at pt.tecnico.sirs.databaseserver.repository.hibernate.HibernateUtil.buildSessionFactory (HibernateUtil.java:23)\r\n    at pt.tecnico.sirs.databaseserver.repository.hibernate.HibernateUtil.&lt;clinit&gt; (HibernateUtil.java:10)\r\n    at pt.tecnico.sirs.databaseserver.DatabaseServer.&lt;init&gt; (DatabaseServer.java:20)\r\n    at pt.tecnico.sirs.databaseserver.DatabaseServer.main (DatabaseServer.java:63)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n    at java.lang.Thread.run (Thread.java:840)\r\n```\r\n\r\nAnd despite me explicitly defining the hibernate.listeners to false, it seems to still have Envers integration set to true.\r\nWhat am I doing wrong?\r\n\r\n\r\nI checked out some of the documentation and read a lot of similar problems but I can&#39;t find the solution.","title":"Hibernate persistence.xml Unmarshall exception","body":"<p>I'm trying to config a hibernate database through persitence.xml file. I currently have the following persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://127.0.0.1:5432/BlingBankDB&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL92Dialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.listeners.envers.autoRegister&quot;&gt;false&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>The database seems seems to connect to the postgres cluster but I'm getting the following error:</p>\n<pre><code>Caused by: java.lang.AbstractMethodError: Receiver class org.hibernate.envers.internal.entities.RevisionTypeType does not define or inherit an implementation of the resolved method 'abstract int[] sqlTypes()' of interface org.hibernate.usertype.UserType.\n\n</code></pre>\n<p>This is the complete stack trace:</p>\n<pre><code>! java.lang.ExceptionInInitializerError\n    at pt.tecnico.sirs.databaseserver.repository.hibernate.HibernateUtil.buildSessionFactory (HibernateUtil.java:29)\n    at pt.tecnico.sirs.databaseserver.repository.hibernate.HibernateUtil.&lt;clinit&gt; (HibernateUtil.java:10)\n    at pt.tecnico.sirs.databaseserver.DatabaseServer.&lt;init&gt; (DatabaseServer.java:20)\n    at pt.tecnico.sirs.databaseserver.DatabaseServer.main (DatabaseServer.java:63)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n    at java.lang.Thread.run (Thread.java:840)\nCaused by: java.lang.AbstractMethodError: Receiver class org.hibernate.envers.internal.entities.RevisionTypeType does not define or inherit an implementation of the resolved method 'abstract int[] sqlTypes()' of interface org.hibernate.usertype.UserType.\n    at org.hibernate.type.CustomType.&lt;init&gt; (CustomType.java:58)\n    at org.hibernate.type.BasicTypeRegistry.register (BasicTypeRegistry.java:166)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$2.contributeType (MetadataBuildingProcess.java:356)\n    at org.hibernate.envers.boot.internal.TypeContributorImpl.contribute (TypeContributorImpl.java:27)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes (MetadataBuildingProcess.java:391)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete (MetadataBuildingProcess.java:132)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build (MetadataBuildingProcess.java:86)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build (MetadataBuilderImpl.java:479)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build (MetadataBuilderImpl.java:85)\n    at pt.tecnico.sirs.databaseserver.repository.hibernate.HibernateUtil.buildSessionFactory (HibernateUtil.java:23)\n    at pt.tecnico.sirs.databaseserver.repository.hibernate.HibernateUtil.&lt;clinit&gt; (HibernateUtil.java:10)\n    at pt.tecnico.sirs.databaseserver.DatabaseServer.&lt;init&gt; (DatabaseServer.java:20)\n    at pt.tecnico.sirs.databaseserver.DatabaseServer.main (DatabaseServer.java:63)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n    at java.lang.Thread.run (Thread.java:840)\n</code></pre>\n<p>And despite me explicitly defining the hibernate.listeners to false, it seems to still have Envers integration set to true.\nWhat am I doing wrong?</p>\n<p>I checked out some of the documentation and read a lot of similar problems but I can't find the solution.</p>\n"},{"tags":["java","spring-boot","error-handling","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1695111601,"post_id":77119821,"comment_id":135977016,"body_markdown":"According to my understanding the `fallbackMethod` is called when the circuit transition to Open. Did you try to run your app without using `fallbackCircuitBreaker`?","body":"According to my understanding the <code>fallbackMethod</code> is called when the circuit transition to Open. Did you try to run your app without using <code>fallbackCircuitBreaker</code>?"},{"owner":{"account_id":29462299,"reputation":23,"user_id":22576820,"display_name":"Gonzalo Martinez"},"score":0,"creation_date":1695258367,"post_id":77119821,"comment_id":136001644,"body_markdown":"@PeterCsala I want that to happen. To clarify, what I want is for personalized exceptions to be thrown by the service, be ignored by anything resilience4j related and get caught by my exception handlers. But, at the same time, I want other exceptions, meaning non-personalized and not expected ones, to be caught by the circuit breaker, to make an adecuate response.","body":"@PeterCsala I want that to happen. To clarify, what I want is for personalized exceptions to be thrown by the service, be ignored by anything resilience4j related and get caught by my exception handlers. But, at the same time, I want other exceptions, meaning non-personalized and not expected ones, to be caught by the circuit breaker, to make an adecuate response."}],"answers":[{"tags":[],"owner":{"account_id":29462299,"reputation":23,"user_id":22576820,"display_name":"Gonzalo Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695260307,"creation_date":1695260307,"answer_id":77146735,"question_id":77119821,"body_markdown":"**Quick note:** the annotations are executed in the inverse order that they appear, meaning `@RateLimiter`, then `@Retry`, then `@CircuitBreaker`. The circuit breaker, therefore, is the last failsafe to catch any unexpected exceptions. \r\n\r\nHi, I&#39;m the one that asked the question, and I have found a temporary (and rather sus in my opinion) solution.\r\n\r\nIt goes like this:\r\n\r\n```java\r\npublic ResponseEntity&lt;Object&gt; fallbackCircuitBreaker(Throwable exception) throws Throwable {\r\n        if(!(exception instanceof IErrorException)) {\r\n            return this.clienteService.fallbackCircuitBreaker(exception);\r\n        } else {\r\n            circuitBreakerRegistry.circuitBreaker(&quot;clientCircuitBreaker&quot;).transitionToClosedState();\r\n            throw exception;\r\n        }\r\n    }\r\n```\r\nLike I said, it solves it because, even though the circuit breaker still catches it, if it&#39;s a personalized exception, it re-throws it, and it&#39;s then caught by the exception handlers. The problem is that it *does* still trigger the circuit breaker, so, if it was a personalized exception, I also force a transition to closed state to &quot;make it so nothing happened&quot;. Suspicious, as I said before.\r\n\r\nSomething of note is that I also have a `@Retry` like it shows in my controller, so the above solution worked for the circuit breaker, but it still retried a couple of times when throwing a personalized exception. To solve this, I ventured to use `.ignoreExceptions(IErrorException.class)` in the retry configuration, which didn&#39;t work in the circuit breaker configuration last time I chequed. But surprisingly, it worked.\r\n\r\nThus, I reached the intended behaviour. It works just like catching my personalized exceptions in the service and returning a proper reponse, just that it&#39;s better *distributed* now. However, I feel like it&#39;s not the best option. So I ask: does something like `.ignoreExceptions(IErrorException.class)` work for you in your circuit breaker configuration?\r\n\r\nHere are my dependencies and configs (relevant to this):\r\n\r\n```java\r\n@Configuration\r\npublic class CircuitBreakerConfiguration {\r\n\r\n    @Primary\r\n    @Bean\r\n    public CircuitBreakerProperties circuitBreakerProperties() {\r\n        CircuitBreakerProperties circuitBreakerProperties = new CircuitBreakerProperties();\r\n        circuitBreakerProperties.setCircuitBreakerAspectOrder(1);\r\n        return circuitBreakerProperties;\r\n    }\r\n\r\n    @Bean\r\n    public CircuitBreakerRegistry circuitBreakerRegistry() {\r\n        CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\r\n            .slidingWindowType(CircuitBreakerConfig.SlidingWindowType.COUNT_BASED)\r\n            .slidingWindowSize(5)\r\n            .failureRateThreshold(40)\r\n            .slowCallRateThreshold(40)\r\n            .permittedNumberOfCallsInHalfOpenState(1)\r\n            .maxWaitDurationInHalfOpenState(Duration.ofSeconds(10))\r\n            .waitDurationInOpenState(Duration.ofSeconds(10))\r\n            .writableStackTraceEnabled(true)\r\n            .minimumNumberOfCalls(5)\r\n            .automaticTransitionFromOpenToHalfOpenEnabled(true)\r\n                .ignoreExceptions(IErrorException.class) // last time I chequed, it did nothing\r\n            .build();\r\n   \r\n        return CircuitBreakerRegistry.of(circuitBreakerConfig);\r\n    }\r\n\r\n}\r\n```\r\n```java\r\n@Configuration\r\npublic class RetryConfiguration {\r\n\r\n    @Primary\r\n    @Bean\r\n    public RetryProperties retryProperties() {\r\n        RetryProperties retryProperties = new RetryProperties();\r\n        retryProperties.setRetryAspectOrder(2);\r\n        return retryProperties;\r\n    }\r\n\r\n    @Bean\r\n    public RetryRegistry retryRegistry() {\r\n        RetryConfig retryConfig = RetryConfig.custom()\r\n            .maxAttempts(3)\r\n            .waitDuration(Duration.ofSeconds(1))\r\n                .ignoreExceptions(IErrorException.class) // works\r\n            .build();\r\n\r\n        return RetryRegistry.of(retryConfig);\r\n    }\r\n\r\n}\r\n```\r\n```xml\r\n\r\n      &lt;!-- ... --&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n      &lt;!-- ... --&gt;\r\n\r\n      &lt;dependencies&gt;\r\n\r\n        &lt;!--Resilience4j (Circuit Breaker, Rate Limiter y Retry)--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resilience4j-spring-boot3&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- ... --&gt;\r\n\r\n      &lt;dependencies&gt;\r\n\r\n      &lt;!-- ... --&gt;\r\n```","title":"Can&#39;t use a ControllerAdvice with ExceptionHandlers while using Circuit Breaker from resilience4j","body":"<p><strong>Quick note:</strong> the annotations are executed in the inverse order that they appear, meaning <code>@RateLimiter</code>, then <code>@Retry</code>, then <code>@CircuitBreaker</code>. The circuit breaker, therefore, is the last failsafe to catch any unexpected exceptions.</p>\n<p>Hi, I'm the one that asked the question, and I have found a temporary (and rather sus in my opinion) solution.</p>\n<p>It goes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;Object&gt; fallbackCircuitBreaker(Throwable exception) throws Throwable {\n        if(!(exception instanceof IErrorException)) {\n            return this.clienteService.fallbackCircuitBreaker(exception);\n        } else {\n            circuitBreakerRegistry.circuitBreaker(&quot;clientCircuitBreaker&quot;).transitionToClosedState();\n            throw exception;\n        }\n    }\n</code></pre>\n<p>Like I said, it solves it because, even though the circuit breaker still catches it, if it's a personalized exception, it re-throws it, and it's then caught by the exception handlers. The problem is that it <em>does</em> still trigger the circuit breaker, so, if it was a personalized exception, I also force a transition to closed state to &quot;make it so nothing happened&quot;. Suspicious, as I said before.</p>\n<p>Something of note is that I also have a <code>@Retry</code> like it shows in my controller, so the above solution worked for the circuit breaker, but it still retried a couple of times when throwing a personalized exception. To solve this, I ventured to use <code>.ignoreExceptions(IErrorException.class)</code> in the retry configuration, which didn't work in the circuit breaker configuration last time I chequed. But surprisingly, it worked.</p>\n<p>Thus, I reached the intended behaviour. It works just like catching my personalized exceptions in the service and returning a proper reponse, just that it's better <em>distributed</em> now. However, I feel like it's not the best option. So I ask: does something like <code>.ignoreExceptions(IErrorException.class)</code> work for you in your circuit breaker configuration?</p>\n<p>Here are my dependencies and configs (relevant to this):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CircuitBreakerConfiguration {\n\n    @Primary\n    @Bean\n    public CircuitBreakerProperties circuitBreakerProperties() {\n        CircuitBreakerProperties circuitBreakerProperties = new CircuitBreakerProperties();\n        circuitBreakerProperties.setCircuitBreakerAspectOrder(1);\n        return circuitBreakerProperties;\n    }\n\n    @Bean\n    public CircuitBreakerRegistry circuitBreakerRegistry() {\n        CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\n            .slidingWindowType(CircuitBreakerConfig.SlidingWindowType.COUNT_BASED)\n            .slidingWindowSize(5)\n            .failureRateThreshold(40)\n            .slowCallRateThreshold(40)\n            .permittedNumberOfCallsInHalfOpenState(1)\n            .maxWaitDurationInHalfOpenState(Duration.ofSeconds(10))\n            .waitDurationInOpenState(Duration.ofSeconds(10))\n            .writableStackTraceEnabled(true)\n            .minimumNumberOfCalls(5)\n            .automaticTransitionFromOpenToHalfOpenEnabled(true)\n                .ignoreExceptions(IErrorException.class) // last time I chequed, it did nothing\n            .build();\n   \n        return CircuitBreakerRegistry.of(circuitBreakerConfig);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RetryConfiguration {\n\n    @Primary\n    @Bean\n    public RetryProperties retryProperties() {\n        RetryProperties retryProperties = new RetryProperties();\n        retryProperties.setRetryAspectOrder(2);\n        return retryProperties;\n    }\n\n    @Bean\n    public RetryRegistry retryRegistry() {\n        RetryConfig retryConfig = RetryConfig.custom()\n            .maxAttempts(3)\n            .waitDuration(Duration.ofSeconds(1))\n                .ignoreExceptions(IErrorException.class) // works\n            .build();\n\n        return RetryRegistry.of(retryConfig);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>\n      &lt;!-- ... --&gt;\n      &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n      &lt;/parent&gt;\n      &lt;!-- ... --&gt;\n\n      &lt;dependencies&gt;\n\n        &lt;!--Resilience4j (Circuit Breaker, Rate Limiter y Retry)--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-spring-boot3&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ... --&gt;\n\n      &lt;dependencies&gt;\n\n      &lt;!-- ... --&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29462299,"reputation":23,"user_id":22576820,"display_name":"Gonzalo Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696367260,"creation_date":1696367260,"answer_id":77225521,"question_id":77119821,"body_markdown":"Update: this is my solution for now\r\n\r\n```java\r\n@RequestMapping(&quot;/api/${env.version}/clients&quot;)\r\n@RestController\r\npublic class ClientController implements IClientController {\r\n\r\n    private final ClientService clientService;\r\n    private final CircuitBreakerRegistry circuitBreakerRegistry;\r\n\r\n    @Autowired\r\n    public ClientController(ClientService clientService, CircuitBreakerRegistry circuitBreakerRegistry) {\r\n        this.clientService = clientService;\r\n        this.circuitBreakerRegistry = circuitBreakerRegistry;\r\n    }\r\n\r\n    @CircuitBreaker(name = &quot;clientCircuitBreaker&quot;, fallbackMethod = &quot;fallbackCircuitBreaker&quot;)\r\n    @Retry(name = &quot;clientRetry&quot;)\r\n    @RateLimiter(name = &quot;clientRateLimiter&quot;, fallbackMethod = &quot;fallbackRateLimiter&quot;)\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @ResponseBody\r\n    public ClientModel getClient(@RequestParam long doc) {\r\n        return clientService.getClient(doc);\r\n    }\r\n\r\n    // fallbacks\r\n\r\n    public ClientModel fallbackCircuitBreaker(long doc, IErrorException exception) {\r\n        circuitBreakerRegistry.circuitBreaker(&quot;clientCircuitBreaker&quot;).transitionToClosedState();\r\n        throw exception;\r\n    }\r\n\r\n    public ClientModel fallbackCircuitBreaker(long doc, Throwable exception) {\r\n        throw new CircuitBreakerException();\r\n    }\r\n\r\n    public ClientModel fallbackRateLimiter(long doc, RequestNotPermitted exception) {\r\n        throw new RateLimiterException();\r\n    }\r\n\r\n}\r\n```\r\nThis is the best I can get without being able to use `ignoreExceptions`. About that, I confirmed that `ignoreExceptions` for `Retry` works, but `ignoreExceptions` for `Circuit Breaker` doesn&#39;t. \r\n\r\nI thought that the fact that I&#39;m using a fallback method for `Circuit Breaker` and not for `Retry` could have something to do with it (maybe ???). This solution and what I just said come from [here][1]. Although, it&#39;s not ideal, because what I&#39;m doing when catching the `IErrorException exception` is just throwing it again and just **ignoring** the intervention of the `Circuit Breaker`.\r\n\r\n\r\n  [1]: https://github.com/resilience4j/resilience4j/issues/1176","title":"Can&#39;t use a ControllerAdvice with ExceptionHandlers while using Circuit Breaker from resilience4j","body":"<p>Update: this is my solution for now</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/api/${env.version}/clients&quot;)\n@RestController\npublic class ClientController implements IClientController {\n\n    private final ClientService clientService;\n    private final CircuitBreakerRegistry circuitBreakerRegistry;\n\n    @Autowired\n    public ClientController(ClientService clientService, CircuitBreakerRegistry circuitBreakerRegistry) {\n        this.clientService = clientService;\n        this.circuitBreakerRegistry = circuitBreakerRegistry;\n    }\n\n    @CircuitBreaker(name = &quot;clientCircuitBreaker&quot;, fallbackMethod = &quot;fallbackCircuitBreaker&quot;)\n    @Retry(name = &quot;clientRetry&quot;)\n    @RateLimiter(name = &quot;clientRateLimiter&quot;, fallbackMethod = &quot;fallbackRateLimiter&quot;)\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    @ResponseBody\n    public ClientModel getClient(@RequestParam long doc) {\n        return clientService.getClient(doc);\n    }\n\n    // fallbacks\n\n    public ClientModel fallbackCircuitBreaker(long doc, IErrorException exception) {\n        circuitBreakerRegistry.circuitBreaker(&quot;clientCircuitBreaker&quot;).transitionToClosedState();\n        throw exception;\n    }\n\n    public ClientModel fallbackCircuitBreaker(long doc, Throwable exception) {\n        throw new CircuitBreakerException();\n    }\n\n    public ClientModel fallbackRateLimiter(long doc, RequestNotPermitted exception) {\n        throw new RateLimiterException();\n    }\n\n}\n</code></pre>\n<p>This is the best I can get without being able to use <code>ignoreExceptions</code>. About that, I confirmed that <code>ignoreExceptions</code> for <code>Retry</code> works, but <code>ignoreExceptions</code> for <code>Circuit Breaker</code> doesn't.</p>\n<p>I thought that the fact that I'm using a fallback method for <code>Circuit Breaker</code> and not for <code>Retry</code> could have something to do with it (maybe ???). This solution and what I just said come from <a href=\"https://github.com/resilience4j/resilience4j/issues/1176\" rel=\"nofollow noreferrer\">here</a>. Although, it's not ideal, because what I'm doing when catching the <code>IErrorException exception</code> is just throwing it again and just <strong>ignoring</strong> the intervention of the <code>Circuit Breaker</code>.</p>\n"},{"tags":[],"owner":{"account_id":29462299,"reputation":23,"user_id":22576820,"display_name":"Gonzalo Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701565607,"creation_date":1701565607,"answer_id":77592730,"question_id":77119821,"body_markdown":"Update: I&#39;ve found a better solution.\r\n\r\nSo, it&#39;s been a while. I&#39;ve been running with the above answer, but I&#39;ve come to understand that it&#39;s a bit lacking. The reason is that, ***if you now need to ignore some new exceptions, that aren&#39;t a subclass of `IErrorException` (example: internal database related exceptions), you have to add a new method for each one, which is trash.***\r\n\r\nSo I was thinking about how this normally works (when I don&#39;t add any fallback method and I configure the exceptions to be ignored in the `application.yml/properties`). In that case you just add a list of exceptions you want to ignore and that&#39;s that. So my new solution follows that idea, though to be honest I still feel like it could be improved.\r\n\r\n```java\r\n@RequestMapping(&quot;/api/${env.version}/clients&quot;)\r\n@RestController\r\npublic class ClientController implements IClientController {\r\n\r\n    private final ClientService clientService;\r\n    private final CircuitBreakerRegistry circuitBreakerRegistry;\r\n\r\n    @Autowired\r\n    public ClientController(ClientService clientService, CircuitBreakerRegistry circuitBreakerRegistry) {\r\n        this.clientService = clientService;\r\n        this.circuitBreakerRegistry = circuitBreakerRegistry;\r\n    }\r\n\r\n    @CircuitBreaker(name = &quot;circuitBreaker&quot;, fallbackMethod = &quot;fallbackCircuitBreaker&quot;)\r\n    @Retry(name = &quot;retry&quot;)\r\n    @RateLimiter(name = &quot;rateLimiter&quot;, fallbackMethod = &quot;fallbackRateLimiter&quot;)\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @ResponseBody\r\n    public ClientModel getClient(@RequestParam long doc) {\r\n        return clientService.getClient(doc);\r\n    }\r\n\r\n    // fallbacks\r\n\r\n    public ResponseModel fallbackCircuitBreaker(long doc, Exception exception) throws Exception {\r\n        ArrayList&lt;Class&gt; ignoredExceptions = new ArrayList&lt;&gt;();\r\n        ignoredExceptions.add(DataAccessException.class);\r\n        ignoredExceptions.add(IErrorException.class);\r\n        ignoredExceptions.add(RateLimiterException.class);\r\n\r\n        if (ignoredExceptions.stream().anyMatch(ex -&gt; ex.isAssignableFrom(exception.getClass()))) {\r\n            circuitBreakerRegistry.circuitBreaker(&quot;circuitBreaker&quot;).transitionToClosedState();\r\n            throw exception;\r\n        }\r\n\r\n        throw new CircuitBreakerException();\r\n    }\r\n\r\n    public ClientModel fallbackRateLimiter(long doc, RequestNotPermitted exception) {\r\n        throw new RateLimiterException();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThus, if you now need to ignore a new exception, you just copy the last `ignoredExceptions.add(...)` line and just change the exception to the one you want. Just like that it works.\r\n\r\nLike I also said, I think there&#39;s still room for improvement here, like maybe using the properties from `appliaction.yml/properties` that are normally used to ignore exceptions for the circuit breaker (that don&#39;t work here, because I&#39;m setting fallbaks) by catching them with `@Value` as a list inside the controller or something, thus never even needing to change the code again, just the `appliaction.yml/properties`. But we&#39;ll see.\r\n\r\nFor just a few exceptions, the previous answer was good enough, but for more (3 or more in my opinion), I think this is better.","title":"Can&#39;t use a ControllerAdvice with ExceptionHandlers while using Circuit Breaker from resilience4j","body":"<p>Update: I've found a better solution.</p>\n<p>So, it's been a while. I've been running with the above answer, but I've come to understand that it's a bit lacking. The reason is that, <em><strong>if you now need to ignore some new exceptions, that aren't a subclass of <code>IErrorException</code> (example: internal database related exceptions), you have to add a new method for each one, which is trash.</strong></em></p>\n<p>So I was thinking about how this normally works (when I don't add any fallback method and I configure the exceptions to be ignored in the <code>application.yml/properties</code>). In that case you just add a list of exceptions you want to ignore and that's that. So my new solution follows that idea, though to be honest I still feel like it could be improved.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/api/${env.version}/clients&quot;)\n@RestController\npublic class ClientController implements IClientController {\n\n    private final ClientService clientService;\n    private final CircuitBreakerRegistry circuitBreakerRegistry;\n\n    @Autowired\n    public ClientController(ClientService clientService, CircuitBreakerRegistry circuitBreakerRegistry) {\n        this.clientService = clientService;\n        this.circuitBreakerRegistry = circuitBreakerRegistry;\n    }\n\n    @CircuitBreaker(name = &quot;circuitBreaker&quot;, fallbackMethod = &quot;fallbackCircuitBreaker&quot;)\n    @Retry(name = &quot;retry&quot;)\n    @RateLimiter(name = &quot;rateLimiter&quot;, fallbackMethod = &quot;fallbackRateLimiter&quot;)\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    @ResponseBody\n    public ClientModel getClient(@RequestParam long doc) {\n        return clientService.getClient(doc);\n    }\n\n    // fallbacks\n\n    public ResponseModel fallbackCircuitBreaker(long doc, Exception exception) throws Exception {\n        ArrayList&lt;Class&gt; ignoredExceptions = new ArrayList&lt;&gt;();\n        ignoredExceptions.add(DataAccessException.class);\n        ignoredExceptions.add(IErrorException.class);\n        ignoredExceptions.add(RateLimiterException.class);\n\n        if (ignoredExceptions.stream().anyMatch(ex -&gt; ex.isAssignableFrom(exception.getClass()))) {\n            circuitBreakerRegistry.circuitBreaker(&quot;circuitBreaker&quot;).transitionToClosedState();\n            throw exception;\n        }\n\n        throw new CircuitBreakerException();\n    }\n\n    public ClientModel fallbackRateLimiter(long doc, RequestNotPermitted exception) {\n        throw new RateLimiterException();\n    }\n\n}\n</code></pre>\n<p>Thus, if you now need to ignore a new exception, you just copy the last <code>ignoredExceptions.add(...)</code> line and just change the exception to the one you want. Just like that it works.</p>\n<p>Like I also said, I think there's still room for improvement here, like maybe using the properties from <code>appliaction.yml/properties</code> that are normally used to ignore exceptions for the circuit breaker (that don't work here, because I'm setting fallbaks) by catching them with <code>@Value</code> as a list inside the controller or something, thus never even needing to change the code again, just the <code>appliaction.yml/properties</code>. But we'll see.</p>\n<p>For just a few exceptions, the previous answer was good enough, but for more (3 or more in my opinion), I think this is better.</p>\n"}],"owner":{"account_id":29462299,"reputation":23,"user_id":22576820,"display_name":"Gonzalo Martinez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1701565607,"creation_date":1694902917,"question_id":77119821,"body_markdown":"So, I was doing a simple spring boot project using resilience4j&#39;s tools, like `@RateLimiter`, `@CircuitBreaker` and `@Retry`. All was working fine, even with personalized exceptions, because they were caught within my service.\r\n\r\nNow I want my service to simply throw exceptions, and manage the handling in a `@RestControllerAdvice` with `@ExceptionHandler`(s), instead of catching the exceptions and managing them within the service, as I see many people do it like that. It also makes sense, because that way, the service only does strictly what it needs to do, and another class can manage the exceptions.\r\n\r\nThe problem is that, from what I&#39;ve seen (not much), all these people that do that don&#39;t use `@CircuitBreaker` too. To be more specific, the problem is that the exceptions are caught first by the Circuit Breaker&#39;s fallback method instead of the Exception Handlers.\r\n\r\n\r\nHere&#39;s some code:\r\n\r\n\r\n    @CircuitBreaker(name = &quot;clientCircuitBreaker&quot;, fallbackMethod = &quot;fallbackCircuitBreaker&quot;)\r\n    @Retry(name=&quot;clientRetry&quot;)\r\n    @RateLimiter(name=&quot;clientRateLimiter&quot;, fallbackMethod = &quot;fallbackRateLimiter&quot;)\r\n    @GetMapping\r\n    public ResponseEntity&lt;?&gt; getClient(@RequestParam long doc) {\r\n        return this.clientService.getClient(doc);\r\n    }\r\n\r\n    public ResponseEntity&lt;Object&gt; fallbackCircuitBreaker(Throwable exception) {\r\n        return this.clientService.fallbackCircuitBreaker(exception);\r\n    }\r\n\r\n    //...\r\n\r\n    @RestControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n\r\n        @ExceptionHandler(IErrorException.class)\r\n        public ResponseEntity&lt;ErrorModel&gt; personalizedException(IErrorException ex) {\r\n            return ResponseEntity.status(404).body(ex.getErrorModel());\r\n        }\r\n\r\n        //...\r\n    }\r\n\r\n\r\nI&#39;ve also tried changing the type of the `@ExceptionHandler` to a more specific one (and make it throw that exception), because that right there is an interface/abstract class, but nothing. I also tried using the configuration `ignoreExceptions(..)` for the Circuit Breaker in a java configuration file, ignoring &#39;IErrorException.class&#39;, but nothing.\r\n\r\nAny idea? Or should I give up this line of thought, and just manage exceptions inside of the service?","title":"Can&#39;t use a ControllerAdvice with ExceptionHandlers while using Circuit Breaker from resilience4j","body":"<p>So, I was doing a simple spring boot project using resilience4j's tools, like <code>@RateLimiter</code>, <code>@CircuitBreaker</code> and <code>@Retry</code>. All was working fine, even with personalized exceptions, because they were caught within my service.</p>\n<p>Now I want my service to simply throw exceptions, and manage the handling in a <code>@RestControllerAdvice</code> with <code>@ExceptionHandler</code>(s), instead of catching the exceptions and managing them within the service, as I see many people do it like that. It also makes sense, because that way, the service only does strictly what it needs to do, and another class can manage the exceptions.</p>\n<p>The problem is that, from what I've seen (not much), all these people that do that don't use <code>@CircuitBreaker</code> too. To be more specific, the problem is that the exceptions are caught first by the Circuit Breaker's fallback method instead of the Exception Handlers.</p>\n<p>Here's some code:</p>\n<pre><code>@CircuitBreaker(name = &quot;clientCircuitBreaker&quot;, fallbackMethod = &quot;fallbackCircuitBreaker&quot;)\n@Retry(name=&quot;clientRetry&quot;)\n@RateLimiter(name=&quot;clientRateLimiter&quot;, fallbackMethod = &quot;fallbackRateLimiter&quot;)\n@GetMapping\npublic ResponseEntity&lt;?&gt; getClient(@RequestParam long doc) {\n    return this.clientService.getClient(doc);\n}\n\npublic ResponseEntity&lt;Object&gt; fallbackCircuitBreaker(Throwable exception) {\n    return this.clientService.fallbackCircuitBreaker(exception);\n}\n\n//...\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(IErrorException.class)\n    public ResponseEntity&lt;ErrorModel&gt; personalizedException(IErrorException ex) {\n        return ResponseEntity.status(404).body(ex.getErrorModel());\n    }\n\n    //...\n}\n</code></pre>\n<p>I've also tried changing the type of the <code>@ExceptionHandler</code> to a more specific one (and make it throw that exception), because that right there is an interface/abstract class, but nothing. I also tried using the configuration <code>ignoreExceptions(..)</code> for the Circuit Breaker in a java configuration file, ignoring 'IErrorException.class', but nothing.</p>\n<p>Any idea? Or should I give up this line of thought, and just manage exceptions inside of the service?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14218669,"reputation":1720,"user_id":10271741,"display_name":"Jerson"},"score":0,"creation_date":1601004247,"post_id":64057269,"comment_id":113274605,"body_markdown":"i think if you directly download the file from src tag of tiktok has no watermark ref :https://stackoverflow.com/questions/7816995/how-can-i-download-a-video-file-to-sd-card","body":"i think if you directly download the file from src tag of tiktok has no watermark ref :<a href=\"https://stackoverflow.com/questions/7816995/how-can-i-download-a-video-file-to-sd-card\" title=\"how can i download a video file to sd card\">stackoverflow.com/questions/7816995/&hellip;</a>"},{"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"score":0,"creation_date":1601018460,"post_id":64057269,"comment_id":113278542,"body_markdown":"sir but we don&#39;t know the location where TikTok locally saves the videos, this won&#39;t help.  this website works fine https://tiktok.codespikex.com/","body":"sir but we don&#39;t know the location where TikTok locally saves the videos, this won&#39;t help.  this website works fine <a href=\"https://tiktok.codespikex.com/\" rel=\"nofollow noreferrer\">tiktok.codespikex.com</a>"},{"owner":{"account_id":905922,"reputation":13779,"user_id":940834,"accept_rate":94,"display_name":"IAmGroot"},"score":1,"creation_date":1601018870,"post_id":64057269,"comment_id":113278724,"body_markdown":"are they not watermarked for a reason?","body":"are they not watermarked for a reason?"},{"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"score":0,"creation_date":1601018992,"post_id":64057269,"comment_id":113278789,"body_markdown":"tiktok has both versions the watermarked and non-watermarked.","body":"tiktok has both versions the watermarked and non-watermarked."},{"owner":{"account_id":3725384,"reputation":759,"user_id":3099423,"display_name":"Yousuf"},"score":0,"creation_date":1601031692,"post_id":64057269,"comment_id":113284327,"body_markdown":"https://tiktok.codespikex.com/ have you checked that the downloaded video is playing? because I checked its downloading but not playing","body":"<a href=\"https://tiktok.codespikex.com/\" rel=\"nofollow noreferrer\">tiktok.codespikex.com</a> have you checked that the downloaded video is playing? because I checked its downloading but not playing"},{"owner":{"account_id":3913141,"reputation":181,"user_id":3237829,"accept_rate":100,"display_name":"John Deep"},"score":0,"creation_date":1601071156,"post_id":64057269,"comment_id":113300926,"body_markdown":"did you got any solution ?","body":"did you got any solution ?"},{"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"score":0,"creation_date":1601097344,"post_id":64057269,"comment_id":113304801,"body_markdown":"no sir still waiting for an answer","body":"no sir still waiting for an answer"},{"owner":{"account_id":13802031,"reputation":1105,"user_id":9961828,"display_name":"pratik vekariya"},"score":0,"creation_date":1605004746,"post_id":64057269,"comment_id":114514264,"body_markdown":"@SyedUsamaAhmad hi, have you found any solution for this? same issue i am facing and i am also trying to find out, but didn&#39;t get anything. Have you got solution?","body":"@SyedUsamaAhmad hi, have you found any solution for this? same issue i am facing and i am also trying to find out, but didn&#39;t get anything. Have you got solution?"},{"owner":{"account_id":6456095,"reputation":401,"user_id":5001447,"display_name":"Khay Leng"},"score":0,"creation_date":1621665819,"post_id":64057269,"comment_id":119568690,"body_markdown":"https://ttdownloader.com/ have you tried this one??","body":"<a href=\"https://ttdownloader.com/\" rel=\"nofollow noreferrer\">ttdownloader.com</a> have you tried this one??"},{"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"score":0,"creation_date":1621676758,"post_id":64057269,"comment_id":119570903,"body_markdown":"yes but i need a way to download the videos without watermark","body":"yes but i need a way to download the videos without watermark"},{"owner":{"account_id":6456095,"reputation":401,"user_id":5001447,"display_name":"Khay Leng"},"score":0,"creation_date":1621706437,"post_id":64057269,"comment_id":119578904,"body_markdown":"```https://tiktok.codespikex.com/download?id=6964751088691989761&amp;type=video``` or ```https://tiktok.codespikex.com/download?id=6964751088691989761&amp;type=music``` works for me","body":"<code>https:&#47;&#47;tiktok.codespikex.com&#47;download?id=696475108869198976&zwnj;&#8203;1&amp;type=video</code> or <code>https:&#47;&#47;tiktok.codespikex.com&#47;download?id=696475108869198976&zwnj;&#8203;1&amp;type=music</code> works for me"},{"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"score":0,"creation_date":1621799632,"post_id":64057269,"comment_id":119598800,"body_markdown":"sir, i have tried this already but I get corrupted file can you tell me how you do it","body":"sir, i have tried this already but I get corrupted file can you tell me how you do it"},{"owner":{"account_id":1263457,"reputation":329,"user_id":1221256,"display_name":"user1221256"},"score":0,"creation_date":1643981028,"post_id":64057269,"comment_id":125489619,"body_markdown":"did you find solution ?","body":"did you find solution ?"},{"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"score":0,"creation_date":1643998907,"post_id":64057269,"comment_id":125497143,"body_markdown":"nope still waiting","body":"nope still waiting"}],"answers":[{"comments":[{"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"score":0,"creation_date":1641922157,"post_id":70550961,"comment_id":124932502,"body_markdown":"hello sir thanks for the answer but I can download the video with a watermark but do you know  of any way to get the video id from the video to get it without watermark eg. https://api-h2.tiktokv.com/aweme/v1/play/?video_id=v07044230000bto6s4p5pij8848sae90&amp;line=0&amp;is_play_url=1&amp;source=PackSourceEnum_AWEME_DETAIL&amp;file_id=5f0801210f564925b1f10079221c468a       \n                                                                      \n                video_id=v07044230000bto6s4p5pij8848sae90","body":"hello sir thanks for the answer but I can download the video with a watermark but do you know  of any way to get the video id from the video to get it without watermark eg. <a href=\"https://api-h2.tiktokv.com/aweme/v1/play/?video_id=v07044230000bto6s4p5pij8848sae90&amp;line=0&amp;is_play_url=1&amp;source=PackSourceEnum_AWEME_DETAIL&amp;file_id=5f0801210f564925b1f10079221c468a\" rel=\"nofollow noreferrer\">api-h2.tiktokv.com/aweme/v1/play/&hellip;</a>                                                                                               video_id=v07044230000bto6s4p5pij8848sae90"},{"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"score":0,"creation_date":1641922335,"post_id":70550961,"comment_id":124932560,"body_markdown":"this website can do https://youtube4kdownloader.com/ajax/getLinks.php?video=https%3A%2F%2Fvm.tiktok.com%2FZSQTnNWu%2F&amp;rand=7a6d56d6659b6","body":"this website can do <a href=\"https://youtube4kdownloader.com/ajax/getLinks.php?video=https%3A%2F%2Fvm.tiktok.com%2FZSQTnNWu%2F&amp;rand=7a6d56d6659b6\" rel=\"nofollow noreferrer\">youtube4kdownloader.com/ajax/&hellip;</a>"}],"tags":[],"owner":{"account_id":4934515,"reputation":163,"user_id":3973113,"display_name":"Ben"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641062189,"creation_date":1641061834,"answer_id":70550961,"question_id":64057269,"body_markdown":"**PARTIAL SOLUTION : DOWNLOADING TIKTOK VIDEO WITH WATERMARK**\r\n\r\n*STEP 1: Add to build.gradle*\r\n\r\n        implementation &#39;org.jsoup:jsoup:1.14.3&#39;\r\n*STEP 2: Add your cookie (from Tiktok.com - try to find it using chrome dev tools), Working EXAMPLE:*\r\n\r\n        &quot;tt_webid_v2=6968990058163848705; tt_webid=6968990058163848705; MONITOR_WEB_ID=6968990058163848705; _ga=GA1.2.1315239861.1622594624; passport_csrf_token=d08d697c6bf8996de200c21ef8be7c8f; passport_csrf_token_default=d08d697c6bf8996de200c21ef8be7c8f; passport_auth_status=4461f506dcbaaf2dc0ca07dbec6da47c%2C; passport_auth_status_ss=4461f506dcbaaf2dc0ca07dbec6da47c%2C; sid_guard=9eed4fa6763dceed51cd86d0ca27202e%7C1622769381%7C5184000%7CTue%2C+03-Aug-2021+01%3A16%3A21+GMT; uid_tt=1b45d3452d8c51a951b9159bffae68918d8fce847ff46c3b762385d076ad9b0d; uid_tt_ss=1b45d3452d8c51a951b9159bffae68918d8fce847ff46c3b762385d076ad9b0d; sid_tt=9eed4fa6763dceed51cd86d0ca27202e; sessionid=9eed4fa6763dceed51cd86d0ca27202e; sessionid_ss=9eed4fa6763dceed51cd86d0ca27202e; store-idc=alisg; store-country-code=cn; odin_tt=f9dfc6847fc4deb428d6560a0eee1ac6da7621e81e4bc66e48ca11d9b94e944ed465bc13dddaeecffe52066ab1f3c54de75bdb9d835ffab67ce46f6f38ec77f6209383977e1a0909c2043fabd8b45ff4; tt_csrf_token=dgOsuRkyci3vAyVbQrti_Ocf; csrf_session_id=a547a648622c44b9bca4ca0511e7540e; s_v_web_id=verify_kpiysnzz_xjFVty6E_o1pv_44hq_B1sf_4WKo9WU4hKnH; xgplayer_device_id=40509682259; xgplayer_user_id=703950030384; bm_sz=CBFF5398784179C9F43AAB6CBA6C039F~YAAQLHTCF/xyJst5AQAAC5P25AzUNANKT9ugqun9O+rFsGco3TICngDvsZZC2mV1sEGkchzYF38i9vYgaTSlxK41SIR17mjIQkw/fnhyeWJBMube6GkI8fv/BD7SzDOvtEXOerSCk8UwzBSaE2kxFC/K2j+Q/On9kOt1CGlkU2H7k0uzQMToSgvLNWEY0qTd; _abck=FAAE0713AB570A9C7357AC429302A0E8~-1~YAAQLHTCF/1yJst5AQAAC5P25AbsU8gINg7Sz+k5U1NJZK21u2/SfwcAiV1Z3rIbusd/Yn0Hao4t3rwmfr0cy/vQFoTPhb1/SJFjwbV2l5SESSp66mrYxnyseQF88EZyKLo0ZdLX+2a/X96ee0H3WVjTnc5bGUPaaTMIbj13s//1Na4GrbuOhjlDZzR3dGHILVw7uX6ies55m74WERBFLYLSPoEsBBl/1hT9Uq9MKpHCYDWkw54/vQ3N+Us9SglLZu5hXmZUlkl1hKCZ36CpyQrV8+vAnxMgNn3d6cjDqWK3vleTBb5vfx5DL602ByWHxOGAxjSdvLiU2f+Len+/iBILH/LEigNrW3xVPUldIjRG8Q/XqBZ+yMYMYPMBIRT2ssYaFG42YBjnlw==~-1~-1~-1; cmpl_token=AgQQAPPdF-RMpYxYfIog4Jk8-tdKu3OK_4PZYP9bfw; ttwid=1%7C_2DQhAb3FNdJO7TeEViwfBMb6tdOOpeS_jCEDDvWbQo%7C1623053481%7Cf9eca73a998726391f6ea768029a455df15d98514f9e2db9eaf76923815f1147; R6kq3TV7=AJW9huV5AQAAaPD3BP-74Sa5ENc8YjPGPmaoV6zprTPuHXNU0e8XxFEXLH7t|1|0|8b7c8d63a889aa2f48e4084853b1f4c3a58ad403; ak_bmsc=8878D47FB0062375E549B53BDBDC797617C2743D3E3B0000ADD4BD60ACBAC402~plxj3R+QWYAe5cIlRvJ6392wOlUtm3KxMZu769G1krI5pnVrzNig4P9mCPsOFc3hXyoagE5JOhfPSkkkjq/J+EjvZ2cSNwCovppDU4S7Klg4jSh+RwxUGMa7k48ab1HLSLcH2P3bSJpWyGQazN/Pen6+MtIS43hIndhCw9zTEELoJ0gEHoxlswYXfc1wGiyNOL2vR3YvQ+nEHuK2aXkwJzSriVYnH9yh8opa+39xVz7BQ=; bm_sv=16A7BCAC64C5999ECEFB83EAABF366C3~6vMhfeLgJoeI/bgNVuRnUopkAuGnrODmT0AvCYqnyXm1gcM0mckyo4UX1NRqb6yfoVgV0vqXbOs/kd3riX9Vv7zT1/2NxE5M2vZPq+1dKt9rULjESkhYSL558gY0AkstIaiPRAQSBQ+O5yonWRJ1Tbe2MH3fmgcfsp3VCiPAKYM=&quot;\r\n\r\n\r\n*STEP 3: Add to your activity/downloading class*\r\n\r\n        private Map&lt;String, String&gt; buildCookiesMap(String cookieStr) {\r\n        Map&lt;String, String&gt; cookieMap = new HashMap&lt;String, String&gt;();\r\n        String[] cookieArr = cookieStr.split(&quot;; &quot;);\r\n        Arrays.stream(cookieArr).forEach(cookie -&gt; {\r\n            String[] split = cookie.split(&quot;=&quot;);\r\n            cookieMap.put(split[0], split[1]);\r\n        });\r\n        return cookieMap;\r\n    }\r\n\r\n*STEP 4: Add to your downloading method(change **file** to your File object)*\r\n\r\n            FileOutputStream out;\r\n            try {\r\n                out = new FileOutputStream(file);\r\n                out.write(Jsoup.connect(url)\r\n                        .userAgent(&quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36&quot;)\r\n                        .cookies(buildCookiesMap(cookie))\r\n                        .referrer(&quot;https://m.tiktok.com/&quot;)\r\n                        .ignoreContentType(true)\r\n                        .execute()\r\n                        .bodyAsBytes());\r\n            } catch (Exception e) {\r\n                Log.w(&quot;TiktokDownloader&quot;, e.getMessage());\r\n            } finally {\r\n                Log.w(&quot;TiktokDownloader&quot;, &quot;Done Downloading process.&quot;);\r\n            }","title":"How to download tiktok video without watermark Android java","body":"<p><strong>PARTIAL SOLUTION : DOWNLOADING TIKTOK VIDEO WITH WATERMARK</strong></p>\n<p><em>STEP 1: Add to build.gradle</em></p>\n<pre><code>    implementation 'org.jsoup:jsoup:1.14.3'\n</code></pre>\n<p><em>STEP 2: Add your cookie (from Tiktok.com - try to find it using chrome dev tools), Working EXAMPLE:</em></p>\n<pre><code>    &quot;tt_webid_v2=6968990058163848705; tt_webid=6968990058163848705; MONITOR_WEB_ID=6968990058163848705; _ga=GA1.2.1315239861.1622594624; passport_csrf_token=d08d697c6bf8996de200c21ef8be7c8f; passport_csrf_token_default=d08d697c6bf8996de200c21ef8be7c8f; passport_auth_status=4461f506dcbaaf2dc0ca07dbec6da47c%2C; passport_auth_status_ss=4461f506dcbaaf2dc0ca07dbec6da47c%2C; sid_guard=9eed4fa6763dceed51cd86d0ca27202e%7C1622769381%7C5184000%7CTue%2C+03-Aug-2021+01%3A16%3A21+GMT; uid_tt=1b45d3452d8c51a951b9159bffae68918d8fce847ff46c3b762385d076ad9b0d; uid_tt_ss=1b45d3452d8c51a951b9159bffae68918d8fce847ff46c3b762385d076ad9b0d; sid_tt=9eed4fa6763dceed51cd86d0ca27202e; sessionid=9eed4fa6763dceed51cd86d0ca27202e; sessionid_ss=9eed4fa6763dceed51cd86d0ca27202e; store-idc=alisg; store-country-code=cn; odin_tt=f9dfc6847fc4deb428d6560a0eee1ac6da7621e81e4bc66e48ca11d9b94e944ed465bc13dddaeecffe52066ab1f3c54de75bdb9d835ffab67ce46f6f38ec77f6209383977e1a0909c2043fabd8b45ff4; tt_csrf_token=dgOsuRkyci3vAyVbQrti_Ocf; csrf_session_id=a547a648622c44b9bca4ca0511e7540e; s_v_web_id=verify_kpiysnzz_xjFVty6E_o1pv_44hq_B1sf_4WKo9WU4hKnH; xgplayer_device_id=40509682259; xgplayer_user_id=703950030384; bm_sz=CBFF5398784179C9F43AAB6CBA6C039F~YAAQLHTCF/xyJst5AQAAC5P25AzUNANKT9ugqun9O+rFsGco3TICngDvsZZC2mV1sEGkchzYF38i9vYgaTSlxK41SIR17mjIQkw/fnhyeWJBMube6GkI8fv/BD7SzDOvtEXOerSCk8UwzBSaE2kxFC/K2j+Q/On9kOt1CGlkU2H7k0uzQMToSgvLNWEY0qTd; _abck=FAAE0713AB570A9C7357AC429302A0E8~-1~YAAQLHTCF/1yJst5AQAAC5P25AbsU8gINg7Sz+k5U1NJZK21u2/SfwcAiV1Z3rIbusd/Yn0Hao4t3rwmfr0cy/vQFoTPhb1/SJFjwbV2l5SESSp66mrYxnyseQF88EZyKLo0ZdLX+2a/X96ee0H3WVjTnc5bGUPaaTMIbj13s//1Na4GrbuOhjlDZzR3dGHILVw7uX6ies55m74WERBFLYLSPoEsBBl/1hT9Uq9MKpHCYDWkw54/vQ3N+Us9SglLZu5hXmZUlkl1hKCZ36CpyQrV8+vAnxMgNn3d6cjDqWK3vleTBb5vfx5DL602ByWHxOGAxjSdvLiU2f+Len+/iBILH/LEigNrW3xVPUldIjRG8Q/XqBZ+yMYMYPMBIRT2ssYaFG42YBjnlw==~-1~-1~-1; cmpl_token=AgQQAPPdF-RMpYxYfIog4Jk8-tdKu3OK_4PZYP9bfw; ttwid=1%7C_2DQhAb3FNdJO7TeEViwfBMb6tdOOpeS_jCEDDvWbQo%7C1623053481%7Cf9eca73a998726391f6ea768029a455df15d98514f9e2db9eaf76923815f1147; R6kq3TV7=AJW9huV5AQAAaPD3BP-74Sa5ENc8YjPGPmaoV6zprTPuHXNU0e8XxFEXLH7t|1|0|8b7c8d63a889aa2f48e4084853b1f4c3a58ad403; ak_bmsc=8878D47FB0062375E549B53BDBDC797617C2743D3E3B0000ADD4BD60ACBAC402~plxj3R+QWYAe5cIlRvJ6392wOlUtm3KxMZu769G1krI5pnVrzNig4P9mCPsOFc3hXyoagE5JOhfPSkkkjq/J+EjvZ2cSNwCovppDU4S7Klg4jSh+RwxUGMa7k48ab1HLSLcH2P3bSJpWyGQazN/Pen6+MtIS43hIndhCw9zTEELoJ0gEHoxlswYXfc1wGiyNOL2vR3YvQ+nEHuK2aXkwJzSriVYnH9yh8opa+39xVz7BQ=; bm_sv=16A7BCAC64C5999ECEFB83EAABF366C3~6vMhfeLgJoeI/bgNVuRnUopkAuGnrODmT0AvCYqnyXm1gcM0mckyo4UX1NRqb6yfoVgV0vqXbOs/kd3riX9Vv7zT1/2NxE5M2vZPq+1dKt9rULjESkhYSL558gY0AkstIaiPRAQSBQ+O5yonWRJ1Tbe2MH3fmgcfsp3VCiPAKYM=&quot;\n</code></pre>\n<p><em>STEP 3: Add to your activity/downloading class</em></p>\n<pre><code>    private Map&lt;String, String&gt; buildCookiesMap(String cookieStr) {\n    Map&lt;String, String&gt; cookieMap = new HashMap&lt;String, String&gt;();\n    String[] cookieArr = cookieStr.split(&quot;; &quot;);\n    Arrays.stream(cookieArr).forEach(cookie -&gt; {\n        String[] split = cookie.split(&quot;=&quot;);\n        cookieMap.put(split[0], split[1]);\n    });\n    return cookieMap;\n}\n</code></pre>\n<p><em>STEP 4: Add to your downloading method(change <strong>file</strong> to your File object)</em></p>\n<pre><code>        FileOutputStream out;\n        try {\n            out = new FileOutputStream(file);\n            out.write(Jsoup.connect(url)\n                    .userAgent(&quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36&quot;)\n                    .cookies(buildCookiesMap(cookie))\n                    .referrer(&quot;https://m.tiktok.com/&quot;)\n                    .ignoreContentType(true)\n                    .execute()\n                    .bodyAsBytes());\n        } catch (Exception e) {\n            Log.w(&quot;TiktokDownloader&quot;, e.getMessage());\n        } finally {\n            Log.w(&quot;TiktokDownloader&quot;, &quot;Done Downloading process.&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":11347606,"reputation":1315,"user_id":8319636,"display_name":"Syed Usama Ahmad"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6880,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1701564696,"creation_date":1601003577,"question_id":64057269,"body_markdown":"How to download TikTok videos without watermark, I was using the old method but that is not working now. Now as tiktok changed there method so it is not working I even found a way to get the URL with a watermark but it gives access denied eg. URL\r\n\r\n\r\nhttps://v16-web-newkey.tiktokcdn.com/5c8801735eeb489ad3c0b2af7010aec5/5f6d9749/video/tos/alisg/tos-alisg-pve-0037/2ee73819ae364f6f989c058a40763879/?a=1988&amp;br=3656&amp;bt=1828&amp;cr=0&amp;cs=0&amp;cv=1&amp;dr=0&amp;ds=3&amp;er=&amp;l=202009250107420101151510441819C37F&amp;lr=tiktok_m&amp;mime_type=video_mp4&amp;qs=0&amp;rc=M2h2b3A4aXc4dzMzOTczM0ApNzo3NDg7aDs5NzZlNThnZGdhc2lnZG9hNF9fLS1fMTRzczNjLmAxMjIwMmM0YDRgYl46Yw%3D%3D&amp;vl=&amp;vr=\r\n\r\n\r\nthis website works fine https://tiktok.codespikex.com/\r\n\r\n\r\n\r\n here is the old method code:\r\n\r\n   \r\n\r\n      @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    private class Data extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n            HttpURLConnection connection;\r\n            BufferedReader reader;\r\n            try {\r\n\r\n                if (!fromService) {\r\n\r\n                    pd.dismiss();\r\n                }\r\n                URL url = new URL(strings[0]);\r\n                connection = (HttpURLConnection) url.openConnection();\r\n                connection.connect();\r\n\r\n\r\n                InputStream stream = connection.getInputStream();\r\n\r\n                reader = new BufferedReader(new InputStreamReader(stream));\r\n\r\n                StringBuilder buffer = new StringBuilder();\r\n                String Line;\r\n\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                    Log.e(&quot;Hello_myurl_is0 &quot;, String.valueOf(reader.lines()));\r\n                }\r\n                while ((Line = reader.readLine()) != null) {\r\n                    Log.e(&quot;Hello_myurl_is &quot;, Line);\r\n                    if (Line.contains(&quot;videoData&quot;)) {\r\n\r\n\r\n                        Line = Line.substring(Line.indexOf(&quot;videoData&quot;));\r\n                        Log.e(&quot;Hello_myurl_is1 &quot;, Line);\r\n                        Line = Line.substring(Line.indexOf(&quot;urls&quot;));\r\n                        Log.e(&quot;Hello_myurl_is2 &quot;, Line);\r\n                        VideoTitle = Line.substring(Line.indexOf(&quot;text&quot;));\r\n                        if (VideoTitle.contains(&quot;#&quot;)) {\r\n                            VideoTitle = VideoTitle.substring(ordinalIndexOf(VideoTitle, &quot;\\&quot;&quot;, 1) + 1, ordinalIndexOf(VideoTitle, &quot;#&quot;, 0));\r\n                        } else {\r\n                            VideoTitle = VideoTitle.substring(ordinalIndexOf(VideoTitle, &quot;\\&quot;&quot;, 1) + 1, ordinalIndexOf(VideoTitle, &quot;\\&quot;&quot;, 2));\r\n                        }\r\n                        System.out.println(&quot;myvideo titljklfjdfd &quot; + VideoTitle);\r\n                        Line = Line.substring(ordinalIndexOf(Line, &quot;\\&quot;&quot;, 1) + 1, ordinalIndexOf(Line, &quot;\\&quot;&quot;, 2));\r\n                        Log.e(&quot;Hello_myurl_is3 &quot;, Line);\r\n                        if (!Line.contains(&quot;https&quot;)) {\r\n                            Line = Line.replace(&quot;http&quot;, &quot;https&quot;);\r\n                        }\r\n                        Log.e(&quot;Hello_myurl_is4 &quot;, Line);\r\n\r\n                        buffer.append(Line);\r\n                        break;\r\n                    }\r\n                }\r\n                return buffer.toString();\r\n            } catch (Exception e) {\r\n                if (!fromService) {\r\n\r\n                    pd.dismiss();\r\n                }\r\n                return &quot;Invalid Video URL or Check Internet Connection&quot;;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n            super.onPostExecute(s);\r\n            if (URLUtil.isValidUrl(s)) {\r\n                String path = createDirectory();\r\n                if (VideoTitle == null || VideoTitle.equals(&quot;&quot;)) {\r\n                    VideoTitle = &quot;TiktokVideo&quot; + new Date().toString() + &quot;.mp4&quot;;\r\n                } else {\r\n                    VideoTitle = VideoTitle + &quot;.mp4&quot;;\r\n                }\r\n                File newFile = new File(path, VideoTitle);\r\n\r\n\r\n                new downloadFile().Downloading(context, s, VideoTitle, &quot;.mp4&quot;);\r\n       \r\n            } else {\r\n                if (Looper.myLooper() == null)\r\n                    Looper.prepare();\r\n                Toast.makeText(context, s, Toast.LENGTH_SHORT).show();\r\n                Looper.loop();\r\n            }\r\n        }\r\n    }\r\n","title":"How to download tiktok video without watermark Android java","body":"<p>How to download TikTok videos without watermark, I was using the old method but that is not working now. Now as tiktok changed there method so it is not working I even found a way to get the URL with a watermark but it gives access denied eg. URL</p>\n<p><a href=\"https://v16-web-newkey.tiktokcdn.com/5c8801735eeb489ad3c0b2af7010aec5/5f6d9749/video/tos/alisg/tos-alisg-pve-0037/2ee73819ae364f6f989c058a40763879/?a=1988&amp;br=3656&amp;bt=1828&amp;cr=0&amp;cs=0&amp;cv=1&amp;dr=0&amp;ds=3&amp;er=&amp;l=202009250107420101151510441819C37F&amp;lr=tiktok_m&amp;mime_type=video_mp4&amp;qs=0&amp;rc=M2h2b3A4aXc4dzMzOTczM0ApNzo3NDg7aDs5NzZlNThnZGdhc2lnZG9hNF9fLS1fMTRzczNjLmAxMjIwMmM0YDRgYl46Yw%3D%3D&amp;vl=&amp;vr=\" rel=\"nofollow noreferrer\">https://v16-web-newkey.tiktokcdn.com/5c8801735eeb489ad3c0b2af7010aec5/5f6d9749/video/tos/alisg/tos-alisg-pve-0037/2ee73819ae364f6f989c058a40763879/?a=1988&amp;br=3656&amp;bt=1828&amp;cr=0&amp;cs=0&amp;cv=1&amp;dr=0&amp;ds=3&amp;er=&amp;l=202009250107420101151510441819C37F&amp;lr=tiktok_m&amp;mime_type=video_mp4&amp;qs=0&amp;rc=M2h2b3A4aXc4dzMzOTczM0ApNzo3NDg7aDs5NzZlNThnZGdhc2lnZG9hNF9fLS1fMTRzczNjLmAxMjIwMmM0YDRgYl46Yw%3D%3D&amp;vl=&amp;vr=</a></p>\n<p>this website works fine <a href=\"https://tiktok.codespikex.com/\" rel=\"nofollow noreferrer\">https://tiktok.codespikex.com/</a></p>\n<p>here is the old method code:</p>\n<pre><code>  @SuppressLint(&quot;StaticFieldLeak&quot;)\nprivate class Data extends AsyncTask&lt;String, String, String&gt; {\n\n    @Override\n    protected String doInBackground(String... strings) {\n        HttpURLConnection connection;\n        BufferedReader reader;\n        try {\n\n            if (!fromService) {\n\n                pd.dismiss();\n            }\n            URL url = new URL(strings[0]);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.connect();\n\n\n            InputStream stream = connection.getInputStream();\n\n            reader = new BufferedReader(new InputStreamReader(stream));\n\n            StringBuilder buffer = new StringBuilder();\n            String Line;\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                Log.e(&quot;Hello_myurl_is0 &quot;, String.valueOf(reader.lines()));\n            }\n            while ((Line = reader.readLine()) != null) {\n                Log.e(&quot;Hello_myurl_is &quot;, Line);\n                if (Line.contains(&quot;videoData&quot;)) {\n\n\n                    Line = Line.substring(Line.indexOf(&quot;videoData&quot;));\n                    Log.e(&quot;Hello_myurl_is1 &quot;, Line);\n                    Line = Line.substring(Line.indexOf(&quot;urls&quot;));\n                    Log.e(&quot;Hello_myurl_is2 &quot;, Line);\n                    VideoTitle = Line.substring(Line.indexOf(&quot;text&quot;));\n                    if (VideoTitle.contains(&quot;#&quot;)) {\n                        VideoTitle = VideoTitle.substring(ordinalIndexOf(VideoTitle, &quot;\\&quot;&quot;, 1) + 1, ordinalIndexOf(VideoTitle, &quot;#&quot;, 0));\n                    } else {\n                        VideoTitle = VideoTitle.substring(ordinalIndexOf(VideoTitle, &quot;\\&quot;&quot;, 1) + 1, ordinalIndexOf(VideoTitle, &quot;\\&quot;&quot;, 2));\n                    }\n                    System.out.println(&quot;myvideo titljklfjdfd &quot; + VideoTitle);\n                    Line = Line.substring(ordinalIndexOf(Line, &quot;\\&quot;&quot;, 1) + 1, ordinalIndexOf(Line, &quot;\\&quot;&quot;, 2));\n                    Log.e(&quot;Hello_myurl_is3 &quot;, Line);\n                    if (!Line.contains(&quot;https&quot;)) {\n                        Line = Line.replace(&quot;http&quot;, &quot;https&quot;);\n                    }\n                    Log.e(&quot;Hello_myurl_is4 &quot;, Line);\n\n                    buffer.append(Line);\n                    break;\n                }\n            }\n            return buffer.toString();\n        } catch (Exception e) {\n            if (!fromService) {\n\n                pd.dismiss();\n            }\n            return &quot;Invalid Video URL or Check Internet Connection&quot;;\n        }\n    }\n\n    @Override\n    protected void onPostExecute(String s) {\n        super.onPostExecute(s);\n        if (URLUtil.isValidUrl(s)) {\n            String path = createDirectory();\n            if (VideoTitle == null || VideoTitle.equals(&quot;&quot;)) {\n                VideoTitle = &quot;TiktokVideo&quot; + new Date().toString() + &quot;.mp4&quot;;\n            } else {\n                VideoTitle = VideoTitle + &quot;.mp4&quot;;\n            }\n            File newFile = new File(path, VideoTitle);\n\n\n            new downloadFile().Downloading(context, s, VideoTitle, &quot;.mp4&quot;);\n   \n        } else {\n            if (Looper.myLooper() == null)\n                Looper.prepare();\n            Toast.makeText(context, s, Toast.LENGTH_SHORT).show();\n            Looper.loop();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","constructor","abstract-class","super"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1697683508,"post_id":77320448,"comment_id":136311578,"body_markdown":"Could you change it so that the `ErrorModel` is lazily created by its getter?","body":"Could you change it so that the <code>ErrorModel</code> is lazily created by its getter?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697693920,"post_id":77320448,"comment_id":136312450,"body_markdown":"Two ideas. (1) If possible, place the two fields in the superclass (or in an intermediate class for those exceptions where it makes sense to have them) and initialize them through the `super` call: `super(Yml.get(&quot;cod&quot;), Yml.get(&quot;desc&quot;), errores);`, etc. (2) Assuming that `get` is a static method in the `Yml` class, would it help making the fields `codigo` and `description` static in the custom exception class (like `ClienteSinMorasException`) too?","body":"Two ideas. (1) If possible, place the two fields in the superclass (or in an intermediate class for those exceptions where it makes sense to have them) and initialize them through the <code>super</code> call: <code>super(Yml.get(&quot;cod&quot;), Yml.get(&quot;desc&quot;), errores);</code>, etc. (2) Assuming that <code>get</code> is a static method in the <code>Yml</code> class, would it help making the fields <code>codigo</code> and <code>description</code> static in the custom exception class (like <code>ClienteSinMorasException</code>) too?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697694451,"post_id":77320448,"comment_id":136312497,"body_markdown":"As an aside, assuming you don’t need to modify the error model after it has been created, declare `private final List&lt;Map&lt;String, String&gt;&gt; errores;` and similar wherever it as passed as parameter. May also make a defensive copy in the constructor so any subsequent modifications the caller may make don’t harm you.","body":"As an aside, assuming you don’t need to modify the error model after it has been created, declare <code>private final List&lt;Map&lt;String, String&gt;&gt; errores;</code> and similar wherever it as passed as parameter. May also make a defensive copy in the constructor so any subsequent modifications the caller may make don’t harm you."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1697695124,"post_id":77320448,"comment_id":136312561,"body_markdown":"Under all circumstances calling overridable methods from a constructor is a bad and discouraged practice exactly because it easily leads to errors like the one you have. So you should change the design to avoid doing that.","body":"Under all circumstances calling overridable methods from a constructor is a bad and discouraged practice exactly because it easily leads to errors like the one you have. So you should change the design to avoid doing that."}],"answers":[{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697709184,"post_id":77320693,"comment_id":136315030,"body_markdown":"The base class `IErrorException` has a field `errorModel` which is initialized by its constructor by calling the overridden getters. Are you saying the OP should also get rid of that?","body":"The base class <code>IErrorException</code> has a field <code>errorModel</code> which is initialized by its constructor by calling the overridden getters. Are you saying the OP should also get rid of that?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1697710520,"post_id":77320693,"comment_id":136315282,"body_markdown":"@k314159 I didn&#39;t and I have no idea why you would think this answer suggests this.","body":"@k314159 I didn&#39;t and I have no idea why you would think this answer suggests this."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697711041,"post_id":77320693,"comment_id":136315361,"body_markdown":"You said &quot;Hence, get rid of the fields entirely.&quot; But `errorModel` _is_ a field.","body":"You said &quot;Hence, get rid of the fields entirely.&quot; But <code>errorModel</code> <i>is</i> a field."},{"owner":{"account_id":29462299,"reputation":23,"user_id":22576820,"display_name":"Gonzalo Martinez"},"score":0,"creation_date":1697724207,"post_id":77320693,"comment_id":136317974,"body_markdown":"Hi, this is exactly what I wanted! I got into a tricky situation, but this solution keeps the original idea while making it work, so I will mark it as the accepted answer. Thank you!","body":"Hi, this is exactly what I wanted! I got into a tricky situation, but this solution keeps the original idea while making it work, so I will mark it as the accepted answer. Thank you!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697684081,"creation_date":1697684081,"answer_id":77320693,"question_id":77320448,"body_markdown":"field initializers aren&#39;t run until later. However, those 2 fields you have do not appear to serve any function. You do not need them. At best, they exist as a somewhat crappy take on caching the values of your Yml reader. Crappy in the sense that every instance of an exception re-creates them, it&#39;d be far more efficient, if caching is the point, to do so within the Yml class itself.\r\n\r\nHence, get rid of the fields entirely. Either they served no point at all, or the point was to serve as a cache (i.e. to avoid repeated hammering of the disk to re-read that YML file a lot). If it was cache - this was the wrong place for it, edit the code of `Yml` to add caching behaviour there. Either way, the proper take on this exception type would be:\r\n\r\n```\r\npublic class ClienteSinMorasException extends IErrorException {\r\n\r\n    @Override public String getCodigo() {\r\n      return Yml.get(&quot;cod&quot;);\r\n    }\r\n\r\n    @Override public String getDescripcion() {\r\n      return Yml.get(&quot;desc&quot;);\r\n    }\r\n\r\n    public ClienteSinMorasException() {\r\n        super();\r\n    }\r\n\r\n    public ClienteSinMorasException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\r\n        super(errores);\r\n    }\r\n\r\n    public ClienteSinMorasException(String errorKey, String errorValue) {\r\n        super(errorKey, errorValue);\r\n    }\r\n}\r\n```\r\n\r\nThis avoids the issue: There are no fields, so there are no field initializers, so you don&#39;t run into any issues in regards to initialization sequence problems.\r\n","title":"Java - Need to initialize variable before Constructor calls super()","body":"<p>field initializers aren't run until later. However, those 2 fields you have do not appear to serve any function. You do not need them. At best, they exist as a somewhat crappy take on caching the values of your Yml reader. Crappy in the sense that every instance of an exception re-creates them, it'd be far more efficient, if caching is the point, to do so within the Yml class itself.</p>\n<p>Hence, get rid of the fields entirely. Either they served no point at all, or the point was to serve as a cache (i.e. to avoid repeated hammering of the disk to re-read that YML file a lot). If it was cache - this was the wrong place for it, edit the code of <code>Yml</code> to add caching behaviour there. Either way, the proper take on this exception type would be:</p>\n<pre><code>public class ClienteSinMorasException extends IErrorException {\n\n    @Override public String getCodigo() {\n      return Yml.get(&quot;cod&quot;);\n    }\n\n    @Override public String getDescripcion() {\n      return Yml.get(&quot;desc&quot;);\n    }\n\n    public ClienteSinMorasException() {\n        super();\n    }\n\n    public ClienteSinMorasException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\n        super(errores);\n    }\n\n    public ClienteSinMorasException(String errorKey, String errorValue) {\n        super(errorKey, errorValue);\n    }\n}\n</code></pre>\n<p>This avoids the issue: There are no fields, so there are no field initializers, so you don't run into any issues in regards to initialization sequence problems.</p>\n"},{"tags":[],"owner":{"account_id":29462299,"reputation":23,"user_id":22576820,"display_name":"Gonzalo Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701563712,"creation_date":1701563712,"answer_id":77592689,"question_id":77320448,"body_markdown":"so I&#39;m the one who originally posted the question. The above answer is what I used..... until I recently came to understand that all of this was stupid from my part. Here is my new answer.\r\n\r\nSo, basically, I was shooting myself in the foot. The reason is simple: ***I don&#39;t need to do all of this when initializing the class!!!*** I can just do it when I call `.getErrorModel()`, which is when I need it, not before. It&#39;s such an obvious oversight, it seems I was blinded by the `@Getter`, trying to use it and not code any sort of getter myself. This is the new solution.\r\n\r\n```java\r\npublic abstract class IErrorException extends RuntimeException {\r\n\r\n    protected ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores = null;\r\n\r\n    public abstract String getCodigo();\r\n\r\n    public abstract String getDescripcion();\r\n\r\n    public IErrorException() {\r\n        super();\r\n    }\r\n\r\n    public IErrorException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\r\n        super();\r\n        this.errores = errores;\r\n    }\r\n\r\n    public IErrorException(String errorKey, String errorValue) {\r\n        super();\r\n        this.errores = new ArrayList&lt;&gt;();\r\n        this.errores.add(new HashMap&lt;&gt;(Map.of(errorKey, errorValue)));\r\n    }\r\n\r\n    public ErrorModel getErrorModel() {\r\n        return new ErrorModel(this.getCodigo(), this.getDescripcion(), this.errores);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then:\r\n```java\r\npublic class ClienteSinMorasException extends IErrorException {\r\n\r\n    public ClienteSinMorasException() {\r\n        super();\r\n    }\r\n\r\n    public ClienteSinMorasException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\r\n        super(errores);\r\n    }\r\n\r\n    public ClienteSinMorasException(String errorKey, String errorValue) {\r\n        super(errorKey, errorValue);\r\n    }\r\n\r\n    @Override public String getCodigo() {\r\n      return &quot;Codigo&quot;;\r\n    }\r\n\r\n    @Override public String getDescripcion() {\r\n      return &quot;descripcion&quot;;\r\n    }\r\n}\r\n\r\n```\r\nI think this is the best solution so far as it doesn&#39;t play so close to the edge unnecesarily. Lesson learned.","title":"Java - Need to initialize variable before Constructor calls super()","body":"<p>so I'm the one who originally posted the question. The above answer is what I used..... until I recently came to understand that all of this was stupid from my part. Here is my new answer.</p>\n<p>So, basically, I was shooting myself in the foot. The reason is simple: <em><strong>I don't need to do all of this when initializing the class!!!</strong></em> I can just do it when I call <code>.getErrorModel()</code>, which is when I need it, not before. It's such an obvious oversight, it seems I was blinded by the <code>@Getter</code>, trying to use it and not code any sort of getter myself. This is the new solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class IErrorException extends RuntimeException {\n\n    protected ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores = null;\n\n    public abstract String getCodigo();\n\n    public abstract String getDescripcion();\n\n    public IErrorException() {\n        super();\n    }\n\n    public IErrorException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\n        super();\n        this.errores = errores;\n    }\n\n    public IErrorException(String errorKey, String errorValue) {\n        super();\n        this.errores = new ArrayList&lt;&gt;();\n        this.errores.add(new HashMap&lt;&gt;(Map.of(errorKey, errorValue)));\n    }\n\n    public ErrorModel getErrorModel() {\n        return new ErrorModel(this.getCodigo(), this.getDescripcion(), this.errores);\n    }\n\n}\n</code></pre>\n<p>And then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClienteSinMorasException extends IErrorException {\n\n    public ClienteSinMorasException() {\n        super();\n    }\n\n    public ClienteSinMorasException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\n        super(errores);\n    }\n\n    public ClienteSinMorasException(String errorKey, String errorValue) {\n        super(errorKey, errorValue);\n    }\n\n    @Override public String getCodigo() {\n      return &quot;Codigo&quot;;\n    }\n\n    @Override public String getDescripcion() {\n      return &quot;descripcion&quot;;\n    }\n}\n\n</code></pre>\n<p>I think this is the best solution so far as it doesn't play so close to the edge unnecesarily. Lesson learned.</p>\n"}],"owner":{"account_id":29462299,"reputation":23,"user_id":22576820,"display_name":"Gonzalo Martinez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701563712,"creation_date":1697679077,"question_id":77320448,"body_markdown":"**Note**: some of the code will be in spanish.\r\n\r\nHi. I made a good Exception model for my Spring Boot app, so that every personalized exception I throw creates a personalized response (int this case it&#39;s a class called `ErrorModel`), so then I can catch that exception in a `@RestControllerAdvice` with an `@ExceptionHandler`, and just return the `errorModel` that that particular exception created. What&#39;s particular about each `errorModel` that&#39;s created in the personalized exceptions are a `code` and a `description`.\r\n\r\n```java\r\n@Slf4j\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n  @ExceptionHandler(ClienteSinMorasException.class)\r\n  @ResponseStatus(HttpStatus.NOT_FOUND)\r\n  @ResponseBody\r\n  public ErrorModel manejoDeClienteSinMoras(ClienteSinMorasException ex) {\r\n      return ex.getErrorModel();\r\n  }\r\n}\r\n```\r\n```java\r\n@Getter\r\n@AllArgsConstructor\r\npublic class ErrorModel {\r\n    private final String codigo;\r\n    private final String descripcion;\r\n    private final ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores; //don&#39;t take this into consideration\r\n}\r\n```\r\nSo, because each exception is and works the same, and the only diference is the `code` (`codigo`) and `description` (`descipcion`), I created this, and it worked fine:\r\n```java\r\npublic abstract class IErrorException extends RuntimeException {\r\n    @Getter\r\n    private final ErrorModel errorModel;\r\n\r\n    public abstract String getCodigo();\r\n\r\n    public abstract String getDescripcion();\r\n\r\n    public IErrorException() {\r\n        super();\r\n        this.errorModel = new ErrorModel(this.getCodigo(), this.getDescripcion(), null);\r\n    }\r\n\r\n    public IErrorException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\r\n        super();\r\n        this.errorModel = new ErrorModel(this.getCodigo(), this.getDescripcion(), errores);\r\n    }\r\n\r\n    public IErrorException(String errorKey, String errorValue) {\r\n        super();\r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores = new ArrayList&lt;&gt;();\r\n        errores.add(new HashMap&lt;&gt;(Map.of(errorKey, errorValue)));\r\n        this.errorModel = new ErrorModel(this.getCodigo(), this.getDescripcion(), errores);\r\n    }\r\n\r\n}\r\n```\r\n```java\r\n// One of the exceptions\r\n@Getter\r\npublic class ClienteSinMorasException extends IErrorException {\r\n\r\n    private final String codigo = &quot;code&quot;;\r\n    private final String descripcion = &quot;desc&quot;;\r\n\r\n    public ClienteSinMorasException() {\r\n        super();\r\n    }\r\n\r\n    public ClienteSinMorasException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\r\n        super(errores);\r\n    }\r\n\r\n    public ClienteSinMorasException(String errorKey, String errorValue) {\r\n        super(errorKey, errorValue);\r\n    }\r\n\r\n}\r\n```\r\nThis was perfect (except for those supers, but whatever), but recently, they asked me to change it so that the `code` and `description` are read from .yml properties, so that the values could be changed at runtime without needing to rerun the app. That simple change broke everything.\r\n\r\nI came to understand that the only reason that that worked was because `final` fields of `explicit primitive` types &quot;kinda already exist&quot; when in the abstract class I do `this.getCodigo()` (in this example, this returns &quot;code&quot;). If it&#39;s not `final` nor is it of an `explicit primitive` type, this doesn&#39;t work, it loads everything AFTER the execution of the constructor, thus I end up creating a `new ErrorModel(null, null, null)`. Also, `super()` has to be the first thing in the constructor, so I can&#39;t quite initialize the variables correctly.\r\n\r\n```java\r\n// One of the exceptions\r\n@Getter\r\npublic class ClienteSinMorasException extends IErrorException {\r\n\r\n    private final String codigo = Yml.get(&quot;cod&quot;);\r\n    private final String descripcion = Yml.get(&quot;desc&quot;);\r\n\r\n    public ClienteSinMorasException() {\r\n        super();\r\n    }\r\n\r\n    public ClienteSinMorasException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\r\n        super(errores);\r\n    }\r\n\r\n    public ClienteSinMorasException(String errorKey, String errorValue) {\r\n        super(errorKey, errorValue);\r\n    }\r\n\r\n}\r\n```\r\nThis doesn&#39;t work, and honestly I don&#39;t know what to do.","title":"Java - Need to initialize variable before Constructor calls super()","body":"<p><strong>Note</strong>: some of the code will be in spanish.</p>\n<p>Hi. I made a good Exception model for my Spring Boot app, so that every personalized exception I throw creates a personalized response (int this case it's a class called <code>ErrorModel</code>), so then I can catch that exception in a <code>@RestControllerAdvice</code> with an <code>@ExceptionHandler</code>, and just return the <code>errorModel</code> that that particular exception created. What's particular about each <code>errorModel</code> that's created in the personalized exceptions are a <code>code</code> and a <code>description</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n  @ExceptionHandler(ClienteSinMorasException.class)\n  @ResponseStatus(HttpStatus.NOT_FOUND)\n  @ResponseBody\n  public ErrorModel manejoDeClienteSinMoras(ClienteSinMorasException ex) {\n      return ex.getErrorModel();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@AllArgsConstructor\npublic class ErrorModel {\n    private final String codigo;\n    private final String descripcion;\n    private final ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores; //don't take this into consideration\n}\n</code></pre>\n<p>So, because each exception is and works the same, and the only diference is the <code>code</code> (<code>codigo</code>) and <code>description</code> (<code>descipcion</code>), I created this, and it worked fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class IErrorException extends RuntimeException {\n    @Getter\n    private final ErrorModel errorModel;\n\n    public abstract String getCodigo();\n\n    public abstract String getDescripcion();\n\n    public IErrorException() {\n        super();\n        this.errorModel = new ErrorModel(this.getCodigo(), this.getDescripcion(), null);\n    }\n\n    public IErrorException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\n        super();\n        this.errorModel = new ErrorModel(this.getCodigo(), this.getDescripcion(), errores);\n    }\n\n    public IErrorException(String errorKey, String errorValue) {\n        super();\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores = new ArrayList&lt;&gt;();\n        errores.add(new HashMap&lt;&gt;(Map.of(errorKey, errorValue)));\n        this.errorModel = new ErrorModel(this.getCodigo(), this.getDescripcion(), errores);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// One of the exceptions\n@Getter\npublic class ClienteSinMorasException extends IErrorException {\n\n    private final String codigo = &quot;code&quot;;\n    private final String descripcion = &quot;desc&quot;;\n\n    public ClienteSinMorasException() {\n        super();\n    }\n\n    public ClienteSinMorasException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\n        super(errores);\n    }\n\n    public ClienteSinMorasException(String errorKey, String errorValue) {\n        super(errorKey, errorValue);\n    }\n\n}\n</code></pre>\n<p>This was perfect (except for those supers, but whatever), but recently, they asked me to change it so that the <code>code</code> and <code>description</code> are read from .yml properties, so that the values could be changed at runtime without needing to rerun the app. That simple change broke everything.</p>\n<p>I came to understand that the only reason that that worked was because <code>final</code> fields of <code>explicit primitive</code> types &quot;kinda already exist&quot; when in the abstract class I do <code>this.getCodigo()</code> (in this example, this returns &quot;code&quot;). If it's not <code>final</code> nor is it of an <code>explicit primitive</code> type, this doesn't work, it loads everything AFTER the execution of the constructor, thus I end up creating a <code>new ErrorModel(null, null, null)</code>. Also, <code>super()</code> has to be the first thing in the constructor, so I can't quite initialize the variables correctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// One of the exceptions\n@Getter\npublic class ClienteSinMorasException extends IErrorException {\n\n    private final String codigo = Yml.get(&quot;cod&quot;);\n    private final String descripcion = Yml.get(&quot;desc&quot;);\n\n    public ClienteSinMorasException() {\n        super();\n    }\n\n    public ClienteSinMorasException(ArrayList&lt;HashMap&lt;String, String&gt;&gt; errores) {\n        super(errores);\n    }\n\n    public ClienteSinMorasException(String errorKey, String errorValue) {\n        super(errorKey, errorValue);\n    }\n\n}\n</code></pre>\n<p>This doesn't work, and honestly I don't know what to do.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1460158574,"post_id":36510910,"comment_id":60628545,"body_markdown":"well you probably won&#39;t get exactly 0.5 even when using radians due to floating point arithmetic","body":"well you probably won&#39;t get exactly 0.5 even when using radians due to floating point arithmetic"}],"answers":[{"comments":[{"owner":{"account_id":7442451,"reputation":31,"user_id":5659794,"display_name":"Funday Pande"},"score":0,"creation_date":1460238185,"post_id":36510917,"comment_id":60650911,"body_markdown":"thank you very much brother :)","body":"thank you very much brother :)"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1460158231,"creation_date":1460158231,"answer_id":36510917,"question_id":36510910,"body_markdown":"`Math.sin` expects a value in radians\r\n\r\n    System.out.println(&quot;Sin 30 = &quot;+ Math.sin(Math.toRadians(30)));","title":"Why Sin(30) = -0.9880316240928618 in java","body":"<p><code>Math.sin</code> expects a value in radians</p>\n\n<pre><code>System.out.println(\"Sin 30 = \"+ Math.sin(Math.toRadians(30)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7442451,"reputation":31,"user_id":5659794,"display_name":"Funday Pande"},"score":0,"creation_date":1460238263,"post_id":36510933,"comment_id":60650943,"body_markdown":"thank you :) it&#39;s work very nice","body":"thank you :) it&#39;s work very nice"}],"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701563190,"creation_date":1460158353,"answer_id":36510933,"question_id":36510910,"body_markdown":"Before, you should transform it to radians like this:\r\n   \r\n      double radians = Math.toRadians(30);\r\n      System.out.println(&quot;Sin 30 = &quot;+Math.sin(radians));","title":"Why Sin(30) = -0.9880316240928618 in java","body":"<p>Before, you should transform it to radians like this:</p>\n<pre><code>  double radians = Math.toRadians(30);\n  System.out.println(&quot;Sin 30 = &quot;+Math.sin(radians));\n</code></pre>\n"}],"owner":{"account_id":7442451,"reputation":31,"user_id":5659794,"display_name":"Funday Pande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1863,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1460236561,"accepted_answer_id":36510933,"answer_count":2,"score":1,"last_activity_date":1701563190,"creation_date":1460158180,"question_id":36510910,"body_markdown":"I try to show the value of sin 30 in java (eclipse). But it&#39;s not a real value, My code :\r\n\r\n    public class sin30 {\r\n\tpublic static void main(String[] args){\r\n\t\t\r\n\t\tSystem.out.println(&quot;Sin 30 = &quot;+Math.sin(30));\r\n\r\n\t}}\r\nand show :\r\n[Showing][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OXpXx.jpg\r\n\r\nshould sin 30 is 0.5.\r\nwhat&#39;s wrong with my code?","title":"Why Sin(30) = -0.9880316240928618 in java","body":"<p>I try to show the value of sin 30 in java (eclipse). But it's not a real value, My code :</p>\n\n<pre><code>public class sin30 {\npublic static void main(String[] args){\n\n    System.out.println(\"Sin 30 = \"+Math.sin(30));\n\n}}\n</code></pre>\n\n<p>and show :\n<a href=\"https://i.stack.imgur.com/OXpXx.jpg\" rel=\"nofollow\">Showing</a></p>\n\n<p>should sin 30 is 0.5.\nwhat's wrong with my code?</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701543552,"post_id":77591643,"comment_id":136789858,"body_markdown":"Perhaps using [virtual threads](https://openjdk.org/jeps/444) might help. No pooling, a fresh new thread for each task.","body":"Perhaps using <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> might help. No pooling, a fresh new thread for each task."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1701560338,"post_id":77591643,"comment_id":136791467,"body_markdown":"I would love to use virtual threads, but aren&#39;t they Java 21?","body":"I would love to use virtual threads, but aren&#39;t they Java 21?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701563857,"post_id":77591643,"comment_id":136791699,"body_markdown":"Yes, Java 21+ has virtual threads. Version 21 is the latest long-term support (LTS) version.","body":"Yes, Java 21+ has virtual threads. Version 21 is the latest long-term support (LTS) version."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1702050388,"post_id":77591643,"comment_id":136853708,"body_markdown":"Note that this work-stealing in `ForkJoinTask` does not imply that the caller works on the task it’s waiting for. It might be an entirely unrelated task which bears some dangers 1) an inherited thread context not intended for this task, 2) this thread might still be busy processing some other task long after the task it’s actually waiting for completed, 3) insanely deep stack traces, even with the risk of `StackOverflowError`. And Virtual Threads are indeed the solution to those problems. Let’s hope that Java&#160;21 becomes commonplace soon.","body":"Note that this work-stealing in <code>ForkJoinTask</code> does not imply that the caller works on the task it’s waiting for. It might be an entirely unrelated task which bears some dangers 1) an inherited thread context not intended for this task, 2) this thread might still be busy processing some other task long after the task it’s actually waiting for completed, 3) insanely deep stack traces, even with the risk of <code>StackOverflowError</code>. And Virtual Threads are indeed the solution to those problems. Let’s hope that Java 21 becomes commonplace soon."}],"answers":[{"comments":[{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1701541491,"post_id":77591655,"comment_id":136789636,"body_markdown":"Ooh, that could be it!  But I&#39;m unclear under what circumstances is a task &quot;rejected&quot;?  If I configure the limit to be equal to the number of threads, will it basically reject tasks when the pool is busy?","body":"Ooh, that could be it!  But I&#39;m unclear under what circumstances is a task &quot;rejected&quot;?  If I configure the limit to be equal to the number of threads, will it basically reject tasks when the pool is busy?"},{"owner":{"account_id":4576229,"reputation":1231,"user_id":3714601,"accept_rate":43,"display_name":"user3714601"},"score":0,"creation_date":1701541600,"post_id":77591655,"comment_id":136789642,"body_markdown":"The task will be rejected once the task queue hits the limit and new thread could not be created","body":"The task will be rejected once the task queue hits the limit and new thread could not be created"}],"tags":[],"owner":{"account_id":4576229,"reputation":1231,"user_id":3714601,"accept_rate":43,"display_name":"user3714601"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701542574,"creation_date":1701541357,"answer_id":77591655,"question_id":77591643,"body_markdown":"If you use standard ThreadPoolExecutor, &quot;CallerRuns&quot; policy does exactly what you want:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.CallerRunsPolicy.html\r\n\r\nFrom Javadoc:\r\n\r\n&gt; A handler for rejected tasks that runs the rejected task directly in\r\n&gt; the calling thread of the execute method, unless the executor has been\r\n&gt; shut down, in which case the task is discarded.\r\n\r\nHere is an explanation about how rejection happens:\r\n\r\n&gt; Any BlockingQueue may be used to transfer and hold submitted tasks.\r\n&gt; The use of this queue interacts with pool sizing:\r\n&gt;  \r\n&gt; \r\n&gt;  - If fewer than corePoolSize threads are running, the Executor always    prefers adding a new thread rather than queuing.\r\n&gt;  - If corePoolSize or more threads are running, the Executor always prefers queuing a request rather than adding a new thread.\r\n&gt;  - If a request cannot be queued, a new thread is created unless this would exceed maximumPoolSize, in which case, the task will be   \r\n&gt; rejected.\r\n\r\nUPDATE FROM OP: use SynchronousQueue to avoid queueing and it works like a charm\r\n```\r\nexec = new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS,new SynchronousQueue&lt;&gt;());\r\nexec.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());\r\n```","title":"Is there a Java Future implementation that will execute in caller thread if pool is busy?","body":"<p>If you use standard ThreadPoolExecutor, &quot;CallerRuns&quot; policy does exactly what you want:</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.CallerRunsPolicy.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.CallerRunsPolicy.html</a></p>\n<p>From Javadoc:</p>\n<blockquote>\n<p>A handler for rejected tasks that runs the rejected task directly in\nthe calling thread of the execute method, unless the executor has been\nshut down, in which case the task is discarded.</p>\n</blockquote>\n<p>Here is an explanation about how rejection happens:</p>\n<blockquote>\n<p>Any BlockingQueue may be used to transfer and hold submitted tasks.\nThe use of this queue interacts with pool sizing:</p>\n<ul>\n<li>If fewer than corePoolSize threads are running, the Executor always    prefers adding a new thread rather than queuing.</li>\n<li>If corePoolSize or more threads are running, the Executor always prefers queuing a request rather than adding a new thread.</li>\n<li>If a request cannot be queued, a new thread is created unless this would exceed maximumPoolSize, in which case, the task will be<br />\nrejected.</li>\n</ul>\n</blockquote>\n<p>UPDATE FROM OP: use SynchronousQueue to avoid queueing and it works like a charm</p>\n<pre><code>exec = new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS,new SynchronousQueue&lt;&gt;());\nexec.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1701559738,"post_id":77591972,"comment_id":136791416,"body_markdown":"There are multiple clients performing what *should* be short tasks, but occasionally one of the cloud endpoints will freak out for a few minutes.  If all tasks for that endpoint fill the executor, then everything else has to wait for the freakout to finish.  At least with &quot;caller executes&quot;, the task will finish slightly slower rather than block, which is acceptable.  We could also make a Map&lt;Endpoint,Executor&gt; and that would be better but seems like overkill for this case.  I don&#39;t expect the freaked-out tasks to finish any faster, I just don&#39;t want them ruining everyone&#39;s day","body":"There are multiple clients performing what <i>should</i> be short tasks, but occasionally one of the cloud endpoints will freak out for a few minutes.  If all tasks for that endpoint fill the executor, then everything else has to wait for the freakout to finish.  At least with &quot;caller executes&quot;, the task will finish slightly slower rather than block, which is acceptable.  We could also make a Map&lt;Endpoint,Executor&gt; and that would be better but seems like overkill for this case.  I don&#39;t expect the freaked-out tasks to finish any faster, I just don&#39;t want them ruining everyone&#39;s day"}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701546793,"creation_date":1701546793,"answer_id":77591972,"question_id":77591643,"body_markdown":"This is a comment on your approach, rather than an answer to your question.\r\n\r\n-----------\r\n\r\n&gt; one solution I&#39;ve implemented in C++ is to have Future.get() run in the caller thread if the task has not yet started.\r\n\r\nOK, but according to the normal meaning of &quot;future,&quot; each `Future` object must be associated with one, and _only one_ task. So, suppose you have a collection of `Futures`, and you pick one, and you call `f.get()`. OK, there&#39;s three things that could happen;\r\n\r\n1. You picked `f` corresponding to a task that has not yet started, so now, `f.get()` will perform the task, and not return until it&#39;s complete.\r\n\r\n1. You picked `f` corresponding to one of those &quot;blocked calls that have run amok.&quot; The task already has started, and so `f.get()` can&#39;t do anything else but wait for it to complete.\r\n\r\n1. You got lucky, you picked `f` corresponding to a task that has finished, and `f.get()` can immediately return the result.\r\n\r\nIs that what you had in mind? The problem that I see is that in case (1) and in case (2) there might be _other_ `Future` objects in your collection corresponding to tasks that already have completed. Those results are sitting there, and your &quot;caller thread&quot; isn&#39;t dealing with them because it&#39;s either doing a task (case 1) or it&#39;s sitting idle waiting for a result (case 2), when it could be clearing the deck of completed results.\r\n\r\nIn a nutshell, I&#39;m questioning whether `Future` is the right solution to your problem. `Future` is a good solution when you&#39;ve got a lot of unrelated bits of code that all are submitting tasks to the same shared thread pool. It lets each client wait for its own, and _only_ its own task results.\r\n\r\nBut, if there&#39;s really only one client—if all of the tasks in the pool were submitted for the same reason, then maybe there&#39;s a better way. Maybe you can structure the program to prioritize whatever it is that your program does with those results—make it happen as soon and as smoothly as possible. For example, instead of returning results via `Future`, why not have each task stuff its result into a queue? Then you can be sure that the &quot;caller&quot; thread will never be blocked trying to `take` a result from the queue if there is any result available to be taken.","title":"Is there a Java Future implementation that will execute in caller thread if pool is busy?","body":"<p>This is a comment on your approach, rather than an answer to your question.</p>\n<hr />\n<blockquote>\n<p>one solution I've implemented in C++ is to have Future.get() run in the caller thread if the task has not yet started.</p>\n</blockquote>\n<p>OK, but according to the normal meaning of &quot;future,&quot; each <code>Future</code> object must be associated with one, and <em>only one</em> task. So, suppose you have a collection of <code>Futures</code>, and you pick one, and you call <code>f.get()</code>. OK, there's three things that could happen;</p>\n<ol>\n<li><p>You picked <code>f</code> corresponding to a task that has not yet started, so now, <code>f.get()</code> will perform the task, and not return until it's complete.</p>\n</li>\n<li><p>You picked <code>f</code> corresponding to one of those &quot;blocked calls that have run amok.&quot; The task already has started, and so <code>f.get()</code> can't do anything else but wait for it to complete.</p>\n</li>\n<li><p>You got lucky, you picked <code>f</code> corresponding to a task that has finished, and <code>f.get()</code> can immediately return the result.</p>\n</li>\n</ol>\n<p>Is that what you had in mind? The problem that I see is that in case (1) and in case (2) there might be <em>other</em> <code>Future</code> objects in your collection corresponding to tasks that already have completed. Those results are sitting there, and your &quot;caller thread&quot; isn't dealing with them because it's either doing a task (case 1) or it's sitting idle waiting for a result (case 2), when it could be clearing the deck of completed results.</p>\n<p>In a nutshell, I'm questioning whether <code>Future</code> is the right solution to your problem. <code>Future</code> is a good solution when you've got a lot of unrelated bits of code that all are submitting tasks to the same shared thread pool. It lets each client wait for its own, and <em>only</em> its own task results.</p>\n<p>But, if there's really only one client—if all of the tasks in the pool were submitted for the same reason, then maybe there's a better way. Maybe you can structure the program to prioritize whatever it is that your program does with those results—make it happen as soon and as smoothly as possible. For example, instead of returning results via <code>Future</code>, why not have each task stuff its result into a queue? Then you can be sure that the &quot;caller&quot; thread will never be blocked trying to <code>take</code> a result from the queue if there is any result available to be taken.</p>\n"}],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77591655,"answer_count":2,"score":1,"last_activity_date":1701560276,"creation_date":1701541003,"question_id":77591643,"body_markdown":"We use `ExecutorService` to make various REST calls to cloud storage in parallel, and we are concerned that the pool can become busy with blocked calls that have run amok, and then block newer calls for a long time (cloud timeouts can be several minutes after going through all of the retries).  Of course we can always add more and more threads, but one solution I&#39;ve implemented in C++ is to have `Future.get()` run in the caller thread if the task has not yet started. Java *almost* does this with `Executors.newWorkStealingQueue()`, but the run-in-caller logic is only enabled if the caller is itself a pool thread:\r\n```\r\nclass ForkJoinTask {\r\n  private int awaitDone(...) {\r\n      ...\r\n      if ((t = Thread.currentThread()) instanceof ForkJoinWorkerThread) {\r\n        // execute in caller thread\r\n```\r\nThis is how work-stealing keeps recursive algos from running out of threads.  But if the caller is a normal thread this logic isn&#39;t triggered. `ForkJoinPool` is no different, because  `Executors.newWorkStealingQueue()` is just a wrapper around that. Is there anything in Java supports what I&#39;m after?\r\n\r\nPS: We can&#39;t use JDK 21 with its virtual threads yet :-(\r\n\r\nUPDATE: A little more explanation about the use case.  We find that in order to answer certain questions about cloud storage like &quot;should this path be treated as a directory or a file&quot;, we have to ask several questions:\r\n\r\n - Does a blob exist with that name?\r\n - Does a blob exist with that name followed by a / ?\r\n - Do other blobs exist that have that path as a prefix?\r\n\r\nThe executor lets us ask these questions in parallel and reduce the latency.  So we have a shared executor for everyone to ask these questions of the cloud storage endpoints.  BUT... occasionally one of the endpoints will freakout and not answer questions until it either recovers or times out, which can take several minutes.  When this happens, we don&#39;t want the delayed requests to clog the executor for everyone else and make *every* request wait.  The &quot;caller executes when busy&quot; pattern gives us a safety valve, everything runs a little slower for a few minutes but not a *lot* slower.","title":"Is there a Java Future implementation that will execute in caller thread if pool is busy?","body":"<p>We use <code>ExecutorService</code> to make various REST calls to cloud storage in parallel, and we are concerned that the pool can become busy with blocked calls that have run amok, and then block newer calls for a long time (cloud timeouts can be several minutes after going through all of the retries).  Of course we can always add more and more threads, but one solution I've implemented in C++ is to have <code>Future.get()</code> run in the caller thread if the task has not yet started. Java <em>almost</em> does this with <code>Executors.newWorkStealingQueue()</code>, but the run-in-caller logic is only enabled if the caller is itself a pool thread:</p>\n<pre><code>class ForkJoinTask {\n  private int awaitDone(...) {\n      ...\n      if ((t = Thread.currentThread()) instanceof ForkJoinWorkerThread) {\n        // execute in caller thread\n</code></pre>\n<p>This is how work-stealing keeps recursive algos from running out of threads.  But if the caller is a normal thread this logic isn't triggered. <code>ForkJoinPool</code> is no different, because  <code>Executors.newWorkStealingQueue()</code> is just a wrapper around that. Is there anything in Java supports what I'm after?</p>\n<p>PS: We can't use JDK 21 with its virtual threads yet :-(</p>\n<p>UPDATE: A little more explanation about the use case.  We find that in order to answer certain questions about cloud storage like &quot;should this path be treated as a directory or a file&quot;, we have to ask several questions:</p>\n<ul>\n<li>Does a blob exist with that name?</li>\n<li>Does a blob exist with that name followed by a / ?</li>\n<li>Do other blobs exist that have that path as a prefix?</li>\n</ul>\n<p>The executor lets us ask these questions in parallel and reduce the latency.  So we have a shared executor for everyone to ask these questions of the cloud storage endpoints.  BUT... occasionally one of the endpoints will freakout and not answer questions until it either recovers or times out, which can take several minutes.  When this happens, we don't want the delayed requests to clog the executor for everyone else and make <em>every</em> request wait.  The &quot;caller executes when busy&quot; pattern gives us a safety valve, everything runs a little slower for a few minutes but not a <em>lot</em> slower.</p>\n"},{"tags":["java","string","char","type-conversion"],"comments":[{"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"score":219,"creation_date":1321555237,"post_id":8172420,"comment_id":10036079,"body_markdown":"Downvoted? Why would I ask such an easy question? Because Google lacks a really obvious search result for this question. By putting this here we&#39;ll change that.","body":"Downvoted? Why would I ask such an easy question? Because Google lacks a really obvious search result for this question. By putting this here we&#39;ll change that."},{"owner":{"account_id":188810,"reputation":33950,"user_id":427763,"accept_rate":92,"display_name":"prolink007"},"score":56,"creation_date":1321555727,"post_id":8172420,"comment_id":10036218,"body_markdown":"i completely agree with your opinion. I up voted this to get rid of the negative vote. I firmly believe in making googling topics like this easier for everyone. =)","body":"i completely agree with your opinion. I up voted this to get rid of the negative vote. I firmly believe in making googling topics like this easier for everyone. =)"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1321555899,"post_id":8172420,"comment_id":10036287,"body_markdown":"Your position is arguable (meta question?); I guess we can assume the downvote is for &quot;lack of research&quot;.","body":"Your position is arguable (meta question?); I guess we can assume the downvote is for &quot;lack of research&quot;."},{"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"score":2,"creation_date":1321558201,"post_id":8172420,"comment_id":10036980,"body_markdown":"I did do research. I had to click on a few search results and look at lengthy blog posts and ads.","body":"I did do research. I had to click on a few search results and look at lengthy blog posts and ads."},{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":4,"creation_date":1321559468,"post_id":8172420,"comment_id":10037370,"body_markdown":"Did your research include reading the documentation of the String class?","body":"Did your research include reading the documentation of the String class?"},{"owner":{"account_id":109541,"reputation":4321,"user_id":290182,"accept_rate":92,"display_name":"beldaz"},"score":17,"creation_date":1368251923,"post_id":8172420,"comment_id":23673913,"body_markdown":"@DJClayworth Most SO questions could be answered with RTFM, but that&#39;s not very helpful. Why not let people who find the question upvote it and let things take their course?","body":"@DJClayworth Most SO questions could be answered with RTFM, but that&#39;s not very helpful. Why not let people who find the question upvote it and let things take their course?"},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":12,"creation_date":1392318249,"post_id":8172420,"comment_id":32921315,"body_markdown":"@PaulBellora Only that StackOverflow has become **the first stop** for research. If there is a StackOverlfow link in the first 10 Google Results I com here.","body":"@PaulBellora Only that StackOverflow has become <b>the first stop</b> for research. If there is a StackOverlfow link in the first 10 Google Results I com here."},{"owner":{"account_id":454024,"reputation":89,"user_id":851340,"accept_rate":12,"display_name":"Rahul Gupta"},"score":0,"creation_date":1621185734,"post_id":8172420,"comment_id":119413446,"body_markdown":"[How to Convert Character to String in Java](https://www.tutorialcup.com/java/convert-char-to-string-in-java.htm)","body":"<a href=\"https://www.tutorialcup.com/java/convert-char-to-string-in-java.htm\" rel=\"nofollow noreferrer\">How to Convert Character to String in Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":3688787,"reputation":3018,"user_id":3071928,"accept_rate":57,"display_name":"Binkan Salaryman"},"score":0,"creation_date":1435925102,"post_id":8172439,"comment_id":50414650,"body_markdown":"I think the shortcut compiles down to: ``new StringBuilder(&quot;&quot;).append(&#39;s&#39;).toString();``","body":"I think the shortcut compiles down to: <code>new StringBuilder(&quot;&quot;).append(&#39;s&#39;).toString();</code>"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1437706533,"post_id":8172439,"comment_id":51154098,"body_markdown":"@BinkanSalaryman using javac 1.8.0_51-b16 and then javap to decompile, I see the constructor/method calls I have in the answer. What are you using?","body":"@BinkanSalaryman using javac 1.8.0_51-b16 and then javap to decompile, I see the constructor/method calls I have in the answer. What are you using?"}],"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"comment_count":2,"down_vote_count":0,"up_vote_count":690,"is_accepted":false,"score":690,"last_activity_date":1426393778,"creation_date":1321555131,"answer_id":8172439,"question_id":8172420,"body_markdown":"You can use [`Character.toString(char)`][1]. Note that this method simply returns a call to [`String.valueOf(char)`][2], which also works.\r\n\r\nAs others have noted, string concatenation works as a shortcut as well:\r\n\r\n    String s = &quot;&quot; + &#39;s&#39;;\r\n\r\nBut this compiles down to:\r\n\r\n    String s = new StringBuilder().append(&quot;&quot;).append(&#39;s&#39;).toString();\r\n\r\nwhich is less efficient because the `StringBuilder` is backed by a `char[]` (over-allocated by [`StringBuilder()`][3] to `16`), only for that array to be defensively copied by the resulting `String`.\r\n\r\n`String.valueOf(char)` &quot;gets in the back door&quot; by wrapping the `char` in a single-element array and passing it to the package private constructor [`String(char[], boolean)`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.%3Cinit%3E%28char%5B%5D%2Cboolean%29), which avoids the array copy.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toString-char-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-char-\r\n  [3]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/StringBuilder.java#StringBuilder.%3Cinit%3E%28%29","title":"How to convert a char to a String?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toString-char-\" rel=\"noreferrer\"><code>Character.toString(char)</code></a>. Note that this method simply returns a call to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-char-\" rel=\"noreferrer\"><code>String.valueOf(char)</code></a>, which also works.</p>\n\n<p>As others have noted, string concatenation works as a shortcut as well:</p>\n\n<pre><code>String s = \"\" + 's';\n</code></pre>\n\n<p>But this compiles down to:</p>\n\n<pre><code>String s = new StringBuilder().append(\"\").append('s').toString();\n</code></pre>\n\n<p>which is less efficient because the <code>StringBuilder</code> is backed by a <code>char[]</code> (over-allocated by <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/StringBuilder.java#StringBuilder.%3Cinit%3E%28%29\" rel=\"noreferrer\"><code>StringBuilder()</code></a> to <code>16</code>), only for that array to be defensively copied by the resulting <code>String</code>.</p>\n\n<p><code>String.valueOf(char)</code> \"gets in the back door\" by wrapping the <code>char</code> in a single-element array and passing it to the package private constructor <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.%3Cinit%3E%28char%5B%5D%2Cboolean%29\" rel=\"noreferrer\"><code>String(char[], boolean)</code></a>, which avoids the array copy.</p>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1321555149,"creation_date":1321555149,"answer_id":8172444,"question_id":8172420,"body_markdown":"Try this: `Character.toString(aChar)` or just this: `aChar + &quot;&quot;`","title":"How to convert a char to a String?","body":"<p>Try this: <code>Character.toString(aChar)</code> or just this: <code>aChar + \"\"</code></p>\n"},{"tags":[],"owner":{"account_id":229022,"reputation":3013,"user_id":491704,"accept_rate":75,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1522401265,"creation_date":1321555242,"answer_id":8172458,"question_id":8172420,"body_markdown":"Use the `Character.toString()` method like so:\r\n\r\n    char mChar = &#39;l&#39;;\r\n    String s = Character.toString(mChar);","title":"How to convert a char to a String?","body":"<p>Use the <code>Character.toString()</code> method like so:</p>\n\n<pre><code>char mChar = 'l';\nString s = Character.toString(mChar);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290921,"reputation":59847,"user_id":592746,"display_name":"Wayne"},"comment_count":0,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1321555339,"creation_date":1321555339,"answer_id":8172481,"question_id":8172420,"body_markdown":"Use any of the following:\r\n\r\n    String str = String.valueOf(&#39;c&#39;);\r\n    String str = Character.toString(&#39;c&#39;);\r\n    String str = &#39;c&#39; + &quot;&quot;;","title":"How to convert a char to a String?","body":"<p>Use any of the following:</p>\n\n<pre><code>String str = String.valueOf('c');\nString str = Character.toString('c');\nString str = 'c' + \"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294508,"reputation":4953,"user_id":598444,"accept_rate":67,"display_name":"WarFox"},"comment_count":0,"down_vote_count":0,"up_vote_count":275,"is_accepted":false,"score":275,"last_activity_date":1622168230,"creation_date":1364290352,"answer_id":15633542,"question_id":8172420,"body_markdown":"I&#39;ve got of the following &lt;strike&gt;five&lt;/strike&gt; *six* methods to do it.\r\n\r\n    // Method #1\r\n    String stringValueOf = String.valueOf(&#39;c&#39;); // most efficient\r\n\r\n    // Method #2\r\n    String stringValueOfCharArray = String.valueOf(new char[]{x});\r\n\r\n    // Method #3\r\n    String characterToString = Character.toString(&#39;c&#39;);\r\n\r\n    // Method #4\r\n    String characterObjectToString = new Character(&#39;c&#39;).toString();\r\n\r\n    // Method #5\r\n    // Although this approach seems very simple, \r\n    // this is less efficient because the concatenation\r\n    // expands to a StringBuilder.\r\n    String concatBlankString = &#39;c&#39; + &quot;&quot;;\r\n\r\n    // Method #6\r\n    String fromCharArray = new String(new char[]{x});\r\n\r\n&gt; Note: [Character.toString(char)][1] returns [String.valueOf(char)][2]. So effectively both are same.\r\n\r\n`String.valueOf(char[] value)` invokes `new String(char[] value)`, which in turn sets the `value` char array.\r\n\r\n    public String(char value[]) {\r\n        this.value = Arrays.copyOf(value, value.length);\r\n    }\r\n\r\nOn the other hand `String.valueOf(char value)` invokes the following **package private constructor.**\r\n\r\n    String(char[] value, boolean share) {\r\n        // assert share : &quot;unshared not supported&quot;;\r\n        this.value = value;\r\n    }\r\n*Source code from `String.java` in [Java 8 source code][java-8]*\r\n\r\n&gt; Hence `String.valueOf(char)` seems to be most efficient method, in terms of both memory and speed, for converting `char` to `String`.\r\n\r\nSources:\r\n 1. [How to convert primitive char to String in Java][3]\r\n 2. [How to convert Char to String in Java with Example][4]\r\n\r\n\r\n[java-8]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Character.java#Character.toString%28char%29\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/String.java#String.valueOf%28char%29\r\n  [3]: https://deepumohan.com/tech/java-how-to-convert-primitive-char-to/\r\n  [4]: http://javarevisited.blogspot.in/2012/02/how-to-convert-char-to-string-in-java.html\r\n\r\n","title":"How to convert a char to a String?","body":"<p>I've got of the following <strike>five</strike> <em>six</em> methods to do it.</p>\n<pre><code>// Method #1\nString stringValueOf = String.valueOf('c'); // most efficient\n\n// Method #2\nString stringValueOfCharArray = String.valueOf(new char[]{x});\n\n// Method #3\nString characterToString = Character.toString('c');\n\n// Method #4\nString characterObjectToString = new Character('c').toString();\n\n// Method #5\n// Although this approach seems very simple, \n// this is less efficient because the concatenation\n// expands to a StringBuilder.\nString concatBlankString = 'c' + &quot;&quot;;\n\n// Method #6\nString fromCharArray = new String(new char[]{x});\n</code></pre>\n<blockquote>\n<p>Note: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Character.java#Character.toString%28char%29\" rel=\"noreferrer\">Character.toString(char)</a> returns <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/String.java#String.valueOf%28char%29\" rel=\"noreferrer\">String.valueOf(char)</a>. So effectively both are same.</p>\n</blockquote>\n<p><code>String.valueOf(char[] value)</code> invokes <code>new String(char[] value)</code>, which in turn sets the <code>value</code> char array.</p>\n<pre><code>public String(char value[]) {\n    this.value = Arrays.copyOf(value, value.length);\n}\n</code></pre>\n<p>On the other hand <code>String.valueOf(char value)</code> invokes the following <strong>package private constructor.</strong></p>\n<pre><code>String(char[] value, boolean share) {\n    // assert share : &quot;unshared not supported&quot;;\n    this.value = value;\n}\n</code></pre>\n<p><em>Source code from <code>String.java</code> in <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java\" rel=\"noreferrer\">Java 8 source code</a></em></p>\n<blockquote>\n<p>Hence <code>String.valueOf(char)</code> seems to be most efficient method, in terms of both memory and speed, for converting <code>char</code> to <code>String</code>.</p>\n</blockquote>\n<p>Sources:</p>\n<ol>\n<li><a href=\"https://deepumohan.com/tech/java-how-to-convert-primitive-char-to/\" rel=\"noreferrer\">How to convert primitive char to String in Java</a></li>\n<li><a href=\"http://javarevisited.blogspot.in/2012/02/how-to-convert-char-to-string-in-java.html\" rel=\"noreferrer\">How to convert Char to String in Java with Example</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":11706032,"reputation":1690,"user_id":8569585,"display_name":"Lucas Noetzold"},"score":0,"creation_date":1587504172,"post_id":30219789,"comment_id":108537403,"body_markdown":"someone tested this?","body":"someone tested this?"}],"tags":[],"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"comment_count":1,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1454931485,"creation_date":1431532342,"answer_id":30219789,"question_id":8172420,"body_markdown":"Below are various ways to convert to char c to String s (in decreasing order of speed and efficiency)\r\n\r\n    char c = &#39;a&#39;;\r\n    String s = String.valueOf(c);             // fastest + memory efficient\r\n    String s = Character.toString(c);\r\n    String s = new String(new char[]{c});\r\n    String s = String.valueOf(new char[]{c});\r\n    String s = new Character(c).toString();\r\n    String s = &quot;&quot; + c;                        // slowest + memory inefficient","title":"How to convert a char to a String?","body":"<p>Below are various ways to convert to char c to String s (in decreasing order of speed and efficiency)</p>\n\n<pre><code>char c = 'a';\nString s = String.valueOf(c);             // fastest + memory efficient\nString s = Character.toString(c);\nString s = new String(new char[]{c});\nString s = String.valueOf(new char[]{c});\nString s = new Character(c).toString();\nString s = \"\" + c;                        // slowest + memory inefficient\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440389967,"creation_date":1440389967,"answer_id":32174377,"question_id":8172420,"body_markdown":"We have various ways to convert a `char` to `String`. **One** way is to make use of static method `toString()` in `Character` class:\r\n\r\n    char ch = &#39;I&#39;; \r\n    String str1 = Character.toString(ch);\r\n\r\nActually this `toString` method internally makes use of `valueOf` method from `String` class which makes use of char array:\r\n\r\n    public static String toString(char c) {\r\n        return String.valueOf(c);\r\n    }\r\n\r\nSo **second** way is to use this directly:\r\n\r\n    String str2 = String.valueOf(ch);\r\n\r\nThis `valueOf` method in `String` class makes use of char array:\r\n\r\n    public static String valueOf(char c) {\r\n            char data[] = {c};\r\n            return new String(data, true);\r\n    }\r\n\r\nSo the **third** way is to make use of an anonymous array to wrap a single character and then passing it to `String` constructor:\r\n\r\n    String str4 = new String(new char[]{ch});\r\n\r\nThe **fourth** way is to make use of concatenation:\r\n\r\n    String str3 = &quot;&quot; + ch;\r\n\r\nThis will actually make use of `append` method from `StringBuilder` class which is actually preferred when we are doing concatenation in a loop. \r\n\r\n\r\n\r\n\r\n","title":"How to convert a char to a String?","body":"<p>We have various ways to convert a <code>char</code> to <code>String</code>. <strong>One</strong> way is to make use of static method <code>toString()</code> in <code>Character</code> class:</p>\n\n<pre><code>char ch = 'I'; \nString str1 = Character.toString(ch);\n</code></pre>\n\n<p>Actually this <code>toString</code> method internally makes use of <code>valueOf</code> method from <code>String</code> class which makes use of char array:</p>\n\n<pre><code>public static String toString(char c) {\n    return String.valueOf(c);\n}\n</code></pre>\n\n<p>So <strong>second</strong> way is to use this directly:</p>\n\n<pre><code>String str2 = String.valueOf(ch);\n</code></pre>\n\n<p>This <code>valueOf</code> method in <code>String</code> class makes use of char array:</p>\n\n<pre><code>public static String valueOf(char c) {\n        char data[] = {c};\n        return new String(data, true);\n}\n</code></pre>\n\n<p>So the <strong>third</strong> way is to make use of an anonymous array to wrap a single character and then passing it to <code>String</code> constructor:</p>\n\n<pre><code>String str4 = new String(new char[]{ch});\n</code></pre>\n\n<p>The <strong>fourth</strong> way is to make use of concatenation:</p>\n\n<pre><code>String str3 = \"\" + ch;\n</code></pre>\n\n<p>This will actually make use of <code>append</code> method from <code>StringBuilder</code> class which is actually preferred when we are doing concatenation in a loop. </p>\n"},{"tags":[],"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454787476,"creation_date":1454787476,"answer_id":35245532,"question_id":8172420,"body_markdown":"Here are a few methods, in no particular order:\r\n\r\n\tchar c = &#39;c&#39;;\r\n\r\n\tString s = Character.toString(c); // Most efficient way\r\n\r\n\ts = new Character(c).toString(); // Same as above except new Character objects needs to be garbage-collected\r\n\r\n\ts = c + &quot;&quot;; // Least efficient and most memory-inefficient, but common amongst beginners because of its simplicity\r\n\r\n\ts = String.valueOf(c); // Also quite common\r\n\r\n\ts = String.format(&quot;%c&quot;, c); // Not common\r\n\r\n\tFormatter formatter = new Formatter();\r\n\ts = formatter.format(&quot;%c&quot;, c).toString(); // Same as above\r\n\tformatter.close();","title":"How to convert a char to a String?","body":"<p>Here are a few methods, in no particular order:</p>\n\n<pre><code>char c = 'c';\n\nString s = Character.toString(c); // Most efficient way\n\ns = new Character(c).toString(); // Same as above except new Character objects needs to be garbage-collected\n\ns = c + \"\"; // Least efficient and most memory-inefficient, but common amongst beginners because of its simplicity\n\ns = String.valueOf(c); // Also quite common\n\ns = String.format(\"%c\", c); // Not common\n\nFormatter formatter = new Formatter();\ns = formatter.format(\"%c\", c).toString(); // Same as above\nformatter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1513091,"reputation":172,"user_id":1414726,"display_name":"zmicer"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1474030883,"creation_date":1474030883,"answer_id":39532191,"question_id":8172420,"body_markdown":"I&#39;ve tried the suggestions but ended up implementing it as follows\r\n\r\n    editView.setFilters(new InputFilter[]{new InputFilter()\r\n            {\r\n                @Override\r\n                public CharSequence filter(CharSequence source, int start, int end,\r\n                                           Spanned dest, int dstart, int dend)\r\n                {\r\n                    String prefix = &quot;http://&quot;;\r\n    \r\n                    //make sure our prefix is visible\r\n                    String destination = dest.toString();\r\n    \r\n                    //Check If we already have our prefix - make sure it doesn&#39;t\r\n                    //get deleted\r\n                    if (destination.startsWith(prefix) &amp;&amp; (dstart &lt;= prefix.length() - 1))\r\n                    {\r\n                        //Yep - our prefix gets modified - try preventing it.\r\n                        int newEnd = (dend &gt;= prefix.length()) ? dend : prefix.length();\r\n    \r\n                        SpannableStringBuilder builder = new SpannableStringBuilder(\r\n                                destination.substring(dstart, newEnd));\r\n                        builder.append(source);\r\n                        if (source instanceof Spanned)\r\n                        {\r\n                            TextUtils.copySpansFrom(\r\n                                    (Spanned) source, 0, source.length(), null, builder, newEnd);\r\n                        }\r\n    \r\n                        return builder;\r\n                    }\r\n                    else\r\n                    {\r\n                        //Accept original replacement (by returning null)\r\n                        return null;\r\n                    }\r\n                }\r\n            }});\r\n\r\n","title":"How to convert a char to a String?","body":"<p>I've tried the suggestions but ended up implementing it as follows</p>\n\n<pre><code>editView.setFilters(new InputFilter[]{new InputFilter()\n        {\n            @Override\n            public CharSequence filter(CharSequence source, int start, int end,\n                                       Spanned dest, int dstart, int dend)\n            {\n                String prefix = \"http://\";\n\n                //make sure our prefix is visible\n                String destination = dest.toString();\n\n                //Check If we already have our prefix - make sure it doesn't\n                //get deleted\n                if (destination.startsWith(prefix) &amp;&amp; (dstart &lt;= prefix.length() - 1))\n                {\n                    //Yep - our prefix gets modified - try preventing it.\n                    int newEnd = (dend &gt;= prefix.length()) ? dend : prefix.length();\n\n                    SpannableStringBuilder builder = new SpannableStringBuilder(\n                            destination.substring(dstart, newEnd));\n                    builder.append(source);\n                    if (source instanceof Spanned)\n                    {\n                        TextUtils.copySpansFrom(\n                                (Spanned) source, 0, source.length(), null, builder, newEnd);\n                    }\n\n                    return builder;\n                }\n                else\n                {\n                    //Accept original replacement (by returning null)\n                    return null;\n                }\n            }\n        }});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2307261,"reputation":7757,"user_id":2026293,"display_name":"pczeus"},"score":0,"creation_date":1485494009,"post_id":40735799,"comment_id":70956815,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - [From Review](/review/low-quality-posts/15016514)","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/15016514\">From Review</a>"},{"owner":{"account_id":6961607,"reputation":2054,"user_id":5340833,"display_name":"Py-Coder"},"score":0,"creation_date":1485527020,"post_id":40735799,"comment_id":70974420,"body_markdown":"I am Converting Char Array to String @pczeus","body":"I am Converting Char Array to String @pczeus"}],"tags":[],"owner":{"account_id":6961607,"reputation":2054,"user_id":5340833,"display_name":"Py-Coder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485526941,"creation_date":1479798776,"answer_id":40735799,"question_id":8172420,"body_markdown":"   \r\n**I am converting Char Array to String**\r\n\r\n    Char[] CharArray={ &#39;A&#39;, &#39;B&#39;, &#39;C&#39;};\r\n    String text = String.copyValueOf(CharArray);\r\n\r\n ","title":"How to convert a char to a String?","body":"<p><strong>I am converting Char Array to String</strong></p>\n\n<pre><code>Char[] CharArray={ 'A', 'B', 'C'};\nString text = String.copyValueOf(CharArray);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1497193759,"creation_date":1497193759,"answer_id":44485322,"question_id":8172420,"body_markdown":"As @WarFox stated - there are 6 methods to convert char to string. However, the fastest one would be via concatenation, despite answers above stating that it is `String.valueOf`. Here is benchmark that proves that:\r\n\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @Fork(1)\r\n    @State(Scope.Thread)\r\n    @Warmup(iterations = 10, time = 1, batchSize = 1000, timeUnit = TimeUnit.SECONDS)\r\n    @Measurement(iterations = 10, time = 1, batchSize = 1000, timeUnit = TimeUnit.SECONDS)\r\n    public class CharToStringConversion {\r\n    \r\n        private char c = &#39;c&#39;;\r\n    \r\n        @Benchmark\r\n        public String stringValueOf() {\r\n            return String.valueOf(c);\r\n        }\r\n    \r\n        @Benchmark\r\n        public String stringValueOfCharArray() {\r\n            return String.valueOf(new char[]{c});\r\n        }\r\n    \r\n        @Benchmark\r\n        public String characterToString() {\r\n            return Character.toString(c);\r\n        }\r\n    \r\n        @Benchmark\r\n        public String characterObjectToString() {\r\n            return new Character(c).toString();\r\n        }\r\n    \r\n        @Benchmark\r\n        public String concatBlankStringPre() {\r\n            return c + &quot;&quot;;\r\n        }\r\n    \r\n        @Benchmark\r\n        public String concatBlankStringPost() {\r\n            return &quot;&quot; + c;\r\n        }\r\n    \r\n        @Benchmark\r\n        public String fromCharArray() {\r\n            return new String(new char[]{c});\r\n        }\r\n    }\r\n\r\nAnd result:\r\n\r\n    Benchmark                                        Mode  Cnt       Score      Error  Units\r\n    CharToStringConversion.characterObjectToString  thrpt   10   82132.021 &#177; 6841.497  ops/s\r\n    CharToStringConversion.characterToString        thrpt   10  118232.069 &#177; 8242.847  ops/s\r\n    CharToStringConversion.concatBlankStringPost    thrpt   10  136960.733 &#177; 9779.938  ops/s\r\n    CharToStringConversion.concatBlankStringPre     thrpt   10  137244.446 &#177; 9113.373  ops/s\r\n    CharToStringConversion.fromCharArray            thrpt   10   85464.842 &#177; 3127.211  ops/s\r\n    CharToStringConversion.stringValueOf            thrpt   10  119281.976 &#177; 7053.832  ops/s\r\n    CharToStringConversion.stringValueOfCharArray   thrpt   10   86563.837 &#177; 6436.527  ops/s\r\n\r\nAs you can see, the fastest one would be `c + &quot;&quot;` or `&quot;&quot; + c`;\r\n\r\n    VM version: JDK 1.8.0_131, VM 25.131-b11\r\n\r\nThis performance difference is due to `-XX:+OptimizeStringConcat` optimization. You can read about it [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42193955/why-is-string-concatenation-faster-than-string-valueof-for-converting-an-integer","title":"How to convert a char to a String?","body":"<p>As @WarFox stated - there are 6 methods to convert char to string. However, the fastest one would be via concatenation, despite answers above stating that it is <code>String.valueOf</code>. Here is benchmark that proves that:</p>\n\n<pre><code>@BenchmarkMode(Mode.Throughput)\n@Fork(1)\n@State(Scope.Thread)\n@Warmup(iterations = 10, time = 1, batchSize = 1000, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 10, time = 1, batchSize = 1000, timeUnit = TimeUnit.SECONDS)\npublic class CharToStringConversion {\n\n    private char c = 'c';\n\n    @Benchmark\n    public String stringValueOf() {\n        return String.valueOf(c);\n    }\n\n    @Benchmark\n    public String stringValueOfCharArray() {\n        return String.valueOf(new char[]{c});\n    }\n\n    @Benchmark\n    public String characterToString() {\n        return Character.toString(c);\n    }\n\n    @Benchmark\n    public String characterObjectToString() {\n        return new Character(c).toString();\n    }\n\n    @Benchmark\n    public String concatBlankStringPre() {\n        return c + \"\";\n    }\n\n    @Benchmark\n    public String concatBlankStringPost() {\n        return \"\" + c;\n    }\n\n    @Benchmark\n    public String fromCharArray() {\n        return new String(new char[]{c});\n    }\n}\n</code></pre>\n\n<p>And result:</p>\n\n<pre><code>Benchmark                                        Mode  Cnt       Score      Error  Units\nCharToStringConversion.characterObjectToString  thrpt   10   82132.021 ± 6841.497  ops/s\nCharToStringConversion.characterToString        thrpt   10  118232.069 ± 8242.847  ops/s\nCharToStringConversion.concatBlankStringPost    thrpt   10  136960.733 ± 9779.938  ops/s\nCharToStringConversion.concatBlankStringPre     thrpt   10  137244.446 ± 9113.373  ops/s\nCharToStringConversion.fromCharArray            thrpt   10   85464.842 ± 3127.211  ops/s\nCharToStringConversion.stringValueOf            thrpt   10  119281.976 ± 7053.832  ops/s\nCharToStringConversion.stringValueOfCharArray   thrpt   10   86563.837 ± 6436.527  ops/s\n</code></pre>\n\n<p>As you can see, the fastest one would be <code>c + \"\"</code> or <code>\"\" + c</code>;</p>\n\n<pre><code>VM version: JDK 1.8.0_131, VM 25.131-b11\n</code></pre>\n\n<p>This performance difference is due to <code>-XX:+OptimizeStringConcat</code> optimization. You can read about it <a href=\"https://stackoverflow.com/questions/42193955/why-is-string-concatenation-faster-than-string-valueof-for-converting-an-integer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":8359018,"reputation":669,"user_id":6278133,"display_name":"Firzok Nadeem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592246256,"creation_date":1592246256,"answer_id":62394792,"question_id":8172420,"body_markdown":"      char vIn = &#39;A&#39;;\r\n      String vOut = Character.toString(vIn);\r\n\r\nFor these types of conversion, I have site bookmarked called https://www.converttypes.com/\r\nIt helps me quickly get the conversion code for most of the languages I use.","title":"How to convert a char to a String?","body":"<pre><code>  char vIn = 'A';\n  String vOut = Character.toString(vIn);\n</code></pre>\n\n<p>For these types of conversion, I have site bookmarked called <a href=\"https://www.converttypes.com/\" rel=\"nofollow noreferrer\">https://www.converttypes.com/</a>\nIt helps me quickly get the conversion code for most of the languages I use.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684728015,"creation_date":1684728015,"answer_id":76302961,"question_id":8172420,"body_markdown":"To convert a `char` to a `String`, you can use the `String.valueOf` method.\r\n\r\nTo convert a `String` to a `char`, you can use the `String.charAt` method.\r\n\r\n```java\r\nchar character = &#39;a&#39;;\r\nString string = String.valueOf(character);\r\n```\r\n\r\n```java\r\nString string = &quot;a&quot;;\r\nchar character = string.charAt(0);\r\n```","title":"How to convert a char to a String?","body":"<p>To convert a <code>char</code> to a <code>String</code>, you can use the <code>String.valueOf</code> method.</p>\n<p>To convert a <code>String</code> to a <code>char</code>, you can use the <code>String.charAt</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char character = 'a';\nString string = String.valueOf(character);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;a&quot;;\nchar character = string.charAt(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19889185,"reputation":444,"user_id":14571617,"display_name":"Judev1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701559276,"creation_date":1701559276,"answer_id":77592538,"question_id":8172420,"body_markdown":"Just chipping in to add that with rust 1.46.0 you can convert a char into a string like so:\r\n\r\n```rust\r\nlet string = String::from(&#39;a&#39;);\r\n```","title":"How to convert a char to a String?","body":"<p>Just chipping in to add that with rust 1.46.0 you can convert a char into a string like so:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>let string = String::from('a');\n</code></pre>\n"}],"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1246609,"favorite_count":0,"down_vote_count":3,"up_vote_count":944,"answer_count":14,"score":941,"last_activity_date":1701559276,"creation_date":1321555039,"question_id":8172420,"body_markdown":"I have a `char` and I need a `String`. How do I convert from one to the other?","title":"How to convert a char to a String?","body":"<p>I have a <code>char</code> and I need a <code>String</code>. How do I convert from one to the other?</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1701548261,"post_id":77591269,"comment_id":136790351,"body_markdown":"Nothing in the code you show references a `api-0.0.1-SNAPSHOT.jar` file name including a version; do you know where that name might come from?  The `volumes:` will overwrite the jar file in the image, which could cause a problem; does deleting that help?","body":"Nothing in the code you show references a <code>api-0.0.1-SNAPSHOT.jar</code> file name including a version; do you know where that name might come from?  The <code>volumes:</code> will overwrite the jar file in the image, which could cause a problem; does deleting that help?"},{"owner":{"account_id":12369824,"reputation":19,"user_id":9020495,"display_name":"kwangkyu"},"score":0,"creation_date":1701559181,"post_id":77591269,"comment_id":136791376,"body_markdown":"I&#39;m sorry.. I wrote wong on the Question. I already tried like that ```api-0.0.1-SNAPSHOT.jar```. but the problem is same..","body":"I&#39;m sorry.. I wrote wong on the Question. I already tried like that <code>api-0.0.1-SNAPSHOT.jar</code>. but the problem is same.."},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1701912616,"post_id":77591269,"comment_id":136835034,"body_markdown":"comment the start  entrypoint command , and try to enter the container , make sure the jar has been placed in correct path , i guess that  the issue your encounter is that  you  are  read jar file from a invalid path","body":"comment the start  entrypoint command , and try to enter the container , make sure the jar has been placed in correct path , i guess that  the issue your encounter is that  you  are  read jar file from a invalid path"}],"owner":{"account_id":12369824,"reputation":19,"user_id":9020495,"display_name":"kwangkyu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701559271,"creation_date":1701535429,"question_id":77591269,"body_markdown":"I&#39;m trying to run my application with docker using docker-compose.yml. I run &#39;docker compose up -d&#39;. but it didn&#39;t work. when I checked the log, the error log is &#39;Error: Unable to access jarfile api-0.0.1-SNAPSHOT.jar&#39;.\r\nI have tried some other things. but the problem is still same.\r\n\r\nDockerfile\r\n```\r\nFROM gradle:jdk17-alpine as builder\r\nWORKDIR /build\r\n\r\nCOPY build.gradle settings.gradle /build/\r\n\r\nRUN gradle build -x test --parallel --continue &gt; /dev/null 2&gt;&amp;1 || true\r\n\r\nCOPY . /build\r\n\r\nRUN gradle build -x test --parallel\r\n\r\n\r\nFROM openjdk:17-oracle\r\n\r\nWORKDIR /app\r\n\r\nCOPY --from=builder /build/build/libs/api-0.0.1-SNAPSHOT.jar .\r\n\r\nEXPOSE 8080\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;api-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\ndocker-compose.yml\r\n```\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  webserver:\r\n    build: .\r\n    ports:\r\n      - &quot;9090:8080&quot;\r\n    volumes:\r\n      - ./app:/app\r\n    restart: always\r\n    command: tail -f /dev/null\r\n```","title":"I got this error unable to access jarfile docker-compose","body":"<p>I'm trying to run my application with docker using docker-compose.yml. I run 'docker compose up -d'. but it didn't work. when I checked the log, the error log is 'Error: Unable to access jarfile api-0.0.1-SNAPSHOT.jar'.\nI have tried some other things. but the problem is still same.</p>\n<p>Dockerfile</p>\n<pre><code>FROM gradle:jdk17-alpine as builder\nWORKDIR /build\n\nCOPY build.gradle settings.gradle /build/\n\nRUN gradle build -x test --parallel --continue &gt; /dev/null 2&gt;&amp;1 || true\n\nCOPY . /build\n\nRUN gradle build -x test --parallel\n\n\nFROM openjdk:17-oracle\n\nWORKDIR /app\n\nCOPY --from=builder /build/build/libs/api-0.0.1-SNAPSHOT.jar .\n\nEXPOSE 8080\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;api-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: '3.8'\nservices:\n  webserver:\n    build: .\n    ports:\n      - &quot;9090:8080&quot;\n    volumes:\n      - ./app:/app\n    restart: always\n    command: tail -f /dev/null\n</code></pre>\n"},{"tags":["java","gateway","spring-cloud-gateway"],"answers":[{"comments":[{"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"score":0,"creation_date":1701440392,"post_id":77585154,"comment_id":136779232,"body_markdown":"thx for the answer @ch4mp, it seams like I need TokenRelay, but the gateway shall not work as a client which needs to redirect the user to the login, this is handled by the angular app itself. Would this still be possible with TokenRelay? So the requests are already coming with a valid JWT and only on defined routes by `TokenRelay` the JWT is validated?!","body":"thx for the answer @ch4mp, it seams like I need TokenRelay, but the gateway shall not work as a client which needs to redirect the user to the login, this is handled by the angular app itself. Would this still be possible with TokenRelay? So the requests are already coming with a valid JWT and only on defined routes by <code>TokenRelay</code> the JWT is validated?!"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1701460475,"post_id":77585154,"comment_id":136782739,"body_markdown":"`TokenRelay` filter can work only if tokens are in session, which require the gateway to be configured as an OAuth2 client (with `oauth2Login` if you want this tokens to be delivered for the user using `authorization_code` flow).","body":"<code>TokenRelay</code> filter can work only if tokens are in session, which require the gateway to be configured as an OAuth2 client (with <code>oauth2Login</code> if you want this tokens to be delivered for the user using <code>authorization_code</code> flow)."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1701464026,"post_id":77585154,"comment_id":136783247,"body_markdown":"And read my answer again: **Angular should not fetch tokens from the authorization server** (actually, it should not even see the tokens). Also, **the gateway should check the access tokens only for requests to its own protected resources** (like actuator endpoints), not for requests to resource served by services behind it.","body":"And read my answer again: <b>Angular should not fetch tokens from the authorization server</b> (actually, it should not even see the tokens). Also, <b>the gateway should check the access tokens only for requests to its own protected resources</b> (like actuator endpoints), not for requests to resource served by services behind it."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701559173,"creation_date":1701432355,"answer_id":77585154,"question_id":77584702,"body_markdown":"According to [Spring Security team latest recommendations][1], we should only use &quot;confidential&quot; OAuth2 clients. This excludes single page (Angular, React, Vue, Flutter web,...) and mobile applications, but makes the gateway a good candidate for it. **The requests from frontend (Angular in your case) to the gateway should be authorized with session cookies**, not `Bearer` tokens in `Authorization` header. This is frequently referred to as &quot;BFF pattern&quot; and I wrote [a tutorial for it][2].\r\n\r\nThe &quot;services&quot; on your drowning are what actually serve resources. It know about this resources internal and business rules. Access control (who can access and what he can do with it) is part of this business and is best placed on resource servers. If we take the sample of a &quot;forum&quot; application, a &quot;post&quot; can be edited by any user having the &quot;moderator&quot; *authority* or the user having the &quot;author&quot; *relation* with this post. A gateway should not know about relations between resources and such access control rule can be easily unit tested only on the &quot;post service&quot; which knows about posts relations and should then be a resource server implementing (and unit-testing) this access control.\r\n\r\nThe only valid cases for an access token to come with a request to the gateway is when &quot;services&quot; talk to each other through this gateway or if a &quot;server from the outside&quot; needs to query your API. But this doesn&#39;t require the gateway to be configured as resource server nor implement access control, as long as the services behind it are resource servers with access control.\r\n\r\nIn short, put access control on the gateway only for its own resources (things like actuator endpoints) and define routes:\r\n- with `oauth2Login` and `TokenRelay` filter for frontends (like your Angular app) needing a user session\r\n- without session nor `TokenRelay` for inter-service communication and gateway own resources. \r\n\r\nThis will probably require to define:\r\n- two different `Security(Web)FilterChain` beans: one as OAuth2 client with sessions and login, and another as resource server without session\r\n- if inter-service communication goes through the gateway, two different routes to each resource server (with and without the `TokenRelay` filter) \r\n\r\n  [1]: https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff","title":"Authenticate (or validate JWT) only at certain routes in Spring Gateway","body":"<p>According to <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\" rel=\"nofollow noreferrer\">Spring Security team latest recommendations</a>, we should only use &quot;confidential&quot; OAuth2 clients. This excludes single page (Angular, React, Vue, Flutter web,...) and mobile applications, but makes the gateway a good candidate for it. <strong>The requests from frontend (Angular in your case) to the gateway should be authorized with session cookies</strong>, not <code>Bearer</code> tokens in <code>Authorization</code> header. This is frequently referred to as &quot;BFF pattern&quot; and I wrote <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">a tutorial for it</a>.</p>\n<p>The &quot;services&quot; on your drowning are what actually serve resources. It know about this resources internal and business rules. Access control (who can access and what he can do with it) is part of this business and is best placed on resource servers. If we take the sample of a &quot;forum&quot; application, a &quot;post&quot; can be edited by any user having the &quot;moderator&quot; <em>authority</em> or the user having the &quot;author&quot; <em>relation</em> with this post. A gateway should not know about relations between resources and such access control rule can be easily unit tested only on the &quot;post service&quot; which knows about posts relations and should then be a resource server implementing (and unit-testing) this access control.</p>\n<p>The only valid cases for an access token to come with a request to the gateway is when &quot;services&quot; talk to each other through this gateway or if a &quot;server from the outside&quot; needs to query your API. But this doesn't require the gateway to be configured as resource server nor implement access control, as long as the services behind it are resource servers with access control.</p>\n<p>In short, put access control on the gateway only for its own resources (things like actuator endpoints) and define routes:</p>\n<ul>\n<li>with <code>oauth2Login</code> and <code>TokenRelay</code> filter for frontends (like your Angular app) needing a user session</li>\n<li>without session nor <code>TokenRelay</code> for inter-service communication and gateway own resources.</li>\n</ul>\n<p>This will probably require to define:</p>\n<ul>\n<li>two different <code>Security(Web)FilterChain</code> beans: one as OAuth2 client with sessions and login, and another as resource server without session</li>\n<li>if inter-service communication goes through the gateway, two different routes to each resource server (with and without the <code>TokenRelay</code> filter)</li>\n</ul>\n"}],"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701559173,"creation_date":1701427581,"question_id":77584702,"body_markdown":"My Setup looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see the Gateway gets all requests to route `/api` from an Angular. \r\n\r\nThe Angular app authenticates the User with MSAL Lib to an Azure B2C, gets a token and makes requests to the respective service with that JWT.\r\n\r\nWhat I added to the Gateway ([according to this][2]) is a &quot;Resource Server&quot; with its configuration in the gateways `application.yaml` like:\r\n\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          jwk-set-uri: ${CIAM_B2C_JWK_SET_URI}\r\n          issuer-uri: ${CIAM_B2C_ISSUER_URI}\r\n          audiences: ${CIAM_B2C_AUDIENCES}\r\n```\r\n\r\nNow every request that passes the gateway needs a valid JWT. This is fine for &quot;Secure Service One&quot; and &quot;Secure Service Two&quot;. \r\n\r\nFurthermore, all routes are also configured in `application.yaml` like:\r\n\r\n```\r\n      routes:\r\n        # secure service one\r\n        - id: secure-service-one\r\n          uri: http://localhost:8080\r\n          predicates:\r\n            - Path=/api/secure-service-one/public/**\r\n          filters:\r\n            - StripPrefix=3\r\n```\r\n\r\nMy issue is, that &quot;Public Service&quot; is also secured where I don&#39;t want a JWT validation.\r\n\r\nI know I could probably add a `SecurityConfiguration` and say that the route is not secured,  but I think there should be a way where I could do it with a `filter` like:\r\n\r\n```\r\n      routes:\r\n        # secure service one\r\n        - id: secure-service-one\r\n          uri: http://localhost:8080\r\n          predicates:\r\n            - Path=/api/secure-service-one/public/**\r\n          filters:\r\n            - StripPrefix=3\r\n            - AuthenticationFilter\r\n```\r\n\r\nso I have the settings for every route at one place.\r\n\r\nAppreciate any help or hints.\r\n\r\n  [1]: https://i.stack.imgur.com/mgniw.png\r\n  [2]: https://www.baeldung.com/spring-cloud-gateway-oauth2","title":"Authenticate (or validate JWT) only at certain routes in Spring Gateway","body":"<p>My Setup looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/mgniw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgniw.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the Gateway gets all requests to route <code>/api</code> from an Angular.</p>\n<p>The Angular app authenticates the User with MSAL Lib to an Azure B2C, gets a token and makes requests to the respective service with that JWT.</p>\n<p>What I added to the Gateway (<a href=\"https://www.baeldung.com/spring-cloud-gateway-oauth2\" rel=\"nofollow noreferrer\">according to this</a>) is a &quot;Resource Server&quot; with its configuration in the gateways <code>application.yaml</code> like:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          jwk-set-uri: ${CIAM_B2C_JWK_SET_URI}\n          issuer-uri: ${CIAM_B2C_ISSUER_URI}\n          audiences: ${CIAM_B2C_AUDIENCES}\n</code></pre>\n<p>Now every request that passes the gateway needs a valid JWT. This is fine for &quot;Secure Service One&quot; and &quot;Secure Service Two&quot;.</p>\n<p>Furthermore, all routes are also configured in <code>application.yaml</code> like:</p>\n<pre><code>      routes:\n        # secure service one\n        - id: secure-service-one\n          uri: http://localhost:8080\n          predicates:\n            - Path=/api/secure-service-one/public/**\n          filters:\n            - StripPrefix=3\n</code></pre>\n<p>My issue is, that &quot;Public Service&quot; is also secured where I don't want a JWT validation.</p>\n<p>I know I could probably add a <code>SecurityConfiguration</code> and say that the route is not secured,  but I think there should be a way where I could do it with a <code>filter</code> like:</p>\n<pre><code>      routes:\n        # secure service one\n        - id: secure-service-one\n          uri: http://localhost:8080\n          predicates:\n            - Path=/api/secure-service-one/public/**\n          filters:\n            - StripPrefix=3\n            - AuthenticationFilter\n</code></pre>\n<p>so I have the settings for every route at one place.</p>\n<p>Appreciate any help or hints.</p>\n"},{"tags":["java","sql","prepared-statement","symbols"],"comments":[{"owner":{"account_id":2663268,"reputation":6692,"user_id":2302434,"display_name":"Shailesh Aswal"},"score":1,"creation_date":1463646788,"post_id":37317915,"comment_id":62155562,"body_markdown":"you have declared &#39;con&#39; and not &#39;conn&#39;, moreover the scope of &#39;con&#39; remains within try block.","body":"you have declared &#39;con&#39; and not &#39;conn&#39;, moreover the scope of &#39;con&#39; remains within try block."},{"owner":{"account_id":3735288,"reputation":851,"user_id":3106360,"accept_rate":86,"display_name":"Helios"},"score":0,"creation_date":1463647546,"post_id":37317915,"comment_id":62156087,"body_markdown":"Try to use IDE which would highlight these issues and you would be able solve those on your own without any help from others.","body":"Try to use IDE which would highlight these issues and you would be able solve those on your own without any help from others."}],"answers":[{"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1463650725,"post_id":37318090,"comment_id":62158364,"body_markdown":"Class.forName and DriverManager both (i think) need to be in a try catch, but the declaration of Connection should be outside the try to be visible (just to be clear ;) )","body":"Class.forName and DriverManager both (i think) need to be in a try catch, but the declaration of Connection should be outside the try to be visible (just to be clear ;) )"},{"owner":{"account_id":6550073,"reputation":203,"user_id":5064783,"accept_rate":57,"display_name":"Harshil Shah"},"score":0,"creation_date":1463651011,"post_id":37318090,"comment_id":62158580,"body_markdown":"if you want both class.forName &amp; Drivermanager in try-catch you can have them in it. but than you will need to define connection object con outside try-catch otherwise it won&#39;t recognize connection object at the time you using it. ( that is prepared st where you are getting error )","body":"if you want both class.forName &amp; Drivermanager in try-catch you can have them in it. but than you will need to define connection object con outside try-catch otherwise it won&#39;t recognize connection object at the time you using it. ( that is prepared st where you are getting error )"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1463651192,"post_id":37318090,"comment_id":62158720,"body_markdown":"That&#39;s not for me, but I&#39;m saying that DriverManager.getConnection throws SQLException and Class.forName throws ClassNotFoundException, both need to be catch or throw back. And if one of those throw an exception, the connection won&#39;t be possible so no need to try to create a PreparedStatement on a null value.","body":"That&#39;s not for me, but I&#39;m saying that DriverManager.getConnection throws SQLException and Class.forName throws ClassNotFoundException, both need to be catch or throw back. And if one of those throw an exception, the connection won&#39;t be possible so no need to try to create a PreparedStatement on a null value."},{"owner":{"account_id":6550073,"reputation":203,"user_id":5064783,"accept_rate":57,"display_name":"Harshil Shah"},"score":0,"creation_date":1463651468,"post_id":37318090,"comment_id":62158916,"body_markdown":"so if i understood you well i think you want `class.forname` &amp; `drivermanager` both in` try-catch` and if they do not throw any exception only in that case you want your `prepared stmt` to run. \nIf thats the case you can use `nested try catch` block.  \n`try { classForname &amp; connection try { prepared st } catch { prepared stmt catch block} catch { class.Forname&#39;s catch block } }`","body":"so if i understood you well i think you want <code>class.forname</code> &amp; <code>drivermanager</code> both in` try-catch` and if they do not throw any exception only in that case you want your <code>prepared stmt</code> to run.  If thats the case you can use <code>nested try catch</code> block.   <code>try { classForname &amp; connection try { prepared st } catch { prepared stmt catch block} catch { class.Forname&#39;s catch block } }</code>"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1463651702,"post_id":37318090,"comment_id":62159094,"body_markdown":"Wait, I don&#39;t want anything, I&#39;m just giving you an advice for your answer ;) You CAN NOT remove both of those statement of the try catch because the Exception that MIGHT be thrown won&#39;t be catch or thown again.","body":"Wait, I don&#39;t want anything, I&#39;m just giving you an advice for your answer ;) You CAN NOT remove both of those statement of the try catch because the Exception that MIGHT be thrown won&#39;t be catch or thown again."}],"tags":[],"owner":{"account_id":6550073,"reputation":203,"user_id":5064783,"accept_rate":57,"display_name":"Harshil Shah"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463647210,"creation_date":1463647210,"answer_id":37318090,"question_id":37317915,"body_markdown":"Change \r\n\r\n    Connection con=DriverManager.getConnection(&quot;jdbc:postgresql://localhost/database&quot;, &quot;postgres&quot;, &quot;pswd&quot;);\r\n\r\nto \r\n\r\n    Connection conn=DriverManager.getConnection(&quot;jdbc:postgresql://localhost/database&quot;, &quot;postgres&quot;, &quot;pswd&quot;);\r\n\r\nand don&#39;t add `Class.forName(&quot;org.postgresql.Driver&quot;); \r\n       Connection con=DriverManager...`  in try catch block.\r\nhope it helps :)","title":"error: cannot find symbol PreparedStatement","body":"<p>Change </p>\n\n<pre><code>Connection con=DriverManager.getConnection(\"jdbc:postgresql://localhost/database\", \"postgres\", \"pswd\");\n</code></pre>\n\n<p>to </p>\n\n<pre><code>Connection conn=DriverManager.getConnection(\"jdbc:postgresql://localhost/database\", \"postgres\", \"pswd\");\n</code></pre>\n\n<p>and don't add <code>Class.forName(\"org.postgresql.Driver\"); \n       Connection con=DriverManager...</code>  in try catch block.\nhope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":4206273,"reputation":1173,"user_id":3445083,"display_name":"Batiaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463647528,"creation_date":1463647528,"answer_id":37318192,"question_id":37317915,"body_markdown":"As say @Shail016 you have typo in name of `Connection`\r\nBelow fixed code with some additional try-catch blocks\r\n\r\n    package main;\r\n    \r\n    import java.sql.*;\r\n    \r\n    class splitString {\r\n        public static void main(String[] args) {\r\n    \r\n            //Connect to database\r\n            Connection con = null;\r\n            String word = &quot;Apples&quot;;\r\n    \r\n            try {\r\n                Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n                con = DriverManager.getConnection(&quot;jdbc:postgresql://localhost/database&quot;, &quot;postgres&quot;, &quot;pswd&quot;);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (con != null)\r\n                System.out.println(&quot;Connection Successful!&quot;);\r\n            else return;\r\n    \r\n            PreparedStatement st;\r\n            ResultSet rs = null;\r\n            try {\r\n                st = con.prepareStatement(&quot;SELECT * FROM table WHERE name = ?&quot;);\r\n                st.setString(1, word);\r\n                rs = st.executeQuery();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"error: cannot find symbol PreparedStatement","body":"<p>As say @Shail016 you have typo in name of <code>Connection</code>\nBelow fixed code with some additional try-catch blocks</p>\n\n<pre><code>package main;\n\nimport java.sql.*;\n\nclass splitString {\n    public static void main(String[] args) {\n\n        //Connect to database\n        Connection con = null;\n        String word = \"Apples\";\n\n        try {\n            Class.forName(\"org.postgresql.Driver\");\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        try {\n            con = DriverManager.getConnection(\"jdbc:postgresql://localhost/database\", \"postgres\", \"pswd\");\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        if (con != null)\n            System.out.println(\"Connection Successful!\");\n        else return;\n\n        PreparedStatement st;\n        ResultSet rs = null;\n        try {\n            st = con.prepareStatement(\"SELECT * FROM table WHERE name = ?\");\n            st.setString(1, word);\n            rs = st.executeQuery();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463651591,"creation_date":1463651591,"answer_id":37319715,"question_id":37317915,"body_markdown":"Since nobody used the try-with-resource, this is how to do it with the autocloseable class. (If someone can test it on a Java 7 or greater, I work on 1.6 here...)\r\n\r\n     try {\r\n        Class.forName(&quot;org.postgresql.Driver&quot;);\r\n    } catch (ClassNotFoundException e) {\r\n        e.printStackTrace();\r\n        return;\r\n    }\r\n\r\n    try(\r\n        Connection con = DriverManager.getConnection(&quot;jdbc:postgresql://localhost/database&quot;, &quot;postgres&quot;, &quot;pswd&quot;);\r\n        PreparedStatement st = con.prepareStatement(&quot;SELECT * FROM table WHERE name = ?&quot;);\r\n    ){\r\n        st.setString(1, word);\r\n        try(rs = st.executeQuery();){\r\n            //Read the resultset\r\n        }\r\n    }\r\n\r\nThis will close the connectionm preparedStatement and the resultset automaticly after use. This is a good approch","title":"error: cannot find symbol PreparedStatement","body":"<p>Since nobody used the try-with-resource, this is how to do it with the autocloseable class. (If someone can test it on a Java 7 or greater, I work on 1.6 here...)</p>\n\n<pre><code> try {\n    Class.forName(\"org.postgresql.Driver\");\n} catch (ClassNotFoundException e) {\n    e.printStackTrace();\n    return;\n}\n\ntry(\n    Connection con = DriverManager.getConnection(\"jdbc:postgresql://localhost/database\", \"postgres\", \"pswd\");\n    PreparedStatement st = con.prepareStatement(\"SELECT * FROM table WHERE name = ?\");\n){\n    st.setString(1, word);\n    try(rs = st.executeQuery();){\n        //Read the resultset\n    }\n}\n</code></pre>\n\n<p>This will close the connectionm preparedStatement and the resultset automaticly after use. This is a good approch</p>\n"}],"owner":{"account_id":8444194,"reputation":11,"user_id":6342930,"display_name":"Feenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11165,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1701558486,"creation_date":1463646719,"question_id":37317915,"body_markdown":"I keep getting the following error:\r\n\r\n    error: cannot find symbol PreparedStatement st = conn.prepareStatement(&quot;SELECT * FROM table WHERE name = ?&quot;);\r\n    symbol: variable conn\r\n    location: class splitString\r\n\r\nHere&#39;s the code I&#39;m using\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n\r\n    class splitString {\r\n      public static void main(String[] args) {\r\n        \r\n      //Connect to database\r\n        try {\r\n           Class.forName(&quot;org.postgresql.Driver&quot;); \r\n           Connection con = DriverManager.getConnection(&quot;jdbc:postgresql://localhost/database&quot;, &quot;postgres&quot;, &quot;pswd&quot;);\r\n           if (con != null)\r\n               System.out.println(&quot;Connection Successful!&quot;);\r\n        } catch(Exception ee) {\r\n            ee.printStackTrace();\r\n        }\r\n        \r\n        String word = &quot;Apples&quot;;\r\n        PreparedStatement st = conn.prepareStatement(&quot;SELECT * FROM table WHERE name = ?&quot;);\r\n        st.setString(1, word);\r\n        ResultSet rs = st.executeQuery();\r\n    \r\n      }\r\n    }\r\n\r\nI want to look up the word &quot;Apples&quot; in the database using the variable named &quot;word&quot;.\r\n\r\nCan someone tell me what I&#39;m doing wrong?","title":"error: cannot find symbol PreparedStatement","body":"<p>I keep getting the following error:</p>\n\n<pre><code>error: cannot find symbol PreparedStatement st = conn.prepareStatement(\"SELECT * FROM table WHERE name = ?\");\nsymbol: variable conn\nlocation: class splitString\n</code></pre>\n\n<p>Here's the code I'm using</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\nclass splitString {\n  public static void main(String[] args) {\n\n  //Connect to database\n    try {\n       Class.forName(\"org.postgresql.Driver\"); \n       Connection con = DriverManager.getConnection(\"jdbc:postgresql://localhost/database\", \"postgres\", \"pswd\");\n       if (con != null)\n           System.out.println(\"Connection Successful!\");\n    } catch(Exception ee) {\n        ee.printStackTrace();\n    }\n\n    String word = \"Apples\";\n    PreparedStatement st = conn.prepareStatement(\"SELECT * FROM table WHERE name = ?\");\n    st.setString(1, word);\n    ResultSet rs = st.executeQuery();\n\n  }\n}\n</code></pre>\n\n<p>I want to look up the word \"Apples\" in the database using the variable named \"word\".</p>\n\n<p>Can someone tell me what I'm doing wrong?</p>\n"},{"tags":["java","android","xml","ads"],"owner":{"account_id":29940586,"reputation":11,"user_id":22945215,"display_name":"Nikita "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701556462,"creation_date":1701554099,"question_id":77592328,"body_markdown":"I am currently facing an issue displaying an AdMob banner in my Android application. Despite configuring the settings, the banner does not appear when launching the application on an emulator or a physical device.\r\n\r\n**Problem:**\r\nWhile using a test AdUnit ID, the banner displays correctly in the layout design phase but fails to appear during the actual runtime.\r\n\r\n**Details:**\r\n\r\n**XML code in the activity_main.xml file:**\r\n\r\n```\r\n&lt;com.google.android.gms.ads.AdView\r\n    android:id=&quot;@+id/adView&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    ads:adSize=&quot;BANNER&quot;\r\n    ads:adUnitId=&quot;ca-app-pub-3940256099942544~3347511713&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\n**Code in MainActivity.java:**\r\n\r\n```\r\nAdView mAdView;\r\n```\r\n\r\n\r\n\r\n**In the MainActivity class:**\r\n\r\n\r\n\r\n```\r\nAdRequest adRequest = new AdRequest.Builder().build();\r\nmAdView.loadAd(adRequest);\r\n\r\n```\r\n\r\n\r\nPlease share any insights or suggestions that might help identify the reason behind the absence of the banner during the application launch.","title":"Issue with AdMob Banner Display in My Android App","body":"<p>I am currently facing an issue displaying an AdMob banner in my Android application. Despite configuring the settings, the banner does not appear when launching the application on an emulator or a physical device.</p>\n<p><strong>Problem:</strong>\nWhile using a test AdUnit ID, the banner displays correctly in the layout design phase but fails to appear during the actual runtime.</p>\n<p><strong>Details:</strong></p>\n<p><strong>XML code in the activity_main.xml file:</strong></p>\n<pre><code>&lt;com.google.android.gms.ads.AdView\n    android:id=&quot;@+id/adView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    ads:adSize=&quot;BANNER&quot;\n    ads:adUnitId=&quot;ca-app-pub-3940256099942544~3347511713&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p><strong>Code in MainActivity.java:</strong></p>\n<pre><code>AdView mAdView;\n</code></pre>\n<p><strong>In the MainActivity class:</strong></p>\n<pre><code>AdRequest adRequest = new AdRequest.Builder().build();\nmAdView.loadAd(adRequest);\n\n</code></pre>\n<p>Please share any insights or suggestions that might help identify the reason behind the absence of the banner during the application launch.</p>\n"},{"tags":["java","spring","http-status-code-403"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1701552926,"post_id":77592177,"comment_id":136790811,"body_markdown":"add a screenshot of the request u r sending in postman, this seems like authentication problem &quot;wrong username or password, or wrong jwt&quot;.","body":"add a screenshot of the request u r sending in postman, this seems like authentication problem &quot;wrong username or password, or wrong jwt&quot;."},{"owner":{"account_id":30050683,"reputation":1,"user_id":23029300,"display_name":"Gabriel John"},"score":0,"creation_date":1701553728,"post_id":77592177,"comment_id":136790874,"body_markdown":"It is not a problem with authentication. It is giving me the 403 Forbidden when i try to use the city API without token, and gives me the right JSON Response when I ask for right city. The problem is that when i look for imaginary city, it doesnt give me back JSON response with 404 Error, it gives me again 403 Forbidden","body":"It is not a problem with authentication. It is giving me the 403 Forbidden when i try to use the city API without token, and gives me the right JSON Response when I ask for right city. The problem is that when i look for imaginary city, it doesnt give me back JSON response with 404 Error, it gives me again 403 Forbidden"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1701553797,"post_id":77592177,"comment_id":136790885,"body_markdown":"ok, include these info in the question :)","body":"ok, include these info in the question :)"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701554198,"creation_date":1701554198,"answer_id":77592331,"question_id":77592177,"body_markdown":"You are being redirected to /error page which is secured by spring-security. so you should permit it\r\n\r\nadd\r\n\r\n```\r\n.requestMatchers(&quot;/error&quot;).permitAll()  \r\n```","title":"Always getting 403 Forbidden error even thought it should return 404 Not Exists (Java Spring application problem)","body":"<p>You are being redirected to /error page which is secured by spring-security. so you should permit it</p>\n<p>add</p>\n<pre><code>.requestMatchers(&quot;/error&quot;).permitAll()  \n</code></pre>\n"}],"owner":{"account_id":30050683,"reputation":1,"user_id":23029300,"display_name":"Gabriel John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77592331,"answer_count":1,"score":-2,"last_activity_date":1701554198,"creation_date":1701551178,"question_id":77592177,"body_markdown":"I am having the problem with Java 17 Spring Maven application because it always returns to me 403 Forbidden status in Postman when I test my code. I locate the problem within securityFilterChain() method but I am not sure how could I fix this. \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n\r\n    private final AuthenticationProvider authenticationProvider;\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/city/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nHas anyone experienced similar problem.\r\n\r\nThanks in advance!\r\n\r\nWhen I disabled:\r\n`.authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);` \r\nand`                        .requestMatchers(&quot;/api/v1/city/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()`\r\nThen it gives right response but then i dissable JWT Authentication\r\n\r\n[Example of problem][1]\r\n\r\n\r\n[Example of problem][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wHeVZ.png\r\n  [2]: https://i.stack.imgur.com/UTKlL.png","title":"Always getting 403 Forbidden error even thought it should return 404 Not Exists (Java Spring application problem)","body":"<p>I am having the problem with Java 17 Spring Maven application because it always returns to me 403 Forbidden status in Postman when I test my code. I locate the problem within securityFilterChain() method but I am not sure how could I fix this.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n\n    private final AuthenticationProvider authenticationProvider;\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/city/**&quot;).permitAll()\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>Has anyone experienced similar problem.</p>\n<p>Thanks in advance!</p>\n<p>When I disabled:\n<code>.authenticationProvider(authenticationProvider) .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);</code>\nand<code>                        .requestMatchers(&quot;/api/v1/city/**&quot;).permitAll() .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()</code>\nThen it gives right response but then i dissable JWT Authentication</p>\n<p><a href=\"https://i.stack.imgur.com/wHeVZ.png\" rel=\"nofollow noreferrer\">Example of problem</a></p>\n<p><a href=\"https://i.stack.imgur.com/UTKlL.png\" rel=\"nofollow noreferrer\">Example of problem</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701572178,"post_id":77592330,"comment_id":136792139,"body_markdown":"Do you want to find @AndroidFindBy to obtain String[] and then  examine String[] or do you have all of String[] array then examine ?? You can obtain it String[] , you can use it.","body":"Do you want to find @AndroidFindBy to obtain String[] and then  examine String[] or do you have all of String[] array then examine ?? You can obtain it String[] , you can use it."},{"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"score":0,"creation_date":1701593419,"post_id":77592330,"comment_id":136793320,"body_markdown":"Yes I want to get the return data of test1 , test2 and test3 from locator @AndroidFindBy,","body":"Yes I want to get the return data of test1 , test2 and test3 from locator @AndroidFindBy,"}],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701554149,"creation_date":1701554149,"question_id":77592330,"body_markdown":"I want to access data in String[] annotated with @AndroidFindBy\r\neg.\r\n```\r\n@AndroidFindBy(xpath=&quot;.//*[contains(@text, &#39;SampleTest&#39;)]&quot;)\r\npublic String[] SampleTestContainer = {test1,test2,test3};\r\n\r\n```\r\nis that possible to access or use data from String[]?\r\n","title":"how to access data in String[] that is annotated with @AndroidFindBY","body":"<p>I want to access data in String[] annotated with @AndroidFindBy\neg.</p>\n<pre><code>@AndroidFindBy(xpath=&quot;.//*[contains(@text, 'SampleTest')]&quot;)\npublic String[] SampleTestContainer = {test1,test2,test3};\n\n</code></pre>\n<p>is that possible to access or use data from String[]?</p>\n"},{"tags":["java","spring-boot","validation","error-handling","controller-advice"],"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":2,"creation_date":1582294612,"post_id":60340184,"comment_id":106738484,"body_markdown":"Try to annotate handleMethodArgumentNotValid method with @ExceptionHandler(MethodArgumentNotValidException .class) and see what happens?","body":"Try to annotate handleMethodArgumentNotValid method with @ExceptionHandler(MethodArgumentNotValidException .class) and see what happens?"},{"owner":{"account_id":7461768,"reputation":950,"user_id":5672950,"accept_rate":27,"display_name":"Ernesto"},"score":0,"creation_date":1582294661,"post_id":60340184,"comment_id":106738503,"body_markdown":"you&#39;re not handling this MethodArgumentNotValidException ...","body":"you&#39;re not handling this MethodArgumentNotValidException ..."}],"answers":[{"tags":[],"owner":{"account_id":19163428,"reputation":1,"user_id":13998716,"display_name":"kabal163"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600355126,"creation_date":1600355126,"answer_id":63940965,"question_id":60340184,"body_markdown":"You create `List&lt;String&gt; errorList` but never use it and return just empty `ErrorResponse` ","title":"Spring Boot @ControllerAdvice / @Valid","body":"<p>You create <code>List&lt;String&gt; errorList</code> but never use it and return just empty <code>ErrorResponse</code></p>\n"},{"tags":[],"owner":{"account_id":4386891,"reputation":95,"user_id":3576749,"display_name":"Airistotal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638205009,"creation_date":1638205009,"answer_id":70158402,"question_id":60340184,"body_markdown":"I just ran into this issue and here&#39;s how I solved it:\r\n\r\n    @ControllerAdvice\r\n    public class ApplicationExceptionHandler extends ResponseEntityExceptionHandler {\t\r\n\t    @Override\r\n\t    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\t\t    // handle validation exception here\r\n\t    }\r\n    }\r\n\r\n**Note**: if you have multiple classes that extend `ResponseEntityExceptionHandler` and are all `@ControllerAdvice`, you may have some trouble getting this overidden function to be executed. I had to have this overidden in a base class for all my exception handlers in order for it to finally be used. I may, in the future, put all my exception handlers into one class to avoid this.\r\n\r\n&gt; source:\r\n&gt; https://www.youtube.com/watch?v=Q0hwXOeMdUM","title":"Spring Boot @ControllerAdvice / @Valid","body":"<p>I just ran into this issue and here's how I solved it:</p>\n<pre><code>@ControllerAdvice\npublic class ApplicationExceptionHandler extends ResponseEntityExceptionHandler {   \n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        // handle validation exception here\n    }\n}\n</code></pre>\n<p><strong>Note</strong>: if you have multiple classes that extend <code>ResponseEntityExceptionHandler</code> and are all <code>@ControllerAdvice</code>, you may have some trouble getting this overidden function to be executed. I had to have this overidden in a base class for all my exception handlers in order for it to finally be used. I may, in the future, put all my exception handlers into one class to avoid this.</p>\n<blockquote>\n<p>source:\n<a href=\"https://www.youtube.com/watch?v=Q0hwXOeMdUM\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Q0hwXOeMdUM</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701553850,"creation_date":1701553850,"answer_id":77592315,"question_id":60340184,"body_markdown":"You have not a handler for `MethodArgumentNotValidException`. Adding this:\r\n\r\n```java\r\n    ...\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public void methodArgumentNotValidException(HttpServletResponse response) throws IOException {\r\n        response.sendError(HttpStatus.BAD_REQUEST.value());\r\n    }\r\n    ...\r\n```\r\n\r\nTo your `CustomExceptionHandler` should work.","title":"Spring Boot @ControllerAdvice / @Valid","body":"<p>You have not a handler for <code>MethodArgumentNotValidException</code>. Adding this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ...\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public void methodArgumentNotValidException(HttpServletResponse response) throws IOException {\n        response.sendError(HttpStatus.BAD_REQUEST.value());\n    }\n    ...\n</code></pre>\n<p>To your <code>CustomExceptionHandler</code> should work.</p>\n"}],"owner":{"account_id":15327132,"reputation":41,"user_id":11057953,"display_name":"Airam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8130,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1701553850,"creation_date":1582293763,"question_id":60340184,"body_markdown":"I am working on sample demo application for Exception Handling in Spring Boot.I am trying Exception Handling With @ControllerAdvice.\r\n\r\nI would like to handle exception thrown by validator. It handles other exceptions but not MethodArgumentNotValidException.\r\n\r\nFor more details following are the classes I am working on:\r\n\r\n**Query.java**\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Validated\r\n    public class Query implements Serializable{\r\n        @Size(min = 7, max = 24, message = &quot;Size must be between 7 and 24&quot;)\r\n    \t@Pattern(regexp = &quot;[a-zA-Z0-9 ]+&quot;, Invalid characters&quot;)\r\n    \tprivate String number;\r\n    \t\r\n    \t@Size(max = 2, message = &quot;Size must be between 0 and 2&quot;)\r\n    \t@Pattern(regexp = &quot;[a-zA-Z0-9 ]+&quot;, message=&quot;Invalid characters&quot;)\r\n    \tprivate String language;\r\n    }\r\n\r\n**ErrorResponse.java**\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @Data\r\n    public class ErrorResponse \r\n    {\r\n        \r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd hh:mm:ss&quot;)\r\n        private LocalDateTime timestamp;\r\n        \r\n        private HttpStatus status;\r\n        \r\n        private int code;\r\n        \r\n        private String error;\r\n        \r\n        private String exception;\r\n    \r\n        private String message;\r\n        \r\n        private String path;\r\n        \r\n        private List&lt;String&gt; errors;\r\n        \r\n    }\r\n\r\n*CustomExceptionHandler.java*\r\n\r\n    @SuppressWarnings({&quot;unchecked&quot;,&quot;rawtypes&quot;})\r\n    @ControllerAdvice\r\n    @Component(&quot;error&quot;)\r\n    public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n        \r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        @ExceptionHandler(NotFoundException.class)\r\n        public final ResponseEntity&lt;Object&gt; handleNotFoundError(NotFoundException ex, final HttpServletRequest request) {\r\n            ErrorResponse error = new ErrorResponse();\r\n            error.setTimestamp(LocalDateTime.now());\r\n            error.setMessage(ex.getMessage());\r\n            error.setCode(HttpStatus.NOT_FOUND.value());\r\n            return new ResponseEntity(error, HttpStatus.NOT_FOUND);\r\n        }\r\n        \r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        @ExceptionHandler(InternalServerException.class)\r\n        public final ResponseEntity&lt;Object&gt; handleInternelServorError(InternalServerException ex, final HttpServletRequest request) {\r\n            ErrorResponse error = new ErrorResponse();\r\n            error.setTimestamp(LocalDateTime.now());\r\n            error.setMessage(ex.getMessage());\r\n            error.setCode(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n            return new ResponseEntity(error, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n        \r\n        @ExceptionHandler(ConstraintViolationException.class)\r\n        public void constraintViolationException(HttpServletResponse response) throws IOException {\r\n            response.sendError(HttpStatus.BAD_REQUEST.value());\r\n        }\r\n    \r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n            List&lt;String&gt; errorList = ex\r\n                    .getBindingResult()\r\n                    .getFieldErrors()\r\n                    .stream()\r\n                    .map(fieldError -&gt; fieldError.getDefaultMessage())\r\n                    .collect(Collectors.toList());\r\n            ErrorResponse error = new ErrorResponse();\r\n            error.setCode(HttpStatus.BAD_REQUEST.value());\r\n            return new ResponseEntity(error, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n**Request**\r\n\r\n    public ResponseEntity&lt;?&gt; getData(HttpServletRequest httpServletRequest,\r\n    \t        @Valid @ApiParam(value = &quot;MANDATORY. The number&quot;) @PathVariable(value = &quot;number&quot;, required = true) final String partNumber,\r\n    \t        @Valid @ApiParam(value = &quot;OPTIONAL. The language&quot;) @RequestParam(value = &quot;language&quot;, required = false) final String languageKey) {\r\n    .............\r\n    }\r\n\r\n","title":"Spring Boot @ControllerAdvice / @Valid","body":"<p>I am working on sample demo application for Exception Handling in Spring Boot.I am trying Exception Handling With @ControllerAdvice.</p>\n\n<p>I would like to handle exception thrown by validator. It handles other exceptions but not MethodArgumentNotValidException.</p>\n\n<p>For more details following are the classes I am working on:</p>\n\n<p><strong>Query.java</strong></p>\n\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Validated\npublic class Query implements Serializable{\n    @Size(min = 7, max = 24, message = \"Size must be between 7 and 24\")\n    @Pattern(regexp = \"[a-zA-Z0-9 ]+\", Invalid characters\")\n    private String number;\n\n    @Size(max = 2, message = \"Size must be between 0 and 2\")\n    @Pattern(regexp = \"[a-zA-Z0-9 ]+\", message=\"Invalid characters\")\n    private String language;\n}\n</code></pre>\n\n<p><strong>ErrorResponse.java</strong></p>\n\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@Data\npublic class ErrorResponse \n{\n\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd hh:mm:ss\")\n    private LocalDateTime timestamp;\n\n    private HttpStatus status;\n\n    private int code;\n\n    private String error;\n\n    private String exception;\n\n    private String message;\n\n    private String path;\n\n    private List&lt;String&gt; errors;\n\n}\n</code></pre>\n\n<p><em>CustomExceptionHandler.java</em></p>\n\n<pre><code>@SuppressWarnings({\"unchecked\",\"rawtypes\"})\n@ControllerAdvice\n@Component(\"error\")\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @ExceptionHandler(NotFoundException.class)\n    public final ResponseEntity&lt;Object&gt; handleNotFoundError(NotFoundException ex, final HttpServletRequest request) {\n        ErrorResponse error = new ErrorResponse();\n        error.setTimestamp(LocalDateTime.now());\n        error.setMessage(ex.getMessage());\n        error.setCode(HttpStatus.NOT_FOUND.value());\n        return new ResponseEntity(error, HttpStatus.NOT_FOUND);\n    }\n\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(InternalServerException.class)\n    public final ResponseEntity&lt;Object&gt; handleInternelServorError(InternalServerException ex, final HttpServletRequest request) {\n        ErrorResponse error = new ErrorResponse();\n        error.setTimestamp(LocalDateTime.now());\n        error.setMessage(ex.getMessage());\n        error.setCode(HttpStatus.INTERNAL_SERVER_ERROR.value());\n        return new ResponseEntity(error, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n    @ExceptionHandler(ConstraintViolationException.class)\n    public void constraintViolationException(HttpServletResponse response) throws IOException {\n        response.sendError(HttpStatus.BAD_REQUEST.value());\n    }\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        List&lt;String&gt; errorList = ex\n                .getBindingResult()\n                .getFieldErrors()\n                .stream()\n                .map(fieldError -&gt; fieldError.getDefaultMessage())\n                .collect(Collectors.toList());\n        ErrorResponse error = new ErrorResponse();\n        error.setCode(HttpStatus.BAD_REQUEST.value());\n        return new ResponseEntity(error, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n\n<p><strong>Request</strong></p>\n\n<pre><code>public ResponseEntity&lt;?&gt; getData(HttpServletRequest httpServletRequest,\n            @Valid @ApiParam(value = \"MANDATORY. The number\") @PathVariable(value = \"number\", required = true) final String partNumber,\n            @Valid @ApiParam(value = \"OPTIONAL. The language\") @RequestParam(value = \"language\", required = false) final String languageKey) {\n.............\n}\n</code></pre>\n"},{"tags":["java","android","google-places-api"],"answers":[{"tags":[],"owner":{"account_id":16630150,"reputation":172,"user_id":12018179,"display_name":"Bhoomi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1567851826,"creation_date":1567851826,"answer_id":57832796,"question_id":57831627,"body_markdown":"You are not allowed to write more than one filter, it will not work if you write the two filters, If you want both establishment and address then dont write any filter, as both at the same time will not work. If you want to get suggestions for  nearby location only, then Location Bias is perfect for you, it will give you both address and establishment within suggestions\r\n\r\n    RectangularBounds bounds = RectangularBounds.newInstance\r\n    (new LatLng(45.282785, -66.235011),new LatLng(45.333059, -65.842197));\r\n    places_location.setCountry(&quot;ca&quot;);\r\n    places_location.setLocationBias(bounds);\r\n\r\n","title":"Unable to use two typeFilters in setTypeFilter() for Google Places 2019 update","body":"<p>You are not allowed to write more than one filter, it will not work if you write the two filters, If you want both establishment and address then dont write any filter, as both at the same time will not work. If you want to get suggestions for  nearby location only, then Location Bias is perfect for you, it will give you both address and establishment within suggestions</p>\n\n<pre><code>RectangularBounds bounds = RectangularBounds.newInstance\n(new LatLng(45.282785, -66.235011),new LatLng(45.333059, -65.842197));\nplaces_location.setCountry(\"ca\");\nplaces_location.setLocationBias(bounds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28042109,"reputation":1,"user_id":21419496,"display_name":"Plymetal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701553525,"creation_date":1701548806,"answer_id":77592067,"question_id":57831627,"body_markdown":"`setTypeFilter` has now been [deprecated][1] as of Places SDK 2.7.0, and replaced with `setTypesFilter(List&lt;String&gt; placeTypes)` which takes up to 5 placetypes, so there is a way to achieve this now.\r\n\r\n[Here is the documentation on it.][2]\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/places/android-sdk/release-notes#November_01_2022\r\n  [2]: https://developers.google.com/maps/documentation/places/android-sdk/reference/com/google/android/libraries/places/widget/AutocompleteSupportFragment#public-autocompletesupportfragment-settypesfilter-liststring-placetypes","title":"Unable to use two typeFilters in setTypeFilter() for Google Places 2019 update","body":"<p><code>setTypeFilter</code> has now been <a href=\"https://developers.google.com/maps/documentation/places/android-sdk/release-notes#November_01_2022\" rel=\"nofollow noreferrer\">deprecated</a> as of Places SDK 2.7.0, and replaced with <code>setTypesFilter(List&lt;String&gt; placeTypes)</code> which takes up to 5 placetypes, so there is a way to achieve this now.</p>\n<p><a href=\"https://developers.google.com/maps/documentation/places/android-sdk/reference/com/google/android/libraries/places/widget/AutocompleteSupportFragment#public-autocompletesupportfragment-settypesfilter-liststring-placetypes\" rel=\"nofollow noreferrer\">Here is the documentation on it.</a></p>\n"}],"owner":{"account_id":5936800,"reputation":2356,"user_id":4669512,"accept_rate":92,"display_name":"LizG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57832796,"answer_count":2,"score":0,"last_activity_date":1701553525,"creation_date":1567841273,"question_id":57831627,"body_markdown":"I have upgraded to the new Google Places using:\r\n\r\n    &#39;com.google.android.libraries.places:places:2.0.0&#39;\r\n\r\nI have implemented a AutoCompleteSupportFragment in my layout and in that fragment is where the user will type in their location or destination.  Then the info will be put into the BottomSheetRiderFragment.\r\n\r\nI want to be able to filter with Addresses and Establishments but I can&#39;t do both on separate lines for it to work.  \r\n\r\nFrom researching (not a whole lot on this topic) there was a mention of using \r\n\r\n    TYPE_FILTER_ADDRESS|TYPE_FILTER_ESTABLISHMENT\r\n\r\n\r\n**I tried putting:**\r\n   \r\n\r\n    places_location.setTypeFilter(TYPE_FILTER_ADDRESS|TYPE_FILTER_ESTABLISHMENT);\r\n\r\nbut this **error** occurred:\r\n\r\n    setType Filter(com.google.android.libraries.places.api.model.Type Filter) in AutocompleteSupportFragment cannot be applied to (int)\r\n\r\nHow can I fix this?\r\n\r\n**layout**\r\n\r\n    &lt;fragment\r\n                    android:id=&quot;@+id/places_location&quot;\r\n                    android:layout_weight=&quot;5&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:name=&quot;com.google.android.libraries.places.widget.AutocompleteSupportFragment&quot; /&gt;\r\n\r\n    &lt;fragment\r\n                    android:id=&quot;@+id/places_destination&quot;\r\n                    android:layout_weight=&quot;5&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:name=&quot;com.google.android.libraries.places.widget.AutocompleteSupportFragment&quot;/&gt;\r\n\r\n\r\n**Activity**\r\n\r\n    places_location.setOnPlaceSelectedListener(new PlaceSelectionListener() {\r\n            @Override\r\n            public void onPlaceSelected(@NonNull Place place) {\r\n                // Get info about the selected place.\r\n                Log.e(TAG, &quot;Place: &quot; + place.getName() + &quot;, &quot; + place.getId());\r\n\r\n                mPlaceLocation = place.getAddress();\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull Status status) {\r\n                // Handle the error.\r\n                Log.e(TAG, &quot;An error occurred: &quot; + status);\r\n            }\r\n        });\r\n\r\n\r\n    places_destination.setOnPlaceSelectedListener(new PlaceSelectionListener() {\r\n            @Override\r\n            public void onPlaceSelected(@NonNull Place place) {\r\n                // Get info about the selected place.\r\n                Log.e(TAG, &quot;Place: &quot; + place.getName() + &quot;, &quot; + place.getId());\r\n\r\n                mPlaceDestination = place.getAddress(); // search bar destination\r\n                Log.e(TAG, &quot;mPlaceDestination = &quot; + mPlaceDestination);\r\n\r\n                // search_bar_destination ....\r\n                search_bar_destination = mPlaceDestination;\r\n\r\n                // Show information at bottom\r\n                BottomSheetRiderFragment mBottomSheet = BottomSheetRiderFragment\r\n                        .newInstance(mPlaceLocation, mPlaceDestination, false);\r\n                RiderHome.super.onPostResume();\r\n                mBottomSheet.show(getSupportFragmentManager(), mBottomSheet.getTag());\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull Status status) {\r\n                // Handle the error.\r\n                Log.e(TAG, &quot;An error occurred: &quot; + status);\r\n            }\r\n        });\r\n\r\n\r\n**Also**\r\n\r\n    // Create a RectangularBounds object.\r\n    RectangularBounds bounds = RectangularBounds.newInstance(\r\n        new LatLng(45.282785, -66.235011),\r\n        new LatLng(45.333059, -65.842197));\r\n\r\n    places_location.setCountry(&quot;ca&quot;);\r\n    places_location.setLocationBias(bounds);\r\n    places_location.setTypeFilter(TypeFilter.REGIONS);\r\n    places_location.setTypeFilter(TypeFilter.CITIES);\r\n    places_location.setTypeFilter(TYPE_FILTER_ADDRESS|TYPE_FILTER_ESTABLISHMENT);\r\n                        ","title":"Unable to use two typeFilters in setTypeFilter() for Google Places 2019 update","body":"<p>I have upgraded to the new Google Places using:</p>\n\n<pre><code>'com.google.android.libraries.places:places:2.0.0'\n</code></pre>\n\n<p>I have implemented a AutoCompleteSupportFragment in my layout and in that fragment is where the user will type in their location or destination.  Then the info will be put into the BottomSheetRiderFragment.</p>\n\n<p>I want to be able to filter with Addresses and Establishments but I can't do both on separate lines for it to work.  </p>\n\n<p>From researching (not a whole lot on this topic) there was a mention of using </p>\n\n<pre><code>TYPE_FILTER_ADDRESS|TYPE_FILTER_ESTABLISHMENT\n</code></pre>\n\n<p><strong>I tried putting:</strong></p>\n\n<pre><code>places_location.setTypeFilter(TYPE_FILTER_ADDRESS|TYPE_FILTER_ESTABLISHMENT);\n</code></pre>\n\n<p>but this <strong>error</strong> occurred:</p>\n\n<pre><code>setType Filter(com.google.android.libraries.places.api.model.Type Filter) in AutocompleteSupportFragment cannot be applied to (int)\n</code></pre>\n\n<p>How can I fix this?</p>\n\n<p><strong>layout</strong></p>\n\n<pre><code>&lt;fragment\n                android:id=\"@+id/places_location\"\n                android:layout_weight=\"5\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:name=\"com.google.android.libraries.places.widget.AutocompleteSupportFragment\" /&gt;\n\n&lt;fragment\n                android:id=\"@+id/places_destination\"\n                android:layout_weight=\"5\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:name=\"com.google.android.libraries.places.widget.AutocompleteSupportFragment\"/&gt;\n</code></pre>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>places_location.setOnPlaceSelectedListener(new PlaceSelectionListener() {\n        @Override\n        public void onPlaceSelected(@NonNull Place place) {\n            // Get info about the selected place.\n            Log.e(TAG, \"Place: \" + place.getName() + \", \" + place.getId());\n\n            mPlaceLocation = place.getAddress();\n        }\n\n        @Override\n        public void onError(@NonNull Status status) {\n            // Handle the error.\n            Log.e(TAG, \"An error occurred: \" + status);\n        }\n    });\n\n\nplaces_destination.setOnPlaceSelectedListener(new PlaceSelectionListener() {\n        @Override\n        public void onPlaceSelected(@NonNull Place place) {\n            // Get info about the selected place.\n            Log.e(TAG, \"Place: \" + place.getName() + \", \" + place.getId());\n\n            mPlaceDestination = place.getAddress(); // search bar destination\n            Log.e(TAG, \"mPlaceDestination = \" + mPlaceDestination);\n\n            // search_bar_destination ....\n            search_bar_destination = mPlaceDestination;\n\n            // Show information at bottom\n            BottomSheetRiderFragment mBottomSheet = BottomSheetRiderFragment\n                    .newInstance(mPlaceLocation, mPlaceDestination, false);\n            RiderHome.super.onPostResume();\n            mBottomSheet.show(getSupportFragmentManager(), mBottomSheet.getTag());\n        }\n\n        @Override\n        public void onError(@NonNull Status status) {\n            // Handle the error.\n            Log.e(TAG, \"An error occurred: \" + status);\n        }\n    });\n</code></pre>\n\n<p><strong>Also</strong></p>\n\n<pre><code>// Create a RectangularBounds object.\nRectangularBounds bounds = RectangularBounds.newInstance(\n    new LatLng(45.282785, -66.235011),\n    new LatLng(45.333059, -65.842197));\n\nplaces_location.setCountry(\"ca\");\nplaces_location.setLocationBias(bounds);\nplaces_location.setTypeFilter(TypeFilter.REGIONS);\nplaces_location.setTypeFilter(TypeFilter.CITIES);\nplaces_location.setTypeFilter(TYPE_FILTER_ADDRESS|TYPE_FILTER_ESTABLISHMENT);\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1541072333,"post_id":53100388,"comment_id":93096527,"body_markdown":"What is the driver file you are using(jar name) and if you are using any kind of IDE is the jar file it in build path?","body":"What is the driver file you are using(jar name) and if you are using any kind of IDE is the jar file it in build path?"},{"owner":{"account_id":4735774,"reputation":1004,"user_id":7762785,"display_name":"Cristiano Bombazar"},"score":0,"creation_date":1541072769,"post_id":53100388,"comment_id":93096738,"body_markdown":"it seems that you don&#39;t have set your JDBC driver in the classpath.","body":"it seems that you don&#39;t have set your JDBC driver in the classpath."},{"owner":{"account_id":14664468,"reputation":175,"user_id":10590692,"display_name":"JoSeBu"},"score":0,"creation_date":1541072850,"post_id":53100388,"comment_id":93096769,"body_markdown":"I&#39;m using this driver: mysql-connector-java-5.1.35 and yes, it&#39;s in the build path","body":"I&#39;m using this driver: mysql-connector-java-5.1.35 and yes, it&#39;s in the build path"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1541073136,"post_id":53100388,"comment_id":93096949,"body_markdown":"You really should be using a data source in a web application, not `DriverManager`. In any case: make sure the driver is deployed in your application server or in `WEB-INF/lib` (and in that case, you&#39;ll need to explicitly load the driver).","body":"You really should be using a data source in a web application, not <code>DriverManager</code>. In any case: make sure the driver is deployed in your application server or in <code>WEB-INF&#47;lib</code> (and in that case, you&#39;ll need to explicitly load the driver)."},{"owner":{"account_id":14664468,"reputation":175,"user_id":10590692,"display_name":"JoSeBu"},"score":0,"creation_date":1541073664,"post_id":53100388,"comment_id":93097185,"body_markdown":"The driver is in lib and with the build path","body":"The driver is in lib and with the build path"}],"answers":[{"comments":[{"owner":{"account_id":14664468,"reputation":175,"user_id":10590692,"display_name":"JoSeBu"},"score":0,"creation_date":1541074724,"post_id":53101042,"comment_id":93097701,"body_markdown":"Thank you, you saved me :), you are my little hero.","body":"Thank you, you saved me :), you are my little hero."},{"owner":{"account_id":12558364,"reputation":72,"user_id":9137139,"display_name":"Moh Lamine"},"score":0,"creation_date":1541078119,"post_id":53101042,"comment_id":93099567,"body_markdown":"you&#39;re welcome, can you please click the up arrow of the useful answer! thanks","body":"you&#39;re welcome, can you please click the up arrow of the useful answer! thanks"}],"tags":[],"owner":{"account_id":12558364,"reputation":72,"user_id":9137139,"display_name":"Moh Lamine"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1541074359,"creation_date":1541074359,"answer_id":53101042,"question_id":53100388,"body_markdown":"First of all you have to add the database driver to the project library. after that you should mention the driver class name here&#39;s an example with firebird driver :\r\n              \r\n             Class.forName(&quot;org.firebirdsql.jdbc.FBDriver&quot;);\r\nCheck your mysql jdbc driver to find the class name\r\n\r\nnext you can establish a connection to you&#39;re database exactly like you&#39;ve done with a connection URL and call the driver manager, here&#39;s an example :\r\n\r\n             String connectionURL = &quot;jdbc:firebirdsql://127.0.0.1:3030/c:\\\\db.fdb&quot;;\r\n             Connection conn = DriverManager.getConnection(connectionURL, userName,password);\r\n\r\ngood luck !\r\n","title":"JDBC Driver Problem in a Dynamic Web Project","body":"<p>First of all you have to add the database driver to the project library. after that you should mention the driver class name here's an example with firebird driver :</p>\n\n<pre><code>         Class.forName(\"org.firebirdsql.jdbc.FBDriver\");\n</code></pre>\n\n<p>Check your mysql jdbc driver to find the class name</p>\n\n<p>next you can establish a connection to you're database exactly like you've done with a connection URL and call the driver manager, here's an example :</p>\n\n<pre><code>         String connectionURL = \"jdbc:firebirdsql://127.0.0.1:3030/c:\\\\db.fdb\";\n         Connection conn = DriverManager.getConnection(connectionURL, userName,password);\n</code></pre>\n\n<p>good luck !</p>\n"},{"tags":[],"owner":{"account_id":29494205,"reputation":1,"user_id":22602630,"display_name":"Hassam Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701552279,"creation_date":1701552279,"answer_id":77592240,"question_id":53100388,"body_markdown":"For dynamic Wen Project place the driver **JAR file** in the application server&#39;s **classpath** and the **WEB-INF/lib** directory of your web application.","title":"JDBC Driver Problem in a Dynamic Web Project","body":"<p>For dynamic Wen Project place the driver <strong>JAR file</strong> in the application server's <strong>classpath</strong> and the <strong>WEB-INF/lib</strong> directory of your web application.</p>\n"}],"owner":{"account_id":14664468,"reputation":175,"user_id":10590692,"display_name":"JoSeBu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53101042,"answer_count":2,"score":0,"last_activity_date":1701552279,"creation_date":1541071720,"question_id":53100388,"body_markdown":"I have a problem with a Dynamic Web Project, I&#39;ve been with this error for a couple of weeks and I can not solve it, it&#39;s about jdbc driver.\r\n\r\n    public class DatosDAO {\r\n    \t\r\n    \tprivate String url = &quot;jdbc:mysql://localhost:3306/BCopia&quot;;\r\n    \tprivate String usuario = &quot;root&quot;;\r\n    \tprivate String password = &quot;&quot;;\r\n    \t\r\n    \tpublic DatosDAO() {}\r\n    \t\r\n    \r\n    \tpublic boolean alta(Datos d) {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tConnection con = DriverManager.getConnection(url,usuario,password);\r\n    \t\t\tPreparedStatement ps = con.prepareStatement(&quot;INSERT INTO datos VALUES (null, ?, ?, ?, ?)&quot;);\r\n    \t\t\tps.setString(1, d.getNombre());\r\n    \t\t\tps.setString(2, d.getDirectorioOrigen());\r\n    \t\t\tps.setString(3, d.getDirectorioDestino());\r\n    \t\t\tps.setInt(4, d.getIntervaloDias());\r\n    \t\t\tps.executeUpdate();\r\n    \t\t\t\t\t\t\t\r\n    \t\t\tcon.close();\r\n    \t\t} catch (Exception ex) {ex.printStackTrace();return false;}\r\n    \t\treturn true;\r\n    \t}}\r\n\r\nWhen attempt to run this method or any other method. I get the following error.\r\n\r\n&gt; java.sql.SQLException: No suitable driver found for\r\n&gt; jdbc:mysql://localhost:3306/BCopia at\r\n&gt; java.sql.DriverManager.getConnection(Unknown Source) at\r\n&gt; java.sql.DriverManager.getConnection(Unknown Source) at\r\n&gt; modelo.DatosDAO.baja(DatosDAO.java:44) at\r\n&gt; control.Securalia.baja(Securalia.java:43) etc\r\n\r\nI have the driver in lib and have the driver called in the build path and everything else, it is a dynamic web project. Can someone tell me what happens? The DB exists, etc.\r\n","title":"JDBC Driver Problem in a Dynamic Web Project","body":"<p>I have a problem with a Dynamic Web Project, I've been with this error for a couple of weeks and I can not solve it, it's about jdbc driver.</p>\n\n<pre><code>public class DatosDAO {\n\n    private String url = \"jdbc:mysql://localhost:3306/BCopia\";\n    private String usuario = \"root\";\n    private String password = \"\";\n\n    public DatosDAO() {}\n\n\n    public boolean alta(Datos d) {\n\n        try {\n            Connection con = DriverManager.getConnection(url,usuario,password);\n            PreparedStatement ps = con.prepareStatement(\"INSERT INTO datos VALUES (null, ?, ?, ?, ?)\");\n            ps.setString(1, d.getNombre());\n            ps.setString(2, d.getDirectorioOrigen());\n            ps.setString(3, d.getDirectorioDestino());\n            ps.setInt(4, d.getIntervaloDias());\n            ps.executeUpdate();\n\n            con.close();\n        } catch (Exception ex) {ex.printStackTrace();return false;}\n        return true;\n    }}\n</code></pre>\n\n<p>When attempt to run this method or any other method. I get the following error.</p>\n\n<blockquote>\n  <p>java.sql.SQLException: No suitable driver found for\n  jdbc:mysql://localhost:3306/BCopia at\n  java.sql.DriverManager.getConnection(Unknown Source) at\n  java.sql.DriverManager.getConnection(Unknown Source) at\n  modelo.DatosDAO.baja(DatosDAO.java:44) at\n  control.Securalia.baja(Securalia.java:43) etc</p>\n</blockquote>\n\n<p>I have the driver in lib and have the driver called in the build path and everything else, it is a dynamic web project. Can someone tell me what happens? The DB exists, etc.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1701538838,"post_id":77591433,"comment_id":136789373,"body_markdown":"What to you mean by libraries?","body":"What to you mean by libraries?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701539948,"post_id":77591433,"comment_id":136789494,"body_markdown":"The assignment appears to allow the final result to be a &quot;ragged array&quot; -- an array in which the rows have different number of columns. Is that correct?","body":"The assignment appears to allow the final result to be a &quot;ragged array&quot; -- an array in which the rows have different number of columns. Is that correct?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1701540357,"post_id":77591433,"comment_id":136789538,"body_markdown":"Have a look at `tab[row][column]` and think about what this really means","body":"Have a look at <code>tab[row][column]</code> and think about what this really means"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1701540545,"post_id":77591433,"comment_id":136789550,"body_markdown":"Please show an example of a before and after array.","body":"Please show an example of a before and after array."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701541145,"post_id":77591433,"comment_id":136789609,"body_markdown":"A [good question](https://stackoverflow.com/help/how-to-ask) of this type should show example input and expected output.  Since the &quot;example input&quot; is random in this case, I suggest modifying the code to print the array contents just after it is filled with random values and before the attempt to remove duplicates.  (This should be  done anyway, since it will be needed to verify the result of removing duplicates.) As a previous comment said, show the before,  actual after, and desired after arrays in the question.","body":"A <a href=\"https://stackoverflow.com/help/how-to-ask\">good question</a> of this type should show example input and expected output.  Since the &quot;example input&quot; is random in this case, I suggest modifying the code to print the array contents just after it is filled with random values and before the attempt to remove duplicates.  (This should be  done anyway, since it will be needed to verify the result of removing duplicates.) As a previous comment said, show the before,  actual after, and desired after arrays in the question."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1701541232,"post_id":77591433,"comment_id":136789617,"body_markdown":"@OldDogProgrammer In removing the values and printing a jagged array, it doesn&#39;t really show where the duplicates were encountered.  Maybe that&#39;s not important.","body":"@OldDogProgrammer In removing the values and printing a jagged array, it doesn&#39;t really show where the duplicates were encountered.  Maybe that&#39;s not important."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701542541,"post_id":77591433,"comment_id":136789735,"body_markdown":"Also, a good question of this type should include a copy of the error message, and the following stack trace. Use text copy-and-paste to ensure accuracy.","body":"Also, a good question of this type should include a copy of the error message, and the following stack trace. Use text copy-and-paste to ensure accuracy."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701542853,"post_id":77591433,"comment_id":136789775,"body_markdown":"It would be a good idea to try to debug this yourself. After all, if you want to become a software developer, or otherwise regularly create software, debugging will be a necessary skill. Running your code in a debugger allows the code to be executed one-line-at-a-time while monitoring variables.  You can also add `System.out.println (...` lines to your code to show values and follow the code.  \n https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors  https://ericlippert.com/2014/03/05/how-to-debug-small-programs/","body":"It would be a good idea to try to debug this yourself. After all, if you want to become a software developer, or otherwise regularly create software, debugging will be a necessary skill. Running your code in a debugger allows the code to be executed one-line-at-a-time while monitoring variables.  You can also add <code>System.out.println (...</code> lines to your code to show values and follow the code.    <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>  <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701565225,"post_id":77591433,"comment_id":136791792,"body_markdown":"The problem specification is incomplete.  Does the scope of duplicate removal extend to the entire array, or just each row?  Is the result supposed to be ragged?  The statement _&quot;Create and display a new board &quot;_ could mean an array of the same dimensions as the input but with blank spaces.  If a number is duplicated, do you remove BOTH instances or keep one, and then, which one?  So many details left unspecified.  Maybe this was a test to see if you could ask the right questions? Also BTW `int size = (int)(Math.random()*10);` could return a size of zero.","body":"The problem specification is incomplete.  Does the scope of duplicate removal extend to the entire array, or just each row?  Is the result supposed to be ragged?  The statement <i>&quot;Create and display a new board &quot;</i> could mean an array of the same dimensions as the input but with blank spaces.  If a number is duplicated, do you remove BOTH instances or keep one, and then, which one?  So many details left unspecified.  Maybe this was a test to see if you could ask the right questions? Also BTW <code>int size = (int)(Math.random()*10);</code> could return a size of zero."}],"answers":[{"comments":[{"owner":{"account_id":19866266,"reputation":11,"user_id":23028285,"display_name":"Ostap Khomiak"},"score":0,"creation_date":1701539376,"post_id":77591462,"comment_id":136789432,"body_markdown":"doesn&#39;t work, have you tried to execute that program?","body":"doesn&#39;t work, have you tried to execute that program?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701539696,"post_id":77591462,"comment_id":136789477,"body_markdown":"A good answer should not be a code dump. A good answer should explain what is wrong with the O/P code, and how the code in the answer addresses the problem.  Since the O/P is a student,  https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions","body":"A good answer should not be a code dump. A good answer should explain what is wrong with the O/P code, and how the code in the answer addresses the problem.  Since the O/P is a student,  <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701545624,"post_id":77591462,"comment_id":136790105,"body_markdown":"@ОстапХом&#39;як in what way did it fail? The code might work as the author intended, but the author misunderstood what you wanted.","body":"@ОстапХом&#39;як in what way did it fail? The code might work as the author intended, but the author misunderstood what you wanted."},{"owner":{"account_id":19866266,"reputation":11,"user_id":23028285,"display_name":"Ostap Khomiak"},"score":0,"creation_date":1701547195,"post_id":77591462,"comment_id":136790270,"body_markdown":"@OldDogProgrammer The output is very strange: it add random 1337 to the end of every 1d array. As i understand that problem input is for example:\n{ {1,2,1},{1,5,3},{8,5,7}} and output should be {{1,2},{5,3},{8,7}} , but in his answer it&#39;s like:\n{{1,2,1337},{1,5,1337},{8,5,1337}}","body":"@OldDogProgrammer The output is very strange: it add random 1337 to the end of every 1d array. As i understand that problem input is for example: { {1,2,1},{1,5,3},{8,5,7}} and output should be {{1,2},{5,3},{8,7}} , but in his answer it&#39;s like: {{1,2,1337},{1,5,1337},{8,5,1337}}"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701547863,"post_id":77591462,"comment_id":136790319,"body_markdown":"@ОстапХом&#39;як Looks like a result of a misunderstanding to me. The person providing this answer read your question and thought the `1337` should remain in the array to preserve the original row lengths. This is an example why including examples in the question is a good idea.","body":"@ОстапХом&#39;як Looks like a result of a misunderstanding to me. The person providing this answer read your question and thought the <code>1337</code> should remain in the array to preserve the original row lengths. This is an example why including examples in the question is a good idea."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701704690,"post_id":77591462,"comment_id":136805700,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77591462/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27934935,"reputation":1,"user_id":21332148,"display_name":"Suriyaprakash G"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701538211,"creation_date":1701538211,"answer_id":77591462,"question_id":77591433,"body_markdown":"public class RemoveDuplicates2DArray {\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Zadanie 2&quot;);\r\n        int size = (int)(Math.random() * 10);\r\n        int[][] arr = new int[size][size];\r\n\r\n        // Fill array with random values in the range [0,10)\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0; j &lt; arr[i].length; j++) {\r\n                arr[i][j] = (int)(Math.random() * 10);\r\n            }\r\n        }\r\n\r\n        removeDuplicates2D(arr);\r\n\r\n        // Display modified array after removing duplicates\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.println(Arrays.toString(arr[i]));\r\n        }\r\n    }\r\n\r\n    public static void removeDuplicates2D(int[][] tab) {\r\n        for (int i = 0; i &lt; tab.length; i++) {\r\n            int[] row = tab[i];\r\n            for (int j = 0; j &lt; row.length; j++) {\r\n                for (int k = j + 1; k &lt; row.length; k++) {\r\n                    if (row[j] == row[k]) {\r\n                        row[k] = -1; // Replace duplicates with -1 (outside [0,10) range)\r\n                    }\r\n                }\r\n            }\r\n            \r\n            // Shift elements to remove duplicates marked as -1\r\n            int index = 0;\r\n            for (int j = 0; j &lt; row.length; j++) {\r\n                if (row[j] != -1) {\r\n                    row[index++] = row[j];\r\n                }\r\n            }\r\n            \r\n            // Fill the rest with 1337 (outside [0,10) range)\r\n            while (index &lt; row.length) {\r\n                row[index++] = 1337;\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"Java remove duplicates from 2d array","body":"<p>public class RemoveDuplicates2DArray {</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Zadanie 2&quot;);\n    int size = (int)(Math.random() * 10);\n    int[][] arr = new int[size][size];\n\n    // Fill array with random values in the range [0,10)\n    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = 0; j &lt; arr[i].length; j++) {\n            arr[i][j] = (int)(Math.random() * 10);\n        }\n    }\n\n    removeDuplicates2D(arr);\n\n    // Display modified array after removing duplicates\n    for (int i = 0; i &lt; arr.length; i++) {\n        System.out.println(Arrays.toString(arr[i]));\n    }\n}\n\npublic static void removeDuplicates2D(int[][] tab) {\n    for (int i = 0; i &lt; tab.length; i++) {\n        int[] row = tab[i];\n        for (int j = 0; j &lt; row.length; j++) {\n            for (int k = j + 1; k &lt; row.length; k++) {\n                if (row[j] == row[k]) {\n                    row[k] = -1; // Replace duplicates with -1 (outside [0,10) range)\n                }\n            }\n        }\n        \n        // Shift elements to remove duplicates marked as -1\n        int index = 0;\n        for (int j = 0; j &lt; row.length; j++) {\n            if (row[j] != -1) {\n                row[index++] = row[j];\n            }\n        }\n        \n        // Fill the rest with 1337 (outside [0,10) range)\n        while (index &lt; row.length) {\n            row[index++] = 1337;\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701546054,"post_id":77591602,"comment_id":136790152,"body_markdown":"Your example implies you overlooked a clause in the O/P question: *&quot;leaving only one occurrence of each value*&quot;","body":"Your example implies you overlooked a clause in the O/P question: <i>&quot;leaving only one occurrence of each value</i>&quot;"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1701547609,"post_id":77591602,"comment_id":136790304,"body_markdown":"@OldDogProgrammer  I took that to mean removing duplicates from each row.  For example, if I find `8` somewhere in the matrix. I remove that value from each row, thereby leaving only one value in the matrix.  Without the OP providing the example I requested, I made an assumption.  But I see your point.  The fix is trivial, I must move my `dups` array inside the outerloop.","body":"@OldDogProgrammer  I took that to mean removing duplicates from each row.  For example, if I find <code>8</code> somewhere in the matrix. I remove that value from each row, thereby leaving only one value in the matrix.  Without the OP providing the example I requested, I made an assumption.  But I see your point.  The fix is trivial, I must move my <code>dups</code> array inside the outerloop."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701548364,"post_id":77591602,"comment_id":136790362,"body_markdown":"Ah. My interpretation was that each row should be independent of other rows. In addition, I misread your example. This is a 2nd example showing that including examples in the question is a good idea.","body":"Ah. My interpretation was that each row should be independent of other rows. In addition, I misread your example. This is a 2nd example showing that including examples in the question is a good idea."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1701548504,"post_id":77591602,"comment_id":136790383,"body_markdown":"Exactly!  To paraphrase an old adage, &quot;An example is worth a thousand words.&quot;","body":"Exactly!  To paraphrase an old adage, &quot;An example is worth a thousand words.&quot;"},{"owner":{"account_id":19866266,"reputation":11,"user_id":23028285,"display_name":"Ostap Khomiak"},"score":0,"creation_date":1701550518,"post_id":77591602,"comment_id":136790592,"body_markdown":"@OldDogProgrammer I&#39;m very sorry that i ignored your questions (my 1st time creating  a quastion on StackOverflow), but your team understood the assignment. Thank you both very much! Releted to my problem it was my 3 try to do this. I didn&#39;t understand that i could use for loop to divide 2D array into 1D. Debugging will be learnt. Could you give some more advices what should I do or learn to become better at programming?","body":"@OldDogProgrammer I&#39;m very sorry that i ignored your questions (my 1st time creating  a quastion on StackOverflow), but your team understood the assignment. Thank you both very much! Releted to my problem it was my 3 try to do this. I didn&#39;t understand that i could use for loop to divide 2D array into 1D. Debugging will be learnt. Could you give some more advices what should I do or learn to become better at programming?"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701543429,"creation_date":1701540276,"answer_id":77591602,"question_id":77591433,"body_markdown":"For the following 6x8 table\r\n```\r\n[4, 3, 2, 5, 2, 4, 3, 0]\r\n[3, 7, 4, 8, 3, 7, 8, 7]\r\n[9, 4, 5, 0, 6, 7, 3, 0]\r\n[0, 2, 3, 1, 5, 3, 7, 7]\r\n[7, 8, 3, 9, 4, 9, 7, 4]\r\n[8, 2, 8, 4, 0, 0, 1, 1]\r\n```\r\nThe following would be the result of duplicates removed.\r\n```\r\n[4, 3, 2, 5, 0]\r\n[7, 8]\r\n[9, 6]\r\n[1]\r\n[]\r\n[]\r\n```\r\n**Details**\r\n\r\n- first, establish a single array to hold dups.  The location of the value `[0-9)` indicates if the value has been seen or not.  The value is its own index.\r\n- then just iterate thru the array via rows and columns.\r\n   - when you first encounter a value, if it&#39;s dup position is not 0, it must have been seen, so set the current tab value to 1337.\r\n   - if not 0, then set the dup position to 1 and increment the `itemCount`. This count will be used to create the new row for first seen values.\r\n\r\nOnce the dups for a given row have been found\r\n- create a replacement row using `itemCount`\r\n- then iterate over row adding values that are not `1337`\r\n- then assign that row to the current row position for the table.\r\n```\r\npublic static void removeDuplicates2D(int[][] tab) {\r\n\r\n    int[] dups = new int[10];\r\n\r\n    for (int row = 0; row &lt; tab.length; row++) {\r\n        int itemCount = 0;\r\n        int[] currentRow = tab[row];\r\n        for (int col = 0; col &lt; currentRow.length; col++) {\r\n            int value = currentRow[col];\r\n            if (dups[value] != 0) { // has been seen?\r\n                currentRow[col] = 1337;\r\n            } else {\r\n                itemCount++;\r\n                dups[value] = 1; // indicate value has been seen.\r\n            }\r\n        }\r\n\r\n        int[] newRow = new int[itemCount];\r\n        for (int k = 0, i = 0; i &lt; currentRow.length; i++) {\r\n            if (currentRow[i] != 1337) {\r\n                newRow[k++] = currentRow[i];\r\n            }\r\n        }\r\n\r\n        tab[row] = newRow;\r\n    }\r\n}","title":"Java remove duplicates from 2d array","body":"<p>For the following 6x8 table</p>\n<pre><code>[4, 3, 2, 5, 2, 4, 3, 0]\n[3, 7, 4, 8, 3, 7, 8, 7]\n[9, 4, 5, 0, 6, 7, 3, 0]\n[0, 2, 3, 1, 5, 3, 7, 7]\n[7, 8, 3, 9, 4, 9, 7, 4]\n[8, 2, 8, 4, 0, 0, 1, 1]\n</code></pre>\n<p>The following would be the result of duplicates removed.</p>\n<pre><code>[4, 3, 2, 5, 0]\n[7, 8]\n[9, 6]\n[1]\n[]\n[]\n</code></pre>\n<p><strong>Details</strong></p>\n<ul>\n<li>first, establish a single array to hold dups.  The location of the value <code>[0-9)</code> indicates if the value has been seen or not.  The value is its own index.</li>\n<li>then just iterate thru the array via rows and columns.\n<ul>\n<li>when you first encounter a value, if it's dup position is not 0, it must have been seen, so set the current tab value to 1337.</li>\n<li>if not 0, then set the dup position to 1 and increment the <code>itemCount</code>. This count will be used to create the new row for first seen values.</li>\n</ul>\n</li>\n</ul>\n<p>Once the dups for a given row have been found</p>\n<ul>\n<li>create a replacement row using <code>itemCount</code></li>\n<li>then iterate over row adding values that are not <code>1337</code></li>\n<li>then assign that row to the current row position for the table.</li>\n</ul>\n<pre><code>public static void removeDuplicates2D(int[][] tab) {\n\n    int[] dups = new int[10];\n\n    for (int row = 0; row &lt; tab.length; row++) {\n        int itemCount = 0;\n        int[] currentRow = tab[row];\n        for (int col = 0; col &lt; currentRow.length; col++) {\n            int value = currentRow[col];\n            if (dups[value] != 0) { // has been seen?\n                currentRow[col] = 1337;\n            } else {\n                itemCount++;\n                dups[value] = 1; // indicate value has been seen.\n            }\n        }\n\n        int[] newRow = new int[itemCount];\n        for (int k = 0, i = 0; i &lt; currentRow.length; i++) {\n            if (currentRow[i] != 1337) {\n                newRow[k++] = currentRow[i];\n            }\n        }\n\n        tab[row] = newRow;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19866266,"reputation":11,"user_id":23028285,"display_name":"Ostap Khomiak"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77591602,"answer_count":2,"score":-1,"last_activity_date":1701551800,"creation_date":1701537879,"question_id":77591433,"body_markdown":"I need to do this problem:\r\n\r\n&quot; Prepare a rectangular array (with random natural positive dimensions) of int i variables\r\nfill it with random values from the interval [0,10). Create and display a new board created from\r\ninput array by removing duplicates from each row (leaving only one\r\n occurrence of each value). &quot;\r\n\r\nI am not allowed to use any libraries\r\n\r\nI tried to change dublicates to a number out of the interva [0,10)  &quot;1337&quot; for example,\r\nand then delete all &quot;1337&quot; thought it would be easier, but I have out of bounds exeption\r\n\r\nMain function:\r\n```\r\nSystem.out.println(&quot;Zadanie 2&quot;);\r\nint size = (int)(Math.random()*10);\r\nint[][] arr = new int[size][size];\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    for (int j = 0; j &lt; arr[i].length; j++) {\r\n        arr[i][j] = (int)(Math.random()*10);\r\n    }\r\n}\r\nremoveDuplicates2D(arr);\r\nSystem.out.println(Arrays.deepToString(arr));\r\n```\r\n\r\n\r\nMy removeDuplicates2D function:\r\n\r\n```\r\npublic static void removeDuplicates2D(int[][] tab) {\r\n    int column = 0, row = 0;\r\n    while (column != tab.length-1 || row != tab.length-1){\r\n        if (column == 0 &amp;&amp; row == 0){\r\n            column++;\r\n            continue;\r\n        }\r\n        for (int i = 0; i &lt; row; i++) {\r\n            for (int j = 0; j &lt; column; j++) {\r\n                if(tab[i][j] == tab[row][column]){\r\n                    tab[row][column] = 1337;  // will change all duplicates to 1337\r\n                }\r\n            }\r\n        }\r\n        if(++column == tab.length-1){\r\n            row++;\r\n            column = 0;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Java remove duplicates from 2d array","body":"<p>I need to do this problem:</p>\n<p>&quot; Prepare a rectangular array (with random natural positive dimensions) of int i variables\nfill it with random values from the interval [0,10). Create and display a new board created from\ninput array by removing duplicates from each row (leaving only one\noccurrence of each value). &quot;</p>\n<p>I am not allowed to use any libraries</p>\n<p>I tried to change dublicates to a number out of the interva [0,10)  &quot;1337&quot; for example,\nand then delete all &quot;1337&quot; thought it would be easier, but I have out of bounds exeption</p>\n<p>Main function:</p>\n<pre><code>System.out.println(&quot;Zadanie 2&quot;);\nint size = (int)(Math.random()*10);\nint[][] arr = new int[size][size];\nfor (int i = 0; i &lt; arr.length; i++) {\n    for (int j = 0; j &lt; arr[i].length; j++) {\n        arr[i][j] = (int)(Math.random()*10);\n    }\n}\nremoveDuplicates2D(arr);\nSystem.out.println(Arrays.deepToString(arr));\n</code></pre>\n<p>My removeDuplicates2D function:</p>\n<pre><code>public static void removeDuplicates2D(int[][] tab) {\n    int column = 0, row = 0;\n    while (column != tab.length-1 || row != tab.length-1){\n        if (column == 0 &amp;&amp; row == 0){\n            column++;\n            continue;\n        }\n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; column; j++) {\n                if(tab[i][j] == tab[row][column]){\n                    tab[row][column] = 1337;  // will change all duplicates to 1337\n                }\n            }\n        }\n        if(++column == tab.length-1){\n            row++;\n            column = 0;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","image","image-processing","awt","shapes"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1313260664,"post_id":7052422,"comment_id":8431989,"body_markdown":"Can you upload an example image and tell us where it can be seen?  Preferably not too big in bytes or pixel size.  Like the example shown in [Cut out image in shape of text](http://stackoverflow.com/questions/6295084/cut-out-image-in-shape-of-text/).","body":"Can you upload an example image and tell us where it can be seen?  Preferably not too big in bytes or pixel size.  Like the example shown in <a href=\"http://stackoverflow.com/questions/6295084/cut-out-image-in-shape-of-text/\">Cut out image in shape of text</a>."},{"owner":{"account_id":104283,"reputation":10021,"user_id":278899,"accept_rate":83,"display_name":"Jonah"},"score":2,"creation_date":1313260824,"post_id":7052422,"comment_id":8432010,"body_markdown":"Do you mean converting from a raster bitmap to a vector graphic?","body":"Do you mean converting from a raster bitmap to a vector graphic?"},{"owner":{"account_id":85818,"reputation":4884,"user_id":239036,"accept_rate":99,"display_name":"Alex"},"score":2,"creation_date":1313261140,"post_id":7052422,"comment_id":8432057,"body_markdown":"If you search Google for &#39;raster vector conversion algorithms&#39; it will give you some indication of how to do it. It&#39;s not easy.","body":"If you search Google for &#39;raster vector conversion algorithms&#39; it will give you some indication of how to do it. It&#39;s not easy."},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":0,"creation_date":1313261675,"post_id":7052422,"comment_id":8432123,"body_markdown":"You could create your own shape with java.awt.geom.Path2D by specifying a geometric path, but your motorcycle will probably end up looking like a cat or a kettle.","body":"You could create your own shape with java.awt.geom.Path2D by specifying a geometric path, but your motorcycle will probably end up looking like a cat or a kettle."},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":0,"creation_date":1313271910,"post_id":7052422,"comment_id":8433571,"body_markdown":"Actually I found a [Shape editor](http://www.ccs.neu.edu/jpt/jpt_2_4/shape_editor/).  I think it&#39;s equivalent to what I described above, but at least you can see what you are doing.  You could probably also hack the program such that the background is some image which you could trace over.","body":"Actually I found a <a href=\"http://www.ccs.neu.edu/jpt/jpt_2_4/shape_editor/\" rel=\"nofollow noreferrer\">Shape editor</a>.  I think it&#39;s equivalent to what I described above, but at least you can see what you are doing.  You could probably also hack the program such that the background is some image which you could trace over."},{"owner":{"account_id":17429073,"reputation":113,"user_id":12633414,"display_name":"Goofyseeker311"},"score":0,"creation_date":1701613619,"post_id":7052422,"comment_id":136795040,"body_markdown":"use BufferedImage drawing (inside a rectangle area shape as combination) to get the same effect.","body":"use BufferedImage drawing (inside a rectangle area shape as combination) to get the same effect."},{"owner":{"account_id":17429073,"reputation":113,"user_id":12633414,"display_name":"Goofyseeker311"},"score":0,"creation_date":1701621916,"post_id":7052422,"comment_id":136795965,"body_markdown":"anyways, why would anyone be allowed to modify other people&#39;s free speech?","body":"anyways, why would anyone be allowed to modify other people&#39;s free speech?"}],"answers":[{"comments":[{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1317939111,"post_id":7059497,"comment_id":9336841,"body_markdown":"+1: Cool solution.  You mentioned it requires patience when running.  Do you know the main cause for the slow runtime?  If it&#39;s due to the number of Areas created could it be optimised by created fewer rectangles by taking a &quot;scan line&quot; approach (whereby each rectangle is a horizontal line of included pixels)?","body":"+1: Cool solution.  You mentioned it requires patience when running.  Do you know the main cause for the slow runtime?  If it&#39;s due to the number of Areas created could it be optimised by created fewer rectangles by taking a &quot;scan line&quot; approach (whereby each rectangle is a horizontal line of included pixels)?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1318200516,"post_id":7059497,"comment_id":9373000,"body_markdown":"@Adamski There is a much improved (faster) version available on [Smoothing a jagged path](http://stackoverflow.com/questions/7218309/smoothing-a-jagged-path).  Try it out &amp; see how you go.","body":"@Adamski There is a much improved (faster) version available on <a href=\"http://stackoverflow.com/questions/7218309/smoothing-a-jagged-path\">Smoothing a jagged path</a>.  Try it out &amp; see how you go."}],"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1346814977,"creation_date":1313353468,"answer_id":7059497,"question_id":7052422,"body_markdown":"### motorcycle.jpg\n\n![Original Image][1]\n\n### motorcycle-03.png\n\n![Processed Image][2]\n\n### ImageOutline.java\n\n\nThis code requires some patience (when running).\n\n\n  [1]: http://i.stack.imgur.com/Bdfg9.jpg\n  [2]: http://i.stack.imgur.com/BoTMk.png\n\n    import java.awt.*;\n    import java.awt.image.BufferedImage;\n    import java.awt.geom.Area;\n    import javax.imageio.ImageIO;\n    import java.io.File;\n    import java.util.Date;\n    import javax.swing.*;\n    \n    /* Motorcycle image courtesy of ShutterStock\n    http://www.shutterstock.com/pic-13585165/stock-vector-travel-motorcycle-silhouette.html */\n    class ImageOutline {\n    \n        public static Area getOutline(BufferedImage image, Color color, boolean include, int tolerance) {\n            Area area = new Area();\n            for (int x=0; x&lt;image.getWidth(); x++) {\n                for (int y=0; y&lt;image.getHeight(); y++) {\n                    Color pixel = new Color(image.getRGB(x,y));\n                    if (include) {\n                        if (isIncluded(color, pixel, tolerance)) {\n                            Rectangle r = new Rectangle(x,y,1,1);\n                            area.add(new Area(r));\n                        }\n                    } else {\n                        if (!isIncluded(color, pixel, tolerance)) {\n                            Rectangle r = new Rectangle(x,y,1,1);\n                            area.add(new Area(r));\n                        }\n                    }\n                }\n            }\n            return area;\n        }\n    \n        public static boolean isIncluded(Color target, Color pixel, int tolerance) {\n            int rT = target.getRed();\n            int gT = target.getGreen();\n            int bT = target.getBlue();\n            int rP = pixel.getRed();\n            int gP = pixel.getGreen();\n            int bP = pixel.getBlue();\n            return(\n                (rP-tolerance&lt;=rT) &amp;&amp; (rT&lt;=rP+tolerance) &amp;&amp;\n                (gP-tolerance&lt;=gT) &amp;&amp; (gT&lt;=gP+tolerance) &amp;&amp;\n                (bP-tolerance&lt;=bT) &amp;&amp; (bT&lt;=bP+tolerance) );\n        }\n    \n        public static BufferedImage drawOutline(int w, int h, Area area) {\n            final BufferedImage result = new BufferedImage(\n                w,\n                h,\n                BufferedImage.TYPE_INT_RGB);\n            Graphics2D g = result.createGraphics();\n    \n            g.setColor(Color.white);\n            g.fillRect(0,0,w,h);\n    \n            g.setClip(area);\n            g.setColor(Color.red);\n            g.fillRect(0,0,w,h);\n    \n            g.setClip(null);\n            g.setStroke(new BasicStroke(1));\n            g.setColor(Color.blue);\n            g.draw(area);\n    \n            return result;\n        }\n    \n        public static BufferedImage createAndWrite(\n            BufferedImage image,\n            Color color,\n            boolean include,\n            int tolerance,\n            String name)\n            throws Exception {\n            int w = image.getWidth();\n            int h = image.getHeight();\n    \n            System.out.println(&quot;Get Area: &quot; + new Date() + &quot; - &quot; + name);\n            Area area = getOutline(image, color, include, tolerance);\n            System.out.println(&quot;Got Area: &quot; + new Date() + &quot; - &quot; + name);\n    \n            final BufferedImage result = drawOutline(w,h,area);\n            displayAndWriteImage(result, name);\n    \n            return result;\n        }\n    \n        public static void displayAndWriteImage(BufferedImage image, String fileName) throws Exception {\n            ImageIO.write(image, &quot;png&quot;, new File(fileName));\n            JOptionPane.showMessageDialog(null, new JLabel(new ImageIcon(image)));\n        }\n    \n        public static void main(String[] args) throws Exception {\n            final BufferedImage outline = ImageIO.read(new File(&quot;motorcycle.jpg&quot;));\n            BufferedImage crop = outline.getSubimage(17,35,420,270);\n            displayAndWriteImage(crop, &quot;motorcycle-01.png&quot;);\n    \n            BufferedImage crude = createAndWrite(crop, Color.white, false, 60, &quot;motorcycle-02.png&quot;);\n    \n            BufferedImage combo = createAndWrite(crude, Color.red, true, 0, &quot;motorcycle-03.png&quot;);\n        }\n    }","title":"Image/Graphic into a Shape","body":"<h3>motorcycle.jpg</h3>\n<p><img src=\"https://i.stack.imgur.com/Bdfg9.jpg\" alt=\"Original Image\" /></p>\n<h3>motorcycle-03.png</h3>\n<p><img src=\"https://i.stack.imgur.com/BoTMk.png\" alt=\"Processed Image\" /></p>\n<h3>ImageOutline.java</h3>\n<p>This code requires some patience (when running).</p>\n<pre><code>import java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.geom.Area;\nimport javax.imageio.ImageIO;\nimport java.io.File;\nimport java.util.Date;\nimport javax.swing.*;\n\n/* Motorcycle image courtesy of ShutterStock\nhttp://www.shutterstock.com/pic-13585165/stock-vector-travel-motorcycle-silhouette.html */\nclass ImageOutline {\n\n    public static Area getOutline(BufferedImage image, Color color, boolean include, int tolerance) {\n        Area area = new Area();\n        for (int x=0; x&lt;image.getWidth(); x++) {\n            for (int y=0; y&lt;image.getHeight(); y++) {\n                Color pixel = new Color(image.getRGB(x,y));\n                if (include) {\n                    if (isIncluded(color, pixel, tolerance)) {\n                        Rectangle r = new Rectangle(x,y,1,1);\n                        area.add(new Area(r));\n                    }\n                } else {\n                    if (!isIncluded(color, pixel, tolerance)) {\n                        Rectangle r = new Rectangle(x,y,1,1);\n                        area.add(new Area(r));\n                    }\n                }\n            }\n        }\n        return area;\n    }\n\n    public static boolean isIncluded(Color target, Color pixel, int tolerance) {\n        int rT = target.getRed();\n        int gT = target.getGreen();\n        int bT = target.getBlue();\n        int rP = pixel.getRed();\n        int gP = pixel.getGreen();\n        int bP = pixel.getBlue();\n        return(\n            (rP-tolerance&lt;=rT) &amp;&amp; (rT&lt;=rP+tolerance) &amp;&amp;\n            (gP-tolerance&lt;=gT) &amp;&amp; (gT&lt;=gP+tolerance) &amp;&amp;\n            (bP-tolerance&lt;=bT) &amp;&amp; (bT&lt;=bP+tolerance) );\n    }\n\n    public static BufferedImage drawOutline(int w, int h, Area area) {\n        final BufferedImage result = new BufferedImage(\n            w,\n            h,\n            BufferedImage.TYPE_INT_RGB);\n        Graphics2D g = result.createGraphics();\n\n        g.setColor(Color.white);\n        g.fillRect(0,0,w,h);\n\n        g.setClip(area);\n        g.setColor(Color.red);\n        g.fillRect(0,0,w,h);\n\n        g.setClip(null);\n        g.setStroke(new BasicStroke(1));\n        g.setColor(Color.blue);\n        g.draw(area);\n\n        return result;\n    }\n\n    public static BufferedImage createAndWrite(\n        BufferedImage image,\n        Color color,\n        boolean include,\n        int tolerance,\n        String name)\n        throws Exception {\n        int w = image.getWidth();\n        int h = image.getHeight();\n\n        System.out.println(&quot;Get Area: &quot; + new Date() + &quot; - &quot; + name);\n        Area area = getOutline(image, color, include, tolerance);\n        System.out.println(&quot;Got Area: &quot; + new Date() + &quot; - &quot; + name);\n\n        final BufferedImage result = drawOutline(w,h,area);\n        displayAndWriteImage(result, name);\n\n        return result;\n    }\n\n    public static void displayAndWriteImage(BufferedImage image, String fileName) throws Exception {\n        ImageIO.write(image, &quot;png&quot;, new File(fileName));\n        JOptionPane.showMessageDialog(null, new JLabel(new ImageIcon(image)));\n    }\n\n    public static void main(String[] args) throws Exception {\n        final BufferedImage outline = ImageIO.read(new File(&quot;motorcycle.jpg&quot;));\n        BufferedImage crop = outline.getSubimage(17,35,420,270);\n        displayAndWriteImage(crop, &quot;motorcycle-01.png&quot;);\n\n        BufferedImage crude = createAndWrite(crop, Color.white, false, 60, &quot;motorcycle-02.png&quot;);\n\n        BufferedImage combo = createAndWrite(crude, Color.red, true, 0, &quot;motorcycle-03.png&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":958164,"reputation":31,"user_id":983093,"display_name":"crazysaem"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317940066,"creation_date":1317938718,"answer_id":7681027,"question_id":7052422,"body_markdown":"function `getArea_FastHack` is build upon Andrew Thompsons work, which was very helpful.\r\nMine should be faster, however:\r\n(//Edit: and sloppier, too)\r\n\r\n    import java.awt.*;\r\n    import java.awt.geom.Area;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.imageio.ImageIO;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    /**\r\n     * CustomShape\r\n     * based on a Class from Andrew Thompson * \r\n     * Source: http://stackoverflow.com/questions/7052422/image-graphic-into-a-shape-in-java/7059497#7059497\r\n     * @author Samuel Schneider, Andrew Thompson\r\n     * \r\n     *\r\n     */\r\n    class CustomShape {\r\n    \t\r\n    \tprivate BufferedImage image=null;\r\n    \t\r\n    \t/**\r\n    \t * Creates an Area with PixelPerfect precision\r\n    \t * @param color The color that is draws the Custom Shape\r\n    \t * @param tolerance The color tolerance\r\n    \t * @return Area\r\n    \t */\r\n    \tpublic Area getArea(Color color, int tolerance) {\r\n    \t\tif(image==null) return null;\r\n    \t\tArea area = new Area();\r\n    \t\tfor (int x=0; x&lt;image.getWidth(); x++) {\r\n                for (int y=0; y&lt;image.getHeight(); y++) {\r\n                \tColor pixel = new Color(image.getRGB(x,y));\r\n                \tif (isIncluded(color, pixel, tolerance)) {\r\n                        Rectangle r = new Rectangle(x,y,1,1);\r\n                        area.add(new Area(r));\r\n                    }\r\n                }\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn area;\r\n    \t}\r\n    \t\r\n    \tpublic Area getArea_FastHack() {\r\n    \t\t//Assumes Black as Shape Color\r\n    \t\tif(image==null) return null;\r\n    \t\t\r\n    \t\tArea area = new Area();\r\n    \t\tRectangle r;\r\n    \t\tint y1,y2;\r\n    \t\t\r\n    \t\tfor (int x=0; x&lt;image.getWidth(); x++) {\r\n    \t\t\ty1=99;\r\n    \t\t\ty2=-1;\r\n                for (int y=0; y&lt;image.getHeight(); y++) {\r\n                \tColor pixel = new Color(image.getRGB(x,y));\r\n                \t//-16777216 entspricht RGB(0,0,0)\r\n                \tif (pixel.getRGB()==-16777216) {\r\n                        if(y1==99) {y1=y;y2=y;}\r\n                        if(y&gt;(y2+1)) {\r\n                        \tr = new Rectangle(x,y1,1,y2-y1);\r\n                        \tarea.add(new Area(r)); \r\n                        \ty1=y;y2=y;\r\n                        }\r\n                        y2=y;\r\n                    }            \t\r\n                }\r\n                if((y2-y1)&gt;=0) {\r\n            \t\tr = new Rectangle(x,y1,1,y2-y1);\r\n                \tarea.add(new Area(r)); \r\n            \t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn area;\r\n    \t}\r\n    \r\n        public static boolean isIncluded(Color target, Color pixel, int tolerance) {\r\n            int rT = target.getRed();\r\n            int gT = target.getGreen();\r\n            int bT = target.getBlue();\r\n            int rP = pixel.getRed();\r\n            int gP = pixel.getGreen();\r\n            int bP = pixel.getBlue();\r\n            return(\r\n                (rP-tolerance&lt;=rT) &amp;&amp; (rT&lt;=rP+tolerance) &amp;&amp;\r\n                (gP-tolerance&lt;=gT) &amp;&amp; (gT&lt;=gP+tolerance) &amp;&amp;\r\n                (bP-tolerance&lt;=bT) &amp;&amp; (bT&lt;=bP+tolerance) );\r\n        }\r\n        \r\n        public CustomShape(String path) {\r\n        \ttry {\r\n    \t\t\tBufferedImage image = ImageIO.read(new File(path));\r\n    \t\t\tthis.image = image;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        }\r\n    }\r\n\r\n\r\n","title":"Image/Graphic into a Shape","body":"<p>function <code>getArea_FastHack</code> is build upon Andrew Thompsons work, which was very helpful.\nMine should be faster, however:\n(//Edit: and sloppier, too)</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.geom.Area;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport java.io.File;\nimport java.io.IOException;\n/**\n * CustomShape\n * based on a Class from Andrew Thompson * \n * Source: http://stackoverflow.com/questions/7052422/image-graphic-into-a-shape-in-java/7059497#7059497\n * @author Samuel Schneider, Andrew Thompson\n * \n *\n */\nclass CustomShape {\n\n    private BufferedImage image=null;\n\n    /**\n     * Creates an Area with PixelPerfect precision\n     * @param color The color that is draws the Custom Shape\n     * @param tolerance The color tolerance\n     * @return Area\n     */\n    public Area getArea(Color color, int tolerance) {\n        if(image==null) return null;\n        Area area = new Area();\n        for (int x=0; x&lt;image.getWidth(); x++) {\n            for (int y=0; y&lt;image.getHeight(); y++) {\n                Color pixel = new Color(image.getRGB(x,y));\n                if (isIncluded(color, pixel, tolerance)) {\n                    Rectangle r = new Rectangle(x,y,1,1);\n                    area.add(new Area(r));\n                }\n            }\n        }\n\n        return area;\n    }\n\n    public Area getArea_FastHack() {\n        //Assumes Black as Shape Color\n        if(image==null) return null;\n\n        Area area = new Area();\n        Rectangle r;\n        int y1,y2;\n\n        for (int x=0; x&lt;image.getWidth(); x++) {\n            y1=99;\n            y2=-1;\n            for (int y=0; y&lt;image.getHeight(); y++) {\n                Color pixel = new Color(image.getRGB(x,y));\n                //-16777216 entspricht RGB(0,0,0)\n                if (pixel.getRGB()==-16777216) {\n                    if(y1==99) {y1=y;y2=y;}\n                    if(y&gt;(y2+1)) {\n                        r = new Rectangle(x,y1,1,y2-y1);\n                        area.add(new Area(r)); \n                        y1=y;y2=y;\n                    }\n                    y2=y;\n                }               \n            }\n            if((y2-y1)&gt;=0) {\n                r = new Rectangle(x,y1,1,y2-y1);\n                area.add(new Area(r)); \n            }\n        }\n\n        return area;\n    }\n\n    public static boolean isIncluded(Color target, Color pixel, int tolerance) {\n        int rT = target.getRed();\n        int gT = target.getGreen();\n        int bT = target.getBlue();\n        int rP = pixel.getRed();\n        int gP = pixel.getGreen();\n        int bP = pixel.getBlue();\n        return(\n            (rP-tolerance&lt;=rT) &amp;&amp; (rT&lt;=rP+tolerance) &amp;&amp;\n            (gP-tolerance&lt;=gT) &amp;&amp; (gT&lt;=gP+tolerance) &amp;&amp;\n            (bP-tolerance&lt;=bT) &amp;&amp; (bT&lt;=bP+tolerance) );\n    }\n\n    public CustomShape(String path) {\n        try {\n            BufferedImage image = ImageIO.read(new File(path));\n            this.image = image;\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3050952,"reputation":1,"user_id":2585522,"display_name":"Chili"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1373938811,"creation_date":1373938811,"answer_id":17666689,"question_id":7052422,"body_markdown":"Here&#39;s something  faster but less accurate, useful for collision checking or 2D physics.\r\n\r\n \r\n\r\n    \tPoint[] MakePoly(BufferedImage spr,int d,int angle){\r\n\r\n    //creates an outline of a transparent image, points are stored in an array\r\n    //arg0 - BufferedImage source image \r\n    //arg1 - Int detail (lower = better)\r\n    //arg2 - Int angle threshold in degrees (will remove points with angle differences below this level; 15 is a good value)\r\n    //      making this larger will make the body faster but less accurate;\r\n\r\n\r\n\t\tint w= spr.getWidth(null);\tint h= spr.getHeight(null);\r\n\r\n        // increase array size from 255 if needed\r\n\t\tint[] vertex_x=new int[255], vertex_y=new int[255], vertex_k=new int[255]; \r\n\r\n\t\tint numPoints=0, tx=0,ty=0,fy=-1,lx=0,ly=0; vertex_x[0]=0; vertex_y[0]=0; vertex_k[0]=1; \r\n\t\tfor (tx=0;tx&lt;w;tx+=d)  for (ty=0;ty&lt;h;ty+=1)\t   if((spr.getRGB(tx,ty)&gt;&gt;24) != 0x00 ) \r\n\t\t    {vertex_x[numPoints]=tx; vertex_y[numPoints]=h-ty; vertex_k[numPoints]=1; numPoints++; if (fy&lt;0) fy=ty; lx=tx; ly=ty; break;  }      \r\n\t\tfor (ty=0;ty&lt;h;ty+=d)  for (tx=w-1;tx&gt;=0;tx-=1)\t   if((spr.getRGB(tx,ty)&gt;&gt;24)  != 0x00 &amp;&amp; ty &gt; ly)\r\n\t\t    {vertex_x[numPoints]=tx; vertex_y[numPoints]=h-ty; vertex_k[numPoints]=1; numPoints++; lx=tx; ly=ty; break;  }     \r\n\t\tfor (tx=w-1;tx&gt;=0;tx-=d)  for (ty=h-1;ty&gt;=0;ty-=1) if((spr.getRGB(tx,ty)&gt;&gt;24) != 0x00 &amp;&amp; tx &lt; lx)\r\n\t\t    {vertex_x[numPoints]=tx; vertex_y[numPoints]=h-ty; vertex_k[numPoints]=1; numPoints ++; lx=tx; ly=ty; break; }     \r\n\t\tfor (ty=h-1;ty&gt;=0;ty-=d)  for (tx=0;tx&lt;w;tx+=1)\t   if((spr.getRGB(tx,ty)&gt;&gt;24) != 0x00 &amp;&amp; ty &lt; ly &amp;&amp; ty &gt; fy)\r\n\t\t    {vertex_x[numPoints]=tx; vertex_y[numPoints]=h-ty; vertex_k[numPoints]=1; numPoints ++; lx=tx; ly=ty; break; }      \r\n\t\tdouble ang1,ang2; \t\tfor (int i=0;i&lt;numPoints-2;i++)\t{\r\n\t\t\tang1 = PointDirection(vertex_x[i],vertex_y[i], vertex_x[i+1],vertex_y[i+1]);\r\n\t\t    ang2 = PointDirection(vertex_x[i+1],vertex_y[i+1], vertex_x[i+2],vertex_y[i+2]);\r\n\t\t     if (Math.abs(ang1-ang2) &lt;= angle)   vertex_k[i+1] = 0;\t\t    }\r\n\t\tang1 = PointDirection(vertex_x[numPoints-2],vertex_y[numPoints-2], vertex_x[numPoints-1],vertex_y[numPoints-1]);\r\n\t\tang2 = PointDirection(vertex_x[numPoints-1],vertex_y[numPoints-1], vertex_x[0],vertex_y[0]);\r\n\t\t if (Math.abs(ang1-ang2) &lt;= angle)\t    vertex_k[numPoints-1] = 0; \r\n\t\tang1 = PointDirection(vertex_x[numPoints-1],vertex_y[numPoints-1], vertex_x[0],vertex_y[0]);\r\n\t\tang2 = PointDirection(vertex_x[0],vertex_y[0], vertex_x[1],vertex_y[1]);\r\n\t\t if (Math.abs(ang1-ang2) &lt;= angle)\t    vertex_k[0] = 0;\r\n\t\t int n=0;for (int i=0;i&lt;numPoints;i++)if(vertex_k[i]==1)n++;\r\n\t\tPoint[] poly= new Point[n]; n=0; for (int i=0;i&lt;numPoints;i++) if (vertex_k[i]==1)\r\n\t\t{ poly[n]=new Point(); poly[n].x=vertex_x[i]; poly[n].y=h-vertex_y[i];n++;}\treturn poly;\r\n\t}\r\n\t\r\n\tdouble PointDirection(double xfrom,double yfrom,double xto,double yto){\r\n\t\treturn  Math.atan2(yto-yfrom,xto-xfrom)*180/Math.PI ;\r\n\t}","title":"Image/Graphic into a Shape","body":"<p>Here's something  faster but less accurate, useful for collision checking or 2D physics.</p>\n\n<pre><code>    Point[] MakePoly(BufferedImage spr,int d,int angle){\n\n//creates an outline of a transparent image, points are stored in an array\n//arg0 - BufferedImage source image \n//arg1 - Int detail (lower = better)\n//arg2 - Int angle threshold in degrees (will remove points with angle differences below this level; 15 is a good value)\n//      making this larger will make the body faster but less accurate;\n\n\n    int w= spr.getWidth(null);  int h= spr.getHeight(null);\n\n    // increase array size from 255 if needed\n    int[] vertex_x=new int[255], vertex_y=new int[255], vertex_k=new int[255]; \n\n    int numPoints=0, tx=0,ty=0,fy=-1,lx=0,ly=0; vertex_x[0]=0; vertex_y[0]=0; vertex_k[0]=1; \n    for (tx=0;tx&lt;w;tx+=d)  for (ty=0;ty&lt;h;ty+=1)       if((spr.getRGB(tx,ty)&gt;&gt;24) != 0x00 ) \n        {vertex_x[numPoints]=tx; vertex_y[numPoints]=h-ty; vertex_k[numPoints]=1; numPoints++; if (fy&lt;0) fy=ty; lx=tx; ly=ty; break;  }      \n    for (ty=0;ty&lt;h;ty+=d)  for (tx=w-1;tx&gt;=0;tx-=1)    if((spr.getRGB(tx,ty)&gt;&gt;24)  != 0x00 &amp;&amp; ty &gt; ly)\n        {vertex_x[numPoints]=tx; vertex_y[numPoints]=h-ty; vertex_k[numPoints]=1; numPoints++; lx=tx; ly=ty; break;  }     \n    for (tx=w-1;tx&gt;=0;tx-=d)  for (ty=h-1;ty&gt;=0;ty-=1) if((spr.getRGB(tx,ty)&gt;&gt;24) != 0x00 &amp;&amp; tx &lt; lx)\n        {vertex_x[numPoints]=tx; vertex_y[numPoints]=h-ty; vertex_k[numPoints]=1; numPoints ++; lx=tx; ly=ty; break; }     \n    for (ty=h-1;ty&gt;=0;ty-=d)  for (tx=0;tx&lt;w;tx+=1)    if((spr.getRGB(tx,ty)&gt;&gt;24) != 0x00 &amp;&amp; ty &lt; ly &amp;&amp; ty &gt; fy)\n        {vertex_x[numPoints]=tx; vertex_y[numPoints]=h-ty; vertex_k[numPoints]=1; numPoints ++; lx=tx; ly=ty; break; }      \n    double ang1,ang2;       for (int i=0;i&lt;numPoints-2;i++) {\n        ang1 = PointDirection(vertex_x[i],vertex_y[i], vertex_x[i+1],vertex_y[i+1]);\n        ang2 = PointDirection(vertex_x[i+1],vertex_y[i+1], vertex_x[i+2],vertex_y[i+2]);\n         if (Math.abs(ang1-ang2) &lt;= angle)   vertex_k[i+1] = 0;         }\n    ang1 = PointDirection(vertex_x[numPoints-2],vertex_y[numPoints-2], vertex_x[numPoints-1],vertex_y[numPoints-1]);\n    ang2 = PointDirection(vertex_x[numPoints-1],vertex_y[numPoints-1], vertex_x[0],vertex_y[0]);\n     if (Math.abs(ang1-ang2) &lt;= angle)      vertex_k[numPoints-1] = 0; \n    ang1 = PointDirection(vertex_x[numPoints-1],vertex_y[numPoints-1], vertex_x[0],vertex_y[0]);\n    ang2 = PointDirection(vertex_x[0],vertex_y[0], vertex_x[1],vertex_y[1]);\n     if (Math.abs(ang1-ang2) &lt;= angle)      vertex_k[0] = 0;\n     int n=0;for (int i=0;i&lt;numPoints;i++)if(vertex_k[i]==1)n++;\n    Point[] poly= new Point[n]; n=0; for (int i=0;i&lt;numPoints;i++) if (vertex_k[i]==1)\n    { poly[n]=new Point(); poly[n].x=vertex_x[i]; poly[n].y=h-vertex_y[i];n++;} return poly;\n}\n\ndouble PointDirection(double xfrom,double yfrom,double xto,double yto){\n    return  Math.atan2(yto-yfrom,xto-xfrom)*180/Math.PI ;\n}\n</code></pre>\n"}],"owner":{"account_id":805850,"reputation":151,"user_id":893295,"display_name":"Pav"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19071,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1701551688,"creation_date":1313259814,"question_id":7052422,"body_markdown":"I was wondering whether there is any way to convert an image/graphic into a `Shape`? For example, can I convert the outline of a motorcycle shape into a `Shape` so I can then use it in Java? I know you can do it with normal squares or with rounded corners, polygons, etc. But is there a way to do a custom shape? ","title":"Image/Graphic into a Shape","body":"<p>I was wondering whether there is any way to convert an image/graphic into a <code>Shape</code>? For example, can I convert the outline of a motorcycle shape into a <code>Shape</code> so I can then use it in Java? I know you can do it with normal squares or with rounded corners, polygons, etc. But is there a way to do a custom shape? </p>\n"},{"tags":["java","oracle","jdbc"],"answers":[{"comments":[{"owner":{"display_name":"user123664"},"score":3,"creation_date":1389163650,"post_id":20988215,"comment_id":31538162,"body_markdown":"it might be smarter to find why the account got locked. This mechanism is there for a reason. Password aging is one of them.","body":"it might be smarter to find why the account got locked. This mechanism is there for a reason. Password aging is one of them."},{"owner":{"account_id":1940902,"reputation":153,"user_id":1747138,"accept_rate":25,"display_name":"Teela"},"score":0,"creation_date":1389250138,"post_id":20988215,"comment_id":31583532,"body_markdown":"yes, this is just a quick work around, sure to work for this scenario.","body":"yes, this is just a quick work around, sure to work for this scenario."}],"tags":[],"owner":{"account_id":1940902,"reputation":153,"user_id":1747138,"accept_rate":25,"display_name":"Teela"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389161573,"creation_date":1389161573,"answer_id":20988215,"question_id":20988214,"body_markdown":"When connect using the credentials (Username : system, Password : ####) the account got connected without any issue from java program.\r\nHowever, when connected using the credentials (Username: HR, Password : ****) got the error message ORA-28000: the account got locked. But was able to login using these HR credentials from oracle console.\r\nSo, to get the connection from java program, did the following:\r\n\r\n    public static void main(String args[]) throws SQLException, ClassNotFoundException{\r\n              \r\n              String query;\r\n              \r\n              // Connect to system Database first\r\n              Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n              String url = &quot;jdbc:oracle:thin:@127.0.0.1:1521:XE&quot;;\r\n              Connection con = DriverManager.getConnection(url,&quot;system&quot;,&quot;####&quot;);\r\n              Statement statement = con.createStatement();  \r\n              query = &quot;alter user HR identified by HR account unlock&quot;;\r\n              \r\n              //Unlock the account\r\n              ResultSet resultset = statement.executeQuery(query);\r\n              \r\n              //Connect to HR database\r\n              con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@127.0.0.1:1521:XE&quot;,&quot;HR&quot;,&quot;****&quot;);\r\n              statement = con.createStatement();  \r\n\r\n              //Fetch all the tables in HR database\r\n              query = &quot;select &#39;Connected&#39; from dual&quot;;\r\n              resultset = statement.executeQuery(query);\r\n              \r\n              //Prints records fetched\r\n              while (resultset.next()) {\r\n                     System.out.println(resultset.getString(1));\r\n              }        \r\n              \r\n              statement.close();  \r\n              con.close();  \r\n\r\n       }\r\n\r\nThe HR account got unlocked and now able to execute other queries without issues :)\r\n","title":"In java JDBC connection error ORA-28000: the account got locked, but db account is not locked","body":"<p>When connect using the credentials (Username : system, Password : ####) the account got connected without any issue from java program.\nHowever, when connected using the credentials (Username: HR, Password : <em>*</em>*) got the error message ORA-28000: the account got locked. But was able to login using these HR credentials from oracle console.\nSo, to get the connection from java program, did the following:</p>\n\n<pre><code>public static void main(String args[]) throws SQLException, ClassNotFoundException{\n\n          String query;\n\n          // Connect to system Database first\n          Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n          String url = \"jdbc:oracle:thin:@127.0.0.1:1521:XE\";\n          Connection con = DriverManager.getConnection(url,\"system\",\"####\");\n          Statement statement = con.createStatement();  \n          query = \"alter user HR identified by HR account unlock\";\n\n          //Unlock the account\n          ResultSet resultset = statement.executeQuery(query);\n\n          //Connect to HR database\n          con = DriverManager.getConnection(\"jdbc:oracle:thin:@127.0.0.1:1521:XE\",\"HR\",\"****\");\n          statement = con.createStatement();  \n\n          //Fetch all the tables in HR database\n          query = \"select 'Connected' from dual\";\n          resultset = statement.executeQuery(query);\n\n          //Prints records fetched\n          while (resultset.next()) {\n                 System.out.println(resultset.getString(1));\n          }        \n\n          statement.close();  \n          con.close();  \n\n   }\n</code></pre>\n\n<p>The HR account got unlocked and now able to execute other queries without issues :)</p>\n"},{"comments":[{"owner":{"account_id":3028116,"reputation":867,"user_id":2567669,"display_name":"Non Plus Ultra"},"score":0,"creation_date":1556793575,"post_id":51255689,"comment_id":98553443,"body_markdown":"SYSTEM user account is not meant for end users. Never use system to login, other than maintenance tasks. So this is not a good advice.","body":"SYSTEM user account is not meant for end users. Never use system to login, other than maintenance tasks. So this is not a good advice."}],"tags":[],"owner":{"account_id":5161139,"reputation":1,"user_id":4132785,"display_name":"Dan_27"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1531182562,"creation_date":1531182562,"answer_id":51255689,"question_id":20988214,"body_markdown":"Just change the username to &quot;System&quot; instead of &quot;HR&quot;. and that it! you will be able now to connect to your database.","title":"In java JDBC connection error ORA-28000: the account got locked, but db account is not locked","body":"<p>Just change the username to \"System\" instead of \"HR\". and that it! you will be able now to connect to your database.</p>\n"}],"owner":{"account_id":1940902,"reputation":153,"user_id":1747138,"accept_rate":25,"display_name":"Teela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15802,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701551336,"creation_date":1389161573,"question_id":20988214,"body_markdown":"I could connect to Oracle XE, DB from console using the credentials (Username: HR, Password : *****). But I&#39;m getting the error message \r\n&gt;ORA-28000: the account got locked\r\n\r\nwhen I try to establish connection from java program using JDBC.\r\n\r\nCode:\r\n\r\n    public static void main(String args[]) throws Exception{\r\n              Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n              String url = &quot;jdbc:oracle:thin:@127.0.0.1:1521:XE&quot;;\r\n              Connection con = DriverManager.getConnection(url,&quot;USER NAME&quot;,&quot;PASSWORD&quot;);\r\n              Statement statement = con.createStatement();  \r\n              ResultSet resultset = statement.executeQuery(&quot;select &#39;Connected&#39; from dual&quot;);  \r\n                            \r\n              while (resultset.next()) {\r\n                     System.out.println(resultset.getString(1));\r\n              }        \r\n              statement.close();  \r\n              con.close();  \r\n       }\r\n\r\n\r\nHow to connect to DB from this java program?\r\n","title":"In java JDBC connection error ORA-28000: the account got locked, but db account is not locked","body":"<p>I could connect to Oracle XE, DB from console using the credentials (Username: HR, Password : *****). But I'm getting the error message </p>\n\n<blockquote>\n  <p>ORA-28000: the account got locked</p>\n</blockquote>\n\n<p>when I try to establish connection from java program using JDBC.</p>\n\n<p>Code:</p>\n\n<pre><code>public static void main(String args[]) throws Exception{\n          Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n          String url = \"jdbc:oracle:thin:@127.0.0.1:1521:XE\";\n          Connection con = DriverManager.getConnection(url,\"USER NAME\",\"PASSWORD\");\n          Statement statement = con.createStatement();  \n          ResultSet resultset = statement.executeQuery(\"select 'Connected' from dual\");  \n\n          while (resultset.next()) {\n                 System.out.println(resultset.getString(1));\n          }        \n          statement.close();  \n          con.close();  \n   }\n</code></pre>\n\n<p>How to connect to DB from this java program?</p>\n"},{"tags":["java","opengl","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1378961148,"post_id":18754803,"comment_id":27646848,"body_markdown":"What kind of Mac and OS version is it?  I thought all Macs running a supported OS X 10.7.3+ were equipped with the minimum hardware to support JavaFX 2.x hardware acceleration.","body":"What kind of Mac and OS version is it?  I thought all Macs running a supported OS X 10.7.3+ were equipped with the minimum hardware to support JavaFX 2.x hardware acceleration."},{"owner":{"account_id":1490341,"reputation":1391,"user_id":1397564,"accept_rate":73,"display_name":"Lalith J."},"score":1,"creation_date":1378982747,"post_id":18754803,"comment_id":27657496,"body_markdown":"Actually this is not a physical MAC.. this is a virtual mac system on virtual Box and VB not support for 3d acceleration.","body":"Actually this is not a physical MAC.. this is a virtual mac system on virtual Box and VB not support for 3d acceleration."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1379020537,"post_id":18754803,"comment_id":27679567,"body_markdown":"It would seem that this [configuration should work out of the box](http://www.oracle.com/technetwork/java/javafx/downloads/supportedconfigurations-1506746.html) &quot;All certified platforms are also certified when virtualized in a certified hypervisor, except where noted. Certified hypervisors are: Oracle VM 2.2, VirtualBox 3.x, 4.x&quot;, as it doesn&#39;t work straight away, you might want to [log a bug report](https://javafx-jira.kenai.com).","body":"It would seem that this <a href=\"http://www.oracle.com/technetwork/java/javafx/downloads/supportedconfigurations-1506746.html\" rel=\"nofollow noreferrer\">configuration should work out of the box</a> &quot;All certified platforms are also certified when virtualized in a certified hypervisor, except where noted. Certified hypervisors are: Oracle VM 2.2, VirtualBox 3.x, 4.x&quot;, as it doesn&#39;t work straight away, you might want to <a href=\"https://javafx-jira.kenai.com\" rel=\"nofollow noreferrer\">log a bug report</a>."},{"owner":{"account_id":1490341,"reputation":1391,"user_id":1397564,"accept_rate":73,"display_name":"Lalith J."},"score":3,"creation_date":1379023683,"post_id":18754803,"comment_id":27680905,"body_markdown":"As Mr zenbeni said -Dprism.order=j2d working perfectly with java 7.\nMr Petr Solution -Dprism.order=sw not working. the error is &quot;not suitable pipeline found&quot;. I think it only work with java 8. \nThank you all Problem Solved :).","body":"As Mr zenbeni said -Dprism.order=j2d working perfectly with java 7. Mr Petr Solution -Dprism.order=sw not working. the error is &quot;not suitable pipeline found&quot;. I think it only work with java 8.  Thank you all Problem Solved :)."}],"answers":[{"tags":[],"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1701551036,"creation_date":1378989597,"answer_id":18764542,"question_id":18754803,"body_markdown":"For Java 8 and on, use the software emulation pipeline rather than the DirectX 2D pipeline by adding the following argument when launching the JVM:\r\n\r\n    -Dprism.order=sw\r\n\r\n---\r\n\r\nFor Java 7 and earlier, an Oracle forum message (no longer available) suggested adding:\r\n\r\n    -Dprism.order=j2d\r\n\r\nNote that [JDK-8095989][1] has deprecated this `j2d` solution.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8095989","title":"How to disable or bypass Hardware Graphics Acceleration(Prism) in JavaFX","body":"<p>For Java 8 and on, use the software emulation pipeline rather than the DirectX 2D pipeline by adding the following argument when launching the JVM:</p>\n<pre><code>-Dprism.order=sw\n</code></pre>\n<hr />\n<p>For Java 7 and earlier, an Oracle forum message (no longer available) suggested adding:</p>\n<pre><code>-Dprism.order=j2d\n</code></pre>\n<p>Note that <a href=\"https://bugs.openjdk.org/browse/JDK-8095989\" rel=\"nofollow noreferrer\">JDK-8095989</a> has deprecated this <code>j2d</code> solution.</p>\n"},{"comments":[{"owner":{"account_id":2172565,"reputation":6019,"user_id":1924141,"display_name":"Petr"},"score":0,"creation_date":1379020541,"post_id":18773007,"comment_id":27679569,"body_markdown":"I&#39;m not quite sure about FX 7. You could check it using the verbose mode.","body":"I&#39;m not quite sure about FX 7. You could check it using the verbose mode."},{"owner":{"account_id":149036,"reputation":405,"user_id":361227,"accept_rate":60,"display_name":"bobndrew"},"score":1,"creation_date":1382004239,"post_id":18773007,"comment_id":28795061,"body_markdown":"`-Dprism.order=sw` is not working in Java 7, tested on MacOS 10.8.5 and Windows 7 64bit.","body":"<code>-Dprism.order=sw</code> is not working in Java 7, tested on MacOS 10.8.5 and Windows 7 64bit."},{"owner":{"account_id":9299631,"reputation":654,"user_id":6905540,"accept_rate":66,"display_name":"VANILKA"},"score":0,"creation_date":1537264102,"post_id":18773007,"comment_id":91711488,"body_markdown":"I use it but when I have a really big image it is truncated. In logs I have only : &quot;Growing pool com.sun.prism.sw.SWTexturePool@542d472e target to 147&#160;837&#160;360&quot; . Picture has 4,4MB. How can I workaround it ?","body":"I use it but when I have a really big image it is truncated. In logs I have only : &quot;Growing pool com.sun.prism.sw.SWTexturePool@542d472e target to 147 837 360&quot; . Picture has 4,4MB. How can I workaround it ?"},{"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"score":2,"creation_date":1561266442,"post_id":18773007,"comment_id":100003132,"body_markdown":"Old answer but still very valuable! On my JavaFx app The CPU load was reduced by around 20% (at standstill CPU load was 20-25% and is now under 5%) on Java 11 under Linux Debian by setting `-Dprism.order=sw`. `-Dprism.verbose=true`reported using `es2` as first choice.","body":"Old answer but still very valuable! On my JavaFx app The CPU load was reduced by around 20% (at standstill CPU load was 20-25% and is now under 5%) on Java 11 under Linux Debian by setting <code>-Dprism.order=sw</code>. <code>-Dprism.verbose=true</code>reported using <code>es2</code> as first choice."},{"owner":{"account_id":8614021,"reputation":137849,"user_id":6451573,"accept_rate":90,"display_name":"Jean-Fran&#231;ois Fabre"},"score":0,"creation_date":1632907004,"post_id":18773007,"comment_id":122617226,"body_markdown":"sw works but in our case the buttons were not visible, wrongly rendered, and j2d fixed the issue (even if it&#39;s obsolete)","body":"sw works but in our case the buttons were not visible, wrongly rendered, and j2d fixed the issue (even if it&#39;s obsolete)"}],"tags":[],"owner":{"account_id":2172565,"reputation":6019,"user_id":1924141,"display_name":"Petr"},"comment_count":5,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1379014779,"creation_date":1379014779,"answer_id":18773007,"question_id":18754803,"body_markdown":"The j2d graphics pipeline is kind of deprecated in JavaFX 8, so it&#39;s better to use the software pipeline: `-Dprism.order=sw`. To verify that you are actually using it you could switch on logging: `-Dprism.verbose=true`","title":"How to disable or bypass Hardware Graphics Acceleration(Prism) in JavaFX","body":"<p>The j2d graphics pipeline is kind of deprecated in JavaFX 8, so it's better to use the software pipeline: <code>-Dprism.order=sw</code>. To verify that you are actually using it you could switch on logging: <code>-Dprism.verbose=true</code></p>\n"}],"owner":{"account_id":1490341,"reputation":1391,"user_id":1397564,"accept_rate":73,"display_name":"Lalith J."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24936,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":18764542,"answer_count":2,"score":23,"last_activity_date":1701551036,"creation_date":1378956182,"question_id":18754803,"body_markdown":"**OS: OSX Mountain Lion.**\r\n\r\n**System: Virtual BOX 4.2.6.** \r\n\r\n**Java: 1.7.0.40-ea-b34**\r\n\r\nI want to disable hardware acceleration for my JAVAFX app because there is no HW acceleration on my system (mac). So when there is no  HW acceleration I am getting fatal error on executing my JAVAFX App. The error related to &quot;Prism Engine pipeline&quot; and it happen when java trying to execute openGL native libs. So i want to disable the prism. \r\n\r\nI see there is some vm args that control prism behavior like..\r\nDprism.forceGPU=true;\r\n\r\nIs there anything like above to disable prism or openGL requesting?\r\n\r\nThe Fatal error (openGl related codes)\r\n\r\n    Stack: [0x000000016c8f9000,0x000000016c9f9000], sp=0x000000016c9f7f40, free space=1019k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    C [libobjc.A.dylib+0x639f] objc_msgSend_fixup+0x5f\r\n    C [AppKit+0x28134c] -[NSOpenGLContext initWithFormat:shareContext:]+0xac\r\n    C [libprism-es2.dylib+0x4e9f] createContext+0x1b3\r\n    C [libprism-es2.dylib+0x4729] Java_com_sun_prism_es2_gl_mac_MacGLFactory_nInitialize+0xa2\r\n    j com.sun.prism.es2.gl.mac.MacGLFactory.nInitialize([I)J+0\r\n    j com.sun.prism.es2.gl.mac.MacGLFactory.initialize(Ljava/lang/Class;Lcom/sun/prism/es2/gl/GLPixelFormat$Attributes;)Z+73\r\n    j com.sun.prism.es2.ES2Pipeline.&lt;clinit&gt;()V+54 ","title":"How to disable or bypass Hardware Graphics Acceleration(Prism) in JavaFX","body":"<p><strong>OS: OSX Mountain Lion.</strong></p>\n\n<p><strong>System: Virtual BOX 4.2.6.</strong> </p>\n\n<p><strong>Java: 1.7.0.40-ea-b34</strong></p>\n\n<p>I want to disable hardware acceleration for my JAVAFX app because there is no HW acceleration on my system (mac). So when there is no  HW acceleration I am getting fatal error on executing my JAVAFX App. The error related to \"Prism Engine pipeline\" and it happen when java trying to execute openGL native libs. So i want to disable the prism. </p>\n\n<p>I see there is some vm args that control prism behavior like..\nDprism.forceGPU=true;</p>\n\n<p>Is there anything like above to disable prism or openGL requesting?</p>\n\n<p>The Fatal error (openGl related codes)</p>\n\n<pre><code>Stack: [0x000000016c8f9000,0x000000016c9f9000], sp=0x000000016c9f7f40, free space=1019k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC [libobjc.A.dylib+0x639f] objc_msgSend_fixup+0x5f\nC [AppKit+0x28134c] -[NSOpenGLContext initWithFormat:shareContext:]+0xac\nC [libprism-es2.dylib+0x4e9f] createContext+0x1b3\nC [libprism-es2.dylib+0x4729] Java_com_sun_prism_es2_gl_mac_MacGLFactory_nInitialize+0xa2\nj com.sun.prism.es2.gl.mac.MacGLFactory.nInitialize([I)J+0\nj com.sun.prism.es2.gl.mac.MacGLFactory.initialize(Ljava/lang/Class;Lcom/sun/prism/es2/gl/GLPixelFormat$Attributes;)Z+73\nj com.sun.prism.es2.ES2Pipeline.&lt;clinit&gt;()V+54 \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1701546595,"post_id":77591927,"comment_id":136790209,"body_markdown":"Cannot reproduce. But your BufferedReader only has the implicit 0-arg constructor, you&#39;re calling it with 1 argument.","body":"Cannot reproduce. But your BufferedReader only has the implicit 0-arg constructor, you&#39;re calling it with 1 argument."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701556758,"post_id":77591927,"comment_id":136791164,"body_markdown":"I suspect g00se is correct and you should not have `public class BufferedReader` in your code.  If you want to use the Java SE library’s BufferedReader class, the `import` statement already makes it available;  you don’t need to take any other steps.","body":"I suspect g00se is correct and you should not have <code>public class BufferedReader</code> in your code.  If you want to use the Java SE library’s BufferedReader class, the <code>import</code> statement already makes it available;  you don’t need to take any other steps."}],"answers":[{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1701550411,"post_id":77592043,"comment_id":136790585,"body_markdown":"If the original code couldn&#39;t find IOException, how does this code fix that problem?","body":"If the original code couldn&#39;t find IOException, how does this code fix that problem?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701551499,"post_id":77592043,"comment_id":136790705,"body_markdown":"I&#39;m not convinced that the reported error was correct. So it&#39;s better to start with things *I can see are errors*","body":"I&#39;m not convinced that the reported error was correct. So it&#39;s better to start with things <i>I can see are errors</i>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1701551847,"post_id":77592043,"comment_id":136790737,"body_markdown":"So flag as &quot;not reproducible&quot;?","body":"So flag as &quot;not reproducible&quot;?"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701548324,"creation_date":1701548324,"answer_id":77592043,"question_id":77591927,"body_markdown":"You need to get rid of the nested `public class` and fix your `main` method, which needs to be `static`. That should be saved in the file App.java:\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n        int n1, n2, sum1, sum2;\r\n        System.out.print(&quot;Birinci sayı: &quot;);\r\n        n1 = Integer.parseInt(in.readLine());\r\n        sum1 = (n1 % 1000 - n1 % 100) / 1000 + (n1 % 100 - n1 % 10) / 100 + (n1 % 10 - n1 % 1) / 10 + n1 % 10;\r\n        System.out.print(&quot;İkinci sayı: &quot;);\r\n        n2 = Integer.parseInt(in.readLine());\r\n        sum2 = (n2 % 1000 - n2 % 100) / 1000 + (n2 % 100 - n2 % 10) / 100 + (n2 % 10 - n2 % 1) / 10 + n2 % 10;\r\n        System.out.println(&quot;Value of sum1: &quot; + sum1 + &quot;Value of sum2&quot; + sum2);\r\n        in.close();\r\n\r\n    }\r\n}\r\n``","title":"Having trouble with IOException error in java","body":"<p>You need to get rid of the nested <code>public class</code> and fix your <code>main</code> method, which needs to be <code>static</code>. That should be saved in the file App.java:</p>\n<pre><code>import java.io.*;\n\npublic class App {\n\n    public static void main(String[] args) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        int n1, n2, sum1, sum2;\n        System.out.print(&quot;Birinci sayı: &quot;);\n        n1 = Integer.parseInt(in.readLine());\n        sum1 = (n1 % 1000 - n1 % 100) / 1000 + (n1 % 100 - n1 % 10) / 100 + (n1 % 10 - n1 % 1) / 10 + n1 % 10;\n        System.out.print(&quot;İkinci sayı: &quot;);\n        n2 = Integer.parseInt(in.readLine());\n        sum2 = (n2 % 1000 - n2 % 100) / 1000 + (n2 % 100 - n2 % 10) / 100 + (n2 % 10 - n2 % 1) / 10 + n2 % 10;\n        System.out.println(&quot;Value of sum1: &quot; + sum1 + &quot;Value of sum2&quot; + sum2);\n        in.close();\n\n    }\n}\n``\n</code></pre>\n"}],"owner":{"account_id":30050267,"reputation":1,"user_id":23028978,"display_name":"pharmthwhite"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701632184,"answer_count":1,"score":-3,"last_activity_date":1701548324,"creation_date":1701545886,"question_id":77591927,"body_markdown":"I am at the beginning of my java learning progress. I try to write a program aiming to calculate sum of digits of a 3-digit number.\r\n\r\nBut I got the same message; cannot find symbol IOException.\r\n\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class App {\r\n\r\n    public class BufferedReader { \r\n    public void main(String[] args) throws IOException { \r\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n        int n1, n2, sum1, sum2;\r\n        System.out.print(&quot;Birinci sayı: &quot;);\r\n        n1 = Integer.parseInt(in.readLine());\r\n        sum1=(n1%1000-n1%100)/1000+(n1%100-n1%10)/100+(n1%10-n1%1)/10+n1%10;\r\n        System.out.print(&quot;İkinci sayı: &quot;);\r\n        n2 = Integer.parseInt(in.readLine());\r\n        sum2=(n2%1000-n2%100)/1000+(n2%100-n2%10)/100+(n2%10-n2%1)/10+n2%10;\r\n        System.out.println(&quot;Value of sum1: &quot; + sum1 +&quot;Value of sum2&quot;+ sum2);\r\n        in.close();\r\n     \r\n    }\r\n}\r\n}\r\n```\r\n","title":"Having trouble with IOException error in java","body":"<p>I am at the beginning of my java learning progress. I try to write a program aiming to calculate sum of digits of a 3-digit number.</p>\n<p>But I got the same message; cannot find symbol IOException.</p>\n<pre><code>import java.io.*;\n\npublic class App {\n\n    public class BufferedReader { \n    public void main(String[] args) throws IOException { \n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        int n1, n2, sum1, sum2;\n        System.out.print(&quot;Birinci sayı: &quot;);\n        n1 = Integer.parseInt(in.readLine());\n        sum1=(n1%1000-n1%100)/1000+(n1%100-n1%10)/100+(n1%10-n1%1)/10+n1%10;\n        System.out.print(&quot;İkinci sayı: &quot;);\n        n2 = Integer.parseInt(in.readLine());\n        sum2=(n2%1000-n2%100)/1000+(n2%100-n2%10)/100+(n2%10-n2%1)/10+n2%10;\n        System.out.println(&quot;Value of sum1: &quot; + sum1 +&quot;Value of sum2&quot;+ sum2);\n        in.close();\n     \n    }\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"score":1,"creation_date":1654689641,"post_id":70906081,"comment_id":128150047,"body_markdown":"Check this link: https://stackoverflow.com/questions/71857622/java-spring-boot-with-swagger-failed-to-load-remote-configuration/72541309#72541309","body":"Check this link: <a href=\"https://stackoverflow.com/questions/71857622/java-spring-boot-with-swagger-failed-to-load-remote-configuration/72541309#72541309\" title=\"java spring boot with swagger failed to load remote configuration\">stackoverflow.com/questions/71857622/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":3,"creation_date":1649365969,"post_id":70907226,"comment_id":126864151,"body_markdown":"If you recently updated, you may have `v2` ignored but not `v3`.","body":"If you recently updated, you may have <code>v2</code> ignored but not <code>v3</code>."}],"tags":[],"owner":{"account_id":11769493,"reputation":375,"user_id":8612935,"display_name":"Amir Pezeshk"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1643472084,"creation_date":1643472084,"answer_id":70907226,"question_id":70906081,"body_markdown":"If you are using Spring Security in your app, you must include the URL in the configs.\r\nAdd the code below please to your project.\r\n\r\n    @Configuration\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) throws Exception {\r\n    \t\tweb.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/bus/v3/api-docs/**&quot;);\r\n    \t}\r\n    }","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>If you are using Spring Security in your app, you must include the URL in the configs.\nAdd the code below please to your project.</p>\n<pre><code>@Configuration\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/bus/v3/api-docs/**&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15503529,"reputation":105,"user_id":11186505,"display_name":"Ivan Zaitsev"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1644329992,"creation_date":1644329992,"answer_id":71035460,"question_id":70906081,"body_markdown":"Perform &quot;Empty cache and hard refresh&quot; in your browser.","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>Perform &quot;Empty cache and hard refresh&quot; in your browser.</p>\n"},{"tags":[],"owner":{"account_id":15443432,"reputation":54,"user_id":11141244,"display_name":"Anıl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645012249,"creation_date":1645012249,"answer_id":71141350,"question_id":70906081,"body_markdown":"I think I have solved the problem (thanks to @Ivan Zaitsev), just wanted to add more clarification to the answer.\r\n\r\nI too have changed the api-docs.path property and I had the same problem. When I inspect the requests on swagger UI page, swagger-config request returns 404 since it was still trying to get the config from the old URL.\r\n\r\nEven though I have changed api-docs.path property, here is the request URL that tries to retrieve swagger-config.\r\nhttp://localhost:8080/api/v3/api-docs/swagger-config\r\n\r\nIt turned out to be a problem related to openapi-ui, because I was able to solve it when I cleared the browser cache and cookies. It is better do to the tests with incognito browser since it does not hold any data on the session.","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>I think I have solved the problem (thanks to @Ivan Zaitsev), just wanted to add more clarification to the answer.</p>\n<p>I too have changed the api-docs.path property and I had the same problem. When I inspect the requests on swagger UI page, swagger-config request returns 404 since it was still trying to get the config from the old URL.</p>\n<p>Even though I have changed api-docs.path property, here is the request URL that tries to retrieve swagger-config.\nhttp://localhost:8080/api/v3/api-docs/swagger-config</p>\n<p>It turned out to be a problem related to openapi-ui, because I was able to solve it when I cleared the browser cache and cookies. It is better do to the tests with incognito browser since it does not hold any data on the session.</p>\n"},{"comments":[{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":1,"creation_date":1666009030,"post_id":71468961,"comment_id":130826204,"body_markdown":"Didn&#39;t work for me","body":"Didn&#39;t work for me"},{"owner":{"account_id":6403579,"reputation":755,"user_id":4965515,"accept_rate":60,"display_name":"stackoverflowed"},"score":0,"creation_date":1685706470,"post_id":71468961,"comment_id":134702194,"body_markdown":"Worked for me. I also needed to add the X-Forwarded-Prefix header in my reverse proxy. See here: https://springdoc.org/index.html#how-can-i-deploy-springdoc-openapi-ui-behind-a-reverse-proxy","body":"Worked for me. I also needed to add the X-Forwarded-Prefix header in my reverse proxy. See here: <a href=\"https://springdoc.org/index.html#how-can-i-deploy-springdoc-openapi-ui-behind-a-reverse-proxy\" rel=\"nofollow noreferrer\">springdoc.org/&hellip;</a>"}],"tags":[],"owner":{"account_id":8992100,"reputation":201,"user_id":6703635,"display_name":"Kasiaras Dimitrios"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1655362589,"creation_date":1647266345,"answer_id":71468961,"question_id":70906081,"body_markdown":"I had the same problem, If you are behind a reverse proxy, the fix was to add the following property  in application.yml\r\n\r\n```\r\nserver:\r\n  forward-headers-strategy: framework\r\n```\r\n\r\nthis is needed due to the following\r\n\r\nSwagger relies on internal routing to make requests from the clients perspective. Putting the service behind a reverse-proxy without providing the X-Forwarded headers will result in the user not being able to use the documentation as intended\r\n\r\nsource -&gt; https://medium.com/swlh/swagger-spring-boot-2-with-a-reverse-proxy-in-docker-8a8795aa3da4","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>I had the same problem, If you are behind a reverse proxy, the fix was to add the following property  in application.yml</p>\n<pre><code>server:\n  forward-headers-strategy: framework\n</code></pre>\n<p>this is needed due to the following</p>\n<p>Swagger relies on internal routing to make requests from the clients perspective. Putting the service behind a reverse-proxy without providing the X-Forwarded headers will result in the user not being able to use the documentation as intended</p>\n<p>source -&gt; <a href=\"https://medium.com/swlh/swagger-spring-boot-2-with-a-reverse-proxy-in-docker-8a8795aa3da4\" rel=\"noreferrer\">https://medium.com/swlh/swagger-spring-boot-2-with-a-reverse-proxy-in-docker-8a8795aa3da4</a></p>\n"},{"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1648718942,"post_id":71667479,"comment_id":126697932,"body_markdown":"How does your answer differ from Amir Pezeshk answer?","body":"How does your answer differ from Amir Pezeshk answer?"},{"owner":{"account_id":7600040,"reputation":71,"user_id":5765007,"display_name":"Orlando Alfonso"},"score":1,"creation_date":1654280981,"post_id":71667479,"comment_id":128061751,"body_markdown":"Awesome adding &quot;antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;) worked for me. I have Spring boot 2.6.7 and openapi 1.6.9, Thank you @Aamma","body":"Awesome adding &quot;antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;) worked for me. I have Spring boot 2.6.7 and openapi 1.6.9, Thank you @Aamma"},{"owner":{"account_id":1202897,"reputation":309,"user_id":1173192,"accept_rate":60,"display_name":"Manticore"},"score":0,"creation_date":1664783263,"post_id":71667479,"comment_id":130542362,"body_markdown":"oh, thanks. This helps also to have &quot;/v3/api-docs&quot; already written in the &quot;Explore&quot; textfield. Till now I lost my mind to have again the Swagger-ui after the migration an I always had as defaukt the petshop documentation. I have Spring boot 2.7.4 and springdoc.openapi 1.6.11","body":"oh, thanks. This helps also to have &quot;/v3/api-docs&quot; already written in the &quot;Explore&quot; textfield. Till now I lost my mind to have again the Swagger-ui after the migration an I always had as defaukt the petshop documentation. I have Spring boot 2.7.4 and springdoc.openapi 1.6.11"}],"tags":[],"owner":{"account_id":23754896,"reputation":381,"user_id":17771130,"display_name":"Aamna"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1648580477,"creation_date":1648580477,"answer_id":71667479,"question_id":70906081,"body_markdown":"    Make sure to add &quot;/v3/api-docs/**&quot; in configure method.\r\n    @Configuration\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;\r\n    /v3/api-docs/**&quot;);\r\n        }\r\n    }","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<pre><code>Make sure to add &quot;/v3/api-docs/**&quot; in configure method.\n@Configuration\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;\n/v3/api-docs/**&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392860,"reputation":1763,"user_id":754388,"display_name":"Guildenstern70"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671534311,"creation_date":1671534311,"answer_id":74862126,"question_id":70906081,"body_markdown":"If you are using **SpringBoot v3**, you must use **springdoc-openapi v2**:\r\n\r\nhttps://springdoc.org/v2/\r\n\r\nWith gradle, for example:\r\n\r\n    implementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&#39;","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>If you are using <strong>SpringBoot v3</strong>, you must use <strong>springdoc-openapi v2</strong>:</p>\n<p><a href=\"https://springdoc.org/v2/\" rel=\"nofollow noreferrer\">https://springdoc.org/v2/</a></p>\n<p>With gradle, for example:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15303494,"reputation":51,"user_id":11041054,"display_name":"Jacek Andrzejczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685451339,"creation_date":1685451339,"answer_id":76365091,"question_id":70906081,"body_markdown":"It&#39;s old question but when I was looking for answer I came here, so after I make it work with newer version, I decided to share my answer, maybe someone find it useful.\r\n\r\nThis is my implementation for spring security - 3.1.0 and openApi 2.1.0 with gradle:\r\n\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-security:3.1.0&quot;\r\n    implementation &quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&quot;\r\n\r\n```    @Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n    @Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/swagger-ui/**&quot;,\r\n                        &quot;/swagger-resources/*&quot;,\r\n                        &quot;/v3/api-docs/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nYou need to specify paths in requestMatcher like &quot;/bus/v3/api-docs&quot;.\r\nThe best option is to implement it one by one:\r\n - check if &quot;/**&quot; works, then\r\n - check if /bus/** works (in my case matcher with default path &quot;/api&quot; which is set for whole project and whole path looked like this - /api/swagger-ui/** didn&#39;t work, but /swagger-ui/** worked) \r\n - then another check if /bus/v3/** work \r\n\r\n**  - two stars are wildcard.\r\n\r\nEven my path for swagger looks like this: api/swagger-ui/index.html#/\r\nI needed to add matcher: v3/api-docs/** to make it work.\r\n","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>It's old question but when I was looking for answer I came here, so after I make it work with newer version, I decided to share my answer, maybe someone find it useful.</p>\n<p>This is my implementation for spring security - 3.1.0 and openApi 2.1.0 with gradle:</p>\n<pre><code>implementation &quot;org.springframework.boot:spring-boot-starter-security:3.1.0&quot;\nimplementation &quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&quot;\n</code></pre>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfiguration {\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/swagger-ui/**&quot;,\n                        &quot;/swagger-resources/*&quot;,\n                        &quot;/v3/api-docs/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n        return http.build();\n    }\n}\n</code></pre>\n<p>You need to specify paths in requestMatcher like &quot;/bus/v3/api-docs&quot;.\nThe best option is to implement it one by one:</p>\n<ul>\n<li>check if &quot;/**&quot; works, then</li>\n<li>check if /bus/** works (in my case matcher with default path &quot;/api&quot; which is set for whole project and whole path looked like this - /api/swagger-ui/** didn't work, but /swagger-ui/** worked)</li>\n<li>then another check if /bus/v3/** work</li>\n</ul>\n<p>**  - two stars are wildcard.</p>\n<p>Even my path for swagger looks like this: api/swagger-ui/index.html#/\nI needed to add matcher: v3/api-docs/** to make it work.</p>\n"},{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694763475,"creation_date":1694763104,"answer_id":77110458,"question_id":70906081,"body_markdown":"If you use the `org.spring framework.security:spring-security-config:6.1.3`, this would be able to help you.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    class WebSecurity {\r\n        @Bean\r\n        fun securityFilterChain(http: HttpSecurity): SecurityFilterChain {\r\n       \r\n            http.authorizeHttpRequests {\r\n                it.requestMatchers(antMatcher(&quot;/swagger-ui/**&quot;)).permitAll()\r\n                it.requestMatchers(antMatcher(&quot;/api-docs/**&quot;)).permitAll()\r\n                it.anyRequest().authenticated()\r\n            }\r\n            return http.build()\r\n        }\r\n     \r\n    }\r\n\r\napplication.yml\r\n\r\n    springdoc:\r\n        swagger-ui:\r\n            enabled: true\r\n            path: /swagger-ui.html\r\n        api-docs.path: /api-docs","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>If you use the <code>org.spring framework.security:spring-security-config:6.1.3</code>, this would be able to help you.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\nclass WebSecurity {\n    @Bean\n    fun securityFilterChain(http: HttpSecurity): SecurityFilterChain {\n   \n        http.authorizeHttpRequests {\n            it.requestMatchers(antMatcher(&quot;/swagger-ui/**&quot;)).permitAll()\n            it.requestMatchers(antMatcher(&quot;/api-docs/**&quot;)).permitAll()\n            it.anyRequest().authenticated()\n        }\n        return http.build()\n    }\n \n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>springdoc:\n    swagger-ui:\n        enabled: true\n        path: /swagger-ui.html\n    api-docs.path: /api-docs\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29256396,"reputation":11,"user_id":22414504,"display_name":"Adil ALTUN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697794377,"creation_date":1697794377,"answer_id":77329817,"question_id":70906081,"body_markdown":"You can write this code in SecurityConfig class:\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n                 http\r\n                .cors()\r\n                .and()\r\n                .csrf().disable()\r\n                .headers()\r\n                .frameOptions()\r\n                .deny()\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(getPermitAll()).permitAll()\r\n                .antMatchers(AUTH_WHITELIST).permitAll();\r\n        }\r\n\r\nThe AUTH_WHITELIST like this:\r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n            &quot;/v2/api-docs&quot;,\r\n            &quot;/swagger-resources&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/configuration/ui&quot;,\r\n            &quot;/configuration/security&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n            &quot;/webjars/**&quot;,\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/swagger-ui/**&quot;\r\n    };","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>You can write this code in SecurityConfig class:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n             http\n            .cors()\n            .and()\n            .csrf().disable()\n            .headers()\n            .frameOptions()\n            .deny()\n            .and()\n            .authorizeRequests()\n            .antMatchers(getPermitAll()).permitAll()\n            .antMatchers(AUTH_WHITELIST).permitAll();\n    }\n</code></pre>\n<p>The AUTH_WHITELIST like this:</p>\n<pre><code>private static final String[] AUTH_WHITELIST = {\n        &quot;/v2/api-docs&quot;,\n        &quot;/swagger-resources&quot;,\n        &quot;/swagger-resources/**&quot;,\n        &quot;/configuration/ui&quot;,\n        &quot;/configuration/security&quot;,\n        &quot;/swagger-ui.html&quot;,\n        &quot;/webjars/**&quot;,\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/swagger-ui/**&quot;\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699425067,"creation_date":1699425067,"answer_id":77443253,"question_id":70906081,"body_markdown":"In my case, spring-boot app was deployed behind a reverse proxy and the reverse-proxy had a context-root.\r\n\r\nin localhost everything was working fine because the swagger would be on\r\nhttp://localhost:8080/swagger-ui/index.html\r\nand this would load http://localhost:8080/v3/api-docs/swagger-config fine\r\n\r\nBut when it was hosted on the test-server, the url will change to\r\nhttps://something.com/my-app/swagger-ui/index.html and this would load\r\n[https://something.com/v3/api-docs/swagger-config][2] instead of [https://something.com/**my-app**/v3/api-docs/swagger-config][1]\r\n\r\nthe following in application.properties fixed it\r\n\r\n    server.forward-headers-strategy=framework\r\n\r\n\r\n  [1]: https://something.com/my-app/v3/api-docs/swagger-config\r\n  [2]: https://something.com/v3/api-docs/swagger-config","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>In my case, spring-boot app was deployed behind a reverse proxy and the reverse-proxy had a context-root.</p>\n<p>in localhost everything was working fine because the swagger would be on\nhttp://localhost:8080/swagger-ui/index.html\nand this would load http://localhost:8080/v3/api-docs/swagger-config fine</p>\n<p>But when it was hosted on the test-server, the url will change to\n<a href=\"https://something.com/my-app/swagger-ui/index.html\" rel=\"nofollow noreferrer\">https://something.com/my-app/swagger-ui/index.html</a> and this would load\n<a href=\"https://something.com/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://something.com/v3/api-docs/swagger-config</a> instead of <a href=\"https://something.com/my-app/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://something.com/<strong>my-app</strong>/v3/api-docs/swagger-config</a></p>\n<p>the following in application.properties fixed it</p>\n<pre><code>server.forward-headers-strategy=framework\n</code></pre>\n"}],"owner":{"account_id":13437820,"reputation":331,"user_id":9695788,"display_name":"QiangLi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46863,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":10,"score":33,"last_activity_date":1701547867,"creation_date":1643464217,"question_id":70906081,"body_markdown":"Spring Boot 2.6.3 with Springdoc. \r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIn `applicaton.yaml`, when I set the path as /v3/api-docs or remove it, that means use the default path &quot;/v3/api-docs&quot;.\r\nThe Swagger UI page shows up correctly with the APIs\r\nhttp://localhost:8080/swagger-ui/index.html\r\n\r\nBut I want to overite the path as below\r\n```\r\n  api-docs.path: /bus/v3/api-docs\r\n```\r\n\r\nthen Swagger UI displays the &quot;Failed to load remote configuration&quot; error:\r\n\r\n![load api list error](https://i.stack.imgur.com/h4m8j.png)","title":"springboot swagger3 &quot;Failed to load remote configuration.&quot;","body":"<p>Spring Boot 2.6.3 with Springdoc.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>In <code>applicaton.yaml</code>, when I set the path as /v3/api-docs or remove it, that means use the default path &quot;/v3/api-docs&quot;.\nThe Swagger UI page shows up correctly with the APIs\nhttp://localhost:8080/swagger-ui/index.html</p>\n<p>But I want to overite the path as below</p>\n<pre><code>  api-docs.path: /bus/v3/api-docs\n</code></pre>\n<p>then Swagger UI displays the &quot;Failed to load remote configuration&quot; error:</p>\n<p><img src=\"https://i.stack.imgur.com/h4m8j.png\" alt=\"load api list error\" /></p>\n"},{"tags":["java","azure","azure-active-directory","signalr"],"owner":{"account_id":5674053,"reputation":21,"user_id":4487882,"display_name":"ISTI Kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701547619,"creation_date":1700171104,"question_id":77498208,"body_markdown":"I have a Java program that is not a not a web application that connects to an Azure SignalR hub running in ServerLess mode and listens for events. This program is run on different operating systems including Windows, macOS and Linux. The program uses the ASP.NET Core SignalR Java client.\r\n\r\nI would like to add authentication to validate with Azure BC2 using a username and password.\r\n\r\nHere is a simple example to connect to SignalR:\r\n\r\n```\r\n\t/**\r\n\t * Example program for SignalR.\r\n\t *\r\n\t * @param args the program arguments, which consists of the URL for the SignalR\r\n\t *             server and the hub name.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tif (args.length != 2) {\r\n\t\t\tSystem.out.print(&quot;\\nUsage: &quot;);\r\n\t\t\tSystem.out.print(Example.class);\r\n\t\t\tSystem.out.println(&quot; signalr_url hubname&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tfinal HttpHubConnectionBuilder builder = HubConnectionBuilder.create(args[0]);\r\n\t\t\tfinal HubConnection hubConnection = builder.build();\r\n\t\t\tfinal Action1&lt;Object&gt; callback = new Action1&lt;Object&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void invoke(Object param1) {\r\n\t\t\t\t\tSystem.out.print(&quot;Signalr hub connection ID: &quot;);\r\n\t\t\t\t\tSystem.out.println(hubConnection.getConnectionId());\r\n\t\t\t\t\tSystem.out.println(param1);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\thubConnection.on(args[1], callback, Object.class);\r\n\t\t\t// start the hub connection and wait until connected\r\n\t\t\thubConnection.start().blockingAwait();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI have found examples of how to do this with a Java web application or a Java program running on Windows but I need a solution for any OS.","title":"How can I add Azure BC2 authentication to the SignalR connection in a Java program?","body":"<p>I have a Java program that is not a not a web application that connects to an Azure SignalR hub running in ServerLess mode and listens for events. This program is run on different operating systems including Windows, macOS and Linux. The program uses the ASP.NET Core SignalR Java client.</p>\n<p>I would like to add authentication to validate with Azure BC2 using a username and password.</p>\n<p>Here is a simple example to connect to SignalR:</p>\n<pre><code>    /**\n     * Example program for SignalR.\n     *\n     * @param args the program arguments, which consists of the URL for the SignalR\n     *             server and the hub name.\n     */\n    public static void main(String[] args) {\n        if (args.length != 2) {\n            System.out.print(&quot;\\nUsage: &quot;);\n            System.out.print(Example.class);\n            System.out.println(&quot; signalr_url hubname&quot;);\n            return;\n        }\n        try {\n            final HttpHubConnectionBuilder builder = HubConnectionBuilder.create(args[0]);\n            final HubConnection hubConnection = builder.build();\n            final Action1&lt;Object&gt; callback = new Action1&lt;Object&gt;() {\n                @Override\n                public void invoke(Object param1) {\n                    System.out.print(&quot;Signalr hub connection ID: &quot;);\n                    System.out.println(hubConnection.getConnectionId());\n                    System.out.println(param1);\n                }\n            };\n            hubConnection.on(args[1], callback, Object.class);\n            // start the hub connection and wait until connected\n            hubConnection.start().blockingAwait();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I have found examples of how to do this with a Java web application or a Java program running on Windows but I need a solution for any OS.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1701544492,"post_id":77591833,"comment_id":136789980,"body_markdown":"Tangential: a vector is a specific thing in Java; these are arrays. It’s not clear what issue you’re having, but `compararVetores` ignores the returned arrays, unlike `main`.","body":"Tangential: a vector is a specific thing in Java; these are arrays. It’s not clear what issue you’re having, but <code>compararVetores</code> ignores the returned arrays, unlike <code>main</code>."},{"owner":{"account_id":29940314,"reputation":35,"user_id":22944997,"display_name":"Jos&#233; Filipe Silva"},"score":0,"creation_date":1701544712,"post_id":77591833,"comment_id":136790006,"body_markdown":"Oh I&#39;m sorry, yes arrays&#39; you&#39;re tottaly right. how do I edit my post? And what do you mean by ignores the returned arrays?","body":"Oh I&#39;m sorry, yes arrays&#39; you&#39;re tottaly right. how do I edit my post? And what do you mean by ignores the returned arrays?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1701546211,"post_id":77591833,"comment_id":136790171,"body_markdown":"Click on the &quot;Edit&quot; button above the comment section on your question. For `compararVetores`, you call `lerVetor1` and `lerVetor2` but do nothing with their result. You should avoid remaking `Scanner` every time for `System.in`: Make it once in `#main` and set it to a `private static` field. Since `#lerVetor1` and `#lerVetor2` don&#39;t actually update anything outside their own method, you might also benefit from keeping a non-static class to maintain your arrays. From there those `#ler` methods can update the class they&#39;re in.","body":"Click on the &quot;Edit&quot; button above the comment section on your question. For <code>compararVetores</code>, you call <code>lerVetor1</code> and <code>lerVetor2</code> but do nothing with their result. You should avoid remaking <code>Scanner</code> every time for <code>System.in</code>: Make it once in <code>#main</code> and set it to a <code>private static</code> field. Since <code>#lerVetor1</code> and <code>#lerVetor2</code> don&#39;t actually update anything outside their own method, you might also benefit from keeping a non-static class to maintain your arrays. From there those <code>#ler</code> methods can update the class they&#39;re in."}],"answers":[{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1701571759,"post_id":77591844,"comment_id":136792113,"body_markdown":"If you are writing an answer please explain the answer. This looks like a comment.","body":"If you are writing an answer please explain the answer. This looks like a comment."},{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1701571767,"post_id":77591844,"comment_id":136792114,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77591844/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29940314,"reputation":35,"user_id":22944997,"display_name":"Jos&#233; Filipe Silva"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701544441,"creation_date":1701544441,"answer_id":77591844,"question_id":77591833,"body_markdown":": I&#39;m sorry I&#39;m kinda new to stack and programming in general, so this might not be as accurate as I think it is, plus I don&#39;t know very well how this forum works yet. Thanks alot for the help tho.\r\n[![This is what happens when I run it properly][1]][1]\r\n\r\n\r\n[![And here it is after the verification for some reason][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QTNtT.png\r\n  [2]: https://i.stack.imgur.com/paya2.png","title":"Trying to find average between the numbers of 2 different arrays","body":"<p>: I'm sorry I'm kinda new to stack and programming in general, so this might not be as accurate as I think it is, plus I don't know very well how this forum works yet. Thanks alot for the help tho.\n<a href=\"https://i.stack.imgur.com/QTNtT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QTNtT.png\" alt=\"This is what happens when I run it properly\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/paya2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/paya2.png\" alt=\"And here it is after the verification for some reason\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701546403,"creation_date":1701546006,"answer_id":77591938,"question_id":77591833,"body_markdown":"First of all you have to simplify your code:\r\n\r\n - Use only one instance of `Scanner`\r\n - Use one method to create both arrays\r\n - Avoid unused variables while calculating median\r\n\r\nAnd then you do not need the `compararVetores()` method. In case it&#39;s mandatory to have both arrays with the same length, you should ask use once for an array size, and then ask to enter elements of each arrays eparately. \r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;How many values do you want to insert vector?: &quot;);\r\n    int total = scan.nextInt();\r\n\r\n    int[] arr1 = createArray(scan, 1, total);\r\n    int[] arr2 = createArray(scan, 2, total);\r\n\r\n    mediaVectors(arr1, arr2);\r\n}\r\n\r\nprivate static int[] createArray(Scanner scan, int no, int total) {\r\n    System.out.format(&quot;Enter total %d values of vector %d (space or enter are separators): &quot;, total, no);\r\n\r\n    int[] arr = new int[total];\r\n\r\n    for (int i = 0; i &lt; arr.length; i++)\r\n        arr[i] = scan.nextInt();\r\n\r\n    return arr;\r\n}\r\n\r\nprivate static void mediaVectors(int[] arr1, int[] arr2) {\r\n    int total = arr1.length + arr2.length;\r\n    int sum = Arrays.stream(arr1).sum() + Arrays.stream(arr2).sum();\r\n    double media = (double) sum / (double) total;\r\n\r\n    System.out.println(&quot;Sum of values: &quot; + sum);\r\n    System.out.println(&quot;Total values: &quot; + total);\r\n    System.out.format(Locale.ENGLISH, &quot;The average of the values entered in the vectors: %.2f&quot;, media);\r\n}\r\n```\r\n\r\n**Output:**\r\n```\r\nHow many values do you want to insert vector?: 4\r\nEnter total 4 values of vector 1 (space or enter are separators): 1 2 3 4\r\nEnter total 4 values of vector 2 (space or enter are separators): 5 6 7 8\r\nSum: 36\r\nTotal: 8\r\nThe average of the values entered in the vectors: 4.50\r\n```","title":"Trying to find average between the numbers of 2 different arrays","body":"<p>First of all you have to simplify your code:</p>\n<ul>\n<li>Use only one instance of <code>Scanner</code></li>\n<li>Use one method to create both arrays</li>\n<li>Avoid unused variables while calculating median</li>\n</ul>\n<p>And then you do not need the <code>compararVetores()</code> method. In case it's mandatory to have both arrays with the same length, you should ask use once for an array size, and then ask to enter elements of each arrays eparately.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n\n    System.out.print(&quot;How many values do you want to insert vector?: &quot;);\n    int total = scan.nextInt();\n\n    int[] arr1 = createArray(scan, 1, total);\n    int[] arr2 = createArray(scan, 2, total);\n\n    mediaVectors(arr1, arr2);\n}\n\nprivate static int[] createArray(Scanner scan, int no, int total) {\n    System.out.format(&quot;Enter total %d values of vector %d (space or enter are separators): &quot;, total, no);\n\n    int[] arr = new int[total];\n\n    for (int i = 0; i &lt; arr.length; i++)\n        arr[i] = scan.nextInt();\n\n    return arr;\n}\n\nprivate static void mediaVectors(int[] arr1, int[] arr2) {\n    int total = arr1.length + arr2.length;\n    int sum = Arrays.stream(arr1).sum() + Arrays.stream(arr2).sum();\n    double media = (double) sum / (double) total;\n\n    System.out.println(&quot;Sum of values: &quot; + sum);\n    System.out.println(&quot;Total values: &quot; + total);\n    System.out.format(Locale.ENGLISH, &quot;The average of the values entered in the vectors: %.2f&quot;, media);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>How many values do you want to insert vector?: 4\nEnter total 4 values of vector 1 (space or enter are separators): 1 2 3 4\nEnter total 4 values of vector 2 (space or enter are separators): 5 6 7 8\nSum: 36\nTotal: 8\nThe average of the values entered in the vectors: 4.50\n</code></pre>\n"}],"owner":{"account_id":29940314,"reputation":35,"user_id":22944997,"display_name":"Jos&#233; Filipe Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77591938,"answer_count":2,"score":1,"last_activity_date":1701546403,"creation_date":1701544178,"question_id":77591833,"body_markdown":"\r\nI&#39;m trying to find out what&#39;s the average between the numbers of 2 different arrays. Well, actually I made it, the thing is, I&#39;m making a verification, to make sure both arrays have the same length. Therefore when I commit the mistake (on purpose) of defining the length of one of them differentely, it shows the error message, and goes back to defining the array length, but when I make the calculous for the average, it returns it wrong, for some reason. Literally, everything works well, except when the function compararValores() is called.  \r\n\r\nSave me, please. \r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class MediaVetores {\r\n    public static void main(String[] args) {\r\n        int vec1 [];\r\n        int vec2 [];\r\n        vec1 = lerVetor1();\r\n        vec2 = lerVetor2();\r\n        mediaVetores(vec1, vec2);\r\n    }\r\n\r\n    static int lerInteiro(String pergunta){\r\n        System.out.println(pergunta);\r\n        Scanner ler = new Scanner(System.in);\r\n        return ler.nextInt();\r\n    }\r\n\r\n    static int [] lerVetor1(){\r\n        int tamVetor = lerInteiro(&quot;Quantos valores quer inserir no 1&#186; vetor?: &quot;);\r\n        int vec1 [] = new int [tamVetor];\r\n        for (int i = 0; i &lt; tamVetor; i++){\r\n            vec1 [i] = lerInteiro(&quot;Insira o valor do &quot; + (i+1) + &quot;&#186; n&#250;mero do vetor: &quot;);\r\n        }\r\n        return vec1;\r\n    }\r\n\r\n    static int [] lerVetor2(){\r\n        int tamVetor = lerInteiro(&quot;Quantos valores quer inserir no 2&#186; vetor?: &quot;);\r\n        int vec2 [] = new int [tamVetor];\r\n        for (int i = 0; i &lt; tamVetor; i++){\r\n            vec2 [i] = lerInteiro(&quot;Insira o valor do &quot; + (i+1) + &quot;&#186; n&#250;mero do vetor: &quot;);\r\n        }\r\n        return vec2;\r\n    }\r\n\r\n    static void mediaVetores(int vec1 [],int vec2 [] ){\r\n        int n1 = 0;\r\n        int c1 = 0;\r\n        int n2 = 0;\r\n        int c2 = 0;\r\n        int total = 0;\r\n        int soma = 0;\r\n        double media = 0.0;\r\n        for (int i = 0; i &lt; vec1.length; i++){\r\n            n1 = n1 + vec1[i];\r\n            c1 ++;\r\n        }\r\n        for (int j = 0; j &lt; vec2.length; j++){\r\n            n2 = n2 + vec2[j];\r\n            c2 ++;\r\n        }\r\n        soma = n1 + n2;\r\n        System.out.println(soma);\r\n        total = c1 + c2;\r\n        System.out.println(total);\r\n        compararVetores(vec1, vec2);\r\n        media = (double) soma / (double) total;\r\n\r\n        System.out.println(&quot;A m&#233;dia dos valores inseridos nos vetores &#233; de &quot; + media);\r\n\r\n    }\r\n\r\n   static void compararVetores (int a[], int b[]){\r\n        if (a.length != b.length){\r\n            System.out.println(&quot;Os vetores devem ter o mesmo n&#250;mero de valores! Volte a introduzir novos tamanhos de vetores.&quot;);\r\n            lerVetor1();\r\n            lerVetor2();\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Trying to find average between the numbers of 2 different arrays","body":"<p>I'm trying to find out what's the average between the numbers of 2 different arrays. Well, actually I made it, the thing is, I'm making a verification, to make sure both arrays have the same length. Therefore when I commit the mistake (on purpose) of defining the length of one of them differentely, it shows the error message, and goes back to defining the array length, but when I make the calculous for the average, it returns it wrong, for some reason. Literally, everything works well, except when the function compararValores() is called.</p>\n<p>Save me, please.</p>\n<pre><code>import java.util.Scanner;\n\npublic class MediaVetores {\n    public static void main(String[] args) {\n        int vec1 [];\n        int vec2 [];\n        vec1 = lerVetor1();\n        vec2 = lerVetor2();\n        mediaVetores(vec1, vec2);\n    }\n\n    static int lerInteiro(String pergunta){\n        System.out.println(pergunta);\n        Scanner ler = new Scanner(System.in);\n        return ler.nextInt();\n    }\n\n    static int [] lerVetor1(){\n        int tamVetor = lerInteiro(&quot;Quantos valores quer inserir no 1º vetor?: &quot;);\n        int vec1 [] = new int [tamVetor];\n        for (int i = 0; i &lt; tamVetor; i++){\n            vec1 [i] = lerInteiro(&quot;Insira o valor do &quot; + (i+1) + &quot;º número do vetor: &quot;);\n        }\n        return vec1;\n    }\n\n    static int [] lerVetor2(){\n        int tamVetor = lerInteiro(&quot;Quantos valores quer inserir no 2º vetor?: &quot;);\n        int vec2 [] = new int [tamVetor];\n        for (int i = 0; i &lt; tamVetor; i++){\n            vec2 [i] = lerInteiro(&quot;Insira o valor do &quot; + (i+1) + &quot;º número do vetor: &quot;);\n        }\n        return vec2;\n    }\n\n    static void mediaVetores(int vec1 [],int vec2 [] ){\n        int n1 = 0;\n        int c1 = 0;\n        int n2 = 0;\n        int c2 = 0;\n        int total = 0;\n        int soma = 0;\n        double media = 0.0;\n        for (int i = 0; i &lt; vec1.length; i++){\n            n1 = n1 + vec1[i];\n            c1 ++;\n        }\n        for (int j = 0; j &lt; vec2.length; j++){\n            n2 = n2 + vec2[j];\n            c2 ++;\n        }\n        soma = n1 + n2;\n        System.out.println(soma);\n        total = c1 + c2;\n        System.out.println(total);\n        compararVetores(vec1, vec2);\n        media = (double) soma / (double) total;\n\n        System.out.println(&quot;A média dos valores inseridos nos vetores é de &quot; + media);\n\n    }\n\n   static void compararVetores (int a[], int b[]){\n        if (a.length != b.length){\n            System.out.println(&quot;Os vetores devem ter o mesmo número de valores! Volte a introduzir novos tamanhos de vetores.&quot;);\n            lerVetor1();\n            lerVetor2();\n\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","cors"],"comments":[{"owner":{"account_id":15413608,"reputation":99,"user_id":11529048,"display_name":"Akhil"},"score":0,"creation_date":1692720943,"post_id":76949036,"comment_id":135661747,"body_markdown":"can you enable CORS in spring security and check.","body":"can you enable CORS in spring security and check."}],"answers":[{"tags":[],"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693120401,"creation_date":1693119927,"answer_id":76986023,"question_id":76949036,"body_markdown":"This message is probably issued by the frontend. For development purposes, you should use the **Rewrites** feature of Next.js (see [this answer](https://stackoverflow.com/a/65467719/17335001)).\r\n\r\n**next.config.js** :\r\n```js\r\nmodule.exports = {\r\n  async rewrites() {\r\n    return [\r\n      {\r\n        source: &#39;/api/:path*&#39;,\r\n        destination: &#39;http://localhost:8081/:path*&#39; // Proxy to Backend\r\n      }\r\n    ]\r\n  }\r\n}\r\n```","title":"Cors error connecting spring boot backend to next js frontend","body":"<p>This message is probably issued by the frontend. For development purposes, you should use the <strong>Rewrites</strong> feature of Next.js (see <a href=\"https://stackoverflow.com/a/65467719/17335001\">this answer</a>).</p>\n<p><strong>next.config.js</strong> :</p>\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = {\n  async rewrites() {\n    return [\n      {\n        source: '/api/:path*',\n        destination: 'http://localhost:8081/:path*' // Proxy to Backend\n      }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12972842,"reputation":95,"user_id":9377951,"display_name":"Stavros Argyrides"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701546051,"creation_date":1701546051,"answer_id":77591940,"question_id":76949036,"body_markdown":"Try adding OPTIONS to your allowed methods in your SecurityConfig class because if I am not mistaken before a POST request browser sends an OPTIONS request to the same address and return the CORS header.\r\n\r\n        @Bean\r\n    CorsConfigurationSource corsConfigurationSource(){\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://localhost&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }","title":"Cors error connecting spring boot backend to next js frontend","body":"<p>Try adding OPTIONS to your allowed methods in your SecurityConfig class because if I am not mistaken before a POST request browser sends an OPTIONS request to the same address and return the CORS header.</p>\n<pre><code>    @Bean\nCorsConfigurationSource corsConfigurationSource(){\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://localhost&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n"}],"owner":{"account_id":29270867,"reputation":11,"user_id":22425678,"display_name":"justatechnewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701546051,"creation_date":1692656413,"question_id":76949036,"body_markdown":"I need help on cors config concerning spring boot security. Everything works normally on postman. When I examine the requests, on the network tab in the browser, I found out that for all the request that don&#39;t work, the header returned as response doesn&#39;t contain anything. Here is the exact error I am getting:\r\n\r\n&gt; Access to XMLHttpRequest at &#39;http://localhost:8081/api/v1/auth/login&#39; from origin &#39;http://localhost:3000/&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource\r\n\r\n\r\nHere are my configs \r\n\r\n```lang-java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests(authorize -&gt;\r\n                        authorize\r\n                                .requestMatchers(&quot;/api/v1/auth/register&quot;, &quot;/api/v1/auth/login&quot;)\r\n                                .permitAll()\r\n                                .anyRequest()\r\n                                .authenticated()\r\n                )\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource(){\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://localhost&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd then in the main application \r\n```lang-java\r\n@SpringBootApplication\r\npublic class KeeperApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(KeeperApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry\r\n                        .addMapping(&quot;/**&quot;)\r\n                        .allowedOrigins(&quot;*&quot;)\r\n                        .allowedMethods(&quot;*&quot;)\r\n                        .allowedHeaders(&quot;*&quot;)\r\n                ;\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\nI lookup into their docs and that&#39;s where I found the config below the security filter chain one but that doesn&#39;t seem to work either.","title":"Cors error connecting spring boot backend to next js frontend","body":"<p>I need help on cors config concerning spring boot security. Everything works normally on postman. When I examine the requests, on the network tab in the browser, I found out that for all the request that don't work, the header returned as response doesn't contain anything. Here is the exact error I am getting:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'http://localhost:8081/api/v1/auth/login' from origin 'http://localhost:3000/' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource</p>\n</blockquote>\n<p>Here are my configs</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests(authorize -&gt;\n                        authorize\n                                .requestMatchers(&quot;/api/v1/auth/register&quot;, &quot;/api/v1/auth/login&quot;)\n                                .permitAll()\n                                .anyRequest()\n                                .authenticated()\n                )\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource(){\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://localhost&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n\n</code></pre>\n<p>And then in the main application</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class KeeperApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(KeeperApplication.class, args);\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry\n                        .addMapping(&quot;/**&quot;)\n                        .allowedOrigins(&quot;*&quot;)\n                        .allowedMethods(&quot;*&quot;)\n                        .allowedHeaders(&quot;*&quot;)\n                ;\n            }\n        };\n    }\n}\n</code></pre>\n<p>I lookup into their docs and that's where I found the config below the security filter chain one but that doesn't seem to work either.</p>\n"},{"tags":["java","email","ssl","jakarta-mail","pkix"],"comments":[{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":4,"creation_date":1410474608,"post_id":20122099,"comment_id":40351648,"body_markdown":"I ran into this after installing Avast anti-virus. I found 2 solutions: 1. disable SSL scanning in avast, 2. add your host to &quot;mail.smtp.ssl.trust&quot; in your java mail config. I&#39;m sure neither of these are the recommended approach but they are definitely the easiest options.","body":"I ran into this after installing Avast anti-virus. I found 2 solutions: 1. disable SSL scanning in avast, 2. add your host to &quot;mail.smtp.ssl.trust&quot; in your java mail config. I&#39;m sure neither of these are the recommended approach but they are definitely the easiest options."},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":0,"creation_date":1446621990,"post_id":20122099,"comment_id":54814103,"body_markdown":"The issue is that Sun/Oracle implements its own way of handling certificates and there is no way to specify that you don&#39;t want that but want to use e.g. openSSL or the default implementation of your operating system. It&#39;s a design issue -  or you might even consider it a bug.","body":"The issue is that Sun/Oracle implements its own way of handling certificates and there is no way to specify that you don&#39;t want that but want to use e.g. openSSL or the default implementation of your operating system. It&#39;s a design issue -  or you might even consider it a bug."}],"answers":[{"comments":[{"owner":{"account_id":2336417,"reputation":1219,"user_id":2048658,"accept_rate":57,"display_name":"fnkbz"},"score":0,"creation_date":1385125453,"post_id":20138929,"comment_id":30025096,"body_markdown":"Thank you it was helpfull! But i am still getting the same error\nI managed to get the mail server&#39;s certificate via openssl.. i imported it into cacert file but when i run the app again i get the same errors","body":"Thank you it was helpfull! But i am still getting the same error I managed to get the mail server&#39;s certificate via openssl.. i imported it into cacert file but when i run the app again i get the same errors"},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1385152639,"post_id":20138929,"comment_id":30040569,"body_markdown":"All I can say is you must be doing something wrong.  Without a lot more details of what exactly you did, it&#39;s hard to guess what you might&#39;ve done wrong.","body":"All I can say is you must be doing something wrong.  Without a lot more details of what exactly you did, it&#39;s hard to guess what you might&#39;ve done wrong."},{"owner":{"account_id":2336417,"reputation":1219,"user_id":2048658,"accept_rate":57,"display_name":"fnkbz"},"score":0,"creation_date":1385250682,"post_id":20138929,"comment_id":30067126,"body_markdown":"I use MacOSX mavericks. i did the connection to the mail server via terminal with the openssl tool with this command\n \n`echo | openssl s_client -connect server:port 2&gt;&amp;1 | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; cert.pem`\n\nand i save the file in cert.pem. Then i saved the cert.pem file into this path /Library/Java/Home/lib/security and i put the cert file into the cacerts like this\n\n`keytool -keystore cacerts -importcert -alias myalias -file cert.pem`\n\nthen i run the application and i am getting the same errors. Any thoughts?","body":"I use MacOSX mavericks. i did the connection to the mail server via terminal with the openssl tool with this command   <code>echo | openssl s_client -connect server:port 2&gt;&amp;1 | sed -ne &#39;&#47;-BEGIN CERTIFICATE-&#47;,&#47;-END CERTIFICATE-&#47;p&#39; &gt; cert.pem</code>  and i save the file in cert.pem. Then i saved the cert.pem file into this path /Library/Java/Home/lib/security and i put the cert file into the cacerts like this  <code>keytool -keystore cacerts -importcert -alias myalias -file cert.pem</code>  then i run the application and i am getting the same errors. Any thoughts?"},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1385265186,"post_id":20138929,"comment_id":30069660,"body_markdown":"Does keytool show you that the cert is there?  Is the application running on the same MacOS machine?  Do you have more than one version of the JDK or JRE installed on that machine?  Is the application being run from the command line using the &quot;java&quot; command, or is it running in an application server?  If you turn on extra debugging out as described [here](http://javamail.java.net/docs/SSLNOTES.txt), does it provide any clues?  Does it show that it&#39;s using the cert you installed?  You  might want to try the InstallCert program from the FAQ, just in case it makes a difference.","body":"Does keytool show you that the cert is there?  Is the application running on the same MacOS machine?  Do you have more than one version of the JDK or JRE installed on that machine?  Is the application being run from the command line using the &quot;java&quot; command, or is it running in an application server?  If you turn on extra debugging out as described <a href=\"http://javamail.java.net/docs/SSLNOTES.txt\" rel=\"nofollow noreferrer\">here</a>, does it provide any clues?  Does it show that it&#39;s using the cert you installed?  You  might want to try the InstallCert program from the FAQ, just in case it makes a difference."},{"owner":{"account_id":2336417,"reputation":1219,"user_id":2048658,"accept_rate":57,"display_name":"fnkbz"},"score":0,"creation_date":1385313858,"post_id":20138929,"comment_id":30080929,"body_markdown":"Thanks for the reply!\nYes via this command `keytool -list -keystore cacerts` keytool shows the Certificate fingerprint (SHA1).\nYes the application runs on the same machine. About the JDK and JRE terminal says `javac version 1.7.0_45` so i dont think that there are installed other versions. I use Eclipse IDE to run the app. If i use these debug options i get a lot of info..i noticed the `subject DNS dont match` and `certs dont match`..i will try to remove the cert and enter it again because i have imported into cacert more than once.\nthanks for the help the link was very useful!","body":"Thanks for the reply! Yes via this command <code>keytool -list -keystore cacerts</code> keytool shows the Certificate fingerprint (SHA1). Yes the application runs on the same machine. About the JDK and JRE terminal says <code>javac version 1.7.0_45</code> so i dont think that there are installed other versions. I use Eclipse IDE to run the app. If i use these debug options i get a lot of info..i noticed the <code>subject DNS dont match</code> and <code>certs dont match</code>..i will try to remove the cert and enter it again because i have imported into cacert more than once. thanks for the help the link was very useful!"},{"owner":{"account_id":2336417,"reputation":1219,"user_id":2048658,"accept_rate":57,"display_name":"fnkbz"},"score":0,"creation_date":1385317307,"post_id":20138929,"comment_id":30082961,"body_markdown":"I made the changes.. no luck!","body":"I made the changes.. no luck!"},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1385367069,"post_id":20138929,"comment_id":30097106,"body_markdown":"Try running the app outside of Eclipse.","body":"Try running the app outside of Eclipse."},{"owner":{"account_id":2336417,"reputation":1219,"user_id":2048658,"accept_rate":57,"display_name":"fnkbz"},"score":0,"creation_date":1385377349,"post_id":20138929,"comment_id":30101716,"body_markdown":"ok i solved the problem i will post the solution..thanks for the hints!","body":"ok i solved the problem i will post the solution..thanks for the hints!"},{"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"score":0,"creation_date":1520154763,"post_id":20138929,"comment_id":85192674,"body_markdown":"After importing smtp.gmail.com certificate as **fnkbz** suggested I got the same error. However after I enabled javax.net debugging (`-Djavax.net.debug=all`) I saw text &quot;`Subject: CN=AVG Web/Mail Shield Root, O=AVG Web/Mail Shield, OU=generated by AVG Antivirus for SSL/TLS scanning`&quot; being printed. After disabling AVG everything works as expected.","body":"After importing smtp.gmail.com certificate as <b>fnkbz</b> suggested I got the same error. However after I enabled javax.net debugging (<code>-Djavax.net.debug=all</code>) I saw text &quot;<code>Subject: CN=AVG Web&#47;Mail Shield Root, O=AVG Web&#47;Mail Shield, OU=generated by AVG Antivirus for SSL&#47;TLS scanning</code>&quot; being printed. After disabling AVG everything works as expected."},{"owner":{"account_id":3797299,"reputation":381,"user_id":3151927,"accept_rate":75,"display_name":"Adalberto Jos&#233; Brasaca"},"score":0,"creation_date":1596545036,"post_id":20138929,"comment_id":111839815,"body_markdown":"Thanks a lot, Bill. In my case, I only disabled my antivirus  and the program runs, nothing more. You have my vote !!!","body":"Thanks a lot, Bill. In my case, I only disabled my antivirus  and the program runs, nothing more. You have my vote !!!"}],"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":10,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1435179110,"creation_date":1385103579,"answer_id":20138929,"question_id":20122099,"body_markdown":"[This JavaMail FAQ entry should help.][1]\n\nQuoted text from the linked site:\n\n&gt;Q: When connecting to my mail server over SSL I get an exception like &quot;unable to find valid certification path to requested target&quot;.\n&gt;\n&gt;A: Your server is probably using a test certificate or self-signed certificate instead of a certificate signed by a commercial Certificate Authority. You&#39;ll need to install the server&#39;s certificate into your trust store. The InstallCert program will help.\n&gt;\n&gt;Alternatively, you can set the &quot;mail.protocol.ssl.trust&quot; property to the host name of your mail server. See the javadocs for the protocol provider packages for details.\n&gt;\n&gt;Other common causes of this problem are:\n&gt;\n&gt; - There&#39;s a firewall or anti-virus program intercepting your request.\n&gt; - There&#39;s something wrong in your JDK installation preventing it from finding the certificates for the trusted certificate authorities.\n&gt; - You&#39;re running in an application server that has overridden the JDK&#39;s list of trusted certificate authorities.\n\n\n  [1]: http://www.oracle.com/technetwork/java/javamail/faq/index.html#installcert","title":"Error in JavaMail : PKIX path building failed unable to find valid certification path to requested target","body":"<p><a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#installcert\" rel=\"nofollow noreferrer\">This JavaMail FAQ entry should help.</a></p>\n<p>Quoted text from the linked site:</p>\n<blockquote>\n<p>Q: When connecting to my mail server over SSL I get an exception like &quot;unable to find valid certification path to requested target&quot;.</p>\n<p>A: Your server is probably using a test certificate or self-signed certificate instead of a certificate signed by a commercial Certificate Authority. You'll need to install the server's certificate into your trust store. The InstallCert program will help.</p>\n<p>Alternatively, you can set the &quot;mail.protocol.ssl.trust&quot; property to the host name of your mail server. See the javadocs for the protocol provider packages for details.</p>\n<p>Other common causes of this problem are:</p>\n<ul>\n<li>There's a firewall or anti-virus program intercepting your request.</li>\n<li>There's something wrong in your JDK installation preventing it from finding the certificates for the trusted certificate authorities.</li>\n<li>You're running in an application server that has overridden the JDK's list of trusted certificate authorities.</li>\n</ul>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":105487,"reputation":26137,"user_id":281469,"accept_rate":94,"display_name":"bcoughlan"},"score":1,"creation_date":1424182655,"post_id":20190493,"comment_id":45437326,"body_markdown":"Note, don&#39;t use the quotes if you&#39;re putting the VM arguments in eclipse.ini","body":"Note, don&#39;t use the quotes if you&#39;re putting the VM arguments in eclipse.ini"},{"owner":{"account_id":6391400,"reputation":324,"user_id":4957418,"display_name":"Amani Kilumanga"},"score":1,"creation_date":1458779536,"post_id":20190493,"comment_id":60017230,"body_markdown":"&quot;After this you should pass these argument in VM&quot; +1 this finally fixed it for me","body":"&quot;After this you should pass these argument in VM&quot; +1 this finally fixed it for me"},{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":0,"creation_date":1632855337,"post_id":20190493,"comment_id":122605398,"body_markdown":"got java.lang.Exception: Input not an X.509 certificate with MacOS while trying to run the command &gt; keytool -keystore cacerts -importcert -alias youralias -file yourcert.pem","body":"got java.lang.Exception: Input not an X.509 certificate with MacOS while trying to run the command &gt; keytool -keystore cacerts -importcert -alias youralias -file yourcert.pem"}],"tags":[],"owner":{"account_id":2336417,"reputation":1219,"user_id":2048658,"accept_rate":57,"display_name":"fnkbz"},"comment_count":3,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1403863090,"creation_date":1385377261,"answer_id":20190493,"question_id":20122099,"body_markdown":"**Ok problem solved!** \r\n\r\nThe solution is this:\r\n\r\nFirst get the self-signed certificate from the mail server via openssl:\r\n\r\n    echo | openssl s_client -connect yoursever:port 2&gt;&amp;1 | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; yourcert.pem\r\n\r\n\r\nThen save the yourcert.pem file into this path /Library/Java/Home/lib/security (on macOSX) and put the cert file into the cacerts like this\r\n\r\n    keytool -keystore cacerts -importcert -alias youralias -file yourcert.pem\r\n\r\n\r\nThe default keystore password is changeit\r\n\r\nYou can view the change that you made with this command that shows the Certificate fingerprint.\r\n\r\n`keytool -list -keystore cacerts`\r\n\r\nAfter this you should pass these argument in VM\r\n\r\n(for windows and linux type yourpath between &quot; &quot; )\r\n\r\n`-Djavax.net.ssl.trustStore=&quot;/Library/Java/Home/lib/security/cacerts&quot; ` \r\n\r\n`-Djavax.net.ssl.trustStorePassword=&quot;changeit&quot; `\r\n\r\nFor Debug:\r\n\r\n`-Djava.security.debug=certpath`\r\n\r\n`-Djavax.net.debug=trustmanager`\r\n\r\n","title":"Error in JavaMail : PKIX path building failed unable to find valid certification path to requested target","body":"<p><strong>Ok problem solved!</strong> </p>\n\n<p>The solution is this:</p>\n\n<p>First get the self-signed certificate from the mail server via openssl:</p>\n\n<pre><code>echo | openssl s_client -connect yoursever:port 2&gt;&amp;1 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; yourcert.pem\n</code></pre>\n\n<p>Then save the yourcert.pem file into this path /Library/Java/Home/lib/security (on macOSX) and put the cert file into the cacerts like this</p>\n\n<pre><code>keytool -keystore cacerts -importcert -alias youralias -file yourcert.pem\n</code></pre>\n\n<p>The default keystore password is changeit</p>\n\n<p>You can view the change that you made with this command that shows the Certificate fingerprint.</p>\n\n<p><code>keytool -list -keystore cacerts</code></p>\n\n<p>After this you should pass these argument in VM</p>\n\n<p>(for windows and linux type yourpath between \" \" )</p>\n\n<p><code>-Djavax.net.ssl.trustStore=\"/Library/Java/Home/lib/security/cacerts\"</code> </p>\n\n<p><code>-Djavax.net.ssl.trustStorePassword=\"changeit\"</code></p>\n\n<p>For Debug:</p>\n\n<p><code>-Djava.security.debug=certpath</code></p>\n\n<p><code>-Djavax.net.debug=trustmanager</code></p>\n"},{"tags":[],"owner":{"account_id":4127046,"reputation":11,"user_id":3385904,"display_name":"titojusto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394114885,"creation_date":1394114885,"answer_id":22226923,"question_id":20122099,"body_markdown":"I&#39;ve lost so many days searching for a solution, and this post was helps to me. I had the same problem. I created a pem file like here, and then, the cert file .pem, was incrusted in cacert file (a copy called TrustStore.jks) with this command:\r\n\r\nkeytool.exe -import -noprompt -keystore TrustStore.jks -storepass changeit ^ -alias DOMAINNAME -file MYCERTFILE.pem\r\n\r\n(DOMAINNAME must be replace by hostname -this trick is very important-, and MYCERTFILE by file recent create...)\r\n\r\nI hope that this solution can helps to somebody.","title":"Error in JavaMail : PKIX path building failed unable to find valid certification path to requested target","body":"<p>I've lost so many days searching for a solution, and this post was helps to me. I had the same problem. I created a pem file like here, and then, the cert file .pem, was incrusted in cacert file (a copy called TrustStore.jks) with this command:</p>\n\n<p>keytool.exe -import -noprompt -keystore TrustStore.jks -storepass changeit ^ -alias DOMAINNAME -file MYCERTFILE.pem</p>\n\n<p>(DOMAINNAME must be replace by hostname -this trick is very important-, and MYCERTFILE by file recent create...)</p>\n\n<p>I hope that this solution can helps to somebody.</p>\n"},{"tags":[],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403805744,"creation_date":1403805744,"answer_id":24437250,"question_id":20122099,"body_markdown":"I also have run across this problem when talking to a mail server.  However, the root cause was that the server (Exchange 2013) had both a real certificate AND a self-signed applied to it.  The appropriate course of action was to remove the self-signed on the server because it was taking precedence and blocking the real certificate.","title":"Error in JavaMail : PKIX path building failed unable to find valid certification path to requested target","body":"<p>I also have run across this problem when talking to a mail server.  However, the root cause was that the server (Exchange 2013) had both a real certificate AND a self-signed applied to it.  The appropriate course of action was to remove the self-signed on the server because it was taking precedence and blocking the real certificate.</p>\n"},{"tags":[],"owner":{"account_id":4674889,"reputation":1042,"user_id":3785573,"display_name":"Baji Shaik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1449214396,"creation_date":1449214396,"answer_id":34083129,"question_id":20122099,"body_markdown":"easy way to solve this problem by getiing certificate file from Java 7\r\n\r\ncopy the &quot;cacerts&quot; file from following java 7 directory\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_79\\jre\\lib\\security\r\n\r\nand paste it in java 6 directory\r\n\r\n    C:\\Program Files\\Java\\jdk1.6.0\\jre\\lib\\security\r\n\r\n","title":"Error in JavaMail : PKIX path building failed unable to find valid certification path to requested target","body":"<p>easy way to solve this problem by getiing certificate file from Java 7</p>\n\n<p>copy the \"cacerts\" file from following java 7 directory</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_79\\jre\\lib\\security\n</code></pre>\n\n<p>and paste it in java 6 directory</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.6.0\\jre\\lib\\security\n</code></pre>\n"},{"comments":[{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":5,"creation_date":1480533511,"post_id":36214237,"comment_id":69006712,"body_markdown":"This should be upvoted, simple and avoids all the hecks of storing certificates in the keystore.","body":"This should be upvoted, simple and avoids all the hecks of storing certificates in the keystore."},{"owner":{"account_id":456086,"reputation":494,"user_id":854672,"display_name":"MauganRa"},"score":7,"creation_date":1482061153,"post_id":36214237,"comment_id":69614622,"body_markdown":"I had to replace `imap` with `imaps` in the property values to make this work, but you got my upvote. However, this should only be done for testing! Let the user decide if they trust the server, then add the server to the list of trusted hosts (don&#39;t know yet how to do this. When I do, I&#39;ll post an answer)","body":"I had to replace <code>imap</code> with <code>imaps</code> in the property values to make this work, but you got my upvote. However, this should only be done for testing! Let the user decide if they trust the server, then add the server to the list of trusted hosts (don&#39;t know yet how to do this. When I do, I&#39;ll post an answer)"},{"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"score":3,"creation_date":1592809586,"post_id":36214237,"comment_id":110546163,"body_markdown":"This just evades the most essential security feature. Don&#39;t do it.","body":"This just evades the most essential security feature. Don&#39;t do it."},{"owner":{"account_id":15422707,"reputation":324,"user_id":11126333,"display_name":"Vladyslav Pyrozhok"},"score":0,"creation_date":1610548156,"post_id":36214237,"comment_id":116169041,"body_markdown":"Replacing `imap` to `imaps` also worked for me. Thanks!","body":"Replacing <code>imap</code> to <code>imaps</code> also worked for me. Thanks!"},{"owner":{"account_id":8139998,"reputation":1398,"user_id":6130501,"display_name":"Adir Dayan"},"score":3,"creation_date":1618835509,"post_id":36214237,"comment_id":118714996,"body_markdown":"seems for SMTP need to replace `mail.imap` to `mail.smtp`","body":"seems for SMTP need to replace <code>mail.imap</code> to <code>mail.smtp</code>"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1677870937,"post_id":36214237,"comment_id":133429441,"body_markdown":"Not working with Java 18","body":"Not working with Java 18"},{"owner":{"account_id":3174834,"reputation":490,"user_id":2682968,"accept_rate":25,"display_name":"Seth D. Fulmer"},"score":0,"creation_date":1689972893,"post_id":36214237,"comment_id":135293441,"body_markdown":"Sorry about this but I&#39;ve been trying to find a similar solution but for SMTP not IMAP - How might I alter this solution for SMTP?  I&#39;m trying to connect to gmail&#39;s SMTP and I get the PKIX error - to which I have no certificate to add to any stores.  Any thoughts?  Do I just replace &quot;imap&quot; in the property strings above with &quot;smtp&quot; instead?","body":"Sorry about this but I&#39;ve been trying to find a similar solution but for SMTP not IMAP - How might I alter this solution for SMTP?  I&#39;m trying to connect to gmail&#39;s SMTP and I get the PKIX error - to which I have no certificate to add to any stores.  Any thoughts?  Do I just replace &quot;imap&quot; in the property strings above with &quot;smtp&quot; instead?"},{"owner":{"account_id":5138687,"reputation":628,"user_id":4116696,"accept_rate":50,"display_name":"Nealesh"},"score":0,"creation_date":1699184205,"post_id":36214237,"comment_id":136497107,"body_markdown":"Trying to fix this issue by loading mail server&#39;s trust certificate in client&#39;s truststore is overkill. Think, for example, If you can login using user and password on gmail.com then why would we need to store gmail&#39;s certificate on client&#39;s truststore while accessing the mail programmatically? both are programs. So, below is the right solution posted by Bill Shannon. Just add mail.protocol.ssl.trust to the mail server dns and you are good.","body":"Trying to fix this issue by loading mail server&#39;s trust certificate in client&#39;s truststore is overkill. Think, for example, If you can login using user and password on gmail.com then why would we need to store gmail&#39;s certificate on client&#39;s truststore while accessing the mail programmatically? both are programs. So, below is the right solution posted by Bill Shannon. Just add mail.protocol.ssl.trust to the mail server dns and you are good."}],"tags":[],"owner":{"account_id":2924513,"reputation":1113,"user_id":2506126,"accept_rate":16,"display_name":"TungHarry"},"comment_count":8,"down_vote_count":4,"up_vote_count":46,"is_accepted":false,"score":42,"last_activity_date":1458881724,"creation_date":1458881724,"answer_id":36214237,"question_id":20122099,"body_markdown":"You can try upgrade library javax.mail.jar at https://java.net/projects/javamail/pages/Home (now version is 1.5.5) and add code :\r\n\r\n    MailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n    sf.setTrustAllHosts(true); \r\n    properties.put(&quot;mail.imap.ssl.trust&quot;, &quot;*&quot;);\r\n    properties.put(&quot;mail.imap.ssl.socketFactory&quot;, sf);","title":"Error in JavaMail : PKIX path building failed unable to find valid certification path to requested target","body":"<p>You can try upgrade library javax.mail.jar at <a href=\"https://java.net/projects/javamail/pages/Home\" rel=\"noreferrer\">https://java.net/projects/javamail/pages/Home</a> (now version is 1.5.5) and add code :</p>\n\n<pre><code>MailSSLSocketFactory sf = new MailSSLSocketFactory();\nsf.setTrustAllHosts(true); \nproperties.put(\"mail.imap.ssl.trust\", \"*\");\nproperties.put(\"mail.imap.ssl.socketFactory\", sf);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28425408,"reputation":11,"user_id":21746852,"display_name":"Mariusz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701545559,"creation_date":1701545559,"answer_id":77591911,"question_id":20122099,"body_markdown":"Check adding to mail propperties this line:\r\n\r\n    properties.put(&quot;mail.smtp.ssl.trust&quot;, &quot;serveraddress&quot;);","title":"Error in JavaMail : PKIX path building failed unable to find valid certification path to requested target","body":"<p>Check adding to mail propperties this line:</p>\n<pre><code>properties.put(&quot;mail.smtp.ssl.trust&quot;, &quot;serveraddress&quot;);\n</code></pre>\n"}],"owner":{"account_id":2336417,"reputation":1219,"user_id":2048658,"accept_rate":57,"display_name":"fnkbz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83226,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":20190493,"answer_count":7,"score":36,"last_activity_date":1701545559,"creation_date":1385039958,"question_id":20122099,"body_markdown":"I am trying to build an email client app in android and right now i want to configure the javaMail part.\r\n\r\ni am trying to establish the connection with the imap server but something is wrong with my code..\r\nhere is my code:\r\n\r\n    package mailpackage;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.Folder;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.NoSuchProviderException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Store;\r\n     \r\n    public class Connection implements Runnable\r\n    {\r\n    \tboolean done;\r\n    \t\r\n    \tpublic Connection()\r\n    \t{\r\n    \t\tthis.done=false;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Hello from Connection Thread!&quot;);\r\n    \t\twhile(!done)\r\n    \t    {\r\n    \t\t\tString host = &quot;myhost&quot;;// change accordingly\r\n    \t\t    String mailStoreType = &quot;imap&quot;;\r\n    \t\t    String username = &quot;myusername&quot;;// change accordingly\r\n    \t\t    String password = &quot;mypasswd&quot;;// change accordingly\r\n    \r\n    \t\t    check(host, mailStoreType, username, password);\r\n    \t\t\t\r\n    \t    }\r\n    \t}\r\n    \t\r\n    \tpublic static void receiveEmail(String host, String storeType,  String username, String password)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t    Properties properties = new Properties();  \r\n\t\t    properties.put(&quot;mail.imap.com&quot;, host);  \r\n\t\t    properties.put(&quot;mail.imap.starttls.enable&quot;,&quot;true&quot;);\r\n\t\t    properties.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);  // If you need to authenticate\r\n\t\t    \r\n\t\t    // Use the following if you need SSL\r\n\t\t    properties.put(&quot;mail.imap.socketFactory.port&quot;, 993);\r\n\t\t    properties.put(&quot;mail.imap.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t\t    properties.put(&quot;mail.imap.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\t\t    \r\n\t\t    Session emailSession = Session.getDefaultInstance(properties);  \r\n\t\t    emailSession.setDebug(true);\r\n\t\t    \r\n\t\t    //2) create the IMAP store object and connect with the Imap server  \r\n\t\t    IMAPStore emailStore = (IMAPStore) emailSession.getStore(storeType);\r\n\t\t   \r\n\t\t    emailStore.connect(host, username, password);  \r\n\t\t\t   \r\n\t\t    //3) create the folder object and open it  \r\n\t\t    Folder emailFolder = emailStore.getFolder(&quot;INBOX&quot;);  \r\n\t\t    emailFolder.open(Folder.READ_ONLY);  \r\n\t\t  \r\n\t\t    //4) retrieve the messages from the folder in an array and print it  \r\n\t\t    Message[] messages = emailFolder.getMessages();  \r\n\t\t    for (int i = 0; i &lt;messages.length; i++) \r\n\t\t    {\r\n\t\t    \tMessage message = messages[i];  \r\n\t\t\t    MimeMessage m = new MimeMessage(emailSession);\r\n\t\t\t    m.setContent(((MimeMessage)messages[i]).getContent() , &quot;text/plain; charset=UTF-8&quot;);\r\n\t\t\t    System.out.println(&quot;---------------------------------&quot;);  \r\n\t\t\t    System.out.println(&quot;Email Number &quot; + (i + 1));  \r\n\t\t\t    System.out.println(&quot;Subject: &quot; + message.getSubject());  \r\n\t\t\t    System.out.println(&quot;From: &quot; + message.getFrom()[0]);  \r\n\t\t\t    System.out.println(&quot;Text: &quot; + message.getContent().toString());  \r\n\t\t\t    m.writeTo(System.out);\r\n\t\t    }  \r\n\t\t  \r\n\t\t    //5) close the store and folder objects  \r\n\t\t    emailFolder.close(false);  \r\n\t\t    emailStore.close();  \r\n\t\t  \r\n\t\t} \r\n\t\tcatch (NoSuchProviderException e) {e.printStackTrace();}   \r\n\t\tcatch (MessagingException e) {e.printStackTrace();}  \r\n\t\tcatch (IOException e) {e.printStackTrace();}\r\n\t\t\r\n\t}\r\n    \t\r\n    \tpublic void stopThread()\r\n    \t{\r\n    \t\tthis.done=true;\r\n    \t}\r\n    }\r\n\r\n\r\nI call the thread from another class like this\r\n \r\n\r\n    connec=new Connection();\r\n     (new Thread(connec)).start();\r\n\r\nI get the Following errors:\r\n\r\n    javax.mail.MessagingException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:571)\r\n    \tat javax.mail.Service.connect(Service.java:288)\r\n    \tat javax.mail.Service.connect(Service.java:169)\r\n    \tat mailpackage.Connection.check(Connection.java:63)\r\n    \tat mailpackage.Connection.run(Connection.java:33)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1884)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1341)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:153)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\r\n    \tat sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\r\n    \tat sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:882)\r\n    \tat sun.security.ssl.AppInputStream.read(AppInputStream.java:102)\r\n    \tat com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:110)\r\n    \tat java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\r\n    \tat java.io.BufferedInputStream.read(BufferedInputStream.java:254)\r\n    \tat com.sun.mail.iap.ResponseInputStream.readResponse(ResponseInputStream.java:98)\r\n    \tat com.sun.mail.iap.Response.&lt;init&gt;(Response.java:96)\r\n    \tat com.sun.mail.imap.protocol.IMAPResponse.&lt;init&gt;(IMAPResponse.java:61)\r\n    \tat com.sun.mail.imap.protocol.IMAPResponse.readResponse(IMAPResponse.java:135)\r\n    \tat com.sun.mail.imap.protocol.IMAPProtocol.readResponse(IMAPProtocol.java:261)\r\n    \tat com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:114)\r\n    \tat com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:104)\r\n    \tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:538)\r\n    \t... 5 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\r\n    \tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:260)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1323)\r\n    \t... 23 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)\r\n    \tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\r\n    \t... 29 more\r\n\r\ni read something about PKIX path error that says to add the cert to java store as a trusted cert, but i dont know if this is the solution for this, and if it is i dont know how to do it.\r\n\r\n// i dont have access to the mail server\r\n\r\nAny suggestions? thanks! ","title":"Error in JavaMail : PKIX path building failed unable to find valid certification path to requested target","body":"<p>I am trying to build an email client app in android and right now i want to configure the javaMail part.</p>\n\n<p>i am trying to establish the connection with the imap server but something is wrong with my code..\nhere is my code:</p>\n\n<pre><code>package mailpackage;\n\nimport java.util.Properties;\n\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.NoSuchProviderException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Store;\n\npublic class Connection implements Runnable\n{\n    boolean done;\n\n    public Connection()\n    {\n        this.done=false;\n    }\n\n    @Override\n    public void run()\n    {\n        System.out.println(\"Hello from Connection Thread!\");\n        while(!done)\n        {\n            String host = \"myhost\";// change accordingly\n            String mailStoreType = \"imap\";\n            String username = \"myusername\";// change accordingly\n            String password = \"mypasswd\";// change accordingly\n\n            check(host, mailStoreType, username, password);\n\n        }\n    }\n\n    public static void receiveEmail(String host, String storeType,  String username, String password)\n{\n    try\n    {\n        Properties properties = new Properties();  \n        properties.put(\"mail.imap.com\", host);  \n        properties.put(\"mail.imap.starttls.enable\",\"true\");\n        properties.put(\"mail.imap.auth\", \"true\");  // If you need to authenticate\n\n        // Use the following if you need SSL\n        properties.put(\"mail.imap.socketFactory.port\", 993);\n        properties.put(\"mail.imap.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n        properties.put(\"mail.imap.socketFactory.fallback\", \"false\");\n\n        Session emailSession = Session.getDefaultInstance(properties);  \n        emailSession.setDebug(true);\n\n        //2) create the IMAP store object and connect with the Imap server  \n        IMAPStore emailStore = (IMAPStore) emailSession.getStore(storeType);\n\n        emailStore.connect(host, username, password);  \n\n        //3) create the folder object and open it  \n        Folder emailFolder = emailStore.getFolder(\"INBOX\");  \n        emailFolder.open(Folder.READ_ONLY);  \n\n        //4) retrieve the messages from the folder in an array and print it  \n        Message[] messages = emailFolder.getMessages();  \n        for (int i = 0; i &lt;messages.length; i++) \n        {\n            Message message = messages[i];  \n            MimeMessage m = new MimeMessage(emailSession);\n            m.setContent(((MimeMessage)messages[i]).getContent() , \"text/plain; charset=UTF-8\");\n            System.out.println(\"---------------------------------\");  \n            System.out.println(\"Email Number \" + (i + 1));  \n            System.out.println(\"Subject: \" + message.getSubject());  \n            System.out.println(\"From: \" + message.getFrom()[0]);  \n            System.out.println(\"Text: \" + message.getContent().toString());  \n            m.writeTo(System.out);\n        }  \n\n        //5) close the store and folder objects  \n        emailFolder.close(false);  \n        emailStore.close();  \n\n    } \n    catch (NoSuchProviderException e) {e.printStackTrace();}   \n    catch (MessagingException e) {e.printStackTrace();}  \n    catch (IOException e) {e.printStackTrace();}\n\n}\n\n    public void stopThread()\n    {\n        this.done=true;\n    }\n}\n</code></pre>\n\n<p>I call the thread from another class like this</p>\n\n<pre><code>connec=new Connection();\n (new Thread(connec)).start();\n</code></pre>\n\n<p>I get the Following errors:</p>\n\n<pre><code>javax.mail.MessagingException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:571)\n    at javax.mail.Service.connect(Service.java:288)\n    at javax.mail.Service.connect(Service.java:169)\n    at mailpackage.Connection.check(Connection.java:63)\n    at mailpackage.Connection.run(Connection.java:33)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1884)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1341)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:153)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\n    at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:882)\n    at sun.security.ssl.AppInputStream.read(AppInputStream.java:102)\n    at com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:110)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:254)\n    at com.sun.mail.iap.ResponseInputStream.readResponse(ResponseInputStream.java:98)\n    at com.sun.mail.iap.Response.&lt;init&gt;(Response.java:96)\n    at com.sun.mail.imap.protocol.IMAPResponse.&lt;init&gt;(IMAPResponse.java:61)\n    at com.sun.mail.imap.protocol.IMAPResponse.readResponse(IMAPResponse.java:135)\n    at com.sun.mail.imap.protocol.IMAPProtocol.readResponse(IMAPProtocol.java:261)\n    at com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:114)\n    at com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:104)\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:538)\n    ... 5 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\n    at sun.security.validator.Validator.validate(Validator.java:260)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1323)\n    ... 23 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\n    ... 29 more\n</code></pre>\n\n<p>i read something about PKIX path error that says to add the cert to java store as a trusted cert, but i dont know if this is the solution for this, and if it is i dont know how to do it.</p>\n\n<p>// i dont have access to the mail server</p>\n\n<p>Any suggestions? thanks! </p>\n"},{"tags":["java","javafx","gridpane"],"comments":[{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1701546377,"post_id":77591908,"comment_id":136790189,"body_markdown":"It sounds like you&#39;re expecting your Timelines to be created asynchronously, each on starting after the previous one has finished, but they run (effectively) on their own thread.  So in a millisecond or so, you&#39;ve launched 4 Timelines in your forEach() loop.  Then, of course, the fastest one finishes first and puts its Circle on the screen.","body":"It sounds like you&#39;re expecting your Timelines to be created asynchronously, each on starting after the previous one has finished, but they run (effectively) on their own thread.  So in a millisecond or so, you&#39;ve launched 4 Timelines in your forEach() loop.  Then, of course, the fastest one finishes first and puts its Circle on the screen."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1701556957,"post_id":77591908,"comment_id":136791184,"body_markdown":"I actually think you need to abandon the `GridPane`. I think you just need a pane. I would have the pane have x number of lanes. I would use an `AnimationTimer` like a game loop. I would generate random circles that go down the lanes at random if that is what you need. I would code that when a circle collides with a slower circle in the lane, the faster circle slows down to the slower circle speed.","body":"I actually think you need to abandon the <code>GridPane</code>. I think you just need a pane. I would have the pane have x number of lanes. I would use an <code>AnimationTimer</code> like a game loop. I would generate random circles that go down the lanes at random if that is what you need. I would code that when a circle collides with a slower circle in the lane, the faster circle slows down to the slower circle speed."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1701612454,"post_id":77591908,"comment_id":136794918,"body_markdown":"[Citation](https://stackoverflow.com/a/77560050/230513) [required](https://stackoverflow.com/legal/terms-of-service/public).","body":"<a href=\"https://stackoverflow.com/a/77560050/230513\">Citation</a> <a href=\"https://stackoverflow.com/legal/terms-of-service/public\">required</a>."}],"owner":{"account_id":30006845,"reputation":9,"user_id":22995506,"display_name":"Jam2002"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701545514,"creation_date":1701545514,"question_id":77591908,"body_markdown":"I&#39;m working on a JavaFX application where multiple circles are supposed to be added to a GridPane. Each circle has its own speed (determining its movement rate on the grid) and is intended to be added to the grid at random intervals. However, I&#39;m encountering an issue where the circles are consistently being added in the order of their speeds (fastest first) rather than randomly.\r\n\r\nHere&#39;s a brief overview of the implementation:\r\n\r\nEach circle is assigned a random speed.\r\nThe goal is to have circles added at random intervals, regardless of their speed.\r\nHowever, despite my attempts to randomize the addition of circles to the grid, the fastest circle always gets added first, followed by the second fastest, and so on. This behavior persists even after implementing various strategies, such as assigning random delays for the addition of each circle.\r\n\r\nHere&#39;s a snippet of my code for reference:\r\n\r\n\r\n```\r\npackage phase1;\r\n\r\nimport javafx.animation.*;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.*;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\nimport java.util.*;\r\n\r\npublic class Mavenproject3 extends Application {\r\n    final int ROW_COUNT = 8;\r\n    final int COLUMN_COUNT = 1;\r\n    final Random random = new Random();\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        GridPane gridPane = new GridPane();\r\n        gridPane.setGridLinesVisible(true);\r\n\r\n        for (int i = 0; i &lt; ROW_COUNT; i++) {\r\n            gridPane.getRowConstraints().add(new RowConstraints(100));\r\n        }\r\n        for (int i = 0; i &lt; COLUMN_COUNT; i++) {\r\n            gridPane.getColumnConstraints().add(new ColumnConstraints(100));\r\n        }\r\n\r\n        Map&lt;Circle, Integer&gt; circleMap = new LinkedHashMap&lt;&gt;();\r\n        List&lt;Circle&gt; circles = Arrays.asList(\r\n                new Circle(22.5, Color.BLUE),\r\n                new Circle(22.5, Color.RED),\r\n                new Circle(22.5, Color.YELLOW),\r\n                new Circle(22.5, Color.GREEN)\r\n        );\r\n\r\n        circles.forEach(circle -&gt; {\r\n            int speed = random.nextInt(5) + 1;\r\n            circleMap.put(circle, -1); // Initially, circles are not on the grid\r\n            Timeline timeline = createCircleTimeline(circle, speed, circleMap, gridPane);\r\n            timeline.setCycleCount(Timeline.INDEFINITE);\r\n            timeline.play();\r\n        });\r\n\r\n        Scene scene = new Scene(gridPane);\r\n        stage.setTitle(&quot;Team 1&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    private Timeline createCircleTimeline(Circle circle, int speed, Map&lt;Circle, Integer&gt; circleMap, GridPane gridPane) {\r\n        return new Timeline(new KeyFrame(Duration.seconds(speed), e -&gt; {\r\n            Platform.runLater(() -&gt; {\r\n                moveOrRemoveCircle(circle, circleMap, gridPane);\r\n            });\r\n        }));\r\n    }\r\n\r\n    private void moveOrRemoveCircle(Circle circle, Map&lt;Circle, Integer&gt; circleMap, GridPane gridPane) {\r\n        Integer currentRow = circleMap.get(circle);\r\n        if (currentRow == null || !canMoveToNextRow(circle, circleMap, currentRow)) {\r\n            return; // Circle already removed or cannot move to next row\r\n        }\r\n\r\n        if (currentRow &lt; ROW_COUNT - 1) {\r\n            gridPane.getChildren().remove(circle);\r\n            gridPane.add(circle, 0, ++currentRow);\r\n            circleMap.put(circle, currentRow);\r\n        } else {\r\n            gridPane.getChildren().remove(circle);\r\n            circleMap.remove(circle);\r\n        }\r\n    }\r\n\r\n    private boolean canMoveToNextRow(Circle circle, Map&lt;Circle, Integer&gt; circleMap, int currentRow) {\r\n        return !isRowOccupied(currentRow + 1, circleMap);\r\n    }\r\n\r\n    private boolean isRowOccupied(int row, Map&lt;Circle, Integer&gt; circleMap) {\r\n        return circleMap.containsValue(row);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\nCould someone suggest what might be causing this issue and how to ensure that the circles are added to the grid in a completely random order, independent of their speeds?","title":"JavaFX Circles Added to Grid in Speed-Based Order Instead of Randomly","body":"<p>I'm working on a JavaFX application where multiple circles are supposed to be added to a GridPane. Each circle has its own speed (determining its movement rate on the grid) and is intended to be added to the grid at random intervals. However, I'm encountering an issue where the circles are consistently being added in the order of their speeds (fastest first) rather than randomly.</p>\n<p>Here's a brief overview of the implementation:</p>\n<p>Each circle is assigned a random speed.\nThe goal is to have circles added at random intervals, regardless of their speed.\nHowever, despite my attempts to randomize the addition of circles to the grid, the fastest circle always gets added first, followed by the second fastest, and so on. This behavior persists even after implementing various strategies, such as assigning random delays for the addition of each circle.</p>\n<p>Here's a snippet of my code for reference:</p>\n<pre><code>package phase1;\n\nimport javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.util.*;\n\npublic class Mavenproject3 extends Application {\n    final int ROW_COUNT = 8;\n    final int COLUMN_COUNT = 1;\n    final Random random = new Random();\n\n    @Override\n    public void start(Stage stage) {\n        GridPane gridPane = new GridPane();\n        gridPane.setGridLinesVisible(true);\n\n        for (int i = 0; i &lt; ROW_COUNT; i++) {\n            gridPane.getRowConstraints().add(new RowConstraints(100));\n        }\n        for (int i = 0; i &lt; COLUMN_COUNT; i++) {\n            gridPane.getColumnConstraints().add(new ColumnConstraints(100));\n        }\n\n        Map&lt;Circle, Integer&gt; circleMap = new LinkedHashMap&lt;&gt;();\n        List&lt;Circle&gt; circles = Arrays.asList(\n                new Circle(22.5, Color.BLUE),\n                new Circle(22.5, Color.RED),\n                new Circle(22.5, Color.YELLOW),\n                new Circle(22.5, Color.GREEN)\n        );\n\n        circles.forEach(circle -&gt; {\n            int speed = random.nextInt(5) + 1;\n            circleMap.put(circle, -1); // Initially, circles are not on the grid\n            Timeline timeline = createCircleTimeline(circle, speed, circleMap, gridPane);\n            timeline.setCycleCount(Timeline.INDEFINITE);\n            timeline.play();\n        });\n\n        Scene scene = new Scene(gridPane);\n        stage.setTitle(&quot;Team 1&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private Timeline createCircleTimeline(Circle circle, int speed, Map&lt;Circle, Integer&gt; circleMap, GridPane gridPane) {\n        return new Timeline(new KeyFrame(Duration.seconds(speed), e -&gt; {\n            Platform.runLater(() -&gt; {\n                moveOrRemoveCircle(circle, circleMap, gridPane);\n            });\n        }));\n    }\n\n    private void moveOrRemoveCircle(Circle circle, Map&lt;Circle, Integer&gt; circleMap, GridPane gridPane) {\n        Integer currentRow = circleMap.get(circle);\n        if (currentRow == null || !canMoveToNextRow(circle, circleMap, currentRow)) {\n            return; // Circle already removed or cannot move to next row\n        }\n\n        if (currentRow &lt; ROW_COUNT - 1) {\n            gridPane.getChildren().remove(circle);\n            gridPane.add(circle, 0, ++currentRow);\n            circleMap.put(circle, currentRow);\n        } else {\n            gridPane.getChildren().remove(circle);\n            circleMap.remove(circle);\n        }\n    }\n\n    private boolean canMoveToNextRow(Circle circle, Map&lt;Circle, Integer&gt; circleMap, int currentRow) {\n        return !isRowOccupied(currentRow + 1, circleMap);\n    }\n\n    private boolean isRowOccupied(int row, Map&lt;Circle, Integer&gt; circleMap) {\n        return circleMap.containsValue(row);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Could someone suggest what might be causing this issue and how to ensure that the circles are added to the grid in a completely random order, independent of their speeds?</p>\n"},{"tags":["java","kotlin","gradle","intellij-idea"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692739572,"post_id":75271960,"comment_id":135665157,"body_markdown":"By the way, the latest version is 3rd preview in Java 21: [*JEP 442: Foreign Function &amp; Memory API (Third Preview)*](https://openjdk.org/jeps/442)","body":"By the way, the latest version is 3rd preview in Java 21: <a href=\"https://openjdk.org/jeps/442\" rel=\"nofollow noreferrer\"><i>JEP 442: Foreign Function &amp; Memory API (Third Preview)</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":1044662,"reputation":1367,"user_id":1049930,"display_name":"John Caron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674958215,"creation_date":1674958215,"answer_id":75272208,"question_id":75271960,"body_markdown":"Thanks to this [answer][1]:\r\n\r\nshould be:\r\n\r\n    withType&lt;Test&gt;() {\r\n        useJUnitPlatform()\r\n        jvmArgs(&quot;--enable-preview&quot;)\r\n    }\r\n    withType&lt;JavaExec&gt;() {\r\n        jvmArgs(&quot;--enable-preview&quot;)\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/62115073/how-do-i-enable-enable-preview-for-tests\r\n","title":"Can&#39;t run Java preview features from test - works fine from non-test code","body":"<p>Thanks to this <a href=\"https://stackoverflow.com/questions/62115073/how-do-i-enable-enable-preview-for-tests\">answer</a>:</p>\n<p>should be:</p>\n<pre><code>withType&lt;Test&gt;() {\n    useJUnitPlatform()\n    jvmArgs(&quot;--enable-preview&quot;)\n}\nwithType&lt;JavaExec&gt;() {\n    jvmArgs(&quot;--enable-preview&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":1044662,"reputation":1367,"user_id":1049930,"display_name":"John Caron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701545213,"creation_date":1674953617,"question_id":75271960,"body_markdown":"Im trying out the &quot;Foreign Function &amp; Memory API (Preview)&quot; in Java 19. Ive used jextract to create netcdf_h.java. This is working from a main() program in src, but when I try to run it from a test program in test, it fails with the message:\r\n\r\n&gt; Preview features are not enabled for sunya/cdm/netcdf/ffm/netcdf_h\r\n&gt; (class file version 63.65535). Try running with &#39;--enable-preview&#39;\r\n&gt; java.lang.UnsupportedClassVersionError: Preview features are not\r\n&gt; enabled for sunya/cdm/netcdf/ffm/netcdf_h (class file version\r\n&gt; 63.65535). Try running with &#39;--enable-preview&#39;\r\n\r\nIm using gradle to build:\r\n\r\n    ...\r\n    \r\n    tasks {\r\n        val ENABLE_PREVIEW = &quot;--enable-preview&quot;\r\n        withType&lt;JavaCompile&gt;() {\r\n            options.compilerArgs.add(ENABLE_PREVIEW)\r\n            // Optionally we can show which preview feature we use.\r\n            options.compilerArgs.add(&quot;-Xlint:preview&quot;)\r\n            // Explicitly setting compiler option --release\r\n            // is needed when we wouldn&#39;t set the\r\n            // sourceCompatiblity and targetCompatibility\r\n            // properties of the Java plugin extension.\r\n            options.release.set(19)\r\n        }\r\n        withType&lt;Test&gt;() {\r\n            useJUnitPlatform()\r\n            jvmArgs!!.add(ENABLE_PREVIEW)\r\n        }\r\n        withType&lt;JavaExec&gt;() {\r\n            jvmArgs!!.add(ENABLE_PREVIEW)\r\n        }\r\n        withType&lt;KotlinCompile&gt; {\r\n            kotlinOptions.jvmTarget = &quot;19&quot;\r\n        }\r\n    }\r\n    \r\n    java {\r\n        toolchain {\r\n            languageVersion.set(JavaLanguageVersion.of(19))\r\n        }\r\n    }\r\n\r\nAnd IntelliJ to run.\r\n\r\nSeems like maybe theres somewhere else I need to add &quot;--enable-preview&quot; in gradle for tests ??","title":"Can&#39;t run Java preview features from test - works fine from non-test code","body":"<p>Im trying out the &quot;Foreign Function &amp; Memory API (Preview)&quot; in Java 19. Ive used jextract to create netcdf_h.java. This is working from a main() program in src, but when I try to run it from a test program in test, it fails with the message:</p>\n<blockquote>\n<p>Preview features are not enabled for sunya/cdm/netcdf/ffm/netcdf_h\n(class file version 63.65535). Try running with '--enable-preview'\njava.lang.UnsupportedClassVersionError: Preview features are not\nenabled for sunya/cdm/netcdf/ffm/netcdf_h (class file version\n63.65535). Try running with '--enable-preview'</p>\n</blockquote>\n<p>Im using gradle to build:</p>\n<pre><code>...\n\ntasks {\n    val ENABLE_PREVIEW = &quot;--enable-preview&quot;\n    withType&lt;JavaCompile&gt;() {\n        options.compilerArgs.add(ENABLE_PREVIEW)\n        // Optionally we can show which preview feature we use.\n        options.compilerArgs.add(&quot;-Xlint:preview&quot;)\n        // Explicitly setting compiler option --release\n        // is needed when we wouldn't set the\n        // sourceCompatiblity and targetCompatibility\n        // properties of the Java plugin extension.\n        options.release.set(19)\n    }\n    withType&lt;Test&gt;() {\n        useJUnitPlatform()\n        jvmArgs!!.add(ENABLE_PREVIEW)\n    }\n    withType&lt;JavaExec&gt;() {\n        jvmArgs!!.add(ENABLE_PREVIEW)\n    }\n    withType&lt;KotlinCompile&gt; {\n        kotlinOptions.jvmTarget = &quot;19&quot;\n    }\n}\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(19))\n    }\n}\n</code></pre>\n<p>And IntelliJ to run.</p>\n<p>Seems like maybe theres somewhere else I need to add &quot;--enable-preview&quot; in gradle for tests ??</p>\n"},{"tags":["java","try-catch","infinite-loop","do-while"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1701486286,"post_id":77589010,"comment_id":136785261,"body_markdown":"What will happen if the `scnr.nextDouble();` inside your catch block has an error?","body":"What will happen if the <code>scnr.nextDouble();</code> inside your catch block has an error?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701486865,"post_id":77589010,"comment_id":136785288,"body_markdown":"When answering the question from @sorifiend, bear in mind that when an invocation of `scnr.nextDouble();` results in an `InputMistMatchException` thrown, the token that triggered the exception is not consumed.","body":"When answering the question from @sorifiend, bear in mind that when an invocation of <code>scnr.nextDouble();</code> results in an <code>InputMistMatchException</code> thrown, the token that triggered the exception is not consumed."}],"answers":[{"comments":[{"owner":{"account_id":28595995,"reputation":1,"user_id":21894136,"display_name":"PurpleCyndaquil25"},"score":0,"creation_date":1701542524,"post_id":77589040,"comment_id":136789733,"body_markdown":"That&#39;s all I needed apparently, thank you!","body":"That&#39;s all I needed apparently, thank you!"},{"owner":{"account_id":28595995,"reputation":1,"user_id":21894136,"display_name":"PurpleCyndaquil25"},"score":0,"creation_date":1701543229,"post_id":77589040,"comment_id":136789812,"body_markdown":"So my second do-while loop for this assignment puts out the invalid input but does not loop to keep asking the input. It continues with the rest of the code, but prints out the invalid input. I added the rest of the code above","body":"So my second do-while loop for this assignment puts out the invalid input but does not loop to keep asking the input. It continues with the rest of the code, but prints out the invalid input. I added the rest of the code above"}],"tags":[],"owner":{"account_id":6584207,"reputation":131,"user_id":5087481,"display_name":"Baran"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701487309,"creation_date":1701487309,"answer_id":77589040,"question_id":77589010,"body_markdown":"What happens is when you try to wipe out user input with `scnr.nextDouble()` it throws InputMistMatchException, which isn&#39;t handled. This is because the provided input does not match the expected type. To overcome this in your context, you can use `scnr.nextLine()`. Because what ever you input it can be interpreted as string.","title":"Do-While loop with try and catch exits loop without asking for new input","body":"<p>What happens is when you try to wipe out user input with <code>scnr.nextDouble()</code> it throws InputMistMatchException, which isn't handled. This is because the provided input does not match the expected type. To overcome this in your context, you can use <code>scnr.nextLine()</code>. Because what ever you input it can be interpreted as string.</p>\n"},{"comments":[{"owner":{"account_id":28595995,"reputation":1,"user_id":21894136,"display_name":"PurpleCyndaquil25"},"score":0,"creation_date":1701541521,"post_id":77589051,"comment_id":136789638,"body_markdown":"it shouldn&#39;t break because it is supposed to keep looping until the user enters the correct input type.","body":"it shouldn&#39;t break because it is supposed to keep looping until the user enters the correct input type."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1701549062,"post_id":77589051,"comment_id":136790437,"body_markdown":"@PurpleCyndaquil25 If `Scanner.hasNextLine()` returns `false` there will not be any more user input. You can end the program. `System.exit(1);` if you prefer.","body":"@PurpleCyndaquil25 If <code>Scanner.hasNextLine()</code> returns <code>false</code> there will not be any more user input. You can end the program. <code>System.exit(1);</code> if you prefer."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701487557,"creation_date":1701487557,"answer_id":77589051,"question_id":77589010,"body_markdown":"You *should* check if there is a `double` available with [`Scanner.hasNextDouble()`](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNextDouble--) before you attempt to read a `double` with a `Scanner`. Similarly, you should check if there is a line of input with [`Scanner.hasNextLine()`](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNextLine--) before reading (and discarding) any non-`double` token. Like,\r\n\r\n\tdo {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Enter wall height (feet): &quot;);\r\n\t\t\t// Is there a double available?\r\n\t\t\tif (scnr.hasNextDouble()) {\r\n\t\t\t\twallHeight = scnr.nextDouble();\r\n\t\t\t\tif (wallHeight &lt;= 0) {\r\n\t\t\t\t\tthrow new Exception(&quot;Invalid Input&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tdecimal = true;\r\n\t\t\t} else if (scnr.hasNextLine()) {\r\n\t\t\t\t// Consume the next non-double token\r\n\t\t\t\tscnr.nextLine();\r\n\t\t\t} else {\r\n\t\t\t\t// There&#39;s no more input, end the loop\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Invalid Input&quot;);\r\n\t\t}\r\n\t} while (!decimal);\r\n\r\n","title":"Do-While loop with try and catch exits loop without asking for new input","body":"<p>You <em>should</em> check if there is a <code>double</code> available with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNextDouble--\" rel=\"nofollow noreferrer\"><code>Scanner.hasNextDouble()</code></a> before you attempt to read a <code>double</code> with a <code>Scanner</code>. Similarly, you should check if there is a line of input with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNextLine--\" rel=\"nofollow noreferrer\"><code>Scanner.hasNextLine()</code></a> before reading (and discarding) any non-<code>double</code> token. Like,</p>\n<pre><code>do {\n    try {\n        System.out.println(&quot;Enter wall height (feet): &quot;);\n        // Is there a double available?\n        if (scnr.hasNextDouble()) {\n            wallHeight = scnr.nextDouble();\n            if (wallHeight &lt;= 0) {\n                throw new Exception(&quot;Invalid Input&quot;);\n            }\n            decimal = true;\n        } else if (scnr.hasNextLine()) {\n            // Consume the next non-double token\n            scnr.nextLine();\n        } else {\n            // There's no more input, end the loop\n            break;\n        }\n    } catch (Exception e) {\n        System.out.println(&quot;Invalid Input&quot;);\n    }\n} while (!decimal);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28595995,"reputation":1,"user_id":21894136,"display_name":"PurpleCyndaquil25"},"score":0,"creation_date":1701541588,"post_id":77589288,"comment_id":136789641,"body_markdown":"that is a little beyond what I have learned so far. This is for an intro to java class, I should have mentioned.","body":"that is a little beyond what I have learned so far. This is for an intro to java class, I should have mentioned."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701496188,"creation_date":1701496188,"answer_id":77589288,"question_id":77589010,"body_markdown":"As a suggestion, don&#39;t throw an exception if the User enters a wrong value type or a typo. Validate that entry and if it&#39;s incorrect, let him/her try again and make a proper entry, for example:\r\n\r\n```\r\nScanner userInput = new Scanner(System.in);\r\nString ls = System.lineSeparator();\r\n\r\ndouble feet;\r\nString inFeet = &quot;&quot;;\r\nwhile (inFeet.isEmpty()) {\r\n    System.out.print(&quot;Enter wall height (in feet): &quot;);\r\n    inFeet = userInput.nextLine().trim();\r\n    /* Is the User entry a string representation of a unsigned\r\n       integer or floating point value and is that value greater\r\n       than 0?              */\r\n    if (!inFeet.matches(&quot;\\\\d+(\\\\.\\\\d+)?&quot;) || Double.parseDouble(inFeet) &lt;= 0) {\r\n         System.out.println(&quot;Entry (&quot; + inFeet + &quot;): -&gt; Error - Invalid Wall &quot;\r\n                          + &quot;Height Entry! Try again...&quot; + ls);\r\n         inFeet = &quot;&quot;;  // Empty `inFeet` to ensure re-loop:\r\n    }\r\n}\r\n// If code makes it to here then the entry is valid!\r\n\r\nfeet = Double.parseDouble(inFeet);\r\nSystem.out.println(&quot;User Entry: -&gt; &quot; + feet + &quot; feet.&quot;);\r\n```\r\n\r\n**Console Output:**\r\n\r\n```\r\nEnter wall height (in feet): 0\r\nEntry (0): -&gt; Error - Invalid Wall Height Entry! Try again...\r\n\r\nEnter wall height (in feet): 14.25\r\nUser Entry: -&gt; 14.25 feet.\r\n```\r\n\r\nConvert the `while` loop to a `do/while` if you need to.","title":"Do-While loop with try and catch exits loop without asking for new input","body":"<p>As a suggestion, don't throw an exception if the User enters a wrong value type or a typo. Validate that entry and if it's incorrect, let him/her try again and make a proper entry, for example:</p>\n<pre><code>Scanner userInput = new Scanner(System.in);\nString ls = System.lineSeparator();\n\ndouble feet;\nString inFeet = &quot;&quot;;\nwhile (inFeet.isEmpty()) {\n    System.out.print(&quot;Enter wall height (in feet): &quot;);\n    inFeet = userInput.nextLine().trim();\n    /* Is the User entry a string representation of a unsigned\n       integer or floating point value and is that value greater\n       than 0?              */\n    if (!inFeet.matches(&quot;\\\\d+(\\\\.\\\\d+)?&quot;) || Double.parseDouble(inFeet) &lt;= 0) {\n         System.out.println(&quot;Entry (&quot; + inFeet + &quot;): -&gt; Error - Invalid Wall &quot;\n                          + &quot;Height Entry! Try again...&quot; + ls);\n         inFeet = &quot;&quot;;  // Empty `inFeet` to ensure re-loop:\n    }\n}\n// If code makes it to here then the entry is valid!\n\nfeet = Double.parseDouble(inFeet);\nSystem.out.println(&quot;User Entry: -&gt; &quot; + feet + &quot; feet.&quot;);\n</code></pre>\n<p><strong>Console Output:</strong></p>\n<pre><code>Enter wall height (in feet): 0\nEntry (0): -&gt; Error - Invalid Wall Height Entry! Try again...\n\nEnter wall height (in feet): 14.25\nUser Entry: -&gt; 14.25 feet.\n</code></pre>\n<p>Convert the <code>while</code> loop to a <code>do/while</code> if you need to.</p>\n"}],"owner":{"account_id":28595995,"reputation":1,"user_id":21894136,"display_name":"PurpleCyndaquil25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701544652,"creation_date":1701486110,"question_id":77589010,"body_markdown":"I have to create a do-while loop to validate any user input that is not a double and is not zero. I&#39;ve been looking around on here and googling, I was creating an infinite loop, but I figured that out by wiping out the input. However, now the program is not asking for user input again and the loop is breaking. Not really sure what I broke. This is just one part of the code, I also have to do this do-while loop for wallWidth.\r\n\r\n\r\n**EDIT so now I got the first loop working, but there seems to be something wrong with the second variable&#39;s input wallWidth. No matter what I input, it does not keep looping if I enter incorrect input and it seems to always be assigned to zero. I&#39;ve added all the code here and the output at the bottom.\r\n```\r\npublic class Paint1 {\r\n\r\n    public static void main(String[] args) {  \r\n        Scanner scnr = new Scanner(System.in);  \r\n        double wallHeight = 0.0;  \r\n        double wallWidth = 0.0;  \r\n        double wallArea = 0.0;  \r\n        double gallonsPaintNeeded = 0.0;  \r\n        boolean decimal = false;  \r\n\r\n        \r\n        final double squareFeetPerGallons = 350.0;  \r\n        \r\n        // Implement a do-while loop to ensure input is valid\r\n        // Prompt user to input wall&#39;s height\r\n        do {  \r\n            try {  \r\n                System.out.println(&quot;Enter wall height (feet): &quot;);  \r\n                wallHeight = scnr.nextDouble();  \r\n                \r\n                if (wallHeight &lt;= 0) { //non zero numbers  \r\n                    throw new Exception(&quot;Invalid Input&quot;);  \r\n                }  \r\n                decimal = true;  \r\n            }  \r\n            catch (Exception e) {  \r\n                System.out.println(&quot;Invalid Input&quot;);  \r\n                scnr.nextDouble(); //wipe out user input  \r\n            }  \r\n\r\n        } while (!decimal);  \r\n        do {  \r\n            try {  \r\n                System.out.println(&quot;Enter wall width (feet): &quot;);  \r\n                wallWidth = scnr.nextDouble(); //width input  \r\n\r\n                if (wallWidth &lt;= 0) {  \r\n                    throw new Exception(&quot;Invalid Input&quot;);  \r\n                }  \r\n                decimal = true;  \r\n            }  \r\n\r\n            catch (Exception e) {  \r\n                System.out.println(&quot;Invalid Input&quot;);  \r\n                scnr.nextLine(); // wipeout  \r\n            }  \r\n        } while (!decimal);  \r\n\r\n        // Calculate and output wall area  \r\n        wallArea = wallHeight * wallWidth;  \r\n        System.out.println(&quot;Wall area: &quot; + wallArea + &quot; square feet&quot;);  \r\n\r\n        // Calculate and output the amount of paint (in gallons) needed to paint the wall  \r\n        gallonsPaintNeeded = wallArea / squareFeetPerGallons;  \r\n        System.out.println(&quot;Paint needed: &quot; + gallonsPaintNeeded + &quot; gallons&quot;);  \r\n\r\n    }  \r\n}  \r\n```\r\n\r\n\r\nThe loop stops and still creates the exception without continuing after clearing the invalid input.\r\n\r\n```none\r\nEnter wall height (feet): \r\nthirty\r\nInvalid Input\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n at Paint1.main(Paint1.java:31)\r\n```\r\n\r\n```\r\nEnter wall height (feet): \r\n30\r\nEnter wall width (feet):\r\n0\r\nInvalid Input\r\nWall area: 0.0 square feet\r\nPaint needed: 0.0 gallons\r\n```","title":"Do-While loop with try and catch exits loop without asking for new input","body":"<p>I have to create a do-while loop to validate any user input that is not a double and is not zero. I've been looking around on here and googling, I was creating an infinite loop, but I figured that out by wiping out the input. However, now the program is not asking for user input again and the loop is breaking. Not really sure what I broke. This is just one part of the code, I also have to do this do-while loop for wallWidth.</p>\n<p>**EDIT so now I got the first loop working, but there seems to be something wrong with the second variable's input wallWidth. No matter what I input, it does not keep looping if I enter incorrect input and it seems to always be assigned to zero. I've added all the code here and the output at the bottom.</p>\n<pre><code>public class Paint1 {\n\n    public static void main(String[] args) {  \n        Scanner scnr = new Scanner(System.in);  \n        double wallHeight = 0.0;  \n        double wallWidth = 0.0;  \n        double wallArea = 0.0;  \n        double gallonsPaintNeeded = 0.0;  \n        boolean decimal = false;  \n\n        \n        final double squareFeetPerGallons = 350.0;  \n        \n        // Implement a do-while loop to ensure input is valid\n        // Prompt user to input wall's height\n        do {  \n            try {  \n                System.out.println(&quot;Enter wall height (feet): &quot;);  \n                wallHeight = scnr.nextDouble();  \n                \n                if (wallHeight &lt;= 0) { //non zero numbers  \n                    throw new Exception(&quot;Invalid Input&quot;);  \n                }  \n                decimal = true;  \n            }  \n            catch (Exception e) {  \n                System.out.println(&quot;Invalid Input&quot;);  \n                scnr.nextDouble(); //wipe out user input  \n            }  \n\n        } while (!decimal);  \n        do {  \n            try {  \n                System.out.println(&quot;Enter wall width (feet): &quot;);  \n                wallWidth = scnr.nextDouble(); //width input  \n\n                if (wallWidth &lt;= 0) {  \n                    throw new Exception(&quot;Invalid Input&quot;);  \n                }  \n                decimal = true;  \n            }  \n\n            catch (Exception e) {  \n                System.out.println(&quot;Invalid Input&quot;);  \n                scnr.nextLine(); // wipeout  \n            }  \n        } while (!decimal);  \n\n        // Calculate and output wall area  \n        wallArea = wallHeight * wallWidth;  \n        System.out.println(&quot;Wall area: &quot; + wallArea + &quot; square feet&quot;);  \n\n        // Calculate and output the amount of paint (in gallons) needed to paint the wall  \n        gallonsPaintNeeded = wallArea / squareFeetPerGallons;  \n        System.out.println(&quot;Paint needed: &quot; + gallonsPaintNeeded + &quot; gallons&quot;);  \n\n    }  \n}  \n</code></pre>\n<p>The loop stops and still creates the exception without continuing after clearing the invalid input.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter wall height (feet): \nthirty\nInvalid Input\nException in thread &quot;main&quot; java.util.InputMismatchException\n at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n at java.base/java.util.Scanner.next(Scanner.java:1594)\n at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\n at Paint1.main(Paint1.java:31)\n</code></pre>\n<pre><code>Enter wall height (feet): \n30\nEnter wall width (feet):\n0\nInvalid Input\nWall area: 0.0 square feet\nPaint needed: 0.0 gallons\n</code></pre>\n"},{"tags":["java","android","sqlite","oncreate"],"answers":[{"comments":[{"owner":{"account_id":188810,"reputation":33950,"user_id":427763,"accept_rate":92,"display_name":"prolink007"},"score":0,"creation_date":1297907095,"post_id":5024250,"comment_id":5618902,"body_markdown":"testing now, i believe you are right. I just checked the android examples and found that. I must have been over looking it, will let you know how it goes. Thanks","body":"testing now, i believe you are right. I just checked the android examples and found that. I must have been over looking it, will let you know how it goes. Thanks"}],"tags":[],"owner":{"account_id":194738,"reputation":1368,"user_id":437256,"display_name":"gngr44"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1444332436,"creation_date":1297907004,"answer_id":5024250,"question_id":5024223,"body_markdown":"You have to call `getWritableDatabase()` or `getReadableDatabase()`.","title":"SQLiteOpenHelper failing to call onCreate?","body":"<p>You have to call <code>getWritableDatabase()</code> or <code>getReadableDatabase()</code>.</p>\n"},{"comments":[{"owner":{"account_id":188810,"reputation":33950,"user_id":427763,"accept_rate":92,"display_name":"prolink007"},"score":0,"creation_date":1297907535,"post_id":5024277,"comment_id":5618950,"body_markdown":"Cool, thanks. If i am wanting to have a class, like yours, that holds all my sql handling stuff. How do i gain access to the object of that class in all my other classes? For instance, i create the object in my main class. Now i want to use the insert methods in a class that was created in my main class. How do i access the original db object that was created in the main class in another class?","body":"Cool, thanks. If i am wanting to have a class, like yours, that holds all my sql handling stuff. How do i gain access to the object of that class in all my other classes? For instance, i create the object in my main class. Now i want to use the insert methods in a class that was created in my main class. How do i access the original db object that was created in the main class in another class?"},{"owner":{"account_id":188810,"reputation":33950,"user_id":427763,"accept_rate":92,"display_name":"prolink007"},"score":0,"creation_date":1297909811,"post_id":5024277,"comment_id":5619180,"body_markdown":"Actually, do i just create a new object inside each class that needs the databaseHelper? I believe this is what i am supposed to do, i may ask this as a questions if no one replies. Thanks","body":"Actually, do i just create a new object inside each class that needs the databaseHelper? I believe this is what i am supposed to do, i may ask this as a questions if no one replies. Thanks"},{"owner":{"account_id":262963,"reputation":8173,"user_id":548218,"accept_rate":79,"display_name":"jennifer"},"score":0,"creation_date":1297917810,"post_id":5024277,"comment_id":5620032,"body_markdown":"im facing a problem here ..02-17 10:12:53.441: ERROR/Database(311): close() was never explicitly called on database &#39;/data/data/com.ey.eyconnect/databases/test.db&#39; 02-17 10:12:53.441: ERROR/Database(311): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here exception is thrown here..how to resolve this...","body":"im facing a problem here ..02-17 10:12:53.441: ERROR/Database(311): close() was never explicitly called on database &#39;/data/data/com.ey.eyconnect/databases/test.db&#39; 02-17 10:12:53.441: ERROR/Database(311): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here exception is thrown here..how to resolve this..."},{"owner":{"account_id":262963,"reputation":8173,"user_id":548218,"accept_rate":79,"display_name":"jennifer"},"score":0,"creation_date":1297922036,"post_id":5024277,"comment_id":5620579,"body_markdown":"I resolved the exception. I was calling db = eventsData.getReadableDatabase(); twice thats why the exception is thrown","body":"I resolved the exception. I was calling db = eventsData.getReadableDatabase(); twice thats why the exception is thrown"},{"owner":{"account_id":60447,"reputation":57542,"user_id":180538,"accept_rate":91,"display_name":"WarrenFaith"},"score":0,"creation_date":1297937989,"post_id":5024277,"comment_id":5623115,"body_markdown":"@prolink: Take a look at the class GameApplication of my project and the manifest. My own Application implementation handles the open/close and the holding of the database object.","body":"@prolink: Take a look at the class GameApplication of my project and the manifest. My own Application implementation handles the open/close and the holding of the database object."},{"owner":{"account_id":26875,"reputation":1884,"user_id":70324,"accept_rate":77,"display_name":"Marko"},"score":0,"creation_date":1325876675,"post_id":5024277,"comment_id":10921151,"body_markdown":"@WarrenFaith why this doesn&#39;t work for me...I have used similar code as yours, but code in onCreate is not executed at all...","body":"@WarrenFaith why this doesn&#39;t work for me...I have used similar code as yours, but code in onCreate is not executed at all..."},{"owner":{"account_id":60447,"reputation":57542,"user_id":180538,"accept_rate":91,"display_name":"WarrenFaith"},"score":0,"creation_date":1325879332,"post_id":5024277,"comment_id":10922005,"body_markdown":"It must be executed. If not, you are not starting the right activity.","body":"It must be executed. If not, you are not starting the right activity."},{"owner":{"account_id":180899,"reputation":2581,"user_id":414524,"display_name":"Jacob Wan"},"score":0,"creation_date":1395191518,"post_id":5024277,"comment_id":34222424,"body_markdown":"I found that onCreate is called only when the app is first launched.  After that, the database file exists and Android knows it shouldn&#39;t call onCreate again (that&#39;s my guess anyway).  I uninstalled the app and relaunched it from Eclipse and finally saw the expected Logcat messages from within onCreate.","body":"I found that onCreate is called only when the app is first launched.  After that, the database file exists and Android knows it shouldn&#39;t call onCreate again (that&#39;s my guess anyway).  I uninstalled the app and relaunched it from Eclipse and finally saw the expected Logcat messages from within onCreate."}],"tags":[],"owner":{"account_id":60447,"reputation":57542,"user_id":180538,"accept_rate":91,"display_name":"WarrenFaith"},"comment_count":8,"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1297907281,"creation_date":1297907281,"answer_id":5024277,"question_id":5024223,"body_markdown":"The `onCreate` is not a constructor for the database class. It is only called if you try to open a database that does not exist.\r\nTo open/create the database you need to add a call to one of these methods:\r\n\r\n    public class SmartApp extends Activity implements OnSharedPreferenceChangeListener {\r\n       private SmartDBHelper dBHelper;\r\n       public void onCreate(Bundle savedInstanceState) {\r\n          //where i am wanting to create the database and tables\r\n          dBHelper = new SmartDBHelper(getContext());\r\n          // open to read and write\r\n          dBHelper.getWritableDatabase();\r\n          // or to read only\r\n          // dBHelper.getReadableDatabase();\r\n       }\r\n    }\r\n\r\nIt is a bit big but here is my DatabaseAdapter you can take a look at: http://saintfeintcity.org/projects/sfc/repository/entry/trunk/src/org/saintfeintcity/database/GameDbAdapter.java","title":"SQLiteOpenHelper failing to call onCreate?","body":"<p>The <code>onCreate</code> is not a constructor for the database class. It is only called if you try to open a database that does not exist.\nTo open/create the database you need to add a call to one of these methods:</p>\n\n<pre><code>public class SmartApp extends Activity implements OnSharedPreferenceChangeListener {\n   private SmartDBHelper dBHelper;\n   public void onCreate(Bundle savedInstanceState) {\n      //where i am wanting to create the database and tables\n      dBHelper = new SmartDBHelper(getContext());\n      // open to read and write\n      dBHelper.getWritableDatabase();\n      // or to read only\n      // dBHelper.getReadableDatabase();\n   }\n}\n</code></pre>\n\n<p>It is a bit big but here is my DatabaseAdapter you can take a look at: <a href=\"http://saintfeintcity.org/projects/sfc/repository/entry/trunk/src/org/saintfeintcity/database/GameDbAdapter.java\" rel=\"noreferrer\">http://saintfeintcity.org/projects/sfc/repository/entry/trunk/src/org/saintfeintcity/database/GameDbAdapter.java</a></p>\n"},{"tags":[],"owner":{"account_id":12324258,"reputation":717,"user_id":8992732,"display_name":"Yohan Malshika"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536906103,"creation_date":1536906103,"answer_id":52326020,"question_id":5024223,"body_markdown":"**oncreate()** method is not a constructor and also Called when the database is created for the first time.So you have to call **getWritableDatabase()** or **getReadableDatabase()** for open or create to your database.\r\n\r\n&gt; getReadableDatabase() :- Create and/or open a database. \r\n&gt; \r\n&gt; getWritableDatabase() :- Create and/or open a database that will be\r\n&gt; used for reading and writing.","title":"SQLiteOpenHelper failing to call onCreate?","body":"<p><strong>oncreate()</strong> method is not a constructor and also Called when the database is created for the first time.So you have to call <strong>getWritableDatabase()</strong> or <strong>getReadableDatabase()</strong> for open or create to your database.</p>\n\n<blockquote>\n  <p>getReadableDatabase() :- Create and/or open a database. </p>\n  \n  <p>getWritableDatabase() :- Create and/or open a database that will be\n  used for reading and writing.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":482547,"reputation":5537,"user_id":897007,"accept_rate":62,"display_name":"Dale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701544134,"creation_date":1701544134,"answer_id":77591828,"question_id":5024223,"body_markdown":"One reason SQLiteOpenHelper.onCreate() doesn&#39;t get called is because the database file already exists on the device.\r\n\r\nIf you go to `View &gt; Tool Windows &gt; App Inspection` in Android Studio, you can go to `Database Inspector` and see the SQLite files on the device.\r\n\r\nIn the case where onCreate is not being called because there&#39;s an existing database with that name already, you can change the database name in your app to something new.  Then database file *won&#39;t exist*, and so onCreate will get called.\r\n\r\n    static class MyDatabaseHelper extends SQLiteOpenHelper {\r\n        private DatabaseHelper(Context context) {\r\n            super(context, DB_NAME, null, DB_VERSION); // A new DB_NAME here means onCreate() will get called.\r\n            mDatabaseHelper = this;\r\n        }\r\n        ....\r\n        ....\r\n    }\r\n\r\nIf the above `DB_NAME` is something never used before, onCreate() should run, but if you&#39;re trying to re-use a name, it already exists, and onCreate() won&#39;t run.\r\n\r\nI found the easiest thing to do is just keep making new `DB_NAME`s as you&#39;re iterating through app development. ","title":"SQLiteOpenHelper failing to call onCreate?","body":"<p>One reason SQLiteOpenHelper.onCreate() doesn't get called is because the database file already exists on the device.</p>\n<p>If you go to <code>View &gt; Tool Windows &gt; App Inspection</code> in Android Studio, you can go to <code>Database Inspector</code> and see the SQLite files on the device.</p>\n<p>In the case where onCreate is not being called because there's an existing database with that name already, you can change the database name in your app to something new.  Then database file <em>won't exist</em>, and so onCreate will get called.</p>\n<pre><code>static class MyDatabaseHelper extends SQLiteOpenHelper {\n    private DatabaseHelper(Context context) {\n        super(context, DB_NAME, null, DB_VERSION); // A new DB_NAME here means onCreate() will get called.\n        mDatabaseHelper = this;\n    }\n    ....\n    ....\n}\n</code></pre>\n<p>If the above <code>DB_NAME</code> is something never used before, onCreate() should run, but if you're trying to re-use a name, it already exists, and onCreate() won't run.</p>\n<p>I found the easiest thing to do is just keep making new <code>DB_NAME</code>s as you're iterating through app development.</p>\n"}],"owner":{"account_id":188810,"reputation":33950,"user_id":427763,"accept_rate":92,"display_name":"prolink007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37587,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":5024277,"answer_count":4,"score":31,"last_activity_date":1701544134,"creation_date":1297906719,"question_id":5024223,"body_markdown":"I am trying to create a local database on an android phone using `sqlite`.\r\n\r\nI have a helper class, shown below, that is used to create the database and provide the &quot;help&quot;. \r\n\r\nI am wanting to create an object of this class in the main part of my code and it create the database and tables there as well.\r\n\r\n**The problem:**\r\n\r\nWhenever i create an object of the class, it does not seem to be calling the `onCreate` method in the helper. I thought this is supposed to happen. I thought that `onCreate` was basically a constructor for the class. (I believe i am wrong) \r\n\r\n - So, why is it not calling the `onCreate` method? \r\n - Or how do i get it to create the database and tables where i am creating the object of the class? \r\n - What would be a better way to do this, if this is not a good approach?\r\n\r\n---  \r\n\r\n    public class SmartDBHelper extends SQLiteOpenHelper {\r\n    \r\n    \tprivate static final String DATABASE_NAME = &quot;smart_lite_db.db&quot;;\r\n    \tprivate static final int DATABASE_VERSION = 2;\r\n    \tprivate static final String NOTIFY_TABLE_NAME = &quot;user_notify_data&quot;;\r\n    \tprivate static final String HR_TABLE_NAME = &quot;user_hr_data&quot;;\r\n    \tprivate static final String NOTIFY_TABLE_CREATE = \r\n    \t\t&quot;CREATE TABLE &quot; + NOTIFY_TABLE_NAME + \r\n    \t\t&quot; (counter INTEGER PRIMARY KEY, &quot; + \r\n    \t\t&quot;userresponse INTEGER, &quot; + \r\n    \t\t&quot;notifytime INTEGER);&quot;;\r\n    \tprivate static final String DATA_TABLE_CREATE = \r\n    \t\t&quot;CREATE TABLE &quot; + HR_TABLE_NAME +\r\n    \t\t&quot; (counter INTEGER PRIMARY KEY, &quot; +\r\n    \t\t&quot;hr INTEGER, &quot; +\r\n    \t\t&quot;act INTEGER, &quot; +\r\n    \t\t&quot;timestamp INTEGER);&quot;;\t\t\r\n    \t\t\r\n    \tpublic SmartDBHelper(Context context) {\r\n    \t\tsuper(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void onCreate(SQLiteDatabase db) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tLog.v(&quot;smartdbhelper&quot;, &quot;before creation&quot;);\r\n    \t\tdb.execSQL(NOTIFY_TABLE_CREATE);\r\n    \t\tLog.v(&quot;smartdbhelper&quot;, &quot;middle creation&quot;);\r\n    \t\tdb.execSQL(DATA_TABLE_CREATE);\r\n    \t\tLog.v(&quot;smartdbhelper&quot;, &quot;after creation&quot;);\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n---  \r\n\r\n    public class SmartApp extends Activity implements OnSharedPreferenceChangeListener {\r\n       private SmartDBHelper dBHelper;\r\n       public void onCreate(Bundle savedInstanceState) {\r\n          //where i am wanting to create the database and tables\r\n          dBHelper = new SmartDBHelper(getContext());\r\n       }\r\n    }","title":"SQLiteOpenHelper failing to call onCreate?","body":"<p>I am trying to create a local database on an android phone using <code>sqlite</code>.</p>\n\n<p>I have a helper class, shown below, that is used to create the database and provide the \"help\". </p>\n\n<p>I am wanting to create an object of this class in the main part of my code and it create the database and tables there as well.</p>\n\n<p><strong>The problem:</strong></p>\n\n<p>Whenever i create an object of the class, it does not seem to be calling the <code>onCreate</code> method in the helper. I thought this is supposed to happen. I thought that <code>onCreate</code> was basically a constructor for the class. (I believe i am wrong) </p>\n\n<ul>\n<li>So, why is it not calling the <code>onCreate</code> method? </li>\n<li>Or how do i get it to create the database and tables where i am creating the object of the class? </li>\n<li>What would be a better way to do this, if this is not a good approach?</li>\n</ul>\n\n<hr>\n\n<pre><code>public class SmartDBHelper extends SQLiteOpenHelper {\n\n    private static final String DATABASE_NAME = \"smart_lite_db.db\";\n    private static final int DATABASE_VERSION = 2;\n    private static final String NOTIFY_TABLE_NAME = \"user_notify_data\";\n    private static final String HR_TABLE_NAME = \"user_hr_data\";\n    private static final String NOTIFY_TABLE_CREATE = \n        \"CREATE TABLE \" + NOTIFY_TABLE_NAME + \n        \" (counter INTEGER PRIMARY KEY, \" + \n        \"userresponse INTEGER, \" + \n        \"notifytime INTEGER);\";\n    private static final String DATA_TABLE_CREATE = \n        \"CREATE TABLE \" + HR_TABLE_NAME +\n        \" (counter INTEGER PRIMARY KEY, \" +\n        \"hr INTEGER, \" +\n        \"act INTEGER, \" +\n        \"timestamp INTEGER);\";      \n\n    public SmartDBHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        // TODO Auto-generated constructor stub\n    }\n\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n        Log.v(\"smartdbhelper\", \"before creation\");\n        db.execSQL(NOTIFY_TABLE_CREATE);\n        Log.v(\"smartdbhelper\", \"middle creation\");\n        db.execSQL(DATA_TABLE_CREATE);\n        Log.v(\"smartdbhelper\", \"after creation\");\n    }\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class SmartApp extends Activity implements OnSharedPreferenceChangeListener {\n   private SmartDBHelper dBHelper;\n   public void onCreate(Bundle savedInstanceState) {\n      //where i am wanting to create the database and tables\n      dBHelper = new SmartDBHelper(getContext());\n   }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","discord4j"],"comments":[{"owner":{"account_id":13253208,"reputation":166,"user_id":9570150,"display_name":"NovaFox161"},"score":2,"creation_date":1701362514,"post_id":77580012,"comment_id":136768919,"body_markdown":"There is not enough information here to assist. None of the relevant code is included. Please edit your question to include more information.","body":"There is not enough information here to assist. None of the relevant code is included. Please edit your question to include more information."},{"owner":{"account_id":22068232,"reputation":13,"user_id":16329701,"display_name":"Vincent B."},"score":0,"creation_date":1701362985,"post_id":77580012,"comment_id":136769006,"body_markdown":"I add more information sorry","body":"I add more information sorry"}],"answers":[{"tags":[],"owner":{"account_id":15013161,"reputation":71,"user_id":10836980,"display_name":"Azn9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701543726,"creation_date":1701543726,"answer_id":77591796,"question_id":77580012,"body_markdown":"Without the code in your `GodCreatorApplication` class it will be harder to help you. Nevertheless, it is most likely that you&#39;re not blocking the main thread and thus the JVS exits. I never used Spring so I cannot help you on how to implement this, but the D4J method to block until the bot is disconnected is `client.onDisconnect().block();`.","title":"Spring Discord4J server Stopped","body":"<p>Without the code in your <code>GodCreatorApplication</code> class it will be harder to help you. Nevertheless, it is most likely that you're not blocking the main thread and thus the JVS exits. I never used Spring so I cannot help you on how to implement this, but the D4J method to block until the bot is disconnected is <code>client.onDisconnect().block();</code>.</p>\n"}],"owner":{"account_id":22068232,"reputation":13,"user_id":16329701,"display_name":"Vincent B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701543726,"creation_date":1701361259,"question_id":77580012,"body_markdown":"I tried to create a discord bot with Discord4J. When i start the application it connect to the discord but then it stopped. I follow some recent tuto which used the same things and it works... I don&#39;t know why it doesn&#39;t work here...\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class GodCreatorApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(GodCreatorApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nBotConfiguration : \r\n\r\n```\r\nimport discord4j.core.DiscordClientBuilder;\r\nimport discord4j.core.GatewayDiscordClient;\r\nimport discord4j.core.event.domain.Event;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.util.List;\r\n\r\n@Configuration\r\npublic class BotConfiguration {\r\n    @Value(&quot;${discord.token}&quot;)\r\n    private String token;\r\n\r\n    @Bean\r\n    public &lt;T extends Event&gt; GatewayDiscordClient gatewayDiscordClient(List&lt;EventListener&lt;T&gt;&gt; eventListeners) {\r\n        GatewayDiscordClient client = DiscordClientBuilder.create(token)\r\n                .build()\r\n                .login()\r\n                .block();\r\n\r\n        for(EventListener&lt;T&gt; listener : eventListeners) {\r\n            assert client != null;\r\n            client.on(listener.getEventType())\r\n                    .flatMap(listener::execute)\r\n                    .onErrorResume(listener::handleError)\r\n                    .subscribe();\r\n        }\r\n\r\n        return client;\r\n    }\r\n}\r\n```\r\n\r\nMessageListener : \r\n\r\n```\r\nimport discord4j.core.object.entity.Message;\r\nimport reactor.core.publisher.Mono;\r\n\r\npublic abstract class MessageListener {\r\n\r\n    public Mono&lt;Void&gt; processCommand(Message eventMessage) {\r\n        return Mono.just(eventMessage)\r\n                .filter(message -&gt; message.getAuthor().map(user -&gt; !user.isBot()).orElse(false))\r\n                .filter(message -&gt; message.getContent().equalsIgnoreCase(&quot;!todo&quot;))\r\n                .flatMap(Message::getChannel)\r\n                .flatMap(channel -&gt; channel.createMessage(&quot;Things to do today:\\n - write a bot\\n - eat lunch\\n - play a game&quot;))\r\n                .then();\r\n    }\r\n}\r\n```\r\n\r\nMassageCreateListener : \r\n\r\n```\r\nimport discord4j.core.event.domain.message.MessageCreateEvent;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Service\r\npublic class MessageCreateListener extends MessageListener implements EventListener&lt;MessageCreateEvent&gt; {\r\n\r\n    @Override\r\n    public Class&lt;MessageCreateEvent&gt; getEventType() {\r\n        return MessageCreateEvent.class;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; execute(MessageCreateEvent event) {\r\n        return processCommand(event.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nAnd I have this result : \r\n\r\n![There is the result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rtniM.png","title":"Spring Discord4J server Stopped","body":"<p>I tried to create a discord bot with Discord4J. When i start the application it connect to the discord but then it stopped. I follow some recent tuto which used the same things and it works... I don't know why it doesn't work here...</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@EnableScheduling\npublic class GodCreatorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GodCreatorApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>BotConfiguration :</p>\n<pre><code>import discord4j.core.DiscordClientBuilder;\nimport discord4j.core.GatewayDiscordClient;\nimport discord4j.core.event.domain.Event;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.List;\n\n@Configuration\npublic class BotConfiguration {\n    @Value(&quot;${discord.token}&quot;)\n    private String token;\n\n    @Bean\n    public &lt;T extends Event&gt; GatewayDiscordClient gatewayDiscordClient(List&lt;EventListener&lt;T&gt;&gt; eventListeners) {\n        GatewayDiscordClient client = DiscordClientBuilder.create(token)\n                .build()\n                .login()\n                .block();\n\n        for(EventListener&lt;T&gt; listener : eventListeners) {\n            assert client != null;\n            client.on(listener.getEventType())\n                    .flatMap(listener::execute)\n                    .onErrorResume(listener::handleError)\n                    .subscribe();\n        }\n\n        return client;\n    }\n}\n</code></pre>\n<p>MessageListener :</p>\n<pre><code>import discord4j.core.object.entity.Message;\nimport reactor.core.publisher.Mono;\n\npublic abstract class MessageListener {\n\n    public Mono&lt;Void&gt; processCommand(Message eventMessage) {\n        return Mono.just(eventMessage)\n                .filter(message -&gt; message.getAuthor().map(user -&gt; !user.isBot()).orElse(false))\n                .filter(message -&gt; message.getContent().equalsIgnoreCase(&quot;!todo&quot;))\n                .flatMap(Message::getChannel)\n                .flatMap(channel -&gt; channel.createMessage(&quot;Things to do today:\\n - write a bot\\n - eat lunch\\n - play a game&quot;))\n                .then();\n    }\n}\n</code></pre>\n<p>MassageCreateListener :</p>\n<pre><code>import discord4j.core.event.domain.message.MessageCreateEvent;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Mono;\n\n@Service\npublic class MessageCreateListener extends MessageListener implements EventListener&lt;MessageCreateEvent&gt; {\n\n    @Override\n    public Class&lt;MessageCreateEvent&gt; getEventType() {\n        return MessageCreateEvent.class;\n    }\n\n    @Override\n    public Mono&lt;Void&gt; execute(MessageCreateEvent event) {\n        return processCommand(event.getMessage());\n    }\n}\n</code></pre>\n<p>And I have this result :</p>\n<p><img src=\"https://i.stack.imgur.com/rtniM.png\" alt=\"There is the result\" /></p>\n"},{"tags":["java","weka"],"answers":[{"comments":[{"owner":{"account_id":9003850,"reputation":31,"user_id":19623996,"display_name":"not_castillo"},"score":0,"creation_date":1701568895,"post_id":77591792,"comment_id":136791991,"body_markdown":"I see, thanks! Is there a way to compare the % of incorrectly clustered instances though, like in Explorer?","body":"I see, thanks! Is there a way to compare the % of incorrectly clustered instances though, like in Explorer?"},{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":1,"creation_date":1701640814,"post_id":77591792,"comment_id":136797919,"body_markdown":"Unfortunately, no. You&#39;d have to write custom code for obtaining the classes-to-clusters information and post-process that further.","body":"Unfortunately, no. You&#39;d have to write custom code for obtaining the classes-to-clusters information and post-process that further."}],"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701543686,"creation_date":1701543686,"answer_id":77591792,"question_id":77590610,"body_markdown":"You can&#39;t. Accuracy (ie Percent_correct) is only available from supervised algorithms like classifiers and cluster algorithms are unsupervised.","title":"Testing clustering algorithms for accuracy in weka Experimenter","body":"<p>You can't. Accuracy (ie Percent_correct) is only available from supervised algorithms like classifiers and cluster algorithms are unsupervised.</p>\n"}],"owner":{"account_id":9003850,"reputation":31,"user_id":19623996,"display_name":"not_castillo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77591792,"answer_count":1,"score":0,"last_activity_date":1701543686,"creation_date":1701525087,"question_id":77590610,"body_markdown":"I&#39;m using Experimenter to compare clustering algorithms to test accuracy. I couldn&#39;t find clustering algorithms in the Simple experiment mode, so I used Advanced and did the clustering using these steps:\r\n\r\nhttps://waikato.github.io/weka-wiki/experimenter/running_an_experiment_using_clusterers/\r\n\r\nThese are my settings:\r\n\r\n[![Experimenter settings][1]][1]\r\n\r\nAnd this is my analysis screen.\r\n\r\n[![Analysis][2]][2]\r\n\r\nI can&#39;t find &#39;Percent_correct&#39; here though to test accuracy. How can I test for accuracy?\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bUVUW.png\r\n  [2]: https://i.stack.imgur.com/ig3Nl.png","title":"Testing clustering algorithms for accuracy in weka Experimenter","body":"<p>I'm using Experimenter to compare clustering algorithms to test accuracy. I couldn't find clustering algorithms in the Simple experiment mode, so I used Advanced and did the clustering using these steps:</p>\n<p><a href=\"https://waikato.github.io/weka-wiki/experimenter/running_an_experiment_using_clusterers/\" rel=\"nofollow noreferrer\">https://waikato.github.io/weka-wiki/experimenter/running_an_experiment_using_clusterers/</a></p>\n<p>These are my settings:</p>\n<p><a href=\"https://i.stack.imgur.com/bUVUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUVUW.png\" alt=\"Experimenter settings\" /></a></p>\n<p>And this is my analysis screen.</p>\n<p><a href=\"https://i.stack.imgur.com/ig3Nl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ig3Nl.png\" alt=\"Analysis\" /></a></p>\n<p>I can't find 'Percent_correct' here though to test accuracy. How can I test for accuracy?</p>\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","selenium-webdriver"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1701565394,"post_id":77591720,"comment_id":136791801,"body_markdown":"You are using a Java SDK V1 - which is not best practice. I strongly recommend that you update to Java SDK V2.  Code examples here - https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ses","body":"You are using a Java SDK V1 - which is not best practice. I strongly recommend that you update to Java SDK V2.  Code examples here - <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ses\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>"}],"owner":{"account_id":9098941,"reputation":9,"user_id":6771851,"accept_rate":25,"display_name":"Satsat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702136761,"answer_count":0,"score":-2,"last_activity_date":1701542525,"creation_date":1701542525,"question_id":77591720,"body_markdown":"The code was working fine until yesterday and all of sudden it started giving me the error that Unable to send email at &#39;t.sendMessage(msg, null);&#39;\r\n\r\nThere were no updates happened in my device(mac) and the email credentials are unchanged as well. I found solutions such as disabling aws tool kit in intelliJ, set proxy() on browser but not sure if those work. If you were able to solve this kind of issue could you pls guide me on how to do that. Thanks much\r\n\r\n    javax.mail.SendFailedException: Unable to send email\r\n    ;\r\n      nested exception is:\r\n    \tcom.amazonaws.SdkClientException: Unable to execute HTTP request: Connection reset\r\n    \tat com.amazonaws.services.simpleemail.AWSJavaMailTransport.sendEmail(AWSJavaMailTransport.java:283)\r\n    \tat com.amazonaws.services.simpleemail.AWSJavaMailTransport.sendMessage(AWSJavaMailTransport.java:100)\r\n    \tat cucumberOptions.EditProject.RegressionTestRunner.sendEmail(RegressionTestRunner.java:85)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:637)\r\n    \tat org.testng.TestRunner.afterRun(TestRunner.java:877)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:599)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n    Caused by: com.amazonaws.SdkClientException: Unable to execute HTTP request: Connection reset\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1219)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1165)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\r\n    \tat com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.doInvoke(AmazonSimpleEmailServiceClient.java:5977)\r\n    \tat com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.invoke(AmazonSimpleEmailServiceClient.java:5944)\r\n    \tat com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.invoke(AmazonSimpleEmailServiceClient.java:5933)\r\n    \tat com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.executeSendRawEmail(AmazonSimpleEmailServiceClient.java:4272)\r\n    \tat com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.sendRawEmail(AmazonSimpleEmailServiceClient.java:4241)\r\n    \tat com.amazonaws.services.simpleemail.AWSJavaMailTransport.sendEmail(AWSJavaMailTransport.java:269)\r\n    \t... 23 more\r\n    Caused by: java.net.SocketException: Connection reset\r\n\r\nThe code is:\r\n\r\n    public static void sendEmail() throws IOException, MessagingException, SdkInterruptedException {\r\n            Properties props = new Properties();\r\n    \r\n            props.setProperty(&quot;mail.transport.protocol&quot;, &quot;aws&quot;);\r\n            props.setProperty(&quot;mail.aws.user&quot;, GlobalVars.getAWSAccessKeyId());\r\n            props.setProperty(&quot;mail.aws.password&quot;, GlobalVars.getAWSSecretKey());\r\n    \r\n            Session session = Session.getInstance(props);\r\n    \r\n            FileInputStream fis = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+ CommonVariables.source_path_gp);\r\n            Properties prop = new Properties();\r\n            prop.load(fis);\r\n            String testName = prop.getProperty(&quot;testName&quot;);\r\n            String browserName = prop.getProperty(&quot;browser&quot;);\r\n    \r\n    // Create a new Message\r\n            Message msg = new MimeMessage(session);\r\n            msg.setFrom(new InternetAddress(GlobalVars.getAWSEmailId()));\r\n            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(GlobalVars.getAWSEmailId()));\r\n            msg.setSubject(&quot;Automation Test Results:&quot; + testName+&quot; in &quot;+browserName.toUpperCase());\r\n            msg.setText(&quot;Selenium Test Execution Results for: &quot; + testName);\r\n    \r\n            MimeBodyPart messageBodyPart = new MimeBodyPart();\r\n            Multipart multipart = new MimeMultipart();\r\n    \r\n            messageBodyPart.attachFile(System.getProperty(&quot;user.dir&quot;)+CommonVariables.source_path_SpRep);\r\n            //       messageBodyPart.attachFile(System.getProperty(&quot;user.dir&quot;)+CommonVariables.source_path_ExtRep);\r\n            multipart.addBodyPart(messageBodyPart);\r\n            msg.setContent(multipart);\r\n            msg.saveChanges();\r\n    \r\n            Transport t = new AWSJavaMailTransport(session, null);\r\n            t.connect();\r\n            t.sendMessage(msg, null);\r\n            t.close();\r\n        }","title":"com.amazonaws.SdkClientException for sending email in Selenium JAVA on IntelliJ","body":"<p>The code was working fine until yesterday and all of sudden it started giving me the error that Unable to send email at 't.sendMessage(msg, null);'</p>\n<p>There were no updates happened in my device(mac) and the email credentials are unchanged as well. I found solutions such as disabling aws tool kit in intelliJ, set proxy() on browser but not sure if those work. If you were able to solve this kind of issue could you pls guide me on how to do that. Thanks much</p>\n<pre><code>javax.mail.SendFailedException: Unable to send email\n;\n  nested exception is:\n    com.amazonaws.SdkClientException: Unable to execute HTTP request: Connection reset\n    at com.amazonaws.services.simpleemail.AWSJavaMailTransport.sendEmail(AWSJavaMailTransport.java:283)\n    at com.amazonaws.services.simpleemail.AWSJavaMailTransport.sendMessage(AWSJavaMailTransport.java:100)\n    at cucumberOptions.EditProject.RegressionTestRunner.sendEmail(RegressionTestRunner.java:85)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:637)\n    at org.testng.TestRunner.afterRun(TestRunner.java:877)\n    at org.testng.TestRunner.run(TestRunner.java:599)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: com.amazonaws.SdkClientException: Unable to execute HTTP request: Connection reset\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1219)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1165)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n    at com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.doInvoke(AmazonSimpleEmailServiceClient.java:5977)\n    at com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.invoke(AmazonSimpleEmailServiceClient.java:5944)\n    at com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.invoke(AmazonSimpleEmailServiceClient.java:5933)\n    at com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.executeSendRawEmail(AmazonSimpleEmailServiceClient.java:4272)\n    at com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient.sendRawEmail(AmazonSimpleEmailServiceClient.java:4241)\n    at com.amazonaws.services.simpleemail.AWSJavaMailTransport.sendEmail(AWSJavaMailTransport.java:269)\n    ... 23 more\nCaused by: java.net.SocketException: Connection reset\n</code></pre>\n<p>The code is:</p>\n<pre><code>public static void sendEmail() throws IOException, MessagingException, SdkInterruptedException {\n        Properties props = new Properties();\n\n        props.setProperty(&quot;mail.transport.protocol&quot;, &quot;aws&quot;);\n        props.setProperty(&quot;mail.aws.user&quot;, GlobalVars.getAWSAccessKeyId());\n        props.setProperty(&quot;mail.aws.password&quot;, GlobalVars.getAWSSecretKey());\n\n        Session session = Session.getInstance(props);\n\n        FileInputStream fis = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+ CommonVariables.source_path_gp);\n        Properties prop = new Properties();\n        prop.load(fis);\n        String testName = prop.getProperty(&quot;testName&quot;);\n        String browserName = prop.getProperty(&quot;browser&quot;);\n\n// Create a new Message\n        Message msg = new MimeMessage(session);\n        msg.setFrom(new InternetAddress(GlobalVars.getAWSEmailId()));\n        msg.addRecipient(Message.RecipientType.TO, new InternetAddress(GlobalVars.getAWSEmailId()));\n        msg.setSubject(&quot;Automation Test Results:&quot; + testName+&quot; in &quot;+browserName.toUpperCase());\n        msg.setText(&quot;Selenium Test Execution Results for: &quot; + testName);\n\n        MimeBodyPart messageBodyPart = new MimeBodyPart();\n        Multipart multipart = new MimeMultipart();\n\n        messageBodyPart.attachFile(System.getProperty(&quot;user.dir&quot;)+CommonVariables.source_path_SpRep);\n        //       messageBodyPart.attachFile(System.getProperty(&quot;user.dir&quot;)+CommonVariables.source_path_ExtRep);\n        multipart.addBodyPart(messageBodyPart);\n        msg.setContent(multipart);\n        msg.saveChanges();\n\n        Transport t = new AWSJavaMailTransport(session, null);\n        t.connect();\n        t.sendMessage(msg, null);\n        t.close();\n    }\n</code></pre>\n"},{"tags":["java","bigdecimal","decimalformat"],"answers":[{"comments":[{"owner":{"account_id":1713214,"reputation":13643,"user_id":1570834,"display_name":"DB5"},"score":2,"creation_date":1344406527,"post_id":11858503,"comment_id":15774010,"body_markdown":"If you use the following when constructing the DecimalFormat `DecimalFormat df = new DecimalFormat(&quot;###,###.00&quot;);` the first three println will print with 2 digits after the decimal point.","body":"If you use the following when constructing the DecimalFormat <code>DecimalFormat df = new DecimalFormat(&quot;###,###.00&quot;);</code> the first three println will print with 2 digits after the decimal point."}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1701542461,"creation_date":1344405660,"answer_id":11858503,"question_id":11858485,"body_markdown":"Take a look at the [DecimalFormat][1] class.\r\n\r\nAlternatively you can [setScale][2] method from the BigDecimal Class.\r\n\r\n```java\r\nBigDecimal bg1 = new BigDecimal(&quot;56565656.342&quot;);\r\nBigDecimal bg2 = new BigDecimal(&quot;56565656.00&quot;);\r\nBigDecimal bg3 = new BigDecimal(&quot;56565656.70&quot;);\r\n\r\nDecimalFormat df = new DecimalFormat(&quot;###,###.00&quot;);\r\nSystem.out.println(df.format(bg1.doubleValue()));\r\nSystem.out.println(df.format(bg2.doubleValue()));\r\nSystem.out.println(df.format(bg3.doubleValue()));\r\n\r\nSystem.out.println(bg1.setScale(2, BigDecimal.ROUND_HALF_UP));\r\nSystem.out.println(bg2.setScale(2, BigDecimal.ROUND_HALF_UP));\r\nSystem.out.println(bg3.setScale(2, BigDecimal.ROUND_HALF_UP));\r\n```\r\n\r\nYields:\r\n\r\n    56,565,656.34\r\n    56,565,656.00\r\n    56,565,656.70\r\n    56565656.34\r\n    56565656.00\r\n    56565656.70\r\n\r\nEDIT: Also forgot to mention: If you are after precision, I would recommend you use the `setScale` method, using the `.doubleValue()` method will yield a `double` which can cause loss of precision.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/DecimalFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#setScale(int,int)","title":"Formatting a number with correct decimal scale","body":"<p>Take a look at the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a> class.</p>\n<p>Alternatively you can <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#setScale(int,int)\" rel=\"nofollow noreferrer\">setScale</a> method from the BigDecimal Class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal bg1 = new BigDecimal(&quot;56565656.342&quot;);\nBigDecimal bg2 = new BigDecimal(&quot;56565656.00&quot;);\nBigDecimal bg3 = new BigDecimal(&quot;56565656.70&quot;);\n\nDecimalFormat df = new DecimalFormat(&quot;###,###.00&quot;);\nSystem.out.println(df.format(bg1.doubleValue()));\nSystem.out.println(df.format(bg2.doubleValue()));\nSystem.out.println(df.format(bg3.doubleValue()));\n\nSystem.out.println(bg1.setScale(2, BigDecimal.ROUND_HALF_UP));\nSystem.out.println(bg2.setScale(2, BigDecimal.ROUND_HALF_UP));\nSystem.out.println(bg3.setScale(2, BigDecimal.ROUND_HALF_UP));\n</code></pre>\n<p>Yields:</p>\n<pre><code>56,565,656.34\n56,565,656.00\n56,565,656.70\n56565656.34\n56565656.00\n56565656.70\n</code></pre>\n<p>EDIT: Also forgot to mention: If you are after precision, I would recommend you use the <code>setScale</code> method, using the <code>.doubleValue()</code> method will yield a <code>double</code> which can cause loss of precision.</p>\n"},{"comments":[{"owner":{"account_id":24437,"reputation":5745,"user_id":62131,"accept_rate":82,"display_name":"Richard Gomes"},"score":0,"creation_date":1428341861,"post_id":11858594,"comment_id":47113597,"body_markdown":"Your answer was far too vague. If you spend only a couple of lines explaining something and if you do not provide a single line of code, you can be sure that the answer is not going to be adequate.","body":"Your answer was far too vague. If you spend only a couple of lines explaining something and if you do not provide a single line of code, you can be sure that the answer is not going to be adequate."}],"tags":[],"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1344406151,"creation_date":1344406151,"answer_id":11858594,"question_id":11858485,"body_markdown":"DecimalFormat class would do it for you.... You will have to specify appropriate format.","title":"Formatting a number with correct decimal scale","body":"<p>DecimalFormat class would do it for you.... You will have to specify appropriate format.</p>\n"},{"tags":[],"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1344407288,"creation_date":1344406544,"answer_id":11858677,"question_id":11858485,"body_markdown":"Just use `NumberFormat` and specify the fraction digits, and rounding method, to print :\r\n\r\n    String [] originalNumbers = new String[] {\r\n       &quot;56565656.342&quot;,\r\n       &quot;56565656.7&quot;,\r\n       &quot;56565656&quot;\r\n    };\r\n    \r\n    NumberFormat df = NumberFormat.getInstance();\r\n    df.setMinimumFractionDigits(2);\r\n    df.setMaximumFractionDigits(2);\r\n    df.setRoundingMode(RoundingMode.HALF_UP);\r\n\t\t\r\n    for (String number : originalNumbers) {\r\n       String formattedNumber = df.format(new BigDecimal(number));\r\n\r\n       System.out.println(formattedNumber);\r\n    }\r\n\r\nWill print\r\n\r\n\r\n    56,565,656.34\r\n    56,565,656.70\r\n    56,565,656.00\r\n\r\n** **Edit** **\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\r\n\r\nWill produce the exact same result with the given code above.","title":"Formatting a number with correct decimal scale","body":"<p>Just use <code>NumberFormat</code> and specify the fraction digits, and rounding method, to print :</p>\n\n<pre><code>String [] originalNumbers = new String[] {\n   \"56565656.342\",\n   \"56565656.7\",\n   \"56565656\"\n};\n\nNumberFormat df = NumberFormat.getInstance();\ndf.setMinimumFractionDigits(2);\ndf.setMaximumFractionDigits(2);\ndf.setRoundingMode(RoundingMode.HALF_UP);\n\nfor (String number : originalNumbers) {\n   String formattedNumber = df.format(new BigDecimal(number));\n\n   System.out.println(formattedNumber);\n}\n</code></pre>\n\n<p>Will print</p>\n\n<pre><code>56,565,656.34\n56,565,656.70\n56,565,656.00\n</code></pre>\n\n<p>** <strong>Edit</strong> **</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat(\"#,###.00\");\n</code></pre>\n\n<p>Will produce the exact same result with the given code above.</p>\n"}],"owner":{"account_id":1575356,"reputation":1536,"user_id":1461967,"accept_rate":17,"display_name":"JavaYouth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12878,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11858503,"answer_count":3,"score":2,"last_activity_date":1701542461,"creation_date":1344405529,"question_id":11858485,"body_markdown":"I need to format a number with scale of 2 decimal places. The original number may be a whole number or a number with three decimal places. However the result should be formatted to have commas and also two decimal places always regardless of whether the original number is whole number or having decimal places.\r\n\r\n1. When original num  = 56565656.342 ==&gt; I need 56,565,656.34\r\n2. When original num  = 56565656 ==&gt; I need 56,565,656.00\r\n3. When original num  = 56565656.7 ==&gt; I need 56,565,656.70\r\n\r\nI am using the following code which is formatting the code but its failing to add the two decimal places in the above 2 &amp; 3 cases.\r\n\r\n    String originalNumber = &quot;56565656.7&quot;;\r\n    BigDecimal b = new BigDecimal(originalNumber).setScale(2, BigDecimal.ROUND_HALF_UP);\r\n    String formattedNumber = NumberFormat.getInstance().format(b);\r\n\r\nPlease let me know if there is any way to accomplish this in efficeint way.\r\n\r\nThanks in advance.","title":"Formatting a number with correct decimal scale","body":"<p>I need to format a number with scale of 2 decimal places. The original number may be a whole number or a number with three decimal places. However the result should be formatted to have commas and also two decimal places always regardless of whether the original number is whole number or having decimal places.</p>\n\n<ol>\n<li>When original num  = 56565656.342 ==> I need 56,565,656.34</li>\n<li>When original num  = 56565656 ==> I need 56,565,656.00</li>\n<li>When original num  = 56565656.7 ==> I need 56,565,656.70</li>\n</ol>\n\n<p>I am using the following code which is formatting the code but its failing to add the two decimal places in the above 2 &amp; 3 cases.</p>\n\n<pre><code>String originalNumber = \"56565656.7\";\nBigDecimal b = new BigDecimal(originalNumber).setScale(2, BigDecimal.ROUND_HALF_UP);\nString formattedNumber = NumberFormat.getInstance().format(b);\n</code></pre>\n\n<p>Please let me know if there is any way to accomplish this in efficeint way.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","oracle","timestamp","dst","systimestamp"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1700669579,"post_id":77531397,"comment_id":136683654,"body_markdown":"If you&#39;ve got an up-to-date driver, you should be using `java.time` types. Try it like that and see what happens. Not an Oracle person but you might experiment with the `WITH x TIMEZONE` column type too.","body":"If you&#39;ve got an up-to-date driver, you should be using <code>java.time</code> types. Try it like that and see what happens. Not an Oracle person but you might experiment with the <code>WITH x TIMEZONE</code> column type too."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1700670738,"post_id":77531397,"comment_id":136683907,"body_markdown":"You should also probably state what you *expected* to see","body":"You should also probably state what you <i>expected</i> to see"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1700675287,"post_id":77531397,"comment_id":136684803,"body_markdown":"By the way, you are using the wrong data type on your column. To track specific point on the timeline, use a type akin to the SQL standard type of `TIMESTAMP WITH TIME ZONE`. I don’t now Oracle database, but [the doc](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlqr/Data-Types.html#GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4) seems to say the appropriate type in Oracle has the same name. Your code uses `TIMESTAMP` which lacks the context of an offset from UTC.","body":"By the way, you are using the wrong data type on your column. To track specific point on the timeline, use a type akin to the SQL standard type of <code>TIMESTAMP WITH TIME ZONE</code>. I don’t now Oracle database, but <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlqr/Data-Types.html#GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4\" rel=\"nofollow noreferrer\">the doc</a> seems to say the appropriate type in Oracle has the same name. Your code uses <code>TIMESTAMP</code> which lacks the context of an offset from UTC."},{"owner":{"account_id":13592340,"reputation":1,"user_id":9805337,"display_name":"Ermanno"},"score":0,"creation_date":1700732317,"post_id":77531397,"comment_id":136691436,"body_markdown":"I can&#39;t change the Jdbc driver, not in the near future.","body":"I can&#39;t change the Jdbc driver, not in the near future."},{"owner":{"account_id":13592340,"reputation":1,"user_id":9805337,"display_name":"Ermanno"},"score":0,"creation_date":1700734213,"post_id":77531397,"comment_id":136691827,"body_markdown":"@BasilBourque this is the reason why I&#39;m using milliseconds and not hours, minutes, et c.","body":"@BasilBourque this is the reason why I&#39;m using milliseconds and not hours, minutes, et c."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700755107,"post_id":77531397,"comment_id":136695693,"body_markdown":"@Ermanno Your last comment confounds me. If you insist on using the wrong type in your database, and the wrong class in Java, you’ll have no end of problems, confusion, and incorrect data. If you want to track a moment, a specific point on the timeline: (a) Use a JDBC driver compliant with JDBC 4.2 or later, (b) Define your column with a type akin to the misnamed SQL standard type `TIMESTAMP WITH TIME ZONE`, (c) Exchange data with the database using `java.time.OffsetDateTime`. All this has been covered many times on Stack Overflow.","body":"@Ermanno Your last comment confounds me. If you insist on using the wrong type in your database, and the wrong class in Java, you’ll have no end of problems, confusion, and incorrect data. If you want to track a moment, a specific point on the timeline: (a) Use a JDBC driver compliant with JDBC 4.2 or later, (b) Define your column with a type akin to the misnamed SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>, (c) Exchange data with the database using <code>java.time.OffsetDateTime</code>. All this has been covered many times on Stack Overflow."},{"owner":{"account_id":13592340,"reputation":1,"user_id":9805337,"display_name":"Ermanno"},"score":0,"creation_date":1700761402,"post_id":77531397,"comment_id":136696698,"body_markdown":"@BasilBourque This way before JDBC 4.2 no java application could have managed timezones. The problem here is only write a timestamp, which got no zone, and read another one.","body":"@BasilBourque This way before JDBC 4.2 no java application could have managed timezones. The problem here is only write a timestamp, which got no zone, and read another one."}],"owner":{"account_id":13592340,"reputation":1,"user_id":9805337,"display_name":"Ermanno"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701541650,"creation_date":1700668452,"question_id":77531397,"body_markdown":"some days ago it happened to me a strange thing that fortunately I could reproduce quite easily. Originally in place of the two Timestamp there was SYSTIMESTAMP but the behaviour is the same.\r\nThe first ZonedDateTime, **a**, is crafted to be the moment immediately before the return to standard time in Central Europe.\r\n\r\n\r\n```\r\npackage ermanno.date.oracle;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Timestamp;\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\n\r\npublic class TimestampStackOverflow\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        try\r\n        {\r\n            DriverManager.registerDriver(new oracle.jdbc.OracleDriver());\r\n            Connection conn = DriverManager.getConnection(\r\n                &quot;jdbc:oracle:thin:@(DESCRIPTION=(ENABLE=BROKEN)(LOAD_BALANCE=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=xxx)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=xxx)))&quot;,\r\n                &quot;xxx&quot;, &quot;xxx&quot;);\r\n            String sql1 = &quot;delete from iannacci.ts3&quot;;\r\n            String sql2 = &quot;insert into iannacci.ts3 values (?)&quot;;\r\n            String sql3 = &quot;select * from iannacci.ts3 ORDER BY tt&quot;;\r\n            PreparedStatement stmt1 = conn.prepareStatement(sql1);\r\n            PreparedStatement stmt2 = conn.prepareStatement(sql2);\r\n            PreparedStatement stmt3 = conn.prepareStatement(sql3);\r\n            ZonedDateTime a = ZonedDateTime.of(2023, 10, 29, 0, 59, 59, 0, ZoneId.of(&quot;UTC&quot;));\r\n            ZonedDateTime b = a.plusSeconds(2);\r\n            stmt1.execute();\r\n            System.out.println(a + &quot; &quot; + a.toInstant().toEpochMilli());\r\n            System.out.println(b + &quot; &quot; + b.toInstant().toEpochMilli());\r\n            stmt2.setObject(1, new Timestamp(a.toInstant().toEpochMilli()));\r\n            stmt2.execute();\r\n            stmt2.setObject(1, new Timestamp(b.toInstant().toEpochMilli()));\r\n            stmt2.execute();\r\n            ResultSet r = stmt3.executeQuery();\r\n\r\n            while (r.next())\r\n            {\r\n                System.out.println(r.getTimestamp(1) + &quot; &quot; + r.getTimestamp(1).getTime());\r\n            }\r\n\r\n            stmt3.close();\r\n            stmt2.close();\r\n            conn.close();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe Oracle table.\r\n```\r\nCREATE TABLE IANNACCI.TS3\r\n(\r\n  TT TIMESTAMP\r\n);\r\n```\r\n\r\nThe results are\r\n\r\n2023-10-29T00:59:59Z[UTC] *1698541199000*\r\n\r\n2023-10-29T01:00:01Z[UTC] 1698541201000\r\n\r\n2023-10-29 02:00:01.0 1698541201000\r\n\r\n2023-10-29 02:59:59.0 *1698544799000*\r\n\r\nWhat I expect to see is that the two Timestamps in italic be the same as I inserted.\r\n\r\nI always counted on Timestamp to write &quot;pure&quot; instant. The return to standard time is involved in some way, still I can&#39;t understand how Oracle return data different from what I write.\r\nSESSIONTIMEZONE is Europe/Rome.\r\n\r\nThanks.","title":"Writing java.sql.Timestamp near standard time in Oracle","body":"<p>some days ago it happened to me a strange thing that fortunately I could reproduce quite easily. Originally in place of the two Timestamp there was SYSTIMESTAMP but the behaviour is the same.\nThe first ZonedDateTime, <strong>a</strong>, is crafted to be the moment immediately before the return to standard time in Central Europe.</p>\n<pre><code>package ermanno.date.oracle;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.Timestamp;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class TimestampStackOverflow\n{\n    public static void main(String[] args)\n    {\n        try\n        {\n            DriverManager.registerDriver(new oracle.jdbc.OracleDriver());\n            Connection conn = DriverManager.getConnection(\n                &quot;jdbc:oracle:thin:@(DESCRIPTION=(ENABLE=BROKEN)(LOAD_BALANCE=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=xxx)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=xxx)))&quot;,\n                &quot;xxx&quot;, &quot;xxx&quot;);\n            String sql1 = &quot;delete from iannacci.ts3&quot;;\n            String sql2 = &quot;insert into iannacci.ts3 values (?)&quot;;\n            String sql3 = &quot;select * from iannacci.ts3 ORDER BY tt&quot;;\n            PreparedStatement stmt1 = conn.prepareStatement(sql1);\n            PreparedStatement stmt2 = conn.prepareStatement(sql2);\n            PreparedStatement stmt3 = conn.prepareStatement(sql3);\n            ZonedDateTime a = ZonedDateTime.of(2023, 10, 29, 0, 59, 59, 0, ZoneId.of(&quot;UTC&quot;));\n            ZonedDateTime b = a.plusSeconds(2);\n            stmt1.execute();\n            System.out.println(a + &quot; &quot; + a.toInstant().toEpochMilli());\n            System.out.println(b + &quot; &quot; + b.toInstant().toEpochMilli());\n            stmt2.setObject(1, new Timestamp(a.toInstant().toEpochMilli()));\n            stmt2.execute();\n            stmt2.setObject(1, new Timestamp(b.toInstant().toEpochMilli()));\n            stmt2.execute();\n            ResultSet r = stmt3.executeQuery();\n\n            while (r.next())\n            {\n                System.out.println(r.getTimestamp(1) + &quot; &quot; + r.getTimestamp(1).getTime());\n            }\n\n            stmt3.close();\n            stmt2.close();\n            conn.close();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The Oracle table.</p>\n<pre><code>CREATE TABLE IANNACCI.TS3\n(\n  TT TIMESTAMP\n);\n</code></pre>\n<p>The results are</p>\n<p>2023-10-29T00:59:59Z[UTC] <em>1698541199000</em></p>\n<p>2023-10-29T01:00:01Z[UTC] 1698541201000</p>\n<p>2023-10-29 02:00:01.0 1698541201000</p>\n<p>2023-10-29 02:59:59.0 <em>1698544799000</em></p>\n<p>What I expect to see is that the two Timestamps in italic be the same as I inserted.</p>\n<p>I always counted on Timestamp to write &quot;pure&quot; instant. The return to standard time is involved in some way, still I can't understand how Oracle return data different from what I write.\nSESSIONTIMEZONE is Europe/Rome.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate","gradle","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"score":0,"creation_date":1701536592,"post_id":77591133,"comment_id":136789112,"body_markdown":"Thank you for your quick response! I performed the actions you recommended and now I&#39;m getting the error `Entity &#39;com.genecab.bank.Account&#39; has no identifier (every &#39;@Entity&#39; class must declare or inherit at least one &#39;@Id&#39; or &#39;@EmbeddedId&#39; property)`. The new source code is at https://github.com/mifran/bank-troubleshooting/tree/patch1 . Any ideas on this next error? @ruslan-zinovyev","body":"Thank you for your quick response! I performed the actions you recommended and now I&#39;m getting the error <code>Entity &#39;com.genecab.bank.Account&#39; has no identifier (every &#39;@Entity&#39; class must declare or inherit at least one &#39;@Id&#39; or &#39;@EmbeddedId&#39; property)</code>. The new source code is at <a href=\"https://github.com/mifran/bank-troubleshooting/tree/patch1\" rel=\"nofollow noreferrer\">github.com/mifran/bank-troubleshooting/tree/patch1</a> . Any ideas on this next error? @ruslan-zinovyev"},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1701537442,"post_id":77591133,"comment_id":136789222,"body_markdown":"Please add this\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;","body":"Please add this     @Id     @GeneratedValue(strategy = GenerationType.IDENTITY)     private Long id;"},{"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"score":0,"creation_date":1701537581,"post_id":77591133,"comment_id":136789241,"body_markdown":"Fixed! I had to use `@jakarta.persistence.Id`","body":"Fixed! I had to use <code>@jakarta.persistence.Id</code>"},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1701537682,"post_id":77591133,"comment_id":136789256,"body_markdown":"glad to hear it","body":"glad to hear it"},{"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"score":0,"creation_date":1701537684,"post_id":77591133,"comment_id":136789258,"body_markdown":"Thank you SO MUCH for your help! It&#39;s all working now.","body":"Thank you SO MUCH for your help! It&#39;s all working now."},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1701537704,"post_id":77591133,"comment_id":136789262,"body_markdown":"you are very welcome","body":"you are very welcome"}],"tags":[],"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701541446,"creation_date":1701533540,"answer_id":77591133,"question_id":77590985,"body_markdown":"First of all, you are using record as an Entity for your JPA\r\n\r\n    public record Account(@Id Long id, String name, String type, String owner {\r\n    \r\n    }\r\n\r\n&gt; Entities are handled by the JPA provider. JPA providers are\r\n&gt; responsible for creating the database tables, mapping the entities to\r\n&gt; the tables, and persisting the entities to the database. In popular\r\n&gt; JPA providers like Hibernate, entities are created and managed using\r\n&gt; proxies.\r\n&gt; \r\n&gt; Proxies are classes that are generated at runtime and extend the\r\n&gt; entity class. These proxies rely on the entity class to have a no-args\r\n&gt; constructor and setters. Since records don’t have these, they can’t be\r\n&gt; used as entities.\r\n\r\nFor now, you can do the following, keep in mind that @Table is optional\r\n\r\n    @Entity \r\n    @Table(name = &quot;account&quot;)\r\n    public class Account {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String type;\r\n        private String owner;\r\n    \r\n        // JPA requires a no argument constructor\r\n        protected Account() {}\r\n    \r\n        public Account(Long id, String name, String type, String owner) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.type = type;\r\n            this.owner = owner;\r\n        }\r\n    \r\n        // Getters and setters (if not using Lombok)\r\n        // ...\r\n    }\r\n\r\nBased on the code you&#39;ve shared BankApplication and AccountRepository are in the same package (com.genecab.bank), component scanning should automatically pick up AccountRepository as a Spring Bean.\r\nTry to fix Account as I described and explicitly specify the following in BankApplication\r\n\r\n    @EnableJpaRepositories(basePackages = &quot;com.genecab.bank&quot;)\r\n\r\nI also would recommend you to remove unnecessary dependency\r\n\t\r\n\r\n    implementation &#39;org.springframework.data:spring-data-jdbc&#39;","title":"&quot;No qualifying bean of type &#39;com.genecab.bank.AccountRepository&#39; available&quot; when converting to spring-data-jpa from in-memory database","body":"<p>First of all, you are using record as an Entity for your JPA</p>\n<pre><code>public record Account(@Id Long id, String name, String type, String owner {\n\n}\n</code></pre>\n<blockquote>\n<p>Entities are handled by the JPA provider. JPA providers are\nresponsible for creating the database tables, mapping the entities to\nthe tables, and persisting the entities to the database. In popular\nJPA providers like Hibernate, entities are created and managed using\nproxies.</p>\n<p>Proxies are classes that are generated at runtime and extend the\nentity class. These proxies rely on the entity class to have a no-args\nconstructor and setters. Since records don’t have these, they can’t be\nused as entities.</p>\n</blockquote>\n<p>For now, you can do the following, keep in mind that @Table is optional</p>\n<pre><code>@Entity \n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String type;\n    private String owner;\n\n    // JPA requires a no argument constructor\n    protected Account() {}\n\n    public Account(Long id, String name, String type, String owner) {\n        this.id = id;\n        this.name = name;\n        this.type = type;\n        this.owner = owner;\n    }\n\n    // Getters and setters (if not using Lombok)\n    // ...\n}\n</code></pre>\n<p>Based on the code you've shared BankApplication and AccountRepository are in the same package (com.genecab.bank), component scanning should automatically pick up AccountRepository as a Spring Bean.\nTry to fix Account as I described and explicitly specify the following in BankApplication</p>\n<pre><code>@EnableJpaRepositories(basePackages = &quot;com.genecab.bank&quot;)\n</code></pre>\n<p>I also would recommend you to remove unnecessary dependency</p>\n<pre><code>implementation 'org.springframework.data:spring-data-jdbc'\n</code></pre>\n"}],"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77591133,"answer_count":1,"score":-1,"last_activity_date":1701541446,"creation_date":1701530882,"question_id":77590985,"body_markdown":"I&#39;m almost there on persisting my H2 database using JPA in the application for the first time, but I&#39;m running into the error message `No qualifying bean of type &#39;com.genecab.bank.AccountRepository&#39; available`. The application works in memory, but when spring-data-jpa is added to the build.gradle it does not find this bean.\r\n\r\nThe command I ran to reproduce this was as follows:\r\n\r\n\r\n```\r\njava -jar -Dspring.profiles.active=local build\\libs\\bank-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\nHere are more details on the failure from the Spring log:\r\n\r\n\r\n```\r\n2023-12-02T09:37:16.805-05:00  INFO 24540 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1944 ms\r\n2023-12-02T09:37:16.848-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-12-02T09:37:17.173-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:C:/data/bank user=BANK-USER\r\n2023-12-02T09:37:17.178-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-12-02T09:37:17.197-05:00  INFO 24540 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2&#39;. Database available at &#39;jdbc:h2:file:C:/data/bank&#39;\r\n2023-12-02T09:37:17.400-05:00  INFO 24540 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.5.1 by Redgate\r\n2023-12-02T09:37:17.401-05:00  INFO 24540 --- [           main] o.f.c.internal.license.VersionPrinter    : See what&#39;s new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.5.1\r\n2023-12-02T09:37:17.408-05:00  INFO 24540 --- [           main] o.f.c.internal.license.VersionPrinter    :\r\n2023-12-02T09:37:17.431-05:00  INFO 24540 --- [           main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:h2:file:C:/data/bank (H2 2.1)\r\n2023-12-02T09:37:17.514-05:00  INFO 24540 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.024s)\r\n2023-12-02T09:37:17.526-05:00  INFO 24540 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;PUBLIC&quot;: 2\r\n2023-12-02T09:37:17.528-05:00  INFO 24540 --- [           main] o.f.core.internal.command.DbMigrate      : Schema &quot;PUBLIC&quot; is up to date. No migration necessary.\r\n2023-12-02T09:37:17.664-05:00  INFO 24540 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-12-02T09:37:17.757-05:00  INFO 24540 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-12-02T09:37:18.269-05:00  INFO 24540 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2023-12-02T09:37:18.672-05:00  INFO 24540 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-12-02T09:37:18.690-05:00  INFO 24540 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-12-02T09:37:18.708-05:00  WARN 24540 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;accountController&#39; defined in URL [jar:file:/C:/Users/biz/IdeaProjects/genecab-bank/build/libs/bank-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/com/genecab/bank/AccountController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;com.genecab.bank.AccountRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n2023-12-02T09:37:18.708-05:00  INFO 24540 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-12-02T09:37:18.719-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-12-02T09:37:18.762-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-12-02T09:37:18.766-05:00  INFO 24540 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-12-02T09:37:18.788-05:00  INFO 24540 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-12-02T09:37:18.819-05:00 ERROR 24540 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.genecab.bank.AccountController required a bean of type &#39;com.genecab.bank.AccountRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.genecab.bank.AccountRepository&#39; in your configuration.\r\n\r\n```\r\n\r\nHere is my build.gradle:\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.genecab&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.data:spring-data-jdbc&#39;\r\n\timplementation &#39;com.h2database:h2&#39;\r\n\timplementation &#39;org.flywaydb:flyway-core&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nMy unit tests were passing when I commented out the spring-boot-starter-data-jpa line like this:\r\n\r\n\r\n```\r\n\t// implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n```\r\n\r\n...and I can also run `.gradlew bootRun` successfully when that is commented out. However, when I put it in, the unit tests fail with errors like the following:\r\n\r\n\r\n```\r\nBankApplicationTests &gt; shouldCreateANewJournalEntry() FAILED\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\r\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:798\r\n            Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException at DefaultListableBeanFactory.java:1824\r\n\r\n```\r\n\r\nSo it seems similar to the problem in the original log when trying to run bootRun with the local configuration.\r\n\r\nHere is my application-local.properties:\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:file:C:/data/bank\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=bank-user\r\nspring.datasource.password=&amp;zsD9*PfZ0sgfNbW\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.flyway.user=bank-user\r\nspring.flyway.password=&amp;zsD9*PfZ0sgfNbW\r\nspring.flyway.url=jdbc:h2:file:C:/data/bank\r\nspring.flyway.locations=classpath:db/migration\r\nspring.flyway.enabled=true\r\n\r\n# H2\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2\r\n\r\n```\r\n\r\nAnd my AccountRepository.java:\r\n\r\n\r\n```\r\npackage com.genecab.bank;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.data.repository.PagingAndSortingRepository;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface AccountRepository extends CrudRepository&lt;Account, Long&gt;, PagingAndSortingRepository&lt;Account, Long&gt; {\r\n    Account findByIdAndOwner(Long id, String owner);\r\n    Page&lt;Account&gt; findByOwner(String owner, PageRequest amount);\r\n\r\n    Optional&lt;Account&gt; findById(Long accountId);\r\n}\r\n\r\n```\r\n\r\nThe full source code is available at [this Github source code link](https://github.com/mifran/bank-troubleshooting/tree/0.0.1-SNAPSHOT) if that makes it easier.\r\n\r\nI also tried adding @EnableJpaRepositories but this didn&#39;t work.\r\n\r\nI wrestled for some time with the schema initialization and ultimately implemented flyway, which shows in the log that the schema initialization is successful, so I know the underlying tables and data are being created.","title":"&quot;No qualifying bean of type &#39;com.genecab.bank.AccountRepository&#39; available&quot; when converting to spring-data-jpa from in-memory database","body":"<p>I'm almost there on persisting my H2 database using JPA in the application for the first time, but I'm running into the error message <code>No qualifying bean of type 'com.genecab.bank.AccountRepository' available</code>. The application works in memory, but when spring-data-jpa is added to the build.gradle it does not find this bean.</p>\n<p>The command I ran to reproduce this was as follows:</p>\n<pre><code>java -jar -Dspring.profiles.active=local build\\libs\\bank-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>Here are more details on the failure from the Spring log:</p>\n<pre><code>2023-12-02T09:37:16.805-05:00  INFO 24540 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1944 ms\n2023-12-02T09:37:16.848-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-12-02T09:37:17.173-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:C:/data/bank user=BANK-USER\n2023-12-02T09:37:17.178-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-12-02T09:37:17.197-05:00  INFO 24540 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2'. Database available at 'jdbc:h2:file:C:/data/bank'\n2023-12-02T09:37:17.400-05:00  INFO 24540 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.5.1 by Redgate\n2023-12-02T09:37:17.401-05:00  INFO 24540 --- [           main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.5.1\n2023-12-02T09:37:17.408-05:00  INFO 24540 --- [           main] o.f.c.internal.license.VersionPrinter    :\n2023-12-02T09:37:17.431-05:00  INFO 24540 --- [           main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:h2:file:C:/data/bank (H2 2.1)\n2023-12-02T09:37:17.514-05:00  INFO 24540 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.024s)\n2023-12-02T09:37:17.526-05:00  INFO 24540 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;PUBLIC&quot;: 2\n2023-12-02T09:37:17.528-05:00  INFO 24540 --- [           main] o.f.core.internal.command.DbMigrate      : Schema &quot;PUBLIC&quot; is up to date. No migration necessary.\n2023-12-02T09:37:17.664-05:00  INFO 24540 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-12-02T09:37:17.757-05:00  INFO 24540 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-12-02T09:37:18.269-05:00  INFO 24540 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2023-12-02T09:37:18.672-05:00  INFO 24540 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-12-02T09:37:18.690-05:00  INFO 24540 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-12-02T09:37:18.708-05:00  WARN 24540 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController' defined in URL [jar:file:/C:/Users/biz/IdeaProjects/genecab-bank/build/libs/bank-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/com/genecab/bank/AccountController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.genecab.bank.AccountRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2023-12-02T09:37:18.708-05:00  INFO 24540 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-12-02T09:37:18.719-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-12-02T09:37:18.762-05:00  INFO 24540 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-12-02T09:37:18.766-05:00  INFO 24540 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-12-02T09:37:18.788-05:00  INFO 24540 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-12-02T09:37:18.819-05:00 ERROR 24540 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.genecab.bank.AccountController required a bean of type 'com.genecab.bank.AccountRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.genecab.bank.AccountRepository' in your configuration.\n\n</code></pre>\n<p>Here is my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.genecab'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.data:spring-data-jdbc'\n    implementation 'com.h2database:h2'\n    implementation 'org.flywaydb:flyway-core'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>My unit tests were passing when I commented out the spring-boot-starter-data-jpa line like this:</p>\n<pre><code>    // implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n</code></pre>\n<p>...and I can also run <code>.gradlew bootRun</code> successfully when that is commented out. However, when I put it in, the unit tests fail with errors like the following:</p>\n<pre><code>BankApplicationTests &gt; shouldCreateANewJournalEntry() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:798\n            Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException at DefaultListableBeanFactory.java:1824\n\n</code></pre>\n<p>So it seems similar to the problem in the original log when trying to run bootRun with the local configuration.</p>\n<p>Here is my application-local.properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:C:/data/bank\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=bank-user\nspring.datasource.password=&amp;zsD9*PfZ0sgfNbW\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.flyway.user=bank-user\nspring.flyway.password=&amp;zsD9*PfZ0sgfNbW\nspring.flyway.url=jdbc:h2:file:C:/data/bank\nspring.flyway.locations=classpath:db/migration\nspring.flyway.enabled=true\n\n# H2\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2\n\n</code></pre>\n<p>And my AccountRepository.java:</p>\n<pre><code>package com.genecab.bank;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.data.repository.PagingAndSortingRepository;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface AccountRepository extends CrudRepository&lt;Account, Long&gt;, PagingAndSortingRepository&lt;Account, Long&gt; {\n    Account findByIdAndOwner(Long id, String owner);\n    Page&lt;Account&gt; findByOwner(String owner, PageRequest amount);\n\n    Optional&lt;Account&gt; findById(Long accountId);\n}\n\n</code></pre>\n<p>The full source code is available at <a href=\"https://github.com/mifran/bank-troubleshooting/tree/0.0.1-SNAPSHOT\" rel=\"nofollow noreferrer\">this Github source code link</a> if that makes it easier.</p>\n<p>I also tried adding @EnableJpaRepositories but this didn't work.</p>\n<p>I wrestled for some time with the schema initialization and ultimately implemented flyway, which shows in the log that the schema initialization is successful, so I know the underlying tables and data are being created.</p>\n"},{"tags":["java","scala","visual-studio-code"],"comments":[{"owner":{"account_id":2205293,"reputation":3363,"user_id":4136999,"display_name":"toyota Supra"},"score":1,"creation_date":1701540186,"post_id":77591468,"comment_id":136789516,"body_markdown":"please post the code as text, not a screenshot.","body":"please post the code as text, not a screenshot."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1701671681,"post_id":77591468,"comment_id":136800170,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.\n\nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.  Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":30049480,"reputation":1,"user_id":23028366,"display_name":"Aurimas Kukėnas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701541036,"creation_date":1701538277,"question_id":77591468,"body_markdown":"Is it possible to configure VSCode to run tasks as a different user?\r\n\r\nI am able to sudo as a different user and execute /&quot;opt&quot;/&quot;java8&quot;/&quot;bin&quot;/&quot;java&quot;  -classpath &quot;some/path/.tmp/some_app.jar test. Can I achieve the same using run | debug directly:\r\n\r\n![enter image description here](https://i.stack.imgur.com/Q6fGC.png)\r\n\r\nTried manipulating launch.json with no success.","title":"Running Tasks in VSCode with Different User Permissions","body":"<p>Is it possible to configure VSCode to run tasks as a different user?</p>\n<p>I am able to sudo as a different user and execute /&quot;opt&quot;/&quot;java8&quot;/&quot;bin&quot;/&quot;java&quot;  -classpath &quot;some/path/.tmp/some_app.jar test. Can I achieve the same using run | debug directly:</p>\n<p><img src=\"https://i.stack.imgur.com/Q6fGC.png\" alt=\"enter image description here\" /></p>\n<p>Tried manipulating launch.json with no success.</p>\n"},{"tags":["java","android","alarmmanager"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701556114,"post_id":77591101,"comment_id":136791101,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26054552,"reputation":1,"user_id":19757138,"display_name":"Torf"},"score":0,"creation_date":1701559915,"post_id":77591101,"comment_id":136791429,"body_markdown":"As it seems that my question is not clear enough.\n\nI would like to have a notification, for exemple, each 25th december at 9:00 AM. But I didn&#39;t manage to find, or to use, a working code for that. Can somebody help me about this, or having an idea of what is wrong in my codes ? I can&#39;t make a more clear question.","body":"As it seems that my question is not clear enough.  I would like to have a notification, for exemple, each 25th december at 9:00 AM. But I didn&#39;t manage to find, or to use, a working code for that. Can somebody help me about this, or having an idea of what is wrong in my codes ? I can&#39;t make a more clear question."}],"owner":{"account_id":26054552,"reputation":1,"user_id":19757138,"display_name":"Torf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701540626,"creation_date":1701532875,"question_id":77591101,"body_markdown":"I&#39;m very debutant in programming. It&#39;s the first time that I post here. Sorry if my question seems ridiculous.\r\n\r\nI&#39;m creating an ephemeride application, that display a quote for each day and that send a notification notification at some specific days and hours. But the notification doesn&#39;t occur.\r\n\r\nFor exemple, each 25th december, I would like that the app send a notification related to the event of the day, even if the application is closed.\r\n\r\nI have try several thing, but it doesn&#39;t work.\r\n\r\nThanks for your help.\r\n\r\nMy current codes (where I have only tried to set the hour of the notification) :\r\n\r\nMainActivity :\r\n\r\n```\r\npackage fr.me.ephemeride;\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.PendingIntent;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.core.app.NotificationManagerCompat;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.LocalTime;\r\nimport java.util.Calendar;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        public static void startAlarmBroadcastReceiver(Context context) {\r\n            Intent _intent = new Intent(context, AlarmBroadcastReceiver.class);\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, _intent, PendingIntent.FLAG_IMMUTABLE);\r\n            AlarmManager alarmManager = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\r\n            alarmManager.cancel(pendingIntent);\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.setTimeInMillis(System.currentTimeMillis());\r\n            calendar.set(Calendar.HOUR_OF_DAY, 9);\r\n            calendar.set(Calendar.MINUTE, 0);\r\n            calendar.set(Calendar.SECOND, 0);\r\n            alarmManager.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n        }\r\n```\r\n\r\nAndroidManifest :\r\n\r\n```\r\n        &lt;receiver android:name=&quot;.AlarmBroadcastReceiver&quot; /&gt;\r\n```\r\n\r\nAlarmBroadcastReceiver :\r\n\r\n```\r\npackage fr.me.ephemeride;\r\n\r\n\r\nimport android.app.PendingIntent;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\n\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.core.app.NotificationManagerCompat;\r\n\r\npublic class AlarmBroadcastReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        showNotification(context);\r\n\r\n    }\r\n\r\n    void showNotification(Context context) {\r\n        Intent intent = new Intent(context, calendrier_japonais.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context,&quot;My notification&quot;);\r\n        builder.setContentTitle(&quot;Notification test&quot;);\r\n        builder.setContentText(&quot;My text&quot;);\r\n        builder.setSmallIcon(R.drawable.icon_nebra_foreground);\r\n        builder.setAutoCancel(true);//permet de faire glisser la notification sur le c&#244;t&#233; afin de la faire dispara&#238;tre\r\n        builder.setContentIntent(pendingIntent);//permet d&#39;aller &#224; la classe souhait&#233;e lorsque on tape sur la notification\r\n        builder.setOnlyAlertOnce(true);//&#233;vite que que la m&#234;me notification apparaisse plusieurs fois\r\n\r\n        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(context);\r\n        managerCompat.notify(1,builder.build());\r\n    }\r\n}\r\n```\r\n","title":"Trying to create several notifications that would fire at some specific days and hours","body":"<p>I'm very debutant in programming. It's the first time that I post here. Sorry if my question seems ridiculous.</p>\n<p>I'm creating an ephemeride application, that display a quote for each day and that send a notification notification at some specific days and hours. But the notification doesn't occur.</p>\n<p>For exemple, each 25th december, I would like that the app send a notification related to the event of the day, even if the application is closed.</p>\n<p>I have try several thing, but it doesn't work.</p>\n<p>Thanks for your help.</p>\n<p>My current codes (where I have only tried to set the hour of the notification) :</p>\n<p>MainActivity :</p>\n<pre><code>package fr.me.ephemeride;\n\nimport android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.NotificationCompat;\nimport androidx.core.app.NotificationManagerCompat;\n\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.util.Calendar;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        public static void startAlarmBroadcastReceiver(Context context) {\n            Intent _intent = new Intent(context, AlarmBroadcastReceiver.class);\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, _intent, PendingIntent.FLAG_IMMUTABLE);\n            AlarmManager alarmManager = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\n            alarmManager.cancel(pendingIntent);\n            Calendar calendar = Calendar.getInstance();\n            calendar.setTimeInMillis(System.currentTimeMillis());\n            calendar.set(Calendar.HOUR_OF_DAY, 9);\n            calendar.set(Calendar.MINUTE, 0);\n            calendar.set(Calendar.SECOND, 0);\n            alarmManager.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n        }\n</code></pre>\n<p>AndroidManifest :</p>\n<pre><code>        &lt;receiver android:name=&quot;.AlarmBroadcastReceiver&quot; /&gt;\n</code></pre>\n<p>AlarmBroadcastReceiver :</p>\n<pre><code>package fr.me.ephemeride;\n\n\nimport android.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\nimport androidx.core.app.NotificationCompat;\nimport androidx.core.app.NotificationManagerCompat;\n\npublic class AlarmBroadcastReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        showNotification(context);\n\n    }\n\n    void showNotification(Context context) {\n        Intent intent = new Intent(context, calendrier_japonais.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context,&quot;My notification&quot;);\n        builder.setContentTitle(&quot;Notification test&quot;);\n        builder.setContentText(&quot;My text&quot;);\n        builder.setSmallIcon(R.drawable.icon_nebra_foreground);\n        builder.setAutoCancel(true);//permet de faire glisser la notification sur le côté afin de la faire disparaître\n        builder.setContentIntent(pendingIntent);//permet d'aller à la classe souhaitée lorsque on tape sur la notification\n        builder.setOnlyAlertOnce(true);//évite que que la même notification apparaisse plusieurs fois\n\n        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(context);\n        managerCompat.notify(1,builder.build());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701540316,"creation_date":1701536914,"answer_id":77591363,"question_id":77587800,"body_markdown":"Looks like as for the Thymeleaf version 3.1 template extension is supposed to be done using the other mechanism described in [Tutorial: Using Thymeleaf (3.1.2.RELEASE), chapter 8.5 Layout Inheritance][1]:\r\n\r\nThe layout is (`src/main/resources/templates/layout/layout_simple.html`):\r\n\r\n````\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; th:fragment=&quot;layout(title, main)&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title th:replace=&quot;${title}&quot;&gt;Layout title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;header&gt;Common block: header&lt;/header&gt;\r\n&lt;main id=&quot;mainpart&quot; th:replace=&quot;${main}&quot;&gt;\r\n    &lt;p&gt;&lt;em&gt;This content must not be visible.&lt;/em&gt;&lt;/p&gt;\r\n&lt;/main&gt;\r\n&lt;footer&gt;Common block: footer&lt;/footer&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nThe page is (`src/main/resources/templates/thymeleaf_first_page_simple.html`):\r\n\r\n````\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html th:replace=&quot;~{layout/layout_simple :: layout(~{::title}, ~{::main})}&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Thymeleaf demo simple&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;main&gt;\r\n    &lt;h1&gt;Thymeleaf template extension simple demo&lt;/h1&gt;\r\n    &lt;p&gt;Actual page content: [&lt;th:block th:text=&quot;${modelValue}&quot; /&gt;]&lt;/p&gt;\r\n&lt;/main&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nThe result is:\r\n\r\n````\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Thymeleaf demo simple&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;header&gt;Common block: header&lt;/header&gt;\r\n&lt;main&gt;\r\n    &lt;h1&gt;Thymeleaf template extension simple demo&lt;/h1&gt;\r\n    &lt;p&gt;Actual page content: [some simple value from the model]&lt;/p&gt;\r\n&lt;/main&gt;\r\n&lt;footer&gt;Common block: footer&lt;/footer&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nSo no need to use the dependency `nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar` (and to define the `LayoutDialect` bean).\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#layout-inheritance","title":"spring-boot-starter-thymeleaf and thymeleaf-layout-dialect works without explicit LayoutDialect bean - is it OK?","body":"<p>Looks like as for the Thymeleaf version 3.1 template extension is supposed to be done using the other mechanism described in <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#layout-inheritance\" rel=\"nofollow noreferrer\">Tutorial: Using Thymeleaf (3.1.2.RELEASE), chapter 8.5 Layout Inheritance</a>:</p>\n<p>The layout is (<code>src/main/resources/templates/layout/layout_simple.html</code>):</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; th:fragment=&quot;layout(title, main)&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title th:replace=&quot;${title}&quot;&gt;Layout title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;header&gt;Common block: header&lt;/header&gt;\n&lt;main id=&quot;mainpart&quot; th:replace=&quot;${main}&quot;&gt;\n    &lt;p&gt;&lt;em&gt;This content must not be visible.&lt;/em&gt;&lt;/p&gt;\n&lt;/main&gt;\n&lt;footer&gt;Common block: footer&lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The page is (<code>src/main/resources/templates/thymeleaf_first_page_simple.html</code>):</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html th:replace=&quot;~{layout/layout_simple :: layout(~{::title}, ~{::main})}&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Thymeleaf demo simple&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;main&gt;\n    &lt;h1&gt;Thymeleaf template extension simple demo&lt;/h1&gt;\n    &lt;p&gt;Actual page content: [&lt;th:block th:text=&quot;${modelValue}&quot; /&gt;]&lt;/p&gt;\n&lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The result is:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Thymeleaf demo simple&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;header&gt;Common block: header&lt;/header&gt;\n&lt;main&gt;\n    &lt;h1&gt;Thymeleaf template extension simple demo&lt;/h1&gt;\n    &lt;p&gt;Actual page content: [some simple value from the model]&lt;/p&gt;\n&lt;/main&gt;\n&lt;footer&gt;Common block: footer&lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>So no need to use the dependency <code>nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar</code> (and to define the <code>LayoutDialect</code> bean).</p>\n"}],"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77591363,"answer_count":1,"score":0,"last_activity_date":1701540316,"creation_date":1701460954,"question_id":77587800,"body_markdown":"I have a Spring boot Maven project:\r\n\r\n````\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n````\r\n\r\nIn dependencies there are:\r\n\r\n````\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n````\r\n\r\nThe versions are:\r\n\r\n- `org.springframework.boot:spring-boot-starter-thymeleaf:jar:3.2.0`\r\n- `nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar:3.3.0`\r\n\r\n[This instruction][1] says:\r\n\r\n&gt; To get started with Layout Dialect we need to include it into the pom.xml. The dependency is:\r\n&gt; \r\n&gt; ````\r\n&gt; &lt;dependency&gt;\r\n&gt;   &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n&gt;   &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n&gt;   &lt;version&gt;2.0.5&lt;/version&gt;\r\n&gt; &lt;/dependency&gt;\r\n&gt; ````\r\n&gt; \r\n&gt; We will also need to configure the integration by adding an additional dialect to our template engine:\r\n&gt; \r\n&gt; ````\r\n&gt; @Bean\r\n&gt; public SpringTemplateEngine templateEngine() {\r\n&gt;     SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n&gt;     ...\r\n&gt;     templateEngine.addDialect(new LayoutDialect());\r\n&gt;     return templateEngine;\r\n&gt; }\r\n&gt; ````\r\n\r\nI don&#39;t add the `SpringTemplateEngine` bean and my project works.\r\n\r\nSome other instructions say I need to add the `nz.net.ultraq.thymeleaf.layoutdialect.LayoutDialect` bean that I also don&#39;t add.\r\n\r\nFor investigation purpose I use the following controller:\r\n\r\n````\r\n@Controller\r\npublic class DemoController {\r\n\r\n    @Autowired\r\n    LayoutDialect layoutDialect;\r\n\r\n    @GetMapping(&quot;/demo&quot;)\r\n    public String getAllUsers() {\r\n        System.out.println(layoutDialect);\r\n        return &quot;thymeleaf_first_page&quot;;\r\n    }\r\n}\r\n````\r\n\r\nAnd in the console i see:\r\n\r\n````\r\nnz.net.ultraq.thymeleaf.layoutdialect.LayoutDialect@7c6ab057\r\n````\r\n\r\nThat means that the bean exists in the context.\r\n\r\n**QUESTION**\r\n\r\nCan you confirm that with my newer versions of Spring Boot and `spring-boot-starter-thymeleaf` it&#39;s not required to explicitly add the `LayoutDialect` bean?\r\n\r\nIs there any documentation about it?\r\n\r\n**UPDATE**\r\n\r\nThis is not much important for the question but will add some illustration of what was done.\r\n\r\nThe layout is (`src/main/resources/templates/layout/layout.html`):\r\n\r\n````\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title layout:fragment=&quot;title&quot;&gt;&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;header&gt;\r\n    &lt;nav&gt;&lt;span&gt;LOGO&lt;/span&gt; &lt;a href=&quot;#&quot;&gt;LINK1&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;LINK2&lt;/a&gt; &lt;/nav&gt;\r\n&lt;/header&gt;\r\n    &lt;main id=&quot;mainpart&quot; layout:fragment=&quot;main&quot;&gt;\r\n        &lt;p&gt;&lt;em&gt;This content must not be visible.&lt;/em&gt;&lt;/p&gt;\r\n    &lt;/main&gt;\r\n&lt;footer&gt;Footer information&lt;/footer&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nThe page is (`src/main/resources/templates/thymeleaf_first_page.html`):\r\n\r\n````\r\n&lt;html xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      layout:decorate=&quot;~{layout/layout}&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title layout:fragment=&quot;title&quot;&gt;Thymeleaf demo&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;main layout:fragment=&quot;main&quot;&gt;\r\n        &lt;h1&gt;Thymeleaf template extension demo&lt;/h1&gt;\r\n        &lt;p&gt;Actual page content: [&lt;th:block th:text=&quot;${modelValue}&quot; /&gt;]&lt;/p&gt;\r\n    &lt;/main&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nThe result is:\r\n\r\n````\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    \r\n    &lt;title&gt;Thymeleaf demo&lt;/title&gt;\r\n    \r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;header&gt;\r\n    &lt;nav&gt;&lt;span&gt;LOGO&lt;/span&gt; &lt;a href=&quot;#&quot;&gt;LINK1&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;LINK2&lt;/a&gt; &lt;/nav&gt;\r\n&lt;/header&gt;\r\n    &lt;main id=&quot;mainpart&quot;&gt;\r\n        &lt;h1&gt;Thymeleaf template extension demo&lt;/h1&gt;\r\n        &lt;p&gt;Actual page content: [some value from the model]&lt;/p&gt;\r\n    &lt;/main&gt;\r\n&lt;footer&gt;Footer information&lt;/footer&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n````\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/articles/layouts.html","title":"spring-boot-starter-thymeleaf and thymeleaf-layout-dialect works without explicit LayoutDialect bean - is it OK?","body":"<p>I have a Spring boot Maven project:</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>In dependencies there are:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The versions are:</p>\n<ul>\n<li><code>org.springframework.boot:spring-boot-starter-thymeleaf:jar:3.2.0</code></li>\n<li><code>nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar:3.3.0</code></li>\n</ul>\n<p><a href=\"https://www.thymeleaf.org/doc/articles/layouts.html\" rel=\"nofollow noreferrer\">This instruction</a> says:</p>\n<blockquote>\n<p>To get started with Layout Dialect we need to include it into the pom.xml. The dependency is:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n  &lt;version&gt;2.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We will also need to configure the integration by adding an additional dialect to our template engine:</p>\n<pre><code>@Bean\npublic SpringTemplateEngine templateEngine() {\n    SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n    ...\n    templateEngine.addDialect(new LayoutDialect());\n    return templateEngine;\n}\n</code></pre>\n</blockquote>\n<p>I don't add the <code>SpringTemplateEngine</code> bean and my project works.</p>\n<p>Some other instructions say I need to add the <code>nz.net.ultraq.thymeleaf.layoutdialect.LayoutDialect</code> bean that I also don't add.</p>\n<p>For investigation purpose I use the following controller:</p>\n<pre><code>@Controller\npublic class DemoController {\n\n    @Autowired\n    LayoutDialect layoutDialect;\n\n    @GetMapping(&quot;/demo&quot;)\n    public String getAllUsers() {\n        System.out.println(layoutDialect);\n        return &quot;thymeleaf_first_page&quot;;\n    }\n}\n</code></pre>\n<p>And in the console i see:</p>\n<pre><code>nz.net.ultraq.thymeleaf.layoutdialect.LayoutDialect@7c6ab057\n</code></pre>\n<p>That means that the bean exists in the context.</p>\n<p><strong>QUESTION</strong></p>\n<p>Can you confirm that with my newer versions of Spring Boot and <code>spring-boot-starter-thymeleaf</code> it's not required to explicitly add the <code>LayoutDialect</code> bean?</p>\n<p>Is there any documentation about it?</p>\n<p><strong>UPDATE</strong></p>\n<p>This is not much important for the question but will add some illustration of what was done.</p>\n<p>The layout is (<code>src/main/resources/templates/layout/layout.html</code>):</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title layout:fragment=&quot;title&quot;&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;header&gt;\n    &lt;nav&gt;&lt;span&gt;LOGO&lt;/span&gt; &lt;a href=&quot;#&quot;&gt;LINK1&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;LINK2&lt;/a&gt; &lt;/nav&gt;\n&lt;/header&gt;\n    &lt;main id=&quot;mainpart&quot; layout:fragment=&quot;main&quot;&gt;\n        &lt;p&gt;&lt;em&gt;This content must not be visible.&lt;/em&gt;&lt;/p&gt;\n    &lt;/main&gt;\n&lt;footer&gt;Footer information&lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The page is (<code>src/main/resources/templates/thymeleaf_first_page.html</code>):</p>\n<pre><code>&lt;html xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      layout:decorate=&quot;~{layout/layout}&quot;&gt;\n&lt;head&gt;\n    &lt;title layout:fragment=&quot;title&quot;&gt;Thymeleaf demo&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;main layout:fragment=&quot;main&quot;&gt;\n        &lt;h1&gt;Thymeleaf template extension demo&lt;/h1&gt;\n        &lt;p&gt;Actual page content: [&lt;th:block th:text=&quot;${modelValue}&quot; /&gt;]&lt;/p&gt;\n    &lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The result is:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    \n    &lt;title&gt;Thymeleaf demo&lt;/title&gt;\n    \n&lt;/head&gt;\n&lt;body&gt;\n&lt;header&gt;\n    &lt;nav&gt;&lt;span&gt;LOGO&lt;/span&gt; &lt;a href=&quot;#&quot;&gt;LINK1&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;LINK2&lt;/a&gt; &lt;/nav&gt;\n&lt;/header&gt;\n    &lt;main id=&quot;mainpart&quot;&gt;\n        &lt;h1&gt;Thymeleaf template extension demo&lt;/h1&gt;\n        &lt;p&gt;Actual page content: [some value from the model]&lt;/p&gt;\n    &lt;/main&gt;\n&lt;footer&gt;Footer information&lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n"},{"tags":["java","android","ssh","vpn","ssh-tunnel"],"answers":[{"comments":[{"owner":{"account_id":4878212,"reputation":9,"user_id":3932695,"accept_rate":0,"display_name":"starbug"},"score":0,"creation_date":1701540045,"post_id":77591567,"comment_id":136789501,"body_markdown":"thanks. but can you explain about them or a link.","body":"thanks. but can you explain about them or a link."},{"owner":{"account_id":7708573,"reputation":685,"user_id":5838755,"display_name":"Taron Qalashyan"},"score":0,"creation_date":1701540247,"post_id":77591567,"comment_id":136789519,"body_markdown":"what is your OS?","body":"what is your OS?"},{"owner":{"account_id":4878212,"reputation":9,"user_id":3932695,"accept_rate":0,"display_name":"starbug"},"score":0,"creation_date":1701540324,"post_id":77591567,"comment_id":136789534,"body_markdown":"i develop applications for android and app uses android network","body":"i develop applications for android and app uses android network"}],"tags":[],"owner":{"account_id":7708573,"reputation":685,"user_id":5838755,"display_name":"Taron Qalashyan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701539799,"creation_date":1701539799,"answer_id":77591567,"question_id":77591557,"body_markdown":"Try to use proxy tools e.g Charles, Fiddler","title":"How to pass device traffic through ssh server","body":"<p>Try to use proxy tools e.g Charles, Fiddler</p>\n"}],"owner":{"account_id":4878212,"reputation":9,"user_id":3932695,"accept_rate":0,"display_name":"starbug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701539799,"creation_date":1701539608,"question_id":77591557,"body_markdown":"I am developing an application that want to pass my android device all traffic through ssh. My vps is ready and works very well as i tested it with other applications like [SSH Custom](https://play.google.com/store/apps/details?id=dev.epro.ssc&amp;hl=en&amp;gl=US). I use [jsch](http://www.jcraft.com/jsch/) for tunneling and have input and output streams from both of VPNInterface and sshtunnel. But there is no lock. After some research i guess may using socket as proxy solve the problem. But i have no idea how to do that.Need your help and appreciate. Thanks","title":"How to pass device traffic through ssh server","body":"<p>I am developing an application that want to pass my android device all traffic through ssh. My vps is ready and works very well as i tested it with other applications like <a href=\"https://play.google.com/store/apps/details?id=dev.epro.ssc&amp;hl=en&amp;gl=US\" rel=\"nofollow noreferrer\">SSH Custom</a>. I use <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">jsch</a> for tunneling and have input and output streams from both of VPNInterface and sshtunnel. But there is no lock. After some research i guess may using socket as proxy solve the problem. But i have no idea how to do that.Need your help and appreciate. Thanks</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1701538819,"post_id":77591480,"comment_id":136789371,"body_markdown":"Why are you adding complexity and reducing security by using two apps? In terms of using a service, the use of bound services is covered by [the documentation](https://developer.android.com/guide/components/bound-services).","body":"Why are you adding complexity and reducing security by using two apps? In terms of using a service, the use of bound services is covered by <a href=\"https://developer.android.com/guide/components/bound-services\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":24860404,"reputation":1,"user_id":18736253,"display_name":"Den OKO"},"score":0,"creation_date":1701539226,"post_id":77591480,"comment_id":136789418,"body_markdown":"@CommonsWare, This is my task, to use an unstable native library by any means, which may after a while call the abort function, which causes the application to crash. Perhaps you know how to prevent the native library from closing the application, and help me with the answer, I would be very glad.","body":"@CommonsWare, This is my task, to use an unstable native library by any means, which may after a while call the abort function, which causes the application to crash. Perhaps you know how to prevent the native library from closing the application, and help me with the answer, I would be very glad."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1701542231,"post_id":77591480,"comment_id":136789701,"body_markdown":"That sort of isolation does not require two apps. Using two processes may be reasonable, with the service hosting the library operating in a separate process than the main app. See `android:process` on the `&lt;service&gt;` manifest element.","body":"That sort of isolation does not require two apps. Using two processes may be reasonable, with the service hosting the library operating in a separate process than the main app. See <code>android:process</code> on the <code>&lt;service&gt;</code> manifest element."},{"owner":{"account_id":24860404,"reputation":1,"user_id":18736253,"display_name":"Den OKO"},"score":0,"creation_date":1701543398,"post_id":77591480,"comment_id":136789838,"body_markdown":"@CommonsWare, Sorry, I forgot to say that the native library should also not have access to native libraries and other data of the first application. Do you still know how to solve this?","body":"@CommonsWare, Sorry, I forgot to say that the native library should also not have access to native libraries and other data of the first application. Do you still know how to solve this?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1701543479,"post_id":77591480,"comment_id":136789845,"body_markdown":"Use [`android:isolatedProcess=&quot;true&quot;`](https://developer.android.com/guide/topics/manifest/service-element#isolated) on `&lt;service&gt;`.","body":"Use <a href=\"https://developer.android.com/guide/topics/manifest/service-element#isolated\" rel=\"nofollow noreferrer\"><code>android:isolatedProcess=&quot;true&quot;</code></a> on <code>&lt;service&gt;</code>."},{"owner":{"account_id":24860404,"reputation":1,"user_id":18736253,"display_name":"Den OKO"},"score":0,"creation_date":1701543709,"post_id":77591480,"comment_id":136789880,"body_markdown":"@CommonsWare, also, the native library should access some other native libraries from the apk file. Is it possible?","body":"@CommonsWare, also, the native library should access some other native libraries from the apk file. Is it possible?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1701543913,"post_id":77591480,"comment_id":136789907,"body_markdown":"Well, sure, as there would only be one APK file in what I am suggesting, and so everything would be in that APK file. You are certainly welcome to use remote bound services between two apps -- personally, I would go to great lengths to avoid this.","body":"Well, sure, as there would only be one APK file in what I am suggesting, and so everything would be in that APK file. You are certainly welcome to use remote bound services between two apps -- personally, I would go to great lengths to avoid this."}],"owner":{"account_id":24860404,"reputation":1,"user_id":18736253,"display_name":"Den OKO"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701538579,"creation_date":1701538579,"question_id":77591480,"body_markdown":"I need to write a program (the first application) in which I need to enter text, click on a button and the data will be sent to the second application. In the second application, the data is encrypted and immediately returned to the first application as if the result of the function. The encryption function should be in the second application.\r\nRoughly speaking, I want to make a &quot;library&quot; (or a server that will process requests) from an android application, to which you can send a request (string) and receive a response(string). \r\n\r\nI think I can use Service. But I do not know how to launch it from the first application. How to establish a communication channel between applications. How to stop the service after that.","title":"How do I transfer data between android apps?","body":"<p>I need to write a program (the first application) in which I need to enter text, click on a button and the data will be sent to the second application. In the second application, the data is encrypted and immediately returned to the first application as if the result of the function. The encryption function should be in the second application.\nRoughly speaking, I want to make a &quot;library&quot; (or a server that will process requests) from an android application, to which you can send a request (string) and receive a response(string).</p>\n<p>I think I can use Service. But I do not know how to launch it from the first application. How to establish a communication channel between applications. How to stop the service after that.</p>\n"},{"tags":["java","maven","javafx","raspberry-pi","fxml"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1701246187,"post_id":77569329,"comment_id":136750470,"body_markdown":"Scary that you get &quot;WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @566b4ab9&#39;&quot; BUT you have a module-info.","body":"Scary that you get &quot;WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @566b4ab9&#39;&quot; BUT you have a module-info."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1701246253,"post_id":77569329,"comment_id":136750482,"body_markdown":"Which JDK is installed on each system? JDKs differ altough they have the same Java version.","body":"Which JDK is installed on each system? JDKs differ altough they have the same Java version."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1701246352,"post_id":77569329,"comment_id":136750504,"body_markdown":"Just a guess: Could you try include the classifier in all dependencies of JFX? &lt;classifier&gt;linux&lt;/classifier&gt; Is there a dependency which needs the classifier too? I know, that there are some dependencies which are OS specific, and some which are not.","body":"Just a guess: Could you try include the classifier in all dependencies of JFX? &lt;classifier&gt;linux&lt;/classifier&gt; Is there a dependency which needs the classifier too? I know, that there are some dependencies which are OS specific, and some which are not."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1701246442,"post_id":77569329,"comment_id":136750522,"body_markdown":"Your App wants to load something, but it does not exist. &quot;Loading library glass from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglass.so: /home/jibon/.openjfx/cache/17.0.6/libglass.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)&quot;. Please check this.","body":"Your App wants to load something, but it does not exist. &quot;Loading library glass from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglass.so: /home/jibon/.openjfx/cache/17.0.6/libglass.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)&quot;. Please check this."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701296251,"creation_date":1701252079,"answer_id":77570148,"question_id":77569329,"body_markdown":"You need to use the right version of your execution software for your chosen target platform.  JavaFX (and the JRE) include native components that only run on given platforms.  \r\n\r\nAlso JavaFX Java (non-native) components are modularized, with the different Java modules targeting various systems.  For example, there are Java components supporting the Mac system menu in the JavaFX mac module versions that aren&#39;t present in other versions.  The same will be true for embedded systems like the Pi, if it has no native windowing system built in, then JavaFX needs to ship with an inbuilt window emulator (like it&#39;s monocle system), or it simply won&#39;t work correctly, if at all.\r\n\r\nHere is a list of all of the files for the javafx-graphics module, most recent stable version, (21.0.1), in Maven:\r\n\r\n * https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/21.0.1/\r\n\r\nIt includes all of the classified dependencies.\r\n\r\nFor Linux you can see there are:\r\n\r\n * javafx-graphics-21.0.1-linux.jar   \r\n * javafx-graphics-21.0.1-linux-aarch64.jar\r\n * javafx-graphics-21.0.1-linux-arm32-monocle.jar\r\n * javafx-graphics-21.0.1-linux-aarch64-monocle.jar\r\n\r\nThe one just classified &quot;linux&quot; is for linux running on x64 (Intel and AMD) processors.\r\n\r\nThe one classified &quot;linux-aarch64&quot; is for linux running on ARM 64 bit processors.\r\n\r\nThe one classified &quot;linux-arm32-monocle&quot; is for 32 bit ARM processors and &quot;linux-aarch64-monocle&quot; is for using 64 bit ARM processors running on linux and using [monocle][1]:\r\n\r\n &gt; Monocle is the implementation of the Glass windowing component of JavaFX for embedded systems. Monocle provides windowing functionality and access to native graphics for simple embedded systems that do not have an underlying window system.\r\n\r\nI have not used JavaFX on Pi, nor have I used a Pi and have not researched what processors and capabilities they have, but you can do that and then select the appropriate classified dependency for when you build your application.\r\n\r\nIt will not be just &quot;linux&quot; as you currently have, as that is for Intel processors and Pis don&#39;t use Intel processors.  This is (at least one of the reasons) why your application works when run on a Linux system running a 64 bit Intel type processor, but not on a Pi.\r\n\r\nYou need to check the processor type for your target system.  If the Pi 3 is 32 bit, then you need an arm32 version of JavaFX (and the JRE).  If the Pi 3 is 64 bit then you need an aarch64 version of JavaFX.  If the Pi 3 is 64 bit and is running an in-built windowing system (such as x-windows), then the &quot;linux-aarch64&quot; version can be used.  If the Pi 3 is 64 bit and not running a windowing system, then perhaps the &quot;linux-aarch64-monocle&quot; version can be used.\r\n\r\nSo hopefully you understand.  The way you are building and packaging your application is not correct for your target system.  JavaFX Maven builds without classifiers will default to use the classified versions of JavaFX for the system on which they are built.  So, if you build on a Windows Intel processor system, it will use that as the version of JavaFX pulled in by Maven.  But you aren&#39;t building your software on the Pi, therefore you need to specify the correct classifier for the Pi for the build for *all* of the JavaFX dependencies you have (not just the javafx-graphics system), and probably also including transitive JavaFX dependencies.\r\n\r\nFor instance, perhaps if targeting linux-aarch64-monocle for JavaFX 21.0.1 (this is just a guess, I have no way to try it):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n        &lt;version&gt;21.0.1&lt;/version&gt;\r\n        &lt;classifier&gt;linux-aarch64-monocle&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n        &lt;version&gt;21.0.1&lt;/version&gt;\r\n        &lt;classifier&gt;linux-aarch64-monocle&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n        &lt;version&gt;21.0.1&lt;/version&gt;\r\n        &lt;classifier&gt;linux-aarch64-monocle&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n        &lt;version&gt;21.0.1&lt;/version&gt;\r\n        &lt;classifier&gt;linux-aarch64-monocle&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSuch a build will only work on a linux ARM 64 bit system (and no other) and the linux system needs the requisite libraries for JavaFX to work installed (such as glibc 3 for JavaFX 21).  So don&#39;t expect it to also work on an Intel Linux system.  It may work on multiple systems if you bundle lots of different classified dependencies in as [described here](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing), but that wouldn&#39;t seem recommended for a constrained device such as a Pi.\r\n\r\nI don&#39;t know much about the Pi, but I think there are more recent versions of it than 3, so it may be that recent versions of JavaFX have dropped support for older Pi systems (I don&#39;t know).\r\n\r\nWhat you are doing (shading JavaFX modules into a jar), is entirely unsupported.  That doesn&#39;t mean that you won&#39;t get it to work, it just means that the software isn&#39;t designed to work in that manner (though it may work).  This is why you are warned: &quot;WARNING: Unsupported JavaFX configuration&quot;.  So don&#39;t expect a lot of support for what you are doing in the manner you are doing it.  If you want a supported distribution of JavaFX for embedded systems, Gluon provides that and you can contact them to discuss it.  I do not provide that nor have the expertise to advise on it. \r\n\r\nShading destroys modularity, so you should not provide a module-info for shaded systems, everything should run from the classpath (even though JavaFX doesn&#39;t officially support that runtime method). \r\n\r\nI&#39;m guessing that a preferred method to Maven Shade would be either to provide the modules and native components linked from the JavaFX SDK using jlink, or a compilation to a native binary using GraalVM (neither of which I can advise you on for a Pi target).\r\n\r\nThere may be articles that you may find on the web that detail how to get JavaFX to work on a Pi, some will be outdated and not relevant (or misleading) for recent JavaFX versions, and some might provide good up to date information and instructions (I don&#39;t know the right articles to link to here).  Or perhaps instead to rely on a JRE installation on the Pi that includes JavaFX (there may be vendors such as Azul or BellSoft supplying such distributions - I didn&#39;t check).\r\n\r\nSome resources for Pi development with JavaFX (some will be obsolete, but may still contain some relevant info, so be careful following anything too literally):\r\n\r\n * [Getting started with JavaFX on Raspberry Pi][2].\r\n   * Seems like a good guide and also has a [related book][3] if you really want to understand the topic. \r\n * [Using a Raspberry Pi to Deploy JavaFX Applications][4].\r\n   * Oracle tutorial on using JavaFX on the Pi (somewhat dated).\r\n * [Gluon provide a modern guide for JavaFX on embedded systems such as Pi.][5]\r\n\r\nMy advice is to either find and follow a trustworthy guide that details exactly what you need to do to get your software to work on your target system, and if you can&#39;t find one, then get professional help from somebody like Gluon.  StackOverflow questions alone probably won&#39;t get you the support you need.\r\n\r\n\r\n  [1]: https://wiki.openjdk.org/display/OpenJFX/Monocle\r\n  [2]: https://blogs.oracle.com/javamagazine/post/getting-started-with-javafx-on-raspberry-pi\r\n  [3]: https://webtechie.be/books/\r\n  [4]: https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/raspberrypifx/raspberryfx.html\r\n  [5]: https://docs.gluonhq.com/#platforms_embedded","title":"JavaFX styles gets destroyed and shows errors in Raspberry PI 3, but works well in windows and kali linux","body":"<p>You need to use the right version of your execution software for your chosen target platform.  JavaFX (and the JRE) include native components that only run on given platforms.</p>\n<p>Also JavaFX Java (non-native) components are modularized, with the different Java modules targeting various systems.  For example, there are Java components supporting the Mac system menu in the JavaFX mac module versions that aren't present in other versions.  The same will be true for embedded systems like the Pi, if it has no native windowing system built in, then JavaFX needs to ship with an inbuilt window emulator (like it's monocle system), or it simply won't work correctly, if at all.</p>\n<p>Here is a list of all of the files for the javafx-graphics module, most recent stable version, (21.0.1), in Maven:</p>\n<ul>\n<li><a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/21.0.1/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/21.0.1/</a></li>\n</ul>\n<p>It includes all of the classified dependencies.</p>\n<p>For Linux you can see there are:</p>\n<ul>\n<li>javafx-graphics-21.0.1-linux.jar</li>\n<li>javafx-graphics-21.0.1-linux-aarch64.jar</li>\n<li>javafx-graphics-21.0.1-linux-arm32-monocle.jar</li>\n<li>javafx-graphics-21.0.1-linux-aarch64-monocle.jar</li>\n</ul>\n<p>The one just classified &quot;linux&quot; is for linux running on x64 (Intel and AMD) processors.</p>\n<p>The one classified &quot;linux-aarch64&quot; is for linux running on ARM 64 bit processors.</p>\n<p>The one classified &quot;linux-arm32-monocle&quot; is for 32 bit ARM processors and &quot;linux-aarch64-monocle&quot; is for using 64 bit ARM processors running on linux and using <a href=\"https://wiki.openjdk.org/display/OpenJFX/Monocle\" rel=\"nofollow noreferrer\">monocle</a>:</p>\n<blockquote>\n<p>Monocle is the implementation of the Glass windowing component of JavaFX for embedded systems. Monocle provides windowing functionality and access to native graphics for simple embedded systems that do not have an underlying window system.</p>\n</blockquote>\n<p>I have not used JavaFX on Pi, nor have I used a Pi and have not researched what processors and capabilities they have, but you can do that and then select the appropriate classified dependency for when you build your application.</p>\n<p>It will not be just &quot;linux&quot; as you currently have, as that is for Intel processors and Pis don't use Intel processors.  This is (at least one of the reasons) why your application works when run on a Linux system running a 64 bit Intel type processor, but not on a Pi.</p>\n<p>You need to check the processor type for your target system.  If the Pi 3 is 32 bit, then you need an arm32 version of JavaFX (and the JRE).  If the Pi 3 is 64 bit then you need an aarch64 version of JavaFX.  If the Pi 3 is 64 bit and is running an in-built windowing system (such as x-windows), then the &quot;linux-aarch64&quot; version can be used.  If the Pi 3 is 64 bit and not running a windowing system, then perhaps the &quot;linux-aarch64-monocle&quot; version can be used.</p>\n<p>So hopefully you understand.  The way you are building and packaging your application is not correct for your target system.  JavaFX Maven builds without classifiers will default to use the classified versions of JavaFX for the system on which they are built.  So, if you build on a Windows Intel processor system, it will use that as the version of JavaFX pulled in by Maven.  But you aren't building your software on the Pi, therefore you need to specify the correct classifier for the Pi for the build for <em>all</em> of the JavaFX dependencies you have (not just the javafx-graphics system), and probably also including transitive JavaFX dependencies.</p>\n<p>For instance, perhaps if targeting linux-aarch64-monocle for JavaFX 21.0.1 (this is just a guess, I have no way to try it):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;21.0.1&lt;/version&gt;\n    &lt;classifier&gt;linux-aarch64-monocle&lt;/classifier&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;21.0.1&lt;/version&gt;\n    &lt;classifier&gt;linux-aarch64-monocle&lt;/classifier&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;21.0.1&lt;/version&gt;\n    &lt;classifier&gt;linux-aarch64-monocle&lt;/classifier&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n    &lt;version&gt;21.0.1&lt;/version&gt;\n    &lt;classifier&gt;linux-aarch64-monocle&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Such a build will only work on a linux ARM 64 bit system (and no other) and the linux system needs the requisite libraries for JavaFX to work installed (such as glibc 3 for JavaFX 21).  So don't expect it to also work on an Intel Linux system.  It may work on multiple systems if you bundle lots of different classified dependencies in as <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">described here</a>, but that wouldn't seem recommended for a constrained device such as a Pi.</p>\n<p>I don't know much about the Pi, but I think there are more recent versions of it than 3, so it may be that recent versions of JavaFX have dropped support for older Pi systems (I don't know).</p>\n<p>What you are doing (shading JavaFX modules into a jar), is entirely unsupported.  That doesn't mean that you won't get it to work, it just means that the software isn't designed to work in that manner (though it may work).  This is why you are warned: &quot;WARNING: Unsupported JavaFX configuration&quot;.  So don't expect a lot of support for what you are doing in the manner you are doing it.  If you want a supported distribution of JavaFX for embedded systems, Gluon provides that and you can contact them to discuss it.  I do not provide that nor have the expertise to advise on it.</p>\n<p>Shading destroys modularity, so you should not provide a module-info for shaded systems, everything should run from the classpath (even though JavaFX doesn't officially support that runtime method).</p>\n<p>I'm guessing that a preferred method to Maven Shade would be either to provide the modules and native components linked from the JavaFX SDK using jlink, or a compilation to a native binary using GraalVM (neither of which I can advise you on for a Pi target).</p>\n<p>There may be articles that you may find on the web that detail how to get JavaFX to work on a Pi, some will be outdated and not relevant (or misleading) for recent JavaFX versions, and some might provide good up to date information and instructions (I don't know the right articles to link to here).  Or perhaps instead to rely on a JRE installation on the Pi that includes JavaFX (there may be vendors such as Azul or BellSoft supplying such distributions - I didn't check).</p>\n<p>Some resources for Pi development with JavaFX (some will be obsolete, but may still contain some relevant info, so be careful following anything too literally):</p>\n<ul>\n<li><a href=\"https://blogs.oracle.com/javamagazine/post/getting-started-with-javafx-on-raspberry-pi\" rel=\"nofollow noreferrer\">Getting started with JavaFX on Raspberry Pi</a>.\n<ul>\n<li>Seems like a good guide and also has a <a href=\"https://webtechie.be/books/\" rel=\"nofollow noreferrer\">related book</a> if you really want to understand the topic.</li>\n</ul>\n</li>\n<li><a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/raspberrypifx/raspberryfx.html\" rel=\"nofollow noreferrer\">Using a Raspberry Pi to Deploy JavaFX Applications</a>.\n<ul>\n<li>Oracle tutorial on using JavaFX on the Pi (somewhat dated).</li>\n</ul>\n</li>\n<li><a href=\"https://docs.gluonhq.com/#platforms_embedded\" rel=\"nofollow noreferrer\">Gluon provide a modern guide for JavaFX on embedded systems such as Pi.</a></li>\n</ul>\n<p>My advice is to either find and follow a trustworthy guide that details exactly what you need to do to get your software to work on your target system, and if you can't find one, then get professional help from somebody like Gluon.  StackOverflow questions alone probably won't get you the support you need.</p>\n"},{"tags":[],"owner":{"account_id":19842426,"reputation":41,"user_id":14534762,"display_name":"ProgrammerJibon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701538395,"creation_date":1701538395,"answer_id":77591477,"question_id":77569329,"body_markdown":" **After a long research in web, I got my solution and I want to share with you all step by step.**\r\n - Install Default JDK on Host \r\n - Install latest intellij on Host \r\n - Install OpenJFX on Raspi \r\n - Install Default JDK on Raspi \r\n - Then install WiringPi on Raspi \r\n - Install maven on Raspi \r\n - Create Project with Maven and default JDK in Host \r\n - On pom.xml, add shade plugin to return jar file with dependency included \r\n\r\npom.xml\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;transformers&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                            &lt;mainClass&gt;pro.jibon.apps.linuxapp1.Main&lt;/mainClass&gt;\r\n                        &lt;/transformer&gt;\r\n                    &lt;/transformers&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n - Then add pi4j in project with maven \r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pi4j-device&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pi4j-library-pigpio&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pi4j-gpio-extension&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n - Then add openjfx javafx-graphics if not added yet \r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n        &lt;version&gt;17.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n - Create a dummy Main class to avoid extends error \r\n\r\nMain.java\r\n\r\n    package pro.jibon.apps.linuxapp1;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            HelloApplication.main(args);\r\n        }\r\n    }\r\n\r\n - Use these two function to check if it’s rapi or not \r\n\r\nHelloApplication.java\r\n\r\n    public static boolean isLinux() {\r\n        return (getOsName().toLowerCase().contains(&quot;linux&quot;));\r\n    }\r\n    public static boolean isRasPi() {\r\n        return (isLinux() &amp;&amp; Files.exists(Paths.get(&quot;/opt/pigpio&quot;), LinkOption.NOFOLLOW_LINKS));\r\n    }\r\n\r\n - mvn clean to clean target and libs \r\n\r\n - mvn install to get shaded jar file in target folder \r\n\r\nRememer to build mvn in Raspi \r\n\r\nAnd finally, you can now import \r\n\r\n    import com.pi4j.io.gpio.*;\r\n    import static com.pi4j.system.SystemInfo.getOsName;\r\nAnd enjoy JavaFX with GPIO pins control in Raspberry Pi.\r\n\r\nA sample JavaFX to turn on and off LED on pin no-13 (Pi4j 2)\r\n\r\n    ledBtn = (Button) scene.lookup(&quot;#ledPower&quot;);\r\n    GpioController gpio = null;\r\n    GpioPinDigitalOutput ledPin;\r\n    int ledPinNumber = 2; //16\r\n    if (isRasPi()){\r\n        try{\r\n            gpio = GpioFactory.getInstance();\r\n            ledPin = gpio.provisionDigitalOutputPin(RaspiPin.getPinByAddress(ledPinNumber), PinState.LOW);\r\n        }catch (Exception e){\r\n            ledPin = null;\r\n        }\r\n    }else {\r\n        ledPin = null;\r\n    }\r\n    \r\n    GpioPinDigitalOutput finalLedPin = ledPin;\r\n    ledBtn.setOnAction(mouseEvent-&gt;{\r\n        ledBtn.setText(&quot;Wait.&quot;);\r\n        if (finalLedPin != null){\r\n            ledBtn.setText(&quot;Wait..&quot;);\r\n            try{\r\n                if (finalLedPin.getState() == PinState.LOW){\r\n                    ledBtn.setText(&quot;Turning LED ON&quot;);\r\n                    finalLedPin.high();\r\n                }else{\r\n                    ledBtn.setText(&quot;Turning LED OFF&quot;);\r\n                    finalLedPin.low();\r\n                }\r\n            }catch (Exception e){\r\n                //AlertBox(e.getMessage());\r\n            }\r\n        }else{\r\n            ledBtn.setText(&quot;Unsupported&quot;);\r\n        }\r\n    });\r\n\r\nAnd remember to clean up GPIO pins\r\n\r\n    stage.setOnCloseRequest(windowEvent -&gt; {\r\n        if (isRasPi()) {\r\n            try {\r\n                GpioController gpio2 = GpioFactory.getInstance();\r\n                gpio2.shutdown();\r\n            }catch (Exception e){\r\n    \r\n            }\r\n        }\r\n        //windowEvent.consume();\r\n    });\r\n\r\nThanks everyone.","title":"JavaFX styles gets destroyed and shows errors in Raspberry PI 3, but works well in windows and kali linux","body":"<p><strong>After a long research in web, I got my solution and I want to share with you all step by step.</strong></p>\n<ul>\n<li>Install Default JDK on Host</li>\n<li>Install latest intellij on Host</li>\n<li>Install OpenJFX on Raspi</li>\n<li>Install Default JDK on Raspi</li>\n<li>Then install WiringPi on Raspi</li>\n<li>Install maven on Raspi</li>\n<li>Create Project with Maven and default JDK in Host</li>\n<li>On pom.xml, add shade plugin to return jar file with dependency included</li>\n</ul>\n<p>pom.xml</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;transformers&gt;\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                        &lt;mainClass&gt;pro.jibon.apps.linuxapp1.Main&lt;/mainClass&gt;\n                    &lt;/transformer&gt;\n                &lt;/transformers&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>Then add pi4j in project with maven</li>\n</ul>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n    &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n    &lt;artifactId&gt;pi4j-device&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n    &lt;artifactId&gt;pi4j-library-pigpio&lt;/artifactId&gt;\n    &lt;version&gt;2.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n    &lt;artifactId&gt;pi4j-gpio-extension&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Then add openjfx javafx-graphics if not added yet</li>\n</ul>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;17.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Create a dummy Main class to avoid extends error</li>\n</ul>\n<p>Main.java</p>\n<pre><code>package pro.jibon.apps.linuxapp1;\npublic class Main {\n    public static void main(String[] args) {\n        HelloApplication.main(args);\n    }\n}\n</code></pre>\n<ul>\n<li>Use these two function to check if it’s rapi or not</li>\n</ul>\n<p>HelloApplication.java</p>\n<pre><code>public static boolean isLinux() {\n    return (getOsName().toLowerCase().contains(&quot;linux&quot;));\n}\npublic static boolean isRasPi() {\n    return (isLinux() &amp;&amp; Files.exists(Paths.get(&quot;/opt/pigpio&quot;), LinkOption.NOFOLLOW_LINKS));\n}\n</code></pre>\n<ul>\n<li><p>mvn clean to clean target and libs</p>\n</li>\n<li><p>mvn install to get shaded jar file in target folder</p>\n</li>\n</ul>\n<p>Rememer to build mvn in Raspi</p>\n<p>And finally, you can now import</p>\n<pre><code>import com.pi4j.io.gpio.*;\nimport static com.pi4j.system.SystemInfo.getOsName;\n</code></pre>\n<p>And enjoy JavaFX with GPIO pins control in Raspberry Pi.</p>\n<p>A sample JavaFX to turn on and off LED on pin no-13 (Pi4j 2)</p>\n<pre><code>ledBtn = (Button) scene.lookup(&quot;#ledPower&quot;);\nGpioController gpio = null;\nGpioPinDigitalOutput ledPin;\nint ledPinNumber = 2; //16\nif (isRasPi()){\n    try{\n        gpio = GpioFactory.getInstance();\n        ledPin = gpio.provisionDigitalOutputPin(RaspiPin.getPinByAddress(ledPinNumber), PinState.LOW);\n    }catch (Exception e){\n        ledPin = null;\n    }\n}else {\n    ledPin = null;\n}\n\nGpioPinDigitalOutput finalLedPin = ledPin;\nledBtn.setOnAction(mouseEvent-&gt;{\n    ledBtn.setText(&quot;Wait.&quot;);\n    if (finalLedPin != null){\n        ledBtn.setText(&quot;Wait..&quot;);\n        try{\n            if (finalLedPin.getState() == PinState.LOW){\n                ledBtn.setText(&quot;Turning LED ON&quot;);\n                finalLedPin.high();\n            }else{\n                ledBtn.setText(&quot;Turning LED OFF&quot;);\n                finalLedPin.low();\n            }\n        }catch (Exception e){\n            //AlertBox(e.getMessage());\n        }\n    }else{\n        ledBtn.setText(&quot;Unsupported&quot;);\n    }\n});\n</code></pre>\n<p>And remember to clean up GPIO pins</p>\n<pre><code>stage.setOnCloseRequest(windowEvent -&gt; {\n    if (isRasPi()) {\n        try {\n            GpioController gpio2 = GpioFactory.getInstance();\n            gpio2.shutdown();\n        }catch (Exception e){\n\n        }\n    }\n    //windowEvent.consume();\n});\n</code></pre>\n<p>Thanks everyone.</p>\n"}],"owner":{"account_id":19842426,"reputation":41,"user_id":14534762,"display_name":"ProgrammerJibon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701538395,"creation_date":1701243773,"question_id":77569329,"body_markdown":"I&#39;m worked with JavaFX in windows, then I shift to linux to make GUI for raspberry pi, cause raspberry pi also uses linux. So the error probability should be less. But\r\n**When I run the jar file in Kali Linux, it works well.**\r\n[![enter image description here][1]][1]\r\n\r\n**But when I run the file in Raspberry Pi, the graphics gets destroyed.**\r\n[![enter image description here][2]][2]\r\n\r\n**And i get some error in terminal of Raspberry pi**\r\n\r\n    jibon@jibon:~/Desktop $ java -jar LinuxApp1-1.0-SNAPSHOT.jar \r\n    Nov 29, 2023 1:19:30 PM com.sun.javafx.application.PlatformImpl startup\r\n    WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @566b4ab9&#39;\r\n    Loading library prism_es2 from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libprism_es2.so: /home/jibon/.openjfx/cache/17.0.6/libprism_es2.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libprism_es2.so: /home/jibon/.openjfx/cache/17.0.6/libprism_es2.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n    \tat (...)\r\n    Loading library prism_sw from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libprism_sw.so: /home/jibon/.openjfx/cache/17.0.6/libprism_sw.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libprism_sw.so: /home/jibon/.openjfx/cache/17.0.6/libprism_sw.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n    \tat (...)\r\n    Loading library glass from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglass.so: /home/jibon/.openjfx/cache/17.0.6/libglass.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglass.so: /home/jibon/.openjfx/cache/17.0.6/libglass.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\r\n    \tat (...)\r\n    Loading library glassgtk3 from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglassgtk3.so: /home/jibon/.openjfx/cache/17.0.6/libglassgtk3.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglassgtk3.so: /home/jibon/.openjfx/cache/17.0.6/libglassgtk3.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\r\n    \tat (...)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:840)\r\n    Loading library javafx_font from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n    \tat (...)\r\n    Loading library javafx_font_freetype from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_freetype.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_freetype.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_freetype.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_freetype.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n    \tat (...)\r\n    Loading library javafx_font_pango from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_pango.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_pango.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_pango.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_pango.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n    \tat (...)\r\n    \r\n    (java:1933): Gdk-WARNING **: 13:20:00.341: Native Windows wider or taller than 32767 pixels are not supported\r\n    \r\n    (java:1933): Gdk-WARNING **: 13:20:00.352: Native Windows wider or taller than 32767 pixels are not supported\r\n    Loading library decora_sse from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libdecora_sse.so: /home/jibon/.openjfx/cache/17.0.6/libdecora_sse.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libdecora_sse.so: /home/jibon/.openjfx/cache/17.0.6/libdecora_sse.so: cannot open shared object file: No such file or directory (Possible cause: can&#39;t load AMD 64 .so on a AARCH64 platform)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n    \tat  (...)\r\n\r\nI&#39;m sharing some necessary files.\r\n\r\nPOM.XML\r\n-------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;pro.jibon.apps&lt;/groupId&gt;\r\n        &lt;artifactId&gt;LinuxApp1&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;LinuxApp1&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.6&lt;/version&gt;\r\n                &lt;classifier&gt;linux&lt;/classifier&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.8&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                            &lt;id&gt;default-cli&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;mainClass&gt;pro.jibon.apps.linuxapp1/pro.jibon.apps.linuxapp1.HelloApplication&lt;/mainClass&gt;\r\n                                &lt;launcher&gt;app&lt;/launcher&gt;\r\n                                &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                                &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                                &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                                &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                                &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer\r\n                                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;pro.jibon.apps.linuxapp1.Main&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                                &lt;filters&gt;\r\n                                    &lt;filter&gt;\r\n                                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                        &lt;excludes&gt;\r\n                                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                        &lt;/excludes&gt;\r\n                                    &lt;/filter&gt;\r\n                                &lt;/filters&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;archive&gt;\r\n                                    &lt;manifest&gt;\r\n                                        &lt;mainClass&gt;pro.jibon.apps.linuxapp1.Main&lt;/mainClass&gt;\r\n                                    &lt;/manifest&gt;\r\n                                &lt;/archive&gt;\r\n                                &lt;descriptorRefs&gt;\r\n                                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                                &lt;/descriptorRefs&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nMain.java\r\n---------\r\n\r\n    package pro.jibon.apps.linuxapp1;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            HelloApplication.main(args);\r\n        }\r\n    }\r\n\r\nHelloApplication.java\r\n---------------------\r\n\r\n    package pro.jibon.apps.linuxapp1;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.input.KeyCombination;\r\n    import javafx.stage.Stage;\r\n    import javafx.stage.StageStyle;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @FXML\r\n        private Button button1;\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), stage.getMaxWidth(), stage.getMaxHeight());\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.initStyle(StageStyle.UTILITY);\r\n            stage.show();\r\n            button1 = (Button) scene.lookup(&quot;#btn&quot;);\r\n            button1.setText(&quot;Close&quot;);\r\n            button1.setOnAction(mouseEvent -&gt; {\r\n                stage.close();\r\n            });\r\n            stage.setOnCloseRequest(windowEvent -&gt; {\r\n                Alert alert = new Alert(Alert.AlertType.ERROR);\r\n                alert.setTitle(&quot;Wait&quot;);\r\n                alert.setContentText(&quot;Are feeling okay by clicking me huh?&quot;);\r\n                alert.setHeaderText(&quot;WTF yaar!&quot;);\r\n    //            alert.show();\r\n                windowEvent.consume();\r\n            });\r\n            stage.setAlwaysOnTop(true);\r\n            stage.setResizable(false);\r\n            stage.setMaximized(true);\r\n            stage.setResizable(false);\r\n            stage.setFullScreen(true);\r\n            stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\r\n            stage.fullScreenProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                stage.setFullScreen(true);\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\nhello-view.xml\r\n--------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.effect.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx/11.0.14-internal&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n        &lt;/padding&gt;\r\n        &lt;ToolBar nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n            &lt;items&gt;\r\n                &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n                &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n                &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n                &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n                &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n            &lt;/items&gt;\r\n        &lt;/ToolBar&gt;\r\n    \r\n        &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\r\n        &lt;Button fx:id=&quot;btn&quot; alignment=&quot;CENTER&quot; text=&quot;Hello!&quot;&gt;\r\n            &lt;effect&gt;\r\n                &lt;Blend /&gt;\r\n            &lt;/effect&gt;\r\n        &lt;/Button&gt;\r\n    &lt;/VBox&gt;\r\n\r\nmodule-info.java\r\n----------------\r\n\r\n    module pro.jibon.apps.linuxapp1 {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n    \r\n    \r\n        opens pro.jibon.apps.linuxapp1 to javafx.fxml;\r\n        exports pro.jibon.apps.linuxapp1;\r\n    }\r\n\r\nPlease Help me to get rid out of this :)\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHws1.png\r\n  [2]: https://i.stack.imgur.com/fPAip.png\r\n","title":"JavaFX styles gets destroyed and shows errors in Raspberry PI 3, but works well in windows and kali linux","body":"<p>I'm worked with JavaFX in windows, then I shift to linux to make GUI for raspberry pi, cause raspberry pi also uses linux. So the error probability should be less. But\n<strong>When I run the jar file in Kali Linux, it works well.</strong>\n<a href=\"https://i.stack.imgur.com/bHws1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bHws1.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>But when I run the file in Raspberry Pi, the graphics gets destroyed.</strong>\n<a href=\"https://i.stack.imgur.com/fPAip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fPAip.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>And i get some error in terminal of Raspberry pi</strong></p>\n<pre><code>jibon@jibon:~/Desktop $ java -jar LinuxApp1-1.0-SNAPSHOT.jar \nNov 29, 2023 1:19:30 PM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @566b4ab9'\nLoading library prism_es2 from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libprism_es2.so: /home/jibon/.openjfx/cache/17.0.6/libprism_es2.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\njava.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libprism_es2.so: /home/jibon/.openjfx/cache/17.0.6/libprism_es2.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at (...)\nLoading library prism_sw from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libprism_sw.so: /home/jibon/.openjfx/cache/17.0.6/libprism_sw.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\njava.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libprism_sw.so: /home/jibon/.openjfx/cache/17.0.6/libprism_sw.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at (...)\nLoading library glass from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglass.so: /home/jibon/.openjfx/cache/17.0.6/libglass.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\njava.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglass.so: /home/jibon/.openjfx/cache/17.0.6/libglass.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n    at (...)\nLoading library glassgtk3 from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglassgtk3.so: /home/jibon/.openjfx/cache/17.0.6/libglassgtk3.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\njava.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libglassgtk3.so: /home/jibon/.openjfx/cache/17.0.6/libglassgtk3.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n    at (...)\n    at java.base/java.lang.Thread.run(Thread.java:840)\nLoading library javafx_font from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\njava.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at (...)\nLoading library javafx_font_freetype from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_freetype.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_freetype.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\njava.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_freetype.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_freetype.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at (...)\nLoading library javafx_font_pango from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_pango.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_pango.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\njava.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_pango.so: /home/jibon/.openjfx/cache/17.0.6/libjavafx_font_pango.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at (...)\n\n(java:1933): Gdk-WARNING **: 13:20:00.341: Native Windows wider or taller than 32767 pixels are not supported\n\n(java:1933): Gdk-WARNING **: 13:20:00.352: Native Windows wider or taller than 32767 pixels are not supported\nLoading library decora_sse from resource failed: java.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libdecora_sse.so: /home/jibon/.openjfx/cache/17.0.6/libdecora_sse.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\njava.lang.UnsatisfiedLinkError: /home/jibon/.openjfx/cache/17.0.6/libdecora_sse.so: /home/jibon/.openjfx/cache/17.0.6/libdecora_sse.so: cannot open shared object file: No such file or directory (Possible cause: can't load AMD 64 .so on a AARCH64 platform)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at  (...)\n</code></pre>\n<p>I'm sharing some necessary files.</p>\n<h2>POM.XML</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;pro.jibon.apps&lt;/groupId&gt;\n    &lt;artifactId&gt;LinuxApp1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;LinuxApp1&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;17.0.6&lt;/version&gt;\n            &lt;classifier&gt;linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;pro.jibon.apps.linuxapp1/pro.jibon.apps.linuxapp1.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;pro.jibon.apps.linuxapp1.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;pro.jibon.apps.linuxapp1.Main&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Main.java</h2>\n<pre><code>package pro.jibon.apps.linuxapp1;\n\npublic class Main {\n    public static void main(String[] args) {\n        HelloApplication.main(args);\n    }\n}\n</code></pre>\n<h2>HelloApplication.java</h2>\n<pre><code>package pro.jibon.apps.linuxapp1;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.KeyCombination;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @FXML\n    private Button button1;\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), stage.getMaxWidth(), stage.getMaxHeight());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.initStyle(StageStyle.UTILITY);\n        stage.show();\n        button1 = (Button) scene.lookup(&quot;#btn&quot;);\n        button1.setText(&quot;Close&quot;);\n        button1.setOnAction(mouseEvent -&gt; {\n            stage.close();\n        });\n        stage.setOnCloseRequest(windowEvent -&gt; {\n            Alert alert = new Alert(Alert.AlertType.ERROR);\n            alert.setTitle(&quot;Wait&quot;);\n            alert.setContentText(&quot;Are feeling okay by clicking me huh?&quot;);\n            alert.setHeaderText(&quot;WTF yaar!&quot;);\n//            alert.show();\n            windowEvent.consume();\n        });\n        stage.setAlwaysOnTop(true);\n        stage.setResizable(false);\n        stage.setMaximized(true);\n        stage.setResizable(false);\n        stage.setFullScreen(true);\n        stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\n        stage.fullScreenProperty().addListener((observable, oldValue, newValue) -&gt; {\n            stage.setFullScreen(true);\n        });\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<h2>hello-view.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.effect.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox xmlns=&quot;http://javafx.com/javafx/11.0.14-internal&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n    &lt;ToolBar nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot;&gt;\n        &lt;items&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n        &lt;/items&gt;\n    &lt;/ToolBar&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\n    &lt;Button fx:id=&quot;btn&quot; alignment=&quot;CENTER&quot; text=&quot;Hello!&quot;&gt;\n        &lt;effect&gt;\n            &lt;Blend /&gt;\n        &lt;/effect&gt;\n    &lt;/Button&gt;\n&lt;/VBox&gt;\n</code></pre>\n<h2>module-info.java</h2>\n<pre><code>module pro.jibon.apps.linuxapp1 {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n\n    opens pro.jibon.apps.linuxapp1 to javafx.fxml;\n    exports pro.jibon.apps.linuxapp1;\n}\n</code></pre>\n<p>Please Help me to get rid out of this :)\nThanks in advance.</p>\n"},{"tags":["java","multidimensional-array"],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1701529363,"post_id":77590731,"comment_id":136788294,"body_markdown":"Your first solution is not what the OP wanted since the OP wants to initialize the array without defining the second dimension.  The second solution doesn&#39;t work since you are assigning  a value to an array of `null` which throws an NPE.","body":"Your first solution is not what the OP wanted since the OP wants to initialize the array without defining the second dimension.  The second solution doesn&#39;t work since you are assigning  a value to an array of <code>null</code> which throws an NPE."}],"tags":[],"owner":{"account_id":30048050,"reputation":9,"user_id":23027218,"display_name":"Yashwant Panchal"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701527134,"creation_date":1701527134,"answer_id":77590731,"question_id":77590678,"body_markdown":"You are getting this error because of you didn&#39;t defined second dimension of Array and you have used arr[row].length\r\n\r\nHere are two way to correct this :\r\n\r\n1. \r\n\r\n    int [] [] arr = new int[3][3];\r\n            for (int row = 0; row &lt; arr.length; row++)\r\n            {\r\n                for (int col = 0; col &lt; arr[row].length; col++) {\r\n                    arr[row][col] = sc.nextInt();\r\n                }\r\n            }\r\n            for (int row = 0; row &lt; arr.length; row++) {\r\n                System.out.println(Arrays.toString(arr[row]));\r\n            }\r\n\r\n2. \r\n\r\n    int [] [] arr = new int[3][];\r\n            for (int row = 0; row &lt; arr.length; row++)\r\n            {\r\n                for (int col = 0; col &lt; 3; col++) {\r\n                    arr[row][col] = sc.nextInt();\r\n                }\r\n            }\r\n            for (int row = 0; row &lt; arr.length; row++) {\r\n                System.out.println(Arrays.toString(arr[row]));\r\n            }","title":"How to take user input in 2D Array without specifying the second dimension i.e the column dimension?","body":"<p>You are getting this error because of you didn't defined second dimension of Array and you have used arr[row].length</p>\n<p>Here are two way to correct this :</p>\n<p>1.</p>\n<pre><code>int [] [] arr = new int[3][3];\n        for (int row = 0; row &lt; arr.length; row++)\n        {\n            for (int col = 0; col &lt; arr[row].length; col++) {\n                arr[row][col] = sc.nextInt();\n            }\n        }\n        for (int row = 0; row &lt; arr.length; row++) {\n            System.out.println(Arrays.toString(arr[row]));\n        }\n</code></pre>\n<ol start=\"2\">\n<li>int [] [] arr = new int[3][];\nfor (int row = 0; row &lt; arr.length; row++)\n{\nfor (int col = 0; col &lt; 3; col++) {\narr[row][col] = sc.nextInt();\n}\n}\nfor (int row = 0; row &lt; arr.length; row++) {\nSystem.out.println(Arrays.toString(arr[row]));\n}</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701527913,"creation_date":1701527159,"answer_id":77590733,"question_id":77590678,"body_markdown":"You are getting the error because for `int[3][]`, the column defaults to null.  So trying to get the length throws an NPE.  Either specify a second dimension or you can do it as follows.\r\n\r\nThis way uses streams to create each row.\r\n\r\nIt presumes you are typing each row of input on the same line.\r\n- read in a line of numbers, separated by one or more spaces\r\n- split that line on those spaces and convert the items to an int and place in an array. (filtering out any blank entries allows you to start the input anywhere on the line).\r\n- then assign that array to the original location.\r\n```\r\nScanner sc = new Scanner(System.in);\r\nint [] [] arr = new int[3][];\r\nfor (int row = 0; row &lt; arr.length; row++)\r\n{      \r\n    String line = sc.nextLine();\r\n    arr[row] = Arrays.stream(line.split(&quot;\\\\s+&quot;))\r\n         .filter(s-&gt;!s.isBlank())\r\n         .mapToInt(Integer::parseInt).toArray();\r\n}\r\nfor (int row = 0; row &lt; arr.length; row++) {\r\n    System.out.println(Arrays.toString(arr[row]));\r\n}\r\n```\r\nfor input like\r\n```\r\n 1 2 3 4\r\n2 3 4\r\n              1\r\n```\r\nprints\r\n```\r\n[1, 2, 3, 4]\r\n[2, 3, 4]\r\n[1]\r\n```\r\nAn alternative method would be to allocate a large array and count the values as they are entered.  Then use something like `Arrays.copyOfRange()` to copy the filled portion of the large array to its proper destination.  In that case you would need some way to signal the end of the input for each line.\r\n\r\nAnd finally you could just prompt for each dimension and then scan in that many items.","title":"How to take user input in 2D Array without specifying the second dimension i.e the column dimension?","body":"<p>You are getting the error because for <code>int[3][]</code>, the column defaults to null.  So trying to get the length throws an NPE.  Either specify a second dimension or you can do it as follows.</p>\n<p>This way uses streams to create each row.</p>\n<p>It presumes you are typing each row of input on the same line.</p>\n<ul>\n<li>read in a line of numbers, separated by one or more spaces</li>\n<li>split that line on those spaces and convert the items to an int and place in an array. (filtering out any blank entries allows you to start the input anywhere on the line).</li>\n<li>then assign that array to the original location.</li>\n</ul>\n<pre><code>Scanner sc = new Scanner(System.in);\nint [] [] arr = new int[3][];\nfor (int row = 0; row &lt; arr.length; row++)\n{      \n    String line = sc.nextLine();\n    arr[row] = Arrays.stream(line.split(&quot;\\\\s+&quot;))\n         .filter(s-&gt;!s.isBlank())\n         .mapToInt(Integer::parseInt).toArray();\n}\nfor (int row = 0; row &lt; arr.length; row++) {\n    System.out.println(Arrays.toString(arr[row]));\n}\n</code></pre>\n<p>for input like</p>\n<pre><code> 1 2 3 4\n2 3 4\n              1\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2, 3, 4]\n[2, 3, 4]\n[1]\n</code></pre>\n<p>An alternative method would be to allocate a large array and count the values as they are entered.  Then use something like <code>Arrays.copyOfRange()</code> to copy the filled portion of the large array to its proper destination.  In that case you would need some way to signal the end of the input for each line.</p>\n<p>And finally you could just prompt for each dimension and then scan in that many items.</p>\n"}],"owner":{"account_id":30047254,"reputation":1,"user_id":23026591,"display_name":"Hrithik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701533892,"answer_count":2,"score":0,"last_activity_date":1701536843,"creation_date":1701526235,"question_id":77590678,"body_markdown":"I have used the Scanner class for taking input, this is the code.\r\n\r\n\r\n\r\n```\r\nint [] [] arr = new int[3][];\r\n        for (int row = 0; row &lt; arr.length; row++)\r\n        {\r\n            for (int col = 0; col &lt; arr[row].length; col++) {\r\n                arr[row][col] = sc.nextInt();\r\n            }\r\n        }\r\n        for (int row = 0; row &lt; arr.length; row++) {\r\n            System.out.println(Arrays.toString(arr[row]));\r\n        }\r\n```\r\n\r\n\r\n\r\n1 2 3 4 5 6 7 8 95 52 45 - Input I provided\r\nThis is the output I&#39;m getting\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because &quot;arr[row]&quot; is null at\r\ncom.Arrays.TwoDArray.main(TwoDArray.java:26)\r\n```\r\n\r\n","title":"How to take user input in 2D Array without specifying the second dimension i.e the column dimension?","body":"<p>I have used the Scanner class for taking input, this is the code.</p>\n<pre><code>int [] [] arr = new int[3][];\n        for (int row = 0; row &lt; arr.length; row++)\n        {\n            for (int col = 0; col &lt; arr[row].length; col++) {\n                arr[row][col] = sc.nextInt();\n            }\n        }\n        for (int row = 0; row &lt; arr.length; row++) {\n            System.out.println(Arrays.toString(arr[row]));\n        }\n</code></pre>\n<p>1 2 3 4 5 6 7 8 95 52 45 - Input I provided\nThis is the output I'm getting</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because &quot;arr[row]&quot; is null at\ncom.Arrays.TwoDArray.main(TwoDArray.java:26)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":11878017,"reputation":90,"user_id":14544361,"display_name":"Daniel Matute"},"score":0,"creation_date":1701410631,"post_id":77583166,"comment_id":136774663,"body_markdown":"Does this answer your question? [maven-comiler-plugin: Fatal error compiling: error: release version 17 not supported](https://stackoverflow.com/questions/73611784/maven-comiler-plugin-fatal-error-compiling-error-release-version-17-not-suppo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73611784/maven-comiler-plugin-fatal-error-compiling-error-release-version-17-not-suppo\">maven-comiler-plugin: Fatal error compiling: error: release version 17 not supported</a>"},{"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"score":0,"creation_date":1701411412,"post_id":77583166,"comment_id":136774740,"body_markdown":"I rebooted and the problem went away.","body":"I rebooted and the problem went away."}],"answers":[{"tags":[],"owner":{"account_id":26809777,"reputation":116,"user_id":20400559,"display_name":"Salvatore Bernardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701536600,"creation_date":1701536600,"answer_id":77591344,"question_id":77583166,"body_markdown":"I had same error.\r\n\r\nThis fixed for me. Intellij 2023.2.5 invalidate cache as follow:\r\n\r\nFile -&gt; Invalidate Caches... -&gt; check only first -&gt; Invalidate and Restart\r\n\r\n[![Invalidate cache][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jla56.png","title":"IntelliJ Spring Boot cannot find or load main class","body":"<p>I had same error.</p>\n<p>This fixed for me. Intellij 2023.2.5 invalidate cache as follow:</p>\n<p>File -&gt; Invalidate Caches... -&gt; check only first -&gt; Invalidate and Restart</p>\n<p><a href=\"https://i.stack.imgur.com/Jla56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jla56.png\" alt=\"Invalidate cache\" /></a></p>\n"}],"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77591344,"answer_count":1,"score":0,"last_activity_date":1701536600,"creation_date":1701408347,"question_id":77583166,"body_markdown":"When I try to run the app, I get: \r\n```\r\nError: Could not find or load main class com.example.springboot.JgsbrmqApplication\r\nCaused by: java.lang.ClassNotFoundException: com.example.springboot.JgsbrmqApplication\r\n```\r\nMain Class:\r\n```java\r\npackage com.example.springboot;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class JgsbrmqApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(JgsbrmqApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nI have tried everything: reloading the project, mvn clean install (which gives an error, something to do with Java 17):\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project jgsbrmq: Fatal error compiling: error: release version 17 not supporte\r\nd -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\nHere is my pom.xml.\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jgsbrmq&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;jgsbrmq&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot and RabbitMQ&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!--&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.11.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;--&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"IntelliJ Spring Boot cannot find or load main class","body":"<p>When I try to run the app, I get:</p>\n<pre><code>Error: Could not find or load main class com.example.springboot.JgsbrmqApplication\nCaused by: java.lang.ClassNotFoundException: com.example.springboot.JgsbrmqApplication\n</code></pre>\n<p>Main Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.springboot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class JgsbrmqApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JgsbrmqApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I have tried everything: reloading the project, mvn clean install (which gives an error, something to do with Java 17):</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project jgsbrmq: Fatal error compiling: error: release version 17 not supporte\nd -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Here is my pom.xml.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jgsbrmq&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;jgsbrmq&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot and RabbitMQ&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;/plugin&gt;--&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","class","methods","error-handling"],"answers":[{"comments":[{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1701536706,"post_id":77591321,"comment_id":136789132,"body_markdown":"```\npublic void printMinor() {\n\t\t\n\t\tMatrix minor = this.getMinor();\n\t\tminor.printMatrix();\t\n\t\t\n\t}\n```\nThen should I edit the printMinor like this? I&#39;m asking because when I edit it like this I&#39;m getting an error like &quot;Index X out of bounds for length y.&quot;","body":"``` public void printMinor() { \t\t \t\tMatrix minor = this.getMinor(); \t\tminor.printMatrix();\t \t\t \t} ``` Then should I edit the printMinor like this? I&#39;m asking because when I edit it like this I&#39;m getting an error like &quot;Index X out of bounds for length y.&quot;"},{"owner":{"account_id":14261458,"reputation":590,"user_id":10302104,"display_name":"smallpepperz"},"score":0,"creation_date":1701536840,"post_id":77591321,"comment_id":136789152,"body_markdown":"That&#39;s how you would edit it, yes.","body":"That&#39;s how you would edit it, yes."}],"tags":[],"owner":{"account_id":14261458,"reputation":590,"user_id":10302104,"display_name":"smallpepperz"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701536307,"creation_date":1701536307,"answer_id":77591321,"question_id":77591273,"body_markdown":"In the code you&#39;ve posted, `getMinor(...)` is defined as a method of the Matrix class. This means you would need to call `myNew2Matrix.getMinor(myNew2Matrix)` with your current code. If you want to avoid specifying `myNew2Matrix` twice, you could do one of the following.\r\n\r\n\r\n1. Make `getMinor` a static method (not bound to an instance of Matrix). If you implement it this way, you would call `Matrix.getMinor(myNew2Matrix)`.\r\n2. Don&#39;t pass an argument to `getMinor`, instead use `this` as the matrix you&#39;re performing calculations on. If you choose to do it this way, you would call `myNew2Matrix.getMinor()`\r\n```java\r\n   public Matrix getMinor() {\r\n        \r\n        Matrix minor = new Matrix(this.getRowNumber() - 1, this.getColumnNumber() - 1);\r\n        \r\n        for(int r = 1; r &lt;= this.getRowNumber(); r++) {\r\n            for(int i = 1; i &lt; this.getColumnNumber(); i++) {\r\n                minor.addTo(r, i, this.getElement(r+1, i+1));\r\n            }\r\n        }\r\n        \r\n        return minor;\r\n    }\r\n```\r\n\r\n\r\nBecause you control the Matrix class, and the only thing you pass to `getMinor` is a `Matrix`, the second option would probably be the better option of the two, but both options will work.","title":"Why I Can&#39;t Use My Method in Another Class? (The Method X is Undefined for the Type Y)","body":"<p>In the code you've posted, <code>getMinor(...)</code> is defined as a method of the Matrix class. This means you would need to call <code>myNew2Matrix.getMinor(myNew2Matrix)</code> with your current code. If you want to avoid specifying <code>myNew2Matrix</code> twice, you could do one of the following.</p>\n<ol>\n<li>Make <code>getMinor</code> a static method (not bound to an instance of Matrix). If you implement it this way, you would call <code>Matrix.getMinor(myNew2Matrix)</code>.</li>\n<li>Don't pass an argument to <code>getMinor</code>, instead use <code>this</code> as the matrix you're performing calculations on. If you choose to do it this way, you would call <code>myNew2Matrix.getMinor()</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>   public Matrix getMinor() {\n        \n        Matrix minor = new Matrix(this.getRowNumber() - 1, this.getColumnNumber() - 1);\n        \n        for(int r = 1; r &lt;= this.getRowNumber(); r++) {\n            for(int i = 1; i &lt; this.getColumnNumber(); i++) {\n                minor.addTo(r, i, this.getElement(r+1, i+1));\n            }\n        }\n        \n        return minor;\n    }\n</code></pre>\n<p>Because you control the Matrix class, and the only thing you pass to <code>getMinor</code> is a <code>Matrix</code>, the second option would probably be the better option of the two, but both options will work.</p>\n"}],"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77591321,"answer_count":1,"score":-2,"last_activity_date":1701536307,"creation_date":1701535559,"question_id":77591273,"body_markdown":"I wrote a code in Java but I&#39;m keep getting an error named **&quot;The method getMinor(Matrix) is undefined for the type Main.&quot;** for the *last line of Main class.*\r\nI can use my other methods in Main class but can&#39;t use getMinor and printMinor methods in it. What am I doing wrong?\r\n\r\nThis is Matrix class:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class Matrix {\r\n\r\n\tprivate int n;\r\n\tprivate int m;\r\n\tprivate ArrayList&lt;Double&gt; Matrices = new ArrayList&lt;Double&gt;();\r\n\t\r\n\tpublic Matrix(int n, int m) {\r\n\t\t\r\n\t\tthis.n = n;\r\n\t\tthis.m = m;\r\n\t\t\r\n\t\tMatrices = new ArrayList&lt;Double&gt;(n*m);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void printElement(int a, int b) {\r\n\t\t\r\n\t\tint index = (a-1)*m + b - 1;\r\n\t\tdouble element = Matrices.get(index);\r\n\t\tSystem.out.println(element);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic double getElement(int a, int b) {\r\n\t\t\r\n\t\tint index = (a-1)*m + b - 1;\r\n\t\tdouble element = Matrices.get(index);\r\n\t\treturn element;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void printMatrix() {\r\n\t\t\r\n\t\tfor(int a = 1; a &lt;= n; a++) {\r\n\t\t\tSystem.out.print(&quot;[&quot;);\r\n\t\t\tfor(int b = 1; b &lt;= m; b++) {\r\n\t\t\t\tif(b == 1) {\r\n\t\t\t\t\tSystem.out.print(Matrices.get((a-1)*m + b - 1).toString());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.print(&quot;  &quot; +Matrices.get((a-1)*m + b - 1).toString());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;]&quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic int getRowNumber() {\r\n\t\t\r\n\t\treturn n;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic int getColumnNumber() {\r\n\t\t\r\n\t\treturn m;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Matrix getMinor(Matrix Matrices) {\r\n\t\t\r\n\t\tMatrix minor = new Matrix(Matrices.getRowNumber() - 1, Matrices.getColumnNumber() - 1);\r\n\t\t\r\n\t\tfor(int r = 1; r &lt;= Matrices.getRowNumber(); r++) {\r\n\t\t\tfor(int i = 1; i &lt; Matrices.getColumnNumber(); i++) {\r\n\t\t\t\tminor.addTo(r, i, Matrices.getElement(r+1, i+1));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn minor;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void printMinor(Matrix Matrices) {\r\n\t\t\r\n\t\tMatrix minor = getMinor(Matrices);\r\n\t\tminor.printMatrix();\t\r\n\t\t\r\n\t}\r\n\r\n        public void addTo(int a, int b, double value) {\r\n\t\t\r\n\t\tint index = (a-1)*m + b - 1;\r\n\t\tMatrices.add(index, value);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nThis is Main class:\r\n```\r\npublic class Main{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tMatrix myNew2Matrix = new Matrix(3, 3);\r\n\t\tmyNew2Matrix.addTo(1,1,3);\r\n\t\tmyNew2Matrix.addTo(1,2,2);\r\n\t\tmyNew2Matrix.addTo(1,3,2);\r\n\t\tmyNew2Matrix.addTo(2,1,1);\r\n\t\tmyNew2Matrix.addTo(2,2,4);\r\n\t\tmyNew2Matrix.addTo(2,3,4);\r\n\t\tmyNew2Matrix.addTo(3,1,8);\r\n\t\tmyNew2Matrix.addTo(3,2,2);\r\n\t\tmyNew2Matrix.addTo(3,3,5);\r\n\t\tgetMinor(myNew2Matrix); //getting error in this line\r\n\t}\r\n\r\n}\r\n```","title":"Why I Can&#39;t Use My Method in Another Class? (The Method X is Undefined for the Type Y)","body":"<p>I wrote a code in Java but I'm keep getting an error named <strong>&quot;The method getMinor(Matrix) is undefined for the type Main.&quot;</strong> for the <em>last line of Main class.</em>\nI can use my other methods in Main class but can't use getMinor and printMinor methods in it. What am I doing wrong?</p>\n<p>This is Matrix class:</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Matrix {\n\n    private int n;\n    private int m;\n    private ArrayList&lt;Double&gt; Matrices = new ArrayList&lt;Double&gt;();\n    \n    public Matrix(int n, int m) {\n        \n        this.n = n;\n        this.m = m;\n        \n        Matrices = new ArrayList&lt;Double&gt;(n*m);\n        \n    }\n    \n    public void printElement(int a, int b) {\n        \n        int index = (a-1)*m + b - 1;\n        double element = Matrices.get(index);\n        System.out.println(element);\n        \n    }\n    \n    public double getElement(int a, int b) {\n        \n        int index = (a-1)*m + b - 1;\n        double element = Matrices.get(index);\n        return element;\n        \n    }\n    \n    public void printMatrix() {\n        \n        for(int a = 1; a &lt;= n; a++) {\n            System.out.print(&quot;[&quot;);\n            for(int b = 1; b &lt;= m; b++) {\n                if(b == 1) {\n                    System.out.print(Matrices.get((a-1)*m + b - 1).toString());\n                } else {\n                    System.out.print(&quot;  &quot; +Matrices.get((a-1)*m + b - 1).toString());\n                }\n            }\n            System.out.println(&quot;]&quot;);\n        }\n        System.out.print(&quot;\\n&quot;);\n        \n    }\n    \n    public int getRowNumber() {\n        \n        return n;\n        \n    }\n    \n    public int getColumnNumber() {\n        \n        return m;\n        \n    }\n    \n    public Matrix getMinor(Matrix Matrices) {\n        \n        Matrix minor = new Matrix(Matrices.getRowNumber() - 1, Matrices.getColumnNumber() - 1);\n        \n        for(int r = 1; r &lt;= Matrices.getRowNumber(); r++) {\n            for(int i = 1; i &lt; Matrices.getColumnNumber(); i++) {\n                minor.addTo(r, i, Matrices.getElement(r+1, i+1));\n            }\n        }\n        \n        return minor;\n        \n    }\n    \n    public void printMinor(Matrix Matrices) {\n        \n        Matrix minor = getMinor(Matrices);\n        minor.printMatrix();    \n        \n    }\n\n        public void addTo(int a, int b, double value) {\n        \n        int index = (a-1)*m + b - 1;\n        Matrices.add(index, value);\n        \n    }\n    \n}\n\n</code></pre>\n<p>This is Main class:</p>\n<pre><code>public class Main{\n\n    public static void main(String[] args) {\n        \n        Matrix myNew2Matrix = new Matrix(3, 3);\n        myNew2Matrix.addTo(1,1,3);\n        myNew2Matrix.addTo(1,2,2);\n        myNew2Matrix.addTo(1,3,2);\n        myNew2Matrix.addTo(2,1,1);\n        myNew2Matrix.addTo(2,2,4);\n        myNew2Matrix.addTo(2,3,4);\n        myNew2Matrix.addTo(3,1,8);\n        myNew2Matrix.addTo(3,2,2);\n        myNew2Matrix.addTo(3,3,5);\n        getMinor(myNew2Matrix); //getting error in this line\n    }\n\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","dynamic-programming"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700060910,"post_id":77488693,"comment_id":136608741,"body_markdown":"Fails in what way? Find some input that reproduces the problem and hardcode it into a [mre]. I&#39;m not seeing the `digital signature algorithm` angle, are you sure about the tag?","body":"Fails in what way? Find some input that reproduces the problem and hardcode it into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I&#39;m not seeing the <code>digital signature algorithm</code> angle, are you sure about the tag?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1700060982,"post_id":77488693,"comment_id":136608754,"body_markdown":"The comments are fine, the code less so. Try writing code that does what the comments are saying.","body":"The comments are fine, the code less so. Try writing code that does what the comments are saying."},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1700077971,"post_id":77488693,"comment_id":136611867,"body_markdown":"Do not tag this as `dsa`.  The `dsa` tag is for `Digital Signature Algorithm`.","body":"Do not tag this as <code>dsa</code>.  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700068778,"creation_date":1700064996,"answer_id":77489330,"question_id":77488693,"body_markdown":"Here are some of the issues:\r\n\r\n* There is this important specification for the challenge:\r\n\r\n    &gt; Our player always begins from the middle lane.\r\n\r\n    This already means that your initialisation of `dp` is wrong. The cost to get in the left lane is 1 (one side step). So the initialisation should be:\r\n\r\n    ```\r\n    dp[0][0] = dp[0][2] = 1;\r\n    dp[0][1] = 0;\r\n    ```\r\n\r\n* `manholes[i] == j + 1` checks the opposite from what you write in comments just below it. This condition is true when lane `j` has a manhole, so in that case you should execute the `else` block.\r\n\r\n* In the `if` block you add 1 to the second argument of the outer `Math.min` call. Combined with the fact that you store `Integer.MAX_VALUE` in some `dp` entries, you risk adding 1 to that value, which evaluates to `Integer.MIN_VALUE` and obviously distorts your results. This is why you got -2147483648 as output in one of your tests. I&#39;d suggest not using `Integer.MAX_VALUE`, but just `N`. That is a large enough value.\r\n\r\n* Your code assumes that a lane switch is possible (in the previous row) even when `dp[i-1][j]` has a manhole. \r\n\r\nNot a problem, but you can reduce the `dp` array to just one dimension (with three entries). You can incrementally update the same triplet to align it to the current point.\r\n\r\nHere is the suggested updated code:\r\n\r\n```\r\n    public int minLaneChanges(int[] manholes) {\r\n        int N = manholes.length - 1;\r\n        int[] dp = new int[]{1, 0, 1}; // Initialise that player is in middle\r\n\r\n        // Iterate over the points\r\n        for (int i = 1; i &lt;= N; i++) {\r\n            // If there is a manhole, invalidate paths that arrive there:\r\n            if (manholes[i] &gt; 0) dp[manholes[i] - 1] = N;\r\n            // Get the best lane at this point \r\n            int best = Math.min(dp[0], Math.min(dp[1], dp[2]));\r\n            // Check if non-best lanes (without hole) can be improved\r\n            //    by jumping sideways from the best lane\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                if (j + 1 != manholes[i]) dp[j] = Math.min(dp[j], best + 1);\r\n            }\r\n        }\r\n        return Math.min(dp[0], Math.min(dp[1], dp[2]));\r\n    }\r\n``` ","title":"Wrong output with dynamic programming on Limited Subway Surfer challenge","body":"<p>Here are some of the issues:</p>\n<ul>\n<li><p>There is this important specification for the challenge:</p>\n<blockquote>\n<p>Our player always begins from the middle lane.</p>\n</blockquote>\n<p>This already means that your initialisation of <code>dp</code> is wrong. The cost to get in the left lane is 1 (one side step). So the initialisation should be:</p>\n<pre><code>dp[0][0] = dp[0][2] = 1;\ndp[0][1] = 0;\n</code></pre>\n</li>\n<li><p><code>manholes[i] == j + 1</code> checks the opposite from what you write in comments just below it. This condition is true when lane <code>j</code> has a manhole, so in that case you should execute the <code>else</code> block.</p>\n</li>\n<li><p>In the <code>if</code> block you add 1 to the second argument of the outer <code>Math.min</code> call. Combined with the fact that you store <code>Integer.MAX_VALUE</code> in some <code>dp</code> entries, you risk adding 1 to that value, which evaluates to <code>Integer.MIN_VALUE</code> and obviously distorts your results. This is why you got -2147483648 as output in one of your tests. I'd suggest not using <code>Integer.MAX_VALUE</code>, but just <code>N</code>. That is a large enough value.</p>\n</li>\n<li><p>Your code assumes that a lane switch is possible (in the previous row) even when <code>dp[i-1][j]</code> has a manhole.</p>\n</li>\n</ul>\n<p>Not a problem, but you can reduce the <code>dp</code> array to just one dimension (with three entries). You can incrementally update the same triplet to align it to the current point.</p>\n<p>Here is the suggested updated code:</p>\n<pre><code>    public int minLaneChanges(int[] manholes) {\n        int N = manholes.length - 1;\n        int[] dp = new int[]{1, 0, 1}; // Initialise that player is in middle\n\n        // Iterate over the points\n        for (int i = 1; i &lt;= N; i++) {\n            // If there is a manhole, invalidate paths that arrive there:\n            if (manholes[i] &gt; 0) dp[manholes[i] - 1] = N;\n            // Get the best lane at this point \n            int best = Math.min(dp[0], Math.min(dp[1], dp[2]));\n            // Check if non-best lanes (without hole) can be improved\n            //    by jumping sideways from the best lane\n            for (int j = 0; j &lt; 3; j++) {\n                if (j + 1 != manholes[i]) dp[j] = Math.min(dp[j], best + 1);\n            }\n        }\n        return Math.min(dp[0], Math.min(dp[1], dp[2]));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30048904,"reputation":1,"user_id":23027895,"display_name":"lal khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701536072,"creation_date":1701536072,"answer_id":77591301,"question_id":77488693,"body_markdown":"\r\nThe issue in your code arises from the initialization of the dynamic programming matrix (dp). Given the requirement that the player always starts from the middle lane, the initial values of **dp[0][0]** and **dp[0][2]** should be set to **1 instead of 0**. Additionally, the condition manholes**[i] == j + 1** should be changed to manholes**[i] == j + 1** to properly identify lanes with manholes. Lastly, using Integer.MAX_VALUE might lead to unexpected results; consider using a large enough value like N instead. Here&#39;s a revised version of your code snippet that addresses these concerns:\r\n   \r\n\r\n        public int minLaneChanges(int[] manholes) {\r\n        int N = manholes.length - 1;\r\n        int[][] dp = new int[N + 1][3];\r\n    \r\n        // Set initial values\r\n        dp[0][0] = dp[0][2] = 1;\r\n        dp[0][1] = 0;\r\n    \r\n        // Iterate over the points\r\n        for (int i = 1; i &lt;= N; i++) {\r\n            // Iterate over the lanes\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                if (manholes[i] == j + 1) {\r\n                    // Manhole on the same lane, find minimum lane change\r\n                    dp[i][j] = Math.min(dp[i-1][j], Math.min(dp[i - 1][(j + 1) % 3], dp[i - 1][(j + 2) % 3]) + 1);\r\n                } else {\r\n                    dp[i][j] = N;\r\n                }\r\n            }\r\n        }\r\n    \r\n        return Math.min(dp[N][0], Math.min(dp[N][1], dp[N][2]));\r\n    }\r\n\r\n\r\nThis revised approach should align with the requirements of the problem and improve the calculation of lane changes needed for the player to reach their destination.\r\n\r\n","title":"Wrong output with dynamic programming on Limited Subway Surfer challenge","body":"<p>The issue in your code arises from the initialization of the dynamic programming matrix (dp). Given the requirement that the player always starts from the middle lane, the initial values of <strong>dp[0][0]</strong> and <strong>dp[0][2]</strong> should be set to <strong>1 instead of 0</strong>. Additionally, the condition manholes**[i] == j + 1** should be changed to manholes**[i] == j + 1** to properly identify lanes with manholes. Lastly, using Integer.MAX_VALUE might lead to unexpected results; consider using a large enough value like N instead. Here's a revised version of your code snippet that addresses these concerns:</p>\n<pre><code>    public int minLaneChanges(int[] manholes) {\n    int N = manholes.length - 1;\n    int[][] dp = new int[N + 1][3];\n\n    // Set initial values\n    dp[0][0] = dp[0][2] = 1;\n    dp[0][1] = 0;\n\n    // Iterate over the points\n    for (int i = 1; i &lt;= N; i++) {\n        // Iterate over the lanes\n        for (int j = 0; j &lt; 3; j++) {\n            if (manholes[i] == j + 1) {\n                // Manhole on the same lane, find minimum lane change\n                dp[i][j] = Math.min(dp[i-1][j], Math.min(dp[i - 1][(j + 1) % 3], dp[i - 1][(j + 2) % 3]) + 1);\n            } else {\n                dp[i][j] = N;\n            }\n        }\n    }\n\n    return Math.min(dp[N][0], Math.min(dp[N][1], dp[N][2]));\n}\n</code></pre>\n<p>This revised approach should align with the requirements of the problem and improve the calculation of lane changes needed for the player to reach their destination.</p>\n"}],"owner":{"display_name":"user22921484"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77489330,"answer_count":2,"score":-2,"last_activity_date":1701536072,"creation_date":1700059605,"question_id":77488693,"body_markdown":"I tried solving this code challenge using Dynamic Programming, but I do not get expected result.\r\n\r\n## The &quot;Limited Subway Surfer&quot; challenge\r\n\r\n&gt; Nidhi has created an alternate version of Subway Surfer game. Her new version is not on a train track unlimited length, rather limited to a track of length N + 1. Just like the original game, this alternate version also has three lanes.\r\n&gt; \r\n&gt; The track has points on it ranging from 0 to N.\r\n&gt; \r\n&gt; In the three lanes, at some points, certain manholes are present. Now, to avoid these manholes, our player needs to jump sideways and switch lanes, as he cannot go from i to (i + 1)&lt;sup&gt;th&lt;/sup&gt; point on the same lane if there is no manhole on the lane at point i + 1.\r\n&gt; \r\n&gt; You are given an array&#160;manholes&#160;of length N + 1 where `manholes[i]` tells us on which lane is the manhole present for point i. For example, if `manholes[2]` = 1, this means that on point 2 of the train track, a manhole is present on lane 1.\r\n&gt; \r\n&gt; Find the minimum number of lane changes our player has to perform in order to reach from point 0 to point N on the train track.\r\n&gt; \r\n&gt; ### Note:\r\n&gt; \r\n&gt; If `manholes[i]` = 0, this means that for point i, there is no manhole present on any lane.\r\n&gt; \r\n&gt; `manholes[0]` and `manholes[N]` are always 0.\r\n&gt; \r\n&gt; ### Input Format:\r\n&gt; \r\n&gt; First line of input contains integer T, representing the number of test cases.\r\n&gt; \r\n&gt; First line of each test case contains the integer N.\r\n&gt; \r\n&gt; Second line of each test case contains N + 1 space separated integers, representing manholes[i].\r\n&gt; \r\n&gt; Our player always begins from the middle lane.\r\n&gt; \r\n&gt; ### Constraints:\r\n&gt; \r\n&gt; * `manholes.length == n + 1`\r\n&gt; * `1 &lt;= t &lt;= 100`\r\n&gt; * `1 &lt;= N &lt;= 5 * 10`&lt;sup&gt;`4`&lt;/sup&gt;\r\n&gt; * `0 &lt;= manholes[i] &lt;= 3`\r\n&gt; * `manholes[0] == manholes[n] == 0`\r\n&gt; \r\n&gt; ### Output Format:\r\n&gt; \r\n&gt; Minimum number of lane changes to reach from point 0 to N.\r\n&gt; \r\n&gt; ### Sample Input:\r\n&gt; ```\r\n&gt; 4\r\n&gt; 0 1 2 3 0\r\n&gt; ```\r\n&gt; \r\n&gt; ### Sample Output:\r\n&gt; \r\n&gt; ```\r\n&gt; 2\r\n&gt; ```\r\n&gt; \r\n&gt; ### Explanation:\r\n&gt; The optimal path followed by our player is shown in the image below:\r\n&gt; \r\n&gt; It is clear that to reach from point 0 till point N optimally, our player will have to change lanes twice at minimum.\r\n&gt; \r\n&gt; [![enter image description here][1]][1]\r\n\r\n## Attempt\r\n\r\nMy code for the above challenge is:\r\n\r\n```\r\n    public int minLaneChanges(int[] manholes) {\r\n        int N = manholes.length - 1;\r\n        int[][] dp = new int[N + 1][3];\r\n\r\n        // Set initial values\r\n        dp[0][0] = dp[0][2] = 0;\r\n\r\n        // Iterate over the points\r\n        for (int i = 1; i &lt;= N; i++) {\r\n            // Iterate over the lanes\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                if (manholes[i] == 0 || manholes[i] == j + 1) {\r\n                    // Manhole on a different lane, find minimum lane change\r\n                    dp[i][j] = Math.min(dp[i-1][j], Math.min(dp[i - 1][(j + 1) % 3], dp[i - 1][(j + 2) % 3]) + 1);\r\n                } else {\r\n                    dp[i][j] = Integer.MAX_VALUE;\r\n                }\r\n            }\r\n        }\r\n\r\n        return Math.min(dp[N][0], Math.min(dp[N][1], dp[N][2]));\r\n        \r\n    }\r\n```\r\n\r\nMy approach is to start in the first row, then I iterate each row and column from second row. If I see a hurdle/Manhole I set the current position value to Max value, else I set the current value to min(previous position on same lane, min(previous of other lanes)+1).\r\n\r\nFinally I return min among the last row.\r\n\r\nMy approach fails. For the example input above, it outputs -2147483648.\r\nWhat is the mistake? \r\n\r\n  [1]: https://i.stack.imgur.com/diNi1.png","title":"Wrong output with dynamic programming on Limited Subway Surfer challenge","body":"<p>I tried solving this code challenge using Dynamic Programming, but I do not get expected result.</p>\n<h2>The &quot;Limited Subway Surfer&quot; challenge</h2>\n<blockquote>\n<p>Nidhi has created an alternate version of Subway Surfer game. Her new version is not on a train track unlimited length, rather limited to a track of length N + 1. Just like the original game, this alternate version also has three lanes.</p>\n<p>The track has points on it ranging from 0 to N.</p>\n<p>In the three lanes, at some points, certain manholes are present. Now, to avoid these manholes, our player needs to jump sideways and switch lanes, as he cannot go from i to (i + 1)<sup>th</sup> point on the same lane if there is no manhole on the lane at point i + 1.</p>\n<p>You are given an array manholes of length N + 1 where <code>manholes[i]</code> tells us on which lane is the manhole present for point i. For example, if <code>manholes[2]</code> = 1, this means that on point 2 of the train track, a manhole is present on lane 1.</p>\n<p>Find the minimum number of lane changes our player has to perform in order to reach from point 0 to point N on the train track.</p>\n<h3>Note:</h3>\n<p>If <code>manholes[i]</code> = 0, this means that for point i, there is no manhole present on any lane.</p>\n<p><code>manholes[0]</code> and <code>manholes[N]</code> are always 0.</p>\n<h3>Input Format:</h3>\n<p>First line of input contains integer T, representing the number of test cases.</p>\n<p>First line of each test case contains the integer N.</p>\n<p>Second line of each test case contains N + 1 space separated integers, representing manholes[i].</p>\n<p>Our player always begins from the middle lane.</p>\n<h3>Constraints:</h3>\n<ul>\n<li><code>manholes.length == n + 1</code></li>\n<li><code>1 &lt;= t &lt;= 100</code></li>\n<li><code>1 &lt;= N &lt;= 5 * 10</code><sup><code>4</code></sup></li>\n<li><code>0 &lt;= manholes[i] &lt;= 3</code></li>\n<li><code>manholes[0] == manholes[n] == 0</code></li>\n</ul>\n<h3>Output Format:</h3>\n<p>Minimum number of lane changes to reach from point 0 to N.</p>\n<h3>Sample Input:</h3>\n<pre><code>4\n0 1 2 3 0\n</code></pre>\n<h3>Sample Output:</h3>\n<pre><code>2\n</code></pre>\n<h3>Explanation:</h3>\n<p>The optimal path followed by our player is shown in the image below:</p>\n<p>It is clear that to reach from point 0 till point N optimally, our player will have to change lanes twice at minimum.</p>\n<p><a href=\"https://i.stack.imgur.com/diNi1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/diNi1.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<h2>Attempt</h2>\n<p>My code for the above challenge is:</p>\n<pre><code>    public int minLaneChanges(int[] manholes) {\n        int N = manholes.length - 1;\n        int[][] dp = new int[N + 1][3];\n\n        // Set initial values\n        dp[0][0] = dp[0][2] = 0;\n\n        // Iterate over the points\n        for (int i = 1; i &lt;= N; i++) {\n            // Iterate over the lanes\n            for (int j = 0; j &lt; 3; j++) {\n                if (manholes[i] == 0 || manholes[i] == j + 1) {\n                    // Manhole on a different lane, find minimum lane change\n                    dp[i][j] = Math.min(dp[i-1][j], Math.min(dp[i - 1][(j + 1) % 3], dp[i - 1][(j + 2) % 3]) + 1);\n                } else {\n                    dp[i][j] = Integer.MAX_VALUE;\n                }\n            }\n        }\n\n        return Math.min(dp[N][0], Math.min(dp[N][1], dp[N][2]));\n        \n    }\n</code></pre>\n<p>My approach is to start in the first row, then I iterate each row and column from second row. If I see a hurdle/Manhole I set the current position value to Max value, else I set the current value to min(previous position on same lane, min(previous of other lanes)+1).</p>\n<p>Finally I return min among the last row.</p>\n<p>My approach fails. For the example input above, it outputs -2147483648.\nWhat is the mistake?</p>\n"},{"tags":["java","spring","spring-boot","httprequest","endpoint"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701456046,"post_id":77583728,"comment_id":136782096,"body_markdown":"What is the error you get when you use `@RequestParam` that should be the replacement. Unless it cannot construct the object, you might need an additional `Converter` to convert the `String` into the object you need.","body":"What is the error you get when you use <code>@RequestParam</code> that should be the replacement. Unless it cannot construct the object, you might need an additional <code>Converter</code> to convert the <code>String</code> into the object you need."}],"answers":[{"tags":[],"owner":{"account_id":28753328,"reputation":31,"user_id":22020873,"display_name":"stackoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423278,"creation_date":1701423278,"answer_id":77584225,"question_id":77583728,"body_markdown":"Actually you can limit content-type and use a object class to accept params.\r\n\r\nOn Controller: \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class TestController {\r\n\r\n        @PostMapping(value = &quot;/form-data&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        public ResponseEntity&lt;Object&gt; generateTable(FormDataDTO data){\r\n\r\n            return ResponseEntity.ok(data);\r\n        }\r\n\r\n    }\r\n\r\nFormDataDTO :\r\n\r\n    @Data\r\n    public class FormDataDTO {\r\n\r\n         private TinyDTO tiny;\r\n \r\n         private TinyDTO mid;\r\n\r\n         private TinyDTO height;\r\n\r\n    }\r\n\r\nTinyDTO :\r\n\r\n    @Data\r\n    public class TinyDTO {\r\n\r\n        private String str;\r\n\r\n        private Integer num;\r\n\r\n    }\r\n\r\nHow to request? You can test like this:\r\n\r\n    ###\r\n    POST http://localhost:10001/test/form-data\r\n    Content-Type: multipart/form-data; boundary=boundary\r\n\r\n    --boundary\r\n    Content-Disposition: form-data; name=&quot;tiny.str&quot;\r\n\r\n    aaaa\r\n    --boundary\r\n    Content-Disposition: form-data; name=&quot;tiny.num&quot;\r\n\r\n    1\r\n    --boundary\r\n    Content-Disposition: form-data; name=&quot;mid.str&quot;\r\n\r\n    mid\r\n    --boundary\r\n    Content-Disposition: form-data; name=&quot;mid.num&quot;\r\n\r\n    99\r\n    --boundary\r\n    Content-Disposition: form-data; name=&quot;height.str&quot;\r\n\r\n    height\r\n    --boundary\r\n    Content-Disposition: form-data; name=&quot;height.num&quot;\r\n\r\n    -1\r\n    --boundary--\r\n\r\nResponse is:\r\n\r\n    {\r\n        &quot;tiny&quot;: {\r\n            &quot;str&quot;: &quot;aaaa&quot;,\r\n            &quot;num&quot;: 1\r\n        },\r\n        &quot;mid&quot;: {\r\n            &quot;str&quot;: &quot;mid&quot;,\r\n            &quot;num&quot;: 99\r\n        },\r\n        &quot;height&quot;: {\r\n            &quot;str&quot;: &quot;height&quot;,\r\n            &quot;num&quot;: -1\r\n        }\r\n    }\r\n\r\n","title":"How to properly work with Form Data params in Spring Boot?","body":"<p>Actually you can limit content-type and use a object class to accept params.</p>\n<p>On Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class TestController {\n\n    @PostMapping(value = &quot;/form-data&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;Object&gt; generateTable(FormDataDTO data){\n\n        return ResponseEntity.ok(data);\n    }\n\n}\n</code></pre>\n<p>FormDataDTO :</p>\n<pre><code>@Data\npublic class FormDataDTO {\n\n     private TinyDTO tiny;\n\n     private TinyDTO mid;\n\n     private TinyDTO height;\n\n}\n</code></pre>\n<p>TinyDTO :</p>\n<pre><code>@Data\npublic class TinyDTO {\n\n    private String str;\n\n    private Integer num;\n\n}\n</code></pre>\n<p>How to request? You can test like this:</p>\n<pre><code>###\nPOST http://localhost:10001/test/form-data\nContent-Type: multipart/form-data; boundary=boundary\n\n--boundary\nContent-Disposition: form-data; name=&quot;tiny.str&quot;\n\naaaa\n--boundary\nContent-Disposition: form-data; name=&quot;tiny.num&quot;\n\n1\n--boundary\nContent-Disposition: form-data; name=&quot;mid.str&quot;\n\nmid\n--boundary\nContent-Disposition: form-data; name=&quot;mid.num&quot;\n\n99\n--boundary\nContent-Disposition: form-data; name=&quot;height.str&quot;\n\nheight\n--boundary\nContent-Disposition: form-data; name=&quot;height.num&quot;\n\n-1\n--boundary--\n</code></pre>\n<p>Response is:</p>\n<pre><code>{\n    &quot;tiny&quot;: {\n        &quot;str&quot;: &quot;aaaa&quot;,\n        &quot;num&quot;: 1\n    },\n    &quot;mid&quot;: {\n        &quot;str&quot;: &quot;mid&quot;,\n        &quot;num&quot;: 99\n    },\n    &quot;height&quot;: {\n        &quot;str&quot;: &quot;height&quot;,\n        &quot;num&quot;: -1\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1701693063,"post_id":77591177,"comment_id":136803310,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701534060,"creation_date":1701534060,"answer_id":77591177,"question_id":77583728,"body_markdown":"Rewriting the JAX-RS request to Spring Boot MVC is straightforward with `@RequestParam` annotation. In your case something like this:\r\n```java\r\n@PostMapping(path = &quot;/generateTable&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\npublic ResponseEntity&lt;ExportResult&gt; generateTable(@RequestParam(&quot;content&quot;) TableParam tableParam,\r\n                      @RequestParam(&quot;panel&quot;) PanelParam panelParam,\r\n                      @RequestParam(&quot;entityData&quot;) EntityDataParam entityDataParam,\r\n                      @RequestParam(&quot;drillPath&quot;) TypoParam typoParam))\r\n```\r\nAdditionally you need to provide the converters from String to Java objects. You can identify the necessary code in the existing classes. It was either a constructor with a single String parameter or a static method named `valueOf()` or `fromString()` or a registered implementation of `ParamConverterProvider`.\r\n\r\nTake this code and implement the `Converter&lt;S, T&gt;` interface in a Spring component. Similar to the example below. It constructs a Customer object from JSON String:\r\n```java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.springframework.core.convert.converter.Converter;\r\n@Component\r\npublic class CustomerConverter implements Converter&lt;String, Customer&gt; {\r\n\r\n    @Autowired\r\n    private ObjectMapper mapper;\r\n\r\n    @Override\r\n    public Customer convert(String customer) {\r\n        try {\r\n            return mapper.readValue(customer, Customer.class);\r\n        } catch (JsonProcessingException e) {\r\n            throw new IllegalArgumentException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"How to properly work with Form Data params in Spring Boot?","body":"<p>Rewriting the JAX-RS request to Spring Boot MVC is straightforward with <code>@RequestParam</code> annotation. In your case something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(path = &quot;/generateTable&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic ResponseEntity&lt;ExportResult&gt; generateTable(@RequestParam(&quot;content&quot;) TableParam tableParam,\n                      @RequestParam(&quot;panel&quot;) PanelParam panelParam,\n                      @RequestParam(&quot;entityData&quot;) EntityDataParam entityDataParam,\n                      @RequestParam(&quot;drillPath&quot;) TypoParam typoParam))\n</code></pre>\n<p>Additionally you need to provide the converters from String to Java objects. You can identify the necessary code in the existing classes. It was either a constructor with a single String parameter or a static method named <code>valueOf()</code> or <code>fromString()</code> or a registered implementation of <code>ParamConverterProvider</code>.</p>\n<p>Take this code and implement the <code>Converter&lt;S, T&gt;</code> interface in a Spring component. Similar to the example below. It constructs a Customer object from JSON String:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.core.convert.converter.Converter;\n@Component\npublic class CustomerConverter implements Converter&lt;String, Customer&gt; {\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    @Override\n    public Customer convert(String customer) {\n        try {\n            return mapper.readValue(customer, Customer.class);\n        } catch (JsonProcessingException e) {\n            throw new IllegalArgumentException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77591177,"answer_count":2,"score":0,"last_activity_date":1701534060,"creation_date":1701417092,"question_id":77583728,"body_markdown":"I am doing a migration from Google Guice and JAX-RS to Spring Boot. \r\nPrevously the method that I had looked like this:\r\n```Java\r\n    @POST\r\n    @Path(&quot;/generateTable&quot;)\r\n    public ExportResult generateTable(@FormParam(&quot;content&quot;) TableParam tableParam,\r\n                                                      @FormParam(&quot;panel&quot;) PanelParam panelParam,\r\n                                                      @FormParam(&quot;entityData&quot;) EntityDataParam entityDataParam,\r\n                                                      @FormParam(&quot;drillPath&quot;) TypoParam typoParam) \r\n```\r\n\r\nNow I need to migrate this code in Spring Boot. I have looked at the request that is reaching this endpoint on Chrome DevTools and in the payload it has form data parameters.\r\n\r\nWhen rewriting the code to Spring Boot, I realised that I cannot replace @FormParam with @RequestParam, so one solution that I have is to use this one:\r\n```java\r\n    @PostMapping(&quot;/generateTable&quot;)\r\n    public ExportResult generateTable(@RequestBody MultiValueMap&lt;String, String&gt; formData) {\r\n```\r\n\r\nBut when using this approach I need to get the parameters from the formData hashmap and parse them to the appropriate object manually. Is there a way in which this can be done automatically without me checking whether an arguments has been passed and so for the other arguments. \r\nAlso another approach which I was thinking if it is possible to create a custom object containing all the params from the request and use @RequestBody to parse it automatically? \r\n\r\nAny other approach would be of great help !","title":"How to properly work with Form Data params in Spring Boot?","body":"<p>I am doing a migration from Google Guice and JAX-RS to Spring Boot.\nPrevously the method that I had looked like this:</p>\n<pre><code>    @POST\n    @Path(&quot;/generateTable&quot;)\n    public ExportResult generateTable(@FormParam(&quot;content&quot;) TableParam tableParam,\n                                                      @FormParam(&quot;panel&quot;) PanelParam panelParam,\n                                                      @FormParam(&quot;entityData&quot;) EntityDataParam entityDataParam,\n                                                      @FormParam(&quot;drillPath&quot;) TypoParam typoParam) \n</code></pre>\n<p>Now I need to migrate this code in Spring Boot. I have looked at the request that is reaching this endpoint on Chrome DevTools and in the payload it has form data parameters.</p>\n<p>When rewriting the code to Spring Boot, I realised that I cannot replace @FormParam with @RequestParam, so one solution that I have is to use this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/generateTable&quot;)\n    public ExportResult generateTable(@RequestBody MultiValueMap&lt;String, String&gt; formData) {\n</code></pre>\n<p>But when using this approach I need to get the parameters from the formData hashmap and parse them to the appropriate object manually. Is there a way in which this can be done automatically without me checking whether an arguments has been passed and so for the other arguments.\nAlso another approach which I was thinking if it is possible to create a custom object containing all the params from the request and use @RequestBody to parse it automatically?</p>\n<p>Any other approach would be of great help !</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701532391,"creation_date":1701532391,"answer_id":77591071,"question_id":77591007,"body_markdown":"The problem is triggered by `Lombok` `@Data` annotation, because under the hood it use `@ToString` that by default use all fields of `class` to create it. \r\n\r\nThere are 2 possible solutions:\r\n\r\n1.Create your own `toString()` method, `Lombok` will then backoff generating a toString.\r\n\r\n2.Add the `@ToString` annotation and exclude all the lazy and bi-directional fields using `@ToString.Exclude`.\r\nIn your case somethig like next one:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @Data\r\n    @ToString\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n        @Column(name = &quot;username&quot;, length = 50)\r\n        private String username;\r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;user_friends&quot; , joinColumns = @JoinColumn(name = &quot;user_id&quot;) , inverseJoinColumns = @JoinColumn(name = &quot;friend_id&quot;))\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        @ToString.Exclude\r\n        private Set&lt;User&gt; friends = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\nMore deep details about it and other cases you could find [Lombok-Data-Ojects-Arent-Entities][1] a good article by **Marten Deinum**.\r\n\r\n\r\n  [1]: https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/","title":"Fetch type is set to lazy, but it still hibernate sends the second request","body":"<p>The problem is triggered by <code>Lombok</code> <code>@Data</code> annotation, because under the hood it use <code>@ToString</code> that by default use all fields of <code>class</code> to create it.</p>\n<p>There are 2 possible solutions:</p>\n<p>1.Create your own <code>toString()</code> method, <code>Lombok</code> will then backoff generating a toString.</p>\n<p>2.Add the <code>@ToString</code> annotation and exclude all the lazy and bi-directional fields using <code>@ToString.Exclude</code>.\nIn your case somethig like next one:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Data\n@ToString\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    @Column(name = &quot;username&quot;, length = 50)\n    private String username;\n    @Column(name = &quot;email&quot;)\n    private String email;\n    @Column(name = &quot;password&quot;)\n    private String password;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;user_friends&quot; , joinColumns = @JoinColumn(name = &quot;user_id&quot;) , inverseJoinColumns = @JoinColumn(name = &quot;friend_id&quot;))\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @ToString.Exclude\n    private Set&lt;User&gt; friends = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>More deep details about it and other cases you could find <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">Lombok-Data-Ojects-Arent-Entities</a> a good article by <strong>Marten Deinum</strong>.</p>\n"},{"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1701533278,"post_id":77591076,"comment_id":136788699,"body_markdown":"Up vote for suggestion  `DTO` instead of `Entity` in request/response.","body":"Up vote for suggestion  <code>DTO</code> instead of <code>Entity</code> in request/response."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701533012,"creation_date":1701532485,"answer_id":77591076,"question_id":77591007,"body_markdown":"When fetch type for property is `Lazy`, the data is retrieved on demand - when the getter for the property is invoked. `User` is serialized as json when the response is sent, and json libraries normaly to this using the getters - `getFriends()` is invoked reflectively by the underlying library.\r\n\r\nThe solution (and good practice) is to use a `DTO` for response/request, not entities.","title":"Fetch type is set to lazy, but it still hibernate sends the second request","body":"<p>When fetch type for property is <code>Lazy</code>, the data is retrieved on demand - when the getter for the property is invoked. <code>User</code> is serialized as json when the response is sent, and json libraries normaly to this using the getters - <code>getFriends()</code> is invoked reflectively by the underlying library.</p>\n<p>The solution (and good practice) is to use a <code>DTO</code> for response/request, not entities.</p>\n"}],"owner":{"account_id":25415383,"reputation":67,"user_id":19222404,"display_name":"Batuhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77591076,"answer_count":2,"score":1,"last_activity_date":1701533012,"creation_date":1701531340,"question_id":77591007,"body_markdown":"Although fetch type is lazy, hibernate for some reason sends the second request and fetches the lazy one.\r\nI have been dealing with this problem for a few days for some reason I don&#39;t understand. I tried some ways on the internet, but unfortunately I couldn&#39;t fix it, I would be very grateful if you could help me by looking at my code.\r\n\r\n**User Entity**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Data\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n    @Column(name = &quot;username&quot;, length = 50)\r\n    private String username;\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;user_friends&quot; , joinColumns = @JoinColumn(name = &quot;user_id&quot;) , inverseJoinColumns = @JoinColumn(name = &quot;friend_id&quot;))\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Set&lt;User&gt; friends = new HashSet&lt;&gt;();\r\n\r\n}\r\n\r\n```\r\n\r\n**User Service**\r\n\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class UserService implements ICrudService&lt;User&gt; {\r\n    @Autowired\r\n    private UserRepository repository;\r\n\r\n    @Override\r\n    @Transactional\r\n    public List&lt;User&gt; findAll() {\r\n        return repository.findAll();\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public User findById(Long id) throws Exception {\r\n        return repository.findById(id).orElseThrow(() -&gt; new Exception(&quot;Kullanici Bulunamadi&quot;));\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public User create(User user) {\r\n        return repository.save(user);\r\n    }\r\n\r\n    @Override\r\n    public void delete(Long id) {\r\n        repository.deleteById(id);\r\n    }\r\n}\r\n```\r\n\r\n**User Controller**\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public List&lt;User&gt; getUsers(){\r\n        return userService.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/{userId}&quot;)\r\n    public User getUserById(@PathVariable Long userId) throws Exception {\r\n        return userService.findById(userId);\r\n    }\r\n\r\n    @PostMapping\r\n    public User saveUser(@RequestBody User user){\r\n        return userService.create(user);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{userId}&quot;)\r\n    public void deleteUserById(@PathVariable Long userId){\r\n        userService.delete(userId);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI use JpaReository as repository in service\r\n\r\nAnd the output of &quot;/users/all&quot; looks like this\r\n\r\n**Output**\r\n\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;username&quot;: &quot;testUser&quot;,\r\n        &quot;email&quot;: &quot;test@gmail.com&quot;,\r\n        &quot;password&quot;: &quot;verystrongpasword&quot;,\r\n        &quot;friends&quot;: []\r\n    }\r\n]\r\n```\r\n**This is the hibernate sql format**\r\n\r\n```\r\nHibernate: \r\n    select\r\n        u1_0.id,\r\n        u1_0.email,\r\n        u1_0.password,\r\n        u1_0.username \r\n    from\r\n        users u1_0\r\nHibernate: \r\n    select\r\n        f1_0.user_id,\r\n        f1_1.id,\r\n        f1_1.email,\r\n        f1_1.password,\r\n        f1_1.username \r\n    from\r\n        user_friends f1_0 \r\n    join\r\n        users f1_1 \r\n            on f1_1.id=f1_0.friend_id \r\n    where\r\n        f1_0.user_id=?\r\n```\r\n\r\n","title":"Fetch type is set to lazy, but it still hibernate sends the second request","body":"<p>Although fetch type is lazy, hibernate for some reason sends the second request and fetches the lazy one.\nI have been dealing with this problem for a few days for some reason I don't understand. I tried some ways on the internet, but unfortunately I couldn't fix it, I would be very grateful if you could help me by looking at my code.</p>\n<p><strong>User Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Data\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    @Column(name = &quot;username&quot;, length = 50)\n    private String username;\n    @Column(name = &quot;email&quot;)\n    private String email;\n    @Column(name = &quot;password&quot;)\n    private String password;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;user_friends&quot; , joinColumns = @JoinColumn(name = &quot;user_id&quot;) , inverseJoinColumns = @JoinColumn(name = &quot;friend_id&quot;))\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Set&lt;User&gt; friends = new HashSet&lt;&gt;();\n\n}\n\n</code></pre>\n<p><strong>User Service</strong></p>\n<pre><code>@Service\n@Transactional\npublic class UserService implements ICrudService&lt;User&gt; {\n    @Autowired\n    private UserRepository repository;\n\n    @Override\n    @Transactional\n    public List&lt;User&gt; findAll() {\n        return repository.findAll();\n    }\n\n    @Override\n    @Transactional\n    public User findById(Long id) throws Exception {\n        return repository.findById(id).orElseThrow(() -&gt; new Exception(&quot;Kullanici Bulunamadi&quot;));\n    }\n\n    @Override\n    @Transactional\n    public User create(User user) {\n        return repository.save(user);\n    }\n\n    @Override\n    public void delete(Long id) {\n        repository.deleteById(id);\n    }\n}\n</code></pre>\n<p><strong>User Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/all&quot;)\n    public List&lt;User&gt; getUsers(){\n        return userService.findAll();\n    }\n\n    @GetMapping(&quot;/{userId}&quot;)\n    public User getUserById(@PathVariable Long userId) throws Exception {\n        return userService.findById(userId);\n    }\n\n    @PostMapping\n    public User saveUser(@RequestBody User user){\n        return userService.create(user);\n    }\n\n    @DeleteMapping(&quot;/{userId}&quot;)\n    public void deleteUserById(@PathVariable Long userId){\n        userService.delete(userId);\n    }\n}\n\n</code></pre>\n<p>I use JpaReository as repository in service</p>\n<p>And the output of &quot;/users/all&quot; looks like this</p>\n<p><strong>Output</strong></p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;username&quot;: &quot;testUser&quot;,\n        &quot;email&quot;: &quot;test@gmail.com&quot;,\n        &quot;password&quot;: &quot;verystrongpasword&quot;,\n        &quot;friends&quot;: []\n    }\n]\n</code></pre>\n<p><strong>This is the hibernate sql format</strong></p>\n<pre><code>Hibernate: \n    select\n        u1_0.id,\n        u1_0.email,\n        u1_0.password,\n        u1_0.username \n    from\n        users u1_0\nHibernate: \n    select\n        f1_0.user_id,\n        f1_1.id,\n        f1_1.email,\n        f1_1.password,\n        f1_1.username \n    from\n        user_friends f1_0 \n    join\n        users f1_1 \n            on f1_1.id=f1_0.friend_id \n    where\n        f1_0.user_id=?\n</code></pre>\n"},{"tags":["java","spring-boot","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":26809777,"reputation":116,"user_id":20400559,"display_name":"Salvatore Bernardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701532999,"creation_date":1701532999,"answer_id":77591110,"question_id":77590912,"body_markdown":"Core initialization of @Bean in spring-boot is done while creation of `ApplicationContext` into class `org.springframework.boot.SpringApplication` (&quot;run&quot; method) and more specifically into `org.springframework.context.support.AbstractApplicationContext` into method refresh:\r\n\r\nspring-boot 3.2.0:\r\n\r\nrun method:\r\n```java\r\n\tpublic ConfigurableApplicationContext run(String... args) {\r\n\t\tStartup startup = Startup.create();\r\n\t\tif (this.registerShutdownHook) {\r\n\t\t\tSpringApplication.shutdownHook.enableShutdownHookAddition();\r\n\t\t}\r\n\t\tDefaultBootstrapContext bootstrapContext = createBootstrapContext();\r\n\t\tConfigurableApplicationContext context = null;\r\n\t\tconfigureHeadlessProperty();\r\n\t\tSpringApplicationRunListeners listeners = getRunListeners(args);\r\n\t\tlisteners.starting(bootstrapContext, this.mainApplicationClass);\r\n\t\ttry {\r\n\t\t\tApplicationArguments applicationArguments = new DefaultApplicationArguments(args);\r\n\t\t\tConfigurableEnvironment environment = prepareEnvironment(listeners, bootstrapContext, applicationArguments);\r\n\t\t\tBanner printedBanner = printBanner(environment);\r\n\t\t\tcontext = createApplicationContext();\r\n\t\t\tcontext.setApplicationStartup(this.applicationStartup);\r\n\t\t\tprepareContext(bootstrapContext, context, environment, listeners, applicationArguments, printedBanner);\r\n\t\t\trefreshContext(context);\r\n\t\t\tafterRefresh(context, applicationArguments);\r\n\t\t\tstartup.started();\r\n\t\t\tif (this.logStartupInfo) {\r\n\t\t\t\tnew StartupInfoLogger(this.mainApplicationClass).logStarted(getApplicationLog(), startup);\r\n\t\t\t}\r\n\t\t\tlisteners.started(context, startup.timeTakenToStarted());\r\n\t\t\tcallRunners(context, applicationArguments);\r\n\t\t}\r\n\t\tcatch (Throwable ex) {\r\n\t\t\tif (ex instanceof AbandonedRunException) {\r\n\t\t\t\tthrow ex;\r\n\t\t\t}\r\n\t\t\thandleRunFailure(context, ex, listeners);\r\n\t\t\tthrow new IllegalStateException(ex);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tif (context.isRunning()) {\r\n\t\t\t\tlisteners.ready(context, startup.ready());\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Throwable ex) {\r\n\t\t\tif (ex instanceof AbandonedRunException) {\r\n\t\t\t\tthrow ex;\r\n\t\t\t}\r\n\t\t\thandleRunFailure(context, ex, null);\r\n\t\t\tthrow new IllegalStateException(ex);\r\n\t\t}\r\n\t\treturn context;\r\n\t}\r\n```\r\n\r\nrefresh method:\r\n```java\r\n\tpublic void refresh() throws BeansException, IllegalStateException {\r\n\t\tsynchronized (this.startupShutdownMonitor) {\r\n\t\t\tStartupStep contextRefresh = this.applicationStartup.start(&quot;spring.context.refresh&quot;);\r\n\r\n\t\t\t// Prepare this context for refreshing.\r\n\t\t\tprepareRefresh();\r\n\r\n\t\t\t// Tell the subclass to refresh the internal bean factory.\r\n\t\t\tConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();\r\n\r\n\t\t\t// Prepare the bean factory for use in this context.\r\n\t\t\tprepareBeanFactory(beanFactory);\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// Allows post-processing of the bean factory in context subclasses.\r\n\t\t\t\tpostProcessBeanFactory(beanFactory);\r\n\r\n\t\t\t\tStartupStep beanPostProcess = this.applicationStartup.start(&quot;spring.context.beans.post-process&quot;);\r\n\t\t\t\t// Invoke factory processors registered as beans in the context.\r\n\t\t\t\tinvokeBeanFactoryPostProcessors(beanFactory);\r\n\r\n\t\t\t\t// Register bean processors that intercept bean creation.\r\n\t\t\t\tregisterBeanPostProcessors(beanFactory);\r\n\t\t\t\tbeanPostProcess.end();\r\n\r\n\t\t\t\t// Initialize message source for this context.\r\n\t\t\t\tinitMessageSource();\r\n\r\n\t\t\t\t// Initialize event multicaster for this context.\r\n\t\t\t\tinitApplicationEventMulticaster();\r\n\r\n\t\t\t\t// Initialize other special beans in specific context subclasses.\r\n\t\t\t\tonRefresh();\r\n\r\n\t\t\t\t// Check for listener beans and register them.\r\n\t\t\t\tregisterListeners();\r\n\r\n\t\t\t\t// Instantiate all remaining (non-lazy-init) singletons.\r\n\t\t\t\tfinishBeanFactoryInitialization(beanFactory);\r\n\r\n\t\t\t\t// Last step: publish corresponding event.\r\n\t\t\t\tfinishRefresh();\r\n\t\t\t}\r\n\r\n\t\t\tcatch (RuntimeException | Error ex ) {\r\n\t\t\t\tif (logger.isWarnEnabled()) {\r\n\t\t\t\t\tlogger.warn(&quot;Exception encountered during context initialization - &quot; +\r\n\t\t\t\t\t\t\t&quot;cancelling refresh attempt: &quot; + ex);\r\n\t\t\t\t}\r\n\t\t\t\t// Destroy already created singletons to avoid dangling resources.\r\n\t\t\t\tdestroyBeans();\r\n\r\n\t\t\t\t// Reset &#39;active&#39; flag.\r\n\t\t\t\tcancelRefresh(ex);\r\n\r\n\t\t\t\t// Propagate exception to caller.\r\n\t\t\t\tthrow ex;\r\n\t\t\t}\r\n\r\n\t\t\tfinally {\r\n\t\t\t\tcontextRefresh.end();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n","title":"Where does Spring boot application scan the annotations , create beans and inject them","body":"<p>Core initialization of @Bean in spring-boot is done while creation of <code>ApplicationContext</code> into class <code>org.springframework.boot.SpringApplication</code> (&quot;run&quot; method) and more specifically into <code>org.springframework.context.support.AbstractApplicationContext</code> into method refresh:</p>\n<p>spring-boot 3.2.0:</p>\n<p>run method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public ConfigurableApplicationContext run(String... args) {\n        Startup startup = Startup.create();\n        if (this.registerShutdownHook) {\n            SpringApplication.shutdownHook.enableShutdownHookAddition();\n        }\n        DefaultBootstrapContext bootstrapContext = createBootstrapContext();\n        ConfigurableApplicationContext context = null;\n        configureHeadlessProperty();\n        SpringApplicationRunListeners listeners = getRunListeners(args);\n        listeners.starting(bootstrapContext, this.mainApplicationClass);\n        try {\n            ApplicationArguments applicationArguments = new DefaultApplicationArguments(args);\n            ConfigurableEnvironment environment = prepareEnvironment(listeners, bootstrapContext, applicationArguments);\n            Banner printedBanner = printBanner(environment);\n            context = createApplicationContext();\n            context.setApplicationStartup(this.applicationStartup);\n            prepareContext(bootstrapContext, context, environment, listeners, applicationArguments, printedBanner);\n            refreshContext(context);\n            afterRefresh(context, applicationArguments);\n            startup.started();\n            if (this.logStartupInfo) {\n                new StartupInfoLogger(this.mainApplicationClass).logStarted(getApplicationLog(), startup);\n            }\n            listeners.started(context, startup.timeTakenToStarted());\n            callRunners(context, applicationArguments);\n        }\n        catch (Throwable ex) {\n            if (ex instanceof AbandonedRunException) {\n                throw ex;\n            }\n            handleRunFailure(context, ex, listeners);\n            throw new IllegalStateException(ex);\n        }\n        try {\n            if (context.isRunning()) {\n                listeners.ready(context, startup.ready());\n            }\n        }\n        catch (Throwable ex) {\n            if (ex instanceof AbandonedRunException) {\n                throw ex;\n            }\n            handleRunFailure(context, ex, null);\n            throw new IllegalStateException(ex);\n        }\n        return context;\n    }\n</code></pre>\n<p>refresh method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void refresh() throws BeansException, IllegalStateException {\n        synchronized (this.startupShutdownMonitor) {\n            StartupStep contextRefresh = this.applicationStartup.start(&quot;spring.context.refresh&quot;);\n\n            // Prepare this context for refreshing.\n            prepareRefresh();\n\n            // Tell the subclass to refresh the internal bean factory.\n            ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();\n\n            // Prepare the bean factory for use in this context.\n            prepareBeanFactory(beanFactory);\n\n            try {\n                // Allows post-processing of the bean factory in context subclasses.\n                postProcessBeanFactory(beanFactory);\n\n                StartupStep beanPostProcess = this.applicationStartup.start(&quot;spring.context.beans.post-process&quot;);\n                // Invoke factory processors registered as beans in the context.\n                invokeBeanFactoryPostProcessors(beanFactory);\n\n                // Register bean processors that intercept bean creation.\n                registerBeanPostProcessors(beanFactory);\n                beanPostProcess.end();\n\n                // Initialize message source for this context.\n                initMessageSource();\n\n                // Initialize event multicaster for this context.\n                initApplicationEventMulticaster();\n\n                // Initialize other special beans in specific context subclasses.\n                onRefresh();\n\n                // Check for listener beans and register them.\n                registerListeners();\n\n                // Instantiate all remaining (non-lazy-init) singletons.\n                finishBeanFactoryInitialization(beanFactory);\n\n                // Last step: publish corresponding event.\n                finishRefresh();\n            }\n\n            catch (RuntimeException | Error ex ) {\n                if (logger.isWarnEnabled()) {\n                    logger.warn(&quot;Exception encountered during context initialization - &quot; +\n                            &quot;cancelling refresh attempt: &quot; + ex);\n                }\n                // Destroy already created singletons to avoid dangling resources.\n                destroyBeans();\n\n                // Reset 'active' flag.\n                cancelRefresh(ex);\n\n                // Propagate exception to caller.\n                throw ex;\n            }\n\n            finally {\n                contextRefresh.end();\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1701532999,"creation_date":1701529864,"question_id":77590912,"body_markdown":"I wanted to understand as to how spring boot application scan the annotations, create the beans and inject them, so I create a simple spring boot CRUD application. \r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class FullE2eCrudAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(FullE2eCrudAppApplication.class, args);\r\n\t}\r\n}\r\n```\r\nI run it in debug mode, and I possibly &quot;Stepped-into&quot; all the methods calls right from `SpringApplication.run()`. Admittedly, the code is quite complex to &quot;spot&quot; that piece which I am looking for.\r\n\r\nI debugged ample times, but not able to find those spots where it does:\r\n\r\n1. Scan all the annotations (like: @Autowire, @Component, @Service etc.)\r\n2. Create those Beans\r\n3. Inject those beans where-ever they are used (may be by Byte code manipulation, eg. using ASM)\r\n\r\nIs my understanding correct that these steps are actually performed? Any pointers in locating those spots where I see these things happing in real.\r\n\r\n","title":"Where does Spring boot application scan the annotations , create beans and inject them","body":"<p>I wanted to understand as to how spring boot application scan the annotations, create the beans and inject them, so I create a simple spring boot CRUD application.</p>\n<pre><code>@SpringBootApplication\npublic class FullE2eCrudAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FullE2eCrudAppApplication.class, args);\n    }\n}\n</code></pre>\n<p>I run it in debug mode, and I possibly &quot;Stepped-into&quot; all the methods calls right from <code>SpringApplication.run()</code>. Admittedly, the code is quite complex to &quot;spot&quot; that piece which I am looking for.</p>\n<p>I debugged ample times, but not able to find those spots where it does:</p>\n<ol>\n<li>Scan all the annotations (like: @Autowire, @Component, @Service etc.)</li>\n<li>Create those Beans</li>\n<li>Inject those beans where-ever they are used (may be by Byte code manipulation, eg. using ASM)</li>\n</ol>\n<p>Is my understanding correct that these steps are actually performed? Any pointers in locating those spots where I see these things happing in real.</p>\n"},{"tags":["java","arrays","methods","integer","double"],"comments":[{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":2,"creation_date":1701531344,"post_id":77591003,"comment_id":136788512,"body_markdown":"Java is not JavaScript.","body":"Java is not JavaScript."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701533339,"post_id":77591003,"comment_id":136788703,"body_markdown":"In `temps[x]` you try to use a double value `x` as array index - but and array index must be an `int` value. How you can fix it? By declaring `x` as int: `int x;` -- Note that there are other problems like `temps = ctof(x);` where you try to assign the return value of `ctof()` (a `double` value) to a double array `double[] temps`. Not sure what Java should do there: overwrite the whole array with the same value?","body":"In <code>temps[x]</code> you try to use a double value <code>x</code> as array index - but and array index must be an <code>int</code> value. How you can fix it? By declaring <code>x</code> as int: <code>int x;</code> -- Note that there are other problems like <code>temps = ctof(x);</code> where you try to assign the return value of <code>ctof()</code> (a <code>double</code> value) to a double array <code>double[] temps</code>. Not sure what Java should do there: overwrite the whole array with the same value?"}],"owner":{"account_id":29489592,"reputation":1,"user_id":22598816,"display_name":"Andrev Siaulys"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701533098,"answer_count":0,"score":-1,"last_activity_date":1701532458,"creation_date":1701531311,"question_id":77591003,"body_markdown":"I&#39;m currently learning Java and I&#39;ve been assigned a program that would create arrays with 4 methods to convert Celcius to Fahrenheit and vice versa so it would have to use the `main`, `controller`, `ctof` and `ftoc` as the methods. I assigned `temps` as a `double` in the array but it keeps erroring out that it&#39;s a `int` type and I have no clue how to fix it.\r\n\r\n```\r\n    package assignment.brief;\r\nimport java.util.*; //Brings in all possible imports.\r\n\r\npublic class AssignmentBrief \r\n{\r\n\r\n//---------------------------------------------------------------------------------------------------------------------------------------\r\n//Fahrenheit -&gt; celcius / 5 * 9 + 32\r\n//Celcius -&gt;(Fahernheit - 32)/ 9 * 5\r\n    public static void main(String[] args)\r\n    {\r\n      controller(); //Calls the method &quot;controller&quot;\r\n    }\r\n    \r\n//---------------------------------------------------------------------------------------------------------------------------------------\r\n    \r\n    public static void controller()\r\n    {\r\n        double opt;\r\n        Scanner kb = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;ctof = 1, ftoc = 2.&quot;);\r\n        opt = kb.nextDouble();\r\n        double x,y;\r\n        double temps[] = new double[10]; //declare array size 10\r\n        for(x=0;x&lt;10;x++)\r\n\r\n        {\r\n            System.out.print(&quot;Enter the temperatures in Celcius: &quot;);\r\n            temps[x] = kb.nextDouble();\r\n            \r\n        }\r\n        if (opt==1)\r\n        {\r\n            temps = ctof(x);\r\n            System.out.print(x+&quot;Celcius is equal to&quot;+y+&quot;Fahernheit&quot;);\r\n        }\r\n        \r\n        \r\n    }\r\n    public static double ctof(double x, double y){\r\n        y = x / 5 * 9 +32;\r\n        return(x+y);\r\n    }\r\n    \r\n}   \r\n```\r\n","title":"How do I fix &quot;incompatible types :possible lossy conversion from double to int&quot;?","body":"<p>I'm currently learning Java and I've been assigned a program that would create arrays with 4 methods to convert Celcius to Fahrenheit and vice versa so it would have to use the <code>main</code>, <code>controller</code>, <code>ctof</code> and <code>ftoc</code> as the methods. I assigned <code>temps</code> as a <code>double</code> in the array but it keeps erroring out that it's a <code>int</code> type and I have no clue how to fix it.</p>\n<pre><code>    package assignment.brief;\nimport java.util.*; //Brings in all possible imports.\n\npublic class AssignmentBrief \n{\n\n//---------------------------------------------------------------------------------------------------------------------------------------\n//Fahrenheit -&gt; celcius / 5 * 9 + 32\n//Celcius -&gt;(Fahernheit - 32)/ 9 * 5\n    public static void main(String[] args)\n    {\n      controller(); //Calls the method &quot;controller&quot;\n    }\n    \n//---------------------------------------------------------------------------------------------------------------------------------------\n    \n    public static void controller()\n    {\n        double opt;\n        Scanner kb = new Scanner(System.in);\n        \n        System.out.println(&quot;ctof = 1, ftoc = 2.&quot;);\n        opt = kb.nextDouble();\n        double x,y;\n        double temps[] = new double[10]; //declare array size 10\n        for(x=0;x&lt;10;x++)\n\n        {\n            System.out.print(&quot;Enter the temperatures in Celcius: &quot;);\n            temps[x] = kb.nextDouble();\n            \n        }\n        if (opt==1)\n        {\n            temps = ctof(x);\n            System.out.print(x+&quot;Celcius is equal to&quot;+y+&quot;Fahernheit&quot;);\n        }\n        \n        \n    }\n    public static double ctof(double x, double y){\n        y = x / 5 * 9 +32;\n        return(x+y);\n    }\n    \n}   \n</code></pre>\n"},{"tags":["java","debugging","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701531470,"creation_date":1698809120,"answer_id":77400177,"question_id":77240935,"body_markdown":"**Option #1:**\r\n\r\nThe question was resolved thanks to [the colleague&#39;s recommendation][1] in the following manner:\r\n\r\n    public void run() {\r\n        ChromeOptions options = new ChromeOptions();\r\n\r\n        WebDriverManager.chromedriver().browserVersion(&quot;118.0.5993.118&quot;).setup(); \r\n// after changing version from `114.0.5735.90` (in the `C:\\Users\\invzbl3\\.m2\\repository\\webdriver\\chromedriver\\win32` folder)\r\n\r\nto `118.0.5993.118` *manually*.\r\n\r\n\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n        options.addArguments(&quot;--disable-extensions&quot;);\r\n        WebDriverManager.chromedriver().setup();\r\n\r\n        ChromeDriver driver = new ChromeDriver(options);\r\n        driver.get(&quot;https://gearbest.net&quot;);\r\n        WebElement ulElement = driver\r\n                .findElement(By\r\n                        .xpath(&quot;/html/body/div[12]/div/div/div/div[2]/div/ul/li[2]&quot;));\r\n        List&lt;WebElement&gt; liElements = ulElement.findElements(By.tagName(&quot;div&quot;));\r\n\r\n        // class of the whole element\r\n        liElements.forEach(liElement -&gt; {\r\n            //String str = &quot;&quot;;\r\n               /* Element aElement = liElement.select(&quot;a&quot;).first(); // header of element\r\n                String url = aElement.attr(&quot;href&quot;);\r\n                String title = aElement.attr(&quot;title&quot;); // title of element\r\n                Element spanElement = liElement.select(&quot;span&quot;).first();\r\n                String price = spanElement.attr(&quot;data-mall-price&quot;); // price of element*/\r\n                ...            \r\n            });\r\n        }\r\n    }\r\n\r\nwith [dependency][2] accordingly as:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nversions as:\r\n`3.8.1` &amp; `5.3.2` are also suitable per provided requirements.\r\n\r\n**To be noticed:**\r\n\r\nIt works without any problem, but I don&#39;t have this specific version in the folder while setupping it *manually*, for some reason:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSo, if someone finds a way how to setup it *manually* to get updated version of the `Chromedriver` in the folder directly, as well, it would be great.\r\n\r\n\r\n----------\r\n\r\n\r\n**Option #2:**\r\n\r\nCheck the version of the *dependency* &amp; *downgrade* it to lower one, as for instance: from **4**.x.x to **3**.x.x.\r\n\r\nInstead of:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.x.x&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nto:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.x.x&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n----------\r\n*UPD:*\r\n\r\n**To clarify:**\r\n\r\nI suppose it happens due to differences in internal instructions of *different* dependency versions, but what exactly it hards to say, at the current moment.\r\n\r\n  [1]: https://stackoverflow.com/a/35867325/8370915\r\n  [2]: https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager/5.6.0\r\n  [3]: https://i.stack.imgur.com/FXGzg.png","title":"How to unfreeze debugger while using Selenium ChromeDriver?","body":"<p><strong>Option #1:</strong></p>\n<p>The question was resolved thanks to <a href=\"https://stackoverflow.com/a/35867325/8370915\">the colleague's recommendation</a> in the following manner:</p>\n<pre><code>public void run() {\n    ChromeOptions options = new ChromeOptions();\n\n    WebDriverManager.chromedriver().browserVersion(&quot;118.0.5993.118&quot;).setup(); \n</code></pre>\n<p>// after changing version from <code>114.0.5735.90</code> (in the <code>C:\\Users\\invzbl3\\.m2\\repository\\webdriver\\chromedriver\\win32</code> folder)</p>\n<p>to <code>118.0.5993.118</code> <em>manually</em>.</p>\n<pre><code>    options.addArguments(&quot;--headless&quot;);\n    options.addArguments(&quot;--disable-gpu&quot;);\n    options.addArguments(&quot;--disable-extensions&quot;);\n    WebDriverManager.chromedriver().setup();\n\n    ChromeDriver driver = new ChromeDriver(options);\n    driver.get(&quot;https://gearbest.net&quot;);\n    WebElement ulElement = driver\n            .findElement(By\n                    .xpath(&quot;/html/body/div[12]/div/div/div/div[2]/div/ul/li[2]&quot;));\n    List&lt;WebElement&gt; liElements = ulElement.findElements(By.tagName(&quot;div&quot;));\n\n    // class of the whole element\n    liElements.forEach(liElement -&gt; {\n        //String str = &quot;&quot;;\n           /* Element aElement = liElement.select(&quot;a&quot;).first(); // header of element\n            String url = aElement.attr(&quot;href&quot;);\n            String title = aElement.attr(&quot;title&quot;); // title of element\n            Element spanElement = liElement.select(&quot;span&quot;).first();\n            String price = spanElement.attr(&quot;data-mall-price&quot;); // price of element*/\n            ...            \n        });\n    }\n}\n</code></pre>\n<p>with <a href=\"https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager/5.6.0\" rel=\"nofollow noreferrer\">dependency</a> accordingly as:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n    &lt;version&gt;5.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>versions as:\n<code>3.8.1</code> &amp; <code>5.3.2</code> are also suitable per provided requirements.</p>\n<p><strong>To be noticed:</strong></p>\n<p>It works without any problem, but I don't have this specific version in the folder while setupping it <em>manually</em>, for some reason:</p>\n<p><a href=\"https://i.stack.imgur.com/FXGzg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXGzg.png\" alt=\"enter image description here\" /></a></p>\n<p>So, if someone finds a way how to setup it <em>manually</em> to get updated version of the <code>Chromedriver</code> in the folder directly, as well, it would be great.</p>\n<hr />\n<p><strong>Option #2:</strong></p>\n<p>Check the version of the <em>dependency</em> &amp; <em>downgrade</em> it to lower one, as for instance: from <strong>4</strong>.x.x to <strong>3</strong>.x.x.</p>\n<p>Instead of:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.x.x&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.x.x&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<hr />\n<p><em>UPD:</em></p>\n<p><strong>To clarify:</strong></p>\n<p>I suppose it happens due to differences in internal instructions of <em>different</em> dependency versions, but what exactly it hards to say, at the current moment.</p>\n"}],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77400177,"answer_count":1,"score":0,"last_activity_date":1701531470,"creation_date":1696545322,"question_id":77240935,"body_markdown":"Tested on versions as: \r\n\r\n1) Java `11.0.9` (Zulu)\r\n2) Selenium-chrome-driver: \r\n`3.0.0`, `3.0.1`, `3.1.0`, `3.2.0`, `3.3.0`, `3.3.1`, `3.4.0`, `3.5.1`, `3.5.2`, `3.5.3`, `3.6.0`, `3.7.0`, `3.7.1` ... up to `3.141.59`, ... `4.9.0`.\r\n\r\n3) WebDriverManager `3.8.1` &amp; `3.6.2`.\r\n\r\nI&#39;m working with the following snippet of the code as provided below:\r\n\r\n&gt; Some part of code I skipped for representing better view.\r\n\r\n```\r\nimport com.mongodb.client.model.IndexOptions;\r\nimport com.mongodb.client.model.Indexes;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.bson.Document;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport project.DatabaseConnections;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.concurrent.TimeUnit;\r\nimport static com.mongodb.client.model.Filters.*;\r\n\r\npublic class GBFeedReader implements Runnable {\r\n\r\n    public void run() {\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n        options.addArguments(&quot;--disable-extensions&quot;);\r\n        WebDriverManager.chromedriver().setup();\r\n\r\n        ChromeDriver driver = new ChromeDriver(options); // the debugger is freezing after this specific line \r\n        driver.get(&quot;https://gearbest.net&quot;);\r\n        WebElement ulElement = driver\r\n                .findElement(By\r\n                        .xpath(&quot;/html/body/div[12]/div/div/div/div[2]/div/ul/li[2]&quot;));\r\n        List&lt;WebElement&gt; liElements = ulElement.findElements(By.tagName(&quot;div&quot;));\r\n\r\n            // class of the whole element\r\n            liElements.forEach(liElement -&gt; {\r\n                //String str = &quot;&quot;;\r\n               /* Element aElement = liElement.select(&quot;a&quot;).first(); // header of element\r\n                String url = aElement.attr(&quot;href&quot;);\r\n                String title = aElement.attr(&quot;title&quot;); // title of element\r\n                Element spanElement = liElement.select(&quot;span&quot;).first();\r\n                String price = spanElement.attr(&quot;data-mall-price&quot;); // price of element*/\r\n                ...\r\n             });\r\n         }\r\n    }\r\n```\r\n\r\nMy `POM` file is as below:\r\n\r\n[POM file][1]\r\n\r\n**What I have already tried:**\r\n\r\n1. I have tried to comment *fully* block of [tag:google-chrome] options:\r\n\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n        options.addArguments(&quot;--disable-extensions&quot;);\r\n\r\nand re-debugg this code.\r\n\r\n2. I have tried to use versions in `POM` for `Maven` dependency as:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand still the debugger is freezing.\r\n\r\n3. I have tried to go deeply inside business logic of the class `ChromeDriver` and see how it goes under the hood, so what I see is:\r\n\r\nin `DriverService.class` the debugger shows as:\r\n\r\n        public DS build() {\r\n            if (this.port == 0) {\r\n                this.port = PortProber.findFreePort();\r\n            }\r\n\r\n            if (this.exe == null) {\r\n                this.exe = this.findDefaultExecutable();\r\n            }\r\n\r\n            ImmutableList&lt;String&gt; args = this.createArgs(); // args: size = 1\r\n            return this.createDriverService(this.exe, this.port, args, this.environment); // port: 48393 exe: &quot;C:\\Users\\invzbl3\\.m2\\repository\\webdriver\\chromedriver\\win32\\114.0.5735.90\\chromedriver.exe&quot;\r\n        }\r\n\r\n[![enter image description here](https://i.stack.imgur.com/UdgJy.png)](https://i.stack.imgur.com/UdgJy.png)\r\n\r\n4. I have checked similar questions as, for instance:\r\n\r\n[Chrome &#39;paused in debugger&#39; issue][2]  \r\n[Paused in debugger in chrome?][3]\r\n\r\nbut it doesn&#39;t look as my use case or I don&#39;t fully understand how it helps me here.\r\n\r\nAt the same time, my output in the console is as below:\r\n\r\n```\r\n&quot;C:\\Program Files\\Java\\zulu11.43.55-ca-jdk11.0.9.1-win_x64\\bin\\java.exe&quot; -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:62518,suspend=y,server=n -javaagent:C:\\Users\\invzbl3\\AppData\\Local\\JetBrains\\IntelliJIdea2022.3\\captureAgent\\debugger-agent.jar -Dfile.encoding=UTF-8 -classpath &quot;E:\\IdeaProject\\WGIbot\\target\\classes;C:\\Users\\invzbl3\\.m2\\repository\\org\\telegram\\telegrambots\\4.2\\telegrambots-4.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\telegram\\telegrambots-meta\\4.2\\telegrambots-meta-4.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\inject\\guice\\4.2.2\\guice-4.2.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\javax\\inject\\javax.inject\\1\\javax.inject-1.jar;C:\\Users\\invzbl3\\.m2\\repository\\aopalliance\\aopalliance\\1.0\\aopalliance-1.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.9.0\\jackson-annotations-2.9.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\jaxrs\\jackson-jaxrs-json-provider\\2.9.8\\jackson-jaxrs-json-provider-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\jaxrs\\jackson-jaxrs-base\\2.9.8\\jackson-jaxrs-base-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-jaxb-annotations\\2.9.8\\jackson-module-jaxb-annotations-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.9.8\\jackson-databind-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.9.8\\jackson-core-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\media\\jersey-media-json-jackson\\2.25.1\\jersey-media-json-jackson-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\core\\jersey-common\\2.25.1\\jersey-common-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\bundles\\repackaged\\jersey-guava\\2.25.1\\jersey-guava-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\osgi-resource-locator\\1.0.1\\osgi-resource-locator-1.0.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\ext\\jersey-entity-filtering\\2.25.1\\jersey-entity-filtering-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\containers\\jersey-container-grizzly2-http\\2.25.1\\jersey-container-grizzly2-http-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\external\\javax.inject\\2.5.0-b32\\javax.inject-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\grizzly\\grizzly-http-server\\2.3.28\\grizzly-http-server-2.3.28.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\grizzly\\grizzly-http\\2.3.28\\grizzly-http-2.3.28.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\grizzly\\grizzly-framework\\2.3.28\\grizzly-framework-2.3.28.jar;C:\\Users\\invzbl3\\.m2\\repository\\javax\\ws\\rs\\javax.ws.rs-api\\2.0.1\\javax.ws.rs-api-2.0.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\core\\jersey-server\\2.25.1\\jersey-server-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\core\\jersey-client\\2.25.1\\jersey-client-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\media\\jersey-media-jaxb\\2.25.1\\jersey-media-jaxb-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\javax\\annotation\\javax.annotation-api\\1.2\\javax.annotation-api-1.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\hk2-api\\2.5.0-b32\\hk2-api-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\hk2-utils\\2.5.0-b32\\hk2-utils-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\external\\aopalliance-repackaged\\2.5.0-b32\\aopalliance-repackaged-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\hk2-locator\\2.5.0-b32\\hk2-locator-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\javassist\\javassist\\3.20.0-GA\\javassist-3.20.0-GA.jar;C:\\Users\\invzbl3\\.m2\\repository\\javax\\validation\\validation-api\\1.1.0.Final\\validation-api-1.1.0.Final.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\json\\json\\20180813\\json-20180813.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\httpcomponents\\httpclient\\4.5.3\\httpclient-4.5.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\httpcomponents\\httpcore\\4.4.6\\httpcore-4.4.6.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-logging\\commons-logging\\1.2\\commons-logging-1.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-codec\\commons-codec\\1.9\\commons-codec-1.9.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\httpcomponents\\httpmime\\4.5.3\\httpmime-4.5.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-io\\commons-io\\2.5\\commons-io-2.5.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-java\\3.141.59\\selenium-java-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-api\\3.141.59\\selenium-api-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chrome-driver\\3.141.59\\selenium-chrome-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-edge-driver\\3.141.59\\selenium-edge-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-firefox-driver\\3.141.59\\selenium-firefox-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-ie-driver\\3.141.59\\selenium-ie-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-opera-driver\\3.141.59\\selenium-opera-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-remote-driver\\3.141.59\\selenium-remote-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-safari-driver\\3.141.59\\selenium-safari-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-support\\3.141.59\\selenium-support-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.8.15\\byte-buddy-1.8.15.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\commons\\commons-exec\\1.3\\commons-exec-1.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\guava\\guava\\25.0-jre\\guava-25.0-jre.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\1.3.9\\jsr305-1.3.9.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\checkerframework\\checker-compat-qual\\2.0.0\\checker-compat-qual-2.0.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.1.3\\error_prone_annotations-2.1.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.1\\j2objc-annotations-1.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\codehaus\\mojo\\animal-sniffer-annotations\\1.14\\animal-sniffer-annotations-1.14.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\squareup\\okio\\okio\\1.14.0\\okio-1.14.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\io\\github\\bonigarcia\\webdrivermanager\\3.8.1\\webdrivermanager-3.8.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.25\\slf4j-api-1.7.25.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.5\\gson-2.8.5.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\rauschig\\jarchivelib\\1.0.0\\jarchivelib-1.0.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\commons\\commons-compress\\1.18\\commons-compress-1.18.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\slf4j\\slf4j-log4j12\\1.7.5\\slf4j-log4j12-1.7.5.jar;C:\\Users\\invzbl3\\.m2\\repository\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\jsoup\\jsoup\\1.8.3\\jsoup-1.8.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\vdurmont\\emoji-java\\4.0.0\\emoji-java-4.0.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\joda-time\\joda-time\\2.10.1\\joda-time-2.10.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.5\\commons-lang3-3.5.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\mongodb\\mongodb-driver-sync\\3.11.0\\mongodb-driver-sync-3.11.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\mongodb\\bson\\3.11.0\\bson-3.11.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\mongodb\\mongodb-driver-core\\3.11.0\\mongodb-driver-core-3.11.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\squareup\\okhttp3\\okhttp\\3.14.0\\okhttp-3.14.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\telegram\\telegrambots-chat-session-bot\\4.3.1\\telegrambots-chat-session-bot-4.3.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-core\\1.4.0\\shiro-core-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-lang\\1.4.0\\shiro-lang-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-cache\\1.4.0\\shiro-cache-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-crypto-hash\\1.4.0\\shiro-crypto-hash-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-crypto-core\\1.4.0\\shiro-crypto-core-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-crypto-cipher\\1.4.0\\shiro-crypto-cipher-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-config-core\\1.4.0\\shiro-config-core-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-config-ogdl\\1.4.0\\shiro-config-ogdl-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-beanutils\\commons-beanutils\\1.9.3\\commons-beanutils-1.9.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-collections\\commons-collections\\3.2.2\\commons-collections-3.2.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-event\\1.4.0\\shiro-event-1.4.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2.3\\lib\\idea_rt.jar&quot; project.Main\r\nConnected to the target VM, address: &#39;127.0.0.1:62518&#39;, transport: &#39;socket&#39;\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/C:/Users/invzbl3/.m2/repository/com/google/inject/guice/4.2.2/guice-4.2.2.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 33800\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 12359\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nChromeDriver was started successfully.\r\n\r\n```\r\n\r\nPersonally, I&#39;m still looking for any ideas how to solve it, if I find something as a solution, I&#39;ll update this question with own results &amp; attempts, but, as for now, the problem still exists.\r\n\r\nThank you in advance for any helpful recommendations or thoughts.\r\n\r\nI&#39;ll apreciate it, colleagues :)\r\n\r\n\r\n  [1]: https://gist.github.com/invzbl3/05368f91e3a74d59c6558942b125a021#file-pom-java-L66\r\n  [2]: https://stackoverflow.com/q/13013639/8370915\r\n  [3]: https://stackoverflow.com/q/12833514/8370915","title":"How to unfreeze debugger while using Selenium ChromeDriver?","body":"<p>Tested on versions as:</p>\n<ol>\n<li><p>Java <code>11.0.9</code> (Zulu)</p>\n</li>\n<li><p>Selenium-chrome-driver:\n<code>3.0.0</code>, <code>3.0.1</code>, <code>3.1.0</code>, <code>3.2.0</code>, <code>3.3.0</code>, <code>3.3.1</code>, <code>3.4.0</code>, <code>3.5.1</code>, <code>3.5.2</code>, <code>3.5.3</code>, <code>3.6.0</code>, <code>3.7.0</code>, <code>3.7.1</code> ... up to <code>3.141.59</code>, ... <code>4.9.0</code>.</p>\n</li>\n<li><p>WebDriverManager <code>3.8.1</code> &amp; <code>3.6.2</code>.</p>\n</li>\n</ol>\n<p>I'm working with the following snippet of the code as provided below:</p>\n<blockquote>\n<p>Some part of code I skipped for representing better view.</p>\n</blockquote>\n<pre><code>import com.mongodb.client.model.IndexOptions;\nimport com.mongodb.client.model.Indexes;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.bson.Document;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport project.DatabaseConnections;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\nimport static com.mongodb.client.model.Filters.*;\n\npublic class GBFeedReader implements Runnable {\n\n    public void run() {\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n        options.addArguments(&quot;--disable-extensions&quot;);\n        WebDriverManager.chromedriver().setup();\n\n        ChromeDriver driver = new ChromeDriver(options); // the debugger is freezing after this specific line \n        driver.get(&quot;https://gearbest.net&quot;);\n        WebElement ulElement = driver\n                .findElement(By\n                        .xpath(&quot;/html/body/div[12]/div/div/div/div[2]/div/ul/li[2]&quot;));\n        List&lt;WebElement&gt; liElements = ulElement.findElements(By.tagName(&quot;div&quot;));\n\n            // class of the whole element\n            liElements.forEach(liElement -&gt; {\n                //String str = &quot;&quot;;\n               /* Element aElement = liElement.select(&quot;a&quot;).first(); // header of element\n                String url = aElement.attr(&quot;href&quot;);\n                String title = aElement.attr(&quot;title&quot;); // title of element\n                Element spanElement = liElement.select(&quot;span&quot;).first();\n                String price = spanElement.attr(&quot;data-mall-price&quot;); // price of element*/\n                ...\n             });\n         }\n    }\n</code></pre>\n<p>My <code>POM</code> file is as below:</p>\n<p><a href=\"https://gist.github.com/invzbl3/05368f91e3a74d59c6558942b125a021#file-pom-java-L66\" rel=\"nofollow noreferrer\">POM file</a></p>\n<p><strong>What I have already tried:</strong></p>\n<ol>\n<li><p>I have tried to comment <em>fully</em> block of <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> options:</p>\n<pre><code> options.addArguments(&quot;--headless&quot;);\n options.addArguments(&quot;--disable-gpu&quot;);\n options.addArguments(&quot;--disable-extensions&quot;);\n</code></pre>\n</li>\n</ol>\n<p>and re-debugg this code.</p>\n<ol start=\"2\">\n<li><p>I have tried to use versions in <code>POM</code> for <code>Maven</code> dependency as:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n     &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n     &lt;version&gt;3.141.59&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n</ol>\n<p>and:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n        &lt;version&gt;4.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and still the debugger is freezing.</p>\n<ol start=\"3\">\n<li>I have tried to go deeply inside business logic of the class <code>ChromeDriver</code> and see how it goes under the hood, so what I see is:</li>\n</ol>\n<p>in <code>DriverService.class</code> the debugger shows as:</p>\n<pre><code>    public DS build() {\n        if (this.port == 0) {\n            this.port = PortProber.findFreePort();\n        }\n\n        if (this.exe == null) {\n            this.exe = this.findDefaultExecutable();\n        }\n\n        ImmutableList&lt;String&gt; args = this.createArgs(); // args: size = 1\n        return this.createDriverService(this.exe, this.port, args, this.environment); // port: 48393 exe: &quot;C:\\Users\\invzbl3\\.m2\\repository\\webdriver\\chromedriver\\win32\\114.0.5735.90\\chromedriver.exe&quot;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UdgJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdgJy.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>I have checked similar questions as, for instance:</li>\n</ol>\n<p><a href=\"https://stackoverflow.com/q/13013639/8370915\">Chrome 'paused in debugger' issue</a><br />\n<a href=\"https://stackoverflow.com/q/12833514/8370915\">Paused in debugger in chrome?</a></p>\n<p>but it doesn't look as my use case or I don't fully understand how it helps me here.</p>\n<p>At the same time, my output in the console is as below:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\zulu11.43.55-ca-jdk11.0.9.1-win_x64\\bin\\java.exe&quot; -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:62518,suspend=y,server=n -javaagent:C:\\Users\\invzbl3\\AppData\\Local\\JetBrains\\IntelliJIdea2022.3\\captureAgent\\debugger-agent.jar -Dfile.encoding=UTF-8 -classpath &quot;E:\\IdeaProject\\WGIbot\\target\\classes;C:\\Users\\invzbl3\\.m2\\repository\\org\\telegram\\telegrambots\\4.2\\telegrambots-4.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\telegram\\telegrambots-meta\\4.2\\telegrambots-meta-4.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\inject\\guice\\4.2.2\\guice-4.2.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\javax\\inject\\javax.inject\\1\\javax.inject-1.jar;C:\\Users\\invzbl3\\.m2\\repository\\aopalliance\\aopalliance\\1.0\\aopalliance-1.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.9.0\\jackson-annotations-2.9.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\jaxrs\\jackson-jaxrs-json-provider\\2.9.8\\jackson-jaxrs-json-provider-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\jaxrs\\jackson-jaxrs-base\\2.9.8\\jackson-jaxrs-base-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-jaxb-annotations\\2.9.8\\jackson-module-jaxb-annotations-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.9.8\\jackson-databind-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.9.8\\jackson-core-2.9.8.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\media\\jersey-media-json-jackson\\2.25.1\\jersey-media-json-jackson-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\core\\jersey-common\\2.25.1\\jersey-common-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\bundles\\repackaged\\jersey-guava\\2.25.1\\jersey-guava-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\osgi-resource-locator\\1.0.1\\osgi-resource-locator-1.0.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\ext\\jersey-entity-filtering\\2.25.1\\jersey-entity-filtering-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\containers\\jersey-container-grizzly2-http\\2.25.1\\jersey-container-grizzly2-http-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\external\\javax.inject\\2.5.0-b32\\javax.inject-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\grizzly\\grizzly-http-server\\2.3.28\\grizzly-http-server-2.3.28.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\grizzly\\grizzly-http\\2.3.28\\grizzly-http-2.3.28.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\grizzly\\grizzly-framework\\2.3.28\\grizzly-framework-2.3.28.jar;C:\\Users\\invzbl3\\.m2\\repository\\javax\\ws\\rs\\javax.ws.rs-api\\2.0.1\\javax.ws.rs-api-2.0.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\core\\jersey-server\\2.25.1\\jersey-server-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\core\\jersey-client\\2.25.1\\jersey-client-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\jersey\\media\\jersey-media-jaxb\\2.25.1\\jersey-media-jaxb-2.25.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\javax\\annotation\\javax.annotation-api\\1.2\\javax.annotation-api-1.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\hk2-api\\2.5.0-b32\\hk2-api-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\hk2-utils\\2.5.0-b32\\hk2-utils-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\external\\aopalliance-repackaged\\2.5.0-b32\\aopalliance-repackaged-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\glassfish\\hk2\\hk2-locator\\2.5.0-b32\\hk2-locator-2.5.0-b32.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\javassist\\javassist\\3.20.0-GA\\javassist-3.20.0-GA.jar;C:\\Users\\invzbl3\\.m2\\repository\\javax\\validation\\validation-api\\1.1.0.Final\\validation-api-1.1.0.Final.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\json\\json\\20180813\\json-20180813.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\httpcomponents\\httpclient\\4.5.3\\httpclient-4.5.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\httpcomponents\\httpcore\\4.4.6\\httpcore-4.4.6.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-logging\\commons-logging\\1.2\\commons-logging-1.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-codec\\commons-codec\\1.9\\commons-codec-1.9.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\httpcomponents\\httpmime\\4.5.3\\httpmime-4.5.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-io\\commons-io\\2.5\\commons-io-2.5.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-java\\3.141.59\\selenium-java-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-api\\3.141.59\\selenium-api-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chrome-driver\\3.141.59\\selenium-chrome-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-edge-driver\\3.141.59\\selenium-edge-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-firefox-driver\\3.141.59\\selenium-firefox-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-ie-driver\\3.141.59\\selenium-ie-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-opera-driver\\3.141.59\\selenium-opera-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-remote-driver\\3.141.59\\selenium-remote-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-safari-driver\\3.141.59\\selenium-safari-driver-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-support\\3.141.59\\selenium-support-3.141.59.jar;C:\\Users\\invzbl3\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.8.15\\byte-buddy-1.8.15.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\commons\\commons-exec\\1.3\\commons-exec-1.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\guava\\guava\\25.0-jre\\guava-25.0-jre.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\1.3.9\\jsr305-1.3.9.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\checkerframework\\checker-compat-qual\\2.0.0\\checker-compat-qual-2.0.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.1.3\\error_prone_annotations-2.1.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.1\\j2objc-annotations-1.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\codehaus\\mojo\\animal-sniffer-annotations\\1.14\\animal-sniffer-annotations-1.14.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\squareup\\okio\\okio\\1.14.0\\okio-1.14.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\io\\github\\bonigarcia\\webdrivermanager\\3.8.1\\webdrivermanager-3.8.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.25\\slf4j-api-1.7.25.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.5\\gson-2.8.5.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\rauschig\\jarchivelib\\1.0.0\\jarchivelib-1.0.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\commons\\commons-compress\\1.18\\commons-compress-1.18.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\slf4j\\slf4j-log4j12\\1.7.5\\slf4j-log4j12-1.7.5.jar;C:\\Users\\invzbl3\\.m2\\repository\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\jsoup\\jsoup\\1.8.3\\jsoup-1.8.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\vdurmont\\emoji-java\\4.0.0\\emoji-java-4.0.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\joda-time\\joda-time\\2.10.1\\joda-time-2.10.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.5\\commons-lang3-3.5.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\mongodb\\mongodb-driver-sync\\3.11.0\\mongodb-driver-sync-3.11.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\mongodb\\bson\\3.11.0\\bson-3.11.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\mongodb\\mongodb-driver-core\\3.11.0\\mongodb-driver-core-3.11.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\com\\squareup\\okhttp3\\okhttp\\3.14.0\\okhttp-3.14.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\telegram\\telegrambots-chat-session-bot\\4.3.1\\telegrambots-chat-session-bot-4.3.1.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-core\\1.4.0\\shiro-core-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-lang\\1.4.0\\shiro-lang-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-cache\\1.4.0\\shiro-cache-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-crypto-hash\\1.4.0\\shiro-crypto-hash-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-crypto-core\\1.4.0\\shiro-crypto-core-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-crypto-cipher\\1.4.0\\shiro-crypto-cipher-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-config-core\\1.4.0\\shiro-config-core-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-config-ogdl\\1.4.0\\shiro-config-ogdl-1.4.0.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-beanutils\\commons-beanutils\\1.9.3\\commons-beanutils-1.9.3.jar;C:\\Users\\invzbl3\\.m2\\repository\\commons-collections\\commons-collections\\3.2.2\\commons-collections-3.2.2.jar;C:\\Users\\invzbl3\\.m2\\repository\\org\\apache\\shiro\\shiro-event\\1.4.0\\shiro-event-1.4.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2.3\\lib\\idea_rt.jar&quot; project.Main\nConnected to the target VM, address: '127.0.0.1:62518', transport: 'socket'\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/C:/Users/invzbl3/.m2/repository/com/google/inject/guice/4.2.2/guice-4.2.2.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 33800\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 12359\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nChromeDriver was started successfully.\n\n</code></pre>\n<p>Personally, I'm still looking for any ideas how to solve it, if I find something as a solution, I'll update this question with own results &amp; attempts, but, as for now, the problem still exists.</p>\n<p>Thank you in advance for any helpful recommendations or thoughts.</p>\n<p>I'll apreciate it, colleagues :)</p>\n"},{"tags":["java","user-interface","game-development","pong"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701534851,"post_id":77591002,"comment_id":136788895,"body_markdown":"100 pixels of movement seems like a lot to me. Why don&#39;t you display the x/y values of each component every time the draw method is invoked. Using `while (true)` to control the game loop will cause problems. You will be continually trying to update the game. Instead you should be using a `Swing Timer` for animation. Finally you should be using `Key Bindings` not a KeyListener to hanlde KeyEvents.","body":"100 pixels of movement seems like a lot to me. Why don&#39;t you display the x/y values of each component every time the draw method is invoked. Using <code>while (true)</code> to control the game loop will cause problems. You will be continually trying to update the game. Instead you should be using a <code>Swing Timer</code> for animation. Finally you should be using <code>Key Bindings</code> not a KeyListener to hanlde KeyEvents."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1701537820,"post_id":77591002,"comment_id":136789276,"body_markdown":"Please make sure the code you post actually compiles (see [mre]). In this case, it&#39;s missing (among others) the Time class, which I suspect is the source of the problem (are you moving 100px/second or 100px/millisecond?)","body":"Please make sure the code you post actually compiles (see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). In this case, it&#39;s missing (among others) the Time class, which I suspect is the source of the problem (are you moving 100px/second or 100px/millisecond?)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701616448,"post_id":77591002,"comment_id":136795320,"body_markdown":"`g2 = (Graphics2D)this.getGraphics();` ← Remove that line, and remove your private `g2` field.  The correct way to do custom painting is to make a subclass of JPanel and override the `paintComponent` method;  the first line in that method override *must* be `super.paintComponent`.  See https://docs.oracle.com/javase/tutorial/uiswing/painting/ for details.  The Graphics object returned by a component’s getGraphics() method is not meant for drawing in that component;  there is no valid reason to call that method, as far as I know.","body":"<code>g2 = (Graphics2D)this.getGraphics();</code> ← Remove that line, and remove your private <code>g2</code> field.  The correct way to do custom painting is to make a subclass of JPanel and override the <code>paintComponent</code> method;  the first line in that method override <i>must</i> be <code>super.paintComponent</code>.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting</a> for details.  The Graphics object returned by a component’s getGraphics() method is not meant for drawing in that component;  there is no valid reason to call that method, as far as I know."}],"owner":{"account_id":30048492,"reputation":1,"user_id":23027575,"display_name":"Gaby Beckman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701607304,"answer_count":0,"score":-1,"last_activity_date":1701531299,"creation_date":1701531299,"question_id":77591002,"body_markdown":"So I have several classes in my code... Here are a few.\r\n\r\nMy PlayerController class for moving the paddle:\r\n\r\n```\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class PlayerController\r\n{\r\n    public Rect rect;\r\n    public KL keyListener;\r\n\r\n    public PlayerController(Rect rect, KL keyListener)\r\n    {\r\n        this.rect = rect;\r\n        this.keyListener = keyListener;\r\n    }\r\n\r\n    public void update(double dt)\r\n    {\r\n        if(keyListener.isKeyPressed(KeyEvent.VK_DOWN))\r\n        {\r\n            rect.y = rect.y + (100 * dt); //speed is 100 pixels/second, dt stands for delta time\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy Rect class for making the paddles and the ball:\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Color;\r\n\r\npublic class Rect\r\n{\r\n    public double x, y, width, height;\r\n    public Color color;\r\n\r\n    public Rect(double x, double y, double width, double height, Color color) //for making rectangle\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.color = color;\r\n    }\r\n    public void draw(Graphics2D g2)\r\n    {\r\n        g2.setColor(color);\r\n        g2.fill(new Rectangle2D.Double(x, y, width, height));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy KL class for my KeyListener:\r\n\r\n\r\n```\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class KL implements KeyListener\r\n{\r\n    public boolean keyPressed[] = new boolean[128];\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n    keyPressed[e.getKeyCode()] = true;\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        keyPressed[e.getKeyCode()] = false;\r\n    }\r\n\r\n    public boolean isKeyPressed(int keyCode)\r\n    {\r\n        return keyPressed[keyCode]; //returns if the key has been pressed or not\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nand my Window class which has everything in my window:\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class Window extends JFrame implements Runnable\r\n{\r\n    public Graphics2D g2;\r\n    public KL keyListener = new KL();\r\n    public PlayerController playerController;\r\n    Rect playerOne, ai, ball;\r\n\r\n    public Window()\r\n    {\r\n        this.setSize(Constants.SCREEN_WIDTH,Constants.SCREEN_HEIGHT); //sets size to 800 x 600\r\n        this.setTitle(Constants.SCREEN_TITLE); //sets title to &quot;Pong&quot;\r\n        this.setResizable(false); //window cannot be resized\r\n        this.setVisible(true); //the window is visible\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit on close button\r\n        this.addKeyListener(keyListener);\r\n        g2 = (Graphics2D)this.getGraphics(); //gets graphics\r\n\r\n        playerOne = new Rect(Constants.HZ_PADDING, 40, Constants.PADDLE_WIDTH, Constants.PADDLE_HEIGHT, Constants.PADDLE_COLOR);\r\n        playerController = new PlayerController(playerOne, keyListener); //creates new player controller\r\n        ai = new Rect(Constants.SCREEN_WIDTH - Constants.PADDLE_WIDTH - Constants.HZ_PADDING, 40,  Constants.PADDLE_WIDTH, Constants.PADDLE_HEIGHT, Constants.PADDLE_COLOR);\r\n        ball = new Rect(Constants.SCREEN_WIDTH / 2, Constants.SCREEN_HEIGHT / 2,  Constants.BALL_WIDTH, Constants.BALL_HEIGHT, Constants.PADDLE_COLOR);\r\n    }\r\n\r\n    public void update(double dt)\r\n    {\r\n        Image dbImage = createImage(getWidth(), getHeight());\r\n        Graphics dbg = dbImage.getGraphics();\r\n        this.draw(dbg);\r\n        g2.drawImage(dbImage, 0, 0, this);\r\n\r\n        playerController.update(dt);\r\n    }\r\n    public void draw(Graphics g)\r\n    {\r\n        Graphics2D g2 = (Graphics2D)g;\r\n        g2.setColor(Color.BLACK); //sets color to black\r\n        g2.fillRect(0,0, Constants.SCREEN_WIDTH, Constants.SCREEN_HEIGHT); //fills screen with black\r\n        playerOne.draw(g2);\r\n        ball.draw(g2);\r\n        ai.draw(g2);\r\n    }\r\n    public void run() //run method\r\n    {\r\n        double lastFrameTime = 0.0;\r\n        while(true)\r\n        {\r\n            double time = Time.getTime();\r\n            double deltaTime = time - lastFrameTime; //time since last frame\r\n            lastFrameTime = time;\r\n            update(deltaTime);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried fixing the graphics, the PlayerController class, and the Rect class, but nothing seems to be working, and I&#39;m not sure where I&#39;m messing up... ","title":"I&#39;m making Pong in Java and whenever I try to hit the down key, my paddle disappears","body":"<p>So I have several classes in my code... Here are a few.</p>\n<p>My PlayerController class for moving the paddle:</p>\n<pre><code>import java.awt.event.KeyEvent;\n\npublic class PlayerController\n{\n    public Rect rect;\n    public KL keyListener;\n\n    public PlayerController(Rect rect, KL keyListener)\n    {\n        this.rect = rect;\n        this.keyListener = keyListener;\n    }\n\n    public void update(double dt)\n    {\n        if(keyListener.isKeyPressed(KeyEvent.VK_DOWN))\n        {\n            rect.y = rect.y + (100 * dt); //speed is 100 pixels/second, dt stands for delta time\n        }\n    }\n}\n</code></pre>\n<p>My Rect class for making the paddles and the ball:</p>\n<pre><code>import java.awt.*;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.Graphics2D;\nimport java.awt.Color;\n\npublic class Rect\n{\n    public double x, y, width, height;\n    public Color color;\n\n    public Rect(double x, double y, double width, double height, Color color) //for making rectangle\n    {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.color = color;\n    }\n    public void draw(Graphics2D g2)\n    {\n        g2.setColor(color);\n        g2.fill(new Rectangle2D.Double(x, y, width, height));\n    }\n\n}\n\n</code></pre>\n<p>My KL class for my KeyListener:</p>\n<pre><code>import java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class KL implements KeyListener\n{\n    public boolean keyPressed[] = new boolean[128];\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n    keyPressed[e.getKeyCode()] = true;\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        keyPressed[e.getKeyCode()] = false;\n    }\n\n    public boolean isKeyPressed(int keyCode)\n    {\n        return keyPressed[keyCode]; //returns if the key has been pressed or not\n    }\n}\n\n\n</code></pre>\n<p>and my Window class which has everything in my window:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\n\npublic class Window extends JFrame implements Runnable\n{\n    public Graphics2D g2;\n    public KL keyListener = new KL();\n    public PlayerController playerController;\n    Rect playerOne, ai, ball;\n\n    public Window()\n    {\n        this.setSize(Constants.SCREEN_WIDTH,Constants.SCREEN_HEIGHT); //sets size to 800 x 600\n        this.setTitle(Constants.SCREEN_TITLE); //sets title to &quot;Pong&quot;\n        this.setResizable(false); //window cannot be resized\n        this.setVisible(true); //the window is visible\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit on close button\n        this.addKeyListener(keyListener);\n        g2 = (Graphics2D)this.getGraphics(); //gets graphics\n\n        playerOne = new Rect(Constants.HZ_PADDING, 40, Constants.PADDLE_WIDTH, Constants.PADDLE_HEIGHT, Constants.PADDLE_COLOR);\n        playerController = new PlayerController(playerOne, keyListener); //creates new player controller\n        ai = new Rect(Constants.SCREEN_WIDTH - Constants.PADDLE_WIDTH - Constants.HZ_PADDING, 40,  Constants.PADDLE_WIDTH, Constants.PADDLE_HEIGHT, Constants.PADDLE_COLOR);\n        ball = new Rect(Constants.SCREEN_WIDTH / 2, Constants.SCREEN_HEIGHT / 2,  Constants.BALL_WIDTH, Constants.BALL_HEIGHT, Constants.PADDLE_COLOR);\n    }\n\n    public void update(double dt)\n    {\n        Image dbImage = createImage(getWidth(), getHeight());\n        Graphics dbg = dbImage.getGraphics();\n        this.draw(dbg);\n        g2.drawImage(dbImage, 0, 0, this);\n\n        playerController.update(dt);\n    }\n    public void draw(Graphics g)\n    {\n        Graphics2D g2 = (Graphics2D)g;\n        g2.setColor(Color.BLACK); //sets color to black\n        g2.fillRect(0,0, Constants.SCREEN_WIDTH, Constants.SCREEN_HEIGHT); //fills screen with black\n        playerOne.draw(g2);\n        ball.draw(g2);\n        ai.draw(g2);\n    }\n    public void run() //run method\n    {\n        double lastFrameTime = 0.0;\n        while(true)\n        {\n            double time = Time.getTime();\n            double deltaTime = time - lastFrameTime; //time since last frame\n            lastFrameTime = time;\n            update(deltaTime);\n\n        }\n    }\n}\n\n</code></pre>\n<p>I tried fixing the graphics, the PlayerController class, and the Rect class, but nothing seems to be working, and I'm not sure where I'm messing up...</p>\n"},{"tags":["java","ruby","hbase","jruby"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701531024,"post_id":77576305,"comment_id":136788479,"body_markdown":"First thought is you&#39;ve installed Java version that&#39;s incompatible with the hbase shell","body":"First thought is you&#39;ve installed Java version that&#39;s incompatible with the hbase shell"},{"owner":{"account_id":24716605,"reputation":1,"user_id":18606257,"display_name":"Shamir Bhandari"},"score":0,"creation_date":1701623739,"post_id":77576305,"comment_id":136796201,"body_markdown":"I checked that on internet and it shows that the version of hbase i&#39;m using is compatible to the java version.","body":"I checked that on internet and it shows that the version of hbase i&#39;m using is compatible to the java version."}],"owner":{"account_id":24716605,"reputation":1,"user_id":18606257,"display_name":"Shamir Bhandari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701530928,"creation_date":1701325381,"question_id":77576305,"body_markdown":"All my jps are working fine but When I try to run command `./bin/start-hbase.sh` it show errors \r\n\r\nMacBook-Pro hbase-2.5.6 % jps\\\r\n4944 NameNode\\\r\n5024 DataNode\\\r\n5297 NodeManager\\\r\n16306 Jps\\\r\n5219 ResourceManager\\\r\n16100 **HMaster**\\\r\n15324 **HQuorumPeer**\\\r\n5116 SecondaryNameNode\\\r\n16220 **HRegionServer**\r\n\r\nWhen I try to run command `./bin/start-hbase.sh` it show errors like this \r\n\r\n&gt;LoadError: load error: irb/completion -- java.lang.IncompatibleClassChangeError: Implementing class\r\n  require at org/jruby/RubyKernel.java:974\r\n  require at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/rubygems/core_ext/kernel_require.rb:54\r\n   &lt;main&gt; at classpath:/jar-bootstrap.rb:42\r\n\r\nI even tried `./bin/hbase zkclli` and neither it worked. \r\nI need to run my hbase shell ","title":"When i try to run command ./bin/start-hbase.sh it show errors","body":"<p>All my jps are working fine but When I try to run command <code>./bin/start-hbase.sh</code> it show errors</p>\n<p>MacBook-Pro hbase-2.5.6 % jps<br />\n4944 NameNode<br />\n5024 DataNode<br />\n5297 NodeManager<br />\n16306 Jps<br />\n5219 ResourceManager<br />\n16100 <strong>HMaster</strong><br />\n15324 <strong>HQuorumPeer</strong><br />\n5116 SecondaryNameNode<br />\n16220 <strong>HRegionServer</strong></p>\n<p>When I try to run command <code>./bin/start-hbase.sh</code> it show errors like this</p>\n<blockquote>\n<p>LoadError: load error: irb/completion -- java.lang.IncompatibleClassChangeError: Implementing class\nrequire at org/jruby/RubyKernel.java:974\nrequire at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/rubygems/core_ext/kernel_require.rb:54</p>\n</blockquote>\n    at classpath:/jar-bootstrap.rb:42\n<p>I even tried <code>./bin/hbase zkclli</code> and neither it worked.\nI need to run my hbase shell</p>\n"},{"tags":["java","image","debugging","path","jar"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1701455015,"post_id":77587303,"comment_id":136781957,"body_markdown":"Why do have a different behavior when debugging? Doesn&#39;t the same method work in both situations?","body":"Why do have a different behavior when debugging? Doesn&#39;t the same method work in both situations?"},{"owner":{"account_id":2296811,"reputation":1173,"user_id":2018059,"accept_rate":84,"display_name":"rainbow"},"score":0,"creation_date":1701455146,"post_id":77587303,"comment_id":136781980,"body_markdown":"Unfortunatelly it doesn&#39;t. Thats why I ask. Problem is with &#39;path&#39; argument. Or it looks like the problem with &#39;path&#39;:\nResource not found: /data/ico.png\njava.lang.IllegalArgumentException: creating TrayIcon with null Image","body":"Unfortunatelly it doesn&#39;t. Thats why I ask. Problem is with &#39;path&#39; argument. Or it looks like the problem with &#39;path&#39;: Resource not found: /data/ico.png java.lang.IllegalArgumentException: creating TrayIcon with null Image"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1701457158,"post_id":77587303,"comment_id":136782274,"body_markdown":"That&#39;s the problem you should be trying to resolve. Is the `data` directory in the root folder? How is it added to the jar? Are you using Maven or Gradle to build the application?","body":"That&#39;s the problem you should be trying to resolve. Is the <code>data</code> directory in the root folder? How is it added to the jar? Are you using Maven or Gradle to build the application?"},{"owner":{"account_id":2296811,"reputation":1173,"user_id":2018059,"accept_rate":84,"display_name":"rainbow"},"score":0,"creation_date":1701458207,"post_id":77587303,"comment_id":136782431,"body_markdown":"Yes. `data\\ico.png` in projesct is in root folder. I use Ant script to build jar: `&lt;zipfileset dir=&quot;${WORKSPACE_DIR}\\${PROJECT_NAME}\\data&quot; includes=&quot;**/*.png&quot; prefix=&quot;data&quot; /&gt;`.\nCan you explain what is the point to analyse jar itself? This is the part that works. Maybe more important is how `getClass().getResource(path)` works? What is are the roots for different cases? But of course I am open to all suggestions.","body":"Yes. <code>data\\ico.png</code> in projesct is in root folder. I use Ant script to build jar: <code>&lt;zipfileset dir=&quot;${WORKSPACE_DIR}\\${PROJECT_NAME}\\data&quot; includes=&quot;**&#47;*.png&quot; prefix=&quot;data&quot; &#47;&gt;</code>. Can you explain what is the point to analyse jar itself? This is the part that works. Maybe more important is how <code>getClass().getResource(path)</code> works? What is are the roots for different cases? But of course I am open to all suggestions."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1701459681,"post_id":77587303,"comment_id":136782643,"body_markdown":"Does this answer your question? [Java: getResource image, cannot be found.](https://stackoverflow.com/questions/48299812/java-getresource-image-cannot-be-found)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48299812/java-getresource-image-cannot-be-found\">Java: getResource image, cannot be found.</a>"},{"owner":{"account_id":2296811,"reputation":1173,"user_id":2018059,"accept_rate":84,"display_name":"rainbow"},"score":0,"creation_date":1701462694,"post_id":77587303,"comment_id":136783062,"body_markdown":"Very good link and on first look it should help but... no. I use Eclipse as an IDE and I&#39;ve added `data` dir to `Debug Configuration-&gt;Dependencies-&gt;Classpath Entries-&gt;Advanced (button to the right)-&gt;Add Folders` but nothing changed.","body":"Very good link and on first look it should help but... no. I use Eclipse as an IDE and I&#39;ve added <code>data</code> dir to <code>Debug Configuration-&gt;Dependencies-&gt;Classpath Entries-&gt;Advanced (button to the right)-&gt;Add Folders</code> but nothing changed."}],"answers":[{"comments":[{"owner":{"account_id":2296811,"reputation":1173,"user_id":2018059,"accept_rate":84,"display_name":"rainbow"},"score":0,"creation_date":1701528010,"post_id":77588126,"comment_id":136788159,"body_markdown":"I figured out the proper path for my structure is `../../../../data/ico.png`. In this configuration `ico.png` for `MyClass.class.getResource()` which is located in a.b.gui.MyClass is loaded properly. I also noticed that directory which is searched is `bin` not `src`! This important info because during launching in debug mode for Eclipse root folder is not a project folder but `bin`.","body":"I figured out the proper path for my structure is <code>..&#47;..&#47;..&#47;..&#47;data&#47;ico.png</code>. In this configuration <code>ico.png</code> for <code>MyClass.class.getResource()</code> which is located in a.b.gui.MyClass is loaded properly. I also noticed that directory which is searched is <code>bin</code> not <code>src</code>! This important info because during launching in debug mode for Eclipse root folder is not a project folder but <code>bin</code>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1701529404,"post_id":77588126,"comment_id":136788300,"body_markdown":"It sounds like just `/data/ico.png` is going to be a heck of a lot easier to work with. If the only point of `../../../..` is to get back to the root, just `/` does that. Of course `bin` is searched - `src` is not available at runtime (at least, not always - surely you intend for your app to be runnable without also shipping the entire source dir). I apologize for not mentioning this; I thought it was assumed.","body":"It sounds like just <code>&#47;data&#47;ico.png</code> is going to be a heck of a lot easier to work with. If the only point of <code>..&#47;..&#47;..&#47;..</code> is to get back to the root, just <code>&#47;</code> does that. Of course <code>bin</code> is searched - <code>src</code> is not available at runtime (at least, not always - surely you intend for your app to be runnable without also shipping the entire source dir). I apologize for not mentioning this; I thought it was assumed."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701529461,"post_id":77588126,"comment_id":136788305,"body_markdown":"Things make a lot more sense if you consider that your java app&#39;s &quot;how is it actually executed&quot; profile also needs to &#39;make sense&#39; if your app is all bundled up and shipped to another system, i.e. - it is a jar file. And the `bin` dir is exactly the contents of the jar file your app will turn into when you distribute it, just, not packed up yet because that&#39;d be a waste of resources to do during development.","body":"Things make a lot more sense if you consider that your java app&#39;s &quot;how is it actually executed&quot; profile also needs to &#39;make sense&#39; if your app is all bundled up and shipped to another system, i.e. - it is a jar file. And the <code>bin</code> dir is exactly the contents of the jar file your app will turn into when you distribute it, just, not packed up yet because that&#39;d be a waste of resources to do during development."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1701529515,"post_id":77588126,"comment_id":136788310,"body_markdown":"Hence, when running in eclipse, that `bin` dir is the &#39;root&#39;. When running as a jar, the jar is the root. And so on. Here&#39;s a useful tip: `System.out.println(SomeClass.class.getResource(&quot;SomeClass.class&quot;));` works __everywhere__ for _any class_ (except inner classes), and tells you exactly where getResource is looking.","body":"Hence, when running in eclipse, that <code>bin</code> dir is the &#39;root&#39;. When running as a jar, the jar is the root. And so on. Here&#39;s a useful tip: <code>System.out.println(SomeClass.class.getResource(&quot;SomeClass.cl&zwnj;&#8203;ass&quot;));</code> works <b>everywhere</b> for <i>any class</i> (except inner classes), and tells you exactly where getResource is looking."},{"owner":{"account_id":2296811,"reputation":1173,"user_id":2018059,"accept_rate":84,"display_name":"rainbow"},"score":0,"creation_date":1701531294,"post_id":77588126,"comment_id":136788506,"body_markdown":"Is there any way to cheat IDE and replace real directory in `bin` with a shortcut? When I try to do this (under Win10) as a shoutcut I recieve `data.lnk` which is not a `data` and process fails. I suppose under Ubuntu `ls -s ...` would solve the problem but this is not an Ubuntu.","body":"Is there any way to cheat IDE and replace real directory in <code>bin</code> with a shortcut? When I try to do this (under Win10) as a shoutcut I recieve <code>data.lnk</code> which is not a <code>data</code> and process fails. I suppose under Ubuntu <code>ls -s ...</code> would solve the problem but this is not an Ubuntu."},{"owner":{"account_id":2296811,"reputation":1173,"user_id":2018059,"accept_rate":84,"display_name":"rainbow"},"score":0,"creation_date":1701532264,"post_id":77588126,"comment_id":136788596,"body_markdown":"I figured it out. when in `bin` type `mklink /d &quot;data&quot; &quot;..\\data&quot;`","body":"I figured it out. when in <code>bin</code> type <code>mklink &#47;d &quot;data&quot; &quot;..\\data&quot;</code>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701532268,"post_id":77588126,"comment_id":136788597,"body_markdown":"No; `bin` is eclipse&#39;s scratch dir. You have an X/Y problem.  You have some unstated problem X and decided that solution Y (&quot;let me replace `bin` with a shortcut!&quot;) is the answer, and are now asking questions about Y. But Y is highly unlikely to be the right answer to whatever X is.","body":"No; <code>bin</code> is eclipse&#39;s scratch dir. You have an X/Y problem.  You have some unstated problem X and decided that solution Y (&quot;let me replace <code>bin</code> with a shortcut!&quot;) is the answer, and are now asking questions about Y. But Y is highly unlikely to be the right answer to whatever X is."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701532346,"post_id":77588126,"comment_id":136788606,"body_markdown":"For example, if you do &#39;full project clean&#39;, eclipse __will wipe that entire dir__, and your shortcut will go right along with it. Eclipse has an ability to set up dirs as source dirs (and &#39;compiles&#39; non java files in source dirs by copying them over), and has an ability to link dirs, which is like shortcuts. That&#39;s possibly what you want here. What you just did is going to lead to lots of pain later.","body":"For example, if you do &#39;full project clean&#39;, eclipse <b>will wipe that entire dir</b>, and your shortcut will go right along with it. Eclipse has an ability to set up dirs as source dirs (and &#39;compiles&#39; non java files in source dirs by copying them over), and has an ability to link dirs, which is like shortcuts. That&#39;s possibly what you want here. What you just did is going to lead to lots of pain later."},{"owner":{"account_id":2296811,"reputation":1173,"user_id":2018059,"accept_rate":84,"display_name":"rainbow"},"score":0,"creation_date":1701533011,"post_id":77588126,"comment_id":136788671,"body_markdown":"Yes, this is exactly what I want to do, unfortunatelly when I try to add `data` to the build path (in tab Source or Libraries) it gives me nothing. I just tried to clean the whole project and I see that indeed package path had been recreated but `data` shortcut stayed intact.","body":"Yes, this is exactly what I want to do, unfortunatelly when I try to add <code>data</code> to the build path (in tab Source or Libraries) it gives me nothing. I just tried to clean the whole project and I see that indeed package path had been recreated but <code>data</code> shortcut stayed intact."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701465569,"creation_date":1701465569,"answer_id":77588126,"question_id":77587303,"body_markdown":"`..` - no. However, `getResource` allows you to start off with a slash which means the resource is looked for relative to the _root_ of that classpath entry. For example, if you have in a jar this structure:\r\n\r\n```\r\nmypkg/MyClass.class\r\nmypkg/icons/icon1.png\r\nlogos/logo1.png\r\n```\r\n\r\n(i.e. that is what you see when you run `jar tvf myjar.jar`), then you can access all of that:\r\n\r\n```\r\nMyClass.class.getResource(&quot;icons/icon1.png&quot;);\r\nMyClass.class.getResource(&quot;/mypkg/icons/icon1.png&quot;);\r\nMyClass.class.getResource(&quot;/mypkg/logos/logo1.png&quot;);\r\n```\r\n\r\nA few notes:\r\n\r\n* `getClass().getResource()` is wrong. `MyClass.class.getResource()` is correct. `getClass()` breaks when you subclass. Even if _you_ don&#39;t, it&#39;s not good to write fragile code.\r\n* You do not ever use backslashes here. That&#39;s a windows thing and thus irrelevant - (even if you run your java app on windows, you&#39;d use forward slashes. The thing you pass to getResource is a resource identifier, not a path. It&#39;s the same reason `..` is not okay in there).\r\n","title":"Path for getClass().getResource(path) in debug mode","body":"<p><code>..</code> - no. However, <code>getResource</code> allows you to start off with a slash which means the resource is looked for relative to the <em>root</em> of that classpath entry. For example, if you have in a jar this structure:</p>\n<pre><code>mypkg/MyClass.class\nmypkg/icons/icon1.png\nlogos/logo1.png\n</code></pre>\n<p>(i.e. that is what you see when you run <code>jar tvf myjar.jar</code>), then you can access all of that:</p>\n<pre><code>MyClass.class.getResource(&quot;icons/icon1.png&quot;);\nMyClass.class.getResource(&quot;/mypkg/icons/icon1.png&quot;);\nMyClass.class.getResource(&quot;/mypkg/logos/logo1.png&quot;);\n</code></pre>\n<p>A few notes:</p>\n<ul>\n<li><code>getClass().getResource()</code> is wrong. <code>MyClass.class.getResource()</code> is correct. <code>getClass()</code> breaks when you subclass. Even if <em>you</em> don't, it's not good to write fragile code.</li>\n<li>You do not ever use backslashes here. That's a windows thing and thus irrelevant - (even if you run your java app on windows, you'd use forward slashes. The thing you pass to getResource is a resource identifier, not a path. It's the same reason <code>..</code> is not okay in there).</li>\n</ul>\n"}],"owner":{"account_id":2296811,"reputation":1173,"user_id":2018059,"accept_rate":84,"display_name":"rainbow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77588126,"answer_count":1,"score":0,"last_activity_date":1701530722,"creation_date":1701454672,"question_id":77587303,"body_markdown":"I have such piece of code\r\n\r\n\tprivate Image createImage(String path)\r\n\t{\r\n\t\tURL imageURL = getClass().getResource(path);\r\n\r\n\t\tif (imageURL == null)\r\n\t\t{\r\n\t\t\tSystem.err.println(&quot;Resource not found: &quot; + path);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn (new ImageIcon(imageURL)).getImage();\r\n\t\t}\r\n\t}\r\n\r\nWhen I run app using jar file, the path for `getResource()` is set to `/data/ico.png` and because inside the jar `ico.png` file located in `app.jar/data/ico.png` everything is OK and image is created.&lt;br&gt;\r\nHowever when I try to debug it with IDE I pass an argument to app `isdebug` based on I change the path to `..\\\\..\\\\..\\\\data\\\\ico.png`. As a result I don&#39;t find `ico.png`.&lt;br&gt;\r\nCan I even use `getResource()` in this way or I just miss the png file?&lt;br&gt;\r\nOr maybe there is some common and better way to do such things like pathes in jar/debug modes?&lt;br&gt;\r\nDir structure is\r\n\r\n    src.packageA.packageB.MainClass.java\r\nand ico.png is located inside\r\n\r\n    data\\ico.png\r\n===solution===&lt;br&gt;\r\nI figured out the proper path for my structure is `../../../data/ico.png` (or shortly `/data/ico.png`). In this configuration `data/ico.png` for `MyClass.class.getResource()` has to be located in `bin`.&lt;br&gt;\r\nThis is important info because during launching in debug mode for Eclipse root folder is not a project one but `bin`.","title":"Path for getClass().getResource(path) in debug mode","body":"<p>I have such piece of code</p>\n<pre><code>private Image createImage(String path)\n{\n    URL imageURL = getClass().getResource(path);\n\n    if (imageURL == null)\n    {\n        System.err.println(&quot;Resource not found: &quot; + path);\n        return null;\n    }\n    else\n    {\n        return (new ImageIcon(imageURL)).getImage();\n    }\n}\n</code></pre>\n<p>When I run app using jar file, the path for <code>getResource()</code> is set to <code>/data/ico.png</code> and because inside the jar <code>ico.png</code> file located in <code>app.jar/data/ico.png</code> everything is OK and image is created.<br>\nHowever when I try to debug it with IDE I pass an argument to app <code>isdebug</code> based on I change the path to <code>..\\\\..\\\\..\\\\data\\\\ico.png</code>. As a result I don't find <code>ico.png</code>.<br>\nCan I even use <code>getResource()</code> in this way or I just miss the png file?<br>\nOr maybe there is some common and better way to do such things like pathes in jar/debug modes?<br>\nDir structure is</p>\n<pre><code>src.packageA.packageB.MainClass.java\n</code></pre>\n<p>and ico.png is located inside</p>\n<pre><code>data\\ico.png\n</code></pre>\n<p>===solution===<br>\nI figured out the proper path for my structure is <code>../../../data/ico.png</code> (or shortly <code>/data/ico.png</code>). In this configuration <code>data/ico.png</code> for <code>MyClass.class.getResource()</code> has to be located in <code>bin</code>.<br>\nThis is important info because during launching in debug mode for Eclipse root folder is not a project one but <code>bin</code>.</p>\n"},{"tags":["java","set"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1701294733,"post_id":77574652,"comment_id":136759516,"body_markdown":"Looks reasonable to me. Is there a problem with your code?","body":"Looks reasonable to me. Is there a problem with your code?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701295153,"post_id":77574652,"comment_id":136759569,"body_markdown":"That looks like the best approach.","body":"That looks like the best approach."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701295492,"post_id":77574652,"comment_id":136759609,"body_markdown":"If the code works, the question might be more on-topic  at [Code Review](https://codereview.stackexchange.com/)","body":"If the code works, the question might be more on-topic  at <a href=\"https://codereview.stackexchange.com/\">Code Review</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1701295566,"post_id":77574652,"comment_id":136759615,"body_markdown":"I suggest re-wording the first sentence of your second paragraph. Some folks here over-react to the phrase &quot;best way&quot;, confusing that with the prohibition here on overly-opinionated open-ended questions.","body":"I suggest re-wording the first sentence of your second paragraph. Some folks here over-react to the phrase &quot;best way&quot;, confusing that with the prohibition here on overly-opinionated open-ended questions."},{"owner":{"account_id":7170474,"reputation":119,"user_id":13461781,"display_name":"Anthony Khodanian"},"score":0,"creation_date":1701297995,"post_id":77574652,"comment_id":136759918,"body_markdown":"I have reworded my second paragraph to be clearer as to what exactly I would like to know. I am just doubtful that the approach given here is the simplest way to go about it.","body":"I have reworded my second paragraph to be clearer as to what exactly I would like to know. I am just doubtful that the approach given here is the simplest way to go about it."},{"owner":{"account_id":11728572,"reputation":2618,"user_id":8584929,"display_name":"Andrej Podzimek"},"score":0,"creation_date":1701298304,"post_id":77574652,"comment_id":136759947,"body_markdown":"Off-topic side note: For the intersection I would perhaps sort the maps by size and start intersecting from the smallest one(s).","body":"Off-topic side note: For the intersection I would perhaps sort the maps by size and start intersecting from the smallest one(s)."}],"answers":[{"comments":[{"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"score":0,"creation_date":1701530065,"post_id":77574920,"comment_id":136788362,"body_markdown":"if you return  a Collection&lt;Object&gt; instead you can return: ```result.add(partitioned.get(false));``` as the third result and you will know how many maps contain each key.","body":"if you return  a Collection&lt;Object&gt; instead you can return: <code>result.add(partitioned.get(false));</code> as the third result and you will know how many maps contain each key."}],"tags":[],"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701530317,"creation_date":1701298566,"answer_id":77574920,"question_id":77574652,"body_markdown":"if by elegant you mean stream based, maybe try with this:\r\n\r\n 1. output = a TreeMap with keys and their counts.\r\n 2. union = the map keyset\r\n 3. intersection = all entries with value = maps.size()\r\n 4. different = all entries with value &lt; maps.size()\r\n\r\n```    \r\n    List&lt;Map&lt;String, String&gt;&gt; maps = new ArrayList&lt;&gt;();\r\n    // Fill maps and after:\r\n    Integer mapCount = maps.size();\r\n    Map&lt;String, Integer&gt; output = maps.stream().flatMap(m -&gt; m.keySet().stream())\r\n        .collect(Collectors.toMap(e -&gt; e, e -&gt; 1, (a, b) -&gt; a + 1, TreeMap::new));\r\n    // Union\r\n    Collection&lt;String&gt; union = output.keySet();\r\n    // Intersection value = mapCount\r\n    Collection&lt;String&gt; intersection = output.entrySet().stream().filter(e -&gt; mapCount.equals(e.getValue()))\r\n        .map(e -&gt; e.getKey()).collect(Collectors.toList());\r\n    // Difference value != mapCount\r\n    Collection&lt;String&gt; different = output.entrySet().stream().filter(e -&gt; !mapCount.equals(e.getValue()))\r\n        .map(e -&gt; e.getKey()).collect(Collectors.toList());\r\n```\r\n\r\nhere is a sample run:\r\n```\r\nMapSample.main()\r\nMapSample.mapper()\r\n# # # Map 01:\r\n{p={}, q={}, g={}, h={}, y={}, z={}, m={}, o={}}\r\n# # # Map 02:\r\n{b={}, d={}, f={}, g={}, h={}, k={}, l={}, m={}, o={}, p={}, q={}, r={}, s={}, t={}, u={}, v={}, y={}, z={}}\r\n# # # Map 03:\r\n{b={}, c={}, d={}, e={}, h={}, i={}, k={}, n={}, r={}, s={}, t={}, u={}, v={}, w={}}\r\n{b=2, c=1, d=2, e=1, f=1, g=2, h=3, i=1, k=2, l=1, m=2, n=1, o=2, p=2, q=2, r=2, s=2, t=2, u=2, v=2, w=1, y=2, z=2}\r\n[b, c, d, e, f, g, h, i, k, l, m, n, o, p, q, r, s, t, u, v, w, y, z]\r\n[h]\r\n[b, c, d, e, f, g, i, k, l, m, n, o, p, q, r, s, t, u, v, w, y, z]\r\n```\r\n\r\n**Update:**\r\nthis problem is very interesting to me, so I coded a generic function to compute the union, intersection and differences (handles nulls):\r\n```\r\n  private static &lt;K, V&gt; Collection&lt;Collection&lt;K&gt;&gt; processMaps(Collection&lt;Map&lt;K, V&gt;&gt; maps) {\r\n    Collection&lt;Map&lt;K, V&gt;&gt; mapCollection = Optional.ofNullable(maps).orElseGet(Collections::emptyList);\r\n    Map&lt;K, Integer&gt; keyCount = mapCollection.stream()\r\n        .map(e -&gt; Optional.ofNullable(e).orElseGet(Collections::emptyMap))\r\n        .flatMap(m -&gt; m.keySet().stream())\r\n        .collect(Collectors.toMap(e -&gt; e, e -&gt; 1, (a, b) -&gt; a + 1, TreeMap::new));\r\n    Map&lt;Boolean, List&lt;Entry&lt;K, Integer&gt;&gt;&gt; partitioned = keyCount.entrySet().stream()\r\n        .collect(Collectors.partitioningBy(e -&gt; e.getValue() == mapCollection.size()));\r\n    Collection&lt;Collection&lt;K&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    // union\r\n    result.add(keyCount.keySet());\r\n    // intersection\r\n    result.add(partitioned.get(true).stream().map(e -&gt; e.getKey()).collect(Collectors.toList()));\r\n    // differences\r\n    result.add(partitioned.get(false).stream().map(e -&gt; e.getKey()).collect(Collectors.toList()));\r\n    return result;\r\n  }\r\n```\r\nthis is the result of a test run, values in maps are ignored, this only processes the keys:\r\n```\r\nMapSample02.main()\r\nMapSample02.computeTestData()\r\nmaps:4\r\nmap\r\n{a=2, c=2, d=5, e=2, f=1, h=2, i=3, k=1, l=2, m=4, n=2, o=2, p=1, q=4, r=2, s=2, t=4, u=4, v=3, x=3, y=1, z=2}\r\nmap\r\n{a=2, c=3, d=1, f=2, g=2, j=1, l=1, m=1, n=1, o=2, p=3, u=1, v=3, w=2, x=3, y=2}\r\nmap\r\n{a=1, b=1, c=1, d=1, e=1, f=1, g=3, h=1, i=1, k=1, n=3, o=1, p=2, q=3, r=1, s=1, t=3, u=2, v=2, w=2, x=1, y=1}\r\nmap\r\n{a=4, c=4, d=4, e=1, f=7, g=4, h=3, i=2, j=4, k=2, l=3, n=2, o=2, p=6, q=1, r=2, s=1, v=1, w=3, x=3, y=3, z=2}\r\nunion, intersection, differences:\r\n[[a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z], [a, c, d, f, n, o, p, v, x, y], [b, e, g, h, i, j, k, l, m, q, r, s, t, u, w, z]]\r\n```","title":"Find the union and intersection of a collection of maps?","body":"<p>if by elegant you mean stream based, maybe try with this:</p>\n<ol>\n<li>output = a TreeMap with keys and their counts.</li>\n<li>union = the map keyset</li>\n<li>intersection = all entries with value = maps.size()</li>\n<li>different = all entries with value &lt; maps.size()</li>\n</ol>\n<pre><code>    List&lt;Map&lt;String, String&gt;&gt; maps = new ArrayList&lt;&gt;();\n    // Fill maps and after:\n    Integer mapCount = maps.size();\n    Map&lt;String, Integer&gt; output = maps.stream().flatMap(m -&gt; m.keySet().stream())\n        .collect(Collectors.toMap(e -&gt; e, e -&gt; 1, (a, b) -&gt; a + 1, TreeMap::new));\n    // Union\n    Collection&lt;String&gt; union = output.keySet();\n    // Intersection value = mapCount\n    Collection&lt;String&gt; intersection = output.entrySet().stream().filter(e -&gt; mapCount.equals(e.getValue()))\n        .map(e -&gt; e.getKey()).collect(Collectors.toList());\n    // Difference value != mapCount\n    Collection&lt;String&gt; different = output.entrySet().stream().filter(e -&gt; !mapCount.equals(e.getValue()))\n        .map(e -&gt; e.getKey()).collect(Collectors.toList());\n</code></pre>\n<p>here is a sample run:</p>\n<pre><code>MapSample.main()\nMapSample.mapper()\n# # # Map 01:\n{p={}, q={}, g={}, h={}, y={}, z={}, m={}, o={}}\n# # # Map 02:\n{b={}, d={}, f={}, g={}, h={}, k={}, l={}, m={}, o={}, p={}, q={}, r={}, s={}, t={}, u={}, v={}, y={}, z={}}\n# # # Map 03:\n{b={}, c={}, d={}, e={}, h={}, i={}, k={}, n={}, r={}, s={}, t={}, u={}, v={}, w={}}\n{b=2, c=1, d=2, e=1, f=1, g=2, h=3, i=1, k=2, l=1, m=2, n=1, o=2, p=2, q=2, r=2, s=2, t=2, u=2, v=2, w=1, y=2, z=2}\n[b, c, d, e, f, g, h, i, k, l, m, n, o, p, q, r, s, t, u, v, w, y, z]\n[h]\n[b, c, d, e, f, g, i, k, l, m, n, o, p, q, r, s, t, u, v, w, y, z]\n</code></pre>\n<p><strong>Update:</strong>\nthis problem is very interesting to me, so I coded a generic function to compute the union, intersection and differences (handles nulls):</p>\n<pre><code>  private static &lt;K, V&gt; Collection&lt;Collection&lt;K&gt;&gt; processMaps(Collection&lt;Map&lt;K, V&gt;&gt; maps) {\n    Collection&lt;Map&lt;K, V&gt;&gt; mapCollection = Optional.ofNullable(maps).orElseGet(Collections::emptyList);\n    Map&lt;K, Integer&gt; keyCount = mapCollection.stream()\n        .map(e -&gt; Optional.ofNullable(e).orElseGet(Collections::emptyMap))\n        .flatMap(m -&gt; m.keySet().stream())\n        .collect(Collectors.toMap(e -&gt; e, e -&gt; 1, (a, b) -&gt; a + 1, TreeMap::new));\n    Map&lt;Boolean, List&lt;Entry&lt;K, Integer&gt;&gt;&gt; partitioned = keyCount.entrySet().stream()\n        .collect(Collectors.partitioningBy(e -&gt; e.getValue() == mapCollection.size()));\n    Collection&lt;Collection&lt;K&gt;&gt; result = new ArrayList&lt;&gt;();\n    // union\n    result.add(keyCount.keySet());\n    // intersection\n    result.add(partitioned.get(true).stream().map(e -&gt; e.getKey()).collect(Collectors.toList()));\n    // differences\n    result.add(partitioned.get(false).stream().map(e -&gt; e.getKey()).collect(Collectors.toList()));\n    return result;\n  }\n</code></pre>\n<p>this is the result of a test run, values in maps are ignored, this only processes the keys:</p>\n<pre><code>MapSample02.main()\nMapSample02.computeTestData()\nmaps:4\nmap\n{a=2, c=2, d=5, e=2, f=1, h=2, i=3, k=1, l=2, m=4, n=2, o=2, p=1, q=4, r=2, s=2, t=4, u=4, v=3, x=3, y=1, z=2}\nmap\n{a=2, c=3, d=1, f=2, g=2, j=1, l=1, m=1, n=1, o=2, p=3, u=1, v=3, w=2, x=3, y=2}\nmap\n{a=1, b=1, c=1, d=1, e=1, f=1, g=3, h=1, i=1, k=1, n=3, o=1, p=2, q=3, r=1, s=1, t=3, u=2, v=2, w=2, x=1, y=1}\nmap\n{a=4, c=4, d=4, e=1, f=7, g=4, h=3, i=2, j=4, k=2, l=3, n=2, o=2, p=6, q=1, r=2, s=1, v=1, w=3, x=3, y=3, z=2}\nunion, intersection, differences:\n[[a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z], [a, c, d, f, n, o, p, v, x, y], [b, e, g, h, i, j, k, l, m, q, r, s, t, u, w, z]]\n</code></pre>\n"}],"owner":{"account_id":7170474,"reputation":119,"user_id":13461781,"display_name":"Anthony Khodanian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1701315455,"answer_count":1,"score":1,"last_activity_date":1701530317,"creation_date":1701294240,"question_id":77574652,"body_markdown":"I have a collection of Maps `maps` and I want a set with all the keys amongst the maps (the union), a set with all the keys common to all the maps (the intersection), and a set with all the keys that are only in some sets but not all (the disjunctive union). \r\n\r\nMy questions are: is there a way to get the disjunctive union &quot;diff&quot; other than just taking the compliment of &quot;same&quot;, i.e. is there any way it be done within the for loop in parallel with &quot;all&quot; and &quot;same&quot;, instead of after those two sets are created? Second, must I get an element of the collection of maps to initialize &quot;same&quot; with? Or can it be built in the for loop with some other function than &quot;retainAll&quot; and be initialized empty?\r\n\r\nBasically what, if any, is an alternative logic to the approach given below?\r\n\r\n```java\r\nSet&lt;String&gt; same = new HashSet&lt;&gt;(maps.get(0).keySet());\r\nSet&lt;String&gt; diff = new HashSet&lt;&gt;();\r\nSet&lt;String&gt; all = new HashSet&lt;&gt;();\r\n\r\nfor(Map map : maps) {\r\n    all.addAll(map.keySet());\r\n    same.retainAll(map.keySet());\r\n}\r\ndiff.addAll(all);\r\ndiff.removeAll(same);\r\n```","title":"Find the union and intersection of a collection of maps?","body":"<p>I have a collection of Maps <code>maps</code> and I want a set with all the keys amongst the maps (the union), a set with all the keys common to all the maps (the intersection), and a set with all the keys that are only in some sets but not all (the disjunctive union).</p>\n<p>My questions are: is there a way to get the disjunctive union &quot;diff&quot; other than just taking the compliment of &quot;same&quot;, i.e. is there any way it be done within the for loop in parallel with &quot;all&quot; and &quot;same&quot;, instead of after those two sets are created? Second, must I get an element of the collection of maps to initialize &quot;same&quot; with? Or can it be built in the for loop with some other function than &quot;retainAll&quot; and be initialized empty?</p>\n<p>Basically what, if any, is an alternative logic to the approach given below?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; same = new HashSet&lt;&gt;(maps.get(0).keySet());\nSet&lt;String&gt; diff = new HashSet&lt;&gt;();\nSet&lt;String&gt; all = new HashSet&lt;&gt;();\n\nfor(Map map : maps) {\n    all.addAll(map.keySet());\n    same.retainAll(map.keySet());\n}\ndiff.addAll(all);\ndiff.removeAll(same);\n</code></pre>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":3758440,"reputation":4651,"user_id":3124227,"accept_rate":60,"display_name":"Feedforward"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547718401,"creation_date":1547717719,"answer_id":54232861,"question_id":54232530,"body_markdown":"I would write something like\r\n\r\n```kotlin\r\nfun Map&lt;String, String&gt;.mergeWith(another: Map&lt;String, String&gt;): Map&lt;String, String&gt; {\r\n  val unionList: MutableMap&lt;String, String&gt; = toMutableMap()\r\n  for ((key, value) in another) {\r\n    unionList[key] = listOfNotNull(unionList[key], value).toSet().joinToString(&quot;, &quot;)\r\n  }\r\n  return unionList\r\n}\r\n\r\nval mergedMap = mapA.mergeWith(mapB)\r\n```","title":"Merge values in map kotlin","body":"<p>I would write something like</p>\n\n<pre><code>fun Map&lt;String, String&gt;.mergeWith(another: Map&lt;String, String&gt;): Map&lt;String, String&gt; {\n  val unionList: MutableMap&lt;String, String&gt; = toMutableMap()\n  for ((key, value) in another) {\n    unionList[key] = listOfNotNull(unionList[key], value).toSet().joinToString(\", \")\n  }\n  return unionList\n}\n\nval mergedMap = mapA.mergeWith(mapB)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1547718625,"post_id":54232917,"comment_id":95291049,"body_markdown":"Your example will print: `{Emergency=112,911, Fire department=101, Police=102,102}`, I guess it should be without repeating: `Police=102,102`","body":"Your example will print: <code>{Emergency=112,911, Fire department=101, Police=102,102}</code>, I guess it should be without repeating: <code>Police=102,102</code>"},{"owner":{"account_id":8760223,"reputation":223,"user_id":6550350,"display_name":"Anton Kushch"},"score":4,"creation_date":1559641631,"post_id":54232917,"comment_id":99476142,"body_markdown":"Be careful, this solution will fail to merge maps if they have same key and value, merging `{A=1, B=2}` and `{A=5, B=2}` will result into `{A=6, B=2}`","body":"Be careful, this solution will fail to merge maps if they have same key and value, merging <code>{A=1, B=2}</code> and <code>{A=5, B=2}</code> will result into <code>{A=6, B=2}</code>"},{"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"score":0,"creation_date":1559646189,"post_id":54232917,"comment_id":99478501,"body_markdown":"@AntonKushch well, yes, that is why I added `distinct` due to the OP&#39;s use case. You could remove it if you want to handle duplicates.","body":"@AntonKushch well, yes, that is why I added <code>distinct</code> due to the OP&#39;s use case. You could remove it if you want to handle duplicates."},{"owner":{"account_id":8760223,"reputation":223,"user_id":6550350,"display_name":"Anton Kushch"},"score":1,"creation_date":1559648780,"post_id":54232917,"comment_id":99479821,"body_markdown":"@Moira just to raise attention of blind copy/pasters :D","body":"@Moira just to raise attention of blind copy/pasters :D"}],"tags":[],"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1547718751,"creation_date":1547717910,"answer_id":54232917,"question_id":54232530,"body_markdown":"How about:\r\n\r\n    val unionList = (mapA.asSequence() + mapB.asSequence())\r\n        .distinct()\r\n        .groupBy({ it.key }, { it.value })\r\n        .mapValues { (_, values) -&gt; values.joinToString(&quot;,&quot;) }\r\n\r\nResult:\r\n\r\n    {Emergency=112,911, Fire department=101, Police=102}\r\n\r\nThis will:\r\n\r\n - produce a lazy `Sequence` of both maps&#39; key-value pairs\r\n - group them by key (result: `Map&lt;String, List&lt;String&gt;`)\r\n - map their values to comma-joined strings (result: `Map&lt;String, String&gt;`)","title":"Merge values in map kotlin","body":"<p>How about:</p>\n\n<pre><code>val unionList = (mapA.asSequence() + mapB.asSequence())\n    .distinct()\n    .groupBy({ it.key }, { it.value })\n    .mapValues { (_, values) -&gt; values.joinToString(\",\") }\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{Emergency=112,911, Fire department=101, Police=102}\n</code></pre>\n\n<p>This will:</p>\n\n<ul>\n<li>produce a lazy <code>Sequence</code> of both maps' key-value pairs</li>\n<li>group them by key (result: <code>Map&lt;String, List&lt;String&gt;</code>)</li>\n<li>map their values to comma-joined strings (result: <code>Map&lt;String, String&gt;</code>)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1547718938,"post_id":54232933,"comment_id":95291230,"body_markdown":"Your result is `List&lt;Pair&lt;String, String&gt;`, but it should be `Map&lt;String, String&gt;`.","body":"Your result is <code>List&lt;Pair&lt;String, String&gt;</code>, but it should be <code>Map&lt;String, String&gt;</code>."}],"tags":[],"owner":{"account_id":14019959,"reputation":710,"user_id":10126399,"display_name":"Ilya E"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698140000,"creation_date":1547717970,"answer_id":54232933,"question_id":54232530,"body_markdown":"    val mapA = mapOf(&quot;Emergency&quot; to &quot;112&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n\tval mapB = mapOf(&quot;Emergency&quot; to &quot;911&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n\r\n    val result = (mapA.entries + mapB.entries)\r\n    \t.groupBy({ it.key }, { it.value })\r\n    \t.mapValues {(_, value) -&gt; \r\n            value.joinToString(&quot;, &quot;)\r\n        }","title":"Merge values in map kotlin","body":"<pre><code>val mapA = mapOf(&quot;Emergency&quot; to &quot;112&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;)\nval mapB = mapOf(&quot;Emergency&quot; to &quot;911&quot;, &quot;Police&quot; to &quot;102&quot;)\n\nval result = (mapA.entries + mapB.entries)\n    .groupBy({ it.key }, { it.value })\n    .mapValues {(_, value) -&gt; \n        value.joinToString(&quot;, &quot;)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547724781,"creation_date":1547718507,"answer_id":54233101,"question_id":54232530,"body_markdown":"Another approach:\r\n\r\n    val mapA = mapOf(&quot;Emergency&quot; to &quot;112&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n    val mapB = mapOf(&quot;Emergency&quot; to &quot;911&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n\r\n    val result = mapA.toMutableMap()\r\n    mapB.forEach {\r\n        var value = result[it.key]\r\n        value = if (value == null || value == it.value) it.value else value + &quot;, ${it.value}&quot;\r\n        result[it.key] = value\r\n    }\r\n\r\nOr using **infix extension function**:\r\n\r\n    infix fun Map&lt;String, String&gt;.mergeWith(anotherMap: Map&lt;String, String&gt;): Map&lt;String, String&gt; {\r\n        val result = this.toMutableMap()\r\n        anotherMap.forEach {\r\n            var value = result[it.key]\r\n            value = if (value == null || value == it.value) it.value else value + &quot;, ${it.value}&quot;\r\n            result[it.key] = value\r\n        }\r\n        return result\r\n    }\r\n\r\n    val result = mapA mergeWith mapB","title":"Merge values in map kotlin","body":"<p>Another approach:</p>\n\n<pre><code>val mapA = mapOf(\"Emergency\" to \"112\", \"Fire department\" to \"101\", \"Police\" to \"102\")\nval mapB = mapOf(\"Emergency\" to \"911\", \"Police\" to \"102\")\n\nval result = mapA.toMutableMap()\nmapB.forEach {\n    var value = result[it.key]\n    value = if (value == null || value == it.value) it.value else value + \", ${it.value}\"\n    result[it.key] = value\n}\n</code></pre>\n\n<p>Or using <strong>infix extension function</strong>:</p>\n\n<pre><code>infix fun Map&lt;String, String&gt;.mergeWith(anotherMap: Map&lt;String, String&gt;): Map&lt;String, String&gt; {\n    val result = this.toMutableMap()\n    anotherMap.forEach {\n        var value = result[it.key]\n        value = if (value == null || value == it.value) it.value else value + \", ${it.value}\"\n        result[it.key] = value\n    }\n    return result\n}\n\nval result = mapA mergeWith mapB\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":1,"creation_date":1547746710,"post_id":54236192,"comment_id":95307265,"body_markdown":"yes... but it takes still some time to understand it ;-) e.g. first I wondered what `mapB - mapA.keys` really does... (had to look up that `-`) and instead of a `setOf` i personally prefer `sequenceOf...distinct` (it says more clearly what is going on)... but that&#39;s just my opinion... :-)","body":"yes... but it takes still some time to understand it ;-) e.g. first I wondered what <code>mapB - mapA.keys</code> really does... (had to look up that <code>-</code>) and instead of a <code>setOf</code> i personally prefer <code>sequenceOf...distinct</code> (it says more clearly what is going on)... but that&#39;s just my opinion... :-)"}],"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1547798943,"creation_date":1547728845,"answer_id":54236192,"question_id":54232530,"body_markdown":"Here&#39;s my solution:\r\n\r\n    val result = (mapA + (mapB - mapA.keys)).mapValues {\r\n        (setOf(it.value) + mapB[it.key]).filterNotNull().joinToString()\r\n    }\r\n\r\nIt creates a map of A plus the values from B that are not in A. Then it maps all values to a set and adds the value from B to that set, ultimately removing all `null` values from the set and transforming it into a list, which you can use to create the desired output format. \r\n","title":"Merge values in map kotlin","body":"<p>Here's my solution:</p>\n\n<pre><code>val result = (mapA + (mapB - mapA.keys)).mapValues {\n    (setOf(it.value) + mapB[it.key]).filterNotNull().joinToString()\n}\n</code></pre>\n\n<p>It creates a map of A plus the values from B that are not in A. Then it maps all values to a set and adds the value from B to that set, ultimately removing all <code>null</code> values from the set and transforming it into a list, which you can use to create the desired output format. </p>\n"},{"comments":[{"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"score":0,"creation_date":1597087148,"post_id":54241171,"comment_id":112013939,"body_markdown":"The grouping / fold combo is a bit hard to get but seems ultra powerful! From what I understood, the `accumulator`&#39;s type is determined by what&#39;s in the the `fold(...)`. This answer deserves more upvotes","body":"The grouping / fold combo is a bit hard to get but seems ultra powerful! From what I understood, the <code>accumulator</code>&#39;s type is determined by what&#39;s in the the <code>fold(...)</code>. This answer deserves more upvotes"},{"owner":{"display_name":"user273132"},"score":1,"creation_date":1624037987,"post_id":54241171,"comment_id":120257536,"body_markdown":"Be careful, option 2 is not correct - it provides single reference to mutable set as an initial value, therefore same reference will be used for each group, and you will not get what you expect. One of the ways to fix - use `fold` overload which takes producer of initial value as a first argument.","body":"Be careful, option 2 is not correct - it provides single reference to mutable set as an initial value, therefore same reference will be used for each group, and you will not get what you expect. One of the ways to fix - use <code>fold</code> overload which takes producer of initial value as a first argument."},{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":1,"creation_date":1624266690,"post_id":54241171,"comment_id":120302026,"body_markdown":"@xzt thank you for reporting it. Yes, this doesn&#39;t make sense. I should have seen it already while writing it. I will update the second part","body":"@xzt thank you for reporting it. Yes, this doesn&#39;t make sense. I should have seen it already while writing it. I will update the second part"}],"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624268296,"creation_date":1547745653,"answer_id":54241171,"question_id":54232530,"body_markdown":"While I looked at the other solutions I couldn&#39;t believe that there isn&#39;t an easier way (or ways as easy as the accepted answer without the need to recreate a `Map`, intermediate new lists, etc.). Here are 3 (of many ;-)) solutions I came up with:\r\n\r\n1. Using the keys and mapping the values later:\r\n\r\n        (mapA.keys.asSequence() + mapB.keys)\r\n            .associateWith {\r\n              sequenceOf(mapA[it], mapB[it]) // one of the sides may have null values in it (i.e. no entry in the map)...\r\n                  .filterNotNull()\r\n                  .distinct()\r\n                  .toList() // or if you require/prefer, do the following instead: joinToString()\r\n            }\r\n\r\n2. Using [`groupingBy`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/grouping-by.html#groupingby) and [`fold`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold.html#fold) (or have a look at: [Group by key and fold each group simultaneously (KEEP)](https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/group-and-fold.md)):        \r\n\r\n        (mapA.asSequence() + mapB.asSequence())\r\n          .groupingBy { it.key }\r\n          .fold({ _, _ -&gt; mutableSetOf() }) { _, accumulator, element -&gt;\r\n            accumulator.apply {\r\n              add(element.value)\r\n            }\r\n          }\r\n\r\n    You could also just use an empty `String` instead and concatenate in the fold operation the way you need it. My first approach just used a `sequenceOf` instead of the `MutableSet`. It depends on what you require and what you want to do with the result afterwards. Be sure to use the overloaded `fold`-function that accepts an initial value selector, which creates a new initial value every time a new key is encountered. Thanks [xzt](https://stackoverflow.com/users/273132/xzt) for noting it.\r\n\r\n3. Using Javas [`Map.merge`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)), but ignoring duplicates in the value and also just concatenating the values:\r\n\r\n        val mergedMap: Map&lt;String, String&gt; = mapA.toMutableMap().apply {\r\n          mapB.forEach { key, value -&gt;\r\n            merge(key, value) { currentValue, addedValue -&gt;\r\n              &quot;$currentValue, $addedValue&quot; // just concatenate... no duplicates-check..\r\n            }\r\n          }\r\n        }\r\n\r\n    This, of course, can also be written differently, but this way we ensure that mergedMap is still just a `Map&lt;String, String&gt;` when accessed again.","title":"Merge values in map kotlin","body":"<p>While I looked at the other solutions I couldn't believe that there isn't an easier way (or ways as easy as the accepted answer without the need to recreate a <code>Map</code>, intermediate new lists, etc.). Here are 3 (of many ;-)) solutions I came up with:</p>\n<ol>\n<li><p>Using the keys and mapping the values later:</p>\n<pre><code> (mapA.keys.asSequence() + mapB.keys)\n     .associateWith {\n       sequenceOf(mapA[it], mapB[it]) // one of the sides may have null values in it (i.e. no entry in the map)...\n           .filterNotNull()\n           .distinct()\n           .toList() // or if you require/prefer, do the following instead: joinToString()\n     }\n</code></pre>\n</li>\n<li><p>Using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/grouping-by.html#groupingby\" rel=\"nofollow noreferrer\"><code>groupingBy</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold.html#fold\" rel=\"nofollow noreferrer\"><code>fold</code></a> (or have a look at: <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/group-and-fold.md\" rel=\"nofollow noreferrer\">Group by key and fold each group simultaneously (KEEP)</a>):</p>\n<pre><code> (mapA.asSequence() + mapB.asSequence())\n   .groupingBy { it.key }\n   .fold({ _, _ -&gt; mutableSetOf() }) { _, accumulator, element -&gt;\n     accumulator.apply {\n       add(element.value)\n     }\n   }\n</code></pre>\n<p>You could also just use an empty <code>String</code> instead and concatenate in the fold operation the way you need it. My first approach just used a <code>sequenceOf</code> instead of the <code>MutableSet</code>. It depends on what you require and what you want to do with the result afterwards. Be sure to use the overloaded <code>fold</code>-function that accepts an initial value selector, which creates a new initial value every time a new key is encountered. Thanks <a href=\"https://stackoverflow.com/users/273132/xzt\">xzt</a> for noting it.</p>\n</li>\n<li><p>Using Javas <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Map.merge</code></a>, but ignoring duplicates in the value and also just concatenating the values:</p>\n<pre><code> val mergedMap: Map&lt;String, String&gt; = mapA.toMutableMap().apply {\n   mapB.forEach { key, value -&gt;\n     merge(key, value) { currentValue, addedValue -&gt;\n       &quot;$currentValue, $addedValue&quot; // just concatenate... no duplicates-check..\n     }\n   }\n }\n</code></pre>\n<p>This, of course, can also be written differently, but this way we ensure that mergedMap is still just a <code>Map&lt;String, String&gt;</code> when accessed again.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":2,"creation_date":1547768781,"post_id":54242242,"comment_id":95316326,"body_markdown":"damn... that `associateWith` was what I was looking for, but couldn&#39;t remember :-)","body":"damn... that <code>associateWith</code> was what I was looking for, but couldn&#39;t remember :-)"}],"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1547754208,"creation_date":1547750146,"answer_id":54242242,"question_id":54232530,"body_markdown":"You can do the following:\r\n\r\n    (mapA.keys + mapB.keys).associateWith {\r\n        setOf(mapA[it], mapB[it]).filterNotNull().joinToString()\r\n    }\r\n\r\n\r\n1. put all keys in a set\r\n2. iterate over that set and and associate each element with the set of values\r\n3. remove the null values from the value set\r\n4. concatenate the elements in the value list using `joinToString()`.\r\n","title":"Merge values in map kotlin","body":"<p>You can do the following:</p>\n\n<pre><code>(mapA.keys + mapB.keys).associateWith {\n    setOf(mapA[it], mapB[it]).filterNotNull().joinToString()\n}\n</code></pre>\n\n<ol>\n<li>put all keys in a set</li>\n<li>iterate over that set and and associate each element with the set of values</li>\n<li>remove the null values from the value set</li>\n<li>concatenate the elements in the value list using <code>joinToString()</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8760223,"reputation":223,"user_id":6550350,"display_name":"Anton Kushch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559649006,"creation_date":1559641584,"answer_id":56441414,"question_id":54232530,"body_markdown":"In Kotlin you could do this:\r\n```\r\nfun main() {\r\n    val map1 = mapOf(&quot;A&quot; to 1, &quot;B&quot; to 2)\r\n    val map2 = mapOf(&quot;A&quot; to 5, &quot;B&quot; to 2)\r\n    val result: Map&lt;String, Int&gt; = listOf(map1, map2)\r\n        .fold(mapOf()) { accMap, map -&gt;\r\n            accMap.merge(map, Int::plus)\r\n        }\r\n    println(result) // Prints: {A=6, B=4}\r\n}\r\n\r\nprivate fun &lt;T, V&gt; Map&lt;T, V&gt;.merge(another: Map&lt;T, V&gt;, mergeFunction: (V, V) -&gt; V): Map&lt;T, V&gt; =\r\n    toMutableMap()\r\n        .apply {\r\n            another.forEach { (key, value) -&gt;\r\n                merge(key, value, mergeFunction)\r\n            }\r\n        }\r\n```","title":"Merge values in map kotlin","body":"<p>In Kotlin you could do this:</p>\n\n<pre><code>fun main() {\n    val map1 = mapOf(\"A\" to 1, \"B\" to 2)\n    val map2 = mapOf(\"A\" to 5, \"B\" to 2)\n    val result: Map&lt;String, Int&gt; = listOf(map1, map2)\n        .fold(mapOf()) { accMap, map -&gt;\n            accMap.merge(map, Int::plus)\n        }\n    println(result) // Prints: {A=6, B=4}\n}\n\nprivate fun &lt;T, V&gt; Map&lt;T, V&gt;.merge(another: Map&lt;T, V&gt;, mergeFunction: (V, V) -&gt; V): Map&lt;T, V&gt; =\n    toMutableMap()\n        .apply {\n            another.forEach { (key, value) -&gt;\n                merge(key, value, mergeFunction)\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701530003,"creation_date":1560374686,"answer_id":56570562,"question_id":54232530,"body_markdown":"Here is my approach with universal map-merging helper function:\r\n\r\n    fun &lt;K, V, R&gt; Pair&lt;Map&lt;K, V&gt;, Map&lt;K, V&gt;&gt;.merge(merger: (V?, V?) -&gt; R): Map&lt;K, R&gt; =\r\n        (first.keys.asSequence() + second.keys.asSequence()).distinct()\r\n            .associateWith { merger(first[it], second[it]) }\r\n\r\n    fun main() {\r\n        val mapA = mapOf(&quot;Emergency&quot; to &quot;112&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n        val mapB = mapOf(&quot;Emergency&quot; to &quot;911&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n        val result = (mapA to mapB).merge { a, b -&gt; \r\n                listOf(a, b).filterNotNull().distinct().joinToString(&quot;,&quot;, &quot;(&quot;, &quot;)&quot;) }\r\n        println(result)\r\n    }\r\n\r\nOutput:\r\n&gt; {Emergency=(112,911), Fire department=(101), Police=(102)}","title":"Merge values in map kotlin","body":"<p>Here is my approach with universal map-merging helper function:</p>\n<pre><code>fun &lt;K, V, R&gt; Pair&lt;Map&lt;K, V&gt;, Map&lt;K, V&gt;&gt;.merge(merger: (V?, V?) -&gt; R): Map&lt;K, R&gt; =\n    (first.keys.asSequence() + second.keys.asSequence()).distinct()\n        .associateWith { merger(first[it], second[it]) }\n\nfun main() {\n    val mapA = mapOf(&quot;Emergency&quot; to &quot;112&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;)\n    val mapB = mapOf(&quot;Emergency&quot; to &quot;911&quot;, &quot;Police&quot; to &quot;102&quot;)\n    val result = (mapA to mapB).merge { a, b -&gt; \n            listOf(a, b).filterNotNull().distinct().joinToString(&quot;,&quot;, &quot;(&quot;, &quot;)&quot;) }\n    println(result)\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>{Emergency=(112,911), Fire department=(101), Police=(102)}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10140497,"reputation":144,"user_id":7490416,"display_name":"Wouter Oet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590940599,"creation_date":1590940599,"answer_id":62118805,"question_id":54232530,"body_markdown":"A more generic approach (as this post comes up when searching for kotlin and merging maps):\r\n\r\n    fun &lt;K, V1, V2, R&gt; Map&lt;K, V1&gt;.mergeReduce(other: Map&lt;K, V2&gt;, reduce: (key: K, value1: V1?, value2: V2?) -&gt; R): Map&lt;K, R&gt; =\r\n\t\t(this.keys + other.keys).associateWith { reduce(it, this[it], other[it]) }\r\n\r\nIt allows for Maps with different types of values to be merged, increased freedom with a custom reducer and increased readability.\r\n\r\nYour problem can than be solved as:\r\n\r\n    mapA.mergeReduce(mapB) { _, value1, value2 -&gt; listOfNotNull(value1, value2).joinToString(&quot;, &quot;) }","title":"Merge values in map kotlin","body":"<p>A more generic approach (as this post comes up when searching for kotlin and merging maps):</p>\n\n<pre><code>fun &lt;K, V1, V2, R&gt; Map&lt;K, V1&gt;.mergeReduce(other: Map&lt;K, V2&gt;, reduce: (key: K, value1: V1?, value2: V2?) -&gt; R): Map&lt;K, R&gt; =\n    (this.keys + other.keys).associateWith { reduce(it, this[it], other[it]) }\n</code></pre>\n\n<p>It allows for Maps with different types of values to be merged, increased freedom with a custom reducer and increased readability.</p>\n\n<p>Your problem can than be solved as:</p>\n\n<pre><code>mapA.mergeReduce(mapB) { _, value1, value2 -&gt; listOfNotNull(value1, value2).joinToString(\", \") }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17597757,"reputation":1107,"user_id":12768366,"display_name":"Md Hanif"},"score":4,"creation_date":1610808084,"post_id":65750603,"comment_id":116251135,"body_markdown":"Please provide some explanation with your code to make others understand better.","body":"Please provide some explanation with your code to make others understand better."}],"tags":[],"owner":{"account_id":20467820,"reputation":1,"user_id":15018932,"display_name":"Igor Duarte"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610806294,"creation_date":1610806294,"answer_id":65750603,"question_id":54232530,"body_markdown":"    (mapA.data.asSequence() + mapB.asSequence())\r\n       .map { Pair(it.key, it.value) }\r\n       .toMap()","title":"Merge values in map kotlin","body":"<pre><code>(mapA.data.asSequence() + mapB.asSequence())\n   .map { Pair(it.key, it.value) }\n   .toMap()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634060194,"creation_date":1634060194,"answer_id":69544785,"question_id":54232530,"body_markdown":"For some strange reason not part of SDK.\r\n\r\nCreated my own extension:\r\n\r\n```kotlin\r\nfun &lt;K,V&gt;Map&lt;K,Collection&lt;V&gt;&gt;.merge(other: Map&lt;K,Collection&lt;V&gt;&gt;) =\r\n    (this.keys + other.keys).associateWith {key -&gt;\r\n        setOf(this[key], other[key]).filterNotNull()\r\n    }.mapValues { (a,b) -&gt; b.flatten().toSet() \r\n}\r\n````\r\n\r\nUse like\r\n\r\n```kotlin\r\nval map1 = mapOf(&quot;a&quot; to listOf(1,2,3), &quot;b&quot; to listOf(4,5,6))\r\nval map2 = mapOf(&quot;a&quot; to listOf(1,9), &quot;b&quot; to listOf(7))\r\nval merge = map1.merge(map2) // {&quot;a&quot; = [1,2,3,9], &quot;b&quot; = [4,5,6,7]}\r\n````","title":"Merge values in map kotlin","body":"<p>For some strange reason not part of SDK.</p>\n<p>Created my own extension:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;K,V&gt;Map&lt;K,Collection&lt;V&gt;&gt;.merge(other: Map&lt;K,Collection&lt;V&gt;&gt;) =\n    (this.keys + other.keys).associateWith {key -&gt;\n        setOf(this[key], other[key]).filterNotNull()\n    }.mapValues { (a,b) -&gt; b.flatten().toSet() \n}\n</code></pre>\n<p>Use like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map1 = mapOf(&quot;a&quot; to listOf(1,2,3), &quot;b&quot; to listOf(4,5,6))\nval map2 = mapOf(&quot;a&quot; to listOf(1,9), &quot;b&quot; to listOf(7))\nval merge = map1.merge(map2) // {&quot;a&quot; = [1,2,3,9], &quot;b&quot; = [4,5,6,7]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6312886,"reputation":1941,"user_id":4903876,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660576169,"creation_date":1660576169,"answer_id":73362910,"question_id":54232530,"body_markdown":"This does not *exactly* answer the question posed by the OP, but I think many people coming to this post will, given its title, be looking for a simple way to merge two maps. The solution is that the `+` operator does the job and merges with deduplication. BUT in the event of a key being duplicated, the last value wins, you don&#39;t get the list of all values.\r\n\r\n    val mapA = mapOf(&quot;Emergency&quot; to &quot;112&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n    val mapB = mapOf(&quot;Emergency&quot; to &quot;911&quot;, &quot;Police&quot; to &quot;102&quot;, &quot;Ambulance&quot; to &quot;103&quot;)\r\n    val mapC = mapA + mapB\r\n    println(mapC)\r\n\r\ngives\r\n\r\n    {Emergency=911, Fire department=101, Police=102, Ambulance=103}","title":"Merge values in map kotlin","body":"<p>This does not <em>exactly</em> answer the question posed by the OP, but I think many people coming to this post will, given its title, be looking for a simple way to merge two maps. The solution is that the <code>+</code> operator does the job and merges with deduplication. BUT in the event of a key being duplicated, the last value wins, you don't get the list of all values.</p>\n<pre><code>val mapA = mapOf(&quot;Emergency&quot; to &quot;112&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;)\nval mapB = mapOf(&quot;Emergency&quot; to &quot;911&quot;, &quot;Police&quot; to &quot;102&quot;, &quot;Ambulance&quot; to &quot;103&quot;)\nval mapC = mapA + mapB\nprintln(mapC)\n</code></pre>\n<p>gives</p>\n<pre><code>{Emergency=911, Fire department=101, Police=102, Ambulance=103}\n</code></pre>\n"}],"owner":{"account_id":15114475,"reputation":3907,"user_id":10907345,"display_name":"rost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47767,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":54232917,"answer_count":13,"score":29,"last_activity_date":1701530003,"creation_date":1547716612,"question_id":54232530,"body_markdown":"I need merge maps `mapA` and` mapB` with pairs of &quot;name&quot; - &quot;phone number&quot; into the final map, sticking together the values for duplicate keys, separated by commas. Duplicate values should be added only once.\r\nI need the most idiomatic and correct in terms of language approach.\r\n\r\nFor example:\r\n\r\n    val mapA = mapOf(&quot;Emergency&quot; to &quot;112&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n    val mapB = mapOf(&quot;Emergency&quot; to &quot;911&quot;, &quot;Police&quot; to &quot;102&quot;)\r\n\r\nThe final result should look like this:\r\n\r\n    {&quot;Emergency&quot; to &quot;112, 911&quot;, &quot;Fire department&quot; to &quot;101&quot;, &quot;Police&quot; to &quot;102&quot;}\r\n\r\nThis is my function:\r\n\r\n    fun mergePhoneBooks(mapA: Map&lt;String, String&gt;, mapB: Map&lt;String, String&gt;): Map&lt;String, String&gt; {\r\n        val unionList: MutableMap &lt;String, String&gt; = mapA.toMutableMap()\r\n        unionList.forEach { (key, value) -&gt; TODO() } // here&#39;s I can&#39;t come on with a beatiful solution\r\n        \r\n        return unionList\r\n    }\r\n\r\n","title":"Merge values in map kotlin","body":"<p>I need merge maps <code>mapA</code> and<code>mapB</code> with pairs of \"name\" - \"phone number\" into the final map, sticking together the values for duplicate keys, separated by commas. Duplicate values should be added only once.\nI need the most idiomatic and correct in terms of language approach.</p>\n\n<p>For example:</p>\n\n<pre><code>val mapA = mapOf(\"Emergency\" to \"112\", \"Fire department\" to \"101\", \"Police\" to \"102\")\nval mapB = mapOf(\"Emergency\" to \"911\", \"Police\" to \"102\")\n</code></pre>\n\n<p>The final result should look like this:</p>\n\n<pre><code>{\"Emergency\" to \"112, 911\", \"Fire department\" to \"101\", \"Police\" to \"102\"}\n</code></pre>\n\n<p>This is my function:</p>\n\n<pre><code>fun mergePhoneBooks(mapA: Map&lt;String, String&gt;, mapB: Map&lt;String, String&gt;): Map&lt;String, String&gt; {\n    val unionList: MutableMap &lt;String, String&gt; = mapA.toMutableMap()\n    unionList.forEach { (key, value) -&gt; TODO() } // here's I can't come on with a beatiful solution\n\n    return unionList\n}\n</code></pre>\n"},{"tags":["java","docker","apache-kafka","tls1.3","tls1.1"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1701485480,"post_id":77588789,"comment_id":136785227,"body_markdown":"If by &#39;old policy&#39; you mean Oracle j8 updates below 8u151 which limited crypto strength, those limited AES to 128 but they didn&#39;t limit TLS versions; even &#39;8u0&#39; supported v1.2 with AES128. Plus, either kx-AES256-GCM or kx-AES128-GCM _requires_ v1.2; no GCM (or AEAD) suite can work in v1.1 or v1(.0). (In fact free Java _7_ actually implemented v1.2, though not by default so you had to explicitly enable it, but it did NOT implement GCM ciphersuites in v1.2.) Simply enabling AES128 (and no other change) should be enough to support old j8, but I can&#39;t help with Kafka or Confluence specifically.","body":"If by &#39;old policy&#39; you mean Oracle j8 updates below 8u151 which limited crypto strength, those limited AES to 128 but they didn&#39;t limit TLS versions; even &#39;8u0&#39; supported v1.2 with AES128. Plus, either kx-AES256-GCM or kx-AES128-GCM <i>requires</i> v1.2; no GCM (or AEAD) suite can work in v1.1 or v1(.0). (In fact free Java <i>7</i> actually implemented v1.2, though not by default so you had to explicitly enable it, but it did NOT implement GCM ciphersuites in v1.2.) Simply enabling AES128 (and no other change) should be enough to support old j8, but I can&#39;t help with Kafka or Confluence specifically."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701529213,"post_id":77588789,"comment_id":136788279,"body_markdown":"1) Confluence is wiki software. Unrelated to Kafka 2) There are other Kafka docker images that exist and work just as well. For example, you could use Strimzi on Kubernetes","body":"1) Confluence is wiki software. Unrelated to Kafka 2) There are other Kafka docker images that exist and work just as well. For example, you could use Strimzi on Kubernetes"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701529771,"creation_date":1701529460,"answer_id":77590894,"question_id":77588789,"body_markdown":"There&#39;s nothing specific to that image you can set for TLS. There&#39;s env vars for setting Kafka server.properties or just JAVA_OPTS / JAVA_TOOL_OPTIONS that any Java container would accept, but modifying any of the JRE files directly is probably not going to work well for future upgrades \r\n\r\nYou could build your own Kafka image on Ternium or old AdoptOpenJDK 8 images, if you really need Java 8 still, but if the server itself no longer supports old TLS algorithms, then you&#39;ll need a different solution altogether. For example, &quot;devices in the field&quot; could use MQTT, then you use MQTT connector to forward to Kafka; this is one common use case in IOT industry\r\n\r\nWorth pointing out that Kafka supports Java 17 now, and probably 21 LTS within the year, so only going to 11 might run into similar issues going forward ","title":"Enabling TLSv1.1 with AES128 Cipher in Kafka 2.8 with Confluence Docker Container (Java-11) for Backward Compatibility","body":"<p>There's nothing specific to that image you can set for TLS. There's env vars for setting Kafka server.properties or just JAVA_OPTS / JAVA_TOOL_OPTIONS that any Java container would accept, but modifying any of the JRE files directly is probably not going to work well for future upgrades</p>\n<p>You could build your own Kafka image on Ternium or old AdoptOpenJDK 8 images, if you really need Java 8 still, but if the server itself no longer supports old TLS algorithms, then you'll need a different solution altogether. For example, &quot;devices in the field&quot; could use MQTT, then you use MQTT connector to forward to Kafka; this is one common use case in IOT industry</p>\n<p>Worth pointing out that Kafka supports Java 17 now, and probably 21 LTS within the year, so only going to 11 might run into similar issues going forward</p>\n"}],"owner":{"account_id":195051,"reputation":1,"user_id":437727,"display_name":"KiranKumarSingani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701529771,"creation_date":1701479319,"question_id":77588789,"body_markdown":"We are currently in the process of migrating from Kafka 1.0 to Kafka 2.8, utilizing the Confluent&#39;s Kafka container image version 6.2.0. Our challenge lies in maintaining backward compatibility with devices in the field that use the TLSv1.1 protocol with AES128 bit encryption policy (based on Java-8&#39;s old policy).\r\n\r\nHere are the key details:\r\n\r\nThe existing Confluent container image uses Java-11, in contrast to the older server which ran on Java-8.\r\nWe have updated the Java security policy on the new container to enable TLSv1 and TLSv1.1. However, when communicating with the server, it still sends TLS cipher suites with AES256 (specifically ECDHE-RSA-AES256-GCM*).\r\n\r\nDue to constraints, modifying the Java security settings on the field devices is not an option.\r\nGiven these constraints, what additional settings or configurations can be adjusted on the new Confluent container to ensure compatibility with devices relying on AES128 encryption policies (specifically ECDHE-RSA-AES128-GCM*)?\r\n\r\nWe tried updating the Java security file to enable TLSV1,TLSV1.1. Modified kafka settings with custom ciphers.","title":"Enabling TLSv1.1 with AES128 Cipher in Kafka 2.8 with Confluence Docker Container (Java-11) for Backward Compatibility","body":"<p>We are currently in the process of migrating from Kafka 1.0 to Kafka 2.8, utilizing the Confluent's Kafka container image version 6.2.0. Our challenge lies in maintaining backward compatibility with devices in the field that use the TLSv1.1 protocol with AES128 bit encryption policy (based on Java-8's old policy).</p>\n<p>Here are the key details:</p>\n<p>The existing Confluent container image uses Java-11, in contrast to the older server which ran on Java-8.\nWe have updated the Java security policy on the new container to enable TLSv1 and TLSv1.1. However, when communicating with the server, it still sends TLS cipher suites with AES256 (specifically ECDHE-RSA-AES256-GCM*).</p>\n<p>Due to constraints, modifying the Java security settings on the field devices is not an option.\nGiven these constraints, what additional settings or configurations can be adjusted on the new Confluent container to ensure compatibility with devices relying on AES128 encryption policies (specifically ECDHE-RSA-AES128-GCM*)?</p>\n<p>We tried updating the Java security file to enable TLSV1,TLSV1.1. Modified kafka settings with custom ciphers.</p>\n"},{"tags":["java","selenium-webdriver","selenide"],"owner":{"account_id":23514844,"reputation":1,"user_id":17562935,"display_name":"Сархан Тахиров"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701529737,"creation_date":1701529737,"question_id":77590906,"body_markdown":"When i try to open any site using selenide with chrome version newer than 114 i get an error:\r\n\r\n\r\n```\r\nHTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_119 2023-12-02T15:58:16.710+04:00 WARN 47209 --- [ scheduling-1] i.g.b.wdm.versions.VersionDetector : Exception reading https://chromedriver.storage.googleapis.com/LATEST_RELEASE_119 to get latest version of chromedriver (Error HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_119)\r\n\r\n```\r\nThis problem is solved in selenium 4.6.x but even the newest version of selenide &lt;version&gt;7.0.3&lt;/version&gt; uses selenium 4.15 which still has this problem.\r\nthis is due to google changes:\r\n\r\n&gt; Current Releases\r\n&gt; If you are using Chrome version 115 or newer, please consult the Chrome for Testing availability dashboard. This page provides convenient JSON endpoints for specific ChromeDriver version downloading.\r\n\r\n\r\nThis is how I solved the problem...\r\n**part of pom.xml:**\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide-core&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n**My config bean for create instance of WebDriver:**\r\n\r\n```\r\n@Component\r\npublic class DriverConfig {\r\n    private WebDriver driver;\r\n\r\n    public WebDriver getDriver() {\r\n        if (Objects.isNull(driver)) {\r\n            ChromeOptions options = new ChromeOptions();\r\n            options.addArguments(&quot;--no-sandbox&quot;);\r\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n            options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n            options.setHeadless(true);\r\n            WebDriverManager.chromedriver().setup();\r\n            driver = new ChromeDriver(options);\r\n        }\r\n        return driver;\r\n    }\r\n}\r\n```\r\n\r\n**Setup this webDriver:**\r\n\r\n```\r\nWebDriverRunner.setWebDriver(driverConfig.getDriver());\r\n```\r\n\r\nit doesn&#39;t seem like the right decision to me.\r\nI would be glad if someone could suggest a better solution to the problem.\r\nand I hope that selenide authors will release a fix for such cases.\r\nthank you all in advance for your answers!\r\n\r\n\r\n","title":"selenide has a problem with chrome versions newer than 114","body":"<p>When i try to open any site using selenide with chrome version newer than 114 i get an error:</p>\n<pre><code>HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_119 2023-12-02T15:58:16.710+04:00 WARN 47209 --- [ scheduling-1] i.g.b.wdm.versions.VersionDetector : Exception reading https://chromedriver.storage.googleapis.com/LATEST_RELEASE_119 to get latest version of chromedriver (Error HTTP 404 executing https://chromedriver.storage.googleapis.com/LATEST_RELEASE_119)\n\n</code></pre>\n<p>This problem is solved in selenium 4.6.x but even the newest version of selenide 7.0.3 uses selenium 4.15 which still has this problem.\nthis is due to google changes:</p>\n<blockquote>\n<p>Current Releases\nIf you are using Chrome version 115 or newer, please consult the Chrome for Testing availability dashboard. This page provides convenient JSON endpoints for specific ChromeDriver version downloading.</p>\n</blockquote>\n<p>This is how I solved the problem...\n<strong>part of pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n            &lt;version&gt;7.0.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide-core&lt;/artifactId&gt;\n            &lt;version&gt;7.0.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>My config bean for create instance of WebDriver:</strong></p>\n<pre><code>@Component\npublic class DriverConfig {\n    private WebDriver driver;\n\n    public WebDriver getDriver() {\n        if (Objects.isNull(driver)) {\n            ChromeOptions options = new ChromeOptions();\n            options.addArguments(&quot;--no-sandbox&quot;);\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n            options.addArguments(&quot;--remote-allow-origins=*&quot;);\n            options.setHeadless(true);\n            WebDriverManager.chromedriver().setup();\n            driver = new ChromeDriver(options);\n        }\n        return driver;\n    }\n}\n</code></pre>\n<p><strong>Setup this webDriver:</strong></p>\n<pre><code>WebDriverRunner.setWebDriver(driverConfig.getDriver());\n</code></pre>\n<p>it doesn't seem like the right decision to me.\nI would be glad if someone could suggest a better solution to the problem.\nand I hope that selenide authors will release a fix for such cases.\nthank you all in advance for your answers!</p>\n"},{"tags":["java","spring","eclipse","jsp"],"owner":{"account_id":30048332,"reputation":1,"user_id":23027441,"display_name":"Greeny"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701607914,"answer_count":0,"score":-3,"last_activity_date":1701529428,"creation_date":1701529396,"question_id":77590888,"body_markdown":"cant run the sample application from a guy&#39;s repo uploaded 4yrs back.trying to build employee management web app using jsp,java,spring,etc.I&#39;m in beginning stage of learning jsp connection to java.Can anyone tell me what needs to be updated.\r\n\r\nhttps://github.com/navinreddy20/Spring-MVC-Tutorial/tree/master/DemoMVC2\r\n\r\n\r\nupdated tomcat as runtime in properties.\r\nADDED SEVERAL dependencies.\r\nchanged versions.","title":"Errors while trying to run a simple spring&lt;-&gt;jsp program","body":"<p>cant run the sample application from a guy's repo uploaded 4yrs back.trying to build employee management web app using jsp,java,spring,etc.I'm in beginning stage of learning jsp connection to java.Can anyone tell me what needs to be updated.</p>\n<p><a href=\"https://github.com/navinreddy20/Spring-MVC-Tutorial/tree/master/DemoMVC2\" rel=\"nofollow noreferrer\">https://github.com/navinreddy20/Spring-MVC-Tutorial/tree/master/DemoMVC2</a></p>\n<p>updated tomcat as runtime in properties.\nADDED SEVERAL dependencies.\nchanged versions.</p>\n"},{"tags":["java","reactjs","docker","rest","amazon-elastic-beanstalk"],"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701529261,"creation_date":1701529261,"question_id":77590881,"body_markdown":"I have create an API in java and frontend in REACT, both are hosted as dockerised app on AWS Elastic Bean Stalk, both are in running state, but react is unable to fetch data from backend, I have checked both app docker logs, so I have figured out problem in react docker logs, here:\r\n\r\n    [root@ip-172-31-35-104 ~]# docker logs 600992467b7b\r\n    \r\n     engicodes@0.0.0 dev\r\n     vite --host\r\n    \r\n    \r\n      VITE v4.4.9  ready in 1973 ms\r\n    \r\n      ➜  Local:   http://localhost:5173/\r\n      ➜  Network: http://172.17.0.3:5173/\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    \r\n    - /app\r\n    \r\n    Refer to docs https://vitejs.dev/config/server-options.html#server-fs-allow for configurations and more details.\r\n    \r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    (node:18) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a &#39;clientError&#39; event.\r\n    (Use `node --trace-warnings ...` to show where the warning was created)\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.\r\n    The request url &quot;/app/.env&quot; is outside of Vite serving allow list.`\r\n\r\nYou can check the website here, [aws-fullstack-app-engicodes.com][1]\r\n\r\n\r\nJava logs(They are fully functional):\r\n\r\n    2023-12-02T14:43:45.455Z  INFO 1 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 1 JPA repository interfaces.\r\n    2023-12-02T14:43:47.041Z  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-12-02T14:43:47.068Z  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-12-02T14:43:47.069Z  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\r\n    2023-12-02T14:43:47.293Z  INFO 1 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-12-02T14:43:47.304Z  INFO 1 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3651 ms\r\n    2023-12-02T14:43:47.874Z  INFO 1 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.16.3 by Redgate\r\n    2023-12-02T14:43:47.874Z  INFO 1 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi\r\n    2023-12-02T14:43:47.874Z  INFO 1 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    :\r\n    2023-12-02T14:43:47.883Z  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-12-02T14:43:48.650Z  INFO 1 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@336aec6c\r\n    2023-12-02T14:43:48.652Z  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-12-02T14:43:48.676Z  INFO 1 --- [  restartedMain] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://awseb-e-jt9q88aiqh-stack-awsebrdsdatabase-smderdvxmd7a.cc5avkfjyrz9.eu-north-1.rds.amazonaws.com:5432/customer (PostgreSQL 15.4)\r\n    2023-12-02T14:43:48.780Z  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 3 migrations (execution time 00:00.061s)\r\n    2023-12-02T14:43:48.876Z  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;public&quot;: 3\r\n    2023-12-02T14:43:48.881Z  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Schema &quot;public&quot; is up to date. No migration necessary.\r\n    2023-12-02T14:43:49.213Z  INFO 1 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-12-02T14:43:49.366Z  INFO 1 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\r\n    2023-12-02T14:43:49.377Z  INFO 1 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n    2023-12-02T14:43:49.622Z  INFO 1 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n    2023-12-02T14:43:49.849Z  INFO 1 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n    2023-12-02T14:43:50.230Z  INFO 1 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n    2023-12-02T14:43:51.178Z  INFO 1 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-12-02T14:43:51.184Z  INFO 1 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-12-02T14:43:52.008Z  WARN 1 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-12-02T14:43:52.721Z  INFO 1 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2023-12-02T14:43:52.783Z  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-12-02T14:43:52.807Z  INFO 1 --- [  restartedMain] c.a.fullstack.FullstackApplication       : Started FullstackApplication in 10.37 seconds (process running for 11.66)\r\n    Hibernate:\r\n        select\r\n            nextval(&#39;customer_id_seq&#39;)\r\n    Hibernate:\r\n        insert\r\n        into\r\n            customer\r\n            (age,email,gender,name,id)\r\n        values\r\n            (?,?,?,?,?)\r\n\r\nDataBase is successfully connected you can check in java logs.\r\n\r\n  [1]: http://engicodes-api-env.eba-3i9snmfd.eu-north-1.elasticbeanstalk.com","title":"Frontend is not fetching data from frontend?- React and Java","body":"<p>I have create an API in java and frontend in REACT, both are hosted as dockerised app on AWS Elastic Bean Stalk, both are in running state, but react is unable to fetch data from backend, I have checked both app docker logs, so I have figured out problem in react docker logs, here:</p>\n<pre><code>[root@ip-172-31-35-104 ~]# docker logs 600992467b7b\n\n engicodes@0.0.0 dev\n vite --host\n\n\n  VITE v4.4.9  ready in 1973 ms\n\n  ➜  Local:   http://localhost:5173/\n  ➜  Network: http://172.17.0.3:5173/\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\n\n- /app\n\nRefer to docs https://vitejs.dev/config/server-options.html#server-fs-allow for configurations and more details.\n\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\n(node:18) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a 'clientError' event.\n(Use `node --trace-warnings ...` to show where the warning was created)\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.\nThe request url &quot;/app/.env&quot; is outside of Vite serving allow list.`\n</code></pre>\n<p>You can check the website here, <a href=\"http://engicodes-api-env.eba-3i9snmfd.eu-north-1.elasticbeanstalk.com\" rel=\"nofollow noreferrer\">aws-fullstack-app-engicodes.com</a></p>\n<p>Java logs(They are fully functional):</p>\n<pre><code>2023-12-02T14:43:45.455Z  INFO 1 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 1 JPA repository interfaces.\n2023-12-02T14:43:47.041Z  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-12-02T14:43:47.068Z  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-12-02T14:43:47.069Z  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\n2023-12-02T14:43:47.293Z  INFO 1 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-12-02T14:43:47.304Z  INFO 1 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3651 ms\n2023-12-02T14:43:47.874Z  INFO 1 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.16.3 by Redgate\n2023-12-02T14:43:47.874Z  INFO 1 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi\n2023-12-02T14:43:47.874Z  INFO 1 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    :\n2023-12-02T14:43:47.883Z  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-12-02T14:43:48.650Z  INFO 1 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@336aec6c\n2023-12-02T14:43:48.652Z  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-12-02T14:43:48.676Z  INFO 1 --- [  restartedMain] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://awseb-e-jt9q88aiqh-stack-awsebrdsdatabase-smderdvxmd7a.cc5avkfjyrz9.eu-north-1.rds.amazonaws.com:5432/customer (PostgreSQL 15.4)\n2023-12-02T14:43:48.780Z  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 3 migrations (execution time 00:00.061s)\n2023-12-02T14:43:48.876Z  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;public&quot;: 3\n2023-12-02T14:43:48.881Z  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Schema &quot;public&quot; is up to date. No migration necessary.\n2023-12-02T14:43:49.213Z  INFO 1 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-12-02T14:43:49.366Z  INFO 1 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\n2023-12-02T14:43:49.377Z  INFO 1 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-12-02T14:43:49.622Z  INFO 1 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-12-02T14:43:49.849Z  INFO 1 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-12-02T14:43:50.230Z  INFO 1 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-12-02T14:43:51.178Z  INFO 1 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-12-02T14:43:51.184Z  INFO 1 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-12-02T14:43:52.008Z  WARN 1 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-12-02T14:43:52.721Z  INFO 1 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-12-02T14:43:52.783Z  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-12-02T14:43:52.807Z  INFO 1 --- [  restartedMain] c.a.fullstack.FullstackApplication       : Started FullstackApplication in 10.37 seconds (process running for 11.66)\nHibernate:\n    select\n        nextval('customer_id_seq')\nHibernate:\n    insert\n    into\n        customer\n        (age,email,gender,name,id)\n    values\n        (?,?,?,?,?)\n</code></pre>\n<p>DataBase is successfully connected you can check in java logs.</p>\n"},{"tags":["java","spring-boot","gradle","spring-data-jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701525242,"post_id":77590608,"comment_id":136787860,"body_markdown":"You haven&#39;t imported the annotation class. Add `import org.springframework.data.jpa.repository.config.EnableJpaRepositories;` to the import list.","body":"You haven&#39;t imported the annotation class. Add <code>import org.springframework.data.jpa.repository.config.EnableJpaRepo&zwnj;&#8203;sitories;</code> to the import list."},{"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"score":0,"creation_date":1701525484,"post_id":77590608,"comment_id":136787882,"body_markdown":"Thank you @MarkRotteveel . I edited the code and still have a similar error. In IntelliJ IDEA it indicates on the import that jpa is in red which means it can&#39;t find jpa.","body":"Thank you @MarkRotteveel . I edited the code and still have a similar error. In IntelliJ IDEA it indicates on the import that jpa is in red which means it can&#39;t find jpa."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701525590,"post_id":77590608,"comment_id":136787893,"body_markdown":"Try reimporting the Gradle project in IntelliJ (using the refresh button on the Gradle tab).","body":"Try reimporting the Gradle project in IntelliJ (using the refresh button on the Gradle tab)."},{"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"score":0,"creation_date":1701525920,"post_id":77590608,"comment_id":136787938,"body_markdown":"Thanks for the quick response @MarkRotteveel . It has the same issue after a refresh. Also, the same issue exists from the Windows command prompt as well.","body":"Thanks for the quick response @MarkRotteveel . It has the same issue after a refresh. Also, the same issue exists from the Windows command prompt as well."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701526164,"post_id":77590608,"comment_id":136787970,"body_markdown":"Check the libraries listed under `compileClasspath` of `.\\gradlew dependencies`, it suggests that it doesn&#39;t include `org.springframework.data:spring-data-jpa`, which should be added by `org.springframework.boot:spring-boot-starter-data-jpa`. Or you&#39;re looking at/modifying the wrong `build.gradle` file.","body":"Check the libraries listed under <code>compileClasspath</code> of <code>.\\gradlew dependencies</code>, it suggests that it doesn&#39;t include <code>org.springframework.data:spring-data-jpa</code>, which should be added by <code>org.springframework.boot:spring-boot-starter-data-jpa</code>. Or you&#39;re looking at/modifying the wrong <code>build.gradle</code> file."},{"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"score":0,"creation_date":1701526446,"post_id":77590608,"comment_id":136787989,"body_markdown":"Thanks @MarkRotteveel . `org.springframework.data:spring-data-jpa` is not found on the compile classpath. Neither is `org.springframework.boot:spring-boot-starter-data-jpa`. Not sure why they don&#39;t show up even though I&#39;m adding them to `implementation` in build.gradle. Any ideas?","body":"Thanks @MarkRotteveel . <code>org.springframework.data:spring-data-jpa</code> is not found on the compile classpath. Neither is <code>org.springframework.boot:spring-boot-starter-data-jpa</code>. Not sure why they don&#39;t show up even though I&#39;m adding them to <code>implementation</code> in build.gradle. Any ideas?"},{"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"score":0,"creation_date":1701526560,"post_id":77590608,"comment_id":136788000,"body_markdown":"Oh, one moment. I changed my build.gradle. Thanks for responses. Give me a moment please.","body":"Oh, one moment. I changed my build.gradle. Thanks for responses. Give me a moment please."},{"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"score":1,"creation_date":1701526828,"post_id":77590608,"comment_id":136788025,"body_markdown":"Thanks for your help! I&#39;m past this error now. You were right that I needed to add `import org.springframework.data.jpa.repository.config.EnableJpaRepositories;` to my .java file. Then I had edited my build.gradle to post my question after I had a problem and then ran into another error, which was then fixed by reverting build.gradle to the way it was in the original question. This is resolved. Thank you so much! @MarkRotteveel","body":"Thanks for your help! I&#39;m past this error now. You were right that I needed to add <code>import org.springframework.data.jpa.repository.config.EnableJpaRepo&zwnj;&#8203;sitories;</code> to my .java file. Then I had edited my build.gradle to post my question after I had a problem and then ran into another error, which was then fixed by reverting build.gradle to the way it was in the original question. This is resolved. Thank you so much! @MarkRotteveel"}],"owner":{"account_id":9366107,"reputation":61,"user_id":6950966,"display_name":"M. Franklin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701601889,"answer_count":0,"score":0,"last_activity_date":1701528241,"creation_date":1701525076,"question_id":77590608,"body_markdown":"The following error is appearing in my Spring Boot project. I&#39;m almost there, but I feel like I am missing something obvious. Any help would be much appreciated.\r\n\r\nThe error is as follows:\r\n\r\n\r\n```\r\nC:\\Users\\biz\\IdeaProjects\\genecab-bank\\src\\main\\java\\com\\genecab\\bank\\BankApplication.java:8: error: cannot find symbol\r\n@EnableJpaRepositories\r\n ^\r\n  symbol: class EnableJpaRepositories\r\n1 error\r\n\r\nFAILURE: Build failed with an exception.\r\n```\r\n\r\n\r\nHere is my BankApplication.java file:\r\n\r\n\r\n```\r\npackage com.genecab.bank;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class BankApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BankApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAnd here is my build.gradle:\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.genecab&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.data:spring-data-jdbc&#39;\r\n\timplementation &#39;com.h2database:h2&#39;\r\n\timplementation &#39;org.flywaydb:flyway-core&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nThank you ahead of time for your answer!\r\n\r\n\r\n\r\nI tried running the following command:\r\n\r\n\r\n```\r\n.\\gradlew clean build\r\n```\r\n\r\nI expected the following:\r\n\r\n\r\n```\r\nC:\\Users\\biz\\IdeaProjects\\genecab-bank&gt;.\\gradlew clean build\r\n\r\nBUILD SUCCESSFUL in 18s\r\n9 actionable tasks: 9 executed\r\n```\r\n","title":"Cannot find symbol EnableJpaRepositories even with build.gradle dependency org.springframework.boot:spring-boot-starter-data-jpa","body":"<p>The following error is appearing in my Spring Boot project. I'm almost there, but I feel like I am missing something obvious. Any help would be much appreciated.</p>\n<p>The error is as follows:</p>\n<pre><code>C:\\Users\\biz\\IdeaProjects\\genecab-bank\\src\\main\\java\\com\\genecab\\bank\\BankApplication.java:8: error: cannot find symbol\n@EnableJpaRepositories\n ^\n  symbol: class EnableJpaRepositories\n1 error\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<p>Here is my BankApplication.java file:</p>\n<pre><code>package com.genecab.bank;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class BankApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BankApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>And here is my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.genecab'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.data:spring-data-jdbc'\n    implementation 'com.h2database:h2'\n    implementation 'org.flywaydb:flyway-core'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>Thank you ahead of time for your answer!</p>\n<p>I tried running the following command:</p>\n<pre><code>.\\gradlew clean build\n</code></pre>\n<p>I expected the following:</p>\n<pre><code>C:\\Users\\biz\\IdeaProjects\\genecab-bank&gt;.\\gradlew clean build\n\nBUILD SUCCESSFUL in 18s\n9 actionable tasks: 9 executed\n</code></pre>\n"},{"tags":["java","websocket","micronaut"],"answers":[{"comments":[{"owner":{"account_id":3703694,"reputation":480,"user_id":3082743,"display_name":"rjaros"},"score":0,"creation_date":1701528341,"post_id":77547068,"comment_id":136788199,"body_markdown":"Thanks, @gabriel-ramuglia, for the response. However, using setReadTimeout didn&#39;t resolve my issue :/, but I appreciate the effort and thank you for providing inspiration :)","body":"Thanks, @gabriel-ramuglia, for the response. However, using setReadTimeout didn&#39;t resolve my issue :/, but I appreciate the effort and thank you for providing inspiration :)"}],"tags":[],"owner":{"account_id":1669665,"reputation":775,"user_id":1536363,"display_name":"Gabriel Ramuglia"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700898896,"creation_date":1700898896,"answer_id":77547068,"question_id":77522968,"body_markdown":"It seems like your Flux timeout isn&#39;t correctly handling the WebSocket connection. You should use a different approach to manage WebSocket timeouts, such as directly handling them in the WebSocketClient configuration. Try this instead:\r\n\r\n    import io.micronaut.http.client.HttpClientConfiguration;\r\n    import io.micronaut.websocket.WebSocketClient;\r\n    import java.time.Duration;\r\n    \r\n    // (some code)\r\n    \r\n    HttpClientConfiguration configuration = new HttpClientConfiguration();\r\n    configuration.setReadTimeout(Duration.ofMillis(40));\r\n    WebSocketClient webSocketClient = WebSocketClient.create(configuration);\r\n    \r\n    // (some more code)\r\n\r\n","title":"WebSocket connection attempt not interrupted by Flux timeout in Micronaut","body":"<p>It seems like your Flux timeout isn't correctly handling the WebSocket connection. You should use a different approach to manage WebSocket timeouts, such as directly handling them in the WebSocketClient configuration. Try this instead:</p>\n<pre><code>import io.micronaut.http.client.HttpClientConfiguration;\nimport io.micronaut.websocket.WebSocketClient;\nimport java.time.Duration;\n\n// (some code)\n\nHttpClientConfiguration configuration = new HttpClientConfiguration();\nconfiguration.setReadTimeout(Duration.ofMillis(40));\nWebSocketClient webSocketClient = WebSocketClient.create(configuration);\n\n// (some more code)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9734936,"reputation":296,"user_id":7218496,"accept_rate":40,"display_name":"Bibek Khadka"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701322388,"creation_date":1701322388,"answer_id":77576111,"question_id":77522968,"body_markdown":"You are asserting the value that hasn&#39;t been altered in the `onClose()` method:\r\n\r\n    package com.example;\r\n    \r\n    import io.micronaut.context.BeanContext;\r\n    import io.micronaut.test.extensions.junit5.annotation.MicronautTest;\r\n    import io.micronaut.websocket.WebSocketClient;\r\n    import io.micronaut.websocket.WebSocketSession;\r\n    import io.micronaut.websocket.annotation.ClientWebSocket;\r\n    import io.micronaut.websocket.annotation.OnClose;\r\n    import io.micronaut.websocket.annotation.OnMessage;\r\n    import io.micronaut.websocket.annotation.OnOpen;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.awaitility.Awaitility;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.Assertions;\r\n    \r\n    import jakarta.inject.Inject;\r\n    import org.reactivestreams.Publisher;\r\n    import reactor.core.publisher.Flux;\r\n    \r\n    import java.time.Duration;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    \r\n    @Slf4j\r\n    @MicronautTest\r\n    class WstimeoutTest {\r\n        static AtomicBoolean isOpened = new AtomicBoolean(false);\r\n    \r\n        @Inject\r\n        BeanContext beanContext;\r\n    \r\n        @ClientWebSocket\r\n        static abstract class TestWebSocketClient implements AutoCloseable {\r\n            @OnMessage\r\n            void onMessage(String message) {\r\n                log.info(&quot;[onMessage] Got message: {}&quot;, message);\r\n            }\r\n    \r\n            @OnOpen\r\n            void onOpen(WebSocketSession session) {\r\n                log.info(&quot;[onOpen] WS session id: {}&quot;, session.getId());\r\n                isOpened.set(true);\r\n            }\r\n    \r\n            @OnClose\r\n            void onClose(WebSocketSession session) {\r\n                log.info(&quot;[onClose] WS session id: {}&quot;, session.getId());\r\n                isOpened.set(false);\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        void testWebSocketTimeout() {\r\n            var uri = &quot;ws://localhost&quot;;\r\n            var timeout = Duration.ofMillis(40); //Put here the time that ws client is unable to establish (or emit OnOpen event) websocket connection\r\n    \r\n            var webSocketClient = beanContext.getBean(WebSocketClient.class);\r\n    \r\n            Publisher&lt;TestWebSocketClient&gt; client = webSocketClient.connect(TestWebSocketClient.class,  uri);\r\n            Flux.from(client)\r\n                    .timeout(timeout)\r\n                    .doOnError(throwable -&gt; log.info(&quot;Expected error: {}&quot;, throwable.getMessage()))\r\n                    .subscribe();\r\n    \r\n    \r\n            Awaitility.await().atLeast(Duration.ofMillis(250)).untilAsserted(\r\n                    () -&gt; Assertions.assertFalse(isOpened.get(), &quot;WebSocket should not be opened&quot;)\r\n            );\r\n        }\r\n    }\r\n\r\n","title":"WebSocket connection attempt not interrupted by Flux timeout in Micronaut","body":"<p>You are asserting the value that hasn't been altered in the <code>onClose()</code> method:</p>\n<pre><code>package com.example;\n\nimport io.micronaut.context.BeanContext;\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\nimport io.micronaut.websocket.WebSocketClient;\nimport io.micronaut.websocket.WebSocketSession;\nimport io.micronaut.websocket.annotation.ClientWebSocket;\nimport io.micronaut.websocket.annotation.OnClose;\nimport io.micronaut.websocket.annotation.OnMessage;\nimport io.micronaut.websocket.annotation.OnOpen;\nimport lombok.extern.slf4j.Slf4j;\nimport org.awaitility.Awaitility;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\n\nimport jakarta.inject.Inject;\nimport org.reactivestreams.Publisher;\nimport reactor.core.publisher.Flux;\n\nimport java.time.Duration;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\n@Slf4j\n@MicronautTest\nclass WstimeoutTest {\n    static AtomicBoolean isOpened = new AtomicBoolean(false);\n\n    @Inject\n    BeanContext beanContext;\n\n    @ClientWebSocket\n    static abstract class TestWebSocketClient implements AutoCloseable {\n        @OnMessage\n        void onMessage(String message) {\n            log.info(&quot;[onMessage] Got message: {}&quot;, message);\n        }\n\n        @OnOpen\n        void onOpen(WebSocketSession session) {\n            log.info(&quot;[onOpen] WS session id: {}&quot;, session.getId());\n            isOpened.set(true);\n        }\n\n        @OnClose\n        void onClose(WebSocketSession session) {\n            log.info(&quot;[onClose] WS session id: {}&quot;, session.getId());\n            isOpened.set(false);\n        }\n    }\n\n    @Test\n    void testWebSocketTimeout() {\n        var uri = &quot;ws://localhost&quot;;\n        var timeout = Duration.ofMillis(40); //Put here the time that ws client is unable to establish (or emit OnOpen event) websocket connection\n\n        var webSocketClient = beanContext.getBean(WebSocketClient.class);\n\n        Publisher&lt;TestWebSocketClient&gt; client = webSocketClient.connect(TestWebSocketClient.class,  uri);\n        Flux.from(client)\n                .timeout(timeout)\n                .doOnError(throwable -&gt; log.info(&quot;Expected error: {}&quot;, throwable.getMessage()))\n                .subscribe();\n\n\n        Awaitility.await().atLeast(Duration.ofMillis(250)).untilAsserted(\n                () -&gt; Assertions.assertFalse(isOpened.get(), &quot;WebSocket should not be opened&quot;)\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3703694,"reputation":480,"user_id":3082743,"display_name":"rjaros"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701527758,"creation_date":1701527758,"answer_id":77590780,"question_id":77522968,"body_markdown":"I believe I&#39;ve found a solution after researching and experimenting with `HttpClientConfiguration`. The solution involves setting the `ConnectTimeout` for the HttpClient :)\r\n\r\nAdditionally, in the case of connections to localhost, time limits may be ignored because communication occurs within the same environment(?) (at least below code fails even if I set `httpTimeout = Duration.ofNanos(1)` for local server). To test this, I utilized an online echo WebSocket server. Below is the complete example code along with my results:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport io.micronaut.context.BeanContext;\r\nimport io.micronaut.http.client.HttpClientConfiguration;\r\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\r\nimport io.micronaut.websocket.CloseReason;\r\nimport io.micronaut.websocket.WebSocketClient;\r\nimport io.micronaut.websocket.WebSocketSession;\r\nimport io.micronaut.websocket.annotation.ClientWebSocket;\r\nimport io.micronaut.websocket.annotation.OnClose;\r\nimport io.micronaut.websocket.annotation.OnError;\r\nimport io.micronaut.websocket.annotation.OnMessage;\r\nimport io.micronaut.websocket.annotation.OnOpen;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.awaitility.Awaitility;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.Assertions;\r\n\r\nimport jakarta.inject.Inject;\r\nimport org.reactivestreams.Publisher;\r\nimport reactor.core.publisher.Flux;\r\n\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.time.Duration;\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\n@Slf4j\r\n@MicronautTest\r\nclass WstimeoutTest {\r\n    static AtomicBoolean isOpened = new AtomicBoolean(false);\r\n    static AtomicBoolean isCompleted = new AtomicBoolean(false);\r\n    static AtomicReference&lt;CloseReason&gt; closeReasonAtomicReference = new AtomicReference&lt;&gt;();\r\n\r\n    @Inject\r\n    BeanContext beanContext;\r\n\r\n\r\n    @ClientWebSocket\r\n    static abstract class TestWebSocketClient implements AutoCloseable {\r\n        @OnMessage\r\n        void onMessage(String message, WebSocketSession session) {\r\n            log.info(&quot;[onMessage] Got message: {}&quot;, message);\r\n            session.close(CloseReason.NORMAL);\r\n        }\r\n\r\n        @OnOpen\r\n        void onOpen(WebSocketSession session) {\r\n            log.info(&quot;[onOpen] WS session id: {}&quot;, session.getId());\r\n            isOpened.set(true);\r\n            session.close(CloseReason.NORMAL);\r\n        }\r\n\r\n        @OnError\r\n        void onError(Throwable err, WebSocketSession session) {\r\n            log.error(&quot;[onError] WS session id: {}, with error: {}&quot;, session.getId(), err.getMessage());\r\n        }\r\n\r\n        @OnClose\r\n        void onClose(CloseReason closeReason, WebSocketSession session) {\r\n            log.info(&quot;[onClose] WS session id: {}, close code: {}&quot;, session.getId(), closeReason.getCode());\r\n            closeReasonAtomicReference.set(closeReason);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testWebSocketTimeout() {\r\n        URI uri = null;\r\n        try {\r\n            uri = new URI(&quot;&lt;provide address to external WS server&gt;&quot;);\r\n        } catch (URISyntaxException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        var fluxTimeout = Duration.ofMillis(2000);\r\n//        var httpTimeout = Duration.ofMillis(400); // within this time client is able to establish connection\r\n        var httpTimeout = Duration.ofMillis(30); // within this time the ws client is unable to establish websocket connection and ends/throws close code 1006\r\n\r\n        var httpClientConfiguration = beanContext.getBean(HttpClientConfiguration.class);\r\n\r\n        httpClientConfiguration.setConnectTimeout(httpTimeout);\r\n\r\n        var webSocketClient = beanContext.getBean(WebSocketClient.class);\r\n\r\n        Publisher&lt;TestWebSocketClient&gt; client = webSocketClient.connect(TestWebSocketClient.class, uri);\r\n\r\n        var disposable = Flux.from(client)\r\n                .timeout(fluxTimeout)\r\n                .doFinally(unused -&gt; isCompleted.set(true))\r\n                .subscribe(\r\n                        testWebSocketClient -&gt; {\r\n                            isOpened.set(true);\r\n                            log.info(&quot;Success&quot;);\r\n                        },\r\n                        throwable -&gt; {\r\n                            isOpened.set(false);\r\n                            log.info(&quot;Expected error: {}&quot;, throwable.getMessage(), throwable);\r\n                        }\r\n                );\r\n\r\n        Awaitility.await().atMost(fluxTimeout).pollInterval(Duration.ofMillis(50))\r\n                .untilAsserted(\r\n                        () -&gt; Assertions.assertTrue(isCompleted.get(), &quot;WebSocket should be completed&quot;)\r\n                );\r\n\r\n        Awaitility.await().atMost(fluxTimeout).pollInterval(Duration.ofMillis(50))\r\n                .untilAsserted(\r\n                () -&gt; Assertions.assertFalse(isOpened.get(), &quot;WebSocket should not be opened&quot;)\r\n        );\r\n        Awaitility.await().atMost(fluxTimeout).pollInterval(Duration.ofMillis(50))\r\n                .untilAsserted(\r\n                () -&gt; Assertions.assertNotEquals(CloseReason.NORMAL, closeReasonAtomicReference.get(),\r\n                        &quot;WebSocket should not be opened&quot;)\r\n        );\r\n\r\n        disposable.dispose();\r\n    }\r\n}\r\n\r\n```\r\nOutput:\r\n```\r\n&gt; Task :testClasses\r\n2023:12:02T14:54:12.335 [Test worker] INFO  i.m.c.DefaultApplicationContext$RuntimeConfiguredEnvironment[][] - Established active environments: [test]\r\n2023:12:02T14:54:13.286 [default-nioEventLoopGroup-1-2] INFO  com.example.WstimeoutTest[][] - Expected error: Error opening WebSocket client session: Abnormal Closure\r\nio.micronaut.websocket.exceptions.WebSocketClientException: Error opening WebSocket client session: Abnormal Closure\r\n\tat io.micronaut.http.client.netty.websocket.NettyWebSocketClientHandler.handleCloseReason(NettyWebSocketClientHandler.java:262)\r\n\t(...)\r\n&gt; Task :test\r\nBUILD SUCCESSFUL in 4s\r\n```\r\nIt appears that there is no specific `TimeoutException`, but instead a `WebSocketClientException` with information about an `Abnormal Closure`. Additionally, no WS events are triggered, such as `onOpen`, `onMessage`, `onClose`, or `onError` as expected.\r\n","title":"WebSocket connection attempt not interrupted by Flux timeout in Micronaut","body":"<p>I believe I've found a solution after researching and experimenting with <code>HttpClientConfiguration</code>. The solution involves setting the <code>ConnectTimeout</code> for the HttpClient :)</p>\n<p>Additionally, in the case of connections to localhost, time limits may be ignored because communication occurs within the same environment(?) (at least below code fails even if I set <code>httpTimeout = Duration.ofNanos(1)</code> for local server). To test this, I utilized an online echo WebSocket server. Below is the complete example code along with my results:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport io.micronaut.context.BeanContext;\nimport io.micronaut.http.client.HttpClientConfiguration;\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\nimport io.micronaut.websocket.CloseReason;\nimport io.micronaut.websocket.WebSocketClient;\nimport io.micronaut.websocket.WebSocketSession;\nimport io.micronaut.websocket.annotation.ClientWebSocket;\nimport io.micronaut.websocket.annotation.OnClose;\nimport io.micronaut.websocket.annotation.OnError;\nimport io.micronaut.websocket.annotation.OnMessage;\nimport io.micronaut.websocket.annotation.OnOpen;\nimport lombok.extern.slf4j.Slf4j;\nimport org.awaitility.Awaitility;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\n\nimport jakarta.inject.Inject;\nimport org.reactivestreams.Publisher;\nimport reactor.core.publisher.Flux;\n\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.time.Duration;\nimport java.util.concurrent.atomic.AtomicBoolean;\nimport java.util.concurrent.atomic.AtomicReference;\n\n@Slf4j\n@MicronautTest\nclass WstimeoutTest {\n    static AtomicBoolean isOpened = new AtomicBoolean(false);\n    static AtomicBoolean isCompleted = new AtomicBoolean(false);\n    static AtomicReference&lt;CloseReason&gt; closeReasonAtomicReference = new AtomicReference&lt;&gt;();\n\n    @Inject\n    BeanContext beanContext;\n\n\n    @ClientWebSocket\n    static abstract class TestWebSocketClient implements AutoCloseable {\n        @OnMessage\n        void onMessage(String message, WebSocketSession session) {\n            log.info(&quot;[onMessage] Got message: {}&quot;, message);\n            session.close(CloseReason.NORMAL);\n        }\n\n        @OnOpen\n        void onOpen(WebSocketSession session) {\n            log.info(&quot;[onOpen] WS session id: {}&quot;, session.getId());\n            isOpened.set(true);\n            session.close(CloseReason.NORMAL);\n        }\n\n        @OnError\n        void onError(Throwable err, WebSocketSession session) {\n            log.error(&quot;[onError] WS session id: {}, with error: {}&quot;, session.getId(), err.getMessage());\n        }\n\n        @OnClose\n        void onClose(CloseReason closeReason, WebSocketSession session) {\n            log.info(&quot;[onClose] WS session id: {}, close code: {}&quot;, session.getId(), closeReason.getCode());\n            closeReasonAtomicReference.set(closeReason);\n        }\n    }\n\n    @Test\n    void testWebSocketTimeout() {\n        URI uri = null;\n        try {\n            uri = new URI(&quot;&lt;provide address to external WS server&gt;&quot;);\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(e);\n        }\n        var fluxTimeout = Duration.ofMillis(2000);\n//        var httpTimeout = Duration.ofMillis(400); // within this time client is able to establish connection\n        var httpTimeout = Duration.ofMillis(30); // within this time the ws client is unable to establish websocket connection and ends/throws close code 1006\n\n        var httpClientConfiguration = beanContext.getBean(HttpClientConfiguration.class);\n\n        httpClientConfiguration.setConnectTimeout(httpTimeout);\n\n        var webSocketClient = beanContext.getBean(WebSocketClient.class);\n\n        Publisher&lt;TestWebSocketClient&gt; client = webSocketClient.connect(TestWebSocketClient.class, uri);\n\n        var disposable = Flux.from(client)\n                .timeout(fluxTimeout)\n                .doFinally(unused -&gt; isCompleted.set(true))\n                .subscribe(\n                        testWebSocketClient -&gt; {\n                            isOpened.set(true);\n                            log.info(&quot;Success&quot;);\n                        },\n                        throwable -&gt; {\n                            isOpened.set(false);\n                            log.info(&quot;Expected error: {}&quot;, throwable.getMessage(), throwable);\n                        }\n                );\n\n        Awaitility.await().atMost(fluxTimeout).pollInterval(Duration.ofMillis(50))\n                .untilAsserted(\n                        () -&gt; Assertions.assertTrue(isCompleted.get(), &quot;WebSocket should be completed&quot;)\n                );\n\n        Awaitility.await().atMost(fluxTimeout).pollInterval(Duration.ofMillis(50))\n                .untilAsserted(\n                () -&gt; Assertions.assertFalse(isOpened.get(), &quot;WebSocket should not be opened&quot;)\n        );\n        Awaitility.await().atMost(fluxTimeout).pollInterval(Duration.ofMillis(50))\n                .untilAsserted(\n                () -&gt; Assertions.assertNotEquals(CloseReason.NORMAL, closeReasonAtomicReference.get(),\n                        &quot;WebSocket should not be opened&quot;)\n        );\n\n        disposable.dispose();\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>&gt; Task :testClasses\n2023:12:02T14:54:12.335 [Test worker] INFO  i.m.c.DefaultApplicationContext$RuntimeConfiguredEnvironment[][] - Established active environments: [test]\n2023:12:02T14:54:13.286 [default-nioEventLoopGroup-1-2] INFO  com.example.WstimeoutTest[][] - Expected error: Error opening WebSocket client session: Abnormal Closure\nio.micronaut.websocket.exceptions.WebSocketClientException: Error opening WebSocket client session: Abnormal Closure\n    at io.micronaut.http.client.netty.websocket.NettyWebSocketClientHandler.handleCloseReason(NettyWebSocketClientHandler.java:262)\n    (...)\n&gt; Task :test\nBUILD SUCCESSFUL in 4s\n</code></pre>\n<p>It appears that there is no specific <code>TimeoutException</code>, but instead a <code>WebSocketClientException</code> with information about an <code>Abnormal Closure</code>. Additionally, no WS events are triggered, such as <code>onOpen</code>, <code>onMessage</code>, <code>onClose</code>, or <code>onError</code> as expected.</p>\n"}],"owner":{"account_id":3703694,"reputation":480,"user_id":3082743,"display_name":"rjaros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1701527758,"creation_date":1700571146,"question_id":77522968,"body_markdown":"I am encountering an issue while working with WebSocket connections in Micronaut 3.9.0. I am attempting to set a timeout for the WebSocket connection, and despite my efforts, the timeout doesn&#39;t seem to interrupt the connection attempt as expected.\r\n\r\nI&#39;ve tried using the timeout operator on the Flux&lt;TestWebSocketClient&gt; object, but it doesn&#39;t seem to be working as I think. The connection attempt continues beyond the specified timeout.\r\n\r\nSample code:\r\n```java\r\npackage com.example;\r\n\r\nimport io.micronaut.context.BeanContext;\r\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\r\nimport io.micronaut.websocket.WebSocketClient;\r\nimport io.micronaut.websocket.WebSocketSession;\r\nimport io.micronaut.websocket.annotation.ClientWebSocket;\r\nimport io.micronaut.websocket.annotation.OnClose;\r\nimport io.micronaut.websocket.annotation.OnMessage;\r\nimport io.micronaut.websocket.annotation.OnOpen;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.awaitility.Awaitility;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.Assertions;\r\n\r\nimport jakarta.inject.Inject;\r\nimport org.reactivestreams.Publisher;\r\nimport reactor.core.publisher.Flux;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\n@Slf4j\r\n@MicronautTest\r\nclass WstimeoutTest {\r\n    static AtomicBoolean isOpened = new AtomicBoolean(false);\r\n\r\n    @Inject\r\n    BeanContext beanContext;\r\n\r\n    @ClientWebSocket\r\n    static abstract class TestWebSocketClient implements AutoCloseable {\r\n        @OnMessage\r\n        void onMessage(String message) {\r\n            log.info(&quot;[onMessage] Got message: {}&quot;, message);\r\n        }\r\n\r\n        @OnOpen\r\n        void onOpen(WebSocketSession session) {\r\n            log.info(&quot;[onOpen] WS session id: {}&quot;, session.getId());\r\n            isOpened.set(true);\r\n        }\r\n\r\n        @OnClose\r\n        void onClose(WebSocketSession session) {\r\n            log.info(&quot;[onClose] WS session id: {}&quot;, session.getId());\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testWebSocketTimeout() {\r\n        var uri = &quot;ws://localhost&quot;;\r\n        var timeout = Duration.ofMillis(40); //Put here the time that ws client is unable to establish (or emit OnOpen event) websocket connection\r\n\r\n        var webSocketClient = beanContext.getBean(WebSocketClient.class);\r\n\r\n        Publisher&lt;TestWebSocketClient&gt; client = webSocketClient.connect(TestWebSocketClient.class,  uri);\r\n        Flux.from(client)\r\n                .timeout(timeout)\r\n                .doOnError(throwable -&gt; log.info(&quot;Expected error: {}&quot;, throwable.getMessage()))\r\n                .subscribe();\r\n\r\n\r\n        Awaitility.await().atLeast(Duration.ofMillis(250)).untilAsserted(\r\n                () -&gt; Assertions.assertFalse(isOpened.get(), &quot;WebSocket should not be opened&quot;)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nThe test output:\r\n```\r\n2023:11:21T13:24:56.140 [parallel-1] INFO  com.example.WstimeoutTest[][] - Expected error: Did not observe any item or terminal signal within 40ms in &#39;switchMapNoPrefetch&#39; (and no fallback has been configured)\r\n2023:11:21T13:24:56.178 [default-nioEventLoopGroup-1-2] INFO com.example.WstimeoutTest[][] - [onOpen] WS session id: AOKppbvUUl5zc3/x1N0lBiXW4WU=\r\n\r\nWebSocket should not be opened\r\nExpected :false\r\nActual   :true\r\n```\r\n\r\nIs there any way to properly timeout the WebSocket connection?","title":"WebSocket connection attempt not interrupted by Flux timeout in Micronaut","body":"<p>I am encountering an issue while working with WebSocket connections in Micronaut 3.9.0. I am attempting to set a timeout for the WebSocket connection, and despite my efforts, the timeout doesn't seem to interrupt the connection attempt as expected.</p>\n<p>I've tried using the timeout operator on the Flux object, but it doesn't seem to be working as I think. The connection attempt continues beyond the specified timeout.</p>\n<p>Sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport io.micronaut.context.BeanContext;\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\nimport io.micronaut.websocket.WebSocketClient;\nimport io.micronaut.websocket.WebSocketSession;\nimport io.micronaut.websocket.annotation.ClientWebSocket;\nimport io.micronaut.websocket.annotation.OnClose;\nimport io.micronaut.websocket.annotation.OnMessage;\nimport io.micronaut.websocket.annotation.OnOpen;\nimport lombok.extern.slf4j.Slf4j;\nimport org.awaitility.Awaitility;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\n\nimport jakarta.inject.Inject;\nimport org.reactivestreams.Publisher;\nimport reactor.core.publisher.Flux;\n\nimport java.time.Duration;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\n@Slf4j\n@MicronautTest\nclass WstimeoutTest {\n    static AtomicBoolean isOpened = new AtomicBoolean(false);\n\n    @Inject\n    BeanContext beanContext;\n\n    @ClientWebSocket\n    static abstract class TestWebSocketClient implements AutoCloseable {\n        @OnMessage\n        void onMessage(String message) {\n            log.info(&quot;[onMessage] Got message: {}&quot;, message);\n        }\n\n        @OnOpen\n        void onOpen(WebSocketSession session) {\n            log.info(&quot;[onOpen] WS session id: {}&quot;, session.getId());\n            isOpened.set(true);\n        }\n\n        @OnClose\n        void onClose(WebSocketSession session) {\n            log.info(&quot;[onClose] WS session id: {}&quot;, session.getId());\n        }\n    }\n\n    @Test\n    void testWebSocketTimeout() {\n        var uri = &quot;ws://localhost&quot;;\n        var timeout = Duration.ofMillis(40); //Put here the time that ws client is unable to establish (or emit OnOpen event) websocket connection\n\n        var webSocketClient = beanContext.getBean(WebSocketClient.class);\n\n        Publisher&lt;TestWebSocketClient&gt; client = webSocketClient.connect(TestWebSocketClient.class,  uri);\n        Flux.from(client)\n                .timeout(timeout)\n                .doOnError(throwable -&gt; log.info(&quot;Expected error: {}&quot;, throwable.getMessage()))\n                .subscribe();\n\n\n        Awaitility.await().atLeast(Duration.ofMillis(250)).untilAsserted(\n                () -&gt; Assertions.assertFalse(isOpened.get(), &quot;WebSocket should not be opened&quot;)\n        );\n    }\n}\n</code></pre>\n<p>The test output:</p>\n<pre><code>2023:11:21T13:24:56.140 [parallel-1] INFO  com.example.WstimeoutTest[][] - Expected error: Did not observe any item or terminal signal within 40ms in 'switchMapNoPrefetch' (and no fallback has been configured)\n2023:11:21T13:24:56.178 [default-nioEventLoopGroup-1-2] INFO com.example.WstimeoutTest[][] - [onOpen] WS session id: AOKppbvUUl5zc3/x1N0lBiXW4WU=\n\nWebSocket should not be opened\nExpected :false\nActual   :true\n</code></pre>\n<p>Is there any way to properly timeout the WebSocket connection?</p>\n"},{"tags":["java","maven","opencsv"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701389948,"post_id":77581503,"comment_id":136773047,"body_markdown":"_&quot;...when running the package&quot;_ - Are you deploying the package to a server? If so, this means the classes aren&#39;t available in the _deployed_ environment.","body":"<i>&quot;...when running the package&quot;</i> - Are you deploying the package to a server? If so, this means the classes aren&#39;t available in the <i>deployed</i> environment."},{"owner":{"account_id":21152291,"reputation":17,"user_id":15552338,"display_name":"Hexanilix"},"score":0,"creation_date":1701438242,"post_id":77581503,"comment_id":136778804,"body_markdown":"&quot;Are you deploying the package to a server?&quot;, yea but shouldn&#39;t the class be automatically packaged inside my package?","body":"&quot;Are you deploying the package to a server?&quot;, yea but shouldn&#39;t the class be automatically packaged inside my package?"}],"answers":[{"tags":[],"owner":{"account_id":28870741,"reputation":33,"user_id":22112342,"display_name":"Roy503"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701527221,"creation_date":1701527221,"answer_id":77590740,"question_id":77581503,"body_markdown":"When you package Maven it won&#39;t package the dependencies into the jar, you need to either move them to where you&#39;re running it or create a fat jar like this:\r\n\r\nclean compile assembly:single\r\n","title":"OpenCSV classes not defined with maven even though dependancy is clarified","body":"<p>When you package Maven it won't package the dependencies into the jar, you need to either move them to where you're running it or create a fat jar like this:</p>\n<p>clean compile assembly:single</p>\n"}],"owner":{"account_id":21152291,"reputation":17,"user_id":15552338,"display_name":"Hexanilix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701527221,"creation_date":1701376222,"question_id":77581503,"body_markdown":"So I&#39;m trying to use OpenCSV with my maven project and it works before packaging (Builds no problem and I can see the classes are present) but I keep getting this error with Java that OpenCSV classes aren&#39;t defined when running the package:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: com/opencsv/CSVReader\r\n\t...\r\nCaused by: java.lang.ClassNotFoundException: com.opencsv.CSVReader\r\n\t...\r\n```\r\nHere&#39;s my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;game&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;24.0.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nI&#39;m using IntelliJ as my IDE and I have no idea why this doesn&#39;t work since I&#39;ve never had this issue before. I also tried to make a new project and same result each time","title":"OpenCSV classes not defined with maven even though dependancy is clarified","body":"<p>So I'm trying to use OpenCSV with my maven project and it works before packaging (Builds no problem and I can see the classes are present) but I keep getting this error with Java that OpenCSV classes aren't defined when running the package:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/opencsv/CSVReader\n    ...\nCaused by: java.lang.ClassNotFoundException: com.opencsv.CSVReader\n    ...\n</code></pre>\n<p>Here's my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;game&lt;/groupId&gt;\n    &lt;artifactId&gt;Plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;24.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I'm using IntelliJ as my IDE and I have no idea why this doesn't work since I've never had this issue before. I also tried to make a new project and same result each time</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1398023,"reputation":991,"user_id":1327398,"display_name":"Joshua Davies"},"score":8,"creation_date":1334701886,"post_id":2985317,"comment_id":13097443,"body_markdown":"This sort of comment doesn&#39;t seem very constructive, especially since when I googled this question, _this link_ was the top hit.","body":"This sort of comment doesn&#39;t seem very constructive, especially since when I googled this question, <i>this link</i> was the top hit."},{"owner":{"account_id":24366,"reputation":7247,"user_id":61938,"accept_rate":71,"display_name":"Rob Grant"},"score":0,"creation_date":1468648815,"post_id":2985317,"comment_id":64224799,"body_markdown":"Also, &quot;you can find the answer on Google&quot; is not a valid response to an SO question. We know. The point is, we want one place that has high quality Q&amp;A.","body":"Also, &quot;you can find the answer on Google&quot; is not a valid response to an SO question. We know. The point is, we want one place that has high quality Q&amp;A."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275850271,"creation_date":1275850271,"answer_id":2985452,"question_id":2985317,"body_markdown":"There&#39;s a Java applet at [`cut-the-knot.org`](http://www.cut-the-knot.org/Curriculum/Combinatorics/CriticalPath.shtml). There&#39;s also an [online calculator at sporkforge.com](http://sporkforge.com/sched/critical_path.php).\r\n\r\n### References\r\n\r\n* [Wikipedia/Critical path method](http://en.wikipedia.org/wiki/Critical_path_method)","title":"Critical Path Method Algorithm","body":"<p>There's a Java applet at <a href=\"http://www.cut-the-knot.org/Curriculum/Combinatorics/CriticalPath.shtml\" rel=\"nofollow noreferrer\"><code>cut-the-knot.org</code></a>. There's also an <a href=\"http://sporkforge.com/sched/critical_path.php\" rel=\"nofollow noreferrer\">online calculator at sporkforge.com</a>.</p>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Critical_path_method\" rel=\"nofollow noreferrer\">Wikipedia/Critical path method</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":111602,"reputation":8153,"user_id":294738,"accept_rate":67,"display_name":"M. Jessup"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1276255885,"creation_date":1276255885,"answer_id":3022314,"question_id":2985317,"body_markdown":"Here is an implementation of the algorithm based on the explanation provided on [this page][1]\r\nThere is a wrapper class to hold the task, cost, and critical path cost. It starts by calculating the critical cost as the maximum critical cost of all dependencies plus its own cost. Then once the critical costs are available it uses a comparator to sort the tasks based on the critical cost with dependency as a tie breaker (choosing randomly if there is no dependency). Note that an exception will be thrown if there is a cycle and it will fail if any of the costs are negative.\r\n\r\nHere is the implementation:\r\n\r\n    public class CriticalPath {\r\n    \r\n      public static void main(String[] args) {\r\n        //The example dependency graph from\r\n        //http://www.ctl.ua.edu/math103/scheduling/scheduling_algorithms.htm\r\n        HashSet&lt;Task&gt; allTasks = new HashSet&lt;Task&gt;();\r\n        Task end = new Task(&quot;End&quot;, 0);\r\n        Task F = new Task(&quot;F&quot;, 2, end);\r\n        Task A = new Task(&quot;A&quot;, 3, end);\r\n        Task X = new Task(&quot;X&quot;, 4, F, A);\r\n        Task Q = new Task(&quot;Q&quot;, 2, A, X);\r\n        Task start = new Task(&quot;Start&quot;, 0, Q);\r\n        allTasks.add(end);\r\n        allTasks.add(F);\r\n        allTasks.add(A);\r\n        allTasks.add(X);\r\n        allTasks.add(Q);\r\n        allTasks.add(start);\r\n        System.out.println(&quot;Critical Path: &quot;+Arrays.toString(criticalPath(allTasks)));\r\n      }\r\n      \r\n      //A wrapper class to hold the tasks during the calculation\r\n      public static class Task{\r\n        //the actual cost of the task\r\n        public int cost;\r\n        //the cost of the task along the critical path\r\n        public int criticalCost;\r\n        //a name for the task for printing\r\n        public String name;\r\n        //the tasks on which this task is dependant\r\n        public HashSet&lt;Task&gt; dependencies = new HashSet&lt;Task&gt;();\r\n        public Task(String name, int cost, Task... dependencies) {\r\n          this.name = name;\r\n          this.cost = cost;\r\n          for(Task t : dependencies){\r\n            this.dependencies.add(t);\r\n          }\r\n        }\r\n        @Override\r\n        public String toString() {\r\n          return name+&quot;: &quot;+criticalCost;\r\n        }\r\n        public boolean isDependent(Task t){\r\n          //is t a direct dependency?\r\n          if(dependencies.contains(t)){\r\n            return true;\r\n          }\r\n          //is t an indirect dependency\r\n          for(Task dep : dependencies){\r\n            if(dep.isDependent(t)){\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      public static Task[] criticalPath(Set&lt;Task&gt; tasks){\r\n        //tasks whose critical cost has been calculated\r\n        HashSet&lt;Task&gt; completed = new HashSet&lt;Task&gt;();\r\n        //tasks whose ciritcal cost needs to be calculated\r\n        HashSet&lt;Task&gt; remaining = new HashSet&lt;Task&gt;(tasks);\r\n        \r\n        //Backflow algorithm\r\n        //while there are tasks whose critical cost isn&#39;t calculated.\r\n        while(!remaining.isEmpty()){\r\n          boolean progress = false;\r\n          \r\n          //find a new task to calculate\r\n          for(Iterator&lt;Task&gt; it = remaining.iterator();it.hasNext();){\r\n            Task task = it.next();\r\n            if(completed.containsAll(task.dependencies)){\r\n              //all dependencies calculated, critical cost is max dependency\r\n              //critical cost, plus our cost\r\n              int critical = 0;\r\n              for(Task t : task.dependencies){\r\n                if(t.criticalCost &gt; critical){\r\n                  critical = t.criticalCost;\r\n                }\r\n              }\r\n              task.criticalCost = critical+task.cost;\r\n              //set task as calculated an remove\r\n              completed.add(task);\r\n              it.remove();\r\n              //note we are making progress\r\n              progress = true;\r\n            }\r\n          }\r\n          //If we haven&#39;t made any progress then a cycle must exist in\r\n          //the graph and we wont be able to calculate the critical path\r\n          if(!progress) throw new RuntimeException(&quot;Cyclic dependency, algorithm stopped!&quot;);\r\n        }\r\n        \r\n        //get the tasks\r\n        Task[] ret = completed.toArray(new Task[0]);\r\n        //create a priority list\r\n        Arrays.sort(ret, new Comparator&lt;Task&gt;() {\r\n    \r\n          @Override\r\n          public int compare(Task o1, Task o2) {\r\n            //sort by cost\r\n            int i= o2.criticalCost-o1.criticalCost;\r\n            if(i != 0)return i;\r\n            \r\n            //using dependency as a tie breaker\r\n            //note if a is dependent on b then\r\n            //critical cost a must be &gt;= critical cost of b\r\n            if(o1.isDependent(o2))return -1;\r\n            if(o2.isDependent(o1))return 1;\r\n            return 0;\r\n          }\r\n        });\r\n        \r\n        return ret;\r\n      }\r\n    }\r\n\r\n  [1]: http://www.ctl.ua.edu/math103/scheduling/scheduling_algorithms.htm","title":"Critical Path Method Algorithm","body":"<p>Here is an implementation of the algorithm based on the explanation provided on <a href=\"http://www.ctl.ua.edu/math103/scheduling/scheduling_algorithms.htm\" rel=\"noreferrer\">this page</a>\nThere is a wrapper class to hold the task, cost, and critical path cost. It starts by calculating the critical cost as the maximum critical cost of all dependencies plus its own cost. Then once the critical costs are available it uses a comparator to sort the tasks based on the critical cost with dependency as a tie breaker (choosing randomly if there is no dependency). Note that an exception will be thrown if there is a cycle and it will fail if any of the costs are negative.</p>\n\n<p>Here is the implementation:</p>\n\n<pre><code>public class CriticalPath {\n\n  public static void main(String[] args) {\n    //The example dependency graph from\n    //http://www.ctl.ua.edu/math103/scheduling/scheduling_algorithms.htm\n    HashSet&lt;Task&gt; allTasks = new HashSet&lt;Task&gt;();\n    Task end = new Task(\"End\", 0);\n    Task F = new Task(\"F\", 2, end);\n    Task A = new Task(\"A\", 3, end);\n    Task X = new Task(\"X\", 4, F, A);\n    Task Q = new Task(\"Q\", 2, A, X);\n    Task start = new Task(\"Start\", 0, Q);\n    allTasks.add(end);\n    allTasks.add(F);\n    allTasks.add(A);\n    allTasks.add(X);\n    allTasks.add(Q);\n    allTasks.add(start);\n    System.out.println(\"Critical Path: \"+Arrays.toString(criticalPath(allTasks)));\n  }\n\n  //A wrapper class to hold the tasks during the calculation\n  public static class Task{\n    //the actual cost of the task\n    public int cost;\n    //the cost of the task along the critical path\n    public int criticalCost;\n    //a name for the task for printing\n    public String name;\n    //the tasks on which this task is dependant\n    public HashSet&lt;Task&gt; dependencies = new HashSet&lt;Task&gt;();\n    public Task(String name, int cost, Task... dependencies) {\n      this.name = name;\n      this.cost = cost;\n      for(Task t : dependencies){\n        this.dependencies.add(t);\n      }\n    }\n    @Override\n    public String toString() {\n      return name+\": \"+criticalCost;\n    }\n    public boolean isDependent(Task t){\n      //is t a direct dependency?\n      if(dependencies.contains(t)){\n        return true;\n      }\n      //is t an indirect dependency\n      for(Task dep : dependencies){\n        if(dep.isDependent(t)){\n          return true;\n        }\n      }\n      return false;\n    }\n  }\n\n  public static Task[] criticalPath(Set&lt;Task&gt; tasks){\n    //tasks whose critical cost has been calculated\n    HashSet&lt;Task&gt; completed = new HashSet&lt;Task&gt;();\n    //tasks whose ciritcal cost needs to be calculated\n    HashSet&lt;Task&gt; remaining = new HashSet&lt;Task&gt;(tasks);\n\n    //Backflow algorithm\n    //while there are tasks whose critical cost isn't calculated.\n    while(!remaining.isEmpty()){\n      boolean progress = false;\n\n      //find a new task to calculate\n      for(Iterator&lt;Task&gt; it = remaining.iterator();it.hasNext();){\n        Task task = it.next();\n        if(completed.containsAll(task.dependencies)){\n          //all dependencies calculated, critical cost is max dependency\n          //critical cost, plus our cost\n          int critical = 0;\n          for(Task t : task.dependencies){\n            if(t.criticalCost &gt; critical){\n              critical = t.criticalCost;\n            }\n          }\n          task.criticalCost = critical+task.cost;\n          //set task as calculated an remove\n          completed.add(task);\n          it.remove();\n          //note we are making progress\n          progress = true;\n        }\n      }\n      //If we haven't made any progress then a cycle must exist in\n      //the graph and we wont be able to calculate the critical path\n      if(!progress) throw new RuntimeException(\"Cyclic dependency, algorithm stopped!\");\n    }\n\n    //get the tasks\n    Task[] ret = completed.toArray(new Task[0]);\n    //create a priority list\n    Arrays.sort(ret, new Comparator&lt;Task&gt;() {\n\n      @Override\n      public int compare(Task o1, Task o2) {\n        //sort by cost\n        int i= o2.criticalCost-o1.criticalCost;\n        if(i != 0)return i;\n\n        //using dependency as a tie breaker\n        //note if a is dependent on b then\n        //critical cost a must be &gt;= critical cost of b\n        if(o1.isDependent(o2))return -1;\n        if(o2.isDependent(o1))return 1;\n        return 0;\n      }\n    });\n\n    return ret;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3314697,"reputation":235,"user_id":2787333,"display_name":"Simon K"},"score":0,"creation_date":1668774614,"post_id":9774655,"comment_id":131493892,"body_markdown":"What does the `isDependent(Task t)` do?","body":"What does the <code>isDependent(Task t)</code> do?"}],"tags":[],"owner":{"account_id":455034,"reputation":1952,"user_id":853005,"accept_rate":76,"display_name":"mert"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1332177188,"creation_date":1332177188,"answer_id":9774655,"question_id":2985317,"body_markdown":"Here is the another version of Jessup&#39;s code. I simply add some other functions and now the code calculates earliest/latest start and finish times, slack and whether the node is on the critical path or not. (I simply added the functions and get the result, I haven&#39;t put much effort on algorithm and coding)\r\n\r\n    public class CriticalPath {\r\n    \tpublic static int maxCost;\r\n    \tpublic static String format = &quot;%1$-10s %2$-5s %3$-5s %4$-5s %5$-5s %6$-5s %7$-10s\\n&quot;;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// The example dependency graph\r\n    \t\tHashSet&lt;Task&gt; allTasks = new HashSet&lt;Task&gt;();\r\n    \t\tTask end = new Task(&quot;End&quot;, 0);\r\n    \t\tTask F = new Task(&quot;F&quot;, 2, end);\r\n    \t\tTask A = new Task(&quot;A&quot;, 3, end);\r\n    \t\tTask X = new Task(&quot;X&quot;, 4, F, A);\r\n    \t\tTask Q = new Task(&quot;Q&quot;, 2, A, X);\r\n    \t\tTask start = new Task(&quot;Start&quot;, 0, Q);\r\n    \t\tallTasks.add(end);\r\n    \t\tallTasks.add(F);\r\n    \t\tallTasks.add(A);\r\n    \t\tallTasks.add(X);\r\n    \t\tallTasks.add(Q);\r\n    \t\tallTasks.add(start);\r\n    \t\tTask[] result = criticalPath(allTasks);\r\n    \t\tprint(result);\r\n    \t\t// System.out.println(&quot;Critical Path: &quot; + Arrays.toString(result));\r\n    \t}\r\n    \r\n    \t// A wrapper class to hold the tasks during the calculation\r\n    \tpublic static class Task {\r\n    \t\t// the actual cost of the task\r\n    \t\tpublic int cost;\r\n    \t\t// the cost of the task along the critical path\r\n    \t\tpublic int criticalCost;\r\n    \t\t// a name for the task for printing\r\n    \t\tpublic String name;\r\n    \t\t// the earliest start\r\n    \t\tpublic int earlyStart;\r\n    \t\t// the earliest finish\r\n    \t\tpublic int earlyFinish;\r\n    \t\t// the latest start\r\n    \t\tpublic int latestStart;\r\n    \t\t// the latest finish\r\n    \t\tpublic int latestFinish;\r\n    \t\t// the tasks on which this task is dependant\r\n    \t\tpublic HashSet&lt;Task&gt; dependencies = new HashSet&lt;Task&gt;();\r\n    \r\n    \t\tpublic Task(String name, int cost, Task... dependencies) {\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.cost = cost;\r\n    \t\t\tfor (Task t : dependencies) {\r\n    \t\t\t\tthis.dependencies.add(t);\r\n    \t\t\t}\r\n    \t\t\tthis.earlyFinish = -1;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setLatest() {\r\n    \t\t\tlatestStart = maxCost - criticalCost;\r\n    \t\t\tlatestFinish = latestStart + cost;\r\n    \t\t}\r\n    \r\n    \t\tpublic String[] toStringArray() {\r\n    \t\t\tString criticalCond = earlyStart == latestStart ? &quot;Yes&quot; : &quot;No&quot;;\r\n    \t\t\tString[] toString = { name, earlyStart + &quot;&quot;, earlyFinish + &quot;&quot;, latestStart + &quot;&quot;, latestFinish + &quot;&quot;,\r\n    \t\t\t\t\tlatestStart - earlyStart + &quot;&quot;, criticalCond };\r\n    \t\t\treturn toString;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isDependent(Task t) {\r\n    \t\t\t// is t a direct dependency?\r\n    \t\t\tif (dependencies.contains(t)) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\t// is t an indirect dependency\r\n    \t\t\tfor (Task dep : dependencies) {\r\n    \t\t\t\tif (dep.isDependent(t)) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static Task[] criticalPath(Set&lt;Task&gt; tasks) {\r\n    \t\t// tasks whose critical cost has been calculated\r\n    \t\tHashSet&lt;Task&gt; completed = new HashSet&lt;Task&gt;();\r\n    \t\t// tasks whose critical cost needs to be calculated\r\n    \t\tHashSet&lt;Task&gt; remaining = new HashSet&lt;Task&gt;(tasks);\r\n    \r\n    \t\t// Backflow algorithm\r\n    \t\t// while there are tasks whose critical cost isn&#39;t calculated.\r\n    \t\twhile (!remaining.isEmpty()) {\r\n    \t\t\tboolean progress = false;\r\n    \r\n    \t\t\t// find a new task to calculate\r\n    \t\t\tfor (Iterator&lt;Task&gt; it = remaining.iterator(); it.hasNext();) {\r\n    \t\t\t\tTask task = it.next();\r\n    \t\t\t\tif (completed.containsAll(task.dependencies)) {\r\n    \t\t\t\t\t// all dependencies calculated, critical cost is max\r\n    \t\t\t\t\t// dependency\r\n    \t\t\t\t\t// critical cost, plus our cost\r\n    \t\t\t\t\tint critical = 0;\r\n    \t\t\t\t\tfor (Task t : task.dependencies) {\r\n    \t\t\t\t\t\tif (t.criticalCost &gt; critical) {\r\n    \t\t\t\t\t\t\tcritical = t.criticalCost;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\ttask.criticalCost = critical + task.cost;\r\n    \t\t\t\t\t// set task as calculated an remove\r\n    \t\t\t\t\tcompleted.add(task);\r\n    \t\t\t\t\tit.remove();\r\n    \t\t\t\t\t// note we are making progress\r\n    \t\t\t\t\tprogress = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t// If we haven&#39;t made any progress then a cycle must exist in\r\n    \t\t\t// the graph and we wont be able to calculate the critical path\r\n    \t\t\tif (!progress)\r\n    \t\t\t\tthrow new RuntimeException(&quot;Cyclic dependency, algorithm stopped!&quot;);\r\n    \t\t}\r\n    \r\n    \t\t// get the cost\r\n    \t\tmaxCost(tasks);\r\n    \t\tHashSet&lt;Task&gt; initialNodes = initials(tasks);\r\n    \t\tcalculateEarly(initialNodes);\r\n    \r\n    \t\t// get the tasks\r\n    \t\tTask[] ret = completed.toArray(new Task[0]);\r\n    \t\t// create a priority list\r\n    \t\tArrays.sort(ret, new Comparator&lt;Task&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Task o1, Task o2) {\r\n    \t\t\t\treturn o1.name.compareTo(o2.name);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\treturn ret;\r\n    \t}\r\n    \r\n    \tpublic static void calculateEarly(HashSet&lt;Task&gt; initials) {\r\n    \t\tfor (Task initial : initials) {\r\n    \t\t\tinitial.earlyStart = 0;\r\n    \t\t\tinitial.earlyFinish = initial.cost;\r\n    \t\t\tsetEarly(initial);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void setEarly(Task initial) {\r\n    \t\tint completionTime = initial.earlyFinish;\r\n    \t\tfor (Task t : initial.dependencies) {\r\n    \t\t\tif (completionTime &gt;= t.earlyStart) {\r\n    \t\t\t\tt.earlyStart = completionTime;\r\n    \t\t\t\tt.earlyFinish = completionTime + t.cost;\r\n    \t\t\t}\r\n    \t\t\tsetEarly(t);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static HashSet&lt;Task&gt; initials(Set&lt;Task&gt; tasks) {\r\n    \t\tHashSet&lt;Task&gt; remaining = new HashSet&lt;Task&gt;(tasks);\r\n    \t\tfor (Task t : tasks) {\r\n    \t\t\tfor (Task td : t.dependencies) {\r\n    \t\t\t\tremaining.remove(td);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.print(&quot;Initial nodes: &quot;);\r\n    \t\tfor (Task t : remaining)\r\n    \t\t\tSystem.out.print(t.name + &quot; &quot;);\r\n    \t\tSystem.out.print(&quot;\\n\\n&quot;);\r\n    \t\treturn remaining;\r\n    \t}\r\n    \r\n    \tpublic static void maxCost(Set&lt;Task&gt; tasks) {\r\n    \t\tint max = -1;\r\n    \t\tfor (Task t : tasks) {\r\n    \t\t\tif (t.criticalCost &gt; max)\r\n    \t\t\t\tmax = t.criticalCost;\r\n    \t\t}\r\n    \t\tmaxCost = max;\r\n    \t\tSystem.out.println(&quot;Critical path length (cost): &quot; + maxCost);\r\n    \t\tfor (Task t : tasks) {\r\n    \t\t\tt.setLatest();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void print(Task[] tasks) {\r\n    \t\tSystem.out.format(format, &quot;Task&quot;, &quot;ES&quot;, &quot;EF&quot;, &quot;LS&quot;, &quot;LF&quot;, &quot;Slack&quot;, &quot;Critical?&quot;);\r\n    \t\tfor (Task t : tasks)\r\n    \t\t\tSystem.out.format(format, (Object[]) t.toStringArray());\r\n    \t}\r\n    }","title":"Critical Path Method Algorithm","body":"<p>Here is the another version of Jessup's code. I simply add some other functions and now the code calculates earliest/latest start and finish times, slack and whether the node is on the critical path or not. (I simply added the functions and get the result, I haven't put much effort on algorithm and coding)</p>\n\n<pre><code>public class CriticalPath {\n    public static int maxCost;\n    public static String format = \"%1$-10s %2$-5s %3$-5s %4$-5s %5$-5s %6$-5s %7$-10s\\n\";\n\n    public static void main(String[] args) {\n        // The example dependency graph\n        HashSet&lt;Task&gt; allTasks = new HashSet&lt;Task&gt;();\n        Task end = new Task(\"End\", 0);\n        Task F = new Task(\"F\", 2, end);\n        Task A = new Task(\"A\", 3, end);\n        Task X = new Task(\"X\", 4, F, A);\n        Task Q = new Task(\"Q\", 2, A, X);\n        Task start = new Task(\"Start\", 0, Q);\n        allTasks.add(end);\n        allTasks.add(F);\n        allTasks.add(A);\n        allTasks.add(X);\n        allTasks.add(Q);\n        allTasks.add(start);\n        Task[] result = criticalPath(allTasks);\n        print(result);\n        // System.out.println(\"Critical Path: \" + Arrays.toString(result));\n    }\n\n    // A wrapper class to hold the tasks during the calculation\n    public static class Task {\n        // the actual cost of the task\n        public int cost;\n        // the cost of the task along the critical path\n        public int criticalCost;\n        // a name for the task for printing\n        public String name;\n        // the earliest start\n        public int earlyStart;\n        // the earliest finish\n        public int earlyFinish;\n        // the latest start\n        public int latestStart;\n        // the latest finish\n        public int latestFinish;\n        // the tasks on which this task is dependant\n        public HashSet&lt;Task&gt; dependencies = new HashSet&lt;Task&gt;();\n\n        public Task(String name, int cost, Task... dependencies) {\n            this.name = name;\n            this.cost = cost;\n            for (Task t : dependencies) {\n                this.dependencies.add(t);\n            }\n            this.earlyFinish = -1;\n        }\n\n        public void setLatest() {\n            latestStart = maxCost - criticalCost;\n            latestFinish = latestStart + cost;\n        }\n\n        public String[] toStringArray() {\n            String criticalCond = earlyStart == latestStart ? \"Yes\" : \"No\";\n            String[] toString = { name, earlyStart + \"\", earlyFinish + \"\", latestStart + \"\", latestFinish + \"\",\n                    latestStart - earlyStart + \"\", criticalCond };\n            return toString;\n        }\n\n        public boolean isDependent(Task t) {\n            // is t a direct dependency?\n            if (dependencies.contains(t)) {\n                return true;\n            }\n            // is t an indirect dependency\n            for (Task dep : dependencies) {\n                if (dep.isDependent(t)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n\n    public static Task[] criticalPath(Set&lt;Task&gt; tasks) {\n        // tasks whose critical cost has been calculated\n        HashSet&lt;Task&gt; completed = new HashSet&lt;Task&gt;();\n        // tasks whose critical cost needs to be calculated\n        HashSet&lt;Task&gt; remaining = new HashSet&lt;Task&gt;(tasks);\n\n        // Backflow algorithm\n        // while there are tasks whose critical cost isn't calculated.\n        while (!remaining.isEmpty()) {\n            boolean progress = false;\n\n            // find a new task to calculate\n            for (Iterator&lt;Task&gt; it = remaining.iterator(); it.hasNext();) {\n                Task task = it.next();\n                if (completed.containsAll(task.dependencies)) {\n                    // all dependencies calculated, critical cost is max\n                    // dependency\n                    // critical cost, plus our cost\n                    int critical = 0;\n                    for (Task t : task.dependencies) {\n                        if (t.criticalCost &gt; critical) {\n                            critical = t.criticalCost;\n                        }\n                    }\n                    task.criticalCost = critical + task.cost;\n                    // set task as calculated an remove\n                    completed.add(task);\n                    it.remove();\n                    // note we are making progress\n                    progress = true;\n                }\n            }\n            // If we haven't made any progress then a cycle must exist in\n            // the graph and we wont be able to calculate the critical path\n            if (!progress)\n                throw new RuntimeException(\"Cyclic dependency, algorithm stopped!\");\n        }\n\n        // get the cost\n        maxCost(tasks);\n        HashSet&lt;Task&gt; initialNodes = initials(tasks);\n        calculateEarly(initialNodes);\n\n        // get the tasks\n        Task[] ret = completed.toArray(new Task[0]);\n        // create a priority list\n        Arrays.sort(ret, new Comparator&lt;Task&gt;() {\n\n            @Override\n            public int compare(Task o1, Task o2) {\n                return o1.name.compareTo(o2.name);\n            }\n        });\n\n        return ret;\n    }\n\n    public static void calculateEarly(HashSet&lt;Task&gt; initials) {\n        for (Task initial : initials) {\n            initial.earlyStart = 0;\n            initial.earlyFinish = initial.cost;\n            setEarly(initial);\n        }\n    }\n\n    public static void setEarly(Task initial) {\n        int completionTime = initial.earlyFinish;\n        for (Task t : initial.dependencies) {\n            if (completionTime &gt;= t.earlyStart) {\n                t.earlyStart = completionTime;\n                t.earlyFinish = completionTime + t.cost;\n            }\n            setEarly(t);\n        }\n    }\n\n    public static HashSet&lt;Task&gt; initials(Set&lt;Task&gt; tasks) {\n        HashSet&lt;Task&gt; remaining = new HashSet&lt;Task&gt;(tasks);\n        for (Task t : tasks) {\n            for (Task td : t.dependencies) {\n                remaining.remove(td);\n            }\n        }\n\n        System.out.print(\"Initial nodes: \");\n        for (Task t : remaining)\n            System.out.print(t.name + \" \");\n        System.out.print(\"\\n\\n\");\n        return remaining;\n    }\n\n    public static void maxCost(Set&lt;Task&gt; tasks) {\n        int max = -1;\n        for (Task t : tasks) {\n            if (t.criticalCost &gt; max)\n                max = t.criticalCost;\n        }\n        maxCost = max;\n        System.out.println(\"Critical path length (cost): \" + maxCost);\n        for (Task t : tasks) {\n            t.setLatest();\n        }\n    }\n\n    public static void print(Task[] tasks) {\n        System.out.format(format, \"Task\", \"ES\", \"EF\", \"LS\", \"LF\", \"Slack\", \"Critical?\");\n        for (Task t : tasks)\n            System.out.format(format, (Object[]) t.toStringArray());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701526546,"creation_date":1701526546,"answer_id":77590696,"question_id":2985317,"body_markdown":"Another implementation than runs way faster that @M. Jessup&#39;s answer exists in algs4 library ([Github][1]).\r\n\r\n[Code example of algs4 use for Critical Path Method][2].\r\n\r\n[Doc on the method][3], see at _Critical path method_.\r\n\r\n\r\n  [1]: https://github.com/kevin-wayne/algs4\r\n  [2]: https://algs4.cs.princeton.edu/code/edu/princeton/cs/algs4/CPM.java.html\r\n  [3]: https://algs4.cs.princeton.edu/44sp/","title":"Critical Path Method Algorithm","body":"<p>Another implementation than runs way faster that @M. Jessup's answer exists in algs4 library (<a href=\"https://github.com/kevin-wayne/algs4\" rel=\"nofollow noreferrer\">Github</a>).</p>\n<p><a href=\"https://algs4.cs.princeton.edu/code/edu/princeton/cs/algs4/CPM.java.html\" rel=\"nofollow noreferrer\">Code example of algs4 use for Critical Path Method</a>.</p>\n<p><a href=\"https://algs4.cs.princeton.edu/44sp/\" rel=\"nofollow noreferrer\">Doc on the method</a>, see at <em>Critical path method</em>.</p>\n"}],"owner":{"account_id":54074,"reputation":20659,"user_id":161746,"accept_rate":91,"display_name":"nunos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23118,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3022314,"answer_count":4,"score":4,"last_activity_date":1701526546,"creation_date":1275848443,"question_id":2985317,"body_markdown":"Where can I find a Java implementation of the Critical Path Method Algorithm? I am sure there&#39;s some implementation in the cloud. I have already searched on google obviously, but haven&#39;t found any implementation that works well. That&#39;s why I am asking.\r\n\r\nThanks in advance.","title":"Critical Path Method Algorithm","body":"<p>Where can I find a Java implementation of the Critical Path Method Algorithm? I am sure there's some implementation in the cloud. I have already searched on google obviously, but haven't found any implementation that works well. That's why I am asking.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","mapping"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1701519661,"post_id":77590256,"comment_id":136787403,"body_markdown":"You question needs a bit of clarification but essentially your `Example` class models a `DataFrame` which can a number of values of different types. That data comes from a `byte` array which can have an arbitrary length? After that I don&#39;t really understand the problem.","body":"You question needs a bit of clarification but essentially your <code>Example</code> class models a <code>DataFrame</code> which can a number of values of different types. That data comes from a <code>byte</code> array which can have an arbitrary length? After that I don&#39;t really understand the problem."},{"owner":{"account_id":20712052,"reputation":43,"user_id":15208462,"display_name":"snx"},"score":0,"creation_date":1701520999,"post_id":77590256,"comment_id":136787508,"body_markdown":"I&#39;m looking for an easier way to not have to code all the array positions and rather have them automatically calculated and assigned to the value class. I know that i could do this easily with memcopy and struct in C, but I don&#39;t know a similar method in Java","body":"I&#39;m looking for an easier way to not have to code all the array positions and rather have them automatically calculated and assigned to the value class. I know that i could do this easily with memcopy and struct in C, but I don&#39;t know a similar method in Java"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701526500,"creation_date":1701526500,"answer_id":77590693,"question_id":77590256,"body_markdown":"You can do it with a single ByteBuffer, and you don’t need to copy the byte array or specify explicit indices:\r\n\r\n    byte[] myReadData = /* ... */;\r\n\r\n    ByteBuffer buffer = ByteBuffer.wrap(myReadData);\r\n\r\n    float f = buffer.getFloat();\r\n    int i = buffer.getInt();\r\n    short s = buffer.getShort();\r\n\r\nEach get-method of ByteBuffer which doesn’t take any arguments will automatically advance the buffer’s position.\r\n\r\nNo need to set the byte order.  From [the documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/ByteBuffer.html#access-to-binary-data-heading):\r\n\r\n&gt;The initial order of a byte buffer is always `BIG_ENDIAN`.\r\n","title":"Java Strategy for mapping byte array contents to value classes","body":"<p>You can do it with a single ByteBuffer, and you don’t need to copy the byte array or specify explicit indices:</p>\n<pre><code>byte[] myReadData = /* ... */;\n\nByteBuffer buffer = ByteBuffer.wrap(myReadData);\n\nfloat f = buffer.getFloat();\nint i = buffer.getInt();\nshort s = buffer.getShort();\n</code></pre>\n<p>Each get-method of ByteBuffer which doesn’t take any arguments will automatically advance the buffer’s position.</p>\n<p>No need to set the byte order.  From <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/ByteBuffer.html#access-to-binary-data-heading\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>The initial order of a byte buffer is always <code>BIG_ENDIAN</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":20712052,"reputation":43,"user_id":15208462,"display_name":"snx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701526500,"creation_date":1701518460,"question_id":77590256,"body_markdown":"My goal is to improve a Java application to write data from a serial port to a MySQL database.\r\n\r\nThe data is read as a byteArray with a fixed length, which contains different values and value types (String, Int, Float, etc).\r\n\r\nCurrently, my approach is this:\r\n\r\n    byte[] myReadData =  {0x01,0x02,0x03,0x04,0x05,0x06,0x05);\r\n    float f = ByteBuffer.wrap(Arrays.copyOfRange(0,4).order(ByteOrder.BIG_ENDIAN).getFloat();\r\n    int i = ByteBuffer.wrap(Arrays.copyOfRange(5,6).order(ByteOrder.BIG_ENDIAN).getInt();\r\n    short s = ByteBuffer.wrap(Arrays.copyOfRange(6,6).order(ByteOrder.BIG_ENDIAN).getShort;\r\n    Example myExample = new Example();\r\n    myExample.setmyFloatValue(f);\r\n    myExample.setmyIntvalue(i);\r\n    myExample.setmyShortValue(s);\r\n\r\nData-Frames can be much larger and contain a lot of different data types, but all of them are d.\r\n\r\nTo read and write to the database, I use hibernate and values classes. For above example looks like this:\r\n\r\n    @Entity\r\n    @Table(name=&quot;example)\r\n    public class Example{\r\n       @Id\r\n       @Getter @Setter\r\n       Integer id;\r\n       @Column(name=&quot;TIMESTAMP&quot;)\r\n       @Getter @Setter\r\n       Timestamp Timestamp\r\n       Column(name=&quot;FLOATVAL&quot;)\r\n       @Getter @Setter\r\n       float myFloatValue;\r\n       Column(name=&quot;INTVAL&quot;)\r\n       @Getter @Setter\r\n       int myIntValue;\r\n       Column(name=&quot;SHORTVAL&quot;)\r\n       @Getter @Setter\r\n       short myShortValue;\r\n    }\r\ndata frames\r\nWhen using bigger data frames, the first method is not optimal and requires a lot of calculating the `copyofRange(x,y)`. It would be better to have an object with the values and automatically get the value from the data frame by their size.\r\n\r\nIn Language C, it would be doable much better with a struct, and then memcopy. \r\nIs there a similar way in Java or how could this be done in a faster and better way?\r\n\r\n","title":"Java Strategy for mapping byte array contents to value classes","body":"<p>My goal is to improve a Java application to write data from a serial port to a MySQL database.</p>\n<p>The data is read as a byteArray with a fixed length, which contains different values and value types (String, Int, Float, etc).</p>\n<p>Currently, my approach is this:</p>\n<pre><code>byte[] myReadData =  {0x01,0x02,0x03,0x04,0x05,0x06,0x05);\nfloat f = ByteBuffer.wrap(Arrays.copyOfRange(0,4).order(ByteOrder.BIG_ENDIAN).getFloat();\nint i = ByteBuffer.wrap(Arrays.copyOfRange(5,6).order(ByteOrder.BIG_ENDIAN).getInt();\nshort s = ByteBuffer.wrap(Arrays.copyOfRange(6,6).order(ByteOrder.BIG_ENDIAN).getShort;\nExample myExample = new Example();\nmyExample.setmyFloatValue(f);\nmyExample.setmyIntvalue(i);\nmyExample.setmyShortValue(s);\n</code></pre>\n<p>Data-Frames can be much larger and contain a lot of different data types, but all of them are d.</p>\n<p>To read and write to the database, I use hibernate and values classes. For above example looks like this:</p>\n<pre><code>@Entity\n@Table(name=&quot;example)\npublic class Example{\n   @Id\n   @Getter @Setter\n   Integer id;\n   @Column(name=&quot;TIMESTAMP&quot;)\n   @Getter @Setter\n   Timestamp Timestamp\n   Column(name=&quot;FLOATVAL&quot;)\n   @Getter @Setter\n   float myFloatValue;\n   Column(name=&quot;INTVAL&quot;)\n   @Getter @Setter\n   int myIntValue;\n   Column(name=&quot;SHORTVAL&quot;)\n   @Getter @Setter\n   short myShortValue;\n}\n</code></pre>\n<p>data frames\nWhen using bigger data frames, the first method is not optimal and requires a lot of calculating the <code>copyofRange(x,y)</code>. It would be better to have an object with the values and automatically get the value from the data frame by their size.</p>\n<p>In Language C, it would be doable much better with a struct, and then memcopy.\nIs there a similar way in Java or how could this be done in a faster and better way?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1491314855,"post_id":43208335,"comment_id":73490678,"body_markdown":"Post your complete code here.","body":"Post your complete code here."},{"owner":{"account_id":2669469,"reputation":665,"user_id":2307169,"display_name":"Mikhail"},"score":0,"creation_date":1491318153,"post_id":43208335,"comment_id":73493492,"body_markdown":"Could you also please paste stack trace?","body":"Could you also please paste stack trace?"}],"answers":[{"comments":[{"owner":{"account_id":1522689,"reputation":1213,"user_id":1421937,"accept_rate":72,"display_name":"tom"},"score":0,"creation_date":1491387351,"post_id":43212862,"comment_id":73526272,"body_markdown":"Are you on the same version of selenium / chrome / chromedriver? For me your code throws NoSuchSession exception, also opens a new tab and not a new browser window. Same as mine above.","body":"Are you on the same version of selenium / chrome / chromedriver? For me your code throws NoSuchSession exception, also opens a new tab and not a new browser window. Same as mine above."},{"owner":{"account_id":10502709,"reputation":1303,"user_id":7740956,"display_name":"Anuj Teotia"},"score":0,"creation_date":1491389735,"post_id":43212862,"comment_id":73528023,"body_markdown":"Yes I have tried this on the versions you have mentioned in your question.","body":"Yes I have tried this on the versions you have mentioned in your question."}],"tags":[],"owner":{"account_id":10502709,"reputation":1303,"user_id":7740956,"display_name":"Anuj Teotia"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1491323506,"creation_date":1491323506,"answer_id":43212862,"question_id":43208335,"body_markdown":"You might have messed up with `imports`. Try the code below , working fine for me.\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class MyExampleTest {\r\n    \tprivate String baseUrl;\r\n    \tprivate WebDriver driver;\r\n    \r\n    \t@Before\r\n    \tpublic void openBrowser() {\r\n    \t\tbaseUrl = &quot;http://facebook.com/&quot;;\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;\\\\chromedriver.exe&quot;);\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.get(baseUrl);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void pageTitleAfterSearchShouldBeThere() throws IOException {\r\n    \t\tSystem.out.println(driver.getTitle());\r\n    \t\tassertEquals(&quot;The page title should be this at the start of the test.&quot;, &quot;Facebook - Log In or Sign Up&quot;, driver.getTitle());\r\n    \t}\r\n    \t\r\n    \t@After\r\n    \tpublic void closeBrowser(){\r\n    \t\ttry{\r\n    \t\tdriver.quit();\r\n    \t\t}catch(Exception e){\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis will open a `new window` everytime not a new tab in already opened chrome browser.","title":"NoSuchSessionException when starting chromedriver","body":"<p>You might have messed up with <code>imports</code>. Try the code below , working fine for me.</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport java.io.IOException;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class MyExampleTest {\n    private String baseUrl;\n    private WebDriver driver;\n\n    @Before\n    public void openBrowser() {\n        baseUrl = \"http://facebook.com/\";\n        System.setProperty(\"webdriver.chrome.driver\", System.getProperty(\"user.dir\")+\"\\\\chromedriver.exe\");\n        driver = new ChromeDriver();\n        driver.get(baseUrl);\n        driver.manage().window().maximize();\n    }\n\n    @Test\n    public void pageTitleAfterSearchShouldBeThere() throws IOException {\n        System.out.println(driver.getTitle());\n        assertEquals(\"The page title should be this at the start of the test.\", \"Facebook - Log In or Sign Up\", driver.getTitle());\n    }\n\n    @After\n    public void closeBrowser(){\n        try{\n        driver.quit();\n        }catch(Exception e){\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>This will open a <code>new window</code> everytime not a new tab in already opened chrome browser.</p>\n"},{"tags":[],"owner":{"account_id":13283261,"reputation":39,"user_id":9590149,"display_name":"Prasanna Mendon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523529904,"creation_date":1523529904,"answer_id":49794535,"question_id":43208335,"body_markdown":"Its because of the mismatch in chromedriver version and compatible webdriver version.\r\nEither change any one of it or take both latest. This worked for me!","title":"NoSuchSessionException when starting chromedriver","body":"<p>Its because of the mismatch in chromedriver version and compatible webdriver version.\nEither change any one of it or take both latest. This worked for me!</p>\n"},{"comments":[{"owner":{"account_id":9429101,"reputation":1464,"user_id":7013205,"display_name":"S Ahmed"},"score":1,"creation_date":1646980646,"post_id":71431428,"comment_id":126262160,"body_markdown":"When you are answering a question, First try to explain what is the problem they are facing. Just giving the download link  to a 5 year old question is not good. This question already has an answer that says it is compatibility issue. You should have explained that the chromedriver is not compatible with the chrome version used on the first line. Then you should provide the link to download the appropriate version and compatibility link.\nThere are many questions that need answer. Please answer to those and not to the old questions that already has a better explanation that yours.","body":"When you are answering a question, First try to explain what is the problem they are facing. Just giving the download link  to a 5 year old question is not good. This question already has an answer that says it is compatibility issue. You should have explained that the chromedriver is not compatible with the chrome version used on the first line. Then you should provide the link to download the appropriate version and compatibility link. There are many questions that need answer. Please answer to those and not to the old questions that already has a better explanation that yours."}],"tags":[],"owner":{"account_id":8008036,"reputation":1,"user_id":6305768,"display_name":"Vishal Loke"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646950773,"creation_date":1646950444,"answer_id":71431428,"question_id":43208335,"body_markdown":"You need to check the chrome driver download page \nhttps://chromedriver.chromium.org/downloads\n\nwhich says it&#39;s compatibility...\nalso, have a look here which has a list of compatible driver n browser\nhttps://stackoverflow.com/a/55266105/6305768","title":"NoSuchSessionException when starting chromedriver","body":"<p>You need to check the chrome driver download page\n<a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a></p>\n<p>which says it's compatibility...\nalso, have a look here which has a list of compatible driver n browser\n<a href=\"https://stackoverflow.com/a/55266105/6305768\">https://stackoverflow.com/a/55266105/6305768</a></p>\n"}],"owner":{"account_id":1522689,"reputation":1213,"user_id":1421937,"accept_rate":72,"display_name":"tom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701526015,"creation_date":1491311683,"question_id":43208335,"body_markdown":"I am trying to create a simple test, just open the page and verify its title. I thought it could not be simpler, but... my test opens a new tab in a currently opened Chrome browser and fails on `driver.get(myUrl);` with the `org.openqa.selenium.NoSuchSessionException`\r\n\r\nI tried upgrading and downgrading chromedriver and upgrading downgrading selenium, but no luck so far. Currently I&#39;m on selenium-java 3.3.1, chromedriver 2.28 and chrome 57.0.2987.98. Any help appreciated.\r\n\r\nBonus question, last time I used chromedriver it opened a new browser window, any way to get back to that? I&#39;d prefer my tests in a new window instead of a new tab.\r\n\r\n\r\n    public class MyExampleTest {\r\n    \tprivate String baseUrl;\r\n    \tprivate WebDriver driver;\r\n    \t\r\n    \t@Before\r\n    \tpublic void openBrowser() {\r\n    \t\tbaseUrl = &quot;http://myurl/&quot;;\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Projects\\\\chromedriver.exe&quot;);\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.get(baseUrl);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void pageTitleAfterSearchShouldBeThere() throws IOException {\r\n    \t\tassertEquals(&quot;The page title should be this at the start of the test.&quot;, &quot;my title&quot;, driver.getTitle());\r\n    \t}\r\n    }\r\n\r\nStacktrace:\r\n\r\n    org.openqa.selenium.NoSuchSessionException: no such session\r\n      (Driver info: chromedriver=2.28.455520 (cc17746adff54984afff480136733114c6b3704b),platform=Windows NT 6.1.7601 SP1 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 13 milliseconds\r\n    Build info: version: &#39;3.3.1&#39;, revision: &#39;5234b325d5&#39;, time: &#39;2017-03-10 09:10:29 +0000&#39;\r\n    System info: host: &#39;XXXXXXXXXXXXXXX&#39;, ip: &#39;xxx.xxx.xxx.xx&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_121&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Capabilities [{message=unknown error: Chrome failed to start: crashed\r\n      (Driver info: chromedriver=2.28.455520 (cc17746adff54984afff480136733114c6b3704b),platform=Windows NT 6.1.7601 SP1 x86_64), platform=ANY}]\r\n    Session ID: 359ce80c1b82e53fffae055451228404\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:216)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:168)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:638)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:325)\r\n    \tat ec_selenium.CapExampleTest.openBrowser(CapExampleTest.java:58)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\n","title":"NoSuchSessionException when starting chromedriver","body":"<p>I am trying to create a simple test, just open the page and verify its title. I thought it could not be simpler, but... my test opens a new tab in a currently opened Chrome browser and fails on <code>driver.get(myUrl);</code> with the <code>org.openqa.selenium.NoSuchSessionException</code></p>\n\n<p>I tried upgrading and downgrading chromedriver and upgrading downgrading selenium, but no luck so far. Currently I'm on selenium-java 3.3.1, chromedriver 2.28 and chrome 57.0.2987.98. Any help appreciated.</p>\n\n<p>Bonus question, last time I used chromedriver it opened a new browser window, any way to get back to that? I'd prefer my tests in a new window instead of a new tab.</p>\n\n<pre><code>public class MyExampleTest {\n    private String baseUrl;\n    private WebDriver driver;\n\n    @Before\n    public void openBrowser() {\n        baseUrl = \"http://myurl/\";\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Projects\\\\chromedriver.exe\");\n        driver = new ChromeDriver();\n        driver.get(baseUrl);\n    }\n\n    @Test\n    public void pageTitleAfterSearchShouldBeThere() throws IOException {\n        assertEquals(\"The page title should be this at the start of the test.\", \"my title\", driver.getTitle());\n    }\n}\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>org.openqa.selenium.NoSuchSessionException: no such session\n  (Driver info: chromedriver=2.28.455520 (cc17746adff54984afff480136733114c6b3704b),platform=Windows NT 6.1.7601 SP1 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 13 milliseconds\nBuild info: version: '3.3.1', revision: '5234b325d5', time: '2017-03-10 09:10:29 +0000'\nSystem info: host: 'XXXXXXXXXXXXXXX', ip: 'xxx.xxx.xxx.xx', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_121'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities [{message=unknown error: Chrome failed to start: crashed\n  (Driver info: chromedriver=2.28.455520 (cc17746adff54984afff480136733114c6b3704b),platform=Windows NT 6.1.7601 SP1 x86_64), platform=ANY}]\nSession ID: 359ce80c1b82e53fffae055451228404\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:216)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:168)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:638)\n    at org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:325)\n    at ec_selenium.CapExampleTest.openBrowser(CapExampleTest.java:58)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n</code></pre>\n"},{"tags":["java","wear-os","android-sensors"],"answers":[{"tags":[],"owner":{"account_id":3976588,"reputation":114,"user_id":3279635,"display_name":"Veit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701525721,"creation_date":1701525721,"answer_id":77590651,"question_id":76359368,"body_markdown":"i use google health services to get the stepcount in the background. the new version unfortunately is even slower then the old one. \r\nit fires an update every 30 minutes most of the time. \r\ni discussed this with google on github and they told me it is to save battery. but waking the device every 30 minutes and not care about the doze intervals ... that&#39;s bad in my opinion. \r\n\r\nso to answer your question: getting fast regular updates in the background is not possible afaik. \r\n\r\nbut the combination is okay for me. ","title":"Step counter sensor on WearOS only updates when screen is turned on. Is there a way for the counter to update in real time?","body":"<p>i use google health services to get the stepcount in the background. the new version unfortunately is even slower then the old one.\nit fires an update every 30 minutes most of the time.\ni discussed this with google on github and they told me it is to save battery. but waking the device every 30 minutes and not care about the doze intervals ... that's bad in my opinion.</p>\n<p>so to answer your question: getting fast regular updates in the background is not possible afaik.</p>\n<p>but the combination is okay for me.</p>\n"}],"owner":{"account_id":14500822,"reputation":3,"user_id":17824186,"display_name":"Tofuine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77590651,"answer_count":1,"score":0,"last_activity_date":1701525721,"creation_date":1685382352,"question_id":76359368,"body_markdown":"The STEP COUNTER sensor logs the number of steps since the last boot of the watch. I am trying to continuously monitor the number of steps taken, but it seems that the number of steps only updates when the watch&#39;s screen turns on. I understand that continuously updating step count will eat up battery, but is it possible for it to update in the background rather than only when the screen turns on?\r\n\r\nSo far, I am running the STEP COUNTER sensor in a Foreground service:\r\n\r\n```java\r\npublic SensorEventListener stepListener = new SensorEventListener() {\r\n        public void onAccuracyChanged(Sensor sensor, int acc) {\r\n        }\r\n        public void onSensorChanged(SensorEvent event) {\r\n            stepCounter = String.valueOf(event.values[0]);\r\n        }\r\n    };\r\n```\r\nI continuously log the step count. On my watch (Galaxy Watch 4), I have noticed that the watch is counting steps, but the watch face only updates the step count when I look at the watch. In the log, the number of steps remains the same until I look at the watch. After looking at the watch (and the screen turning on), the log now shows a larger number.\r\n\r\nThe sensor is working in the background (I have also set up an accelerometer that keeps refreshing in the background), but the step counter does not refresh the value until the screen turns on.\r\n\r\nIs there any way to allow the sensor to refresh in the background without turning on the watch&#39;s screen?","title":"Step counter sensor on WearOS only updates when screen is turned on. Is there a way for the counter to update in real time?","body":"<p>The STEP COUNTER sensor logs the number of steps since the last boot of the watch. I am trying to continuously monitor the number of steps taken, but it seems that the number of steps only updates when the watch's screen turns on. I understand that continuously updating step count will eat up battery, but is it possible for it to update in the background rather than only when the screen turns on?</p>\n<p>So far, I am running the STEP COUNTER sensor in a Foreground service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SensorEventListener stepListener = new SensorEventListener() {\n        public void onAccuracyChanged(Sensor sensor, int acc) {\n        }\n        public void onSensorChanged(SensorEvent event) {\n            stepCounter = String.valueOf(event.values[0]);\n        }\n    };\n</code></pre>\n<p>I continuously log the step count. On my watch (Galaxy Watch 4), I have noticed that the watch is counting steps, but the watch face only updates the step count when I look at the watch. In the log, the number of steps remains the same until I look at the watch. After looking at the watch (and the screen turning on), the log now shows a larger number.</p>\n<p>The sensor is working in the background (I have also set up an accelerometer that keeps refreshing in the background), but the step counter does not refresh the value until the screen turns on.</p>\n<p>Is there any way to allow the sensor to refresh in the background without turning on the watch's screen?</p>\n"},{"tags":["java","unit-testing","apache-camel","quarkus"],"owner":{"account_id":987515,"reputation":655,"user_id":1005670,"accept_rate":47,"display_name":"vect"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701525221,"creation_date":1701525221,"question_id":77590619,"body_markdown":"There&#39;s a Camel route builder registered in Quarkus and using some injected beans:\r\n\r\n```\r\n@ApplicationScoped\r\n@RegisterForReflection\r\npublic class RouteForStoutBuilder extends RouteBuilder {\r\n\r\n    @Inject\r\n    TrafficLight trafficLight;\r\n\r\n    @Inject\r\n    Bar bar;\r\n\r\n    @Override\r\n    public void configure() {\r\n        from(&quot;direct:route-for-a-stout&quot;)\r\n            .choice()\r\n                .when(trafficLight.isGreen())\r\n                    .bean(bar)\r\n            .end();\r\n    }\r\n}    \r\n```\r\n\r\nI&#39;m trying to cover that route with a test:\r\n\r\n```\r\n@QuarkusTest\r\npublic class RouteForStoutTest {\r\n\r\n    @Inject\r\n    ProducerTemplate producer;\r\n\r\n    @InjectMock\r\n    TrafficLight trafficLight;\r\n\r\n    @InjectMock\r\n    Bar bar;\r\n\r\n    @Test\r\n    void testWithGreenLight() {\r\n        Mockito.doReturn((Predicate) exchange -&gt; true).when(trafficLight).isGreen();\r\n        Mockito.doAnswer(invOnMock -&gt; invOnMock.getArgument(0)).when(bar).order(ArgumentMatchers.any());\r\n\r\n        producer.sendBody(&quot;direct:route-for-a-stout&quot;, &quot;stout&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the route is built before the beans used on that are mocked. So the real predicate returned by the real TrafficLight bean is used instead of one returned by the mock.\r\n\r\nIs there a way to inject mocks into a route builder before the route is built?","title":"How to inject mocks into a Camel route builder with Quarkus?","body":"<p>There's a Camel route builder registered in Quarkus and using some injected beans:</p>\n<pre><code>@ApplicationScoped\n@RegisterForReflection\npublic class RouteForStoutBuilder extends RouteBuilder {\n\n    @Inject\n    TrafficLight trafficLight;\n\n    @Inject\n    Bar bar;\n\n    @Override\n    public void configure() {\n        from(&quot;direct:route-for-a-stout&quot;)\n            .choice()\n                .when(trafficLight.isGreen())\n                    .bean(bar)\n            .end();\n    }\n}    \n</code></pre>\n<p>I'm trying to cover that route with a test:</p>\n<pre><code>@QuarkusTest\npublic class RouteForStoutTest {\n\n    @Inject\n    ProducerTemplate producer;\n\n    @InjectMock\n    TrafficLight trafficLight;\n\n    @InjectMock\n    Bar bar;\n\n    @Test\n    void testWithGreenLight() {\n        Mockito.doReturn((Predicate) exchange -&gt; true).when(trafficLight).isGreen();\n        Mockito.doAnswer(invOnMock -&gt; invOnMock.getArgument(0)).when(bar).order(ArgumentMatchers.any());\n\n        producer.sendBody(&quot;direct:route-for-a-stout&quot;, &quot;stout&quot;);\n    }\n}\n</code></pre>\n<p>The problem is that the route is built before the beans used on that are mocked. So the real predicate returned by the real TrafficLight bean is used instead of one returned by the mock.</p>\n<p>Is there a way to inject mocks into a route builder before the route is built?</p>\n"},{"tags":["java","formatting","zero-pad"],"comments":[{"owner":{"account_id":5803,"reputation":2935,"user_id":9518,"accept_rate":67,"display_name":"Randyaa"},"score":2,"creation_date":1411485046,"post_id":473282,"comment_id":40714989,"body_markdown":"Yup, that&#39;s it! my bad... I typed it in on my phone.  You dont&#39; need the &quot;new String&quot; either : Integer.toString(num+10000).subString(1) works.","body":"Yup, that&#39;s it! my bad... I typed it in on my phone.  You dont&#39; need the &quot;new String&quot; either : Integer.toString(num+10000).subString(1) works."},{"owner":{"account_id":1187510,"reputation":644,"user_id":1161179,"display_name":"frekele"},"score":0,"creation_date":1437431574,"post_id":473282,"comment_id":51016067,"body_markdown":"Long.valueOf(&quot;00003400&quot;).toString();  Integer.valueOf(&quot;00003400&quot;).toString(); ---&gt;3400","body":"Long.valueOf(&quot;00003400&quot;).toString();  Integer.valueOf(&quot;00003400&quot;).toString(); ---&gt;3400"},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":1,"creation_date":1455968023,"post_id":473282,"comment_id":58735089,"body_markdown":"see also http://stackoverflow.com/questions/35521278/printing-an-integer-in-java-that-have-zero-in-front-of-it/35521965#35521965 for a solution with diagram","body":"see also <a href=\"http://stackoverflow.com/questions/35521278/printing-an-integer-in-java-that-have-zero-in-front-of-it/35521965#35521965\" title=\"printing an integer in java that have zero in front of it\">stackoverflow.com/questions/35521278/&hellip;</a> for a solution with diagram"},{"owner":{"account_id":2546833,"reputation":3087,"user_id":2211479,"accept_rate":92,"display_name":"Felype"},"score":0,"creation_date":1466685823,"post_id":473282,"comment_id":63427592,"body_markdown":"There is a problem with the `new String(Integer.toString(num + 10000)).substring(1)` approach if `num` is any bigger than 9999 though, ijs.","body":"There is a problem with the <code>new String(Integer.toString(num + 10000)).substring(1)</code> approach if <code>num</code> is any bigger than 9999 though, ijs."}],"answers":[{"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":1,"creation_date":1232725702,"post_id":473305,"comment_id":290907,"body_markdown":"Yes, I was going to suggest DecimalFormat because I didn&#39;t know about String.format, but then I saw uzhin&#39;s answer.  String.format must be new.","body":"Yes, I was going to suggest DecimalFormat because I didn&#39;t know about String.format, but then I saw uzhin&#39;s answer.  String.format must be new."},{"owner":{"account_id":10732,"reputation":54830,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"score":0,"creation_date":1232726446,"post_id":473305,"comment_id":290949,"body_markdown":"It&#39;s similar how you&#39;d do it in .Net Except the .Net way looks nicer for small numbers.","body":"It&#39;s similar how you&#39;d do it in .Net Except the .Net way looks nicer for small numbers."},{"owner":{"account_id":4737130,"reputation":870,"user_id":3831201,"display_name":"mauronet"},"score":0,"creation_date":1470085569,"post_id":473305,"comment_id":64793738,"body_markdown":"In my case I used the first option (DecimalFormat) because my number was a Double","body":"In my case I used the first option (DecimalFormat) because my number was a Double"}],"tags":[],"owner":{"account_id":10732,"reputation":54830,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1462902272,"creation_date":1232724343,"answer_id":473305,"question_id":473282,"body_markdown":"Found this example... Will test...\r\n\r\n    import java.text.DecimalFormat;\r\n    class TestingAndQualityAssuranceDepartment\r\n    {\r\n        public static void main(String [] args)\r\n        {\r\n            int x=1;\r\n            DecimalFormat df = new DecimalFormat(&quot;00&quot;);\r\n            System.out.println(df.format(x));\r\n        }\r\n    }\r\n\r\nTested this and:\r\n\r\n    String.format(&quot;%05d&quot;,number);\r\n\r\nBoth work, for  my purposes I think String.Format is better and more succinct.\r\n","title":"How can I pad an integer with zeros on the left?","body":"<p>Found this example... Will test...</p>\n\n<pre><code>import java.text.DecimalFormat;\nclass TestingAndQualityAssuranceDepartment\n{\n    public static void main(String [] args)\n    {\n        int x=1;\n        DecimalFormat df = new DecimalFormat(\"00\");\n        System.out.println(df.format(x));\n    }\n}\n</code></pre>\n\n<p>Tested this and:</p>\n\n<pre><code>String.format(\"%05d\",number);\n</code></pre>\n\n<p>Both work, for  my purposes I think String.Format is better and more succinct.</p>\n"},{"comments":[{"owner":{"account_id":67867,"reputation":7492,"user_id":198348,"accept_rate":50,"display_name":"Ehtesh Choudhury"},"score":1,"creation_date":1302719006,"post_id":473309,"comment_id":6448526,"body_markdown":"Should I expect the options in `String.format` to be akin to printf() in C?","body":"Should I expect the options in <code>String.format</code> to be akin to printf() in C?"},{"owner":{"account_id":411733,"reputation":792,"user_id":784385,"accept_rate":93,"display_name":"Steve Ferguson"},"score":18,"creation_date":1367430977,"post_id":473309,"comment_id":23375992,"body_markdown":"If you have to do this for a large list of values, performance of DecimalFormat is at least 3 times better than String.format().  I&#39;m in the process of doing some performance tuning myself and running the two in Visual VM shows the String.format() method accumulating CPU time at about 3-4 times the rate of DecimalFormat.format().","body":"If you have to do this for a large list of values, performance of DecimalFormat is at least 3 times better than String.format().  I&#39;m in the process of doing some performance tuning myself and running the two in Visual VM shows the String.format() method accumulating CPU time at about 3-4 times the rate of DecimalFormat.format()."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1385037228,"post_id":473309,"comment_id":29983960,"body_markdown":"@Shurane mostly, yes.","body":"@Shurane mostly, yes."},{"owner":{"account_id":341403,"reputation":2416,"user_id":671988,"accept_rate":57,"display_name":"Mohammad Banisaeid"},"score":16,"creation_date":1408793193,"post_id":473309,"comment_id":39731497,"body_markdown":"And to add more than 9 zeros use something like `%012d`","body":"And to add more than 9 zeros use something like <code>%012d</code>"},{"owner":{"account_id":2970829,"reputation":442,"user_id":2522904,"accept_rate":90,"display_name":"JavaDev"},"score":2,"creation_date":1425526721,"post_id":473309,"comment_id":46003114,"body_markdown":"This is for Java 5 and above. For 1.4 and lower DecimalFormat is an alternative as shown here http://javadevnotes.com/java-integer-to-string-with-leading-zeros","body":"This is for Java 5 and above. For 1.4 and lower DecimalFormat is an alternative as shown here <a href=\"http://javadevnotes.com/java-integer-to-string-with-leading-zeros\" rel=\"nofollow noreferrer\">javadevnotes.com/java-integer-to-string-with-leading-zeros</a>"},{"owner":{"account_id":1187510,"reputation":644,"user_id":1161179,"display_name":"frekele"},"score":0,"creation_date":1437431694,"post_id":473309,"comment_id":51016124,"body_markdown":"Long.valueOf(&quot;00003400&quot;).toString(); Integer.valueOf(&quot;00003400&quot;).toString(); ---&gt;3400","body":"Long.valueOf(&quot;00003400&quot;).toString(); Integer.valueOf(&quot;00003400&quot;).toString(); ---&gt;3400"},{"owner":{"account_id":1919040,"reputation":4017,"user_id":1730966,"accept_rate":93,"display_name":"nibarius"},"score":0,"creation_date":1455998213,"post_id":473309,"comment_id":58745996,"body_markdown":"To get &quot;0001&quot; (four digits) as was asked for in the question you do &quot;%04d&quot;. .","body":"To get &quot;0001&quot; (four digits) as was asked for in the question you do &quot;%04d&quot;. ."},{"owner":{"account_id":6693199,"reputation":447,"user_id":5162053,"accept_rate":50,"display_name":"Helio Soares Junior"},"score":1,"creation_date":1472150323,"post_id":473309,"comment_id":65648560,"body_markdown":"Hi guys! I have some problems using: `%d can&#39;t format java.lang.String arguments`","body":"Hi guys! I have some problems using: <code>%d can&#39;t format java.lang.String arguments</code>"},{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":0,"creation_date":1646148162,"post_id":473309,"comment_id":126048835,"body_markdown":"This only works to pad the String up to the number of characters specified in the format string. This **does not** add 5 zeros onto the String. More generally, this means you have to know that your string is between 0-N characters for a format string specified by &quot;%0Nd&quot;. Any dynamic String that is longer than N, and this solution falls apart.","body":"This only works to pad the String up to the number of characters specified in the format string. This <b>does not</b> add 5 zeros onto the String. More generally, this means you have to know that your string is between 0-N characters for a format string specified by &quot;%0Nd&quot;. Any dynamic String that is longer than N, and this solution falls apart."}],"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"comment_count":9,"down_vote_count":0,"up_vote_count":1958,"is_accepted":true,"score":1958,"last_activity_date":1469560663,"creation_date":1232724364,"answer_id":473309,"question_id":473282,"body_markdown":"Use [`java.lang.String.format(String,Object...)`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-) like this:\r\n\r\n    String.format(&quot;%05d&quot;, yournumber);\r\n\r\nfor zero-padding with a length of 5. For hexadecimal output replace the `d` with an `x` as in `&quot;%05x&quot;`.\r\n\r\nThe full formatting options are documented as part of [`java.util.Formatter`](https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html).","title":"How can I pad an integer with zeros on the left?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\" rel=\"noreferrer\"><code>java.lang.String.format(String,Object...)</code></a> like this:</p>\n\n<pre><code>String.format(\"%05d\", yournumber);\n</code></pre>\n\n<p>for zero-padding with a length of 5. For hexadecimal output replace the <code>d</code> with an <code>x</code> as in <code>\"%05x\"</code>.</p>\n\n<p>The full formatting options are documented as part of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"noreferrer\"><code>java.util.Formatter</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":0,"down_vote_count":0,"up_vote_count":123,"is_accepted":false,"score":123,"last_activity_date":1351719223,"creation_date":1232724734,"answer_id":473332,"question_id":473282,"body_markdown":"If you for any reason use pre 1.5 Java then may try with Apache Commons Lang method\r\n\r\n    org.apache.commons.lang.StringUtils.leftPad(String str, int size, &#39;0&#39;)\r\n\r\n","title":"How can I pad an integer with zeros on the left?","body":"<p>If you for any reason use pre 1.5 Java then may try with Apache Commons Lang method</p>\n\n<pre><code>org.apache.commons.lang.StringUtils.leftPad(String str, int size, '0')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347750,"reputation":57,"user_id":682064,"display_name":"Deepak"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1330715587,"creation_date":1330715587,"answer_id":9539012,"question_id":473282,"body_markdown":"Although many of the above approaches are good, but sometimes we need to format integers as well as floats. We can use this, particularly when we need to pad particular number of zeroes on left as well as right of decimal numbers.\r\n\r\n   \r\n\r\n    import java.text.NumberFormat;  \r\n    public class NumberFormatMain {  \r\n\r\n    public static void main(String[] args) {  \r\n        int intNumber = 25;  \r\n        float floatNumber = 25.546f;  \r\n        NumberFormat format=NumberFormat.getInstance();  \r\n        format.setMaximumIntegerDigits(6);  \r\n        format.setMaximumFractionDigits(6);  \r\n        format.setMinimumFractionDigits(6);  \r\n        format.setMinimumIntegerDigits(6);  \r\n  \r\n        System.out.println(&quot;Formatted Integer : &quot;+format.format(intNumber).replace(&quot;,&quot;,&quot;&quot;));  \r\n        System.out.println(&quot;Formatted Float   : &quot;+format.format(floatNumber).replace(&quot;,&quot;,&quot;&quot;));  \r\n     }    \r\n    }  ","title":"How can I pad an integer with zeros on the left?","body":"<p>Although many of the above approaches are good, but sometimes we need to format integers as well as floats. We can use this, particularly when we need to pad particular number of zeroes on left as well as right of decimal numbers.</p>\n\n<pre><code>import java.text.NumberFormat;  \npublic class NumberFormatMain {  \n\npublic static void main(String[] args) {  \n    int intNumber = 25;  \n    float floatNumber = 25.546f;  \n    NumberFormat format=NumberFormat.getInstance();  \n    format.setMaximumIntegerDigits(6);  \n    format.setMaximumFractionDigits(6);  \n    format.setMinimumFractionDigits(6);  \n    format.setMinimumIntegerDigits(6);  \n\n    System.out.println(\"Formatted Integer : \"+format.format(intNumber).replace(\",\",\"\"));  \n    System.out.println(\"Formatted Float   : \"+format.format(floatNumber).replace(\",\",\"\"));  \n }    \n}  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1254231,"reputation":2707,"user_id":1214055,"accept_rate":25,"display_name":"bsd"},"score":2,"creation_date":1377351611,"post_id":18419116,"comment_id":27058640,"body_markdown":"But OP never asked for it. Internally `String.format` and `System.out.format` call the same `java.util.Formatter` implementation.","body":"But OP never asked for it. Internally <code>String.format</code> and <code>System.out.format</code> call the same <code>java.util.Formatter</code> implementation."},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1518119079,"post_id":18419116,"comment_id":84385546,"body_markdown":"... and System.out can be redirected.","body":"... and System.out can be redirected."}],"tags":[],"owner":{"account_id":2852182,"reputation":746,"user_id":2449146,"accept_rate":81,"display_name":"Shashi"},"comment_count":2,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1377350988,"creation_date":1377350988,"answer_id":18419116,"question_id":473282,"body_markdown":"    int x = 1;\r\n    System.out.format(&quot;%05d&quot;,x);\r\nif you want to print the formatted text directly onto the screen.","title":"How can I pad an integer with zeros on the left?","body":"<pre><code>int x = 1;\nSystem.out.format(\"%05d\",x);\n</code></pre>\n\n<p>if you want to print the formatted text directly onto the screen.</p>\n"},{"comments":[{"owner":{"account_id":123860,"reputation":2672,"user_id":1449525,"accept_rate":83,"display_name":"Patrick"},"score":2,"creation_date":1400786515,"post_id":18595614,"comment_id":36637643,"body_markdown":"Above there&#39;s a mention of using DecimalFormat being faster. Did you have any notes on that?","body":"Above there&#39;s a mention of using DecimalFormat being faster. Did you have any notes on that?"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1465554638,"post_id":18595614,"comment_id":62961608,"body_markdown":"@Patrick For DecimalFormat performance see also: http://stackoverflow.com/questions/8553672/a-faster-alternative-to-decimalformat-format","body":"@Patrick For DecimalFormat performance see also: <a href=\"http://stackoverflow.com/questions/8553672/a-faster-alternative-to-decimalformat-format\" title=\"a faster alternative to decimalformat format\">stackoverflow.com/questions/8553672/&hellip;</a>"},{"owner":{"account_id":3890706,"reputation":10461,"user_id":3220983,"accept_rate":50,"display_name":"BuvinJ"},"score":0,"creation_date":1499118316,"post_id":18595614,"comment_id":76766471,"body_markdown":"Shocking!  It&#39;s nuts that function works so poorly.  I had to zero pad and display a collection of unsigned ints that could range between 1 to 3 digits.  It needed to work lightning fast.  I used this simple method: `for( int i : data ) strData += (i &gt; 9 ? (i &gt; 99 ? &quot;&quot; : &quot;0&quot;) : &quot;00&quot;) + Integer.toString( i ) + &quot;|&quot;;` That worked very rapidly (sorry I didn&#39;t time it!).","body":"Shocking!  It&#39;s nuts that function works so poorly.  I had to zero pad and display a collection of unsigned ints that could range between 1 to 3 digits.  It needed to work lightning fast.  I used this simple method: <code>for( int i : data ) strData += (i &gt; 9 ? (i &gt; 99 ? &quot;&quot; : &quot;0&quot;) : &quot;00&quot;) + Integer.toString( i ) + &quot;|&quot;;</code> That worked very rapidly (sorry I didn&#39;t time it!)."},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1518119064,"post_id":18595614,"comment_id":84385533,"body_markdown":"How does the performance compare after it&#39;s been run enough for HotSpot to have a crack at it?","body":"How does the performance compare after it&#39;s been run enough for HotSpot to have a crack at it?"}],"tags":[],"owner":{"account_id":2294607,"reputation":3803,"user_id":2016386,"accept_rate":46,"display_name":"das Keks"},"comment_count":4,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1378220712,"creation_date":1378220712,"answer_id":18595614,"question_id":473282,"body_markdown":"If performance is important in your case you could do it yourself with less overhead compared to the `String.format` function:\r\n\r\n\t/**\r\n\t * @param in The integer value\r\n\t * @param fill The number of digits to fill\r\n\t * @return The given value left padded with the given number of digits\r\n\t */\r\n\tpublic static String lPadZero(int in, int fill){\r\n\t\t\r\n\t\tboolean negative = false;\r\n\t\tint value, len = 0;\r\n\t\t\t\t\r\n\t\tif(in &gt;= 0){\r\n\t\t\tvalue = in;\r\n\t\t} else {\r\n\t\t\tnegative = true;\r\n\t\t\tvalue = - in;\r\n\t\t\tin = - in;\r\n\t\t\tlen ++;\r\n\t\t}\r\n\t\t\r\n\t\tif(value == 0){\r\n\t\t\tlen = 1;\r\n\t\t} else{\t\t\t\r\n\t\t\tfor(; value != 0; len ++){\r\n\t\t\t\tvalue /= 10;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\r\n\t\tif(negative){\r\n\t\t\tsb.append(&#39;-&#39;);\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i = fill; i &gt; len; i--){\r\n\t\t\tsb.append(&#39;0&#39;);\r\n\t\t}\r\n\t\t\r\n\t\tsb.append(in);\r\n\t\t\r\n\t\treturn sb.toString();\t\t\r\n\t}\r\n\r\n\r\n**Performance**\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tRandom rdm;\r\n\t\tlong start; \r\n\t\t\r\n\t\t// Using own function\r\n\t\trdm = new Random(0);\r\n\t\tstart = System.nanoTime();\r\n\t\t\r\n\t\tfor(int i = 10000000; i != 0; i--){\r\n\t\t\tlPadZero(rdm.nextInt(20000) - 10000, 4);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Own function: &quot; + ((System.nanoTime() - start) / 1000000) + &quot;ms&quot;);\r\n\t\t\r\n\t\t// Using String.format\r\n\t\trdm = new Random(0);\t\t\r\n\t\tstart = System.nanoTime();\r\n\t\t\r\n\t\tfor(int i = 10000000; i != 0; i--){\r\n\t\t\tString.format(&quot;%04d&quot;, rdm.nextInt(20000) - 10000);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;String.format: &quot; + ((System.nanoTime() - start) / 1000000) + &quot;ms&quot;);\r\n\t}\r\n\r\n**Result**\r\n\r\n**Own function:** 1697ms\r\n\r\n**String.format:** 38134ms","title":"How can I pad an integer with zeros on the left?","body":"<p>If performance is important in your case you could do it yourself with less overhead compared to the <code>String.format</code> function:</p>\n\n<pre><code>/**\n * @param in The integer value\n * @param fill The number of digits to fill\n * @return The given value left padded with the given number of digits\n */\npublic static String lPadZero(int in, int fill){\n\n    boolean negative = false;\n    int value, len = 0;\n\n    if(in &gt;= 0){\n        value = in;\n    } else {\n        negative = true;\n        value = - in;\n        in = - in;\n        len ++;\n    }\n\n    if(value == 0){\n        len = 1;\n    } else{         \n        for(; value != 0; len ++){\n            value /= 10;\n        }\n    }\n\n    StringBuilder sb = new StringBuilder();\n\n    if(negative){\n        sb.append('-');\n    }\n\n    for(int i = fill; i &gt; len; i--){\n        sb.append('0');\n    }\n\n    sb.append(in);\n\n    return sb.toString();       \n}\n</code></pre>\n\n<p><strong>Performance</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    Random rdm;\n    long start; \n\n    // Using own function\n    rdm = new Random(0);\n    start = System.nanoTime();\n\n    for(int i = 10000000; i != 0; i--){\n        lPadZero(rdm.nextInt(20000) - 10000, 4);\n    }\n    System.out.println(\"Own function: \" + ((System.nanoTime() - start) / 1000000) + \"ms\");\n\n    // Using String.format\n    rdm = new Random(0);        \n    start = System.nanoTime();\n\n    for(int i = 10000000; i != 0; i--){\n        String.format(\"%04d\", rdm.nextInt(20000) - 10000);\n    }\n    System.out.println(\"String.format: \" + ((System.nanoTime() - start) / 1000000) + \"ms\");\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<p><strong>Own function:</strong> 1697ms</p>\n\n<p><strong>String.format:</strong> 38134ms</p>\n"},{"comments":[{"owner":{"account_id":2133795,"reputation":11498,"user_id":1894021,"accept_rate":88,"display_name":"Isaac"},"score":0,"creation_date":1458429415,"post_id":24931253,"comment_id":59858684,"body_markdown":"`(new char[diff])` why","body":"<code>(new char[diff])</code> why"},{"owner":{"account_id":2133795,"reputation":11498,"user_id":1894021,"accept_rate":88,"display_name":"Isaac"},"score":0,"creation_date":1458429443,"post_id":24931253,"comment_id":59858695,"body_markdown":"`replace(&quot;\\0&quot;, &quot;0&quot;)`what is... what","body":"<code>replace(&quot;\\0&quot;, &quot;0&quot;)</code>what is... what"},{"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"score":0,"creation_date":1458642423,"post_id":24931253,"comment_id":59940715,"body_markdown":"@Isaac - First I created a char array, and using that char array I created a string. Then I replaced null character(which is the default value of char type) with &quot;0&quot; (which is the char we need here for padding)","body":"@Isaac - First I created a char array, and using that char array I created a string. Then I replaced null character(which is the default value of char type) with &quot;0&quot; (which is the char we need here for padding)"}],"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406197757,"creation_date":1406197757,"answer_id":24931253,"question_id":473282,"body_markdown":"Check my code that will work for integer and String.\r\n\r\nAssume our first number is 2. And we want to add zeros to that so the the length of final string will be 4. For that you can use following code\r\n\r\n        int number=2;\r\n        int requiredLengthAfterPadding=4;\r\n        String resultString=Integer.toString(number);\r\n        int inputStringLengh=resultString.length();\r\n        int diff=requiredLengthAfterPadding-inputStringLengh;\r\n        if(inputStringLengh&lt;requiredLengthAfterPadding)\r\n        {\r\n            resultString=new String(new char[diff]).replace(&quot;\\0&quot;, &quot;0&quot;)+number;\r\n        }        \r\n        System.out.println(resultString);","title":"How can I pad an integer with zeros on the left?","body":"<p>Check my code that will work for integer and String.</p>\n\n<p>Assume our first number is 2. And we want to add zeros to that so the the length of final string will be 4. For that you can use following code</p>\n\n<pre><code>    int number=2;\n    int requiredLengthAfterPadding=4;\n    String resultString=Integer.toString(number);\n    int inputStringLengh=resultString.length();\n    int diff=requiredLengthAfterPadding-inputStringLengh;\n    if(inputStringLengh&lt;requiredLengthAfterPadding)\n    {\n        resultString=new String(new char[diff]).replace(\"\\0\", \"0\")+number;\n    }        \n    System.out.println(resultString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1672698,"reputation":7302,"user_id":1538856,"accept_rate":78,"display_name":"JoeG"},"score":1,"creation_date":1469620188,"post_id":30011421,"comment_id":64610436,"body_markdown":"Above sample code is usage only, not really sample code.  The comment reflect this, you would need &quot;String myPaddedString = Strings.padStart(...)&quot;","body":"Above sample code is usage only, not really sample code.  The comment reflect this, you would need &quot;String myPaddedString = Strings.padStart(...)&quot;"},{"owner":{"account_id":92009,"reputation":1791,"user_id":252363,"display_name":"rafalmag"},"score":2,"creation_date":1492167924,"post_id":30011421,"comment_id":73879340,"body_markdown":"This method actually gives much better performance results than JDK String.format / MessageFormatter / DecimalFormatter.","body":"This method actually gives much better performance results than JDK String.format / MessageFormatter / DecimalFormatter."}],"tags":[],"owner":{"account_id":469276,"reputation":23596,"user_id":875775,"display_name":"Tho"},"comment_count":2,"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1469636808,"creation_date":1430638921,"answer_id":30011421,"question_id":473282,"body_markdown":"You can use [Google Guava][1]:\r\n\r\n**Maven:**\r\n\r\n    &lt;dependency&gt;\r\n         &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n         &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n         &lt;version&gt;14.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Sample code:**\r\n\r\n    String paddedString1 = Strings.padStart(&quot;7&quot;, 3, &#39;0&#39;); //&quot;007&quot;\r\n    String paddedString2 = Strings.padStart(&quot;2020&quot;, 3, &#39;0&#39;); //&quot;2020&quot;\r\n\r\n**Note:**\r\n\r\n`Guava` is very useful library, it also provides lots of features which related to `Collections`, `Caches`, `Functional idioms`, `Concurrency`, `Strings`, `Primitives`, `Ranges`, `IO`, `Hashing`, `EventBus`, etc\r\n\r\nRef: [GuavaExplained][2]  \r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/\r\n  [2]: https://code.google.com/p/guava-libraries/wiki/GuavaExplained","title":"How can I pad an integer with zeros on the left?","body":"<p>You can use <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a>:</p>\n\n<p><strong>Maven:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n     &lt;artifactId&gt;guava&lt;/artifactId&gt;\n     &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n     &lt;version&gt;14.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Sample code:</strong></p>\n\n<pre><code>String paddedString1 = Strings.padStart(\"7\", 3, '0'); //\"007\"\nString paddedString2 = Strings.padStart(\"2020\", 3, '0'); //\"2020\"\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p><code>Guava</code> is very useful library, it also provides lots of features which related to <code>Collections</code>, <code>Caches</code>, <code>Functional idioms</code>, <code>Concurrency</code>, <code>Strings</code>, <code>Primitives</code>, <code>Ranges</code>, <code>IO</code>, <code>Hashing</code>, <code>EventBus</code>, etc</p>\n\n<p>Ref: <a href=\"https://code.google.com/p/guava-libraries/wiki/GuavaExplained\" rel=\"noreferrer\">GuavaExplained</a>  </p>\n"},{"comments":[{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":5,"creation_date":1456158016,"post_id":35522727,"comment_id":58805337,"body_markdown":"@Omar Koohei indeed, but it explains the reasoning behind the &quot;magic constants&quot;.","body":"@Omar Koohei indeed, but it explains the reasoning behind the &quot;magic constants&quot;."},{"owner":{"account_id":8290076,"reputation":12934,"user_id":6305235,"accept_rate":0,"display_name":"David Miguel"},"score":0,"creation_date":1478452487,"post_id":35522727,"comment_id":68149668,"body_markdown":"Nice answer! Just a comment, the `F` of format() should be `f`:  `String.format(...);`.","body":"Nice answer! Just a comment, the <code>F</code> of format() should be <code>f</code>:  <code>String.format(...);</code>."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1547478098,"post_id":35522727,"comment_id":95196240,"body_markdown":"what if i dont want to append a leading 0 but another letter/number? thanks","body":"what if i dont want to append a leading 0 but another letter/number? thanks"},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":1,"creation_date":1547656137,"post_id":35522727,"comment_id":95268505,"body_markdown":"@chiperortiz afaik it&#39;s not possible with the above formatting tools. In that case, I calculate the required leading characters (e.g. `int prefixLength = requiredTotalLength - String.valueOf(numericValue).length`), and then use a repeat string method to create the required prefix. There are various ways to repeat strings, but there isn&#39;t a native java one, afaik: https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string-in-java","body":"@chiperortiz afaik it&#39;s not possible with the above formatting tools. In that case, I calculate the required leading characters (e.g. <code>int prefixLength = requiredTotalLength - String.valueOf(numericValue).length</code>), and then use a repeat string method to create the required prefix. There are various ways to repeat strings, but there isn&#39;t a native java one, afaik: <a href=\"https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string-in-java\" title=\"simple way to repeat a string in java\">stackoverflow.com/questions/1235179/&hellip;</a>"},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1651783811,"post_id":35522727,"comment_id":127452297,"body_markdown":"@chiperortiz starting from java 11 there is a String.repeat method though.","body":"@chiperortiz starting from java 11 there is a String.repeat method though."}],"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"comment_count":5,"down_vote_count":0,"up_vote_count":191,"is_accepted":false,"score":191,"last_activity_date":1520400244,"creation_date":1455968485,"answer_id":35522727,"question_id":473282,"body_markdown":"Let&#39;s say you want to print `11` as `011`\r\n\r\n**You could use a formatter**: `&quot;%03d&quot;`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can use this formatter like this:\r\n\r\n    int a = 11;\r\n    String with3digits = String.format(&quot;%03d&quot;, a);\r\n    System.out.println(with3digits);\r\n\r\nAlternatively, some java methods directly support these formatters:\r\n\r\n    System.out.printf(&quot;%03d&quot;, a);\r\n\r\n  [1]: http://i.stack.imgur.com/u4vid.png","title":"How can I pad an integer with zeros on the left?","body":"<p>Let's say you want to print <code>11</code> as <code>011</code></p>\n\n<p><strong>You could use a formatter</strong>: <code>\"%03d\"</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/u4vid.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u4vid.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can use this formatter like this:</p>\n\n<pre><code>int a = 11;\nString with3digits = String.format(\"%03d\", a);\nSystem.out.println(with3digits);\n</code></pre>\n\n<p>Alternatively, some java methods directly support these formatters:</p>\n\n<pre><code>System.out.printf(\"%03d\", a);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7180435,"reputation":1104,"user_id":5484609,"accept_rate":80,"display_name":"Kartik Chugh"},"score":2,"creation_date":1514627995,"post_id":43869856,"comment_id":83035809,"body_markdown":"Hmm...I like it.","body":"Hmm...I like it."}],"tags":[],"owner":{"account_id":7483102,"reputation":253,"user_id":5687295,"accept_rate":50,"display_name":"NoShadowKick"},"comment_count":1,"down_vote_count":9,"up_vote_count":6,"is_accepted":false,"score":-3,"last_activity_date":1494334368,"creation_date":1494332864,"answer_id":43869856,"question_id":473282,"body_markdown":"No packages needed:\r\n\r\n    String paddedString = i &lt; 100 ? i &lt; 10 ? &quot;00&quot; + i : &quot;0&quot; + i : &quot;&quot; + i;\r\n\r\nThis will pad the string to three characters, and it is easy to add a part more for four or five. I know this is not the perfect solution in any way (especially if you want a large padded string), but I like it.","title":"How can I pad an integer with zeros on the left?","body":"<p>No packages needed:</p>\n\n<pre><code>String paddedString = i &lt; 100 ? i &lt; 10 ? \"00\" + i : \"0\" + i : \"\" + i;\n</code></pre>\n\n<p>This will pad the string to three characters, and it is easy to add a part more for four or five. I know this is not the perfect solution in any way (especially if you want a large padded string), but I like it.</p>\n"},{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510137050,"creation_date":1510137050,"answer_id":47177309,"question_id":473282,"body_markdown":"You need to use a Formatter, following code uses [NumberFormat][1]\r\n\r\n\t\tint inputNo = 1;\r\n\t\tNumberFormat nf = NumberFormat.getInstance();\r\n\t\tnf.setMaximumIntegerDigits(4);\r\n\t\tnf.setMinimumIntegerDigits(4);\r\n\t\tnf.setGroupingUsed(false);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Formatted Integer : &quot; + nf.format(inputNo));\r\n\r\n&gt; Output: 0001\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html?bcsi_scan_64741547a7fe261b=0&amp;bcsi_scan_filename=NumberFormat.html","title":"How can I pad an integer with zeros on the left?","body":"<p>You need to use a Formatter, following code uses <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html?bcsi_scan_64741547a7fe261b=0&amp;bcsi_scan_filename=NumberFormat.html\" rel=\"nofollow noreferrer\">NumberFormat</a></p>\n\n<pre><code>    int inputNo = 1;\n    NumberFormat nf = NumberFormat.getInstance();\n    nf.setMaximumIntegerDigits(4);\n    nf.setMinimumIntegerDigits(4);\n    nf.setGroupingUsed(false);\n\n    System.out.println(\"Formatted Integer : \" + nf.format(inputNo));\n</code></pre>\n\n<blockquote>\n  <p>Output: 0001</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2055585,"reputation":437,"user_id":5285016,"display_name":"Brijesh Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1595132852,"creation_date":1529936775,"answer_id":51025832,"question_id":473282,"body_markdown":"Try this one:\r\n\r\n&lt;!-- language: Java --&gt;\r\n    \r\n    import java.text.DecimalFormat; \r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;0000&quot;);\r\n    \r\n    String c = df.format(9);   // Output: 0009\r\n\r\n    String a = df.format(99);  // Output: 0099\r\n\r\n    String b = df.format(999); // Output: 0999\r\n\r\n","title":"How can I pad an integer with zeros on the left?","body":"<p>Try this one:</p>\n<pre><code>import java.text.DecimalFormat; \n\nDecimalFormat df = new DecimalFormat(&quot;0000&quot;);\n\nString c = df.format(9);   // Output: 0009\n\nString a = df.format(99);  // Output: 0099\n\nString b = df.format(999); // Output: 0999\n</code></pre>\n"},{"comments":[{"owner":{"account_id":123367,"reputation":1413,"user_id":317772,"accept_rate":70,"display_name":"OJVM"},"score":4,"creation_date":1594756446,"post_id":52792330,"comment_id":111236892,"body_markdown":"In this case the output is 0811.","body":"In this case the output is 0811."}],"tags":[],"owner":{"account_id":7634212,"reputation":2824,"user_id":5788247,"display_name":"Shomu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539429313,"creation_date":1539429313,"answer_id":52792330,"question_id":473282,"body_markdown":"\r\n\r\n**Use the class DecimalFormat, like so:**\r\n\r\n    NumberFormat formatter = new DecimalFormat(&quot;0000&quot;); //i use 4 Zero but you can also another number\r\n    System.out.println(&quot;OUTPUT : &quot;+formatter.format(811)); \r\n\r\n**OUTPUT :** 0000811","title":"How can I pad an integer with zeros on the left?","body":"<p><strong>Use the class DecimalFormat, like so:</strong></p>\n\n<pre><code>NumberFormat formatter = new DecimalFormat(\"0000\"); //i use 4 Zero but you can also another number\nSystem.out.println(\"OUTPUT : \"+formatter.format(811)); \n</code></pre>\n\n<p><strong>OUTPUT :</strong> 0000811</p>\n"},{"tags":[],"owner":{"account_id":3419254,"reputation":2327,"user_id":2867351,"display_name":"Morgan Koh"},"comment_count":0,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1582086164,"creation_date":1582084086,"answer_id":60292724,"question_id":473282,"body_markdown":"Here is how you can format your string without using `DecimalFormat`.\r\n\r\n`String.format(&quot;%02d&quot;, 9)`\r\n\r\n&gt; 09\r\n\r\n`String.format(&quot;%03d&quot;, 19)`\r\n\r\n&gt; 019\r\n\r\n`String.format(&quot;%04d&quot;, 119)`\r\n\r\n&gt; 0119","title":"How can I pad an integer with zeros on the left?","body":"<p>Here is how you can format your string without using <code>DecimalFormat</code>.</p>\n\n<p><code>String.format(\"%02d\", 9)</code></p>\n\n<blockquote>\n  <p>09</p>\n</blockquote>\n\n<p><code>String.format(\"%03d\", 19)</code></p>\n\n<blockquote>\n  <p>019</p>\n</blockquote>\n\n<p><code>String.format(\"%04d\", 119)</code></p>\n\n<blockquote>\n  <p>0119</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2835639,"reputation":589,"user_id":2436314,"display_name":"Dinesh Lomte"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1597502414,"creation_date":1597502063,"answer_id":63427171,"question_id":473282,"body_markdown":"Here is another way to pad an integer with zeros on the left. You can increase the number of zeros as per your convenience. Have added a check to return the same value as is in case of negative number or a value greater than or equals to zeros configured. You can further modify as per your requirement.\r\n\r\n    /**\r\n     * \r\n     * @author Dinesh.Lomte\r\n     *\r\n     */\r\n    public class AddLeadingZerosToNum {\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.out.println(getLeadingZerosToNum(0));\r\n    \t\tSystem.out.println(getLeadingZerosToNum(7));\r\n    \t\tSystem.out.println(getLeadingZerosToNum(13));\r\n    \t\tSystem.out.println(getLeadingZerosToNum(713));\r\n    \t\tSystem.out.println(getLeadingZerosToNum(7013));\r\n    \t\tSystem.out.println(getLeadingZerosToNum(9999));\r\n    \t}\r\n    \t/**\r\n    \t * \r\n    \t * @param num\r\n    \t * @return\r\n    \t */\r\n    \tprivate static String getLeadingZerosToNum(int num) {\r\n    \t\t// Initializing the string of zeros with required size\r\n    \t\tString zeros = new String(&quot;0000&quot;);\r\n    \t\t// Validating if num value is less then zero or if the length of number \r\n    \t\t// is greater then zeros configured to return the num value as is\r\n    \t\tif (num &lt; 0 || String.valueOf(num).length() &gt;= zeros.length()) {\r\n    \t\t\treturn String.valueOf(num);\r\n    \t\t}\r\n    \t\t// Returning zeros in case if value is zero.\r\n    \t\tif (num == 0) {\r\n    \t\t\treturn zeros;\r\n    \t\t}\r\n    \t\treturn new StringBuilder(zeros.substring(0, zeros.length() - \r\n    \t\t\t\tString.valueOf(num).length())).append(\r\n    \t\t\t\t\t\tString.valueOf(num)).toString();\r\n    \t}\r\n    }\r\n\r\n**Input**\r\n\r\n0\r\n\r\n7\r\n\r\n13\r\n\r\n713\r\n\r\n7013\r\n\r\n9999\r\n\r\n**Output**\r\n\r\n0000\r\n\r\n0007\r\n\r\n0013\r\n\r\n7013\r\n\r\n9999\r\n","title":"How can I pad an integer with zeros on the left?","body":"<p>Here is another way to pad an integer with zeros on the left. You can increase the number of zeros as per your convenience. Have added a check to return the same value as is in case of negative number or a value greater than or equals to zeros configured. You can further modify as per your requirement.</p>\n<pre><code>/**\n * \n * @author Dinesh.Lomte\n *\n */\npublic class AddLeadingZerosToNum {\n    \n    /**\n     * \n     * @param args\n     */\n    public static void main(String[] args) {\n        \n        System.out.println(getLeadingZerosToNum(0));\n        System.out.println(getLeadingZerosToNum(7));\n        System.out.println(getLeadingZerosToNum(13));\n        System.out.println(getLeadingZerosToNum(713));\n        System.out.println(getLeadingZerosToNum(7013));\n        System.out.println(getLeadingZerosToNum(9999));\n    }\n    /**\n     * \n     * @param num\n     * @return\n     */\n    private static String getLeadingZerosToNum(int num) {\n        // Initializing the string of zeros with required size\n        String zeros = new String(&quot;0000&quot;);\n        // Validating if num value is less then zero or if the length of number \n        // is greater then zeros configured to return the num value as is\n        if (num &lt; 0 || String.valueOf(num).length() &gt;= zeros.length()) {\n            return String.valueOf(num);\n        }\n        // Returning zeros in case if value is zero.\n        if (num == 0) {\n            return zeros;\n        }\n        return new StringBuilder(zeros.substring(0, zeros.length() - \n                String.valueOf(num).length())).append(\n                        String.valueOf(num)).toString();\n    }\n}\n</code></pre>\n<p><strong>Input</strong></p>\n<p>0</p>\n<p>7</p>\n<p>13</p>\n<p>713</p>\n<p>7013</p>\n<p>9999</p>\n<p><strong>Output</strong></p>\n<p>0000</p>\n<p>0007</p>\n<p>0013</p>\n<p>7013</p>\n<p>9999</p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2955,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635756570,"creation_date":1635756570,"answer_id":69794558,"question_id":473282,"body_markdown":"You can add leading 0 to your string like this. Define a string that will be the maximum length of the string that you want. In my case i need a string that will be only 9 char long.\r\n\r\n    String d = &quot;602939&quot;;\r\n    d = &quot;000000000&quot;.substring(0, (9-d.length())) + d;\r\n    System.out.println(d);\r\n\r\nOutput : 000602939","title":"How can I pad an integer with zeros on the left?","body":"<p>You can add leading 0 to your string like this. Define a string that will be the maximum length of the string that you want. In my case i need a string that will be only 9 char long.</p>\n<pre><code>String d = &quot;602939&quot;;\nd = &quot;000000000&quot;.substring(0, (9-d.length())) + d;\nSystem.out.println(d);\n</code></pre>\n<p>Output : 000602939</p>\n"},{"tags":[],"owner":{"account_id":9792102,"reputation":285,"user_id":7256376,"display_name":"Dr Adams"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1646108439,"creation_date":1646108439,"answer_id":71303689,"question_id":473282,"body_markdown":"Use this simple extension function\r\n\r\n    fun Int.padZero(): String {\r\n        return if (this &lt; 10) {\r\n            &quot;0$this&quot;\r\n        } else {\r\n            this.toString()\r\n        }\r\n    }","title":"How can I pad an integer with zeros on the left?","body":"<p>Use this simple extension function</p>\n<pre><code>fun Int.padZero(): String {\n    return if (this &lt; 10) {\n        &quot;0$this&quot;\n    } else {\n        this.toString()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15970616,"reputation":191,"user_id":11524873,"display_name":"Aishwarya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680609473,"creation_date":1680609473,"answer_id":75929090,"question_id":473282,"body_markdown":"In Kotlin, you can use format() function.\r\n\r\n    val minutes = 5\r\n    val strMinutes = &quot;%02d&quot;.format(minutes)\r\n\r\nwhere, 2 is the total number of digits you want to display(including zero).\r\n\r\nOutput: 05\r\n","title":"How can I pad an integer with zeros on the left?","body":"<p>In Kotlin, you can use format() function.</p>\n<pre><code>val minutes = 5\nval strMinutes = &quot;%02d&quot;.format(minutes)\n</code></pre>\n<p>where, 2 is the total number of digits you want to display(including zero).</p>\n<p>Output: 05</p>\n"},{"tags":[],"owner":{"account_id":2531619,"reputation":846,"user_id":2199812,"display_name":"reflexdemon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701524802,"creation_date":1701524802,"answer_id":77590594,"question_id":473282,"body_markdown":"If you are on Java 15 and above,\r\n\r\n```java\r\nvar minutes = 5\r\nvar strMinutes = &quot;%02d&quot;.formatted(minutes)\r\n```\r\nwhere, 2 is the total number of digits you want to display(including zero).\r\n```text\r\nOutput: 05\r\n```\r\n\r\nThis uses `formatted` method part of instance method on Strings called which does the same as the static `String.format(str,x,y,z)`","title":"How can I pad an integer with zeros on the left?","body":"<p>If you are on Java 15 and above,</p>\n<pre class=\"lang-java prettyprint-override\"><code>var minutes = 5\nvar strMinutes = &quot;%02d&quot;.formatted(minutes)\n</code></pre>\n<p>where, 2 is the total number of digits you want to display(including zero).</p>\n<pre><code>Output: 05\n</code></pre>\n<p>This uses <code>formatted</code> method part of instance method on Strings called which does the same as the static <code>String.format(str,x,y,z)</code></p>\n"}],"owner":{"account_id":10732,"reputation":54830,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817580,"favorite_count":0,"down_vote_count":2,"up_vote_count":1222,"accepted_answer_id":473309,"answer_count":19,"score":1220,"last_activity_date":1701524802,"creation_date":1232724084,"question_id":473282,"body_markdown":"How do you left pad an `int` with zeros when converting to a `String` in java?\r\n\r\nI&#39;m basically looking to pad out integers up to `9999` with leading zeros (e.g. 1 = `0001`).","title":"How can I pad an integer with zeros on the left?","body":"<p>How do you left pad an <code>int</code> with zeros when converting to a <code>String</code> in java?</p>\n\n<p>I'm basically looking to pad out integers up to <code>9999</code> with leading zeros (e.g. 1 = <code>0001</code>).</p>\n"},{"tags":["java","jar","quarkus"],"owner":{"account_id":18147096,"reputation":9,"user_id":13200320,"display_name":"Shaharyar Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701524367,"creation_date":1701524367,"question_id":77590572,"body_markdown":"Whenever I build my quarkus project using `quarkus build` command it generates two jar files in the target directory of my program. One of them is at the root of the target directory and has the name of my project. The other one is situated inside the `quarkus-app` folder and has the name `quarkus-run.jar` \r\n\r\nHowever whenever I run the jar file that has the name of my project it gives me the following error:\r\n`\r\nError: Main method not found in class com.humblepenguin.Main, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n`\r\n\r\nHowever when I run the other jar file (the quarkus-run.jar one) everything works perfectly. \r\n\r\nHere is my Main.java file:\r\n`\r\n    package com.humblepenguin;\r\n\r\n    import io.quarkus.picocli.runtime.annotations.TopCommand;\r\n\r\n    import picocli.CommandLine;\r\n\r\n    import com.humblepenguin.Server;\r\n    import com.humblepenguin.Client;\r\n\r\n    @TopCommand\r\n    @CommandLine.Command(mixinStandardHelpOptions = true, subcommands = { StartServer.class,         StartClient.class })\r\n    public class Main {\r\n\r\n     }\r\n\r\n     @CommandLine.Command(name = &quot;server&quot;, description = &quot;Start the server on port 8080&quot;)\r\n     class StartServer implements Runnable {\r\n\r\n      @Override\r\n      public void run() {\r\n        System.out.println(&quot;Starting server&quot;);\r\n        Server server = new Server(8080);\r\n        server.start();\r\n      }\r\n    }\r\n\r\n     @CommandLine.Command(name = &quot;client&quot;, description = &quot;Start a client instance to connect to the server&quot;)\r\n     class StartClient implements Runnable {\r\n\r\n      @Override\r\n      public void run() {\r\n        Client client = new Client();\r\n        client.run();\r\n      }\r\n    }\r\n`\r\n\r\nI tried looking for some explanation online however there are very limited tutorials and guides on Quarkus.","title":"Two jar files in quarkus target directory","body":"<p>Whenever I build my quarkus project using <code>quarkus build</code> command it generates two jar files in the target directory of my program. One of them is at the root of the target directory and has the name of my project. The other one is situated inside the <code>quarkus-app</code> folder and has the name <code>quarkus-run.jar</code></p>\n<p>However whenever I run the jar file that has the name of my project it gives me the following error:\n<code>Error: Main method not found in class com.humblepenguin.Main, please define the main method as: public static void main(String[] args) or a JavaFX application class must extend javafx.application.Application</code></p>\n<p>However when I run the other jar file (the quarkus-run.jar one) everything works perfectly.</p>\n<p>Here is my Main.java file:\n`\npackage com.humblepenguin;</p>\n<pre><code>import io.quarkus.picocli.runtime.annotations.TopCommand;\n\nimport picocli.CommandLine;\n\nimport com.humblepenguin.Server;\nimport com.humblepenguin.Client;\n\n@TopCommand\n@CommandLine.Command(mixinStandardHelpOptions = true, subcommands = { StartServer.class,         StartClient.class })\npublic class Main {\n\n }\n\n @CommandLine.Command(name = &quot;server&quot;, description = &quot;Start the server on port 8080&quot;)\n class StartServer implements Runnable {\n\n  @Override\n  public void run() {\n    System.out.println(&quot;Starting server&quot;);\n    Server server = new Server(8080);\n    server.start();\n  }\n}\n\n @CommandLine.Command(name = &quot;client&quot;, description = &quot;Start a client instance to connect to the server&quot;)\n class StartClient implements Runnable {\n\n  @Override\n  public void run() {\n    Client client = new Client();\n    client.run();\n  }\n}\n</code></pre>\n<p>`</p>\n<p>I tried looking for some explanation online however there are very limited tutorials and guides on Quarkus.</p>\n"},{"tags":["java","maven","networking","udp"],"comments":[{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1701527569,"post_id":77590549,"comment_id":136788107,"body_markdown":"&quot;_I want to send a DISCOVER on broadcast_&quot; No, you do not. Broadcast is deprecated. It is a security risk that interrupts _everything_ on the network, including things like routers and printers that are not interested. The correct way to do what you want is with multicast that only interrupts interested devices.","body":"&quot;<i>I want to send a DISCOVER on broadcast</i>&quot; No, you do not. Broadcast is deprecated. It is a security risk that interrupts <i>everything</i> on the network, including things like routers and printers that are not interested. The correct way to do what you want is with multicast that only interrupts interested devices."},{"owner":{"account_id":17903284,"reputation":19,"user_id":13007065,"display_name":"Armczbt"},"score":0,"creation_date":1701530781,"post_id":77590549,"comment_id":136788452,"body_markdown":"Thanks for your reply, I never used multicast I don&#39;t know how I am supposed to do that..","body":"Thanks for your reply, I never used multicast I don&#39;t know how I am supposed to do that.."}],"owner":{"account_id":17903284,"reputation":19,"user_id":13007065,"display_name":"Armczbt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701523791,"creation_date":1701523791,"question_id":77590549,"body_markdown":"I&#39;m currently working on a chatsystem project for school and I&#39;m experiencing issues with network management. \r\n\r\nThe goal of the application is a local chat system. When the app is launched, we need first to explore the network to see if other users are already connected. Then, we choose our username (if not already chosen by another) and we enter the chat. On a network aspect : When the login window shows up, I want to send a DISCOVER on broadcast and if other are already connected they are running a loop and if they receive a DISCOVER starting message they send back DISCOVER_RESPONSE + their username. \r\n\r\nHowever, with logs I saw that users connected receive the DISCOVER message with the right IP but the answer never come back. \r\n\r\nI tested many things but nothing works\r\n\r\nMoreover, I have a one-file version that works but I don&#39;t want it to do it that way because I won&#39;t be able to get connected usernames before I connect myself and i won&#39;t be able to check if the username is already taken. I put the working code at the end.\r\n\r\nThanks for your help !\r\n\r\nHere are my codes: \r\n\r\nLoginPage.java:\r\n\r\n    public LoginPage() {\r\n        \r\n        Thread discoverUser = new Thread(() -&gt; discoverController.startDiscovery(12345));\r\n        discoverUser.start();\r\n        initComponents();\r\n    }\r\n\r\n    private void connectButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_connectButtonActionPerformed\r\n        String enteredUsername = username.getText().trim();\r\n\r\n        List&lt;Contact&gt; discoveredContacts = discoverController.getContactList();\r\n\r\n        if (UsernameController.isValidUsername(enteredUsername) &amp;&amp; UsernameController.isUsernameAvailable(enteredUsername, discoveredContacts)) {\r\n            discoverController.stopDiscoverThread(); \r\n\r\n            System.out.println(&quot;---------------Liste des contacts d&#233;couverts--------------&quot;);\r\n            for (Contact contact : discoveredContacts) {\r\n                System.out.println(contact.getUsername() + &quot; &quot; + contact.getIp());\r\n            }\r\n            System.out.println(&quot;-------------------------------------------------------&quot;);\r\n            \r\n\r\n            HomePage homepage = new HomePage(enteredUsername, discoveredContacts, discoverController.getIPList());\r\n            homepage.setVisible(true);\r\n            this.dispose();\r\n        } else {\r\n            JOptionPane.showMessageDialog(this, &quot;Invalid username. Please use only letters, numbers, hyphens, and underscores.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n    }\r\n\r\n\r\nDiscoverController.java:\r\n\r\n    package com.heyapp.controllers;\r\n\r\n    import java.net.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Enumeration;\r\n    import java.util.List;\r\n\r\n    import com.heyapp.models.Contact;\r\n\r\n    public class DiscoverController {\r\n\r\n    private List&lt;Contact&gt; contactList = new ArrayList&lt;&gt;();\r\n    private List&lt;String&gt; localIPs = new ArrayList&lt;&gt;();\r\n    private volatile boolean stopDiscoverThread = false;\r\n\r\n    public DiscoverController() {\r\n        this.localIPs = getIPS();\r\n    }\r\n\r\n    private List&lt;String&gt; getIPS() {\r\n        List&lt;String&gt; ips = new ArrayList&lt;&gt;();\r\n        try {\r\n            Enumeration&lt;NetworkInterface&gt; e = NetworkInterface.getNetworkInterfaces();\r\n            while (e.hasMoreElements()) {\r\n                NetworkInterface n = e.nextElement();\r\n                Enumeration&lt;InetAddress&gt; ee = n.getInetAddresses();\r\n                while (ee.hasMoreElements()) {\r\n                    InetAddress i = ee.nextElement();\r\n                    ips.add(i.getHostAddress());\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return ips;\r\n    }\r\n\r\n    public void startDiscovery(int port) {\r\n        Thread receiveThread = new Thread(() -&gt; receiveDiscover(port));\r\n        Thread sendThread = new Thread(() -&gt; sendDiscover(port));\r\n\r\n        receiveThread.start();\r\n        // You can add a delay here if needed\r\n        sendThread.start();\r\n\r\n        try {\r\n            receiveThread.join();\r\n            sendThread.join();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void receiveDiscover(int port) {\r\n        try {\r\n            DatagramSocket socket = new DatagramSocket();\r\n            socket.setBroadcast(true);\r\n            socket.setSoTimeout(1000); // Set a timeout for socket.receive()\r\n\r\n            System.out.println(&quot;D&#233;but de la d&#233;couverte&quot;);\r\n\r\n            byte[] receiveData = new byte[1024];\r\n            DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\r\n\r\n            while (!stopDiscoverThread) {\r\n                try {\r\n                    System.out.println(&quot;Boucle&quot;);\r\n                    socket.receive(receivePacket);\r\n                    String message = new String(receivePacket.getData(), 0, \r\n      receivePacket.getLength());\r\n                    System.out.println(&quot;Msg re&#231;u&quot;);\r\n\r\n                    if (message.startsWith(&quot;DISCOVER_RESPONSE&quot;)) {\r\n                        String otherUsername = message.substring(18);\r\n                        String clientIP = receivePacket.getAddress().getHostAddress();\r\n\r\n                        System.out.println(otherUsername + &quot; d&#233;couvert&quot;);\r\n\r\n                        if (!localIPs.contains(clientIP)) {\r\n                            Contact newContact = new Contact(otherUsername, clientIP, true);\r\n                            contactList.add(newContact);\r\n                        }\r\n                    }\r\n                } catch (SocketTimeoutException e) {\r\n                    // Timeout occurred, check the stopDiscoverThread flag\r\n                }\r\n            }\r\n\r\n            System.out.println(&quot;Fin de la d&#233;couverte&quot;);\r\n\r\n            socket.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void sendDiscover(int port) {\r\n        try {\r\n            DatagramSocket socket = new DatagramSocket();\r\n            socket.setBroadcast(true);\r\n\r\n            System.out.println(&quot;Envoi de la d&#233;couverte&quot;);\r\n\r\n            String discoveryMessage = &quot;DISCOVER&quot;;\r\n            byte[] discoverData = discoveryMessage.getBytes();\r\n            InetAddress broadcastAddress = InetAddress.getByName(&quot;255.255.255.255&quot;);\r\n            DatagramPacket discoverPacket = new DatagramPacket(discoverData, \r\n            discoverData.length, broadcastAddress, port);\r\n            socket.send(discoverPacket);\r\n\r\n            // Add a delay if needed\r\n\r\n            System.out.println(&quot;Fin de l&#39;envoi de la d&#233;couverte&quot;);\r\n\r\n            socket.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public List&lt;Contact&gt; getContactList() {\r\n        return contactList;\r\n    }\r\n\r\n    public void stopDiscoverThread() {\r\n        stopDiscoverThread = true;\r\n    }\r\n\r\n    public List&lt;String&gt; getIPList() {\r\n        return localIPs;\r\n    }\r\n\r\n\r\nHomePage.java: \r\n\r\n    public HomePage(String username, List&lt;Contact&gt; contactsDiscovered, List&lt;String&gt; \r\n        localIPs) {\r\n        this.usern = username;\r\n        this.contacts = contactsDiscovered;\r\n        this.localIPs = localIPs;\r\n        this.server = new ChatController(username, contactsDiscovered, localIPs);\r\n\r\n        Thread chatThread = new Thread(() -&gt; server.startChat(12345));\r\n\r\n        chatThread.start();\r\n\r\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n            if (chatThread.isAlive()) {\r\n                chatThread.interrupt();\r\n            }\r\n        }));\r\n\r\n        initComponents(contacts);\r\n\r\n        \r\n    }\r\n\r\nChatController.java : \r\n\r\n    package com.heyapp.controllers;\r\n\r\n    import java.net.DatagramPacket;\r\n    import java.net.DatagramSocket;\r\n    import java.net.InetAddress;\r\n    import java.util.List;\r\n\r\n\r\n    import com.heyapp.models.Contact;\r\n\r\n    public class ChatController {\r\n\r\n    private String username;\r\n    private List&lt;Contact&gt; contactList;\r\n    private List&lt;String&gt; localIPs;\r\n    private ConnectController connectController;\r\n\r\n    public ChatController(String username, List&lt;Contact&gt; contactsDiscovered, List&lt;String&gt; localIPs) {\r\n        this.username = username;\r\n        this.contactList = contactsDiscovered;\r\n        this.localIPs = localIPs;\r\n        this.connectController = new ConnectController();\r\n    }\r\n\r\n    public void startChat(int port) {\r\n        try {\r\n            Thread receiveThread = new Thread(() -&gt; receiveMessages(port));\r\n            receiveThread.start();\r\n\r\n            showContactList(contactList);\r\n\r\n            connectController.sendConnectToAll(port, username, contactList, localIPs);\r\n\r\n            receiveThread.join();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    \r\n\r\n\r\n    private void sendDisconnectToAll(int port) {\r\n        try {\r\n            for (Contact contact : contactList) {\r\n                if (!localIPs.contains(contact.getIp())) {\r\n                    DatagramSocket socket = new DatagramSocket();\r\n                    InetAddress destinationIPAddress = \r\n     InetAddress.getByName(contact.getIp());\r\n    \r\n                    String disconnectMessage = &quot;DISCONNECT&quot;;\r\n                    byte[] disconnectData = disconnectMessage.getBytes();\r\n                    DatagramPacket disconnectPacket = new DatagramPacket(disconnectData, disconnectData.length,\r\n                            destinationIPAddress, port);\r\n                    socket.send(disconnectPacket);\r\n    \r\n                    socket.close();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void receiveMessages(int port) {\r\n        try {\r\n            DatagramSocket socket = new DatagramSocket(port);\r\n            System.out.println(&quot;Serveur de chat d&#233;marr&#233; sur le port &quot; + port);\r\n    \r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; sendDisconnectToAll(port)));\r\n    \r\n            while (true) {\r\n                byte[] receiveData = new byte[1024];\r\n                DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\r\n                socket.receive(receivePacket);\r\n    \r\n                String message = new String(receivePacket.getData(), 0, receivePacket.getLength());\r\n                String clientIP = receivePacket.getAddress().getHostAddress();\r\n    \r\n                if (message.startsWith(&quot;CONNECT&quot;)) {\r\n                    String otherUsername = message.substring(8);\r\n    \r\n                    if (!localIPs.contains(clientIP)) {\r\n                        System.out.println(&quot;Un contact s&#39;est connect&#233; ! : &quot; + otherUsername + &quot; (&quot; + clientIP + &quot;)&quot;);\r\n                        Contact newContact = new Contact(otherUsername, clientIP, true);\r\n                        contactList.add(newContact);\r\n    \r\n                        showContactList(contactList);\r\n                    } else {\r\n                        System.out.println(&quot;Vous-m&#234;me (&quot; + otherUsername + &quot;) s&#39;est connect&#233; ! Ignor&#233;.&quot;);\r\n                    }\r\n                } else if (message.startsWith(&quot;DISCONNECT&quot;)) {\r\n                    System.out.println(&quot;Un contact s&#39;est d&#233;connect&#233; ! : &quot; + contactList.stream()\r\n                            .filter(contact -&gt; contact.getIp().equals(clientIP))\r\n                            .findFirst()\r\n                            .map(Contact::getUsername)\r\n                            .orElse(&quot;Unknown User&quot;) + &quot; (&quot; + clientIP + &quot;)&quot;);\r\n                    contactList.removeIf(contact -&gt; contact.getIp().equals(clientIP));\r\n                    showContactList(contactList);\r\n                } else if (message.startsWith(&quot;DISCOVER&quot;)) {\r\n                    System.out.println(&quot;Oh qqn&quot;);\r\n                    respondToDiscover(port, clientIP);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void respondToDiscover(int port, String destinationIP) {\r\n        try {\r\n            System.out.println(&quot;On doit rep la&quot; + destinationIP);\r\n            DatagramSocket socket = new DatagramSocket();\r\n            InetAddress serverIPAddress = InetAddress.getByName(destinationIP);\r\n            String responseMessage = &quot;DISCOVER_RESPONSE &quot; + username;\r\n            byte[] responseData = responseMessage.getBytes();\r\n            DatagramPacket responsePacket = new DatagramPacket(responseData, responseData.length, serverIPAddress, port);\r\n            socket.send(responsePacket);\r\n            System.out.println(&quot;C&#39;est bon on a envoy&#233; &#224;&quot; + destinationIP + responseMessage);\r\n            socket.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void showContactList(List&lt;Contact&gt; contactList){\r\n        System.out.println(&quot;---------------Liste des contacts connect&#233;s--------------&quot;);\r\n            for (Contact contact : contactList) {\r\n                System.out.println(contact.getUsername() + &quot; &quot; + contact.getIp());\r\n            }\r\n        System.out.println(&quot;-------------------------------------------------------&quot;);\r\n    }\r\n\r\n\r\n    public List&lt;Contact&gt; getContactList() {\r\n        return contactList;\r\n    }\r\n\r\n \r\n}\r\n\r\nChatControllerSave.java (the one that works):\r\n\r\n    package com.heyapp.controllers;\r\n\r\n    import java.net.DatagramPacket;\r\n    import java.net.DatagramSocket;\r\n    import java.net.InetAddress;\r\n    import java.net.NetworkInterface;\r\n    import java.util.ArrayList;\r\n    import java.util.Enumeration;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n\r\n    import com.heyapp.models.Contact;\r\n\r\n    public class ChatControllerSave {\r\n\r\n    private String username;\r\n    private List&lt;Contact&gt; contactList = new ArrayList&lt;&gt;();\r\n    private List&lt;String&gt; localIPs = new ArrayList&lt;&gt;();\r\n\r\n    public ChatControllerSave(String username) {\r\n        this.username = username;\r\n        this.localIPs = getIPS();\r\n    }\r\n\r\n    private List&lt;String&gt; getIPS() {\r\n        List&lt;String&gt; ips = new ArrayList&lt;&gt;();\r\n        try {\r\n            Enumeration&lt;NetworkInterface&gt; e = NetworkInterface.getNetworkInterfaces();\r\n            while (e.hasMoreElements()) {\r\n                NetworkInterface n = e.nextElement();\r\n                Enumeration&lt;InetAddress&gt; ee = n.getInetAddresses();\r\n                while (ee.hasMoreElements()) {\r\n                    InetAddress i = ee.nextElement();\r\n                    ips.add(i.getHostAddress());\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return ips;\r\n    }\r\n\r\n    public void startChat(int port) {\r\n        try {\r\n            Thread receiveThread = new Thread(() -&gt; receiveMessages(port));\r\n            receiveThread.start();\r\n\r\n            discoverUsers(port);\r\n\r\n            receiveThread.join();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void discoverUsers(int port) {\r\n        try {\r\n            DatagramSocket socket = new DatagramSocket();\r\n            socket.setBroadcast(true);\r\n\r\n            String discoveryMessage = &quot;DISCOVER &quot; + username;\r\n            byte[] discoverData = discoveryMessage.getBytes();\r\n            InetAddress broadcastAddress = InetAddress.getByName(&quot;255.255.255.255&quot;);\r\n            DatagramPacket discoverPacket = new DatagramPacket(discoverData, discoverData.length, broadcastAddress, port);\r\n            socket.send(discoverPacket);\r\n\r\n            socket.close();\r\n\r\n            sendConnectToAll(port);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void sendConnectToAll(int port) {\r\n        try {\r\n            for (Contact contact : contactList) {\r\n                if (!localIPs.contains(contact.getIp())) {\r\n                    DatagramSocket socket = new DatagramSocket();\r\n                    InetAddress destinationIPAddress = InetAddress.getByName(contact.getIp());\r\n    \r\n                    String connectMessage = &quot;CONNECT &quot; + username;\r\n                    byte[] connectData = connectMessage.getBytes();\r\n                    DatagramPacket connectPacket = new DatagramPacket(connectData, connectData.length,\r\n                            destinationIPAddress, port);\r\n                    socket.send(connectPacket);\r\n    \r\n                    socket.close();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void sendDisconnectToAll(int port) {\r\n        try {\r\n            for (Contact contact : contactList) {\r\n                if (!localIPs.contains(contact.getIp())) {\r\n                    DatagramSocket socket = new DatagramSocket();\r\n                    InetAddress destinationIPAddress = InetAddress.getByName(contact.getIp());\r\n    \r\n                    String disconnectMessage = &quot;DISCONNECT&quot;;\r\n                    byte[] disconnectData = disconnectMessage.getBytes();\r\n                    DatagramPacket disconnectPacket = new DatagramPacket(disconnectData, disconnectData.length,\r\n                            destinationIPAddress, port);\r\n                    socket.send(disconnectPacket);\r\n    \r\n                    socket.close();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void receiveMessages(int port) {\r\n        try {\r\n            DatagramSocket socket = new DatagramSocket(port);\r\n            System.out.println(&quot;Serveur de chat d&#233;marr&#233; sur le port &quot; + port);\r\n    \r\n\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; sendDisconnectToAll(port)));\r\n    \r\n            while (true) {\r\n                byte[] receiveData = new byte[1024];\r\n                DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\r\n                socket.receive(receivePacket);\r\n    \r\n                String message = new String(receivePacket.getData(), 0, receivePacket.getLength());\r\n                String clientIP = receivePacket.getAddress().getHostAddress();\r\n    \r\n                if (message.startsWith(&quot;CONNECT&quot;)) {\r\n                    String otherUsername = message.substring(8);\r\n    \r\n                    if (!localIPs.contains(clientIP)) {\r\n                        System.out.println(&quot;Un contact s&#39;est connect&#233; ! : &quot; + otherUsername + &quot; (&quot; + clientIP + &quot;)&quot;);\r\n                        Contact newContact = new Contact(otherUsername, clientIP, true);\r\n                        contactList.add(newContact);\r\n    \r\n                        showContactList(contactList);\r\n                    } else {\r\n                        System.out.println(&quot;Vous-m&#234;me (&quot; + otherUsername + &quot;) s&#39;est connect&#233; ! Ignor&#233;.&quot;);\r\n                    }\r\n                } else if (message.startsWith(&quot;DISCONNECT&quot;)) {\r\n                    System.out.println(&quot;Un contact s&#39;est d&#233;connect&#233; ! : &quot; + contactList.stream()\r\n                            .filter(contact -&gt; contact.getIp().equals(clientIP))\r\n                            .findFirst()\r\n                            .map(Contact::getUsername)\r\n                            .orElse(&quot;Unknown User&quot;) + &quot; (&quot; + clientIP + &quot;)&quot;);\r\n                    contactList.removeIf(contact -&gt; contact.getIp().equals(clientIP));\r\n                    showContactList(contactList);\r\n                } else if (message.startsWith(&quot;DISCOVER&quot;)) {\r\n                    String otherUsername = message.substring(8);\r\n    \r\n                    if (!localIPs.contains(clientIP)) {\r\n                        Contact newContact = new Contact(otherUsername, clientIP, true);\r\n                        contactList.add(newContact);\r\n                        showContactList(contactList);\r\n                        sendConnectMessage(port, clientIP);\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void showContactList(List&lt;Contact&gt; contactList){\r\n        System.out.println(&quot;---------------Liste des contacts connect&#233;s--------------&quot;);\r\n            for (Contact contact : contactList) {\r\n                System.out.println(contact.getUsername() + &quot; &quot; + contact.getIp());\r\n            }\r\n        System.out.println(&quot;-------------------------------------------------------&quot;);\r\n    }\r\n\r\n    private void sendConnectMessage(int port, String destinationIP) {\r\n        try {\r\n            DatagramSocket socket = new DatagramSocket();\r\n            InetAddress serverIPAddress = InetAddress.getByName(destinationIP);\r\n\r\n            String connectMessage = &quot;CONNECT &quot; + username;\r\n            byte[] connectData = connectMessage.getBytes();\r\n            DatagramPacket connectPacket = new DatagramPacket(connectData, connectData.length, serverIPAddress, port);\r\n            socket.send(connectPacket);\r\n\r\n            socket.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public List&lt;Contact&gt; getContactList() {\r\n        return contactList;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;Entrez le nom d&#39;utilisateur : &quot;);\r\n    String username = scanner.nextLine();\r\n\r\n    scanner.close();\r\n\r\n    ChatControllerSave server = new ChatControllerSave(username);\r\n    server.startChat(12345);\r\n}\r\n}\r\n\r\n\r\n\r\n","title":"Chat app problem with UDP discovery Java maven","body":"<p>I'm currently working on a chatsystem project for school and I'm experiencing issues with network management.</p>\n<p>The goal of the application is a local chat system. When the app is launched, we need first to explore the network to see if other users are already connected. Then, we choose our username (if not already chosen by another) and we enter the chat. On a network aspect : When the login window shows up, I want to send a DISCOVER on broadcast and if other are already connected they are running a loop and if they receive a DISCOVER starting message they send back DISCOVER_RESPONSE + their username.</p>\n<p>However, with logs I saw that users connected receive the DISCOVER message with the right IP but the answer never come back.</p>\n<p>I tested many things but nothing works</p>\n<p>Moreover, I have a one-file version that works but I don't want it to do it that way because I won't be able to get connected usernames before I connect myself and i won't be able to check if the username is already taken. I put the working code at the end.</p>\n<p>Thanks for your help !</p>\n<p>Here are my codes:</p>\n<p>LoginPage.java:</p>\n<pre><code>public LoginPage() {\n    \n    Thread discoverUser = new Thread(() -&gt; discoverController.startDiscovery(12345));\n    discoverUser.start();\n    initComponents();\n}\n\nprivate void connectButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_connectButtonActionPerformed\n    String enteredUsername = username.getText().trim();\n\n    List&lt;Contact&gt; discoveredContacts = discoverController.getContactList();\n\n    if (UsernameController.isValidUsername(enteredUsername) &amp;&amp; UsernameController.isUsernameAvailable(enteredUsername, discoveredContacts)) {\n        discoverController.stopDiscoverThread(); \n\n        System.out.println(&quot;---------------Liste des contacts découverts--------------&quot;);\n        for (Contact contact : discoveredContacts) {\n            System.out.println(contact.getUsername() + &quot; &quot; + contact.getIp());\n        }\n        System.out.println(&quot;-------------------------------------------------------&quot;);\n        \n\n        HomePage homepage = new HomePage(enteredUsername, discoveredContacts, discoverController.getIPList());\n        homepage.setVisible(true);\n        this.dispose();\n    } else {\n        JOptionPane.showMessageDialog(this, &quot;Invalid username. Please use only letters, numbers, hyphens, and underscores.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n    }\n}\n</code></pre>\n<p>DiscoverController.java:</p>\n<pre><code>package com.heyapp.controllers;\n\nimport java.net.*;\nimport java.util.ArrayList;\nimport java.util.Enumeration;\nimport java.util.List;\n\nimport com.heyapp.models.Contact;\n\npublic class DiscoverController {\n\nprivate List&lt;Contact&gt; contactList = new ArrayList&lt;&gt;();\nprivate List&lt;String&gt; localIPs = new ArrayList&lt;&gt;();\nprivate volatile boolean stopDiscoverThread = false;\n\npublic DiscoverController() {\n    this.localIPs = getIPS();\n}\n\nprivate List&lt;String&gt; getIPS() {\n    List&lt;String&gt; ips = new ArrayList&lt;&gt;();\n    try {\n        Enumeration&lt;NetworkInterface&gt; e = NetworkInterface.getNetworkInterfaces();\n        while (e.hasMoreElements()) {\n            NetworkInterface n = e.nextElement();\n            Enumeration&lt;InetAddress&gt; ee = n.getInetAddresses();\n            while (ee.hasMoreElements()) {\n                InetAddress i = ee.nextElement();\n                ips.add(i.getHostAddress());\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return ips;\n}\n\npublic void startDiscovery(int port) {\n    Thread receiveThread = new Thread(() -&gt; receiveDiscover(port));\n    Thread sendThread = new Thread(() -&gt; sendDiscover(port));\n\n    receiveThread.start();\n    // You can add a delay here if needed\n    sendThread.start();\n\n    try {\n        receiveThread.join();\n        sendThread.join();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void receiveDiscover(int port) {\n    try {\n        DatagramSocket socket = new DatagramSocket();\n        socket.setBroadcast(true);\n        socket.setSoTimeout(1000); // Set a timeout for socket.receive()\n\n        System.out.println(&quot;Début de la découverte&quot;);\n\n        byte[] receiveData = new byte[1024];\n        DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\n\n        while (!stopDiscoverThread) {\n            try {\n                System.out.println(&quot;Boucle&quot;);\n                socket.receive(receivePacket);\n                String message = new String(receivePacket.getData(), 0, \n  receivePacket.getLength());\n                System.out.println(&quot;Msg reçu&quot;);\n\n                if (message.startsWith(&quot;DISCOVER_RESPONSE&quot;)) {\n                    String otherUsername = message.substring(18);\n                    String clientIP = receivePacket.getAddress().getHostAddress();\n\n                    System.out.println(otherUsername + &quot; découvert&quot;);\n\n                    if (!localIPs.contains(clientIP)) {\n                        Contact newContact = new Contact(otherUsername, clientIP, true);\n                        contactList.add(newContact);\n                    }\n                }\n            } catch (SocketTimeoutException e) {\n                // Timeout occurred, check the stopDiscoverThread flag\n            }\n        }\n\n        System.out.println(&quot;Fin de la découverte&quot;);\n\n        socket.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void sendDiscover(int port) {\n    try {\n        DatagramSocket socket = new DatagramSocket();\n        socket.setBroadcast(true);\n\n        System.out.println(&quot;Envoi de la découverte&quot;);\n\n        String discoveryMessage = &quot;DISCOVER&quot;;\n        byte[] discoverData = discoveryMessage.getBytes();\n        InetAddress broadcastAddress = InetAddress.getByName(&quot;255.255.255.255&quot;);\n        DatagramPacket discoverPacket = new DatagramPacket(discoverData, \n        discoverData.length, broadcastAddress, port);\n        socket.send(discoverPacket);\n\n        // Add a delay if needed\n\n        System.out.println(&quot;Fin de l'envoi de la découverte&quot;);\n\n        socket.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic List&lt;Contact&gt; getContactList() {\n    return contactList;\n}\n\npublic void stopDiscoverThread() {\n    stopDiscoverThread = true;\n}\n\npublic List&lt;String&gt; getIPList() {\n    return localIPs;\n}\n</code></pre>\n<p>HomePage.java:</p>\n<pre><code>public HomePage(String username, List&lt;Contact&gt; contactsDiscovered, List&lt;String&gt; \n    localIPs) {\n    this.usern = username;\n    this.contacts = contactsDiscovered;\n    this.localIPs = localIPs;\n    this.server = new ChatController(username, contactsDiscovered, localIPs);\n\n    Thread chatThread = new Thread(() -&gt; server.startChat(12345));\n\n    chatThread.start();\n\n    Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n        if (chatThread.isAlive()) {\n            chatThread.interrupt();\n        }\n    }));\n\n    initComponents(contacts);\n\n    \n}\n</code></pre>\n<p>ChatController.java :</p>\n<pre><code>package com.heyapp.controllers;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.util.List;\n\n\nimport com.heyapp.models.Contact;\n\npublic class ChatController {\n\nprivate String username;\nprivate List&lt;Contact&gt; contactList;\nprivate List&lt;String&gt; localIPs;\nprivate ConnectController connectController;\n\npublic ChatController(String username, List&lt;Contact&gt; contactsDiscovered, List&lt;String&gt; localIPs) {\n    this.username = username;\n    this.contactList = contactsDiscovered;\n    this.localIPs = localIPs;\n    this.connectController = new ConnectController();\n}\n\npublic void startChat(int port) {\n    try {\n        Thread receiveThread = new Thread(() -&gt; receiveMessages(port));\n        receiveThread.start();\n\n        showContactList(contactList);\n\n        connectController.sendConnectToAll(port, username, contactList, localIPs);\n\n        receiveThread.join();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n\n\n\nprivate void sendDisconnectToAll(int port) {\n    try {\n        for (Contact contact : contactList) {\n            if (!localIPs.contains(contact.getIp())) {\n                DatagramSocket socket = new DatagramSocket();\n                InetAddress destinationIPAddress = \n InetAddress.getByName(contact.getIp());\n\n                String disconnectMessage = &quot;DISCONNECT&quot;;\n                byte[] disconnectData = disconnectMessage.getBytes();\n                DatagramPacket disconnectPacket = new DatagramPacket(disconnectData, disconnectData.length,\n                        destinationIPAddress, port);\n                socket.send(disconnectPacket);\n\n                socket.close();\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void receiveMessages(int port) {\n    try {\n        DatagramSocket socket = new DatagramSocket(port);\n        System.out.println(&quot;Serveur de chat démarré sur le port &quot; + port);\n\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; sendDisconnectToAll(port)));\n\n        while (true) {\n            byte[] receiveData = new byte[1024];\n            DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\n            socket.receive(receivePacket);\n\n            String message = new String(receivePacket.getData(), 0, receivePacket.getLength());\n            String clientIP = receivePacket.getAddress().getHostAddress();\n\n            if (message.startsWith(&quot;CONNECT&quot;)) {\n                String otherUsername = message.substring(8);\n\n                if (!localIPs.contains(clientIP)) {\n                    System.out.println(&quot;Un contact s'est connecté ! : &quot; + otherUsername + &quot; (&quot; + clientIP + &quot;)&quot;);\n                    Contact newContact = new Contact(otherUsername, clientIP, true);\n                    contactList.add(newContact);\n\n                    showContactList(contactList);\n                } else {\n                    System.out.println(&quot;Vous-même (&quot; + otherUsername + &quot;) s'est connecté ! Ignoré.&quot;);\n                }\n            } else if (message.startsWith(&quot;DISCONNECT&quot;)) {\n                System.out.println(&quot;Un contact s'est déconnecté ! : &quot; + contactList.stream()\n                        .filter(contact -&gt; contact.getIp().equals(clientIP))\n                        .findFirst()\n                        .map(Contact::getUsername)\n                        .orElse(&quot;Unknown User&quot;) + &quot; (&quot; + clientIP + &quot;)&quot;);\n                contactList.removeIf(contact -&gt; contact.getIp().equals(clientIP));\n                showContactList(contactList);\n            } else if (message.startsWith(&quot;DISCOVER&quot;)) {\n                System.out.println(&quot;Oh qqn&quot;);\n                respondToDiscover(port, clientIP);\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void respondToDiscover(int port, String destinationIP) {\n    try {\n        System.out.println(&quot;On doit rep la&quot; + destinationIP);\n        DatagramSocket socket = new DatagramSocket();\n        InetAddress serverIPAddress = InetAddress.getByName(destinationIP);\n        String responseMessage = &quot;DISCOVER_RESPONSE &quot; + username;\n        byte[] responseData = responseMessage.getBytes();\n        DatagramPacket responsePacket = new DatagramPacket(responseData, responseData.length, serverIPAddress, port);\n        socket.send(responsePacket);\n        System.out.println(&quot;C'est bon on a envoyé à&quot; + destinationIP + responseMessage);\n        socket.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void showContactList(List&lt;Contact&gt; contactList){\n    System.out.println(&quot;---------------Liste des contacts connectés--------------&quot;);\n        for (Contact contact : contactList) {\n            System.out.println(contact.getUsername() + &quot; &quot; + contact.getIp());\n        }\n    System.out.println(&quot;-------------------------------------------------------&quot;);\n}\n\n\npublic List&lt;Contact&gt; getContactList() {\n    return contactList;\n}\n</code></pre>\n<p>}</p>\n<p>ChatControllerSave.java (the one that works):</p>\n<pre><code>package com.heyapp.controllers;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.NetworkInterface;\nimport java.util.ArrayList;\nimport java.util.Enumeration;\nimport java.util.List;\nimport java.util.Scanner;\n\nimport com.heyapp.models.Contact;\n\npublic class ChatControllerSave {\n\nprivate String username;\nprivate List&lt;Contact&gt; contactList = new ArrayList&lt;&gt;();\nprivate List&lt;String&gt; localIPs = new ArrayList&lt;&gt;();\n\npublic ChatControllerSave(String username) {\n    this.username = username;\n    this.localIPs = getIPS();\n}\n\nprivate List&lt;String&gt; getIPS() {\n    List&lt;String&gt; ips = new ArrayList&lt;&gt;();\n    try {\n        Enumeration&lt;NetworkInterface&gt; e = NetworkInterface.getNetworkInterfaces();\n        while (e.hasMoreElements()) {\n            NetworkInterface n = e.nextElement();\n            Enumeration&lt;InetAddress&gt; ee = n.getInetAddresses();\n            while (ee.hasMoreElements()) {\n                InetAddress i = ee.nextElement();\n                ips.add(i.getHostAddress());\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return ips;\n}\n\npublic void startChat(int port) {\n    try {\n        Thread receiveThread = new Thread(() -&gt; receiveMessages(port));\n        receiveThread.start();\n\n        discoverUsers(port);\n\n        receiveThread.join();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void discoverUsers(int port) {\n    try {\n        DatagramSocket socket = new DatagramSocket();\n        socket.setBroadcast(true);\n\n        String discoveryMessage = &quot;DISCOVER &quot; + username;\n        byte[] discoverData = discoveryMessage.getBytes();\n        InetAddress broadcastAddress = InetAddress.getByName(&quot;255.255.255.255&quot;);\n        DatagramPacket discoverPacket = new DatagramPacket(discoverData, discoverData.length, broadcastAddress, port);\n        socket.send(discoverPacket);\n\n        socket.close();\n\n        sendConnectToAll(port);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void sendConnectToAll(int port) {\n    try {\n        for (Contact contact : contactList) {\n            if (!localIPs.contains(contact.getIp())) {\n                DatagramSocket socket = new DatagramSocket();\n                InetAddress destinationIPAddress = InetAddress.getByName(contact.getIp());\n\n                String connectMessage = &quot;CONNECT &quot; + username;\n                byte[] connectData = connectMessage.getBytes();\n                DatagramPacket connectPacket = new DatagramPacket(connectData, connectData.length,\n                        destinationIPAddress, port);\n                socket.send(connectPacket);\n\n                socket.close();\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void sendDisconnectToAll(int port) {\n    try {\n        for (Contact contact : contactList) {\n            if (!localIPs.contains(contact.getIp())) {\n                DatagramSocket socket = new DatagramSocket();\n                InetAddress destinationIPAddress = InetAddress.getByName(contact.getIp());\n\n                String disconnectMessage = &quot;DISCONNECT&quot;;\n                byte[] disconnectData = disconnectMessage.getBytes();\n                DatagramPacket disconnectPacket = new DatagramPacket(disconnectData, disconnectData.length,\n                        destinationIPAddress, port);\n                socket.send(disconnectPacket);\n\n                socket.close();\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void receiveMessages(int port) {\n    try {\n        DatagramSocket socket = new DatagramSocket(port);\n        System.out.println(&quot;Serveur de chat démarré sur le port &quot; + port);\n\n\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; sendDisconnectToAll(port)));\n\n        while (true) {\n            byte[] receiveData = new byte[1024];\n            DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\n            socket.receive(receivePacket);\n\n            String message = new String(receivePacket.getData(), 0, receivePacket.getLength());\n            String clientIP = receivePacket.getAddress().getHostAddress();\n\n            if (message.startsWith(&quot;CONNECT&quot;)) {\n                String otherUsername = message.substring(8);\n\n                if (!localIPs.contains(clientIP)) {\n                    System.out.println(&quot;Un contact s'est connecté ! : &quot; + otherUsername + &quot; (&quot; + clientIP + &quot;)&quot;);\n                    Contact newContact = new Contact(otherUsername, clientIP, true);\n                    contactList.add(newContact);\n\n                    showContactList(contactList);\n                } else {\n                    System.out.println(&quot;Vous-même (&quot; + otherUsername + &quot;) s'est connecté ! Ignoré.&quot;);\n                }\n            } else if (message.startsWith(&quot;DISCONNECT&quot;)) {\n                System.out.println(&quot;Un contact s'est déconnecté ! : &quot; + contactList.stream()\n                        .filter(contact -&gt; contact.getIp().equals(clientIP))\n                        .findFirst()\n                        .map(Contact::getUsername)\n                        .orElse(&quot;Unknown User&quot;) + &quot; (&quot; + clientIP + &quot;)&quot;);\n                contactList.removeIf(contact -&gt; contact.getIp().equals(clientIP));\n                showContactList(contactList);\n            } else if (message.startsWith(&quot;DISCOVER&quot;)) {\n                String otherUsername = message.substring(8);\n\n                if (!localIPs.contains(clientIP)) {\n                    Contact newContact = new Contact(otherUsername, clientIP, true);\n                    contactList.add(newContact);\n                    showContactList(contactList);\n                    sendConnectMessage(port, clientIP);\n                }\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void showContactList(List&lt;Contact&gt; contactList){\n    System.out.println(&quot;---------------Liste des contacts connectés--------------&quot;);\n        for (Contact contact : contactList) {\n            System.out.println(contact.getUsername() + &quot; &quot; + contact.getIp());\n        }\n    System.out.println(&quot;-------------------------------------------------------&quot;);\n}\n\nprivate void sendConnectMessage(int port, String destinationIP) {\n    try {\n        DatagramSocket socket = new DatagramSocket();\n        InetAddress serverIPAddress = InetAddress.getByName(destinationIP);\n\n        String connectMessage = &quot;CONNECT &quot; + username;\n        byte[] connectData = connectMessage.getBytes();\n        DatagramPacket connectPacket = new DatagramPacket(connectData, connectData.length, serverIPAddress, port);\n        socket.send(connectPacket);\n\n        socket.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic List&lt;Contact&gt; getContactList() {\n    return contactList;\n}\n\npublic static void main(String[] args) {\nScanner scanner = new Scanner(System.in);\n\nSystem.out.print(&quot;Entrez le nom d'utilisateur : &quot;);\nString username = scanner.nextLine();\n\nscanner.close();\n\nChatControllerSave server = new ChatControllerSave(username);\nserver.startChat(12345);\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","azure-speech"],"comments":[{"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1701397038,"post_id":77582647,"comment_id":136773590,"body_markdown":"Please refer to what you are doing. Share code and link to documentation you are following. When ot work an when it does not work","body":"Please refer to what you are doing. Share code and link to documentation you are following. When ot work an when it does not work"}],"answers":[{"tags":[],"owner":{"account_id":28385659,"reputation":104,"user_id":21712159,"display_name":"Peter  Adriaenssens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701523163,"creation_date":1701523163,"answer_id":77590515,"question_id":77582647,"body_markdown":"This is working. I changed the speak element  (part **lang** to **xml:lang** and this did the job) This is my working XML\r\n\r\n\r\n    &lt;speak version=&quot;1.0&quot; xmlns=&quot;http://www.w3.org/2001/10/synthesis&quot; xml:lang=&quot;zh-CN&quot; xmlns:mstts=&quot;https://www.w3.org/2001/mstts&quot;&gt;\r\n    &lt;voice name=&quot;zh-CN-YunxiNeural&quot;&gt;\r\n    &lt;mstts:express-as style=&quot;sad&quot;&gt;快走吧， 路上一定要注意安全，早去早回。&lt;/mstts:express-as&gt;\r\n    &lt;/voice&gt;  \r\n    &lt;/speak&gt;\r\n\r\n","title":"Azure Speech Rest Api Send SSML with &lt;mstts:express-as&gt; tag will return 400 code","body":"<p>This is working. I changed the speak element  (part <strong>lang</strong> to <strong>xml:lang</strong> and this did the job) This is my working XML</p>\n<pre><code>&lt;speak version=&quot;1.0&quot; xmlns=&quot;http://www.w3.org/2001/10/synthesis&quot; xml:lang=&quot;zh-CN&quot; xmlns:mstts=&quot;https://www.w3.org/2001/mstts&quot;&gt;\n&lt;voice name=&quot;zh-CN-YunxiNeural&quot;&gt;\n&lt;mstts:express-as style=&quot;sad&quot;&gt;快走吧， 路上一定要注意安全，早去早回。&lt;/mstts:express-as&gt;\n&lt;/voice&gt;  \n&lt;/speak&gt;\n</code></pre>\n"}],"owner":{"account_id":30036305,"reputation":1,"user_id":23018172,"display_name":"liuhaiqi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701523163,"creation_date":1701396592,"question_id":77582647,"body_markdown":"I am trying to call the relevant API of Azure Speech, trying to synthesize speech from simple to complex SSML. When I send a simple request without phoneme pitch adjustment, there will be no problem, but when I start to add style, I start to report errors. The SSML I sent was the same as the official website, but the error message was 400. I really don&#39;t know where my format is wrong.\r\n\r\n```\r\nThis is my request body : \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;speak xmlns=&quot;http://www.w3.org/2001/10/synthesis&quot; xmlns:mstts=&quot;https://www.w3.org/2001/mstts&quot; lang=&quot;zh-CN&quot; version=&quot;1.0&quot;&gt;\r\n&lt;voice name=&quot;zh-CN-YunxiNeural&quot;&gt;\r\n&lt;mstts:express-as style=&quot;sad&quot;&gt;快走吧， 路上一定要注意安全，早去早回。&lt;/mstts:express-as&gt;\r\n&lt;/voice&gt;\r\n&lt;/speak&gt;\r\n\r\nThis is Error response : \r\nResponse{protocol=http/1.1, code=400, message=Synthesis failed. StatusCode: FailedPrecondition, Details: SSML parsing error: 0x80045003 - The caller has specified an unsupported format.., url=https://eastus.tts.speech.microsoft.com/cognitiveservices/v1}\r\n\r\n```","title":"Azure Speech Rest Api Send SSML with &lt;mstts:express-as&gt; tag will return 400 code","body":"<p>I am trying to call the relevant API of Azure Speech, trying to synthesize speech from simple to complex SSML. When I send a simple request without phoneme pitch adjustment, there will be no problem, but when I start to add style, I start to report errors. The SSML I sent was the same as the official website, but the error message was 400. I really don't know where my format is wrong.</p>\n<pre><code>This is my request body : \n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;speak xmlns=&quot;http://www.w3.org/2001/10/synthesis&quot; xmlns:mstts=&quot;https://www.w3.org/2001/mstts&quot; lang=&quot;zh-CN&quot; version=&quot;1.0&quot;&gt;\n&lt;voice name=&quot;zh-CN-YunxiNeural&quot;&gt;\n&lt;mstts:express-as style=&quot;sad&quot;&gt;快走吧， 路上一定要注意安全，早去早回。&lt;/mstts:express-as&gt;\n&lt;/voice&gt;\n&lt;/speak&gt;\n\nThis is Error response : \nResponse{protocol=http/1.1, code=400, message=Synthesis failed. StatusCode: FailedPrecondition, Details: SSML parsing error: 0x80045003 - The caller has specified an unsupported format.., url=https://eastus.tts.speech.microsoft.com/cognitiveservices/v1}\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13997966,"reputation":124,"user_id":10110307,"display_name":"Aashu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1589392419,"creation_date":1589281911,"answer_id":61750236,"question_id":61693342,"body_markdown":"\tpublic static void rhombus() {\r\n\t\tint n = 3;\r\n\t\tint size = 2 * n - 1;\r\n\t\tchar[][] sol = new char[size][size];\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\tfor (int j = 0; j &lt; size; j++) {\r\n\t\t\t\tsol[i][j] = &#39; &#39;;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tint i = size / 2;\r\n\t\tint j = 0;\r\n\t\tString s = &quot;abcdefghijklmnop&quot;;\r\n\t\tint len = s.length();\r\n\t\tint in = 0;\r\n\t\tint left = 0, top = 0, right = size - 1;\r\n\t\tint bottom = size - 1;\r\n\t\tboolean flag = false;\r\n\t\twhile (i != j) {\r\n\t\t\twhile (i &gt;= top &amp;&amp; !flag) {\r\n\t\t\t\tsol[i][j] = s.charAt((in++) % len);\r\n\t\t\t\tif (i == size / 2 &amp;&amp; j == size / 2)\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\ti--;\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\tif (flag == true)\r\n\t\t\t\tbreak;\r\n\t\t\ti += 2;\r\n\t\t\ttop++;\r\n\t\t\tleft++;\r\n\t\t\twhile (j &lt;= right &amp;&amp; !flag) {\r\n\t\t\t\tsol[i][j] = s.charAt((in++) % len);\r\n\t\t\t\ti++;\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\tj -= 2;\r\n\t\t\tright--;\r\n\t\t\twhile (i &lt;= bottom &amp;&amp; !flag) {\r\n\t\t\t\tsol[i][j] = s.charAt((in++) % len);\r\n\t\t\t\ti++;\r\n\t\t\t\tj--;\r\n\t\t\t}\r\n\t\t\tbottom--;\r\n\t\t\ti -= 2;\r\n\t\t\twhile (j &gt;= left &amp;&amp; !flag) {\r\n\t\t\t\tsol[i][j] = s.charAt((in++) % len);\r\n\t\t\t\ti--;\r\n\t\t\t\tj--;\r\n\t\t\t}\r\n\t\t\tj++;\r\n\t\t}\r\n\t\tsol[i][j] = s.charAt((in++) % len);\r\n\t\tfor (int a = 0; a &lt; size; a++) {\r\n\t\t\tfor (int b = 0; b &lt; size; b++) {\r\n\t\t\t\tSystem.out.print(sol[a][b]);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}","title":"Spiral diamond -print pattern","body":"<pre><code>public static void rhombus() {\n    int n = 3;\n    int size = 2 * n - 1;\n    char[][] sol = new char[size][size];\n    for (int i = 0; i &lt; size; i++) {\n        for (int j = 0; j &lt; size; j++) {\n            sol[i][j] = ' ';\n        }\n    }\n\n    int i = size / 2;\n    int j = 0;\n    String s = \"abcdefghijklmnop\";\n    int len = s.length();\n    int in = 0;\n    int left = 0, top = 0, right = size - 1;\n    int bottom = size - 1;\n    boolean flag = false;\n    while (i != j) {\n        while (i &gt;= top &amp;&amp; !flag) {\n            sol[i][j] = s.charAt((in++) % len);\n            if (i == size / 2 &amp;&amp; j == size / 2)\n                flag = true;\n            i--;\n            j++;\n        }\n        if (flag == true)\n            break;\n        i += 2;\n        top++;\n        left++;\n        while (j &lt;= right &amp;&amp; !flag) {\n            sol[i][j] = s.charAt((in++) % len);\n            i++;\n            j++;\n        }\n        j -= 2;\n        right--;\n        while (i &lt;= bottom &amp;&amp; !flag) {\n            sol[i][j] = s.charAt((in++) % len);\n            i++;\n            j--;\n        }\n        bottom--;\n        i -= 2;\n        while (j &gt;= left &amp;&amp; !flag) {\n            sol[i][j] = s.charAt((in++) % len);\n            i--;\n            j--;\n        }\n        j++;\n    }\n    sol[i][j] = s.charAt((in++) % len);\n    for (int a = 0; a &lt; size; a++) {\n        for (int b = 0; b &lt; size; b++) {\n            System.out.print(sol[a][b]);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1701523012,"post_id":77588213,"comment_id":136787689,"body_markdown":"Your answer could be improved by adding more information on what the code does and how it helps the OP.","body":"Your answer could be improved by adding more information on what the code does and how it helps the OP."}],"tags":[],"owner":{"account_id":24745270,"reputation":15,"user_id":18631544,"display_name":"Janith  Nanayakkara"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701523053,"creation_date":1701466758,"answer_id":77588213,"question_id":61693342,"body_markdown":"    public class DiamondStarPattern {\r\n      public static void main(String[] args) {\r\n        for(int i =1; i&lt;4;i++) {\r\n          for(int j=3;j&gt;=i;j--) {\r\n            System.out.print(&quot; &quot;);\r\n          }\r\n          for (int k=1;k&lt;=i;k++) {\r\n            System.out.print(&quot;* &quot;);\r\n          }\r\n          System.out.println();\r\n        }\r\n        for(int i=1;i&lt;4;i++) {\r\n          for(int j=1;j&lt;=i;j++) {\r\n            System.out.print(&quot; &quot;);\r\n          }\r\n          for(int k =1;k&lt;4-i;k++) {\r\n            System.out.print(&quot; *&quot;);\r\n          }\r\n          System.out.println();\r\n        }\r\n      }\r\n    }\r\n","title":"Spiral diamond -print pattern","body":"<pre><code>public class DiamondStarPattern {\n  public static void main(String[] args) {\n    for(int i =1; i&lt;4;i++) {\n      for(int j=3;j&gt;=i;j--) {\n        System.out.print(&quot; &quot;);\n      }\n      for (int k=1;k&lt;=i;k++) {\n        System.out.print(&quot;* &quot;);\n      }\n      System.out.println();\n    }\n    for(int i=1;i&lt;4;i++) {\n      for(int j=1;j&lt;=i;j++) {\n        System.out.print(&quot; &quot;);\n      }\n      for(int k =1;k&lt;4-i;k++) {\n        System.out.print(&quot; *&quot;);\n      }\n      System.out.println();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18533746,"reputation":107,"user_id":13503900,"display_name":"user13503900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61750236,"answer_count":2,"score":0,"last_activity_date":1701523053,"creation_date":1589010071,"question_id":61693342,"body_markdown":"I&#39;m currently try to print below pattern in java,please help me in solving it.\r\n\r\nInput: `3, abcdefghijklm`\r\n\r\noutput: \r\n\r\n      c\r\n     bjd\r\n    aimke\r\n     hlf\r\n      g\r\n\r\nI build diamond pattern with star, stuck in print values from array in spirally in diamond shape show above.\r\n","title":"Spiral diamond -print pattern","body":"<p>I'm currently try to print below pattern in java,please help me in solving it.</p>\n\n<p>Input: <code>3, abcdefghijklm</code></p>\n\n<p>output: </p>\n\n<pre><code>  c\n bjd\naimke\n hlf\n  g\n</code></pre>\n\n<p>I build diamond pattern with star, stuck in print values from array in spirally in diamond shape show above.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643476171,"post_id":70897053,"comment_id":125352121,"body_markdown":"Have you tried using `@DependsOn` on `AnotherConfiguration` so that it depends on `DynamicBeanRegistrar`?","body":"Have you tried using <code>@DependsOn</code> on <code>AnotherConfiguration</code> so that it depends on <code>DynamicBeanRegistrar</code>?"},{"owner":{"account_id":12255031,"reputation":53,"user_id":8944281,"display_name":"jnnk.smyer"},"score":0,"creation_date":1643921141,"post_id":70897053,"comment_id":125474728,"body_markdown":"@Jo&#227;oDias thanks for your answer. Just tried that and it has no effect. Still the same behaviour","body":"@Jo&#227;oDias thanks for your answer. Just tried that and it has no effect. Still the same behaviour"}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701521598,"creation_date":1701521147,"answer_id":77590395,"question_id":70897053,"body_markdown":"As per [the JavaDoc of Condition][1]:\r\n\r\n&gt; Conditions are checked immediately before the bean-definition is due\r\n&gt; to be registered and are free to veto registration based on any\r\n&gt; criteria that can be determined at that point.\r\n\r\n`BeanDefinitionRegistryPostProcessor::postProcessBeanDefinitionRegistry` is being called after all beans have been registered, thus after evaluating conditions. Consequently, all beans added dynamically are not considered during the evaluation of conditions.\r\n\r\nThe same can happen for non-dynamic beans if a bean&#39;s definition is registered before the definition of the bean to which a condition refers. For that reason, it&#39;s strongly recommended to use  `@ConditionalOnBean`, `@ConditionalOnMissingBean`, and `@ConditionalOnSingleCandidate` annotations on auto-configuration classes only, according to [the JavaDoc][2]:\r\n\r\n&gt; The condition can only match the bean definitions that have been processed by the application context so far and, as such, it is strongly recommended to use this condition on auto-configuration classes only. If a candidate bean may be created by another auto-configuration, make sure that the one using this condition runs after.\r\n\r\n---\r\nAs a workaround, bean definitions can be added or removed in `postProcessBeanDefinitionRegistry` based on a condition, but I&#39;d not recommend it since it can result in unexpected behavior.\r\n\r\nFor example, if a bean&#39;s definition is added in `postProcessBeanDefinitionRegistry` there might be conditions referenced to that bean or its type processed before.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\r\n  [2]: https://The%20condition%20can%20only%20match%20the%20bean%20definitions%20that%20have%20been%20processed%20by%20the%20application%20context%20so%20far%20and,%20as%20such,%20it%20is%20strongly%20recommended%20to%20use%20this%20condition%20on%20auto-configuration%20classes%20only.%20If%20a%20candidate%20bean%20may%20be%20created%20by%20another%20auto-configuration,%20make%20sure%20that%20the%20one%20using%20this%20condition%20runs%20after.","title":"Beans added dynamically are not considered by ConditionalOnBean","body":"<p>As per <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\" rel=\"nofollow noreferrer\">the JavaDoc of Condition</a>:</p>\n<blockquote>\n<p>Conditions are checked immediately before the bean-definition is due\nto be registered and are free to veto registration based on any\ncriteria that can be determined at that point.</p>\n</blockquote>\n<p><code>BeanDefinitionRegistryPostProcessor::postProcessBeanDefinitionRegistry</code> is being called after all beans have been registered, thus after evaluating conditions. Consequently, all beans added dynamically are not considered during the evaluation of conditions.</p>\n<p>The same can happen for non-dynamic beans if a bean's definition is registered before the definition of the bean to which a condition refers. For that reason, it's strongly recommended to use  <code>@ConditionalOnBean</code>, <code>@ConditionalOnMissingBean</code>, and <code>@ConditionalOnSingleCandidate</code> annotations on auto-configuration classes only, according to <a href=\"https://The%20condition%20can%20only%20match%20the%20bean%20definitions%20that%20have%20been%20processed%20by%20the%20application%20context%20so%20far%20and,%20as%20such,%20it%20is%20strongly%20recommended%20to%20use%20this%20condition%20on%20auto-configuration%20classes%20only.%20If%20a%20candidate%20bean%20may%20be%20created%20by%20another%20auto-configuration,%20make%20sure%20that%20the%20one%20using%20this%20condition%20runs%20after.\" rel=\"nofollow noreferrer\">the JavaDoc</a>:</p>\n<blockquote>\n<p>The condition can only match the bean definitions that have been processed by the application context so far and, as such, it is strongly recommended to use this condition on auto-configuration classes only. If a candidate bean may be created by another auto-configuration, make sure that the one using this condition runs after.</p>\n</blockquote>\n<hr />\n<p>As a workaround, bean definitions can be added or removed in <code>postProcessBeanDefinitionRegistry</code> based on a condition, but I'd not recommend it since it can result in unexpected behavior.</p>\n<p>For example, if a bean's definition is added in <code>postProcessBeanDefinitionRegistry</code> there might be conditions referenced to that bean or its type processed before.</p>\n"}],"owner":{"account_id":12255031,"reputation":53,"user_id":8944281,"display_name":"jnnk.smyer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701521598,"creation_date":1643387605,"question_id":70897053,"body_markdown":"I am registering beans dynamically at startup with `BeanDefinitionRegistryPostProcessor`:\r\n\r\nBean class:\r\n```java\r\n@RequiredArgsConstructor\r\npublic class DynamicBean {\r\n\r\n    private final String name;\r\n    private final Object value;\r\n\r\n}\r\n```\r\nProperties class:\r\n```java\r\n@Data\r\npublic class DynamicProperties {\r\n    private List&lt;Bean&gt; beans;\r\n\r\n    @Data\r\n    public static class Bean {\r\n        private String name;\r\n        private Object value;\r\n    }\r\n}\r\n```\r\n\r\n`BeanDefinitionRegistryPostProcessor`:\r\n```java\r\n@Configuration\r\npublic class DynamicBeanRegistrar implements BeanDefinitionRegistryPostProcessor {\r\n\r\n    @Override\r\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry beanDefinitionRegistry) throws BeansException {\r\n        DynamicProperties dynamicProperties = Binder.get(environment)\r\n                .bind(&quot;dynamic&quot;, Bindable.of(DynamicProperties.class))\r\n                .orElseThrow(IllegalStateException::new);\r\n\r\n        dynamicProperties.getBeans().forEach(bean -&gt; {\r\n            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n            beanDefinition.setBeanClass(DynamicBean.class);\r\n\r\n            String beanName = bean.getName();\r\n\r\n            ConstructorArgumentValues cav = new ConstructorArgumentValues();\r\n            cav.addGenericArgumentValue(bean.getName());\r\n            cav.addGenericArgumentValue(bean.getValue());\r\n            beanDefinition.setConstructorArgumentValues(cav);\r\n\r\n            beanDefinitionRegistry.registerBeanDefinition(beanName, beanDefinition);\r\n            log.info(&quot;Registered dynamic bean&quot;)\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory configurableListableBeanFactory) throws BeansException {\r\n        // noop\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also have another configuration class using `@ConditionalOnBean` annotation for some beans:\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AnotherConfiguration {\r\n\r\n    @Bean\r\n    public Object a() {\r\n        return new Object ();\r\n    }\r\n\r\n    @Bean\r\n    public Object b() {\r\n        return new Object ();\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnBean(DynamicBean.class)\r\n    public Object x() {\r\n        return new Object();\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnBean(DynamicBean.class)\r\n    public Object y() {\r\n        return new Object();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe problem is that the `@ConditionalOnBean` annotation doesn&#39;t seem to know about the dynamically registered beans and is therefore evaluating as false, causing beans x and y not to be created.\r\nI have tried using `@AutoConfigureBefore(AnotherConfiguration.class)` on my `DynamicBeanRegistrar` as well as implementing `PriorityOrdered`, but that didn&#39;t seem to have any effect.\r\n\r\nIs there any way to achieve the expected behavior?","title":"Beans added dynamically are not considered by ConditionalOnBean","body":"<p>I am registering beans dynamically at startup with <code>BeanDefinitionRegistryPostProcessor</code>:</p>\n<p>Bean class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class DynamicBean {\n\n    private final String name;\n    private final Object value;\n\n}\n</code></pre>\n<p>Properties class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class DynamicProperties {\n    private List&lt;Bean&gt; beans;\n\n    @Data\n    public static class Bean {\n        private String name;\n        private Object value;\n    }\n}\n</code></pre>\n<p><code>BeanDefinitionRegistryPostProcessor</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class DynamicBeanRegistrar implements BeanDefinitionRegistryPostProcessor {\n\n    @Override\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry beanDefinitionRegistry) throws BeansException {\n        DynamicProperties dynamicProperties = Binder.get(environment)\n                .bind(&quot;dynamic&quot;, Bindable.of(DynamicProperties.class))\n                .orElseThrow(IllegalStateException::new);\n\n        dynamicProperties.getBeans().forEach(bean -&gt; {\n            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n            beanDefinition.setBeanClass(DynamicBean.class);\n\n            String beanName = bean.getName();\n\n            ConstructorArgumentValues cav = new ConstructorArgumentValues();\n            cav.addGenericArgumentValue(bean.getName());\n            cav.addGenericArgumentValue(bean.getValue());\n            beanDefinition.setConstructorArgumentValues(cav);\n\n            beanDefinitionRegistry.registerBeanDefinition(beanName, beanDefinition);\n            log.info(&quot;Registered dynamic bean&quot;)\n        });\n    }\n\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory configurableListableBeanFactory) throws BeansException {\n        // noop\n    }\n}\n\n</code></pre>\n<p>I also have another configuration class using <code>@ConditionalOnBean</code> annotation for some beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\npublic class AnotherConfiguration {\n\n    @Bean\n    public Object a() {\n        return new Object ();\n    }\n\n    @Bean\n    public Object b() {\n        return new Object ();\n    }\n\n    @Bean\n    @ConditionalOnBean(DynamicBean.class)\n    public Object x() {\n        return new Object();\n    }\n\n    @Bean\n    @ConditionalOnBean(DynamicBean.class)\n    public Object y() {\n        return new Object();\n    }\n}\n\n</code></pre>\n<p>The problem is that the <code>@ConditionalOnBean</code> annotation doesn't seem to know about the dynamically registered beans and is therefore evaluating as false, causing beans x and y not to be created.\nI have tried using <code>@AutoConfigureBefore(AnotherConfiguration.class)</code> on my <code>DynamicBeanRegistrar</code> as well as implementing <code>PriorityOrdered</code>, but that didn't seem to have any effect.</p>\n<p>Is there any way to achieve the expected behavior?</p>\n"},{"tags":["java","apache-spark","spark-streaming"],"answers":[{"tags":[],"owner":{"account_id":3542709,"reputation":43,"user_id":2959384,"display_name":"Sitnikov Artem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701521272,"creation_date":1701333185,"answer_id":77576946,"question_id":76216799,"body_markdown":"new Library() must implement Iterator, Iterable interfaces.\r\non next - return new element.\r\n\r\n\r\nDO NOT use &quot;`res.add(dto)`&quot;! USE iterator instead!","title":"Convering consumer of a function to Stream JavaRdd","body":"<p>new Library() must implement Iterator, Iterable interfaces.\non next - return new element.</p>\n<p>DO NOT use &quot;<code>res.add(dto)</code>&quot;! USE iterator instead!</p>\n"}],"owner":{"account_id":3542709,"reputation":43,"user_id":2959384,"display_name":"Sitnikov Artem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701521272,"creation_date":1683710575,"question_id":76216799,"body_markdown":"How to process stream of data after consumer applyMapping ? Or process by pack of 1000?\r\n\r\n\r\n    private JavaRDD&lt;TracingOdsProjection&gt; enrichWithExternalData(JavaRDD&lt;ExternalDto&lt;T&gt;&gt; rdd) {\r\n        return rdd.flatMap(rec -&gt; {\r\n            List&lt;Dto&gt; res = new ArrayList&lt;&gt;();\r\n            new Library().applyMapping(dto -&gt; res.add(dto));\r\n\r\n            return res.iterator();\r\n        });\r\n    }\r\n\r\nI tried rdd.foreach or rdd.foreachPartition collect by 1000 and then sparkContext.parallelize(res).\r\n\r\n    SparkSession sparkSession = SparkSession.builder().config(jssc.sparkContext().getConf()).getOrCreate();\r\n    try (final JavaSparkContext sparkContext = new JavaSparkContext(sparkSession.sparkContext())) {\r\n     final JavaRDD&lt;TracingOdsProjection&gt; packOfMappingsJRdd = sparkContext.parallelize(res);\r\n       } catch (Exception e) {\r\n     log.error(&quot;On create or useing spark context: &quot;, e);\r\n       }\r\n\r\nBut got task not serializable for JavaSparkContext. when call jssc.sparkContext()\r\n\r\n\r\nI can&#39;t collect into one Arraylist&lt;Dto&gt; after applyMapping(..) Because it is too huge. ","title":"Convering consumer of a function to Stream JavaRdd","body":"<p>How to process stream of data after consumer applyMapping ? Or process by pack of 1000?</p>\n<pre><code>private JavaRDD&lt;TracingOdsProjection&gt; enrichWithExternalData(JavaRDD&lt;ExternalDto&lt;T&gt;&gt; rdd) {\n    return rdd.flatMap(rec -&gt; {\n        List&lt;Dto&gt; res = new ArrayList&lt;&gt;();\n        new Library().applyMapping(dto -&gt; res.add(dto));\n\n        return res.iterator();\n    });\n}\n</code></pre>\n<p>I tried rdd.foreach or rdd.foreachPartition collect by 1000 and then sparkContext.parallelize(res).</p>\n<pre><code>SparkSession sparkSession = SparkSession.builder().config(jssc.sparkContext().getConf()).getOrCreate();\ntry (final JavaSparkContext sparkContext = new JavaSparkContext(sparkSession.sparkContext())) {\n final JavaRDD&lt;TracingOdsProjection&gt; packOfMappingsJRdd = sparkContext.parallelize(res);\n   } catch (Exception e) {\n log.error(&quot;On create or useing spark context: &quot;, e);\n   }\n</code></pre>\n<p>But got task not serializable for JavaSparkContext. when call jssc.sparkContext()</p>\n<p>I can't collect into one Arraylist after applyMapping(..) Because it is too huge.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1321617249,"creation_date":1321617249,"answer_id":8181992,"question_id":8181768,"body_markdown":"See http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/htmlsingle/spring-framework-reference.html#cache-specific-config:\r\n\r\n&gt; How can I set the TTL/TTI/Eviction policy/XXX feature?\r\n&gt; \r\n&gt; Directly through your cache provider. The cache abstraction is...\r\n&gt; well, an abstraction not a cache implementation\r\n\r\nSo, if you use EHCache, use EHCache&#39;s configuration to configure the TTL.\r\n\r\nYou could also use Guava&#39;s [CacheBuilder][1] to build a cache, and pass this cache&#39;s ConcurrentMap view to the [setStore method of the ConcurrentMapCacheFactoryBean][2].\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/cache/CacheBuilder.html\r\n  [2]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/cache/concurrent/ConcurrentMapCacheFactoryBean.html#setStore%28java.util.concurrent.ConcurrentMap%29","title":"Can I set a TTL for @Cacheable","body":"<p>See <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/htmlsingle/spring-framework-reference.html#cache-specific-config\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/htmlsingle/spring-framework-reference.html#cache-specific-config</a>:</p>\n\n<blockquote>\n  <p>How can I set the TTL/TTI/Eviction policy/XXX feature?</p>\n  \n  <p>Directly through your cache provider. The cache abstraction is...\n  well, an abstraction not a cache implementation</p>\n</blockquote>\n\n<p>So, if you use EHCache, use EHCache's configuration to configure the TTL.</p>\n\n<p>You could also use Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/cache/CacheBuilder.html\" rel=\"noreferrer\">CacheBuilder</a> to build a cache, and pass this cache's ConcurrentMap view to the <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/cache/concurrent/ConcurrentMapCacheFactoryBean.html#setStore%28java.util.concurrent.ConcurrentMap%29\" rel=\"noreferrer\">setStore method of the ConcurrentMapCacheFactoryBean</a>.</p>\n"},{"comments":[{"owner":{"account_id":6893654,"reputation":3182,"user_id":5296296,"accept_rate":100,"display_name":"Johannes Fl&#252;gel"},"score":35,"creation_date":1467303157,"post_id":12174860,"comment_id":63688018,"body_markdown":"For Spring 4.1 extend CachingConfigurerSupport and only overwrite cacheManager().","body":"For Spring 4.1 extend CachingConfigurerSupport and only overwrite cacheManager()."},{"owner":{"display_name":"user16409822"},"score":4,"creation_date":1631597026,"post_id":12174860,"comment_id":122257604,"body_markdown":"@JohannesFl&#252;gel  Why do not post any example code?","body":"@JohannesFl&#252;gel  Why do not post any example code?"},{"owner":{"account_id":6893654,"reputation":3182,"user_id":5296296,"accept_rate":100,"display_name":"Johannes Fl&#252;gel"},"score":0,"creation_date":1631598882,"post_id":12174860,"comment_id":122258119,"body_markdown":"@Henry It nearly looks the same like in the example above. Simply replace `CacheConfiguration implements CachingConfigurer` by `CacheConfiguration extends CachingConfigurerSupport`. The latter one already implements `CachingConfigurer` by default methods. So you don&#39;t need to implement them if you don&#39;t want to.","body":"@Henry It nearly looks the same like in the example above. Simply replace <code>CacheConfiguration implements CachingConfigurer</code> by <code>CacheConfiguration extends CachingConfigurerSupport</code>. The latter one already implements <code>CachingConfigurer</code> by default methods. So you don&#39;t need to implement them if you don&#39;t want to."},{"owner":{"display_name":"user16409822"},"score":0,"creation_date":1631599123,"post_id":12174860,"comment_id":122258190,"body_markdown":"Thanks for reply. Sorry, but I am beginner and after trying many approach, I am afraid I could not find a proper solution. So, would you mind posting this as answer on my question --&gt; **https://stackoverflow.com/questions/69169170/how-to-set-expiration-for-cacheable-in-spring-boot**","body":"Thanks for reply. Sorry, but I am beginner and after trying many approach, I am afraid I could not find a proper solution. So, would you mind posting this as answer on my question --&gt; <b><a href=\"https://stackoverflow.com/questions/69169170/how-to-set-expiration-for-cacheable-in-spring-boot\" title=\"how to set expiration for cacheable in spring boot\">stackoverflow.com/questions/69169170/&hellip;</a></b>"},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1695310443,"post_id":12174860,"comment_id":136010242,"body_markdown":"I used executor task with fixed delay to evict the cache. My requirement was dynamic setting of interval. Unless you use ehCache like framework, it&#39;s lot of work to achieve this.","body":"I used executor task with fixed delay to evict the cache. My requirement was dynamic setting of interval. Unless you use ehCache like framework, it&#39;s lot of work to achieve this."}],"tags":[],"owner":{"account_id":294455,"reputation":1213,"user_id":598361,"display_name":"Magnus Heino"},"comment_count":5,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1701520621,"creation_date":1346232859,"answer_id":12174860,"question_id":8181768,"body_markdown":"Spring 3.1 and Guava 1.13.1:\r\n\r\n    @EnableCaching\r\n    @Configuration\r\n    public class CacheConfiguration implements CachingConfigurer {\r\n    \r\n        @Override\r\n        public CacheManager cacheManager() {\r\n            ConcurrentMapCacheManager cacheManager = new ConcurrentMapCacheManager() {\r\n    \r\n                @Override\r\n                protected Cache createConcurrentMapCache(final String name) {\r\n                    return new ConcurrentMapCache(\r\n                            name,\r\n                            CacheBuilder.newBuilder()\r\n                                    .expireAfterWrite(30, TimeUnit.MINUTES)\r\n                                    .maximumSize(100)\r\n                                    .build()\r\n                                    .asMap(),\r\n                            false\r\n                    );\r\n                }\r\n            };\r\n    \r\n            return cacheManager;\r\n        }\r\n    \r\n        @Override\r\n        public KeyGenerator keyGenerator() {\r\n            return new DefaultKeyGenerator();\r\n        }\r\n    \r\n    }","title":"Can I set a TTL for @Cacheable","body":"<p>Spring 3.1 and Guava 1.13.1:</p>\n<pre><code>@EnableCaching\n@Configuration\npublic class CacheConfiguration implements CachingConfigurer {\n\n    @Override\n    public CacheManager cacheManager() {\n        ConcurrentMapCacheManager cacheManager = new ConcurrentMapCacheManager() {\n\n            @Override\n            protected Cache createConcurrentMapCache(final String name) {\n                return new ConcurrentMapCache(\n                        name,\n                        CacheBuilder.newBuilder()\n                                .expireAfterWrite(30, TimeUnit.MINUTES)\n                                .maximumSize(100)\n                                .build()\n                                .asMap(),\n                        false\n                );\n            }\n        };\n\n        return cacheManager;\n    }\n\n    @Override\n    public KeyGenerator keyGenerator() {\n        return new DefaultKeyGenerator();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2022014,"reputation":588,"user_id":1807954,"accept_rate":87,"display_name":"Amin"},"score":6,"creation_date":1538502026,"post_id":31926759,"comment_id":92161574,"body_markdown":"Note: Guava cache is now deprecated in Spring 5 (https://stackoverflow.com/questions/44175085/why-spring-deprecate-guava-cache-in-official-document)","body":"Note: Guava cache is now deprecated in Spring 5 (<a href=\"https://stackoverflow.com/questions/44175085/why-spring-deprecate-guava-cache-in-official-document\" title=\"why spring deprecate guava cache in official document\">stackoverflow.com/questions/44175085/&hellip;</a>)"}],"tags":[],"owner":{"account_id":267167,"reputation":10537,"user_id":555177,"accept_rate":94,"display_name":"anataliocs"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1441465421,"creation_date":1439231868,"answer_id":31926759,"question_id":8181768,"body_markdown":"Here is a full example of setting up Guava Cache in Spring.  I used Guava over Ehcache because it&#39;s a bit lighter weight and the config seemed more straight forward to me.\r\n\r\n**Import Maven Dependencies**\r\n\r\nAdd these  dependencies to your maven pom file and run clean and packages.  These files are the Guava dep and Spring helper methods for use in the CacheBuilder.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.7.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n**Configure the Cache**\r\n\r\nYou need to create a CacheConfig file to configure the cache using Java config. \r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfig {\r\n\r\n       public final static String CACHE_ONE = &quot;cacheOne&quot;;\r\n       public final static String CACHE_TWO = &quot;cacheTwo&quot;;\r\n\r\n       @Bean\r\n       public Cache cacheOne() {\r\n          return new GuavaCache(CACHE_ONE, CacheBuilder.newBuilder()\r\n                .expireAfterWrite(60, TimeUnit.MINUTES)\r\n                .build());\r\n       }\r\n\r\n       @Bean\r\n       public Cache cacheTwo() {\r\n          return new GuavaCache(CACHE_TWO, CacheBuilder.newBuilder()\r\n                .expireAfterWrite(60, TimeUnit.SECONDS)\r\n                .build());\r\n       }\r\n    }\r\n\r\n**Annotate the method to be cached**\r\n\r\nAdd the @Cacheable annotation and pass in the cache name.\r\n\r\n    @Service\r\n    public class CachedService extends WebServiceGatewaySupport implements CachedService {\r\n    \r\n        @Inject\r\n        private RestTemplate restTemplate;\r\n    \r\n    \r\n        @Cacheable(CacheConfig.CACHE_ONE)\r\n        public String getCached() {\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n            HttpEntity&lt;String&gt; reqEntity = new HttpEntity&lt;&gt;(&quot;url&quot;, headers);\r\n    \r\n            ResponseEntity&lt;String&gt; response;\r\n    \r\n            String url = &quot;url&quot;;\r\n            response = restTemplate.exchange(\r\n                    url,\r\n                    HttpMethod.GET, reqEntity, String.class);\r\n    \r\n            return response.getBody();\r\n        }\r\n    }\r\n\r\nYou can see a more complete example here with annotated screenshots:  [Guava Cache in Spring][1] \r\n\r\n\r\n  [1]: http://codedevstuff.blogspot.com/2015/07/add-guava-cache-to-spring-boot-to-cache.html","title":"Can I set a TTL for @Cacheable","body":"<p>Here is a full example of setting up Guava Cache in Spring.  I used Guava over Ehcache because it's a bit lighter weight and the config seemed more straight forward to me.</p>\n\n<p><strong>Import Maven Dependencies</strong></p>\n\n<p>Add these  dependencies to your maven pom file and run clean and packages.  These files are the Guava dep and Spring helper methods for use in the CacheBuilder.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;18.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;4.1.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Configure the Cache</strong></p>\n\n<p>You need to create a CacheConfig file to configure the cache using Java config. </p>\n\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n   public final static String CACHE_ONE = \"cacheOne\";\n   public final static String CACHE_TWO = \"cacheTwo\";\n\n   @Bean\n   public Cache cacheOne() {\n      return new GuavaCache(CACHE_ONE, CacheBuilder.newBuilder()\n            .expireAfterWrite(60, TimeUnit.MINUTES)\n            .build());\n   }\n\n   @Bean\n   public Cache cacheTwo() {\n      return new GuavaCache(CACHE_TWO, CacheBuilder.newBuilder()\n            .expireAfterWrite(60, TimeUnit.SECONDS)\n            .build());\n   }\n}\n</code></pre>\n\n<p><strong>Annotate the method to be cached</strong></p>\n\n<p>Add the @Cacheable annotation and pass in the cache name.</p>\n\n<pre><code>@Service\npublic class CachedService extends WebServiceGatewaySupport implements CachedService {\n\n    @Inject\n    private RestTemplate restTemplate;\n\n\n    @Cacheable(CacheConfig.CACHE_ONE)\n    public String getCached() {\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        HttpEntity&lt;String&gt; reqEntity = new HttpEntity&lt;&gt;(\"url\", headers);\n\n        ResponseEntity&lt;String&gt; response;\n\n        String url = \"url\";\n        response = restTemplate.exchange(\n                url,\n                HttpMethod.GET, reqEntity, String.class);\n\n        return response.getBody();\n    }\n}\n</code></pre>\n\n<p>You can see a more complete example here with annotated screenshots:  <a href=\"http://codedevstuff.blogspot.com/2015/07/add-guava-cache-to-spring-boot-to-cache.html\" rel=\"noreferrer\">Guava Cache in Spring</a> </p>\n"},{"comments":[{"owner":{"account_id":1152235,"reputation":1124,"user_id":1133690,"accept_rate":47,"display_name":"Jaikrat"},"score":0,"creation_date":1481797749,"post_id":38261760,"comment_id":69524525,"body_markdown":"Are you calling `reportCacheEvict` method from anywhere. How the cacheEvict happening??","body":"Are you calling <code>reportCacheEvict</code> method from anywhere. How the cacheEvict happening??"},{"owner":{"account_id":1152235,"reputation":1124,"user_id":1133690,"accept_rate":47,"display_name":"Jaikrat"},"score":0,"creation_date":1481801390,"post_id":38261760,"comment_id":69526725,"body_markdown":"Get it. We are not calling this method from anywhere. Its called after fixedDelay time interval. Thanks for the hint.","body":"Get it. We are not calling this method from anywhere. Its called after fixedDelay time interval. Thanks for the hint."},{"owner":{"account_id":57827,"reputation":363,"user_id":173250,"display_name":"jmb"},"score":7,"creation_date":1494436843,"post_id":38261760,"comment_id":74831779,"body_markdown":"Clearing the entire cache on a schedule can be a handy hack to get things working, but this method can&#39;t be used to give items a TTL. Even the *condition* value can only declare whether to delete the entire cache. Underlying this is the fact that ConcurrentMapCache stores objects without any timestamp, so there&#39;s no way to evaluate a TTL as-is.","body":"Clearing the entire cache on a schedule can be a handy hack to get things working, but this method can&#39;t be used to give items a TTL. Even the <i>condition</i> value can only declare whether to delete the entire cache. Underlying this is the fact that ConcurrentMapCache stores objects without any timestamp, so there&#39;s no way to evaluate a TTL as-is."},{"owner":{"account_id":5632403,"reputation":1261,"user_id":4458964,"accept_rate":0,"display_name":"Atum"},"score":0,"creation_date":1494826471,"post_id":38261760,"comment_id":74974072,"body_markdown":"is code seat-of-the-pants (this method was scribbled down :) ).","body":"is code seat-of-the-pants (this method was scribbled down :) )."},{"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"score":0,"creation_date":1562184570,"post_id":38261760,"comment_id":100303091,"body_markdown":"Nice and clean approach","body":"Nice and clean approach"},{"owner":{"account_id":1896724,"reputation":1039,"user_id":1713511,"display_name":"Kirill Mikhailov"},"score":0,"creation_date":1677589161,"post_id":38261760,"comment_id":133364279,"body_markdown":"Small addition: you can use fixedDelayString, initialDelayString (from spring properties ${your.ttl.parameter.name}) and specify time unit in java.time.Duration format, for example: pt10m will set delay to 10minutes pt30s will set delay to 30 seconds and so on.","body":"Small addition: you can use fixedDelayString, initialDelayString (from spring properties ${your.ttl.parameter.name}) and specify time unit in java.time.Duration format, for example: pt10m will set delay to 10minutes pt30s will set delay to 30 seconds and so on."}],"tags":[],"owner":{"account_id":5632403,"reputation":1261,"user_id":4458964,"accept_rate":0,"display_name":"Atum"},"comment_count":6,"down_vote_count":5,"up_vote_count":60,"is_accepted":false,"score":55,"last_activity_date":1467965016,"creation_date":1467965016,"answer_id":38261760,"question_id":8181768,"body_markdown":"\r\n\r\nI use life hacking like this\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    @EnableScheduling\r\n    public class CachingConfig {\r\n        public static final String GAMES = &quot;GAMES&quot;;\r\n        @Bean\r\n        public CacheManager cacheManager() {\r\n            ConcurrentMapCacheManager cacheManager = new ConcurrentMapCacheManager(GAMES);\r\n    \r\n            return cacheManager;\r\n        }\r\n    \r\n    @CacheEvict(allEntries = true, value = {GAMES})\r\n    @Scheduled(fixedDelay = 10 * 60 * 1000 ,  initialDelay = 500)\r\n    public void reportCacheEvict() {\r\n        System.out.println(&quot;Flush Cache &quot; + dateFormat.format(new Date()));\r\n    }","title":"Can I set a TTL for @Cacheable","body":"<p>I use life hacking like this</p>\n\n<pre><code>@Configuration\n@EnableCaching\n@EnableScheduling\npublic class CachingConfig {\n    public static final String GAMES = \"GAMES\";\n    @Bean\n    public CacheManager cacheManager() {\n        ConcurrentMapCacheManager cacheManager = new ConcurrentMapCacheManager(GAMES);\n\n        return cacheManager;\n    }\n\n@CacheEvict(allEntries = true, value = {GAMES})\n@Scheduled(fixedDelay = 10 * 60 * 1000 ,  initialDelay = 500)\npublic void reportCacheEvict() {\n    System.out.println(\"Flush Cache \" + dateFormat.format(new Date()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8803306,"reputation":29,"user_id":6578767,"display_name":"Andrew"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1513612870,"creation_date":1468318382,"answer_id":38325915,"question_id":8181768,"body_markdown":"Since Spring-boot 1.3.3, you may set expire time in CacheManager by using *RedisCacheManager.setExpires* or *RedisCacheManager.setDefaultExpiration* in [CacheManagerCustomizer][1] call-back bean. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/cache/CacheManagerCustomizer.html","title":"Can I set a TTL for @Cacheable","body":"<p>Since Spring-boot 1.3.3, you may set expire time in CacheManager by using <em>RedisCacheManager.setExpires</em> or <em>RedisCacheManager.setDefaultExpiration</em> in <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/cache/CacheManagerCustomizer.html\" rel=\"nofollow noreferrer\">CacheManagerCustomizer</a> call-back bean. </p>\n"},{"comments":[{"owner":{"account_id":2852345,"reputation":101,"user_id":2449271,"accept_rate":75,"display_name":"MerLito"},"score":1,"creation_date":1495649116,"post_id":40788886,"comment_id":75347623,"body_markdown":"Amazing! This was exactly what i was looking for","body":"Amazing! This was exactly what i was looking for"}],"tags":[],"owner":{"account_id":8502561,"reputation":570,"user_id":6375098,"display_name":"jo8937"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1479997651,"creation_date":1479997651,"answer_id":40788886,"question_id":8181768,"body_markdown":"Springboot 1.3.8\r\n\r\n\r\n\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.springframework.cache.CacheManager;\r\n    import org.springframework.cache.annotation.CachingConfigurerSupport;\r\n    import org.springframework.cache.annotation.EnableCaching;\r\n    import org.springframework.cache.guava.GuavaCacheManager;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import com.google.common.cache.CacheBuilder;\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfig extends CachingConfigurerSupport {\r\n\r\n\t@Override\r\n\t@Bean\r\n\tpublic CacheManager cacheManager() {\r\n\t\tGuavaCacheManager cacheManager = new GuavaCacheManager();\r\n\t\treturn cacheManager;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CacheManager timeoutCacheManager() {\r\n\t\tGuavaCacheManager cacheManager = new GuavaCacheManager();\r\n\t\tCacheBuilder&lt;Object, Object&gt; cacheBuilder = CacheBuilder.newBuilder()\r\n\t\t\t\t.maximumSize(100)\r\n\t\t\t\t.expireAfterWrite(5, TimeUnit.SECONDS);\r\n\t\tcacheManager.setCacheBuilder(cacheBuilder);\r\n\t\treturn cacheManager;\r\n\t}\r\n\r\n\t}\r\n\r\n \r\nand \r\n\r\n    @Cacheable(value=&quot;A&quot;, cacheManager=&quot;timeoutCacheManager&quot;)\r\n\tpublic Object getA(){\r\n    ...\r\n\t}\r\n\r\n","title":"Can I set a TTL for @Cacheable","body":"<p>Springboot 1.3.8</p>\n\n<pre><code>import java.util.concurrent.TimeUnit;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.CachingConfigurerSupport;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.guava.GuavaCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport com.google.common.cache.CacheBuilder;\n\n@Configuration\n@EnableCaching\npublic class CacheConfig extends CachingConfigurerSupport {\n\n@Override\n@Bean\npublic CacheManager cacheManager() {\n    GuavaCacheManager cacheManager = new GuavaCacheManager();\n    return cacheManager;\n}\n\n@Bean\npublic CacheManager timeoutCacheManager() {\n    GuavaCacheManager cacheManager = new GuavaCacheManager();\n    CacheBuilder&lt;Object, Object&gt; cacheBuilder = CacheBuilder.newBuilder()\n            .maximumSize(100)\n            .expireAfterWrite(5, TimeUnit.SECONDS);\n    cacheManager.setCacheBuilder(cacheBuilder);\n    return cacheManager;\n}\n\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Cacheable(value=\"A\", cacheManager=\"timeoutCacheManager\")\npublic Object getA(){\n...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1120182,"reputation":209,"user_id":1108687,"accept_rate":25,"display_name":"user1108687"},"score":0,"creation_date":1629472084,"post_id":41979280,"comment_id":121703725,"body_markdown":"I am trying to follow your approach and created my own cache interceptor by extending inbuilt one. But when actually &quot;Cacheable&quot; annotation gets executed, it keeps calling in-built interceptor and never calls my own interceptor. Do I need to change any setting anywhere apart from putting @Primary tag on my method?","body":"I am trying to follow your approach and created my own cache interceptor by extending inbuilt one. But when actually &quot;Cacheable&quot; annotation gets executed, it keeps calling in-built interceptor and never calls my own interceptor. Do I need to change any setting anywhere apart from putting @Primary tag on my method?"},{"owner":{"account_id":2074946,"reputation":386,"user_id":1848590,"display_name":"lukass77"},"score":0,"creation_date":1629830876,"post_id":41979280,"comment_id":121789184,"body_markdown":"try to add this to your application.properties - so at run time it will use your config, spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration ,\\ org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration - it means that your config is responsible to create also the CacheManager @Bean","body":"try to add this to your application.properties - so at run time it will use your config, spring.autoconfigure.exclude=org.springframework.boot.autoco&zwnj;&#8203;nfigure.cache.CacheA&zwnj;&#8203;utoConfiguration ,\\ org.springframework.boot.autoconfigure.hazelcast.HazelcastAu&zwnj;&#8203;toConfiguration - it means that your config is responsible to create also the CacheManager @Bean"}],"tags":[],"owner":{"account_id":2074946,"reputation":386,"user_id":1848590,"display_name":"lukass77"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1675256872,"creation_date":1485950397,"answer_id":41979280,"question_id":8181768,"body_markdown":"This can be done by extending `org.springframework.cache.interceptor.CacheInterceptor`, and override `doPut` method - `org.springframework.cache.interceptor.AbstractCacheInvoker`\r\nyour override logic should use the cache provider put method that knows to set TTL for cache entry (in my case I use `HazelcastCacheManager`)\r\n\r\n    @Autowired\r\n    @Qualifier(value = &quot;cacheManager&quot;)\r\n    private CacheManager hazelcastCacheManager;\r\n\r\n    @Override\r\n    protected void doPut(Cache cache, Object key, Object result) {\r\n            //super.doPut(cache, key, result); \r\n            HazelcastCacheManager hazelcastCacheManager = (HazelcastCacheManager) this.hazelcastCacheManager;\r\n            HazelcastInstance hazelcastInstance = hazelcastCacheManager.getHazelcastInstance();\r\n            IMap&lt;Object, Object&gt; map = hazelcastInstance.getMap(&quot;CacheName&quot;);\r\n            //set time to leave 18000 secondes\r\n            map.put(key, result, 18000, TimeUnit.SECONDS);\r\n\r\n       \r\n       \r\n    }\r\n\r\non your cache configuration you need to add those 2 bean methods , creating your custom interceptor instance .\r\n\r\n    @Bean\r\n    public CacheOperationSource cacheOperationSource() {\r\n        return new AnnotationCacheOperationSource();\r\n    }\r\n\r\n\r\n    @Primary\r\n    @Bean\r\n    public CacheInterceptor cacheInterceptor() {\r\n        CacheInterceptor interceptor = new MyCustomCacheInterceptor();\r\n        interceptor.setCacheOperationSources(cacheOperationSource());    \r\n        return interceptor;\r\n    }\r\n\r\n\r\nThis solution is good when you want to set the TTL on the entry level, and not globally on cache level \r\n","title":"Can I set a TTL for @Cacheable","body":"<p>This can be done by extending <code>org.springframework.cache.interceptor.CacheInterceptor</code>, and override <code>doPut</code> method - <code>org.springframework.cache.interceptor.AbstractCacheInvoker</code>\nyour override logic should use the cache provider put method that knows to set TTL for cache entry (in my case I use <code>HazelcastCacheManager</code>)</p>\n<pre><code>@Autowired\n@Qualifier(value = &quot;cacheManager&quot;)\nprivate CacheManager hazelcastCacheManager;\n\n@Override\nprotected void doPut(Cache cache, Object key, Object result) {\n        //super.doPut(cache, key, result); \n        HazelcastCacheManager hazelcastCacheManager = (HazelcastCacheManager) this.hazelcastCacheManager;\n        HazelcastInstance hazelcastInstance = hazelcastCacheManager.getHazelcastInstance();\n        IMap&lt;Object, Object&gt; map = hazelcastInstance.getMap(&quot;CacheName&quot;);\n        //set time to leave 18000 secondes\n        map.put(key, result, 18000, TimeUnit.SECONDS);\n\n   \n   \n}\n</code></pre>\n<p>on your cache configuration you need to add those 2 bean methods , creating your custom interceptor instance .</p>\n<pre><code>@Bean\npublic CacheOperationSource cacheOperationSource() {\n    return new AnnotationCacheOperationSource();\n}\n\n\n@Primary\n@Bean\npublic CacheInterceptor cacheInterceptor() {\n    CacheInterceptor interceptor = new MyCustomCacheInterceptor();\n    interceptor.setCacheOperationSources(cacheOperationSource());    \n    return interceptor;\n}\n</code></pre>\n<p>This solution is good when you want to set the TTL on the entry level, and not globally on cache level</p>\n"},{"comments":[{"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"score":1,"creation_date":1561372518,"post_id":50344890,"comment_id":100028345,"body_markdown":"question is for spring @Cacheable annotation","body":"question is for spring @Cacheable annotation"},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":1,"creation_date":1618805766,"post_id":50344890,"comment_id":118704356,"body_markdown":"@satyesht Not sure why need to put -5 vote though.","body":"@satyesht Not sure why need to put -5 vote though."}],"tags":[],"owner":{"account_id":13292217,"reputation":65,"user_id":9596370,"display_name":"Huang Li"},"comment_count":2,"down_vote_count":8,"up_vote_count":6,"is_accepted":false,"score":-2,"last_activity_date":1526370283,"creation_date":1526370283,"answer_id":50344890,"question_id":8181768,"body_markdown":"If you are working with redis and Java 8, you can take a look at [JetCache](https://github.com/alibaba/jetcache):\r\n\r\n```@Cached(expire = 10, timeUnit = TimeUnit.MINUTES)\r\nUser getUserById(long userId);\r\n```","title":"Can I set a TTL for @Cacheable","body":"<p>If you are working with redis and Java 8, you can take a look at <a href=\"https://github.com/alibaba/jetcache\" rel=\"nofollow noreferrer\">JetCache</a>:</p>\n\n<p><code>@Cached(expire = 10, timeUnit = TimeUnit.MINUTES)\nUser getUserById(long userId);\n</code></p>\n"},{"comments":[{"owner":{"account_id":2424105,"reputation":341,"user_id":2116424,"display_name":"cpxondo"},"score":0,"creation_date":1640617247,"post_id":58789769,"comment_id":124617295,"body_markdown":"Much simplier with redis","body":"Much simplier with redis"},{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":0,"creation_date":1657626900,"post_id":58789769,"comment_id":128850781,"body_markdown":"This is a bit limiting since it will set only one TTL. In real world app you will want to have different TTL for different cache entries.","body":"This is a bit limiting since it will set only one TTL. In real world app you will want to have different TTL for different cache entries."}],"tags":[],"owner":{"account_id":1895890,"reputation":4097,"user_id":1712880,"accept_rate":27,"display_name":"Hamid Mohayeji"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1573397146,"creation_date":1573397146,"answer_id":58789769,"question_id":8181768,"body_markdown":"When using Redis, TTL can be set in properties file like this:\r\n\r\n`spring.cache.redis.time-to-live=1d # 1 day`\r\n\r\n`spring.cache.redis.time-to-live=5m # 5 minutes`\r\n\r\n`spring.cache.redis.time-to-live=10s # 10 seconds`","title":"Can I set a TTL for @Cacheable","body":"<p>When using Redis, TTL can be set in properties file like this:</p>\n\n<p><code>spring.cache.redis.time-to-live=1d # 1 day</code></p>\n\n<p><code>spring.cache.redis.time-to-live=5m # 5 minutes</code></p>\n\n<p><code>spring.cache.redis.time-to-live=10s # 10 seconds</code></p>\n"},{"comments":[{"owner":{"account_id":3055236,"reputation":558,"user_id":2589030,"accept_rate":50,"display_name":"sansari"},"score":3,"creation_date":1658313222,"post_id":66649988,"comment_id":129018891,"body_markdown":"Is this evict all cached data in `mychace` or just items that wrote 15m ago?","body":"Is this evict all cached data in <code>mychace</code> or just items that wrote 15m ago?"},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1699536771,"post_id":66649988,"comment_id":136546299,"body_markdown":"@sansari every entry has its own ttl. so this will evict an entry after it was written after 15m. other items would not be affected until their ttl is expired as well. does that help?","body":"@sansari every entry has its own ttl. so this will evict an entry after it was written after 15m. other items would not be affected until their ttl is expired as well. does that help?"}],"tags":[],"owner":{"account_id":247065,"reputation":1185,"user_id":2440071,"accept_rate":80,"display_name":"Aleksander Lech"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1615875470,"creation_date":1615875470,"answer_id":66649988,"question_id":8181768,"body_markdown":"The easiest way for me was using the Caffeine cache which is configurable directly in your `application.yml` file.\r\n\r\nYou can setup the TTL by the `expireAfterWrite` parameter. Example configuration would look as follows:\r\n\r\n    spring:\r\n      cache:\r\n        caffeine:\r\n          spec: expireAfterWrite=15m\r\n        cache-names: mycache\r\n\r\nThis will evict the elements after 15 minutes.\r\n\r\n","title":"Can I set a TTL for @Cacheable","body":"<p>The easiest way for me was using the Caffeine cache which is configurable directly in your <code>application.yml</code> file.</p>\n<p>You can setup the TTL by the <code>expireAfterWrite</code> parameter. Example configuration would look as follows:</p>\n<pre><code>spring:\n  cache:\n    caffeine:\n      spec: expireAfterWrite=15m\n    cache-names: mycache\n</code></pre>\n<p>This will evict the elements after 15 minutes.</p>\n"},{"comments":[{"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"score":0,"creation_date":1652361516,"post_id":72216296,"comment_id":127591321,"body_markdown":"It is also compatible with properties from application.yml, so you can combine them","body":"It is also compatible with properties from application.yml, so you can combine them"},{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":1,"creation_date":1657626989,"post_id":72216296,"comment_id":128850831,"body_markdown":"This forces us to use a cacheName that we don&#39;t really want. I prefer to have different cacheManager defined so that I have control on the cache name.","body":"This forces us to use a cacheName that we don&#39;t really want. I prefer to have different cacheManager defined so that I have control on the cache name."}],"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652361335,"creation_date":1652361335,"answer_id":72216296,"question_id":8181768,"body_markdown":"## Redis based solution\r\n\r\n- Spring boot: 2.2.6\r\n- Cache store: Redis (`spring-boot-starter-cache` along with `spring-boot-starter-data-redis`)\r\n- Java version: 8\r\n\r\n\r\nImplementation:\r\n```java\r\nimport org.springframework.boot.autoconfigure.cache.RedisCacheManagerBuilderCustomizer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\r\n\r\nimport java.time.Duration;\r\n\r\n@Configuration\r\npublic class CacheConfig {\r\n\r\n\t@Bean\r\n\tpublic RedisCacheManagerBuilderCustomizer customizer() {\r\n\t\treturn builder -&gt; builder\r\n\t\t\t\t.withCacheConfiguration(&quot;cacheKey1&quot;,\r\n\t\t\t\t\t\tRedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofDays(14)))\r\n\t\t\t\t.withCacheConfiguration(&quot;cacheKey2&quot;,\r\n\t\t\t\t\t\tRedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(10)))\r\n\t\t\t\t.withCacheConfiguration(&quot;cacheKey3&quot;,\r\n\t\t\t\t\t\tRedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofHours(1)));\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Can I set a TTL for @Cacheable","body":"<h2>Redis based solution</h2>\n<ul>\n<li>Spring boot: 2.2.6</li>\n<li>Cache store: Redis (<code>spring-boot-starter-cache</code> along with <code>spring-boot-starter-data-redis</code>)</li>\n<li>Java version: 8</li>\n</ul>\n<p>Implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.autoconfigure.cache.RedisCacheManagerBuilderCustomizer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\n\nimport java.time.Duration;\n\n@Configuration\npublic class CacheConfig {\n\n    @Bean\n    public RedisCacheManagerBuilderCustomizer customizer() {\n        return builder -&gt; builder\n                .withCacheConfiguration(&quot;cacheKey1&quot;,\n                        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofDays(14)))\n                .withCacheConfiguration(&quot;cacheKey2&quot;,\n                        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(10)))\n                .withCacheConfiguration(&quot;cacheKey3&quot;,\n                        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofHours(1)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":191974,"reputation":4843,"user_id":432859,"accept_rate":76,"display_name":"Piotr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177727,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":8181992,"answer_count":11,"score":159,"last_activity_date":1701520621,"creation_date":1321616085,"question_id":8181768,"body_markdown":"I am trying out the `@Cacheable` annotation support for Spring 3.1 and wondering if there is any way to make the cached data clear out after a time by setting a TTL?\r\nRight now from what I can see I need to clear it out myself by using the `@CacheEvict`, and by using that together with `@Scheduled` I can make a TTL implementation myself but it seems a bit much for such a simple task?","title":"Can I set a TTL for @Cacheable","body":"<p>I am trying out the <code>@Cacheable</code> annotation support for Spring 3.1 and wondering if there is any way to make the cached data clear out after a time by setting a TTL?\nRight now from what I can see I need to clear it out myself by using the <code>@CacheEvict</code>, and by using that together with <code>@Scheduled</code> I can make a TTL implementation myself but it seems a bit much for such a simple task?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":6,"creation_date":1394982089,"post_id":22438495,"comment_id":34123814,"body_markdown":"Post the exception...","body":"Post the exception..."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1394982182,"post_id":22438495,"comment_id":34123853,"body_markdown":"That&#39;s a serious code duplication you have there..","body":"That&#39;s a serious code duplication you have there.."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":3,"creation_date":1394982251,"post_id":22438495,"comment_id":34123877,"body_markdown":"And btw there&#39;s no digit &quot;10&quot;...","body":"And btw there&#39;s no digit &quot;10&quot;..."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1394982313,"post_id":22438495,"comment_id":34123903,"body_markdown":"@MarounMaroun It&#39;s reasonable given presumed knowledge level during learning here.","body":"@MarounMaroun It&#39;s reasonable given presumed knowledge level during learning here."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1394982394,"post_id":22438495,"comment_id":34123927,"body_markdown":"@m0skit0 Well...damn. I&#39;m going to step out.","body":"@m0skit0 Well...damn. I&#39;m going to step out."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1394982424,"post_id":22438495,"comment_id":34123943,"body_markdown":"Remove `catch (Exception e)` and post the stacktrace of the exception. First it&#39;s a bad idea to catch Exception, and it&#39;s even worse if you&#39;re not printing the stacktrace of the Exception, because you don&#39;t know what&#39;s happening. If you want to control a specific error, catch the appropriate exception, not all exceptions.","body":"Remove <code>catch (Exception e)</code> and post the stacktrace of the exception. First it&#39;s a bad idea to catch Exception, and it&#39;s even worse if you&#39;re not printing the stacktrace of the Exception, because you don&#39;t know what&#39;s happening. If you want to control a specific error, catch the appropriate exception, not all exceptions."},{"owner":{"account_id":2112167,"reputation":1537,"user_id":1991295,"accept_rate":60,"display_name":"async"},"score":1,"creation_date":1394982498,"post_id":22438495,"comment_id":34123980,"body_markdown":"WHat @m0skit0 means is adding `e.printStackTrace()` (and posting it)","body":"WHat @m0skit0 means is adding <code>e.printStackTrace()</code> (and posting it)"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1394982540,"post_id":22438495,"comment_id":34123997,"body_markdown":"@user16547 It&#39;s better to remove the try/catch because it&#39;s a bad catch. The exception will be printed anyway.","body":"@user16547 It&#39;s better to remove the try/catch because it&#39;s a bad catch. The exception will be printed anyway."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1394982663,"post_id":22438495,"comment_id":34124045,"body_markdown":"@m0skit0 It&#39;s not sufficient to say &quot;exception handling is bad, remove the catch block&quot;. The OP is clearly attempting to handle an error and recover. It would be more useful to explain a better approach to error handling there.","body":"@m0skit0 It&#39;s not sufficient to say &quot;exception handling is bad, remove the catch block&quot;. The OP is clearly attempting to handle an error and recover. It would be more useful to explain a better approach to error handling there."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1394983254,"post_id":22438495,"comment_id":34124273,"body_markdown":"@JasonC You&#39;re right, but that&#39;s not related to the question, and posting that as a comment makes no sense (due to the length). If I knew what error he&#39;s getting, I would answer properly. And +1 to your answer btw.","body":"@JasonC You&#39;re right, but that&#39;s not related to the question, and posting that as a comment makes no sense (due to the length). If I knew what error he&#39;s getting, I would answer properly. And +1 to your answer btw."},{"owner":{"account_id":105045,"reputation":1260,"user_id":280537,"display_name":"Richard Miskin"},"score":1,"creation_date":1394983273,"post_id":22438495,"comment_id":34124283,"body_markdown":"If you want to treat the entered number as a String, why don&#39;t you read it as a String in the first place? e.g. `userInput.nextLine()`. You could use `Integer.parseInt()` or a regular expression to ensure that the user has only entered numbers.","body":"If you want to treat the entered number as a String, why don&#39;t you read it as a String in the first place? e.g. <code>userInput.nextLine()</code>. You could use <code>Integer.parseInt()</code> or a regular expression to ensure that the user has only entered numbers."}],"answers":[{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394983496,"creation_date":1394982678,"answer_id":22438620,"question_id":22438495,"body_markdown":"The problem is with:\r\n\r\n    String[] sizeTwo=number.toString().split(&quot;&quot;);\r\n\r\nwhen number is &quot;78&quot;, it produces the array [&quot;&quot;, &quot;7&quot;, &quot;8&quot;], instead of [&quot;7&quot;,&quot;8&quot;].\r\nYou should split the string into digits differently (or ignore the first token which is always an empty string).\r\n\r\nsplit(..) accepts a regular expression that specifies what patterns to be considered as token separators. In your case, I found the following regex useful:\r\n\r\n    String[] sizeTwo=number.toString().split(&quot;(?&lt;=\\\\d)(?=\\\\d)&quot;);\r\n\r\nIt requires the separator to be an empty string, preceded and followed by a digit (using a feature called positive lookbehind and positive lookahead)\r\n","title":"How to split number into digit strings?","body":"<p>The problem is with:</p>\n\n<pre><code>String[] sizeTwo=number.toString().split(\"\");\n</code></pre>\n\n<p>when number is \"78\", it produces the array [\"\", \"7\", \"8\"], instead of [\"7\",\"8\"].\nYou should split the string into digits differently (or ignore the first token which is always an empty string).</p>\n\n<p>split(..) accepts a regular expression that specifies what patterns to be considered as token separators. In your case, I found the following regex useful:</p>\n\n<pre><code>String[] sizeTwo=number.toString().split(\"(?&lt;=\\\\d)(?=\\\\d)\");\n</code></pre>\n\n<p>It requires the separator to be an empty string, preceded and followed by a digit (using a feature called positive lookbehind and positive lookahead)</p>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1394985320,"creation_date":1394983196,"answer_id":22438721,"question_id":22438495,"body_markdown":"Stack traces are *very* useful pieces of information when debugging, and if you are encountering an unexpected exception but disregarding the stack trace, you are ignoring this information. Had you printed the stack trace for your exception, you would have seen this:\r\n\r\n    Enter the number to read out : \r\n    78\r\n    Entered number is : 78\r\n    number size is : 2\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(Unknown Source)\r\n    \tat java.lang.Integer.parseInt(Unknown Source)\r\n    \tat java.lang.Integer.parseInt(Unknown Source)\r\n    \tat ReadNumberInWord.numberCheck(ReadNumberInWord.java:74)\r\n    \tat ReadNumberInWord.sizeTwo(ReadNumberInWord.java:58)\r\n    \tat ReadNumberInWord.readNumber(ReadNumberInWord.java:26)\r\n    \tat ReadNumberInWord.&lt;init&gt;(ReadNumberInWord.java:13)\r\n    \tat ReadNumberInWord.main(ReadNumberInWord.java:94)\r\n\r\nThis shows clearly that `Integer.parseInt()`, via `numberCheck()`, is being called with an empty string `&quot;&quot;` for input, which is not a valid integer and causes `Integer.parseInt()` to throw the exception you are seeing. \r\n\r\nNow you need to figure out *why* that is happening. You know that the string passed to `parseInt()` comes directly from `numberCheck()`s parameter, so that means `numberCheck()` is being passed an empty string. Since you know that input comes from the `sizeTwo` array in `sizeTwo()`, a good start would be to print the contents of that array there:\r\n\r\n    System.out.println(Arrays.toString(sizeTwo));\r\n\r\nDoing this, you would see:\r\n\r\n    [ , 7, 8 ]\r\n\r\nThat first empty element is a hint. Using split in this way is not quite right, technically the input string starts with an &quot;empty&quot; string and you end up getting that back (e.g. splitting `&quot;:7:8&quot;` on `:`). You&#39;ll have to either make `numberCheck()` ignore empty strings, or find another way to split the string into digits. The former is a band-aid over the root cause of the issue (remember: it wasn&#39;t your actual intention to include any empty strings in the digit list), so we&#39;ll focus on the latter.\r\n\r\nOne option is to convert the number to a `String` (skip the `String[]` thing) and then a `char` array, e.g.:\r\n\r\n    char[] digits = number.toString().toCharArray();\r\n\r\nThen you can work on `char` instead of `String`. Another option is to use `substring()` in your loop, e.g.:\r\n\r\n    String numberstr = number.toString();\r\n\r\n    for (int n = 0; n &lt; numberstr.length(); ++ n) {\r\n       String digit = number.substring(n, 1);\r\n       ...\r\n    }\r\n\r\nOf course, having this string middle-man isn&#39;t really necessary, and you could just do it with arithmetic:\r\n    \r\n    for (int n = (int)Math.log10(number); n &gt;= 0; -- n) {\r\n        int digit = (number / (int)Math.pow(10, n)) % 10;\r\n        System.out.println(digit);\r\n    }\r\n\r\nOr in reverse but without relying on floating point calculations:\r\n\r\n    int temp = number;\r\n\r\n    while (temp) {\r\n        digit = temp % 10;\r\n        temp /= 10;\r\n        System.out.println(digit);\r\n    }\r\n\r\nYour code can be cleaned up and greatly simplified in a lot of other ways (e.g. as Richard Miskin hinted at in a comment, do you really need a parsed `int` at all?), but I think the above covers the root of your immediate issue.\r\n\r\n&lt;hr&gt;\r\n\r\nAs for the error handling itself, I recommend just using `Scanner.next()` to read a string, then you can use `Integer.parseInt()` to parse it and if you see a `NumberFormatException`, ask again. This would be an appropriate use of an exception, and the use of `next()` rather than `nextInt()` pulls the token off the stream even if it is an invalid int (letting you continue asking for input). For example:\r\n\r\n    Scanner userInput = new Scanner(System.in);\r\n    System.out.println(&quot;Enter the number to read out : &quot;);\r\n\r\n    while (true) {\r\n        try {\r\n            number = Integer.parseInt(userInput.next());\r\n            break;\r\n        } catch (NumberFormatException x) {     \r\n            System.out.println(&quot;Please enter a valid integer&quot;);\r\n        }\r\n    };\r\n\r\nNote a few key concepts here:\r\n\r\n  - The narrowest exception possible is caught (i.e. `NumberFormatException`, not `Exception`). Makes sense because: NumberFormatException is the *only* problem we&#39;re attempting to handle.\r\n  - Exception handlers should generally attempt to recover; otherwise there&#39;s no sense in handling them. In this case, our recovery attempt is to notify the user that something went wrong and ask for new valid input.\r\n\r\nYour current implementation sets up a recursive stack and has a few other issues.","title":"How to split number into digit strings?","body":"<p>Stack traces are <em>very</em> useful pieces of information when debugging, and if you are encountering an unexpected exception but disregarding the stack trace, you are ignoring this information. Had you printed the stack trace for your exception, you would have seen this:</p>\n\n<pre><code>Enter the number to read out : \n78\nEntered number is : 78\nnumber size is : 2\n\nException in thread \"main\" java.lang.NumberFormatException: For input string: \"\"\n    at java.lang.NumberFormatException.forInputString(Unknown Source)\n    at java.lang.Integer.parseInt(Unknown Source)\n    at java.lang.Integer.parseInt(Unknown Source)\n    at ReadNumberInWord.numberCheck(ReadNumberInWord.java:74)\n    at ReadNumberInWord.sizeTwo(ReadNumberInWord.java:58)\n    at ReadNumberInWord.readNumber(ReadNumberInWord.java:26)\n    at ReadNumberInWord.&lt;init&gt;(ReadNumberInWord.java:13)\n    at ReadNumberInWord.main(ReadNumberInWord.java:94)\n</code></pre>\n\n<p>This shows clearly that <code>Integer.parseInt()</code>, via <code>numberCheck()</code>, is being called with an empty string <code>\"\"</code> for input, which is not a valid integer and causes <code>Integer.parseInt()</code> to throw the exception you are seeing. </p>\n\n<p>Now you need to figure out <em>why</em> that is happening. You know that the string passed to <code>parseInt()</code> comes directly from <code>numberCheck()</code>s parameter, so that means <code>numberCheck()</code> is being passed an empty string. Since you know that input comes from the <code>sizeTwo</code> array in <code>sizeTwo()</code>, a good start would be to print the contents of that array there:</p>\n\n<pre><code>System.out.println(Arrays.toString(sizeTwo));\n</code></pre>\n\n<p>Doing this, you would see:</p>\n\n<pre><code>[ , 7, 8 ]\n</code></pre>\n\n<p>That first empty element is a hint. Using split in this way is not quite right, technically the input string starts with an \"empty\" string and you end up getting that back (e.g. splitting <code>\":7:8\"</code> on <code>:</code>). You'll have to either make <code>numberCheck()</code> ignore empty strings, or find another way to split the string into digits. The former is a band-aid over the root cause of the issue (remember: it wasn't your actual intention to include any empty strings in the digit list), so we'll focus on the latter.</p>\n\n<p>One option is to convert the number to a <code>String</code> (skip the <code>String[]</code> thing) and then a <code>char</code> array, e.g.:</p>\n\n<pre><code>char[] digits = number.toString().toCharArray();\n</code></pre>\n\n<p>Then you can work on <code>char</code> instead of <code>String</code>. Another option is to use <code>substring()</code> in your loop, e.g.:</p>\n\n<pre><code>String numberstr = number.toString();\n\nfor (int n = 0; n &lt; numberstr.length(); ++ n) {\n   String digit = number.substring(n, 1);\n   ...\n}\n</code></pre>\n\n<p>Of course, having this string middle-man isn't really necessary, and you could just do it with arithmetic:</p>\n\n<pre><code>for (int n = (int)Math.log10(number); n &gt;= 0; -- n) {\n    int digit = (number / (int)Math.pow(10, n)) % 10;\n    System.out.println(digit);\n}\n</code></pre>\n\n<p>Or in reverse but without relying on floating point calculations:</p>\n\n<pre><code>int temp = number;\n\nwhile (temp) {\n    digit = temp % 10;\n    temp /= 10;\n    System.out.println(digit);\n}\n</code></pre>\n\n<p>Your code can be cleaned up and greatly simplified in a lot of other ways (e.g. as Richard Miskin hinted at in a comment, do you really need a parsed <code>int</code> at all?), but I think the above covers the root of your immediate issue.</p>\n\n<hr>\n\n<p>As for the error handling itself, I recommend just using <code>Scanner.next()</code> to read a string, then you can use <code>Integer.parseInt()</code> to parse it and if you see a <code>NumberFormatException</code>, ask again. This would be an appropriate use of an exception, and the use of <code>next()</code> rather than <code>nextInt()</code> pulls the token off the stream even if it is an invalid int (letting you continue asking for input). For example:</p>\n\n<pre><code>Scanner userInput = new Scanner(System.in);\nSystem.out.println(\"Enter the number to read out : \");\n\nwhile (true) {\n    try {\n        number = Integer.parseInt(userInput.next());\n        break;\n    } catch (NumberFormatException x) {     \n        System.out.println(\"Please enter a valid integer\");\n    }\n};\n</code></pre>\n\n<p>Note a few key concepts here:</p>\n\n<ul>\n<li>The narrowest exception possible is caught (i.e. <code>NumberFormatException</code>, not <code>Exception</code>). Makes sense because: NumberFormatException is the <em>only</em> problem we're attempting to handle.</li>\n<li>Exception handlers should generally attempt to recover; otherwise there's no sense in handling them. In this case, our recovery attempt is to notify the user that something went wrong and ask for new valid input.</li>\n</ul>\n\n<p>Your current implementation sets up a recursive stack and has a few other issues.</p>\n"},{"comments":[{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1394985489,"post_id":22439101,"comment_id":34125170,"body_markdown":"+1 for addressing other ways to simplify (and **documenting**!). I suggest using character constants (&#39;0&#39;, &#39;1&#39;, &#39;2&#39;) rather than ASCII codes for readability. :)","body":"+1 for addressing other ways to simplify (and <b>documenting</b>!). I suggest using character constants (&#39;0&#39;, &#39;1&#39;, &#39;2&#39;) rather than ASCII codes for readability. :)"},{"owner":{"account_id":105045,"reputation":1260,"user_id":280537,"display_name":"Richard Miskin"},"score":0,"creation_date":1394985985,"post_id":22439101,"comment_id":34125370,"body_markdown":"Good call - I&#39;ve switched to the character constants.","body":"Good call - I&#39;ve switched to the character constants."}],"tags":[],"owner":{"account_id":105045,"reputation":1260,"user_id":280537,"display_name":"Richard Miskin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394985957,"creation_date":1394985237,"answer_id":22439101,"question_id":22438495,"body_markdown":"It seems a little odd that you&#39;re reading characters from the terminal as an `Integer` and then having to jump through hoops to convert it to an array of character for further processing. The logic can be simplified by reading in a `String`, validating that the `String` meets your requirement and then processing each character from the `String`.\r\n\r\nThere are a few other changes I&#39;d make:\r\n\r\n  1. There is no reason to treat each length as a special case,\r\n  2. You can loop rather than calling the constructor again in the case of errors,\r\n  3. `number` doesn&#39;t need to be a member variable, you can just pass it as a parameter to each method call,\r\n  4. You don&#39;t need to convert the individual elements of `String` back to integers for the switch statement if you use `toCharArray()`.\r\n\r\n\r\nHere&#39;s an example that works with `String` rather than `Integer`.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ReadNumberInWord {\r\n    \r\n        public ReadNumberInWord() {\r\n            final Scanner userInput = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the number to read out : &quot;);\r\n            boolean success = false;\r\n            // Keep looping until the correct input is supplied.\r\n            while (!success) {\r\n                final String number = userInput.nextLine();\r\n                if (validNumber(number)) {\r\n                    readNumber(number);\r\n                    success = true;\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * @param number\r\n         *            the String to check.\r\n         * @return &lt;code&gt;true&lt;/code&gt; if and only if number is less than 5 characters\r\n         *         long and can be parsed as an integer.\r\n         */\r\n        private boolean validNumber(final String number) {\r\n            boolean returnValue = false;\r\n            try {\r\n                Integer.parseInt(number);\r\n                if (number.length() &lt;= 4) {\r\n                    returnValue = true;\r\n                } else {\r\n                    System.out.println(&quot;Enter number of four digit or less &quot;);\r\n                }\r\n            } catch (final NumberFormatException e) {\r\n                System.out.println(&quot;Please enter an integer&quot;);\r\n            }\r\n            return returnValue;\r\n        }\r\n    \r\n        /**\r\n         * When supplied a String that represents an integer this method writes out\r\n         * each digit as a word to stdout.\r\n         * \r\n         * @param number\r\n         *            a String that represents an integer\r\n         */\r\n        public void readNumber(final String number) {\r\n            System.out.println(&quot;Entered number is : &quot; + number);\r\n            final int numSize = number.length();\r\n            System.out.println(&quot;number size is : &quot; + numSize);\r\n            final char[] chars = number.toCharArray();\r\n            for (int i = 0; i &lt; chars.length; i++) {\r\n                System.out.print(numberCheck(chars[i]));\r\n                if (i &lt; chars.length - 1) {\r\n                    System.out.print(&#39;\\t&#39;);\r\n                } else {\r\n                    System.out.println();\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * @param num\r\n         *            a character that represents one of the numbers 0-9\r\n         * @return the word representing the supplied number e.g. zero, one etc\r\n         */\r\n        public String numberCheck(final char num) {\r\n            switch (num) {\r\n            case &#39;0&#39;:\r\n                return &quot;zero&quot;;\r\n            case &#39;1&#39;:\r\n                return &quot;one&quot;;\r\n            case &#39;2&#39;:\r\n                return &quot;two&quot;;\r\n            case &#39;3&#39;:\r\n                return &quot;three&quot;;\r\n            case &#39;4&#39;:\r\n                return &quot;four&quot;;\r\n            case &#39;5&#39;:\r\n                return &quot;five&quot;;\r\n            case &#39;6&#39;:\r\n                return &quot;six&quot;;\r\n            case &#39;7&#39;:\r\n                return &quot;seven&quot;;\r\n            case &#39;8&#39;:\r\n                return &quot;eight&quot;;\r\n            case &#39;9&#39;:\r\n                return &quot;nine&quot;;\r\n            default:\r\n                return &quot;unknown&quot;;\r\n            }\r\n        }\r\n    \r\n        public static void main(final String[] args) {\r\n            new ReadNumberInWord();\r\n        }\r\n    }","title":"How to split number into digit strings?","body":"<p>It seems a little odd that you're reading characters from the terminal as an <code>Integer</code> and then having to jump through hoops to convert it to an array of character for further processing. The logic can be simplified by reading in a <code>String</code>, validating that the <code>String</code> meets your requirement and then processing each character from the <code>String</code>.</p>\n\n<p>There are a few other changes I'd make:</p>\n\n<ol>\n<li>There is no reason to treat each length as a special case,</li>\n<li>You can loop rather than calling the constructor again in the case of errors,</li>\n<li><code>number</code> doesn't need to be a member variable, you can just pass it as a parameter to each method call,</li>\n<li>You don't need to convert the individual elements of <code>String</code> back to integers for the switch statement if you use <code>toCharArray()</code>.</li>\n</ol>\n\n<p>Here's an example that works with <code>String</code> rather than <code>Integer</code>.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ReadNumberInWord {\n\n    public ReadNumberInWord() {\n        final Scanner userInput = new Scanner(System.in);\n        System.out.println(\"Enter the number to read out : \");\n        boolean success = false;\n        // Keep looping until the correct input is supplied.\n        while (!success) {\n            final String number = userInput.nextLine();\n            if (validNumber(number)) {\n                readNumber(number);\n                success = true;\n            }\n        }\n    }\n\n    /**\n     * @param number\n     *            the String to check.\n     * @return &lt;code&gt;true&lt;/code&gt; if and only if number is less than 5 characters\n     *         long and can be parsed as an integer.\n     */\n    private boolean validNumber(final String number) {\n        boolean returnValue = false;\n        try {\n            Integer.parseInt(number);\n            if (number.length() &lt;= 4) {\n                returnValue = true;\n            } else {\n                System.out.println(\"Enter number of four digit or less \");\n            }\n        } catch (final NumberFormatException e) {\n            System.out.println(\"Please enter an integer\");\n        }\n        return returnValue;\n    }\n\n    /**\n     * When supplied a String that represents an integer this method writes out\n     * each digit as a word to stdout.\n     * \n     * @param number\n     *            a String that represents an integer\n     */\n    public void readNumber(final String number) {\n        System.out.println(\"Entered number is : \" + number);\n        final int numSize = number.length();\n        System.out.println(\"number size is : \" + numSize);\n        final char[] chars = number.toCharArray();\n        for (int i = 0; i &lt; chars.length; i++) {\n            System.out.print(numberCheck(chars[i]));\n            if (i &lt; chars.length - 1) {\n                System.out.print('\\t');\n            } else {\n                System.out.println();\n            }\n        }\n    }\n\n    /**\n     * @param num\n     *            a character that represents one of the numbers 0-9\n     * @return the word representing the supplied number e.g. zero, one etc\n     */\n    public String numberCheck(final char num) {\n        switch (num) {\n        case '0':\n            return \"zero\";\n        case '1':\n            return \"one\";\n        case '2':\n            return \"two\";\n        case '3':\n            return \"three\";\n        case '4':\n            return \"four\";\n        case '5':\n            return \"five\";\n        case '6':\n            return \"six\";\n        case '7':\n            return \"seven\";\n        case '8':\n            return \"eight\";\n        case '9':\n            return \"nine\";\n        default:\n            return \"unknown\";\n        }\n    }\n\n    public static void main(final String[] args) {\n        new ReadNumberInWord();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10771666,"reputation":15,"user_id":7924987,"display_name":"behza_d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701519986,"creation_date":1701519986,"answer_id":77590332,"question_id":22438495,"body_markdown":"easilly try this\r\ndigit.ToString(&quot;#,0 &quot;)\r\nit will divid and seperate the digit 3 by 3 from the right side.","title":"How to split number into digit strings?","body":"<p>easilly try this\ndigit.ToString(&quot;#,0 &quot;)\nit will divid and seperate the digit 3 by 3 from the right side.</p>\n"}],"owner":{"account_id":2700554,"reputation":89,"user_id":2331363,"accept_rate":42,"display_name":"Vishnu J"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1701519986,"creation_date":1394982055,"question_id":22438495,"body_markdown":"I am new to java programming, I tried a sample code to get input a two digit number and print the wording of that number.\r\n\r\n    public class ReadNumberInWord {\r\n\r\n        public Integer number;\r\n\r\n        public ReadNumberInWord() {\r\n            Scanner userInput = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the number to read out : &quot;);\r\n\r\n            try {\r\n                number = userInput.nextInt();\r\n                readNumber();\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Please enter an integer&quot;);\r\n                new ReadNumberInWord();\r\n            }\r\n        }\r\n\r\n        public void readNumber() {\r\n            System.out.println(&quot;Entered number is : &quot; + number);\r\n            int numSize = number.toString().length();\r\n            System.out.println(&quot;number size is : &quot; + numSize);\r\n\r\n            switch (numSize) {\r\n                case 1:\r\n                    sizeOne();\r\n                    break;\r\n                case 2:\r\n                    sizeTwo();\r\n                    break;\r\n                case 3:\r\n                    sizeThree();\r\n                    break;\r\n                case 4:\r\n                    sizeFour();\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Enter number of four digit or less &quot;);\r\n                    new ReadNumberInWord();\r\n                    break;\r\n            }\r\n        }\r\n\r\n        private void sizeFour() {\r\n            System.out.println(&quot;Number in words : &quot; + numberCheck(number.toString()));\r\n        }\r\n\r\n        private void sizeThree() {\r\n            String[] sizeThree = number.toString().split(&quot;&quot;);\r\n            System.out.println(sizeThree[0]);\r\n            System.out.println(sizeThree[1]);\r\n            System.out.println(sizeThree[2]);\r\n\r\n            for (int i = 0; i &lt;= sizeThree.length - 1; i++) {\r\n                System.out.println(sizeThree[i]);\r\n            }\r\n\r\n            System.out.println(&quot;Number in words : &quot; + numberCheck(number.toString()));\r\n        }\r\n\r\n        private void sizeTwo() {\r\n            String[] sizeTwo = number.toString().split(&quot;&quot;);\r\n            //System.out.println(sizeTwo[0]);\r\n            //System.out.println(sizeTwo[1]);\r\n            String wordsString1 = &quot;&quot;;\r\n            ArrayList&lt;String&gt; wordsArray = new ArrayList&lt;String&gt;();\r\n            for (int i = 0; i &lt;= sizeTwo.length - 1; i++) {\r\n                System.out.println(sizeTwo[i]);\r\n                String words = numberCheck(sizeTwo[i]);\r\n                wordsArray.add(words);\r\n            }\r\n\r\n            for (String w : wordsArray) {\r\n                wordsString1 += w + &quot;\\t&quot;;\r\n            }\r\n            System.out.println(&quot;Number in words : &quot; + wordsString1);\r\n        }\r\n\r\n        private void sizeOne() {\r\n            System.out.println(&quot;Number in words : &quot; + numberCheck(number.toString()));\r\n        }\r\n\r\n        public String numberCheck(String numb) {\r\n            int num = Integer.parseInt(numb);\r\n            switch (num) {\r\n                case 0:\r\n                    return &quot;zero&quot;;\r\n                case 1:\r\n                    return &quot;one&quot;;\r\n                case 2:\r\n                    return &quot;two&quot;;\r\n                case 3:\r\n                    return &quot;three&quot;;\r\n                case 4:\r\n                    return &quot;four&quot;;\r\n                case 5:\r\n                    return &quot;five&quot;;\r\n                case 6:\r\n                    return &quot;six&quot;;\r\n                case 7:\r\n                    return &quot;seven&quot;;\r\n                case 8:\r\n                    return &quot;eight&quot;;\r\n                case 9:\r\n                    return &quot;nine&quot;;\r\n                case 10:\r\n                    return &quot;ten&quot;;\r\n                default:\r\n                    return &quot;unknown&quot;;\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new ReadNumberInWord();\r\n        }\r\n    }\r\n\r\n\r\nIn the above code, if I enter two digit number as 78, it should print seven eight. But, that is not working here. Instead I got exception. Please help me to fix it.","title":"How to split number into digit strings?","body":"<p>I am new to java programming, I tried a sample code to get input a two digit number and print the wording of that number.</p>\n\n<pre><code>public class ReadNumberInWord {\n\n    public Integer number;\n\n    public ReadNumberInWord() {\n        Scanner userInput = new Scanner(System.in);\n        System.out.println(\"Enter the number to read out : \");\n\n        try {\n            number = userInput.nextInt();\n            readNumber();\n        } catch (Exception e) {\n            System.out.println(\"Please enter an integer\");\n            new ReadNumberInWord();\n        }\n    }\n\n    public void readNumber() {\n        System.out.println(\"Entered number is : \" + number);\n        int numSize = number.toString().length();\n        System.out.println(\"number size is : \" + numSize);\n\n        switch (numSize) {\n            case 1:\n                sizeOne();\n                break;\n            case 2:\n                sizeTwo();\n                break;\n            case 3:\n                sizeThree();\n                break;\n            case 4:\n                sizeFour();\n                break;\n            default:\n                System.out.println(\"Enter number of four digit or less \");\n                new ReadNumberInWord();\n                break;\n        }\n    }\n\n    private void sizeFour() {\n        System.out.println(\"Number in words : \" + numberCheck(number.toString()));\n    }\n\n    private void sizeThree() {\n        String[] sizeThree = number.toString().split(\"\");\n        System.out.println(sizeThree[0]);\n        System.out.println(sizeThree[1]);\n        System.out.println(sizeThree[2]);\n\n        for (int i = 0; i &lt;= sizeThree.length - 1; i++) {\n            System.out.println(sizeThree[i]);\n        }\n\n        System.out.println(\"Number in words : \" + numberCheck(number.toString()));\n    }\n\n    private void sizeTwo() {\n        String[] sizeTwo = number.toString().split(\"\");\n        //System.out.println(sizeTwo[0]);\n        //System.out.println(sizeTwo[1]);\n        String wordsString1 = \"\";\n        ArrayList&lt;String&gt; wordsArray = new ArrayList&lt;String&gt;();\n        for (int i = 0; i &lt;= sizeTwo.length - 1; i++) {\n            System.out.println(sizeTwo[i]);\n            String words = numberCheck(sizeTwo[i]);\n            wordsArray.add(words);\n        }\n\n        for (String w : wordsArray) {\n            wordsString1 += w + \"\\t\";\n        }\n        System.out.println(\"Number in words : \" + wordsString1);\n    }\n\n    private void sizeOne() {\n        System.out.println(\"Number in words : \" + numberCheck(number.toString()));\n    }\n\n    public String numberCheck(String numb) {\n        int num = Integer.parseInt(numb);\n        switch (num) {\n            case 0:\n                return \"zero\";\n            case 1:\n                return \"one\";\n            case 2:\n                return \"two\";\n            case 3:\n                return \"three\";\n            case 4:\n                return \"four\";\n            case 5:\n                return \"five\";\n            case 6:\n                return \"six\";\n            case 7:\n                return \"seven\";\n            case 8:\n                return \"eight\";\n            case 9:\n                return \"nine\";\n            case 10:\n                return \"ten\";\n            default:\n                return \"unknown\";\n        }\n    }\n\n    public static void main(String[] args) {\n        new ReadNumberInWord();\n    }\n}\n</code></pre>\n\n<p>In the above code, if I enter two digit number as 78, it should print seven eight. But, that is not working here. Instead I got exception. Please help me to fix it.</p>\n"},{"tags":["java","ajax","jsp","servlets"],"answers":[{"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1634738383,"creation_date":1289039437,"answer_id":4112732,"question_id":4112686,"body_markdown":"Normally you can’t update a page from a servlet. The client (browser) has to request an update. Either the  client loads a whole new page or it requests an update to a part of an existing page. This technique is called Ajax.\r\n\r\n\r\n\r\n\r\n","title":"How should I use servlets and Ajax?","body":"<p>Normally you can’t update a page from a servlet. The client (browser) has to request an update. Either the  client loads a whole new page or it requests an update to a part of an existing page. This technique is called Ajax.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1634738461,"creation_date":1289041136,"answer_id":4112813,"question_id":4112686,"body_markdown":"The right way to update the page currently displayed in the user&#39;s browser (without reloading it) is to have some code executing in the browser update the page&#39;s DOM.\r\n\r\nThat code is typically JavaScript that is embedded in or linked from the HTML page, hence the Ajax suggestion.  (In fact, if we assume that the updated text comes from the server via an HTTP request, this is classic Ajax.)\r\n\r\nIt is also possible to implement this kind of thing using some browser plugin or add-on, though it may be tricky for a plugin to reach into the browser&#39;s data structures to update the DOM.  (Native code plugins normally write to some graphics frame that is embedded in the page.)\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How should I use servlets and Ajax?","body":"<p>The right way to update the page currently displayed in the user's browser (without reloading it) is to have some code executing in the browser update the page's DOM.</p>\n<p>That code is typically JavaScript that is embedded in or linked from the HTML page, hence the Ajax suggestion.  (In fact, if we assume that the updated text comes from the server via an HTTP request, this is classic Ajax.)</p>\n<p>It is also possible to implement this kind of thing using some browser plugin or add-on, though it may be tricky for a plugin to reach into the browser's data structures to update the DOM.  (Native code plugins normally write to some graphics frame that is embedded in the page.)</p>\n"},{"comments":[{"owner":{"account_id":4389073,"reputation":5930,"user_id":4279201,"accept_rate":99,"display_name":"shinzou"},"score":0,"creation_date":1476279336,"post_id":4113258,"comment_id":67277768,"body_markdown":"need to parse the json on the last example.","body":"need to parse the json on the last example."},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1476279530,"post_id":4113258,"comment_id":67277930,"body_markdown":"@kuhaku: nope. If you read post from top to bottom, you&#39;ll learn why.","body":"@kuhaku: nope. If you read post from top to bottom, you&#39;ll learn why."},{"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"score":1,"creation_date":1498009048,"post_id":4113258,"comment_id":76316302,"body_markdown":"This answer has been my lifeline for the last month or so lol. Learning a bunch from it. I LOVE the XML example. Thanks for putting this together! One noob question though if you have time. Is there a reason for putting the xml folder in WEB-INF ?","body":"This answer has been my lifeline for the last month or so lol. Learning a bunch from it. I LOVE the XML example. Thanks for putting this together! One noob question though if you have time. Is there a reason for putting the xml folder in WEB-INF ?"},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1498025778,"post_id":4113258,"comment_id":76321072,"body_markdown":"@JonathanLaliberte: So users cannot download them.","body":"@JonathanLaliberte: So users cannot download them."},{"owner":{"account_id":230457,"reputation":308,"user_id":494069,"accept_rate":57,"display_name":"629"},"score":0,"creation_date":1523953839,"post_id":4113258,"comment_id":86761809,"body_markdown":"@BalusC, your XML example is great, thank you. But I am getting &quot;Unable to get property &#39;replace&#39; of undefined or null reference&quot; for `$(&quot;#somediv&quot;).html($(responseXml).find(&quot;data&quot;).html())` this line. It also says &quot;Wrong number of arguments or invalid property assignment&quot;. I can also see that my XML is populated with data when I debug it. Any ideas ?","body":"@BalusC, your XML example is great, thank you. But I am getting &quot;Unable to get property &#39;replace&#39; of undefined or null reference&quot; for <code>$(&quot;#somediv&quot;).html($(responseXml).find(&quot;data&quot;).html())</code> this line. It also says &quot;Wrong number of arguments or invalid property assignment&quot;. I can also see that my XML is populated with data when I debug it. Any ideas ?"},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1523956142,"post_id":4113258,"comment_id":86763309,"body_markdown":"@629: perhaps you don&#39;t have a `&lt;div id=&quot;somediv&quot;&gt;`?","body":"@629: perhaps you don&#39;t have a <code>&lt;div id=&quot;somediv&quot;&gt;</code>?"},{"owner":{"account_id":230457,"reputation":308,"user_id":494069,"accept_rate":57,"display_name":"629"},"score":0,"creation_date":1523962935,"post_id":4113258,"comment_id":86768149,"body_markdown":"@BalusC, It worked when I open the page on Edge. Any ideas on how to make it work for IE11 as well?","body":"@BalusC, It worked when I open the page on Edge. Any ideas on how to make it work for IE11 as well?"}],"tags":[],"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":7,"down_vote_count":3,"up_vote_count":588,"is_accepted":true,"score":585,"last_activity_date":1701519550,"creation_date":1289049874,"answer_id":4113258,"question_id":4112686,"body_markdown":"Indeed, the keyword is &quot;Ajax&quot;: *Asynchronous JavaScript and XML*. However, last years it&#39;s more than often *Asynchronous JavaScript and JSON*. Basically, you let JavaScript execute an asynchronous HTTP request and update the HTML DOM tree based on the response data.\r\n\r\nSince it&#39;s pretty [tedious work to make it to work][1] across all browsers (especially Internet Explorer versus others), there are plenty of JavaScript libraries out which simplifies this in single functions and covers as many as possible browser-specific bugs/quirks under the hoods, such as [jQuery][2], [Prototype][3], [Mootools][4]. Since jQuery is most popular these days, I&#39;ll use it in the below examples.\r\n\r\n# Kickoff example returning `String` as plain text\r\n\r\nCreate a `/some.jsp` like below:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;SO question 4112686&lt;/title&gt;\r\n            &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\r\n            &lt;script&gt;\r\n                const yourServletURL = &quot;${pageContext.request.contextPath}/yourServlet&quot;;\r\n                $(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() { // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\r\n                    $.get(yourServletURL, function(responseText) {  // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response text...\r\n                        $(&quot;#somediv&quot;).text(responseText);           // Locate HTML DOM element with ID &quot;somediv&quot; and set its text content with the response text.\r\n                    });\r\n                });\r\n            &lt;/script&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;button id=&quot;somebutton&quot;&gt;press here&lt;/button&gt;\r\n            &lt;div id=&quot;somediv&quot;&gt;&lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nCreate a servlet with a `doGet()` method which look like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @WebServlet(&quot;/yourServlet&quot;)\r\n    public class YourServlet extends HttpServlet {\r\n\r\n        @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            String text = &quot;some text&quot;;\r\n\r\n            response.setContentType(&quot;text/plain&quot;);  // Set content type of the response so that jQuery knows what it can expect.\r\n            response.setCharacterEncoding(&quot;UTF-8&quot;); // You want world domination, huh?\r\n            response.getWriter().write(text);       // Write response body.\r\n        }\r\n    }\r\n\r\nObviously, the URL pattern of `/yourServlet` is free to your choice, but if you change it then you&#39;ll need to alter the `/yourServlet` string in the `yourServletURL` JS variable accordingly.\r\n\r\nNow open the http://localhost:8080/context/test.jsp in the browser and press the button. You&#39;ll see that the content of the div gets updated with the servlet response.\r\n\r\n\r\n# Returning `List&lt;String&gt;` as JSON\r\n\r\nWith [JSON][5] instead of plaintext as response format you can even get some steps further. It allows for more dynamics. First, you&#39;d like to have a tool to convert between Java objects and JSON strings. There are plenty of them as well (see the bottom of [this page][6] for an overview). My personal favourite is [Google Gson][7].\r\n\r\nHere&#39;s an example which displays `List&lt;String&gt;` as `&lt;ul&gt;&lt;li&gt;`. The servlet:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;item1&quot;);\r\n        list.add(&quot;item2&quot;);\r\n        list.add(&quot;item3&quot;);\r\n        String json = new Gson().toJson(list);\r\n\r\n        response.setContentType(&quot;application/json&quot;);\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        response.getWriter().write(json);\r\n    }\r\n\r\nThe JavaScript code:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() {    // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\r\n        $.get(yourServletURL, function(responseJson) {     // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response JSON...\r\n            const $ul = $(&quot;&lt;ul&gt;&quot;).appendTo($(&quot;#somediv&quot;)); // Create HTML &lt;ul&gt; element and append it to HTML DOM element with ID &quot;somediv&quot;.\r\n            $.each(responseJson, function(index, item) {   // Iterate over the JSON array.\r\n                $(&quot;&lt;li&gt;&quot;).text(item).appendTo($ul);        // Create HTML &lt;li&gt; element, set its text content with currently iterated item and append it to the &lt;ul&gt;.\r\n            });\r\n        });\r\n    });\r\n\r\nDo note that jQuery automatically parses the response as JSON and gives you directly a JSON object (`responseJson`) as function argument when you set the response content type to `application/json`. If you forget to set it or rely on a default of `text/plain` or `text/html`, then the `responseJson` argument wouldn&#39;t give you a JSON object, but a plain vanilla string and you&#39;d need to manually fiddle around with [`JSON.parse()`][8] afterwards, which is thus totally unnecessary if you set the content type right in first place.\r\n\r\n\r\n# Returning `Map&lt;String, String&gt;` as JSON\r\n\r\nHere&#39;s another example which displays `Map&lt;String, String&gt;` as `&lt;option&gt;`:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        Map&lt;String, String&gt; options = new LinkedHashMap&lt;&gt;();\r\n        options.put(&quot;value1&quot;, &quot;label1&quot;);\r\n        options.put(&quot;value2&quot;, &quot;label2&quot;);\r\n        options.put(&quot;value3&quot;, &quot;label3&quot;);\r\n        String json = new Gson().toJson(options);\r\n\r\n        response.setContentType(&quot;application/json&quot;);\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        response.getWriter().write(json);\r\n    }\r\n\r\nAnd the JSP:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() {               // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\r\n        $.get(yourServletURL, function(responseJson) {                // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response JSON...\r\n            const $select = $(&quot;#someselect&quot;);                         // Locate HTML DOM element with ID &quot;someselect&quot;.\r\n            $select.find(&quot;option&quot;).remove();                          // Find all child elements with tag name &quot;option&quot; and remove them (just to prevent duplicate options when button is pressed again).\r\n            $.each(responseJson, function(key, value) {               // Iterate over the JSON object.\r\n                $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo($select); // Create HTML &lt;option&gt; element, set its value with currently iterated key and its text content with currently iterated item and finally append it to the &lt;select&gt;.\r\n            });\r\n        });\r\n    });\r\n\r\nwith\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;select id=&quot;someselect&quot;&gt;&lt;/select&gt;\r\n\r\n\r\n# Returning `List&lt;Entity&gt;` as JSON\r\n\r\nHere&#39;s an example which displays `List&lt;Product&gt;` in a `&lt;table&gt;` where the `Product` class has the properties `Long id`, `String name` and `BigDecimal price`. The servlet:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        List&lt;Product&gt; products = someProductService.list();\r\n        String json = new Gson().toJson(products);\r\n\r\n        response.setContentType(&quot;application/json&quot;);\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        response.getWriter().write(json);\r\n    }\r\n\r\nThe JS code:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() {          // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\r\n        $.get(yourServletURL, function(responseJson) {           // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response JSON...\r\n            const $table = $(&quot;&lt;table&gt;&quot;).appendTo($(&quot;#somediv&quot;)); // Create HTML &lt;table&gt; element and append it to HTML DOM element with ID &quot;somediv&quot;.\r\n            $.each(responseJson, function(index, product) {      // Iterate over the JSON array.\r\n                $(&quot;&lt;tr&gt;&quot;).appendTo($table)                       // Create HTML &lt;tr&gt; element, set its text content with currently iterated item and append it to the &lt;table&gt;.\r\n                    .append($(&quot;&lt;td&gt;&quot;).text(product.id))          // Create HTML &lt;td&gt; element, set its text content with id of currently iterated product and append it to the &lt;tr&gt;.\r\n                    .append($(&quot;&lt;td&gt;&quot;).text(product.name))        // Create HTML &lt;td&gt; element, set its text content with name of currently iterated product and append it to the &lt;tr&gt;.\r\n                    .append($(&quot;&lt;td&gt;&quot;).text(product.price));      // Create HTML &lt;td&gt; element, set its text content with price of currently iterated product and append it to the &lt;tr&gt;.\r\n            });\r\n        });\r\n    });\r\n\r\n\r\n# Returning `List&lt;Entity&gt;` as XML\r\n\r\nHere&#39;s an example which does effectively the same as previous example, but then with XML instead of JSON. When using JSP as XML output generator you&#39;ll see that it&#39;s less tedious to code the table and all. JSTL is this way much more helpful as you can actually use it to iterate over the results and perform server side data formatting. The servlet:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        List&lt;Product&gt; products = someProductService.list();\r\n\r\n        request.setAttribute(&quot;products&quot;, products);\r\n        request.getRequestDispatcher(&quot;/WEB-INF/xml/products.jsp&quot;).forward(request, response);\r\n    }\r\n\r\nThe JSP code (note: if you put the `&lt;table&gt;` in a `&lt;jsp:include&gt;`, it may be reusable elsewhere in a non-Ajax response):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;%@page contentType=&quot;application/xml&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;jakarta.tags.core&quot; %&gt;\r\n    &lt;%@taglib prefix=&quot;fmt&quot; uri=&quot;jakarta.tags.fmt&quot; %&gt;\r\n    &lt;data&gt;\r\n        &lt;table&gt;\r\n            &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;${product.id}&lt;/td&gt;\r\n                    &lt;td&gt;&lt;c:out value=&quot;${product.name}&quot; /&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;fmt:formatNumber value=&quot;${product.price}&quot; type=&quot;currency&quot; currencyCode=&quot;USD&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/c:forEach&gt;\r\n        &lt;/table&gt;\r\n    &lt;/data&gt;\r\n\r\nThe JavaScript code:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() {             // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\r\n        $.get(yourServletURL, function(responseXml) {               // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response XML...\r\n            $(&quot;#somediv&quot;).html($(responseXml).find(&quot;data&quot;).html()); // Parse XML, find &lt;data&gt; element and append its HTML to HTML DOM element with ID &quot;somediv&quot;.\r\n        });\r\n    });\r\n\r\nYou&#39;ll by now probably realize why XML is so much more powerful than JSON for the particular purpose of updating a HTML document using Ajax. JSON is funny, but after all generally only useful for so-called &quot;public web services&quot;. MVC frameworks like [JSF][9] use XML under the covers for their ajax magic.\r\n\r\n\r\n# Ajaxifying an existing form\r\n\r\nYou can use jQuery [`$.serialize()`][10] to easily ajaxify existing POST forms without fiddling around with collecting and passing the individual form input parameters. Assuming an existing form which works perfectly fine without JavaScript/jQuery (and thus degrades gracefully when the end user has JavaScript disabled):\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form id=&quot;someform&quot; action=&quot;${pageContext.request.contextPath}/yourServletURL&quot; method=&quot;post&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;foo&quot; /&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;bar&quot; /&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;baz&quot; /&gt;\r\n        &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\nYou can progressively enhance it with Ajax as below:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(document).on(&quot;submit&quot;, &quot;#someform&quot;, function(event) {\r\n        const $form = $(this);\r\n\r\n        $.post($form.attr(&quot;action&quot;), $form.serialize(), function(response) {\r\n            // ...\r\n        });\r\n\r\n        event.preventDefault(); // Important! Prevents submitting the form.\r\n    });\r\n\r\nYou can in the servlet distinguish between normal requests and Ajax requests as below:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String foo = request.getParameter(&quot;foo&quot;);\r\n        String bar = request.getParameter(&quot;bar&quot;);\r\n        String baz = request.getParameter(&quot;baz&quot;);\r\n\r\n        boolean ajax = &quot;XMLHttpRequest&quot;.equals(request.getHeader(&quot;X-Requested-With&quot;));\r\n\r\n        // ...\r\n\r\n        if (ajax) {\r\n            // Handle Ajax (JSON or XML) response.\r\n        } else {\r\n            // Handle regular (JSP) response.\r\n        }\r\n    }\r\n\r\nThe [jQuery Form plugin][11] does less or more the same as above jQuery example, but it has additional transparent support for `multipart/form-data` forms as required by file uploads.\r\n\r\n# Manually sending request parameters to servlet\r\n\r\nIf you don&#39;t have a form at all, but just wanted to interact with the servlet &quot;in the background&quot; whereby you&#39;d like to POST some data, then you can use jQuery [`$.param()`][12] to easily convert a JSON object to an URL-encoded query string as per `application/x-www-form-urlencoded` content type, exactly as used by normal HTML forms, so that you can continue using `request.getParameter(name)` to extract the data.\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const params = {\r\n        foo: &quot;fooValue&quot;,\r\n        bar: &quot;barValue&quot;,\r\n        baz: &quot;bazValue&quot;\r\n    };\r\n\r\n    $.post(yourServletURL, $.param(params), function(response) {\r\n        // ...\r\n    });\r\n\r\nThe [`$.post()`][13] is essentially a shorthand for the following [`$.ajax()`][14] call.\r\n```js\r\n$.ajax({\r\n    type: &quot;POST&quot;,\r\n    url: yourServletURL,\r\n    data: $.param(params),\r\n    success: function(response) {\r\n        // ...\r\n    }\r\n});\r\n```\r\n\r\nThe same `doPost()` method as shown in previous section can be reused. Do note that above `$.post()` syntax also works with [`$.get()`][15] in jQuery and `doGet()` in servlet.\r\n\r\n\r\n# Manually sending JSON object to servlet\r\n\r\nIf you however intend to send the JSON object as a whole instead of as individual request parameters for some reason, then you&#39;d need to serialize it to a string using [`JSON.stringify()`][16] (not part of jQuery) and instruct jQuery to set request content type to `application/json` instead of (default) `application/x-www-form-urlencoded`. This can&#39;t be done via `$.post()` convenience function, but needs to be done via `$.ajax()` as below.\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const data = {\r\n        foo: &quot;fooValue&quot;,\r\n        bar: &quot;barValue&quot;,\r\n        baz: &quot;bazValue&quot;\r\n    };\r\n\r\n    $.ajax({\r\n        type: &quot;POST&quot;,\r\n        url: yourServletURL,\r\n        contentType: &quot;application/json&quot;, // NOT dataType!\r\n        data: JSON.stringify(data),\r\n        success: function(response) {\r\n            // ...\r\n        }\r\n    });\r\n\r\nDo note that a lot of starters mix `contentType` with `dataType`. The `contentType` represents the type of the **request** body. The `dataType` represents the (expected) type of the **response** body, which is usually unnecessary as jQuery already autodetects it based on response&#39;s `Content-Type` header.\r\n\r\nThen, in order to process the JSON object in the servlet which isn&#39;t being sent as individual request parameters but as a whole JSON string the above way, you only need to manually parse the request body using a JSON tool instead of using `getParameter()` the usual way. Namely, servlets don&#39;t support `application/json` formatted requests, but only `application/x-www-form-urlencoded` or `multipart/form-data` formatted requests. Gson also supports parsing a JSON string into a JSON object.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    JsonObject data = new Gson().fromJson(request.getReader(), JsonObject.class);\r\n    String foo = data.get(&quot;foo&quot;).getAsString();\r\n    String bar = data.get(&quot;bar&quot;).getAsString();\r\n    String baz = data.get(&quot;baz&quot;).getAsString();\r\n    // ...\r\n\r\nDo note that this all is more clumsy than just using `$.param()`. Normally, you want to use `JSON.stringify()` only if the target service is e.g. a JAX-RS (RESTful) service which is for some reason only capable of consuming JSON strings and not regular request parameters.\r\n\r\n\r\n# Sending a redirect from servlet\r\n\r\nImportant to realize and understand is that any `sendRedirect()` and `forward()` call by the servlet on an ajax request would only forward or redirect *the Ajax request itself* and not the main document/window where the Ajax request originated. JavaScript/jQuery would in such case only retrieve the redirected/forwarded response as `responseText` variable in the callback function. If it represents a whole HTML page and not an Ajax-specific XML or JSON response, then all you could do is to replace the current document with it.\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    document.open();\r\n    document.write(responseText);\r\n    document.close();\r\n\r\nNote that this doesn&#39;t change the URL as end user sees in browser&#39;s address bar. So there are issues with bookmarkability. Therefore, it&#39;s much better to just return an &quot;instruction&quot; for JavaScript/jQuery to perform a redirect instead of returning the whole content of the redirected page. E.g., by returning a boolean, or a URL.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String redirectURL = &quot;http://example.com&quot;;\r\n\r\n    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n    data.put(&quot;redirect&quot;, redirectURL);\r\n    String json = new Gson().toJson(data);\r\n\r\n    response.setContentType(&quot;application/json&quot;);\r\n    response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    response.getWriter().write(json);\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function(responseJson) {\r\n        if (responseJson.redirect) {\r\n            window.location = responseJson.redirect;\r\n            return;\r\n        }\r\n\r\n        // ...\r\n    }\r\n\r\n\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/2132242/need-to-call-servlet-from-javascript-along-with-parameters\r\n- https://stackoverflow.com/questions/3832792/access-java-servlet-jsp-jstl-el-variables-in-javascript\r\n- https://stackoverflow.com/questions/2600582/how-to-switch-easily-between-ajax-based-website-and-basic-html-website/\r\n- https://stackoverflow.com/questions/6914152/how-to-upload-files-to-server-using-jsp-servlet-and-ajax\r\n\r\n \r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started\r\n  [2]: https://jquery.com\r\n  [3]: http://www.prototypejs.org\r\n  [4]: https://mootools.net/\r\n  [5]: https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON\r\n  [6]: https://json.org/\r\n  [7]: https://github.com/google/gson\r\n  [8]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\r\n  [9]: https://stackoverflow.com/tags/jsf/info\r\n  [10]: https://api.jquery.com/serialize/\r\n  [11]: https://malsup.com/jquery/form/\r\n  [12]: https://api.jquery.com/jquery.param/\r\n  [13]: https://api.jquery.com/jquery.post/\r\n  [14]: https://api.jquery.com/jquery.ajax/\r\n  [15]: https://api.jquery.com/jquery.get/\r\n  [16]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify","title":"How should I use servlets and Ajax?","body":"<p>Indeed, the keyword is &quot;Ajax&quot;: <em>Asynchronous JavaScript and XML</em>. However, last years it's more than often <em>Asynchronous JavaScript and JSON</em>. Basically, you let JavaScript execute an asynchronous HTTP request and update the HTML DOM tree based on the response data.</p>\n<p>Since it's pretty <a href=\"https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started\" rel=\"nofollow noreferrer\">tedious work to make it to work</a> across all browsers (especially Internet Explorer versus others), there are plenty of JavaScript libraries out which simplifies this in single functions and covers as many as possible browser-specific bugs/quirks under the hoods, such as <a href=\"https://jquery.com\" rel=\"nofollow noreferrer\">jQuery</a>, <a href=\"http://www.prototypejs.org\" rel=\"nofollow noreferrer\">Prototype</a>, <a href=\"https://mootools.net/\" rel=\"nofollow noreferrer\">Mootools</a>. Since jQuery is most popular these days, I'll use it in the below examples.</p>\n<h1>Kickoff example returning <code>String</code> as plain text</h1>\n<p>Create a <code>/some.jsp</code> like below:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;SO question 4112686&lt;/title&gt;\n        &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script&gt;\n            const yourServletURL = &quot;${pageContext.request.contextPath}/yourServlet&quot;;\n            $(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() { // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\n                $.get(yourServletURL, function(responseText) {  // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response text...\n                    $(&quot;#somediv&quot;).text(responseText);           // Locate HTML DOM element with ID &quot;somediv&quot; and set its text content with the response text.\n                });\n            });\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;button id=&quot;somebutton&quot;&gt;press here&lt;/button&gt;\n        &lt;div id=&quot;somediv&quot;&gt;&lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Create a servlet with a <code>doGet()</code> method which look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(&quot;/yourServlet&quot;)\npublic class YourServlet extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String text = &quot;some text&quot;;\n\n        response.setContentType(&quot;text/plain&quot;);  // Set content type of the response so that jQuery knows what it can expect.\n        response.setCharacterEncoding(&quot;UTF-8&quot;); // You want world domination, huh?\n        response.getWriter().write(text);       // Write response body.\n    }\n}\n</code></pre>\n<p>Obviously, the URL pattern of <code>/yourServlet</code> is free to your choice, but if you change it then you'll need to alter the <code>/yourServlet</code> string in the <code>yourServletURL</code> JS variable accordingly.</p>\n<p>Now open the http://localhost:8080/context/test.jsp in the browser and press the button. You'll see that the content of the div gets updated with the servlet response.</p>\n<h1>Returning <code>List&lt;String&gt;</code> as JSON</h1>\n<p>With <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON\" rel=\"nofollow noreferrer\">JSON</a> instead of plaintext as response format you can even get some steps further. It allows for more dynamics. First, you'd like to have a tool to convert between Java objects and JSON strings. There are plenty of them as well (see the bottom of <a href=\"https://json.org/\" rel=\"nofollow noreferrer\">this page</a> for an overview). My personal favourite is <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Google Gson</a>.</p>\n<p>Here's an example which displays <code>List&lt;String&gt;</code> as <code>&lt;ul&gt;&lt;li&gt;</code>. The servlet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(&quot;item1&quot;);\n    list.add(&quot;item2&quot;);\n    list.add(&quot;item3&quot;);\n    String json = new Gson().toJson(list);\n\n    response.setContentType(&quot;application/json&quot;);\n    response.setCharacterEncoding(&quot;UTF-8&quot;);\n    response.getWriter().write(json);\n}\n</code></pre>\n<p>The JavaScript code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() {    // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\n    $.get(yourServletURL, function(responseJson) {     // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response JSON...\n        const $ul = $(&quot;&lt;ul&gt;&quot;).appendTo($(&quot;#somediv&quot;)); // Create HTML &lt;ul&gt; element and append it to HTML DOM element with ID &quot;somediv&quot;.\n        $.each(responseJson, function(index, item) {   // Iterate over the JSON array.\n            $(&quot;&lt;li&gt;&quot;).text(item).appendTo($ul);        // Create HTML &lt;li&gt; element, set its text content with currently iterated item and append it to the &lt;ul&gt;.\n        });\n    });\n});\n</code></pre>\n<p>Do note that jQuery automatically parses the response as JSON and gives you directly a JSON object (<code>responseJson</code>) as function argument when you set the response content type to <code>application/json</code>. If you forget to set it or rely on a default of <code>text/plain</code> or <code>text/html</code>, then the <code>responseJson</code> argument wouldn't give you a JSON object, but a plain vanilla string and you'd need to manually fiddle around with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\" rel=\"nofollow noreferrer\"><code>JSON.parse()</code></a> afterwards, which is thus totally unnecessary if you set the content type right in first place.</p>\n<h1>Returning <code>Map&lt;String, String&gt;</code> as JSON</h1>\n<p>Here's another example which displays <code>Map&lt;String, String&gt;</code> as <code>&lt;option&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    Map&lt;String, String&gt; options = new LinkedHashMap&lt;&gt;();\n    options.put(&quot;value1&quot;, &quot;label1&quot;);\n    options.put(&quot;value2&quot;, &quot;label2&quot;);\n    options.put(&quot;value3&quot;, &quot;label3&quot;);\n    String json = new Gson().toJson(options);\n\n    response.setContentType(&quot;application/json&quot;);\n    response.setCharacterEncoding(&quot;UTF-8&quot;);\n    response.getWriter().write(json);\n}\n</code></pre>\n<p>And the JSP:</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() {               // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\n    $.get(yourServletURL, function(responseJson) {                // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response JSON...\n        const $select = $(&quot;#someselect&quot;);                         // Locate HTML DOM element with ID &quot;someselect&quot;.\n        $select.find(&quot;option&quot;).remove();                          // Find all child elements with tag name &quot;option&quot; and remove them (just to prevent duplicate options when button is pressed again).\n        $.each(responseJson, function(key, value) {               // Iterate over the JSON object.\n            $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo($select); // Create HTML &lt;option&gt; element, set its value with currently iterated key and its text content with currently iterated item and finally append it to the &lt;select&gt;.\n        });\n    });\n});\n</code></pre>\n<p>with</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select id=&quot;someselect&quot;&gt;&lt;/select&gt;\n</code></pre>\n<h1>Returning <code>List&lt;Entity&gt;</code> as JSON</h1>\n<p>Here's an example which displays <code>List&lt;Product&gt;</code> in a <code>&lt;table&gt;</code> where the <code>Product</code> class has the properties <code>Long id</code>, <code>String name</code> and <code>BigDecimal price</code>. The servlet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    List&lt;Product&gt; products = someProductService.list();\n    String json = new Gson().toJson(products);\n\n    response.setContentType(&quot;application/json&quot;);\n    response.setCharacterEncoding(&quot;UTF-8&quot;);\n    response.getWriter().write(json);\n}\n</code></pre>\n<p>The JS code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() {          // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\n    $.get(yourServletURL, function(responseJson) {           // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response JSON...\n        const $table = $(&quot;&lt;table&gt;&quot;).appendTo($(&quot;#somediv&quot;)); // Create HTML &lt;table&gt; element and append it to HTML DOM element with ID &quot;somediv&quot;.\n        $.each(responseJson, function(index, product) {      // Iterate over the JSON array.\n            $(&quot;&lt;tr&gt;&quot;).appendTo($table)                       // Create HTML &lt;tr&gt; element, set its text content with currently iterated item and append it to the &lt;table&gt;.\n                .append($(&quot;&lt;td&gt;&quot;).text(product.id))          // Create HTML &lt;td&gt; element, set its text content with id of currently iterated product and append it to the &lt;tr&gt;.\n                .append($(&quot;&lt;td&gt;&quot;).text(product.name))        // Create HTML &lt;td&gt; element, set its text content with name of currently iterated product and append it to the &lt;tr&gt;.\n                .append($(&quot;&lt;td&gt;&quot;).text(product.price));      // Create HTML &lt;td&gt; element, set its text content with price of currently iterated product and append it to the &lt;tr&gt;.\n        });\n    });\n});\n</code></pre>\n<h1>Returning <code>List&lt;Entity&gt;</code> as XML</h1>\n<p>Here's an example which does effectively the same as previous example, but then with XML instead of JSON. When using JSP as XML output generator you'll see that it's less tedious to code the table and all. JSTL is this way much more helpful as you can actually use it to iterate over the results and perform server side data formatting. The servlet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    List&lt;Product&gt; products = someProductService.list();\n\n    request.setAttribute(&quot;products&quot;, products);\n    request.getRequestDispatcher(&quot;/WEB-INF/xml/products.jsp&quot;).forward(request, response);\n}\n</code></pre>\n<p>The JSP code (note: if you put the <code>&lt;table&gt;</code> in a <code>&lt;jsp:include&gt;</code>, it may be reusable elsewhere in a non-Ajax response):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;%@page contentType=&quot;application/xml&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@taglib prefix=&quot;c&quot; uri=&quot;jakarta.tags.core&quot; %&gt;\n&lt;%@taglib prefix=&quot;fmt&quot; uri=&quot;jakarta.tags.fmt&quot; %&gt;\n&lt;data&gt;\n    &lt;table&gt;\n        &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\n            &lt;tr&gt;\n                &lt;td&gt;${product.id}&lt;/td&gt;\n                &lt;td&gt;&lt;c:out value=&quot;${product.name}&quot; /&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;fmt:formatNumber value=&quot;${product.price}&quot; type=&quot;currency&quot; currencyCode=&quot;USD&quot; /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/c:forEach&gt;\n    &lt;/table&gt;\n&lt;/data&gt;\n</code></pre>\n<p>The JavaScript code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(document).on(&quot;click&quot;, &quot;#somebutton&quot;, function() {             // When HTML DOM &quot;click&quot; event is invoked on element with ID &quot;somebutton&quot;, execute the following function...\n    $.get(yourServletURL, function(responseXml) {               // Execute Ajax GET request on your servlet URL and execute the following function with Ajax response XML...\n        $(&quot;#somediv&quot;).html($(responseXml).find(&quot;data&quot;).html()); // Parse XML, find &lt;data&gt; element and append its HTML to HTML DOM element with ID &quot;somediv&quot;.\n    });\n});\n</code></pre>\n<p>You'll by now probably realize why XML is so much more powerful than JSON for the particular purpose of updating a HTML document using Ajax. JSON is funny, but after all generally only useful for so-called &quot;public web services&quot;. MVC frameworks like <a href=\"https://stackoverflow.com/tags/jsf/info\">JSF</a> use XML under the covers for their ajax magic.</p>\n<h1>Ajaxifying an existing form</h1>\n<p>You can use jQuery <a href=\"https://api.jquery.com/serialize/\" rel=\"nofollow noreferrer\"><code>$.serialize()</code></a> to easily ajaxify existing POST forms without fiddling around with collecting and passing the individual form input parameters. Assuming an existing form which works perfectly fine without JavaScript/jQuery (and thus degrades gracefully when the end user has JavaScript disabled):</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=&quot;someform&quot; action=&quot;${pageContext.request.contextPath}/yourServletURL&quot; method=&quot;post&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;foo&quot; /&gt;\n    &lt;input type=&quot;text&quot; name=&quot;bar&quot; /&gt;\n    &lt;input type=&quot;text&quot; name=&quot;baz&quot; /&gt;\n    &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>You can progressively enhance it with Ajax as below:</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(document).on(&quot;submit&quot;, &quot;#someform&quot;, function(event) {\n    const $form = $(this);\n\n    $.post($form.attr(&quot;action&quot;), $form.serialize(), function(response) {\n        // ...\n    });\n\n    event.preventDefault(); // Important! Prevents submitting the form.\n});\n</code></pre>\n<p>You can in the servlet distinguish between normal requests and Ajax requests as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    String foo = request.getParameter(&quot;foo&quot;);\n    String bar = request.getParameter(&quot;bar&quot;);\n    String baz = request.getParameter(&quot;baz&quot;);\n\n    boolean ajax = &quot;XMLHttpRequest&quot;.equals(request.getHeader(&quot;X-Requested-With&quot;));\n\n    // ...\n\n    if (ajax) {\n        // Handle Ajax (JSON or XML) response.\n    } else {\n        // Handle regular (JSP) response.\n    }\n}\n</code></pre>\n<p>The <a href=\"https://malsup.com/jquery/form/\" rel=\"nofollow noreferrer\">jQuery Form plugin</a> does less or more the same as above jQuery example, but it has additional transparent support for <code>multipart/form-data</code> forms as required by file uploads.</p>\n<h1>Manually sending request parameters to servlet</h1>\n<p>If you don't have a form at all, but just wanted to interact with the servlet &quot;in the background&quot; whereby you'd like to POST some data, then you can use jQuery <a href=\"https://api.jquery.com/jquery.param/\" rel=\"nofollow noreferrer\"><code>$.param()</code></a> to easily convert a JSON object to an URL-encoded query string as per <code>application/x-www-form-urlencoded</code> content type, exactly as used by normal HTML forms, so that you can continue using <code>request.getParameter(name)</code> to extract the data.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const params = {\n    foo: &quot;fooValue&quot;,\n    bar: &quot;barValue&quot;,\n    baz: &quot;bazValue&quot;\n};\n\n$.post(yourServletURL, $.param(params), function(response) {\n    // ...\n});\n</code></pre>\n<p>The <a href=\"https://api.jquery.com/jquery.post/\" rel=\"nofollow noreferrer\"><code>$.post()</code></a> is essentially a shorthand for the following <a href=\"https://api.jquery.com/jquery.ajax/\" rel=\"nofollow noreferrer\"><code>$.ajax()</code></a> call.</p>\n<pre class=\"lang-js prettyprint-override\"><code>$.ajax({\n    type: &quot;POST&quot;,\n    url: yourServletURL,\n    data: $.param(params),\n    success: function(response) {\n        // ...\n    }\n});\n</code></pre>\n<p>The same <code>doPost()</code> method as shown in previous section can be reused. Do note that above <code>$.post()</code> syntax also works with <a href=\"https://api.jquery.com/jquery.get/\" rel=\"nofollow noreferrer\"><code>$.get()</code></a> in jQuery and <code>doGet()</code> in servlet.</p>\n<h1>Manually sending JSON object to servlet</h1>\n<p>If you however intend to send the JSON object as a whole instead of as individual request parameters for some reason, then you'd need to serialize it to a string using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\" rel=\"nofollow noreferrer\"><code>JSON.stringify()</code></a> (not part of jQuery) and instruct jQuery to set request content type to <code>application/json</code> instead of (default) <code>application/x-www-form-urlencoded</code>. This can't be done via <code>$.post()</code> convenience function, but needs to be done via <code>$.ajax()</code> as below.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const data = {\n    foo: &quot;fooValue&quot;,\n    bar: &quot;barValue&quot;,\n    baz: &quot;bazValue&quot;\n};\n\n$.ajax({\n    type: &quot;POST&quot;,\n    url: yourServletURL,\n    contentType: &quot;application/json&quot;, // NOT dataType!\n    data: JSON.stringify(data),\n    success: function(response) {\n        // ...\n    }\n});\n</code></pre>\n<p>Do note that a lot of starters mix <code>contentType</code> with <code>dataType</code>. The <code>contentType</code> represents the type of the <strong>request</strong> body. The <code>dataType</code> represents the (expected) type of the <strong>response</strong> body, which is usually unnecessary as jQuery already autodetects it based on response's <code>Content-Type</code> header.</p>\n<p>Then, in order to process the JSON object in the servlet which isn't being sent as individual request parameters but as a whole JSON string the above way, you only need to manually parse the request body using a JSON tool instead of using <code>getParameter()</code> the usual way. Namely, servlets don't support <code>application/json</code> formatted requests, but only <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code> formatted requests. Gson also supports parsing a JSON string into a JSON object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject data = new Gson().fromJson(request.getReader(), JsonObject.class);\nString foo = data.get(&quot;foo&quot;).getAsString();\nString bar = data.get(&quot;bar&quot;).getAsString();\nString baz = data.get(&quot;baz&quot;).getAsString();\n// ...\n</code></pre>\n<p>Do note that this all is more clumsy than just using <code>$.param()</code>. Normally, you want to use <code>JSON.stringify()</code> only if the target service is e.g. a JAX-RS (RESTful) service which is for some reason only capable of consuming JSON strings and not regular request parameters.</p>\n<h1>Sending a redirect from servlet</h1>\n<p>Important to realize and understand is that any <code>sendRedirect()</code> and <code>forward()</code> call by the servlet on an ajax request would only forward or redirect <em>the Ajax request itself</em> and not the main document/window where the Ajax request originated. JavaScript/jQuery would in such case only retrieve the redirected/forwarded response as <code>responseText</code> variable in the callback function. If it represents a whole HTML page and not an Ajax-specific XML or JSON response, then all you could do is to replace the current document with it.</p>\n<pre class=\"lang-js prettyprint-override\"><code>document.open();\ndocument.write(responseText);\ndocument.close();\n</code></pre>\n<p>Note that this doesn't change the URL as end user sees in browser's address bar. So there are issues with bookmarkability. Therefore, it's much better to just return an &quot;instruction&quot; for JavaScript/jQuery to perform a redirect instead of returning the whole content of the redirected page. E.g., by returning a boolean, or a URL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String redirectURL = &quot;http://example.com&quot;;\n\nMap&lt;String, String&gt; data = new HashMap&lt;&gt;();\ndata.put(&quot;redirect&quot;, redirectURL);\nString json = new Gson().toJson(data);\n\nresponse.setContentType(&quot;application/json&quot;);\nresponse.setCharacterEncoding(&quot;UTF-8&quot;);\nresponse.getWriter().write(json);\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>function(responseJson) {\n    if (responseJson.redirect) {\n        window.location = responseJson.redirect;\n        return;\n    }\n\n    // ...\n}\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2132242/need-to-call-servlet-from-javascript-along-with-parameters\">Call Servlet and invoke Java code from JavaScript along with parameters</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3832792/access-java-servlet-jsp-jstl-el-variables-in-javascript\">Access Java / Servlet / JSP / JSTL / EL variables in JavaScript</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2600582/how-to-switch-easily-between-ajax-based-website-and-basic-html-website/\">How can I switch easily between an Ajax-based website and a basic HTML website?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6914152/how-to-upload-files-to-server-using-jsp-servlet-and-ajax\">How can I upload files to a server using JSP/Servlet and Ajax?</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11896372,"reputation":182,"user_id":8705653,"display_name":"Fakipo"},"score":0,"creation_date":1662674910,"post_id":21575471,"comment_id":130067127,"body_markdown":"I am unable to get any content in the ajax success function","body":"I am unable to get any content in the ajax success function"}],"tags":[],"owner":{"account_id":3841915,"reputation":2647,"user_id":3184740,"accept_rate":38,"display_name":"Mitul Maheshwari"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1634740578,"creation_date":1391598396,"answer_id":21575471,"question_id":4112686,"body_markdown":"I will show you a whole example of a servlet and how do an Ajax call.\r\n\r\nHere, we are going to create the simple example to create the login form using a servlet.\r\n\r\n### File *index.html*\r\n\r\n```lang-html\r\n&lt;form&gt;\r\n   Name:&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\r\n   Password:&lt;input type=&quot;password&quot; name=&quot;userpass&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\r\n   &lt;input type=&quot;button&quot; value=&quot;login&quot;/&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n### An Ajax sample\r\n\r\n```lang-javascript\r\n$.ajax\r\n({\r\n    type: &quot;POST&quot;,\r\n    data: &#39;LoginServlet=&#39; + name + &#39;&amp;name=&#39; + type + &#39;&amp;pass=&#39; + password,\r\n    url: url,\r\n    success:function(content)\r\n    {\r\n        $(&#39;#center&#39;).html(content);\r\n    }\r\n});\r\n```\r\n\r\n**LoginServlet servlet code:**\r\n\r\n    package abc.servlet;\r\n\r\n    import java.io.File;\r\n\r\n    public class AuthenticationServlet extends HttpServlet {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException\r\n        {\r\n            doPost(request, response);\r\n        }\r\n\r\n        protected void doPost(HttpServletRequest request,\r\n                              HttpServletResponse response)\r\n                              throws ServletException, IOException {\r\n\r\n            try{\r\n                HttpSession session = request.getSession();\r\n                String username = request.getParameter(&quot;name&quot;);\r\n                String password = request.getParameter(&quot;pass&quot;);\r\n\r\n                /// Your Code\r\n                out.println(&quot;sucess / failer&quot;)\r\n            }\r\n            catch (Exception ex) {\r\n                // System.err.println(&quot;Initial SessionFactory creation failed.&quot;);\r\n                ex.printStackTrace();\r\n                System.exit(0);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How should I use servlets and Ajax?","body":"<p>I will show you a whole example of a servlet and how do an Ajax call.</p>\n<p>Here, we are going to create the simple example to create the login form using a servlet.</p>\n<h3>File <em>index.html</em></h3>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form&gt;\n   Name:&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\n   Password:&lt;input type=&quot;password&quot; name=&quot;userpass&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\n   &lt;input type=&quot;button&quot; value=&quot;login&quot;/&gt;\n&lt;/form&gt;\n</code></pre>\n<h3>An Ajax sample</h3>\n<pre class=\"lang-javascript prettyprint-override\"><code>$.ajax\n({\n    type: &quot;POST&quot;,\n    data: 'LoginServlet=' + name + '&amp;name=' + type + '&amp;pass=' + password,\n    url: url,\n    success:function(content)\n    {\n        $('#center').html(content);\n    }\n});\n</code></pre>\n<p><strong>LoginServlet servlet code:</strong></p>\n<pre><code>package abc.servlet;\n\nimport java.io.File;\n\npublic class AuthenticationServlet extends HttpServlet {\n\n    private static final long serialVersionUID = 1L;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException\n    {\n        doPost(request, response);\n    }\n\n    protected void doPost(HttpServletRequest request,\n                          HttpServletResponse response)\n                          throws ServletException, IOException {\n\n        try{\n            HttpSession session = request.getSession();\n            String username = request.getParameter(&quot;name&quot;);\n            String password = request.getParameter(&quot;pass&quot;);\n\n            /// Your Code\n            out.println(&quot;sucess / failer&quot;)\n        }\n        catch (Exception ex) {\n            // System.err.println(&quot;Initial SessionFactory creation failed.&quot;);\n            ex.printStackTrace();\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1634740834,"post_id":22523917,"comment_id":123107564,"body_markdown":"An explanation would be in order. E.g., what is the idea/gist? Please respond by [editing (changing) your answer](https://stackoverflow.com/posts/22523917/edit), not here in comments (***without*** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today).","body":"An explanation would be in order. E.g., what is the idea/gist? Please respond by <a href=\"https://stackoverflow.com/posts/22523917/edit\">editing (changing) your answer</a>, not here in comments (<b><i>without</i></b> &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today)."}],"tags":[],"owner":{"account_id":3084186,"reputation":139,"user_id":2611720,"accept_rate":50,"display_name":"SUBZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1634743267,"creation_date":1395292000,"answer_id":22523917,"question_id":4112686,"body_markdown":"\r\n```lang-javascript\r\n$.ajax({\r\n    type: &quot;POST&quot;,\r\n    url: &quot;URL to hit on servelet&quot;,\r\n    data: JSON.stringify(json),\r\n    dataType: &quot;json&quot;,\r\n    success: function(response){\r\n        // We have the response\r\n        if(response.status == &quot;SUCCESS&quot;){\r\n            $(&#39;#info&#39;).html(&quot;Info  has been added to the list successfully.&lt;br&gt;&quot; +\r\n            &quot;The details are as follws: &lt;br&gt; Name: &quot;);\r\n        }\r\n        else{\r\n            $(&#39;#info&#39;).html(&quot;Sorry, there is some thing wrong with the data provided.&quot;);\r\n        }\r\n    },\r\n    error: function(e){\r\n        alert(&#39;Error: &#39; + e);\r\n    }\r\n});\r\n```\r\n\r\n\r\n\r\n","title":"How should I use servlets and Ajax?","body":"<pre class=\"lang-javascript prettyprint-override\"><code>$.ajax({\n    type: &quot;POST&quot;,\n    url: &quot;URL to hit on servelet&quot;,\n    data: JSON.stringify(json),\n    dataType: &quot;json&quot;,\n    success: function(response){\n        // We have the response\n        if(response.status == &quot;SUCCESS&quot;){\n            $('#info').html(&quot;Info  has been added to the list successfully.&lt;br&gt;&quot; +\n            &quot;The details are as follws: &lt;br&gt; Name: &quot;);\n        }\n        else{\n            $('#info').html(&quot;Sorry, there is some thing wrong with the data provided.&quot;);\n        }\n    },\n    error: function(e){\n        alert('Error: ' + e);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4238388,"reputation":629,"user_id":3468976,"display_name":"user3468976"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634743522,"creation_date":1396480426,"answer_id":22824893,"question_id":4112686,"body_markdown":"Ajax (also AJAX), an acronym for Asynchronous JavaScript and XML, is a group of interrelated web development techniques used on the client-side to create asynchronous web applications. With Ajax, web applications can send data to, and retrieve data from, a server asynchronously.\r\n\r\nBelow is the example code:\r\n\r\nA JSP page JavaScript function to submit data to a servlet with two variables, firstName and lastName:\r\n\r\n    function onChangeSubmitCallWebServiceAJAX()\r\n    {\r\n        createXmlHttpRequest();\r\n        var firstName = document.getElementById(&quot;firstName&quot;).value;\r\n        var lastName = document.getElementById(&quot;lastName&quot;).value;\r\n        xmlHttp.open(&quot;GET&quot;, &quot;/AJAXServletCallSample/AjaxServlet?firstName=&quot;\r\n        + firstName + &quot;&amp;lastName=&quot; + lastName, true)\r\n        xmlHttp.onreadystatechange = handleStateChange;\r\n        xmlHttp.send(null);\r\n    }\r\n\r\nServlet to read data send back to JSP in XML format (you could use text as well. You just need to change the response content to text and render data on JavaScript function.)\r\n\r\n    /**\r\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n     */\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n        String firstName = request.getParameter(&quot;firstName&quot;);\r\n        String lastName = request.getParameter(&quot;lastName&quot;);\r\n\r\n        response.setContentType(&quot;text/xml&quot;);\r\n        response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n        response.getWriter().write(&quot;&lt;details&gt;&quot;);\r\n        response.getWriter().write(&quot;&lt;firstName&gt;&quot; + firstName + &quot;&lt;/firstName&gt;&quot;);\r\n        response.getWriter().write(&quot;&lt;lastName&gt;&quot; + lastName + &quot;&lt;/lastName&gt;&quot;);\r\n        response.getWriter().write(&quot;&lt;/details&gt;&quot;);\r\n    }\r\n\r\n\r\n\r\n","title":"How should I use servlets and Ajax?","body":"<p>Ajax (also AJAX), an acronym for Asynchronous JavaScript and XML, is a group of interrelated web development techniques used on the client-side to create asynchronous web applications. With Ajax, web applications can send data to, and retrieve data from, a server asynchronously.</p>\n<p>Below is the example code:</p>\n<p>A JSP page JavaScript function to submit data to a servlet with two variables, firstName and lastName:</p>\n<pre><code>function onChangeSubmitCallWebServiceAJAX()\n{\n    createXmlHttpRequest();\n    var firstName = document.getElementById(&quot;firstName&quot;).value;\n    var lastName = document.getElementById(&quot;lastName&quot;).value;\n    xmlHttp.open(&quot;GET&quot;, &quot;/AJAXServletCallSample/AjaxServlet?firstName=&quot;\n    + firstName + &quot;&amp;lastName=&quot; + lastName, true)\n    xmlHttp.onreadystatechange = handleStateChange;\n    xmlHttp.send(null);\n}\n</code></pre>\n<p>Servlet to read data send back to JSP in XML format (you could use text as well. You just need to change the response content to text and render data on JavaScript function.)</p>\n<pre><code>/**\n * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n */\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    String firstName = request.getParameter(&quot;firstName&quot;);\n    String lastName = request.getParameter(&quot;lastName&quot;);\n\n    response.setContentType(&quot;text/xml&quot;);\n    response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n    response.getWriter().write(&quot;&lt;details&gt;&quot;);\n    response.getWriter().write(&quot;&lt;firstName&gt;&quot; + firstName + &quot;&lt;/firstName&gt;&quot;);\n    response.getWriter().write(&quot;&lt;lastName&gt;&quot; + lastName + &quot;&lt;/lastName&gt;&quot;);\n    response.getWriter().write(&quot;&lt;/details&gt;&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1655523,"reputation":1298,"user_id":1525188,"accept_rate":33,"display_name":"Thakhani Tharage"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634743612,"creation_date":1406465272,"answer_id":24981121,"question_id":4112686,"body_markdown":"Using [Bootstrap][1] multi select:\r\n\r\n**Ajax**\r\n\r\n    function() { $.ajax({\r\n        type: &quot;get&quot;,\r\n        url: &quot;OperatorController&quot;,\r\n        data: &quot;input=&quot; + $(&#39;#province&#39;).val(),\r\n        success: function(msg) {\r\n        var arrayOfObjects = eval(msg);\r\n        $(&quot;#operators&quot;).multiselect(&#39;dataprovider&#39;,\r\n        arrayOfObjects);\r\n        // $(&#39;#output&#39;).append(obj);\r\n        },\r\n        dataType: &#39;text&#39;\r\n        });}\r\n    }\r\n\r\n**In Servlet**\r\n\r\n    request.getParameter(&quot;input&quot;)\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bootstrap_%28front-end_framework%29\r\n\r\n\r\n","title":"How should I use servlets and Ajax?","body":"<p>Using <a href=\"https://en.wikipedia.org/wiki/Bootstrap_%28front-end_framework%29\" rel=\"nofollow noreferrer\">Bootstrap</a> multi select:</p>\n<p><strong>Ajax</strong></p>\n<pre><code>function() { $.ajax({\n    type: &quot;get&quot;,\n    url: &quot;OperatorController&quot;,\n    data: &quot;input=&quot; + $('#province').val(),\n    success: function(msg) {\n    var arrayOfObjects = eval(msg);\n    $(&quot;#operators&quot;).multiselect('dataprovider',\n    arrayOfObjects);\n    // $('#output').append(obj);\n    },\n    dataType: 'text'\n    });}\n}\n</code></pre>\n<p><strong>In Servlet</strong></p>\n<pre><code>request.getParameter(&quot;input&quot;)\n</code></pre>\n"}],"owner":{"account_id":55445,"reputation":77403,"user_id":166067,"accept_rate":77,"display_name":"Amir Rachum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374118,"favorite_count":0,"down_vote_count":1,"up_vote_count":355,"accepted_answer_id":4113258,"answer_count":7,"score":354,"last_activity_date":1701519550,"creation_date":1289038333,"question_id":4112686,"body_markdown":"Whenever I print something inside the servlet and call it by the webbrowser, it returns a new page containing that text. Is there a way to print the text in the current page using Ajax?\r\n\r\n&lt;sub&gt;I&#39;m very new to web applications and servlets.&lt;/sub&gt;\r\n\r\n\r\n","title":"How should I use servlets and Ajax?","body":"<p>Whenever I print something inside the servlet and call it by the webbrowser, it returns a new page containing that text. Is there a way to print the text in the current page using Ajax?</p>\n<p><sub>I'm very new to web applications and servlets.</sub></p>\n"},{"tags":["java","eclipse","ant"],"comments":[{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":2,"creation_date":1538624989,"post_id":52638550,"comment_id":92210114,"body_markdown":"Possible duplicate of [Unable to find a javac compiler com.sun.tools.javac.Main is not on the classpath error](https://stackoverflow.com/questions/29668849/unable-to-find-a-javac-compiler-com-sun-tools-javac-main-is-not-on-the-classpath)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/29668849/unable-to-find-a-javac-compiler-com-sun-tools-javac-main-is-not-on-the-classpath\">Unable to find a javac compiler com.sun.tools.javac.Main is not on the classpath error</a>"},{"owner":{"account_id":9401136,"reputation":43,"user_id":8313483,"display_name":"jjdoedoe"},"score":0,"creation_date":1538649829,"post_id":52638550,"comment_id":92221527,"body_markdown":"@KevinO not really i tried all the solutions in that thread none worked but ,apparently, tools.jar has been removed from the JDK since  JDK 9 [link ]https://www.reddit.com/r/javahelp/comments/765mwr/installed_jdk_9_and_my_toolsjar_is_missing/ , now the question becomes what is tools.jar replacement ?","body":"@KevinO not really i tried all the solutions in that thread none worked but ,apparently, tools.jar has been removed from the JDK since  JDK 9 [link ]<a href=\"https://www.reddit.com/r/javahelp/comments/765mwr/installed_jdk_9_and_my_toolsjar_is_missing/\" rel=\"nofollow noreferrer\">reddit.com/r/javahelp/comments/765mwr/&hellip;</a> , now the question becomes what is tools.jar replacement ?"}],"answers":[{"comments":[{"owner":{"account_id":9401136,"reputation":43,"user_id":8313483,"display_name":"jjdoedoe"},"score":0,"creation_date":1538686843,"post_id":52645592,"comment_id":92241494,"body_markdown":"you are right, but it wasn&#39;t the ant it was eclipse, i just had to use a version that is compatible with jdk 10, so i  deleted my eclipse and downloaded the latest version of eclipse  photon ,this seem to have  solved the problem,thank you very much for your help","body":"you are right, but it wasn&#39;t the ant it was eclipse, i just had to use a version that is compatible with jdk 10, so i  deleted my eclipse and downloaded the latest version of eclipse  photon ,this seem to have  solved the problem,thank you very much for your help"},{"owner":{"account_id":9401136,"reputation":43,"user_id":8313483,"display_name":"jjdoedoe"},"score":0,"creation_date":1538687247,"post_id":52645592,"comment_id":92241653,"body_markdown":"I have ant version  1.10.5","body":"I have ant version  1.10.5"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1584947334,"post_id":52645592,"comment_id":107586947,"body_markdown":"It would have been the version of Ant that is embedded in your (old) Eclipse install ... which Eclipse uses to do Ant builds.","body":"It would have been the version of Ant that is embedded in your (old) Eclipse install ... which Eclipse uses to do Ant builds."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1597995065,"post_id":52645592,"comment_id":112319091,"body_markdown":"In case it helps anyone: The `java.compiler` module does not contain `javac` itself, but rather _uses_ `javax.tools.JavaCompiler` which the `jdk.compiler` module _provides_.","body":"In case it helps anyone: The <code>java.compiler</code> module does not contain <code>javac</code> itself, but rather <i>uses</i> <code>javax.tools.JavaCompiler</code> which the <code>jdk.compiler</code> module <i>provides</i>."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538652972,"creation_date":1538652591,"answer_id":52645592,"question_id":52638550,"body_markdown":"In Java 9 and later, the components that were previously in `tools.jar` have been turned onto modules.  For the javac compiler, you need to use the `java.compiler` module.   This is not a simple drop-in replacement.\r\n\r\nIf you run into problems with a 3rd-party application (such as Ant) that depends on `tools.jar`, you need to upgrade the application to a newer version that is Java 9+ compatible.   \r\n\r\nAccording to my reading of the [Apache Ant site][1], that means you need Ant 1.10.x.  Check the site&#39;s download page to see what is currently recommended.\r\n\r\n\r\n  [1]: https://ant.apache.org/","title":"what is tools.jar replacement?","body":"<p>In Java 9 and later, the components that were previously in <code>tools.jar</code> have been turned onto modules.  For the javac compiler, you need to use the <code>java.compiler</code> module.   This is not a simple drop-in replacement.</p>\n\n<p>If you run into problems with a 3rd-party application (such as Ant) that depends on <code>tools.jar</code>, you need to upgrade the application to a newer version that is Java 9+ compatible.   </p>\n\n<p>According to my reading of the <a href=\"https://ant.apache.org/\" rel=\"nofollow noreferrer\">Apache Ant site</a>, that means you need Ant 1.10.x.  Check the site's download page to see what is currently recommended.</p>\n"}],"owner":{"account_id":9401136,"reputation":43,"user_id":8313483,"display_name":"jjdoedoe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9043,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701519080,"creation_date":1538623780,"question_id":52638550,"body_markdown":"I have been receiving the following error on Eclipse when O try to build an Ant project \r\n \r\n    com.sun.tools.javac.Main is not on the classpath.\r\n    Perhaps JAVA_HOME does not point to the JDK.\r\n    It is currently set to &quot;C:\\Program Files\\Java\\jre-10.0.2&quot;\r\nbut my JAVA_HOME variable is set to \r\n    C:\\Program Files\\Java\\jdk-10\r\nthis is the result of the command \r\n    echo %JAVA_HOME%\r\ni really tried a lot to solve this problem ,but i don&#39;t know much about eclipse,\r\n\r\nI searched some more on the internet and found out that the tools.jar has been removed from the JDK since JDK 9 [link]https://www.reddit.com/r/javahelp/comments/765mwr/installed_jdk_9_and_my_toolsjar_is_missing/\r\nthe question now is why is Eclipse asking for the tools.jar, and what is tools.jar replacement? \r\n","title":"what is tools.jar replacement?","body":"<p>I have been receiving the following error on Eclipse when O try to build an Ant project</p>\n<pre><code>com.sun.tools.javac.Main is not on the classpath.\nPerhaps JAVA_HOME does not point to the JDK.\nIt is currently set to &quot;C:\\Program Files\\Java\\jre-10.0.2&quot;\n</code></pre>\n<p>but my JAVA_HOME variable is set to\nC:\\Program Files\\Java\\jdk-10\nthis is the result of the command\necho %JAVA_HOME%\ni really tried a lot to solve this problem ,but i don't know much about eclipse,</p>\n<p>I searched some more on the internet and found out that the tools.jar has been removed from the JDK since JDK 9 [link]<a href=\"https://www.reddit.com/r/javahelp/comments/765mwr/installed_jdk_9_and_my_toolsjar_is_missing/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/javahelp/comments/765mwr/installed_jdk_9_and_my_toolsjar_is_missing/</a>\nthe question now is why is Eclipse asking for the tools.jar, and what is tools.jar replacement?</p>\n"},{"tags":["java","xml","xml-parsing","jaxb"],"answers":[{"comments":[{"owner":{"account_id":26154140,"reputation":31,"user_id":19841611,"display_name":"Jardo"},"score":0,"creation_date":1701466905,"post_id":77587491,"comment_id":136783664,"body_markdown":"As useful as this would be I&#39;m more so looking for a Java JAXB-only solution. I highly appreciate the code though, I did try and it works but it would make a lot of spaghetti code in my project to implement.","body":"As useful as this would be I&#39;m more so looking for a Java JAXB-only solution. I highly appreciate the code though, I did try and it works but it would make a lot of spaghetti code in my project to implement."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1701469444,"post_id":77587491,"comment_id":136783962,"body_markdown":"You could run code from Java as a shell command https://stackoverflow.com/questions/55002794/in-javascript-how-to-call-powershell-script  Or you can create a CSV from PS","body":"You could run code from Java as a shell command <a href=\"https://stackoverflow.com/questions/55002794/in-javascript-how-to-call-powershell-script\" title=\"in javascript how to call powershell script\">stackoverflow.com/questions/55002794/&hellip;</a>  Or you can create a CSV from PS"}],"tags":[],"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701456927,"creation_date":1701456927,"answer_id":77587491,"question_id":77587289,"body_markdown":"Try a powershell script\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    using assembly System.Xml.Linq\r\n\r\n    $filename = &quot;c:\\temp\\test.xml&quot;\r\n\r\n    $doc = [System.Xml.Linq.XDocument]::Load($filename)\r\n\r\n    $keyEvents = $doc.Descendants(&quot;KeyEvents&quot;)[0]\r\n    $events = [System.Linq.Enumerable]::Where($keyEvents.Elements(),  [Func[object,bool]]{ param($x) $x[0].Name.LocalName.StartsWith(&#39;event&#39;)})\r\n\r\n    $table = [System.Collections.ArrayList]::new()\r\n    foreach($event in $events)\r\n    {\r\n       $newRow = [pscustomobject]@{\r\n          Name = $event.Name.LocalName\r\n          Distance = $Event.Element(&#39;distance&#39;).Value\r\n       }\r\n       $table.Add($newRow) | Out-Null\r\n    }\r\n    $summary = $keyEvents.Element(&#39;Summary&#39;).Value\r\n    $newRow = [pscustomobject]@{\r\n       Name = &#39;Summary&#39;\r\n       Distance = $summary\r\n    }\r\n    $table.Add($newRow) | Out-Null\r\n\r\n    $table\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\nResults\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    Name    Distance\r\n    ----    --------\r\n    event_1 0.044\r\n    event_2 0.055\r\n    event_3 3.778\r\n    event_4 3.822\r\n    Summary 7.699\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Dynamic XML Element Using JAXB","body":"<p>Try a powershell script</p>\n<pre><code>using assembly System.Xml.Linq\n\n$filename = &quot;c:\\temp\\test.xml&quot;\n\n$doc = [System.Xml.Linq.XDocument]::Load($filename)\n\n$keyEvents = $doc.Descendants(&quot;KeyEvents&quot;)[0]\n$events = [System.Linq.Enumerable]::Where($keyEvents.Elements(),  [Func[object,bool]]{ param($x) $x[0].Name.LocalName.StartsWith('event')})\n\n$table = [System.Collections.ArrayList]::new()\nforeach($event in $events)\n{\n   $newRow = [pscustomobject]@{\n      Name = $event.Name.LocalName\n      Distance = $Event.Element('distance').Value\n   }\n   $table.Add($newRow) | Out-Null\n}\n$summary = $keyEvents.Element('Summary').Value\n$newRow = [pscustomobject]@{\n   Name = 'Summary'\n   Distance = $summary\n}\n$table.Add($newRow) | Out-Null\n\n$table\n</code></pre>\n<p>Results</p>\n<pre><code>Name    Distance\n----    --------\nevent_1 0.044\nevent_2 0.055\nevent_3 3.778\nevent_4 3.822\nSummary 7.699\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701518118,"creation_date":1701518118,"answer_id":77590242,"question_id":77587289,"body_markdown":"For me you&#39;re missing two things :\r\n\r\nThe `test` tag has only one element, which is `KeyEvents`.\r\n\r\nThe `KeyEvents` then have `numEvents`, `summary` and the `event_XXXX` tags.\r\n\r\nTo catch the `event_XXXX` tags, you should try using the `@XmlAnyElement` annotation.\r\n\r\nYou&#39;d have something like this in final model :\r\n\r\n```java\r\n@XmlRootElement(name = &quot;test&quot;)\r\npublic class Test {\r\n   @XmlElement(name = &quot;KeyEvents&quot;)\r\n   private KeyEvents keyEvents;\r\n\r\n   public static class KeyEvents {\r\n        @XmlElement(name = &quot;num_events&quot;)\r\n        private int numEvents;\r\n        @XmlElement(name = &quot;Summary&quot;)\r\n        private Summary summary;\r\n        @XmlAnyElement(lax = true)\r\n        private List&lt;Event&gt; events;\r\n    }\r\n\r\n    public static class Event {\r\n        private double distance;\r\n\r\n        @XmlElement(name = &quot;distance&quot;)\r\n        public double getDistance() {\r\n            return distance;\r\n        }\r\n    }\r\n\r\n    public static class Summary {\r\n        private double totalDistance;\r\n\r\n        @XmlElement(name = &quot;total_distance&quot;)\r\n        public double getTotalDistance() {\r\n            return totalDistance;\r\n        }\r\n    }\r\n}\r\n```","title":"Dynamic XML Element Using JAXB","body":"<p>For me you're missing two things :</p>\n<p>The <code>test</code> tag has only one element, which is <code>KeyEvents</code>.</p>\n<p>The <code>KeyEvents</code> then have <code>numEvents</code>, <code>summary</code> and the <code>event_XXXX</code> tags.</p>\n<p>To catch the <code>event_XXXX</code> tags, you should try using the <code>@XmlAnyElement</code> annotation.</p>\n<p>You'd have something like this in final model :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;test&quot;)\npublic class Test {\n   @XmlElement(name = &quot;KeyEvents&quot;)\n   private KeyEvents keyEvents;\n\n   public static class KeyEvents {\n        @XmlElement(name = &quot;num_events&quot;)\n        private int numEvents;\n        @XmlElement(name = &quot;Summary&quot;)\n        private Summary summary;\n        @XmlAnyElement(lax = true)\n        private List&lt;Event&gt; events;\n    }\n\n    public static class Event {\n        private double distance;\n\n        @XmlElement(name = &quot;distance&quot;)\n        public double getDistance() {\n            return distance;\n        }\n    }\n\n    public static class Summary {\n        private double totalDistance;\n\n        @XmlElement(name = &quot;total_distance&quot;)\n        public double getTotalDistance() {\n            return totalDistance;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26154140,"reputation":31,"user_id":19841611,"display_name":"Jardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701518118,"creation_date":1701454510,"question_id":77587289,"body_markdown":"So lets get an example going lets say you have this XML.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;test&gt;\r\n    &lt;KeyEvents&gt;\r\n        &lt;num_events&gt;4&lt;/num_events&gt;\r\n        &lt;event_1&gt;\r\n            &lt;distance&gt;0.044&lt;/distance&gt;\r\n        &lt;/event_1&gt;\r\n        &lt;event_2&gt;\r\n            &lt;distance&gt;0.055&lt;/distance&gt;\r\n        &lt;/event_2&gt;\r\n        &lt;event_3&gt;\r\n            &lt;distance&gt;3.778&lt;/distance&gt;\r\n        &lt;/event_3&gt;\r\n        &lt;event_4&gt;\r\n            &lt;distance&gt;3.822&lt;/distance&gt;\r\n        &lt;/event_4&gt;\r\n        &lt;Summary&gt;\r\n            &lt;total_distance&gt;7.699&lt;/total_distance&gt;\r\n        &lt;/Summary&gt;\r\n    &lt;/KeyEvents&gt;\r\n&lt;/test&gt;\r\n``` \r\n\r\nThe issue is each XML file will be different and have a different number of event_[x]. So in essence there could be 4, 300 or even none. \r\n\r\nSo here would be the model.\r\n```\r\n@XmlRootElement(name = &quot;test&quot;)\r\npublic class test {\r\n\r\n    private int numEvents;\r\n    private Event event;\r\n    private Summary summary;\r\n\r\n    public static class Event {\r\n        private double distance;\r\n\r\n        @XmlElement(name = &quot;distance&quot;)\r\n        public double getDistance() {\r\n            return distance;\r\n        }\r\n    }\r\n\r\n    public static class Summary {\r\n        private double totalDistance;\r\n\r\n        @XmlElement(name = &quot;total_distance&quot;)\r\n        public double getTotalDistance() {\r\n            return totalDistance;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe end goal is to iterate over all the &quot;events&quot; and get each distance from each event and just print them to console (there will always be one Summary).  \r\n\r\nI&#39;ve tried storing events as a map. Example:\r\n```\r\nprivate Map&lt;String, Event&gt; events;\r\n```\r\n\r\nBut I can&#39;t seem to unpack and iterate over all the events. Any help? Appreciate the time.","title":"Dynamic XML Element Using JAXB","body":"<p>So lets get an example going lets say you have this XML.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;test&gt;\n    &lt;KeyEvents&gt;\n        &lt;num_events&gt;4&lt;/num_events&gt;\n        &lt;event_1&gt;\n            &lt;distance&gt;0.044&lt;/distance&gt;\n        &lt;/event_1&gt;\n        &lt;event_2&gt;\n            &lt;distance&gt;0.055&lt;/distance&gt;\n        &lt;/event_2&gt;\n        &lt;event_3&gt;\n            &lt;distance&gt;3.778&lt;/distance&gt;\n        &lt;/event_3&gt;\n        &lt;event_4&gt;\n            &lt;distance&gt;3.822&lt;/distance&gt;\n        &lt;/event_4&gt;\n        &lt;Summary&gt;\n            &lt;total_distance&gt;7.699&lt;/total_distance&gt;\n        &lt;/Summary&gt;\n    &lt;/KeyEvents&gt;\n&lt;/test&gt;\n</code></pre>\n<p>The issue is each XML file will be different and have a different number of event_[x]. So in essence there could be 4, 300 or even none.</p>\n<p>So here would be the model.</p>\n<pre><code>@XmlRootElement(name = &quot;test&quot;)\npublic class test {\n\n    private int numEvents;\n    private Event event;\n    private Summary summary;\n\n    public static class Event {\n        private double distance;\n\n        @XmlElement(name = &quot;distance&quot;)\n        public double getDistance() {\n            return distance;\n        }\n    }\n\n    public static class Summary {\n        private double totalDistance;\n\n        @XmlElement(name = &quot;total_distance&quot;)\n        public double getTotalDistance() {\n            return totalDistance;\n        }\n    }\n}\n</code></pre>\n<p>The end goal is to iterate over all the &quot;events&quot; and get each distance from each event and just print them to console (there will always be one Summary).</p>\n<p>I've tried storing events as a map. Example:</p>\n<pre><code>private Map&lt;String, Event&gt; events;\n</code></pre>\n<p>But I can't seem to unpack and iterate over all the events. Any help? Appreciate the time.</p>\n"},{"tags":["java","time","java-time","jsr310"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1701467908,"post_id":77587361,"comment_id":136783780,"body_markdown":"@Sweeper I used the same code as above, but with `Period.between()` (and type conversion) at the end and it returned 1 month. But well, `Period` works on full dates, so I guess it is not comparable - I removed it from the question. And yes, I know `between()` is something a little different and it is not entirely subtraction, but still... it feels strange to me that e.g. `d1 + 1 &lt; d2`, `d1 &lt; d2 - 1`, but distance between them is `&lt;1`. It feels strange if we ask: &quot;How many months between d1 and d2?&quot;. &quot;5&quot;. &quot;Then let&#39;s add 6 months to d1&quot; and as a result we get a date which is older than d2...","body":"@Sweeper I used the same code as above, but with <code>Period.between()</code> (and type conversion) at the end and it returned 1 month. But well, <code>Period</code> works on full dates, so I guess it is not comparable - I removed it from the question. And yes, I know <code>between()</code> is something a little different and it is not entirely subtraction, but still... it feels strange to me that e.g. <code>d1 + 1 &lt; d2</code>, <code>d1 &lt; d2 - 1</code>, but distance between them is <code>&lt;1</code>. It feels strange if we ask: &quot;How many months between d1 and d2?&quot;. &quot;5&quot;. &quot;Then let&#39;s add 6 months to d1&quot; and as a result we get a date which is older than d2..."}],"answers":[{"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1701474403,"post_id":77588484,"comment_id":136784429,"body_markdown":"Yes, I understand what is going on and how it is calculated. &quot;if a date such as 2023-02-31T10:00:00Z existed. If not, it counts the difference as 1 for the **next day**&quot;. And this is exactly what I mean. If the date doesn&#39;t exists, `addTo()` takes the nearest **previous day**, while `between()` takes the **next day**. This is the inconsistency I mean.","body":"Yes, I understand what is going on and how it is calculated. &quot;if a date such as 2023-02-31T10:00:00Z existed. If not, it counts the difference as 1 for the <b>next day</b>&quot;. And this is exactly what I mean. If the date doesn&#39;t exists, <code>addTo()</code> takes the nearest <b>previous day</b>, while <code>between()</code> takes the <b>next day</b>. This is the inconsistency I mean."}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701471531,"creation_date":1701471531,"answer_id":77588484,"question_id":77587361,"body_markdown":"It&#39;s not a bug. It is [documented](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-) as follows:\r\n\r\n&gt; The calculation returns a whole number, representing the number of\r\n&gt; complete units between the two temporals. For example, the amount in\r\n&gt; hours between the times 11:30 and 13:29 will only be one hour as it is\r\n&gt; one minute short of two hours.\r\n\r\nIn the following code, d2 becomes *2023-02-28T10:00Z* but when it calculates the difference as per the above documentation, it would have counted the difference as 1 if a date such as *2023-02-31T10:00:00Z* existed. If not, it counts the difference as 1 for the next day which is ***2023-03-01T10:00:00Z***.\r\n\r\n    var d1 = OffsetDateTime.parse(&quot;2023-01-31T10:00:00Z&quot;);\r\n    var d2 = ChronoUnit.MONTHS.addTo(d1, 1);\r\n    System.out.println(ChronoUnit.MONTHS.between(d1, d2)); // 0\r\n\r\nWhen you add 23 hours in the next statement, it becomes *2023-03-01T09:00Z* which is one hour less than ***2023-03-01T10:00:00Z***; therefore it does not reach the point to count the difference as 1 month.\r\n\r\n    d2 = ChronoUnit.HOURS.addTo(d2, 23); // 2023-03-01T09:00Z\r\n\r\nHad you added 24 hours, it would have become ***2023-03-01T10:00:00Z*** and given you the difference as 1.\r\n\r\n**This behaviour is consistent across all the time units.**","title":"ChronoUnit.MONTHS: inconsistency between addTo() and between()","body":"<p>It's not a bug. It is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\">documented</a> as follows:</p>\n<blockquote>\n<p>The calculation returns a whole number, representing the number of\ncomplete units between the two temporals. For example, the amount in\nhours between the times 11:30 and 13:29 will only be one hour as it is\none minute short of two hours.</p>\n</blockquote>\n<p>In the following code, d2 becomes <em>2023-02-28T10:00Z</em> but when it calculates the difference as per the above documentation, it would have counted the difference as 1 if a date such as <em>2023-02-31T10:00:00Z</em> existed. If not, it counts the difference as 1 for the next day which is <em><strong>2023-03-01T10:00:00Z</strong></em>.</p>\n<pre><code>var d1 = OffsetDateTime.parse(&quot;2023-01-31T10:00:00Z&quot;);\nvar d2 = ChronoUnit.MONTHS.addTo(d1, 1);\nSystem.out.println(ChronoUnit.MONTHS.between(d1, d2)); // 0\n</code></pre>\n<p>When you add 23 hours in the next statement, it becomes <em>2023-03-01T09:00Z</em> which is one hour less than <em><strong>2023-03-01T10:00:00Z</strong></em>; therefore it does not reach the point to count the difference as 1 month.</p>\n<pre><code>d2 = ChronoUnit.HOURS.addTo(d2, 23); // 2023-03-01T09:00Z\n</code></pre>\n<p>Had you added 24 hours, it would have become <em><strong>2023-03-01T10:00:00Z</strong></em> and given you the difference as 1.</p>\n<p><strong>This behaviour is consistent across all the time units.</strong></p>\n"}],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701517970,"creation_date":1701455367,"question_id":77587361,"body_markdown":"In some cases, `ChronoUnit.MONTHS` perform math on dates inconsistently depending if we add or subtract. Corner case is when we e.g. add 1 month to a date `2023-01-31`. I understand there is no single, correct answer if the result should be `2023-02-28` or `2023-03-01`. However, I would expect the same API to at least use the same assumptions, which is not the case here:\r\n\r\n```java\r\nvar d1 = OffsetDateTime.parse(&quot;2023-01-31T10:00:00Z&quot;);\r\n\r\n// add 1 month\r\nvar d2 = ChronoUnit.MONTHS.addTo(d1, 1);\r\n// add 23 hours\r\nd2 = ChronoUnit.HOURS.addTo(d2, 23);\r\n\r\n// subtract\r\nSystem.out.println(ChronoUnit.MONTHS.between(d1, d2)); // 0\r\n```\r\nApparently, `addTo()` assumes 1 month from `2023-01-31 10:00` is `2023-02-28 10:00`, however, `between()` assumes one full month ends at `2023-03-01 10:00`.\r\n\r\nIs this a bug? Do I miss or misunderstand something?\r\n\r\nBTW, `d1.plusMonths(1)` works in the same way as `addTo()` and this behavior is even clearly documented. `between()` seems to be inconsistent with other operations.\r\n\r\nEDIT:\r\n\r\nI understand the date math is tricky, it isn&#39;t exactly &quot;math&quot;, calendar dates don&#39;t flow linearly and we can&#39;t treat them as adding/subtracting just numbers. But still, I find some examples extremely counter-intuitive:\r\n\r\n- Between `2023-01-31 11:00` and `2023-03-01 10:00` there are `0` full months, while there is literally a full calendar month between these dates.\r\n- There are `5` months between `2023-05-31 11:00` and `2023-12-01 10:00`, but if we add `6` months to the first date, we get... `2023-11-30 11:00`, so older date than the one that is `5` months away.","title":"ChronoUnit.MONTHS: inconsistency between addTo() and between()","body":"<p>In some cases, <code>ChronoUnit.MONTHS</code> perform math on dates inconsistently depending if we add or subtract. Corner case is when we e.g. add 1 month to a date <code>2023-01-31</code>. I understand there is no single, correct answer if the result should be <code>2023-02-28</code> or <code>2023-03-01</code>. However, I would expect the same API to at least use the same assumptions, which is not the case here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var d1 = OffsetDateTime.parse(&quot;2023-01-31T10:00:00Z&quot;);\n\n// add 1 month\nvar d2 = ChronoUnit.MONTHS.addTo(d1, 1);\n// add 23 hours\nd2 = ChronoUnit.HOURS.addTo(d2, 23);\n\n// subtract\nSystem.out.println(ChronoUnit.MONTHS.between(d1, d2)); // 0\n</code></pre>\n<p>Apparently, <code>addTo()</code> assumes 1 month from <code>2023-01-31 10:00</code> is <code>2023-02-28 10:00</code>, however, <code>between()</code> assumes one full month ends at <code>2023-03-01 10:00</code>.</p>\n<p>Is this a bug? Do I miss or misunderstand something?</p>\n<p>BTW, <code>d1.plusMonths(1)</code> works in the same way as <code>addTo()</code> and this behavior is even clearly documented. <code>between()</code> seems to be inconsistent with other operations.</p>\n<p>EDIT:</p>\n<p>I understand the date math is tricky, it isn't exactly &quot;math&quot;, calendar dates don't flow linearly and we can't treat them as adding/subtracting just numbers. But still, I find some examples extremely counter-intuitive:</p>\n<ul>\n<li>Between <code>2023-01-31 11:00</code> and <code>2023-03-01 10:00</code> there are <code>0</code> full months, while there is literally a full calendar month between these dates.</li>\n<li>There are <code>5</code> months between <code>2023-05-31 11:00</code> and <code>2023-12-01 10:00</code>, but if we add <code>6</code> months to the first date, we get... <code>2023-11-30 11:00</code>, so older date than the one that is <code>5</code> months away.</li>\n</ul>\n"},{"tags":["java","android","gradle","javadoc"],"answers":[{"tags":[],"owner":{"account_id":193393,"reputation":37045,"user_id":435093,"accept_rate":83,"display_name":"slhck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701517831,"creation_date":1701512784,"answer_id":77589965,"question_id":77589964,"body_markdown":"The solution seems to be to remove these lines:\r\n\r\n```\r\nclasspath += android.sourceSets.main.compileClasspath + android.sourceSets.main.output\r\nclasspath += project.files(android.getBootClasspath().join(File.pathSeparator))\r\n```\r\n\r\nAnd instead add this:\r\n\r\n```\r\nclasspath += files(&quot;${android.sdkDirectory}/platforms/${android.compileSdkVersion}/android.jar&quot;)\r\n```\r\n\r\nThis seems to fix the issue with JDK 17.\r\n\r\nHat tip to https://github.com/emanuele-f for providing this solution.","title":"Can&#39;t build javadoc anymore after upgrading from JDK 1.6, &quot;path may not be null or empty string&quot;","body":"<p>The solution seems to be to remove these lines:</p>\n<pre><code>classpath += android.sourceSets.main.compileClasspath + android.sourceSets.main.output\nclasspath += project.files(android.getBootClasspath().join(File.pathSeparator))\n</code></pre>\n<p>And instead add this:</p>\n<pre><code>classpath += files(&quot;${android.sdkDirectory}/platforms/${android.compileSdkVersion}/android.jar&quot;)\n</code></pre>\n<p>This seems to fix the issue with JDK 17.</p>\n<p>Hat tip to <a href=\"https://github.com/emanuele-f\" rel=\"nofollow noreferrer\">https://github.com/emanuele-f</a> for providing this solution.</p>\n"}],"owner":{"account_id":193393,"reputation":37045,"user_id":435093,"accept_rate":83,"display_name":"slhck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701517831,"creation_date":1701512784,"question_id":77589964,"body_markdown":"I used to use the following Gradle task in `build.gradle` to build Javadocs for my Android app:\r\n\r\n```\r\ntask javadoc(type: Javadoc) {\r\n    title = &quot;My Docs v${android.defaultConfig.versionName}&quot;\r\n    failOnError false\r\n    options.memberLevel = JavadocMemberLevel.PUBLIC\r\n    source = android.sourceSets.main.java.srcDirs\r\n    destinationDir = file(&quot;${project.rootDir}/docs/&quot;)\r\n    classpath += android.sourceSets.main.compileClasspath + android.sourceSets.main.output\r\n    // classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\r\n\r\n    // packages to exclude from the docs\r\n    exclude &quot;com/example/README*&quot;\r\n\r\n    // workaround for https://github.com/gradle/gradle/issues/19726 when using &quot;exclude&quot;/&quot;include&quot;\r\n    options.addStringOption(&quot;-source-path&quot;, android.sourceSets.main.java.srcDirs.join(&quot;:&quot;))\r\n}\r\n```\r\n\r\nHowever, this no longer works after upgrading from Gradle 7 and JDK 1.6 to Gradle 8 and JDK 17. I get this error:\r\n\r\n```\r\nExecution failed for task &#39;:example:javadoc&#39;.\r\n&gt; path may not be null or empty string. path=&#39;&#39;\r\n```\r\n\r\nWhen I uncomment the line with the `android.getBootClasspath()`, I get other errors like:\r\n\r\n```\r\n…/Example.java:21: error: package android.util does not exist\r\nimport android.util.Log;\r\n```\r\n\r\nLooking at related questions these all don&#39;t apply, or the fixes there do not work:\r\n\r\n- https://stackoverflow.com/questions/52075340/cause-path-may-not-be-null-or-empty-string-path\r\n- https://stackoverflow.com/questions/54457245/a-problem-occurred-evaluating-project-app-path-may-not-be-null-or-empty-st\r\n- https://stackoverflow.com/questions/58971861/cannot-build-my-android-studio-project-on-another-pc-gradle-says-cause-path-m\r\n- https://stackoverflow.com/questions/54335308/error-path-may-not-be-null-or-empty-string-path-null\r\n- https://stackoverflow.com/questions/45387761/android-proguard-issue-path-may-not-be-null-or-empty-string-path-null\r\n- https://github.com/expo/expo/issues/22584\r\n\r\nWhat can I do?","title":"Can&#39;t build javadoc anymore after upgrading from JDK 1.6, &quot;path may not be null or empty string&quot;","body":"<p>I used to use the following Gradle task in <code>build.gradle</code> to build Javadocs for my Android app:</p>\n<pre><code>task javadoc(type: Javadoc) {\n    title = &quot;My Docs v${android.defaultConfig.versionName}&quot;\n    failOnError false\n    options.memberLevel = JavadocMemberLevel.PUBLIC\n    source = android.sourceSets.main.java.srcDirs\n    destinationDir = file(&quot;${project.rootDir}/docs/&quot;)\n    classpath += android.sourceSets.main.compileClasspath + android.sourceSets.main.output\n    // classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n\n    // packages to exclude from the docs\n    exclude &quot;com/example/README*&quot;\n\n    // workaround for https://github.com/gradle/gradle/issues/19726 when using &quot;exclude&quot;/&quot;include&quot;\n    options.addStringOption(&quot;-source-path&quot;, android.sourceSets.main.java.srcDirs.join(&quot;:&quot;))\n}\n</code></pre>\n<p>However, this no longer works after upgrading from Gradle 7 and JDK 1.6 to Gradle 8 and JDK 17. I get this error:</p>\n<pre><code>Execution failed for task ':example:javadoc'.\n&gt; path may not be null or empty string. path=''\n</code></pre>\n<p>When I uncomment the line with the <code>android.getBootClasspath()</code>, I get other errors like:</p>\n<pre><code>…/Example.java:21: error: package android.util does not exist\nimport android.util.Log;\n</code></pre>\n<p>Looking at related questions these all don't apply, or the fixes there do not work:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52075340/cause-path-may-not-be-null-or-empty-string-path\">Cause: path may not be null or empty string. path=&#39;&#39;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54457245/a-problem-occurred-evaluating-project-app-path-may-not-be-null-or-empty-st\">A problem occurred evaluating project &#39;:app&#39;. &gt; path may not be null or empty string. path=&#39;null&#39;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58971861/cannot-build-my-android-studio-project-on-another-pc-gradle-says-cause-path-m\">Cannot build my android studio project on another PC, gradle says &quot;Cause: path may not be null or empty string. path=&#39;null&#39;&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54335308/error-path-may-not-be-null-or-empty-string-path-null\">ERROR: path may not be null or empty string. path=&#39;null&#39;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45387761/android-proguard-issue-path-may-not-be-null-or-empty-string-path-null\">Android proguard issue: path may not be null or empty string. path=&#39;null&#39;</a></li>\n<li><a href=\"https://github.com/expo/expo/issues/22584\" rel=\"nofollow noreferrer\">https://github.com/expo/expo/issues/22584</a></li>\n</ul>\n<p>What can I do?</p>\n"},{"tags":["java","spring","spring-boot","sts"],"answers":[{"tags":[],"owner":{"account_id":5777193,"reputation":359,"user_id":4558946,"accept_rate":29,"display_name":"Prashant Thorat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701517822,"creation_date":1701517822,"answer_id":77590223,"question_id":77590207,"body_markdown":"When I used clean option in STS, now it started working. ","title":"Spring Boot Startup error : java.io.FileNotFoundException: class path resource [] cannot be opened because it does not exist","body":"<p>When I used clean option in STS, now it started working.</p>\n"}],"owner":{"account_id":5777193,"reputation":359,"user_id":4558946,"accept_rate":29,"display_name":"Prashant Thorat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701517822,"creation_date":1701517454,"question_id":77590207,"body_markdown":"I&#39;m trying to run spring boot application 3.x.x, in one of the configuration I&#39;ve used @PropertySource annotation to load property values  but during application start up it fails giving the below error message:\r\n\r\n&gt; Caused by: java.io.FileNotFoundException: class path resource\r\n&gt; [application-lib.properties] cannot be opened because it does not\r\n&gt; exist \tat\r\n&gt; org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)\r\n&gt; ~[spring-core-6.0.8.jar:6.0.8] \tat\r\n&gt; org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:160)\r\n&gt; ~[spring-core-6.0.8.jar:6.0.8] \tat\r\n&gt; org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:100)\r\n&gt; ~[spring-core-6.0.8.jar:6.0.8] \tat\r\n&gt; org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:74)\r\n&gt; ~[spring-core-6.0.8.jar:6.0.8] \tat\r\n&gt; org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:60)\r\n&gt; ~[spring-core-6.0.8.jar:6.0.8] \tat\r\n&gt; org.springframework.core.io.support.ResourcePropertySource.&lt;init&gt;(ResourcePropertySource.java:67)\r\n&gt; ~[spring-core-6.0.8.jar:6.0.8] \tat\r\n&gt; org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37)\r\n&gt; ~[spring-core-6.0.8.jar:6.0.8] \tat\r\n&gt; org.springframework.core.io.support.PropertySourceProcessor.processPropertySource(PropertySourceProcessor.java:87)\r\n&gt; ~[spring-core-6.0.8.jar:6.0.8]\r\n\r\nWhen I generate final jar and run from command line there is no issue but while trying from STS, it gives this error. Although this file is present in one of the depedency module located in src/main/resources directory. I have implemented the code below way.\r\n\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application-lib.properties&quot;)\r\n    @EnableEncryptableProperties\r\n    public class AppConfig {\r\n\r\nVersions:&lt;br&gt;\r\nSpring Boot: 3.0.6&lt;br&gt;\r\nJava: 17&lt;br&gt;\r\nSTS: 4.x&lt;br&gt;\r\n\r\n","title":"Spring Boot Startup error : java.io.FileNotFoundException: class path resource [] cannot be opened because it does not exist","body":"<p>I'm trying to run spring boot application 3.x.x, in one of the configuration I've used @PropertySource annotation to load property values  but during application start up it fails giving the below error message:</p>\n<blockquote>\n<p>Caused by: java.io.FileNotFoundException: class path resource\n[application-lib.properties] cannot be opened because it does not\nexist     at\norg.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)\n~[spring-core-6.0.8.jar:6.0.8]    at\norg.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:160)\n~[spring-core-6.0.8.jar:6.0.8]    at\norg.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:100)\n~[spring-core-6.0.8.jar:6.0.8]    at\norg.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:74)\n~[spring-core-6.0.8.jar:6.0.8]    at\norg.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:60)\n~[spring-core-6.0.8.jar:6.0.8]    at\norg.springframework.core.io.support.ResourcePropertySource.(ResourcePropertySource.java:67)\n~[spring-core-6.0.8.jar:6.0.8]    at\norg.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37)\n~[spring-core-6.0.8.jar:6.0.8]    at\norg.springframework.core.io.support.PropertySourceProcessor.processPropertySource(PropertySourceProcessor.java:87)\n~[spring-core-6.0.8.jar:6.0.8]</p>\n</blockquote>\n<p>When I generate final jar and run from command line there is no issue but while trying from STS, it gives this error. Although this file is present in one of the depedency module located in src/main/resources directory. I have implemented the code below way.</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application-lib.properties&quot;)\n@EnableEncryptableProperties\npublic class AppConfig {\n</code></pre>\n<p>Versions:<br>\nSpring Boot: 3.0.6<br>\nJava: 17<br>\nSTS: 4.x<br></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9895,"page":22,"page_size":100}
